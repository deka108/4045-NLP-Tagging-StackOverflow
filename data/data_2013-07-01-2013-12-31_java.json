{"has_more": true, "items": [{"body": "<p>I was exploring the Java 8 source and found this particular part of code very surprising:</p>\n\n<pre><code>//defined in IntPipeline.java\n@Override\npublic final OptionalInt reduce(IntBinaryOperator op) {\n    return evaluate(ReduceOps.makeInt(op));\n}\n\n@Override\npublic final OptionalInt max() {\n    return reduce(Math::max); //this is the gotcha line\n}\n\n//defined in Math.java\npublic static int max(int a, int b) {\n    return (a &gt;= b) ? a : b;\n}\n</code></pre>\n\n<p>Is <code>Math::max</code> something like a method pointer? How does a normal <code>static</code> method get converted to <code>IntBinaryOperator</code>?</p>\n", "tags": ["java", "java-8"], "title": ":: (double colon) operator in Java 8", "answers": [{"body": "<p>Yes, that true. The <code>::</code> operator it is used for method referencing. So, one can extract <strong>static</strong> methods from classes by using it or methods from objects. The same operator can be used even for constructors. All cases mentioned here are exemplified in the code sample bellow.</p>\n\n<p>The official documentation from Oracle can be found <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\">here</a>.</p>\n\n<p>You can have a better overview of the JDK 8 changes in <a href=\"http://www.javaadvent.com/2012/12/java-far-sight-look-at-jdk-8.html\">this</a> article. In the <strong>Method/Constructor referencing</strong> section a code example is also provided:</p>\n\n<pre><code>interface ConstructorReference {\n    T constructor();\n}\n\ninterface  MethodReference {\n   void anotherMethod(String input);\n}\n\npublic class ConstructorClass {\n    String value;\n\n   public ConstructorClass() {\n       value = \"default\";\n   }\n\n   public static void method(String input) {\n      System.out.println(input);\n   }\n\n   public void nextMethod(String input) {\n   // operations\n   }\n\n   public static void main(String... args) {\n   // constructor reference\n       ConstructorReference reference = ConstructorClass::new;\n       ConstructorClass cc = reference.constructor();\n\n       // static method reference\n       MethodReference mr = cc::method;\n\n       // object method reference\n       MethodReference mr2 = cc::nextMethod;\n\n       System.out.println(cc.value);\n       }\n}\n</code></pre>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/20001548#20001548", "question_id": 20001427, "answer_id": 20001548}, {"body": "<p>This is a method reference in Java 8.  The oracle documentation is <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\">here</a>.</p>\n\n<p>As stated in the documentation...</p>\n\n<blockquote>\n  <p>The method reference Person::compareByAge is a reference to a static\n  method.</p>\n  \n  <p>The following is an example of a reference to an instance method of a\n  particular object:</p>\n</blockquote>\n\n<pre><code>class ComparisonProvider {\n    public int compareByName(Person a, Person b) {\n        return a.getName().compareTo(b.getName());\n    }\n\n    public int compareByAge(Person a, Person b) {\n        return a.getBirthday().compareTo(b.getBirthday());\n    }\n}\n\nComparisonProvider myComparisonProvider = new ComparisonProvider();\nArrays.sort(rosterAsArray, myComparisonProvider::compareByName); \n</code></pre>\n\n<blockquote>\n  <p>The method reference myComparisonProvider::compareByName invokes the method compareByName\n  that is part of the object myComparisonProvider. The JRE infers the\n  method type arguments, which in this case are (Person, Person).</p>\n</blockquote>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/20001565#20001565", "question_id": 20001427, "answer_id": 20001565}, {"body": "<p>Usually, one would call the <code>reduce</code> method using <code>Math.max(int, int)</code> as follows:</p>\n\n<pre><code>reduce(new IntBinaryOperator() {\n    int applyAsInt(int left, int right) {\n        return Math.max(left, right);\n    }\n});\n</code></pre>\n\n<p>That requires a lot of syntax for just calling <code>Math.max</code>. That's where lambda expressions come into play. Since Java 8 it is allowed to do the same thing in a much shorter way:</p>\n\n<pre><code>reduce( (int left, int right) -&gt; Math.max(left, right) );\n</code></pre>\n\n<p>How does this work? The java compiler \"detects\", that you want to implement a method that accepts two <code>int</code>s and returns one <code>int</code>. This is equivalent to the formal parameters of the one and only method of interface <code>IntBinaryOperator</code> (the parameter of method <code>reduce</code> you want to call). So the compiler does the rest for you - it just assumes you want to implement <code>IntBinaryOperator</code>.</p>\n\n<p>But as <code>Math.max(int, int)</code> itself fulfills the formal requirements of <code>IntBinaryOperator</code>, it can be used directly. Because Java 7 does not have any syntax that allows a method itself to be passed as an argument (you can only pass method results, but never method references), the <code>::</code> syntax was introduced in Java 8 to reference methods:</p>\n\n<pre><code>reduce(Math::max);\n</code></pre>\n\n<p>Note that this will be interpreted by the compiler, not by the JVM at runtime! Although it produces different bytecodes for all three code snippets, they are semantically equal, so the last two can be considered to be short (and probably more efficient) versions of the <code>IntBinaryOperator</code> implementation above!</p>\n\n<p>(See also <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html\">Translation of Lambda Expressions</a>)</p>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/20001866#20001866", "question_id": 20001427, "answer_id": 20001866}, {"body": "<p><code>::</code> is called Method Reference. It is basically a reference to a single method. i.e. it refers to an existing method by name.  </p>\n\n<p><strong>Short Explanation</strong>:\nBelow is an example of a reference to a static method:</p>\n\n<pre><code>class Hey{\n     public static double square(double num){\n        return Math.pow(num , 2);\n    }\n}\n\nFunction&lt;Double, Double&gt; square = Hey::square;\ndouble ans = square.apply(23d);\n</code></pre>\n\n<p><code>square</code> can be passed around just like object reference's and trigger when at need. In fact, it can be perfectly used as a reference to a normal method of an object and not just <code>static</code> ones. </p>\n\n<pre><code> class Hey{\n     public double square(double num){\n        return Math.pow(num , 2);\n    }\n}\n\nHey hey = new Hey();\nFunction&lt;Double, Double&gt; square = hey::square;\ndouble ans = square.apply(23d);\n</code></pre>\n\n<p><code>Function</code> above is a <strong>functional interface</strong>. Well to fully explain <code>::</code>, it is important to understand Functional Interface. Plainly, <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/lang/FunctionalInterface.html\">Function interface</a> is an interface with just one abstract method. </p>\n\n<p>For example: <code>Runnable</code>, <code>Callable</code>, <code>ActionListener</code> and so. </p>\n\n<p><code>Function</code> above is a functional interface with just one method <code>apply</code>. It takes one argument and produces a result. </p>\n\n<hr>\n\n<p>The reason why <code>::</code> are awesome is because:</p>\n\n<blockquote>\n  <p>Method references are expressions which have the same treatment as\n  lambda's, but instead of providing a lambda body, they refer an existing method by name</p>\n</blockquote>\n\n<p>i.e. Just like writing lambda body:</p>\n\n<pre><code>Function&lt;Double, Double&gt; square = (Double x) -&gt; x * x;\n</code></pre>\n\n<p>You can simply do:</p>\n\n<pre><code>Function&lt;Double, Double&gt; square = Hey::square;\n</code></pre>\n\n<p>At runtime they behave exactly the same. The bytecode may/not be the same (For above case, it generates the same bytecode (compile above and check <code>javap -c</code>))</p>\n\n<p>The only major criteria to satisfy is: the method you provide should have a similar signature to method of the FunctionalInterface you use as object reference. Below is illegal </p>\n\n<pre><code>Supplier&lt;Boolean&gt; p = Hey::square; //illegal\n</code></pre>\n\n<p><code>square</code> expects an argument and returns a double. <code>get</code> method in <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/util/function/Supplier.html\">Supplier</a> expects an argument but doesn't return anything. So it is an error. </p>\n\n<p><strong>Method Reference refers to a method of the functional interface</strong> (As mentioned, functional interface can only have one method). </p>\n\n<p>Some more examples: <code>accept</code> method in <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/util/function/Consumer.html\">Consumer</a> takes an input but doesnt return anything.</p>\n\n<pre><code>Consumer&lt;Integer&gt; b1 = System::exit;   // void exit(int status)\nConsumer&lt;String[]&gt; b2 = Arrays::sort;  // void sort(Object[] a)\nConsumer&lt;String&gt; b3 = MyProgram::main; // void main(String... args)\n\nclass Hey{\n    public double getRandom(){\n        return Math.random();\n    }\n}\n\nCallable&lt;Double&gt; call = hey::getRandom;\nSupplier&lt;Double&gt; call2 = hey::getRandom;\nDoubleSupplier sup = hey::getRandom;\n//Supplier is functional interface that takes no argument and gives a result\n</code></pre>\n\n<p>Above <code>getRandom</code> takes no argument and returns a double. So any functional interface that satisfies the criteria of: <code>take no argument and return double</code> can be used. </p>\n\n<p>Another example:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;();\nset.addAll(Arrays.asList(\"leo\",\"bale\",\"hanks\"));\nPredicate&lt;String&gt; pred = set::contains;\nboolean exists = pred.test(\"leo\");\n</code></pre>\n\n<p><strong>In case of Parametrized Types</strong>:</p>\n\n<pre><code>class Param&lt;T&gt;{\n    T elem;\n    public T get(){\n        return elem;\n    }\n\n    public void set(T elem){\n        this.elem = elem;\n    }\n    public static &lt;E&gt; E returnSame(E elem){\n        return elem;\n    }\n}\n\nSupplier&lt;Param&lt;Integer&gt;&gt; obj = Param&lt;Integer&gt;::new;\nParam&lt;Integer&gt; param = obj.get();\nConsumer&lt;Integer&gt; c = param::set;\nSupplier&lt;Integer&gt; s = param::get;\n\n    Function&lt;String, String&gt; func = Param::&lt;String&gt;returnSame;\n</code></pre>\n\n<p>Method Reference can be obtained in different styles, but fundamentally they all mean the same and can simply be visualized as a lambda:</p>\n\n<ol>\n<li>A static method (<code>ClassName::methName</code>)</li>\n<li>An instance method of a particular object (<code>instanceRef::methName</code>)</li>\n<li>A super method of a particular object (<code>super::methName</code>)</li>\n<li>An instance method of an arbitrary object of a particular type (<code>ClassName::methName</code>)</li>\n<li>A class constructor reference (<code>ClassName::new</code>)</li>\n<li>An array constructor reference (<code>TypeName[]::new</code>)</li>\n</ol>\n\n<p>For further reference: <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-final.html\">http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-final.html</a></p>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/22245383#22245383", "question_id": 20001427, "answer_id": 22245383}, {"body": "<p><code>::</code> is a new operator included in Java 8 that is used to refer a method of an existing class. You can refer static methods and non-static methods of a class.</p>\n\n<p>For referring static methods, the syntax is:</p>\n\n<pre><code>ClassName :: methodName \n</code></pre>\n\n<p>For referring non-static methods, the syntax is</p>\n\n<pre><code>objRef :: methodName\n</code></pre>\n\n<p>And</p>\n\n<pre><code>ClassName :: methodName\n</code></pre>\n\n<p>The only prerequisite for referring a method is that method exists in a functional interface, which must be compatible with the method reference. </p>\n\n<p>Method references, when evaluated, create an instance of the functional interface. </p>\n\n<p>Found on: <a href=\"http://www.speakingcs.com/2014/08/method-references-in-java-8.html\">http://www.speakingcs.com/2014/08/method-references-in-java-8.html</a></p>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/25680402#25680402", "question_id": 20001427, "answer_id": 25680402}, {"body": "<p>At runtime they behave a exactly the same.The bytecode may/not be same (For above Incase,it generates the same bytecode(complie above and check javaap  -c;))</p>\n\n<p>At runtime they behave a exactly the same.method(math::max);,it generates the same math (complie above and check javap -c;))</p>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/36500500#36500500", "question_id": 20001427, "answer_id": 36500500}, {"body": "<p><code>return reduce(Math::max);</code> is <strong>NOT EQUAL</strong> to <code>return reduce(max());</code></p>\n\n<p>But it means, something like this:</p>\n\n<pre><code>IntBinaryOperator myLambda = (a, b)-&gt;{(a &gt;= b) ? a : b};//56 keystrokes I had to type -_-\nreturn reduce(myLambda);\n</code></pre>\n\n<p>You can just <em>save 47 keystrokes</em> if you write like this</p>\n\n<pre><code>return reduce(Math::max);//Only 9 keystrokes ^_^\n</code></pre>\n", "title": ":: (double colon) operator in Java 8", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8/38538689#38538689", "question_id": 20001427, "answer_id": 38538689}], "creation_date": 1384519592, "score": 424, "link": "http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8", "question_id": 20001427}, {"body": "<p>A common problem that new Java developers experience is that their programs fail to run with the error message:  <code>Could not find or load main class ...</code></p>\n\n<p>What does this mean, what causes it, and how should you fix it?</p>\n", "tags": ["java", "class", "main"], "title": "What does &quot;Could not find or load main class&quot; mean?", "answers": [{"body": "<h2>The <code>java &lt;class-name&gt;</code> command syntax</h2>\n\n<p>First of all, you need to understand the correct way to launch a program using the <code>java</code> (or <code>javaw</code>) command.</p>\n\n<p>The normal syntax<sup>1</sup> is this:</p>\n\n<pre><code>    java [ &lt;option&gt; ... ] &lt;class-name&gt; [&lt;argument&gt; ...]\n</code></pre>\n\n<p>where <code>&lt;option&gt;</code> is a command line option (starting with a \"-\" character), <code>&lt;class-name&gt;</code> is a fully qualified Java class name, and <code>&lt;argument&gt;</code> is an arbitrary command line argument that gets passed to your application.<br>\n<sup>1 - There is a second syntax for \"executable\" JAR files which I will describe at the bottom.</sup></p>\n\n<p>The fully qualified classname is conventionally written as you would in Java source code; e.g.</p>\n\n<pre><code>    packagename.packagename2.packagename3.ClassName\n</code></pre>\n\n<p>However some versions of the <code>java</code> command allow you to use slashes instead of periods; e.g.</p>\n\n<pre><code>    packagename/packagename2/packagename3/ClassName\n</code></pre>\n\n<p>which (confusingly) looks like a file pathname, but isn't one.  Note that the term <em>fully qualified classname</em> is standard Java terminology ... not something I just made up to confuse you :-)</p>\n\n<p>Here is an example of what a <code>java</code> command should look like:</p>\n\n<pre><code>    java -Xmx100m com.acme.example.ListUsers fred joe bert\n</code></pre>\n\n<p>The above is going to cause the <code>java</code> command to do the following:</p>\n\n<ol>\n<li>Search for the compiled version of the <code>com.acme.example.ListUsers</code> class.</li>\n<li>Load the class.</li>\n<li>Check that the class has a <code>main</code> method with signature + modifiers <code>public static void main(String[])</code>.</li>\n<li>Call that method passing it the command line arguments (\"fred\", \"joe\", \"bert\") as a <code>String[]</code>.</li>\n</ol>\n\n<h2>Reasons why Java cannot find the class</h2>\n\n<p>When you get the message \"Could not find or load main class ...\", that means that the first step has failed.  The <code>java</code> command was not able to find the class.  And indeed, the \"...\" in the message will be the <em>fully qualified class name</em> that <code>java</code> is looking for. </p>\n\n<p>So why might it be unable to find the class?  Basically, there are two main causes:</p>\n\n<p>The first likely cause is that you may have provided the wrong class name.  (Or ... the right class name, but in the wrong form.)   Considering the example above, here a variety of <strong>wrong ways</strong> to specify the class name:</p>\n\n<ul>\n<li><p>Example #1 - a simple class name:</p>\n\n<pre><code>java ListUser\n</code></pre>\n\n<p>When the class is declared in a package such as <code>com.acme.example</code>, then you must use the full classname <em>including</em> the package name in the <code>java</code> command; e.g. </p>\n\n<pre><code>java com.acme.example.ListUser\n</code></pre></li>\n<li><p>Example #2 - a filename or pathname rather than a class name:</p>\n\n<pre><code>java ListUser.class\njava com/acme/example/ListUser.class\n</code></pre></li>\n<li><p>Example #3 - a class name with the casing incorrect:</p>\n\n<pre><code>java com.acme.example.listuser\n</code></pre></li>\n<li><p>Example #4 - a typo</p>\n\n<pre><code>java com.acme.example.mistuser\n</code></pre></li>\n</ul>\n\n<p>The second likely cause is that the class name is correct, but that the <code>java</code> command cannot find the class.  To understand this, you need to understand the concept of the \"classpath\".  This is explained <em>well</em> by the Oracle documentation:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\">The <code>java</code> command documentation</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\">Setting the Classpath</a>. </li>\n<li>The Java Tutorial - <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\">PATH and CLASSPATH</a></li>\n</ul>\n\n<p>So ... if you have specified the class name correctly, the next thing to check is that you have specified the classpath correctly:</p>\n\n<ol>\n<li>Read the three documents linked above.  (Yes ... READ them.  It is important that a Java programmer <em>understands</em> at least the basics of how the Java classpath mechanisms works.)</li>\n<li>Look at command line and / or the CLASSPATH environment variable that is in effect when you run the <code>java</code> command.  Check that the directory names and JAR file names are correct.</li>\n<li>If there are <em>relative</em> pathnames in the classpath, check that they resolve correctly ... from the current directory that is in effect when you run the <code>java</code> command.</li>\n<li>Check that the class (mentioned in the error message) can be located on the <em>effective</em> classpath.</li>\n</ol>\n\n<p>Additional Notes:</p>\n\n<ol>\n<li><p>When you put a directory on the classpath, it notionally corresponds to the root of the qualified name space.  Classes are located in the directory structure beneath that root, <em>by mapping the fully qualified name to a pathname</em>.  So for example, if \"/usr/local/acme/classes\" is on the class path, then when the JVM looks for a class called <code>com.acme.example.Foon</code>, it will look for a \".class\" file with this pathname:</p>\n\n<pre><code>    /usr/local/acme/classes/com/acme/example/Foon.class\n</code></pre>\n\n<p>If you had put \"/usr/local/acme/classes/com/acme/example\" on the classpath, then the JVM wouldn't be able to find the class.</p></li>\n<li><p>The classpath needs to include all of the <em>other</em> (non-system) classes that your application depends on.  (The system classes are located automatically, and you rarely need to concern yourself with this.)</p></li>\n</ol>\n\n<h2>The <code>java -jar &lt;jar file&gt;</code> syntax</h2>\n\n<p>The alternative syntax used for \"executable\" JAR files is as follows:</p>\n\n<pre><code>    java [ &lt;option&gt; ... ] -jar &lt;jar-file-name&gt; [&lt;argument&gt; ...]\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>    java -Xmx100m -jar /usr/local/acme-example/listuser.jar fred\n</code></pre>\n\n<p>In this case the name of the entry-point class (i.e. <code>com.acme.example.ListUser</code>) and the classpath are specified in the MANIFEST of the JAR file.</p>\n\n<h2>IDEs</h2>\n\n<p>A typical Java IDE has support for running Java applications in the IDE JVM itself or in a child JVM.  These are <em>generally</em> immune from this particular exception, because the IDE uses its own mechanisms to construct the runtime classpath, identify the main class and create the <code>java</code> command line.</p>\n\n<p>However it is still possible for this exception to occur, if you do things behind the back of the IDE to break things.  For example, if you have previously set up an Application Launcher for your Java app in Eclipse, and you then moved the JAR file containing the \"main\" class to a different place in the file system <em>without telling Eclipse</em>, Eclipse would unwittingly launch the JVM with an incorrect classpath.</p>\n\n<p>In short, if you get this problem in an IDE, check for things like stale IDE state, broken project references or broken launcher configurations.</p>\n\n<h2>Other References</h2>\n\n<ul>\n<li>From the Oracle Java Tutorials - <a href=\"http://docs.oracle.com/javase/tutorial/getStarted/problems/index.html\">Common Problems (and Their Solutions)</a></li>\n</ul>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/18093929#18093929", "question_id": 18093928, "answer_id": 18093929}, {"body": "<p>Sometimes what might be causing the issue has nothing to do with the main class. I had to find this out the hard way, it was a referenced library that I moved and it gave me the:</p>\n\n<blockquote>\n  <p>Could not find or load main class xxx Linux</p>\n</blockquote>\n\n<p>I just delete that reference and added again and it worked fine again.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/19732627#19732627", "question_id": 18093928, "answer_id": 19732627}, {"body": "<p>First set the path using this command;</p>\n\n<pre><code>set path=\"paste the set path address\"\n</code></pre>\n\n<p>Then you need to load the program. Type \"cd (folder name)\" in the stored drive and compile it. For Example, if my program stored on the D drive, type \"D:\" press enter and type \" cd (folder name)\".</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/20330193#20330193", "question_id": 18093928, "answer_id": 20330193}, {"body": "<p>In my case, error appeared because I had supplied the source file name instead of the class name. </p>\n\n<p>We need to supply the class name containing the main method to the interpreter.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/22339676#22339676", "question_id": 18093928, "answer_id": 22339676}, {"body": "<p>If your source code name is HelloWorld.java, your compiled code will be HelloWorld.class</p>\n\n<p>You will get that error if you call it using :</p>\n\n<pre><code>java HelloWorld.class\n</code></pre>\n\n<p>Instead, use this :</p>\n\n<pre><code>java HelloWorld\n</code></pre>\n\n<p>Hope it helps.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/23781433#23781433", "question_id": 18093928, "answer_id": 23781433}, {"body": "<p>What helped me was specifying the classpath in command line, for example:</p>\n\n<ol>\n<li><p>Create new folder C:\\temp</p></li>\n<li><p>Create file Temp.java in C:\\temp, with following class in it:</p>\n\n<pre><code>public class Temp {\n    public static void main(String args[]) {\n        System.out.println(args[0]);\n    }\n}\n</code></pre></li>\n<li><p>Open command line in folder C:\\temp, write following command to compile Temp class:</p>\n\n<pre><code>javac Temp.java\n</code></pre></li>\n<li><p>Run compiled java class adding -classpath option to let JRE know where to find the class:</p>\n\n<pre><code>java -classpath C:\\temp Temp Hello!\n</code></pre></li>\n</ol>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/24529636#24529636", "question_id": 18093928, "answer_id": 24529636}, {"body": "<p>If your main method is in the class under a package. you should run it over the hierarchical directory.<br>\nAssume there is a source code(Main.java):  </p>\n\n<pre><code>package com.test;\n\npublic class Main {\n\npublic static void main(String[] args) {\n    System.out.println(\"salam 2nya\\n\");\n  }\n}\n</code></pre>\n\n<p>For run this code, you should place <strong>Main.Class</strong> in the package like directory. <strong>./come/test/Main.Java</strong>\nand in root directory use <code>java come.test.Main</code></p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/26587225#26587225", "question_id": 18093928, "answer_id": 26587225}, {"body": "<p>If your classes are in packages then you have to cd to main directory and run using the full name of the class (packageName.MainClassName)</p>\n\n<p>Example:</p>\n\n<p>my classes are in here</p>\n\n<pre><code>D:\\project\\com\\cse\\\n</code></pre>\n\n<p>full name of my main class is</p>\n\n<pre><code>com.cse.Main\n</code></pre>\n\n<p>so I cd back to the main dir</p>\n\n<pre><code>D:\\project\n</code></pre>\n\n<p>then issue the java command</p>\n\n<pre><code>java com.cse.Main\n</code></pre>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/28891834#28891834", "question_id": 18093928, "answer_id": 28891834}, {"body": "<p>In the instance you have:</p>\n\n<blockquote>\n  <p>Could not find or load main class <strong>?classpath</strong></p>\n</blockquote>\n\n<p>It's because you are using \"-classpath\" but the dash is not the same dash used by java in the command prompt. I had this issue copying and pasting from notepad to cmd.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/31132651#31132651", "question_id": 18093928, "answer_id": 31132651}, {"body": "<p>When the same code works in one PC but shows the error in another, the best solution I have ever found is compiling like the following:</p>\n\n<pre><code>&gt; javac HelloWorld.java\n&gt; java -cp . HelloWorld\n</code></pre>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/32134203#32134203", "question_id": 18093928, "answer_id": 32134203}, {"body": "<p>I spent a decent amount of time trying to solve this problem. I thought that I was somehow setting my classpath incorrectly but the problem was that I typed:  </p>\n\n<blockquote>\n  <p>java -cp C:/java/MyClasses C:/java/MyClasses/utilities/myapp/Cool<br>\n  instead of:<br>\n  java -cp C:/java/MyClasses utilities/myapp/Cool<br>\n  I thought the meaning of fully qualified meant to include the full path name instead of the full package name.</p>\n</blockquote>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/32345614#32345614", "question_id": 18093928, "answer_id": 32345614}, {"body": "<p>According to the error message (\"Could not find or load main class\"), there are two categories of problems:</p>\n\n<ol>\n<li>Main class could not be found</li>\n<li>Main class could not be loaded (this case is not fully discussed in the accepted answer)</li>\n</ol>\n\n<p><strong>Main class could not be found</strong> when there is <strong>typo or error syntax in the fully qualified class name</strong> or it <strong>does not exist in the provided classpath</strong>.</p>\n\n<p><strong>Main class could not be loaded</strong> when <strong>the class cannot be initiated</strong>, typically the main class extends another class and that class does not exist in the provided classpath.</p>\n\n<p>For example:</p>\n\n<pre><code>public class YourMain extends org.apache.camel.spring.Main\n</code></pre>\n\n<p>If camel-spring is not included, same error will be reported.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/32621286#32621286", "question_id": 18093928, "answer_id": 32621286}, {"body": "<p>In Java, when you sometimes run the JVM from the command line using the java executable and are trying to start a program from a class file with public static void main (PSVM), you might run into the below error even though the classpath parameter to the JVM is accurate and the class file is present on the classpath:</p>\n\n<pre><code>Error: main class not found or loaded\n</code></pre>\n\n<p>This happens if the class file with PSVM could not be loaded. One possible reason for that is that the class may be implementing an interface or extending another class that is not on the classpath. Normally if a class is not on the classpath, the error thrown indicates as such. But, if the class in use is extended or implemented, java is unable to load the class itself.</p>\n\n<p>Reference: <a href=\"https://www.computingnotes.net/java/error-main-class-not-found-or-loaded/\" rel=\"nofollow\">https://www.computingnotes.net/java/error-main-class-not-found-or-loaded/</a></p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/32643138#32643138", "question_id": 18093928, "answer_id": 32643138}, {"body": "<p>On Windows put .; at CLASSPATH  value in beginning. <br>\nThe . (dot) means \"look in current directory\". <br>\nThis is permanent soultion.<br></p>\n\n<p>Also you can set it \"one time\" with set CLASSPATH=%CLASSPATH%;. <br>\nThis will last as long as your cmd window is open.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/33323463#33323463", "question_id": 18093928, "answer_id": 33323463}, {"body": "<p>I got this error after doing <code>mvn eclipse:eclipse</code>\nThis messed up my <code>.classpath</code> file a little bit.</p>\n\n<p>Had to change the lines in <code>.classpath</code> from</p>\n\n<pre><code>&lt;classpathentry kind=\"src\" path=\"src/main/java\" including=\"**/*.java\"/&gt;\n&lt;classpathentry kind=\"src\" path=\"src/main/resources\" excluding=\"**/*.java\"/&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;classpathentry kind=\"src\" path=\"src/main/java\" output=\"target/classes\" /&gt;\n&lt;classpathentry kind=\"src\" path=\"src/main/resources\" excluding=\"**\"  output=\"target/classes\" /&gt;\n</code></pre>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/34269156#34269156", "question_id": 18093928, "answer_id": 34269156}, {"body": "<p>This is a specific case, but since I came to this page looking for a solution and didn't find it, I'll add it here.</p>\n\n<p>Windows (tested with 7) doesn't accept special characters (like <code>\u00e1</code>) in class and package names. Linux does, though.</p>\n\n<p>I found this out when I built a <code>.jar</code> in NetBeans and tried to run it in command line. It ran in NetBeans but not in command line.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/34476542#34476542", "question_id": 18093928, "answer_id": 34476542}, {"body": "<p>What fixed the problem in my case was:</p>\n\n<p>Right click on the project/class you want to run, then <code>Run As</code>-><code>Run Configurations</code>. Then you should either fix your existing configuration or add new in the following way:</p>\n\n<p>open the <code>Classpath</code> tab, click on the <code>Advanced...</code> button then add <strong><code>bin</code> folder</strong> of your project.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/34825877#34825877", "question_id": 18093928, "answer_id": 34825877}, {"body": "<p>I was unable to solve this problem with the solutions stated here (although the answer stated has, no doubt, cleared my concepts). I faced this problem two times and each time I have tried different solutions(in Eclipse IDE).</p>\n\n<ul>\n<li>Firstly, I have come across with multiple main methods in different classes of my project. So, I had deleted main method from subsequent classes.</li>\n<li>Secondly, I tried following solution:\n\n<ol>\n<li>Right click on my main project directory.</li>\n<li>Head to source then clean up and stick with the default settings and on Finish. After some background tasks you will be directed to your main project directory. </li>\n<li>After that I close my project and reopen it and boom I finally solved my problem.</li>\n</ol></li>\n</ul>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/37632877#37632877", "question_id": 18093928, "answer_id": 37632877}, {"body": "<p>You really need to do this from the <code>src</code> folder. There you type the following command line:</p>\n\n<pre><code>[name of the package].[Class Name] [arguments]\n</code></pre>\n\n<p>Let's say your class is called: CommandLine.class</p>\n\n<p>and the code looks like this: </p>\n\n<pre><code>package com.tutorialspoint.java;\n\n    /**\n     * Created by mda21185 on 15-6-2016.\n     */\n\n    public class CommandLine {\n        public static void main(String args[]){\n            for(int i=0; i&lt;args.length; i++){\n                System.out.println(\"args[\" + i + \"]: \" + args[i]);\n            }\n        }\n    }\n</code></pre>\n\n<p>Then you should cd to the src folder and the command you need to run would look like this:</p>\n\n<pre><code>java com.tutorialspoint.java.CommandLine this is a command line 200 -100\n</code></pre>\n\n<p>and the output in command line would be:</p>\n\n<pre><code>args[0]: this\nargs[1]: is\nargs[2]: a\nargs[3]: command\nargs[4]: line\nargs[5]: 200\nargs[6]: -100\n</code></pre>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/37833840#37833840", "question_id": 18093928, "answer_id": 37833840}, {"body": "<p>sometimes its better to remove the added jar files and add again with proper build helps.\nFor me it has been a regular issue and I follow the same approach.</p>\n\n<ol>\n<li>put all the referred jar files in a folder jarAddOns and copy it in a safe place</li>\n<li>now from eclipse (or from your  IDE) remove the jar files .</li>\n<li>move the whole project folder from workspace to a safe location</li>\n<li>restart eclipse (your IDE)</li>\n<li>now import your project directory from the safe location.</li>\n<li>add the jar files into your project from the jarAddOns folder (previously saved in safe location)</li>\n<li>project buildpath and add jars and apply</li>\n<li>now run the project it should not show the error.</li>\n</ol>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/38976055#38976055", "question_id": 18093928, "answer_id": 38976055}, {"body": "<p>To solve this on <code>Eclipse</code>, I replaced <code>JRE</code> in my build path with <code>JDK</code>, and then Right click on the project  <code>Run As-&gt;Run Configurations-&gt; Classpath tab-&gt; Advanced</code>then add bin folder of my project, and it works!!</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/39083823#39083823", "question_id": 18093928, "answer_id": 39083823}, {"body": "<p>Try <strong>-Xdiag</strong>.</p>\n\n<p><a href=\"http://stackoverflow.com/a/18093929/1026104\">Steve C's answer</a> covers the possible cases nicely, but sometimes to determine whether the class could not be <em>found</em> or <em>loaded</em> might not be that easy. Use <code>java -Xdiag</code> (since jdk 7). This prints out nice stacktrace which provides a hint to what the message <code>Could not find or load main class</code> message means.</p>\n\n<p>For instance, it can point you to other classes used by the main class that could not be found and prevented the main class to be loaded.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/39117892#39117892", "question_id": 18093928, "answer_id": 39117892}, {"body": "<p>If your class is in a package, make sure to set the package declaration to say so. I spent 15 minutes debugging mine only to realize I had put the class in its folder but not put the package declaration in the file.</p>\n", "title": "What does &quot;Could not find or load main class&quot; mean?", "tags": ["java", "class", "main"], "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/39498723#39498723", "question_id": 18093928, "answer_id": 39498723}], "creation_date": 1375844566, "score": 355, "link": "http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean", "question_id": 18093928}, {"body": "<p>I have installed the <a href=\"http://en.wikipedia.org/wiki/Java_Development_Kit\">JDK</a> on <a href=\"http://en.wikipedia.org/wiki/OS_X_Mountain_Lion\">Mac&nbsp;OS&nbsp;X&nbsp;v10.8</a> (Mountain Lion). When I upgraded it to <a href=\"https://en.wikipedia.org/wiki/OS_X_Mavericks\">Mac&nbsp;OS&nbsp;X&nbsp;v10.9</a> (Mavericks) and ran <code>java -version</code> in the terminal, it showed:</p>\n\n<blockquote>\n  <p>No Java runtime present, requesting install.</p>\n</blockquote>\n\n<p>Then I manually installed the JDK (1.7) on my Mac. It seems that the installation worked fine. When the installation was done, I opened the terminal and typed <code>java -version</code> as well. It also showed the same error:</p>\n\n<blockquote>\n  <p>No Java runtime present, requesting install.</p>\n</blockquote>\n\n<p>How can I solve this problem?</p>\n", "tags": ["java", "osx"], "title": "Installing Java on OS X 10.9 (Mavericks)", "answers": [{"body": "<p>The new <em>Mavericks</em> (10.9) showed me the \"Requesting install\", but nothing happened. </p>\n\n<p>The solution was to manually download and install the official Java package for OS&nbsp;X, which is in <del><em><a href=\"http://support.apple.com/kb/dl1421\">Java for OS X 2013-005</a></em></del>.</p>\n\n<p><strong>Update:</strong> As mentioned in the comments below, there is a newer version of this same package:</p>\n\n<p><del><a href=\"http://support.apple.com/kb/dl1572\">Java for OS X 2014-001</a></del></p>\n\n<p><em><a href=\"http://support.apple.com/kb/DL1572\">Java for OS X 2014-001</a></em> (Correcting dead line above)</p>\n\n<blockquote>\n  <p>Java for OS X 2014-001 includes installation improvements, and supersedes all previous versions of Java for OS X. This package installs the same version of Java 6 included in Java for OS X 2013-005.</p>\n</blockquote>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19535253#19535253", "question_id": 19533528, "answer_id": 19535253}, {"body": "<p>There isn't any need to install the JDK, which is the <em>developer kit</em>, just the <a href=\"http://en.wikipedia.org/wiki/Java_Virtual_Machine#Execution_environment\" rel=\"nofollow\">JRE</a> which is the <em>runtime environment</em>.</p>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19548412#19548412", "question_id": 19533528, "answer_id": 19548412}, {"body": "<p>I downloaded manually to here: <a href=\"http://support.apple.com/kb/DL1572\" rel=\"nofollow\">Java for OS X 2014-001</a>.</p>\n\n<p>After that open your terminal and check the installation with <code>java -version</code>.</p>\n\n<p><strong>EDIT (January, 2015)</strong>: Also see <a href=\"http://support.apple.com/no-no/HT202912\" rel=\"nofollow\">HT202912, About Java for OS X 2014-001</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/LUVkY.png\" alt=\"enter image description here\"></p>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19556007#19556007", "question_id": 19533528, "answer_id": 19556007}, {"body": "<p>The OP implied that Java 7 was the need. And Java 6 is in fact no longer being 'supported' so 7 is the version you should be installing at this point unless you have legacy app concerns.</p>\n\n<p>You can get it here:\n<a href=\"http://java.com/en/download/mac_download.jsp?locale=en\" rel=\"nofollow\">http://java.com/en/download/mac_download.jsp?locale=en</a></p>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19579097#19579097", "question_id": 19533528, "answer_id": 19579097}, {"body": "<p>If you only want to install the latest official JRE from Oracle, you can get it there, install it, and export the new JAVA_HOME in the terminal.</p>\n\n<ul>\n<li>Open your Terminal</li>\n<li><code>java -version</code> gives you an error and a popup</li>\n<li>Get the JRE dmg on <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>\n<li>Install it</li>\n<li>In your terminal, type: <code>export JAVA_HOME=\"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\"</code></li>\n<li><code>java -version</code> now gives you <code>java version \"1.7.0_45\"</code></li>\n</ul>\n\n<p>That's the cleanest way I found to install the latest JRE.</p>\n\n<p>You can add the <code>export JAVA_HOME</code> line in your <code>.bashrc</code> to have <code>java</code> permanently in your Terminal:</p>\n\n<pre><code>echo export JAVA_HOME=\\\"/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\\\" &gt;&gt; ~/.bashrc\n</code></pre>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19582689#19582689", "question_id": 19533528, "answer_id": 19582689}, {"body": "<p>I downloaded and installed the JDK 1.7 from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\">Oracle</a>. In the console / in <a href=\"https://en.wikipedia.org/wiki/Terminal_%28OS_X%29\">Terminal</a> Java 7 works fine. </p>\n\n<p>When I start a Java program (like <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\">Eclipse</a>) via the GUI, I get:</p>\n\n<blockquote>\n  <p>To open \"Eclipse.app\" you need a Java SE 6 runtime. Would you like to\n  install one now?</p>\n</blockquote>\n\n<p>Because I did not want to install old Java version, I used the following workaround:</p>\n\n<p><code>sudo ln -nsf /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK</code></p>\n\n<p>Credits to <a href=\"http://www.monkehworks.com/set-java-7-as-default-jvm-on-mac-osx-mountain-lion\">monkehWorks</a>.</p>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19729259#19729259", "question_id": 19533528, "answer_id": 19729259}, {"body": "<p>The right place to download the JDK for Java 7 is <em><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">Java SE Downloads</a></em>.</p>\n\n<p>All the other links provided above, as far as I can tell, either provide the JRE or Java 6 downloads (incidentally, if you want to run <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\">Eclipse</a> or other IDEs, like <a href=\"http://en.wikipedia.org/wiki/IntelliJ_IDEA\">IntelliJ IDEA</a>, you will need the JDK, <em>not</em> the <a href=\"http://en.wikipedia.org/wiki/Java_Virtual_Machine#Execution_environment\">JRE</a>).</p>\n\n<p>Regarding IntelliJ IDEA - that will still ask you to install Java 6 as it apparently needs an older class loader or something: just follow the instructions when the dialog pop-up appears and it will install the JDK 6 in the right place.</p>\n\n<p>Afterwards, you will need to do the <code>sudo ln -snf</code> mentioned in the answer above:</p>\n\n<pre><code>sudo ln -nsf /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents \\\n    /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK\n</code></pre>\n\n<p>(copied here as it was mentioned that \"above\" may eventually not make sense as answers are re-sorted).</p>\n\n<p>I also set my <code>JAVA_HOME</code> to point to where <code>jdk_1.7.0_xx.jdk</code> was installed:</p>\n\n<pre><code>export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\"\n</code></pre>\n\n<p>Then add that to your <code>PATH</code>:</p>\n\n<pre><code>export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>The alternative is to fuzz around with Apple's insane maze of hyperlinks, but honestly life is too short to bother.</p>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/19737307#19737307", "question_id": 19533528, "answer_id": 19737307}, {"body": "<p>From the OP:</p>\n\n<p>I finally reinstalled it from Java for OS X 2013-005.  It solved this issue.</p>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/20878819#20878819", "question_id": 19533528, "answer_id": 20878819}, {"body": "<p>This error happens because the plist file of IntelliJ IDEA requires Java version 1.6*. To solve this problem, replace the 1.6* with 1.8*.</p>\n\n<pre><code>&lt;key&gt;JVMOptions&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;ClassPath&lt;/key&gt;\n      ...\n\n    &lt;key&gt;JVMVersion&lt;/key&gt;\n    &lt;string&gt;1.8*&lt;/string&gt;\n\n    &lt;key&gt;MainClass&lt;/key&gt;\n    &lt;string&gt;com.intellij.idea.Main&lt;/string&gt;\n    &lt;key&gt;Properties&lt;/key&gt;\n&lt;dict&gt;\n</code></pre>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/24968829#24968829", "question_id": 19533528, "answer_id": 24968829}, {"body": "<p>My experience for updating Java SDK on OS X 10.9 was much easier.</p>\n\n<p>I downloaded the latest <code>Java SE Development Kit 8</code>, from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">SE downloads</a> and installed the .dmg file. And when typing <code>java -version</code> in terminal the following was displayed:</p>\n\n<blockquote>\n  <p>java version \"1.8.0_11\"</p>\n  \n  <p>Java(TM) SE Runtime Environment (build 1.8.0_11-b12)</p>\n  \n  <p>Java HotSpot(TM) 64-Bit Server VM (build 25.11-b03, mixed mode)</p>\n</blockquote>\n", "title": "Installing Java on OS X 10.9 (Mavericks)", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks/25245089#25245089", "question_id": 19533528, "answer_id": 25245089}], "creation_date": 1382506372, "score": 287, "link": "http://stackoverflow.com/questions/19533528/installing-java-on-os-x-10-9-mavericks", "question_id": 19533528}, {"body": "<p>I want to translate a List of objects into a Map using Java 8's streams and lambdas.</p>\n\n<p>This is how I would write it in Java 7 and below.</p>\n\n<pre><code>private Map&lt;String, Choice&gt; nameMap(List&lt;Choice&gt; choices) {\n        final Map&lt;String, Choice&gt; hashMap = new HashMap&lt;&gt;();\n        for (final Choice choice : choices) {\n            hashMap.put(choice.getName(), choice);\n        }\n        return hashMap;\n}\n</code></pre>\n\n<p>I can accomplish this easily using Java 8 and Guava but I would like to know how to do this without Guava.</p>\n\n<p>In Guava:</p>\n\n<pre><code>private Map&lt;String, Choice&gt; nameMap(List&lt;Choice&gt; choices) {\n    return Maps.uniqueIndex(choices, new Function&lt;Choice, String&gt;() {\n\n        @Override\n        public String apply(final Choice input) {\n            return input.getName();\n        }\n    });\n}\n</code></pre>\n\n<p>And Guava with Java 8 lambdas.</p>\n\n<pre><code>private Map&lt;String, Choice&gt; nameMap(List&lt;Choice&gt; choices) {\n    return Maps.uniqueIndex(choices, c -&gt; c.getName());\n}\n</code></pre>\n", "tags": ["java", "lambda", "java-8", "java-stream"], "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "answers": [{"body": "<p>Based on <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\"><code>Collectors</code> documentation</a> it's as simple as:</p>\n\n<pre><code>Map&lt;String, Choice&gt; result =\n    choices.stream().collect(Collectors.toMap(Choice::getName,\n                                              Function.identity()));\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/20363874#20363874", "question_id": 20363719, "answer_id": 20363874}, {"body": "<p>If your key is <strong>NOT</strong> guaranteed to be unique for all elements in the list, you should convert it to a <code>Map&lt;String, List&lt;Choice&gt;</code> instead of a <code>Map&lt;String, Choice&gt;</code></p>\n\n<pre><code>Map&lt;String, List&lt;Choice&gt;&gt; result =\n choices.stream().collect(Collectors.groupingBy(Choice::getName));\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/25453317#25453317", "question_id": 20363719, "answer_id": 25453317}, {"body": "<p>Use getName() as the key and choice itself as the value of the map:</p>\n\n<pre><code>Map&lt;String, Choice&gt; result =\n    choices.stream().collect(Collectors.toMap(Choice::getName, c -&gt; c));\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/28779227#28779227", "question_id": 20363719, "answer_id": 28779227}, {"body": "<p>I use this syntax</p>\n\n<pre><code>Map&lt;Integer, List&lt;Choice&gt;&gt; choiceMap = \nchoices.stream().collect(Collectors.groupingBy(choice -&gt; choice.getName()));\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/29855930#29855930", "question_id": 20363719, "answer_id": 29855930}, {"body": "<p>I was trying to do this and found that, using the answers above, when using <code>Functions.identity()</code> for the key to the Map, then I had issues with using a local method like <code>this::localMethodName</code> to actually work because of typing issues.</p>\n\n<p><code>Functions.identity()</code> actually does something to the typing in this case so the method would only work by returning <code>Object</code> and accepting a param of <code>Object</code></p>\n\n<p>To solve this, I ended up ditching <code>Functions.identity()</code> and using <code>s-&gt;s</code> instead.</p>\n\n<p>So my code, in my case to list all directories inside a directory, and for each one use the name of the directory as the key to the map and then call a method with the directory name and return a collection of items, looks like:</p>\n\n<pre><code>Map&lt;String, Collection&lt;ItemType&gt;&gt; items = Arrays.stream(itemFilesDir.listFiles(File::isDirectory))\n.map(File::getName)\n.collect(Collectors.toMap(s-&gt;s, this::retrieveBrandItems));\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/34675066#34675066", "question_id": 20363719, "answer_id": 34675066}, {"body": "<pre><code>Map&lt;String, Set&lt;String&gt;&gt; collect = Arrays.asList(Locale.getAvailableLocales()).stream().collect(Collectors\n                .toMap(l -&gt; l.getDisplayCountry(), l -&gt; Collections.singleton(l.getDisplayLanguage())));\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/34978466#34978466", "question_id": 20363719, "answer_id": 34978466}, {"body": "<p>If you don't mind to use a 3rd party lib (<a href=\"http://www.javaslang.io\" rel=\"nofollow\">Javaslang</a>) you could use powerful new immutable collections:</p>\n\n<pre><code>// import javaslang.collection.*;\nMap&lt;String, Choice&gt; map = list.toMap(choice -&gt; Tuple.of(choice.getName(), choice));\n</code></pre>\n\n<p>There are also many methods to convert Java collections forth and back.</p>\n\n<p>Please read more about the <a href=\"http://blog.javaslang.io/functional-data-structures-in-java-8-with-javaslang/\" rel=\"nofollow\">new collections</a> here.</p>\n\n<p>Disclaimer: I'm the creator of Javaslang.</p>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/35542667#35542667", "question_id": 20363719, "answer_id": 35542667}, {"body": "<p>If you don't mind using 3rd party libraries, AOL's <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> lib (disclosure I am a contributor) has extensions for all <a href=\"https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\" rel=\"nofollow\">JDK Collection</a> types, including <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/ListX.html\" rel=\"nofollow\">List</a> and <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/MapX.html\" rel=\"nofollow\">Map</a>.</p>\n\n<pre><code>ListX&lt;Choices&gt; choices;\nMap&lt;String, Choice&gt; map = choices.toMap(c-&gt; c.getName(),c-&gt;c);\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/35609333#35609333", "question_id": 20363719, "answer_id": 35609333}, {"body": "<p>Here's another one in case you don't want to use Collectors.toMap()</p>\n\n<pre><code>Map&lt;String, Choice&gt; result =\n   choices.stream().collect(HashMap&lt;String, Choice&gt;::new, \n                           (m, c) -&gt; m.put(c.getName(), c),\n                           (m, u) -&gt; {});\n</code></pre>\n", "title": "Java 8 List&lt;V&gt; into Map&lt;K, V&gt;", "tags": ["java", "lambda", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v/36726795#36726795", "question_id": 20363719, "answer_id": 36726795}], "creation_date": 1386112729, "score": 284, "link": "http://stackoverflow.com/questions/20363719/java-8-listv-into-mapk-v", "question_id": 20363719}, {"body": "<p>Why does changing the sum order returns a different result?</p>\n\n<p><code>23.53 + 5.88 + 17.64</code> <strong>=</strong> <code>47.05</code></p>\n\n<p><code>23.53 + 17.64 + 5.88</code> <strong>=</strong> <code>47.050000000000004</code></p>\n\n<p>Both <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\">Java</a> and <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> return the same results.</p>\n\n<p>I understand that, due to the way floating point numbers are represented in binary, some rational numbers (<em>like 1/3 - 0.333333...</em>) cannot be represented precisely.</p>\n\n<p>Why does simply changing the order of the elements affect the result?</p>\n", "tags": ["java", "javascript", "floating-point"], "title": "Why does changing the sum order returns a different result?", "answers": [{"body": "<p>I believe it has to do with the order of evaulation. While the sum is naturally the same in a math world, in the binary world instead of A + B + C = D, it's</p>\n\n<pre><code>A + B = E\nE + C = D(1)\n</code></pre>\n\n<p>So there's that secondary step where floating point numbers can get off.</p>\n\n<p>When you change the order,</p>\n\n<pre><code>A + C = F\nF + B = D(2)\n</code></pre>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/19820372#19820372", "question_id": 19820297, "answer_id": 19820372}, {"body": "<blockquote>\n  <p>Maybe this question is stupid, but why does simply changing the order of the elements affects the result?</p>\n</blockquote>\n\n<p>It will change the points at which the values are rounded, based on their magnitude. As an example of the <em>kind</em> of thing that we're seeing, let's pretend that instead of binary floating point, we were using a decimal floating point type with 4 significant digits, where each addition is performed at \"infinite\" precision and then rounded to the nearest representable number. Here are two sums:</p>\n\n<pre><code>1/3 + 2/3 + 2/3 = (0.3333 + 0.6667) + 0.6667\n                = 1.000 + 0.6667 (no rounding needed!)\n                = 1.667 (where 1.6667 is rounded to 1.667)\n\n2/3 + 2/3 + 1/3 = (0.6667 + 0.6667) + 0.3333\n                = 1.333 + 0.3333 (where 1.3334 is rounded to 1.333)\n                = 1.666 (where 1.6663 is rounded to 1.666)\n</code></pre>\n\n<p>We don't even need non-integers for this to be a problem:</p>\n\n<pre><code>10000 + 1 - 10000 = (10000 + 1) - 10000\n                  = 10000 - 10000 (where 10001 is rounded to 10000)\n                  = 0\n\n10000 - 10000 + 1 = (10000 - 10000) + 1\n                  = 0 + 1\n                  = 1\n</code></pre>\n\n<p>This demonstrates possibly more clearly that the important part is that we have a limited number of <em>significant digits</em> - not a limited number of <em>decimal places</em>. If we could always keep the same number of decimal places, then with addition and subtraction at least, we'd be fine (so long as the values didn't overflow). The problem is that when you get to bigger numbers, smaller information is lost - the 10001 being rounded to 10000 in this case. (This is an example of the problem that <a href=\"http://stackoverflow.com/a/19821327/22656\">Eric Lippert noted in his answer</a>.)</p>\n\n<p>It's important to note that the values on the first line of the right hand side are the same in all cases - so although it's important to understand that your decimal numbers (23.53, 5.88, 17.64) won't be represented exactly as <code>double</code> values, that's only a problem because of the problems shown above.</p>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/19820426#19820426", "question_id": 19820297, "answer_id": 19820426}, {"body": "<p>Floating point numbers are represented using the IEEE 754 format, which provides a specific size of bits for the mantissa (significand). Unfortunately this gives you a specific number of 'fractional building blocks' to play with, and certain fractional values cannot be represented precisely. </p>\n\n<p>What is happening in your case is that in the second case, the addition is probably running into some precision issue because of the order the additions are evaluated. I haven't calculated the values, but it could be for example that 23.53 + 17.64 cannot be precisely represented, while 23.53 + 5.88 can. </p>\n\n<p>Unfortunately it is a known problem that you just have to deal with.</p>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/19820454#19820454", "question_id": 19820297, "answer_id": 19820454}, {"body": "<p>This actually covers much more than just Java and Javascript, and would likely affect any programming language using floats or doubles.</p>\n\n<p>In memory, floating points use a special format along the lines of IEEE 754 (the converter provides much better explanation than I can).</p>\n\n<p>Anyways, here's the float converter.</p>\n\n<p><a href=\"http://www.h-schmidt.net/FloatConverter/\" rel=\"nofollow\">http://www.h-schmidt.net/FloatConverter/</a></p>\n\n<p>The thing about the order of operations is the \"fineness\" of the operation.</p>\n\n<p>Your first line yields 29.41 from the first two values, which gives us 2^4 as the exponent.</p>\n\n<p>Your second line yields 41.17 which gives us 2^5 as the exponent.</p>\n\n<p>We're losing a significant figure by increasing the exponent, which is likely to change the outcome.</p>\n\n<p>Try ticking the last bit on the far right on and off for 41.17 and you can see that something as \"insignificant\" as 1/2^23 of the exponent would be enough to cause this floating point difference.</p>\n\n<p>Edit: For those of you who remember significant figures, this would fall under that category. 10^4 + 4999 with a significant figure of 1 is going to be 10^4. In this case, the significant figure is much smaller, but we can see the results with the .00000000004 attached to it.</p>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/19820611#19820611", "question_id": 19820297, "answer_id": 19820611}, {"body": "<p>Here's what's going on in binary.  As we know, some floating-point values cannot be represented exactly in binary, even if they can be represented exactly in decimal.  These 3 numbers are just examples of that fact.</p>\n\n<p>With this program I output the hexadecimal representations of each number and the results of each addition.</p>\n\n<pre><code>public class Main{\n   public static void main(String args[]) {\n      double x = 23.53;   // Inexact representation\n      double y = 5.88;    // Inexact representation\n      double z = 17.64;   // Inexact representation\n      double s = 47.05;   // What math tells us the sum should be; still inexact\n\n      printValueAndInHex(x);\n      printValueAndInHex(y);\n      printValueAndInHex(z);\n      printValueAndInHex(s);\n\n      System.out.println(\"--------\");\n\n      double t1 = x + y;\n      printValueAndInHex(t1);\n      t1 = t1 + z;\n      printValueAndInHex(t1);\n\n      System.out.println(\"--------\");\n\n      double t2 = x + z;\n      printValueAndInHex(t2);\n      t2 = t2 + y;\n      printValueAndInHex(t2);\n   }\n\n   private static void printValueAndInHex(double d)\n   {\n      System.out.println(Long.toHexString(Double.doubleToLongBits(d)) + \": \" + d);\n   }\n}\n</code></pre>\n\n<p>The <code>printValueAndInHex</code> method is just a hex-printer helper.</p>\n\n<p>The output is as follows:</p>\n\n<pre><code>403787ae147ae148: 23.53\n4017851eb851eb85: 5.88\n4031a3d70a3d70a4: 17.64\n4047866666666666: 47.05\n--------\n403d68f5c28f5c29: 29.41\n4047866666666666: 47.05\n--------\n404495c28f5c28f6: 41.17\n4047866666666667: 47.050000000000004\n</code></pre>\n\n<p>The first 4 numbers are <code>x</code>, <code>y</code>, <code>z</code>, and <code>s</code>'s hexadecimal representations.  In IEEE floating point representation, bits 2-12 represent the binary <em>exponent</em>, that is, the scale of the number.  (The first bit is the sign bit, and the remaining bits for the <em>mantissa</em>.) The exponent represented is actually the binary number minus 1023.</p>\n\n<p>The exponents for the first 4 numbers are extracted:</p>\n\n<pre><code>    sign|exponent\n403 =&gt; 0|100 0000 0011| =&gt; 1027 - 1023 = 4\n401 =&gt; 0|100 0000 0001| =&gt; 1025 - 1023 = 2\n403 =&gt; 0|100 0000 0011| =&gt; 1027 - 1023 = 4\n404 =&gt; 0|100 0000 0100| =&gt; 1028 - 1023 = 5\n</code></pre>\n\n<p><strong>First set of additions</strong></p>\n\n<p>The second number (<code>y</code>) is of smaller magnitude.  When adding these two numbers to get <code>x + y</code>, the last 2 bits of the second number (<code>01</code>) are shifted out of range and do not figure into the calculation.</p>\n\n<p>The second addition adds <code>x + y</code> and <code>z</code> and adds two numbers of the same scale.</p>\n\n<p><strong>Second set of additions</strong></p>\n\n<p>Here, <code>x + z</code> occurs first.  They are of the same scale, but they yield a number that is higher up in scale:</p>\n\n<pre><code>404 =&gt; 0|100 0000 0100| =&gt; 1028 - 1023 = 5\n</code></pre>\n\n<p>The second addition adds <code>x + z</code> and <code>y</code>, and now <em>3</em> bits are dropped from <code>y</code> to add the numbers (<code>101</code>).  Here, there must be a round upwards, because the result is the next floating point number up: <code>4047866666666666</code> for the first set of additions vs. <code>4047866666666667</code> for the second set of additions.  That error is significant enough to show in the printout of the total.</p>\n\n<p>In conclusion, be careful when performing mathematical operations on IEEE numbers.  Some representations are inexact, and they become even more inexact when the scales are different.  Add and subtract numbers of similar scale if you can.</p>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/19821254#19821254", "question_id": 19820297, "answer_id": 19821254}, {"body": "<p>Jon's answer is of course correct. In your case the error is no larger than the error you would accumulate doing any simple floating point operation. You've got a scenario where in one case you get zero error and in another you get a tiny error; that's not actually that interesting a scenario. A good question is: <strong>are there scenarios where changing the order of calculations goes from a tiny error to a (relatively) enormous error?</strong> The answer is unambiguously yes. </p>\n\n<p>Consider for example:</p>\n\n<pre><code>x1 = (a - b) + (c - d) + (e - f) + (g - h);\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>x2 = (a + c + e + g) - (b + d + f + h);\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>x3 = a - b + c - d + e - f + g - h;\n</code></pre>\n\n<p>Obviously in exact arithmetic they would be the same. It is entertaining to try to find values for a, b, c, d, e, f, g, h such that the values of x1 and x2 and x3 differ by a large quantity. See if you can do so!</p>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/19821327#19821327", "question_id": 19820297, "answer_id": 19821327}, {"body": "<p>I recommend watching this great video that explains how the floating point arithmetic works in Javascript (and in other languages too).</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=MqHDDtVYJRI\" rel=\"nofollow\">Everything you never wanted to know about JavaScript numbers</a></p>\n", "title": "Why does changing the sum order returns a different result?", "tags": ["java", "javascript", "floating-point"], "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result/20222662#20222662", "question_id": 19820297, "answer_id": 20222662}], "creation_date": 1383763817, "score": 267, "link": "http://stackoverflow.com/questions/19820297/why-does-changing-the-sum-order-returns-a-different-result", "question_id": 19820297}, {"body": "<p>Is there any way to convert Java <code>String</code> to a <code>byte[]</code> (<em>not</em> the boxed <code>Byte[]</code>)?</p>\n\n<p>In trying this:</p>\n\n<pre><code>System.out.println(response.split(\"\\r\\n\\r\\n\")[1]);\nSystem.out.println(\"******\");\nSystem.out.println(response.split(\"\\r\\n\\r\\n\")[1].getBytes().toString());\n</code></pre>\n\n<p>and I'm getting seperate outputs. Unable to display 1st output as it is a gzip string.</p>\n\n<pre><code>&lt;A Gzip String&gt;\n******\n[B@38ee9f13\n</code></pre>\n\n<p>The second is an address. Is there anything I'm doing wrong? I need the result in a <code>byte[]</code> to feed it to gzip decompressor, which is as follows.</p>\n\n<pre><code>String decompressGZIP(byte[] gzip) throws IOException {\n    java.util.zip.Inflater inf = new java.util.zip.Inflater();\n    java.io.ByteArrayInputStream bytein = new java.io.ByteArrayInputStream(gzip);\n    java.util.zip.GZIPInputStream gzin = new java.util.zip.GZIPInputStream(bytein);\n    java.io.ByteArrayOutputStream byteout = new java.io.ByteArrayOutputStream();\n    int res = 0;\n    byte buf[] = new byte[1024];\n    while (res &gt;= 0) {\n        res = gzin.read(buf, 0, buf.length);\n        if (res &gt; 0) {\n            byteout.write(buf, 0, res);\n        }\n    }\n    byte uncompressed[] = byteout.toByteArray();\n    return (uncompressed.toString());\n}\n</code></pre>\n", "tags": ["java", "string", "bytearray"], "title": "How to convert Java String into byte[]?", "answers": [{"body": "<pre><code>  String example = \"Convert Java String\";\n  byte[] bytes = example.getBytes();\n</code></pre>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/18571332#18571332", "question_id": 18571223, "answer_id": 18571332}, {"body": "<p>The object your method <code>decompressGZIP()</code> needs is a <code>byte[]</code>.</p>\n\n<p>So the basic, technical answer to the question you have asked is:</p>\n\n<pre><code>byte[] b = string.getBytes();\nbyte[] b = string.getBytes(Charset.forName(\"UTF-8\"));\nbyte[] b = string.getBytes(StandardCharsets.UTF_8); // Java 7+ only\n</code></pre>\n\n<hr>\n\n<p>However the problem you appear to be wrestling with is that this doesn't display very well. Calling <code>toString()</code> will just give you the default <code>Object.toString()</code> which is the class name + memory address. In your result <code>[B@38ee9f13</code>, the <code>[B</code> means <code>byte[]</code> and <code>38ee9f13</code> is the memory address, separated by an <code>@</code>.</p>\n\n<p>For display purposes you can use:</p>\n\n<pre><code>Arrays.toString(bytes);\n</code></pre>\n\n<p>But this will just display as a sequence of comma-separated integers, which may or may not be what you want.</p>\n\n<p>To get a readable <code>String</code> back from a <code>byte[]</code>, use:</p>\n\n<pre><code>String string = new String(byte[] bytes, Charset charset);\n</code></pre>\n\n<hr>\n\n<p>The reason the <code>Charset</code> version is favoured, is that all <code>String</code> objects in Java are stored internally as UTF-16. When converting to a <code>byte[]</code> you will get a different breakdown of bytes for the given glyphs of that <code>String</code>, depending upon the chosen charset.</p>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/18571348#18571348", "question_id": 18571223, "answer_id": 18571348}, {"body": "<p>You can use <code>String.getBytes()</code> which returns the <code>byte[]</code> array.</p>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/18571352#18571352", "question_id": 18571223, "answer_id": 18571352}, {"body": "<p>Try using String.getBytes(). It returns a byte[] representing string data.\nExample:</p>\n\n<pre><code>String data = \"sample data\";\nbyte[] byteData = data.getBytes();\n</code></pre>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/18571358#18571358", "question_id": 18571223, "answer_id": 18571358}, {"body": "<p>Simply:</p>\n\n<pre><code>String abc=\"abcdefghight\";\n\nbyte[] b = abc.getBytes();\n</code></pre>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/18571414#18571414", "question_id": 18571223, "answer_id": 18571414}, {"body": "<p>You might wanna try <code>return new String(byteout.toByteArray(Charset.forName(\"UTF-8\")))</code></p>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/20262456#20262456", "question_id": 18571223, "answer_id": 20262456}, {"body": "<pre><code>import java.io.UnsupportedEncodingException;\nimport java.util.Arrays;\n\npublic class ConvertStringtoByte {\n    public static void main(String[] args) throws UnsupportedEncodingException {\n\n\n    String givenString = \"stackoverflow\";\n    System.out.println(givenString );\n\n\n    byte[] byteValue = givenString .getBytes();\n\n    System.out.println(Arrays.toString(byteValue ));\n\n\n    byte[] byteValueAscii= letters.getBytes(\"US-ASCII\");\n    System.out.println(Arrays.toString(byteValueAscii));\n    }\n}\n</code></pre>\n", "title": "How to convert Java String into byte[]?", "tags": ["java", "string", "bytearray"], "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte/34922599#34922599", "question_id": 18571223, "answer_id": 34922599}], "creation_date": 1378118420, "score": 261, "link": "http://stackoverflow.com/questions/18571223/how-to-convert-java-string-into-byte", "question_id": 18571223}, {"body": "<p>Being somewhat new to the Java language I'm trying to familiarize myself with all the ways (or at least the non-pathological ones) that one might iterate through a list (or perhaps other collections) and the advantages or disadvantages of each. </p>\n\n<p>Given a <code>List&lt;E&gt; list</code> object, I know of the following ways to loop through all elements:</p>\n\n<h3>Basic <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1\">for</a> <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\">loop</a> (of course, there're equivalent <code>while</code> / <code>do while</code> loops as well)</h3>\n\n<pre><code>// Not recommended (see below)!\nfor (int i = 0; i &lt; list.size(); i++) {\n    E element = list.get(i);\n    // 1 - can call methods of element\n    // 2 - can use i to make index-based calls to methods of list\n\n    // ...\n}\n</code></pre>\n\n<p>Note: As @amarseillan pointed out, this form is a poor choice\nfor iterating over <code>List</code>s because the actual implementation of\nthe <code>get</code> method may not be as efficient as when using an <code>Iterator</code>.\nFor example, <code>LinkedList</code> implementations must traverse all of\nthe elements preceding i to get the i-th element.\nIn the above example there's no way for the <code>List</code> implementation to\n\"save its place\" to make future iterations more efficient. \nFor an <code>ArrayList</code> it doesn't really matter because the complexity/cost of <code>get</code> is constant time (O(1)) whereas for a <code>LinkedList</code> is it proportional to the size of the list (O(n)). \nFor more information about the computational complexity of the built-in <code>Collections</code> implementations, check out <a href=\"http://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\">this question</a>.</p>\n\n<h3>Enhanced <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\">for loop</a> (nicely explained <a href=\"http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work\">in this question</a>)</h3>\n\n<pre><code>for (E element : list) {\n    // 1 - can call methods of element\n\n    // ...\n}\n</code></pre>\n\n<h3><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\">Iterator</a></h3>\n\n<pre><code>for (Iterator&lt;E&gt; iter = list.iterator(); iter.hasNext(); ) {\n    E element = iter.next();\n    // 1 - can call methods of element\n    // 2 - can use iter.remove() to remove the current element from the list\n\n    // ...\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> Added ListIterator</p>\n\n<h3><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\">ListIterator</a></h3>\n\n<pre><code>for (ListIterator&lt;E&gt; iter = list.listIterator(); iter.hasNext(); ) {\n    E element = iter.next();\n    // 1 - can call methods of element\n    // 2 - can use iter.remove() to remove the current element from the list\n    // 3 - can use iter.add(...) to insert a new element into the list\n    //     between element and iter-&gt;next()\n    // 4 - can use iter.set(...) to replace the current element\n\n    // ...\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> Added \"functional-style\" solution (thanks Dave Newton)</p>\n\n<h3><a href=\"http://functionaljava.org/\">Functional Java</a></h3>\n\n<pre><code>list.stream().map(e -&gt; e + 1); // can apply a transformation function for e\n</code></pre>\n\n<p><strong>EDIT:</strong> Added map method from Java 8's Stream API (see @i_am_zero's answer)</p>\n\n<h3><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\">Iterable.forEach</a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\">Stream.forEach</a>, ...</h3>\n\n<p>In Java 8 collection classes that implement <code>Iterable</code> (for example all <code>List</code>s) now have a <code>forEach</code> method, which can be used instead of the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.1\">for loop statement</a> demonstrated above. (Here is <a href=\"http://stackoverflow.com/questions/16635398/java-8-iterable-foreach-vs-foreach-loop\">another question</a> that provides a good comparison.)</p>\n\n<pre><code>Arrays.asList(1,2,3,4).forEach(System.out::println);\n// 1 - can call methods of an element\n// 2 - would need reference to containing object to remove an item\n//     (TODO: someone please confirm / deny this)\n// 3 - functionally separates iteration from the action\n//     being performed with each item.\n\nArrays.asList(1,2,3,4).stream().forEach(System.out::println);\n// same capabilities as above plus potentially greater\n// utilization of parallelism\n// (caution: consequently, order of execution is not guaranteed,\n// see [Stream.forEachOrdered][stream-foreach-ordered] for more\n// information about this.)\n</code></pre>\n\n<p>What other ways are there, if any?</p>\n\n<p>I feel like this has got to be a duplicate, but I haven't been able to find what I'm looking for, so I apologize for this question potentially being redundant.\n(BTW, my interest does not stem at all from a desire to <a href=\"http://stackoverflow.com/questions/2113216/which-is-more-efficient-a-for-each-loop-or-an-iterator\">optimize performance</a>; I just want to know what forms are available to me as a developer.)</p>\n\n<p><strong>EDIT:</strong> Moved ListIterationExample.java to a suggested answer</p>\n", "tags": ["java", "loops", "collections", "iteration"], "title": "Ways to iterate over a List in java?", "answers": [{"body": "<p>You could always switch out the first and third examples with a while loop and a little more code. This gives you the advantage of being able to use the do-while:</p>\n\n<pre><code>int i = 0;\ndo{\n E element = list.get(i);\n i++;\n}\nwhile (i &lt; list.size());\n</code></pre>\n\n<p>Of course, this kind of thing might cause a NullPointerException if the list.size() returns 0, becuase it always gets executed at least once. This can be fixed by testing if element is null before using its attributes / methods tho. Still, it's a lot simpler and easier to use the for loop</p>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/18410146#18410146", "question_id": 18410035, "answer_id": 18410146}, {"body": "<p>I don't know what you consider pathological, but let me provide some alternatives you could have not seen before:</p>\n\n<pre><code>List&lt;E&gt; sl= list ;\nwhile( ! sl.empty() ) {\n    E element= sl.get(0) ;\n    .....\n    sl= sl.subList(1,sl.size());\n}\n</code></pre>\n\n<p>Or its recursive version:</p>\n\n<pre><code>void visit(List&lt;E&gt; list) {\n    if( list.isEmpty() ) return;\n    E element= list.get(0) ;\n    ....\n    visit(list.subList(1,list.size()));\n}\n</code></pre>\n\n<p>Also, a recursive version of the classical <code>for(int i=0...</code> :</p>\n\n<pre><code>void visit(List&lt;E&gt; list,int pos) {\n    if( pos &gt;= list.size() ) return;\n    E element= list.get(pos) ;\n    ....\n    visit(list,pos+1);\n}\n</code></pre>\n\n<p>I mention them because you are \"somewhat new to Java\" and this could be interesting.</p>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/18410339#18410339", "question_id": 18410035, "answer_id": 18410339}, {"body": "<p>Example of each kind listed in the question:</p>\n\n<h3>ListIterationExample.java</h3>\n\n<pre><code>import java.util.*;\n\npublic class ListIterationExample {\n\n     public static void main(String []args){\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n\n        // populates list with initial values\n        for (Integer i : Arrays.asList(0,1,2,3,4,5,6,7))\n            numbers.add(i);\n        printList(numbers);         // 0,1,2,3,4,5,6,7\n\n        // replaces each element with twice its value\n        for (int index=0; index &lt; numbers.size(); index++) {\n            numbers.set(index, numbers.get(index)*2); \n        }\n        printList(numbers);         // 0,2,4,6,8,10,12,14\n\n        // does nothing because list is not being changed\n        for (Integer number : numbers) {\n            number++; // number = new Integer(number+1);\n        }\n        printList(numbers);         // 0,2,4,6,8,10,12,14  \n\n        // same as above -- just different syntax\n        for (Iterator&lt;Integer&gt; iter = numbers.iterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            number++;\n        }\n        printList(numbers);         // 0,2,4,6,8,10,12,14\n\n        // ListIterator&lt;?&gt; provides an \"add\" method to insert elements\n        // between the current element and the cursor\n        for (ListIterator&lt;Integer&gt; iter = numbers.listIterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            iter.add(number+1);     // insert a number right before this\n        }\n        printList(numbers);         // 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\n\n        // Iterator&lt;?&gt; provides a \"remove\" method to delete elements\n        // between the current element and the cursor\n        for (Iterator&lt;Integer&gt; iter = numbers.iterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            if (number % 2 == 0)    // if number is even \n                iter.remove();      // remove it from the collection\n        }\n        printList(numbers);         // 1,3,5,7,9,11,13,15\n\n        // ListIterator&lt;?&gt; provides a \"set\" method to replace elements\n        for (ListIterator&lt;Integer&gt; iter = numbers.listIterator(); iter.hasNext(); ) {\n            Integer number = iter.next();\n            iter.set(number/2);     // divide each element by 2\n        }\n        printList(numbers);         // 0,1,2,3,4,5,6,7\n     }\n\n     public static void printList(List&lt;Integer&gt; numbers) {\n        StringBuilder sb = new StringBuilder();\n        for (Integer number : numbers) {\n            sb.append(number);\n            sb.append(\",\");\n        }\n        sb.deleteCharAt(sb.length()-1); // remove trailing comma\n        System.out.println(sb.toString());\n     }\n}\n</code></pre>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/18410379#18410379", "question_id": 18410035, "answer_id": 18410379}, {"body": "<p>The three forms of looping are nearly identical. The enhanced <code>for</code> loop:</p>\n\n<pre><code>for (E element : list) {\n    . . .\n}\n</code></pre>\n\n<p>is, according to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\">Java Language Specification</a>, <em>identical</em> in effect to the explicit use of an iterator with a traditional <code>for</code> loop. In the third case, you can only modify the list contents by removing the current element, and then only if you do it through the <code>remove</code> method of the iterator itself. With index-based iteration, you are free to modify the list in any way. However, adding or removing elements that come before the current index risks having your loop skipping elements or processing the same element multiple times; you need to adjust the loop index properly when you make such changes.</p>\n\n<p>In all cases, <code>element</code> is a reference to the actual list element. None of the iteration methods makes a copy of anything in the list. Changes to the internal state of <code>element</code> will always be seen in the internal state of the corresponding element on the list.</p>\n\n<p>Essentially, there only two ways to iterate over a list: by using an index or by using an iterator. The enhanced for loop is just a syntactic shortcut introduced in Java 5 to avoid the tedium of explicitly defining an iterator. For both styles, you can come up with essentially trivial variations using <code>for</code>, <code>while</code> or <code>do while</code> blocks, but they all boil down to the same thing (or, rather, two things).</p>\n\n<p>EDIT: As @iX3 points out in a comment, you can use a <code>ListIterator</code> to set the current element of a list as you are iterating. You would need to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#listIterator%28%29\"><code>List#listIterator()</code></a> instead of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#iterator%28%29\"><code>List#iterator()</code></a> to initialize the loop variable (which, obviously, would have to be declared a <code>ListIterator</code> rather than an <code>Iterator</code>).</p>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/18410489#18410489", "question_id": 18410035, "answer_id": 18410489}, {"body": "<p>A JDK8-style iteration:</p>\n\n<pre><code>public class IterationDemo {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\n        list.stream().forEach(elem -&gt; System.out.println(\"element \" + elem));\n    }\n}\n</code></pre>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/22897118#22897118", "question_id": 18410035, "answer_id": 22897118}, {"body": "<p>Right, many alternatives listed, the easiest and cleanest would be just using the enhanced for statement as below, the Expression is of some type that is iterable. </p>\n\n<pre><code>for ( FormalParameter : Expression ) Statement\n</code></pre>\n\n<p>For example, to iterate through, List ids, we can simply so, </p>\n\n<pre><code>for (String str : ids) {\n    //do something \n}\n</code></pre>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/25494474#25494474", "question_id": 18410035, "answer_id": 25494474}, {"body": "<p>The basic loop is not recommended as you do not know the implementation of the list.</p>\n\n<p>If that was a LinkedList, each call to </p>\n\n<pre><code>list.get(i)\n</code></pre>\n\n<p>would be iterating over the list, resulting in N^2 time complexity.</p>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/29523552#29523552", "question_id": 18410035, "answer_id": 29523552}, {"body": "<p>In Java 8 collection classes that implement <code>Iterable</code> (for example all lists) now have <code>forEach</code> method:</p>\n\n<pre><code>Arrays.asList(1,2,3,4).forEach(System.out::println);\n</code></pre>\n\n<p>The above example makes use of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow\">method-reference</a> introduced in Java 8. We can also iterate over a list using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow\">Stream</a> as:</p>\n\n<pre><code>Arrays.asList(1,2,3,4).stream().forEach(System.out::println);\n</code></pre>\n\n<p>The advantage with later option is that we can also make use of parallel streams wherever appropriate. If the objective is only to print the items irrespective of the order then we can use parallel stream as:</p>\n\n<pre><code>Arrays.asList(1,2,3,4).parallelStream().forEach(System.out::println);\n</code></pre>\n", "title": "Ways to iterate over a List in java?", "tags": ["java", "loops", "collections", "iteration"], "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java/37409771#37409771", "question_id": 18410035, "answer_id": 37409771}], "creation_date": 1377284414, "score": 255, "link": "http://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java", "question_id": 18410035}, {"body": "<p>When running this:</p>\n\n<pre><code>public class WhatTheShoot {\n\n    public static void main(String args[]){\n        try {\n            throw null;\n        } catch (Exception e){\n            System.out.println(e instanceof NullPointerException);\n            System.out.println(e instanceof FileNotFoundException);\n        }\n    }\n}\n</code></pre>\n\n<p>The response is:</p>\n\n<pre><code>true  \nfalse\n</code></pre>\n\n<p>Which was fairly stunning for me. I would have thought this would net a compile-time error. </p>\n\n<p><strong>Why can I throw null in Java, and why does it upcast it to a NullPointerException?</strong></p>\n\n<p><em>(Actually, I don't know if it is an \"upcast\", given I'm throwing null)</em></p>\n\n<p>Aside from a really really stupid interview question (please nobody ask this in an interview) I cannot see any reason to <code>throw null</code>. Maybe you want to be fired, but that's... I mean, why else would anyone <code>throw null</code>?</p>\n\n<p><strong>Fun fact</strong> <a href=\"http://en.wikipedia.org/wiki/IntelliJ_IDEA\">IntelliJ IDEA</a> 12 tells me that my line, <code>e instanceof NullPointerException</code>, will always be false. Which isn't true at all.</p>\n", "tags": ["java", "exception-handling", "nullpointerexception"], "title": "Why can I throw null in Java?", "answers": [{"body": "<p>It looks like it's not that <code>null</code> is treated as a <code>NullPointerException</code>, but that the act of attempting to <code>throw null</code> <em>itself</em> throws a <code>NullPointerException</code>.  </p>\n\n<p>In other words, <code>throw</code> checks that its argument is nonnull, and if it is null, it throws a <code>NullPointerException</code>.</p>\n\n<p>JLS 14.18 <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.18\">specifies</a> this behavior:</p>\n\n<blockquote>\n  <p>If evaluation of the Expression completes normally, producing a null value, then an instance V' of class NullPointerException is created and thrown instead of null. The throw statement then completes abruptly, the reason being a throw with value V'.</p>\n</blockquote>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17576950#17576950", "question_id": 17576922, "answer_id": 17576950}, {"body": "<p>Don't know for sure, but I'm guessing that \"throw null\"; does <em>not</em> work, and trying it causes the program to throw an exception, and that exception happens to be (drum roll) NullPointerException...</p>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17576962#17576962", "question_id": 17576922, "answer_id": 17576962}, {"body": "<p>It behaves in compliance with the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.18\">JLS</a>:</p>\n\n<blockquote>\n  <p>If evaluation of the Expression completes normally, producing a null value, then an instance V' of class NullPointerException is created and thrown instead of null. </p>\n</blockquote>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17577027#17577027", "question_id": 17576922, "answer_id": 17577027}, {"body": "<p><strong>why does it upcast it to a NullPointerException?</strong></p>\n\n<p>As per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.18\">JLS 14.18</a>:</p>\n\n<blockquote>\n  <p>A throw statement first evaluates the Expression. If the evaluation of the Expression completes abruptly for some reason, then the throw completes abruptly for that reason. If evaluation of the Expression completes normally, producing a non- null value V, then the throw statement completes abruptly, the reason being a throw with value V. <strong>If evaluation of the Expression completes normally, producing a null value, then an instance V\u2019 of class NullPointerException is created and thrown instead of null.</strong> The throw statement then completes abruptly, the reason being a throw with value V\u2019.</p>\n</blockquote>\n\n<p><strong>Why can i throw null in java ?</strong></p>\n\n<p>You can throw objects of type <code>Throwable</code> and since <code>null</code> is a valid reference for <code>Throwable</code> , compiler allows it.</p>\n\n<p>This is what <a href=\"http://tech.puredanger.com/2008/06/23/throw-null/\">Neal Gafter says</a></p>\n\n<p><em>Although null is assignable to every reference type, the type of null is not itself a reference type. It was our intent that the requirement that the expression in a throw statement be a reference type was to be removed from the third edition of the JLS, but that change never actually made it into the published version. Thus, this is a javac compiler bug which I introduced in SE 5.</em></p>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17577040#17577040", "question_id": 17576922, "answer_id": 17577040}, {"body": "<p>Thinking about it this way makes it a bit more obvious as to why this works:</p>\n\n<pre><code>try {\n    Exception foo = null;\n    if(false) {\n        foo = new FileNotFoundException();\n    } // Oops, forgot to set foo for the true case..\n    throw foo;\n} catch (Exception e){\n    System.out.println(e instanceof NullPointerException);\n    System.out.println(e instanceof FileNotFoundException);\n}\n</code></pre>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17581939#17581939", "question_id": 17576922, "answer_id": 17581939}, {"body": "<p>bharal...It looks a javac compiler bug. I think it was introduced in SE 5.\nNull can be assigned to any reference type. However, \"the type of null\" is not itself a reference type. The program compiles it because null can simply cast into Exception. \nAnd moreover throw looks for object reference after the declaration and as null can work as an object reference it displays the result.</p>\n\n<p>The JLS doc about throw as :</p>\n\n<blockquote>\n  <p>\u201cA throw statement first evaluates the Expression. If the evaluation\n  of the Expression completes abruptly for some reason, then the throw\n  completes abruptly for that reason. If evaluation of the Expression\n  completes normally, producing a non-null value V, then the throw\n  statement completes abruptly, the reason being a throw with value V.\n  If evaluation of the Expression completes normally, producing a null\n  value, then an instance V\u2019 of class NullPointerException is created\n  and thrown instead of null. The throw statement then completes\n  abruptly, the reason being a throw with value V\u2019.\u201d</p>\n</blockquote>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17593943#17593943", "question_id": 17576922, "answer_id": 17593943}, {"body": "<p><strong>Why would anyone (want to) throw null?</strong></p>\n\n<p>Perhaps the developer just wants to get hold of a stacktrace, and isn't particularly interested in naming the exception that he is about to catch.</p>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17598278#17598278", "question_id": 17576922, "answer_id": 17598278}, {"body": "<p><em>null</em> can be cast to anything*, including an Exception. Just as you could return null if your method signature specifies you should return an Exception (or indeed a string, or Person class), you can throw it.</p>\n\n<p>*Excluding primitive types.</p>\n", "title": "Why can I throw null in Java?", "tags": ["java", "exception-handling", "nullpointerexception"], "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java/17618214#17618214", "question_id": 17576922, "answer_id": 17618214}], "creation_date": 1373476624, "score": 244, "link": "http://stackoverflow.com/questions/17576922/why-can-i-throw-null-in-java", "question_id": 17576922}, {"body": "<p><em>Note: This is intended to be a canonical answer for a common problem.</em></p>\n\n<p>I have a Spring <code>@Service</code> class (<code>MileageFeeCalculator</code>) that has an <code>@Autowired</code> field (<code>rateService</code>), but the field is <code>null</code> when I try to use it. The logs show that both the <code>MileageFeeCalculator</code> bean and the <code>MileageRateService</code> bean are being created, but I get a <code>NullPointerException</code> whenever I try to call the <code>mileageCharge</code> method on my service bean. Why isn't Spring autowiring the field?</p>\n\n<p>Controller class:</p>\n\n<pre><code>@Controller\npublic class MileageFeeController {    \n    @RequestMapping(\"/mileage/{miles}\")\n    @ResponseBody\n    public float mileageFee(@PathVariable int miles) {\n        MileageFeeCalculator calc = new MileageFeeCalculator();\n        return calc.mileageCharge(miles);\n    }\n}\n</code></pre>\n\n<p>Service class:</p>\n\n<pre><code>@Service\npublic class MileageFeeCalculator {\n\n    @Autowired\n    private MileageRateService rateService; // &lt;--- should be autowired, is null\n\n    public float mileageCharge(final int miles) {\n        return (miles * rateService.ratePerMile()); // &lt;--- throws NPE\n    }\n}\n</code></pre>\n\n<p>Service bean that should be autowired in <code>MileageFeeCalculator</code> but it isn't:</p>\n\n<pre><code>@Service\npublic class MileageRateService {\n    public float ratePerMile() {\n        return 0.565f;\n    }\n}\n</code></pre>\n\n<p>When I try to <code>GET /mileage/3</code>, I get this exception:</p>\n\n<pre><code>java.lang.NullPointerException: null\n    at com.chrylis.example.spring_autowired_npe.MileageFeeCalculator.mileageCharge(MileageFeeCalculator.java:13)\n    at com.chrylis.example.spring_autowired_npe.MileageFeeController.mileageFee(MileageFeeController.java:14)\n    ...\n</code></pre>\n", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "title": "Why is my Spring @Autowired field null?", "answers": [{"body": "<p>The field annotated <code>@Autowired</code> is <code>null</code> because Spring doesn't know about the copy of <code>MileageFeeCalculator</code> that you created with <code>new</code> and didn't know to autowire it.</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html\">The Spring Inversion of Control (IoC) container</a> has three main logical components: a registry (called the <code>ApplicationContext</code>) of components (beans) that are available to be used by the application, a configurer system that injects objects' dependencies into them by matching up the dependencies with beans in the context, and a dependency solver that can look at a configuration of many different beans and determine how to instantiate and configure them in the necessary order.</p>\n\n<p>The IoC container isn't magic, and it has no way of knowing about Java objects unless you somehow inform it of them. When you call <code>new</code>, the JVM instantiates a copy of the new object and hands it straight to you--it never goes through the configuration process. There are three ways that you can get your beans configured.</p>\n\n<p>I have posted all of this code, using Spring Boot to launch, at <a href=\"https://github.com/chrylis/spring_autowired_npe_example\">this GitHub project</a>; you can look at a full running project for each approach to see everything you need to make it work. <strong>Tag with the <code>NullPointerException</code>: <a href=\"https://github.com/chrylis/spring_autowired_npe_example/tree/nonworking\"><code>nonworking</code></a></strong></p>\n\n<h2>Inject your beans</h2>\n\n<p>The most preferable option is to let Spring autowire all of your beans; this requires the least amount of code and is the most maintainable. To make the autowiring work like you wanted, also autowire the <code>MileageFeeCalculator</code> like this:</p>\n\n<pre><code>@Controller\npublic class MileageFeeController {\n\n    @Autowired\n    private MileageFeeCalculator calc;\n\n    @RequestMapping(\"/mileage/{miles}\")\n    @ResponseBody\n    public float mileageFee(@PathVariable int miles) {\n        return calc.mileageCharge(miles);\n    }\n}\n</code></pre>\n\n<p>If you need to create a new instance of your service object for different requests, you can still use injection by using <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-factory-scopes\">the Spring bean scopes</a>.</p>\n\n<p><strong>Tag that works by injecting the <code>@MileageFeeCalculator</code> service object: <a href=\"https://github.com/chrylis/spring_autowired_npe_example/tree/working-inject-bean\"><code>working-inject-bean</code></a></strong></p>\n\n<h2>Use @Configurable</h2>\n\n<p>If you really need objects created with <code>new</code> to be autowired, you can <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-atconfigurable\">use the Spring <code>@Configurable</code> annotation along with AspectJ compile-time weaving</a> to inject your objects. This approach inserts code into your object's constructor that alerts Spring that it's being created so that Spring can configure the new instance. This requires a bit of configuration in your build (such as compiling with <code>ajc</code>) and turning on Spring's runtime configuration handlers (<code>@EnableSpringConfigured</code> with the JavaConfig syntax). This approach is used by the Roo Active Record system to allow <code>new</code> instances of your entities to get the necessary persistence information injected.</p>\n\n<pre><code>@Service\n@Configurable\npublic class MileageFeeCalculator {\n\n    @Autowired\n    private MileageRateService rateService;\n\n    public float mileageCharge(final int miles) {\n        return (miles * rateService.ratePerMile());\n    }\n}\n</code></pre>\n\n<p><strong>Tag that works by using <code>@Configurable</code> on the service object: <a href=\"https://github.com/chrylis/spring_autowired_npe_example/tree/working-configurable\"><code>working-configurable</code></a></strong></p>\n\n<h2>Manual bean lookup: not recommended</h2>\n\n<p>This approach is suitable only for interfacing with legacy code in special situations. It is nearly always preferable to create a singleton adapter class that Spring can autowire and the legacy code can call, but it is possible to directly ask the Spring application context for a bean.</p>\n\n<p>To do this, you need a class to which Spring can give a reference to the <code>ApplicationContext</code> object:</p>\n\n<pre><code>@Component\npublic class ApplicationContextHolder implements ApplicationContextAware {\n    private static ApplicationContext context;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;   \n    }\n\n    public static ApplicationContext getContext() {\n        return context;\n    }\n}\n</code></pre>\n\n<p>Then your legacy code can call <code>getContext()</code> and retrieve the beans it needs:</p>\n\n<pre><code>@Controller\npublic class MileageFeeController {    \n    @RequestMapping(\"/mileage/{miles}\")\n    @ResponseBody\n    public float mileageFee(@PathVariable int miles) {\n        MileageFeeCalculator calc = ApplicationContextHolder.getContext().getBean(MileageFeeCalculator.class);\n        return calc.mileageCharge(miles);\n    }\n}\n</code></pre>\n\n<p><strong>Tag that works by manually looking up the service object in the Spring context: <a href=\"https://github.com/chrylis/spring_autowired_npe_example/tree/working-manual-lookup\"><code>working-manual-lookup</code></a></strong></p>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/19896871#19896871", "question_id": 19896870, "answer_id": 19896871}, {"body": "<p>If you are not coding a web application, make sure your class in which @Autowiring is done is a spring bean. Typically, spring container won't be aware of the class which we might think of as a spring bean. We have to tell the Spring container about our spring classes.</p>\n\n<p>This can be achieved by configuring in appln-contxt or <strong>the better way</strong> is to annotate class as <strong>@Component</strong> and please do not create the annotated class using new operator.\nMake sure you get it from Appln-context as below.</p>\n\n<pre><code>@Component\npublic class MyDemo {\n\n\n    @Autowired\n    private MyService  myService; \n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n            System.out.println(\"test\");\n            ApplicationContext ctx=new ClassPathXmlApplicationContext(\"spring.xml\");\n            System.out.println(\"ctx&gt;&gt;\"+ctx);\n\n            Customer c1=null;\n            MyDemo myDemo=ctx.getBean(MyDemo.class);\n            System.out.println(myDemo);\n            myDemo.callService(ctx);\n\n\n    }\n\n    public void callService(ApplicationContext ctx) {\n        // TODO Auto-generated method stub\n        System.out.println(\"---callService---\");\n        System.out.println(myService);\n        myService.callMydao();\n\n    }\n\n}\n</code></pre>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/23212378#23212378", "question_id": 19896870, "answer_id": 23212378}, {"body": "<p>Another solution would be putting call:\n<code>SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this)</code><br>\nTo MileageFeeCalculator constructor like this:</p>\n\n<pre><code>@Service\npublic class MileageFeeCalculator {\n\n    @Autowired\n    private MileageRateService rateService; // &lt;--- will be autowired when constructor is called\n\n    public MileageFeeCalculator() {\n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this)\n    }\n\n    public float mileageCharge(final int miles) {\n        return (miles * rateService.ratePerMile()); \n    }\n}\n</code></pre>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/29771111#29771111", "question_id": 19896870, "answer_id": 29771111}, {"body": "<p><em>I'm new to Spring, but I discovered this working solution. Please tell me if it's a deprecable way.</em></p>\n\n<p>I make Spring inject <code>applicationContext</code> in this bean:</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SpringUtils {\n\n    public static ApplicationContext ctx;\n\n    /**\n     * Make Spring inject the application context\n     * and save it on a static variable,\n     * so that it can be accessed from any point in the application. \n     */\n    @Autowired\n    private void setApplicationContext(ApplicationContext applicationContext) {\n        ctx = applicationContext;       \n    }\n}\n</code></pre>\n\n<p>You can put this code also in the main application class if you want.</p>\n\n<p>Other classes can use it like this:</p>\n\n<pre><code>MyBean myBean = (MyBean)SpringUtils.ctx.getBean(MyBean.class);\n</code></pre>\n\n<p>In this way <strong>any bean can be obtained by any object in the application</strong> (also intantiated with <code>new</code>) and <strong>in a static way</strong>.</p>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/30237725#30237725", "question_id": 19896870, "answer_id": 30237725}, {"body": "<p>Your problem is new (object creation in java style)</p>\n\n<pre><code> MileageFeeCalculator calc = new MileageFeeCalculator();\n</code></pre>\n\n<p>With annotation <code>@Service</code>, <code>@Component</code>, <code>@Configuration</code> beans are created in the<br>\n    application context of Spring when server is started. But when we create objects \n    using new operator the object is not registered in  application context which  is already created. For Example Employee.java class i have used.</p>\n\n<p>Check this out:</p>\n\n<pre><code>public class ConfiguredTenantScopedBeanProcessor implements BeanFactoryPostProcessor {\n\n@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    String name = \"tenant\";\n    System.out.println(\"Bean factory post processor is initialized\"); \n    beanFactory.registerScope(\"employee\", new Employee());\n\n    Assert.state(beanFactory instanceof BeanDefinitionRegistry,\n            \"BeanFactory was not a BeanDefinitionRegistry, so CustomScope cannot be used.\");\n    BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n\n    for (String beanName : beanFactory.getBeanDefinitionNames()) {\n        BeanDefinition definition = beanFactory.getBeanDefinition(beanName);\n        if (name.equals(definition.getScope())) {\n            BeanDefinitionHolder proxyHolder = ScopedProxyUtils.createScopedProxy(new BeanDefinitionHolder(definition, beanName), registry, true);\n            registry.registerBeanDefinition(beanName, proxyHolder.getBeanDefinition());\n        }\n    }\n}\n\n}\n</code></pre>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/33011511#33011511", "question_id": 19896870, "answer_id": 33011511}, {"body": "<p>Did you make sure that <a href=\"/questions/tagged/spring\" class=\"post-tag\" title=\"show questions tagged &#39;spring&#39;\" rel=\"tag\">spring</a> is actually scanning the page which contains the <code>MileageRateSrvice</code> class?</p>\n\n<p>In your Spring <a href=\"/questions/tagged/xml\" class=\"post-tag\" title=\"show questions tagged &#39;xml&#39;\" rel=\"tag\">xml</a> file you should add something like this...</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:component-scan base-package=\"com.chrylis.example.spring_autowired_npe\"/&gt;\n</code></pre>\n\n<p>where <code>com.chrylis.example.spring_autowired_npe</code> is the parent package for all of your Spring annotated classes.</p>\n\n<p>For more info see the documentation here: <a href=\"http://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch06s02.html\" rel=\"nofollow\">http://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch06s02.html</a></p>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/33096445#33096445", "question_id": 19896870, "answer_id": 33096445}, {"body": "<p>I once encountered the same issue when I was not quite used to <code>the life in the IoC world</code>. The <code>@Autowired</code> field of one of my beans is null at runtime.</p>\n\n<p>The root cause is, instead of using the auto-created bean maintained by the Spring IoC container (whose <code>@Autowired</code> field is <code>indeed</code> properly injected), I am <code>newing</code> my own instance of that bean type and using it. Of course this one's <code>@Autowired</code> field is null because Spring has no chance to inject it.</p>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/33672798#33672798", "question_id": 19896870, "answer_id": 33672798}, {"body": "<p>It seems to be rare case but here is what happened to me:</p>\n\n<p>We used <code>@inject</code> instead of <code>@autowired</code> which is javaee standard supported by spring. Every places it worked fine and the beans injected correctly, instead of one place. The bean injection seems the same</p>\n\n<pre><code>@inject\nCalculator myCalculator\n</code></pre>\n\n<p>At last we found that the error was that we (actually, the eclipse idea out complete feature) imported <code>com.opensymphony.xwork2.Inject</code> instead of <code>javax.inject.Inject</code> !</p>\n\n<p>So to summarize, make sure that your annotations (<code>@Autowired</code>, <code>@Inject</code>, <code>@Service</code> ,... ) have correct packages!</p>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/37765291#37765291", "question_id": 19896870, "answer_id": 37765291}, {"body": "<p>Actually you should use either JVM managed Objects or Spring managed Object to invoke methods.\nfrom your above code in your controller class you are creating new object to call your service class which have auto wired object.</p>\n\n<pre><code>MileageFeeCalculator calc = new MileageFeeCalculator();\n</code></pre>\n\n<p>so it won't work that way. </p>\n\n<p>solution is make this MileageFeeCalculator as autowired object in Controller itself.</p>\n\n<p>Change your Controller class like below.</p>\n\n<pre><code>@Controller\npublic class MileageFeeController {\n\n    @Autowired\n    MileageFeeCalculator calc;  \n\n    @RequestMapping(\"/mileage/{miles}\")\n    @ResponseBody\n    public float mileageFee(@PathVariable int miles) {\n        return calc.mileageCharge(miles);\n    }\n}\n</code></pre>\n", "title": "Why is my Spring @Autowired field null?", "tags": ["java", "spring", "null", "nullpointerexception", "autowired"], "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null/38585975#38585975", "question_id": 19896870, "answer_id": 38585975}], "creation_date": 1384128303, "score": 220, "link": "http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null", "question_id": 19896870}, {"body": "<p>So I have tried to add my local .jar file dependency to my build.gradle file:</p>\n\n<pre><code>apply plugin: 'java'\n\nsourceSets {\n    main {\n        java {\n            srcDir 'src/model'\n        }\n    }\n}\n\ndependencies {\n    runtime files('libs/mnist-tools.jar', 'libs/gson-2.2.4.jar')\n    runtime fileTree(dir: 'libs', include: '*.jar')\n} \n</code></pre>\n\n<p>And you can see that I added the .jar files into the referencedLibraries folder here: <a href=\"https://github.com/WalnutiQ/wAlnut/tree/version-2.3.1/referencedLibraries\">https://github.com/WalnutiQ/wAlnut/tree/version-2.3.1/referencedLibraries</a></p>\n\n<p>But the problem is that when I run the command: gradle build on the command line I get the following error:</p>\n\n<pre><code>error: package com.google.gson does not exist\nimport com.google.gson.Gson;\n</code></pre>\n\n<p>Here is my entire repo: <a href=\"https://github.com/WalnutiQ/wAlnut/tree/version-2.3.1\">https://github.com/WalnutiQ/wAlnut/tree/version-2.3.1</a></p>\n", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "title": "How to add local .jar file dependency to build.gradle file?", "answers": [{"body": "<p>If you really need to take that .jar from a local directory, </p>\n\n<p>Add next to your module gradle (Not the app gradle file):</p>\n\n<pre><code>repositories {\n   flatDir {\n       dirs 'libs'\n   }\n}\n\n\ndependencies {\n   compile name: 'gson-2.2.4'\n}\n</code></pre>\n\n<p>However, being a standard .jar in an actual maven repository, why don't you try this?</p>\n\n<pre><code>repositories {\n   mavenCentral()\n}\ndependencies {\n   compile 'com.google.code.gson:gson:2.2.4'\n}\n</code></pre>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/20700183#20700183", "question_id": 20700053, "answer_id": 20700183}, {"body": "<p>Something like this worked for me (with relative path) when I needed a local jar dependency:</p>\n\n<pre><code>dependencies {\n    compile files('libs/something_local.jar')\n}\n</code></pre>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/20956456#20956456", "question_id": 20700053, "answer_id": 20956456}, {"body": "<p>You could also do this which would include all JARs in the local repository.  This way you wouldn't have to specify it every time.</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/23897638#23897638", "question_id": 20700053, "answer_id": 23897638}, {"body": "<p>The accepted answer is good, however, I would have needed various library configurations within my multi-project Gradle build to use the same 3rd-party Java library. </p>\n\n<p>Adding '<strong>$rootProject.projectDir</strong>' to the '<strong>dir</strong>' path element within my '<strong>allprojects</strong>' closure meant each sub-project referenced the same '<em>libs</em>' directory, and <strong><em>not</em></strong> a version local to that sub-project:</p>\n\n<pre><code>//gradle.build snippet\nallprojects {\n    ...\n\n    repositories {\n        //All sub-projects will now refer to the same 'libs' directory\n        flatDir {\n            dirs \"$rootProject.projectDir/libs\"\n        }\n        mavenCentral()\n    }\n\n    ...\n}\n</code></pre>\n\n<p>EDIT by Quizzie: changed \"${rootProject.projectDir}\" to \"$rootProject.projectDir\" (works in the newest Gradle version).</p>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/27406064#27406064", "question_id": 20700053, "answer_id": 27406064}, {"body": "<p>An other way:</p>\n\n<p>Add library in the tree view. Right click on this one. Select menu \"Add As Library\".\nA dialog appear, let you select module. OK and it's done.</p>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/27503273#27503273", "question_id": 20700053, "answer_id": 27503273}, {"body": "<p>I couldn't get the suggestion above at <a href=\"http://stackoverflow.com/a/20956456/1019307\">http://stackoverflow.com/a/20956456/1019307</a> to work.  This worked for me though.  For a file <code>secondstring-20030401.jar</code> that I stored in a <code>libs/</code> directory in the root of the project:</p>\n\n<pre><code>repositories {\n    mavenCentral()\n    // Not everything is available in a Maven/Gradle repository.  Use a local 'libs/' directory for these.\n    flatDir {\n       dirs 'libs'\n   }\n}\n\n...\n\ncompile name: 'secondstring-20030401'\n</code></pre>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/29115646#29115646", "question_id": 20700053, "answer_id": 29115646}, {"body": "<p>A simple way to do this is </p>\n\n<pre><code>compile fileTree(include: ['*.jar'], dir: 'libs')\n</code></pre>\n\n<p>it will compile all the .jar files in your libs directory in App.</p>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/32068163#32068163", "question_id": 20700053, "answer_id": 32068163}, {"body": "<p>The Question already has been answered in detail. I still want to add something that seems very surprising for me:</p>\n\n<p>The \"gradle dependencies\" task does not list any file dependencies. Even though you might think so, as they have been specified in the \"dependencies\" block after all..</p>\n\n<p>So don't rely on the output of this to check whether your referenced local lib files are working correctly.</p>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/33440295#33440295", "question_id": 20700053, "answer_id": 33440295}, {"body": "<p>Goto File -> Project Structure -> Modules -> app -> Dependencies Tab -> Click on +(button) -> Select File Dependency - > Select jar file in the lib folder</p>\n\n<p>This steps will automatically add your dependency to gralde</p>\n\n<p>Very Simple </p>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/36053908#36053908", "question_id": 20700053, "answer_id": 36053908}, {"body": "<p>The best way to do it is to add this in your build.gradle file and hit the sync option </p>\n\n<pre><code>dependency{\n    compile files('path.jar')\n}\n</code></pre>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/38912946#38912946", "question_id": 20700053, "answer_id": 38912946}, {"body": "<p>The solution which worked for me is the usage of fileTree in build.gradle file.\nKeep the .jar which need to add as dependency in libs folder. The give the below code in dependenices block in build.gradle:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n}\n</code></pre>\n", "title": "How to add local .jar file dependency to build.gradle file?", "tags": ["java", "gradle", "dependency-management", "build.gradle", "gradle-eclipse"], "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file/39114988#39114988", "question_id": 20700053, "answer_id": 39114988}], "creation_date": 1387530884, "score": 216, "link": "http://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file", "question_id": 20700053}, {"body": "<p>I'm compiling a project in Eclipse using m2eclipse.  I set the jdk path in eclipse like this:</p>\n\n<pre><code>Windows--&gt;preferences--&gt;installed jres--&gt; jdk1.7.xx  path\n</code></pre>\n\n<p>but this is showing error </p>\n\n<pre><code>[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE    rather than a JDK?\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.424s\n[INFO] Finished at: Tue Oct 29 15:21:01 IST 2013\n[INFO] Final Memory: 5M/15M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-   plugin:3.1:compile (default-compile) on project TEST-WEB: Compilation failure\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n</code></pre>\n", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "answers": [{"body": "<ol>\n<li>Set JAVA_HOME to JDK root -  required if you run command line or maven(google for this variable)</li>\n<li>In project properties in section Java Compiller select required JDK - if you run directly from eclipse</li>\n</ol>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/19655276#19655276", "question_id": 19655184, "answer_id": 19655276}, {"body": "<p>For me, nothing worked until I made this change to my pom.xml:</p>\n\n<pre><code>&lt;build&gt;\n...\n    &lt;plugins&gt;\n    ...\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;executable&gt;C:\\Program Files\\Java\\jdk1.7.0_45\\bin\\javac.exe&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><em>Other Notes</em></p>\n\n<p>I could see that m2e was executing in a JRE, not the JDK.  Nothing I did changed this, including adding this to the eclipse.ini:</p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.7.0_45\\bin\\javaw.exe\n</code></pre>\n\n<p>In the end I never got m2e to execute in a JDK, but setting the Java compiler explicitly (as above) did the trick.</p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/20864550#20864550", "question_id": 19655184, "answer_id": 20864550}, {"body": "<ol>\n<li>On your Eclipse IDE, go into <strong><em>Window</em></strong> > <strong><em>Preferences</em></strong> > <strong><em>Java</em></strong> > <strong><em>Installed JREs</em></strong> > and check your <strong><em>installed JREs</em></strong>. You should have an entry with a JDK there. </li>\n<li>Select the Execution Env as show below. Click <strong><em>OK</em></strong></li>\n<li>Then <strong><em>Right-Click</em></strong> on your Project  -> <strong><em>Maven</em></strong> -> <strong><em>Update Project</em></strong></li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/KEU8N.png\"><img src=\"http://i.stack.imgur.com/KEU8N.png\" alt=\"enter image description here\"></a></p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/21279068#21279068", "question_id": 19655184, "answer_id": 21279068}, {"body": "<p>An alternative if jaipster's answer does not work is to go to:<br>\nWindow > Preferences > Java > Installed JREs</p>\n\n<p>Then to edit the jre so that it points to the jdk and not the jre (the jre home filed in the jre package editor)</p>\n\n<p>That worked for me.</p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/22452465#22452465", "question_id": 19655184, "answer_id": 22452465}, {"body": "<p>For me, it is exactly what the maven of eclipse complains</p>\n\n<p><img src=\"http://i.stack.imgur.com/Dgj0v.png\" alt=\"enter image description here\"></p>\n\n<p>So, I press <code>Edit</code> button and change path to the JDK Folder, then clean project and everything starts to work</p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/23288884#23288884", "question_id": 19655184, "answer_id": 23288884}, {"body": "<p>I was getting this error when trying to do a maven build from within eclipse. </p>\n\n<p>For me, the answer was going to <code>Run</code> -> <code>Run Configurations</code>, selecting the <code>Maven Build</code> I was running (from the left panel). Then, I clicked the <code>JRE</code> tab and selected the option <code>Workspace default JRE</code></p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/25632635#25632635", "question_id": 19655184, "answer_id": 25632635}, {"body": "<p>Try this.</p>\n\n<pre><code>&lt;build&gt;\n...\n    &lt;plugins&gt;\n    ...\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;executable&gt; path to jdk \\bin\\javac.exe&lt;/executable&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/25645359#25645359", "question_id": 19655184, "answer_id": 25645359}, {"body": "<p>i faced the same issue, the mistake i made was i added jre path only in the path var,not jdk path .When jdk path was added to path and build the maven project its working perfect .Thanks all</p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/31324784#31324784", "question_id": 19655184, "answer_id": 31324784}, {"body": "<p>I did the following change and it worked for me.Hope it helps someone.<a href=\"http://i.stack.imgur.com/Jr1k9.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/Jr1k9.png\" alt=\"enter image description here\"></a></p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/34871755#34871755", "question_id": 19655184, "answer_id": 34871755}, {"body": "<p>There is another possible answer to this question, and I may be the only person foolish enough to have stumbled upon this, but I think it's worth adding, since none of the other answers applied as I already had those settings correct.</p>\n\n<p>When you install a JDK, the installer asks you where you want to install the files. By default, on Windows, this is something like C:\\Program Files\\Java\\jdk1.8.0_74 (or whatever version you are installing).</p>\n\n<p>It then asks you for a directory to install the JRE to, which by default is something like C:\\Program Files\\Java\\jre1.8.0_74.</p>\n\n<p>Note that one is <strong>jdk</strong>1.8.0_74 and the other is <strong>jre</strong>1.8.0_74</p>\n\n<p>I was rushing things, and thinking the installer was asking me the same question twice, set both my JDK and JRE install locations to D:\\devtools\\jdk\\jdk1.8.0_74, resulting in the installer overwriting the JDK with the JRE. This resulted in (among other things) a missing javac.exe in my JDK bin, and the same error the OP reported here in all my maven builds.</p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/35306036#35306036", "question_id": 19655184, "answer_id": 35306036}, {"body": "<p><strong>In my case it was solved by doing this:</strong> </p>\n\n<p>Go to your 'Runtime Configuration' and configure your JRE to an JDK.</p>\n\n<p><a href=\"http://i.stack.imgur.com/WGAZi.png\"><img src=\"http://i.stack.imgur.com/WGAZi.png\" alt=\"Select the right JDK for your Runtime\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/trpb7.png\"><img src=\"http://i.stack.imgur.com/trpb7.png\" alt=\"Select default JRE\"></a></p>\n\n<p>I copied answer just in case it is deleted for some reason, but the source is <a href=\"http://stackoverflow.com/a/32617639/1754020\">here</a></p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/36437439#36437439", "question_id": 19655184, "answer_id": 36437439}, {"body": "<p>If you are running the <code>Maven</code> command from <code>cmd</code>, make sure you set the jdk path before running the command. In my case, I have created a <code>.bat</code> file containing the following:</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_60\nstart cmd.exe /k \"cd c:\\aem_proj\\sis\\aau\"\n</code></pre>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/38509928#38509928", "question_id": 19655184, "answer_id": 38509928}, {"body": "<p>In addition to answer above, I could say that just try to run Maven from the terminal (outside of Eclipse). In this way, if it builds from outside but not in Eclipse, you can understand that the problem should be in Eclipse.</p>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/38566218#38566218", "question_id": 19655184, "answer_id": 38566218}, {"body": "<p>I tried all of the above, however, still getting the same error message. </p>\n\n<p>In my case an actual JRE was incorrectly used as JRE System Library in the project-specific build path which was obviously overriding all those other settings discussed here.</p>\n\n<p>If that is so in your case try the following:</p>\n\n<ol>\n<li>Open the project-specific libraries of the Java Build Path: Right-click \"Project > Build Path > Configure Build Path...\" and select \"Libraries\" tab. </li>\n<li>Select the \"JRE System Library\" entry and hit \"Remove\".</li>\n<li>Hit \"Add Library...\". </li>\n<li>A wizard pops up. Select \"JRE System Library\" and hit \"Next >\".</li>\n<li>Now select the correct JDK (in my case \"Workspace default JRE\", which I\nconfigured using a JDK).</li>\n<li>Close wizard by hitting \"Finish\".</li>\n<li>Close \"Properties\" dialog by hitting \"OK\".</li>\n</ol>\n", "title": "No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?", "tags": ["java", "eclipse", "maven", "java-7", "m2eclipse"], "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra/39330602#39330602", "question_id": 19655184, "answer_id": 39330602}], "creation_date": 1383041510, "score": 209, "link": "http://stackoverflow.com/questions/19655184/no-compiler-is-provided-in-this-environment-perhaps-you-are-running-on-a-jre-ra", "question_id": 19655184}, {"body": "<p>I am using maven to create a dynamic webapp in Eclipse. I added some folders like <code>src/test/java</code> and <code>src/test/resources</code>. Also I changed the library in Java Build Path to obtain the JavaSE-1.7. It's all OK up to here.</p>\n\n<p>When I tried to change the Projects Facet Dynamic Web Module something  went wrong. I had change the Java to 1.7 in the same place. And it still told me, cannot change version of project facet Dynamic Web Module to 3.0.</p>\n\n<p>I have changed everything that would effect the changing I think.</p>\n", "tags": ["java", "eclipse", "maven"], "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "answers": [{"body": "<p>I updated my <code>web.xml</code></p>\n\n<pre><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee \n          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    version=\"3.0\"&gt;\n    &lt;display-name&gt;Servlet 3.0 Web Application&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and then just <strong>Maven -> Update Project ...</strong></p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/18361713#18361713", "question_id": 18122336, "answer_id": 18361713}, {"body": "<p>Another way is to edit the project facet configuration file itself: <code>org.eclipse.wst.common.project.facet.core.xml</code></p>\n\n<p>Change the dynamic web module version in this line to 3.0 - <code>&lt;installed facet=\"jst.web\" version=\"2.5\"/&gt;</code> </p>\n\n<p>And then:</p>\n\n<ol>\n<li>Right-click on the project (in the <em>Project Explorer</em> panel).</li>\n<li>Select <strong>Maven \u00bb Update Project</strong> (or press <kbd>Alt+F5</kbd>)</li>\n</ol>\n\n<p>You'll find this file in the <code>.settings</code> directory within the Eclipse project.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/18632054#18632054", "question_id": 18122336, "answer_id": 18632054}, {"body": "<p>In my case the web.xml was referenced by a dtd. After I changed this to xsd reference like the one posted by Sydney it worked.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/20142843#20142843", "question_id": 18122336, "answer_id": 20142843}, {"body": "<p>I had the same issue and I even tried to remove the project and add it again. What did the trick was to remove the <code>.settings</code> directory.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/20146436#20146436", "question_id": 18122336, "answer_id": 20146436}, {"body": "<p>you please open the Navigator view  and following step</p>\n\n<ol>\n<li>(Window > Show View > Other > General) and find that there is a .settings folder under your project, expand it and then open the file \"org.eclipse.wst.common.project.facet.core.xml\", make the below changes and save the file. </li>\n<li>Change the dynamic web module version in this line to 2.5 -  </li>\n<li>Change the Java version in this line to 1.5 or higher - . </li>\n</ol>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/20262256#20262256", "question_id": 18122336, "answer_id": 20262256}, {"body": "<p>I think I had the same problem as you. my web.xml had version 2.5 while the project had the (right-click on Project-> Properties-> Progect Facets->) Dynamic Web Module 2.3. \nAlthough I tried to change the version from 2.3 to 2.5 ECLIPSE did not permit it. \nSolution: I removed the check mark under the heading Dynamic Web Module, I saved and I had Update Project. Automatically re-awakening is entering the box with the correct version. I use Eclipse Kepler. </p>\n\n<p>Hope that useful.</p>\n\n<p>p.s.</p>\n\n<p>look at the comments of Jonathan just below, very useful. </p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/21547854#21547854", "question_id": 18122336, "answer_id": 21547854}, {"body": "<p>The web.xml trick works because you're now explicitly telling WTP that you are using that specific servlet version, regardless of what the container supports. </p>\n\n<p>In my case, I am using the annotation config within a Maven project and I do not have a web.xml file. It turns out that in the absence of a web.xml, WTP looks at your Maven dependencies to determine what Servlet version to use. In my case, I had defined the following:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax&lt;/groupId&gt;\n  &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n  &lt;version&gt;7.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Changing it to 6.0 fixed the problem and it's now using Servlet 3.0 instead of 3.1, which is the default for JavaEE 7. Since I had to go from Tomcat 8 to Tomcat 7, Tomcat 7 only supports the JavaEE 6 Web profile. Now things work wonderfully.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/21780687#21780687", "question_id": 18122336, "answer_id": 21780687}, {"body": "<p>Open web.xml from project structure\nhttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    version=\"3.0\">\n    Servlet 3.0 Web Application\n</p>\n\n<p>and update web.xml file\nfor example change version = \"2.5\"</p>\n\n<p>Also change the org.eclipse.wst.common.project.facet.core.xml file from your project .settings file\nFollow the steps\n1. Window > Show View > Other > General > Navigator</p>\n\n<ol>\n<li><p>There is a .settings folder under your project directory</p></li>\n<li><p>Change the dynamic web module version in this line to 2.5\n4.Change the Java version in this line to 1.5 or higher </p></li>\n</ol>\n\n<p>Now refresh your project and get set to run on your server. </p>\n\n<p>Do follow the blog for the solution \n<a href=\"http://scrapillars.blogspot.in/2014/02/how-to-change-project-facet-in-eclipse.html\">http://scrapillars.blogspot.in/2014/02/how-to-change-project-facet-in-eclipse.html</a></p>\n\n<p>The solution is produced with image illustrations</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/21980436#21980436", "question_id": 18122336, "answer_id": 21980436}, {"body": "<p>Doing maven update or reimporting the project did not help. @Sydney's answer is right; in addition I have to recreate the project in different workspace as  said in <a href=\"http://stackoverflow.com/questions/22361005/javaserver-faces-2-2-can-not-be-installed/22362617?noredirect=1#22362617\">JavaServer Faces 2.2 can not be installed</a></p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/22364954#22364954", "question_id": 18122336, "answer_id": 22364954}, {"body": "<p>Delete </p>\n\n<pre><code>.settings \n.classpatch \n.projejct \ntarget\n</code></pre>\n\n<p>and import again the maven project.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/25638545#25638545", "question_id": 18122336, "answer_id": 25638545}, {"body": "<p>I had the same issue, editing web.xml as well as changing file in .settings folder alone didn't help. My solution was to directly point maven compiler plugin to use the desired java version by editing pom.xml:</p>\n\n<pre><code>  &lt;build&gt;\n    ...\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;    \n  &lt;/build&gt; \n</code></pre>\n\n<p>Now run Maven->Update project and after that you can change servlets version in properties->project facets->Dynamic Web module version or, as written earlier, by manually editing org.eclipse.wst.common.project.facet.core.xml in .settings folder of your project.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/28089319#28089319", "question_id": 18122336, "answer_id": 28089319}, {"body": "<p>Right click the <strong>project</strong> &rarr; <strong>Properties</strong>; in <strong>Project Facets</strong>, deselect <strong>Dynamic Web Module</strong> (version should be <strong>3.1</strong>) and deselect <strong>JavaServer Faces</strong> (version is <strong>2.2</strong>).</p>\n\n<p>Change this:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n</code></pre>\n\n<p>to this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:javaee=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    version=\"3.0\"&gt;\n</code></pre>\n\n<p>Then remove the prefix before <code>param-name</code> and the like.</p>\n\n<p>Finally, <strong>Maven</strong> -> <strong>Update project</strong>.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/29997526#29997526", "question_id": 18122336, "answer_id": 29997526}, {"body": "<p>Open the org.eclipse.wst.common.project.facet.core.xml file and change the jst.web version to 3.0. Also update the web.xml to version 3.0. Save and update the project. Hope this helps. I am using Eclipse Juno</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/30303756#30303756", "question_id": 18122336, "answer_id": 30303756}, {"body": "<p>My solution to the problem that didn't allowed me to change the version of project facet Dynamic Web Module in Eclipse (Mars) was:</p>\n\n<ul>\n<li>Disable Maven Nature</li>\n<li>Ensure that the web.xml namespaces point to right version</li>\n<li>Re-enable Maven Nature</li>\n<li>Maven \u00bb Update Project (or press Alt+F5)</li>\n</ul>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/34771780#34771780", "question_id": 18122336, "answer_id": 34771780}, {"body": "<p>This is a variation on pagurix's answer, but using Eclipse Mars. </p>\n\n<p>Change your web.xml file to web.bak </p>\n\n<p>Ignore the errors, we'll regenerate it next. </p>\n\n<p>Go into project properties -> project facets and set the Dynamic Web Module version to what you need. Eclipse now allows you to save. </p>\n\n<p>Now right-click on the project. Choose Java EE Tools -> Generate Deployment Descriptor Stub. </p>\n\n<p>This creates a new web.xml with the required version. </p>\n\n<p>Open the new web.xml and copy across the XML header and the complete web-app opening tag to your original web.bak, delete the new web.xml and rename web.bak back to web.xml.</p>\n\n<p>Done.</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/35012019#35012019", "question_id": 18122336, "answer_id": 35012019}, {"body": "<p>This Problem With version right click on the project->properties->Project Facets->right click on Dynamic Web Module->unlock it-> uncheck->select 2.5 version->Apply->Update the maven</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/35402725#35402725", "question_id": 18122336, "answer_id": 35402725}, {"body": "<p>Mine was <code>Web Module 3.0</code> in <code>web.xml</code>, but in <code>properties&gt;Dynamic Web Module</code> It was on <code>3.1</code></p>\n\n<p>I changed the <code>web.xml</code> to this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_1.xsd\" id=\"WebApp_ID\" version=\"3.1\"&gt;\n</code></pre>\n\n<p>after this change, do: <code>right click on project&gt;Maven&gt;Update Project...</code></p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/35539518#35539518", "question_id": 18122336, "answer_id": 35539518}, {"body": "<p>If answer by Sydney still doesn't help then try below.\nAfter following Sydney's answer, goto Properties > Projects Facets deselect Dynamic Web Module and then change the version to match your web.config and then select again. Apply > Save\nThen Maven Update.</p>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\nxmlns:web=\"http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\nxsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee\nhttp://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\nid=\"Web_App_1\" version=\"3.1\"&gt;\n\n&lt;display-name&gt;JavaServerFaces&lt;/display-name&gt;\n\n&lt;!-- Change to \"Production\" when you are ready to deploy --&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;\n    &lt;param-value&gt;Development&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;!-- Welcome page --&gt;\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;jsfs/hello.xhtml&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n\n&lt;!-- JSF mapping --&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;!-- Map these files with JSF --&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;jsfs/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.jsf&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.faces&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p></p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/35554055#35554055", "question_id": 18122336, "answer_id": 35554055}, {"body": "<p>I tried many of the answers here, but none of them worked for me.\nThen I found an article about my problem <a href=\"http://qussay.com/2013/09/13/solving-dynamic-web-module-3-0-requires-java-1-6-or-newer-in-maven-projects/comment-page-2/#comment-163664\" rel=\"nofollow\">here</a>. I thought of sharing it here too.</p>\n\n<p>Below are the steps taken in brief.</p>\n\n<ol>\n<li>Set Compiler compliance level.</li>\n<li>Update project facet</li>\n<li>Update installed JRE from preferences </li>\n<li>Adding configuration in pom.xml to use java 1.7 and finally</li>\n<li>updating project from Maven.</li>\n</ol>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/35700808#35700808", "question_id": 18122336, "answer_id": 35700808}, {"body": "<p>Best and simple steps solved this problem for me is \n1) <strong>Properties</strong> -> <strong>Project Facets</strong> -> Deselect/unmark the check box of <strong>Dynamic Web Module</strong> -> Apply\n2)Now change to the desired version Apply\n3)Check the <strong>Dynamic web Module</strong> check box..\n--Now your are <strong>done</strong>--</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/36324943#36324943", "question_id": 18122336, "answer_id": 36324943}, {"body": "<p>I had the same issue ,deleting the .settings folder resolved the issue</p>\n", "title": "Cannot change version of project facet Dynamic Web Module to 3.0?", "tags": ["java", "eclipse", "maven"], "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0/38640610#38640610", "question_id": 18122336, "answer_id": 38640610}], "creation_date": 1375953731, "score": 204, "link": "http://stackoverflow.com/questions/18122336/cannot-change-version-of-project-facet-dynamic-web-module-to-3-0", "question_id": 18122336}, {"body": "<p>I have a simple question about strings in Java. The following segment of simple code just concatenates two strings and then compares them with <code>==</code>.</p>\n\n<pre><code>String str1=\"str\";\nString str2=\"ing\";\nString concat=str1+str2;\n\nSystem.out.println(concat==\"string\");\n</code></pre>\n\n<p>The comparison expression <code>concat==\"string\"</code> returns <code>false</code> as obvious (I understand the difference between <code>equals()</code> and <code>==</code>).</p>\n\n<hr>\n\n<p>When these two strings are declared <code>final</code> like so,</p>\n\n<pre><code>final String str1=\"str\";\nfinal String str2=\"ing\";\nString concat=str1+str2;\n\nSystem.out.println(concat==\"string\");\n</code></pre>\n\n<p>The comparison expression <code>concat==\"string\"</code>, in this case returns <code>true</code>. Why does <code>final</code> make a difference? Does it have to do something with the intern pool or I'm just being misled?</p>\n", "tags": ["java", "string", "final"], "title": "Comparing strings with == which are declared final in Java", "answers": [{"body": "<p>When you declare a <code>String</code> (which is <em>immutable</em>) variable as <code>final</code>, and initialize it with a compile-time constant expression, it also becomes a compile-time constant expression, and its value is inlined by the compiler where it is used. So, in your second code example, after inlining the values, the string concatenation is translated by the compiler to:</p>\n\n<pre><code>String concat = \"str\" + \"ing\";  // which then becomes `String concat = \"string\";`\n</code></pre>\n\n<p>which when compared to <code>\"string\"</code> will give you <code>true</code>, because string literals are <em>interned</em>.</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4-300\">JLS &sect;4.12.4 - <code>final</code> Variables</a>:</p>\n\n<blockquote>\n  <p>A variable of primitive type or type <code>String</code>, that is <code>final</code> and initialized with a compile-time constant expression (\u00a715.28), is called a <em>constant variable</em>.</p>\n</blockquote>\n\n<p>Also from <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28-200\">JLS &sect;15.28 - Constant Expression:</a></p>\n\n<blockquote>\n  <p>Compile-time constant expressions of type <code>String</code> are always <em>\"interned\"</em> so as to share unique instances, using the method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern%28%29\"><code>String#intern()</code></a>.</p>\n</blockquote>\n\n<hr />\n\n<p>This is not the case in your first code example, where the <code>String</code> variables are not <code>final</code>. So, they are not a compile-time constant expressions. The concatenation operation there will be delayed till runtime, thus leading to the creation of a new <code>String</code> object. You can verify this by comparing byte code of both the codes.</p>\n\n<p>The first code example <strong>(non-<code>final</code> version)</strong> is compiled to the following byte code:</p>\n\n<pre><code>  Code:\n   0:   ldc     #2; //String str\n   2:   astore_1\n   3:   ldc     #3; //String ing\n   5:   astore_2\n   6:   new     #4; //class java/lang/StringBuilder\n   9:   dup\n   10:  invokespecial   #5; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n   13:  aload_1\n   14:  invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   17:  aload_2\n   18:  invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   21:  invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n   24:  astore_3\n   25:  getstatic       #8; //Field java/lang/System.out:Ljava/io/PrintStream;\n   28:  aload_3\n   29:  ldc     #9; //String string\n   31:  if_acmpne       38\n   34:  iconst_1\n   35:  goto    39\n   38:  iconst_0\n   39:  invokevirtual   #10; //Method java/io/PrintStream.println:(Z)V\n   42:  return\n</code></pre>\n\n<p>Clearly it is storing <code>str</code> and <code>ing</code> in two separate variables, and using <code>StringBuilder</code> to perform the concatenation operation.</p>\n\n<p>Whereas, your second code example <strong>(<code>final</code> version)</strong> looks like this:</p>\n\n<pre><code>  Code:\n   0:   ldc     #2; //String string\n   2:   astore_3\n   3:   getstatic       #3; //Field java/lang/System.out:Ljava/io/PrintStream;\n   6:   aload_3\n   7:   ldc     #2; //String string\n   9:   if_acmpne       16\n   12:  iconst_1\n   13:  goto    17\n   16:  iconst_0\n   17:  invokevirtual   #4; //Method java/io/PrintStream.println:(Z)V\n   20:  return\n</code></pre>\n\n<p>So it directly inlines the final variable to create String <code>string</code> at compile time, which is loaded by <code>ldc</code> operation in step <code>0</code>. Then the second string literal is loaded by <code>ldc</code> operation in step <code>7</code>. It doesn't involve creation of any new <code>String</code> object at runtime. The String is already known at compile time, and they are interned.</p>\n", "title": "Comparing strings with == which are declared final in Java", "tags": ["java", "string", "final"], "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java/19418517#19418517", "question_id": 19418427, "answer_id": 19418517}, {"body": "<p>As per my research, all the <code>final String</code> are interned in Java. From one of the blog post:</p>\n\n<blockquote>\n  <p>So, if you really need to compare two String using == or != make sure you call String.intern() method before making comparison. Otherwise, always prefer String.equals(String) for String comparison.</p>\n</blockquote>\n\n<p>So it means if you call <code>String.intern()</code> you can compare two strings using <code>==</code> operator. But here <code>String.intern()</code> is not necessary because in Java <code>final String</code> are internally interned.</p>\n\n<p>You can find more information <a href=\"http://hanuska.blogspot.in/2007/04/people-still-dont-get-string-comparison.html\">String comparision using == operator</a> and Javadoc for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern%28%29\">String.intern()</a> method.</p>\n\n<p>Also refer this <a href=\"http://stackoverflow.com/questions/1855170/when-should-we-use-intern-method-of-string-on-string-constants\">Stackoverflow</a> post for more information.</p>\n", "title": "Comparing strings with == which are declared final in Java", "tags": ["java", "string", "final"], "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java/19418548#19418548", "question_id": 19418427, "answer_id": 19418548}, {"body": "<p>If you take a look at this methods </p>\n\n<pre><code>public void noFinal() {\n    String str1 = \"str\";\n    String str2 = \"ing\";\n    String concat = str1 + str2;\n\n    System.out.println(concat == \"string\");\n}\n\npublic void withFinal() {\n    final String str1 = \"str\";\n    final String str2 = \"ing\";\n    String concat = str1 + str2;\n\n    System.out.println(concat == \"string\");\n}\n</code></pre>\n\n<p>and its decompiled with <code>javap -c ClassWithTheseMethods</code> \nversions you will see </p>\n\n<pre><code>  public void noFinal();\n    Code:\n       0: ldc           #15                 // String str\n       2: astore_1      \n       3: ldc           #17                 // String ing\n       5: astore_2      \n       6: new           #19                 // class java/lang/StringBuilder\n       9: dup           \n      10: aload_1       \n      11: invokestatic  #21                 // Method java/lang/String.valueOf:(Ljava/lang/Object;)Ljava/lang/String;\n      14: invokespecial #27                 // Method java/lang/StringBuilder.\"&lt;init&gt;\":(Ljava/lang/String;)V\n      17: aload_2       \n      18: invokevirtual #30                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n      21: invokevirtual #34                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n      ...\n</code></pre>\n\n<p>and</p>\n\n<pre><code>  public void withFinal();\n    Code:\n       0: ldc           #15                 // String str\n       2: astore_1      \n       3: ldc           #17                 // String ing\n       5: astore_2      \n       6: ldc           #44                 // String string\n       8: astore_3      \n       ...\n</code></pre>\n\n<p>So if Strings are not final compiler will have to use <code>StringBuilder</code> to concatenate <code>str1</code> and <code>str2</code> so </p>\n\n<pre><code>String concat=str1+str2;\n</code></pre>\n\n<p>will be compiled to </p>\n\n<pre><code>String concat = new StringBuilder(str1).append(str2).toString();\n</code></pre>\n\n<p>which means that <code>concat</code> will be created at runtime so will not come from String pool.</p>\n\n<hr>\n\n<p>Also if Strings are final then compiler can assume that they will never change so instead of using <code>StringBuilder</code> it can safely concatenate its values so</p>\n\n<pre><code>String concat = str1 + str2;\n</code></pre>\n\n<p>can be changed to</p>\n\n<pre><code>String concat = \"str\" + \"ing\";\n</code></pre>\n\n<p>and concatenated into</p>\n\n<pre><code>String concat = \"string\";\n</code></pre>\n\n<p>which means that <code>concate</code> will become sting literal which will be interned in string pool and then compared with same string literal from that pool in <code>if</code> statement.</p>\n", "title": "Comparing strings with == which are declared final in Java", "tags": ["java", "string", "final"], "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java/19418553#19418553", "question_id": 19418427, "answer_id": 19418553}, {"body": "<p>Let's see some byte code for the <code>final</code> example</p>\n\n<pre><code>Compiled from \"Main.java\"\npublic class Main {\n  public Main();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n       4: return\n\n  public static void main(java.lang.String[]) throws java.lang.Exception;\n    Code:\n       0: ldc           #2                  // String string\n       2: astore_3\n       3: getstatic     #3                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       6: aload_3\n       7: ldc           #2                  // String string\n       9: if_acmpne     16\n      12: iconst_1\n      13: goto          17\n      16: iconst_0\n      17: invokevirtual #4                  // Method java/io/PrintStream.println:(Z)V\n      20: return\n}\n</code></pre>\n\n<p>At <code>0:</code> and <code>2:</code>, the <code>String</code> <code>\"string\"</code> is pushed onto the stack (from the constant pool) and stored into the local variable <code>concat</code> directly. You can deduce that the compiler is creating (concatenating) the <code>String</code> <code>\"string\"</code> itself at compilation time.</p>\n\n<p>The non <code>final</code> byte code</p>\n\n<pre><code>Compiled from \"Main2.java\"\npublic class Main2 {\n  public Main2();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.\"&lt;init&gt;\":()V\n       4: return\n\n  public static void main(java.lang.String[]) throws java.lang.Exception;\n    Code:\n       0: ldc           #2                  // String str\n       2: astore_1\n       3: ldc           #3                  // String ing\n       5: astore_2\n       6: new           #4                  // class java/lang/StringBuilder\n       9: dup\n      10: invokespecial #5                  // Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n      13: aload_1\n      14: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/Stri\nngBuilder;\n      17: aload_2\n      18: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/Stri\nngBuilder;\n      21: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n      24: astore_3\n      25: getstatic     #8                  // Field java/lang/System.out:Ljava/io/PrintStream;\n      28: aload_3\n      29: ldc           #9                  // String string\n      31: if_acmpne     38\n      34: iconst_1\n      35: goto          39\n      38: iconst_0\n      39: invokevirtual #10                 // Method java/io/PrintStream.println:(Z)V\n      42: return\n}\n</code></pre>\n\n<p>Here you have two <code>String</code> constants, <code>\"str\"</code> and <code>\"ing\"</code> which need to be concatenated at runtime with a <code>StringBuilder</code>.</p>\n", "title": "Comparing strings with == which are declared final in Java", "tags": ["java", "string", "final"], "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java/19418672#19418672", "question_id": 19418427, "answer_id": 19418672}, {"body": "<p>Stack and string conts pool concept \n<img src=\"http://i.stack.imgur.com/WXeux.png\" alt=\"enter image description here\"></p>\n", "title": "Comparing strings with == which are declared final in Java", "tags": ["java", "string", "final"], "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java/19419774#19419774", "question_id": 19418427, "answer_id": 19419774}, {"body": "<p>Though, when you create using String literal notation of Java, it automatically call intern() method to put that object into String pool, provided it was not present in the pool already. </p>\n\n<blockquote>\n  <p>Why does final make a difference?   </p>\n</blockquote>\n\n<p><strong>Compiler</strong> knows the final variable never gonna change, when we add these final variables the output  goes to String Pool because of <code>str1 + str2</code> expression output also never gonna change, So finally compiler calls inter method after output of the above two final variables. In case of non-final variable compiler do not call intern method.</p>\n", "title": "Comparing strings with == which are declared final in Java", "tags": ["java", "string", "final"], "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java/34716079#34716079", "question_id": 19418427, "answer_id": 34716079}], "creation_date": 1381984871, "score": 203, "link": "http://stackoverflow.com/questions/19418427/comparing-strings-with-which-are-declared-final-in-java", "question_id": 19418427}, {"body": "<p>In one of my interviews, I have been asked to explain the <em><code>difference between an \"Interface\" and an \"Abstract class\"</code></em>.</p>\n\n<p>Here's my response:</p>\n\n<blockquote>\n  <p>Methods of a Java interface are implicitly abstract\n   and cannot have implementations. A Java abstract class can have\n   instance methods that implements a default behaviour.</p>\n  \n  <p>Variables declared in a Java interface are by default final. An \n   abstract class may contain non-final variables.</p>\n  \n  <p>Members of a Java interface are public by default. A Java abstract\n   class can have the usual flavours of class members like private,\n   protected, etc.</p>\n  \n  <p>A Java interface should be implemented using keyword \u201cimplements\u201d; A\n  Java abstract class should be extended using keyword \u201cextends\u201d.</p>\n  \n  <p>An interface can extend another Java interface only, an abstract class\n   can extend another Java class and implement multiple Java interfaces.</p>\n  \n  <p>A Java class can implement multiple interfaces but it can extend only\n   one abstract class.</p>\n</blockquote>\n\n<p>However, the interviewer was not satisfied, and told me that this description represented \"<em><code>book knowledge</code></em>\".</p>\n\n<p>He asked me for a more practical response, explaining <em><code>when I would choose an abstract class over an interface, using practical examples</code></em>.</p>\n\n<p>Where did I go wrong?</p>\n", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "title": "How should I have explained the difference between an Interface and an Abstract class?", "answers": [{"body": "<p>Your explanation looks decent, but may be it looked like you were reading it all from a textbook? :-/</p>\n\n<p>What I'm more bothered about is, how solid was your example? Did you bother to include <em>almost</em> all the differences between abstract and interfaces? </p>\n\n<p>Personally, I would suggest this link:\n<a href=\"http://mindprod.com/jgloss/interfacevsabstract.html#TABLE\">http://mindprod.com/jgloss/interfacevsabstract.html#TABLE</a></p>\n\n<p>for an exhaustive list of differences.. </p>\n\n<p>Hope it helps you and all other readers in their future interviews</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778130#18778130", "question_id": 18777989, "answer_id": 18778130}, {"body": "<p>An interface is a \"contract\" where the class that implements the contract promises to implement the methods. An example where I had to write an interface instead of a class was when I was upgrading a game from 2D to 3D. </p>\n\n<pre><code>package adventure;\nimport java.awt.*;\npublic interface Playable {\n    public void playSound(String s);\n    public Image loadPicture(String s);\n\n}\n</code></pre>\n\n<p>Then I can implement the methods based on the environment, while still being able to call those methods from an object that doesn't know which version of the game that is loading.</p>\n\n<p><code>public class Adventure extends JFrame implements Playable</code></p>\n\n<p><code>public class Dungeon3D extends SimpleApplication implements Playable</code></p>\n\n<p><code>public class Main extends SimpleApplication implements AnimEventListener,\n        ActionListener, Playable</code></p>\n\n<p>Typically, in the gameworld, the world can be an abstract class that performs methods on the game:</p>\n\n<pre><code>public abstract class World...\n\n    public Playable owner;\n\n    public Playable getOwner() {\n        return owner;\n    }\n\n    public void setOwner(Playable owner) {\n        this.owner = owner;\n    }\n</code></pre>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778145#18778145", "question_id": 18777989, "answer_id": 18778145}, {"body": "<p>Nothing is perfect in world. They might be expecting something with practical approach.</p>\n\n<p>But after your explanation you could add these lines with slightly different approach.  </p>\n\n<ol>\n<li><p>Interfaces are rules (Rules because you must give an implementation to\nthem and that you can't ignore or avoid, so that are imposed like\nrules) which works as a common understanding document among the\nvarious teams in software development. </p></li>\n<li><p>Interfaces give the idea what is to be done but not how it will be done. So<br>\nimplementation completely depends on developer by following the given rules(Means\ngiven signature of methods). </p></li>\n<li><p>Abstract classes may contain abstract declarations, concrete implementations, or both.</p></li>\n<li><p>Abstract declarations are like rules to be followed and concrete implementations are \nlike guidelines(You can use that as it is or you can ignore it by overriding and giving  your own choice implementation to it).</p></li>\n<li><p>Moreover which methods with same signature may change the behaviour in\ndifferent context are provided as interface declarations as rules to implement accordingly in different contexts.</p></li>\n</ol>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778220#18778220", "question_id": 18777989, "answer_id": 18778220}, {"body": "<p>You made a good summery of the practical differences in use and implementation but did not say anything about the difference in meaning.</p>\n\n<p>An <strong>interface</strong> is a description of the behaviour an implementing class will have. The implementing class ensures, that it will have these methods that can be used on it. It is basically a contract or a promise the class has to make.</p>\n\n<p>An <strong>abstract class</strong> is a basis for different subclasses that share behaviour which does not need to be repeatedly be created. Subclasses must complete the behaviour and have the option to override predefine behaviour (as long as it is not defined as <code>final</code> or <code>private</code>).</p>\n\n<p>You will find good examples in the <code>java.util</code> package which includes interfaces like <code>List</code> and abstract classes like <code>AbstractList</code> which already implements the interface. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/AbstractList.html\">official documentation</a> describes the <code>AbstractList</code> as follows:</p>\n\n<blockquote>\n  <p>This class provides a skeletal implementation of the List interface to minimize the effort required to implement this interface backed by a \"random access\" data store (such as an array).</p>\n</blockquote>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778228#18778228", "question_id": 18777989, "answer_id": 18778228}, {"body": "<p>I do interviews for work and i would look unfavourably on your answer aswell (sorry but im very honest). It does sound like you've read about the difference and revised an answer but perhaps you have never used it in practice. </p>\n\n<p>A good explanation as to why you would use each can be far better than having a precise explanation of the difference. Employers ultimatley want programers to do things not know them which can be hard to demonstrate in an interview. The answer you gave would be good if applying for a technical or documentation based job but not a developers role.</p>\n\n<p>Best of luck with interviews in the future.</p>\n\n<p>Also my answer to this question is more about interview technique rather than the technical material youve provided. Perhaps consider reading about it. <a href=\"http://workplace.stackexchange.com/\">http://workplace.stackexchange.com/</a> can be an excellent place for this sort of thing.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778229#18778229", "question_id": 18777989, "answer_id": 18778229}, {"body": "<p>I will give you an example first:</p>\n\n<pre><code>public interface LoginAuth{\n   public String encryptPassword(String pass);\n   public void checkDBforUser();\n}\n</code></pre>\n\n<p>Now suppose you have 3 databases in your application. Then each and every implementation for that database needs to define the above 2 methods: </p>\n\n<pre><code>public class DBMySQL implements LoginAuth{\n          // Needs to implement both methods\n}\npublic class DBOracle implements LoginAuth{\n          // Needs to implement both methods\n}\npublic class DBAbc implements LoginAuth{\n          // Needs to implement both methods\n}\n</code></pre>\n\n<p>But what if encryptPassword() is not database dependent, and it's the same for each class? Then the above would not be a good approach.</p>\n\n<p>Instead, consider this approach:</p>\n\n<pre><code>public abstract class LoginAuth{\n   public String encryptPassword(String pass){\n            // Implement the same default behavior here \n            // that is shared by all subclasses.\n   }\n\n   // Each subclass needs to provide their own implementation of this only:\n   public abstract void checkDBforUser();\n}\n</code></pre>\n\n<p>Now in each child class, we only need to implement one method - the method that is database dependent.</p>\n\n<p>I tried my best and Hope this will clear your doubts.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778307#18778307", "question_id": 18777989, "answer_id": 18778307}, {"body": "<p>You choose Interface in Java to avoid the <a href=\"http://en.wikipedia.org/wiki/Multiple_inheritance#The%20diamond%20problem\" rel=\"nofollow\">Diamond Problem in multiple inheritance</a>.</p>\n\n<p>If you want all of your methods to be implemented by your client you go for interface. It means you design the entire application at abstract. </p>\n\n<p>You choose abstract class if you already know what is in common. For example Take an abstract class <code>Car</code>. At higher level you implement the common car methods like <code>calculateRPM()</code>. It is a common method and you let the client implement his own behavior like<br>\n <code>calculateMaxSpeed()</code> etc. Probably you would have explained by giving few real time examples which you have encountered in your day to day job. </p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/18778363#18778363", "question_id": 18777989, "answer_id": 18778363}, {"body": "<p>An interface is purely abstract. we dont have any implementation code in interface.</p>\n\n<p>Abstract class contains both methods and its implementation.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=c1pM5EODSLE\" rel=\"nofollow\">click here to watch tutorial on interfaces and abstract classes</a></p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/19244138#19244138", "question_id": 18777989, "answer_id": 19244138}, {"body": "<p>From what I understand, an Interface, which is comprised of final variables and methods with no implementations, is implemented by a class to obtain a group of methods or methods that are related to each other. On the other hand, an abstract class, which can contain non-final variables and methods with implementations, is usually used as a guide or as a superclass from which all related or similar classes inherits from. In other words, an abstract class contains all the methods/variables that are shared by all its subclasses.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/19360506#19360506", "question_id": 18777989, "answer_id": 19360506}, {"body": "<p>The main difference what i have observed was that abstract class  provides us with some common behaviour implemented already and subclasses only needs to implement specific functionality corresponding to them. where as for an interface will only specify what tasks needs to be done and no implementations will be given by interface. I can say it specifies the contract between itself and implemented classes.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/19627411#19627411", "question_id": 18777989, "answer_id": 19627411}, {"body": "<p>In abstract class, you can write default implementation of methods! But in Interface you can not. Basically, In interface there exist pure virtual methods which have to be implemented by the class which implements the interface.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/19627457#19627457", "question_id": 18777989, "answer_id": 19627457}, {"body": "<p>Almost everything seems to be covered here already.. Adding just one more practical implementation:</p>\n\n<blockquote>\n  <p>Abstract keyword is also used just prevent a class from being\n  instantiated. If you have a concrete class which you do not want to be\n  instantiated - Make it abstract.</p>\n</blockquote>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/20079198#20079198", "question_id": 18777989, "answer_id": 20079198}, {"body": "<p>Abstract classes are not pure abstraction bcz its collection of concrete(implemented methods) as well as unimplemented methods.\nBut \nInterfaces are pure abstraction bcz there are only unimplemented methods not concrete methods. </p>\n\n<p><strong>Why Abstract classes?</strong></p>\n\n<ol>\n<li>If user want write common functionality for all objects.</li>\n<li>Abstract classes are best choice for reimplementation in future that to add more functionality without affecting of end user.</li>\n</ol>\n\n<p><strong>Why Interfaces?</strong></p>\n\n<ol>\n<li>If user want to write different functionality that would be different functionality on objects.</li>\n<li>Interfaces are best choice that if not need to modify the requirements once interface has been published.</li>\n</ol>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/20929992#20929992", "question_id": 18777989, "answer_id": 20929992}, {"body": "<p>hmm now the people are hungery practical approach, you are quite right but most of interviewer looks as per their current requirment and want a practical approach.</p>\n\n<p>after finishing your answer you should jump on the example:</p>\n\n<p><strong>Abstract:</strong></p>\n\n<p>for example we have salary function which have some parametar common to all employee. then we can have a abstract class called CTC with partialy defined method body and it will got extends by all type of employee and get redeined as per their extra beefits.\nFor common functonality.</p>\n\n<pre><code>public abstract class CTC {\n\n    public int salary(int hra, int da, int extra)\n    {\n        int total;\n        total = hra+da+extra;\n        //incentive for specific performing employee\n        //total = hra+da+extra+incentive;\n        return total;\n    }\n}\n\nclass Manger extends CTC\n{\n}\n\n\nclass CEO extends CTC\n{\n}\n\nclass Developer extends CTC\n{   \n}\n</code></pre>\n\n<p><strong>Interface</strong></p>\n\n<p>interface in java allow to have interfcae functionality without extending that one and you have to be clear with the implementation of signature of functionality that you want to introduce in your application. it will force you to have definiton.\nFor different functionality.\n    public interface EmployeType {</p>\n\n<pre><code>    public String typeOfEmployee();\n}\n\nclass ContarctOne implements EmployeType\n{\n\n    @Override\n    public String typeOfEmployee() {\n        return \"contract\";\n    }\n\n}\n\nclass PermanentOne implements EmployeType\n{\n\n    @Override\n    public String typeOfEmployee() {\n        return \"permanent\";\n    }\n\n}\n</code></pre>\n\n<p>you can have such forced activity with abstract class too by defined methgos as a abstract one, now a class tha extends abstract class remin abstract one untill it override that abstract function.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/21013326#21013326", "question_id": 18777989, "answer_id": 21013326}, {"body": "<p>The main difference what i have observed was that abstract class provides us with some common behaviour implemented already and subclasses only needs to implement specific functionality corresponding to them. where as for an interface will only specify what tasks needs to be done and no implementations will be given by interface. I can say it specifies the contract between itself and implemented classes.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/21425984#21425984", "question_id": 18777989, "answer_id": 21425984}, {"body": "<p>An interface consists of singleton variables (public static final) and public abstract methods. We normally prefer to use an interface in real time when we know <em><code>what to do but don't know how to do it</code></em>.</p>\n\n<p>This concept can be better understood by example:</p>\n\n<p>Consider a Payment class. Payment can be made in many ways, such as PayPal, credit card etc. So we normally take Payment as our interface which contains a <code>makePayment()</code> method and CreditCard and PayPal are the two implementation classes.</p>\n\n<pre><code>public interface Payment\n{\n    void makePayment();//by default it is a abstract method\n}\npublic class PayPal implements Payment\n{\n    public void makePayment()\n    {\n        //some logic for PayPal payment\n        //e.g. Paypal uses username and password for payment\n    }\n}\npublic class CreditCard implements Payment\n{\n    public void makePayment()\n    {\n        //some logic for CreditCard payment\n        //e.g. CreditCard uses card number, date of expiry etc...\n    }\n}\n</code></pre>\n\n<p>In the above example CreditCard and PayPal are two implementation classes /strategies. An Interface also allows us the concept of multiple inheritance in Java which cannot be accomplished by an abstract class.</p>\n\n<p>We choose an abstract class when <em><code>there are some features for which we know what to do, and other features that we know how to perform</code></em>.</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>public abstract class Burger\n{\n    public void packing()\n    {\n        //some logic for packing a burger\n    }\n    public abstract void price(); //price is different for different categories of burgers\n}\npublic class VegBerger extends Burger\n{\n    public void price()\n    {\n        //set price for a veg burger.\n    }\n}\npublic class NonVegBerger extends Burger\n{\n    public void price()\n    {\n        //set price for a non-veg burger.\n    }\n}\n</code></pre>\n\n<p><em><code>If we add methods (concrete/abstract) in the future to a given abstract class, then the implementation class will not need a change its code. However, if we add methods in an interface in the future, we must add implementations to all classes that implemented that interface, otherwise compile time errors occur.</code></em></p>\n\n<p>There are other differences but these are major ones which may have been what your interviewer expected . Hopefully this was helpful.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/22025689#22025689", "question_id": 18777989, "answer_id": 22025689}, {"body": "<p>Abstract classes are meant to be inherited from, and when one class inherits from another it means that there is a strong relationship between the 2 classes. \nWith an interface on the other hand, the relationship between the interface itself and the class implementing the interface is not necessarily strong. \nSo, we can summarize this first point by saying that an abstract class would be more appropriate when there is a strong relationship between the abstract class and the classes that will derive from it. Again, this is because an abstract class is very closely linked to inheritance, which implies a strong relationship. But, with interfaces there need not be a strong relationship between the interface and the classes that implement the interface. \nJava interface can extend multiple interface also Java class can implement multiple interfaces, Which means interface can provide more polymorphism support than abstract class . By extending abstract class, a class can only participate in one Type hierarchy but by using interface it can be part of multiple type hierarchies.</p>\n\n<p>In order to implement interface in Java, until your class is abstract, you need to provide implementation of all methods, which is very painful. On the other hand abstract class may help you in this case by providing default implementation.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/24538311#24538311", "question_id": 18777989, "answer_id": 24538311}, {"body": "<p>What about thinking the following way:</p>\n\n<ul>\n<li>A relationship between a class and an abstract class is of type \"is-a\"</li>\n<li>A relationship between a class and an interface is of type \"has-a\"</li>\n</ul>\n\n<p>So when you have an abstract class Mammals, a subclass Human, and an interface Driving, then you can say</p>\n\n<ul>\n<li>each Human is-a Mammal</li>\n<li>each Human has-a Driving (behavior)</li>\n</ul>\n\n<p>My suggestion is that the book knowledge phrase indicates that he wanted to hear the semantic difference between both (like others here already suggested).</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/26905939#26905939", "question_id": 18777989, "answer_id": 26905939}, {"body": "<p>Even I have faced the same question in multiple interviews and believe me it makes your time miserable to convince the interviewer.\nIf I inherent all the answers from above then I need to add one more key point to make it more convincing and utilizing OO at its best</p>\n\n<p>In case you are not <b> planning any modification in the rules </b>, for the subclass to be followed, for a long future, go for the interface, as you wont be able to modify in it and if you do so, you need to go for the changes in all the other sub classes, whereas, if you think, <b> you want to reuse the functionality, set some rules and also make it open for modification</b>, go for Abstract class.  </p>\n\n<p>Think in this way, you had used a consumable service or you had provided some code to world and You have a chance to modify something, suppose a security check\nAnd If I am being a consumer of the code and One morning after a update , I find all read marks in my Eclipse, entire application is down.\nSo to prevent such nightmares, use Abstract over Interfaces </p>\n\n<p>I think this might convince the Interviewer to a extent...Happy Interviews Ahead.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/28904915#28904915", "question_id": 18777989, "answer_id": 28904915}, {"body": "<p><em>All your statements are valid except your first statement (after the Java 8 release):</em></p>\n\n<blockquote>\n  <p>Methods of a Java interface are implicitly abstract and cannot have implementations</p>\n</blockquote>\n\n<p>From the documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow\">page</a>:</p>\n\n<blockquote>\n  <p>An interface is a reference type, similar to a class, that can contain only \n  <em>constants, method signatures, default methods, static methods,and nested types</em></p>\n  \n  <p>Method bodies exist only for default methods and static methods.</p>\n</blockquote>\n\n<p><em>Default methods:</em></p>\n\n<p>An interface can have <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow\">default methods</a>, but are different than abstract methods in abstract classes.</p>\n\n<blockquote>\n  <p>Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.</p>\n</blockquote>\n\n<p>When you extend an interface that contains a default method, you can do the following:</p>\n\n<ol>\n<li>Not mention the default method at all, which lets your extended interface inherit the default method.</li>\n<li>Redeclare the default method, which makes it <code>abstract</code>.</li>\n<li>Redefine the default method, which overrides it.</li>\n</ol>\n\n<p><em>Static Methods:</em></p>\n\n<p>In addition to default methods, you can define static methods in interfaces. (A static method is a method that is associated with the class in which it is defined rather than with any object. Every instance of the class shares its static methods.) </p>\n\n<p>This makes it easier for you to organize helper methods in your libraries;</p>\n\n<p>Example code from documentation page about <code>interface</code> having <code>static</code> and <code>default</code> methods.</p>\n\n<pre><code>import java.time.*;\n\npublic interface TimeClient {\n    void setTime(int hour, int minute, int second);\n    void setDate(int day, int month, int year);\n    void setDateAndTime(int day, int month, int year,\n                               int hour, int minute, int second);\n    LocalDateTime getLocalDateTime();\n\n    static ZoneId getZoneId (String zoneString) {\n        try {\n            return ZoneId.of(zoneString);\n        } catch (DateTimeException e) {\n            System.err.println(\"Invalid time zone: \" + zoneString +\n                \"; using default time zone instead.\");\n            return ZoneId.systemDefault();\n        }\n    }\n\n    default ZonedDateTime getZonedDateTime(String zoneString) {\n        return ZonedDateTime.of(getLocalDateTime(), getZoneId(zoneString));\n    }\n}\n</code></pre>\n\n<p>Use the below guidelines to chose whether to use an interface or abstract class.</p>\n\n<p><em>Interface:</em></p>\n\n<ol>\n<li>To define a <em>contract</em> ( preferably stateless - I mean no variables )</li>\n<li>To link unrelated classes with \"has a\" capabilities.</li>\n<li>To declare public constant variables (<em>immutable state</em>)</li>\n</ol>\n\n<p><em>Abstract class:</em></p>\n\n<ol>\n<li><p>Share code among several closely related classes. It establishes \"<em>is a</em>\" relation.</p></li>\n<li><p>Share common state among <em>related classes</em> ( state can be modified in concrete classes)</p></li>\n</ol>\n\n<p>Related SE question: </p>\n\n<p><a href=\"http://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo/33963650#33963650\">Interface vs Abstract Class (general OO)</a></p>\n\n<p>Have a look at below documentation page to understand the difference between abstract class and interface with a code example</p>\n\n<p><a class='doc-link' href=\"http://stackoverflow.com/documentation/java/87/inheritance/13991/abstract-class-and-interface-usage-is-a-relation-vs-has-a-capability#t=201608171515293426948\">abstract-class-and-interface-usage-is-a-relation-vs-has-a-capability</a></p>\n\n<p>By going through these examples, you can understand that </p>\n\n<p><em>Unrelated classes can have capabilities through interface but related classes change the behaviour through extension of base classes.</em></p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/34978606#34978606", "question_id": 18777989, "answer_id": 34978606}, {"body": "<h2>Difference between Abstact class and interface</h2>\n\n<ol>\n<li>Abstract classes versus interfaces in Java 8</li>\n<li>Conceptual Difference:</li>\n</ol>\n\n<h2>Interface Default Methods in Java 8</h2>\n\n<ol>\n<li>What is Default Method?</li>\n<li>ForEach method compilation error solved using Default Method</li>\n<li>Default Method and Multiple Inheritance Ambiguity Problems</li>\n<li>Important points about java interface default methods:</li>\n</ol>\n\n<h2>Java Interface Static Method</h2>\n\n<ol>\n<li>Java Interface Static Method, code example, static method vs default method</li>\n<li>Important points about java interface static method:</li>\n</ol>\n\n<h2>Java Functional Interfaces</h2>\n\n<hr>\n\n<hr>\n\n<h2>Abstract classes versus interfaces in Java 8</h2>\n\n<blockquote>\n  <p>Java 8 interface changes include static methods and default methods in\n  interfaces. Prior to Java 8, we could have only method declarations in\n  the interfaces. But from Java 8, we can have default methods and\n  static methods in the interfaces.</p>\n  \n  <p>After introducing Default Method, it seems that interfaces and\n  abstract classes are same. However, they are still different concept\n  in Java 8.</p>\n  \n  <p>Abstract class can define constructor. They are more structured and\n  can have a state associated with them. While in contrast, default\n  method can be implemented only in the terms of invoking other\n  interface methods, with no reference to a particular implementation's\n  state. Hence, both use for different purposes and choosing between two\n  really depends on the scenario context.</p>\n</blockquote>\n\n<h2>Conceptual Difference:</h2>\n\n<p>Abstract classes are valid for skeletal (i.e. partial) implementations of interfaces but should not exist without a matching interface.</p>\n\n<p>So when abstract classes are effectively reduced to be low-visibility, skeletal implementations of interfaces, can default methods take this away as well? Decidedly: No! Implementing interfaces almost always requires some or all of those class-building tools which default methods lack. And if some interface doesn\u2019t, it is clearly a special case, which should not lead you astray.</p>\n\n<h2>Interface Default Methods in Java 8</h2>\n\n<p>Java 8 introduces \u201c<a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/\">Default Method</a>\u201d or (Defender methods) new feature, which allows developer to add new methods to the Interfaces without breaking the existing implementation of these Interface. It provides flexibility to allow Interface define implementation which will use as default in the situation where a concrete Class fails to provide an implementation for that method.</p>\n\n<p>Let consider small example to understand how it works:</p>\n\n<pre><code>public interface OldInterface {\n\u00a0\u00a0\u00a0\u00a0public void existingMethod();\n\u00a0\n\u00a0\u00a0\u00a0\u00a0default public void newDefaultMethod() {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0System.out.println(\"New default method\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0+ \" is added in interface\");\n\u00a0\u00a0\u00a0\u00a0}\n}\n</code></pre>\n\n<p>The following Class will compile successfully in Java JDK 8,</p>\n\n<pre><code>public class OldInterfaceImpl implements OldInterface {\n\u00a0\u00a0\u00a0\u00a0public void existingMethod() {\n\u00a0\u00a0\u00a0\u00a0\u00a0// existing implementation is here\u2026\n\u00a0\u00a0\u00a0\u00a0}\n}\n</code></pre>\n\n<p>If you create an instance of OldInterfaceImpl:</p>\n\n<pre><code>OldInterfaceImpl obj = new OldInterfaceImpl ();\n// print \u201cNew default method add in interface\u201d\nobj.newDefaultMethod();\u00a0\n</code></pre>\n\n<hr>\n\n<h2><a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\">Default Method:</a></h2>\n\n<blockquote>\n  <p>Default methods are never final, can not be synchronized and can not\n  override Object\u2019s methods. They are always public, which severely\n  limits the ability to write short and reusable methods.</p>\n</blockquote>\n\n<p>Default methods can be provided to an Interface without affecting implementing Classes as it includes an implementation. If each added method in an Interface defined with implementation then no implementing Class is affected. An implementing Class can override the default implementation provided by the Interface.</p>\n\n<blockquote>\n  <p>Default methods enable to add new functionality to existing Interfaces\n  without breaking older implementation of these Interfaces.</p>\n</blockquote>\n\n<p>When we extend an interface that contains a default method, we can perform following,</p>\n\n<ol>\n<li>Not override the default method and will inherit the default method.</li>\n<li>Override the default method similar to other methods we override in\nsubclass.</li>\n<li>Redeclare default method as abstract, which force subclass to\noverride it.</li>\n</ol>\n\n<hr>\n\n<h2>ForEach method compilation error solved using Default Method</h2>\n\n<p>For Java 8, the JDK collections have been extended and forEach method is added to the entire collection (which work in conjunction with lambdas). With conventional way, the code looks like below,</p>\n\n<pre><code>public interface Iterable&lt;T&gt; {\n\u00a0\u00a0\u00a0\u00a0public void forEach(Consumer&lt;? super T&gt; consumer);\n}\n</code></pre>\n\n<p>Since this result each implementing Class with compile errors therefore, a default method added with a required implementation in order that the existing implementation should not be changed.</p>\n\n<p>The Iterable Interface with the Default method is below,</p>\n\n<pre><code>public interface Iterable&lt;T&gt; {\n\u00a0\u00a0\u00a0\u00a0public default void forEach(Consumer\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&lt;? super T&gt; consumer) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0for (T t : this) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0consumer.accept(t);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0\u00a0}\n}\n</code></pre>\n\n<p>The same mechanism has been used to add <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html\">Stream</a> in JDK Interface without breaking the implementing Classes.</p>\n\n<hr>\n\n<h2>Default Method and Multiple Inheritance Ambiguity Problems</h2>\n\n<p>Since java Class can implement multiple Interfaces and each Interface can define default method with same method signature, therefore, the inherited methods can conflict with each other.</p>\n\n<p>Consider below example,</p>\n\n<pre><code>public interface InterfaceA {\u00a0 \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0default void defaultMethod(){\u00a0 \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0System.out.println(\"Interface A default method\");\u00a0 \n\u00a0\u00a0\u00a0\u00a0}\u00a0 \n}\n\u00a0\npublic interface InterfaceB {\n\u00a0\u00a0\u00a0default void defaultMethod(){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0System.out.println(\"Interface B default method\");\n\u00a0\u00a0\u00a0}\n}\n\u00a0\npublic class Impl implements InterfaceA, InterfaceB\u00a0 {\n}\n</code></pre>\n\n<p>The above code will fail to compile with the following error,</p>\n\n<blockquote>\n  <p>java: class Impl inherits unrelated defaults for defaultMethod() from\n  types InterfaceA and InterfaceB</p>\n</blockquote>\n\n<p>In order to fix this class, we need to provide default method implementation:</p>\n\n<pre><code>public class Impl implements InterfaceA, InterfaceB {\n\u00a0\u00a0\u00a0\u00a0public void defaultMethod(){\n\u00a0\u00a0\u00a0\u00a0}\n}\n</code></pre>\n\n<p>Further, if we want to invoke default implementation provided by any of super Interface rather than our own implementation, we can do so as follows,</p>\n\n<pre><code>public class Impl implements InterfaceA, InterfaceB {\n\u00a0\u00a0\u00a0\u00a0public void defaultMethod(){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// existing code here..\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0InterfaceA.super.defaultMethod();\n\u00a0\u00a0\u00a0\u00a0}\n}\n</code></pre>\n\n<p>We can choose any default implementation or both as part of our new method.</p>\n\n<h2>Important points about java interface default methods:</h2>\n\n<ol>\n<li>Java interface default methods will help us in extending interfaces without having the fear of breaking implementation classes.</li>\n<li>Java interface default methods has bridge down the differences between interfaces and abstract classes.</li>\n<li>Java 8 interface default methods will help us in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.</li>\n<li>Java interface default methods will help us in removing base implementation classes, we can provide default implementation and the implementation classes can chose which one to override.</li>\n<li>One of the major reason for introducing default methods in interfaces is to enhance the Collections API in Java 8 to support lambda expressions.</li>\n<li>If any class in the hierarchy has a method with same signature, then default methods become irrelevant. A default method cannot override a method from java.lang.Object. The reasoning is very simple, it\u2019s because Object is the base class for all the java classes. So even if we have Object class methods defined as default methods in interfaces, it will be useless because Object class method will always be used. That\u2019s why to avoid confusion, we can\u2019t have default methods that are overriding Object class methods.</li>\n<li>Java interface default methods are also referred to as Defender Methods or Virtual extension methods.</li>\n</ol>\n\n<h2>Resource Link:</h2>\n\n<ol>\n<li><a href=\"http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8\">Interface with default methods vs Abstract class in Java 8</a></li>\n<li><a href=\"http://www.javaworld.com/article/2139921/learn-java/abstract-class-versus-interface-in-the-jdk-8-era.html\">Abstract class versus interface in the JDK 8 era</a></li>\n<li><a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/Defender%20Methods%20v4.pdf\">Interface evolution via virtual extension methods</a></li>\n</ol>\n\n<hr>\n\n<h2>Java Interface Static Method</h2>\n\n<p><strong>Java Interface Static Method, code example, static method vs default method</strong></p>\n\n<p>Java interface static method is similar to default method except that we can\u2019t override them in the implementation classes. This feature helps us in avoiding undesired results incase of poor implementation in implementation classes. Let\u2019s look into this with a simple example.</p>\n\n<pre><code>public interface MyData {\n\n    default void print(String str) {\n        if (!isNull(str))\n            System.out.println(\"MyData Print::\" + str);\n    }\n\n    static boolean isNull(String str) {\n        System.out.println(\"Interface Null Check\");\n\n        return str == null ? true : \"\".equals(str) ? true : false;\n    }\n}\n</code></pre>\n\n<p>Now let\u2019s see an implementation class that is having isNull() method with poor implementation.</p>\n\n<pre><code>public class MyDataImpl implements MyData {\n\n    public boolean isNull(String str) {\n        System.out.println(\"Impl Null Check\");\n\n        return str == null ? true : false;\n    }\n\n    public static void main(String args[]){\n        MyDataImpl obj = new MyDataImpl();\n        obj.print(\"\");\n        obj.isNull(\"abc\");\n    }\n}\n</code></pre>\n\n<p>Note that isNull(String str) is a simple class method, it\u2019s not overriding the interface method. For example, if we will add @Override annotation to the isNull() method, it will result in compiler error.</p>\n\n<p>Now when we will run the application, we get following output.</p>\n\n<blockquote>\n  <p>Interface Null Check</p>\n  \n  <p>Impl Null Check</p>\n</blockquote>\n\n<p>If we make the interface method from static to default, we will get following output.</p>\n\n<blockquote>\n  <p>Impl Null Check</p>\n  \n  <p>MyData Print::</p>\n  \n  <p>Impl Null Check</p>\n</blockquote>\n\n<p>Java interface static method is visible to interface methods only, if we remove the isNull() method from the MyDataImpl class, we won\u2019t be able to use it for the MyDataImpl object. However like other static methods, we can use interface static methods using class name. For example, a valid statement will be:</p>\n\n<pre><code>boolean result = MyData.isNull(\"abc\");\n</code></pre>\n\n<h2>Important points about java interface static method:</h2>\n\n<ol>\n<li>Java interface static method is part of interface, we can\u2019t use it for implementation class objects.</li>\n<li>Java interface static methods are good for providing utility methods, for example null check, collection sorting etc.</li>\n<li>Java interface static method helps us in providing security by not allowing implementation classes to override them.</li>\n<li>We can\u2019t define interface static method for Object class methods, we will get compiler error as \u201cThis static method cannot hide the instance method from Object\u201d. This is because it\u2019s not allowed in java, since Object is the base class for all the classes and we can\u2019t have one class level static method and another instance method with same signature.</li>\n<li>We can use java interface static methods to remove utility classes such as Collections and move all of it\u2019s static methods to the corresponding interface, that would be easy to find and use.</li>\n</ol>\n\n<hr>\n\n<h2>Java Functional Interfaces</h2>\n\n<p>Before I conclude the post, I would like to provide a brief introduction to Functional interfaces. An interface with exactly one abstract method is known as Functional Interface.</p>\n\n<p>A new annotation <code>@FunctionalInterface</code> has been introduced to mark an interface as Functional Interface. <code>@FunctionalInterface</code> annotation is a facility to avoid accidental addition of abstract methods in the functional interfaces. It\u2019s optional but good practice to use it.</p>\n\n<p>Functional interfaces are long awaited and much sought out feature of Java 8 because it enables us to use lambda expressions to instantiate them. A new package java.util.function with bunch of functional interfaces are added to provide target types for lambda expressions and method references. We will look into functional interfaces and lambda expressions in the future posts.</p>\n\n<h2>Resource Location:</h2>\n\n<ol>\n<li><a href=\"http://www.journaldev.com/2752/java-8-interface-changes-static-method-default-method\">Java 8 Interface Changes \u2013 static method, default method</a></li>\n</ol>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37781506#37781506", "question_id": 18777989, "answer_id": 37781506}, {"body": "<p><strong>When I am trying to share behavior between 2 closely related classes, I create an abstract class that holds the common behavior and serves as a parent to both classes.</strong></p>\n\n<p><strong>When I am trying to define a Type, a list of methods that a user of my object can reliably call upon, then I create an interface.</strong>  </p>\n\n<p>For example, I would never create an abstract class with 1 concrete subclass because abstract classes are about sharing behavior.  But I might very well create an interface with only one implementation.  The user of my code won't know that there is only one implementation.  Indeed, in a future release there may be several implementations, all of which are subclasses of some new abstract class that didn't even exist when I created the interface.</p>\n\n<p>That might have seemed a bit too bookish too (though I have never seen it put that way anywhere that I recall).  If the interviewer (or the OP) really wanted more of my personal experience on that, I would have been ready with anecdotes of an interface has evolved out of necessity and visa versa.</p>\n\n<p><strong>One more thing.</strong>  Java 8 now allows you to put default code into an interface, further blurring the line between interfaces and abstract classes.   But from what I have seen, that feature is overused even by the makers of the Java core libraries.  That feature was added, and rightly so, to make it possible to extend an interface without creating binary incompatibility.   But if you are making a brand new Type by defining an interface, then the interface should be JUST an interface.  If you want to also provide common code, then by all means make a helper class (abstract or concrete).  Don't be cluttering your interface from the start with functionality that you may want to change.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37873028#37873028", "question_id": 18777989, "answer_id": 37873028}, {"body": "<p>An <strong>interface</strong> is like a set of genes that are publicly documented to have some kind of effect: A DNA test will tell me whether I've got them - and if I do, I can publicly make it known that I'm a \"carrier\" and part of my behavior or state will conform to them. (But of course, I may have many other genes that provide traits outside this scope.)</p>\n\n<p>An <strong>abstract class</strong> is like the dead ancestor of a <a href=\"https://en.wikipedia.org/wiki/Parthenogenesis\" rel=\"nofollow\">single-sex species</a>(*): She can't be brought to life but a living (i.e. <em>non-abstract</em>) descendant inherits all her genes.</p>\n\n<p>(*) To stretch this metaphor, let's say all members of the species live to the same age. This means all ancestors of a dead ancestor must also be dead - and likewise, all descendants of a living ancestor must be alive.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37877083#37877083", "question_id": 18777989, "answer_id": 37877083}, {"body": "<p>From what I understand and how I approach,</p>\n\n<p>Interface is like a specification/contract, any class that implements a interface class have to implement all the methods defined in the abstract class (except default methods (introduced in java 8))</p>\n\n<p>Whereas I define a class abstract when I know the implementation required for some methods of the class and some methods I still do not know what will be the implementation(we might know the function signature but not the implementation). I do this so that later in the part of development when i know how these methods are to be implemented, i can just extend this abstract class and implement these methods.</p>\n\n<p>Note: You cannot have function body in interface methods unless the method is static or default.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37877603#37877603", "question_id": 18777989, "answer_id": 37877603}, {"body": "<p>Many junior developers make the mistake of thinking of interfaces, abstract and concrete classes as slight variations of the same thing, and choose one of them purely on technical grounds: <em>Do I need multiple inheritance? Do I need some place to put common methods? Do I need to bother with something other than just a concrete class?</em> This is wrong, and hidden in these questions is the main problem: <strong>\"I\"</strong>. When you write code for yourself, by yourself, you rarely think of other present or future developers working on or with your code.</p>\n\n<p>Interfaces and abstract classes, although apparently similar from a technical point of view, have completely different meanings and purposes.</p>\n\n<h2>Summary</h2>\n\n<ol>\n<li><p>An interface <strong>defines a contract</strong> that some implementation will fulfill <em>for you</em>.</p></li>\n<li><p>An abstract class <strong>provides a default behavior</strong> that <em>your implementation</em> can reuse.</p></li>\n</ol>\n\n<p>These two points above is what I'm looking for when interviewing, and is a compact enough summary. Read on for more details.</p>\n\n<h2>Alternative summary</h2>\n\n<ol>\n<li>An interface is for defining public APIs</li>\n<li>An abstract class is for internal use, and for defining SPIs</li>\n</ol>\n\n<h3>By example</h3>\n\n<p>To put it differently: A concrete class does the actual work, in a very specific way. For example, an <code>ArrayList</code> uses a contiguous area of memory to store a list of objects in a compact manner which offers fast random access, iteration, and in-place changes, but is terrible at insertions, deletions, and occasionally even additions; meanwhile, a <code>LinkedList</code> uses double-linked nodes to store a list of objects, which instead offers fast iteration, in-place changes, and insertion/deletion/addition, but is terrible at random access. These two types of lists are optimized for different use cases, and it matters a lot how you're going to use them. When you're trying to squeeze performance out of a list that you're heavily interacting with, and when picking the type of list is up to you, you should carefully pick which one you're instantiating.</p>\n\n<p>On the other hand, high level users of a list don't really care how it is actually implemented, and they should be insulated from these details. Let's imagine that Java didn't expose the <code>List</code> interface, but only had a concrete <code>List</code> class that's actually what <code>LinkedList</code> is right now. All Java developers would have tailored their code to fit the implementation details: avoid random access, add a cache to speed up access, or just reimplement <code>ArrayList</code> on their own, although it would be incompatible with all the other code that actually works with <code>List</code> only. That would be terrible... But now imagine that the Java masters actually realize that a linked list is terrible for most actual use cases, and decided to switch over to an array list for their only <code>List</code> class available. This would affect the performance of every Java program in the world, and people wouldn't be happy about it. And the main culprit is that implementation details were available, and the developers assumed that those details are a permanent contract that they can rely on. This is why it's important to hide implementation details, and only define an abstract contract. This is the purpose of an interface: define what kind of input a method accepts, and what kind of output is expected, without exposing all the guts that would tempt programmers to tweak their code to fit the internal details that might change with any future update.</p>\n\n<p>An abstract class is in the middle between interfaces and concrete classes. It is supposed to help implementations share common or boring code. For example, <code>AbstractCollection</code> provides basic implementations for <code>isEmpty</code> based on size is 0, <code>contains</code> as iterate and compare, <code>addAll</code> as repeated <code>add</code>, and so on. This lets implementations focus on the crucial parts that differentiate between them: how to actually store and retrieve data.</p>\n\n<h3>Another perspective: APIs versus SPIs</h3>\n\n<p>Interfaces are low-cohesion <strong>gateways</strong> between different parts of code. They allow libraries to exist and evolve without breaking every library user when something changes internally. It's called <em>Application Programming <strong>Interface</em></strong>, not Application Programming Classes. On a smaller scale, they also allow multiple developers to collaborate successfully on large scale projects, by separating different modules through well documented interfaces.</p>\n\n<p>Abstract classes are high-cohesion <strong>helpers</strong> to be used when implementing an interface, assuming some level of implementation details. Alternatively, abstract classes are used for defining SPIs, Service Provider Interfaces.</p>\n\n<p>The difference between an API and an SPI is subtle, but important: for an API, the focus is on who <strong>uses</strong> it, and for an SPI the focus is on who <strong>implements</strong> it.</p>\n\n<p>Adding methods to an API is easy, all existing users of the API will still compile. Adding methods to an SPI is hard, since every service provider (concrete implementation) will have to implement the new methods. If interfaces are used to define an SPI, a provider will have to release a new version whenever the SPI contract changes. If abstract classes are used instead, new methods could either be defined in terms of existing abstract methods, or as empty <code>throw not implemented exception</code> stubs, which will at least allow an older version of a service implementation to still compile and run.</p>\n\n<h3>A note on Java 8 and default methods</h3>\n\n<p>Although Java 8 introduced default methods for interfaces, which makes the line between interfaces and abstract classes even blurrier, this wasn't so that implementations can reuse code, but to make it easier to change interfaces that serve both as an API and as an SPI (or are wrongly used for defining SPIs instead of abstract classes).</p>\n\n<h3>\"Book knowledge\"</h3>\n\n<p>The technical details provided in the OP's answer are considered \"book knowledge\" because this is usually the approach used in school and in most technology books about a language: <strong>what</strong> a thing is, not <strong>how</strong> to use it in practice, especially in large scale applications.</p>\n\n<p>Here's an analogy: supposed the question was:</p>\n\n<blockquote>\n  <p>What is better to rent for prom night, a car or a hotel room?</p>\n</blockquote>\n\n<p>The technical answer sounds like:</p>\n\n<blockquote>\n  <p>Well, in a car you can do it sooner, but in a hotel room you can do it more comfortably. On the other hand, the hotel room is in only one place, while in the car you can do it in more places, like, let's say you can go to the vista point for a nice view, or in a drive-in theater, or many other places, or even in more than one place. Also, the hotel room has a shower.</p>\n</blockquote>\n\n<p>That is all true, but completely misses the points that they are two completely different things, and both can be used at the same time for different purposes, and the \"doing it\" aspect is not the most important thing about either of the two options. The answer lacks perspective, it shows an immature way of thinking, while correctly presenting true \"facts\".</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37905386#37905386", "question_id": 18777989, "answer_id": 37905386}, {"body": "<p>Yes, your responses were technically correct but where you went wrong was not showing them you understand the upsides and downsides of choosing one over the other. Additionally, they were probably concerned/freaked out about compatibility of their codebase with upgrades in the future. This type of response may have helped (in addition to what you said): </p>\n\n<blockquote>\n  <p>\"Choosing an Abstract Class over an Interface Class depends on what we\n  project the future of the code will be. </p>\n  \n  <p>Abstract classes allow better forward-compatibility because you can\n  continue adding behavior to an Abstract Class well into the future\n  without breaking your existing code --> this is not possible with an\n  Interface Class.</p>\n  \n  <p>On the other hand, Interface Classes are more flexible than Abstract\n  Classes. This is because they can implement <em>multiple interfaces</em>. The\n  thing is Java does not have multiple inheritances so using abstract\n  classes won't let you use any other class hierarchy structure...</p>\n  \n  <p>So, in the end a good general rule of thumb is: Prefer using Interface\n  Classes when there are no existing/default implementations in your\n  codebase. And, use Abstract Classes to preserve compatibility if you\n  know you will be updating your class in the future.\"</p>\n</blockquote>\n\n<p>Good luck on your next interview!</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37909057#37909057", "question_id": 18777989, "answer_id": 37909057}, {"body": "<p>I believe what the interviewer was trying to get at was probably the difference between interface and implementation.</p>\n\n<p>The interface - not a Java interface, but \"interface\" in more general terms - to a code module is, basically, the contract made with client code that uses the interface.</p>\n\n<p>The implementation of a code module is the internal code that makes the module work.  Often you can implement a particular interface in more than one different way, and even change the implementation without client code even being aware of the change.</p>\n\n<p>A Java interface should only be used as an interface in the above generic sense, to define how the class behaves for the benefit of client code using the class, without specifying any implementation.  Thus, an interface includes method signatures - the names, return types, and argument lists - for methods expected to be called by client code, and in principle should have plenty of Javadoc for each method describing what that method does.  The most compelling reason for using an interface is if you plan to have multiple different implementations of the interface, perhaps selecting an implementation depending on deployment configuration.</p>\n\n<p>A Java abstract class, in contrast, provides a partial implementation of the class, rather than having a primary purpose of specifying an interface.  It should be used when multiple classes share code, but when the subclasses are also expected to provide part of the implementation.  This permits the shared code to appear in only one place - the abstract class - while making it clear that parts of the implementation are not present in the abstract class and are expected to be provided by subclasses.</p>\n", "title": "How should I have explained the difference between an Interface and an Abstract class?", "tags": ["java", "oop", "inheritance", "interface", "abstract-class"], "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract/37913675#37913675", "question_id": 18777989, "answer_id": 37913675}], "creation_date": 1379044240, "score": 191, "link": "http://stackoverflow.com/questions/18777989/how-should-i-have-explained-the-difference-between-an-interface-and-an-abstract", "question_id": 18777989}, {"body": "<p>As Java 8 allows for default implementation of methods in interface called <a href=\"http://java.dzone.com/articles/introduction-default-methods\">Default Methods</a>, there seems to be a confusion between when would I use a <code>abstract class</code>.</p>\n\n<p>So when should interface with default methods be used and when should an abstract class be used? Are the abstract classes still useful in that scenario?   </p>\n", "tags": ["java", "abstract-class", "java-8"], "title": "Interface with default methods vs Abstract class in Java 8", "answers": [{"body": "<p>This is being described in this <a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/\">article</a>. Think about <code>forEach</code> of Collections.</p>\n\n<pre><code>List&lt;?&gt; list = \u2026\nlist.forEach(\u2026);\n</code></pre>\n\n<blockquote>\n  <p>The forEach isn\u2019t declared by <code>java.util.List</code> nor the\n  <code>java.util.Collection</code> interface yet. One obvious solution would be to\n  just add the new method to the existing interface and provide the\n  implementation where required in the JDK. However, once published, it\n  is impossible to add methods to an interface without breaking the\n  existing implementation.</p>\n  \n  <p>The benefit that default methods bring is that now it\u2019s possible to\n  add a new default method to the interface and it doesn\u2019t break the\n  implementations.</p>\n</blockquote>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/19998652#19998652", "question_id": 19998454, "answer_id": 19998652}, {"body": "<p>There are a few technical differences. Abstract classes can still do more in comparison to Java 8 interfaces:</p>\n\n<ol>\n<li>Abstract class can have a constructor.</li>\n<li>Abstract classes are more structured and can hold a state.</li>\n</ol>\n\n<p>Conceptually, main purpose of defender methods is a backward compatibility after introduction of new features (as lambda-functions) in Java 8.</p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/19998768#19998768", "question_id": 19998454, "answer_id": 19998768}, {"body": "<p>There's a lot more to abstract classes than default method implementations (such as private state), but as of Java 8, whenever you have the choice of either, you should go with the defender (aka. <code>default</code>) method in the interface.</p>\n\n<p>The constraint on the default method is that it can be implemented only in the terms of calls to other interface methods, with no reference to a particular implementation's state. So the main use case is higher-level and convenience methods.</p>\n\n<p>The good thing about this new feature is that, where before you were forced to use an abstract class for the convenience methods, thus constraining the implementor to single inheritance, now you can have a really clean design with just the interface and a minimum of implementation effort forced on the programmer.</p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/19998827#19998827", "question_id": 19998454, "answer_id": 19998827}, {"body": "<p>These two are quite different:</p>\n\n<p>Default methods are to <strong>add external functionality</strong> to existing classes without changing their state.</p>\n\n<p>And abstract classes are a normal type of inheritance, they are <strong>normal classes</strong> which are intended to be extended.</p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/19998849#19998849", "question_id": 19998454, "answer_id": 19998849}, {"body": "<p>As described in <a href=\"http://muhammadkhojaye.blogspot.com/2014/03/interface-default-methods-in-java-8.html\" rel=\"nofollow\">this</a>article,</p>\n\n<p><strong>Abstract classes versus interfaces in Java 8</strong></p>\n\n<blockquote>\n  <p>After introducing Default Method, it seems that interfaces and\n  abstract classes are same. However, they are still different concept\n  in Java 8.</p>\n  \n  <p>Abstract class can define constructor. They are more structured and\n  can have a state associated with them. While in contrast, default\n  method can be implemented only in the terms of invoking other\n  interface methods, with no reference to a particular implementation's\n  state. Hence, both use for different purposes and choosing between two\n  really depends on the scenario context.</p>\n</blockquote>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/28304230#28304230", "question_id": 19998454, "answer_id": 28304230}, {"body": "<p>Default methods in JAVA interface enables <strong><em>interface evolution</em></strong>.</p>\n\n<p>Given an existing interface, if you wish to add a method to it without breaking the binary compatibility with older versions of the interface, you have two options at hands: add a default or a static method. Indeed, any abstract method added to the interface would have to be impleted by the classes or interfaces implementing this interface. </p>\n\n<p>A static method is unique to a class. A default method is unique to an instance of the class.</p>\n\n<p>If you add a default method to an existing interface, classes and interfaces which implement this interface do not need to implement it. They can</p>\n\n<ul>\n<li>implement the default method, and it overrides the implementation in implemented interface</li>\n<li>re-declare the method [without implementation] which makes it abstract</li>\n<li>do nothing [then the default method from implemented interface is simply inherited]</li>\n</ul>\n\n<p>More on the topic here, <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html</a> </p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/31001728#31001728", "question_id": 19998454, "answer_id": 31001728}, {"body": "<p>Whenever we have a choice between abstract class and interface we should always (almost) prefer default (also known as defender or virtual extensions) methods.</p>\n\n<ol>\n<li>Default methods have put an end to classic pattern of interface and a companion class that implements most or all of the methods in that interface. An example is <code>Collection and AbstractCollection</code>. Now we should implement the methods in the interface itself to provide default functionality. The classes which implement the interface has choice to override the methods or inherit the default implementation.</li>\n<li><p>Another important use of default methods is <code>interface evolution</code>. Suppose I had a class Ball as:</p>\n\n<p><code>public class Ball implements Collection {   ...   }</code></p></li>\n</ol>\n\n<p>Now in Java 8 a new feature streams in introduced. We can get a stream by using <code>stream</code> method added to the interface. If <code>stream</code> were not a default method all the implementations for <code>Collection</code> interface would have broken as they would not be implementing this new method. Adding a non-default method to an interface is not <code>source-compatible</code>.</p>\n\n<p>But suppose we do not recompile the class and use an old jar file which contains this class <code>Ball</code>. The class will load fine without this missing method, instances can be created and it seems everything is working fine. <strong>BUT</strong> if program invokes <code>stream</code> method on instance of <code>Ball</code> we will get <code>AbstractMethodError</code>. So making method default solved both the problems.</p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/32774868#32774868", "question_id": 19998454, "answer_id": 32774868}, {"body": "<p>Regarding your query of </p>\n\n<blockquote>\n  <p>So when should interface with default methods be used and when should an abstract class be used? Are the abstract classes still useful in that scenario?</p>\n</blockquote>\n\n<p>java <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow\">documentation </a> provides perfect answer. </p>\n\n<p><strong>Abstract Classes Compared to Interfaces:</strong></p>\n\n<blockquote>\n  <p>Abstract classes are similar to interfaces. You cannot instantiate them, and they may contain a mix of methods declared with or without an implementation. </p>\n  \n  <p>However, with abstract classes, you can declare fields that are not static and final, and define public, protected, and private concrete methods.</p>\n  \n  <p>With interfaces, all fields are automatically public, static, and final, and all methods that you declare or define (as default methods) are public. In addition, you can extend only one class, whether or not it is abstract, whereas you can implement any number of interfaces.</p>\n</blockquote>\n\n<p>Use cases for each of them have been explained in below SE post:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class/33957698#33957698\">What is the difference between an interface and abstract class?</a></p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/37971794#37971794", "question_id": 19998454, "answer_id": 37971794}, {"body": "<blockquote>\n  <p>when should interface with default methods be used and when should an\n  abstract class be used?</p>\n</blockquote>\n\n<p><strong>Backward compatibility:</strong>\nImagine that your interface is implemented by hundreds of classes, modifying that interface will force all the users to implement the newly added method, even though it could be not essential for many other classes that implements your interface, Plus it allows your  interface to be a <strong><em>functional interface</em></strong></p>\n\n<p><strong>Facts &amp; Restrictions:</strong> </p>\n\n<p>1-May only be declared within an interface and not within a class or\nabstract class.</p>\n\n<p>2-Must provide a body</p>\n\n<p>3-It is not assumed to be abstract as other normal methods used in an interface.</p>\n", "title": "Interface with default methods vs Abstract class in Java 8", "tags": ["java", "abstract-class", "java-8"], "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8/38794422#38794422", "question_id": 19998454, "answer_id": 38794422}], "creation_date": 1384509961, "score": 166, "link": "http://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8", "question_id": 19998454}, {"body": "<p>I have a file <code>Test.java</code> and the following code inside it.</p>\n\n<pre><code>public class Abcd\n{\n        //some code here\n\n}\n</code></pre>\n\n<p>Now the class does not compile, but when I remove the <code>public</code> modifier , it compiles  fine. </p>\n\n<p>What is the reasoning behind Java allowing us to compile a class name that is different from the file name when it is not public.</p>\n\n<p>I know it is a newbie question, but I'm not able to find a good explanation.</p>\n", "tags": ["java"], "title": "Why does Java allow us to compile a class with a name different than the file name?", "answers": [{"body": "<p>I look at it the other way round. The natural state of affairs would be for the programmer to pick both the class name and the file name independently. Probably in order to simplify finding public classes from outside a package during compilation, there is a special restriction that a public class be in a file with the corresponding name.</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20195834#20195834", "question_id": 20195782, "answer_id": 20195834}, {"body": "<p>The rationale is to allow more than one top-level class per <code>.java</code> file.</p>\n\n<p>Many classes&mdash;such as event listeners&mdash;are of local use only and the earliest versions of Java did not support nested classes. Without this relaxation of the \"filename = class name\" rule, each and every such class would have required its own file, with the unavoidable result of  endless proliferation of small <code>.java</code> files and the scattering of tightly coupled code.</p>\n\n<p>As soon as Java introduced nested classes, the importance of this rule waned significantly. Today you can go through many hundreds of Java files, never chancing upon one which takes advantage of it.</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20195840#20195840", "question_id": 20195782, "answer_id": 20195840}, {"body": "<p>The Java specification states you can only have at most one public class per file. In this case, the class name should match the file name. All non-public classes are allowed to have any name, regardless of the file name.</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20195847#20195847", "question_id": 20195782, "answer_id": 20195847}, {"body": "<p>I think allowing them is a prerequisite for nested classes. Anonymous Classes in particular dramatically reduce the number of .java files required. Without support for this, you would need lots of single method interface implementations in their own separate files from the main class they are used in. (I'm thinking of action listeners in particular)</p>\n\n<p>There is a good explanation of all nested classes in the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\">Nested Classes</a> Java tutorial on Oracle's website, which has examples of each. It also has a reason they are useful, which I'll quote:</p>\n\n<blockquote>\n  <h2>Why Use Nested Classes?</h2>\n  \n  <p>Compelling reasons for using nested classes include the following:</p>\n  \n  <ul>\n  <li><p><strong>It is a way of logically grouping classes that are only used in one place</strong>: If a class is useful to only one other class, then it is logical to embed it in that class and keep the two together. Nesting such \"helper classes\" makes their package more streamlined.</p></li>\n  <li><p><strong>It increases encapsulation</strong>: Consider two top-level classes, A and B, where B needs access to members of A that would otherwise be\n  declared private. By hiding class B within class A, A's members can be\n  declared private and B can access them. In addition, B itself can be\n  hidden from the outside world.</p></li>\n  <li><p><strong>It can lead to more readable and maintainable code</strong>: Nesting small classes within top-level classes places the code closer to where it is\n  used.</p></li>\n  </ul>\n</blockquote>\n\n<p>(emphasis mine)</p>\n\n<p>I am not familiar with Java spec back in the early days, but a quick search shows inner classes were added in Java 1.1.</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20201911#20201911", "question_id": 20195782, "answer_id": 20201911}, {"body": "<p>Note that Java is case-sensitive, but the filesystem need not be. If the file's base name is \"abcd\", but the class is \"Abcd\", would that conform to the rule on a case-insensitive filesystem? Certainly not when ported to a case-sensitive one.</p>\n\n<p>Or suppose you happened to have a class called ABCD, and a class Abcd (let's not get into that being a bad idea: it could happen) and the program is ported to a case insensitive filesystem. Now you not only have to rename files, but also classes, oops!</p>\n\n<p>Or what if there is no file? Suppose you have a Java compiler which can take input on standard input. So then the class has to be named \"StandardInput\"?</p>\n\n<p>If you rationally explore the implications of requiring file names to follow class names, you will find that it's a bad idea in more than one way.</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20203617#20203617", "question_id": 20195782, "answer_id": 20203617}, {"body": "<p>Also one other point that many answers missed to point out is that without the <code>public</code> declaration, the JVM would never know which classes' main method needs to be invoked. All classes declared in one .java file can all have main methods, but the main method is run on only the class marked as public. HTH</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20204117#20204117", "question_id": 20195782, "answer_id": 20204117}, {"body": "<p>The reason is the same as for the door plates. If some person officially resides in the office (declared public) his/her name must be on the door tag. Like \"Alex Jones\" or \"Detective Colombo\". If somebody just visits the room, talks to an official or cleans the floor, their name does not have to be officially put on the door. Instead, the door can read \"Utilities\" or \"Meeting room\".</p>\n\n<p><img src=\"http://i.stack.imgur.com/S3E4N.jpg\" alt=\"Official name or MyClass.java\">\n<img src=\"http://i.stack.imgur.com/ofWAB.jpg\" alt=\"Meeting room or Test.java\"></p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20208177#20208177", "question_id": 20195782, "answer_id": 20208177}, {"body": "<p>Because of a java file can contains more than one class, it may have two classes in one java file. But a java file have to contain a class as the same name as file name if it contains a public class.</p>\n", "title": "Why does Java allow us to compile a class with a name different than the file name?", "tags": ["java"], "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na/20231482#20231482", "question_id": 20195782, "answer_id": 20231482}], "creation_date": 1385390306, "score": 165, "link": "http://stackoverflow.com/questions/20195782/why-does-java-allow-us-to-compile-a-class-with-a-name-different-than-the-file-na", "question_id": 20195782}, {"body": "<p>I have a small <strong>theoretical</strong> problem with try-catch constructions.</p>\n\n<p>I took a practical exam yesterday about Java and I don't understand following example:</p>\n\n<pre><code>try {\n    try {\n        System.out.print(\"A\");\n        throw new Exception(\"1\");\n    } catch (Exception e) {\n        System.out.print(\"B\");\n        throw new Exception(\"2\");\n    } finally {\n        System.out.print(\"C\");\n        throw new Exception(\"3\");\n    }\n} catch (Exception e) {\n    System.out.print(e.getMessage());\n}\n</code></pre>\n\n<p>The question was \"what the output will look like?\"</p>\n\n<p>I was pretty sure it would be AB2C3, BUT suprise suprise, it's not true.</p>\n\n<p>The right answer is ABC3 (tested and really it's like that).</p>\n\n<p>My question is, where did the Exception(\"2\") go?</p>\n", "tags": ["java", "exception", "try-catch"], "title": "Java exception not caught?", "answers": [{"body": "<p>Exceptions thrown in finally block suppress the exception thrown earlier in try or catch block.</p>\n\n<p>Java 7 example: <a href=\"http://ideone.com/0YdeZo\">http://ideone.com/0YdeZo</a></p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html#suppressed-exceptions\">Javadoc's</a> example:</p>\n\n<hr>\n\n<pre><code>static String readFirstLineFromFileWithFinallyBlock(String path)\n                                                     throws IOException {\n    BufferedReader br = new BufferedReader(new FileReader(path));\n    try {\n        return br.readLine();\n    } finally {\n        if (br != null) br.close();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>However, in this example, if the methods readLine and close both throw\n  exceptions, then the method readFirstLineFromFileWithFinallyBlock\n  throws the exception thrown from the finally block; the exception\n  thrown from the try block is suppressed.</p>\n</blockquote>\n\n<hr>\n\n<p>The new <code>try-with</code> syntax of Java 7 adds another step of exception suppression: Exceptions thrown in try block  suppress those thrown earlier in try-with part.</p>\n\n<p>from same example:</p>\n\n<pre><code>try (\n        java.util.zip.ZipFile zf = new java.util.zip.ZipFile(zipFileName);\n        java.io.BufferedWriter writer = java.nio.file.Files.newBufferedWriter(outputFilePath, charset)\n    ) {\n        for (java.util.Enumeration entries = zf.entries(); entries.hasMoreElements();) {\n            String newLine = System.getProperty(\"line.separator\");\n            String zipEntryName = ((java.util.zip.ZipEntry)entries.nextElement()).getName() + newLine;\n            writer.write(zipEntryName, 0, zipEntryName.length());\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>An exception can be thrown from the block of code associated with the\n  try-with-resources statement. In the above example, an exception can\n  be thrown from the try block, and up to two exceptions can be thrown\n  from the try-with-resources statement when it tries to close the\n  ZipFile and BufferedWriter objects. If an exception is thrown from the\n  try block and one or more exceptions are thrown from the\n  try-with-resources statement, then those exceptions thrown from the\n  try-with-resources statement are suppressed, and the exception thrown\n  by the block is the one that is thrown by the\n  writeToFileZipFileContents method. You can retrieve these suppressed\n  exceptions by calling the Throwable.getSuppressed method from the\n  exception thrown by the try block.</p>\n</blockquote>\n\n<hr>\n\n<p>In code from question, each block is plainly discarding the old exception, not even logging it, not good when you are trying to resolve some bugs: </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Error_hiding\">http://en.wikipedia.org/wiki/Error_hiding</a></p>\n", "title": "Java exception not caught?", "tags": ["java", "exception", "try-catch"], "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught/18097561#18097561", "question_id": 18097496, "answer_id": 18097561}, {"body": "<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2\" rel=\"nofollow\">Java Language Specification 14.20.2.</a>:</p>\n\n<blockquote>\n  <p>If the catch block completes abruptly for reason R, then the finally block is executed. Then there is a choice:</p>\n  \n  <ul>\n  <li><p>If the finally block completes normally, then the try statement completes abruptly for reason R.</p></li>\n  <li><p><strong>If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and reason R is discarded)</strong>.</p></li>\n  </ul>\n</blockquote>\n\n<p>So, when there is a catch block that throws an exception:</p>\n\n<pre><code>try {\n    // ...\n} catch (Exception e) {\n    throw new Exception(\"2\");\n}\n</code></pre>\n\n<p>but there is also a finally block that also throws an exception:</p>\n\n<pre><code>} finally {\n    throw new Exception(\"3\");\n}\n</code></pre>\n\n<p><code>Exception(\"2\")</code> will be discarded and only <code>Exception(\"3\")</code> will be propagated.</p>\n", "title": "Java exception not caught?", "tags": ["java", "exception", "try-catch"], "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught/18097580#18097580", "question_id": 18097496, "answer_id": 18097580}, {"body": "<p>Since <code>throw new Exception(\"2\");</code> is thrown from <code>catch</code> block and not <code>try</code>, it won't be caught again.<br>\n<strong>See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2\" rel=\"nofollow\">14.20.2. Execution of try-finally and try-catch-finally</a></strong>.</p>\n\n<p>This is what happening:</p>\n\n<pre><code>try {\n    try {\n        System.out.print(\"A\");         //Prints A\n        throw new Exception(\"1\");   \n    } catch (Exception e) { \n        System.out.print(\"B\");         //Caught from inner try, prints B\n        throw new Exception(\"2\");   \n    } finally {\n        System.out.print(\"C\");         //Prints C (finally is always executed)\n        throw new Exception(\"3\");  \n    }\n} catch (Exception e) {\n    System.out.print(e.getMessage());  //Prints 3 since see (very detailed) link\n}\n</code></pre>\n", "title": "Java exception not caught?", "tags": ["java", "exception", "try-catch"], "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught/18097588#18097588", "question_id": 18097496, "answer_id": 18097588}, {"body": "<p>The <code>finally</code> block always runs. Either you <code>return</code> from inside the try block or an exception is thrown. The exception thrown in the <code>finally</code> block will override the one thrown in the catch branch.</p>\n\n<p>Additionally, throwing an exception will not cause any output by itself. The line <code>throw new Exception(\"2\");</code> will not write anything out.</p>\n", "title": "Java exception not caught?", "tags": ["java", "exception", "try-catch"], "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught/18097640#18097640", "question_id": 18097496, "answer_id": 18097640}, {"body": "<p>Your Question is very obvious, and the answer is simple to the same extent..\n<strong>The Exception object with message as \"2\" is overwritten by the Exception object with message as \"3\" .</strong></p>\n\n<p><em><strong>Explanation :</em></strong>\nWhen an Exception occur, its object it thrown to catch block to handle. But when exception occur in catch block itself, its object is transferred to OUTER CATCH Block(if any) for exception Handling. And Same happened Here. The Exception Object with  message \"2\" is transferred to OUTER catch Block . <strong>But wait</strong>.. Before leaving inner try-catch block it HAS TO EXECUTE FINALLY. Here occurred the change we are concerned about. A new EXCEPTION object(with message \"3\") is thrown out or this finally block which replaced the already thrown Exception object(with message \"2\").As a result of which, when the message of Exception object is printed , we got overridden value i.e. \"3\" and not \"2\".</p>\n\n<p>Keep Remember :Only one exception object can be handled by on CATCH block.</p>\n", "title": "Java exception not caught?", "tags": ["java", "exception", "try-catch"], "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught/18105393#18105393", "question_id": 18097496, "answer_id": 18105393}, {"body": "<p>According to your code:</p>\n\n<pre><code>try {\n    try {\n        System.out.print(\"A\");\n        throw new Exception(\"1\");   // 1\n    } catch (Exception e) {\n        System.out.print(\"B\");      // 2\n        throw new Exception(\"2\");\n    } finally {                     // 3\n        System.out.print(\"C\");      // 4 \n        throw new Exception(\"3\");\n    }\n} catch (Exception e) {             // 5\n    System.out.print(e.getMessage());\n}\n</code></pre>\n\n<p>As you can see here:   </p>\n\n<ol>\n<li>print A and throws exception <code># 1</code>;   </li>\n<li>this exception has caught by catch statement and print <code>B - # 2</code>;   </li>\n<li>block finally <code># 3</code> executes after try-catch (or only try, if hadn't occurred any exception) statement and  prints <code>C - # 4</code> and thrown new exception;</li>\n<li>this one has caught by external catch statement <code># 5</code>;</li>\n</ol>\n\n<p>Result is <code>ABC3</code>. And <code>2</code> is omitted at the same way as <code>1</code></p>\n", "title": "Java exception not caught?", "tags": ["java", "exception", "try-catch"], "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught/18220438#18220438", "question_id": 18097496, "answer_id": 18220438}], "creation_date": 1375861445, "score": 163, "link": "http://stackoverflow.com/questions/18097496/java-exception-not-caught", "question_id": 18097496}, {"body": "<p>Im using Mac only at work and I need to set JAVA_HOME to proper path of JDK. I downloaded JDK, installed it and now I can't find it anywhere. I was looking at the internet for the solution, but there is no folder Libraries/Java.</p>\n", "tags": ["osx", "java"], "title": "What is path of JDK on Mac ?", "answers": [{"body": "<p>On my Mac:</p>\n\n<pre><code>/System/Library/Frameworks/JavaVM.framework/Home/\n</code></pre>\n\n<p>btw, did you tried <code>which java</code>?</p>\n", "title": "What is path of JDK on Mac ?", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/18144660/what-is-path-of-jdk-on-mac/18144712#18144712", "question_id": 18144660, "answer_id": 18144712}, {"body": "<p><code>/System/Library/Frameworks/JavaVM.framework/</code></p>\n\n<p>Also see <a href=\"http://kunaldabir.blogspot.in/2013/01/java-7-and-groovy-on-mac-os-x-mountain.html\">Java 7 path on mountain lion</a></p>\n", "title": "What is path of JDK on Mac ?", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/18144660/what-is-path-of-jdk-on-mac/18144720#18144720", "question_id": 18144660, "answer_id": 18144720}, {"body": "<p>Have a look and see if the the JDK is at:</p>\n\n<p>Library/Java/JavaVirtualMachines/\nOr\n/System/Library/Java/JavaVirtualMachines/</p>\n\n<p>Check this earlier SO post:\n<a href=\"http://stackoverflow.com/questions/6614380/jdk-on-osx-10-7-lion\">JDK on OSX 10.7 Lion</a></p>\n", "title": "What is path of JDK on Mac ?", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/18144660/what-is-path-of-jdk-on-mac/18144745#18144745", "question_id": 18144660, "answer_id": 18144745}, {"body": "<p>Which Mac version are you using? try these paths </p>\n\n<pre><code> /System/Library/Frameworks/JavaVM.framework/ OR\n /usr/libexec/java_home\n</code></pre>\n\n<p>This link might help - <a href=\"http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\">How To Set $JAVA_HOME Environment Variable On Mac OS X</a></p>\n", "title": "What is path of JDK on Mac ?", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/18144660/what-is-path-of-jdk-on-mac/18144763#18144763", "question_id": 18144660, "answer_id": 18144763}, {"body": "<p>The location has changed from Java 6 (provided by Apple) to Java 7 and onwards (provided by Oracle). The best <em>generic</em> way to find this out is to run</p>\n\n<pre><code>/usr/libexec/java_home\n</code></pre>\n\n<p>This is the natively supported way to find out both the path to the default Java installation as well as all alternative ones present. </p>\n\n<p>If you check out its help text (<code>java_home -h</code>), you'll see that you can use this command to reliably start a Java program on OS X (<code>java_home --exec ...</code>), with the ability to explicitly specify the desired Java version and architecture, or even request the user to install it if missing.</p>\n\n<p>A more pedestrian approach, but one which will help you trace specifically which Java installation the command <code>java</code> resolves into, goes like this:</p>\n\n<ol>\n<li><p>run</p>\n\n<pre><code>which java\n</code></pre></li>\n<li><p>if that gives you something like <code>/usr/bin/java</code>, which is a symbolic link to the real location, run</p>\n\n<pre><code>ls -l `which java`\n</code></pre>\n\n<p>On my system, this outputs</p>\n\n<pre><code>/usr/bin/java -&gt; /Library/Java/JavaVirtualMachines/jdk1.7.0_25.jdk/Contents/Home/bin/java\n</code></pre>\n\n<p>and therefrom you can read the Java home directory;</p></li>\n<li><p>if <code>usr/bin/java</code> points to another symbolic link, recursively apply the same approach with</p>\n\n<pre><code>ls -l &lt;whatever the /usr/bin/java symlink points to&gt;\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>An important variation is the setup you get if you start by installing Apple's Java and later install Oracle's. In that case Step 2 above will give you</p>\n\n<pre><code>/usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Commands/java\n</code></pre>\n\n<p>and that particular <code>java</code> binary is a stub which will resolve the actual <code>java</code> command to call by consulting the <code>JAVA_HOME</code> environment variable and, if it's not set or doesn't point to a Java home directory, will fall back to calling <code>java_home</code>. It is important to have this in mind when debugging your setup.</p>\n", "title": "What is path of JDK on Mac ?", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/18144660/what-is-path-of-jdk-on-mac/18144853#18144853", "question_id": 18144660, "answer_id": 18144853}], "creation_date": 1376044127, "score": 161, "link": "http://stackoverflow.com/questions/18144660/what-is-path-of-jdk-on-mac", "question_id": 18144660}, {"body": "<p>I know how to create a reference to a method that has a String parameter and returns an int, it's:</p>\n\n<pre><code>Function&lt;String, Integer&gt;\n</code></pre>\n\n<p>However, this doesn't work if the function throws an exception, say it's defined as:</p>\n\n<pre><code>Integer myMethod(String s) throws IOException\n</code></pre>\n\n<p>How would I define this reference?</p>\n", "tags": ["java", "lambda", "java-8"], "title": "Java 8 Lambda function that throws exception?", "answers": [{"body": "<p><em>Disclaimer: I haven't used Java 8 yet, only read about it.</em></p>\n\n<p><code>Function&lt;String, Integer&gt;</code> doesn't throw <code>IOException</code>, so you can't put any code in it that <code>throws IOException</code>. If you're calling a method that expects a <code>Function&lt;String, Integer&gt;</code>, then the lambda that you pass to that method can't throw <code>IOException</code>, period. You can either write a lambda like this (I think this is the lambda syntax, not sure):</p>\n\n<pre><code>(String s) -&gt; {\n    try {\n        return myMethod(s);\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n        // (Or do something else with it...)\n    }\n}\n</code></pre>\n\n<p>Or, if the method you're passing the lambda to is one you wrote yourself, you can define a new functional interface and use that as the parameter type instead of <code>Function&lt;String, Integer&gt;</code>:</p>\n\n<pre><code>public interface FunctionThatThrowsIOException&lt;I, O&gt; {\n    O apply(I input) throws IOException;\n}\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/18198325#18198325", "question_id": 18198176, "answer_id": 18198325}, {"body": "<p>You'll need to do one of the following.</p>\n\n<ul>\n<li><p>If it's your code, then define your own functional interface that declares the checked exception</p>\n\n<pre><code>@FunctionalInterface\npublic interface CheckedFunction&lt;T, R&gt; {\n   R apply(T t) throws IOException;\n}\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>void foo (CheckedFunction f) { ... }\n</code></pre></li>\n<li><p>Otherwise, wrap <code>Integer myMethod(String s)</code> in a method that doesn't declare a checked exception:</p>\n\n<pre><code>public Integer myWrappedMethod(String s) {\n    try {\n        return myMethod(s);\n    }\n    catch(IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>Function&lt;String, Integer&gt; f = (String t) -&gt; myWrappedMethod(t);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Function&lt;String, Integer&gt; f =\n    (String t) -&gt; {\n        try {\n           return myMethod(t);\n        }\n        catch(IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    };\n</code></pre></li>\n</ul>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/18198349#18198349", "question_id": 18198176, "answer_id": 18198349}, {"body": "<p>This is not specific to Java 8. You are trying to compile something equivalent to:</p>\n\n<pre><code>interface I {\n    void m();\n}\nclass C implements I {\n    public void m() throws Exception {} //can't compile\n}\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/18198376#18198376", "question_id": 18198176, "answer_id": 18198376}, {"body": "<p>Another solution using a Function wrapper would be to return either an instance of a wrapper of your result, say Success, if everything went well, either an instance of, say Failure.</p>\n\n<p>Some code to clarify things :</p>\n\n<pre><code>public interface ThrowableFunction&lt;A, B&gt; {\n    B apply(A a) throws Exception;\n}\n\npublic abstract class Try&lt;A&gt; {\n\n    public static boolean isSuccess(Try tryy) {\n        return tryy instanceof Success;\n    }\n\n    public static &lt;A, B&gt; Function&lt;A, Try&lt;B&gt;&gt; tryOf(ThrowableFunction&lt;A, B&gt; function) {\n        return a -&gt; {\n            try {\n                B result = function.apply(a);\n                return new Success&lt;B&gt;(result);\n            } catch (Exception e) {\n                return new Failure&lt;&gt;(e);\n            }\n        };\n    }\n\n    public abstract boolean isSuccess();\n\n    public boolean isError() {\n        return !isSuccess();\n    }\n\n    public abstract A getResult();\n\n    public abstract Exception getError();\n}\n\npublic class Success&lt;A&gt; extends Try&lt;A&gt; {\n\n    private final A result;\n\n    public Success(A result) {\n        this.result = result;\n    }\n\n    @Override\n    public boolean isSuccess() {\n        return true;\n    }\n\n    @Override\n    public A getResult() {\n        return result;\n    }\n\n    @Override\n    public Exception getError() {\n        return new UnsupportedOperationException();\n    }\n\n    @Override\n    public boolean equals(Object that) {\n        if(!(that instanceof Success)) {\n            return false;\n        }\n        return Objects.equal(result, ((Success) that).getResult());\n    }\n}\n\npublic class Failure&lt;A&gt; extends Try&lt;A&gt; {\n\n    private final Exception exception;\n\n    public Failure(Exception exception) {\n        this.exception = exception;\n    }\n\n    @Override\n    public boolean isSuccess() {\n        return false;\n    }\n\n    @Override\n    public A getResult() {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public Exception getError() {\n        return exception;\n    }\n}\n</code></pre>\n\n<p>A simple use case :</p>\n\n<pre><code>List&lt;Try&lt;Integer&gt;&gt; result = Lists.newArrayList(1, 2, 3).stream().\n    map(Try.&lt;Integer, Integer&gt;tryOf(i -&gt; someMethodThrowingAnException(i))).\n    collect(Collectors.toList());\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/21458043#21458043", "question_id": 18198176, "answer_id": 21458043}, {"body": "<p>What I'm doing is to allow the user to give the value he actually want in case of exception .\nSo I've something looking like this </p>\n\n<pre><code>public static &lt;T, R&gt; Function&lt;? super T, ? extends R&gt; defaultIfThrows(FunctionThatThrows&lt;? super T, ? extends R&gt; delegate, R defaultValue) {\n    return x -&gt; {\n        try {\n            return delegate.apply(x);\n        } catch (Throwable throwable) {\n            return defaultValue;\n        }\n    };\n}\n\n@FunctionalInterface\npublic interface FunctionThatThrows&lt;T, R&gt; {\n    R apply(T t) throws Throwable;\n}\n</code></pre>\n\n<p>And this can then be call like : </p>\n\n<pre><code>defaultIfThrows(child -&gt; child.getID(), null)\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/26121091#26121091", "question_id": 18198176, "answer_id": 26121091}, {"body": "<p>You can actually extend <code>Consumer</code> (and <code>Function</code> etc.) with a new interface that handles exceptions -- using Java 8's <strong>default methods</strong>!</p>\n\n<p>Consider this interface (extends <code>Consumer</code>):</p>\n\n<pre><code>@FunctionalInterface\npublic interface ThrowingConsumer&lt;T&gt; extends Consumer&lt;T&gt; {\n\n    @Override\n    default void accept(final T elem) {\n        try {\n            acceptThrows(elem);\n        } catch (final Exception e) {\n            /* Do whatever here ... */\n            System.out.println(\"handling an exception...\");\n            throw new RuntimeException(e);\n        }\n    }\n\n    void acceptThrows(T elem) throws Exception;\n\n}\n</code></pre>\n\n<p>Then, for example, if you have a list:</p>\n\n<pre><code>final List&lt;String&gt; list = Arrays.asList(\"A\", \"B\", \"C\");\n</code></pre>\n\n<p>If you want to consume it (eg. with <code>forEach</code>) with some code that throws exceptions, you would traditionally have set up a try/catch block:</p>\n\n<pre><code>final Consumer&lt;String&gt; consumer = aps -&gt; {\n    try {\n        // maybe some other code here...\n        throw new Exception(\"asdas\");\n    } catch (final Exception ex) {\n        System.out.println(\"handling an exception...\");\n    }\n};\nlist.forEach(consumer);\n</code></pre>\n\n<p>But with this new interface, you can instantiate it with a lamba expression and the complier will not complain:</p>\n\n<pre><code>final ThrowingConsumer&lt;String&gt; throwingConsumer = aps -&gt; {\n    // maybe some other code here...\n    throw new Exception(\"asdas\");\n};\nlist.forEach(throwingConsumer);\n</code></pre>\n\n<p>Or even just cast it to be more succinct!:</p>\n\n<pre><code>list.forEach((ThrowingConsumer&lt;String&gt;) aps -&gt; {\n    // maybe some other code here...\n    throw new Exception(\"asda\");\n});\n</code></pre>\n\n<p><strong>Update</strong>: Looks like there's a very nice utility library part of <a href=\"https://github.com/diffplug/durian\">Durian</a> called <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\">Errors</a> which can be used to solve this problem with a lot more flexibility. For example, in my implementation above I've explicitly defined the error handling policy (<code>System.out...</code> or <code>throw RuntimeException</code>), whereas Durian's Errors allow you to apply a policy on the fly via a large suite of utility methods. Thanks for <a href=\"http://stackoverflow.com/a/30246026/1153071\">sharing it</a>, @NedTwigg!.</p>\n\n<p>Sample usage:</p>\n\n<pre><code>list.forEach(Errors.rethrow().wrap(c -&gt; somethingThatThrows(c)));\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/27252163#27252163", "question_id": 18198176, "answer_id": 27252163}, {"body": "<p>@Jason and @assylias : If you're trying to use this with Stream.map or some other method expecting a Function, you DO HAVE a choice (instead of catching and rethrowing as an unchecked exception). </p>\n\n<p>This <code>UtilException</code> helper class lets you use any checked exceptions in Java streams, like this:</p>\n\n<pre><code>Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n      .map(rethrowFunction(Class::forName))\n      .collect(Collectors.toList());\n</code></pre>\n\n<p>Note <code>Class::forName</code> throws <code>ClassNotFoundException</code>, which is <strong>checked</strong>. The stream itself also throws <code>ClassNotFoundException</code>, and NOT some wrapping unchecked exception.</p>\n\n<pre><code>public final class UtilException {\n\n@FunctionalInterface\npublic interface Consumer_WithExceptions&lt;T&gt; {\n    void accept(T t) throws Exception;\n    }\n\n@FunctionalInterface\npublic interface Function_WithExceptions&lt;T, R&gt; {\n    R apply(T t) throws Exception;\n    }\n\n@FunctionalInterface\npublic interface Supplier_WithExceptions&lt;T&gt; {\n    T get() throws Exception;\n    }\n\n@FunctionalInterface\npublic interface Runnable_WithExceptions {\n    void accept() throws Exception;\n    }\n\n/** .forEach(rethrowConsumer(name -&gt; System.out.println(Class.forName(name)))); or .forEach(rethrowConsumer(ClassNameUtil::println)); */\npublic static &lt;T&gt; Consumer&lt;T&gt; rethrowConsumer(Consumer_WithExceptions&lt;T&gt; consumer) {\n    return t -&gt; {\n    try { consumer.accept(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); }\n    };\n    }\n\n/** .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName)) */\npublic static &lt;T, R&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R&gt; function) {\n    return t -&gt; {\n    try { return function.apply(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    };\n    }\n\n/** rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, \"UTF-8\"))), */\npublic static &lt;T&gt; Supplier&lt;T&gt; rethrowSupplier(Supplier_WithExceptions&lt;T&gt; function) {\n    return () -&gt; {\n    try { return function.get(); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    };\n    }\n\n/** uncheck(() -&gt; Class.forName(\"xxx\")); */\npublic static void uncheck(Runnable_WithExceptions t)\n    {\n    try { t.accept(); }\n    catch (Exception exception) { throwAsUnchecked(exception); }\n    }\n\n/** uncheck(() -&gt; Class.forName(\"xxx\")); */\npublic static &lt;R&gt; R uncheck(Supplier_WithExceptions&lt;R&gt; supplier)\n    {\n    try { return supplier.get(); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    }\n\n/** uncheck(Class::forName, \"xxx\"); */\npublic static &lt;T, R&gt; R uncheck(Function_WithExceptions&lt;T, R&gt; function, T t) {\n    try { return function.apply(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    }\n\n@SuppressWarnings (\"unchecked\")\nprivate static &lt;E extends Throwable&gt; void throwAsUnchecked(Exception exception) throws E { throw (E)exception; }\n</code></pre>\n\n<p>Many other examples on how to use it (after statically importing <code>UtilException</code>):</p>\n\n<pre><code>@Test\npublic void test_Consumer_with_checked_exceptions() throws IllegalAccessException {\n    Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n          .forEach(rethrowConsumer(className -&gt; System.out.println(Class.forName(className))));\n\n    Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n          .forEach(rethrowConsumer(System.out::println));\n    }\n\n@Test\npublic void test_Function_with_checked_exceptions() throws ClassNotFoundException {\n    List&lt;Class&gt; classes1\n          = Stream.of(\"Object\", \"Integer\", \"String\")\n                  .map(rethrowFunction(className -&gt; Class.forName(\"java.lang.\" + className)))\n                  .collect(Collectors.toList());\n\n    List&lt;Class&gt; classes2\n          = Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n                  .map(rethrowFunction(Class::forName))\n                  .collect(Collectors.toList());\n    }\n\n@Test\npublic void test_Supplier_with_checked_exceptions() throws ClassNotFoundException {\n    Collector.of(\n          rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, \"UTF-8\"))),\n          StringJoiner::add, StringJoiner::merge, StringJoiner::toString);\n    }\n\n@Test    \npublic void test_uncheck_exception_thrown_by_method() {\n    Class clazz1 = uncheck(() -&gt; Class.forName(\"java.lang.String\"));\n\n    Class clazz2 = uncheck(Class::forName, \"java.lang.String\");\n    }\n\n@Test (expected = ClassNotFoundException.class)\npublic void test_if_correct_exception_is_still_thrown_by_method() {\n    Class clazz3 = uncheck(Class::forName, \"INVALID\");\n    }\n</code></pre>\n\n<p><strong>But don't use it before understanding the following advantages, disadvantages, and limitations</strong>:</p>\n\n<p>\u2022 If the calling-code is to handle the checked exception you MUST add it to the throws clause of the method that contains the stream.\n The compiler will not force you to add it anymore, so it's easier to forget it.</p>\n\n<p>\u2022 If the calling-code already handles the checked exception, the compiler WILL remind you to add the throws clause to the method declaration\n that contains the stream (if you don't it will say: Exception is never thrown in body of corresponding try statement).</p>\n\n<p>\u2022 In any case, you won't be able to surround the stream itself to catch the checked exception INSIDE the method that contains the stream\n (if you try, the compiler will say: Exception is never thrown in body of corresponding try statement).</p>\n\n<p>\u2022 If you are calling a method which literally can never throw the exception that it declares, then you should not include the throws clause.\n For example: new String(byteArr, \"UTF-8\") throws UnsupportedEncodingException, but UTF-8 is guaranteed by the Java spec to always be present.\n Here, the throws declaration is a nuisance and any solution to silence it with minimal boilerplate is welcome.</p>\n\n<p>\u2022 If you hate checked exceptions and feel they should never be added to the Java language to begin with (a growing number of people think this way,\n and I am NOT one of them), then just don't add the checked exception to the throws clause of the method that contains the stream. The checked\n exception will, then, behave just like an UNchecked exception.</p>\n\n<p>\u2022 If you are implementing a strict interface where you don't have the option for adding a throws declaration, and yet throwing an exception is\n entirely appropriate, then wrapping an exception just to gain the privilege of throwing it results in a stacktrace with spurious exceptions which\n contribute no information about what actually went wrong. A good example is Runnable.run(), which does not throw any checked exceptions.\n In this case, you may decide not to add the checked exception to the throws clause of the method that contains the stream.</p>\n\n<p>\u2022 In any case, if you decide NOT to add (or forget to add) the checked exception to the throws clause of the method that contains the stream,\n be aware of these 2 consequences of throwing CHECKED exceptions:</p>\n\n<p>1) The calling-code won't be able to catch it by name (if you try, the compiler will say: Exception is never thrown in body of corresponding try\n statement). It will bubble and probably be catched in the main program loop by some \"catch Exception\" or \"catch Throwable\", which may be what you\n want anyway.</p>\n\n<p>2) It violates the principle of least surprise: it will no longer be enough to catch RuntimeException to be able to guarantee catching all\n possible exceptions. For this reason, I believe this should not be done in framework code, but only in business code that you completely control.</p>\n\n<p><strong>In conclusion: I believe the limitations here are not serious, and the <code>UtilException</code> class may be used without fear. However, it's up to you!</strong></p>\n\n<ul>\n<li>References:\n<ul>\n<li><a href=\"http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html\">http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html</a></li>\n<li><a href=\"http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html\">http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html</a></li>\n<li>Project Lombok annotation: @SneakyThrows</li>\n<li>Brian Goetz opinion (against) here: <a href=\"http://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\">How can I throw CHECKED exceptions from inside Java 8 streams?</a></li>\n<li><a href=\"http://programmers.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e\">http://programmers.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e</a> *</li>\n</ul></li>\n</ul>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/27661562#27661562", "question_id": 18198176, "answer_id": 27661562}, {"body": "<p>This problem has been bothering me as well; this is why I have created <a href=\"https://github.com/fge/throwing-lambdas\" rel=\"nofollow\">this project</a>.</p>\n\n<p>With it you can do:</p>\n\n<pre><code>final ThrowingFunction&lt;String, Integer&gt; f = yourMethodReferenceHere;\n</code></pre>\n\n<p>There are a totla of 39 interfaces defined by the JDK which have such a <code>Throwing</code> equivalent; those are all <code>@FunctionalInterface</code>s used in streams (the base <code>Stream</code> but also <code>IntStream</code>, <code>LongStream</code> and <code>DoubleStream</code>).</p>\n\n<p>And as each of them extend their non throwing counterpart, you can directly use them in lambdas as well:</p>\n\n<pre><code>myStringStream.map(f) // &lt;-- works\n</code></pre>\n\n<p>The default behavior is that when your throwing lambda throws a checked exception, a <code>ThrownByLambdaException</code> is thrown with the checked exception as the cause. You can therefore capture that and get the cause.</p>\n\n<p>Other features are available as well.</p>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/27696684#27696684", "question_id": 18198176, "answer_id": 27696684}, {"body": "<pre><code>public void frankTest() {\n    int pageId= -1;\n\n    List&lt;Book&gt; users= null;\n    try {\n        //Does Not Compile:  Object page=DatabaseConnection.getSpringConnection().queryForObject(\"SELECT * FROM bookmark_page\", (rw, n) -&gt; new Portal(rw.getInt(\"id\"), \"\", users.parallelStream().filter(uu -&gt; uu.getVbid() == rw.getString(\"user_id\")).findFirst().get(), rw.getString(\"name\")));\n\n        //Compiles:\n        Object page= DatabaseConnection.getSpringConnection().queryForObject(\"SELECT * FROM bookmark_page\", (rw, n) -&gt; { \n            try {\n                final Book bk= users.stream().filter(bp -&gt; { \n                    String name= null;\n                    try {\n                        name = rw.getString(\"name\");\n                    } catch (Exception e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    return bp.getTitle().equals(name); \n                }).limit(1).collect(Collectors.toList()).get(0);\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            return new Portal(rw.getInt(\"id\"), \"\", users.get(0), rw.getString(\"name\")); \n        } );\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/27865109#27865109", "question_id": 18198176, "answer_id": 27865109}, {"body": "<p>I had this problem with Class.forName and Class.newInstance inside a lambda, so I just did:</p>\n\n<pre><code>public Object uncheckedNewInstanceForName (String name) {\n\n    try {\n        return Class.forName(name).newInstance();\n    }\n    catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>Inside the lambda, instead of calling Class.forName(\"myClass\").newInstance() I just called uncheckedNewInstanceForName (\"myClass\")</p>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/27999416#27999416", "question_id": 18198176, "answer_id": 27999416}, {"body": "<p>I think <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L27-L65\">Durian's <code>Errors</code> class</a> combines many of the pros of the various suggestions above.</p>\n\n<ul>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L178-L198\">Wrap a throwing function to a standard Java 8 functional interface.</a></li>\n<li>Easily specify <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L43-L64\">various policies for handling errors</a></li>\n<li>When wrapping a method that returns a value, there is <a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L100-L137\">an important distinction</a> between specifying a default value or rethrowing a RuntimeException.</li>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L177-L198\">Throwing versions</a> of Java 8's functional interfaces\n\n<ul>\n<li>Similar to <a href=\"http://stackoverflow.com/a/27696684/1153071\">fge's answer</a></li>\n</ul></li>\n<li><a href=\"https://github.com/diffplug/durian/blob/v2.0/test/com/diffplug/common/base/ErrorsExample.java#L200-L247\">Standard interfaces for throwing specific exceptions</a>\n\n<ul>\n<li>Which addresses <a href=\"http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception#comment45472016_27696684\">Zolt\u00e1n's concern</a></li>\n</ul></li>\n</ul>\n\n<p>To include Durian in your project, you can either:</p>\n\n<ul>\n<li>grab it from <a href=\"https://bintray.com/diffplug/opensource/durian/view\">jcenter</a> or <a href=\"http://search.maven.org/#artifactdetails%7Ccom.diffplug.durian%7Cdurian%7C2.0%7Cjar\">maven central</a> at <code>com.diffplug.durian:durian:3.3.0</code></li>\n<li>or just copy paste just two small classes into your code: <a href=\"https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Throwing.java\"><code>Throwing.java</code></a> and <a href=\"https://github.com/diffplug/durian/blob/master/src/com/diffplug/common/base/Errors.java\"><code>Errors.java</code></a></li>\n</ul>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/30246026#30246026", "question_id": 18198176, "answer_id": 30246026}, {"body": "<p>You could however create your own FunctionalInterface that throws as below..</p>\n\n<pre><code>@FunctionalInterface\npublic interface UseInstance&lt;T, X extends Throwable&gt; {\n  void accept(T instance) throws X;\n}\n</code></pre>\n\n<p>then implement it using Lambdas or references as shown below.</p>\n\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\n\n//lambda expressions and the execute around method (EAM) pattern to\n//manage resources\n\npublic class FileWriterEAM  {\n  private final FileWriter writer;\n\n  private FileWriterEAM(final String fileName) throws IOException {\n    writer = new FileWriter(fileName);\n  }\n  private void close() throws IOException {\n    System.out.println(\"close called automatically...\");\n    writer.close();\n  }\n  public void writeStuff(final String message) throws IOException {\n    writer.write(message);\n  }\n  //...\n\n  public static void use(final String fileName, final UseInstance&lt;FileWriterEAM, IOException&gt; block) throws IOException {\n\n    final FileWriterEAM writerEAM = new FileWriterEAM(fileName);    \n    try {\n      block.accept(writerEAM);\n    } finally {\n      writerEAM.close();\n    }\n  }\n\n  public static void main(final String[] args) throws IOException {\n\n    FileWriterEAM.use(\"eam.txt\", writerEAM -&gt; writerEAM.writeStuff(\"sweet\"));\n\n    FileWriterEAM.use(\"eam2.txt\", writerEAM -&gt; {\n        writerEAM.writeStuff(\"how\");\n        writerEAM.writeStuff(\"sweet\");      \n      });\n\n    FileWriterEAM.use(\"eam3.txt\", FileWriterEAM::writeIt);     \n\n  }\n\n\n void writeIt() throws IOException{\n     this.writeStuff(\"How \");\n     this.writeStuff(\"sweet \");\n     this.writeStuff(\"it is\");\n\n }\n\n}\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/30552117#30552117", "question_id": 18198176, "answer_id": 30552117}, {"body": "<p>You can.</p>\n\n<p>Extending @marcg 's <code>UtilException</code> and adding generic <code>&lt;E extends Exception&gt;</code> where necessary: this way, the compiler will force you again to add throw clauses and everything's as if you could throw checked exceptions natively on java 8's streams.</p>\n\n<pre><code>public final class LambdaExceptionUtil {\n\n    @FunctionalInterface\n    public interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\n        R apply(T t) throws E;\n    }\n\n    /**\n     * .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName))\n     */\n    public static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E  {\n        return t -&gt; {\n            try {\n                return function.apply(t);\n            } catch (Exception exception) {\n                throwActualException(exception);\n                return null;\n            }\n        };\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;E extends Exception&gt; void throwActualException(Exception exception) throws E {\n        throw (E) exception;\n    }\n\n}\n\npublic class LambdaExceptionUtilTest {\n\n    @Test\n    public void testFunction() throws MyTestException {\n        List&lt;Integer&gt; sizes = Stream.of(\"ciao\", \"hello\").&lt;Integer&gt;map(rethrowFunction(s -&gt; transform(s))).collect(toList());\n        assertEquals(2, sizes.size());\n        assertEquals(4, sizes.get(0).intValue());\n        assertEquals(5, sizes.get(1).intValue());\n    }\n\n    private Integer transform(String value) throws MyTestException {\n        if(value==null) {\n            throw new MyTestException();\n        }\n        return value.length();\n    }\n\n    private static class MyTestException extends Exception { }\n}\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/30975363#30975363", "question_id": 18198176, "answer_id": 30975363}, {"body": "<p>You can use <a href=\"https://github.com/mscharhag/ET\" rel=\"nofollow\">ET</a> for this. ET is a small Java 8 library for exception conversion/translation.</p>\n\n<p>With ET it looks like this:</p>\n\n<pre><code>// Do this once\nExceptionTranslator et = ET.newConfiguration().done();\n\n...\n\n// if your method returns something\nFunction&lt;String, Integer&gt; f = (t) -&gt; et.withReturningTranslation(() -&gt; myMethod(t));\n\n// if your method returns nothing\nConsumer&lt;String&gt; c = (t) -&gt; et.withTranslation(() -&gt; myMethod(t));\n</code></pre>\n\n<p><code>ExceptionTranslator</code> instances are thread safe an can be shared by multiple components. You can configure more specific exception conversion rules (e.g. <code>FooCheckedException -&gt; BarRuntimeException</code>) if you like. \nIf no other rules are available, checked exceptions are automatically converted to <code>RuntimeException</code>.</p>\n\n<p>(Disclaimer: I am the author of ET)</p>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/32360174#32360174", "question_id": 18198176, "answer_id": 32360174}, {"body": "<p>There are a lot of great responses already posted here. Just attempting to solve the problem with a different perspective. Its just my 2 cents, please correct me if I am wrong somewhere. </p>\n\n<p><strong>Throws clause in FunctionalInterface is not a good idea</strong></p>\n\n<p>I think this is probably not a good idea to enforce throws IOException because of following reasons</p>\n\n<ul>\n<li><p>This looks to me like an anti-pattern to Stream/Lambda. The whole idea is that the caller will decide what code to provide and how to handle the exception. In many scenarios, the IOException might not be applicable for the client. For example, if the client is getting value from cache/memory instead of performing actual I/O. </p></li>\n<li><p>Also, the exceptions handling in streams becomes really hideous. For example, here is my code will look like if I use your API</p>\n\n<pre><code>           acceptMyMethod(s -&gt; {\n                try {\n                    Integer i = doSomeOperation(s);\n                    return i;\n                } catch (IOException e) {\n                    // try catch block because of throws clause\n                    // in functional method, even though doSomeOperation\n                    // might not be throwing any exception at all.\n                    e.printStackTrace();\n                }\n                return null;\n            });\n</code></pre>\n\n<p>Ugly isn't it? Moreover, as I mentioned in my first point, that the doSomeOperation method may or may not be throwing IOException (depending on the implementation of the client/caller), but because of the throws clause in your FunctionalInterface method, I always have to write the try-catch.</p></li>\n</ul>\n\n<p><strong>What do I do if I really know this API throws IOException</strong></p>\n\n<ul>\n<li><p>Then probably we are confusing FunctionalInterface with typical Interfaces. If you know this API will throw IOException, then most probably you also know some default/abstract behavior as well. I think you should define an interface and deploy your library (with default/abstract implementation) as follows</p>\n\n<pre><code>public interface MyAmazingAPI {\n    Integer myMethod(String s) throws IOException;\n}\n</code></pre>\n\n<p>But, the try-catch problem still exists for the client. If I use your API in stream, I still need to handle IOException in hideous try-catch block.</p></li>\n<li><p>Provide a default stream-friendly API as follows</p>\n\n<pre><code>public interface MyAmazingAPI {\n    Integer myMethod(String s) throws IOException;\n\n    default Optional&lt;Integer&gt; myMethod(String s, Consumer&lt;? super Exception&gt; exceptionConsumer) {\n        try {\n            return Optional.ofNullable(this.myMethod(s));\n        } catch (Exception e) {\n            if (exceptionConsumer != null) {\n                exceptionConsumer.accept(e);\n            } else {\n                e.printStackTrace();\n            }\n        }\n\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>The default method takes the consumer object as argument, which will be responsible to handle the exception. Now, from client's point of view, the code will look like this</p>\n\n<pre><code>strStream.map(str -&gt; amazingAPIs.myMethod(str, Exception::printStackTrace))\n                .filter(Optional::isPresent)\n                .map(Optional::get).collect(toList());\n</code></pre>\n\n<p>Nice right? Of course, logger or other handling logic could be used instead of Exception::printStackTrace. </p></li>\n<li><p>You can also expose a method similar to  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#exceptionally-java.util.function.Function-</a> . Meaning that you can expose another method, which will contain the exception from previous method call. The disadvantage is that you are now making your APIs stateful, which means that you need to handle thread-safety and which will be eventually become a performance hit. Just an option to consider though. </p></li>\n</ul>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/34574359#34574359", "question_id": 18198176, "answer_id": 34574359}, {"body": "<p>If you don't mind to use a 3rd party lib (<a href=\"http://javaslang.io\" rel=\"nofollow\">Javaslang</a>) you could write</p>\n\n<pre><code>CheckedFunction1&lt;String, Integer&gt; f = this::myMethod;\n</code></pre>\n\n<p>It also has the so-called Try monad which handles errors:</p>\n\n<pre><code>Try(() -&gt; f.apply(\"test\")) // results in a Success(Integer) or Failure(Throwable)\n        .map(i -&gt; ...) // only executed on Success\n        ...\n</code></pre>\n\n<p>Please read more <a href=\"http://docs.javaslang.io/#_try\" rel=\"nofollow\">here</a>.</p>\n\n<p>Disclaimer: I'm the creator of Javaslang.</p>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/35542595#35542595", "question_id": 18198176, "answer_id": 35542595}, {"body": "<p>If you don't mind using a third party library, with <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a>, a library I contribute to, you can use the <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/lambdas.adoc#_fluentfunctions\" rel=\"nofollow\">FluentFunctions</a> API to write</p>\n\n<pre><code> Function&lt;String, Integer&gt; standardFn = FluentFunctions.ofChecked(this::myMethod);\n</code></pre>\n\n<p>ofChecked takes a jOO\u03bb CheckedFunction and returns the reference softened back to a standard (unchecked) JDK java.util.function.Function.</p>\n\n<p>Alternatively you can keep working with the captured function via the FluentFunctions api!</p>\n\n<p>For example to execute your method, retrying it up to 5 times and logging it's status you can write </p>\n\n<pre><code>  FluentFunctions.ofChecked(this::myMethod)\n                 .log(s-&gt;log.debug(s),e-&gt;log.error(e,e.getMessage())\n                 .try(5,1000)\n                 .apply(\"my param\");\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/35606871#35606871", "question_id": 18198176, "answer_id": 35606871}, {"body": "<p>You can use <a href=\"https://github.com/SeregaLBN/StreamUnthrower\" rel=\"nofollow\">unthrow wrapper</a></p>\n\n<pre><code>Function&lt;String, Integer&gt; func1 = s -&gt; Unthrow.wrap(() -&gt; myMethod(s));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Function&lt;String, Integer&gt; func2 = s1 -&gt; Unthrow.wrap((s2) -&gt; myMethod(s2), s1);\n</code></pre>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/35879077#35879077", "question_id": 18198176, "answer_id": 35879077}, {"body": "<p>Create a custom return type that will propagate the checked exception.  This is an alternative to creating a new interface that mirrors the existing functional interface with the slight modification of a \"throws exception\" on the functional interface's method.</p>\n\n<h1>Definition</h1>\n\n<h2>CheckedValueSupplier</h2>\n\n<pre><code>public static interface CheckedValueSupplier&lt;V&gt; {\n    public V get () throws Exception;\n}\n</code></pre>\n\n<h2>CheckedValue</h2>\n\n<pre><code>public class CheckedValue&lt;V&gt; {\n    private final V v;\n    private final Optional&lt;Exception&gt; opt;\n\n    public Value (V v) {\n        this.v = v;\n    }\n\n    public Value (Exception e) {\n        this.opt = Optional.of(e);\n    }\n\n    public V get () throws Exception {\n        if (opt.isPresent()) {\n            throw opt.get();\n        }\n        return v;\n    }\n\n    public Optional&lt;Exception&gt; getException () {\n        return opt;\n    }\n\n    public static &lt;T&gt; CheckedValue&lt;T&gt; returns (T t) {\n        return new CheckedValue&lt;T&gt;(t);\n    }\n\n    public static &lt;T&gt; CheckedValue&lt;T&gt; rethrows (Exception e) {\n        return new CheckedValue&lt;T&gt;(e);\n    }\n\n    public static &lt;V&gt; CheckedValue&lt;V&gt; from (CheckedValueSupplier&lt;V&gt; sup) {\n        try {\n            return CheckedValue.returns(sup.get());\n        } catch (Exception e) {\n            return Result.rethrows(e);\n        }\n    }\n\n    public static &lt;V&gt; CheckedValue&lt;V&gt; escalates (CheckedValueSupplier&lt;V&gt; sup) {\n        try {\n            return CheckedValue.returns(sup.get());\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<h1>Usage</h1>\n\n<pre><code>//  Don't use this pattern with FileReader, it's meant to be an\n//  example.  FileReader is a Closeable resource and as such should\n//  be managed in a try-with-resources block or in another safe\n//  manner that will make sure it is closed properly.\n\n//  This will not compile as the FileReader constructor throws\n//  an IOException.\n    Function&lt;String, FileReader&gt; sToFr =\n        (fn) -&gt; new FileReader(Paths.get(fn).toFile());\n\n// Alternative, this will compile.\n    Function&lt;String, CheckedValue&lt;FileReader&gt;&gt; sToFr = (fn) -&gt; {\n        return CheckedValue.from (\n            () -&gt; new FileReader(Paths.get(\"/home/\" + f).toFile()));\n    };\n\n// Single record usage\n    // The call to get() will propagate the checked exception if it exists.\n    FileReader readMe = pToFr.apply(\"/home/README\").get();\n\n\n// List of records usage\n    List&lt;String&gt; paths = ...; //a list of paths to files\n    Collection&lt;CheckedValue&lt;FileReader&gt;&gt; frs =\n        paths.stream().map(pToFr).collect(Collectors.toList());\n\n// Find out if creation of a file reader failed.\n    boolean anyErrors = frs.stream()\n        .filter(f -&gt; f.getException().isPresent())\n        .findAny().isPresent();\n</code></pre>\n\n<h1>What's going on?</h1>\n\n<p>Adding \"throws exception\" to every functional interface in the JDK would violate the DRY principle in a most heinous fashion.  In order to avoid this, a single functional interface that throws a checked exception is created (<code>CheckedValueSupplier</code>).  This will be the only functional interface which allows checked exceptions.  All other functional interfaces will leverage the <code>CheckedValueSupplier</code> to wrap any code that throws a checked exception.</p>\n\n<p>The <code>CheckedValue</code> class will hold the result of executing any logic that throws a checked exception.  This prevents propagation of a checked exception until the point at which code attempts to access the value that an instance of <code>CheckedValue</code> contains.</p>\n\n<h1>The problems with this approach.</h1>\n\n<ul>\n<li>We are now throwing \"Exception\" effectively hiding the specific type originally thrown.</li>\n<li>We are unaware that an exception occurred until <code>CheckedValue#get()</code> is called.</li>\n</ul>\n\n<h1>Consumer et al</h1>\n\n<p>Some functional interfaces (<code>Consumer</code> for example) must be handled in a  different manner as they don't provide a return value.</p>\n\n<h3>Function in lieu of Consumer</h3>\n\n<p>One approach is to use a function instead of a consumer, which applies when handling streams.</p>\n\n<pre><code>    List&lt;String&gt; lst = Lists.newArrayList();\n// won't compile\nlst.stream().forEach(e -&gt; throwyMethod(e));\n// compiles\nlst.stream()\n    .map(e -&gt; CheckedValueSupplier.from(\n        () -&gt; {throwyMethod(e); return e;}))\n    .filter(v -&gt; v.getException().isPresent()); //this example may not actually run due to lazy stream behavior\n</code></pre>\n\n<h3>Escalate</h3>\n\n<p>Alternatively, you can always escalate to a <code>RuntimeException</code>.  There are other answers that cover escalation of a checked exception from within a <code>Consumer</code>.</p>\n\n<h3>Don't consume.</h3>\n\n<p>Just avoid functional interfaces all together and use a good-ole-fashioned for loop.</p>\n", "title": "Java 8 Lambda function that throws exception?", "tags": ["java", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception/39230633#39230633", "question_id": 18198176, "answer_id": 39230633}], "creation_date": 1376349396, "score": 160, "link": "http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception", "question_id": 18198176}, {"body": "<p>Java 8 has a completely new API for date and time. One of the most useful classes in this API is <code>LocalDateTime</code>, for holding a timezone-independent date-with-time value. </p>\n\n<p>There are probably millions of lines of code using the legacy class <code>java.util.Date</code> for this purpose. As such, when interfacing old and new code there will be a need for converting between the two. As there seems to be no direct methods for accomplishing this, how can it be done?</p>\n", "tags": ["java", "datetime", "java-8", "java-time"], "title": "Converting between java.time.LocalDateTime and java.util.Date", "answers": [{"body": "<p>I'm not sure if this is the simplest or best way, or if there are any pitfalls, but it works:</p>\n\n<pre><code>static public LocalDateTime toLdt(Date date) {\n    GregorianCalendar cal = new GregorianCalendar();\n    cal.setTime(date);\n    ZonedDateTime zdt = cal.toZonedDateTime();\n    return zdt.toLocalDateTime();\n}\n\nstatic public Date fromLdt(LocalDateTime ldt) {\n    ZonedDateTime zdt = ZonedDateTime.of(ldt, ZoneId.systemDefault());\n    GregorianCalendar cal = GregorianCalendar.from(zdt);\n    return cal.getTime();\n}\n</code></pre>\n", "title": "Converting between java.time.LocalDateTime and java.util.Date", "tags": ["java", "datetime", "java-8", "java-time"], "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date/19431235#19431235", "question_id": 19431234, "answer_id": 19431235}, {"body": "<p>Here is what I came up with ( and like all Date Time conundrums it is probably going to be disproved based on some weird timezone-leapyear-daylight adjustment :D )</p>\n\n<h1>Round-tripping:  <code>Date</code> &lt;&lt;->> <code>LocalDateTime</code></h1>\n\n<p>Given: <code>Date date = [some date]</code></p>\n\n<p><strong>(1) <code>LocalDateTime</code> &lt;&lt; <code>Instant</code>&lt;&lt; <code>Date</code></strong></p>\n\n<pre><code>    Instant instant = Instant.ofEpochMilli(date.getTime());\n    LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneOffset.UTC);\n</code></pre>\n\n<p><strong>(2)  <code>Date</code> &lt;&lt; <code>Instant</code> &lt;&lt; <code>LocalDateTime</code></strong></p>\n\n<pre><code>    Instant instant = ldt.toInstant(ZoneOffset.UTC);\n    Date date = Date.from(instant);\n</code></pre>\n\n<p>Example:</p>\n\n<h2>Given:</h2>\n\n<pre><code>Date date = new Date();\nSystem.out.println(date + \" long: \" + date.getTime());\n</code></pre>\n\n<h1>(1) <code>LocalDateTime</code> &lt;&lt; <code>Instant</code>&lt;&lt; <code>Date</code>:</h1>\n\n<p><strong>Create <code>Instant</code> from <code>Date</code>:</strong></p>\n\n<pre><code>Instant instant = Instant.ofEpochMilli(date.getTime());\nSystem.out.println(\"Instant from Date:\\n\" + instant);\n</code></pre>\n\n<p><strong>Create <code>Date</code> from <code>Instant</code> (not necessary,but for illustration):</strong></p>\n\n<pre><code>date = Date.from(instant);\nSystem.out.println(\"Date from Instant:\\n\" + date + \" long: \" + date.getTime());\n</code></pre>\n\n<p><strong>Create <code>LocalDateTime</code> from <code>Instant</code></strong></p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneOffset.UTC);\nSystem.out.println(\"LocalDateTime from Instant:\\n\" + ldt);\n</code></pre>\n\n<h1>(2) <code>Date</code> &lt;&lt; <code>Instant</code> &lt;&lt; <code>LocalDateTime</code></h1>\n\n<p><strong>Create <code>Instant</code> from <code>LocalDateTime</code>:</strong></p>\n\n<pre><code>instant = ldt.toInstant(ZoneOffset.UTC);\nSystem.out.println(\"Instant from LocalDateTime:\\n\" + instant);\n</code></pre>\n\n<p><strong>Create <code>Date</code> from <code>Instant</code>:</strong></p>\n\n<pre><code>date = Date.from(instant);\nSystem.out.println(\"Date from Instant:\\n\" + date + \" long: \" + date.getTime());\n</code></pre>\n\n<h1>The output is:</h1>\n\n<pre><code>Fri Nov 01 07:13:04 PDT 2013 long: 1383315184574\n\nInstant from Date:\n2013-11-01T14:13:04.574Z\n\nDate from Instant:\nFri Nov 01 07:13:04 PDT 2013 long: 1383315184574\n\nLocalDateTime from Instant:\n2013-11-01T14:13:04.574\n\nInstant from LocalDateTime:\n2013-11-01T14:13:04.574Z\n\nDate from Instant:\nFri Nov 01 07:13:04 PDT 2013 long: 1383315184574\n</code></pre>\n", "title": "Converting between java.time.LocalDateTime and java.util.Date", "tags": ["java", "datetime", "java-8", "java-time"], "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date/19726814#19726814", "question_id": 19431234, "answer_id": 19726814}, {"body": "<p>Everything is here : <a href=\"http://blog.progs.be/542/date-to-java-time\" rel=\"nofollow\">http://blog.progs.be/542/date-to-java-time</a></p>\n\n<p>The answer with \"round-tripping\" is not exact : when you do </p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneOffset.UTC);\n</code></pre>\n\n<p>if your system timezone is not UTC/GMT, you change the time !</p>\n", "title": "Converting between java.time.LocalDateTime and java.util.Date", "tags": ["java", "datetime", "java-8", "java-time"], "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date/23526153#23526153", "question_id": 19431234, "answer_id": 23526153}, {"body": "<p>the following seems to work when converting from new API LocalDateTime into java.util.date:</p>\n\n<pre><code>Date.from(ZonedDateTime.of({time as LocalDateTime}, ZoneId.systemDefault()).toInstant());\n</code></pre>\n\n<p>the reverse conversion can be (hopefully) achieved similar way...</p>\n\n<p>hope it helps...</p>\n", "title": "Converting between java.time.LocalDateTime and java.util.Date", "tags": ["java", "datetime", "java-8", "java-time"], "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date/23884116#23884116", "question_id": 19431234, "answer_id": 23884116}, {"body": "<p>Short answer:</p>\n\n<pre><code>Date in = new Date();\nLocalDateTime ldt = LocalDateTime.ofInstant(in.toInstant(), ZoneId.systemDefault());\nDate out = Date.from(ldt.atZone(ZoneId.systemDefault()).toInstant());\n</code></pre>\n\n<p>Explanation:\n(based on <a href=\"http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\">this question</a> about <code>LocalDate</code>)</p>\n\n<p>Despite its name, <code>java.util.Date</code> represents an instant on the time-line, not a \"date\". The actual data stored within the object is a <code>long</code> count of milliseconds since 1970-01-01T00:00Z (midnight at the start of 1970 GMT/UTC).</p>\n\n<p>The equivalent class to <code>java.util.Date</code> in JSR-310 is <code>Instant</code>, thus there are convenient methods to provide the conversion to and fro:</p>\n\n<pre><code>Date input = new Date();\nInstant instant = input.toInstant();\nDate output = Date.from(instant);\n</code></pre>\n\n<p>A <code>java.util.Date</code> instance has no concept of time-zone. This might seem strange if you call <code>toString()</code> on a <code>java.util.Date</code>, because the <code>toString</code> is relative to a time-zone. However that method actually uses Java's default time-zone on the fly to provide the string. The time-zone is not part of the actual state of <code>java.util.Date</code>.</p>\n\n<p>An <code>Instant</code> also does not contain any information about the time-zone. Thus, to convert from an <code>Instant</code> to a local date-time it is necessary to specify a time-zone. This might be the default zone - <code>ZoneId.systemDefault()</code> - or it might be a time-zone that your application controls, such as a time-zone from user preferences. <code>LocalDateTime</code> has a convenient factory method that takes both the instant and time-zone:</p>\n\n<pre><code>Date in = new Date();\nLocalDateTime ldt = LocalDateTime.ofInstant(in.toInstant(), ZoneId.systemDefault());\n</code></pre>\n\n<p>In reverse, the <code>LocalDateTime</code> the time-zone is specified by calling the <code>atZone(ZoneId)</code> method. The <code>ZonedDateTime</code> can then be converted directly to an <code>Instant</code>:</p>\n\n<pre><code>LocalDateTime ldt = ...\nZonedDateTime zdt = ldt.atZone(ZoneId.systemDefault());\nDate output = Date.from(zdt.toInstant());\n</code></pre>\n\n<p>Note that the conversion from <code>LocalDateTime</code> to <code>ZonedDateTime</code> has the potential to introduce unexpected behaviour. This is because not every local date-time exists due to Daylight Saving Time. In autumn/fall, there is an overlap in the local time-line where the same local date-time occurs twice. In spring, there is a gap, where an hour disappears. See the Javadoc of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#atZone-java.time.ZoneId-\"><code>atZone(ZoneId)</code></a> for more the definition of what the conversion will do.</p>\n\n<p>Summary, if you round-trip a <code>java.util.Date</code> to a <code>LocalDateTime</code> and back to a <code>java.util.Date</code> you may end up with a different instant due to Daylight Saving Time.</p>\n", "title": "Converting between java.time.LocalDateTime and java.util.Date", "tags": ["java", "datetime", "java-8", "java-time"], "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date/23885950#23885950", "question_id": 19431234, "answer_id": 23885950}, {"body": "<p>Much more convenient way if you are sure you need a default timezone :</p>\n\n<pre><code>Date d = java.sql.Timestamp.valueOf( myLocalDateTime );\n</code></pre>\n", "title": "Converting between java.time.LocalDateTime and java.util.Date", "tags": ["java", "datetime", "java-8", "java-time"], "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date/30133063#30133063", "question_id": 19431234, "answer_id": 30133063}], "creation_date": 1382024454, "score": 152, "link": "http://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date", "question_id": 19431234}, {"body": "<p>I'm trying to make a tetris game and I'm getting \"Shape is not an enclosing class\" when I try to create an object</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape s = new Shape.ZShape();\n    }\n}\n</code></pre>\n\n<p>I'm using inner classes for each shape. Here's part of my code</p>\n\n<pre><code>public class Shape {\n\n    private String shape;\n    private int[][] coords;\n    private int[][] noShapeCoords = { { 0, 0 },   { 0, 0 },   { 0, 0 },   { 0, 0 } };\n    private int[][] zShapeCoords = { { 0, -1 },  { 0, 0 },   { -1, 0 },  { -1, 1 } };\n    private int[][] sShapeCoords = { { 0, -1 },  { 0, 0 },   { 1, 0 },   { 1, 1 } };\n    private int[][] lineShapeCoords = { { 0, -1 },  { 0, 0 },   { 0, 1 },   { 0, 2 } };\n    private int[][] tShapeCoords = { { -1, 0 },  { 0, 0 },   { 1, 0 },   { 0, 1 } };\n    private int[][] squareShapeCoords = { { 0, 0 },   { 1, 0 },   { 0, 1 },   { 1, 1 }   };\n    private int[][] lShapeCoords = { { -1, -1 }, { 0, -1 },  { 0, 0 },   { 0, 1 } };\n    private int[][] mirroredLShapeCoords = { { 1, -1 },  { 0, -1 },  { 0, 0 },   { 0, 1 } };\n\n    public Shape(){\n        int[][] coords =  noShapeCoords;\n        shape = \"NoShape\";\n    }\n\n    class ZShape{\n        int[][] coords =  zShapeCoords;\n        String shape = \"ZShape\";\n    }\n\n    class SShape{\n        int[][] coords = sShapeCoords;\n        String shape = \"SShape\";\n    }\n\n //etc\n}\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n", "tags": ["java", "inner-classes"], "title": "Is not an enclosing class Java", "answers": [{"body": "<p><code>ZShape</code> is not static so it requires an instance of the outer class.</p>\n\n<p>The simplest solution is to make ZShape and any nested class <code>static</code> if you can.</p>\n\n<p>I would also make any fields <code>final</code> or <code>static final</code> that you can as well.</p>\n", "title": "Is not an enclosing class Java", "tags": ["java", "inner-classes"], "link": "http://stackoverflow.com/questions/20252727/is-not-an-enclosing-class-java/20252797#20252797", "question_id": 20252727, "answer_id": 20252797}, {"body": "<p>I have encountered the same problem.\nI solved by creating an instance for every inner public Class.\nas for you situation, i suggest you use inheritance other than inner classes.</p>\n\n<pre><code>public class Shape {\n\n    private String shape;\n\n    public ZShape zShpae;\n    public SShape sShape;\n\n    public Shape(){\n      int[][] coords =  noShapeCoords;\n      shape = \"NoShape\";\n      zShape = new ZShape();\n      sShape = new SShape();\n    }\n\n    class ZShape{\n      int[][] coords =  zShapeCoords;\n      String shape = \"ZShape\";\n    }\n\n    class SShape{\n      int[][] coords = sShapeCoords;\n      String shape = \"SShape\";\n    }\n\n //etc\n}\n</code></pre>\n\n<p>then you can new Shape();\nand visit ZShape through shape.zShape;</p>\n", "title": "Is not an enclosing class Java", "tags": ["java", "inner-classes"], "link": "http://stackoverflow.com/questions/20252727/is-not-an-enclosing-class-java/22348192#22348192", "question_id": 20252727, "answer_id": 22348192}, {"body": "<p>Suppose RetailerProfileModel is your Main class and RetailerPaymentModel is an inner class within it. You can create an object of the Inner class outside the class as follows:</p>\n\n<pre><code>RetailerProfileModel.RetailerPaymentModel paymentModel = new RetailerProfileModel().new RetailerPaymentModel();\n</code></pre>\n", "title": "Is not an enclosing class Java", "tags": ["java", "inner-classes"], "link": "http://stackoverflow.com/questions/20252727/is-not-an-enclosing-class-java/32243637#32243637", "question_id": 20252727, "answer_id": 32243637}], "creation_date": 1385585056, "score": 146, "link": "http://stackoverflow.com/questions/20252727/is-not-an-enclosing-class-java", "question_id": 20252727}, {"body": "<p>I'm getting following error when trying to compile my project in Android Studio:</p>\n\n<pre><code>Gradle: error: diamond operator is not supported in -source 1.6\n</code></pre>\n\n<p>I have 1.7 set as target in all project preferences I've found. Also the path displayed in project SDK's under 1.7 SDK is correct path to java 1.7 installation.</p>\n\n<p>Even when I run java -version in terminal, it tells me I'm running on java 1.7.</p>\n\n<p>I have tried to set JAVA_HOME env variable to this:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.7.0_25.jdk/Contents/Home\n</code></pre>\n\n<p>The error does not go away.  How do I eliminate the error?</p>\n", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "title": "How to set -source 1.7 in Android Studio and Gradle", "answers": [{"body": "<p>At current, Android doesn't support Java 7, only Java 6. New features in Java 7 such as the diamond syntax are therefore not currently supported.\nFinding sources to support this isn't easy, but I could find that the Dalvic engine is built upon a subset of <a href=\"http://en.wikipedia.org/wiki/Apache_Harmony\" rel=\"nofollow\">Apache Harmony</a> which only ever supported Java up to version 6. And if you check the <a href=\"http://developer.android.com/sdk/index.html\" rel=\"nofollow\">system requirements</a> for developing Android apps it also states that at least JDK 6 is needed (though this of course isn't real proof, just an indication). And <a href=\"http://stackoverflow.com/questions/7535385/how-does-androids-java-version-relate-to-a-java-se-version\">this</a> says pretty much the same as I have. If I find anything more substancial, I'll add it.</p>\n\n<p><strong>Edit:</strong>\nIt seems Java 7 support has been added since I originally wrote this answer; check the answer by <em>Sergii Pechenizkyi</em>.</p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/17638630#17638630", "question_id": 17637179, "answer_id": 17638630}, {"body": "<p>Java 7 support was added at build tools 19. You can now use features like the diamond operator, multi-catch, try-with-resources, strings in switches, etc. Add the following to your <code>build.gradle</code>.</p>\n\n<pre><code>android {\n    compileSdkVersion 19\n    buildToolsVersion \"19.0.0\"\n\n    defaultConfig {\n        minSdkVersion 7\n        targetSdkVersion 19\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n</code></pre>\n\n<p>Gradle 1.7+, Android gradle plugin 0.6.+ are required.</p>\n\n<p>Note, that only try with resources require <code>minSdkVersion</code> 19. Other features works on previous platforms.</p>\n\n<p><a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Using-sourceCompatibility-1.7\">Link to android gradle plugin user guide</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/16654951/gradle-sourcecompatibility-vs-targetcompatibility\">Link to see how source vs target are different</a></p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/19470405#19470405", "question_id": 17637179, "answer_id": 19470405}, {"body": "<p>You can change it in new Android studio version(0.8.X)</p>\n\n<p>FIle-> Other Settings -> Default Settings -> Compiler (Expand it by clicking left arrow) -> Java Compiler -> You can change the Project bytecode version here</p>\n\n<p><img src=\"http://i.stack.imgur.com/8Td2J.png\" alt=\"enter image description here\"></p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/25061299#25061299", "question_id": 17637179, "answer_id": 25061299}, {"body": "<p>Maybe these answers above are old but with the new Android Studios 1, you do the following to see the module to run on 1.7 (or 1.6 if you prefer). Click File --> Project Structure. Select the module you want to run and then under \"Source Compatibility\" and \"Target Compatibility\", select 1.7. Click \"OK\".</p>\n\n<p><img src=\"http://i.stack.imgur.com/iIi7q.jpg\" alt=\"Project Structure screen of Android Studios 1\"></p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/27669375#27669375", "question_id": 17637179, "answer_id": 27669375}, {"body": "<p>Right click on your project > Open Module Setting > Select \"Project\" in \"Project Setting\" section</p>\n\n<p>Change the Project SDK to latest(may be API 21) and Project language level to 7+</p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/29081928#29081928", "question_id": 17637179, "answer_id": 29081928}, {"body": "<p>Latest Android Studio 1.4.</p>\n\n<p>Click File->Project Structure->SDK Location->JDK Location.</p>\n\n<p>You could also set individual module JDK Version compatibility by going to the Module (below the SDK Location), and edit the Source Compatibility accordingly. (note, this only applies to Android Module).</p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/33117733#33117733", "question_id": 17637179, "answer_id": 33117733}, {"body": "<p>Always use latest SDK version to build:</p>\n\n<pre><code>compileSdkVersion 23\n</code></pre>\n\n<p>It does <strong>not affect runtime behavior</strong>,  but give you latest programming features.</p>\n", "title": "How to set -source 1.7 in Android Studio and Gradle", "tags": ["java", "intellij-idea", "gradle", "android-studio", "java-7"], "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle/37953619#37953619", "question_id": 17637179, "answer_id": 37953619}], "creation_date": 1373784214, "score": 143, "link": "http://stackoverflow.com/questions/17637179/how-to-set-source-1-7-in-android-studio-and-gradle", "question_id": 17637179}, {"body": "<p>I know that compound operations such as <code>i++</code> are not thread safe as they involve <em>multiple</em> operations. </p>\n\n<p>But is checking the reference with itself a thread safe operation?</p>\n\n<pre><code>a != a //is this thread-safe\n</code></pre>\n\n<p>I tried to program this and use multiple threads but it didn't fail. I guess I could not simulate race on my machine.</p>\n\n<h2>EDIT:</h2>\n\n<pre><code>public class TestThreadSafety {\n    private Object a = new Object();\n\n    public static void main(String[] args) {\n\n        final TestThreadSafety instance = new TestThreadSafety();\n\n        Thread testingReferenceThread = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                long countOfIterations = 0L;\n                while(true){\n                    boolean flag = instance.a != instance.a;\n                    if(flag)\n                        System.out.println(countOfIterations + \":\" + flag);\n\n                    countOfIterations++;\n                }\n            }\n        });\n\n        Thread updatingReferenceThread = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                while(true){\n                    instance.a = new Object();\n                }\n            }\n        });\n\n        testingReferenceThread.start();\n        updatingReferenceThread.start();\n    }\n\n}\n</code></pre>\n\n<p>This is the program that I am using to test the thread-safety.</p>\n\n<h2>Weird behavior</h2>\n\n<p>As my program starts between some iterations I get the output flag value, which means that the reference <code>!=</code> check fails on the same reference. BUT after some iterations the output becomes constant value <code>false</code> and then executing the program for a long long time does not generate a single <code>true</code> output.</p>\n\n<p>As the output suggests after some n (not fixed) iterations the output seems to be constant value and does not change. </p>\n\n<p><strong>Output:</strong></p>\n\n<p>For some iterations:</p>\n\n<pre><code>1494:true\n1495:true\n1496:true\n19970:true\n19972:true\n19974:true\n//after this there is not a single instance when the condition becomes true\n</code></pre>\n", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "title": "Is the != check thread safe?", "answers": [{"body": "<blockquote>\n  <p>Is the check <code>a != a</code> thread-safe?</p>\n</blockquote>\n\n<p>If <code>a</code> can potentially be updated by another thread (without proper synchronization!), then No.</p>\n\n<blockquote>\n  <p>I tried to program this and use multiple threads but didn't fail. I guess could not simulate race on my machine.</p>\n</blockquote>\n\n<p>That doesn't mean anything!  The issue is that if an execution in which <code>a</code> is updated by another thread is <em>allowed</em> by the JLS, then the code is not thread-safe.  The fact that you cannot cause the race condition to happen with a particular test-case on a particular machine and a particular Java implementation, does not preclude it from happening in other circumstances.</p>\n\n<blockquote>\n  <p>Does this mean that a != a could return <code>true</code>.</p>\n</blockquote>\n\n<p>Yes, in theory, under certain circumstances.</p>\n\n<p>Alternatively, <code>a != a</code> could return <code>false</code> even though <code>a</code> was changing simultaneously.</p>\n\n<hr>\n\n<p>Concerning the \"weird behaviour\":</p>\n\n<blockquote>\n  <p>As my program starts between some iterations I get the output flag value, which means that the reference != check fails on the same reference. BUT after some iterations the output becomes constant value false and then executing the program for a long long time does not generate a single true output.</p>\n</blockquote>\n\n<p>This \"weird\" behaviour is consistent with the following execution scenario:</p>\n\n<ol>\n<li><p>The program is loaded and the JVM starts <em>interpreting</em> the bytecodes.  Since (as we have seen from the javap output) the bytecode does two loads, you (apparently) see the results of the race condition, occasionally.</p></li>\n<li><p>After a time, the code is compiled by the JIT compiler.  The JIT optimizer notices that there are two loads of the same memory slot (<code>a</code>) close together, and optimizes the second one away.  (In fact, there's a chance that it optimizes the test away entirely ...)</p></li>\n<li><p>Now the race condition no longer manifests, because there are no longer two loads.</p></li>\n</ol>\n\n<p>Note that this is <em>all</em> consistent with what the JLS allows an implementation of Java to do.</p>\n\n<hr>\n\n<p>@kriss commented thus:</p>\n\n<blockquote>\n  <p>This looks like this could be what C or C++ programmers calls \"Undefined Behavior\" (implementation dependent). Seems like there could be a few UB in java in corner cases like this one.</p>\n</blockquote>\n\n<p>The Java Memory Model (specified in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4\">JLS 17.4</a>) specifies a set of preconditions under which one thread is guaranteed to see memory values written by another thread.  If one thread attempts to read a variable written by another one, and those preconditions are not satisfied, then there can be a number of possible executions ... some of which are likely to be incorrect (from the perspective of the application's requirements).  In other words, the <em>set</em> of possible behaviours (i.e. the set of \"well-formed executions\") is defined, but we can't say which of those behaviours will occur.</p>\n\n<p>The compiler is allowed to combine and reorder loads and save (and do other things) provided the end effect of the code is the same:</p>\n\n<ul>\n<li>when executed by a single thread, and </li>\n<li>when executed by different threads that synchronize correctly (as per the Memory Model).  </li>\n</ul>\n\n<p>But if the code doesn't synchronize properly (and therefore the \"happens before\" relationships don't sufficiently constrain the set of well-formed executions) the compiler is allowed to reorder loads and stores in ways that would give \"incorrect\" results.  (But that's really just saying that the program is incorrect.)</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18460659#18460659", "question_id": 18460580, "answer_id": 18460659}, {"body": "<p>In the absence of synchronization this code</p>\n\n<pre><code>Object a;\n\npublic boolean test() {\n    return a != a;\n}\n</code></pre>\n\n<p>may produce <code>true</code>. This is the bytecode for <code>test()</code></p>\n\n<pre><code>    ALOAD 0\n    GETFIELD test/Test1.a : Ljava/lang/Object;\n    ALOAD 0\n    GETFIELD test/Test1.a : Ljava/lang/Object;\n    IF_ACMPEQ L1\n...\n</code></pre>\n\n<p>as we  can see it loads field <code>a</code> to local vars twice, it's a non-atomic operation, if <code>a</code> was changed in between by another thread comparison may produce <code>false</code>. </p>\n\n<p>Also, memory visibility problem is relevant here, there is no guarantee that changes to <code>a</code> made by another thread will be visible to the current thread.</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18460710#18460710", "question_id": 18460580, "answer_id": 18460710}, {"body": "<p>No, it is not. For a compare the Java VM must put the two values to compare on the stack and run the compare instruction (which one depends on the type of \"a\").</p>\n\n<p>The Java VM may:</p>\n\n<ol>\n<li>Read \"a\" two times, put each one on the stack and then and compare the results</li>\n<li>Read \"a\" only one time, put it on the stack, duplicate it (\"dup\" instruction) and the run the compare</li>\n<li>Eliminate the expression completely and replace it with <code>false</code></li>\n</ol>\n\n<p>In the 1st case, another thread could modify the value for \"a\" between the two reads.</p>\n\n<p>Which strategy is chosen depends on the Java compiler and the Java Runtime (especially the JIT compiler). It may even change during the runtime of your program.</p>\n\n<p>If you want to make sure how the variable is accessed, you must make it <code>volatile</code> (a so called \"half memory barrier\") or add a full memory barrier (<code>synchronized</code>). You can also use some hgiher level API (e.g. <code>AtomicInteger</code> as mentioned by Juned Ahasan).</p>\n\n<p>For details about thread safety, read <a href=\"http://jcp.org/en/jsr/detail?id=133\">JSR 133</a> (<a href=\"http://en.wikipedia.org/wiki/Java_Memory_Model\">Java Memory Model</a>).</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18460841#18460841", "question_id": 18460580, "answer_id": 18460841}, {"body": "<p>Proved with test-ng:</p>\n\n<pre><code>public class MyTest {\n\n  private static Integer count=1;\n\n  @Test(threadPoolSize = 1000, invocationCount=10000)\n  public void test(){\n    count = new Integer(new Random().nextInt());\n    Assert.assertFalse(count != count);\n  }\n\n}\n</code></pre>\n\n<p>I have 2 fails on 10 000 invocations. So <strong>NO</strong>, it is <strong>NOT</strong> thread safe</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18460945#18460945", "question_id": 18460580, "answer_id": 18460945}, {"body": "<p>Regarding the weird behaviour:</p>\n\n<p>Since the variable <code>a</code> is not marked as <code>volatile</code>, at some point it might value of <code>a</code> might be cached by the thread. Both <code>a</code>s of <code>a != a</code> are then the cached version and thus always the same (meaning <code>flag</code> is now always <code>false</code>).</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18463209#18463209", "question_id": 18460580, "answer_id": 18463209}, {"body": "<p>No, <code>a != a</code> is not thread safe. This expression consists of three parts: load <code>a</code>, load <code>a</code> again, and perform <code>!=</code>. It is possible for another thread to gain the intrinsic lock on <code>a</code>'s parent and change the value of <code>a</code> in between the 2 load operations.</p>\n\n<p>Another factor though is whether <code>a</code> is local. If <code>a</code> is local then no other threads should have access to it and therefore should be thread safe.</p>\n\n<pre><code>void method () {\n    int a = 0;\n    System.out.println(a != a);\n}\n</code></pre>\n\n<p>should also always print <code>false</code>.</p>\n\n<p>Declaring <code>a</code> as <code>volatile</code> would not solve the problem for if <code>a</code> is <code>static</code> or instance. The problem is not that threads have different values of <code>a</code>, but that one thread loads <code>a</code> twice with different values. It may actually make the case less thread-safe.. If <code>a</code> isn't <code>volatile</code> then <code>a</code> may be cached and a change in another thread won't affect the cached value.</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18466465#18466465", "question_id": 18460580, "answer_id": 18466465}, {"body": "<p>It has all been well explained by Stephen C. For fun, you could try to run the same code with the following JVM parameters:</p>\n\n<pre><code>-XX:InlineSmallCode=0\n</code></pre>\n\n<p>This should prevent the optimisation done by the JIT (it does on hotspot 7 server) and you will see <code>true</code> forever (I stopped at 2,000,000 but I suppose it continues after that).</p>\n\n<p>For information, below is the JIT'ed code. To be honest, I don't read assembly fluently enough to know if the test is actually done or where the two loads come from. (line 26 is the test <code>flag = a != a</code> and line 31 is the closing brace of the <code>while(true)</code>).</p>\n\n<pre><code>  # {method} 'run' '()V' in 'javaapplication27/TestThreadSafety$1'\n  0x00000000027dcc80: int3   \n  0x00000000027dcc81: data32 data32 nop WORD PTR [rax+rax*1+0x0]\n  0x00000000027dcc8c: data32 data32 xchg ax,ax\n  0x00000000027dcc90: mov    DWORD PTR [rsp-0x6000],eax\n  0x00000000027dcc97: push   rbp\n  0x00000000027dcc98: sub    rsp,0x40\n  0x00000000027dcc9c: mov    rbx,QWORD PTR [rdx+0x8]\n  0x00000000027dcca0: mov    rbp,QWORD PTR [rdx+0x18]\n  0x00000000027dcca4: mov    rcx,rdx\n  0x00000000027dcca7: movabs r10,0x6e1a7680\n  0x00000000027dccb1: call   r10\n  0x00000000027dccb4: test   rbp,rbp\n  0x00000000027dccb7: je     0x00000000027dccdd\n  0x00000000027dccb9: mov    r10d,DWORD PTR [rbp+0x8]\n  0x00000000027dccbd: cmp    r10d,0xefc158f4    ;   {oop('javaapplication27/TestThreadSafety$1')}\n  0x00000000027dccc4: jne    0x00000000027dccf1\n  0x00000000027dccc6: test   rbp,rbp\n  0x00000000027dccc9: je     0x00000000027dcce1\n  0x00000000027dcccb: cmp    r12d,DWORD PTR [rbp+0xc]\n  0x00000000027dcccf: je     0x00000000027dcce1  ;*goto\n                                                ; - javaapplication27.TestThreadSafety$1::run@62 (line 31)\n  0x00000000027dccd1: add    rbx,0x1            ; OopMap{rbp=Oop off=85}\n                                                ;*goto\n                                                ; - javaapplication27.TestThreadSafety$1::run@62 (line 31)\n  0x00000000027dccd5: test   DWORD PTR [rip+0xfffffffffdb53325],eax        # 0x0000000000330000\n                                                ;*goto\n                                                ; - javaapplication27.TestThreadSafety$1::run@62 (line 31)\n                                                ;   {poll}\n  0x00000000027dccdb: jmp    0x00000000027dccd1\n  0x00000000027dccdd: xor    ebp,ebp\n  0x00000000027dccdf: jmp    0x00000000027dccc6\n  0x00000000027dcce1: mov    edx,0xffffff86\n  0x00000000027dcce6: mov    QWORD PTR [rsp+0x20],rbx\n  0x00000000027dcceb: call   0x00000000027a90a0  ; OopMap{rbp=Oop off=112}\n                                                ;*aload_0\n                                                ; - javaapplication27.TestThreadSafety$1::run@2 (line 26)\n                                                ;   {runtime_call}\n  0x00000000027dccf0: int3   \n  0x00000000027dccf1: mov    edx,0xffffffad\n  0x00000000027dccf6: mov    QWORD PTR [rsp+0x20],rbx\n  0x00000000027dccfb: call   0x00000000027a90a0  ; OopMap{rbp=Oop off=128}\n                                                ;*aload_0\n                                                ; - javaapplication27.TestThreadSafety$1::run@2 (line 26)\n                                                ;   {runtime_call}\n  0x00000000027dcd00: int3                      ;*aload_0\n                                                ; - javaapplication27.TestThreadSafety$1::run@2 (line 26)\n  0x00000000027dcd01: int3   \n</code></pre>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18468931#18468931", "question_id": 18460580, "answer_id": 18468931}, {"body": "<p>Even simple read is not atomic. If <code>a</code> is <code>long</code> and not marked as <code>volatile</code> then on 32-bit JVMs <code>long b = a</code> is not thread-safe.</p>\n", "title": "Is the != check thread safe?", "tags": ["java", "multithreading", "thread-safety", "atomic", "race-condition"], "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe/18954675#18954675", "question_id": 18460580, "answer_id": 18954675}], "creation_date": 1377592076, "score": 139, "link": "http://stackoverflow.com/questions/18460580/is-the-check-thread-safe", "question_id": 18460580}, {"body": "<p>I discovered this oddity:</p>\n\n<pre><code>for (long l = 4946144450195624l; l &gt; 0; l &gt;&gt;= 5)\n    System.out.print((char) (((l &amp; 31 | 64) % 95) + 32));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>hello world\n</code></pre>\n\n<p>How does this work?</p>\n", "tags": ["java", "oracle", "bit-shift"], "title": "How does this print &quot;hello world&quot;?", "answers": [{"body": "<p>You are getting a result which happens to be <code>char</code> representation of below values</p>\n\n<pre><code>104 -&gt; h\n101 -&gt; e\n108 -&gt; l\n108 -&gt; l\n111 -&gt; o\n32  -&gt; (space)\n119 -&gt; w\n111 -&gt; o\n114 -&gt; r\n108 -&gt; l\n100 -&gt; d\n</code></pre>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/20720158#20720158", "question_id": 20720098, "answer_id": 20720158}, {"body": "<p>Interesting!</p>\n\n<p>Standard ASCII characters which are visible are in range of 32 to 127.</p>\n\n<p>That's why you see 32, and 95 (127 - 32) there.</p>\n\n<p>In fact each character is mapped to 5 bits here, (you can find what is 5 bit combination for each character), and then all bits are concatenated to form a large number.</p>\n\n<p>Positive longs are 63 bit numbers, large enough to hold encrypted form of 12 characters. So it is large enough to hold <code>Hello word</code>, but for larger texts you shall use larger numbers, or even a BigInteger.</p>\n\n<hr>\n\n<p>In an application we wanted to transfer visible English Characters, Persian Characters and Symbols via SMS. As you see there are <code>32 (number of Persian chars) + 95 (number of English characters and standard visible symbols) = 127</code> possible values, which can be represented with 7 bits.</p>\n\n<p>We converted each UTF-8 (16 bit) character to 7 bits, and gain more than 56% compression ratio. So we could send texts with twice length in the same number of SMSs. (It is somehow the same thing happened here).</p>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/20720185#20720185", "question_id": 20720098, "answer_id": 20720185}, {"body": "<p>Adding some value to above answers. Following groovy script prints intermediate values.</p>\n\n<pre><code>String getBits(long l) {\nreturn Long.toBinaryString(l).padLeft(8,'0');\n}\n\nfor (long l = 4946144450195624l; l &gt; 0; l &gt;&gt;= 5){\n    println ''\n    print String.valueOf(l).toString().padLeft(16,'0')\n    print '|'+ getBits((l &amp; 31 ))\n    print '|'+ getBits(((l &amp; 31 | 64)))\n    print '|'+ getBits(((l &amp; 31 | 64)  % 95))\n    print '|'+ getBits(((l &amp; 31 | 64)  % 95 + 32))\n\n    print '|';\n    System.out.print((char) (((l &amp; 31 | 64) % 95) + 32));\n}\n</code></pre>\n\n<p>Here it is</p>\n\n<pre><code>4946144450195624|00001000|01001000|01001000|01101000|h\n0154567014068613|00000101|01000101|01000101|01100101|e\n0004830219189644|00001100|01001100|01001100|01101100|l\n0000150944349676|00001100|01001100|01001100|01101100|l\n0000004717010927|00001111|01001111|01001111|01101111|o\n0000000147406591|00011111|01011111|00000000|00100000| \n0000000004606455|00010111|01010111|01010111|01110111|w\n0000000000143951|00001111|01001111|01001111|01101111|o\n0000000000004498|00010010|01010010|01010010|01110010|r\n0000000000000140|00001100|01001100|01001100|01101100|l\n0000000000000004|00000100|01000100|01000100|01100100|d\n</code></pre>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/20721366#20721366", "question_id": 20720098, "answer_id": 20721366}, {"body": "<p>You've encoded characters as 5-bit values and packed 11 of them into a 64 bit long. </p>\n\n<p><code>(packedValues &gt;&gt; 5*i) &amp; 31</code> is the i-th encoded value with a range 0-31.</p>\n\n<p>The hard part, as you say, is encoding the space. The lower case english letters occupy the contiguous range 97-122 in Unicode (and ascii, and most other encodings),  but the space is 32.</p>\n\n<p>To overcome this, you used some arithmetic. <code>((x+64)%95)+32</code> is almost the same as <code>x + 96</code> (note how bitwise OR is equivalent to addition, in this case), but when x=31, we get <code>32</code>.</p>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/20752933#20752933", "question_id": 20720098, "answer_id": 20752933}, {"body": "<p>The number <code>4946144450195624</code> fits 64 bits, its binary representation is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> 10001100100100111110111111110111101100011000010101000\n</code></pre>\n\n<p>The program decodes a character for every 5-bits group, from right to left</p>\n\n<pre class=\"lang-none prettyprint-override\"><code> 00100|01100|10010|01111|10111|11111|01111|01100|01100|00101|01000\n   d  |  l  |  r  |  o  |  w  |     |  o  |  l  |  l  |  e  |  h\n</code></pre>\n\n<h1>5-bit codification</h1>\n\n<p>For 5 bits, it is posible to represent 2\u2075 = 32 characters. English alphabet contains 26 letters, this leaves room for 32 - 26 = 6 symbols \napart from letters. With this codification scheme you can have all 26 (one case) english letters and 6 symbols (being space among them).</p>\n\n<h1>Algorithm description</h1>\n\n<p>The <code>&gt;&gt;= 5</code> in the for-loop jumps from group to group, then the 5-bits group gets isolated ANDing the number with the mask <code>31\u2081\u2080 = 11111\u2082</code> in the sentence <code>l &amp; 31</code></p>\n\n<p>Now the code maps the 5-bit value to its corresponding 7-bit ascii character. This is the tricky part, check the binary representations for the lowercase\nalphabet letters in the following table:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  ascii   |     ascii     |    ascii     |    algorithm\ncharacter | decimal value | binary value | 5-bit codification \n--------------------------------------------------------------\n  space   |       32      |   0100000    |      11111\n    a     |       97      |   1100001    |      00001\n    b     |       98      |   1100010    |      00010\n    c     |       99      |   1100011    |      00011\n    d     |      100      |   1100100    |      00100\n    e     |      101      |   1100101    |      00101\n    f     |      102      |   1100110    |      00110\n    g     |      103      |   1100111    |      00111\n    h     |      104      |   1101000    |      01000\n    i     |      105      |   1101001    |      01001\n    j     |      106      |   1101010    |      01010\n    k     |      107      |   1101011    |      01011\n    l     |      108      |   1101100    |      01100\n    m     |      109      |   1101101    |      01101\n    n     |      110      |   1101110    |      01110\n    o     |      111      |   1101111    |      01111\n    p     |      112      |   1110000    |      10000\n    q     |      113      |   1110001    |      10001\n    r     |      114      |   1110010    |      10010\n    s     |      115      |   1110011    |      10011\n    t     |      116      |   1110100    |      10100\n    u     |      117      |   1110101    |      10101\n    v     |      118      |   1110110    |      10110\n    w     |      119      |   1110111    |      10111\n    x     |      120      |   1111000    |      11000\n    y     |      121      |   1111001    |      11001\n    z     |      122      |   1111010    |      11010\n</code></pre>\n\n<p>Here you can see that the ascii characters we want to map begin with the 7th and 6th bit set (<code>11xxxxx\u2082</code>) (except for space, which only has the 6th bit on), you could <code>OR</code> the 5-bit\ncodification with <code>96</code> (<code>96\u2081\u2080 = 1100000\u2082</code>) and that should be enough to do the mapping, but that wouldn't work for space (darn space!)</p>\n\n<p>Now we know that special care has to be taken to process space at the same time as the other characters. To achieve this, the code turns the 7th bit on (but not the 6th) on\nthe extracted 5-bit group with an OR 64 <code>64\u2081\u2080 = 1000000\u2082</code> (<code>l &amp; 31 | 64</code>).</p>\n\n<p>So far the 5-bit group is of the form: <code>10xxxxx\u2082</code> (space would be <code>1011111\u2082 = 95\u2081\u2080</code>). \nIf we can map space to <code>0</code> unaffecting other values, then we can turn the 6th bit on and that should be all.\nHere is what the <code>mod 95</code> part comes to play, space is <code>1011111\u2082 = 95\u2081\u2080</code>, using the mod\noperation <code>(l &amp; 31 | 64) % 95)</code> only space goes back to <code>0</code>, and after this, the code turns the 6th bit on by adding <code>32\u2081\u2080 = 100000\u2082</code>\nto the previous result, <code>((l &amp; 31 | 64) % 95) + 32)</code> transforming the 5-bit value into a valid ascii character</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>isolates 5 bits --+          +---- takes 'space' (and only 'space') back to 0\n                  |          |\n                  v          v\n               (l &amp; 31 | 64) % 95) + 32\n                       ^           ^ \n       turns the       |           |\n      7th bit on ------+           +--- turns the 6th bit on\n</code></pre>\n\n<p>The following code does the inverse process, given a lowercase string (max 12 chars), returns the 64 bit long value that could be used with the OP's code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class D {\n    public static void main(String... args) {\n        String v = \"hello test\";\n        int len = Math.min(12, v.length());\n        long res = 0L;\n        for (int i = 0; i &lt; len; i++) {\n            long c = (long) v.charAt(i) &amp; 31;\n            res |= ((((31 - c) / 31) * 31) | c) &lt;&lt; 5 * i;\n        }\n        System.out.println(res);\n    }\n}    \n</code></pre>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/20756843#20756843", "question_id": 20720098, "answer_id": 20756843}, {"body": "<p>It prints \"hello world\" for a similar reason this does:</p>\n\n<pre><code>for (int k=1587463874; k&gt;0; k&gt;&gt;=3)\n     System.out.print((char) (100 + Math.pow(2,2*(((k&amp;7^1)-1)&gt;&gt;3 + 1) + (k&amp;7&amp;3)) + 10*((k&amp;7)&gt;&gt;2) + (((k&amp;7)-7)&gt;&gt;3) + 1 - ((-(k&amp;7^5)&gt;&gt;3) + 1)*80));\n</code></pre>\n\n<p>but for a somewhat different reason than this:</p>\n\n<pre><code>for (int k=2011378; k&gt;0; k&gt;&gt;=2)\n    System.out.print((char) (110 + Math.pow(2,2*(((k^1)-1)&gt;&gt;21 + 1) + (k&amp;3)) - ((k&amp;8192)/8192 + 7.9*(-(k^1964)&gt;&gt;21) - .1*(-((k&amp;35)^35)&gt;&gt;21) + .3*(-((k&amp;120)^120)&gt;&gt;21) + (-((k|7)^7)&gt;&gt;21) + 9.1)*10));\n</code></pre>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/20769218#20769218", "question_id": 20720098, "answer_id": 20769218}, {"body": "<p>out.println((char) (((l &amp; 31 | 64) % 95) + 32 / 1002439 * 1002439));</p>\n\n<p>To make it caps :3</p>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/27322692#27322692", "question_id": 20720098, "answer_id": 27322692}, {"body": "<p>Without an <code>Oracle</code> tag, it was difficult to see this question. Active bounty brought me here. I wish the question had other relevant technology tags too :-(</p>\n\n<p>I mostly work with <code>Oracle database</code>, so I would use some <code>Oracle</code> knowledge to interpret and explain :-)</p>\n\n<p>Let's convert the number <code>4946144450195624</code> into <code>binary</code>. For that I use a small <code>function</code> called dec2bin i.e. <strong>decimal-to-binary</strong>.</p>\n\n<pre><code>SQL&gt; CREATE OR REPLACE FUNCTION dec2bin (N in number) RETURN varchar2 IS\n  2    binval varchar2(64);\n  3    N2     number := N;\n  4  BEGIN\n  5    while ( N2 &gt; 0 ) loop\n  6       binval := mod(N2, 2) || binval;\n  7       N2 := trunc( N2 / 2 );\n  8    end loop;\n  9    return binval;\n 10  END dec2bin;\n 11  /\n\nFunction created.\n\nSQL&gt; show errors\nNo errors.\nSQL&gt;\n</code></pre>\n\n<p>Let's use the function to get the binary value -</p>\n\n<pre><code>SQL&gt; SELECT dec2bin(4946144450195624) FROM dual;\n\nDEC2BIN(4946144450195624)\n--------------------------------------------------------------------------------\n10001100100100111110111111110111101100011000010101000\n\nSQL&gt;\n</code></pre>\n\n<p>Now the catch is the <code>5-bit</code> conversion. Start grouping from right to left with 5 digits in each group. We get :-</p>\n\n<pre><code>100|01100|10010|01111|10111|11111|01111|01100|01100|00101|01000\n</code></pre>\n\n<p>We would be finally left with just <strong>3</strong> digits int he end at the right. Because, we had total 53 digits in the binary conversion.</p>\n\n<pre><code>SQL&gt; SELECT LENGTH(dec2bin(4946144450195624)) FROM dual;\n\nLENGTH(DEC2BIN(4946144450195624))\n---------------------------------\n                               53\n\nSQL&gt;\n</code></pre>\n\n<p><code>hello world</code> total has <strong>11</strong> characters(including space), so we need to add <strong>2</strong> bits to the last group where we were left with just 3 bits after grouping.</p>\n\n<p>So, now we have :-</p>\n\n<pre><code>00100|01100|10010|01111|10111|11111|01111|01100|01100|00101|01000\n</code></pre>\n\n<p>Now, we need to convert it to 7-bit ascii value. For the characters it is easy, we need to just set the 6th and 7th bit. Add <code>11</code> to each 5-bit group above to the left.</p>\n\n<p>That gives :-</p>\n\n<pre><code>1100100|1101100|1110010|1101111|1110111|1111111|1101111|1101100|1101100|1100101|1101000\n</code></pre>\n\n<p>Let's interpret the binary values, I will use <code>binary to decimal conversion function</code>.</p>\n\n<pre><code>SQL&gt; CREATE OR REPLACE FUNCTION bin2dec (binval in char) RETURN number IS\n  2    i                 number;\n  3    digits            number;\n  4    result            number := 0;\n  5    current_digit     char(1);\n  6    current_digit_dec number;\n  7  BEGIN\n  8    digits := length(binval);\n  9    for i in 1..digits loop\n 10       current_digit := SUBSTR(binval, i, 1);\n 11       current_digit_dec := to_number(current_digit);\n 12       result := (result * 2) + current_digit_dec;\n 13    end loop;\n 14    return result;\n 15  END bin2dec;\n 16  /\n\nFunction created.\n\nSQL&gt; show errors;\nNo errors.\nSQL&gt;\n</code></pre>\n\n<p>Let's look at each binary value -</p>\n\n<pre><code>SQL&gt; set linesize 1000\nSQL&gt;\nSQL&gt; SELECT bin2dec('1100100') val,\n  2    bin2dec('1101100') val,\n  3    bin2dec('1110010') val,\n  4    bin2dec('1101111') val,\n  5    bin2dec('1110111') val,\n  6    bin2dec('1111111') val,\n  7    bin2dec('1101111') val,\n  8    bin2dec('1101100') val,\n  9    bin2dec('1101100') val,\n 10    bin2dec('1100101') val,\n 11    bin2dec('1101000') val\n 12  FROM dual;\n\n       VAL        VAL        VAL        VAL        VAL        VAL        VAL        VAL        VAL     VAL           VAL\n---------- ---------- ---------- ---------- ---------- ---------- ---------- ---------- ---------- ---------- ----------\n       100        108        114        111        119        127        111        108        108     101           104\n\nSQL&gt;\n</code></pre>\n\n<p>Let's look at what characters they are :-</p>\n\n<pre><code>SQL&gt; SELECT chr(bin2dec('1100100')) character,\n  2    chr(bin2dec('1101100')) character,\n  3    chr(bin2dec('1110010')) character,\n  4    chr(bin2dec('1101111')) character,\n  5    chr(bin2dec('1110111')) character,\n  6    chr(bin2dec('1111111')) character,\n  7    chr(bin2dec('1101111')) character,\n  8    chr(bin2dec('1101100')) character,\n  9    chr(bin2dec('1101100')) character,\n 10    chr(bin2dec('1100101')) character,\n 11    chr(bin2dec('1101000')) character\n 12  FROM dual;\n\nCHARACTER CHARACTER CHARACTER CHARACTER CHARACTER CHARACTER CHARACTER CHARACTER CHARACTER CHARACTER CHARACTER\n--------- --------- --------- --------- --------- --------- --------- --------- --------- --------- ---------\nd         l         r         o         w         \u2302         o         l         l         e         h\n\nSQL&gt;\n</code></pre>\n\n<p>So, what do we get in the output?</p>\n\n<p><strong>d l r o w \u2302 o l l e h</strong></p>\n\n<p>That is <strong>hello\u2302world</strong> in reverse. The only issue is the <strong>space</strong>. And the reason is well explained by @higuaro in his answer. I honestly couldn't interpret the space issue myself at first attempt, until I saw the explanation given in his answer.</p>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/27705533#27705533", "question_id": 20720098, "answer_id": 27705533}, {"body": "<p>I found the code slightly easier to understand when translated into PHP, as follows:</p>\n\n<pre><code>&lt;?php\n\n$result=0;\n$bignum = 4946144450195624;\nfor (; $bignum &gt; 0; $bignum &gt;&gt;= 5){\n    $result = (( $bignum &amp; 31 | 64) % 95) + 32;\n    echo chr($result);\n}\n</code></pre>\n\n<p>See <a href=\"https://3v4l.org/VYI7f\" rel=\"nofollow\">live code</a></p>\n", "title": "How does this print &quot;hello world&quot;?", "tags": ["java", "oracle", "bit-shift"], "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world/27726471#27726471", "question_id": 20720098, "answer_id": 27726471}], "creation_date": 1387636778, "score": 137, "link": "http://stackoverflow.com/questions/20720098/how-does-this-print-hello-world", "question_id": 20720098}, {"body": "<p>I am trying to import a Gradle project into IntelliJ, and when I get to the <code>Gradle Home</code> textbox, it is not automatically populated, nor will typing in the path of <code>Gradle Home</code> result in a valid location - I have the <code>GRADLE_USER_HOME</code> environment variable set (to what I think is!) the correct path, and I have been able to successfully import this same project into Eclipse. Any suggestions?</p>\n", "tags": ["java", "intellij-idea", "gradle"], "title": "IntelliJ cannot find Gradle Home Location", "answers": [{"body": "<p>AFAIK it is <strong>GRADLE_HOME</strong> not GRADLE_USER_HOME (see gradle installation <a href=\"http://www.gradle.org/installation\" rel=\"nofollow\">http://www.gradle.org/installation</a>).</p>\n\n<p>On the other hand I played a bit with Gradle support in Idea 13 Cardea and I think the gradle home is not automatically discover by Idea. If so you can file a issue in youtrack.</p>\n\n<p>Also, if you use gradle 1.6+ you can use the Graldle support for setting the build and wrapper. I think idea automatically discover the wrapper based gradle project.</p>\n\n<p><em>$ gradle setupBuild --type java-library</em> </p>\n\n<p><em>$ gradle wrapper</em> </p>\n\n<p><strong>Note:</strong> Supported library types: basic, maven, java</p>\n\n<p><em>Regards</em></p>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/18496798#18496798", "question_id": 18495474, "answer_id": 18496798}, {"body": "<p>You can write a <a href=\"http://www.rabblemedia.net/setting-up-gradle-plugin-for-intellij-12-2.html\">simple gradle script</a> to print your GRADLE_HOME directory.</p>\n\n<pre><code>task getHomeDir &lt;&lt; {\n    println gradle.gradleHomeDir\n}\n</code></pre>\n\n<p>and name it <code>build.gradle</code>.</p>\n\n<p>Then run it with:</p>\n\n<pre><code>gradle getHomeDir\n</code></pre>\n\n<p>If you installed with homebrew, you should see something like:</p>\n\n<pre><code>/usr/local/Cellar/gradle/1.6/libexec\n</code></pre>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/21027074#21027074", "question_id": 18495474, "answer_id": 21027074}, {"body": "<p>If you installed gradle with homebrew, then the path is:</p>\n\n<pre><code>/usr/local/Cellar/gradle/X.X/libexec\n</code></pre>\n\n<p>Where X.X is the version of gradle (currently 2.1)</p>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/27489186#27489186", "question_id": 18495474, "answer_id": 27489186}, {"body": "<p>Installed on a Mac via Homebrew, the path </p>\n\n<pre><code>/usr/local/opt/gradle/libexec\n</code></pre>\n\n<p>is preferable to </p>\n\n<pre><code>/usr/local/Cellar/gradle/X.X/libexec\n</code></pre>\n\n<p>since the former will survive version upgrades.</p>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/34502612#34502612", "question_id": 18495474, "answer_id": 34502612}, {"body": "<p>I had some weird errors where it could not find my class, I had to right click on my src folder (was red) to \"Make Directory as\" -> Source Folder Root</p>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/34610148#34610148", "question_id": 18495474, "answer_id": 34610148}, {"body": "<p>In case you are using Mac, most probably your gradle home should be <code>/usr/local/gradle-2.0</code> for example.</p>\n\n<p>In preference of IDEA search for gradle and set gradle home as given above.\nIt should work</p>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/35156689#35156689", "question_id": 18495474, "answer_id": 35156689}, {"body": "<p>If you are using IntelliJ, just do the following. </p>\n\n<ol>\n<li>Close the project</li>\n<li>(re)Open the project</li>\n<li>you will see \"Import gradle project\" message on the right bottom. click. </li>\n<li>select \"Use default gradle wrapper\". not \"Use local gradle distribution\"</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/l68gI.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/l68gI.png\" alt=\"enter image description here\"></a></p>\n\n<p>That's all. </p>\n", "title": "IntelliJ cannot find Gradle Home Location", "tags": ["java", "intellij-idea", "gradle"], "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location/39239118#39239118", "question_id": 18495474, "answer_id": 39239118}], "creation_date": 1377714258, "score": 136, "link": "http://stackoverflow.com/questions/18495474/intellij-cannot-find-gradle-home-location", "question_id": 18495474}, {"body": "<p>I am reading the spring site to understand Spring Autowired annotation:</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.0.x/reference/beans.html#beans-autowired-annotation\">http://docs.spring.io/spring/docs/3.0.x/reference/beans.html#beans-autowired-annotation</a></p>\n\n<p>3.9.2 @Autowired and @Inject</p>\n\n<p>I am not able to understand the below examples. Do we need to do something in the XML for it to work? </p>\n\n<p>EXAMPLE 1</p>\n\n<pre><code>public class SimpleMovieLister {\n\n    private MovieFinder movieFinder;\n\n    @Autowired\n    public void setMovieFinder(MovieFinder movieFinder) {\n        this.movieFinder = movieFinder;\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>EXAMPLE 2 </p>\n\n<pre><code>public class MovieRecommender {\n\n    private MovieCatalog movieCatalog;\n\n    private CustomerPreferenceDao customerPreferenceDao;\n\n    @Autowired\n    public void prepare(MovieCatalog movieCatalog,\n                    CustomerPreferenceDao customerPreferenceDao) {\n        this.movieCatalog = movieCatalog;\n        this.customerPreferenceDao = customerPreferenceDao;\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>How can the two classes be autowired implementing the same interface and using the same class? </p>\n\n<p>Example: </p>\n\n<pre><code>class Red implements Color\nclass Blue implements Color\n\nclass myMainClass{\n    @Autowired \n    private Color color;\n\n    draw(){\n        color.design(); \n    } \n}\n</code></pre>\n\n<p>Which design method will be called? How do I make sure the design method of Red class will be called and not Blue?</p>\n", "tags": ["java", "spring", "autowired"], "title": "Understanding Spring @Autowired usage", "answers": [{"body": "<p>Yes, you can configure the Spring servlet context xml file to define your beans (i.e., classes), so that it can do the automatic injection for you.  However, do note, that you have to do other configurations to have Spring up and running and the best way to do that, is to follow a tutorial ground up.</p>\n\n<p>Once you have your Spring configured probably, you can do the following in your Spring servlet context xml file for Example 1 above to work (please <em>replace</em> the package name of <strong>com.movies</strong> to what the true package name is and if this is a 3rd party class, then be sure that the appropriate jar file is on the classpath) :</p>\n\n<pre><code>&lt;beans:bean id=\"movieFinder\" class=\"com.movies.MovieFinder\" /&gt;\n</code></pre>\n\n<p>or if the MovieFinder class has a constructor with a primitive value, then you could something like this,</p>\n\n<pre><code>&lt;beans:bean id=\"movieFinder\" class=\"com.movies.MovieFinder\" &gt;\n    &lt;beans:constructor-arg value=\"100\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>or if the MovieFinder class has a constructor expecting another class, then you could do something like this,</p>\n\n<pre><code>&lt;beans:bean id=\"movieFinder\" class=\"com.movies.MovieFinder\" &gt;\n    &lt;beans:constructor-arg ref=\"otherBeanRef\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>...where '<em>otherBeanRef</em>' is another bean that has a reference to the expected class.</p>\n", "title": "Understanding Spring @Autowired usage", "tags": ["java", "spring", "autowired"], "link": "http://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage/19416271#19416271", "question_id": 19414734, "answer_id": 19416271}, {"body": "<p>The <code>@Autowired</code> annotation allows you to skip configurations elsewhere of what to inject and just does it for you. Assuming your package is <code>com.mycompany.movies</code> you have to put this tag in your XML (application context file):</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.mycompany.movies\" /&gt;\n</code></pre>\n\n<p>This tag will do an auto-scanning. Assuming each class that has to become a bean is annotated with a correct annotation like <code>@Component</code> (for simple bean) or <code>@Controller</code> (for a servlet control) or <code>@Repository</code> (for <code>DAO</code> classes) and these classes are somewhere under the package <code>com.mycompany.movies</code>, Spring will find all of these and create a bean for each one. This is done in 2 scans of the classes - the first time it just searches for classes that need to become a bean and maps the injections it needs to be doing, and on the second scan it injects the beans. Of course, you can define your beans in the more traditional XML file or with a <a href=\"http://stackoverflow.com/q/24014919/2083523\">@Configuration</a> class (or any combination of the three).</p>\n\n<p>The <code>@Autowired</code> annotation tells Spring where an injection needs to occur. If you put it on a method <code>setMovieFinder</code> it understands (by the prefix <code>set</code> + the <code>@Autowired</code> annotation) that a bean needs to be injected. In the second scan, Spring searches for a bean of type <code>MovieFinder</code>, and if it finds such bean, it injects it to this method. If it finds two such beans you will get an <code>Exception</code>. To avoid the <code>Exception</code>, you can use the <code>@Qualifier</code> annotation and tell it which of the two beans to inject in the following manner:</p>\n\n<pre><code>@Qualifier(\"redBean\")\nclass Red implements Color {\n   // Class code here\n}\n\n@Qualifier(\"blueBean\")\nclass Blue implements Color {\n   // Class code here\n}\n</code></pre>\n\n<p>Or if you prefer to declare the beans in your XML, it would look something like this:</p>\n\n<pre><code>&lt;bean id=\"redBean\" class=\"com.mycompany.movies.Red\"/&gt;\n\n&lt;bean id=\"blueBean\" class=\"com.mycompany.movies.Blue\"/&gt;\n</code></pre>\n\n<p>In the <code>@Autowired</code> declaration, you need to also add the <code>@Qualifier</code> to tell which of the two color beans to inject:</p>\n\n<pre><code>@Autowired\n@Qualifier(\"redBean\")\npublic void setColor(Color color) {\n  this.color = color;\n}\n</code></pre>\n\n<p>If you don't want to use two annotations (the <code>@Autowired</code> and <code>@Qualifier</code>) you can use <code>@Resource</code> to combine these two:</p>\n\n<pre><code>@Resource(name=\"redBean\")\npublic void setColor(Color color) {\n  this.color = color;\n}\n</code></pre>\n\n<p>The <code>@Resource</code> (you can read some extra data about it in the first comment on this answer) spares you the use of two annotations and instead you only use one.</p>\n\n<p>I'll just add two more comments:</p>\n\n<ol>\n<li>Good practice would be to use <code>@Inject</code> instead of <code>@Autowired</code> because it is not Spring-specific and is <a href=\"http://www.mkyong.com/spring3/spring-3-and-jsr-330-inject-and-named-example/\">part of the <code>JSR-330</code> standard</a>. </li>\n<li>Another good practice would be to put the <code>@Inject</code> / <code>@Autowired</code> on a constructor instead of a method. If you put it on a constructor, you can validate that the injected beans are not null and fail fast when you try to start the application and avoid a <code>NullPointerException</code> when you need to actually use the bean.</li>\n</ol>\n\n<p>So, to sum it up: The <code>@Autowired</code> annotation spares you the need to do the wiring by yourself in the XML file (or any other way) and just finds for you what needs to be injected where, and does that for you.</p>\n\n<p><strong>Update</strong>: To complete the picture, I created a <a href=\"http://stackoverflow.com/q/24014919/2083523\">new question</a> about the <code>@Configuration</code> class.</p>\n", "title": "Understanding Spring @Autowired usage", "tags": ["java", "spring", "autowired"], "link": "http://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage/19419296#19419296", "question_id": 19414734, "answer_id": 19419296}, {"body": "<p>Nothing in the example says that the \"classes implementing the same interface\". <code>MovieCatalog</code> is a type and <code>CustomerPreferenceDao</code> is another type. Spring can easily tell them apart.</p>\n\n<p>In Spring 2.x, wiring of beans mostly happened via bean IDs or names. This is still supported by Spring 3.x but often, you will have one instance of a bean with a certain type - most services are singletons. Creating names for those is tedious. So Spring started to support \"autowire by type\".</p>\n\n<p>What the examples show is various ways that you can use to inject beans into fields, methods and constructors.</p>\n\n<p>The XML already contains all the information that Spring needs since you have to specify the fully qualified class name in each bean. You need to be a bit careful with interfaces, though:</p>\n\n<p>This autowiring will fail:</p>\n\n<pre><code> @Autowired\n public void prepare( Interface1 bean1, Interface1 bean2 ) { ... }\n</code></pre>\n\n<p>Since Java doesn't keep the parameter names in the byte code, Spring can't distinguish between the two beans anymore. The fix is to use <code>@Qualifier</code>:</p>\n\n<pre><code> @Autowired\n public void prepare( @Qualifier(\"bean1\") Interface1 bean1,\n     @Qualifier(\"bean2\")  Interface1 bean2 ) { ... }\n</code></pre>\n", "title": "Understanding Spring @Autowired usage", "tags": ["java", "spring", "autowired"], "link": "http://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage/19422071#19422071", "question_id": 19414734, "answer_id": 19422071}, {"body": "<p>@Autowired</p>\n\n<p>Let Spring auto-wire other beans into your classes using @Autowired annotation. </p>\n\n<pre><code>@Service\npublic class CompanyServiceImpl implements CompanyService {\n\n    @Autowired\n    private CompanyDAO companyDAO;\n\n    ...\n}\n</code></pre>\n\n<p>Spring Annotation Tip   Spring beans can be wired by name or by type.\n@Autowire by default is a type driven injection. @Qualifier spring annotation can be used to further fine-tune autowiring.\n@Resource (javax.annotation.Resource) annotation can be used for wiring by name.\nBeans that are themselves defined as a collection or map type cannot be injected through @Autowired, because type matching is not properly applicable to them. Use @Resource for such beans, referring to the specific collection or map bean by unique name</p>\n", "title": "Understanding Spring @Autowired usage", "tags": ["java", "spring", "autowired"], "link": "http://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage/31318332#31318332", "question_id": 19414734, "answer_id": 31318332}], "creation_date": 1381960966, "score": 134, "link": "http://stackoverflow.com/questions/19414734/understanding-spring-autowired-usage", "question_id": 19414734}, {"body": "<p>I have installed JDK 8 and trying to run Eclipse. I am getting following warning message:</p>\n\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=512m;\nsupport was removed in 8.0 \n</code></pre>\n\n<p>What are the reasons of ignoring this argument?</p>\n", "tags": ["java", "jvm", "java-8", "permgen"], "title": "PermGen elimination in JDK 8", "answers": [{"body": "<p>Oracle's JVM implementation for Java 8 got rid of the PermGen model and replaced it with <a href=\"http://java.dzone.com/articles/java-8-permgen-metaspace\">Metaspace</a>.</p>\n", "title": "PermGen elimination in JDK 8", "tags": ["java", "jvm", "java-8", "permgen"], "link": "http://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8/18339778#18339778", "question_id": 18339707, "answer_id": 18339778}, {"body": "<p>Because the PermGen space was removed. Memory management has changed a bit.</p>\n\n<p><a href=\"http://java.dzone.com/articles/java-8-permgen-metaspace\">http://java.dzone.com/articles/java-8-permgen-metaspace</a></p>\n", "title": "PermGen elimination in JDK 8", "tags": ["java", "jvm", "java-8", "permgen"], "link": "http://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8/18339797#18339797", "question_id": 18339707, "answer_id": 18339797}, {"body": "<p>This is one of the new features of Java 8, part of <a href=\"http://openjdk.java.net/jeps/122\">JDK Enhancement Proposals 122</a>:</p>\n\n<blockquote>\n  <p>Remove the permanent generation from the Hotspot JVM and thus the need to tune the size of the permanent generation.</p>\n</blockquote>\n\n<p>The list of all the JEPs that will be included in Java 8 can be found on the <a href=\"http://openjdk.java.net/projects/jdk8/milestones\">JDK8 milestones page</a>.</p>\n", "title": "PermGen elimination in JDK 8", "tags": ["java", "jvm", "java-8", "permgen"], "link": "http://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8/18345876#18345876", "question_id": 18339707, "answer_id": 18345876}, {"body": "<p>Reasons of ignoring these argument is permanent generation has been removed in HotSpot for JDK8 because of following drawbacks</p>\n\n<ul>\n<li>Fixed size at startup \u2013 difficult to tune.</li>\n<li>Internal Hotspot types were Java objects : Could move with full GC, opaque, not strongly typed and hard to debug, needed meta-metadata.</li>\n<li>Simplify full collections : Special iterators for metadata for each collector</li>\n<li>Want to deallocate class data concurrently and not during GC pause</li>\n<li>Enable future improvements that were limited by PermGen.</li>\n</ul>\n\n<p>The Permanent Generation (PermGen) space has completely been removed and is kind of replaced by a new space called Metaspace.\nThe consequences of the PermGen removal is that obviously the <strong><em>PermSize and MaxPermSize JVM arguments are ignored</em></strong> and you will never get a java.lang.OutOfMemoryError: PermGen error.</p>\n\n<p><strong>Advantages of MetaSpace</strong></p>\n\n<ul>\n<li>Take advantage of Java Language Specification property : Classes and associated metadata lifetimes match class loader\u2019s</li>\n<li>Per loader storage area \u2013 Metaspace</li>\n<li>Linear allocation only</li>\n<li>No individual reclamation (except for RedefineClasses and class  loading failure)</li>\n<li>No GC scan or compaction</li>\n<li>No relocation for metaspace objects</li>\n</ul>\n\n<p><strong>Metaspace Tuning</strong></p>\n\n<p>The maximum metaspace size can be set using the -XX:MaxMetaspaceSize flag, and the default is unlimited, which means that only your system memory is the limit. The -XX:MetaspaceSize tuning flag defines the initial size of metaspace If you don\u2019t specify this flag, the Metaspace will dynamically re-size depending of the application demand at runtime.</p>\n\n<p>Change enables other optimizations and features in the future</p>\n\n<ul>\n<li>Application class data sharing</li>\n<li>Young collection optimizations, G1 class unloading</li>\n<li>Metadata size reductions and internal JVM footprint projects</li>\n</ul>\n\n<p>There is improved GC performace also. <a href=\"http://java-latte.blogspot.in/2014/03/metaspace-in-java-8.html\">More detail</a></p>\n", "title": "PermGen elimination in JDK 8", "tags": ["java", "jvm", "java-8", "permgen"], "link": "http://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8/22509753#22509753", "question_id": 18339707, "answer_id": 22509753}, {"body": "<p>The Permanent Generation (PermGen) space has completely been removed and is kind of replaced by a new space called Metaspace.The consequences of the PermGen removal is that obviously the PermSize and MaxPermSize JVM arguments are ignored and you will never get a <code>java.lang.OutOfMemoryError</code>: PermGen error.\n<strong>The JDK 8 HotSpot JVM is now using native memory for the representation of class metadata and is called Metaspace.</strong> <a href=\"http://java-latte.blogspot.in/2014/03/metaspace-in-java-8.html\">Read More>></a></p>\n", "title": "PermGen elimination in JDK 8", "tags": ["java", "jvm", "java-8", "permgen"], "link": "http://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8/23388882#23388882", "question_id": 18339707, "answer_id": 23388882}], "creation_date": 1377014209, "score": 132, "link": "http://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8", "question_id": 18339707}, {"body": "<p>In Java 8 we have the class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\">Stream&lt;T></a>, which curiously have a method</p>\n\n<pre><code>Iterator&lt;T&gt; iterator()\n</code></pre>\n\n<p>So you would expect it to implement interface <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\">Iterable&lt;T></a>, which requires exactly this method, but that's not the case.</p>\n\n<p>When I want to iterate over a Stream using a foreach loop, I have to do something like</p>\n\n<pre><code>public static Iterable&lt;T&gt; getIterable(Stream&lt;T&gt; s) {\n    return new Iterable&lt;T&gt; {\n        @Override\n        public Iterator&lt;T&gt; iterator() {\n            return s.iterator();\n        }\n    };\n}\n\nfor (T element : getIterable(s)) { ... }\n</code></pre>\n\n<p>Am I missing something here?</p>\n", "tags": ["java", "java-8", "java-stream", "iterable"], "title": "Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?", "answers": [{"body": "<p>There are already people asked the same <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2013-March/008876.html\">on the mailing list</a> \u263a. The main reason is Iterable also has a re-iterable semantic, while Stream is not.</p>\n\n<blockquote>\n  <p>I think the main reason is that <code>Iterable</code> implies reusability, whereas <code>Stream</code> is something that can only be used once \u2014 more like an <code>Iterator</code>.</p>\n  \n  <p>If <code>Stream</code> extended <code>Iterable</code> then existing code might be surprised when it receives an <code>Iterable</code> that throws an <code>Exception</code> the\n  second time they do <code>for (element : iterable)</code>.</p>\n</blockquote>\n", "title": "Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?", "tags": ["java", "java-8", "java-stream", "iterable"], "link": "http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet/20130131#20130131", "question_id": 20129762, "answer_id": 20130131}, {"body": "<p>To convert a <code>Stream</code> to an <code>Iterable</code>, you can do</p>\n\n<pre><code>Stream&lt;X&gt; stream = null;\nIterable&lt;X&gt; iterable = stream::iterator\n</code></pre>\n\n<p>To pass a <code>Stream</code> to a method that expects <code>Iterable</code>, </p>\n\n<pre><code>void foo(Iterable&lt;X&gt; iterable)\n</code></pre>\n\n<p>simply</p>\n\n<pre><code>foo(stream::iterator) \n</code></pre>\n\n<p>however it probably looks funny; it might be better to be a little bit more explicit</p>\n\n<pre><code>foo( (Iterable&lt;X&gt;)stream::iterator );\n</code></pre>\n", "title": "Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?", "tags": ["java", "java-8", "java-stream", "iterable"], "link": "http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet/20130475#20130475", "question_id": 20129762, "answer_id": 20130475}, {"body": "<p>I would like to point out that <a href=\"https://github.com/amaembo/streamex\"><code>StreamEx</code></a> does implement <code>Iterable</code> (and <code>Stream</code>), as well as a host of other immensely awesome functionality missing from <code>Stream</code>.</p>\n", "title": "Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?", "tags": ["java", "java-8", "java-stream", "iterable"], "link": "http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet/30548433#30548433", "question_id": 20129762, "answer_id": 30548433}, {"body": "<p><a href=\"http://stackoverflow.com/a/20130131/1188377\">kennytm described</a> why it's unsafe to treat a Stream as an Iterable, and <a href=\"http://stackoverflow.com/a/20130475/1188377\">bayou.io offered a workaround</a> that permits using a Stream as in Iterable, albeit in an unsafe manner.  It's possible to get the best of both worlds: a reusable Iterable from a Stream that meets all the guarantees made by the Iterable specification.</p>\n\n<p><strong>Note: <code>SomeType</code> is not a type parameter here--you need to replace it with a proper type (e.g., <code>String</code>) or resort to reflection</strong></p>\n\n<pre><code>Stream&lt;SomeType&gt; stream = ...;\nIterable&lt;SomeType&gt; iterable = stream.toArray(SomeType[]::new);\n</code></pre>\n\n<p>There are two major disadvantages:</p>\n\n<ol>\n<li>If <code>SomeType</code> is a generic type, you'll need to use an unchecked type cast, as arrays can't have type parameters as of Java 8.  (This may have changed in a newer version of Java.)</li>\n<li>The benefits of lazy iteration will be lost.  If you planned to immediately iterate over all values in the current thread, any overhead will be negligible.  However, if you planned to iterate only partially or in a different thread, this immediate and complete iteration could have unintended consequences.</li>\n</ol>\n\n<p>The big advantage, of course, is that you can reuse the Iterable, whereas <code>(Iterable&lt;SomeType&gt;) stream::iterator</code> would only permit a single use.  If the receiving code will be iterating over the collection multiple times, this is not only necessary, but likely beneficial to performance.</p>\n", "title": "Why does Stream&lt;T&gt; not implement Iterable&lt;T&gt;?", "tags": ["java", "java-8", "java-stream", "iterable"], "link": "http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet/34941940#34941940", "question_id": 20129762, "answer_id": 34941940}], "creation_date": 1385060782, "score": 130, "link": "http://stackoverflow.com/questions/20129762/why-does-streamt-not-implement-iterablet", "question_id": 20129762}, {"body": "<p>I'm new to maven, and also to MacOS.\nI have setup maven in my terminal, and when getting the version settings (using <code>mvn -v</code>) it seems it uses JDK 1.6, while I have JDK 1.7 installed. Is there anything wrong?</p>\n\n<p>the command I enter is:</p>\n\n<pre><code>blues:helloworld Ninja$ java -version\n</code></pre>\n\n<blockquote>\n<pre><code>java version \"1.7.0_05\"\nJava(TM) SE Runtime Environment (build 1.7.0_05-b06)\nJava HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)`\n</code></pre>\n</blockquote>\n\n<pre><code>blues:helloworld Ninja$ mvn -v\n</code></pre>\n\n<blockquote>\n<pre><code>Apache Maven 3.1.0 (893ca28a1da9d5f51ac03827af98bb730128f9f2; 2013-06-28 10:15:32+0800)\nMaven home: /usr/local/Cellar/maven/3.1.0/libexec\nJava version: 1.6.0_51, vendor: Apple Inc.\nJava home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nDefault locale: zh_CN, platform encoding: EUC_CN\nOS name: \"mac os x\", version: \"10.8.4\", arch: \"x86_64\", family: \"mac\"\n</code></pre>\n</blockquote>\n", "tags": ["java", "linux", "osx", "maven"], "title": "why maven use jdk 1.6 but my java -version is 1.7", "answers": [{"body": "<p>You can also explicitly tell maven which java version to compile for. You can try adding the <code>maven-compiler-plugin</code> to your pom.</p>\n\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    [...]\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    [...]\n  &lt;/build&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n\n<p>If you imported a maven project into an IDE, then there is probably a maven setting in your IDE for default compiler that your maven runner is using.</p>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/18813994#18813994", "question_id": 18813828, "answer_id": 18813994}, {"body": "<p>add the following to your <code>~/.mavenrc</code>:</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/{jdk-version}/Contents/Home\n</code></pre>\n\n<h1>Second Solution:</h1>\n\n<p><code>echo export \"JAVA_HOME=\\$(/usr/libexec/java_home)\" &gt;&gt; ~/.bash_profile</code></p>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/19324816#19324816", "question_id": 18813828, "answer_id": 19324816}, {"body": "<p>Get into </p>\n\n<pre><code>/System/Library/Frameworks/JavaVM.framework/Versions\n</code></pre>\n\n<p>and update the <code>CurrentJDK</code> symbolic link to point to</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/YOUR_JDK_VERSION/Contents/\n</code></pre>\n\n<p>E.g.</p>\n\n<pre><code>cd /System/Library/Frameworks/JavaVM.framework/Versions\nsudo rm CurrentJDK\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/ CurrentJDK\n</code></pre>\n\n<p>Now it shall work immediately.</p>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/22974231#22974231", "question_id": 18813828, "answer_id": 22974231}, {"body": "<p>You can also do,</p>\n\n<pre><code>&lt;properties&gt;\n      ...  \n\n      &lt;!-- maven-compiler-plugin , aka JAVA Compiler 1.7 --&gt;\n      &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n\n      ...  \n&lt;/properties&gt;\n</code></pre>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/23116365#23116365", "question_id": 18813828, "answer_id": 23116365}, {"body": "<p>I am late to this question, but I think the best way to handle JDK versions on MacOS is by using the script described at: <a href=\"http://www.jayway.com/2014/01/15/how-to-switch-jdk-version-on-mac-os-x-maverick/\" rel=\"nofollow\">http://www.jayway.com/2014/01/15/how-to-switch-jdk-version-on-mac-os-x-maverick/</a></p>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/25661496#25661496", "question_id": 18813828, "answer_id": 25661496}, {"body": "<p>For Eclipse Users.\nIf you have a Run Configuration that does clean package for example.</p>\n\n<p>In the Run Configuration panel there is a JRE tab where you can specify against which runtime it should run.\nNote that this configuration overrides whatever is in the pom.xml.</p>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/26872780#26872780", "question_id": 18813828, "answer_id": 26872780}, {"body": "<p>Please check the compatibility. I struggled with <code>mvn 3.2.1</code> and <code>jdk 1.6.0_37</code> for many hours. All variables were set but was not working. Finally I upgraded <code>jdk to 1.8.0_60</code> and <code>mvn 3.3.3</code> and that worked. Environment Variables as following:</p>\n\n<pre><code>JAVA_HOME=C:\\ProgramFiles\\Java\\jdk1.8.0_60 \nMVN_HOME=C:\\ProgramFiles\\apache-maven\\apache-maven-3.3.3 \nM2=%MVN_HOME%\\bin extend system level Path- ;%M2%;%JAVA_HOME%\\bin;\n</code></pre>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/32238657#32238657", "question_id": 18813828, "answer_id": 32238657}, {"body": "<p>@MasterGaurav 's solution is perfectly working,</p>\n\n<p>I normally put the java switch thing into a zsh function:</p>\n\n<pre><code>alias java_ls='/usr/libexec/java_home -V 2&gt;&amp;1 | grep -E \"\\d.\\d.\\d[,_]\" | cut -d , -f 1 | colrm 1 4 | grep -v Home'\n\nfunction java_use() {\n    export JAVA_HOME=$(/usr/libexec/java_home -v $1)\n    echo export \"JAVA_HOME=$(/usr/libexec/java_home -v $1)\" &gt; ~/.mavenrc\n    export PATH=$JAVA_HOME/bin:$PATH\n    java -version\n}\n</code></pre>\n\n<p>Then you can run <code>java_ls</code> two get all of the available jvm on your machine, \nrun <code>java_use 1.7</code> to use the 1.7 version for both java and maven.</p>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/36089853#36089853", "question_id": 18813828, "answer_id": 36089853}, {"body": "<p>It helped me. Just add it in your pom.xml.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n", "title": "why maven use jdk 1.6 but my java -version is 1.7", "tags": ["java", "linux", "osx", "maven"], "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7/37422525#37422525", "question_id": 18813828, "answer_id": 37422525}], "creation_date": 1379257279, "score": 128, "link": "http://stackoverflow.com/questions/18813828/why-maven-use-jdk-1-6-but-my-java-version-is-1-7", "question_id": 18813828}, {"body": "<p>Is there a concise way to iterate over a stream whilst having access to the index in the stream?</p>\n\n<p>The best I've come across so far (<a href=\"http://blog.lahteenmaki.net/2013/04/java-streams-vs-c-linq-vs-java6.html\">challenge 2 here</a>) is</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nList&lt;String&gt; nameList;\nStream&lt;Integer&gt; indices = intRange(1, names.length).boxed();\nnameList = zip(indices, stream(names), SimpleEntry::new)\n        .filter(e -&gt; e.getValue().length() &lt;= e.getKey())\n        .map(Entry::getValue)\n        .collect(toList());\n</code></pre>\n\n<p>which seems rather disappointing compared to the LINQ example given there</p>\n\n<pre><code>string[] names = { \"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\" };\nvar nameList = names.Where((c, index) =&gt; c.Length &lt;= index + 1).ToList();\n</code></pre>\n\n<p>Is there a more concise way?</p>\n\n<p>Further it seems the zip has either moved or been removed...</p>\n", "tags": ["java", "java-8", "java-stream"], "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "answers": [{"body": "<p>There isn't a way to iterate over a <code>Stream</code> whilst having access to the index because a <code>Stream</code> is unlike any <code>Collection</code>. A <code>Stream</code> is merely a pipeline for carrying data from one place to another, as stated in the <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow\">documentation</a>:</p>\n\n<p><strong>No storage. A stream is not a data structure that stores elements; instead, they carry values from a source (which could be a data structure, a generator, an IO channel, etc) through a pipeline of computational operations.</strong></p>\n\n<p>Of course, as you appear to be hinting at in your question, you could always convert your <code>Stream&lt;V&gt;</code> to a <code>Collection&lt;V&gt;</code>, such as a <code>List&lt;V&gt;</code>, in which you will have access to the indexes.</p>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/18552055#18552055", "question_id": 18552005, "answer_id": 18552055}, {"body": "<p>The cleanest way is to start from a stream of indices:</p>\n\n<pre><code>String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nIntStream.range(0, names.length)\n         .filter(i -&gt; names[i].length() &lt;= i)\n         .mapToObj(i -&gt; names[i])\n         .collect(Collectors.toList());\n</code></pre>\n\n<p>The resulting list contains \"Erik\" only.</p>\n\n<hr>\n\n<p>One alternative which looks more familiar when you are used to for loops would be to maintain an ad hoc counter using a mutable object, for example an <code>AtomicInteger</code>:</p>\n\n<pre><code>String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nAtomicInteger index = new AtomicInteger();\nList&lt;String&gt; list = Arrays.stream(names)\n                          .filter(n -&gt; n.length() &lt;= index.incrementAndGet())\n                          .collect(Collectors.toList());\n</code></pre>\n\n<p>Note that <strong><em>using the latter method on a parallel stream could break as the items would not necesarily be processed \"in order\"</em></strong>.</p>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/18552071#18552071", "question_id": 18552005, "answer_id": 18552071}, {"body": "<p>The Java 8 streams API lacks the features of getting the index of a stream element as well as the ability to zip streams together. This is unfortunate, as it makes certain applications (like the LINQ challenges) more difficult than they would be otherwise.</p>\n\n<p>There are often workarounds, however. Usually this can be done by \"driving\" the stream with an integer range, and taking advantage of the fact that the original elements are often in an array or in a collection accessible by index. For example, the Challenge 2 problem can be solved this way:</p>\n\n<pre><code>String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nList&lt;String&gt; nameList =\n    IntStream.range(0, names.length)\n        .filter(i -&gt; names[i].length() &lt;= i)\n        .mapToObj(i -&gt; names[i])\n        .collect(toList());\n</code></pre>\n\n<p>As I mentioned above, this takes advantage of the fact that the data source (the names array) is directly indexable. If it weren't, this technique wouldn't work.</p>\n\n<p>I'll admit that this doesn't satisfy the intent of Challenge 2. Nonetheless it does solve the problem reasonably effectively.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My previous code example used <code>flatMap</code> to fuse the filter and map operations, but this was cumbersome and provided no advantage. I've updated the example per the comment from Holger.</p>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/18563928#18563928", "question_id": 18552005, "answer_id": 18563928}, {"body": "<p>I've used the following solution in my project. I think it is better than using mutable objects or integer ranges.</p>\n\n<pre><code>import java.util.*;\nimport java.util.function.*;\nimport java.util.stream.Collector;\nimport java.util.stream.Collector.Characteristics;\nimport java.util.stream.Stream;\nimport java.util.stream.StreamSupport;\nimport static java.util.Objects.requireNonNull;\n\n\npublic class CollectionUtils {\n    private CollectionUtils() { }\n\n    /**\n     * Converts an {@link java.util.Iterator} to {@link java.util.stream.Stream}.\n     */\n    public static &lt;T&gt; Stream&lt;T&gt; iterate(Iterator&lt;? extends T&gt; iterator) {\n        int characteristics = Spliterator.ORDERED | Spliterator.IMMUTABLE;\n        return StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, characteristics), false);\n    }\n\n    /**\n     * Zips the specified stream with its indices.\n     */\n    public static &lt;T&gt; Stream&lt;Map.Entry&lt;Integer, T&gt;&gt; zipWithIndex(Stream&lt;? extends T&gt; stream) {\n        return iterate(new Iterator&lt;Map.Entry&lt;Integer, T&gt;&gt;() {\n            private final Iterator&lt;? extends T&gt; streamIterator = stream.iterator();\n            private int index = 0;\n\n            @Override\n            public boolean hasNext() {\n                return streamIterator.hasNext();\n            }\n\n            @Override\n            public Map.Entry&lt;Integer, T&gt; next() {\n                return new AbstractMap.SimpleImmutableEntry&lt;&gt;(index++, streamIterator.next());\n            }\n        });\n    }\n\n    /**\n     * Returns a stream consisting of the results of applying the given two-arguments function to the elements of this stream.\n     * The first argument of the function is the element index and the second one - the element value. \n     */\n    public static &lt;T, R&gt; Stream&lt;R&gt; mapWithIndex(Stream&lt;? extends T&gt; stream, BiFunction&lt;Integer, ? super T, ? extends R&gt; mapper) {\n        return zipWithIndex(stream).map(entry -&gt; mapper.apply(entry.getKey(), entry.getValue()));\n    }\n\n    public static void main(String[] args) {\n        String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\n        System.out.println(\"Test zipWithIndex\");\n        zipWithIndex(Arrays.stream(names)).forEach(entry -&gt; System.out.println(entry));\n\n        System.out.println();\n        System.out.println(\"Test mapWithIndex\");\n        mapWithIndex(Arrays.stream(names), (Integer index, String name) -&gt; index+\"=\"+name).forEach((String s) -&gt; System.out.println(s));\n    }\n}\n</code></pre>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/23051268#23051268", "question_id": 18552005, "answer_id": 23051268}, {"body": "<p>With <a href=\"https://github.com/poetix/protonpack\" rel=\"nofollow\">https://github.com/poetix/protonpack</a>\nu can do that zip:</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nList&lt;String&gt; nameList;\nStream&lt;Integer&gt; indices = IntStream.range(0, names.length).boxed(); \n\nnameList = StreamUtils.zip(indices, stream(names),SimpleEntry::new)\n        .filter(e -&gt; e.getValue().length() &lt;= e.getKey()).map(Entry::getValue).collect(toList());                   \n\nSystem.out.println(nameList);\n</code></pre>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/27989553#27989553", "question_id": 18552005, "answer_id": 27989553}, {"body": "<p>In addition to protonpack, <a href=\"http://www.jooq.org/products/jOO%CE%BB/javadoc/latest/org/jooq/lambda/Seq.html\" rel=\"nofollow\">jOO\u03bb's Seq</a> provides this functionality (and by extension libraries that build on it like <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a>), I am the author of this library.</p>\n\n<pre><code>Seq.seq(Stream.of(names)).zipWithIndex()\n                         .filter( namesWithIndex -&gt; namesWithIndex.v1.length() &lt;= namesWithIndex.v2 + 1)\n                         .toList();\n</code></pre>\n\n<p>Seq also supports just Seq.of(names) and will build a JDK Stream under the covers.</p>\n\n<p>The simple-react equivalent would similarly look like </p>\n\n<pre><code> LazyFutureStream.of(names)\n                 .zipWithIndex()\n                 .filter( namesWithIndex -&gt; namesWithIndex.v1.length() &lt;= namesWithIndex.v2 + 1)\n                 .toList();\n</code></pre>\n\n<p>The simple-react version is more tailored for asynchronous / concurrent processing.</p>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/29334431#29334431", "question_id": 18552005, "answer_id": 29334431}, {"body": "<p>Just for completeness here's the solution involving my <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow\">StreamEx</a> library:</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nEntryStream.of(names)\n    .filterKeyValue((idx, str) -&gt; str.length() &lt;= idx+1)\n    .values().toList();\n</code></pre>\n\n<p>Here we create an <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html\" rel=\"nofollow\"><code>EntryStream&lt;Integer, String&gt;</code></a> which extends <code>Stream&lt;Entry&lt;Integer, String&gt;&gt;</code> and adds some specific operations like <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html#filterKeyValue-java.util.function.BiPredicate-\" rel=\"nofollow\"><code>filterKeyValue</code></a> or <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html#values--\" rel=\"nofollow\"><code>values</code></a>. Also <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#toList--\" rel=\"nofollow\"><code>toList()</code></a> shortcut is used.</p>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/32491944#32491944", "question_id": 18552005, "answer_id": 32491944}, {"body": "<p>You can create a static inner class to encapsulate the indexer as I needed to do in example below:</p>\n\n<pre><code>static class Indexer {\n    int i = 0;\n}\n\npublic static String getRegex() {\n    EnumSet&lt;MeasureUnit&gt; range = EnumSet.allOf(MeasureUnit.class);\n    StringBuilder sb = new StringBuilder();\n    Indexer indexer = new Indexer();\n    range.stream().forEach(\n            measureUnit -&gt; {\n                sb.append(measureUnit.acronym);\n                if (indexer.i &lt; range.size() - 1)\n                    sb.append(\"|\");\n\n                indexer.i++;\n            }\n    );\n    return sb.toString();\n}\n</code></pre>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/35387641#35387641", "question_id": 18552005, "answer_id": 35387641}, {"body": "<p>If you don't mind using a third-party library, <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> has <a href=\"https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/ordered/OrderedIterable.html#zipWithIndex--\" rel=\"nofollow\"><code>zipWithIndex</code></a> and <a href=\"https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/ordered/OrderedIterable.html#forEachWithIndex-org.eclipse.collections.api.block.procedure.primitive.ObjectIntProcedure-\" rel=\"nofollow\"><code>forEachWithIndex</code></a> available for use across many types.  Here's a set of solutions to this challenge for both JDK types and Eclipse Collections types using <code>zipWithIndex</code>.</p>\n\n<pre><code>String[] names = { \"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\" };\nImmutableList&lt;String&gt; expected = Lists.immutable.with(\"Erik\");\nPredicate&lt;Pair&lt;String, Integer&gt;&gt; predicate =\n    pair -&gt; pair.getOne().length() &lt;= pair.getTwo() + 1;\n\n// JDK Types\nList&lt;String&gt; strings1 = ArrayIterate.zipWithIndex(names)\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings1);\n\nList&lt;String&gt; list = Arrays.asList(names);\nList&lt;String&gt; strings2 = ListAdapter.adapt(list)\n    .zipWithIndex()\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings2);\n\n// Eclipse Collections types\nMutableList&lt;String&gt; mutableNames = Lists.mutable.with(names);\nMutableList&lt;String&gt; strings3 = mutableNames.zipWithIndex()\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings3);\n\nImmutableList&lt;String&gt; immutableNames = Lists.immutable.with(names);\nImmutableList&lt;String&gt; strings4 = immutableNames.zipWithIndex()\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings4);\n\nMutableList&lt;String&gt; strings5 = mutableNames.asLazy()\n    .zipWithIndex()\n    .collectIf(predicate, Pair::getOne, Lists.mutable.empty());\nAssert.assertEquals(expected, strings5);\n</code></pre>\n\n<p>Here's a solution using <code>forEachWithIndex</code> instead.</p>\n\n<pre><code>MutableList&lt;String&gt; mutableNames =\n    Lists.mutable.with(\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\");\nImmutableList&lt;String&gt; expected = Lists.immutable.with(\"Erik\");\n\nList&lt;String&gt; actual = Lists.mutable.empty();\nmutableNames.forEachWithIndex((name, index) -&gt; {\n        if (name.length() &lt;= index + 1)\n            actual.add(name);\n    });\nAssert.assertEquals(expected, actual);\n</code></pre>\n\n<p>If you change the lambdas to anonymous inner classes above, then all of these code examples will work in Java 5 - 7 as well.</p>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections</p>\n", "title": "Is there a concise way to iterate over a stream with indices in Java 8?", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8/35679577#35679577", "question_id": 18552005, "answer_id": 35679577}], "creation_date": 1377977469, "score": 127, "link": "http://stackoverflow.com/questions/18552005/is-there-a-concise-way-to-iterate-over-a-stream-with-indices-in-java-8", "question_id": 18552005}, {"body": "<p>I'm trying to remove some elements from <code>ArrayList</code> while iterating it like this:</p>\n\n<pre><code>for (String str : myArrayList) {\n        if (someCondition) {\n            myArrayList.remove(str);\n        }\n}\n</code></pre>\n\n<p>Of course, I get <code>ConcurrentModificationException</code> when trying to remove item from the list at the same time when iterating <code>myArrayList</code>. Is there some simple solution to do that right?</p>\n", "tags": ["java", "list", "arraylist", "iterator"], "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "answers": [{"body": "<p>If you want to modify your List during traversal, then you need to use the <code>Iterator</code>. And then you can use <code>iterator.remove()</code> to remove the elements during traversal.</p>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/18448685#18448685", "question_id": 18448671, "answer_id": 18448685}, {"body": "<p>Use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\"><code>Iterator</code></a> and call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html#remove%28%29\"><code>remove()</code></a>:</p>\n\n<pre><code>Iterator&lt;String&gt; iter = myArrayList.iterator();\n\nwhile (iter.hasNext()) {\n    String str = iter.next();\n\n    if (someCondition)\n        iter.remove();\n}\n</code></pre>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/18448699#18448699", "question_id": 18448671, "answer_id": 18448699}, {"body": "<p>You have to use the iterator's remove() method, which means no enhanced for loop:</p>\n\n<pre><code>for (final Iterator iterator = myArrayList.iterator(); iterator.hasNext(); ) {\n    if (someCondition) {\n        iterator.remove(str);\n    }\n}\n</code></pre>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/18448703#18448703", "question_id": 18448671, "answer_id": 18448703}, {"body": "<p>As an alternative to everyone else's answers I've always done something like this:</p>\n\n<pre><code>ArrayList toRemove = new ArrayList();\nfor (String str : myArrayList) {\n    if (someCondition) {\n        toRemove.add(str);\n    }\n}\nmyArrayList.removeAll(toRemove);\n</code></pre>\n\n<p>This will avoid you having to deal with the iterator directly, but requires another list.  I've always preferred this route for whatever reason.</p>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/18448795#18448795", "question_id": 18448671, "answer_id": 18448795}, {"body": "<pre><code>List myArrayList  = Collections.synchronizedList(new ArrayList());\n\n//add your elements  \n myArrayList.add();\n myArrayList.add();\n myArrayList.add();\n\nsynchronized(myArrayList) {\n    Iterator i = myArrayList.iterator(); \n     while (i.hasNext()){\n         Object  object = i.next();\n     }\n }\n</code></pre>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/18449005#18449005", "question_id": 18448671, "answer_id": 18449005}, {"body": "<p>While other suggested solutions work, If you really want the solution to be made thread safe you should replace ArrayList with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\">CopyOnWriteArrayList</a></p>\n\n<pre><code>    //List&lt;String&gt; s = new ArrayList&lt;&gt;(); //Will throw exception\n    List&lt;String&gt; s = new CopyOnWriteArrayList&lt;&gt;();\n    s.add(\"B\");\n    Iterator&lt;String&gt; it = s.iterator();\n    s.add(\"A\");\n\n    //Below removes only \"B\" from List\n    while (it.hasNext()) {\n        s.remove(it.next());\n    }\n    System.out.println(s);\n</code></pre>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/18449125#18449125", "question_id": 18448671, "answer_id": 18449125}, {"body": "<p>Alternate method is like Convert your list to array and iterate them .And remove them directly from the list based on your logic</p>\n\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;(); // You can use either list or set\n\nmyList.add(\"abc\");\nmyList.add(\"abcd\");\nmyList.add(\"abcde\");\nmyList.add(\"abcdef\");\nmyList.add(\"abcdefg\");\n\nObject[] obj = myList.toArray();\n\nfor(Object o:obj)  {\n    if(condition)\n    myList.remove(o.toString());\n  }\n</code></pre>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/19447794#19447794", "question_id": 18448671, "answer_id": 19447794}, {"body": "<p>You can use the iterator remove() function to remove the object from underlying collection object. But in this case you can remove the same object and not any other object from the list.</p>\n\n<p>from <a href=\"http://www.journaldev.com/378/how-to-avoid-concurrentmodificationexception-when-using-an-iterator\" rel=\"nofollow\">here</a> </p>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/23110803#23110803", "question_id": 18448671, "answer_id": 23110803}, {"body": "<p>Java 8 user can do that</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\"a\", \"b\", \"c\"));\n    list.removeIf(e -&gt; (true));\n</code></pre>\n\n<p>It will remove all the elements in the list, if someCondition is satisfied</p>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/23225852#23225852", "question_id": 18448671, "answer_id": 23225852}, {"body": "<p>No, no, NO!</p>\n\n<p>In single threated tasks you don't need to use Iterator, moreover, CopyOnWriteArrayList (due to performance hit).</p>\n\n<p>Solution is much simpler: <strong>try to use canonical for loop instead of for-each loop</strong>.</p>\n\n<p>According to Java copyright owners (some years ago Sun, now Oracle) <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\">for-each loop guide</a>, it uses iterator to walk through collection and just hides it to make code looks better. But, unfortunately as we can see, it produced more problems than profits, otherwise this topic would not arise.</p>\n\n<p>For example, this code will lead to java.util.ConcurrentModificationException when entering next iteration on modified ArrayList:</p>\n\n<pre><code>        // process collection\n        for (SomeClass currElement: testList) {\n\n            SomeClass founDuplicate = findDuplicates(currElement);\n            if (founDuplicate != null) {\n                uniqueTestList.add(founDuplicate);\n                testList.remove(testList.indexOf(currElement));\n            }\n        }\n</code></pre>\n\n<p>But following code works just fine:</p>\n\n<pre><code>    // process collection\n    for (int i = 0; i &lt; testList.size(); i++) {\n        SomeClass currElement = testList.get(i);\n\n        SomeClass founDuplicate = findDuplicates(currElement);\n        if (founDuplicate != null) {\n            uniqueTestList.add(founDuplicate);\n            testList.remove(testList.indexOf(currElement));\n            i--; //to avoid skipping of shifted element\n        }\n    }\n</code></pre>\n\n<p>So, try to use indexing approach for iterating over collections and avoid for-each loop, as they are not equivalent!\nFor-each loop uses some internal iterators, which check collection modification and throw ConcurrentModificationException exception. To confirm this, take a closer look at the printed stack trace when using first example that I've posted:</p>\n\n<pre><code>Exception in thread \"main\" java.util.ConcurrentModificationException\n    at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372)\n    at java.util.AbstractList$Itr.next(AbstractList.java:343)\n    at TestFail.main(TestFail.java:43)\n</code></pre>\n\n<p>For multithreading use corresponding multitask approaches (like synchronized keyword).</p>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/26932469#26932469", "question_id": 18448671, "answer_id": 26932469}, {"body": "<p>Though one answer is accepted and this is an old one, I thought posting this answer as it does not use <code>Iterator</code></p>\n\n<pre><code>for (String str : myArrayList) {\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(myArrayList);//creating copy \n                                                                //of array list\n    list.remove(str);\n    myArrayList = list;\n}\n</code></pre>\n", "title": "How to avoid &quot;ConcurrentModificationException&quot; while removing elements from `ArrayList` while iterating it?", "tags": ["java", "list", "arraylist", "iterator"], "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr/26937769#26937769", "question_id": 18448671, "answer_id": 26937769}], "creation_date": 1377534465, "score": 126, "link": "http://stackoverflow.com/questions/18448671/how-to-avoid-concurrentmodificationexception-while-removing-elements-from-arr", "question_id": 18448671}, {"body": "<p>If String is a class just like any other, how can it be initialized using double quotes?</p>\n", "tags": ["java", "string"], "title": "How can a string be initialized using &quot; &quot;?", "answers": [{"body": "<p>Text inside double quotes creates a literal <code>String</code> object.</p>\n\n<pre><code>String myString = \"Some text\";\n</code></pre>\n\n<p>The code above creates a <code>String</code> object, using double quotes.</p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489334#17489334", "question_id": 17489250, "answer_id": 17489334}, {"body": "<p>String gets special treatment in the JLS: it's one of the two non-primitive types for which literals exist (the other is <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.8.2\"><code>Class</code></a>) <sup>*</sup>.</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\">the JLS</a>: </p>\n\n<blockquote>\n  <p>A string literal is a reference to an instance of class `String [...].</p>\n</blockquote>\n\n<p><sup>* well, there's also <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.7\">the \"null type\"</a> with it's \"null literal\" <code>null</code>, but most people don't think of the \"null type\" as a proper type.</sup></p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489376#17489376", "question_id": 17489250, "answer_id": 17489376}, {"body": "<p>It's a feature of the Java language. String literals in the source code is given special treatment.</p>\n\n<p>The language spec, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\">here</a>, simply says that a string literal is of <code>String</code> type</p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489394#17489394", "question_id": 17489250, "answer_id": 17489394}, {"body": "<p><a href=\"http://www.ntu.edu.sg/home/ehchua/programming/java/J3d_String.html\">Java String is Special</a></p>\n\n<blockquote>\n  <p>The designers of Java decided to retain primitive types in an object-oriented language, instead of making everything an object, so as to improve the performance of the language. Primitives are stored in the call stack, which require less storage spaces and are cheaper to manipulate. On the other hand, objects are stored in the program heap, which require complex memory management and more storage spaces.</p>\n  \n  <p>For performance reason, Java's String is designed to be in between a primitive and a class.</p>\n</blockquote>\n\n<p>For example </p>\n\n<pre><code>String s1 = \"Hello\";              // String literal\nString s2 = \"Hello\";              // String literal\nString s3 = s1;                   // same reference\nString s4 = new String(\"Hello\");  // String object\nString s5 = new String(\"Hello\");  // String object\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/vJwRA.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Note :</strong><em>String literals</em> are stored in a common pool. This facilitates sharing of storage for strings with the same contents to conserve storage. <code>String</code> objects allocated via new operator are stored in the <code>heap</code>, and there is no sharing of storage for the same contents.</p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489410#17489410", "question_id": 17489250, "answer_id": 17489410}, {"body": "<p><code>Java.lang.String</code> is not just a class. It's an integral part of the core language. The compiler has syntactic sugar for it. For example, <code>\"\"</code> is like an abbreviation for <code>new String(\"\")</code>. When written <code>\"\"</code> the compiler optimizes identical strings to the same instance to save space. <code>\"a\" + 5 == \"a5\" ==&gt; true</code></p>\n\n<p>The compiler has syntactic sugar for a lot of stuff, including not having to box/unbox between object versions and their native types, no parent means Object, default constructor, ...</p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489437#17489437", "question_id": 17489250, "answer_id": 17489437}, {"body": "<p>Java treats String as a special class,\nyou can initialize in both ways</p>\n\n<ol>\n<li><p>Directly assigning literal</p>\n\n<pre><code>String a = \"adsasdf\";\n</code></pre></li>\n<li><p>As other Objects using new keyword</p>\n\n<pre><code>String a = new String(\"adsasdf\");\n</code></pre></li>\n</ol>\n\n<p>You need to take special care when you wants to compare with <code>==</code> sign:</p>\n\n<pre><code>String a = \"asdf\";\nString b = \"asdf\";\nSystem.out.println(a == b);  // True\nSystem.out.println(a.equals(b)); // True\n\nString a = new String(\"asdf\");\nString b = new String(\"asdf\");\nSystem.out.println(a == b);  // False\nSystem.out.println(a.equals(b)); // True\n</code></pre>\n\n<p>That is because in first case the objects a and b are kept in something called <code>literal pool</code> and they both are referencing same object so they are equal in both ways.</p>\n\n<p>But in second case a and b references different objects like when we initialize any other objects. so they are unequal when compared with <code>==</code> operator whereas they are equal in values.</p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489453#17489453", "question_id": 17489250, "answer_id": 17489453}, {"body": "<p><strong>-</strong> String is a class in <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"nofollow\">Java</a>. You are right about it, so we can always initialize with the <code>new</code> keyword.</p>\n\n<p><strong>-</strong> But when we do something like:</p>\n\n<p><code>String s = \"\";</code></p>\n\n<p>The above statement is marked by the <strong>compiler</strong> to be a <strong>special String object</strong> and then <strong>JVM during loading</strong> of the class (loading is done before initialization), sees this what is known as a <strong>string literal</strong>, which is stored in a <strong>string literal pool</strong>.</p>\n\n<p><strong>-</strong> So a String can be created using <code>new()</code> and by the <code>\"\"</code> method, but the <strong>latter provides a string literal which stays in the heap even when there is no reference to that string object, because it has a reference from the string literal pool.</strong></p>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489466#17489466", "question_id": 17489250, "answer_id": 17489466}, {"body": "<p>Strings are very often used in a programming language. Since java is object oriented a string is an object. To avoid the cumbersome new String(\"someString\"); statement everytime you need a string object java allows you to just create a string object by using the string literal.</p>\n\n<p>But you should keep in mind the string equality.\nHere a short JUnit test to demonstrate what I mean.</p>\n\n<pre><code>    @Test\n    public void stringTest() {\n       // a string literal and a string object created \n       // with the same literal are equal\n       assertEquals(\"string\", new String(\"string\"));\n\n       // two string literals are the same string object\n       assertSame(\"string\", \"string\"); \n\n       // a string literal is not the same object instance \n       // as a string object created with the same string literal\n       assertFalse(\"string\" == new String(\"string\"));\n\n       // java's String.intern() method gives you the same\n       // string object reference for all strings that are equal.\n       assertSame(\"string\", new String(\"string\").intern());\n    }\n</code></pre>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17489634#17489634", "question_id": 17489250, "answer_id": 17489634}, {"body": "<p>Just to mention. A a string literal is a reference to an instance of class String you can write code like this:</p>\n\n<pre>\n \"abc\".getBytes();\n\n \"a:b:c\".split(\":\");\n\n \"\u611b\".codePointAt(0);\n</pre>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17490418#17490418", "question_id": 17489250, "answer_id": 17490418}, {"body": "<p>Java does a two step process for us.</p>\n\n<pre><code>String str = \"hello\";\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>char data[] = {'h', 'e', 'l' , 'l', 'o'};\nString str = new String(data);\n</code></pre>\n\n<p>Like [.NET][1] got a similar thing.</p>\n\n<pre><code>String(Char[]) constructor\n</code></pre>\n\n<p>does</p>\n\n<pre><code>String(char[] value)\n</code></pre>\n\n<p>Adding references:-</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/String.html</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/system.string.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/system.string.aspx</a></li>\n</ul>\n", "title": "How can a string be initialized using &quot; &quot;?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using/17495965#17495965", "question_id": 17489250, "answer_id": 17495965}], "creation_date": 1373028324, "score": 125, "link": "http://stackoverflow.com/questions/17489250/how-can-a-string-be-initialized-using", "question_id": 17489250}, {"body": "<p>I'm currently configuring hadoop on a server running <em>CentOs</em>. When I run <code>start-dfs.sh</code> or <code>stop-dfs.sh</code>, I get the following error:</p>\n\n<blockquote>\n  <p>WARN util.NativeCodeLoader: Unable to load native-hadoop library for\n  your platform... using builtin-java classes where applicable</p>\n</blockquote>\n\n<p>I'm running <em>Hadoop 2.2.0.</em> </p>\n\n<p>Doing a search online brought up this link: <a href=\"http://balanceandbreath.blogspot.ca/2013/01/utilnativecodeloader-unable-to-load.html\">http://balanceandbreath.blogspot.ca/2013/01/utilnativecodeloader-unable-to-load.html</a></p>\n\n<p>However, the contents of <code>/native/</code> directory on hadoop 2.x appear to be different so I am not sure what to do.</p>\n\n<p>I've also added these two environment variables in <code>hadoop-env.sh</code>:</p>\n\n<blockquote>\n  <p>export HADOOP_OPTS=\"$HADOOP_OPTS\n  -Djava.library.path=/usr/local/hadoop/lib/\"</p>\n  \n  <p>export HADOOP_COMMON_LIB_NATIVE_DIR=\"/usr/local/hadoop/lib/native/\"</p>\n</blockquote>\n\n<p><em>Any ideas?</em></p>\n", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "answers": [{"body": "<p>I assume you're running Hadoop on 64bit CentOS. The reason you saw that warning is the native Hadoop library <code>$HADOOP_HOME/lib/native/libhadoop.so.1.0.0</code> was actually compiled on 32 bit. </p>\n\n<p>Anyway, it's just a warning, and won't impact Hadoop's functionalities.</p>\n\n<p>Here is the way if you do want to eliminate this warning, download the source code of Hadoop  and recompile <code>libhadoop.so.1.0.0</code> on 64bit system, then replace the 32bit one. </p>\n\n<p>Steps on how to recompile source code are included here for Ubuntu:</p>\n\n<ul>\n<li><a href=\"http://www.ercoppa.org/Linux-Compile-Hadoop-220-fix-Unable-to-load-native-hadoop-library.htm\">http://www.ercoppa.org/Linux-Compile-Hadoop-220-fix-Unable-to-load-native-hadoop-library.htm</a></li>\n<li><a href=\"http://www.csrdu.org/nauman/2014/01/23/geting-started-with-hadoop-2-2-0-building/\">http://www.csrdu.org/nauman/2014/01/23/geting-started-with-hadoop-2-2-0-building/</a></li>\n</ul>\n\n<p>Good luck.</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/19993403#19993403", "question_id": 19943766, "answer_id": 19993403}, {"body": "<p>For installing Hadoop it is soooooo much easier installing the free version from Cloudera. It comes with a nice GUI that makes it simple to add nodes, there is no compiling or stuffing around with dependencies, it comes with stuff like hive, pig etc.</p>\n\n<p><a href=\"http://www.cloudera.com/content/support/en/downloads.html\" rel=\"nofollow\">http://www.cloudera.com/content/support/en/downloads.html</a></p>\n\n<p>Steps are:\n1) Download\n2) Run it\n3) Go to web GUI (1.2.3.4:7180)\n4) Add extra nodes in the web gui (do NOT install the cloudera software on other nodes, it does it all for you)\n5) Within the web GUI go to Home, click Hue and Hue Web UI. This gives you access to Hive, Pig, Sqoop etc.</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/22547507#22547507", "question_id": 19943766, "answer_id": 22547507}, {"body": "<p>@zhutoulala -- FWIW your links worked for me with Hadoop 2.4.0 with one exception I had to tell maven not to build the javadocs.  I also used the patch in the first link for 2.4.0 and it worked fine.  Here's the maven command I had to issue</p>\n\n<pre><code>mvn package -Dmaven.javadoc.skip=true -Pdist,native -DskipTests -Dtar\n</code></pre>\n\n<p>After building this and moving the libraries, don't forget to update hadoop-env.sh :)</p>\n\n<p>Thought this might help someone who ran into the same roadblocks as me</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/23307179#23307179", "question_id": 19943766, "answer_id": 23307179}, {"body": "<p>In my case , after I build hadoop on my 64 bit Linux mint OS, I replaced the native library in <code>hadoop/lib</code>. Still the problem persist. Then I figured out the hadoop pointing to <code>hadoop/lib</code> not to the <code>hadoop/lib/native</code>. So I just moved all content from native library to its parent. And the warning just gone.</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/24155779#24155779", "question_id": 19943766, "answer_id": 24155779}, {"body": "<p>I had the same issue. It's solved by adding following lines in <code>.bashrc</code>:</p>\n\n<pre><code>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\nexport HADOOP_OPTS=\"-Djava.library.path=$HADOOP_HOME/lib\"\n</code></pre>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/24854346#24854346", "question_id": 19943766, "answer_id": 24854346}, {"body": "<p>Just append word <em>native</em> to your <code>HADOOP_OPTS</code> like this:</p>\n\n<blockquote>\n  <p>export HADOOP_OPTS=\"$HADOOP_OPTS -Djava.library.path=/usr/local/hadoop/lib/native\"</p>\n</blockquote>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/24927214#24927214", "question_id": 19943766, "answer_id": 24927214}, {"body": "<pre><code>export HADOOP_HOME=/home/hadoop/hadoop-2.4.1  \nexport PATH=$HADOOP_HOME/bin:$PATH  \nexport HADOOP_PREFIX=$HADOOP_HOME  \nexport HADOOP_COMMON_HOME=$HADOOP_PREFIX  \nexport HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_PREFIX/lib/native  \nexport HADOOP_CONF_DIR=$HADOOP_PREFIX/etc/hadoop  \nexport HADOOP_HDFS_HOME=$HADOOP_PREFIX  \nexport HADOOP_MAPRED_HOME=$HADOOP_PREFIX  \nexport HADOOP_YARN_HOME=$HADOOP_PREFIX  \nexport JAVA_LIBRARY_PATH=$HADOOP_HOME/lib/native:$JAVA_LIBRARY_PATH\n</code></pre>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/25319894#25319894", "question_id": 19943766, "answer_id": 25319894}, {"body": "<p>Move your compiled native library files to <code>$HADOOP_HOME/lib</code> folder.</p>\n\n<p>Then set your environment variables by editing <code>.bashrc</code> file</p>\n\n<pre><code>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib  \nexport HADOOP_OPTS=\"$HADOOP_OPTS -Djava.library.path=$HADOOP_HOME/lib\"\n</code></pre>\n\n<p>Make sure your compiled native library files are in <code>$HADOOP_HOME/lib</code> folder.</p>\n\n<p>it should work.</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/26328767#26328767", "question_id": 19943766, "answer_id": 26328767}, {"body": "<p>This also would work:</p>\n\n<pre><code>export LD_LIBRARY_PATH=/usr/lib/hadoop/lib/native\n</code></pre>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/27191234#27191234", "question_id": 19943766, "answer_id": 27191234}, {"body": "<p>This line right here:</p>\n\n<pre><code>export JAVA_LIBRARY_PATH=$HADOOP_HOME/lib/native:$JAVA_LIBRARY_PATH\n</code></pre>\n\n<p>From KunBetter's answer is where the money is</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/29503210#29503210", "question_id": 19943766, "answer_id": 29503210}, {"body": "<p>The answer depends... I just installed Hadoop 2.6 from tarball on 64-bit CentOS 6.6. The Hadoop install did indeed come with a prebuilt 64-bit native library. For my install, it is here:</p>\n\n<pre><code>/opt/hadoop/lib/native/libhadoop.so.1.0.0\n</code></pre>\n\n<p>And I know it is 64-bit:</p>\n\n<pre><code>[hadoop@VMWHADTEST01 native]$ ldd libhadoop.so.1.0.0\n./libhadoop.so.1.0.0: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by ./libhadoop.so.1.0.0)\nlinux-vdso.so.1 =&gt;  (0x00007fff43510000)\nlibdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f9be553a000)\nlibc.so.6 =&gt; /lib64/libc.so.6 (0x00007f9be51a5000)\n/lib64/ld-linux-x86-64.so.2 (0x00007f9be5966000)\n</code></pre>\n\n<p>Unfortunately, I stupidly overlooked the answer right there staring me in the face as I was focuses on, \"Is this library 32 pr 64 bit?\":</p>\n\n<pre><code>`GLIBC_2.14' not found (required by ./libhadoop.so.1.0.0)\n</code></pre>\n\n<p>So, lesson learned. Anyway, the rest at least led me to being able to suppress the warning. So I continued and did everything recommended in the other answers to provide the library path using the HADOOP_OPTS environment variable to no avail. So I looked at the source code. The module that generates the error tells you the hint (<strong>util.NativeCodeLoader</strong>):</p>\n\n<pre><code>15/06/18 18:59:23 WARN util.NativeCodeLoader: Unable to load native-hadoop    library for your platform... using builtin-java classes where applicable\n</code></pre>\n\n<p>So, off to here to see what it does:</p>\n\n<p><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.ning/metrics.action/0.2.6/org/apache/hadoop/util/NativeCodeLoader.java/\">http://grepcode.com/file/repo1.maven.org/maven2/com.ning/metrics.action/0.2.6/org/apache/hadoop/util/NativeCodeLoader.java/</a></p>\n\n<p>Ah, there is some debug level logging - let's turn that on a see if we get some additional help. This is done by adding the following line to $HADOOP_CONF_DIR/log4j.properties file:</p>\n\n<pre><code>log4j.logger.org.apache.hadoop.util.NativeCodeLoader=DEBUG\n</code></pre>\n\n<p>Then I ran a command that generates the original warning, like stop-dfs.sh, and got this goodie:</p>\n\n<pre><code>15/06/18 19:05:19 DEBUG util.NativeCodeLoader: Failed to load native-hadoop with error: java.lang.UnsatisfiedLinkError: /opt/hadoop/lib/native/libhadoop.so.1.0.0: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by /opt/hadoop/lib/native/libhadoop.so.1.0.0)\n</code></pre>\n\n<p>And the answer is revealed in this snippet of the debug message (the same thing that the previous ldd command 'tried' to tell me:</p>\n\n<pre><code>`GLIBC_2.14' not found (required by opt/hadoop/lib/native/libhadoop.so.1.0.0)\n</code></pre>\n\n<p>What version of GLIBC do I have? Here's simple trick to find out:</p>\n\n<pre><code>[hadoop@VMWHADTEST01 hadoop]$ ldd --version\nldd (GNU libc) 2.12\n</code></pre>\n\n<p>So, can't update my OS to 2.14. Only solution is to build the native libraries from sources on my OS or suppress the warning and just ignore it for now. I opted to just suppress the annoying warning for now (but do plan to build from sources in the future) buy using the same logging options we used to get the debug message, except now, just make it ERROR level.</p>\n\n<pre><code>log4j.logger.org.apache.hadoop.util.NativeCodeLoader=ERROR\n</code></pre>\n\n<p>I hope this helps others see that a big benefit of open source software is that you can figure this stuff out if you take some simple logical steps.</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/30927689#30927689", "question_id": 19943766, "answer_id": 30927689}, {"body": "<p>Verified remedy from earlier postings:</p>\n\n<p>1) Checked that the <code>libhadoop.so.1.0.0</code> shipped with the Hadoop distribution was compiled for my machine architecture, which is x86_64:</p>\n\n<pre><code>[nova]:file /opt/hadoop-2.6.0/lib/native/libhadoop.so.1.0.0\n/opt/hadoop-2.6.0/lib/native/libhadoop.so.1.0.0: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=3a80422c78d708c9a1666c1a8edd23676ed77dbb, not stripped\n</code></pre>\n\n<p>2) Added <code>-Djava.library.path=&lt;path&gt;</code> to <code>HADOOP_OPT</code> in <code>hadoop-env.sh</code>:</p>\n\n<pre><code>export HADOOP_OPTS=\"$HADOOP_OPTS -Djava.net.preferIPv4Stack=true -Djava.library.path=/opt/hadoop-2.6.0/lib/native\"\n</code></pre>\n\n<p>This indeed made the annoying warning disappear.</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/31615340#31615340", "question_id": 19943766, "answer_id": 31615340}, {"body": "<p>This line right here:</p>\n\n<pre><code>export JAVA_LIBRARY_PATH=$HADOOP_HOME/lib/native:$JAVA_LIBRARY_PATH\n</code></pre>\n\n<p>From KunBetter's answer, worked for me.\nJust append it to .bashrc file and reload .bashrc contents</p>\n\n<pre><code>$ source ~/.bashrc\n</code></pre>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/32808344#32808344", "question_id": 19943766, "answer_id": 32808344}, {"body": "<p>For those on OSX with Hadoop installed via Homebrew, follow these steps replacing the path and Hadoop version where appropriate</p>\n\n<pre><code>wget http://www.eu.apache.org/dist/hadoop/common/hadoop-2.7.1/hadoop-2.7.1-src.tar.gz\ntar xvf hadoop-2.7.1-src.tar.gz\ncd hadoop-2.7.1-src\nmvn package -Pdist,native -DskipTests -Dtar\nmv lib /usr/local/Cellar/hadoop/2.7.1/\n</code></pre>\n\n<p>then update hadoop-env.sh with</p>\n\n<pre><code>export HADOOP_OPTS=\"$HADOOP_OPTS -Djava.net.preferIPv4Stack=true -Djava.security.krb5.realm= -Djava.security.krb5.kdc= -Djava.library.path=/usr/local/Cellar/hadoop/2.7.1/lib/native\"\n</code></pre>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/34178212#34178212", "question_id": 19943766, "answer_id": 34178212}, {"body": "<p>Firstly: You can modify the glibc version.CentOS provides safe softwares tranditionally,it also means the version is old such as glibc,protobuf ...</p>\n\n<pre><code>ldd --version\nldd /opt/hadoop/lib/native/libhadoop.so.1.0.0\n</code></pre>\n\n<p>You can compare the version of current glibc with needed glibc.</p>\n\n<p>Secondly: If the version of current glibc is old,you can update the glibc. \n<a href=\"http://ftp.gnu.org/gnu/glibc/\" rel=\"nofollow\" title=\"Glibc\">DownLoad Glibc</a></p>\n\n<p>If the version of current glibc id right,you can append word native to your HADOOP_OPTS</p>\n\n<pre><code>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native\nexport HADOOP_OPTS=\"-Djava.library.path=$HADOOP_HOME/lib\"\n</code></pre>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/34477604#34477604", "question_id": 19943766, "answer_id": 34477604}, {"body": "<p>After a continuous research as suggested by KotiI got resolved the issue. </p>\n\n<pre><code>hduser@ubuntu:~$ cd /usr/local/hadoop\n\nhduser@ubuntu:/usr/local/hadoop$ ls\n\nbin  include  libexec      logs        README.txt  share\netc  lib      LICENSE.txt  NOTICE.txt  sbin\n\nhduser@ubuntu:/usr/local/hadoop$ cd lib\n\nhduser@ubuntu:/usr/local/hadoop/lib$ ls\nnative\n\nhduser@ubuntu:/usr/local/hadoop/lib$ cd native/\n\nhduser@ubuntu:/usr/local/hadoop/lib/native$ ls\n\nlibhadoop.a       libhadoop.so        libhadooputils.a  libhdfs.so\nlibhadooppipes.a  libhadoop.so.1.0.0  libhdfs.a         libhdfs.so.0.0.0\n\nhduser@ubuntu:/usr/local/hadoop/lib/native$ sudo mv * ../\n</code></pre>\n\n<p>Cheers</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/34499820#34499820", "question_id": 19943766, "answer_id": 34499820}, {"body": "<p>I had the same problem with JDK6,I changed the JDK to JDK8,the problem solved.\nTry to use JDK8!!!</p>\n", "title": "Hadoop &quot;Unable to load native-hadoop library for your platform&quot; warning", "tags": ["java", "linux", "hadoop", "hadoop2", "nativelibrary"], "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning/37872539#37872539", "question_id": 19943766, "answer_id": 37872539}], "creation_date": 1384307604, "score": 122, "link": "http://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning", "question_id": 19943766}, {"body": "<p>I am getting the following error after importing a project in Eclipse:</p>\n\n<blockquote>\n  <p>The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files</p>\n</blockquote>\n\n<p>However, I have set the path as <strong>C:\\Program Files\\Java\\jdk1.6.0_41</strong> in Eclipse Kepler, through <strong>Menu \u00bb Window \u00bb Preferences \u00bb Java \u00bb Installed JREs</strong>.</p>\n", "tags": ["java", "eclipse"], "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "answers": [{"body": "<p>Object class is the base class for all the classes in java, if you are missing this it means you don't have the jdk libs in your buildpath. I don't know much about Kepler but you need to make sure it points to a correct jdk for compilation and a correct jre for running your java apps.</p>\n\n<blockquote>\n  <p>However I have set the path as C:\\Program Files\\Java\\jdk1.6.0_41 from\n  eclipse Kepler toolbar->windows->preferences->java->installed jre</p>\n</blockquote>\n\n<p>You are trying to point jdk instead of jre in your preferences. toolbar->windows->preferences->java->installed jre should point to a jre and not jdk.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/18075435#18075435", "question_id": 18075343, "answer_id": 18075435}, {"body": "<p>This is an annoying Eclipse Bug which seems to bite now and then. See <a href=\"http://dev-answers.blogspot.de/2009/06/eclipse-build-errors-javalangobject.html\">http://dev-answers.blogspot.de/2009/06/eclipse-build-errors-javalangobject.html</a> for a possible solution, otherwise try the following;</p>\n\n<ul>\n<li>Close the project and reopen it.</li>\n<li><p>Clean the project (It will rebuild the buildpath hence reconfiguring with the JDK libraries)</p>\n\n<p>OR</p></li>\n<li><p>Delete and Re-import the project and if necessary do the above steps again.</p></li>\n</ul>\n\n<p>The better cure is to try NetBeans instead of Eclipse :-)</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/18075742#18075742", "question_id": 18075343, "answer_id": 18075742}, {"body": "<p>Here is how I solved it:\nIn Java-ADT: Windows - Preference - Java - Installed JREs\nJust add another JRE, pointing to the 'jre' folder under your JDK folder. (jre is included in the jdk). Make sure you chose the new jre.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/18494685#18494685", "question_id": 18075343, "answer_id": 18494685}, {"body": "<p>None of the other answers worked for me. But doing this did:</p>\n\n<ol>\n<li>Right click the project in the package explorer.</li>\n<li>Source > Clean up... </li>\n<li>Next > Finish</li>\n</ol>\n\n<p>When I did this Eclipse added an import into one of my classes. I think this occurred because I saved my project with a missing import, probably rushing to get home after work.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/21460555#21460555", "question_id": 18075343, "answer_id": 21460555}, {"body": "<p>The following steps could help:</p>\n\n<ol>\n<li>Right-click on project <strong>\u00bb Properties \u00bb Java Build Path</strong></li>\n<li>Select <strong>Libraries</strong> tab</li>\n<li>Find the JRE System Library and remove it</li>\n<li>Click <strong>Add Library...</strong> button at right side \u00bb Add the JRE System Library (Workspace default JRE)</li>\n</ol>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/21694449#21694449", "question_id": 18075343, "answer_id": 21694449}, {"body": "<p>Another problem could be that the Android Project Build Target is not set.  </p>\n\n<ol>\n<li>Right-click the project</li>\n<li>Choose Properties</li>\n<li>Click Android</li>\n<li>Tick the appropriate Project Build Target</li>\n<li>Apply | OK</li>\n</ol>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/25587342#25587342", "question_id": 18075343, "answer_id": 25587342}, {"body": "<p>This happened to me when I imported a Java 1.8 project from Eclipse Luna into Eclipse Kepler.</p>\n\n<ol>\n<li>Right click on project > Build path > configure build path...</li>\n<li>Select the Libraries tab, you should see the Java 1.8 jre with an error</li>\n<li>Select the java 1.8 jre and click the Remove button</li>\n<li>Add Library... > JRE System Library > Next > workspace default > Finish</li>\n<li>Click OK to close the properties window</li>\n<li>Go to the project menu > Clean... > OK</li>\n</ol>\n\n<p>Et voil\u00e0, that worked for me.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/26119203#26119203", "question_id": 18075343, "answer_id": 26119203}, {"body": "<p>I was facing this issue with play-java application on eclipse after adding a controller,\nI removed and reinstalled JRE through build path and then removed and imported my project which solved this issue automatically.\n Thanks gyro.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/27230124#27230124", "question_id": 18075343, "answer_id": 27230124}, {"body": "<p>Right click on project -->Show in Navigator \nIn navigator view you can see .classpath file, do delete this file and build the project. This worked for me.\nPS. If you have integrated you eclipse project with some version control like perfoce/svn , then unlinking the project before you delete the .classpath will be helpful.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/28398462#28398462", "question_id": 18075343, "answer_id": 28398462}, {"body": "<p>I had same problem in eclipse windows that I couldn't added dependant .class files from the JNI.\nIn order resolve the same, I ported all the code to NetBeans IDE.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29937206/can-not-add-all-the-classes-files-from-the-classes-folder-in-eclipse-java-wind\">Can not add all the classes files from the JNI/JNA folder in Eclipse (JAVA, Windows 7)</a></p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/29967479#29967479", "question_id": 18075343, "answer_id": 29967479}, {"body": "<p>This seems to be an Eclipse bug, though restarting Eclipse worked great for me, hope this helps somebody else too.</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/37057247#37057247", "question_id": 18075343, "answer_id": 37057247}, {"body": "<p>What solved my problem was to</p>\n\n<p>1) Install the jdk under directory with no spaces:</p>\n\n<pre><code>C:/Java\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>C:/Program Files/Java\n</code></pre>\n\n<p>This is a known issue in Windows. I fixed <code>JAVA_HOME</code> as well</p>\n\n<p>2) I java 7 and java 8 on my laptop. So I defined the jvm using <code>eclipse.ini</code>. This is not a mandatory step if you don't have <code>-vm</code> entry in your <code>eclipse.ini</code>. I updated:</p>\n\n<pre><code>C:/Java/jdk1.7.0_79/jre/bin/javaw.exe\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>C:/Java/jdk1.7.0_79/bin/javaw.exe\n</code></pre>\n\n<p>Good luck</p>\n", "title": "Java project in Eclipse: The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind/37833805#37833805", "question_id": 18075343, "answer_id": 37833805}], "creation_date": 1375778196, "score": 119, "link": "http://stackoverflow.com/questions/18075343/java-project-in-eclipse-the-type-java-lang-object-cannot-be-resolved-it-is-ind", "question_id": 18075343}, {"body": "<p>i have a class  named Fruit i creating a list of this class and add each fruit in each objects i want to sort this list based on the order of name</p>\n\n<pre><code>public class Fruit{\n\n    private String fruitName;\n    private String fruitDesc;\n    private int quantity;\n\n    public String getFruitName() {\n        return fruitName;\n    }\n    public void setFruitName(String fruitName) {\n        this.fruitName = fruitName;\n    }\n    public String getFruitDesc() {\n        return fruitDesc;\n    }\n    public void setFruitDesc(String fruitDesc) {\n        this.fruitDesc = fruitDesc;\n    }\n    public int getQuantity() {\n        return quantity;\n    }\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n}\n</code></pre>\n\n<p>and i create its list using for loop</p>\n\n<pre><code>List&lt;Fruit&gt;  fruits= new ArrayList&lt;Fruit&gt;();\n\nFruit fruit;\nfor(int i=0;i&lt;100;i++)\n{\n   fruit = new fruit();\n   fruit.setname(...);\n   fruits.add(fruit);\n}\n</code></pre>\n\n<p>and i need to sort this arraylist using the fruit name in each objet in the list</p>\n\n<p>how??</p>\n", "tags": ["java", "sorting", "collections", "arraylist"], "title": "How to sort an ArrayList in Java", "answers": [{"body": "<p>Implement <strong>Comparable</strong> interface to Fruit.</p>\n\n<pre><code>public class Fruit implements Comparable&lt;Fruit&gt; {\n</code></pre>\n\n<p>It implements the method</p>\n\n<pre><code>@Override\n    public int compareTo(Fruit fruit) {\n        //write code here for compare name\n    }\n</code></pre>\n\n<p>Then do call sort method</p>\n\n<pre><code>Collections.sort(fruitList);\n</code></pre>\n", "title": "How to sort an ArrayList in Java", "tags": ["java", "sorting", "collections", "arraylist"], "link": "http://stackoverflow.com/questions/18441846/how-to-sort-an-arraylist-in-java/18441875#18441875", "question_id": 18441846, "answer_id": 18441875}, {"body": "<p>Try <a href=\"http://www.java2s.com/Code/Java/Apache-Common/BeanComparatorSortingbasedonPropertiesofclass.htm\">BeanComparator</a></p>\n\n<pre><code>BeanComparator fieldComparator = new BeanComparator(\n                \"fruitName\");\nCollections.sort(fruits, fieldComparator);\n</code></pre>\n", "title": "How to sort an ArrayList in Java", "tags": ["java", "sorting", "collections", "arraylist"], "link": "http://stackoverflow.com/questions/18441846/how-to-sort-an-arraylist-in-java/18441879#18441879", "question_id": 18441846, "answer_id": 18441879}, {"body": "<p>Use a <code>Comparator</code> like this:</p>\n\n<pre><code>List&lt;Fruit&gt; fruits= new ArrayList&lt;Fruit&gt;();\n\nFruit fruit;\nfor(int i = 0; i &lt; 100; i++)\n{\n  fruit = new Fruit();\n  fruit.setname(...);\n  fruits.add(fruit);\n}\n\n// Sorting\nCollections.sort(fruits, new Comparator&lt;Fruit&gt;() {\n        @Override\n        public int compare(Fruit fruit2, Fruit fruit1)\n        {\n\n            return  fruit1.fruitName.compareTo(fruit2.fruitName);\n        }\n    });\n</code></pre>\n\n<p>Now your fruits list is sorted based on <code>fruitName</code>.</p>\n", "title": "How to sort an ArrayList in Java", "tags": ["java", "sorting", "collections", "arraylist"], "link": "http://stackoverflow.com/questions/18441846/how-to-sort-an-arraylist-in-java/18441978#18441978", "question_id": 18441846, "answer_id": 18441978}], "creation_date": 1377512405, "score": 117, "link": "http://stackoverflow.com/questions/18441846/how-to-sort-an-arraylist-in-java", "question_id": 18441846}, {"body": "<p>I'm developing an Android app. I need to build a URI for my app, to make an API request. Unless there's another way to put a variable in a URI, this is the easiest way I've found. I found that you need to use <code>Uri.Builder</code>, but I'm not quite sure how to. My url is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key=[redacted]&amp;mapid=`value`. \n</code></pre>\n\n<p>My scheme is http, authority <code>lapi.transitchicago.com</code>, path <code>/api/1.0</code>, path segments <code>ttarrivals.aspx</code>, and query <code>*key=[redacted]&amp;mapid=</code>value<code>*</code>. </p>\n\n<p>My code is below:</p>\n\n<pre><code>Intent intent = getIntent();\nString value = intent.getExtras().getString(\"value\");\nUri.Builder builder = new Uri.Builder();\nbuilder.scheme(\"http\")\n    .authority(\"www.lapi.transitchicago.com\")\n    .appendPath(\"api\")\n    .appendPath(\"1.0\")\n    .appendPath(\"ttarrivals.aspx\")\n    .appendQueryParameter(\"key\", \"[redacted]\")\n    .appendQueryParameter(\"mapid\", value);\n</code></pre>\n\n<p>I understand that I do uri.add, but how do I integrate it into the <code>Uri.Builder</code>? Would I add every thing, like <code>URI.add(scheme)</code>, <code>URI.add(authority)</code>, and so on? Or is that not the way to do it? Also, is there any other way to add a variable to a URI/URL that is easier?</p>\n\n<p>Thank you for your help.</p>\n", "tags": ["java", "android", "url", "uri", "uribuilder"], "title": "Use URI builder in Android or create URL with variables", "answers": [{"body": "<p>Let's say that I want to create the following URL:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>https://www.myawesomesite.com/turtles/types?type=1&amp;sort=relevance#section-name\n</code></pre>\n\n<p>To build this with the <a href=\"http://developer.android.com/reference/android/net/Uri.Builder.html\"><code>Uri.Builder</code></a> I would do the following.</p>\n\n<pre><code>Uri.Builder builder = new Uri.Builder();\nbuilder.scheme(\"https\")\n    .authority(\"www.myawesomesite.com\")\n    .appendPath(\"turtles\")\n    .appendPath(\"types\")\n    .appendQueryParameter(\"type\", \"1\")\n    .appendQueryParameter(\"sort\", \"relevance\")\n    .fragment(\"section-name\");\nString myUrl = builder.build().toString();\n</code></pre>\n", "title": "Use URI builder in Android or create URL with variables", "tags": ["java", "android", "url", "uri", "uribuilder"], "link": "http://stackoverflow.com/questions/19167954/use-uri-builder-in-android-or-create-url-with-variables/19168199#19168199", "question_id": 19167954, "answer_id": 19168199}, {"body": "<p>There is another way of using <code>Uri</code> and we can achieve the same goal</p>\n\n<pre><code>http://api.example.org/data/2.5/forecast/daily?q=94043&amp;mode=json&amp;units=metric&amp;cnt=7\n</code></pre>\n\n<p>To build the Uri you can even use this</p>\n\n<pre><code>final String FORECAST_BASE_URL = \n    \"http://api.example.org/data/2.5/forecast/daily?\";\nfinal String QUERY_PARAM = \"q\";\nfinal String FORMAT_PARAM = \"mode\";\nfinal String UNITS_PARAM = \"units\";\nfinal String DAYS_PARAM = \"cnt\";\n</code></pre>\n\n<p>You can declare all this the above way or even inside the <code>Uri.parse()</code> and <code>appendQueryParameter()</code></p>\n\n<pre><code>Uri builtUri = Uri.parse(FORECAST_BASE_URL)\n    .buildUpon()\n    .appendQueryParameter(QUERY_PARAM, params[0])\n    .appendQueryParameter(FORMAT_PARAM, \"json\")\n    .appendQueryParameter(UNITS_PARAM, \"metric\")\n    .appendQueryParameter(DAYS_PARAM, Integer.toString(7))\n    .build();\n</code></pre>\n\n<p>At last</p>\n\n<pre><code>URL url = new URL(builtUri.toString());\n</code></pre>\n\n<ul>\n<li>Source: <a href=\"https://github.com/udacity/Sunshine-Version-2/blob/2.07_build_url_with_params/app/src/main/java/com/example/android/sunshine/app/ForecastFragment.java#L141\">Udacity Android course / Sunshine app</a></li>\n</ul>\n", "title": "Use URI builder in Android or create URL with variables", "tags": ["java", "android", "url", "uri", "uribuilder"], "link": "http://stackoverflow.com/questions/19167954/use-uri-builder-in-android-or-create-url-with-variables/27880096#27880096", "question_id": 19167954, "answer_id": 27880096}, {"body": "<p>for the example in the <code>second</code> <code>Answer</code> I used this technique for the same URL</p>\n\n<p><code>http://api.example.org/data/2.5/forecast/daily?q=94043&amp;mode=json&amp;units=metric&amp;cnt=7</code></p>\n\n<pre><code>Uri.Builder builder = new Uri.Builder();\n            builder.scheme(\"https\")\n                    .authority(\"api.openweathermap.org\")\n                    .appendPath(\"data\")\n                    .appendPath(\"2.5\")\n                    .appendPath(\"forecast\")\n                    .appendPath(\"daily\")\n                    .appendQueryParameter(\"q\", params[0])\n                    .appendQueryParameter(\"mode\", \"json\")\n                    .appendQueryParameter(\"units\", \"metric\")\n                    .appendQueryParameter(\"cnt\", \"7\")\n                    .appendQueryParameter(\"APPID\", BuildConfig.OPEN_WEATHER_MAP_API_KEY);\n</code></pre>\n\n<p>then after finish building it get it as <code>URL</code> like this</p>\n\n<pre><code>URL url = new URL(builder.build().toString());\n</code></pre>\n\n<p>and open a connection</p>\n\n<pre><code>  HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n</code></pre>\n\n<p>and if link is <code>simple</code> like location uri, for example </p>\n\n<p><code>geo:0,0?q=29203</code></p>\n\n<pre><code>Uri geoLocation = Uri.parse(\"geo:0,0?\").buildUpon()\n            .appendQueryParameter(\"q\",29203).build();\n</code></pre>\n", "title": "Use URI builder in Android or create URL with variables", "tags": ["java", "android", "url", "uri", "uribuilder"], "link": "http://stackoverflow.com/questions/19167954/use-uri-builder-in-android-or-create-url-with-variables/34642865#34642865", "question_id": 19167954, "answer_id": 34642865}, {"body": "<p>Excellent answer from above turned into a simple utility method.</p>\n\n<pre><code>private Uri buildURI(String url, Map&lt;String, String&gt; params) {\n\n    // build url with parameters.\n    Uri.Builder builder = Uri.parse(url).buildUpon();\n    for (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\n        builder.appendQueryParameter(entry.getKey(), entry.getValue());\n    }\n\n    return builder.build();\n}\n</code></pre>\n", "title": "Use URI builder in Android or create URL with variables", "tags": ["java", "android", "url", "uri", "uribuilder"], "link": "http://stackoverflow.com/questions/19167954/use-uri-builder-in-android-or-create-url-with-variables/34732179#34732179", "question_id": 19167954, "answer_id": 34732179}], "creation_date": 1380829612, "score": 113, "link": "http://stackoverflow.com/questions/19167954/use-uri-builder-in-android-or-create-url-with-variables", "question_id": 19167954}, {"body": "<p>I have seen similar questions, but haven't yet found the answer. </p>\n\n<p>Using maven compile, I get: </p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project api: Fatal error compiling: invalid target release: 1.7 -&gt; [Help 1]\n</code></pre>\n\n<p>Here is the pom.xml:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Javac version:</p>\n\n<pre><code>javac 1.7.0_25\n</code></pre>\n\n<p>Java version:</p>\n\n<pre><code>java version \"1.7.0_25\"\nJava(TM) SE Runtime Environment (build 1.7.0_25-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 23.25-b01, mixed mode)\n</code></pre>\n\n<p>Any idea what it could be?</p>\n", "tags": ["java", "maven", "java-7"], "title": "invalid target release: 1.7", "answers": [{"body": "<p>You need to set JAVA_HOME to your jdk7 home directory, for example on Microsoft Windows:</p>\n\n<ul>\n<li>\"C:\\Program Files\\Java\\jdk1.7.0_40\" </li>\n</ul>\n\n<p>or on OS X:</p>\n\n<ul>\n<li>/Library/Java/JavaVirtualMachines/jdk1.7.0_40.jdk/Contents/Home </li>\n</ul>\n", "title": "invalid target release: 1.7", "tags": ["java", "maven", "java-7"], "link": "http://stackoverflow.com/questions/19891423/invalid-target-release-1-7/20218158#20218158", "question_id": 19891423, "answer_id": 20218158}, {"body": "<p>Other than setting <code>JAVA_HOME</code> environment variable, you got to make sure you are using the correct JDK in your Maven run configuration. Go to <em>Run</em> -> <em>Run Configuration</em>, select your Maven Build configuration, go to JRE tab and set the correct Runtime JRE.</p>\n\n<p><img src=\"http://i.stack.imgur.com/wDS74.png\" alt=\"Maven run configuration\"></p>\n", "title": "invalid target release: 1.7", "tags": ["java", "maven", "java-7"], "link": "http://stackoverflow.com/questions/19891423/invalid-target-release-1-7/21978308#21978308", "question_id": 19891423, "answer_id": 21978308}, {"body": "<p>When maven is working outside of Eclipse, but giving this error after a JDK change, Go to your Maven Run Configuration, and at the bottom of the Main page, there's a 'Maven Runtime' option.  Mine was using the Embedded Maven, so after switching it to use my external maven, it worked.</p>\n", "title": "invalid target release: 1.7", "tags": ["java", "maven", "java-7"], "link": "http://stackoverflow.com/questions/19891423/invalid-target-release-1-7/22071044#22071044", "question_id": 19891423, "answer_id": 22071044}, {"body": "<p>In IntelliJ IDEA this happened to me when I imported a project that had been working fine and running with Java 1.7. I apparently hadn't notified IntelliJ that java 1.7 had been installed on my machine, and it wasn't finding my <code>$JAVA_HOME</code>.</p>\n\n<p>On a Mac, this is resolved by:</p>\n\n<p>Right clicking on the module | Module Settings | Project </p>\n\n<p>and adding the 1.7 SDK by selecting \"New\" in the Project SDK.</p>\n\n<p>Then go to the main IntelliJ IDEA menu | Preferences | Maven | Runner</p>\n\n<p>and select the correct JRE. In my case it updated correctly Use Project SDK, which was now 1.7.</p>\n", "title": "invalid target release: 1.7", "tags": ["java", "maven", "java-7"], "link": "http://stackoverflow.com/questions/19891423/invalid-target-release-1-7/25374706#25374706", "question_id": 19891423, "answer_id": 25374706}, {"body": "<p>This probably works for a lot of things but it's not enough for Maven and certainly not for the maven compiler plugin.</p>\n\n<p>Check Mike's answer to his own question here:\n<a href=\"http://stackoverflow.com/questions/24705877/cant-get-maven-to-recognize-java-1-8\">stackoverflow question 24705877</a></p>\n\n<p>This solved the issue for me both command line AND within eclipse.</p>\n\n<p>Also, @LinGao answer to <a href=\"http://stackoverflow.com/questions/2503658/specify-jdk-for-maven-to-use\">stackoverflow question 2503658</a> and the use of the  $JAVACMD variable might help but I haven't tested it myself.</p>\n", "title": "invalid target release: 1.7", "tags": ["java", "maven", "java-7"], "link": "http://stackoverflow.com/questions/19891423/invalid-target-release-1-7/33350028#33350028", "question_id": 19891423, "answer_id": 33350028}], "creation_date": 1384096812, "score": 112, "link": "http://stackoverflow.com/questions/19891423/invalid-target-release-1-7", "question_id": 19891423}, {"body": "<p>Here is my code: </p>\n\n<pre><code>class A {\n    static A obj = new A();\n    static int num1;\n    static int num2=0;\n\n    private A() {\n        num1++;\n        num2++;\n    }\n    public static A getInstance() {\n        return obj;\n    }\n}\n\npublic class Main{\n    public static void main(String[] arg) {\n        A obj = A.getInstance();\n        System.out.println(obj.num1);\n        System.out.println(obj.num2);\n    }\n}\n</code></pre>\n\n<p>The output is <code>1 0</code>, but I can't understand.</p>\n\n<p>Can somebody explain it to me?</p>\n", "tags": ["java", "static"], "title": "How does the static modifier affect this code?", "answers": [{"body": "<p>1,0 is correct.</p>\n\n<p>When the class is loaded all static data is initialized in oder they are declared. By default int is 0. </p>\n\n<ul>\n<li>first A is created. num1 and num2 becoming 1 and 1 </li>\n<li>than <code>static int num1;</code> does nothing </li>\n<li>than <code>static int num2=0;</code> this writes 0 to num2</li>\n</ul>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20115754#20115754", "question_id": 20115672, "answer_id": 20115754}, {"body": "<p>In Java two phases take place: 1. Identification, 2. Execution</p>\n\n<ol>\n<li><p>In <strong>identification</strong> phase all static variables are detected and initialized with default values.</p>\n\n<p>So now the values are:<br>\n<code>A obj=null</code><br>\n<code>num1=0</code><br>\n<code>num2=0</code></p></li>\n<li><p>The second phase, <strong>execution</strong>, starts from top to bottom. In Java, the execution starts from the first static members.<br>\nHere your first static variable is <code>static A obj = new A();</code>,  so first it will create the object of that variable and call the constructor, hence the value of <code>num1</code> and <code>num2</code> becomes <code>1</code>.<br>\nAnd then, again, <code>static int num2=0;</code> will be executed, which makes <code>num2 = 0;</code>.</p></li>\n</ol>\n\n<p>Now, suppose your constructor is like this:</p>\n\n<pre><code> private A(){\n    num1++;\n    num2++;\n    System.out.println(obj.toString());\n }\n</code></pre>\n\n<p>This will throw a <code>NullPointerException</code> as <code>obj</code> still has not got a reference of  <code>class A</code>.</p>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20115756#20115756", "question_id": 20115672, "answer_id": 20115756}, {"body": "<p>It is due to the order of the static initializers. Static expressions in classes are evaluated  in a top-down order.</p>\n\n<p>The first to be called is the constructor of <code>A</code>, which sets <code>num1</code> and <code>num2</code> both to 1:</p>\n\n<p><code>static A obj = new A();</code></p>\n\n<p>Then,</p>\n\n<pre><code>static int num2=0;\n</code></pre>\n\n<p>is called and sets num2=0 again.</p>\n\n<p>That is why <code>num1</code> is 1 and <code>num2</code> is 0.</p>\n\n<p>As a side note, a constructor should not modify static variables, that is very bad design. Instead, try a different approach to <a href=\"http://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">implementing a Singleton in Java</a>.</p>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20115783#20115783", "question_id": 20115672, "answer_id": 20115783}, {"body": "<p>The static keyword is used in java mainly for memory management. We may apply static keyword with variables, methods, blocks and nested class. The static keyword belongs to the class than instance of the class.For brief explanation about static keyword :</p>\n\n<p><a href=\"http://www.javatpoint.com/static-keyword-in-java\" rel=\"nofollow\">http://www.javatpoint.com/static-keyword-in-java</a></p>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20115796#20115796", "question_id": 20115672, "answer_id": 20115796}, {"body": "<p>What the <code>static</code> modifier means when applied to a variable declaration is that the variable is a class variable rather than an instance variable.  In other words ... there is only one <code>num1</code> variable, and only one <code>num2</code> variable.</p>\n\n<p>(Aside: a  static variable is <em>like</em> a global variable in some other languages, except that its name is not visible everywhere.  Even if it is declared as a <code>public static</code>, the unqualified name is only visible if it is declared in the current class or a superclass, or if it is imported using a static import.  That's the distinction.  A true global is visible without qualification anywhere.)</p>\n\n<p>So when you refer to <code>obj.num1</code> and <code>obj.num2</code>, you are actually referring to <em>the</em> static variables whose real designations are <code>A.num1</code> and <code>A.num2</code>.  And similarly, when the constructor increments <code>num1</code> and <code>num2</code>, it is incrementing the same variables (respectively).</p>\n\n<p>The confusing wrinkle in your example is in the class initialization.  A class is initialized by first <em>default initializing</em> all of the static variables, and then executing the declared static initializers (and static initializer blocks) in the order that they appear in the class.  In this case, you have this:</p>\n\n<pre><code>static A obj = new A();\nstatic int num1;\nstatic int num2=0;\n</code></pre>\n\n<p>It happens like this:</p>\n\n<ol>\n<li><p>The statics start out with their default initial values; <code>A.obj</code> is <code>null</code> and <code>A.num1</code> / <code>A.num2</code> are zero.</p></li>\n<li><p>The first declaration (<code>A.obj</code>) creates an instance of <code>A()</code>, and the constructor for <code>A</code> increments <code>A.num1</code> and <code>A.num2</code>.  When the declaration completes, <code>A.num1</code> and <code>A.num2</code> are both <code>1</code>, and <code>A.obj</code> refers to the newly constructed <code>A</code> instance.</p></li>\n<li><p>The second declaration (<code>A.num1</code>) has no initializer, so <code>A.num1</code> doesn't change.</p></li>\n<li><p>The third declaration (<code>A.num2</code>) has an initializer that assigns zero to <code>A.num2</code>.</p></li>\n</ol>\n\n<p>Thus, at the end of the class initialization, <code>A.num1</code> is <code>1</code> and <code>A.num2</code> is <code>0</code> ... and that's what your print statements show.</p>\n\n<p>This confusing behaviour is really down to the fact that you are creating an instance before the static initialization has completed, and that the constructor you are using depends on <em>and modifies</em> a static that is yet to be initialized.  This something that you should avoid doing in real code.</p>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20115914#20115914", "question_id": 20115672, "answer_id": 20115914}, {"body": "<p>java does not  initializes the value of any static or non static data member till it is not called but it creates it.</p>\n\n<p>so So that here when  num1 and num2 will be called in main then it will get initialized with values</p>\n\n<p>num1 = 0+1; and</p>\n\n<p>num2=0;</p>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20123643#20123643", "question_id": 20115672, "answer_id": 20123643}, {"body": "<p>A section in JLS can be found: <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#44557\">\u00a712.4.2</a>. </p>\n\n<blockquote>\n  <p>Detailed Initialization Procedure:</p>\n  \n  <p>9.Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\n  in textual order, <strong>as though they were a single block, except that\n  final class variables and fields of interfaces whose values are\n  compile-time constants are initialized first</strong></p>\n</blockquote>\n\n<p>So the three static variable will be initialized one by one in textual order. </p>\n\n<p>So </p>\n\n<pre><code>static A obj = new A();\n//num1 = 1, num2 = 1;\nstatic int num1;\n//this is initilized first, see below.\nstatic int num2=0;\n//num1 = 1, num2 = 0;\n</code></pre>\n\n<p>If I change the order to:</p>\n\n<pre><code>static int num1;\nstatic int num2=0;\nstatic A obj = new A();\n</code></pre>\n\n<p>The result will be <code>1,1</code>.</p>\n\n<p>Note that the <code>static int num1;</code> is not a variable initializer because(<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#38010\">\u00a78.3.2</a>): </p>\n\n<blockquote>\n  <p>If a field declarator contains a variable initializer, then it has the\n  semantics of an assignment (\u00a715.26) to the declared variable, and: If\n  the declarator is for a class variable (that is, a static field), then\n  the variable initializer is evaluated and the assignment performed\n  exactly once, when the class is initialized</p>\n</blockquote>\n\n<p>And this class variable is initialized when the class is created. This happens first(<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#96595\">\u00a74.12.5</a>).</p>\n\n<blockquote>\n  <p>Every variable in a program must have a value before its value is\n  used: Each class variable, instance variable, or array component is\n  initialized with a default value when it is created (\u00a715.9, \u00a715.10):\n  For type byte, the default value is zero, that is, the value of\n  (byte)0. For type short, the default value is zero, that is, the value\n  of (short)0. For type int, the default value is zero, that is, 0. For\n  type long, the default value is zero, that is, 0L. For type float, the\n  default value is positive zero, that is, 0.0f. For type double, the\n  default value is positive zero, that is, 0.0d. For type char, the\n  default value is the null character, that is, '\\u0000'. For type\n  boolean, the default value is false. For all reference types (\u00a74.3),\n  the default value is null.</p>\n</blockquote>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20135759#20135759", "question_id": 20115672, "answer_id": 20135759}, {"body": "<p>Maybe it will help to think of it in this way.</p>\n\n<p>Classes are blueprints for objects.</p>\n\n<p>Objects can have variables when they are instantiated.</p>\n\n<p>Classes can also have variables. These are declared as static. So they are set on the class rather than the object instances.</p>\n\n<p>You can only every have one of any class in an application so it's kind of like global storage specifically for that class. These static variables can of course be accessed and modified from anywhere in your application (assuming they are public).</p>\n\n<p>Here is and example of a \"Dog\" class that uses static variable to track the number of instances it has created.</p>\n\n<p>\"Dog\" class is the cloud while the Orange boxes are \"Dog\" instances.</p>\n\n<p><img src=\"http://www.cis.upenn.edu/~matuszek/General/JavaSyntax/Images/static1.gif\" alt=\"Dog class\"></p>\n\n<p><a href=\"http://www.cis.upenn.edu/~matuszek/General/JavaSyntax/static.html\" rel=\"nofollow\">read more</a></p>\n\n<p>Hope this helps!</p>\n\n<p>If you feel like some trivia, this idea was first introduced by <a href=\"http://en.wikipedia.org/wiki/Plato#Theory_of_Forms\" rel=\"nofollow\">Plato</a></p>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20136611#20136611", "question_id": 20115672, "answer_id": 20136611}, {"body": "<p>Many of the answers above are correct.  But really to illustrate what is happening I've made some small modifications below.</p>\n\n<p>As mentioned multiple times above, what's happening is a instance of class A is being created before class A is fully loaded.  So what is considered the normal 'behavior' is not observed.  This is not too dissimilar to calling methods from a constructor that can be overridden.  In that case, instance variables may not be in an intuitive state.  In this example class variables are not in an intuitive state.</p>\n\n<pre><code>class A {\n    static A obj = new A();\n    static int num1;\n    static int num2;\n    static {\n        System.out.println(\"Setting num2 to 0\");\n        num2 = 0;\n    }\n\n    private A() {\n        System.out.println(\"Constructing singleton instance of A\");\n        num1++;\n        num2++;\n    }\n\n    public static A getInstance() {\n        return obj;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] arg) {\n        A obj = A.getInstance();\n        System.out.println(obj.num1);\n        System.out.println(obj.num2);\n    }\n}\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Constructing singleton instance of A\nSetting num2 to 0\n1\n0\n</code></pre>\n", "title": "How does the static modifier affect this code?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code/20227687#20227687", "question_id": 20115672, "answer_id": 20227687}], "creation_date": 1385021942, "score": 109, "link": "http://stackoverflow.com/questions/20115672/how-does-the-static-modifier-affect-this-code", "question_id": 20115672}, {"body": "<p>I have a vertical LinearLayout where one of the items is an <code>ImageView</code> loaded using Picasso. I need to rise the image's width to the full device width, and to display the center part of the image cropped by a fixed height (150dp). I currently have the following code:</p>\n\n<pre><code>Picasso.with(getActivity()) \n    .load(imageUrl) \n    .placeholder(R.drawable.placeholder) \n    .error(R.drawable.error) \n    .resize(screenWidth, imageHeight)\n    .centerInside() \n    .into(imageView);\n</code></pre>\n\n<p>Which values should I put into <code>screenWidth</code> and <code>imageHeight</code> (=150dp)?</p>\n", "tags": ["java", "android", "imageview", "image-resizing", "picasso"], "title": "Resize image to full width and fixed height with Picasso", "answers": [{"body": "<p>You are looking for:</p>\n\n<pre><code>.fit().centerCrop()\n</code></pre>\n\n<p>What these mean:</p>\n\n<ul>\n<li><code>fit</code> - wait until the <code>ImageView</code> has been measured and resize the image to exactly match its size.</li>\n<li><code>centerCrop</code> - scale the image honoring the aspect ratio until it fills the size. Crop either the top and bottom or left and right so it matches the size exactly.</li>\n</ul>\n", "title": "Resize image to full width and fixed height with Picasso", "tags": ["java", "android", "imageview", "image-resizing", "picasso"], "link": "http://stackoverflow.com/questions/20823249/resize-image-to-full-width-and-fixed-height-with-picasso/20824141#20824141", "question_id": 20823249, "answer_id": 20824141}, {"body": "<p>Firstly I changed the Picasso call to</p>\n\n<pre><code>Picasso.with(this.context).load(message_pic_url)\n       .placeholder(R.drawable.profile_wall_picture)\n       .into(holder.message_picture);\n</code></pre>\n\n<p>Removing the fit and the centerInside. Next you need to add the following lines to the ImageView in your XML</p>\n\n<pre><code>android:scaleType=\"fitStart\"\nandroid:adjustViewBounds=\"true\"\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/questions/21889735/resize-image-to-full-width-and-variable-height-with-picasso\">Resize image to full width and variable height with Picasso</a> </p>\n", "title": "Resize image to full width and fixed height with Picasso", "tags": ["java", "android", "imageview", "image-resizing", "picasso"], "link": "http://stackoverflow.com/questions/20823249/resize-image-to-full-width-and-fixed-height-with-picasso/36905704#36905704", "question_id": 20823249, "answer_id": 36905704}], "creation_date": 1388304127, "score": 107, "link": "http://stackoverflow.com/questions/20823249/resize-image-to-full-width-and-fixed-height-with-picasso", "question_id": 20823249}, {"body": "<p>I was going through a document and I came across a term called <code>DAO</code>. I found out that it is a Data Access Object. Can someone please explain me what this actually is? </p>\n\n<p>I know that it is some kind of an interface for accessing data from different types of sources, in the middle of this little research of mine I bumped into a concept called data source or data source object, and things got messed up in my mind. </p>\n\n<p>I really want to know what a <code>DAO</code> is programmatically in terms of where it is used. How it is used? Any links to pages that explain this concept from the very basic stuff is also appreciated.</p>\n", "tags": ["java", "dao"], "title": "Data access object (DAO) in Java", "answers": [{"body": "<p>The Data Access Object is basically an object or an interface that provides access to an underlying database or any other persistence storage. </p>\n\n<p>That definition from:\n<a href=\"http://en.wikipedia.org/wiki/Data_access_object\">http://en.wikipedia.org/wiki/Data_access_object</a></p>\n\n<p>Check also the sequence diagram here: \n<a href=\"http://www.oracle.com/technetwork/java/dataaccessobject-138824.html\">http://www.oracle.com/technetwork/java/dataaccessobject-138824.html</a></p>\n\n<p>Maybe a simple example can help you understand the concept:</p>\n\n<p>Let's say we have an entity to represent an employee:</p>\n\n<pre><code>public class Employee {\n\n    private int id;\n    private String name;\n\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p>The employee entities will be persisted into a corresponding <strong><code>Employee</code></strong> table in a database.\nA simple DAO interface to handle the database operation required to manipulate an employee entity will be like:</p>\n\n<pre><code>interface EmployeeDAO {\n\n    List&lt;Employee&gt; findAll();\n    List&lt;Employee&gt; findById();\n    List&lt;Employee&gt; findByName();\n    boolean insertEmployee(Employee employee);\n    boolean updateEmployee(Employee employee);\n    boolean deleteEmployee(Employee employee);\n\n}\n</code></pre>\n\n<p>Next we have to provide a concrete implementation for that interface to deal with SQL server, and another to deal with flat files, etc.</p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/19154487#19154487", "question_id": 19154202, "answer_id": 19154487}, {"body": "<p>DAO (Data Access Object) is a very used design pattern in enterprise applications. It basically is the module that is used to access data from every source (DBMS, XML and so on). I suggest you to read some examples, like this one:</p>\n\n<p><a href=\"http://www.informit.com/guides/content.aspx?g=java&amp;seqNum=137\">DAO Example</a></p>\n\n<p>Please note that there are different ways to implements the original <a href=\"http://en.wikipedia.org/wiki/Data_access_object\">DAO Pattern</a>, and there are many frameworks that can simplify your work. For example, the ORM (Object Relational Mapping) frameworks like iBatis or Hibernate, are used to map the result of SQL queries to java objects.</p>\n\n<p>Hope it helps,\nBye!</p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/19154508#19154508", "question_id": 19154202, "answer_id": 19154508}, {"body": "<p>I think the best example (along with explanations) you can find on the oracle website : <a href=\"http://www.oracle.com/technetwork/java/dataaccessobject-138824.html\" rel=\"nofollow\">here</a>. Another good tuturial could be found <a href=\"http://balusc.blogspot.co.at/2008/07/dao-tutorial-data-layer.html\" rel=\"nofollow\">here</a>.</p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/19154601#19154601", "question_id": 19154202, "answer_id": 19154601}, {"body": "<p>Data Access Object Pattern or DAO pattern is used to separate low level data accessing API or operations from high level business services. Following are the participants in Data Access Object Pattern.</p>\n\n<p>Data Access Object Interface - This interface defines the standard operations to be performed on a model object(s).</p>\n\n<p>Data Access Object concrete class -This class implements above interface. This class is responsible to get data from a datasource which can be database / xml or any other storage mechanism.</p>\n\n<p>Model Object or Value Object - This object is simple POJO containing get/set methods to store data retrieved using DAO class.</p>\n\n<p>Sample code here..</p>\n\n<p><a href=\"http://www.dzone.com/links/r/java_ee_data_access_object_design_pattern_or_dao.html\" rel=\"nofollow\">http://www.dzone.com/links/r/java_ee_data_access_object_design_pattern_or_dao.html</a></p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/24227092#24227092", "question_id": 19154202, "answer_id": 24227092}, {"body": "<p>The Data Access Object manages the connection with the data source to obtain and store data.It abstracts the underlying data access implementation for the Business Object to enable transparent access to the data source. \nA data source could be any database such as an RDBMS, XML repository or flat file system etc.</p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/24278861#24278861", "question_id": 19154202, "answer_id": 24278861}, {"body": "<blockquote>\n  <p><strong>What is DATA ACCESS OBJECT (DAO)</strong> - </p>\n</blockquote>\n\n<p><em>It is a <strong>object/interface</strong>, which is used to <strong>access data</strong> from database of data storage.</em> <br></p>\n\n<blockquote>\n  <p><strong>WHY WE USE DAO:</strong> </p>\n</blockquote>\n\n<p>it abstracts the retrieval of data from a data resource such as a database. The concept is to <strong>\"separate a data resource's client interface from its data access mechanism.\"</strong></p>\n\n<p>The problem with accessing data directly is that the source of the data can change. Consider, for example, that your application is deployed in an environment that accesses an Oracle database. Then it is subsequently deployed to an environment that uses Microsoft SQL Server. If your application uses stored procedures and database-specific code (such as generating a number sequence), how do you handle that in your application? You have two options:</p>\n\n<ul>\n<li>Rewrite your application to use SQL Server instead of Oracle (or add conditional code to handle the differences), or</li>\n<li>Create a layer inbetween your application logic and the data access</li>\n</ul>\n\n<p><br>\nIts in all referred as <strong>DAO Pattern</strong>, It consist of following:</p>\n\n<ul>\n<li><strong>Data Access Object Interface</strong> - This interface <em>defines the standard operations</em> to be performed on a model object(s).</li>\n<li><strong>Data Access Object concrete class</strong> -This class implements above interface. This class is <em>responsible to get data from a datasource</em> which can be database / xml or any other storage mechanism.</li>\n<li><strong>Model Object or Value Object</strong> - This object is <em>simple POJO containing get/set methods</em> to store data retrieved using DAO class.</li>\n</ul>\n\n<blockquote>\n  <p><strong>Please check this example, This will clear things more clearly.</strong> </p>\n</blockquote>\n\n<p><a href=\"http://www.tutorialspoint.com/design_pattern/data_access_object_pattern.htm\">Example</a><br>\nI assume this things must have cleared your understanding of DAO up to certain extend.  </p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/31741434#31741434", "question_id": 19154202, "answer_id": 31741434}, {"body": "<p>DAO is an act like  as \"Persistence Manager \" in 3 tier architecture as well as DAO also design pattern as you can consult \"Gang of Four\" book.\nYour application service layer just need to call the method of DAO class without knowing hidden &amp; internal details of DAO's method.</p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/36882531#36882531", "question_id": 19154202, "answer_id": 36882531}, {"body": "<p>Pojo also consider as Model class in Java where we can create getter and setter for particular variable defined in private .\nRemember all variables are here declared with private modifier </p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/38344001#38344001", "question_id": 19154202, "answer_id": 38344001}, {"body": "<p>Dao clases are used to reuse the jdbc logic &amp; Dao(Data Access Object) is a design pattern.\ndao is a simple java class which contains JDBC logic .</p>\n\n<p>Data Access Layer has proven good in separate business logic layer and persistent layer. The DAO design pattern completely hides the data access implementation from its clients</p>\n\n<p>The Java Data Access Object (Java DAO) is an important component in business applications. Business applications almost always need access to data from relational or object databases and the Java platform offers many techniques for accessingthis data. The oldest and most mature technique is to use the Java Database Connectivity (JDBC)API, which provides the capability to execute SQL queries against a databaseand then fetch the results, one column at a time. </p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/38344229#38344229", "question_id": 19154202, "answer_id": 38344229}, {"body": "<p>Don't get confuse with too much explanations. DAO: From the name itself it means Accessing Data using Object. DAO is separated from other Business Logics.</p>\n", "title": "Data access object (DAO) in Java", "tags": ["java", "dao"], "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java/38619781#38619781", "question_id": 19154202, "answer_id": 38619781}], "creation_date": 1380788437, "score": 107, "link": "http://stackoverflow.com/questions/19154202/data-access-object-dao-in-java", "question_id": 19154202}, {"body": "<p>I was wondering what happens when you try to catch an StackOverflowError and came up with the following method:</p>\n\n<pre><code>class RandomNumberGenerator {\n\n    static int cnt = 0;\n\n    public static void main(String[] args) {\n        try {\n            main(args);\n        } catch (StackOverflowError ignore) {\n            System.out.println(cnt++);\n        }\n    }\n}\n</code></pre>\n\n<p>Now my question:</p>\n\n<p>Why does this method print '4'?</p>\n\n<p>I thought maybe it was because <code>System.out.println()</code> needs 3 segments on the call stack, but I don't know where the number 3 comes from. When you look at the source code (and bytecode) of <code>System.out.println()</code>, it normally would lead to far more method invocations than 3 (so 3 segments on the call stack would not be sufficient). If it's because of optimizations the Hotspot VM applies (method inlining), I wonder if the result would be different on another VM.</p>\n\n<p><b>Edit</b>:</p>\n\n<p>As the output seems to be highly JVM specific, I get the result 4 using<br>\nJava(TM) SE Runtime Environment (build 1.6.0_41-b02)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 20.14-b01, mixed mode)</p>\n\n<p><br></p>\n\n<p><b> Explanation why I think this question is different from <a href=\"http://stackoverflow.com/questions/15083318/understanding-java-stack\">Understanding java stack</a>: </b></p>\n\n<p>My question is not about why there is a cnt > 0 (obviously because <code>System.out.println()</code> requires stack size and throws another <code>StackOverflowError</code> before something gets printed), but why it has the particular value of 4, respectively 0,3,8,55 or something else on other systems.</p>\n", "tags": ["java", "jvm", "stack-overflow"], "title": "Why does this method print 4?", "answers": [{"body": "<p>This is the victim of bad recursive call. As you are wondering why the value of <em>cnt</em> varies, it is because the stack size depends on the platform. Java SE 6 on Windows has a default stack size of 320k in the 32-bit VM and 1024k in the 64-bit VM. You can read more <a href=\"http://www.oracle.com/technetwork/java/hotspotfaq-138619.html\">here</a>.</p>\n\n<p>You can run using different stack sizes and you will see different values of <em>cnt</em> before the stack overflows-</p>\n\n<blockquote>\n  <p>java -Xss1024k RandomNumberGenerator</p>\n</blockquote>\n\n<p>You don't see the value of <em>cnt</em> being printed multiple times even though the value is greater than 1 sometimes because your print statement is also throwing error which you can debug to be sure through Eclipse or other IDEs.</p>\n\n<p>You can change the code to the following to debug per statement execution if you'd prefer-</p>\n\n<pre><code>static int cnt = 0;\n\npublic static void main(String[] args) {                  \n\n    try {     \n\n        main(args);   \n\n    } catch (Throwable ignore) {\n\n        cnt++;\n\n        try { \n\n            System.out.println(cnt);\n\n        } catch (Throwable t) {   \n\n        }        \n    }        \n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>As this getting a lot more attention, let's have another example to make things clearer-</p>\n\n<pre><code>static int cnt = 0;\n\npublic static void overflow(){\n\n    try {     \n\n      overflow();     \n\n    } catch (Throwable t) {\n\n      cnt++;                      \n\n    }\n\n}\n\npublic static void main(String[] args) {\n\n    overflow();\n    System.out.println(cnt);\n\n}\n</code></pre>\n\n<p>We created another method named <em>overflow</em> to do a bad recursion and removed the <em>println</em> statement from the catch block so it doesn't start throwing another set of errors while trying to print. This works as expected. You can try putting <em>System.out.println(cnt);</em> statement after <em>cnt++</em> above and compile. Then run multiple times. Depending on your platform, you may get different values of <em>cnt</em>.</p>\n\n<p>This is why generally we do not catch errors because mystery in code is not fantasy.</p>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17828865#17828865", "question_id": 17828584, "answer_id": 17828865}, {"body": "<p>This is not exactly an answer to the question but I just wanted to add something to the original question that I came across and how I understood the problem:</p>\n\n<p>In the original problem the exception is caught where it was possible:</p>\n\n<p>For example with jdk 1.7 it is caught at first place of occurence.</p>\n\n<p>but in earlier versions of jdk it looks like the exception is not being caught at the first place of occurence hence 4, 50 etc..</p>\n\n<p>Now if you remove the try catch block as following</p>\n\n<pre><code>public static void main( String[] args ){\n    System.out.println(cnt++);\n    main(args);\n}\n</code></pre>\n\n<p>Then you will see all the values of <code>cnt</code> ant the thrown exceptions (on jdk 1.7).</p>\n\n<p>I used netbeans to see the output, as the cmd will not show all the output and exception thrown.</p>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17830076#17830076", "question_id": 17828584, "answer_id": 17830076}, {"body": "<p>I think the number displayed is the number of time the <code>System.out.println</code> call throws the <code>Stackoverflow</code> exception.</p>\n\n<p>It probably depend on the implementation of the <code>println</code> and the number of stacking call it is made in it.</p>\n\n<p>As an illustration:</p>\n\n<p>The <code>main()</code> call trigger the <code>Stackoverflow</code> exception at call i.\nThe i-1 call of main catch the exception and call <code>println</code> which trigger a second <code>Stackoverflow</code>.  <code>cnt</code> get increment to 1.\nThe i-2 call of main catch now the exception and call <code>println</code>.  In <code>println</code> a method is called triggering a 3rd exception.  <code>cnt</code> get increment to 2.\n  this continue until <code>println</code> can make all its needed call and finally display the value of <code>cnt</code>.</p>\n\n<p>This is then dependent of the actual implementation of <code>println</code>.</p>\n\n<p>For the JDK7 either it detect cycling call and throws the exception earlier either it keep some stack resource and throw the exception before reaching the limit to give some room for remediation logic either the <code>println</code> implementation doesn't make calls either the ++ operation is done after the <code>println</code> call thus is by pass by the exception. </p>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17832168#17832168", "question_id": 17828584, "answer_id": 17832168}, {"body": "<p>The behavior is dependent upon the stack size (which can be manually set using <code>Xss</code>. The stack size is architecture specific. From JDK 7 <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/473cce303f13/src/os_cpu/windows_x86/vm/globals_windows_x86.hpp\" rel=\"nofollow\">source code</a>:</p>\n\n<blockquote>\n  <p>// Default stack size on Windows is determined by the executable (java.exe<br>\n  // has a default value of 320K/1MB [32bit/64bit]). Depending on Windows version, changing<br>\n  // ThreadStackSize to non-zero may have significant impact on memory usage.<br>\n  // See comments in os_windows.cpp.</p>\n</blockquote>\n\n<p>So when the <code>StackOverflowError</code> is thrown, the error is caught in catch block. Here <code>println()</code> is another stack call which throws exception again. This gets repeated. </p>\n\n<p><em>How many times it repeates?</em> - Well it depends on when JVM thinks it is no longer stackoverflow. And that depends on the stack size of each function call (difficult to find) and the <code>Xss</code>. As mentioned above default total size and size of each function call (depends on memory page size etc) is platform specific. Hence different behavior.</p>\n\n<p>Calling the <code>java</code> call with <code>-Xss 4M</code> gives me <code>41</code>. Hence the correlataion.</p>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17833343#17833343", "question_id": 17828584, "answer_id": 17833343}, {"body": "<p>I think the others have done a good job at explaining why cnt > 0, but there's not enough details regarding why cnt = 4, and why cnt varies so widely among different settings. I will attempt to fill that void here.</p>\n\n<p>Let </p>\n\n<ul>\n<li>X be the total stack size</li>\n<li>M be the stack space used when we enter main the first time</li>\n<li>R be the stack space increase each time we enter into main</li>\n<li>P be the stack space necessary to run <code>System.out.println</code></li>\n</ul>\n\n<p>When we first get into main, the space left over is X-M. Each recursive call takes up R more memory. So for 1 recursive call (1 more than original), the memory use is M + R. Suppose that StackOverflowError is thrown after C successful recursive calls, that is, M + C * R &lt;= X and M + C * (R + 1) > X. At the time of the first StackOverflowError, there's X - M - C * R memory left.</p>\n\n<p>To be able to run <code>System.out.prinln</code>, we need P amount of space left on the stack. If it so happens that X - M - C * R >= P, then 0 will be printed. If P requires more space, then we remove frames from the stack, gaining R memory at the cost of cnt++. </p>\n\n<p>When <code>println</code> is finally able to run, X - M - (C - cnt) * R >= P. So if P is large for a particular system, then cnt will be large. </p>\n\n<p>Let's look at this with some examples. </p>\n\n<p><strong>Example 1:</strong> Suppose </p>\n\n<ul>\n<li>X = 100</li>\n<li>M = 1</li>\n<li>R = 2</li>\n<li>P = 1</li>\n</ul>\n\n<p>Then C = floor((X-M)/R) = 49, and cnt = ceiling((P - (X - M - C*R))/R) = 0.</p>\n\n<p><strong>Example 2:</strong> Suppose that</p>\n\n<ul>\n<li>X = 100</li>\n<li>M = 1</li>\n<li>R = 5</li>\n<li>P = 12</li>\n</ul>\n\n<p>Then C = 19, and cnt = 2.</p>\n\n<p><strong>Example 3:</strong> Suppose that </p>\n\n<ul>\n<li>X = 101</li>\n<li>M = 1</li>\n<li>R = 5</li>\n<li>P = 12</li>\n</ul>\n\n<p>Then C = 20, and cnt = 3.</p>\n\n<p><strong>Example 4:</strong> Suppose that </p>\n\n<ul>\n<li>X = 101</li>\n<li>M = 2</li>\n<li>R = 5</li>\n<li>P = 12</li>\n</ul>\n\n<p>Then C = 19, and cnt = 2.</p>\n\n<p>Thus, we see that both the system (M, R, and P) and the stack size (X) affects cnt.</p>\n\n<p>As a side note, it does not matter how much space <code>catch</code> requires to start. As long as there is not enough space for <code>catch</code>, then cnt will not increase, so there are no external effects.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I take back what I said about <code>catch</code>. It does play a role. Suppose it requires T amount of space to start. cnt starts to increment when the leftover space is greater than T, and <code>println</code> runs when the leftover space is greater than T + P. This adds an extra step to the calculations and further muddies up the already muddy analysis.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I finally found time to run some experiments to back up my theory. Unfortunately, the theory doesn't seem to match up with the experiments. What actually happens is very different.</p>\n\n<p>Experiment setup:\nUbuntu 12.04 server with default java and default-jdk. Xss starting at 70,000 at 1 byte increments to 460,000.</p>\n\n<p>The results are available at: <a href=\"https://www.google.com/fusiontables/DataSource?docid=1xkJhd4s8biLghe6gZbcfUs3vT5MpS_OnscjWDbM\">https://www.google.com/fusiontables/DataSource?docid=1xkJhd4s8biLghe6gZbcfUs3vT5MpS_OnscjWDbM</a>\nI've created another version where every repeated data point is removed. In other words, only points that are different from the previous are shown. This makes it easier to see anomalies. <a href=\"https://www.google.com/fusiontables/DataSource?docid=1XG_SRzrrNasepwZoNHqEAKuZlHiAm9vbEdwfsUA\">https://www.google.com/fusiontables/DataSource?docid=1XG_SRzrrNasepwZoNHqEAKuZlHiAm9vbEdwfsUA</a></p>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17836189#17836189", "question_id": 17828584, "answer_id": 17836189}, {"body": "<ol>\n<li><code>main</code> recurses on itself until it overflows the stack at recursion depth <code>R</code>.</li>\n<li>The catch block at recursion depth <code>R-1</code> is run.</li>\n<li>The catch block at recursion depth <code>R-1</code> evaluates <code>cnt++</code>.</li>\n<li>The catch block at depth <code>R-1</code> calls <code>println</code>, placing <code>cnt</code>'s old value on the stack. <code>println</code> will internally call other methods and uses local variables and things. All these processes require stack space.</li>\n<li>Because the stack was already grazing the limit, and calling/executing <code>println</code> requires stack space, a new stack overflow is triggered at depth <code>R-1</code> instead of depth <code>R</code>.</li>\n<li>Steps 2-5 happen again, but at recursion depth <code>R-2</code>.</li>\n<li>Steps 2-5 happen again, but at recursion depth <code>R-3</code>.</li>\n<li>Steps 2-5 happen again, but at recursion depth <code>R-4</code>.</li>\n<li>Steps 2-4 happen again, but at recursion depth <code>R-5</code>.</li>\n<li>It so happens that there is enough stack space now for <code>println</code> to complete (note that this is an implementation detail, it may vary).</li>\n<li><code>cnt</code> was post-incremented at depths <code>R-1</code>, <code>R-2</code>, <code>R-3</code>, <code>R-4</code>, and finally at <code>R-5</code>. The fifth post-increment returned four, which is what was printed.</li>\n<li>With <code>main</code> completed successfully at depth <code>R-5</code>, the whole stack unwinds without more catch blocks being run and the program completes.</li>\n</ol>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17840412#17840412", "question_id": 17828584, "answer_id": 17840412}, {"body": "<p>After digging around for a while, I can't say that I find the answer, but I think it's quite close now.</p>\n\n<p>First, we need to know when a <code>StackOverflowError</code> will be thrown. In fact, the stack for a java thread stores frames, which containing all the data needed for invoking a method and resume. According to <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.12.4.5\" rel=\"nofollow\">Java Language Specifications for JAVA 6</a>, when invoking a method,</p>\n\n<blockquote>\n  <p>If there is not sufficient memory available to create such an activation frame, an StackOverflowError is thrown.</p>\n</blockquote>\n\n<p>Second, we should make it clear what is \"<em>there is not sufficient memory available to create such an activation frame</em>\". According to <a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/Overview.doc.html#6654\" rel=\"nofollow\">Java Virtual Machine Specifications for JAVA 6</a>,</p>\n\n<blockquote>\n  <p>frames may be heap allocated.</p>\n</blockquote>\n\n<p>So, when a frame is created, there should be enough heap space to create a stack frame and enough stack space to store the new reference which point to the new stack frame if the frame is heap allocated.</p>\n\n<p>Now let's go back to the question. From the above, we can know that when a method is execute, it may just costs the same amount of stack space. And invoking <code>System.out.println</code> (may) needs 5 level of method invocation, so 5 frames need to be created. Then when <code>StackOverflowError</code> is thrown out, it has to go back 5 times to get enough stack space to store 5 frames' references. Hence 4 is print out. Why not 5? Because you use <code>cnt++</code>. Change it to <code>++cnt</code>, and then you will get 5.</p>\n\n<p>And you will notice that when the size of stack go to a high level, you will get 50 sometimes. That is because the amount of available heap space need to be taken into consideration then. When the stack's size is too large, maybe heap space will run out before stack. And (maybe) the actual size of stack frames of <code>System.out.println</code> is about 51 times of <code>main</code>, therefore it goes back 51 times and print 50.</p>\n", "title": "Why does this method print 4?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4/17842210#17842210", "question_id": 17828584, "answer_id": 17842210}], "creation_date": 1374653790, "score": 107, "link": "http://stackoverflow.com/questions/17828584/why-does-this-method-print-4", "question_id": 17828584}, {"body": "<p>I upgraded to the latest Java 7 u40 on MacOS X and started getting the following output on my console when lanuching application from within eclipse. The launched apps work fine, but I like to find out what is causing this problem and the fix for it. </p>\n\n<pre><code>objc[10012]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.7.0_40.jdk/Contents/Home/bin/java and /Library/Java/JavaVirtualMachines/jdk1.7.0_40.jdk/Contents/Home/jre/lib/libinstrument.dylib. One of the two will be used. Which one is undefined.\n</code></pre>\n\n<p>Anynone know why this message is being printed and how to fix it.</p>\n", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "answers": [{"body": "<p>As other answers detail, this is a bug in the JDK (up to u45) which will be fixed in JDK7u60 - while this is not out yet, you may download the b01 from here: </p>\n\n<p><a href=\"https://jdk7.java.net/download.html\" rel=\"nofollow\">https://jdk7.java.net/download.html</a></p>\n\n<p>It's beta, but fixed that issue for me.</p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/20494557#20494557", "question_id": 18794573, "answer_id": 20494557}, {"body": "<p>1 - Install Java 7u21 from here: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html#jdk-7u21-oth-JPR\">http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html#jdk-7u21-oth-JPR</a></p>\n\n<p>2 - set these variables:</p>\n\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_21.jdk/Contents/Home\nexport PATH=$JAVA_HOME/bin:$PATH</p>\n\n<p>3 - Run your app and fun :)</p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/21705615#21705615", "question_id": 18794573, "answer_id": 21705615}, {"body": "<p><a href=\"https://groups.google.com/forum/#!topic/google-appengine-stackoverflow/QZGJg2tlfA4\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/google-appengine-stackoverflow/QZGJg2tlfA4</a></p>\n\n<p>From what I've found online, this is a bug introduced in JDK 1.7.0_45. I've read it will be fixed in the next release of Java, but it's not out yet. Supposedly, it was fixed in 1.7.0_60b01, but I can't find where to download it and 1.7.0_60b02 re-introduces the bug.</p>\n\n<p>I managed to get around the problem by reverting back to JDK 1.7.0_25. Probably not the solution you wanted, but it's the only way I've been able to get it working. Don't forget add JDK 1.7.0_25 in Eclipse after installing the JDK.</p>\n\n<p>Please DO NOT REPLY directly to this email but go to StackOverflow:\n<a href=\"http://stackoverflow.com/questions/20794751/class-javalaunchhelper-is-implemented-in-both-one-of-the-two-will-be-used-whic/20807657#20807657\">Class JavaLaunchHelper is implemented in both. One of the two will be used. Which one is undefined</a></p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/21856619#21856619", "question_id": 18794573, "answer_id": 21856619}, {"body": "<p>Not sure if this is the cause of the problem, but I got this issue only after installing JVM Monitor.</p>\n\n<p>Uninstalling JVM Monitor solved the issue for me.</p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/28561736#28561736", "question_id": 18794573, "answer_id": 28561736}, {"body": "<p>To solve this issue, I downgraded to <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html\" rel=\"nofollow\">JDK version 1.7.0_21</a>. then I used <a href=\"http://www.jayway.com/2014/01/15/how-to-switch-jdk-version-on-mac-os-x-maverick/\" rel=\"nofollow\">this</a> little bash script to change the version I use.</p>\n\n<pre><code>function setjdk() {\n  if [ $# -ne 0 ]; then\n   removeFromPath '/System/Library/Frameworks/JavaVM.framework/Home/bin'\n   if [ -n \"${JAVA_HOME+x}\" ]; then\n    removeFromPath $JAVA_HOME\n   fi\n   export JAVA_HOME=`/usr/libexec/java_home -v $@`\n   export PATH=$JAVA_HOME/bin:$PATH\n  fi\n }\n\n function removeFromPath() {\n  export PATH=$(echo $PATH | sed -E -e \"s;:$1;;\" -e \"s;$1:?;;\")\n }\n</code></pre>\n\n<p>Once you have the bash script in your zshrc/bshrc file - just call <code>setJdk 1.7.0_21</code> and you're good to go.</p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/34202961#34202961", "question_id": 18794573, "answer_id": 34202961}, {"body": "<p>jdk-7u80-macosx-x64.dmg fix this problem.</p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/37405737#37405737", "question_id": 18794573, "answer_id": 37405737}, {"body": "<p>Copy Pasting @Lichtamberg's comments to gotoalberto's answer</p>\n\n<p><strong>Works also for Java 1.8:</strong> </p>\n\n<pre><code># in ~/.zshrc and ~/.bashrc\n\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home \nexport PATH=$JAVA_HOME/bin:$PATH \n</code></pre>\n\n<p>This fixed my issue on java 8.</p>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/37896401#37896401", "question_id": 18794573, "answer_id": 37896401}, {"body": "<p>Well, after some struggling, what worked for me was completely removing the current JDK, as <a href=\"http://stackoverflow.com/a/23092014/213210\">described here</a>:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.JavaUpdateHelper.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\n</code></pre>\n\n<p>Then installed 1.7.0_21, after downloaded from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/java-archive-downloads-javase7-521261.html#jdk-7u21-oth-JPR\" rel=\"nofollow\">here</a>.</p>\n\n<p>Now a <code>java -version</code> prompts:</p>\n\n<pre><code>java version \"1.7.0_21\"\nJava(TM) SE Runtime Environment (build 1.7.0_21-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 23.21-b01, mixed mode)\n</code></pre>\n", "title": "objc[10012]: Class JavaLaunchHelper is implemented in both ... libinstrument.dylib. One of the two will be used. Which one is undefined", "tags": ["java", "eclipse", "osx", "jvm", "jvm-hotspot"], "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl/38175531#38175531", "question_id": 18794573, "answer_id": 38175531}], "creation_date": 1379103585, "score": 107, "link": "http://stackoverflow.com/questions/18794573/objc10012-class-javalaunchhelper-is-implemented-in-both-libinstrument-dyl", "question_id": 18794573}, {"body": "<p>What is the main difference between</p>\n\n<ul>\n<li><code>@Before</code> and <code>@BeforeClass</code></li>\n<li><code>@After</code> and <code>@AfterClass</code>    </li>\n</ul>\n\n<p>According to the <a href=\"http://junit.sourceforge.net/javadoc/\">JUnit Api</a> <code>@Before</code> is used in the following case:</p>\n\n<blockquote>\n  <p>When writing tests, it is common to find that several tests need similar objects created before they can run. </p>\n</blockquote>\n\n<p>Whereas <code>@BeforeClass</code> can be used to establish a database connection. But couldn't <code>@Before</code> do the same?</p>\n", "tags": ["java", "junit", "annotations"], "title": "Difference between @Before and @BeforeClass", "answers": [{"body": "<p>The code marked <code>@Before</code> is executed before each test, while <code>@BeforeClass</code> runs once before the entire test fixture. If your test class has ten tests, <code>@Before</code> code will be executed ten times, but <code>@BeforeClass</code> will be executed only once.</p>\n\n<p>In general, you use <code>@BeforeClass</code> when multiple tests need to share the same computationally expensive setup code. Establishing a database connection falls into this category. You can move code from <code>@BeforeClass</code> into <code>@Before</code>, but your test run may take longer. Note that the code marked <code>@BeforeClass</code> is run as static initializer, therefore it will run before the class instance of your test fixture is created.</p>\n", "title": "Difference between @Before and @BeforeClass", "tags": ["java", "junit", "annotations"], "link": "http://stackoverflow.com/questions/20295578/difference-between-before-and-beforeclass/20295618#20295618", "question_id": 20295578, "answer_id": 20295618}], "creation_date": 1385775797, "score": 106, "link": "http://stackoverflow.com/questions/20295578/difference-between-before-and-beforeclass", "question_id": 20295578}, {"body": "<p>While reading the Java official tutorial about generics, I found that you can restrict the type argument (in this case is <code>T</code>) to extend a class and/or more interfaces with the 'and' operator (<code>&amp;</code>) like this:</p>\n\n<pre><code>&lt;T extends MyClass &amp; Serializable&gt;\n</code></pre>\n\n<p>I replaced the <code>&amp;</code> with <code>,</code> (by mistake and still works, with a minor warning).</p>\n\n<p>My question is, is there any difference between these two:</p>\n\n<pre><code>&lt;T extends MyClass &amp; Serializable&gt;\n&lt;T extends MyClass , Serializable&gt; // here is with comma\n</code></pre>\n\n<p>And the example method:</p>\n\n<pre><code>static &lt;T extends MyClass &amp; Serializable&gt; ArrayList&lt;T&gt; fromArrayToCollection(T[] a) {\n    ArrayList&lt;T&gt; arr = new ArrayList&lt;T&gt;();\n\n    for (T o : a) {\n        arr.add(o); // Correct\n    }\n    return arr;\n}\n</code></pre>\n", "tags": ["java", "generics"], "title": "What is the difference between &#39;&amp;&#39; and &#39;,&#39; in Java generics?", "answers": [{"body": "<pre><code>&lt;T extends MyClass &amp; Serializable&gt;\n</code></pre>\n\n<p>This asserts that the single type parameter <code>T</code> must extend <code>MyClass</code> and must be <code>Serializable</code>.</p>\n\n<pre><code>&lt;T extends MyClass , Serializable&gt;\n</code></pre>\n\n<p><em>This</em> declares <em>two</em> type parameters, one called <code>T</code> (which must extend <code>MyClass</code>) and one called <code>Serializable</code> (which hides <code>java.io.Serializable</code> \u2014 this is probably what the warning was about).</p>\n", "title": "What is the difference between &#39;&amp;&#39; and &#39;,&#39; in Java generics?", "tags": ["java", "generics"], "link": "http://stackoverflow.com/questions/18381936/what-is-the-difference-between-and-in-java-generics/18382017#18382017", "question_id": 18381936, "answer_id": 18382017}], "creation_date": 1377178337, "score": 106, "link": "http://stackoverflow.com/questions/18381936/what-is-the-difference-between-and-in-java-generics", "question_id": 18381936}, {"body": "<p>With Java 8 and lambdas it's easy to iterate over collections as streams, and just as easy to use a parallel stream. Two examples from <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\">the docs</a>, the second one using parallelStream:</p>\n\n<pre><code>myShapesCollection.stream()\n    .filter(e -&gt; e.getColor() == Color.RED)\n    .forEach(e -&gt; System.out.println(e.getName()));\n\nmyShapesCollection.parallelStream() // &lt;-- This one uses parallel\n    .filter(e -&gt; e.getColor() == Color.RED)\n    .forEach(e -&gt; System.out.println(e.getName()));\n</code></pre>\n\n<p>As long as I don't care about the order, would it always be beneficial to use the parallel? One would think it is faster dividing the work on more cores.</p>\n\n<p>Are there other considerations? When should parallel stream be used and when should the non-parallel be used?</p>\n\n<p><sup>(This question is asked to trigger a discussion about how and when to use parallel streams, not because I think always using them is a good idea.)</sup></p>\n", "tags": ["java", "parallel-processing", "java-8", "java-stream"], "title": "Should I always use a parallel stream when possible?", "answers": [{"body": "<p>A parallel stream has a much higher overhead compared to a sequential one. Coordinating the threads takes a significant amount of time. I would use sequential streams by default and only consider parallel ones if</p>\n\n<ul>\n<li>I have a massive amount of items to process (or the processing of each item takes time and is parallelizable)</li>\n<li>I have a performance problem in the first place</li>\n<li>I don't already run the process in a multi-thread environment (for example: in a web container, if I already have many requests to process in parallel, adding an additional layer of parallelism inside each request could have more negative than positive effects)</li>\n</ul>\n\n<p>In your example, the performance will anyway be driven by the synchronized access to <code>System.out.println()</code>, and making this process parallel will have no effect, or even a negative one.\nMoreover, remember that parallel streams don't magically solve all the synchronization problems. If a shared resource is used by the predicates and functions used in the process, you'll have to make sure that everything is thread-safe. In particular, side effects are tings you really have to worry about if you go parallel.</p>\n\n<p>In any case, measure, don't guess! Only a measurement will tell you if the parallelism is worth it or not.</p>\n", "title": "Should I always use a parallel stream when possible?", "tags": ["java", "parallel-processing", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible/20375622#20375622", "question_id": 20375176, "answer_id": 20375622}, {"body": "<p>JB hit the nail on the head. The only thing I can add is that Java8 doesn't do pure parallel processing, it does <a href=\"http://coopsoft.com/ar/Calamity2Article.html#para\" rel=\"nofollow\">paraquential</a> Yes I wrote the article and I've been doing F/J for thirty years so I do understand the issue.</p>\n", "title": "Should I always use a parallel stream when possible?", "tags": ["java", "parallel-processing", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible/20384377#20384377", "question_id": 20375176, "answer_id": 20384377}, {"body": "<p>The Stream API was designed to make it easy to write computations in a way that was abstracted away from how they would be executed, making switching between sequential and parallel easy.  </p>\n\n<p>However, just because its easy, doesn't mean its always a good idea, and in fact, it is a <em>bad</em> idea to just drop <code>.parallel()</code> all over the place simply because you can.  </p>\n\n<p>First, note that parallelism offers no benefits other than the possibility of faster execution when more cores are available.  A parallel execution will always involve more work than a sequential one, because in addition to solving the problem, it also has to perform dispatching and coordinating of sub-tasks.  The hope is that you'll be able to get to the answer faster by breaking up the work across multiple processors; whether this actually happens depends on a lot of things, including the size of your data set, how much computation you are doing on each element, the nature of the computation (specifically, does the processing of one element interact with processing of others?), the number of processors available, and the number of other tasks competing for those processors.</p>\n\n<p>Further, note that parallelism also often injects nondeterminism into the computation; sometimes this doesn't matter, or can be mitigated by constraining the operations involved (i.e., reduction operators must be stateless and associative.)  </p>\n\n<p>In reality, sometimes parallelism will speed up your computation, sometimes it will not, and sometimes it will even slow it down.  It is best to develop first using sequential execution and then apply parallelism where (A) you know that there's actually benefit to increased performance and (B) that it will actually deliver increased performance.  (A) is a business problem, not a technical one.  If you are a performance expert, you'll usually be able to look at the code and determine (B), but the smart path is to measure.  (And, don't even bother until you're convinced of (A); if the code is fast enough, better to apply your brain cycles elsewhere.)  </p>\n\n<p>The simplest performance model for parallelism is the \"NQ\" model, where N is the number of elements, and Q is the computation per element.  In general, you need the product NQ to exceed some threshold before you start getting a performance benefit.  For a low-Q problem like \"add up numbers from 1 to N\", you will generally see a breakeven between N=1000 and N=10000.  With higher-Q problems, you'll see breakevens at lower thresholds.  </p>\n\n<p>But the reality is quite complicated.  So until you achieve experthood, first identify when sequential processing is actually costing you something, and then measure if parallelism will help.  </p>\n", "title": "Should I always use a parallel stream when possible?", "tags": ["java", "parallel-processing", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible/23370799#23370799", "question_id": 20375176, "answer_id": 23370799}, {"body": "<p>I watched one of the <a href=\"https://www.infoq.com/presentations/parallel-java-se-8\" rel=\"nofollow\">presentations</a> of <strong>Brian Goetz</strong> <em>(Java Language Architect &amp; specification lead for Lambda Expressions)</em>. He explains in detail the following 4 points to consider before going for parallelization:</p>\n\n<p><strong>Splitting / decomposition costs</strong><br>\n\u2013 Sometimes splitting is more expensive than just doing the work!<br>\n<strong>Task dispatch / management costs</strong><br>\n\u2013 Can do a lot of work in the time it takes to hand work to another thread.<br>\n<strong>Result combination costs</strong><br>\n\u2013 Sometimes combination involves copying lots of data. For example, adding numbers is cheap whereas merging sets is expensive.<br>\n<strong>Locality</strong><br>\n\u2013 The elephant in the room. This is an important point which everyone may miss. You should consider cache misses, if a CPU waits for data because of cache misses then you wouldn't gain anything by parallelization. That's why array-based sources parallelize the best as the next indices (near the current index) are cached and there are fewer chances that CPU would experience a cache miss.</p>\n\n<p>He also mentions a relatively simple formula to determine a chance of parallel speedup.</p>\n\n<p><strong>NQ Model</strong>:  </p>\n\n<pre><code>N x Q &gt; 10000\n</code></pre>\n\n<p><em>where,<br>\nN = number of data items<br>\nQ = amount of work per item</em></p>\n", "title": "Should I always use a parallel stream when possible?", "tags": ["java", "parallel-processing", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible/39066952#39066952", "question_id": 20375176, "answer_id": 39066952}], "creation_date": 1386159466, "score": 105, "link": "http://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible", "question_id": 20375176}, {"body": "<p>I have written a piece of Java code which is running in an infinite loop.</p>\n\n<p>Below is the code:</p>\n\n<pre><code>public class TestProgram {\n    public static void main(String[] args){\n        Integer i = new Integer(0);\n        Integer j = new Integer(0);\n\n        while(i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j){\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n\n<p>In the code above, while seeing the condition in the <code>while</code> loop, at first it looks like that program will not go inside the <code>while</code> loop. But actually it is an infinite loop and keeps printing the value.</p>\n\n<p>What is happening here?</p>\n", "tags": ["java"], "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "answers": [{"body": "<p>The integer objects are different. It is different from the basic int type.</p>\n\n<p>See this answer: <a href=\"http://stackoverflow.com/questions/1514910/when-comparing-two-integers-in-java-does-auto-unboxing-occur\">When comparing two Integers in Java does auto-unboxing occur?</a></p>\n\n<p>The <code>i != j</code> part is true, which you were expecting to be false.</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18804623#18804623", "question_id": 18804599, "answer_id": 18804623}, {"body": "<p>The loop is not ending because your condition is true( i != j is true because there are 2 different objects, use Integer.valueOf instead) and inside the loop the values are not changing so your condition remains true forever.</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18804633#18804633", "question_id": 18804599, "answer_id": 18804633}, {"body": "<ul>\n<li><p><code>i &lt;= j</code> is evaluated to <code>true</code>, because auto unboxing happens for int\ncomparisons and then both <code>i</code> and <code>j</code> hold the default value, <code>0</code>.</p></li>\n<li><p><code>j &lt;= i</code> is evaluated to <code>true</code> because of the above reason.</p></li>\n<li><p><code>i != j</code> is evaluated to <code>true</code>, because both <code>i</code> and <code>j</code> are\ndifferent objects. And while comparing objects, there isn't any need of\nauto unboxing.</p></li>\n</ul>\n\n<p>All the conditions are true, and you are not changing <code>i</code> and <code>j</code> in loop, so it is running infinitely.</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18804636#18804636", "question_id": 18804599, "answer_id": 18804636}, {"body": "<p>Perhaps the reason is that both 'i' and 'j' are objects, and object comparison is not the same as object reference comparison. Please consider using !i.equals(j) instead of i!=j</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18804641#18804641", "question_id": 18804599, "answer_id": 18804641}, {"body": "<p>Because you are comparing</p>\n\n<ul>\n<li><p><code>0 &lt; = 0 (true) // unboxing</code></p></li>\n<li><p><code>0 &gt; = 0 (true) // unboxing</code></p></li>\n<li><p><code>reference != secondReference (true)</code> as you are creating objects, not a primitive comparison. So it evaluates to <em><code>while(true) { // Never ending loop }</code></em>.</p></li>\n</ul>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18804642#18804642", "question_id": 18804599, "answer_id": 18804642}, {"body": "<p>The program keeps on displaying the same value of <code>i</code> because you aren't incrementing or decrementing either the value of <code>i</code> or <code>j</code>. The condition in the for always keeps evaluating to true, so it is an infinite loop.</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18808315#18808315", "question_id": 18804599, "answer_id": 18808315}, {"body": "<p>you have to know its a bit different in &amp;&amp; this and this &amp; when you use &amp;&amp; then when first condition is true then it check second condition if its false then it not checked third condition  because in &amp; operator if one condition is false all of the statement is false if use || then if  it see true then it return true in your code because i and j is equal first and second condition are true then in third condition it will be false because they are equal  and while condition is false .</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/18909479#18909479", "question_id": 18804599, "answer_id": 18909479}, {"body": "<p>The integer objects are different. It is different from the basic int type.\nso you can just do like that. what you do it's just compare the object and of course the result is true.</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/19042624#19042624", "question_id": 18804599, "answer_id": 19042624}, {"body": "<blockquote>\n  <p>Integer a = new Integer(0);\n  Integer b = new Integer(0);</p>\n</blockquote>\n\n<p>The &lt;= and >= comparisons will use the unboxed value 0, while the != will compare the references and will succeed since they are different objects.</p>\n\n<p>Even this will also works i,e</p>\n\n<blockquote>\n  <p>Integer a = 1000; Integer b = 1000;</p>\n</blockquote>\n\n<p>but this doesnot :</p>\n\n<blockquote>\n  <p>Integer a = 100; Integer b = 100;</p>\n</blockquote>\n\n<p>The reason is because Integer internally uses caching for Integer objects between -128 and 127 and return instances from that cache for the range it covers. I am not sure but I guess you can also change its maximum value in package \"java.lang.Integer.IntegerCache.high\".</p>\n\n<p>For better understanding check url : <a href=\"https://www.owasp.org/index.php/Java_gotchas#Immutable_Objects_.2F_Wrapper_Class_Caching\" rel=\"nofollow\">https://www.owasp.org/index.php/Java_gotchas#Immutable_Objects_.2F_Wrapper_Class_Caching</a></p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/19047944#19047944", "question_id": 18804599, "answer_id": 19047944}, {"body": "<p>There are two different cases which we have to understand first,</p>\n\n<p>case 1:</p>\n\n<pre><code>        Integer i = new Integer(10);\n        Integer j = new Integer(10);\n\n        System.out.println((i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j));\n        System.out.println(i!=j);\n</code></pre>\n\n<p>case 2:</p>\n\n<pre><code>        Integer i = 10;\n        Integer j = 10;\n\n        System.out.println((i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i==j));\n        System.out.println(i==j);\n</code></pre>\n\n<p>both are different, as </p>\n\n<p>in case 1: <code>i!=j</code> will be <code>true</code> because both referencing to two different object in heap and can't be same. But</p>\n\n<p>in case 2: <code>i==j</code> will be <code>true</code> because both 10 are integer literals and Java maintains <code>pool for Integer literals</code> which have value <code>(-128 &lt;= X &lt;= 127)</code>. So, in this case 10&lt;=127 results true, So both will have reference to same object.</p>\n", "title": "Why does (i&lt;=j &amp;&amp; j&lt;=i &amp;&amp; i!=j) evaluate to TRUE?", "tags": ["java"], "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true/21973257#21973257", "question_id": 18804599, "answer_id": 21973257}], "creation_date": 1379180584, "score": 104, "link": "http://stackoverflow.com/questions/18804599/why-does-i-j-j-i-i-j-evaluate-to-true", "question_id": 18804599}, {"body": "<p>SpringSource.org changed their site to <a href=\"http://spring.io\">http://spring.io</a></p>\n\n<p>Does someone know how to get the latest build without Maven/github? from <a href=\"http://spring.io/projects\">http://spring.io/projects</a></p>\n", "tags": ["java", "spring", "spring-mvc"], "title": "Where can I download Spring Framework jars without using Maven?", "answers": [{"body": "<h2>Please edit to keep this list of mirrors current</h2>\n\n<p>I found this <code>maven</code> repo where you could download from directly a <code>zip</code> file containing all the jars you need.</p>\n\n<ul>\n<li><p><a href=\"http://maven.springframework.org/release/org/springframework/spring/\">http://maven.springframework.org/release/org/springframework/spring/</a></p></li>\n<li><p><a href=\"http://repo.spring.io/release/org/springframework/spring/\">http://repo.spring.io/release/org/springframework/spring/</a></p></li>\n</ul>\n\n<h2>Alternate solution: Maven</h2>\n\n<p>The solution I prefer is using <code>Maven</code>, it is easy and you don't have to download each <code>jar</code> alone. you can do it with the following steps:</p>\n\n<ol>\n<li>Create an empty folder in anywhere with any name you prefer, for example <code>spring-source</code></li>\n<li>Create a new file named <code>pom.xml</code></li>\n<li>Copy the following in this file</li>\n<li>Open the <code>spring-source</code> folder in your console</li>\n<li>Run <code>mvn install</code></li>\n<li><p>After download finished, you'll find spring jars in <code>/spring-source/target/dependencies</code></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;spring-source-download&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringDependencies&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.8&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;download-dependencies&lt;/id&gt;\n                  &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                      &lt;outputDirectory&gt; ${project.build.directory}/dependencies &lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>Also, if you need to download any other spring project, just copy the <code>dependency</code> configuration from its corresponding web page</p>\n\n<p>For example, if you want to download <code>Spring Web Flow</code> jars, go to its <a href=\"http://projects.spring.io/spring-webflow/\">web page</a>, and add its <code>dependency</code> configuration to the <code>pom.xml</code> <code>dependencies</code>, then run <code>mvn install</code> again.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webflow&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n", "title": "Where can I download Spring Framework jars without using Maven?", "tags": ["java", "spring", "spring-mvc"], "link": "http://stackoverflow.com/questions/19082860/where-can-i-download-spring-framework-jars-without-using-maven/19812945#19812945", "question_id": 19082860, "answer_id": 19812945}], "creation_date": 1380486152, "score": 104, "link": "http://stackoverflow.com/questions/19082860/where-can-i-download-spring-framework-jars-without-using-maven", "question_id": 19082860}, {"body": "<p>I have the problem to find the performances of the plugin sysdeo by using the integrated plugin WTP of eclipse.</p>\n\n<p>To make the migration and thus the comparison, I installed both on separate projects within eclipse.</p>\n\n<p>I noticed a difference of productivity, according to what I understood: WTP needs to publish sources in a directory build so that tomcat have them at arrangement. This \"pulish\" is long : need the recharging of the context so that the modifications are visible. (5 dry in most yard 15sec - 20sec in the longest).</p>\n\n<p>Sysdeo no; it targets of the directory eclipse consequently build internal in the project as soon as a modification is made by a file, eclipse build and these modifications are available immediately (F5 on the browser and we have the result immediately).</p>\n\n<p>Here is my configuration of server:</p>\n\n<p><img src=\"http://i.stack.imgur.com/cdsg0.jpg\" alt=\"\"></p>\n\n<p>The option \" Serves modules without publishing \" allows to make exactly what makes sydeo: to choose the build directory of the project running. This configuration expresses himself in the file of context. (It is to be able to get back it that I have checked \" Publish modulates contexts to serparate XML rows \")</p>\n\n<p>Comparison of these files: </p>\n\n<ul>\n<li>Here is the file of context to generate by sysdeo</li>\n</ul>\n\n<blockquote>\n<pre><code>&lt; Context path=\"/tatoile _syseo\" reloadable=\"false\" docBase=\"D:\\32bit\\serveur32bit\\workspace\\tatoile _syseo\" workDir=\"D:\\32bit\\serveur32bit\\workspace\\tatoile _syseo\\work\" /&gt;\n</code></pre>\n</blockquote>\n\n<ul>\n<li>The file context to generate by WTP</li>\n</ul>\n\n<blockquote>\n  <p>&lt; ?xml version=\"1.0\" encoding=\"UTF-8\"?> \n  &lt; Context\n  docBase=\"D:\\32bit\\serveur32bit\\workspace\\tatoile\\web\" path=\"/tatoile\"\n  reloadable=\"true\" source=\"org.eclipse.jst.jee.server:tatoile\">\n  &lt; Resources\n  className=\"org.eclipse.jst.server.tomcat.loader.WtpDirContext\"\n  extraResourcePaths=\"/WEB-INF/classes|D:\\32bit\\serveur32bit\\workspace\\tatoile\\build\\classes\"\n  virtualClasspath=\"D:\\32bit\\serveur32bit\\workspace\\tatoile\\build\\classes\"/>\n  &lt; Loader\n  className=\"org.eclipse.jst.server.tomcat.loader.WtpWebappLoader\"\n  useSystemClassLoaderAsParent=\"false\"\n  virtualClasspath=\"D:\\32bit\\serveur32bit\\workspace\\tatoile\\build\\classes\"/>\n  &lt; JarScanner scanAllDirectories=\"true\"/>  &lt; /Context></p>\n</blockquote>\n\n<p>Later analyze those two files is alike.</p>\n\n<p>Now let us return to the problem. I use the same server, consequently both files of context above are defined for this one. Experience: I launch the tomcat by the plugin sysdeo, the loads in two context is made the one to configure way WTP the other one by sysdeo. Both authorities reacts in the same way, the modifications are immediate in tatoile _syseo and tatoile.</p>\n\n<p>On the other hand, I launch tomcat via the plugin WTP (tab server etc.) in eclipse, the modifications are not immediately made in both projects tatoile _syseo and tatoile. Note: Auto-reload has to be necessarily put in Enabled so that the modifications be taken into account. (When the server indicates us that it has reload the context we can see the modifications.)</p>\n\n<p><img src=\"http://i.stack.imgur.com/L5Mwt.jpg\" alt=\"enter image description here\"></p>\n\n<p>I deduct that from it the configuration of contexts not is not the reason, but rather the way the plugin launches tomcat; and there or I dry \u2026</p>\n\n<p>Here is WTP project:</p>\n\n<p><img src=\"http://i.stack.imgur.com/wUrsi.jpg\" alt=\"enter image description here\"></p>\n", "tags": ["java", "eclipse", "tomcat", "eclipse-wtp", "m2e-wtp"], "title": "Eclipse WTP vs sydeo, &quot; serves modules without publishing &quot;", "answers": [{"body": "<p>look in the plugin marketplace for a free plugin called m2e-wtp. That will take care of the provided scope issues. As for classes not being deployed, the usual places I look at are the deployment assembly and/or Java Build Path. Make sure that the entries (and the dependent modules) are all there and located in the right place.</p>\n", "title": "Eclipse WTP vs sydeo, &quot; serves modules without publishing &quot;", "tags": ["java", "eclipse", "tomcat", "eclipse-wtp", "m2e-wtp"], "link": "http://stackoverflow.com/questions/20123782/eclipse-wtp-vs-sydeo-serves-modules-without-publishing/26085629#26085629", "question_id": 20123782, "answer_id": 26085629}, {"body": "<p>The answer quoted from @Vsplit</p>\n\n<blockquote>\n  <p>The problem was solved by adding MAVEN with WTP deployment. No\n  performance problems ... and I don't activate serve modules without\n  publishing</p>\n</blockquote>\n", "title": "Eclipse WTP vs sydeo, &quot; serves modules without publishing &quot;", "tags": ["java", "eclipse", "tomcat", "eclipse-wtp", "m2e-wtp"], "link": "http://stackoverflow.com/questions/20123782/eclipse-wtp-vs-sydeo-serves-modules-without-publishing/26185200#26185200", "question_id": 20123782, "answer_id": 26185200}], "creation_date": 1385044593, "score": 101, "link": "http://stackoverflow.com/questions/20123782/eclipse-wtp-vs-sydeo-serves-modules-without-publishing", "question_id": 20123782}, {"body": "<p>I have the following <code>if</code> condition.</p>\n\n<pre><code>if (i == -i &amp;&amp; i != 0)\n</code></pre>\n\n<p>What value of <code>i</code> will return <code>true</code> for this condition in Java?</p>\n\n<p>I am unable to think of any such value of <code>i</code> considering <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\">two's complement</a> notation in Java.</p>\n\n<p>I would also love to have algebraic proof of whatever answer this condition has (in context with Java)?</p>\n", "tags": ["java"], "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "answers": [{"body": "<p>The value you are looking for is <code>Integer.MIN_VALUE</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>I would also love to have algebraic proof of whatever answer this condition has(in context with java)?</p>\n</blockquote>\n\n<p>That's off-topic for Stack Exchange.  But you could do it starting from the definition of Java integers (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2\">JLS 4.2</a>)</p>\n\n<blockquote>\n  <p><em>\"The integral types are byte, short, int, and long, whose values are 8-bit, 16-bit, 32-bit and 64-bit signed two's-complement integers ...\"</em></p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p><em>\"The values of the integral types are integers in the following ranges ...\n      For int, from -2147483648 to 2147483647, inclusive\"</em></p>\n</blockquote>\n\n<p>and the definition of the Java unary '-' operator (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.15.4\">JLS 15.15.4</a>):</p>\n\n<blockquote>\n  <p><em>\"For integer values, negation is the same as subtraction from zero. The Java programming language uses two's-complement representation for integers, and the range of two's-complement values is not symmetric, so negation of the maximum negative int or long results in that same maximum negative number. Overflow occurs in this case, but no exception is thrown. For all integer values x, -x equals (~x)+1.\"</em></p>\n</blockquote>\n", "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java/17781168#17781168", "question_id": 17781150, "answer_id": 17781168}, {"body": "<p>The only <code>int</code> value for which it works is  <code>Integer.MIN_VALUE</code>.</p>\n\n<p>It's because integers are negated using the <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow\">two's complement way</a>.</p>\n\n<p>Using</p>\n\n<pre><code>System.out.println(Integer.toBinaryString(Integer.MIN_VALUE));\n</code></pre>\n\n<p>you see that <code>Integer.MIN_VALUE</code> is</p>\n\n<pre><code>10000000000000000000000000000000\n</code></pre>\n\n<p>Taking the negative value is done by first swapping <code>0</code> and <code>1</code>, which gives</p>\n\n<pre><code>01111111111111111111111111111111\n</code></pre>\n\n<p>and by adding <code>1</code>, which gives</p>\n\n<pre><code>10000000000000000000000000000000\n</code></pre>\n\n<p>As you can see in the link I gave, Wikipedia mentions the problem with the most negative numbers and specifies it's the sole exception :</p>\n\n<blockquote>\n  <p>The most negative number in two's complement is sometimes called \"the\n  weird number,\" because it is the only exception.</p>\n</blockquote>\n\n<p>Of course you have the same phenomenon for <code>Long.Min_Value</code> if you store it in a <code>long</code> variable.</p>\n\n<p>Note that <strong>this is only due to choices that were made regarding the binary storage of ints in Java</strong>. Another (bad) solution could for example have been to negate by simply changing the most significant bit and letting the other bits unchanged, this would have avoided this problem with MIN_VALUE but would have made 2 different <code>0</code> values and complicated binary arithmetic (how would you have incremented for example ?).</p>\n", "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java/17781189#17781189", "question_id": 17781150, "answer_id": 17781189}, {"body": "<p>Like the others have mentioned, this is only fulfilled by <code>Integer.MIN_VALUE</code>. As for proof, let me offer an easier to understand explanation other than in binary (although it is still rooted in that).</p>\n\n<p>Note that <code>Integer.MIN_VALUE</code> is equal to <code>-2^31</code> or <code>-2147483648</code> and <code>Integer.MAX_VALUE</code> is equal to <code>2^31-1</code> or <code>2147483647</code>. <code>-Integer.MIN_VALUE</code> is <code>2^31</code>, which is now too large for an Integer (since it is past <code>MAX_VALUE</code>) thus causing an Integer overflow, making it <code>Integer.MIN_VALUE</code> again. It's the only Integer that does this since <code>MIN_VALUE</code> is the only number with no negative equivalent aside from 0.</p>\n", "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java/17781376#17781376", "question_id": 17781150, "answer_id": 17781376}, {"body": "<p>In additional to the answers given so far...</p>\n\n<p>There is four values in total</p>\n\n<pre><code>int i = Integer.MIN_VALUE;\nlong i = Long.MIN_VALUE;\nInteger i = Integer.valueOf(Integer.MIN_VALUE);\nLong i = Long.valueOf(Long.MIN_VALUE);\n</code></pre>\n\n<p>The wrapped values get unwrapped so they are also true for this expression.  </p>\n\n<p>Note: Math.abs documents.</p>\n\n<blockquote>\n  <p>public static int abs(int a)</p>\n  \n  <p>Returns the absolute value of an int\n  value. If the argument is not negative, the argument is returned. If\n  the argument is negative, the negation of the argument is returned.</p>\n  \n  <p>Note that if the argument is equal to the value of Integer.MIN_VALUE,\n  the most negative representable int value, the result is that same\n  value, which is negative.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>public static long abs(long a)</p>\n  \n  <p>Returns the absolute value of a long value. If the argument is not\n  negative, the argument is returned. If the argument is negative, the\n  negation of the argument is returned.</p>\n  \n  <p>Note that if the argument is equal to the value of Long.MIN_VALUE, the\n  most negative representable long value, the result is that same value,\n  which is negative.</p>\n</blockquote>\n\n<p>It is surprising that Math.abs might return a negative number.  This happens either because a) there is no positive values for -MIN_VALUE in these cases b) performing the <code>-</code> calculation results in an overflow.</p>\n\n<p>What is also interest is why doesn't Byte.MIN_VALUE, Short.MIN_VALUE do not do this.  This is because the <code>-</code> changes the type to <code>int</code> for these and thus no overflow.</p>\n\n<p>Character.MIN_VALUE doesn't have a problem because it is 0.</p>\n\n<p>Float.MIN_VALUE and Double.MIN_VALUE have a different meaning.  These are the smallest representable value greater than zero. Thus they have valid negative values which are not themselves.</p>\n", "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java/17781704#17781704", "question_id": 17781150, "answer_id": 17781704}, {"body": "<p>Tentative algebraic proof, using <code>modulo 2^32</code> arithmetic:</p>\n\n<p><code>i == -i</code> can be rewritten as <code>2 * i == 0</code> (adding <code>i</code> on both sides), or <code>i &lt;&lt; 1 == 0</code>.</p>\n\n<p>This equation has two solutions of the form <code>i == 0 &gt;&gt; 1</code>, namely <code>0b</code> and <code>10000000000000000000000000000000b</code> obtained by shifting in either <code>0</code> or <code>1</code> on the left.</p>\n\n<p>The solution <code>i == 0</code> being excluded, there remains the solution <code>i == 100000000000000000000000000000000b</code>.</p>\n", "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java/17828951#17828951", "question_id": 17781150, "answer_id": 17828951}, {"body": "<p>Maybe it's not too educative, but instead of thinking you could run this code:</p>\n\n<pre><code>    for (int i = Integer.MIN_VALUE; i &lt;= Integer.MAX_VALUE; i++)\n    {\n        if (i == -i &amp;&amp; i != 0)\n        {\n            System.out.println(i);\n        }\n    }\n</code></pre>\n\n<p>to see that it prints </p>\n\n<pre><code>-2147483648\n-2147483648\n</code></pre>\n\n<p>infinitely :)</p>\n", "title": "Value of i for (i == -i &amp;&amp; i != 0) to return true in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java/17881846#17881846", "question_id": 17781150, "answer_id": 17881846}], "creation_date": 1374474267, "score": 100, "link": "http://stackoverflow.com/questions/17781150/value-of-i-for-i-i-i-0-to-return-true-in-java", "question_id": 17781150}, {"body": "<p>I am wondering if this question can be solved in Java (I'm new to the language). This is the code:</p>\n\n<pre><code>class Condition {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x) {\n            System.out.println(\"Ok\");\n        } else {\n            System.out.println(\"Not ok\");\n        }\n    }\n}\n</code></pre>\n\n<p>I received the following question in my lab: How can you skip the first case (i.e. make the <code>x == x</code> condition false) without modifying the condition itself?</p>\n", "tags": ["java", "if-statement"], "title": "How can a Java variable be different from itself?", "answers": [{"body": "<p>One simple way is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#NaN\"><code>Float.NaN</code></a>:</p>\n\n<pre><code>float x = Float.NaN;  // &lt;--\n\nif (x == x) {\n    System.out.println(\"Ok\");\n} else {\n    System.out.println(\"Not ok\");\n}\n</code></pre>\n\n<pre>\nNot ok\n</pre>\n\n<p>You can do the same with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#NaN\"><code>Double.NaN</code></a>.</p>\n\n<hr>\n\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.21.1\"><strong>JLS \u00a715.21.1.</strong> Numerical Equality Operators <code>==</code> and <code>!=</code></a>:</p>\n\n<blockquote>\n  <p>Floating-point equality testing is performed in accordance with the rules of the IEEE 754 standard:</p>\n  \n  <ul>\n  <li><p>If either operand is NaN, then the result of <code>==</code> is <code>false</code> but the result of <code>!=</code> is <code>true</code>.  </p>\n  \n  <p>Indeed, the test <code>x!=x</code> is <code>true</code> if and only if the value of <code>x</code> is NaN.</p></li>\n  </ul>\n  \n  <p>...</p>\n</blockquote>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/19416665#19416665", "question_id": 19416644, "answer_id": 19416665}, {"body": "<pre><code>int x = 0;\nif (x == x) {\n    System.out.println(\"Not ok\");\n} else {\n    System.out.println(\"Ok\");\n}\n</code></pre>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/19416674#19416674", "question_id": 19416644, "answer_id": 19416674}, {"body": "<p>Not sure if this is an option but changing <code>x</code> from local variable to a field would allow other thread to change its value between the reading left and right side in <code>if</code> statement.</p>\n\n<p>Here is short demo:</p>\n\n<pre><code>class Test {\n\n    static int x = 0;\n\n    public static void main(String[] args) throws Exception {\n\n        Thread t = new Thread(new Change());\n        t.setDaemon(true);\n        t.start();\n\n        while (true) {\n            if (x == x) {\n                System.out.println(\"Ok\");\n            } else {\n                System.out.println(\"Not ok\");\n                break;\n            }\n        }\n    }\n}\n\nclass Change implements Runnable {\n    public void run() {\n        while (true)\n            Test.x++;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\u22ee\nOk\nOk\nOk\nOk\nOk\nOk\nOk\nOk\nNot ok\n</code></pre>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/19416907#19416907", "question_id": 19416644, "answer_id": 19416907}, {"body": "<p>There are so many solutions:</p>\n\n<pre><code>class A extends PrintStream {\n    public A(PrintStream x) {super(x);}\n    public void println(String x) {super.println(\"Not ok\");}\n    public static void main(String[] args) {\n        System.setOut(new A(System.out));\n        int x = 0;\n        if (x == x) {\n            System.out.println(\"Ok\");\n        } else {\n            System.out.println(\"Not ok\");\n        }\n    }\n}\n</code></pre>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/19434552#19434552", "question_id": 19416644, "answer_id": 19434552}, {"body": "<p>Using the same skip/change output approach from another answers:</p>\n\n<pre><code>class Condition {\n    public static void main(String[] args) {\n        try {\n            int x = 1 / 0;\n            if (x == x) {\n                System.out.println(\"Ok\");\n            } else {\n                System.out.println(\"Not ok\");\n            }\n        } catch (Exception e) {\n            System.out.println(\"Not ok\");\n        }\n    }\n}\n</code></pre>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/19529457#19529457", "question_id": 19416644, "answer_id": 19529457}, {"body": "<p>Create your own class <code>System</code> in tha same package with <code>Condition</code>.<br>\nIn this case your <code>System</code> class will hide <code>java.lang.System</code> class</p>\n\n<pre><code>class Condition\n{\n    static class System\n    {\n        static class out\n        {\n            static void println(String ignored)\n            {\n                java.lang.System.out.println(\"Not ok\");\n            }\n        }\n    }\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        int x = 0;\n        if (x == x) \n        {\n           System.out.println(\"Not ok\");\n        } \n        else \n        {\n           System.out.println(\"Ok\");\n        }\n    }\n}  \n</code></pre>\n\n<p><a href=\"http://ideone.com/F039qY\"><strong>Ideone DEMO</strong></a></p>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/19775881#19775881", "question_id": 19416644, "answer_id": 19775881}, {"body": "<p>By the <a href=\"http://docs.oracle.com/javase/specs/\">Java Language Specifications</a> <code>NaN</code> is not equal to <code>NaN</code>.</p>\n\n<p>Therefore any line that caused <code>x</code> to be equal to <code>NaN</code> would cause this, such as</p>\n\n<pre><code>double x=Math.sqrt(-1);\n</code></pre>\n\n<p>From the Java Language Specifications:</p>\n\n<blockquote>\n  <p>Floating-point operators produce no exceptions (\u00a711). An operation\n  that overflows produces a signed infinity, an operation that\n  underflows produces a denormalized value or a signed zero, and an\n  operation that has no mathematically definite result produces NaN. All\n  numeric operations with NaN as an operand produce NaN as a result. As\n  has already been described, NaN is unordered, so <strong>a numeric comparison\n  operation involving one or two NaNs returns false</strong> and any !=\n  comparison involving NaN returns true, including x!=x when x is NaN.</p>\n</blockquote>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/20374855#20374855", "question_id": 19416644, "answer_id": 20374855}, {"body": "<p>The replaced line could read.</p>\n\n<pre><code>double x = Double.NaN;\n</code></pre>\n\n<p>This would cause the gotcha to be printed.</p>\n\n<p>Java Language Specification (JLS) says:</p>\n\n<blockquote>\n  <p>Floating-point operators produce no exceptions (\u00a711). An operation that overflows produces a signed infinity, an operation that underflows produces a denormalized value or a signed zero, and an operation that has no mathematically definite result produces NaN. All numeric operations with NaN as an operand produce NaN as a result. As has already been described, NaN is unordered, so a numeric comparison operation involving one or two NaNs returns false and any != comparison involving NaN returns true, including x!=x when x is NaN.</p>\n</blockquote>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/20374944#20374944", "question_id": 19416644, "answer_id": 20374944}, {"body": "<p>One easy solution is:</p>\n\n<pre><code>System.out.println(\"Gotcha!\");if(false)\nif( a == a ){\n  System.out.println(\"Not yet...\");\n} else {\n  System.out.println(\"Gotcha!\");\n}\n</code></pre>\n\n<p>But I don't know all the rules to this riddle...</p>\n\n<p><strong>:)</strong>\nI know that this is a cheat, but without knowing all rules, is this the easiest solution to the question :)</p>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/20374997#20374997", "question_id": 19416644, "answer_id": 20374997}, {"body": "<p>I managed to get a <code>Gotcha!</code> from this:</p>\n\n<pre><code>volatile Object a = new Object();\n\nclass Flipper implements Runnable {\n  Object b = new Object();\n\n  public void run() {\n    while (true)  {\n      Object olda = a;\n      a = b;\n      a = olda;\n    }\n  }\n\n}\n\npublic void test() {\n  new Thread(new Flipper()).start();\n\n  boolean gotcha = false;\n  while (!gotcha) {\n    // I've added everything above this - I would therefore say still legal.\n    if (a == a) {\n      System.out.println(\"Not yet...\");\n    } else {\n      System.out.println(\"Gotcha!\");\n      // Uncomment this line when testing or you'll never terminate.\n      //gotcha = true;\n    }\n  }\n}\n</code></pre>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "if-statement"], "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself/20375252#20375252", "question_id": 19416644, "answer_id": 20375252}], "creation_date": 1381972523, "score": 98, "link": "http://stackoverflow.com/questions/19416644/how-can-a-java-variable-be-different-from-itself", "question_id": 19416644}, {"body": "<p>Is there a Java 8 stream operation that limits a (potentially infinite) <code>Stream</code> until the first element that fails to match a predicate? Something that looks like the (non-existent) <code>takeWhile</code> operation in the example below and would print all numbers less than 10?</p>\n\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .takeWhile(n -&gt; n &lt; 10)\n    .forEach(System.out::println);\n</code></pre>\n\n<p>If there is no such operation, what's the best way of implementing it in a general way? </p>\n", "tags": ["java", "java-8", "java-stream"], "title": "Limit a stream by a predicate", "answers": [{"body": "<p>Such an operation ought to be <em>possible</em> with a Java 8 <code>Stream</code>, but it can't necessarily be done efficiently -- for example, you can't necessarily parallelize such an operation, as you have to look at elements in order.</p>\n\n<p>The API doesn't provide an easy way to do it, but what's probably the simplest way is to take <code>Stream.iterator()</code>, wrap the <code>Iterator</code> to have a \"take-while\" implementation, and then go back to a <code>Spliterator</code> and then a <code>Stream</code>.  Or -- maybe -- wrap the <code>Spliterator</code>, though it can't really be split anymore in this implementation.</p>\n\n<p>Here's an untested implementation of <code>takeWhile</code> on a <code>Spliterator</code>:</p>\n\n<pre><code>static &lt;T&gt; Spliterator&lt;T&gt; takeWhile(\n    Spliterator&lt;T&gt; splitr, Predicate&lt;? super T&gt; predicate) {\n  return new Spliterators.AbstractSpliterator&lt;T&gt;(splitr.estimateSize(), 0) {\n    boolean stillGoing = true;\n    @Override public boolean tryAdvance(Consumer&lt;? super T&gt; consumer) {\n      if (stillGoing) {\n        boolean hadNext = splitr.tryAdvance(elem -&gt; {\n          if (predicate.test(elem)) {\n            consumer.accept(elem);\n          } else {\n            stillGoing = false;\n          }\n        });\n        return hadNext &amp;&amp; stillGoing;\n      }\n      return false;\n    }\n  };\n}\n\nstatic &lt;T&gt; Stream&lt;T&gt; takeWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; predicate) {\n   return StreamSupport.stream(takeWhile(stream.spliterator(), predicate), false);\n}\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/20765715#20765715", "question_id": 20746429, "answer_id": 20765715}, {"body": "<p>I am sure this can be greatly improved upon: \n(someone could make it thread-safe maybe)</p>\n\n<pre><code>Stream&lt;Integer&gt; stream = Stream.iterate(0, n -&gt; n + 1);\n\nTakeWhile.stream(stream, n -&gt; n &lt; 10000)\n         .forEach(n -&gt; System.out.print((n == 0 ? \"\" + n : \",\" + n)));\n</code></pre>\n\n<h2>A hack for sure... Not elegant - but it works ~:D</h2>\n\n<pre><code>class TakeWhile&lt;T&gt; implements Iterator&lt;T&gt; {\n\n    private final Iterator&lt;T&gt; iterator;\n    private final Predicate&lt;T&gt; predicate;\n    private volatile T next;\n    private volatile boolean keepGoing = true;\n\n    public TakeWhile(Stream&lt;T&gt; s, Predicate&lt;T&gt; p) {\n        this.iterator = s.iterator();\n        this.predicate = p;\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (!keepGoing) {\n            return false;\n        }\n        if (next != null) {\n            return true;\n        }\n        if (iterator.hasNext()) {\n            next = iterator.next();\n            keepGoing = predicate.test(next);\n            if (!keepGoing) {\n                next = null;\n            }\n        }\n        return next != null;\n    }\n\n    @Override\n    public T next() {\n        if (next == null) {\n            if (!hasNext()) {\n                throw new NoSuchElementException(\"Sorry. Nothing for you.\");\n            }\n        }\n        T temp = next;\n        next = null;\n        return temp;\n    }\n\n    public static &lt;T&gt; Stream&lt;T&gt; stream(Stream&lt;T&gt; s, Predicate&lt;T&gt; p) {\n        TakeWhile tw = new TakeWhile(s, p);\n        Spliterator split = Spliterators.spliterator(tw, Integer.MAX_VALUE, Spliterator.ORDERED);\n        return StreamSupport.stream(split, false);\n    }\n\n}\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/20772290#20772290", "question_id": 20746429, "answer_id": 20772290}, {"body": "<p>Here is a version done on ints - as asked in the question.</p>\n\n<p>Usage:</p>\n\n<pre><code>StreamUtil.takeWhile(IntStream.iterate(1, n -&gt; n + 1), n -&gt; n &lt; 10);\n</code></pre>\n\n<p>Here's code for StreamUtil:</p>\n\n<pre><code>import java.util.PrimitiveIterator;\nimport java.util.Spliterators;\nimport java.util.function.IntConsumer;\nimport java.util.function.IntPredicate;\nimport java.util.stream.IntStream;\nimport java.util.stream.StreamSupport;\n\npublic class StreamUtil\n{\n    public static IntStream takeWhile(IntStream stream, IntPredicate predicate)\n    {\n        return StreamSupport.intStream(new PredicateIntSpliterator(stream, predicate), false);\n    }\n\n    private static class PredicateIntSpliterator extends Spliterators.AbstractIntSpliterator\n    {\n        private final PrimitiveIterator.OfInt iterator;\n        private final IntPredicate predicate;\n\n        public PredicateIntSpliterator(IntStream stream, IntPredicate predicate)\n        {\n            super(Long.MAX_VALUE, IMMUTABLE);\n            this.iterator = stream.iterator();\n            this.predicate = predicate;\n        }\n\n        @Override\n        public boolean tryAdvance(IntConsumer action)\n        {\n            if (iterator.hasNext()) {\n                int value = iterator.nextInt();\n                if (predicate.test(value)) {\n                    action.accept(value);\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n}\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/24531394#24531394", "question_id": 20746429, "answer_id": 24531394}, {"body": "<p>takeWhile is one of the functions provided by the <a href=\"https://github.com/poetix/protonpack\">protonpack library</a>.</p>\n\n<pre><code>Stream&lt;Integer&gt; infiniteInts = Stream.iterate(0, i -&gt; i + 1);\nStream&lt;Integer&gt; finiteInts = StreamUtils.takeWhile(infiniteInts, i -&gt; i &lt; 10);\n\nassertThat(finiteInts.collect(Collectors.toList()),\n           hasSize(10));\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/25668681#25668681", "question_id": 20746429, "answer_id": 25668681}, {"body": "<p>I have another quick solution by implementing this (which is rly unclean in fact, but you get the idea):</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(StreamUtil.iterate(1, o -&gt; o + 1).terminateOn(15)\n            .map(o -&gt; o.toString()).collect(Collectors.joining(\", \")));\n}\n\nstatic interface TerminatedStream&lt;T&gt; {\n    Stream&lt;T&gt; terminateOn(T e);\n}\n\nstatic class StreamUtil {\n    static &lt;T&gt; TerminatedStream&lt;T&gt; iterate(T seed, UnaryOperator&lt;T&gt; op) {\n        return new TerminatedStream&lt;T&gt;() {\n            public Stream&lt;T&gt; terminateOn(T e) {\n                Builder&lt;T&gt; builder = Stream.&lt;T&gt; builder().add(seed);\n                T current = seed;\n                while (!current.equals(e)) {\n                    current = op.apply(current);\n                    builder.add(current);\n                }\n                return builder.build();\n            }\n        };\n    }\n}\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/26255154#26255154", "question_id": 20746429, "answer_id": 26255154}, {"body": "<p>allMatch() is a short-circuiting function, so you can use it to stop processing. The main disadvantage, is that you have to do your test twice: once to see if you should process it, and again to see whether to keep going.</p>\n\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .peek(n-&gt;{if (n&lt;10) System.out.println(n);})\n    .allMatch(n-&gt;n &lt; 10);\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/26919665#26919665", "question_id": 20746429, "answer_id": 26919665}, {"body": "<p>You can use java8 + <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow\">rxjava</a>.</p>\n\n<pre><code>//import java.util.stream.IntStream;\n//import rx.Observable;\n\n\n//Example 1)\n\n   IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\n   Observable.from(() -&gt; intStream.iterator())\n       .takeWhile(n -&gt;\n          {\n                System.out.println(n);\n                return n &lt; 10;\n          }\n        ).subscribe() ;\n\n\n\n\n//Example 2\n\n    IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\n    Observable.from(() -&gt; intStream.iterator())\n            .takeWhile(n -&gt; n &lt; 10)\n            .forEach( n -&gt; System.out.println(n));\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/30600756#30600756", "question_id": 20746429, "answer_id": 30600756}, {"body": "<p>Here is my attempt using just Java Stream library.</p>\n\n<pre><code>        IntStream.iterate(0, i -&gt; i + 1)\n        .filter(n -&gt; {\n                if (n &lt; 10) {\n                    System.out.println(n);\n                    return false;\n                } else {\n                    return true;\n                }\n            })\n        .findAny();\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/31063252#31063252", "question_id": 20746429, "answer_id": 31063252}, {"body": "<p>Operations <code>takeWhile</code> and <code>dropWhile</code> have been added to JDK 9. Your example code</p>\n\n<pre><code>IntStream\n    .iterate(1, n -&gt; n + 1)\n    .takeWhile(n -&gt; n &lt; 10)\n    .forEach(System.out::println);\n</code></pre>\n\n<p>will behave exactly as you expect it to when compiled and run under JDK 9.</p>\n\n<p>JDK 9 has not yet been released as of this writing. All specifications are subject to change. Prerelease snapshot builds and documentation are available at <a href=\"https://jdk9.java.net/\">https://jdk9.java.net/</a>.</p>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/32304570#32304570", "question_id": 20746429, "answer_id": 32304570}, {"body": "<p>As a follow-up to <a href=\"http://stackoverflow.com/a/32304570/4856258\">@StuartMarks answer</a>. My <a href=\"https://github.com/amaembo/streamex\">StreamEx</a> library has the <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/IntStreamEx.html#takeWhile-java.util.function.IntPredicate-\"><code>takeWhile</code></a> operation which is compatible with current JDK-9 implementation. When running under JDK-9 it will just delegate to the JDK implementation (via <code>MethodHandle.invokeExact</code> which is really fast). When running under JDK-8, the \"polyfill\" implementation will be used. So using my library the problem can be solved like this:</p>\n\n<pre><code>IntStreamEx.iterate(1, n -&gt; n + 1)\n           .takeWhile(n -&gt; n &lt; 10)\n           .forEach(System.out::println);\n</code></pre>\n", "title": "Limit a stream by a predicate", "tags": ["java", "java-8", "java-stream"], "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate/32304962#32304962", "question_id": 20746429, "answer_id": 32304962}], "creation_date": 1387812299, "score": 98, "link": "http://stackoverflow.com/questions/20746429/limit-a-stream-by-a-predicate", "question_id": 20746429}, {"body": "<p>I am trying to run the code provided <a href=\"http://architects.dzone.com/articles/building-rss-reader-android\">HERE</a><br>\nI downloaded the code from their Github and imported into Android SDK, but it shows error at the lines  </p>\n\n<pre><code>import android.support.v4.app.FragmentActivity;\nimport android.support.v4.app.NavUtils;  \n</code></pre>\n\n<p>in multiple files. However if I check the Android SDK Manager, the <code>Android Support Library</code> as well as the <code>Android Support Repository</code> in the Extras folder are both installed. I can also see the support folder and it's contents in the <code>SDK_INSTALL\\sdk\\extras\\android\\support</code> directory. It also has the v4 folder which also contains the <code>android-support-v4.jar</code> and the <code>src</code> folder. THen why is it still showing the error, how do I resolve it and how do I get that sample code running? THe sample code is for an RSS reader app, if that's relevant.</p>\n", "tags": ["java", "android", "packages", "rss-reader"], "title": "The import android.support cannot be resolved", "answers": [{"body": "<p><strong>Please follow these Steps:</strong></p>\n\n<p><strong>For Eclipse:</strong></p>\n\n<ul>\n<li>Go to your Project's <code>Properties</code><br/></li>\n<li>Navigate to the <code>Java Build Path</code></li>\n<li>Then go to the <code>Libraries</code> tab. There click the <code>Add External JARs</code> Button on the Right pane.<br/></li>\n<li>Select the <code>android-support-v4.jar</code> file, usually the path for the <strong>Jar file</strong> is :<br/>\n<strong><em>YOUR_DRIVE\\android-sdks\\extras\\android\\support\\v4\\android-support-v4.jar</em></strong>\n<br/></li>\n<li>After adding <code>andorid-support-v4.jar</code> Library, navigate to the <code>Order and Export</code> tab and put check mark on the <code>android-support-v4</code> Library file.<br/></li>\n<li>After doing the above, <strong>Clean</strong> the Project and <strong>Build</strong> it.<br/></li>\n<li><em>Problem Solved.</em></li>\n</ul>\n\n<p><strong>For Android Studio:</strong>\n<br/></p>\n\n<p><em>Short Version:</em></p>\n\n<ul>\n<li>Add compile 'com.android.support:support-v4:YOUR_TARGET_VERSION' in your build.gradle file.</li>\n</ul>\n\n<p><em>Long Version:</em></p>\n\n<ul>\n<li><p>Go to File -> Project Structure </p></li>\n<li><p>Go to \"Dependencies\" Tab -> Click on the Plus sign -> Go to \"Library dependency\" </p></li>\n<li><p>Select the support library \"support-v4 (com.android.support:support-v4:YOUR_TARGET_VERSION)\" </p></li>\n<li><p>Navigate to your \"build.gradle\" inside your App Directory and double check if your desired Android Support Library has been added to your dependencies. </p></li>\n<li><p>Rebuild your project and now everything should work.<br/></p></li>\n</ul>\n\n<p><strong>Further reading regarding this Question:</strong></p>\n\n<ol>\n<li><a href=\"http://developer.android.com/tools/support-library/index.html\">Support Library - Android Dev</a></li>\n<li><a href=\"http://stackoverflow.com/questions/12926548/what-is-android-support-library\">What is an Android Support Library?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/11641669/how-android-support-library-work\">How Android Support Library work?</a></li>\n</ol>\n\n<p>I hope this helps.</p>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/18300071#18300071", "question_id": 18299898, "answer_id": 18300071}, {"body": "<p>Another way to solve the issue.</p>\n\n<p>If you are using support library you need to add the compat lib to the project. <strong><a href=\"https://developer.android.com/tools/support-library/setup.html#add-library\" rel=\"nofollow\">This link</a></strong> shows how to add the support lib to your project</p>\n\n<p>Assuming you have added the support lib earlier but you are getting the mentioned issue, you can follow below steps to fix that.</p>\n\n<p><strong>1-</strong> Right click on the project and navigate to <strong>Build Path->Configure Build Path</strong></p>\n\n<p><strong>2-</strong> On left side of the pop up windowd select <strong>Android</strong>. You will see an image as like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/7eqgX.png\" alt=\"enter image description here\"></p>\n\n<p><strong>3-</strong> You can notice that no libaray is referenced at the momonet. Now click on the <strong>add</strong> button shown at the bottom-right side. You will see a pop up windows as shown below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/DkUX9.png\" alt=\"enter image description here\"></p>\n\n<p><strong>4-</strong> Select the appcompat lib and press ok. (note: the lib will be shown if you have added them as mentioned earlier). Now you will see the following window.</p>\n\n<p><img src=\"http://i.stack.imgur.com/nqONi.png\" alt=\"enter image description here\"></p>\n\n<p><strong>5-</strong> Press ok. Thats it. The lib is added to your project (notice the red mark) and the errors relating inclusion of support lib must go now. </p>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/27520389#27520389", "question_id": 18299898, "answer_id": 27520389}, {"body": "<p><strong>This is very easy step to import any 3rd party lib or jar file into your project</strong></p>\n\n<ol>\n<li>Copy <strong>android-support-v4.jar</strong> file from\n<strong>your_drive\\android-sdks\\extras\\android\\support\\v4\\android-support-v4.jar</strong>\n<br><strong><em>or</em></strong> copy from your existing project's bin folder.\n<br><strong>or any third party .jar file</strong></li>\n<li><p>paste copied <strong>jar</strong> file into <strong>lib</strong> folder</p></li>\n<li><p>right click on this jar file and then click on <strong>build Path->Add to\nBuild Path</strong> <img src=\"http://i.stack.imgur.com/O1hYw.png\" alt=\"enter image description here\"></p></li>\n<li><p>even still you are getting error in your project then <strong>Clean the\nProject and Build it.</strong></p></li>\n</ol>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/30556792#30556792", "question_id": 18299898, "answer_id": 30556792}, {"body": "<p>This issue may also occur if you have multiple versions of the same support library <code>android-support-v4.jar</code>. If your project is using other library projects that contain different-2 versions of the support library. To resolve the issue keep the same version of support library at each place.</p>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/30884124#30884124", "question_id": 18299898, "answer_id": 30884124}, {"body": "<p>I have resolved it by deleting <code>android-support-v4.jar</code> from my Project. Because <code>appcompat_v7</code> already have a copy of it. </p>\n\n<p><strong>If you have already import appcompat_v7 but still the problem doesn't solve. then try it.</strong></p>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/32650406#32650406", "question_id": 18299898, "answer_id": 32650406}, {"body": "<p>andorid-support-v4.jar is an external jar file that you have to import into your project. </p>\n\n<p>This is how you do it in Android Studio:</p>\n\n<p>Go to File -> Project Structure\n<a href=\"http://i.stack.imgur.com/qa5SR.png\"><img src=\"http://i.stack.imgur.com/qa5SR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Go to \"Dependencies\" Tab -> Click on the Plus sign -> Go to \"Library dependency\"\n<a href=\"http://i.stack.imgur.com/iqams.png\"><img src=\"http://i.stack.imgur.com/iqams.png\" alt=\"enter image description here\"></a></p>\n\n<p>Select the support library \"support-v4 (com.android.support:support-v4:23.0.1)\"\n<a href=\"http://i.stack.imgur.com/a1unp.png\"><img src=\"http://i.stack.imgur.com/a1unp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now to go your \"build.gradle\" file in your app and make sure the android support library has been added to your dependencies. Alternatively, you could've also just typed  <code>compile 'com.android.support:support-v4:23.0.1'</code>  directly into your <code>dependencies{}</code> instead of doing it through the GUI. </p>\n\n<p><a href=\"http://i.stack.imgur.com/lfMiR.png\"><img src=\"http://i.stack.imgur.com/lfMiR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Rebuild your project and now everything should work. \n<a href=\"http://i.stack.imgur.com/ygs3d.png\"><img src=\"http://i.stack.imgur.com/ygs3d.png\" alt=\"enter image description here\"></a></p>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/33092364#33092364", "question_id": 18299898, "answer_id": 33092364}, {"body": "<p>I followed the instructions above by Gene in Android Studio 1.5.1 but it added this to my build.gradle file:</p>\n\n<pre><code>compile 'platforms:android:android-support-v4:23.1.1'\n</code></pre>\n\n<p>so I changed it to:</p>\n\n<pre><code>compile 'com.android.support:support-v4:23.1.1'\n</code></pre>\n\n<p>And it started working.</p>\n", "title": "The import android.support cannot be resolved", "tags": ["java", "android", "packages", "rss-reader"], "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved/35095420#35095420", "question_id": 18299898, "answer_id": 35095420}], "creation_date": 1376834661, "score": 96, "link": "http://stackoverflow.com/questions/18299898/the-import-android-support-cannot-be-resolved", "question_id": 18299898}, {"body": "<p>Why were <code>181783497276652981</code> and <code>8682522807148012</code> chosen in <code>Random.java</code>?</p>\n\n<p>Here's the relevant source code from Java SE JDK 1.7:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Creates a new random number generator. This constructor sets\n * the seed of the random number generator to a value very likely\n * to be distinct from any other invocation of this constructor.\n */\npublic Random() {\n    this(seedUniquifier() ^ System.nanoTime());\n}\n\nprivate static long seedUniquifier() {\n    // L'Ecuyer, \"Tables of Linear Congruential Generators of\n    // Different Sizes and Good Lattice Structure\", 1999\n    for (;;) {\n        long current = seedUniquifier.get();\n        long next = current * 181783497276652981L;\n        if (seedUniquifier.compareAndSet(current, next))\n            return next;\n    }\n}\n\nprivate static final AtomicLong seedUniquifier\n    = new AtomicLong(8682522807148012L);\n</code></pre>\n\n<p>So, invoking <code>new Random()</code> without any seed parameter takes the current \"seed uniquifier\" and XORs it with <code>System.nanoTime()</code>.  Then it uses <code>181783497276652981</code> to create another seed uniquifier to be stored for the next time <code>new Random()</code> is called.</p>\n\n<p>The literals <code>181783497276652981L</code> and <code>8682522807148012L</code> are not placed in constants, but they don't appear anywhere else.</p>\n\n<p>At first the comment gives me an easy lead.  Searching online for that article yields <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.99.6553&amp;rep=rep1&amp;type=pdf\" rel=\"nofollow\">the actual article</a>.  <code>8682522807148012</code> doesn't appear in the paper, but <code>181783497276652981</code> does appear -- as a substring of another number, <code>1181783497276652981</code>, which is <code>181783497276652981</code> with a <code>1</code> prepended.</p>\n\n<p>The paper claims that <code>1181783497276652981</code> is a number that yields good \"merit\" for a linear congruential generator.  Was this number simply mis-copied into Java?  Does <code>181783497276652981</code> have an acceptable merit?</p>\n\n<p>And why was <code>8682522807148012</code> chosen?</p>\n\n<p>Searching online for either number yields no explanation, only <a href=\"http://www.java-forums.org/advanced-java/72124-random-seed.html\" rel=\"nofollow\">this page</a> that also notices the dropped <code>1</code> in front of <code>181783497276652981</code>.</p>\n\n<p>Could other numbers have been chosen that would have worked as well as these two numbers?  Why or why not?</p>\n", "tags": ["java", "random"], "title": "What&#39;s with 181783497276652981 and 8682522807148012 in Random (Java 7)?", "answers": [{"body": "<p>As per the link you provided, they have chosen (<em>after adding the missing 1 :)</em> ) the best yield from 2^64 because long can't have have a number from 2^128  </p>\n", "title": "What&#39;s with 181783497276652981 and 8682522807148012 in Random (Java 7)?", "tags": ["java", "random"], "link": "http://stackoverflow.com/questions/18092160/whats-with-181783497276652981-and-8682522807148012-in-random-java-7/18092612#18092612", "question_id": 18092160, "answer_id": 18092612}, {"body": "<p>If you consider that the equation used for the random number generator is:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DVa8N.jpg\" alt=\"LCGEquation\"></p>\n\n<p>Where X(n+1) is the next number, a is the multipler, X(n) is the current number, c is the increment and m is the modulus.</p>\n\n<p>If you look further into <code>Random</code>, a, c and m are defined in the header of the class</p>\n\n<pre><code>private static final long multiplier = 0x5DEECE66DL;   //= 25214903917 -- 'a'\nprivate static final long addend = 0xBL;               //= 11          -- 'c'\nprivate static final long mask = (1L &lt;&lt; 48) - 1;       //= 2 ^ 48 - 1  -- 'm'\n</code></pre>\n\n<p>and looking at the method <code>protected int next(int bits)</code> this is were the equation is implemented</p>\n\n<pre><code>nextseed = (oldseed * multiplier + addend) &amp; mask;\n//X(n+1) =  (X(n)   *      a     +    c  ) mod m\n</code></pre>\n\n<p>This implies that the method <code>seedUniquifier()</code> is actually getting X(n) or in the first case at initialisation X(0) which is actually <code>8682522807148012 * 181783497276652981</code>, this value is then multiplied further by the value of <code>System.nanoTime()</code>. This algorithm is consistent with the equation above but with the following X(0) = <code>8682522807148012</code>, a = <code>181783497276652981</code>, m = 2 ^ 64 and c = 0. But as the mod m of is preformed by the long overflow the above equation just becomes</p>\n\n<p><img src=\"http://i.stack.imgur.com/gi3H7.jpg\" alt=\"eq2\"></p>\n\n<p>Looking at <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.99.6553&amp;rep=rep1&amp;type=pdf\">the paper</a>, the value of a = <code>1181783497276652981</code> is for m = 2 ^ 64, c = 0. So it appears to just be a typo and the value <code>8682522807148012</code> for X(0) which appears to be a seeming randomly chosen number from legacy code for <code>Random</code>. <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/df4d3e3e465a\">As seen here.</a> But the merit of these chosen numbers could still be valid but as mentioned by Thomas B. probably not as \"good\" as the one in the paper.</p>\n\n<p><strong>EDIT - Below original thoughts have since been clarified so can be disregarded but leaving it for reference</strong></p>\n\n<p>This leads me the conclusions:</p>\n\n<ol>\n<li><p>The reference to the paper is not for the value itself but for the methods used to obtain the values due to the different values of a, c and m</p></li>\n<li><p>It is mere coincidence that the value is otherwise the same other than the leading 1 and the comment is misplaced (still struggling to believe this though)</p></li>\n</ol>\n\n<p><strong>OR</strong> </p>\n\n<p>There has been a serious misunderstanding of the tables in the paper and the developers have just chosen a value at random as by the time it is multiplied out what was the point in using the table value in the first place especially as you can just provide your own seed value any way in which case these values are not even taken into account</p>\n\n<p>So to answer your question </p>\n\n<blockquote>\n  <p>Could other numbers have been chosen that would have worked as well as these two numbers? Why or why not?</p>\n</blockquote>\n\n<p>Yes, any number could have been used, in fact if you specify a seed value when you Instantiate Random you are using any other value. This value does not have any effect on the performance of the generator, this is determined by the values of a,c and m which are hard coded within the class.</p>\n", "title": "What&#39;s with 181783497276652981 and 8682522807148012 in Random (Java 7)?", "tags": ["java", "random"], "link": "http://stackoverflow.com/questions/18092160/whats-with-181783497276652981-and-8682522807148012-in-random-java-7/18093883#18093883", "question_id": 18092160, "answer_id": 18093883}, {"body": "<ol>\n<li><blockquote>\n  <p>Was this number simply mis-copied into Java?</p>\n</blockquote>\n\n<p>Yes, seems to be a typo.</p></li>\n<li><blockquote>\n  <p>Does 181783497276652981 have an acceptable merit?</p>\n</blockquote>\n\n<p>This could be determined using the evaluation algorithm presented in the paper. But the merit of the \"original\" number is probably higher.</p></li>\n<li><blockquote>\n  <p>And why was 8682522807148012 chosen?</p>\n</blockquote>\n\n<p>Seems to be random. It could be the result of System.nanoTime() when the code was written.</p></li>\n<li><blockquote>\n  <p>Could other numbers have been chosen that would have worked as well as these two numbers?</p>\n</blockquote>\n\n<p>Not every number would be equally \"good\". So, no.</p></li>\n</ol>\n\n<h2>Seeding Strategies</h2>\n\n<p>There are differences in the default-seeding schema between different versions and implementation of the JRE.</p>\n\n \n\n<pre><code>public Random() { this(System.currentTimeMillis()); }\n</code></pre>\n\n \n\n<pre><code>public Random() { this(++seedUniquifier + System.nanoTime()); }\n</code></pre>\n\n \n\n<pre><code>public Random() { this(seedUniquifier() ^ System.nanoTime()); }\n</code></pre>\n\n<p>The first one is not acceptable if you create multiple RNGs in a row. If their creation times  fall in the same millisecond range, they will give completely identical sequences. (same seed => same sequence)</p>\n\n<p>The second one is not thread safe. Multiple threads can get identical RNGs when initializing at the same time. Additionally, seeds of subsequent initializations tend to be correlated. Depending on the actual timer resolution of the system, the seed sequence could be linearly increasing (n, n+1, n+2, ...). As stated in <a href=\"http://stackoverflow.com/a/1554995/1743220\">How different do random seeds need to be?</a> and the referenced paper <a href=\"http://dl.acm.org/citation.cfm?id=1276928\">Common defects in initialization of pseudorandom number generators</a>, correlated seeds can generate correlation among the actual sequences of multiple RNGs.</p>\n\n<p>The third approach creates randomly distributed and thus uncorrelated seeds, even across threads and subsequent initializations. \nSo the current java docs:</p>\n\n<blockquote>\n  <p>This constructor sets the seed of the random number generator to a\n  value very likely to be distinct from any other invocation of this\n  constructor.</p>\n</blockquote>\n\n<p>could be extended by \"across threads\" and \"uncorrelated\"</p>\n\n<h2>Seed Sequence Quality</h2>\n\n<p>But the randomness of the seeding sequence is only as good as the underlying RNG. \nThe RNG used for the seed sequence in this java implementation uses a multiplicative linear congruential generator (MLCG) with c=0 and m=2^64. (The modulus 2^64 is implicitly given by the overflow of 64bit long integers)\nBecause of the zero c and the power-of-2-modulus, the \"quality\" (cycle length, bit-correlation, ...) is limited. As the paper says, besides the overall cycle length, every single bit has an own cycle length, which decreases exponentially for less significant bits. Thus, lower bits have a smaller repetition pattern. (The result of seedUniquifier() should be bit-reversed, before it is truncated to 48-bits in the actual RNG)</p>\n\n<p>But it is fast! And to avoid unnecessary compare-and-set-loops, the loop body should be fast. This probably explains the usage of this specific MLCG, without addition, without xoring, just one multiplication.</p>\n\n<p>And the mentioned paper presents a list of good \"multipliers\" for c=0 and m=2^64, as 1181783497276652981.</p>\n\n<p>All in all: A for effort @ JRE-developers ;) But there is a typo. \n(But who knows, unless someone evaluates it, there is the possibility that the missing leading 1 actually improves the seeding RNG.)</p>\n\n<p>But some multipliers are definitely worse:\n\"1\" leads to a constant sequence.\n\"2\" leads to a single-bit-moving sequence (somehow correlated)\n...</p>\n\n<p>The inter-sequence-correlation for RNGs is actually relevant for (Monte Carlo) Simulations, where multiple random sequences are instantiated and even parallelized. Thus a good seeding strategy is necessary to get \"independent\" simulation runs. Therefore the C++11 standard introduces the concept of a <a href=\"http://en.cppreference.com/w/cpp/numeric/random/seed_seq\">Seed Sequence</a> for generating uncorrelated seeds.</p>\n", "title": "What&#39;s with 181783497276652981 and 8682522807148012 in Random (Java 7)?", "tags": ["java", "random"], "link": "http://stackoverflow.com/questions/18092160/whats-with-181783497276652981-and-8682522807148012-in-random-java-7/18100670#18100670", "question_id": 18092160, "answer_id": 18100670}], "creation_date": 1375831467, "score": 95, "link": "http://stackoverflow.com/questions/18092160/whats-with-181783497276652981-and-8682522807148012-in-random-java-7", "question_id": 18092160}, {"body": "<p>Is there a Utility method somewhere that can do this in 1 line? I can't find it anywhere in <code>Collections</code>, or <code>List</code>.</p>\n\n<pre><code>public List&lt;String&gt; stringToOneElementList(String s) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    list.add(s);\n    return list;\n}\n</code></pre>\n\n<p>I don't want to re-invent the wheel unless I plan on putting fancy rims on it.</p>\n\n<p>Well... the type can be <code>T</code>, and not <code>String</code>. but you get the point. (with all the null checking, safety checks...etc)</p>\n", "tags": ["java", "arraylist", "collections"], "title": "How to quickly and conveniently create a one element arraylist", "answers": [{"body": "<p>Very simply:</p>\n\n<pre><code>Arrays.asList(\"Hi!\")\n</code></pre>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/20358917#20358917", "question_id": 20358883, "answer_id": 20358917}, {"body": "<h3>Fixed size <code>List</code></h3>\n\n<p>The easiest way, that I know of, is to create a fixed-size single element <code>List</code> with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\"><code>Arrays.asList(T...)</code></a> like</p>\n\n<pre><code>// Returns a List backed by a varargs T.\nreturn Arrays.asList(s);\n</code></pre>\n\n<h3>Variable size <code>List</code></h3>\n\n<p>If it needs vary in size you can construct an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-java.util.Collection-\"><code>ArrayList</code></a> and the fixed-size<code>List</code> like</p>\n\n<pre><code>return new ArrayList&lt;String&gt;(Arrays.asList(s));\n</code></pre>\n\n<p>and (in Java 7+) you can use the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/language/type-inference-generic-instance-creation.html\">diamond operator <code>&lt;&gt;</code></a> to make it </p>\n\n<pre><code>return new ArrayList&lt;&gt;(Arrays.asList(s));\n</code></pre>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/20358920#20358920", "question_id": 20358883, "answer_id": 20358920}, {"body": "<p>You can use the utility method <code>Arrays.asList</code> and feed that result into a new <code>ArrayList</code>.</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(s));\n</code></pre>\n\n<p>Other options:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Collections.nCopies(1, s));\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(Collections.singletonList(s));\n</code></pre>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#ArrayList%28java.util.Collection%29\"><code>ArrayList(Collection)</code></a> constructor.</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList%28T...%29\"><code>Arrays.asList</code></a> method.</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#nCopies%28int,%20T%29\"><code>Collections.nCopies</code></a> method.</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singletonList%28T%29\"><code>Collections.singletonList</code></a> method.</li>\n</ul>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/20358928#20358928", "question_id": 20358883, "answer_id": 20358928}, {"body": "<p>The other answers all use <code>Arrays.asList()</code>, which returns an unmodifiable list (an <code>UnsupportedOperationException</code> is thrown if you try to add or remove an element). To get a mutable list you can wrap the returned list in a new <code>ArrayList</code> as a couple of answers point out, but a cleaner solution is to use <a href=\"https://github.com/google/guava\" rel=\"nofollow\">Guava's</a> <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html#newArrayList()\" rel=\"nofollow\">Lists.newArrayList()</a> (available since at least <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/index.html\" rel=\"nofollow\">Guava 10</a>, released in 2011). </p>\n\n<p>For example:</p>\n\n<pre><code>Lists.newArrayList(\"Blargle!\");\n</code></pre>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/29784337#29784337", "question_id": 20358883, "answer_id": 29784337}, {"body": "<p>Yet another alternative is <a href=\"http://www.c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"nofollow\">double brace initialization</a>, e.g.</p>\n\n<pre><code>new ArrayList&lt;String&gt;() {{ add(s); }};\n</code></pre>\n\n<p>but <a href=\"http://stackoverflow.com/questions/924285\">it is inefficient and obscure</a>.</p>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/30696509#30696509", "question_id": 20358883, "answer_id": 30696509}, {"body": "<pre><code>Collections.singletonList(object)\n</code></pre>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/31931870#31931870", "question_id": 20358883, "answer_id": 31931870}, {"body": "<p>With Java 8 Streams:</p>\n\n<pre><code>Stream.of(object).collect(Collectors.toList())\n</code></pre>\n\n<p>or if you need a set:</p>\n\n<pre><code>Stream.of(object).collect(Collectors.toSet())\n</code></pre>\n", "title": "How to quickly and conveniently create a one element arraylist", "tags": ["java", "arraylist", "collections"], "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist/31965160#31965160", "question_id": 20358883, "answer_id": 31965160}], "creation_date": 1386095365, "score": 93, "link": "http://stackoverflow.com/questions/20358883/how-to-quickly-and-conveniently-create-a-one-element-arraylist", "question_id": 20358883}, {"body": "<p>So I installed the beta of JDK 8 a while ago to look at some of the examples. I thought for sure by now, it's easy to change between versions. </p>\n\n<p>Doing some Play development with IntelliJ. For some reason, IntelliJ is compiling with 8 even though:</p>\n\n<ul>\n<li>I have the compiler set in Preferences to use 1.6</li>\n<li>Supposedly it's using SBT through external build, but sbt from the command line works</li>\n<li>JAVA_HOME is pointing to JDK 6.</li>\n</ul>\n\n<p>If I go to the Java Preferences page, it does show 8 installed, but there is no option to uninstall it and it doesn't see any of the other versions.</p>\n\n<p>When I do <code>which java</code>, it tells me <code>/usr/bin/java</code> and I do <code>/usr/bin/java -version</code> and it returns 1.6.</p>\n\n<p>Note: with a  little fiddling, you can use IntelliJ and JDK7, see <a href=\"http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7\">here</a>.</p>\n", "tags": ["java", "osx", "intellij-idea", "java-8"], "title": "Removing Java 8 JDK from Mac", "answers": [{"body": "<p>Managing Java versions on Mac OSX is a nightmare.  I recently switched over to using JDK 1.7, deleting JDK 6 from my MacBook entirely (I also had traces of JDK 5 - this laptop has been updated a few times).</p>\n\n<p>Here's what I did to move to JDK 7.</p>\n\n<p>1) download the latest from Oracle (<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>) and install it.</p>\n\n<p>2) Remove (using rm - if you've got backups, you can revert if you make a mistake) all the JDK6 and JRE6 files.</p>\n\n<p>At this stage, you should see:</p>\n\n<pre><code>% ls /Library/Java/JavaVirtualMachines/\njdk1.7.0_nn.jdk\n</code></pre>\n\n<p>(and nothing else)</p>\n\n<p>3) In the folder /Library/Java/Extensions/, you'll need to remove all the old jar files, the ones that correspond to other releases of Java.  If you don't, you'll get the infamous message about the wrong version of tools.jar (see <a href=\"http://stackoverflow.com/questions/17099379/builds-failing-after-upgrading-to-java7-missing-tools-jar-and-bad-class-version\">Builds failing after upgrading to Java7, Missing Tools.jar and bad class versions</a>).  It is not enough to rename the jar files, because Java will open every jar in that folder - I moved mine into a sub-directory.  It's safe to remove them once you know everything else works.</p>\n\n<p>I haven't found I need to set JAVA_HOME for simple things.</p>\n\n<p><em><strong>Note</em></strong>: I just tried running IntelliJ and it <strong>will not</strong> start unless you have Apple's JDK 6 installed (see <a href=\"http://youtrack.jetbrains.com/issue/IDEA-93710\">http://youtrack.jetbrains.com/issue/IDEA-93710</a>).  Same is true for Eclipse. Netbeans works fine.</p>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/19060792#19060792", "question_id": 19039752, "answer_id": 19060792}, {"body": "<p>Use <code>/usr/libexec/java_home</code> ; I found these alias and function to be pretty useful in my <code>~/.profile</code>:</p>\n\n<pre><code> alias java_ls='/usr/libexec/java_home -Vq 2&gt;&amp;1 | grep -E \"\\d\\.\\d\\.\\d(_\\d+)?.*,\" | cut -d , -f 1 | cut -c 5-'\nfunction java_use() {\n    export JAVA_HOME=$(/usr/libexec/java_home -v $1)\n    java -version\n}\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/20524278#20524278", "question_id": 19039752, "answer_id": 20524278}, {"body": "<p>If you have installed jdk8 on your Mac but now you want to remove it, just run below command \"sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk\"</p>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/22920263#22920263", "question_id": 19039752, "answer_id": 22920263}, {"body": "<p>I was able to unistall jdk 8 in mavericks successfully doing the following steps:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.JavaUpdateHelper.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/23092014#23092014", "question_id": 19039752, "answer_id": 23092014}, {"body": "<p>Here is the official document about uninstalling the JDK.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903</a></p>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/23172845#23172845", "question_id": 19039752, "answer_id": 23172845}, {"body": "<p>This worked perfectly for me:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/25085946#25085946", "question_id": 19039752, "answer_id": 25085946}, {"body": "<p>If you uninstall all the files but it still fails, use this line:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/25538941#25538941", "question_id": 19039752, "answer_id": 25538941}, {"body": "<p>Make it really simple...</p>\n\n<pre><code>sudo rm -rf /Library/Java/*\n\nsudo rm -rf /Library/PreferencePanes/Java*\n\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/30412014#30412014", "question_id": 19039752, "answer_id": 30412014}, {"body": "<p>I nuked everything Java, JDK, and oracle. I was running Java 8 on OSX El Capitan</p>\n\n<p>Other answers were missing tons of stuff. This answer covers a lot more bases.</p>\n\n<p>Good bye, shovelware.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /System/Library/Frameworks/JavaVM.framework\nsudo rm -rf /usr/bin/java\nsudo rm -rf /usr/bin/javac\nsudo rm -rf /usr/bin/javadoc\nsudo rm -rf /usr/bin/javah\nsudo rm -rf /usr/bin/javap\nsudo rm -rf /usr/bin/javaws\nsudo rm -rf /var/db/receipts/com.oracle.jdk8u65.bom\nsudo rm -rf /var/db/receipts/com.oracle.jdk8u65.plist\nsudo rm -rf /var/db/receipts/com.oracle.jre.bom\nsudo rm -rf /var/db/receipts/com.oracle.jre.plist\nsudo rm -rf /var/root/Library/Preferences/com.oracle.javadeployment.plist\nsudo rm -rf ~/Library/Preferences/com.oracle.java.JavaAppletPlugin.plist\nsudo rm -rf ~/Library/Preferences/com.oracle.javadeployment.plist\nsudo rm -rf ~/.oracle_jre_usage\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/33908738#33908738", "question_id": 19039752, "answer_id": 33908738}, {"body": "<p>For yosomite imac OS x:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf/Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\n</code></pre>\n", "title": "Removing Java 8 JDK from Mac", "tags": ["java", "osx", "intellij-idea", "java-8"], "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac/34351645#34351645", "question_id": 19039752, "answer_id": 34351645}], "creation_date": 1380234412, "score": 91, "link": "http://stackoverflow.com/questions/19039752/removing-java-8-jdk-from-mac", "question_id": 19039752}, {"body": "<p>Recently I noticed declaring an array containing 64 elements is a lot faster (>1000 fold) than declaring the same type of array with 65 elements.</p>\n\n<p>Here is the code I used to test this:</p>\n\n<pre><code>public class Tests{\n    public static void main(String args[]){\n        double start = System.nanoTime();\n        int job = 100000000;//100 million\n        for(int i = 0; i &lt; job; i++){\n            double[] test = new double[64];\n        }\n        double end = System.nanoTime();\n        System.out.println(\"Total runtime = \" + (end-start)/1000000 + \" ms\");\n    }\n}\n</code></pre>\n\n<p>This runs in approximately 6 ms, if I replace <code>new double[64]</code> with <code>new double[65]</code> it takes approximately 7 seconds. This problem becomes exponentially more severe if the job is spread across more and more threads, which is where my problem originates from.</p>\n\n<p>This problem also occurs with different types of arrays such as <code>int[65]</code> or <code>String[65]</code>.\nThis problem does not occur with large strings: <code>String test = \"many characters\";</code>, but does start occurring when this is changed into <code>String test = i + \"\";</code></p>\n\n<p>I was wondering why this is the case and if it is possible to circumvent this problem.</p>\n", "tags": ["java", "arrays"], "title": "Declaring multiple arrays with 64 elements 1000 times faster than declaring array of 65 elements", "answers": [{"body": "<p>You are observing a behavior that is caused by the <strong>optimizations</strong> done by the JIT compiler of your Java VM. This behavior is reproducible triggered with scalar arrays up to 64 elements, and is not triggered with arrays larger than 64.</p>\n\n<p>Before going into details, let's take a closer look at the body of the loop:</p>\n\n<pre><code>double[] test = new double[64];\n</code></pre>\n\n<p>The body has no effect <em>(observable behavior)</em>. That means it makes no difference outside of the program execution whether this statement is executed or not. The same is true for the whole loop. So it might happen, that the code optimizer translates the loop to something <em>(or nothing)</em> with the same functional and different timing behavior.</p>\n\n<p>For benchmarks you should at least adhere to the following two guidelines. If you had done so, the difference would have been significantly smaller.</p>\n\n<ul>\n<li>Warm-up the JIT compiler (and optimizer) by executing the benchmark several times.</li>\n<li>Use the result of every expression and print it at the end of the benchmark. </li>\n</ul>\n\n<hr>\n\n<p>Now let's go into details. Not surprisingly there is an optimization that is triggered for scalar arrays not larger than 64 elements. The optimization is part of the <a href=\"http://en.wikipedia.org/wiki/Escape_analysis\">Escape analysis</a>. It puts small objects and small arrays onto the stack instead of allocating them on the heap - or even better optimize them away entirely. You can find some information about it in the following article by Brian Goetz written in 2005:</p>\n\n<ul>\n<li><a href=\"http://www.ibm.com/developerworks/java/library/j-jtp09275/index.html\">Urban performance legends, revisited: Allocation is faster than you think, and getting faster</a></li>\n</ul>\n\n<p>The optimization can be disabled with the command line option <code>-XX:-DoEscapeAnalysis</code>. The magic value 64 for scalar arrays can also be changed on the command line. If you execute your program as follows, there will be no difference between arrays with 64 and 65 elements:</p>\n\n<pre><code>java -XX:EliminateAllocationArraySizeLimit=65 Tests\n</code></pre>\n\n<p>Having said that, I strongly discourage using such command line options. I doubt that it makes a huge difference in a realistic application. I would only use it, if I would be absolutely convinced of the necessity - and not based on the results of some pseudo benchmarks.</p>\n", "title": "Declaring multiple arrays with 64 elements 1000 times faster than declaring array of 65 elements", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/18810505/declaring-multiple-arrays-with-64-elements-1000-times-faster-than-declaring-arra/18810801#18810801", "question_id": 18810505, "answer_id": 18810801}, {"body": "<p>There are any number of ways that there can be a difference, based on the size of an object.</p>\n\n<p>As nosid stated, the JITC may be (most likely is) allocating small \"local\" objects on the stack, and the size cutoff for \"small\" arrays may be at 64 elements.</p>\n\n<p>Allocating on the stack is significantly faster than allocating in heap, and, more to the point, stack does not need to be garbage collected, so GC overhead is greatly reduced.  (And for this test case GC overhead is likely 80-90% of the total execution time.)</p>\n\n<p>Further, once the value is stack-allocated the JITC can perform \"dead code elimination\", determine that the result of the <code>new</code> is never used anywhere, and, after assuring there are no side-effects that would be lost, eliminate the entire <code>new</code> operation, and then the (now empty) loop itself.</p>\n\n<p>Even if the JITC does not do stack allocation, it's entirely possible for objects smaller than a certain size to be allocated in a heap differently (eg, from a different \"space\") than larger objects.  (Normally this would not produce quite so dramatic timing differences, though.)</p>\n", "title": "Declaring multiple arrays with 64 elements 1000 times faster than declaring array of 65 elements", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/18810505/declaring-multiple-arrays-with-64-elements-1000-times-faster-than-declaring-arra/18812944#18812944", "question_id": 18810505, "answer_id": 18812944}], "creation_date": 1379234308, "score": 91, "link": "http://stackoverflow.com/questions/18810505/declaring-multiple-arrays-with-64-elements-1000-times-faster-than-declaring-arra", "question_id": 18810505}, {"body": "<p>In Java the <code>private</code> access modifier consider as safe since it is not visible outside of the class. Then outside world doesn't know about that method either. </p>\n\n<p>But I thought Java reflection can use to break this rule. Consider following case:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ProtectedPrivacy{\n\n  private String getInfo(){\n     return \"confidential\"; \n  }\n\n}  \n</code></pre>\n\n<p>Now from another class I am going to get Info:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class BreakPrivacy{\n\n   public static void main(String[] args) throws Exception {\n       ProtectedPrivacy protectedPrivacy = new ProtectedPrivacy();\n       Method method = protectedPrivacy.getClass().getDeclaredMethod(\"getInfo\", null);\n       method.setAccessible(true);\n       Object result = method.invoke(protectedPrivacy);\n       System.out.println(result.toString());\n   }\n} \n</code></pre>\n\n<p>At this moment I just thought still private method safe since to do some thing like above we must know method name. But if class which contain private method written by some one else we don't have visibility of those.</p>\n\n<p>But my point become invalid since below line of code.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Method method[] = new ProtectedPrivacy().getClass().getDeclaredMethods();\n</code></pre>\n\n<p>Now this <code>method[]</code> contains all the things need to do above thing. My question is, is there a way to avoid this kind of things doing using Java reflection?</p>\n\n<p>I am quote some point from <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow\">Java Documentation</a> to clarify my question.</p>\n\n<blockquote>\n  <p>Tips on Choosing an Access Level: </p>\n  \n  <p>If other programmers use your class, you want to ensure that errors\n  from misuse cannot happen. Access levels can help you do this.Use the\n  most restrictive access level that makes sense for a particular\n  member. Use private unless you have a good reason not to.</p>\n</blockquote>\n", "tags": ["java", "reflection", "private", "access-modifiers"], "title": "Are private methods really safe?", "answers": [{"body": "<p>It depends on what you mean by \"safe\". If you're running with a security manager that allows this sort of thing, then yes, you can do all kinds of nasty things with reflection. But then in that kind of environment the library can probably just be modified to make the method public anyway.</p>\n\n<p>Access control is effectively \"advisory\" in an environment like that - you're effectively trusting the code to play nicely. If you <em>don't</em> trust the code you're running, you should use a more restrictive security manager.</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19856710#19856710", "question_id": 19856630, "answer_id": 19856710}, {"body": "<p>By saying 'safe', you are protecting you or other developers, which are using your API to not harm the object by calling your private method. But if you or they really need to call this method, they can do it with Reflection.</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19856728#19856728", "question_id": 19856630, "answer_id": 19856728}, {"body": "<p>With facility, there comes responsibility. There are thing's you <strong>can't</strong> do, &amp; things you <strong>can</strong> do but you <strong>shouldn't</strong> do.</p>\n\n<p>Private modifier is provided/used as/in the most restricted manner. Members which should not be visible outside the class shall be defined as private. But this can be broken with Reflection as we see. But this does not mean that you should not use private - or they are unsafe. It is about you shall use things judiciously or in constructive manner (like reflection).</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19857211#19857211", "question_id": 19856630, "answer_id": 19857211}, {"body": "<p>Assuming you trust the client programmer of your API, another way of looking at is how 'safe' it is for them to use those particular functions.</p>\n\n<p>Your publicly available functions should provide a clear, well-documented, rarely-changing interface into your code. Your private functions can be considered an implementation detail and may change over time, so are not safe to use directly.</p>\n\n<p>If a client programmer goes out of their way to circumvent these abstractions, they are in a way declaring that they know what they are doing. More importantly, they understand that it is unsupported and may stop working with future versions of your code.</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19857528#19857528", "question_id": 19856630, "answer_id": 19857528}, {"body": "<p>The question is who are you trying to <em>save</em> it from. In my opinion, such a client of your code is the one at a loss here.</p>\n\n<p>Any piece of code (written by you or others) which tries to access a <code>private</code> member of the above class is essentially digging its own grave. <code>private</code> members don't make a part of the <em>public</em> API and are subject to change without notice. If a client happens to consume one of such private members in the manner given above, it's going to break if it upgrades to a newer version of the API in which the private member got modified.</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19857611#19857611", "question_id": 19856630, "answer_id": 19857611}, {"body": "<p>Access modifiers have nothing to do with security.  In fact you can and should look at access modifiers as the reverse of security -- it is not to protect your data or algorithims, it is to protect people from the requirement to know about your data and algorithims.  This is why the default modifier is package -- if they are working on the package they probably already need to know.</p>\n\n<p>Along with the knowledge of the data and the methods of your code, comes the responibility to know when and how to use it.  You don't put private on your inIt method to keep someone from finding out about it, you do so because (a) they aren't going to know that you only call that after foo and only if bar = 3.1415 and (b) because it does them no good to know about it.</p>\n\n<p>Access modifers can be summed up in a simple phrase \"TMI, dude, I <strong>so</strong> didn't need to know that\".</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19864184#19864184", "question_id": 19856630, "answer_id": 19864184}, {"body": "<p><code>private</code> is not for security, it is to keep the code clean and to prevent mistakes. It allows users to modularize the code (and how it is developed) without having to worry about <em>all</em> the details of the other modules</p>\n\n<p>Once you release your code, people can figure out how it works. There's no way to \"hide\" the logic if you eventually want the code to run on a computer. Even compiling to binary is jsut a level of obfuscation.</p>\n\n<p>So, there's no way that you can set up your API to do special things that you don't want others to be able to call. In the case of a web API, you could put the methods you want control over on the server side.</p>\n", "title": "Are private methods really safe?", "tags": ["java", "reflection", "private", "access-modifiers"], "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe/19873339#19873339", "question_id": 19856630, "answer_id": 19873339}], "creation_date": 1383906147, "score": 89, "link": "http://stackoverflow.com/questions/19856630/are-private-methods-really-safe", "question_id": 19856630}, {"body": "<p>Nead clarification for following code:</p>\n\n<pre><code>StringBuilder sample = new StringBuilder();\nStringBuilder referToSample = sample;\nreferToSample.append(\"B\");\nSystem.out.println(sample);\n</code></pre>\n\n<p>This will print <code>B</code> so that proves <code>sample</code> and <code>referToSample</code> objects refer to the same memory reference.</p>\n\n<pre><code>StringBuilder sample = new StringBuilder();\nStringBuilder referToSample = sample;\nsample.append(\"A\");\nreferToSample.append(\"B\");\nSystem.out.println(referToSample);\n</code></pre>\n\n<p>This will print <code>AB</code> that also proves the same.</p>\n\n<pre><code>StringBuilder sample = new StringBuilder();\nStringBuilder referToSample = sample;\nreferToSample = null;\nreferToSample.append(\"A\");\nSystem.out.println(sample);\n</code></pre>\n\n<p>Obviously this will throw <code>NullPointerException</code> because I am trying to call <code>append</code> on a null reference.</p>\n\n<pre><code>StringBuilder sample = new StringBuilder();\nStringBuilder referToSample = sample;\nreferToSample = null;\nsample.append(\"A\");\nSystem.out.println(sample);\n</code></pre>\n\n<p>So Here is my question, why is  the last code sample not throwing <code>NullPointerException</code> because what I see and understand from first two examples is if two objects referring to same object then if we change any value then it will also reflect to other because both are pointing to same memory reference. So why is that rule not applying here? If I assign <code>null</code> to referToSample then sample should also be null and it should throw a NullPointerException but it is not throwing one, why?</p>\n", "tags": ["java", "reference", "nullpointerexception"], "title": "Why is this not throwing a NullPointerException?", "answers": [{"body": "<p>In a nutshell: You assign null to a reference variable, not to an object.</p>\n\n<p>In one example you change the <em>state</em> of an object that is referred to by two reference variables. When this occurs, both reference variables will reflect the change.</p>\n\n<p>In another example, you change the reference assigned to one variable, but this has no effect on the object itself, and so the second variable, which still refers to the original object, will not notice any change in object state.</p>\n\n<hr>\n\n<p>So as to your specific \"rules\":</p>\n\n<blockquote>\n  <p>if two objects referring to same object then if we change any value then it will also reflect to other because both are pointing to same memory reference.</p>\n</blockquote>\n\n<p>Again, you refer to changing the <em>state</em> of the one object that both <em>variables</em> refer to.</p>\n\n<blockquote>\n  <p>So why is that rule not applying here? If I assign null to referToSample then sample should also be null and it should throw nullPointerException but it is not throwing, why?</p>\n</blockquote>\n\n<p>Again, you change the <em>reference</em> of one variable which has absolutely <em>no effect</em> on the <em>reference</em> of the other variable.</p>\n\n<p>These are two completely different actions and will result in two completely different results.</p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18636585#18636585", "question_id": 18636561, "answer_id": 18636585}, {"body": "<p>Sample has in Memory PLACE A,\nreferToSample has PLACE B</p>\n\n<p>in PLACE A is the StringBuilder Object().\nin PLACE B is the reference to PLACE A</p>\n\n<p>You only overwrite the reference, not the object.</p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18636588#18636588", "question_id": 18636561, "answer_id": 18636588}, {"body": "<p><code>null</code> assignments do not change <em>value</em> by globally destroying that object. That kind of behavior would lead to hard-to-track bugs and counterintuitive behavior. They only break that specific <em>reference</em>.</p>\n\n<p>For simplicity, let's say that <code>sample</code> points to address 12345. This is probably not the address, and is only used to make things simple here. <strike>The address is <em>typically</em> represented with the weird hexadecimal given in <code>Object#hashCode()</code>, but this is implementation-dependent.</strike><sup>1</sup></p>\n\n<pre><code>StringBuilder sample = new StringBuilder(); //sample refers to \n//StringBuilder at 12345 \n\nStringBuilder referToSample = sample; //referToSample refers to \n//the same StringBuilder at 12345 \n//SEE DIAGRAM 1\n\nreferToSample = null; //referToSample NOW refers to 00000, \n//so accessing it will throw a NPE. \n//The other reference is not affected.\n//SEE DIAGRAM 2\n\nsample.append(\"A\"); //sample STILL refers to the same StringBuilder at 12345 \nSystem.out.println(sample);\n</code></pre>\n\n<p><em>From the lines marked <code>See diagram</code> the diagrams of the objects at that time are as follows:</em></p>\n\n<p><strong>Diagram 1:</strong></p>\n\n<pre><code>[StringBuilder sample]    -----------------&gt; [java.lang.StringBuilder@00012345]\n                                                      \u2191\n[StringBuilder referToSample] ------------------------/\n</code></pre>\n\n<p><strong>Diagram 2:</strong></p>\n\n<pre><code>[StringBuilder sample]    -----------------&gt; [java.lang.StringBuilder@00012345]\n\n[StringBuilder referToSample] ----&gt;&gt; [null pointer]\n</code></pre>\n\n<p>Diagram 2 shows that annulling <code>referToSample</code> does not break the reference of <code>sample</code> to the StringBuilder at <code>00012345</code>.</p>\n\n<p><sub><sup>1</sup>GC considerations make this implausible.</sub></p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18636608#18636608", "question_id": 18636561, "answer_id": 18636608}, {"body": "<p>Here 'sample' and 'referToSample' are referencing the same object.That is the concept of different pointer accessing same memory location. So assigning one reference variable to null does not destroy the object.</p>\n\n<pre><code>   referToSample = null;\n</code></pre>\n\n<p>means 'referToSample' only pointing to null , object remains same and other reference variable are working fine. So for 'sample' which does not pointing to null and have a valid object </p>\n\n<pre><code>   sample.append(\"A\");\n</code></pre>\n\n<p>works fine. But if we try to append null to 'referToSample', it will show NullPointException.\nThat is,</p>\n\n<pre><code>   referToSample .append(\"A\");-------&gt; NullPointerException\n</code></pre>\n\n<p>That is why you got NullPointerException in your third code snippet.</p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18640576#18640576", "question_id": 18636561, "answer_id": 18640576}, {"body": "<p>Initially it was as you said <code>referToSample</code> was referring to <code>sample</code> as shown below:</p>\n\n<p><em><strong>1. Scenario1:</em></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/u8k4M.png\" alt=\"referToSample refers to sample\"></p>\n\n<p><em><strong>2. Scenario1 (cont.):</em></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/PGZ8Y.png\" alt=\"referToSample.append(&quot;B&quot;)\"></p>\n\n<ul>\n<li><p>Here as <code>referToSample</code> was referring to <code>sample</code>, so it appended \"B\"\nwhile you write </p>\n\n<p><code>referToSample.append(\"B\")</code></p></li>\n</ul>\n\n<p>Same thing happend in <strong><em>Scenario2 :</em></strong></p>\n\n<p>But, in  <strong><em>3. Scenario3 :</em></strong> as hexafraction said,</p>\n\n<p>when you assign <code>null</code> to <code>referToSample</code> when it was referring <code>sample</code> it did not change <strong>value</strong> instead it just breaks the <strong>reference</strong> from <code>sample</code>, and now it points <em>nowhere</em>. as shown below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/VHivx.png\" alt=\"when referToSample = null\"></p>\n\n<p>Now, as <code>referToSample</code> points <em>nowhere</em>, so while you <code>referToSample.append(\"A\");</code> it would not be have any values or reference where it can append A. So, it would throw <code>NullPointerException</code>.</p>\n\n<p>BUT <code>sample</code> is still the same as you had initialized it with </p>\n\n<p><code>StringBuilder sample = new StringBuilder();</code> so it has been initalized, so now it can append A, and will not throw <code>NullPointerException</code></p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18644819#18644819", "question_id": 18636561, "answer_id": 18644819}, {"body": "<p>See this simple diagram:</p>\n\n<p><img src=\"http://i.stack.imgur.com/fdMPJ.png\" alt=\"diagram\"></p>\n\n<p>When you call a <strong>method</strong> on <code>referToSample</code>, then <code>[your object]</code> is updated, so it affects <code>sample</code> too. But when you say <code>referToSample = null</code>, then you're simply changing what <code>referToSample</code> <strong>refers</strong> to.</p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18648643#18648643", "question_id": 18636561, "answer_id": 18648643}, {"body": "<p>Whenever a <strong>new</strong> keyword is used it Creates a Object at the Heap</p>\n\n<p>1)StringBuilder sample = new StringBuilder(); </p>\n\n<p>2)<strong>StringBuilder referToSample = sample;</strong></p>\n\n<p>In 2) the Reference of referSample is created on same object sample</p>\n\n<p>thus <strong>referToSample = null;</strong> \nis Nulling Only the referSample Reference giving no effect to sample\nthat's why you are not getting NULL Pointer Exception \nThanks to Java's Garbage Collection</p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18824858#18824858", "question_id": 18636561, "answer_id": 18824858}, {"body": "<p>Just easy, Java don't have pass by reference, It just pass object reference.</p>\n", "title": "Why is this not throwing a NullPointerException?", "tags": ["java", "reference", "nullpointerexception"], "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception/18866936#18866936", "question_id": 18636561, "answer_id": 18866936}], "creation_date": 1378384700, "score": 88, "link": "http://stackoverflow.com/questions/18636561/why-is-this-not-throwing-a-nullpointerexception", "question_id": 18636561}, {"body": "<p>I am having trouble understanding the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\"><code>Stream</code></a> interface in Java 8, especially where it has to do with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\"><code>Spliterator</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\"><code>Collector</code></a> interfaces. My problem is that I simply can't understand yet the <code>Spliterator</code> and the <code>Collector</code> interfaces, and as a result the <code>Stream</code> interface is still somewhat obscure to me.</p>\n\n<p>What exactly is a <code>Spliterator</code> and a <code>Collector</code>, and how can I use them? If I am willing to write my own <code>Spliterator</code> or <code>Collector</code> (and probably my own <code>Stream</code> in that process), what should I do and not do?</p>\n\n<p>I read some examples scattered around the web, but since everything here is stil new and subject to changes, examples and tutorials are still very sparse.</p>\n", "tags": ["java", "lambda", "java-8", "spliterator"], "title": "Understanding Spliterator, Collector and Stream in Java 8", "answers": [{"body": "<p><code>Spliterator</code> basically means \"splittable Iterator\".</p>\n\n<p>Single thread can traverse/process the entire Spliterator itself, but the Spliterator also has a method <code>trySplit()</code> which will \"split off\" a section for someone else (typically, another thread) to process -- leaving the current spliterator with less work.</p>\n\n<p><code>Collector</code> combines the specification of a <code>reduce</code> function (of map-reduce fame), with an initial value, and a value to combine two results (thus enabling results from Spliterated streams of work, to be combined.)</p>\n\n<p>For example, the most basic Collector would have an initial vaue of 0, add an integer onto an existing result, and would 'combine' two results by adding them. Thus summing a spliterated stream of integers.</p>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html#trySplit--\"><code>Spliterator.trySplit()</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\"><code>Collector&lt;T,A,R&gt;</code></a></li>\n</ul>\n", "title": "Understanding Spliterator, Collector and Stream in Java 8", "tags": ["java", "lambda", "java-8", "spliterator"], "link": "http://stackoverflow.com/questions/19235606/understanding-spliterator-collector-and-stream-in-java-8/19235857#19235857", "question_id": 19235606, "answer_id": 19235857}, {"body": "<p>You should almost certainly never have to deal with <code>Spliterator</code> as a user; it should only be necessary if you're writing <code>Collection</code> types yourself and <em>also</em> intending to optimize parallelized operations on them. </p>\n\n<p>For what it's worth, a <code>Spliterator</code> is a way of operating over the elements of a collection in a way that it's easy to split off part of the collection, e.g. because you're parallelizing and want one thread to work on one part of the collection, one thread to work on another part, etc.</p>\n\n<p>You should essentially never be saving values of type <code>Stream</code> to a variable, either.  <code>Stream</code> is sort of like an <code>Iterator</code>, in that it's a one-time-use object that you'll almost always use in a fluent chain, as in the Javadoc example:</p>\n\n<pre><code>int sum = widgets.stream()\n                  .filter(w -&gt; w.getColor() == RED)\n                  .mapToInt(w -&gt; w.getWeight())\n                  .sum();\n</code></pre>\n\n<p><code>Collector</code> is the most generalized, abstract possible version of a \"reduce\" operation a la map/reduce; in particular, it needs to support parallelization and finalization steps.  Examples of <code>Collector</code>s include:</p>\n\n<ul>\n<li>summing, e.g. <code>Collectors.reducing(0, (x, y) -&gt; x + y)</code></li>\n<li>StringBuilder appending, e.g. <code>Collectors.of(StringBuilder::new, StringBuilder::append, StringBuilder::append, StringBuilder::toString)</code></li>\n</ul>\n", "title": "Understanding Spliterator, Collector and Stream in Java 8", "tags": ["java", "lambda", "java-8", "spliterator"], "link": "http://stackoverflow.com/questions/19235606/understanding-spliterator-collector-and-stream-in-java-8/19235863#19235863", "question_id": 19235606, "answer_id": 19235863}], "creation_date": 1381183512, "score": 86, "link": "http://stackoverflow.com/questions/19235606/understanding-spliterator-collector-and-stream-in-java-8", "question_id": 19235606}, {"body": "<p>I am working on a simple video game program for school and I have created a method where the player gets 15 health points if that method is called. I have to keep the health at a max of 100 and with my limited programming ability at this point I am doing something like this.</p>\n\n<pre><code>public void getHealed(){\n    if(health &lt;= 85)\n        health += 15;\n    else if(health == 86)\n        health += 14;\n    else if(health == 87)\n    health += 13; \n}// this would continue so that I would never go over 100\n</code></pre>\n\n<p>I understand my syntax about isnt perfect but my question is, what may be a better way to do it, because I also have to do a similar thing with the damage points and not go below 0.</p>\n", "tags": ["java", "if-statement", "switch-statement"], "title": "How can I increment a variable without exceeding a maximum value?", "answers": [{"body": "<p>I would just do this. It basically takes the minimum between 100 (the max health) and what the health would be with 15 extra points. It ensures that the user's health does not exceed 100.</p>\n\n<pre><code>public void getHealed() {\n    health = Math.min(health + 15, 100);\n}\n</code></pre>\n\n<p>To ensure that hitpoints do not drop below zero, you can use a similar function: <code>Math.max</code>.</p>\n\n<pre><code>public void takeDamage(int damage) {\n    if(damage &gt; 0) {\n        health = Math.max(health - damage, 0);\n    }\n}\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18647232#18647232", "question_id": 18647214, "answer_id": 18647232}, {"body": "<p>You don't need a separate case for each <code>int</code> above <code>85</code>.  Just have one <code>else</code>, so that if the health is already <code>86</code> or higher, then just set it directly to <code>100</code>.</p>\n\n<pre><code>if(health &lt;= 85)\n    health += 15;\nelse\n    health = 100;\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18647234#18647234", "question_id": 18647214, "answer_id": 18647234}, {"body": "<p>just add 15 to the health, so:</p>\n\n<pre><code>health += 15;\nif(health &gt; 100){\n    health = 100;\n}\n</code></pre>\n\n<p>However, as bland has noted, sometimes with multi-threading (multiple blocks of code executing at once) having the health go over 100 at <em>any</em> point can cause problems, and changing the health property multiple times can also be bad.  In that case, you could do this, as mentioned in other answers.</p>\n\n<pre><code>if(health + 15 &gt; 100) {\n    health = 100;\n} else {\n    health += 15;\n}\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18647238#18647238", "question_id": 18647214, "answer_id": 18647238}, {"body": "<p>Maybe this?</p>\n\n<pre><code>public void getHealed()\n{\n  if (health &lt;= 85)\n  {\n    health += 15;\n  } else\n  {\n    health = 100;\n  }\n}\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18647286#18647286", "question_id": 18647214, "answer_id": 18647286}, {"body": "<p>I think an idiomatic, object oriented way of doing this is to have a <code>setHealth</code> on the <code>Character</code> class. The implementation of that method will look like this:</p>\n\n<pre><code>public void setHealth(int newValue) {\n    health = Math.max(0, Math.min(100, newValue))\n}\n</code></pre>\n\n<p>This prevents the health from going below 0 or higher than 100, regardless of what you set it to.  </p>\n\n<hr>\n\n<p>Your <code>getHealed()</code> implementation can just be this:</p>\n\n<pre><code>public void getHealed() {\n    setHealth(getHealth() + 15);\n}\n</code></pre>\n\n<p>Whether it makes sense for the <code>Character</code> to have-a <code>getHealed()</code> method is an exercise left up to the reader :)</p>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18647315#18647315", "question_id": 18647214, "answer_id": 18647315}, {"body": "<p>I believe this will do</p>\n\n<pre><code>if (health &gt;= 85) health = 100;\nelse health += 15;\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><p>If the gap for healing is 15 or less, health will become 100.</p></li>\n<li><p>Otherwise if the gap is bigger than 15, it will add 15 to the health.</p></li>\n</ul>\n\n<p>So for example: if the health is 83, it will become 98 but not 100.</p>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18649946#18649946", "question_id": 18647214, "answer_id": 18649946}, {"body": "<p>If you want to be cheeky and fit your code on one line, you could use a <a href=\"http://en.wikipedia.org/wiki/%3F%3a\" rel=\"nofollow\">ternary operator</a>:</p>\n\n<pre><code>health += (health &lt;= 85) ? 15 : (100 - health);\n</code></pre>\n\n<p>Note that some people will frown upon this syntax due to (arguably) bad readability!</p>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18650103#18650103", "question_id": 18647214, "answer_id": 18650103}, {"body": "<p>I am just going to offer a more reusable slice of code, its not the smallest but you can use it with any amount so its still worthy to be said</p>\n\n<pre><code>health += amountToHeal;\nif (health &gt;= 100) \n{ \n    health = 100;\n}\n</code></pre>\n\n<p>You could also change the 100 to a maxHealth variable if you want to add stats to the game your making, so the whole method could be something like this</p>\n\n<pre><code>private int maxHealth = 100;\npublic void heal(int amountToHeal)\n{\n    health += amountToHeal;\n    if (health &gt;= maxHealth) \n    { \n        health = maxHealth;\n    }\n}\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>For extra information</p>\n\n<p>You could do the same for when the player gets damaged, but you wouldn't need a minHealth because that would be 0 anyways. Doing it this way you would be able to damage and heal any amounts with the same code.</p>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18651038#18651038", "question_id": 18647214, "answer_id": 18651038}, {"body": "<pre><code>   private int health;\n    public void Heal()\n    {\n        if (health &gt; 85)\n            health = 100;\n        else\n            health += 15;\n    }\n    public void Damage()\n    {\n        if (health &lt; 15)\n            health = 0;\n        else\n            health -= 15;\n    }\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18653957#18653957", "question_id": 18647214, "answer_id": 18653957}, {"body": "<p>I know this is a school project, but if you wanted to expand your game later on and be able to upgrade your healing power, write the function like so:</p>\n\n<pre><code>public void getHealed(healthPWR) {\n    health = Math.min(health + healthPWR, 100);\n}\n</code></pre>\n\n<p>and call out the function:</p>\n\n<pre><code>getHealed(15);\ngetHealed(25);\n</code></pre>\n\n<p>...etc...</p>\n\n<p>Furthermore you can create your max HP by creating a variable that is not local to the function. Since I don't know what language you're using, I will not show an example because it might have the wrong syntax.</p>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18670055#18670055", "question_id": 18647214, "answer_id": 18670055}, {"body": "<pre><code>health = health &lt; 85 ? health + 15 : 100;\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18686378#18686378", "question_id": 18647214, "answer_id": 18686378}, {"body": "<p>I would make a static method in a helper class. This way, rather than repeating code for every value which need to fit within some boundaries, you can have one all purpose method. It would accept two values defining the min and max, and a third value to be clamped within that range.</p>\n\n<pre><code>class HelperClass\n{\n    // Some other methods\n\n    public static int clamp( int min, int max, int value )\n    {\n        if( value &gt; max )\n            return max;\n        else if( value &lt; min )\n            return min;\n        else\n            return value;\n    }\n}\n</code></pre>\n\n<p>For your case, you would declare your minimum and maximum health somewhere.</p>\n\n<pre><code>final int HealthMin = 0;\nfinal int HealthMax = 100;\n</code></pre>\n\n<p>Then call the function passing in your min, max, and adjusted health.</p>\n\n<pre><code>health = HelperClass.clamp( HealthMin, HealthMax, health + 15 );\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18728880#18728880", "question_id": 18647214, "answer_id": 18728880}, {"body": "<p>If I wanted to be thread safe I'd do it this way rather than using a synchronized block. </p>\n\n<p>The atomic compareAndSet achieves the same outcome as synchronized without the overhead.</p>\n\n<pre><code>AtomicInteger health = new AtomicInteger();\n\npublic void addHealth(int value)\n{\n    int original = 0;\n    int newValue = 0;\n    do\n    {\n        original = health.get();\n        newValue = Math.min(100, original + value);\n    }\n    while (!health.compareAndSet(original, newValue));\n}\n</code></pre>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/18730689#18730689", "question_id": 18647214, "answer_id": 18730689}, {"body": "<p>Most simple way using the modulus operator.</p>\n\n<p>health = (health + 50) % 100;</p>\n\n<p>health will never equal or exceed 100.</p>\n", "title": "How can I increment a variable without exceeding a maximum value?", "tags": ["java", "if-statement", "switch-statement"], "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value/33745713#33745713", "question_id": 18647214, "answer_id": 33745713}], "creation_date": 1378421589, "score": 85, "link": "http://stackoverflow.com/questions/18647214/how-can-i-increment-a-variable-without-exceeding-a-maximum-value", "question_id": 18647214}, {"body": "<p>Is it good/bad/acceptable practice to pass the current object in a method call.  As in:</p>\n\n<pre><code>public class Bar{\n    public Bar(){}\n\n    public void foo(Baz baz){\n        //  modify some values of baz\n    }\n}\n\npublic class Baz{\n    //constructor ommited\n\n    public void method(){\n        Bar bar = new Bar();\n        bar.foo(this);\n    }\n}\n</code></pre>\n\n<p>Specifically, is the line <code>bar.foo(this)</code> acceptable?</p>\n", "tags": ["java"], "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "answers": [{"body": "<p>There's no reason not to use it, <code>this</code> is the current instance and it's perfectly legitimate to use. In fact there's often no clean way to omit it.</p>\n\n<p>So use it.</p>\n\n<p>As it's hard to convince it's acceptable without example (a negative answer to such a question is always easier to argument), I just opened one of the most common java.lang classes, the <code>String</code> one, and of course I found instances of this use, for example</p>\n\n<pre><code>1084        // Argument is a String\n1085        if (cs.equals(this))\n1086            return true;\n</code></pre>\n\n<p>Look for <code>\"(this\"</code> in big \"accepted\" projects, you won't fail to find it.</p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441899#17441899", "question_id": 17441871, "answer_id": 17441899}, {"body": "<p>It's perfectly normal and perfectly acceptable.</p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441905#17441905", "question_id": 17441871, "answer_id": 17441905}, {"body": "<p>this stands for the current object. What you are doing is sytatically correct but i don't see a need of this if you are calling the method in the same class. </p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441912#17441912", "question_id": 17441871, "answer_id": 17441912}, {"body": "<p><strong>Yes.</strong> you can use it.Its just common in programming to pass <code>this</code>.But there are pros and cons about using that.Still it is not hazardous  to do so.</p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441913#17441913", "question_id": 17441871, "answer_id": 17441913}, {"body": "<p>There's nothing wrong with that. What is <strong>NOT a good practice</strong> is to do the same inside constructors, because you would give a reference to a not-yet-completely-initialized object.</p>\n\n<p>There is a sort of similar post here: <a href=\"http://stackoverflow.com/questions/9851813/java-leaking-this-in-constructor\">Java leaking this in constructor</a>\n where they give an explanation of why the latter is a bad practice.</p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441924#17441924", "question_id": 17441871, "answer_id": 17441924}, {"body": "<p>Acceptable</p>\n\n<p>Snippet from Oracle JAVA docs:</p>\n\n<blockquote>\n  <p>Within an instance method or a constructor, this is a reference to the\n  current object \u2014 the object whose method or constructor is being\n  called. You can refer to any member of the current object from within\n  an instance method or a constructor by using this.</p>\n  \n  <p>Using this with a Field</p>\n  \n  <p>The most common reason for using the this keyword is because a field\n  is shadowed by a method or constructor parameter.</p>\n</blockquote>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441959#17441959", "question_id": 17441871, "answer_id": 17441959}, {"body": "<p>Everything in java is passed by value. But objects are NEVER passed to the method!<br>\nWhen java passes an object to a method, it first makes a copy of a reference to the object, not a copy of the object itself. Hence this is pefectly used method in java. And most commonly followed usage. </p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17441981#17441981", "question_id": 17441871, "answer_id": 17441981}, {"body": "<p><strong>Yes</strong>, but you should be careful about two things  </p>\n\n<blockquote>\n  <ol>\n  <li>Passing <strong>this</strong> when the object has not been constructed yet (i.e. in its constructor)  </li>\n  <li>Passing this to a long-living object, that will keep the reference alive and will prevent the <strong>this</strong> object from being garbage collected.</li>\n  </ol>\n</blockquote>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17444791#17444791", "question_id": 17441871, "answer_id": 17444791}, {"body": "<p><strong>It is bad practice</strong> to pass the current object in a method call if there less complex alternatives to achieve the same behaviour.</p>\n\n<p>By definition, a bidirectional association is created as soon as <code>this</code> is passed from one object to another.</p>\n\n<p>To quote Refactoring, by Martin Fowler:</p>\n\n<blockquote>\n  <p><strong><a href=\"http://www.google.com/search?q=Change%20Bidirectional%20Association%20to%20Unidirectional\" rel=\"nofollow\">Change Bidirectional Association to Unidirectional (200)</a></strong></p>\n  \n  <p>Bidirectional associations are useful, but they carry a price. The\n  price is the added complexity of maintaining the two-way links and\n  ensuring that objects are properly created and removed. Bidirectional\n  associations are not natural for many programmers, so they often are a\n  source of errors</p>\n  \n  <p>...</p>\n  \n  <p>You should use bidirectional associations when you need to but not\n  when you don\u2019t. As soon as you see a bidirectional association is no\n  longer pulling its weight, drop the unnecessary end.</p>\n</blockquote>\n\n<p>So, theoretically, we should be hearing alarm bells when we find we need to pass <code>this</code> and try really hard to think of other ways to solve the problem at hand. There are, of course, times when, at last resort, it makes sense to do it. </p>\n\n<p>Also it is often necessary to corrupt your design temporarily, doing 'bad practice things', during a longer term refactoring of your code for an overall improvement. (One step back, two steps forward).</p>\n\n<p>In practice I have found my code has improved <strong>massively</strong> by avoiding bidirectional links like the plague.</p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17453992#17453992", "question_id": 17441871, "answer_id": 17453992}, {"body": "<p>Just to add one more example where passing <code>this</code> is correct and follows good design: <a href=\"http://www.vincehuston.org/dp/visitor.html\" rel=\"nofollow\">Visitor pattern</a>. In Visitor design pattern, method <code>accept(Visitor v)</code> is typically implemented in a way it just calls <code>v.visit(this)</code>.</p>\n", "title": "Is passing &#39;this&#39; in a method call accepted practice in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java/17563627#17563627", "question_id": 17441871, "answer_id": 17563627}], "creation_date": 1372835680, "score": 85, "link": "http://stackoverflow.com/questions/17441871/is-passing-this-in-a-method-call-accepted-practice-in-java", "question_id": 17441871}, {"body": "<p>I was going through a document which talks about <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\">just-in-time compiler</a> (JIT) optimization techniques for Java. One of them was \"loop inversion\". And the document says:</p>\n\n<blockquote>\n  <p>You replace a regular <code>while</code> loop with a <code>do-while</code> loop. And the\n  <code>do-while</code> loop is set within an <code>if</code> clause. This replacement leads to two fewer jumps.</p>\n</blockquote>\n\n<p>How does loop inversion work and how does it optimize our code path?</p>\n\n<p><strong>N.B.:</strong> <em>It would be great if somebody can explain with an example of Java code and how JIT optimizes it to native code and why is it optimal in modern processors.</em></p>\n", "tags": ["java", "jvm", "jit", "machine-instruction"], "title": "What is the loop inversion technique?", "answers": [{"body": "<p>This can optimize a loop that is always executed at least once.  </p>\n\n<p>A regular <code>while</code> loop will then always jump back to the start at least once and jump to the end once at the end. An example of a simple loop running once:  </p>\n\n<pre><code>int i = 0;\nwhile (i++ &lt; 1) {\n    //do something\n}  \n</code></pre>\n\n<p>A <code>do-while</code> loop on the other hand will skip the first and last jump. Here is an equivalent loop to the one above, that will run without jumps:  </p>\n\n<pre><code>int i = 0;\nif (i++ &lt; 1) {\n    do {\n        //do something\n    } while (i++ &lt; 1); \n}\n</code></pre>\n", "title": "What is the loop inversion technique?", "tags": ["java", "jvm", "jit", "machine-instruction"], "link": "http://stackoverflow.com/questions/20826718/what-is-the-loop-inversion-technique/20826771#20826771", "question_id": 20826718, "answer_id": 20826771}, {"body": "<pre><code>while (condition) { \n  ... \n}\n</code></pre>\n\n<p>Workflow:</p>\n\n<ol>\n<li>check condition;</li>\n<li>if false, jump to outside of loop;</li>\n<li>run one iteration;</li>\n<li>jump to top.</li>\n</ol>\n\n<hr>\n\n<pre><code>if (condition) do {\n  ...\n} while (condition);\n</code></pre>\n\n<p>Workflow:</p>\n\n<ol>\n<li>check condition;</li>\n<li>if false, jump to beyond the loop;</li>\n<li>run one iteration;</li>\n<li>check condition;</li>\n<li>if true, jump to step 3.</li>\n</ol>\n\n<hr>\n\n<p>Comparing these two you can easily see that the latter may not do any jumps at all, provided that there is exactly one step through the loop, and generally the number of jumps will be one less than the number of iterations. The former will have to jump back to check the condition, only to jump out of the loop when the condition is false.</p>\n\n<p>Jumps on modern pipelined CPU architectures can be quite expensive: as the CPU is finishing the execution of the checks before the jump, the instructions beyond that jump are already in the middle of the pipeline. All this processing must be discarded if the branch prediction fails. Further execution is delayed while the pipeline is being reprimed.</p>\n\n<p>Explaining the mentioned <em>branch prediction</em>: for each kind of conditional jump the CPU has <em>two</em> instructions, each including a <em>bet</em> on the outcome. For example, you would put an instruction saying \"<em>jump if not zero, betting on not zero</em>\" at the end of a loop because the jump will have to be made on all iterations except the last one. That way the CPU starts pumping its pipeline with the instructions following the jump target instead of those following the jump instruction itself.</p>\n\n<h2>Important note</h2>\n\n<p>Please do <em>not</em> take this as an example of how to optimize at the source code level. That would be entirely misguided since, as already clear from your question, the transformation from the first form into the second is something the JIT compiler does as a matter of routine, completely on its own.</p>\n", "title": "What is the loop inversion technique?", "tags": ["java", "jvm", "jit", "machine-instruction"], "link": "http://stackoverflow.com/questions/20826718/what-is-the-loop-inversion-technique/20826821#20826821", "question_id": 20826718, "answer_id": 20826821}, {"body": "<p>Let's walk through them:</p>\n\n<h3>The <code>while</code> version:</h3>\n\n<pre><code>void foo(int n) {\n    while (n &lt; 10) {\n       use(n);\n       ++n;\n    }\n    done();\n}\n</code></pre>\n\n<ol>\n<li>First we test <code>n</code> and jump to <code>done();</code> if the condition is not true.</li>\n<li>Then we use and increment <code>n</code>.</li>\n<li>Now we jump back to the condition.</li>\n<li>Rinse, repeat.</li>\n<li>When the condition is no longer true, we jump to <code>done()</code>.</li>\n</ol>\n\n<h3>The <code>do-while</code> version:</h3>\n\n<p><em>(Remember, we don't actually do this in the source code [that would introduce maintenance issues], the compiler/JIT does it for us.)</em></p>\n\n<pre><code>void foo(int n) {\n    if (n &lt; 10) {\n        do {\n            use(n);\n            ++n;\n        }\n        while (n &lt; 10);\n    }\n    done();\n}\n</code></pre>\n\n<ol>\n<li>First we test <code>n</code> and jump to <code>done();</code> if the condition is not true.</li>\n<li>Then we use and increment <code>n</code>.</li>\n<li>Now we test the condition and jump back if it's true.</li>\n<li>Rinse, repeat.</li>\n<li>When the condition is no longer true, we flow (not jump) to <code>done()</code>.</li>\n</ol>\n\n<p>So for instance, if <code>n</code> starts out being <code>9</code>, we never jump at all in the <code>do-while</code> version, whereas in the <code>while</code> version we have to jump back to the beginning, do the test, and then jump back to the end when we see it isn't true.</p>\n", "title": "What is the loop inversion technique?", "tags": ["java", "jvm", "jit", "machine-instruction"], "link": "http://stackoverflow.com/questions/20826718/what-is-the-loop-inversion-technique/20826841#20826841", "question_id": 20826718, "answer_id": 20826841}, {"body": "<p>Loop inversion is a performance optimization technique which improves performance as the processor can accomplish the same result with fewer instructions. This should mostly improve the performance in boundary conditions.</p>\n\n<p><a href=\"http://icps.u-strasbg.fr/~bastoul/local_copies/lee.html\" rel=\"nofollow\">This link</a> provides another example for loop inversion.  In few architectures where decrement and compare is implemented as a single instruction set, It makes sense to convert a for loop to a while with decrement and compare operation.</p>\n\n<p>Wikipedia has a very good example and I am explaining it here again.</p>\n\n<pre><code> int i, a[100];\n  i = 0;\n  while (i &lt; 100) {\n    a[i] = 0;\n    i++;\n  }\n</code></pre>\n\n<p>will be converted by the compiler to </p>\n\n<pre><code>  int i, a[100];\n  i = 0;\n  if (i &lt; 100) {\n    do {\n      a[i] = 0;\n      i++;\n    } while (i &lt; 100);\n  }\n</code></pre>\n\n<p><strong>How this translates to performance?</strong>\nWhen the value of i is 99, the processor need not perform a GOTO (which is required in the first case).  This improves performance.</p>\n", "title": "What is the loop inversion technique?", "tags": ["java", "jvm", "jit", "machine-instruction"], "link": "http://stackoverflow.com/questions/20826718/what-is-the-loop-inversion-technique/20826898#20826898", "question_id": 20826718, "answer_id": 20826898}], "creation_date": 1388330775, "score": 85, "link": "http://stackoverflow.com/questions/20826718/what-is-the-loop-inversion-technique", "question_id": 20826718}, {"body": "<pre><code>String x = (String) null;\n</code></pre>\n\n<p>Why there is no exception in this statement?</p>\n\n<pre><code>String x = null;\nSystem.out.println(x);\n</code></pre>\n\n<p>It prints <code>null</code>. But <code>.toString()</code> method should throw a null pointer exception.</p>\n", "tags": ["java", "nullpointerexception", "typecasting-operator"], "title": "No Exception while type casting with a null in java", "answers": [{"body": "<p><code>Println(Object)</code> uses <code>String.valueOf()</code></p>\n\n<pre><code>public static String valueOf(Object obj) {\n    return (obj == null) ? \"null\" : obj.toString();\n}\n</code></pre>\n\n<p><code>Print(String)</code> does null check.</p>\n\n<pre><code>public void print(String s) {\n    if (s == null) {\n        s = \"null\";\n    }\n    write(s);\n}\n</code></pre>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/18723651#18723651", "question_id": 18723596, "answer_id": 18723651}, {"body": "<p>This is by design. You can cast <code>null</code> to any reference type. Otherwise you wouldn't be able to assign it to reference variables.</p>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/18723659#18723659", "question_id": 18723596, "answer_id": 18723659}, {"body": "<p>You can cast <code>null</code> to any reference type without getting any exception.</p>\n\n<p><code>println</code> method does not throw null pointer because it first checks whether the object is null or not. If null then it simply prints the string <code>\"null\"</code>. Otherwise it will call the <code>toString</code> method of that object.</p>\n\n<p><strong>Adding more details:</strong> Internally print methods call <code>String.valueOf(object)</code> method on the input object. And in <code>valueOf</code> method, this check helps to avoid null pointer excpeiton:</p>\n\n<pre><code>return (obj == null) ? \"null\" : obj.toString();\n</code></pre>\n\n<p>For rest of your confusion, calling any method on a null object should throw a null pointer exception, if not a special case.</p>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/18723666#18723666", "question_id": 18723596, "answer_id": 18723666}, {"body": "<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/PrintStream.html#print%28java.lang.Object%29\" rel=\"nofollow\">Print</a>: </p>\n\n<blockquote>\n  <p>Print an object. The string produced by the String.valueOf(Object) method is translated into bytes</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#valueOf%28java.lang.Object%29\" rel=\"nofollow\">ValueOf</a>:</p>\n\n<blockquote>\n  <p>if the argument is null, then a string equal to \"null\"; otherwise, the value of obj.toString() is returned.</p>\n</blockquote>\n\n<p>It wil simply return a string with value \"null\" when the object is <code>null</code>.</p>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/18723669#18723669", "question_id": 18723596, "answer_id": 18723669}, {"body": "<p>You can cast <code>null</code> to any reference type.  You can also call methods which handle a <code>null</code> as an argument, e.g. <code>System.out.println(Object)</code> does, but you cannot reference a <code>null</code> value and call a method on it.</p>\n\n<p>BTW There is a tricky situation where it appears you can call static methods on <code>null</code> values.</p>\n\n<pre><code>Thread t = null;\nt.yield(); // Calls static method Thread.yield() so this runs fine.\n</code></pre>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/18723704#18723704", "question_id": 18723596, "answer_id": 18723704}, {"body": "<p>Casting null values is required for following construct where a method is overloaded and if null is passed to these overloaded methods then the compiler does not know how to clear up the ambiguity hence we need to typecast null in these cases:</p>\n\n<pre><code>class A {\n  public void foo(Long l) {\n    // do something with l\n  }\n  public void foo(String s) {\n    // do something with s      \n  }\n}\nnew A().foo((String)null);\nnew A().foo((Long)null);\n</code></pre>\n\n<p>Otherwise you couldn't call the method you need.</p>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/28117115#28117115", "question_id": 18723596, "answer_id": 28117115}, {"body": "<p>This is very handy when using a method that would otherwise be ambiguous. For example: JDialog has constructors with the following signatures:</p>\n\n<pre><code>JDialog(Frame, String, boolean, GraphicsConfiguration)\nJDialog(Dialog, String, boolean, GraphicsConfiguration)\n</code></pre>\n\n<p>I need to use this constructor, because I want to set the GraphicsConfiguration, but I have no parent for this dialog, so the first argument should be null. Using</p>\n\n<pre><code>JDialog(null, String, boolean, Graphicsconfiguration) \n</code></pre>\n\n<p>is ambiguous, so in this case I can narrow the call by casting null to one of the supported types:</p>\n\n<pre><code>JDialog((Frame) null, String, boolean, GraphicsConfiguration)\n</code></pre>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/31580671#31580671", "question_id": 18723596, "answer_id": 31580671}, {"body": "<p>As others have written, you can cast null to everything. \nNormally, you wouldn't need that, you can write:</p>\n\n<pre><code>String nullString = null;\n</code></pre>\n\n<p>without putting the cast there.</p>\n\n<p>But there are occasions where such casts make sense:</p>\n\n<p>a) if you want to make sure that a specific method is called, like:</p>\n\n<pre><code>void foo(String bar) {  ... }\nvoid foo(Object bar) {  ... }\n</code></pre>\n\n<p>then it would make a difference if you type</p>\n\n<pre><code>foo((String) null) vs. foo(null)\n</code></pre>\n\n<p>b) if you intend to use your IDE to generate code; for example I am typically writing unit tests like:</p>\n\n<pre><code>@Test(expected=NullPointerException.class)\npublic testCtorWithNullWhatever() {\n    new MyClassUnderTest((Whatever) null);\n}\n</code></pre>\n\n<p>I am doing TDD; this means that the class \"MyClassUnderTest\" probably doesn't exist yet. By writing down that code, I can then use my IDE to first generate the new class; and to then generate a constructor accepting a \"Whatever\" argument \"out of the box\" - the IDE can figure from my test that the constructor should take exactly one argument of type Whatever.</p>\n", "title": "No Exception while type casting with a null in java", "tags": ["java", "nullpointerexception", "typecasting-operator"], "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java/36592159#36592159", "question_id": 18723596, "answer_id": 36592159}], "creation_date": 1378828413, "score": 84, "link": "http://stackoverflow.com/questions/18723596/no-exception-while-type-casting-with-a-null-in-java", "question_id": 18723596}, {"body": "<p>Running a project in Android Studio fails with this error: <code>could not find any version that matches com.android.support:appcompat-v7:+</code></p>\n\n<p>How can I fix this error?</p>\n", "tags": ["java", "android", "android-studio"], "title": "Android Studio could not find any version that matches com.android.support:appcompat-v7:+", "answers": [{"body": "<p>Open <code>SDK Manager.exe</code> in your Android Studio folder and install a matching API.</p>\n", "title": "Android Studio could not find any version that matches com.android.support:appcompat-v7:+", "tags": ["java", "android", "android-studio"], "link": "http://stackoverflow.com/questions/19621941/android-studio-could-not-find-any-version-that-matches-com-android-supportappco/19623465#19623465", "question_id": 19621941, "answer_id": 19623465}, {"body": "<p>From Android Studio go to:\nTools >> Android >> SDK Manager</p>\n\n<p>Select and install \"Extras|Android Support Repository\"</p>\n", "title": "Android Studio could not find any version that matches com.android.support:appcompat-v7:+", "tags": ["java", "android", "android-studio"], "link": "http://stackoverflow.com/questions/19621941/android-studio-could-not-find-any-version-that-matches-com-android-supportappco/20830540#20830540", "question_id": 19621941, "answer_id": 20830540}, {"body": "<p>Also as as said on <a href=\"http://stackoverflow.com/questions/10712812/how-to-update-android-platform-tools-in-a-headless-linux\">How to update Android platform-tools in a headless linux?</a></p>\n\n<pre><code> android list sdk\n\n android update sdk --no-ui --filter extra\n</code></pre>\n", "title": "Android Studio could not find any version that matches com.android.support:appcompat-v7:+", "tags": ["java", "android", "android-studio"], "link": "http://stackoverflow.com/questions/19621941/android-studio-could-not-find-any-version-that-matches-com-android-supportappco/24202225#24202225", "question_id": 19621941, "answer_id": 24202225}, {"body": "<p>After installing <code>Extras|Android Support Repository</code>, It does not work for me. Then I change <strong>v7:1.6</strong> to <strong>v7:1.8</strong> in the <code>app</code> <code>build.gradle</code> file.</p>\n\n<p><code>com.android.support:appcompat-v7:1.8.+!</code> and It works for me.</p>\n", "title": "Android Studio could not find any version that matches com.android.support:appcompat-v7:+", "tags": ["java", "android", "android-studio"], "link": "http://stackoverflow.com/questions/19621941/android-studio-could-not-find-any-version-that-matches-com-android-supportappco/26835706#26835706", "question_id": 19621941, "answer_id": 26835706}, {"body": "<p>I found all these answers incorrect for me. Instead in your android studio look below on the left. There will be some help for this.</p>\n\n<p>For example, you will notice\n<code>This support library should not use a different version (32) than the compilesdkVersion (23)</code></p>\n\n<p>Then you change the version of to 23 like this</p>\n\n<blockquote>\n  <p>compile 'com.android.support:support-v4:23'</p>\n</blockquote>\n\n<p>Now, you will see a message\n<code>A newer version of com.android.support-v4 than 23 is available 23.4.0</code>.</p>\n\n<p>Thats how I knew that the correct version is <code>23.4.0</code></p>\n", "title": "Android Studio could not find any version that matches com.android.support:appcompat-v7:+", "tags": ["java", "android", "android-studio"], "link": "http://stackoverflow.com/questions/19621941/android-studio-could-not-find-any-version-that-matches-com-android-supportappco/37461315#37461315", "question_id": 19621941, "answer_id": 37461315}], "creation_date": 1382899474, "score": 84, "link": "http://stackoverflow.com/questions/19621941/android-studio-could-not-find-any-version-that-matches-com-android-supportappco", "question_id": 19621941}, {"body": "<p>I have a problem with Android Studio 0.2.3.</p>\n\n<p>When I run my project the build stops and appears message that says:</p>\n\n<blockquote>\n  <p>Gradle: Execution failed for task ':<em>AppName</em>:compileDebugAidl'.<br/>\n  > failed to find target android-18</p>\n</blockquote>\n\n<p>although I have installed the SDK platform of Android 4.3 (API 18) and I tried to reinstall all the SDK. I've also added the <code>ANDROID_HOME</code> variable in the system variables.</p>\n\n<p>What seems to be the source of this error?</p>\n", "tags": ["java", "android", "gradle", "android-studio"], "title": "Android studio - Failed to find target android-18", "answers": [{"body": "<p>I solved the problem by changing the <code>compileSdkVersion</code> in the <strong>Gradle.build</strong> file from 18 to 17.</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:0.5.+'\n    }\n}\napply plugin: 'android'\n\nrepositories {\n    mavenCentral()\n}\n\nandroid {\n    compileSdkVersion 17\n    buildToolsVersion \"17.0.0\"\n\n    defaultConfig {\n        minSdkVersion 10\n        targetSdkVersion 18\n    }\n}\n\ndependencies {\n    compile 'com.android.support:support-v4:13.0.+'\n}\n</code></pre>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/18085127#18085127", "question_id": 18068920, "answer_id": 18085127}, {"body": "<p>I think you might not have the Android-18 sdk installed. Go to Tools > Android > SDK Manager and check to see if Android 4.3 (API 18) is installed.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/19071695#19071695", "question_id": 18068920, "answer_id": 19071695}, {"body": "<p>I had the same problem when trying out Android Studio.  I already had projects running on the ADT under SDK 18. No need to hack the manifest files.</p>\n\n<p>Fixed by:</p>\n\n<blockquote>\n  <p>export ANDROID_HOME= pathtobundle/adt-bundle-linux-x86_64-20130729/sdk</p>\n</blockquote>\n\n<p>If you don't have the ADT installed, and just want the SDK, it seems like a good solution is to install everything and then point Android Studio to the just the packaged SDK.  </p>\n\n<blockquote>\n  <p>cd pathtobundle</p>\n  \n  <p>wget <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20130729.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20130729.zip</a></p>\n  \n  <p>unzip *.zip</p>\n</blockquote>\n\n<p>As someone else said, you may need to run the SDK Manager to install the desired packages before running Studio.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/19101392#19101392", "question_id": 18068920, "answer_id": 19101392}, {"body": "<p>Check the local.properties file in your Studio Project. Chances are that the property sdk.dir points to the wrong folder if you had set/configured a previous android sdk from pre-studio era. \nThis was the solution in my case.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/20216312#20216312", "question_id": 18068920, "answer_id": 20216312}, {"body": "<p>Thank you RobertoAV96.</p>\n\n<p>You're my hero. But it's not enough. In my case, I changed both compileSdkVersion, and buildToolsVersion. Now it work. Hope this help</p>\n\n<pre><code>buildscript {\n       repositories {\n           mavenCentral()\n       }\n       dependencies {\n          classpath 'com.android.tools.build:gradle:0.6.+'\n       }\n   }\n   apply plugin: 'android'\n\n   dependencies {\n       compile fileTree(dir: 'libs', include: '*.jar')\n   }\n\n   android {\n       compileSdkVersion 19\n       buildToolsVersion \"19\"\n\n       sourceSets {\n           main {\n               manifest.srcFile 'AndroidManifest.xml'\n               java.srcDirs = ['src']\n               resources.srcDirs = ['src']\n               aidl.srcDirs = ['src']\n               renderscript.srcDirs = ['src']\n               res.srcDirs = ['res']\n               assets.srcDirs = ['assets']\n           }\n\n           // Move the tests to tests/java, tests/res, etc...\n           instrumentTest.setRoot('tests')\n           // Move the build types to build-types/&lt;type&gt;\n           // For instance, build-types/debug/java, build-types/debug/AndroidManifest.xml, ..\n           // This moves them out of them default location under src/&lt;type&gt;/... which would\n           // conflict with src/ being used by the main source set.\n           // Adding new build types or product flavors should be accompanied\n           // by a similar customization.\n           debug.setRoot('build-types/debug')\n           release.setRoot('build-types/release')\n       }\n   }\n</code></pre>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/20497731#20497731", "question_id": 18068920, "answer_id": 20497731}, {"body": "<p>What worked for me in Android Studio (0.8.1): </p>\n\n<ol>\n<li>Right click on project name and open Module Settings</li>\n<li>Verify SDK Locations <img src=\"http://i.stack.imgur.com/UIqN7.png\" alt=\"SDK\"></li>\n<li>Verify Gradle and Plugin Versions (Review the error message hints\nfor the proper version to use) <img src=\"http://i.stack.imgur.com/OrVEI.png\" alt=\"Gradke\"></li>\n<li>On the app Module set the Compile SDK Version to android-L (latest)</li>\n<li>Set the Build Tools version to largest available value (in my case\n20.0.0) <img src=\"http://i.stack.imgur.com/9t2vG.png\" alt=\"Build\"></li>\n</ol>\n\n<p>These changes via the UI make the equivalent changes represented in other answers but is a better way to proceed because on close, all appropriate files (current and future) will be updated automatically (which is helpful when confronted by the many places where issues can occur).</p>\n\n<p>NB: It is very important to review the Event Log and note that Android Studio provides helpful messages on alternative ways to resolve such issues. </p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/24636809#24636809", "question_id": 18068920, "answer_id": 24636809}, {"body": "<p>I've had a similar problem occurr when I had both Eclipse, Android Studio and the standalone Android SDK installed (the problem lied where the AVD Manager couldn't find target images). I had been using Eclipse for Android development but have moved over to Android Studio, and quickly found that Android Studio couldn't find my previously created AVDs.</p>\n\n<p>The problem could potentially lie in that Android Studio is looking at it's own Android SDK (found in C:\\Users\\username\\AppData\\Local\\Android\\android-studio\\sdk) and not a previously installed standalone SDK, which I had installed at C:\\adt\\sdk.</p>\n\n<p>Renaming Android Studio's SDK folder, in C:\\Users... (only rename it, just in case things break) then creating a symbolic link between the Android Studio SDK location and a standalone Android SDK fixes this issue.</p>\n\n<p>I also used the Link Shell Extension (<a href=\"http://schinagl.priv.at/nt/hardlinkshellext/linkshellextension.html\" rel=\"nofollow\">http://schinagl.priv.at/nt/hardlinkshellext/linkshellextension.html</a>) just to take the tedium out of creating symbolic links.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/25006784#25006784", "question_id": 18068920, "answer_id": 25006784}, {"body": "<h2>STEP 1) Start Android SDK Manager </h2>\n\n<p>With <code>android</code> command something as below, </p>\n\n<pre><code>$ /usr/local/android-studio/sdk/tools/android\n</code></pre>\n\n<h2>STEP 2) Find API 18</h2> \n\n<p><img src=\"http://i.stack.imgur.com/6ID6w.png\" alt=\"enter image description here\"></p>\n\n<h2>STEP 3) Select Android 4.3 (API 18 ) and install packages.</h2>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/25446405#25446405", "question_id": 18068920, "answer_id": 25446405}, {"body": "<p>This will also happen if you have written <code>compileSdkVersion = 22</code> e.g. (as used in the \"new new\" Android build system) instead of <code>compileSdkVersion 22</code>.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/31712881#31712881", "question_id": 18068920, "answer_id": 31712881}, {"body": "<p>You can solve the problem changing the compileSdkVersion in the Grandle.build file from 18 to wtever SDK is installed ..... BUTTTTT</p>\n\n<ol>\n<li><p>If you are trying to goin back in SDK versions like 18 to 17 ,You can not use the feature available in 18 or 18+</p></li>\n<li><p>If you are migrating your project (Eclipse to Android Studio ) Then off course you Don't have build.gradle file in your Existed Eclipse project </p></li>\n</ol>\n\n<p>So, the only solution is to ensure the SDK version installed or not, you are targeting to , If not then install.</p>\n\n<p>Error:Cause: failed to find target with hash string 'android-19' in: C:\\Users\\setia\\AppData\\Local\\Android\\sdk</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/33431810#33431810", "question_id": 18068920, "answer_id": 33431810}, {"body": "<p>Target with hash string 'android-18' is corresponding to the SDK level 18. You need to install SDK 18 from SDK manager.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/36529259#36529259", "question_id": 18068920, "answer_id": 36529259}, {"body": "<p>If you had the problem, opened SDK manager, installed the requested updates, returned to Android Studio and had the problem again, IT IS RECOMMENDED TO RESTART ANDROID STUDIO befor trying anything else.</p>\n\n<p>Gradle will run automatically and chances are that your problem will be over.  You will very possibly be told install the appropriate SDK TOOLS package, which is found in your SDK MANAGER under the second tab (sdk's are not the same as sdk tools, they are complementary packages).</p>\n\n<p>You don't even need to hunt the tools package, if you click on the link under the error message, Android Studio should call SDK Manager to install the package automatically.</p>\n\n<p>Restart Android Studio again and you should be up and running much faster than if you attempted workarounds.</p>\n\n<p>RULE OF THUMB> restart your application before messing with options and configurations.</p>\n", "title": "Android studio - Failed to find target android-18", "tags": ["java", "android", "gradle", "android-studio"], "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18/37458110#37458110", "question_id": 18068920, "answer_id": 37458110}], "creation_date": 1375742039, "score": 84, "link": "http://stackoverflow.com/questions/18068920/android-studio-failed-to-find-target-android-18", "question_id": 18068920}, {"body": "<p>Please explain what, exactly, happens when the following sections of code are executed:</p>\n\n<pre><code>int a='\\15';\nSystem.out.println(a);\n</code></pre>\n\n<p>this prints out 13;</p>\n\n<pre><code>int a='\\25';\nSystem.out.println(a);\n</code></pre>\n\n<p>this prints out 21;</p>\n\n<pre><code>int a='\\100';\nSystem.out.println(a);\n</code></pre>\n\n<p>this prints out 64.</p>\n", "tags": ["java", "syntax", "character", "literals", "octal"], "title": "What are the Java semantics of an escaped number in a character literal, e.g. &#39;\\15&#39; ?", "answers": [{"body": "<p>You have assigned a character literal, which is delimited by single quotes, eg <code>'a'</code> (as distinct from a String literal, which is delimited by double quotes, eg <code>\"a\"</code>) to an <code>int</code> variable. Java does an automatic widening cast from the 16-bit unsigned <code>char</code> to the 32-bit signed <code>int</code>.</p>\n\n<p>However, when a character literal is a backslash followed by 1-3 digits, it is an <a href=\"http://en.wikipedia.org/wiki/Octal\"><em>octal</em></a> (<a href=\"http://en.wikipedia.org/wiki/Radix\">base/radix</a> 8) representation of the character. Thus:</p>\n\n<ul>\n<li><code>\\15</code> = 1\u00d78 + 5 = 13 (a carriage return; same as <code>'\\r'</code>)</li>\n<li><code>\\25</code> = 2\u00d78 + 5 = 21 (a NAK char - negative acknowledgement)</li>\n<li><code>\\100</code> = 1\u00d764 + 0\u00d78 + 0 = 64 (the @ symbol; same as <code>'@'</code>)</li>\n</ul>\n\n<p>For more info on character literals and escape sequences, see JLS sections:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.4\">3.10.4: Character Literals</a></li>\n<li><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.6\">3.10.6: Escape Sequences for Character and String Literals</a></li>\n</ul>\n\n<p>Quoting the <a href=\"http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form\">BNF</a> from 3.10.6:</p>\n\n<pre><code>OctalEscape:\n    \\ OctalDigit\n    \\ OctalDigit OctalDigit\n    \\ ZeroToThree OctalDigit OctalDigit\n\nOctalDigit: one of\n    0 1 2 3 4 5 6 7\n\nZeroToThree: one of\n    0 1 2 3\n</code></pre>\n", "title": "What are the Java semantics of an escaped number in a character literal, e.g. &#39;\\15&#39; ?", "tags": ["java", "syntax", "character", "literals", "octal"], "link": "http://stackoverflow.com/questions/19108008/what-are-the-java-semantics-of-an-escaped-number-in-a-character-literal-e-g/19108114#19108114", "question_id": 19108008, "answer_id": 19108114}, {"body": "<p>The notation <code>\\nnn</code> denotes an octal character code in Java.  so <code>int a = '\\15'</code> assigns the auto-cast'ed value of octal character 15 to <code>a</code> which is decimal 13.</p>\n", "title": "What are the Java semantics of an escaped number in a character literal, e.g. &#39;\\15&#39; ?", "tags": ["java", "syntax", "character", "literals", "octal"], "link": "http://stackoverflow.com/questions/19108008/what-are-the-java-semantics-of-an-escaped-number-in-a-character-literal-e-g/19108119#19108119", "question_id": 19108008, "answer_id": 19108119}, {"body": "<p>The fact that you put the digits in quotes makes me suspect it is interpreting the number as a character literal. The digits that follow must be in octal.</p>\n", "title": "What are the Java semantics of an escaped number in a character literal, e.g. &#39;\\15&#39; ?", "tags": ["java", "syntax", "character", "literals", "octal"], "link": "http://stackoverflow.com/questions/19108008/what-are-the-java-semantics-of-an-escaped-number-in-a-character-literal-e-g/19108120#19108120", "question_id": 19108008, "answer_id": 19108120}], "creation_date": 1380601869, "score": 84, "link": "http://stackoverflow.com/questions/19108008/what-are-the-java-semantics-of-an-escaped-number-in-a-character-literal-e-g", "question_id": 19108008}, {"body": "<p>I'm sorry for the dumb question, but I can't figure out to get this working.</p>\n\n<p>Scenario:</p>\n\n<ul>\n<li>I have an application built with gradle</li>\n<li>The application uses JavaFX</li>\n</ul>\n\n<p>What I want</p>\n\n<ul>\n<li>Use a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application / tests / ...</li>\n</ul>\n\n<p>I thought about having the <code>gradle.properties</code> file, defining the variable. Something like</p>\n\n<pre><code>JAVA_HOME_FOR_MY_PROJECT=&lt;path to my desired JDK&gt;\n</code></pre>\n\n<p>What I don't want</p>\n\n<ul>\n<li>point <code>JAVA_HOME</code> to the desired JDK</li>\n</ul>\n\n<p>I could live with many suggestions:</p>\n\n<ul>\n<li>a solution that defines a system environment variable which I'm able to check in my build.gradle script</li>\n<li>a variable defined in gradle.properties</li>\n<li>overriding the JAVA_HOME variable only for the build context (something like <code>use JAVA_HOME=&lt;my special JDK path defined somewhere else defined&gt;</code>)</li>\n<li>something else I didn't think about</li>\n</ul>\n\n<p>Question:</p>\n\n<ul>\n<li>How to wire a variable (how ever defined, as variable in the <code>gradle.properties</code>, system environment variable, ...) to the build process?</li>\n</ul>\n\n<p>I have more than one JDK7 available and need to point to a special version (minimum JDK_u version).</p>\n\n<p>Like always, any answer is appreciated and I'm thankful for every hint to the right direction. Especially as Google seems to mislike me today -.-\"</p>\n", "tags": ["java", "gradle", "build.gradle"], "title": "How do I tell Gradle to use specific JDK version?", "answers": [{"body": "<p>Two ways</p>\n\n<ol>\n<li><p>In <code>gradle.properties</code> in the <code>.gradle</code> directory in your <code>HOME_DIRECTORY</code> set <code>org.gradle.java.home=/path_to_jdk_directory</code></p></li>\n<li><p>In your <code>gradle.build</code></p>\n\n<pre><code>compileJava.options.fork = true\ncompileJava.options.forkOptions.executable = /path_to_javac\n</code></pre></li>\n</ol>\n", "title": "How do I tell Gradle to use specific JDK version?", "tags": ["java", "gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version/21212790#21212790", "question_id": 18487406, "answer_id": 21212790}, {"body": "<p>As seen in <a href=\"http://marketplace.eclipse.org/content/gradle\" rel=\"nofollow\">Gradle (Eclipse plugin)</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/mwzaD.png\" alt=\"\"></p>\n\n<p><a href=\"http://www.gradle.org/get-started\" rel=\"nofollow\">http://www.gradle.org/get-started</a></p>\n\n<blockquote>\n  <p>Gradle uses whichever JDK it finds in your path (to check, use java -version). Alternatively, you can set the JAVA_HOME environment variable to point to the install directory of the desired JDK. </p>\n</blockquote>\n\n<hr>\n\n<p>If you are using this Eclipse plugin or <a href=\"http://www.nodeclipse.org/enide/studio/2014/\" rel=\"nofollow\">Enide Studio 2014</a>, alternative JAVA_HOME to use (set in Preferences) will be in version 0.15, see <a href=\"http://www.nodeclipse.org/history\" rel=\"nofollow\">http://www.nodeclipse.org/history</a></p>\n", "title": "How do I tell Gradle to use specific JDK version?", "tags": ["java", "gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version/22778079#22778079", "question_id": 18487406, "answer_id": 22778079}, {"body": "<p>If you add JDK_PATH in <strong>gradle.properties</strong> your build become dependent on on that particular path.\nInstead Run <strong>gradle task</strong> with following command line parametemer</p>\n\n<pre><code>gradle build -Dorg.gradle.java.home=/JDK_PATH\n</code></pre>\n\n<p>This way your build is not dependent on some concrete path.</p>\n", "title": "How do I tell Gradle to use specific JDK version?", "tags": ["java", "gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version/37959153#37959153", "question_id": 18487406, "answer_id": 37959153}], "creation_date": 1377691550, "score": 84, "link": "http://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version", "question_id": 18487406}, {"body": "<p>I have a string \"<code>11/15/2013 08:00:00</code>\", I want to format it to \"<code>11/15/2013</code>\", what is the correct <code>DateTimeFormatter</code> pattern?</p>\n\n<p>I've tried many and googled and still unable to find the correct pattern.</p>\n\n<p>edit: I am looking for <a href=\"http://www.joda.org/joda-time/\">Joda-Time</a> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatter.html\"><code>DateTimeFormatter</code></a>, not Java's SimpleDateFormat..</p>\n", "tags": ["java", "jodatime", "date-format"], "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "answers": [{"body": "<p>I have a very dumb but working option. \nif you have the String fullDate = \"11/15/2013 08:00:00\";</p>\n\n<pre><code>   String finalDate = fullDate.split(\" \")[0];\n</code></pre>\n\n<p>That should work easy and fast. :)</p>\n", "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "tags": ["java", "jodatime", "date-format"], "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy/20331241#20331241", "question_id": 20331163, "answer_id": 20331241}, {"body": "<p><strong>Create a <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html\"><code>DateTimeFormatter</code></a> using <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormat.html#forPattern%28java.lang.String%29\"><code>DateTimeFormat.forPattern(String)</code></a></strong></p>\n\n<p>Using Joda time you would do it like this:</p>\n\n<pre><code>String dateTime = \"11/15/2013 08:00:00\";\n// Format for input\nDateTimeFormatter dtf = DateTimeFormat.forPattern(\"MM/dd/yyyy HH:mm:ss\");\n// Parsing the date\nDateTime jodatime = dtf.parseDateTime(dateTime);\n// Format for output\nDateTimeFormatter dtfOut = DateTimeFormat.forPattern(\"MM/dd/yyyy\");\n// Printing the date\nSystem.out.println(dtfOut.print(jodatime));\n</code></pre>\n\n<p>Also, if you wanted to use standard Java, you would do it like this:</p>\n\n<pre><code>// Format for input\nSimpleDateFormat dateParser = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");\n// Parsing the date\nDate date = dateParser.parse(dateTime);\n// Format for output\nSimpleDateFormat dateFormatter = new SimpleDateFormat(\"MM/dd/yyyy\");\n// Printing the date\nSystem.out.println(dateFormatter.format(date));\n</code></pre>\n", "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "tags": ["java", "jodatime", "date-format"], "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy/20331243#20331243", "question_id": 20331163, "answer_id": 20331243}, {"body": "<p>Another way of doing that is:</p>\n\n<pre><code>String date = dateAndTime.substring(0, dateAndTime.indexOf(\" \"));\n</code></pre>\n\n<p>I'm not exactly certain, but I think this might be faster/use less memory than using the <code>.split()</code> method.</p>\n", "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "tags": ["java", "jodatime", "date-format"], "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy/20331323#20331323", "question_id": 20331163, "answer_id": 20331323}, {"body": "<p>I think this will work, if you are using JodaTime:</p>\n\n<pre><code>String strDateTime = \"11/15/2013 08:00:00\";\nDateTime dateTime = DateTime.parse(strDateTime);\nDateTimeFormatter fmt = DateTimeFormat.forPattern(\"MM/dd/YYYY\");\nString strDateOnly = fmt.print(dateTime);\n</code></pre>\n\n<p>I got part of this from <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormat.html\" rel=\"nofollow\">here</a>.</p>\n", "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "tags": ["java", "jodatime", "date-format"], "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy/20331755#20331755", "question_id": 20331163, "answer_id": 20331755}, {"body": "<p>This works</p>\n\n<pre><code>String x = \"22/06/2012\";\nString y = \"25/10/2014\";\n\nString datestart = x;\nString datestop = y;\n\n//DateTimeFormatter format = DateTimeFormat.forPattern(\"dd/mm/yyyy\");\nSimpleDateFormat  format = new SimpleDateFormat(\"dd/mm/yyyy\");\n\nDate d1 = null;\nDate d2 = null;\n\ntry {\n    d1 =  format.parse(datestart);\n    d2 = format.parse(datestop);\n\n    DateTime dt1 = new DateTime(d1);\n    DateTime dt2 = new DateTime(d2);\n\n    //Period\n    period = new Period (dt1,dt2);\n\n    //calculate days\n    int days = Days.daysBetween(dt1, dt2).getDays();\n\n\n} catch (ParseException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n", "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "tags": ["java", "jodatime", "date-format"], "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy/23280566#23280566", "question_id": 20331163, "answer_id": 23280566}, {"body": "<pre><code>DateTime date = DateTime.now().withTimeAtStartOfDay();\ndate.toString(\"HH:mm:ss\")\n</code></pre>\n", "title": "How to format Joda-Time DateTime to only mm/dd/yyyy?", "tags": ["java", "jodatime", "date-format"], "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy/37298697#37298697", "question_id": 20331163, "answer_id": 37298697}], "creation_date": 1385995982, "score": 82, "link": "http://stackoverflow.com/questions/20331163/how-to-format-joda-time-datetime-to-only-mm-dd-yyyy", "question_id": 20331163}, {"body": "<p>I have just made a clean installation of <code>OS X Mavericks</code>, and I have downloaded <code>Eclipse Kepler</code> , but if I execute it, gives me this message:</p>\n\n<p><img src=\"http://i.stack.imgur.com/XFgb4.png\" alt=\"enter image description here\"></p>\n\n<p>Asking me to install <code>Runtime Java SE 6</code>; I have already installed <code>Java 7</code>, and if I press <code>Install</code> in that dialog, download and install it, and open Eclipse again, the dialog appears again. </p>\n\n<p>How I can fix it?</p>\n", "tags": ["java", "eclipse", "osx-mavericks"], "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "answers": [{"body": "<p>To be able to run Eclipse with Java 7 (Oracle), I launch Eclipse using this file: eclipse/Eclipse.app/Contents/MacOS/eclipse. \"eclipse\" folder contains alias for this file by default. So all that you need to do is to double-click the alias named \"eclipse\".</p>\n\n<p>Also Oracle warns that Oracle's Java version 7u25 and below have been disabled by Apple on OS X (see <a href=\"https://www.java.com/en/download/faq/java_mac.xml\">here</a>). I had upgraded to the latest JDK version before I found out the way of launching Eclipse with Java 7. So I don't know if the upgrade is necessary or not. </p>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/19585003#19585003", "question_id": 19563766, "answer_id": 19585003}, {"body": "<p>This is in part due to Oracle's missing definitions of the JRE8 VM capabilities.</p>\n\n<p>In case you don't want to install JRE6 at all and simply use JRE8 without symlinking it to the JRE6 either you can do the following:</p>\n\n<p>Copy the Info.plist located at the path named below to e.g. ~/Downloads/:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk.1.8.&lt;\u2026&gt;/Contents/\n</code></pre>\n\n<p>and then replace</p>\n\n<pre><code>&lt;key&gt;JVMCapabilities&lt;/key&gt;\n &lt;array&gt;\n  &lt;string&gt;CommandLine&lt;/string&gt;\n &lt;/array&gt;\n</code></pre>\n\n<p>with the following:</p>\n\n<pre><code>&lt;key&gt;JVMCapabilities&lt;/key&gt;\n &lt;array&gt;\n  &lt;string&gt;JNI&lt;/string&gt;\n  &lt;string&gt;BundledApp&lt;/string&gt;\n  &lt;string&gt;CommandLine&lt;/string&gt;\n &lt;/array&gt;\n</code></pre>\n\n<p>Afterwards copy the file back to its original location (you need administrator rights). For this change to take effect you need to log out of your account (and back in) or restart your computer. The dialog for Java 6 should shouldn't appear anymore and Eclipse should launch just fine using JRE8 (or JRE7). The same holds true for any other application that initially asks for Java, e.g. Adobe's Creative Suite.</p>\n\n<p>On a related note it appears that this plist change sticks even after updates done through the Java Preference Panel in the System Preferences.</p>\n\n<p>If it still doesn't work. You might need to add some folders and a symlink (<a href=\"https://oliverdowling.com.au/2014/03/28/java-se-8-on-mac-os-x/\">details</a>):</p>\n\n<pre><code>sudo mkdir -p /Library/Java/JavaVirtualMachines/jdk1.8.0_*.jdk/Contents/Home/bundle/Libraries\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_*.jdk/Contents/Home/jre/lib/server/libjvm.dylib /Library/Java/JavaVirtualMachines/jdk1.8.0_*.jdk/Contents/Home/bundle/Libraries/\nsudo mkdir -p /System/Library/Java/JavaVirtualMachines/1.6.0.jdk\nsudo mkdir -p /System/Library/Java/Support/Deploy.bundle\n</code></pre>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/19594116#19594116", "question_id": 19563766, "answer_id": 19594116}, {"body": "<p>I happened to get it running without a procedure like the suggestions above. I erased the eclipse folder and then copied it back from the trashcan. Please verify if it works for you.</p>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/19748385#19748385", "question_id": 19563766, "answer_id": 19748385}, {"body": "<p>You need to download and install the JAVA for MAC manually.  That is what worked for me.</p>\n\n<p>Download here: <a href=\"http://support.apple.com/kb/DL1572?viewlocale=en_US\" rel=\"nofollow\">http://support.apple.com/kb/DL1572?viewlocale=en_US</a></p>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/19819801#19819801", "question_id": 19563766, "answer_id": 19819801}, {"body": "<p>On MAC OS X, after installing JRE 7 from Oracle using the .dmg download, on opening Eclipse, it still pointed back to my old JRE 6. </p>\n\n<p>After numerous google searches for the problem, and getting here, in desperation I clicked on \"Search\" in Eclipse --> Preferences --> Installed JREs and voila - it picked up JRE 7.  </p>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/21206211#21206211", "question_id": 19563766, "answer_id": 21206211}, {"body": "<p>I had this problem after a Mavericks install.  I was able to solve it by installing Java from the Apple download at <a href=\"http://support.apple.com/kb/dl1572\">http://support.apple.com/kb/dl1572</a></p>\n\n<p>I hope this helps.</p>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/21864759#21864759", "question_id": 19563766, "answer_id": 21864759}, {"body": "<p>In my case, with <strong>Eclipse 4.5.1 Mars</strong> (installed from the OS X installer, downloaded from eclipse.org) and <strong>OS X El Capitan</strong>:</p>\n\n<ul>\n<li><p><strong>before installing any Java</strong> trying to run the Eclipse installer resulted with this: <a href=\"http://i.stack.imgur.com/BnW7r.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/BnW7r.png\" alt=\"Eclipse Installer requesting Java 6 screenshot\"></a></p></li>\n<li><p><strong>after installing <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">Java 8u72 JDK for OS X downloaded from Oracle website</a></strong> the installer runned without issues and the same was with Eclipse itself later on.</p></li>\n</ul>\n", "title": "Eclipse Kepler for OS X Mavericks request Java SE 6", "tags": ["java", "eclipse", "osx-mavericks"], "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6/35128351#35128351", "question_id": 19563766, "answer_id": 35128351}], "creation_date": 1382611568, "score": 80, "link": "http://stackoverflow.com/questions/19563766/eclipse-kepler-for-os-x-mavericks-request-java-se-6", "question_id": 19563766}, {"body": "<p>Currently I'm referencing methods in other classes with this Javadoc syntax:</p>\n\n<pre><code>@see {@link com.my.package.Class#method()}\n</code></pre>\n\n<p>And in what I understand from the documentation this is the correct way to do this. But now to the funny part, or frustrating. When I generate this javadoc I first of all get following error:</p>\n\n<pre><code>warning - Tag @see:illegal character: \"123\" in \"{@link com.my.package.Class#method()}\"\nwarning - Tag @see:illegal character: \"64\" in \"{@link com.my.package.Class#method()}\"\nwarning - Tag @see: reference not found: {@link com.my.package.Class#method()}\n</code></pre>\n\n<p>The Generated HTML code of this is:</p>\n\n<pre><code>\",\" &lt;code&gt;com.my.package.Class#method()}&lt;/code&gt; \",\"\n</code></pre>\n\n<p>And of course I have no link.\nCan anyone tell me what's happening, and any hints on how to fix this?</p>\n\n<p>According to the ASCII table characters 123 and 64 for wold represent { and @, so why aren't these characters valid when this syntax is correct according to the documentation?</p>\n", "tags": ["java", "javadoc"], "title": "Javadoc link to method in other class", "answers": [{"body": "<p>For the Javadoc tag <code>@see</code>, you don't need to use <code>@link</code>; Javadoc will create a link for you.  Try</p>\n\n<pre><code>@see com.my.package.Class#method()\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#@see\">Here's more info about <code>@see</code>.</a></p>\n", "title": "Javadoc link to method in other class", "tags": ["java", "javadoc"], "link": "http://stackoverflow.com/questions/17496038/javadoc-link-to-method-in-other-class/17496080#17496080", "question_id": 17496038, "answer_id": 17496080}, {"body": "<p>Aside from <code>@see</code>, a more general way of refering to another class and possibly method of that class is <code>{@link somepackage.SomeClass#someMethod(paramTypes)}</code>. This has the benefit of being usable in the middle of a javadoc description.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#link\">javadoc documentation (description of the @link tag)</a>:</p>\n\n<blockquote>\n  <p>This tag is very simliar to @see \u2013 both require the same references and accept exactly the same syntax for package.class#member and label. The main difference is that {@link} generates an in-line link rather than placing the link in the \"See Also\" section. Also, the {@link} tag begins and ends with curly braces to separate it from the rest of the in-line text.</p>\n</blockquote>\n", "title": "Javadoc link to method in other class", "tags": ["java", "javadoc"], "link": "http://stackoverflow.com/questions/17496038/javadoc-link-to-method-in-other-class/26531665#26531665", "question_id": 17496038, "answer_id": 26531665}, {"body": "<p>So the solution to the original problem is that you don't need both the \"@see\" and the \"{@link...}\" references on the same line.  The \"@link\" tag is self-sufficient and, as noted, you can put it anywhere in the javadoc block. So you can mix the two approaches:</p>\n\n<pre><code>/**\n * some javadoc stuff\n * {@link com.my.package.Class#method()}\n * more stuff\n * @see com.my.package.AnotherClass\n */\n</code></pre>\n", "title": "Javadoc link to method in other class", "tags": ["java", "javadoc"], "link": "http://stackoverflow.com/questions/17496038/javadoc-link-to-method-in-other-class/38465111#38465111", "question_id": 17496038, "answer_id": 38465111}], "creation_date": 1373054076, "score": 78, "link": "http://stackoverflow.com/questions/17496038/javadoc-link-to-method-in-other-class", "question_id": 17496038}, {"body": "<p>I've received this quiz on an online form to apply for a recent Java event in my city:</p>\n\n<pre><code>//Instead of this comment what code should be written so you can get \"Gotcha!\" printed\nif( a == a ){\n  System.out.println(\"Not yet...\");\n} else {\n  System.out.println(\"Gotcha!\");\n}\n</code></pre>\n\n<p><em>AFAIK: the <code>==</code> comparison in Java on objects checks if both objects are the same in memory, and overwriting the <code>equals</code> method doesn't overwrite the <code>==</code> operator like C++ and other languages that allow operator overloading</em></p>\n\n<p>I tried to change <code>a</code> value with the following features in Java and none of them got me what I wanted:</p>\n\n<ol>\n<li>transient variable</li>\n<li>target annotation</li>\n<li>garbage collector</li>\n<li>mutable objects</li>\n</ol>\n\n<p>What should I do to get the <code>a</code> object to be different from itself?</p>\n", "title": "How can a Java variable be different from itself?", "tags": ["java", "comparison"], "creation_date": 1386158450, "score": 76, "link": "http://stackoverflow.com/questions/20374825/how-can-a-java-variable-be-different-from-itself", "question_id": 20374825}, {"body": "<p>The error in the title occurs whenever I run an XSLT page that begins as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"windows-1256\"?&gt; \n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n  &lt;xsl:include href=\"../header.xsl\"/&gt;\n  &lt;xsl:template match=\"/\"&gt;\n    &lt;xsl:call-template name=\"pstyle\"/&gt;\n    &lt;xsl:call-template name=\"Validation\"/&gt;\n    &lt;xsl:variable name=\"strLang\"&gt;\n      &lt;xsl:value-of select=\"//lang\"/&gt;\n    &lt;/xsl:variable&gt;\n    &lt;!-- ////////////// Page Title ///////////// --&gt;\n    &lt;title&gt;\n        &lt;xsl:value-of select=\"//ListStudentFinishedExam.Title\"/&gt;\n    &lt;/title&gt;\n</code></pre>\n\n<p><strong>Note</strong>: I removed any leading spaces before the first line, but the error still occurs!</p>\n", "tags": ["java", "xml", "xslt"], "title": "Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed", "answers": [{"body": "<p><strong>Xerces-based tools will emit the following error</strong></p>\n\n<pre><code>The processing instruction target matching \"[xX][mM][lL]\" is not allowed.\n</code></pre>\n\n<p>when an <a href=\"http://www.w3.org/TR/REC-xml/#NT-XMLDecl\">XML declaration</a> is encountered <em>anywhere other than at the top of an XML file.</em></p>\n\n<p>This is a valid diagnostic message; other XML parsers should issue a similar error message in this situation.</p>\n\n<h2>To correct the problem, check the following possibilities:</h2>\n\n<ol>\n<li><p>Some blank space or other <strong><em>visible</em> content exists before the <code>&lt;?xml ?&gt;</code>\ndeclaration.</strong></p>\n\n<p><strong>Resolution</strong>: remove blank space or any other\nvisible content before the XML declaration.</p></li>\n<li><p>Some <strong><em>invisible</em> content exists before the <code>&lt;?xml ?&gt;</code>\ndeclaration.</strong>     Most commonly this is a <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\">Byte Order Mark\n(BOM)</a>.</p>\n\n<p><strong>Resolution</strong>:\nRemove the BOM using techniques such as those suggested by the <a href=\"http://www.w3.org/International/questions/qa-byte-order-mark#remove\">W3C\npage on the BOM in HTML.</a></p></li>\n<li><p>A <strong>stray <code>&lt;?xml ?&gt;</code> declaration exists within the XML content.</strong> \nThis    can happen when XML files are combined programmatically or\nvia    cut-and-paste.  There can only be one <code>&lt;?xml ?&gt;</code> declaration\nin an    XML file, and it can only be at the top.</p>\n\n<p><strong>Resolution</strong>: Search for\n<code>&lt;?xml</code> in a case-insensitive manner, and remove all but the top XML\ndeclaration from the file.</p></li>\n</ol>\n", "title": "Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed", "tags": ["java", "xml", "xslt"], "link": "http://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed/19898942#19898942", "question_id": 19889132, "answer_id": 19898942}], "creation_date": 1384082733, "score": 75, "link": "http://stackoverflow.com/questions/19889132/error-the-processing-instruction-target-matching-xxmmll-is-not-allowed", "question_id": 19889132}, {"body": "<p>A GUI with no white space appears 'crowded'.  How can I provide white space without resorting to explicitly setting the position or size of components?</p>\n", "tags": ["java", "swing", "whitespace", "layout-manager"], "title": "Providing white space in a Swing GUI", "answers": [{"body": "<p>There are a number of ways in a Swing GUI to provide a separation between components, and white space around components:</p>\n\n<ul>\n<li><code>JToolBar</code> has the methods <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JToolBar.html#addSeparator--\"><code>addSeparator()</code></a> &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JToolBar.html#addSeparator-java.awt.Dimension-\"><code>addSeparator(Dimension)</code></a>.</li>\n<li><code>JMenu</code> uses a spacing component better suited to menus, available through <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JMenu.html#addSeparator--\"><code>addSeparator()</code></a>.  </li>\n</ul>\n\n<p>But more generally, look to:</p>\n\n<ul>\n<li>The spacing as can be defined in the layout constructors.</li>\n<li>Borders.  </li>\n</ul>\n\n<p>Here is an example of using the layout separator <code>hGap</code> &amp; <code>vGap</code> values &amp; borders (specifically an <code>EmptyBorder</code>) to provide 'white' (actually shown as 'red' to make it very obvious) space.  Adjust the spinners to see the result.</p>\n\n<p><img src=\"http://i.stack.imgur.com/lYyOZ.png\" alt=\"With no GUI white space\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/NVtKI.png\" alt=\"With GUI white space\"></p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.event.*;\n\npublic class WhiteSpace {\n\n    private JPanel gui = null;\n    private BorderLayout mainLayout;\n    private FlowLayout buttonLayout;\n    private EmptyBorder border;\n\n    public Container getGui() {\n        if (gui==null) {\n            mainLayout = new BorderLayout(0,0);\n            gui = new JPanel(mainLayout);\n            gui.setBackground(Color.RED);\n            border = new EmptyBorder(0,0,0,0);\n\n            JTree tree = new JTree();\n            tree.setVisibleRowCount(10);\n            for (int ii = tree.getRowCount(); ii&gt;-1; ii--) {\n                tree.expandRow(ii);\n            }\n            gui.add(new JScrollPane(\n                    tree, \n                    JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\n                    JScrollPane.HORIZONTAL_SCROLLBAR_NEVER), \n                    BorderLayout.LINE_START);\n            gui.add(new JScrollPane(new JTextArea(10,30)));\n\n            buttonLayout = new FlowLayout(FlowLayout.CENTER,0,0);\n            JPanel buttonPanel = new JPanel(buttonLayout);\n            gui.add(buttonPanel, BorderLayout.PAGE_START);\n\n            buttonPanel.add(new JLabel(\"H Gap\"));\n            final JSpinner hSpinner = \n                    new JSpinner(new SpinnerNumberModel(0,0,15,1));\n            buttonPanel.add(hSpinner);\n\n            buttonPanel.add(new JLabel(\"V Gap\"));\n            final JSpinner vSpinner = \n                    new JSpinner(new SpinnerNumberModel(0,0,15,1));\n            buttonPanel.add(vSpinner);\n\n            buttonPanel.add(new JLabel(\"H Border\"));\n            final JSpinner hBorderSpinner = \n                    new JSpinner(new SpinnerNumberModel(0,0,15,1));\n            buttonPanel.add(hBorderSpinner);\n\n            buttonPanel.add(new JLabel(\"V Border\"));\n            final JSpinner vBorderSpinner = \n                    new JSpinner(new SpinnerNumberModel(0,0,15,1));\n            buttonPanel.add(vBorderSpinner);\n\n            ChangeListener changeListener = new ChangeListener() {\n\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    int hGap = ((Integer)hSpinner.getValue()).intValue();\n                    int vGap = ((Integer)vSpinner.getValue()).intValue();\n                    int hBorder = ((Integer)hBorderSpinner.getValue()).intValue();\n                    int vBorder = ((Integer)vBorderSpinner.getValue()).intValue();\n                    adjustWhiteSpace(hGap,vGap,hBorder,vBorder);\n                }\n            };\n\n            hSpinner.addChangeListener(changeListener);\n            vSpinner.addChangeListener(changeListener);\n            hBorderSpinner.addChangeListener(changeListener);\n            vBorderSpinner.addChangeListener(changeListener);\n        }\n\n        return gui;\n    }\n\n    private void adjustWhiteSpace(int hGap, int vGap, int hBorder, int vBorder) {\n        mainLayout.setHgap(hGap);\n        mainLayout.setVgap(vGap);\n        buttonLayout.setHgap(hGap);\n        gui.setBorder(new EmptyBorder(vBorder,hBorder,vBorder,hBorder));\n        Container c = gui.getTopLevelAncestor();\n        if (c instanceof Window) {\n            Window w = (Window)c;\n            w.pack();\n        }\n    }\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n\n            @Override\n            public void run() {\n                WhiteSpace ws = new WhiteSpace();\n                // the GUI as seen by the user (without frame)\n                Container gui = ws.getGui();\n\n                JFrame f = new JFrame(\"White (OK Red) Space\");\n                f.add(gui);\n                // Ensures JVM closes after frame(s) closed and\n                // all non-daemon threads are finished\n                f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                // See http://stackoverflow.com/a/7143398/418556 for demo.\n                f.setLocationByPlatform(true);\n\n                // ensures the frame is the minimum size it needs to be\n                // in order display the components within it\n                f.setResizable(false);\n                f.pack();\n                // should be done last, to avoid flickering, moving,\n                // resizing artifacts.\n                f.setVisible(true);\n            }\n        };\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n", "title": "Providing white space in a Swing GUI", "tags": ["java", "swing", "whitespace", "layout-manager"], "link": "http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui/17874718#17874718", "question_id": 17874717, "answer_id": 17874718}, {"body": "<p>Using various <code>LayoutManagers</code> one can provide spacing between various components. </p>\n\n<h2> 1.) BorderLayout :</h2>\n\n<ul>\n<li><strong>Overloaded Constructor :</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#BorderLayout%28int,%20int%29\">BorderLayout(int horizontalGap, int verticalGap)</a></li>\n<li><p><strong>Getter and setter methods</strong></p>\n\n<p>For Horizontal Spacing <strong>:</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#getHgap%28%29\">BorderLayout.getHgap()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#setHgap%28int%29\">BorderLayout.setHgap(int hgap)</a></p>\n\n<p>For Vertical Spacing <strong>:</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#getVgap%28%29\">BorderLayout.getVgap()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#setVgap%28int%29\">BorderLayout.setVgap()</a></p></li>\n</ul>\n\n<h2> 2.) FlowLayout :</h2>\n\n<ul>\n<li><strong>Overloaded Constructor :</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#FlowLayout%28int,%20int,%20int%29\">FlowLayout(int align, int hgap, int vgap)</a></li>\n<li><p><strong>Getter and setter methods</strong></p>\n\n<p>For Horizontal Spacing <strong>:</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#getHgap%28%29\">FlowLayout.getHgap()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#setHgap%28int%29\">FlowLayout.setHgap(int hgap)</a></p>\n\n<p>For Vertical Spacing <strong>:</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#getVgap%28%29\">FlowLayout.getVgap()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#setVgap%28int%29\">FlowLayout.setVgap()</a></p></li>\n</ul>\n\n<h2> 3.) GridLayout :</h2>\n\n<ul>\n<li><strong>Overloaded Constructor :</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#GridLayout%28int,%20int,%20int,%20int%29\">GridLayout(int rows, int columns, int hgap, int vgap)</a></li>\n<li><p><strong>Getter and setter methods</strong></p>\n\n<p>For Horizontal Spacing <strong>:</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getHgap%28%29\">GridLayout.getHgap()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setHgap%28int%29\">GridLayout.setHgap(int hgap)</a></p>\n\n<p>For Vertical Spacing <strong>:</strong> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getVgap%28%29\">GridLayout.getVgap()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setVgap%28int%29\">GridLayout.setVgap()</a></p></li>\n</ul>\n\n<h2> 4.) GridBagLayout :</h2>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridBagConstraints.html#insets\">GridBagConstraints.insets</a></p>\n\n<h2> 5.) CardLayout (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setHgap%28int%29\">example</a>) :</h2>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getVgap%28%29\">CardLayout(int hGap, int vGap)</a></p>\n\n<h2>Example to display all constructors in action :</h2>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class LayoutExample {\n\n    private final int hGap = 5;\n    private final int vGap = 5;\n\n    private String[] borderConstraints = {\n        BorderLayout.PAGE_START,\n        BorderLayout.LINE_START,\n        BorderLayout.CENTER,\n        BorderLayout.LINE_END,\n        BorderLayout.PAGE_END\n    };\n\n    private JButton[] buttons;\n\n    private GridBagConstraints gbc;\n\n    private JPanel borderPanel;\n    private JPanel flowPanel;\n    private JPanel gridPanel;\n    private JPanel gridBagPanel;\n    private JPanel cardPanel;\n\n    public LayoutExample() {\n        buttons = new JButton[16];\n        gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.FIRST_LINE_START;   \n        gbc.insets = new Insets(hGap, vGap, hGap, vGap);        \n    }\n\n    private void displayGUI() {\n        JFrame frame = new JFrame(\"Layout Example\");\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n        JPanel contentPane = new JPanel(\n                        new GridLayout(0, 1, hGap, vGap));\n        contentPane.setBorder(\n            BorderFactory.createEmptyBorder(hGap, vGap, hGap, vGap));\n        borderPanel = new JPanel(new BorderLayout(hGap, vGap));\n        borderPanel.setBorder(\n            BorderFactory.createTitledBorder(\"BorderLayout\"));\n        borderPanel.setOpaque(true);\n        borderPanel.setBackground(Color.WHITE);\n        for (int i = 0; i &lt; 5; i++) {\n            buttons[i] = new JButton(borderConstraints[i]);\n            borderPanel.add(buttons[i], borderConstraints[i]);\n        }\n        contentPane.add(borderPanel);\n\n        flowPanel = new JPanel(new FlowLayout(\n                    FlowLayout.CENTER, hGap, vGap));\n        flowPanel.setBorder(\n            BorderFactory.createTitledBorder(\"FlowLayout\"));\n        flowPanel.setOpaque(true);\n        flowPanel.setBackground(Color.WHITE);\n        for (int i = 5; i &lt; 8; i++) {\n            buttons[i] = new JButton(Integer.toString(i));\n            flowPanel.add(buttons[i]);\n        }\n        contentPane.add(flowPanel);\n\n        gridPanel = new JPanel(new GridLayout(2, 2, hGap, vGap));\n        gridPanel.setBorder(\n            BorderFactory.createTitledBorder(\"GridLayout\"));\n        gridPanel.setOpaque(true);\n        gridPanel.setBackground(Color.WHITE);\n        for (int i = 8; i &lt; 12; i++) {\n            buttons[i] = new JButton(Integer.toString(i));\n            gridPanel.add(buttons[i]);\n        }\n        contentPane.add(gridPanel);\n\n        gridBagPanel = new JPanel(new GridBagLayout());\n        gridBagPanel.setBorder(\n            BorderFactory.createTitledBorder(\"GridBagLayout\"));\n        gridBagPanel.setOpaque(true);\n        gridBagPanel.setBackground(Color.WHITE);\n        buttons[12] = new JButton(Integer.toString(12));\n        addComp(gridBagPanel, buttons[12], 0, 0, 1, 1\n                            , GridBagConstraints.BOTH, 0.33, 0.5);\n        buttons[13] = new JButton(Integer.toString(13));\n        addComp(gridBagPanel, buttons[13], 1, 0, 1, 1\n                            , GridBagConstraints.BOTH, 0.33, 0.5);\n        buttons[14] = new JButton(Integer.toString(14));\n        addComp(gridBagPanel, buttons[14], 0, 1, 2, 1\n                            , GridBagConstraints.BOTH, 0.66, 0.5);\n        buttons[15] = new JButton(Integer.toString(15));\n        addComp(gridBagPanel, buttons[15], 2, 0, 1, 2\n                            , GridBagConstraints.BOTH, 0.33, 1.0);\n        contentPane.add(gridBagPanel);\n\n        cardPanel = new JPanel(new CardLayout(hGap, vGap));\n        cardPanel.setBorder(\n            BorderFactory.createTitledBorder(\"CardLayout\"));\n        cardPanel.setOpaque(true);\n        cardPanel.setBackground(Color.WHITE);\n        cardPanel.add(getPanel(Color.BLUE));\n        cardPanel.add(getPanel(Color.GREEN));\n        contentPane.add(cardPanel);\n\n        frame.setContentPane(contentPane);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel getPanel(Color bColor) {\n        JPanel panel = new JPanel(new FlowLayout(\n                    FlowLayout.CENTER, hGap, vGap));\n        panel.setOpaque(true);\n        panel.setBackground(bColor.darker().darker());\n        JButton swapperButton = new JButton(\"Next\");\n        swapperButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent ae) {\n                CardLayout cardLayout = (CardLayout) cardPanel.getLayout();\n                cardLayout.next(cardPanel);\n            }\n        });\n\n        panel.add(swapperButton);\n\n        return panel;\n    }\n\n    private void addComp(JPanel panel, JComponent comp\n                                , int x, int y, int gWidth\n                                    , int gHeight, int fill\n                                        , double weightx, double weighty) {\n        gbc.gridx = x;\n        gbc.gridy = y;\n        gbc.gridwidth = gWidth;\n        gbc.gridheight = gHeight;\n        gbc.fill = fill;\n        gbc.weightx = weightx;\n        gbc.weighty = weighty;      \n\n        panel.add(comp, gbc);\n    }\n\n    public static void main(String[] args) {\n        Runnable runnable = new Runnable(){\n            @Override\n            public void run() {\n                new LayoutExample().displayGUI();\n            }\n        };\n        EventQueue.invokeLater(runnable);\n    }\n}\n</code></pre>\n\n<h2>OUTPUT :</h2>\n\n<p><img src=\"http://i.stack.imgur.com/9mKG9.png\" alt=\"LAYOUTIMAGE\"></p>\n", "title": "Providing white space in a Swing GUI", "tags": ["java", "swing", "whitespace", "layout-manager"], "link": "http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui/17876938#17876938", "question_id": 17874717, "answer_id": 17876938}, {"body": "<p>When you use <code>BoxLayout</code>, <code>Box.createVerticalGlue()</code> method can help you to make some white space.</p>\n\n<p>Another method is <code>BorderFactory.createEmptyBorder(int top, int left, int bottom, int right)</code>. It can help you to make some white space around component.</p>\n\n<p>Thanks for Andrew Thompson's remind.I've revised BoxLayout in recent days and I     find that <code>Box.createVerticalGlue()</code> can add some white space depend on the panel's size and you can not set the explicit pixel value of the length of white space.But <code>Box.createVerticalStrut()</code> can do that.  Here is a MCTaRE and show the    effect of those two methods.</p>\n\n<p><img src=\"http://i.stack.imgur.com/qOIZ5.gif\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\nimport javax.swing.event.*;\n\npublic class WhiteSpace extends JFrame{\n    static WhiteSpace whiteSpace;\n    DemoPanel demoPanel;\n    boolean withGlue;\n    JSpinner spinner;\n\n    public WhiteSpace(){\n        initialWindow();\n        demoPanel = new DemoPanel();\n        ActionPanel actionPanel = new ActionPanel();\n\n        setLayout(new BorderLayout());\n\n        getContentPane().add(actionPanel,BorderLayout.NORTH);\n        getContentPane().add(demoPanel,BorderLayout.CENTER);\n            setVisible(true);\n    }\n\n    public void initialWindow(){\n        setSize(220, 300);\n        setTitle(\"White Space\");\n        setResizable(false);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        //Show the window in the middle of the screen\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                whiteSpace = new WhiteSpace();\n            }\n        };\n        SwingUtilities.invokeLater(runnable);\n    }\n\n    class DemoPanel extends JPanel{\n        //Show the vertical white space between label1 and label2\n        JLabel label1;\n        JLabel label2;\n        public void initialDemoPanel(){\n            setBorder(BorderFactory.createTitledBorder(getBorder(), \"DemoPanel\", TitledBorder.LEADING, TitledBorder.TOP, new Font(\"Default\",Font.PLAIN,10), Color.gray));\n            setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n\n            label1 = new JLabel(\"This is first line\");\n            label2 = new JLabel(\"This is second line\");\n        }\n\n        public DemoPanel(){\n            initialDemoPanel();\n            add(label1);\n            if(withGlue){\n                add(Box.createVerticalGlue());\n            }\n            add(label2);\n        }\n\n        public DemoPanel(int strutValue){\n            initialDemoPanel();\n            add(label1);\n            add(Box.createVerticalStrut(strutValue));\n            add(label2);\n        }\n    }\n\n    class ActionPanel extends JPanel{\n        public ActionPanel(){\n            setBorder(BorderFactory.createTitledBorder(getBorder(), \"ActionPanel\", TitledBorder.LEADING, TitledBorder.TOP, new Font(\"Default\",Font.PLAIN,10), Color.gray));\n\n            setLayout(new BoxLayout(this,BoxLayout.X_AXIS));\n            JRadioButton glueButton = new JRadioButton(\"With Glue\");\n            glueButton.addActionListener(new glueButtonListener());\n            add(glueButton);\n\n            add(Box.createHorizontalStrut(10));\n            //To create horizontal white space\n            JLabel strutLabel = new JLabel(\"Strut Value\");\n            add(strutLabel);\n            spinner = new JSpinner(new SpinnerNumberModel(0,0,50,1));\n            spinner.addChangeListener(new spinnerListener());\n            add(spinner);\n            //public SpinnerNumberModel(Number value,Comparable minimum,Comparable maximum,Number stepSize)\n        }\n    }\n\n    class glueButtonListener implements ActionListener{\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            spinner.setValue(new Integer(0));\n            withGlue = (withGlue == true ? false:true);\n            whiteSpace.getContentPane().remove(demoPanel);\n            demoPanel = new DemoPanel();\n            whiteSpace.getContentPane().add(demoPanel,BorderLayout.CENTER);\n            whiteSpace.getContentPane().validate();\n        }\n    }\n\n    class spinnerListener implements ChangeListener{\n\n        @Override\n        public void stateChanged(ChangeEvent e) {\n            int strutValue = (Integer) spinner.getValue();\n            whiteSpace.getContentPane().remove(demoPanel);\n            demoPanel = new DemoPanel(strutValue);\n            whiteSpace.getContentPane().add(demoPanel,BorderLayout.CENTER);\n            whiteSpace.getContentPane().validate();\n        }\n    }\n}\n</code></pre>\n\n<p><code>Box.createHorizontalGlue()</code> and <code>Box.createHorizontalStrut(int height)</code> can be used too. Besides, <code>Box.createRigidArea(Dimension d)</code> has the ability too create white space too.</p>\n", "title": "Providing white space in a Swing GUI", "tags": ["java", "swing", "whitespace", "layout-manager"], "link": "http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui/22525005#22525005", "question_id": 17874717, "answer_id": 22525005}, {"body": "<p><a href=\"http://www.jgoodies.com/freeware/libraries/forms/\" rel=\"nofollow\">JGoodies <strong>FormLayout</strong>.</a>  </p>\n\n<p>Author Karsten Lentzsch has a collection of <a href=\"http://www.jgoodies.com/downloads/articles-and-presentations/\" rel=\"nofollow\">presentations</a> on UI design.   In particular <a href=\"http://www.jgoodies.com/download/presentations/Swing%20with%20Style.pdf\" rel=\"nofollow\">this PDF</a> speaks to the need for aesthetic whitespace.  Adding meaningful space while also paying attention to clutter separates the wheat from the chaff.</p>\n", "title": "Providing white space in a Swing GUI", "tags": ["java", "swing", "whitespace", "layout-manager"], "link": "http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui/24596067#24596067", "question_id": 17874717, "answer_id": 24596067}, {"body": "<p><code>MigLayout</code> has multiple ways of creating space. (A space is called a gap in this layout.)\nGaps can be created at the highest level with layout constraints, it is possible to\ncreate gaps between rows and column and gaps can be also set between individual \ncomponents with component constraints. There are also specific gaps around the borders\nof a container called insets which have their own specific keyword to be set.</p>\n\n<p>The following example creates all these kinds of gaps:</p>\n\n<pre><code>package com.zetcode;\n\nimport java.awt.EventQueue;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport net.miginfocom.swing.MigLayout;\n\n\npublic class MigLayoutGaps2 extends JFrame {\n\n    public MigLayoutGaps2() {\n\n        initUI();\n\n        setTitle(\"Gaps\");\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n    }\n\n    private void initUI() {\n\n        JPanel base = new JPanel(new MigLayout(\"flowy, ins 30, gap 15\"));\n        setContentPane(base);\n\n        JPanel pnl1 = new JPanel();\n        pnl1.setBorder(\n                BorderFactory.createTitledBorder(\"Grid gaps\")\n        );\n\n        pnl1.setLayout(new MigLayout(\"gap 5 5, ins 10, wrap 3\"));\n\n        pnl1.add(new JButton(\"1\"));\n        pnl1.add(new JButton(\"2\"));\n        pnl1.add(new JButton(\"3\"));\n        pnl1.add(new JButton(\"4\"));\n        pnl1.add(new JButton(\"5\"));\n        pnl1.add(new JButton(\"6\"));\n\n        JPanel pnl2 = new JPanel();\n        pnl2.setBorder(\n                BorderFactory.createTitledBorder(\"Column gaps\")\n        );\n\n        pnl2.setLayout(new MigLayout(\"wrap 3\", \"[]10[]\"));\n\n        JLabel lbl1 = new JLabel();\n        lbl1.setBorder(\n            BorderFactory.createEtchedBorder()\n        );\n\n        JLabel lbl2 = new JLabel();\n        lbl2.setBorder(\n            BorderFactory.createEtchedBorder()\n        );\n\n        JLabel lbl3 = new JLabel();\n        lbl3.setBorder(\n            BorderFactory.createEtchedBorder()\n        );        \n\n        pnl2.add(lbl1, \"w 40, h 110\");\n        pnl2.add(lbl2, \"w 40, h 110\");\n        pnl2.add(lbl3, \"w 40, h 110\");\n\n        JPanel pnl3 = new JPanel();\n        pnl3.setBorder(\n                BorderFactory.createTitledBorder(\"Row gaps\")\n        );\n\n        pnl3.setLayout(new MigLayout(\"wrap\", \"\", \"[]15[]\"));\n\n        JLabel lbl4 = new JLabel();\n        lbl4.setBorder(\n            BorderFactory.createEtchedBorder()\n        );\n\n        JLabel lbl5 = new JLabel();\n        lbl5.setBorder(\n            BorderFactory.createEtchedBorder()\n        );\n\n        JLabel lbl6 = new JLabel();\n        lbl6.setBorder(\n            BorderFactory.createEtchedBorder()\n        );        \n\n        pnl3.add(lbl4, \"w 150, h 20\");\n        pnl3.add(lbl5, \"w 150, h 20\");\n        pnl3.add(lbl6, \"w 150, h 20\");        \n\n        JPanel pnl4 = new JPanel();\n        pnl4.setBorder(\n                BorderFactory.createTitledBorder(\"Component gaps\")\n        );\n\n        pnl4.setLayout(new MigLayout());\n\n        pnl4.add(new JLabel(\"Name:\"), \"gapright 5\");\n        pnl4.add(new JTextField(10), \"gapbottom 20, gaptop 20\");\n\n        base.add(pnl1);\n        base.add(pnl2);\n        base.add(pnl3);\n        base.add(pnl4);\n\n        pack();\n    }\n\n    public static void main(String[] args) {\n\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                MigLayoutGaps2 ex = new MigLayoutGaps2();\n                ex.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>We have four panels in the layout. Each of this panels has a <code>MigLayout</code> manager.</p>\n\n<pre><code>JPanel base = new JPanel(new MigLayout(\"flowy, ins 30, gap 15\"));\n</code></pre>\n\n<p>This line creates container insets and vertical gaps between panels.</p>\n\n<pre><code>pnl1.setLayout(new MigLayout(\"gap 5 5, ins 10, wrap 3\"));\n</code></pre>\n\n<p>Here we apply gaps for the whole grid structure and also set container gaps.</p>\n\n<pre><code>pnl2.setLayout(new MigLayout(\"wrap 3\", \"[]10[]\"));\n</code></pre>\n\n<p>This line creates gaps between columns.</p>\n\n<pre><code>pnl3.setLayout(new MigLayout(\"wrap\", \"\", \"[]15[]\"));\n</code></pre>\n\n<p>Row gaps are defined with this code.</p>\n\n<pre><code>pnl4.add(new JLabel(\"Name:\"), \"gapright 5\");\npnl4.add(new JTextField(10), \"gapbottom 20, gaptop 20\");\n</code></pre>\n\n<p>Finally, it is possible to create gaps between individual components.</p>\n\n<p><img src=\"http://i.stack.imgur.com/tfA8d.png\" alt=\"Gaps\"></p>\n", "title": "Providing white space in a Swing GUI", "tags": ["java", "swing", "whitespace", "layout-manager"], "link": "http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui/24637165#24637165", "question_id": 17874717, "answer_id": 24637165}], "creation_date": 1374821412, "score": 75, "link": "http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui", "question_id": 17874717}, {"body": "<p><img src=\"http://i.stack.imgur.com/GKc00.jpg\" alt=\"this is a picture of the error code\"></p>\n\n<p>I just downloaded and dearchived android SDK for Windows. I`m currently using W8 64x.</p>\n", "tags": ["java", "eclipse", "error-handling"], "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "answers": [{"body": "<p>The error message points to a problem with your java Version. Do you have a JDK installed?\nTry adding (noting the new line)</p>\n\n<pre><code>-vm \nc:/wherever/java/jdk1.6.0_21/jre/bin/server/jvm.dll\n</code></pre>\n\n<p>to your eclipse.ini file, pointing to the JDK you want to use, and check that the required Java Verision is at least as new as your JDK. This is the path for a Windows system. More on paths can be found <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\">here</a> (scroll down).</p>\n\n<p>Edit: <strong>make sure, that the <code>-vm</code> option occurs before the <code>-vmargs</code> command</strong>. Everything after <code>-vmargs</code> is passed directly to the JVM.\nIf you don't know where the <em>eclipse.ini</em> file is: regularly it is in the folder of your <em>eclipse.exe</em>. </p>\n\n<p><strong>Edit2:</strong> <em>@KadoLakatt</em>: the reason why installing the latest Java Version worked for you is because Eclipse checks the standard path for a JVM if it doesn't find a -vm entry (see <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\">here</a>). However I'd not recommend that, since you might be wrong guessing the JVM used. If you update Java (automatically?) you might run into problems in your Eclipse wondering what you might have changed. Better set it to a specific folder in your eclipse.ini to be certain. </p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/18615931#18615931", "question_id": 18609160, "answer_id": 18615931}, {"body": "<p>I've encountered similar problems. The reason is that the path to my eclipse includes Chinese characters. Once those characters are deleted, the problem is solved. Please check if there are characters other than English in your path.</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/19626152#19626152", "question_id": 18609160, "answer_id": 19626152}, {"body": "<p>This can be resolved by adding the following line to the eclipse.ini file\n-XX:-UseCompressedOops</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/21296605#21296605", "question_id": 18609160, "answer_id": 21296605}, {"body": "<p>it can be like this as well:    </p>\n\n<pre><code>-vm \nC:\\Program Files\\Java\\jre6\\bin\\server\\jvm.dll\n</code></pre>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/21667279#21667279", "question_id": 18609160, "answer_id": 21667279}, {"body": "<p>just to add here...<br>For the guys those who still couldn't start eclipse due same error, please check eclipse.ini file again and see have you forgot to put <code>M</code> after memory size.\nFor example:<br></p>\n\n<pre><code>-Xmx1024\nor\n-Xmx1024MB\nor\n-Xmx1024 M\nor\n-Xmx1024 mb\nor\n-Xmx1024mb\n</code></pre>\n\n<p>are incorrect, it should be <code>-Xmx1024M</code>. I have been trying different ideas from SOF and from other forums, and in this cut/paste I forgot that I missed <code>M</code> (such a little thing to miss), so I thought I should share. If it works for some of you please up-vote.</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/21670015#21670015", "question_id": 18609160, "answer_id": 21670015}, {"body": "<p>if it says\nc:/program files/java/jre/bin/server/jvm.dll not found\nthen copy the jre from jdk folder and paste it outside the jdk folder . and then try again...</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/21936711#21936711", "question_id": 18609160, "answer_id": 21936711}, {"body": "<p>I received this error out of the blue. Eclipse stopped working even though I made no config changes and did not install any new jdk's.</p>\n\n<p>Here was my eclipse.ini file : </p>\n\n<pre><code>--clean\n-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n256m\n--launcher.defaultAction\nopenFile\n-vm\nC:/Program Files (x86)/Java/jre7/bin/javaw.exe\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.6\n-Xms40m\n-Xmx1024m\n</code></pre>\n\n<p>To get Eclipse to start successfully I removed </p>\n\n<pre><code>    -vmargs\n    -Dosgi.requiredJavaVersion=1.6\n    -vm \nC:/Program Files (x86)/Java/jre7/bin/javaw.exe\n</code></pre>\n\n<p>So here is my updated file : </p>\n\n<pre><code>--clean\n-startup\nplugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835\n-product\norg.eclipse.epp.package.jee.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n256m\n--launcher.defaultAction\nopenFile\n-Xms40m\n-Xmx1024m\n</code></pre>\n\n<p>I have no idea why removing osgi.requiredJavaVersion=1.6 fixed this as my jvm version is 1.6. From the doc <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html\">http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fmisc%2Fruntime-options.html</a> </p>\n\n<pre><code>osgi.requiredJavaVersion\nThe minimum java version that is required to launch Eclipse. The default value is \"1.4.1\".\n</code></pre>\n\n<p>I think my java version was set correctly. Anyway Eclipse starts and runs for me now......</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/22699405#22699405", "question_id": 18609160, "answer_id": 22699405}, {"body": "<p>I had this issue recently, but I hadn't changed any java or updated the java version, May be this issue happened because of crash shutdown of the system.</p>\n\n<p>And after reading a couple of answers here I decided to change the java version from 1.6 to 1.7 in the eclipse.ini file.</p>\n\n<pre><code>-vmargs\n-Dosgi.requiredJavaVersion=1.6  \n</code></pre>\n\n<p>After this change the Eclipse started well and it worked. Since I didnt had changed anything i decided to change it back to 1.6 to what it was originally. </p>\n\n<p>Then I started eclipse and guess what it worked. So Looks like in my case just touching/modifiying the eclipse.ini file worked.</p>\n\n<p>I hope this answer is helpful to somebody.</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/28506152#28506152", "question_id": 18609160, "answer_id": 28506152}, {"body": "<p>Adding <code>-vm</code> parameters works for me. </p>\n\n<pre><code>-vm \nC:\\Program Files\\Java\\jdk1.7.0_45\\jre\\bin\\server\\jvm.dll\n</code></pre>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/30601999#30601999", "question_id": 18609160, "answer_id": 30601999}, {"body": "<p>I had same issue in my windows 7, 64-bit machine. Then I downloaded and installed 64 bit jdk for Java(which includes jre). This solved the issue.</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/31830400#31830400", "question_id": 18609160, "answer_id": 31830400}, {"body": "<p>Directly changing eclipse file is not a good idea, no matter facet or ini, unless it could be changed in eclipse. Had the same problem, with jdk1.8 installed. Change it to jdk 1.7.<a href=\"http://i.stack.imgur.com/SksXg.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/SksXg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, according to <a href=\"https://wiki.eclipse.org/Eclipse/Installation\" rel=\"nofollow\">https://wiki.eclipse.org/Eclipse/Installation</a>, both LUNA and MARS need 1.7. So just ensure you have it installed.</p>\n", "title": "Eclipse returns error message &quot;Java was started but returned exit code = 1&quot;", "tags": ["java", "eclipse", "error-handling"], "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1/37802543#37802543", "question_id": 18609160, "answer_id": 37802543}], "creation_date": 1378284105, "score": 74, "link": "http://stackoverflow.com/questions/18609160/eclipse-returns-error-message-java-was-started-but-returned-exit-code-1", "question_id": 18609160}, {"body": "<p>From Effective Java by Joshua Bloch,</p>\n\n<ol>\n<li>Arrays differ from generic type in two important ways. First arrays are covariant. Generics are invariant.</li>\n<li><p>Covariant simply means if X is subtype of Y then X[] will also be sub type of Y[]. Arrays are covariant As string is subtype of Object So</p>\n\n<p><code>String[] is subtype of Object[]</code></p>\n\n<p>Invariant simply means irrespective of X being subtype of Y or not ,</p>\n\n<pre><code> List&lt;X&gt; will not be subType of List&lt;Y&gt;.\n</code></pre></li>\n</ol>\n\n<p>My question is why the decision to make arrays covariant in Java? There are other SO posts such as <a href=\"http://stackoverflow.com/questions/6684493/why-are-arrays-invariant-but-lists-covariant\">Why are Arrays invariant, but Lists covariant?</a>, but they seem to be focussed on Scala and I am not able to follow.</p>\n", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "title": "Why are arrays covariant but generics are invariant?", "answers": [{"body": "<p>May be <a href=\"https://www.ibm.com/developerworks/java/library/j-jtp01255/index.html\">this</a> help:-</p>\n\n<p><strong>Generics are not covariant</strong></p>\n\n<p>Arrays in the Java language are covariant -- which means that if Integer extends Number (which it does), then not only is an Integer also a Number, but an Integer[] is also a <code>Number[]</code>, and you are free to pass or assign an <code>Integer[]</code> where a <code>Number[]</code> is called for. (More formally, if Number is a supertype of Integer, then <code>Number[]</code> is a supertype of <code>Integer[]</code>.) You might think the same is true of generic types as well -- that <code>List&lt;Number&gt;</code> is a supertype of <code>List&lt;Integer&gt;</code>, and that you can pass a <code>List&lt;Integer&gt;</code> where a <code>List&lt;Number&gt;</code> is expected. Unfortunately, it doesn't work that way. </p>\n\n<p>It turns out there's a good reason it doesn't work that way: It would break the type safety generics were supposed to provide. Imagine you could assign a <code>List&lt;Integer&gt;</code> to a <code>List&lt;Number&gt;</code>.\nThen the following code would allow you to put something that wasn't an Integer into a <code>List&lt;Integer&gt;</code>:</p>\n\n<pre><code>List&lt;Integer&gt; li = new ArrayList&lt;Integer&gt;();\nList&lt;Number&gt; ln = li; // illegal\nln.add(new Float(3.1415));\n</code></pre>\n\n<p>Because ln is a <code>List&lt;Number&gt;</code>, adding a Float to it seems perfectly legal. But if ln were aliased with <code>li</code>, then it would break the type-safety promise implicit in the definition of li -- that it is a list of integers, which is why generic types cannot be covariant.</p>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18666780#18666780", "question_id": 18666710, "answer_id": 18666780}, {"body": "<p>Via <a href=\"http://en.wikipedia.org/wiki/Covariance_and_contravariance_%28computer_science%29#Covariant_arrays_in_Java_and_C.23\">wikipedia</a>:</p>\n\n<blockquote>\n  <p>Early versions of Java and C# did not include generics (a.k.a. parametric polymorphism).</p>\n  \n  <p>In such a setting, making arrays invariant rules out useful polymorphic programs.\n  For example, consider writing a function to shuffle an array, or a function that tests two arrays for equality using the <code>Object.equals</code> method on the elements. The implementation does not depend on the exact type of element stored in the array, so it should be possible to write a single function that works on all types of arrays. It is easy to implement functions of type</p>\n\n<pre><code>boolean equalArrays (Object[] a1, Object[] a2);\nvoid shuffleArray(Object[] a);\n</code></pre>\n  \n  <p>However, if array types were treated as invariant, it would only be possible to call these functions on an array of exactly the type <code>Object[]</code>. One could not, for example, shuffle an array of strings.</p>\n  \n  <p>Therefore, both Java and C# treat array types covariantly. For instance, in C# <code>string[]</code> is a subtype of <code>object[]</code>, and in Java <code>String[]</code> is a subtype of <code>Object[]</code>.</p>\n</blockquote>\n\n<p>This answers the question \"Why are arrays covariant?\", or more accurately, \"Why <em>were</em> arrays made covariant <em>at the time</em>?\"</p>\n\n<p>When generics were introduced, they were purposefully not made covariant for reasons pointed out in <a href=\"http://stackoverflow.com/a/2745301/697449\">this answer by Jon Skeet</a>:</p>\n\n<blockquote>\n  <p>No, a <code>List&lt;Dog&gt;</code> is not a <code>List&lt;Animal&gt;</code>. Consider what you can do with a <code>List&lt;Animal&gt;</code> - you can add any animal to it... including a cat. Now, can you logically add a cat to a litter of puppies? Absolutely not.</p>\n\n<pre><code>// Illegal code - because otherwise life would be Bad\nList&lt;Dog&gt; dogs = new List&lt;Dog&gt;();\nList&lt;Animal&gt; animals = dogs; // Awooga awooga\nanimals.add(new Cat());\nDog dog = dogs.get(0); // This should be safe, right?\n</code></pre>\n  \n  <p>Suddenly you have a <em>very</em> confused cat.</p>\n</blockquote>\n\n<p>The original motivation for making arrays covariant described in the wikipedia article didn't apply to generics because <a href=\"http://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\">wildcards</a> made the expression of covariance (and contravariance) possible, for example:</p>\n\n<pre><code>boolean equalLists(List&lt;?&gt; l1, List&lt;?&gt; l2);\nvoid shuffleList(List&lt;?&gt; l);\n</code></pre>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18666878#18666878", "question_id": 18666710, "answer_id": 18666878}, {"body": "<p>The reason is that every array knows it's element type during runtime, while generic collection doesn't because of type erasure.\nFor example:</p>\n\n<pre><code>String[] strings = new String[2];\nObject[] objects = strings;  // valid, String[] is Object[]\nobjects[0] = 12; // error, would cause java.lang.ArrayStoreException: java.lang.Integer during runtime\n</code></pre>\n\n<p>If this was allowed with generic collections:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nList&lt;Object&gt; objects = strings;  // let's say it is valid\nobjects.add(12);  // invalid, Integer should not be put into List&lt;String&gt; but there is no information during runtime to catch this\n</code></pre>\n\n<p>But this would cause problems later when someone would try to access the list:</p>\n\n<pre><code>String first = strings.get(0); // would cause ClassCastException, trying to assign 12 to String\n</code></pre>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18666906#18666906", "question_id": 18666710, "answer_id": 18666906}, {"body": "<p>Arrays are covariant for at least two reasons:</p>\n\n<ul>\n<li><p>It is useful for collections that hold information which will never change to be covariant.  For a collection of T to be covariant, its backing store must also be covariant.  While one could design an immutable <code>T</code> collection which did not use a <code>T[]</code> as its backing store (e.g. using a tree or linked list), such a collection would be unlikely to perform as well as one backed by an array.  One might argue that a better way to provide for covariant immutable collections would have been to define a \"covariant immutable array\" type they could use a backing store, but simply allowing array covariance was probably easier.</p></li>\n<li><p>Arrays will frequently be mutated by code which doesn't know what type of thing is going to be in them, but won't put into the array anything which wasn't read out of that same array.  A prime example of this is sorting code.  Conceptually it might have been possible for array types to include methods to swap or permute elements (such methods could be equally applicable to any array type), or define an \"array manipulator\" object which hold a reference to an array and one or more things that had been read from it, and could include methods to store previously-read items into the array from which they had come.  If arrays were not covariant, user code would not be able to define such a type, but the runtime could have included some specialized methods.</p></li>\n</ul>\n\n<p>The fact that arrays are covariant may be viewed as an ugly hack, but in most cases it facilitates the creation of working code.</p>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18666938#18666938", "question_id": 18666710, "answer_id": 18666938}, {"body": "<p>My take: When code is expecting an array A[] and you give it B[] where B is a subclass of A, there's only two things to worry about: what happens when you read an array element, and what happens if you write it.  So it's not hard to write language rules to ensure that type safety is preserved in all cases (the main rule being that an <code>ArrayStoreException</code> could be thrown if you try to stick an A into a B[]).  For a generic, though, when you declare a class <code>SomeClass&lt;T&gt;</code>, there can be any number of ways <code>T</code> is used in the body of the class, and I'm guessing it's just way too complicated to work out all the possible combinations to write rules about when things are allowed and when they aren't.</p>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18667187#18667187", "question_id": 18666710, "answer_id": 18667187}, {"body": "<p>An important feature of parametric types is the ability to write polymorphic algorithms, i.e. algorithms that operate on a data structure regardless of its parameter value, such as <code>Arrays.sort()</code>.</p>\n\n<p>With generics, that's done with wildcard types:</p>\n\n<pre><code>&lt;E extends Comparable&lt;E&gt;&gt; void sort(E[]);\n</code></pre>\n\n<p>To be truly useful, wildcard types require wildcard capture, and that requires the notion of a type parameter. None of that was available at the time arrays were added to Java, and makings arrays of reference type covariant permitted a far simpler way to permit polymorphic algorithms:</p>\n\n<pre><code>void sort(Comparable[]);\n</code></pre>\n\n<p>However, that simplicity opened a loophole in the static type system:</p>\n\n<pre><code>String[] strings = {\"hello\"};\nObject[] objects = strings;\nobjects[0] = 1; // throws ArrayStoreException\n</code></pre>\n\n<p>requiring a runtime check of every write access to an array of reference type.</p>\n\n<p>In a nutshell, the newer approach embodied by generics makes the type system more complex, but also more statically type safe, while the older approach was simpler, and less statically type safe. The designers of the language opted for the simpler approach, having more important things to do than closing a small loophole in the type system that rarely causes problems. Later, when Java was established, and the pressing needs taken care of, they had the resources to do it right for generics (but changing it for arrays would have broken existing Java programs).</p>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18792306#18792306", "question_id": 18666710, "answer_id": 18792306}, {"body": "<p><strong>Generics are invariant</strong>: from <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#120403\" rel=\"nofollow\"><strong>JSL 4.10</strong></a>:<br></p>\n\n<blockquote>\n  <p>...Subtyping does not extend through generic types: T &lt;: U does not\n  imply that <code>C&lt;T&gt;</code> &lt;: <code>C&lt;U&gt;</code> ...</p>\n</blockquote>\n\n<p>and a few lines further, JLS also explains that <br><strong>Arrays are covariant</strong> (first bullet):</p>\n\n<p><strong>4.10.3 Subtyping among Array Types</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/m5Iae.png\" alt=\"enter image description here\"></p>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/24232313#24232313", "question_id": 18666710, "answer_id": 24232313}, {"body": "<p>I think they made a wrong decision at the first place that made array covariant. It breaks the type safety as it described <a href=\"http://c2.com/cgi/wiki?JavaArraysBreakTypeSafety\" rel=\"nofollow\">here</a> and they got stuck with that because of backward compatibility and after that they tried to not make the same mistake for generic.\nAnd that's one of the reasons that <a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"nofollow\">Joshua Block</a> prefers lists to arra ys in Item 25 of book \"Effective Java(second edition)\"</p>\n", "title": "Why are arrays covariant but generics are invariant?", "tags": ["java", "arrays", "generics", "language-design", "covariance"], "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/36364295#36364295", "question_id": 18666710, "answer_id": 36364295}], "creation_date": 1378502209, "score": 74, "link": "http://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant", "question_id": 18666710}, {"body": "<p>So, some way or another (playing around), I found myself with a regex like <code>\\d{1}{2}</code>.</p>\n\n<p>Logically, to me, it should mean:</p>\n\n<blockquote>\n  <p>(A digit exactly once) exactly twice, i.e. a digit exactly twice.</p>\n</blockquote>\n\n<p>But it, in fact, appears to just mean \"a digit exactly once\" (thus ignoring the <code>{2}</code>).</p>\n\n<pre><code>String regex = \"^\\\\d{1}{2}$\"; // ^$ to make those not familiar with 'matches' happy\nSystem.out.println(\"1\".matches(regex)); // true\nSystem.out.println(\"12\".matches(regex)); // false\n</code></pre>\n\n<p>Similar results can be seen using <code>{n}{m,n}</code> or similar.</p>\n\n<p>Why does this happen? Is it explicitly stated in regex / Java documentation somewhere or is it just a decision Java developers made on-the-fly or is it maybe a bug?</p>\n\n<p>Or is it in fact not ignored and it actually means something else entirely?</p>\n\n<p>Not that it matters much, but it's not across-the-board regex behaviour, <a href=\"http://www.rubular.com/r/eefKxje4nf\">Rubular</a> does what I expect.</p>\n\n<p>Note - the title is mainly for searchability for users who want to know how it works (not why).</p>\n", "tags": ["java", "regex"], "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "answers": [{"body": "<p>I am guessing that in definition of <code>{}</code> is something like \"look back to find valid expression (excluding myself - <code>{}</code>\", so in your example there is nothing between <code>}</code> and <code>{</code>. </p>\n\n<p>Anyway, if you wrap it in parenthesis it will work as you expected: <a href=\"http://refiddle.com/gv6\" rel=\"nofollow\">http://refiddle.com/gv6</a>. </p>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/18958888#18958888", "question_id": 18958747, "answer_id": 18958888}, {"body": "<p>When I input your regex in RegexBuddy using the Java regex syntax, it displays following message</p>\n\n<blockquote>\n  <p>Quantifiers must be preceded by a token that can be repeated \u00ab{2}\u00bb</p>\n</blockquote>\n\n<p>Changing the regex to explicitly use a grouping <code>^(\\d{1}){2}</code> solves that error and works as you expect.</p>\n\n<hr>\n\n<p>I assume that the java regex engine simply neglects the error/expression and works with what has been compiled so far. </p>\n\n<p><strong>Edit</strong></p>\n\n<p>The reference to the <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap09.html\" rel=\"nofollow\">IEEE-Standard</a> in <a href=\"http://stackoverflow.com/a/18958937/52598\">@piet.t's answer</a> seems to support that assumption.</p>\n\n<p><strong>Edit 2</strong> <em>(kudos to @fncomp)</em></p>\n\n<p>For completeness, one would typically use <code>(?:)</code>to avoid capturing the group. The complete regex then becomes <code>^(?:\\d{1}){2}</code> </p>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/18958894#18958894", "question_id": 18958747, "answer_id": 18958894}, {"body": "<p>At first I was surprised this doesn't throw a <code>PatternSyntaxException</code>.</p>\n\n<p>I can't base my answer on any facts, so this is just an educated guess:</p>\n\n<pre><code>\"\\\\d{1}\"    // matches a single digit\n\"\\\\d{1}{2}\" // matches a single digit followed by two empty strings\n</code></pre>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/18958930#18958930", "question_id": 18958747, "answer_id": 18958930}, {"body": "<p><a href=\"http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap09.html\">IEEE-Standard 1003.1</a> says:</p>\n\n<blockquote>\n  <p>The behavior of multiple adjacent duplication symbols ( '*' and intervals) produces undefined results.</p>\n</blockquote>\n\n<p>So every implementation can do as it pleases, just don't rely on anything specific...</p>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/18958937#18958937", "question_id": 18958747, "answer_id": 18958937}, {"body": "<p>I have never seen the <code>{m}{n}</code> syntax anywhere. It seems that the regex engine on this Rubular page applies the <code>{2}</code> quantifier to the smallest possible token before that - which is <code>\\\\d{1}</code>. To mimick this in Java (or most other regex engines, it would seem), you need to group the <code>\\\\d{1}</code> like so:</p>\n\n<pre><code>^(\\\\d{1}){2}$\n</code></pre>\n\n<p>See it <a href=\"http://regex101.com/r/zW2xX5\" rel=\"nofollow\">in action here</a>.</p>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/18958960#18958960", "question_id": 18958747, "answer_id": 18958960}, {"body": "<p>Scientific approach:<br>\n<sup>click on the patterns to see the example on regexplanet.com, and <strong>click on the green Java button</strong>.</sup></p>\n\n<ul>\n<li>You've already showed <a href=\"http://fiddle.re/9jvju\" rel=\"nofollow\"><code>\\d{1}{2}</code></a> matches <code>\"1\"</code>, and doesn't match <code>\"12\"</code>, so we <em>know</em> it isn't interpreted as <code>(?:\\d{1}){2}</code>.</li>\n<li>Still, 1 is a boring number, and <code>{1}</code> <em>might</em> be optimized away, lets try something more interesting:<br>\n<a href=\"http://fiddle.re/xf0b0\" rel=\"nofollow\"><code>\\d{2}{3}</code></a>. This still only matches two characters (not six), <code>{3}</code> is ignored.</li>\n<li>Ok. There's an easy way to see what a regex engine does. Does it capture?<br>\nLets try <a href=\"http://fiddle.re/b9kup\" rel=\"nofollow\"><code>(\\d{1})({2})</code></a>. Oddly, this works. The second group, <code>$2</code>, captures the empty string.</li>\n<li>So why do we need the first group? How about <a href=\"http://fiddle.re/75dnn\" rel=\"nofollow\"><code>({1})</code></a>? Still works.</li>\n<li>And just <a href=\"http://fiddle.re/x5man\" rel=\"nofollow\"><code>{1}</code></a>? No problem there.<br>\nIt looks like Java is being a little weird here.</li>\n<li><p>Great! So <code>{1}</code> is valid. We know <a href=\"http://stackoverflow.com/a/1537370/7586\">Java expands <code>*</code> and <code>+</code> to <code>{0,0x7FFFFFFF}</code> and <code>{1,0x7FFFFFFF}</code></a>, so will <code>*</code> or <code>+</code> work? No:</p>\n\n<blockquote>\n  <p>Dangling meta character '+' near index 0<br>\n  +<br>\n  ^</p>\n</blockquote>\n\n<p>The validation must come before <code>*</code> and <code>+</code> are expanded.</p></li>\n</ul>\n\n<p>I didn't find anything in the spec that explains that, it <em>looks</em> like a quantifier must come at least after a character, brackets, or parentheses.</p>\n\n<p>Most of these patterns are considered invalid by other regex flavors, and for a good reason - they do not make sense.  </p>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/18975475#18975475", "question_id": 18958747, "answer_id": 18975475}, {"body": "<h2>Compiled structure of the regex</h2>\n\n<p><a href=\"http://stackoverflow.com/a/18975475\">Kobi's answer</a> is spot on about the behavior of Java regex (Sun/Oracle implementation) for the case <code>\"^\\\\d{1}{2}$\"</code>, or <code>\"{1}\"</code>.</p>\n\n<p>Below is the internal compiled structure of <code>\"^\\\\d{1}{2}$\"</code>:</p>\n\n<pre><code>^\\d{1}{2}$\nBegin. \\A or default ^\nCurly. Greedy quantifier {1,1}\n  Ctype. POSIX (US-ASCII): DIGIT\n  Node. Accept match\nCurly. Greedy quantifier {2,2}\n  Slice. (length=0)\n\n  Node. Accept match\nDollar(multiline=false). \\Z or default $\njava.util.regex.Pattern$LastNode\nNode. Accept match\n</code></pre>\n\n<h2>Looking at the source code</h2>\n\n<p><strong>From my investigation, the bug is probably due to that fact that <code>{</code> is not properly checked in the private method <code>sequence()</code>.</strong></p>\n\n<p>The method <code>sequence()</code> calls to the <code>atom()</code> to parse the atom, then attach quantifier to the atom by calling <code>closure()</code>, and chains all atoms-with-closure together into one sequence.</p>\n\n<p>For example, given this regex:</p>\n\n<pre><code>^\\d{4}a(bc|gh)+d*$\n</code></pre>\n\n<p>Then the top-level call to <code>sequence()</code> will receive the compiled nodes for <code>^</code>, <code>\\d{4}</code>, <code>a</code>, <code>(bc|gh)+</code>, <code>d*</code>, <code>$</code> and chain them together.</p>\n\n<p>With that idea in mind, let us look at the source code of <code>sequence()</code>, copied from <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/regex/Pattern.java#Pattern.sequence%28java.util.regex.Pattern.Node%29\" rel=\"nofollow\">OpenJDK 8-b132</a> (Oracle uses the same code base):</p>\n\n<pre><code>@SuppressWarnings(\"fallthrough\")\n/**\n * Parsing of sequences between alternations.\n */\nprivate Node sequence(Node end) {\n    Node head = null;\n    Node tail = null;\n    Node node = null;\nLOOP:\n    for (;;) {\n        int ch = peek();\n        switch (ch) {\n        case '(':\n            // Because group handles its own closure,\n            // we need to treat it differently\n            node = group0();\n            // Check for comment or flag group\n            if (node == null)\n                continue;\n            if (head == null)\n                head = node;\n            else\n                tail.next = node;\n            // Double return: Tail was returned in root\n            tail = root;\n            continue;\n        case '[':\n            node = clazz(true);\n            break;\n        case '\\\\':\n            ch = nextEscaped();\n            if (ch == 'p' || ch == 'P') {\n                boolean oneLetter = true;\n                boolean comp = (ch == 'P');\n                ch = next(); // Consume { if present\n                if (ch != '{') {\n                    unread();\n                } else {\n                    oneLetter = false;\n                }\n                node = family(oneLetter, comp);\n            } else {\n                unread();\n                node = atom();\n            }\n            break;\n        case '^':\n            next();\n            if (has(MULTILINE)) {\n                if (has(UNIX_LINES))\n                    node = new UnixCaret();\n                else\n                    node = new Caret();\n            } else {\n                node = new Begin();\n            }\n            break;\n        case '$':\n            next();\n            if (has(UNIX_LINES))\n                node = new UnixDollar(has(MULTILINE));\n            else\n                node = new Dollar(has(MULTILINE));\n            break;\n        case '.':\n            next();\n            if (has(DOTALL)) {\n                node = new All();\n            } else {\n                if (has(UNIX_LINES))\n                    node = new UnixDot();\n                else {\n                    node = new Dot();\n                }\n            }\n            break;\n        case '|':\n        case ')':\n            break LOOP;\n        case ']': // Now interpreting dangling ] and } as literals\n        case '}':\n            node = atom();\n            break;\n        case '?':\n        case '*':\n        case '+':\n            next();\n            throw error(\"Dangling meta character '\" + ((char)ch) + \"'\");\n        case 0:\n            if (cursor &gt;= patternLength) {\n                break LOOP;\n            }\n            // Fall through\n        default:\n            node = atom();\n            break;\n        }\n\n        node = closure(node);\n\n        if (head == null) {\n            head = tail = node;\n        } else {\n            tail.next = node;\n            tail = node;\n        }\n    }\n    if (head == null) {\n        return end;\n    }\n    tail.next = end;\n    root = tail;      //double return\n    return head;\n}\n</code></pre>\n\n<p>Take note of the line <code>throw error(\"Dangling meta character '\" + ((char)ch) + \"'\");</code>. This is where the error is thrown if <code>+</code>, <code>*</code>, <code>?</code> are dangling and is not part of a preceding token. As you can see, <code>{</code> is not among the cases to throw error. In fact, it is not present in the list of cases in <code>sequence()</code>, and the compilation process will go by <code>default</code> case directly to <code>atom()</code>.</p>\n\n<pre><code>@SuppressWarnings(\"fallthrough\")\n/**\n * Parse and add a new Single or Slice.\n */\nprivate Node atom() {\n    int first = 0;\n    int prev = -1;\n    boolean hasSupplementary = false;\n    int ch = peek();\n    for (;;) {\n        switch (ch) {\n        case '*':\n        case '+':\n        case '?':\n        case '{':\n            if (first &gt; 1) {\n                cursor = prev;    // Unwind one character\n                first--;\n            }\n            break;\n        // Irrelevant cases omitted\n        // [...]\n        }\n        break;\n    }\n    if (first == 1) {\n        return newSingle(buffer[0]);\n    } else {\n        return newSlice(buffer, first, hasSupplementary);\n    }\n}\n</code></pre>\n\n<p>When the process enters <code>atom()</code>, since it encounters <code>{</code> right away, it breaks from <code>switch</code> and <code>for</code> loop, and <strong>a new slice with length 0</strong> is created (the length comes from <code>first</code>, which is 0).</p>\n\n<p>When this slice is returned, the quantifier is parsed by <code>closure()</code>, resulting in what we see.</p>\n\n<p><strong>Comparing the source code of Java 1.4.0, Java 5 and Java 8, there doesn't seem to be much changes in the source code of <code>sequence()</code> and <code>atom()</code>. It seems this bug has been there since the beginning.</strong></p>\n\n<h2>Standard for regular expression</h2>\n\n<p>The <a href=\"http://stackoverflow.com/a/18958937\">top-voted answer</a> citing <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap09.html\" rel=\"nofollow\">IEEE-Standard 1003.1</a> (or POSIX standard) is irrelevant to the discussion, since Java <strong>does not implement</strong> BRE and ERE.</p>\n\n<p>There are many syntax resulting in undefined behavior according to the standard, but is well-defined behavior across many other regex flavors (though whether they agree or not is another matter). For example, <code>\\d</code> is undefined according to the standard, but it matches digits (ASCII/Unicode) in many regex flavors.</p>\n\n<p>Sadly, there is no other standard on regular expression syntax.</p>\n\n<p>There is, however, a standard on Unicode Regular Expression, which focuses on features a Unicode regex engine should have. Java <code>Pattern</code> class more or less implements Level 1 support as described in <a href=\"http://www.unicode.org/reports/tr18/\" rel=\"nofollow\">UTS #18: Unicode Regular Expression</a> and RL2.1 (albeit extremely buggy).</p>\n", "title": "How does {m}{n} (&quot;exactly n times&quot; twice) work?", "tags": ["java", "regex"], "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work/29770754#29770754", "question_id": 18958747, "answer_id": 29770754}], "creation_date": 1379937711, "score": 73, "link": "http://stackoverflow.com/questions/18958747/how-does-mn-exactly-n-times-twice-work", "question_id": 18958747}, {"body": "<p>I'm pretty new to Java, and I've just started learning about packages in Java. I've tried both the example in Oracle's <a href=\"http://docs.oracle.com/javase/tutorial\">Java Tutorials</a>. They both compile fine, but at run-time, both come up with this error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: graphics/shapes/Square\n    at Main.main(Main.java:7)\nCaused by: java.lang.ClassNotFoundException: graphics.shapes.Square\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n\n<p>I think I might have the <code>Main.java</code> file in the wrong folder. Here is the directory hierarchy:</p>\n\n<pre><code>graphics\n\u251c Main.java\n\u251c shapes\n|   \u251c Square.java\n|   \u251c Triangle.java\n\u251c linepoint\n|   \u251c Line.java\n|   \u251c Point.java\n\u251c spaceobjects\n|   \u251c Cube.java\n|   \u251c RectPrism.java\n</code></pre>\n\n<p>And here is <code>Main.java</code>:</p>\n\n<pre><code>import graphics.shapes.*;\nimport graphics.linepoint.*\nimport graphics.spaceobjects.*;\n\npublic class Main {\n    public static void main(String args[]) {\n        Square s = new Square(2,3,15);\n        Line l = new Line(1,5,2,3);\n        Cube c = new Cube(13,32,22);\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>Any help would be appreciated. Thanks.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks for the answers. They really helped.</p>\n\n<p>After I put put the <code>Main</code> class into the <code>graphics</code> package (I added <code>package graphics;</code> to it), set the classpath to \"_test\" (folder containing graphics), compiled it, and ran it using <code>java graphics.Main</code> (from the command line), it worked.</p>\n\n<p><strong>Really late UPDATE #2</strong></p>\n\n<p>I wasn't using Eclipse (just Notepad++ and the JDK), and the above update solved my problem. However, it seems that many of these answers are for Eclipse and IntelliJ, but they have similar concepts.</p>\n\n<p>Thanks a lot for the answers!</p>\n", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "title": "How to Solve java.lang.NoClassDefFoundError?", "answers": [{"body": "<p><code>NoClassDefFoundError</code> means that the class is present in the classpath at <code>Compile time</code>, but it doesn't exist in the classpath at <code>Runtime</code>.</p>\n\n<p>If you're using Eclipse, make sure you have the <code>shapes</code>, <code>linepoints</code> and the <code>spaceobjects</code> as entries in the <code>.classpath</code> file.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/17974015#17974015", "question_id": 17973970, "answer_id": 17974015}, {"body": "<pre><code>java.lang.NoClassDefFoundError\n</code></pre>\n\n<p>indicates, that something was found at <em>compiletime</em> but not at <em>runtime</em>. maybe you just have to add it to the classpath.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/17974031#17974031", "question_id": 17973970, "answer_id": 17974031}, {"body": "<p>After you compile your code, you end up with <code>.class</code> files for each class in your program. These binary files are the bytecode that Java interprets to execute your program. The <code>NoClassDefFoundError</code> indicates that the classloader (in this case <code>java.net.URLClassLoader</code>), which is responsible for dynamically loading classes, cannot find the <code>.class</code> file for the class that you're trying to use. </p>\n\n<p>Your code wouldn't compile if the required classes weren't present (unless classes are loaded with reflection), so usually this exception means that your classpath doesn't include the required classes. Remember that the classloader (specifically <code>java.net.URLClassLoader</code>) will look for classes in package a.b.c in folder a/b/c/ in each entry in your classpath. <code>NoClassDefFoundError</code> can also indicate that you're missing a transitive dependency of a .jar file that you've compiled against and you're trying to use.</p>\n\n<p>For example, if you had a class <code>com.example.Foo</code>, after compiling you would have a class file <code>Foo.class</code>. Say for example your working directory is <code>.../project/</code>. That class file must be placed in <code>.../project/com/example</code>, and you would set your classpath to <code>.../project/</code>.</p>\n\n<p>Side note: I would recommend taking advantage of the amazing tooling that exists for Java and JVM languages. Modern IDE's like Eclipse and IDEA and build management tools like Maven or Gradle will help you not have to worry about classpaths (as much) and focus on the code! That said, <a href=\"http://en.wikipedia.org/wiki/Classpath_%28Java%29\">this link</a> explains how to set the classpath when you execute on the command line.</p>\n\n<p>If the class that's missing is not something from your project, I created <a href=\"http://snacktrace.com/\">this tool</a> for looking through open source artifacts for a given class. Paste the classname in the search box, and it'll find it if it's open source.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/17974068#17974068", "question_id": 17973970, "answer_id": 17974068}, {"body": "<p>I'd like to correct the perspective of others on <code>NoClassDefFoundError</code>.</p>\n\n<p><code>NoClassDefFoundError</code> can occur for multiple reasons like<br></p>\n\n<ol>\n<li>ClassNotFoundException -- .class not found for that referenced class irrespective of whether it is available at compile time or not(i.e base/child class).<br></li>\n<li>Class file located, but Exception raised while initializing static variables<br></li>\n<li>Class file located, Exception raised while initializing static blocks <br></li>\n</ol>\n\n<p>In the original question, it was the first case which can be corrected by setting CLASSPATH to the referenced classes jar file or to its package folder. <br></p>\n\n<p>What it means by saying \"available in compile time\"? <br></p>\n\n<ul>\n<li>The referenced class is used in the code. <br>   Eg: Two classes, A\nand B(extends A). If B is referenced directly in the code, it is\navailable at compile time, i.e. A a = new B();</li>\n</ul>\n\n<p>What it means by saying \"not available at compile time\"?</p>\n\n<ul>\n<li>The compile time class and runtime class are different, i.e. for example base class is loaded using classname of child class for example\nClass.forName(\"classname\")<br>\nEg: Two classes, A and B(extends A). Code has<br>\nA a = Class.forName(\"B\").newInstance();</li>\n</ul>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/21303729#21303729", "question_id": 17973970, "answer_id": 21303729}, {"body": "<p>Make sure that you type the class name correctly. I was getting this error because I didn't start the class name with an upper case letter</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/21790922#21790922", "question_id": 17973970, "answer_id": 21790922}, {"body": "<p>This sometimes occur in IntelliJ IDEA after a major refactoring.</p>\n\n<p><strong>Right click on your project and select -> Compile Module</strong>, and then re-start the project and it should work again.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/21971518#21971518", "question_id": 17973970, "answer_id": 21971518}, {"body": "<p>Well..i had the same error after add to classpath. The solution i found was delete the bin folder for my project. After that the folder was created automatically only with the manifest file...and then the error is gone.</p>\n\n<p>I hope it help.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/23250628#23250628", "question_id": 17973970, "answer_id": 23250628}, {"body": "<p>If your project is in a package like <code>com.blahcode</code> and your class is called <code>Main</code>, the compiled files may be output in a directory structure like <code>./out/com/blahcode/Main.class</code>. This is especially true for IntelliJ IDEA.</p>\n\n<p>When trying to run from a shell or cmd, you need to <code>cd</code> to that which contains <code>com</code> as a sub-directory.</p>\n\n<pre><code>cd out\njava -classpath . com.blahcode.Main\n</code></pre>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/26080159#26080159", "question_id": 17973970, "answer_id": 26080159}, {"body": "<p>if you got one of these error while compiling and running:</p>\n\n<ul>\n<li><p>NoClassDefFoundError</p></li>\n<li><p>Error: Could not find or load main class hello</p></li>\n<li><p>Exception in thread \"main\" java.lang.NoClassDefFoundError: javaTest/test/hello (\nwrong name: test/hello)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)</p></li>\n</ul>\n\n<p>-------------------------- <strong><em>SOLUTIION</em></strong> -----------------------</p>\n\n<p><strong>the problem is mostly in packages orgnization. You should arrange your classes in folders properly regarding to the package classifications in your source code.</strong></p>\n\n<pre><code>On Compiling process use this command:\n\njavac -d . [FileName.java]\n\nTo Run the class please use this command:\n\njava [Package].[ClassName]\n</code></pre>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/26234866#26234866", "question_id": 17973970, "answer_id": 26234866}, {"body": "<p>If you are getting NoClassDefFoundError for some external jar file that you have added to the project, try adding the jar file in lib folder and add it to the classpath by Properties >> Java Build Path >> Add Variable >> Configure Variables >> New Variable Entry. And rebuild.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/26661666#26661666", "question_id": 17973970, "answer_id": 26661666}, {"body": "<p><strong>No Class Definition Exception</strong> occurs when the intended class is not found in the Class Path.\nAt Compile Time Class : Class was generated from Java Compiler, But Somehow\nat Run Time the Dependent Class is not found.</p>\n\n<p>Lets go through one Simple Example :</p>\n\n<pre><code>public class ClassA{\npublic static void main(String args[]){\n     //Some gibberish Code...\n     String text = ClassB.getString();\n     System.out.println(\"Text is :\" + text);\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public class ClassB{\n    public static String getString(){\n      return \"Testing Some Exception\";\n }\n}\n</code></pre>\n\n<p>Now Lets assume that the above two Java Source Code are placed in some Folder let say \"NoClassDefinationFoundExceptionDemo\"</p>\n\n<p>Now open a shell(Assuming Java is already being setup correctly)</p>\n\n<ol>\n<li>Go to Folder \"NoClassDefinationFoundExceptionDemo\"</li>\n<li>Compile Java Source Files\n javac ClassB\n javac ClassA</li>\n<li>Both Files are Compiled Sucessfully and generated Class files in the same    Folder\nas ClassA.class and ClassB.class</li>\n<li>Now Since we are overiding ClassPath to current working directory\ntherefore we execute the following command\n<strong><em>java -cp . ClassA</em></strong>\nand It worked Successfully and you will see the Output in the screen</li>\n<li>Now Lets say, You removed  ClassB.class file from Present Directory.\nand now you execute the command again.\n<strong><em>java -cp . ClassA</em></strong> Now it will greet you with NoClassDefFoundException. as ClassB which is a dependency for ClassA is not found in the classpath(i.e present working directory).</li>\n</ol>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/29196877#29196877", "question_id": 17973970, "answer_id": 29196877}, {"body": "<p>My two cents in this chain:</p>\n\n<p>Ensure that the <strong>classpath</strong> contains <strong>full</strong> paths (<code>/home/user/lib/some_lib.jar</code> instead of <code>~/lib/some_lib.jar</code>) otherwise you can still face <code>NoClassDefFoundError</code> error.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/30895393#30895393", "question_id": 17973970, "answer_id": 30895393}, {"body": "<p>I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the java rootloader.  Because the different class loaders are in different security domains (according to java) the jvm won't allow classes already loaded by the rootloader to be resolved in the runtime loader address space.</p>\n\n<p>Run your program with 'java -javaagent:tracer.jar [YOUR java ARGS]'</p>\n\n<p>It produces output showing the loaded class, and the loader env that loaded the class.  It's very helpful tracing why a class cannot be resolved.</p>\n\n<pre><code>// ClassLoaderTracer.java\n// From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\n\nimport java.lang.instrument.*;\nimport java.security.*;\n\n// manifest.mf\n// Premain-Class: ClassLoadTracer\n\n// jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\n\n// java -javaagent:tracer.jar  [...]\n\npublic class ClassLoadTracer \n{\n    public static void premain(String agentArgs, Instrumentation inst) \n    {\n        final java.io.PrintStream out = System.out;\n        inst.addTransformer(new ClassFileTransformer() {\n            public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n\n                String pd = (null == protectionDomain) ? \"null\" : protectionDomain.getCodeSource().toString();\n                out.println(className + \" loaded by \" + loader + \" at \" + new java.util.Date() + \" in \" + pd);\n\n                // dump stack trace of the thread loading class \n                Thread.dumpStack();\n\n                // we just want the original .class bytes to be loaded!\n                // we are not instrumenting it...\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/32478934#32478934", "question_id": 17973970, "answer_id": 32478934}, {"body": "<p>It happens a lot with my genymotion devices.\nMake sure you have a good amount of memory available on your drive where Genymotion is installed.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/34739455#34739455", "question_id": 17973970, "answer_id": 34739455}, {"body": "<p>It happened to me in Android Studio.</p>\n\n<p>The solution that worked for me:\njust restart the studio.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/36596804#36596804", "question_id": 17973970, "answer_id": 36596804}, {"body": "<p>After working on a NetBeans project for many months, I suddenly got the NoClassDefFoundError message shortly after getting a \"Low Memory\" alert. Doing a Clean rebuild didn't help, but closing Netbeans altogether and reopening the project there were no error reports.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/36625221#36625221", "question_id": 17973970, "answer_id": 36625221}, {"body": "<p>I had the same issue with my Android development using Android studio.\nSolutions provided are general and did not help me ( at least for me).\nAfter hours of research I found following solution and may help to android developers who are doing development using android studio.\nmodify the setting as below\nPreferences ->Build, Execution, Deployment -> Instant Run -> un-check the first option.</p>\n\n<p>With this change I am up and running. \nHope this will help my dev friends.</p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/36921634#36921634", "question_id": 17973970, "answer_id": 36921634}, {"body": "<p><strong>NoClassDefFoundError in Java:</strong></p>\n\n<p><strong>Definition:</strong> </p>\n\n<p>NoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\nException in thread \"main\" java.lang.NoClassDefFoundError</p>\n\n<p><strong>Possible Causes:</strong></p>\n\n<ol>\n<li><p>The class is not available in Java Classpath.</p></li>\n<li><p>You might be running your program using jar command and class was not defined in manifest file's ClassPath attribute.</p></li>\n<li><p>Any start-up script is overriding Classpath environment variable.</p></li>\n<li><p>Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.</p></li>\n<li><p>Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.</p></li>\n<li><p>If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.</p></li>\n</ol>\n\n<p><strong>Possible Resolutions:</strong></p>\n\n<ol>\n<li><p>Verify that all required Java classes are included in the application\u2019s classpath. The most common mistake is not to include all the necessary classes, before starting to execute a Java application that has dependencies on some external libraries.</p></li>\n<li><p>The classpath of the application is correct, but the Classpath environment variable is overridden before the application\u2019s execution.</p></li>\n<li><p>Verify that the aforementioned ExceptionInInitializerError does not appear in the stack trace of your application.</p></li>\n</ol>\n\n<p><strong>Resources:</strong> </p>\n\n<p><a href=\"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\" rel=\"nofollow\">3 ways to solve java.lang.NoClassDefFoundError in Java J2EE</a></p>\n\n<p><a href=\"https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-noclassdeffounderror-how-to-solve-no-class-def-found-error/\" rel=\"nofollow\">java.lang.NoClassDefFoundError \u2013 How to solve No Class Def Found Error\n</a></p>\n", "title": "How to Solve java.lang.NoClassDefFoundError?", "tags": ["java", "exception", "packages", "noclassdeffounderror"], "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror/38824317#38824317", "question_id": 17973970, "answer_id": 38824317}], "creation_date": 1375282827, "score": 73, "link": "http://stackoverflow.com/questions/17973970/how-to-solve-java-lang-noclassdeffounderror", "question_id": 17973970}, {"body": "<p>I've got a question of some strange String pool behavior.\nI'm using <code>==</code> to compare equal Strings to find out whether they're in the pool or not.</p>\n\n<pre><code>public class StringPoolTest {\n  public static void main(String[] args) {\n    new StringPoolTest().run();\n  }\n\n  String giveLiteralString() {\n    return \"555\";\n  }\n\n  void run() {\n    String s1 = giveLiteralString() + \"\";\n    System.out.println(\"555\" == \"555\" + \"\");\n    System.out.println(giveLiteralString() == giveLiteralString() + \"\");\n  }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>true\nfalse\n</code></pre>\n\n<p>which is a big surprise for me. Could anyone explain this please?\nI think something about this is taking place at the compilation time. But why does adding <code>\"\"</code> to a String makes any difference at all?</p>\n", "tags": ["java", "string"], "title": "Strange String pool behavior", "answers": [{"body": "<pre><code>\"555\" + \"\"\n</code></pre>\n\n<p>is a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\">compile-time constant</a>, whereas</p>\n\n<pre><code>giveLiteralString() + \"\"\n</code></pre>\n\n<p>isn't. Therefore the former compiles into just the string constant \"555\" and the latter compiles into the actual method invocation and concatenation, resulting in a fresh String instance.</p>\n\n<p><hr />\nAlso see <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\">JLS \u00a73.10.5 (String Literals)</a>:</p>\n\n<blockquote>\n  <p>Strings computed by concatenation at run time are newly created and\n  therefore distinct.</p>\n</blockquote>\n", "title": "Strange String pool behavior", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17525210/strange-string-pool-behavior/17525271#17525271", "question_id": 17525210, "answer_id": 17525271}, {"body": "<p>After decompiling this line</p>\n\n<pre><code>System.out.println(\"555\" == \"555\" + \"\");\n</code></pre>\n\n<p>I got this bytecode</p>\n\n<pre><code>    LINENUMBER 8 L0\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\n    ICONST_1\n    INVOKEVIRTUAL java/io/PrintStream.println(Z)V\n    ...\n</code></pre>\n\n<p>which is equivalent to</p>\n\n<pre><code>  System.out.println(true);\n</code></pre>\n\n<p>that means expression <code>\"555\" == \"555\" + \"\"</code> compiles to boolean <code>true</code>. </p>\n\n<p>For <code>giveLiteralString() == giveLiteralString() + \"\"</code> javac built this bytecode</p>\n\n<pre><code>    LINENUMBER 8 L0\n    INVOKESTATIC Test1.giveLiteralString()Ljava/lang/String;\n    NEW java/lang/StringBuilder\n    DUP\n    INVOKESTATIC Test1.giveLiteralString()Ljava/lang/String;\n    INVOKESTATIC java/lang/String.valueOf(Ljava/lang/Object;)Ljava/lang/String;\n    INVOKESPECIAL java/lang/StringBuilder.&lt;init&gt;(Ljava/lang/String;)V\n    INVOKEVIRTUAL java/lang/StringBuilder.toString()Ljava/lang/String;\n    IF_ACMPNE L1\n    ...\n</code></pre>\n\n<p>which is equivalent to </p>\n\n<pre><code>if (giveLiteralString() == new StringBuilder(giveLiteralString()).append(\"\").toString()) {\n...\n</code></pre>\n\n<p>which will always produce false since here we're comparing 2 disctinct objects.</p>\n", "title": "Strange String pool behavior", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17525210/strange-string-pool-behavior/17525415#17525415", "question_id": 17525210, "answer_id": 17525415}, {"body": "<p>In the second case the compiler COULD have recognized that <code>+ \"\"</code> is a no-op of sorts, since <code>\"\"</code> is a compile-time value known to be zero length.  But the compiler is still required to check the result from <code>giveLiteralString</code> for null (since the null check would occur as a result of the <code>+</code> operation in the non-optimized case), so it's simplest to just not attempt the optimization.</p>\n\n<p>As a result, the compiler generates code to perform the concatenation, and a new string is created.</p>\n", "title": "Strange String pool behavior", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/17525210/strange-string-pool-behavior/17525449#17525449", "question_id": 17525210, "answer_id": 17525449}], "creation_date": 1373282009, "score": 73, "link": "http://stackoverflow.com/questions/17525210/strange-string-pool-behavior", "question_id": 17525210}, {"body": "<p>I'm running Windows 8.1 x64 with Java 7 update 45 x64 (no 32 bit Java installed) on a Surface Pro 2 tablet.</p>\n\n<p>The code below takes 1688ms when the type of i is a long and 109ms when i is an int. Why is long (a 64 bit type) an order of magnitude slower than int on a 64 bit platform with a 64 bit JVM?</p>\n\n<p>My only speculation is that the CPU takes longer to add a 64 bit integer than a 32 bit one, but that seems unlikely. I suspect Haswell doesn't use ripple-carry adders.</p>\n\n<p>I'm running this in Eclipse Kepler SR1, btw.</p>\n\n<pre><code>public class Main {\n\n    private static long i = Integer.MAX_VALUE;\n\n    public static void main(String[] args) {    \n        System.out.println(\"Starting the loop\");\n        long startTime = System.currentTimeMillis();\n        while(!decrementAndCheck()){\n        }\n        long endTime = System.currentTimeMillis();\n        System.out.println(\"Finished the loop in \" + (endTime - startTime) + \"ms\");\n    }\n\n    private static boolean decrementAndCheck() {\n        return --i &lt; 0;\n    }\n\n}\n</code></pre>\n\n<p>Edit: Here are the results from equivalent C++ code compiled by VS 2013 (below), same system. <del>long: 72265ms int: 74656ms</del>  Those results were in debug 32 bit mode.</p>\n\n<p>In 64 bit release mode: <del>long: 875ms</del> long long:  906ms int: 1047ms</p>\n\n<p>This suggests that the result I observed is JVM optimization weirdness rather than CPU limitations.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"iostream\"\n#include \"windows.h\"\n#include \"limits.h\"\n\nlong long i = INT_MAX;\n\nusing namespace std;\n\n\nboolean decrementAndCheck() {\nreturn --i &lt; 0;\n}\n\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\n\ncout &lt;&lt; \"Starting the loop\" &lt;&lt; endl;\n\nunsigned long startTime = GetTickCount64();\nwhile (!decrementAndCheck()){\n}\nunsigned long endTime = GetTickCount64();\n\ncout &lt;&lt; \"Finished the loop in \" &lt;&lt; (endTime - startTime) &lt;&lt; \"ms\" &lt;&lt; endl;\n\n\n\n}\n</code></pre>\n\n<p>Edit: Just tried this again in Java 8 RTM, no significant change.</p>\n", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "title": "Why is long slower than int in x64 Java?", "answers": [{"body": "<p>Basic unit of data in a Java Virtual Machine is word. Choosing the right word size is left upon the implementation of the JVM. A JVM implementation should choose a minimum word size of 32 bits. It can choose a higher word size to gain efficiency. Neither there is any restriction that a 64 bit JVM should choose 64 bit word only.</p>\n\n<p>The underlying architecture doesn't rules that the word size should also be the same. JVM reads/writes data word by word. This is the reason why it might be taking longer for a <i>long</i> than an <i>int</i>.   </p>\n\n<p><a href=\"http://www.artima.com/insidejvm/ed2/jvm3.html\">Here</a> you can find more on the same topic.</p>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19844438#19844438", "question_id": 19844048, "answer_id": 19844438}, {"body": "<p>The JVM stack is defined in terms of <em>words</em>, whose size is an implementation detail but must be at least 32 bits wide. The JVM implementer <em>may</em> use 64-bit words, but the bytecode can't rely on this, and so operations with <code>long</code> or <code>double</code> values have to be handled with extra care. In particular, <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.if_cond\">the JVM integer branch instructions</a> are defined on exactly the type <code>int</code>.</p>\n\n<p>In the case of your code, disassembly is instructive. Here's the bytecode for the <code>int</code> version as compiled by the Oracle JDK 7:</p>\n\n<pre><code>private static boolean decrementAndCheck();\n  Code:\n     0: getstatic     #14  // Field i:I\n     3: iconst_1      \n     4: isub          \n     5: dup           \n     6: putstatic     #14  // Field i:I\n     9: ifge          16\n    12: iconst_1      \n    13: goto          17\n    16: iconst_0      \n    17: ireturn       \n</code></pre>\n\n<p>Note that the JVM will load the value of your static <code>i</code> (0), subtract one (3-4), duplicate the value on the stack (5), and push it back into the variable (6). It then does a compare-with-zero branch and returns.</p>\n\n<p>The version with the <code>long</code> is a bit more complicated:</p>\n\n<pre><code>private static boolean decrementAndCheck();\n  Code:\n     0: getstatic     #14  // Field i:J\n     3: lconst_1      \n     4: lsub          \n     5: dup2          \n     6: putstatic     #14  // Field i:J\n     9: lconst_0      \n    10: lcmp          \n    11: ifge          18\n    14: iconst_1      \n    15: goto          19\n    18: iconst_0      \n    19: ireturn       \n</code></pre>\n\n<p>First, when the JVM duplicates the new value on the stack (5), it has to duplicate two stack words. In your case, it's quite possible that this is no more expensive than duplicating one, since the JVM is free to use a 64-bit word if convenient. However, you'll notice that the branch logic is longer here. The JVM doesn't have an instruction to compare a <code>long</code> with zero, so it has to push a constant <code>0L</code> onto the stack (9), do a general <code>long</code> comparison (10), and then branch on the value of <em>that</em> calculation.</p>\n\n<p>Here are two plausible scenarios:</p>\n\n<ul>\n<li>The JVM is following the bytecode path exactly. In this case, it's doing more work in the <code>long</code> version, pushing and popping several extra values, and these are on the <em>virtual managed stack</em>, not the real hardware-assisted CPU stack. If this is the case, you'll still see a significant performance difference after warmup.</li>\n<li>The JVM realizes that it can optimize this code. In this case, it's taking extra time to optimize away some of the practically unnecessary push/compare logic. If this is the case, you'll see very little performance difference after warmup.</li>\n</ul>\n\n<p>I recommend you <a href=\"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">write a correct microbenchmark</a> to eliminate the effect of having the JIT kick in, and also trying this with a final condition that isn't zero, to force the JVM to do the same comparison on the <code>int</code> that it does with the <code>long</code>.</p>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19844631#19844631", "question_id": 19844048, "answer_id": 19844631}, {"body": "<p>I don't have a 64 bit machine to test with, but the rather large difference suggests that there is more than the slightly longer bytecode at work.</p>\n\n<p>I see very close times for long/int (4400 vs 4800ms) on my 32-bit 1.7.0_45.</p>\n\n<p><del>This is only a <em>guess</em>, but I <em>strongly</em> suspect that it is the effect of a memory misalignment penalty. To confirm/deny the suspicion, try adding a public static int dummy = 0; <em>before</em> the declaration of i. That will push i down by 4 bytes in memory layout and may make it properly aligned for better performance.</del> Confirmed to be not causing the issue.</p>\n\n<p>EDIT: <del>The reasoning behind this is that the VM may not reorder <em>fields</em> at its leisure adding padding for optimal alignment, since that may interfere with JNI</del> (Not the case).</p>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19844805#19844805", "question_id": 19844048, "answer_id": 19844805}, {"body": "<p>For the record, this version does a crude \"warmup\":</p>\n\n<pre><code>public class LongSpeed {\n\n    private static long i = Integer.MAX_VALUE;\n    private static int j = Integer.MAX_VALUE;\n\n    public static void main(String[] args) {\n\n        for (int x = 0; x &lt; 10; x++) {\n            runLong();\n            runWord();\n        }\n    }\n\n    private static void runLong() {\n        System.out.println(\"Starting the long loop\");\n        i = Integer.MAX_VALUE;\n        long startTime = System.currentTimeMillis();\n        while(!decrementAndCheckI()){\n\n        }\n        long endTime = System.currentTimeMillis();\n\n        System.out.println(\"Finished the long loop in \" + (endTime - startTime) + \"ms\");\n    }\n\n    private static void runWord() {\n        System.out.println(\"Starting the word loop\");\n        j = Integer.MAX_VALUE;\n        long startTime = System.currentTimeMillis();\n        while(!decrementAndCheckJ()){\n\n        }\n        long endTime = System.currentTimeMillis();\n\n        System.out.println(\"Finished the word loop in \" + (endTime - startTime) + \"ms\");\n    }\n\n    private static boolean decrementAndCheckI() {\n        return --i &lt; 0;\n    }\n\n    private static boolean decrementAndCheckJ() {\n        return --j &lt; 0;\n    }\n\n}\n</code></pre>\n\n<p>The overall times improve about 30%, but the ratio between the two remains roughly the same.</p>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19845237#19845237", "question_id": 19844048, "answer_id": 19845237}, {"body": "<p>My JVM does this pretty straightforward thing to the inner loop when you use <code>long</code>s:</p>\n\n<pre><code>0x00007fdd859dbb80: test   %eax,0x5f7847a(%rip)  /* fun JVM hack */\n0x00007fdd859dbb86: dec    %r11                  /* i-- */\n0x00007fdd859dbb89: mov    %r11,0x258(%r10)      /* store i to memory */\n0x00007fdd859dbb90: test   %r11,%r11             /* unnecessary test */\n0x00007fdd859dbb93: jge    0x00007fdd859dbb80    /* go back to the loop top */\n</code></pre>\n\n<p>It cheats, hard, when you use <code>int</code>s; first there's some screwiness that I don't claim to understand but looks like setup for an unrolled loop:</p>\n\n<pre><code>0x00007f3dc290b5a1: mov    %r11d,%r9d\n0x00007f3dc290b5a4: dec    %r9d\n0x00007f3dc290b5a7: mov    %r9d,0x258(%r10)\n0x00007f3dc290b5ae: test   %r9d,%r9d\n0x00007f3dc290b5b1: jl     0x00007f3dc290b662\n0x00007f3dc290b5b7: add    $0xfffffffffffffffe,%r11d\n0x00007f3dc290b5bb: mov    %r9d,%ecx\n0x00007f3dc290b5be: dec    %ecx              \n0x00007f3dc290b5c0: mov    %ecx,0x258(%r10)   \n0x00007f3dc290b5c7: cmp    %r11d,%ecx\n0x00007f3dc290b5ca: jle    0x00007f3dc290b5d1\n0x00007f3dc290b5cc: mov    %ecx,%r9d\n0x00007f3dc290b5cf: jmp    0x00007f3dc290b5bb\n0x00007f3dc290b5d1: and    $0xfffffffffffffffe,%r9d\n0x00007f3dc290b5d5: mov    %r9d,%r8d\n0x00007f3dc290b5d8: neg    %r8d\n0x00007f3dc290b5db: sar    $0x1f,%r8d\n0x00007f3dc290b5df: shr    $0x1f,%r8d\n0x00007f3dc290b5e3: sub    %r9d,%r8d\n0x00007f3dc290b5e6: sar    %r8d\n0x00007f3dc290b5e9: neg    %r8d\n0x00007f3dc290b5ec: and    $0xfffffffffffffffe,%r8d\n0x00007f3dc290b5f0: shl    %r8d\n0x00007f3dc290b5f3: mov    %r8d,%r11d\n0x00007f3dc290b5f6: neg    %r11d\n0x00007f3dc290b5f9: sar    $0x1f,%r11d\n0x00007f3dc290b5fd: shr    $0x1e,%r11d\n0x00007f3dc290b601: sub    %r8d,%r11d\n0x00007f3dc290b604: sar    $0x2,%r11d\n0x00007f3dc290b608: neg    %r11d\n0x00007f3dc290b60b: and    $0xfffffffffffffffe,%r11d\n0x00007f3dc290b60f: shl    $0x2,%r11d\n0x00007f3dc290b613: mov    %r11d,%r9d\n0x00007f3dc290b616: neg    %r9d\n0x00007f3dc290b619: sar    $0x1f,%r9d\n0x00007f3dc290b61d: shr    $0x1d,%r9d\n0x00007f3dc290b621: sub    %r11d,%r9d\n0x00007f3dc290b624: sar    $0x3,%r9d\n0x00007f3dc290b628: neg    %r9d\n0x00007f3dc290b62b: and    $0xfffffffffffffffe,%r9d\n0x00007f3dc290b62f: shl    $0x3,%r9d\n0x00007f3dc290b633: mov    %ecx,%r11d\n0x00007f3dc290b636: sub    %r9d,%r11d\n0x00007f3dc290b639: cmp    %r11d,%ecx\n0x00007f3dc290b63c: jle    0x00007f3dc290b64f\n0x00007f3dc290b63e: xchg   %ax,%ax /* OK, fine; I know what a nop looks like */\n</code></pre>\n\n<p>then the unrolled loop itself:</p>\n\n<pre><code>0x00007f3dc290b640: add    $0xfffffffffffffff0,%ecx\n0x00007f3dc290b643: mov    %ecx,0x258(%r10)\n0x00007f3dc290b64a: cmp    %r11d,%ecx\n0x00007f3dc290b64d: jg     0x00007f3dc290b640\n</code></pre>\n\n<p>then the teardown code for the unrolled loop, itself a test and a straight loop:</p>\n\n<pre><code>0x00007f3dc290b64f: cmp    $0xffffffffffffffff,%ecx\n0x00007f3dc290b652: jle    0x00007f3dc290b662\n0x00007f3dc290b654: dec    %ecx\n0x00007f3dc290b656: mov    %ecx,0x258(%r10)\n0x00007f3dc290b65d: cmp    $0xffffffffffffffff,%ecx\n0x00007f3dc290b660: jg     0x00007f3dc290b654\n</code></pre>\n\n<p>So it goes 16 times faster for ints because the JIT unrolled the <code>int</code> loop 16 times, but didn't unroll the <code>long</code> loop at all.</p>\n\n<p>For completeness, here is the code I actually tried:</p>\n\n<pre><code>public class foo136 {\n  private static int i = Integer.MAX_VALUE;\n  public static void main(String[] args) {\n    System.out.println(\"Starting the loop\");\n    for (int foo = 0; foo &lt; 100; foo++)\n      doit();\n  }\n\n  static void doit() {\n    i = Integer.MAX_VALUE;\n    long startTime = System.currentTimeMillis();\n    while(!decrementAndCheck()){\n    }\n    long endTime = System.currentTimeMillis();\n    System.out.println(\"Finished the loop in \" + (endTime - startTime) + \"ms\");\n  }\n\n  private static boolean decrementAndCheck() {\n    return --i &lt; 0;\n  }\n}\n</code></pre>\n\n<p>The assembly dumps were generated using the options <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly</code>.  Note that you need to mess around with your JVM installation to have this work for you as well; you need to put some random shared library in exactly the right place or it will fail.</p>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19845356#19845356", "question_id": 19844048, "answer_id": 19845356}, {"body": "<p>For the records:</p>\n\n<p>if i use</p>\n\n<pre><code>boolean decrementAndCheckLong() {\n    lo = lo - 1l;\n    return lo &lt; -1l;\n}\n</code></pre>\n\n<p>(changed \"l--\" to \"l = l - 1l\") long performance improves by ~50%</p>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19846146#19846146", "question_id": 19844048, "answer_id": 19846146}, {"body": "<p>I have just written a benchmark using <a href=\"http://code.google.com/p/caliper/\" rel=\"nofollow\">caliper</a>.</p>\n\n<p>The <a href=\"https://microbenchmarks.appspot.com/runs/0a40308e-39b2-4405-9d59-16bcf8b10f67#r%3ascenario.benchmarkSpec.methodName\" rel=\"nofollow\">results</a> are quite consistent with the original code: a ~12x speedup for using <code>int</code> over <code>long</code>. It certainly seems that the loop unrolling <a href=\"http://stackoverflow.com/a/19845356/15472\">reported by tmyklebu</a> or something very similar is going on.</p>\n\n<pre><code>timeIntDecrements         195,266,845.000\ntimeLongDecrements      2,321,447,978.000\n</code></pre>\n\n<p>This is my code; note that it uses a freshly-built snapshot of <code>caliper</code>, since I could not figure out how to code against their existing beta release.</p>\n\n<pre><code>package test;\n\nimport com.google.caliper.Benchmark;\nimport com.google.caliper.Param;\n\npublic final class App {\n\n    @Param({\"\"+1}) int number;\n\n    private static class IntTest {\n        public static int v;\n        public static void reset() {\n            v = Integer.MAX_VALUE;\n        }\n        public static boolean decrementAndCheck() {\n            return --v &lt; 0;\n        }\n    }\n\n    private static class LongTest {\n        public static long v;\n        public static void reset() {\n            v = Integer.MAX_VALUE;\n        }\n        public static boolean decrementAndCheck() {\n            return --v &lt; 0;\n        }\n    }\n\n    @Benchmark\n    int timeLongDecrements(int reps) {\n        int k=0;\n        for (int i=0; i&lt;reps; i++) {\n            LongTest.reset();\n            while (!LongTest.decrementAndCheck()) { k++; }\n        }\n        return (int)LongTest.v | k;\n    }    \n\n    @Benchmark\n    int timeIntDecrements(int reps) {\n        int k=0;\n        for (int i=0; i&lt;reps; i++) {\n            IntTest.reset();\n            while (!IntTest.decrementAndCheck()) { k++; }\n        }\n        return IntTest.v | k;\n    }\n}\n</code></pre>\n", "title": "Why is long slower than int in x64 Java?", "tags": ["java", "performance", "32bit-64bit", "long-integer"], "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java/19847175#19847175", "question_id": 19844048, "answer_id": 19847175}], "creation_date": 1383849698, "score": 73, "link": "http://stackoverflow.com/questions/19844048/why-is-long-slower-than-int-in-x64-java", "question_id": 19844048}, {"body": "<p>Here\u2019s the question: When using Vagrant for a Java project (or any compiled language project for that matter), should you compile in the VM or on the host? Also, would you want your IDE and all your development tools to be run from inside the VM as well, or on the host?</p>\n\n<p>It seems to be <a href=\"http://stackoverflow.com/questions/16364563/is-it-possible-to-use-vagrant-with-intellij\">not very well defined</a> exactly how a Java IDE and the compile/deploy process work with a Vagrant VM. Generally my impression is that code is edited on the host, and run on the VM, which works great for non-compiled languages. <a href=\"http://stackoverflow.com/questions/14904590/is-vagrant-useful-for-java-javaee-developers\">Other answers on Stackoverflow</a> have implied that Vagrant is less useful for compiled languages because of the extra compile step, but I still want to see what can be done.</p>\n\n<p>Some things I\u2019ve thought through already:</p>\n\n<p>Why compile on the VM</p>\n\n<ul>\n<li>if compiling on host, java is one more piece of software to install</li>\n<li>if compiling on host, the java version on host must be manually kept up to date with that on the VM</li>\n<li>the corresponding java version on the host might be unavailable (say, on a Mac)</li>\n</ul>\n\n<p>Why have IDE on the VM</p>\n\n<ul>\n<li>tighter integration between environment and IDE, can use shortcuts to run the application</li>\n<li>can connect debugger for java applications without remote debugging (one step run/debug)</li>\n</ul>\n\n<p>Why compile on the host</p>\n\n<ul>\n<li>faster compile times</li>\n<li>want to keep the VM as close to what production looks like as possible</li>\n</ul>\n\n<p>Why have IDE on the host</p>\n\n<ul>\n<li>it\u2019s the vagrant convention to edit code on the host and run it on the VM</li>\n<li>better UI performance (X forwarding and VNC are slow)</li>\n</ul>\n\n<p>What are your thoughts: should I run my IDE from inside the VM or the host? Should I compile from inside the VM or the host?</p>\n", "tags": ["java", "vagrant"], "title": "Vagrant for a Java project: should you compile in the VM or on the host?", "answers": [{"body": "<p>After much thought and experimentation, I've decided on where to use Vagrant and how it integrates with the Java development workflow.</p>\n\n<p>For JavaEE / deployed applications, configuring a web server and a database server are definitely things that have \"enough\" complexity to warrant the use of Vagrant. With two servers and the myriad ways to configure them, it's easy for configuration to get out of sync from one developer to another, bringing about the \"works on my machine\" syndrome. For this kind of software, it would work best to edit and compile the code on the host, and deploy to a Vagrant VM that mimics your production environment. The deployment folder for the web server could even be symlinked to a compile target on the host, removing the need to manually redeploy. So Vagrant could be an important part of your development lifecycle, but the cycle time for code/compile/deploy from the host and run on the VM with Java would be longer than the cycle time for code on the host and run on the VM that we see with PHP/Ruby/Node/etc.</p>\n\n<p>For standalone Java applications (like libraries or desktop applications) the story changes a bit. In this case it makes the most sense to edit, compile, and run on the host machine, eschewing the use of Vagrant altogether. If you're using one of the big Java IDE's (Eclipse, Netbeans, IntelliJ...), you already have Java installed on the machine. At that point there is very little advantage compared to the overhead of using Vagrant, and only serves to put an extra layer of complexity in your development process. This is because by the time you are able to edit Java with an IDE you are able to run everything on the host anyway. One issue is that the version of Java required for the project may not match the version running the IDE on the host. In general (hopefully) this is not too much of a problem; as of this writing JDK6 is end-of-lifed and JDK8 is not yet released (guess where that leaves us). But if you did need to run multiple versions, you should be able to set JAVA_HOME on the host as needed. Though this does introduce extra complexity, it is less complexity than maintaining a Vagrant runtime just to work with projects using different versions of Java.</p>\n\n<p>The interesting question is what to do with containerless web applications. Should the web server (in this case internal to the application) be run inside the VM as we did for the external web server? Or run on the host as we did for the standalone application? For containerless web applications, there is no external web server to worry about, but there is still likely a database. In this situation we can take a hybrid approach. Running a containerless web app is essentially the same as running a standalone application, so it would be effective to compile and run your code on the host machine. But with a database involved there is still enough complexity and configuration there that it makes sense to have the database server be on its own Vagrant VM.</p>\n\n<p>Hopefully this gives Java developers who are interested in Vagrant some context about how to use it.</p>\n", "title": "Vagrant for a Java project: should you compile in the VM or on the host?", "tags": ["java", "vagrant"], "link": "http://stackoverflow.com/questions/17625421/vagrant-for-a-java-project-should-you-compile-in-the-vm-or-on-the-host/17878019#17878019", "question_id": 17625421, "answer_id": 17878019}, {"body": "<p>I was interested to this topic during the last year :)</p>\n\n<p>My solution is to have a vagrant machine configurable with flags.\nFor example one of this flag enable the desktop gui because some developer prefer to code on the host machine while others prefer to have a much more integrated environment with the desktop and the IDE in it.</p>\n\n<p>To face the desktop slowness you should install a very useful vagrant plugin (yeah... vagrant has plugins that greatly improve the development environment) in this way: vagrant plugin install vagrant-vbguest\nThis plugin will install virtual box guest addition on every guest to make it usable while using the virtualbox interface.\nThen to enable the gui edit the Vagrantfile in this way:</p>\n\n<p>config.vm.provider \"virtualbox\" do |vb|\n    vb.gui = true\nend</p>\n\n<p>Instead to speed-up the shared folder performances I suggest to use rsync:\nconfig.vm.synced_folder \"./git\", \"/home/vagrant/git\", type: \"rsync\", rsync__exclude: \".git/\"\nIn this way the source code is edited on the host and then rsync-ed to the guest.</p>\n", "title": "Vagrant for a Java project: should you compile in the VM or on the host?", "tags": ["java", "vagrant"], "link": "http://stackoverflow.com/questions/17625421/vagrant-for-a-java-project-should-you-compile-in-the-vm-or-on-the-host/35266035#35266035", "question_id": 17625421, "answer_id": 35266035}], "creation_date": 1373671311, "score": 73, "link": "http://stackoverflow.com/questions/17625421/vagrant-for-a-java-project-should-you-compile-in-the-vm-or-on-the-host", "question_id": 17625421}, {"body": "<p>I am trying to do something like this, i.e., use an array in a switch statement. Is it possible in Java? If it isn't, please explain a possible solution.</p>\n\n<pre><code>boolean[] values = new boolean[4];\n\nvalues[0] = true;\nvalues[1] = false;\nvalues[2] = false;\nvalues[3] = true;\n\nswitch (values) {\n    case [true, false, true, false]:\n        break;\n    case [false, false, true, false]:\n        break;\n    default:\n        break;\n}\n</code></pre>\n", "tags": ["java", "arrays", "switch-statement"], "title": "Use an array as a case statement in switch", "answers": [{"body": "<p>The answer is NO. The best explain is learn how to use <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">the switch statement</a>.</p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660029#20660029", "question_id": 20659979, "answer_id": 20660029}, {"body": "<p><strong>NO</strong>, simply you cannot.</p>\n\n<pre><code>SwitchStatement:\n    switch ( Expression ) SwitchBlock\n</code></pre>\n\n<blockquote>\n  <p>The type of the Expression must be char, byte, short, int, Character, Byte, Short, Integer, String, or an enum type (\u00a78.9), or a compile-time error occurs. </p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11</a></p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660031#20660031", "question_id": 20659979, "answer_id": 20660031}, {"body": "<p>Try this solution:</p>\n\n<pre><code>    boolean[] values = new boolean[4];\n    values[0] = true;\n    values[1] = false;\n    values[2] = false;\n    values[3] = true;\n\n    if (ArrayUtils.isEquals(values, new boolean[] {true, false, true, false})) {\n    ...\n    }\n    else if (ArrayUtils.isEquals(values, new boolean[] {false, false, true, false})) {\n    ...\n    }\n    else {\n    ...\n    }\n</code></pre>\n\n<p>See docs <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html#isEquals%28java.lang.Object,%20java.lang.Object%29\">here</a>.</p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660044#20660044", "question_id": 20659979, "answer_id": 20660044}, {"body": "<p>No, you cannot, however you can replace the above with the following (dirty I admit) code:</p>\n\n<pre><code>boolean[] values = new boolean[4];\n\nvalues[0] = true;\nvalues[1] = false;\nvalues[2] = false;\nvalues[3] = true;\n\nswitch(makeSuitableForSwitch(values)) {\n   case 1010: \n     break;\n   case 10: \n     break;\n   default:\n     break;\n} \n\nprivate int makeSuitableForSwitch( boolean[] values) {\n    return (values[0]?1:0)*1000+(values[1]?1:0)*100+(values[2]?1:0)*10+(values[3]?1:0);\n}\n</code></pre>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660062#20660062", "question_id": 20659979, "answer_id": 20660062}, {"body": "<p>I'd compute a value based on the sequence of the elements in the boolean array, i.e. <code>[true, false, true, true]</code> would evaluate to 1011 and then based on this integer value you can use switch statement.</p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660091#20660091", "question_id": 20659979, "answer_id": 20660091}, {"body": "<p>You can't switch on whole arrays. But you <em>could</em> convert to a bit set at the expense of some readability of the <code>switch</code> itself:</p>\n\n<p><code>switch (values[0] + 2 * values[1] + 4 * values[2] + 8 * values[3])</code></p>\n\n<p>and use <em>binary literals</em> in your case statements: <code>case 0b0101</code> is your first one.</p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660125#20660125", "question_id": 20659979, "answer_id": 20660125}, {"body": "<p>@s\u1d1c\u0280\u1d07s\u029c \u1d00\u1d1b\u1d1b\u1d00 is right. But I wanted to add something. Since Java 7, switch statements support Strings, so you could do something with that. <strong>It is really dirty</strong> and I do not recommend, but this works:</p>\n\n<pre><code>boolean[] values = new boolean[4];\n\nvalues[0] = true;\nvalues[1] = false;\nvalues[2] = false;\nvalues[3] = true;\n\nswitch (Arrays.toString(values)) {\n    case \"[true, false, true, false]\":\n        break;\n    case \"[false, false, true, false]\":\n        break;\n    default:\n        break;\n}\n</code></pre>\n\n<hr>\n\n<p>For those concerned about performance: you are right, this is not super fast. This will be compiled into something like this:</p>\n\n<pre><code>String temp = Arrays.toString(values)\nint hash = temp.hashCode();\nswitch (hash)\n{\n    case 0x23fe8da: // Assume this is the hashCode for that\n                    // original string, computed at compile-time\n        if (temp.equals(\"[true, false, true, false]\"))\n        {\n\n        }\n        break;\n    case 0x281ddaa:\n        if (temp.equals(\"[false, false, true, false]\"))\n        {\n\n        }\n        break;\n\n    default: break;\n}\n</code></pre>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20660201#20660201", "question_id": 20659979, "answer_id": 20660201}, {"body": "<p>Yes, you can pass an array to a switch. The catch is that I'm not talking about Java arrays, but a data structure.</p>\n\n<blockquote>\n  <p>An array is a systematic arrangement of objects, usually in rows and columns.</p>\n</blockquote>\n\n<p>What you are trying to do is implement a system that recognizes different flags and depending on the flags that are turned on or off you take different actions.</p>\n\n<p><strong>Example</strong></p>\n\n<p>A popular implementation of such mechanism is Linux file permissions. Where you have <code>rwx</code> as the \"array of flags\". </p>\n\n<p>If the whole array is true, you'll see <code>rwx</code>, which means that you have all the permissions. If you are not allowed to perform any action on a file, the whole array is false, you'll see <code>---</code>.</p>\n\n<p><strong>Implementation</strong></p>\n\n<p>Guess what, you can think of integers as arrays. An integer is represented by an \"array of bits\".</p>\n\n<pre><code>001 // 1, if on, set x \n010 // 2, if on, set w \n100 // 4, if on, set r\n// putting it all together in a single \"array\" (integer)\n111 // 2^2 + 2^1 + 2^0 = 4 + 2 + 1 = 7\n</code></pre>\n\n<p>That is why the permission <code>rwx</code> can be represented as a <code>7</code></p>\n\n<p>Java snippet:</p>\n\n<pre><code>class Flags {                                                                    \npublic static void main(String args[]) {         \n        /** \n         * Note the notation \"0b\", for binary; I'm using it for emphasis.\n         * You could just do: \n         * byte flags = 6;\n         */                     \n        byte flags = 0b110; // 6                     \n        switch(flags) {                                                          \n            case 0: /* do nothing */ break;                                      \n            case 3: /* execute and write */ break;                       \n            case 6: System.out.println(\"read and write\\n\"); break;         \n            case 7: /* grant all permissions */ break;                           \n            default:                                                             \n                System.out.println(\"invalid flag\\n\");           \n        }                                                                        \n    }                                                                            \n}\n</code></pre>\n\n<p>To know more about using a binary format, check this question: <a href=\"http://stackoverflow.com/q/867365/7852\">In Java, can I define an integer constant in binary format?</a></p>\n\n<p><strong>Performance</strong></p>\n\n<ul>\n<li>Saves memory</li>\n<li>You don't have to do extra processing, switches or any other type of juggling.</li>\n</ul>\n\n<p>C programs that require to be as efficient as possible use this type of mechanism; they use flags represented with single bits.</p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20662528#20662528", "question_id": 20659979, "answer_id": 20662528}, {"body": "<p>If you're trying to determine if a <em>set of conditions</em> is true, I'd use bitwise fields instead.</p>\n\n<p>For example,</p>\n\n<pre><code>public class HelloWorld\n{\n  // These are the options that can be set.\n  // They're final so treated as constants.\n  static final int A=1&lt;&lt;0, B=1&lt;&lt;1, C=1&lt;&lt;2, D=1&lt;&lt;3 ;\n\n  public static void main(String []args)\n  {\n    // Now I set my options to have A=true, B=true, C=true, D=false, effectively\n    int options = A | B | C ;\n\n    switch( options )\n    {\n      case (A):\n        System.out.println( \"just A\" ) ;\n        break ;\n      case (A|B):\n        System.out.println( \"A|B\" ) ;\n        break ;\n      case (A|B|C): // Final int is what makes this work\n        System.out.println( \"A|B|C\" ) ;\n        break ;\n      default:\n        System.out.println( \"unhandled case\" ) ;\n        break ;\n    }\n  }\n}\n</code></pre>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20666998#20666998", "question_id": 20659979, "answer_id": 20666998}, {"body": "<p>Here is another approach requiring no imports nor libraries:</p>\n\n<pre><code>boolean[] values = new boolean[4];\n\nvalues[0] = true;\nvalues[1] = false;\nvalues[2] = false;\nvalues[3] = true;\n\nint mask = buildMask(values);\n\nif (areEquals(mask, true, false, true, false)) {\n    // ...\n} else if (areEquals(mask, false, false, true, false)) {\n    // ...\n} else {\n    // ...\n}\n\nprivate int buildMask(boolean... values) {\n    int n = 0;\n    for (boolean b : values) {\n        n = (n &lt;&lt; 1) | (b ? 1 : 0);\n    }\n    return n;\n}\n\nprivate boolean areEquals(int mask, boolean... values) {\n    return mask == buildMask(values);\n}\n</code></pre>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20682794#20682794", "question_id": 20659979, "answer_id": 20682794}, {"body": "<p>As of JRE 1.7, you will need to use a hack, I recommend:</p>\n\n<ul>\n<li><p>Assume <code>values.length &lt;= 64</code> </p></li>\n<li><p>Convert values to a <code>long</code> representing bitflags</p></li>\n<li><p><code>Switch</code> against hexadecimal <a href=\"https://en.wikipedia.org/wiki/Magic_number_%28programming%29\" rel=\"nofollow\">magic numbers</a></p></li>\n</ul>\n\n<p><strong>Java Code Hack:</strong></p>\n\n<pre><code>if(values.length &gt; 64)\n  throw new IllegalStateException();\n\nlong bitflags = 0x0L;\n\nfor(int i=0; i&lt; values.length; ++i)\n  if(values[i])\n    bitflags |= 0x01L &lt;&lt; i;\n\nswitch(bitflags) {\n  case 0xEL: // represents [true,  true,  true, false]\n    break;\n  case 0xAL: // represents [true,  false, true, false]\n    break;\n  case 0x2L: // represents [false, false, true, false]\n    break;\n  default:\n    break;\n}\n</code></pre>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20708311#20708311", "question_id": 20659979, "answer_id": 20708311}, {"body": "<blockquote>\n  <p>This answer is <em>not Java</em>, but Haxe because it is possible in it, thanks to pattern matching and has interesting output, which might be useful for you to find a switch that does what you are asking for. Arrays can be matched on fixed length.</p>\n</blockquote>\n\n<p>I created an demo that compiles to Javascript and Flash. You can see the js-output in the right column. </p>\n\n<p><strong>Demo:</strong>\n<a href=\"http://try.haxe.org/#86314\" rel=\"nofollow\">http://try.haxe.org/#86314</a></p>\n\n<pre><code>class Test {\n  static function main(){\n\n    var array=[true,false,true];\n\n    var result=switch(array){\n      case [true,true,false]: \"no\";\n      case [true,false,true]: \"yes\";\n      default:\"??\";\n    }\n\n    #if js\n      new js.JQuery(\"body\").html(result);\n    #elseif flash\n      trace(result);\n    #end\n\n    // ouputs: \"yes\"\n  }\n}\n</code></pre>\n\n<p>This is the outputted switch, it uses nested switches. If you play with the cases, you see how the js-ouput changes to have a efficient switch.</p>\n\n<pre><code>(function () { \"use strict\";\nvar Test = function() { };\nTest.main = function() {\n    var array = [true,false,true,false];\n    var result;\n    switch(array.length) {\n    case 4:\n        switch(array[0]) {\n        case true:\n            switch(array[1]) {\n            case false:\n                switch(array[2]) {\n                case true:\n                    switch(array[3]) {\n                    case false:\n                        result = \"no\";\n                        break;\n                    default:\n                        result = \"??\";\n                    }\n                    break;\n                default:\n                    result = \"??\";\n                }\n                break;\n            default:\n                result = \"??\";\n            }\n            break;\n        case false:\n            switch(array[1]) {\n            case false:\n                switch(array[2]) {\n                case true:\n                    switch(array[3]) {\n                    case false:\n                        result = \"yes\";\n                        break;\n                    default:\n                        result = \"??\";\n                    }\n                    break;\n                default:\n                    result = \"??\";\n                }\n                break;\n            default:\n                result = \"??\";\n            }\n            break;\n        }\n        break;\n    default:\n        result = \"??\";\n    }\n    new js.JQuery(\"body\").html(result);\n};\nvar js = {};\nvar q = window.jQuery;\njs.JQuery = q;\nTest.main();\n})();\n</code></pre>\n\n<p>Another interesting pattern that you can use underscores. a _ pattern matches anything, so case _: is equal to default, which makes you able to do this:</p>\n\n<pre><code>var myArray = [1, 6];\nvar match = switch(myArray) {\n    case [2, _]: \"0\";\n    case [_, 6]: \"1\";\n    case []: \"2\";\n    case [_, _, _]: \"3\";\n    case _: \"4\";\n}\ntrace(match); // 1\n</code></pre>\n\n<p><a href=\"http://haxe.org/manual/pattern_matching#array-matching\" rel=\"nofollow\">http://haxe.org/manual/pattern_matching#array-matching</a></p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/20984122#20984122", "question_id": 20659979, "answer_id": 20984122}, {"body": "<p>You can also take a look at how Groovy implements the isCase() methods in Java, use a simpler version that fits your needs. It's possible to put that in an interface and create a DSL to compare any two object in your application.</p>\n\n\n\n<pre><code>return isCase(DefaultTypeTransformation.asCollection(caseValue), switchValue);\n</code></pre>\n\n<p>The relevant code is covered in <a href=\"https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java#L877\" rel=\"nofollow\">Lines 877</a> through <a href=\"https://github.com/groovy/groovy-core/blob/master/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java#L877\" rel=\"nofollow\">Lines 982</a></p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/21125268#21125268", "question_id": 20659979, "answer_id": 21125268}, {"body": "<p>I would use constant int values that represent the boolean state.</p>\n\n<p>If you use <strong>Java 1.7</strong> or above you can use binary literals that are <strong>more readable</strong>.</p>\n\n<pre><code>public static final int TRUE_FALSE_TRUE_FALSE = 0b1010;\npublic static final int FALSE_FALSE_TRUE_FALSE = 0b0010;\n</code></pre>\n\n<p>for <strong>Java 1.6</strong> and below use any other int literals, e.g. hex </p>\n\n<pre><code>public static final int TRUE_FALSE_TRUE_FALSE = 0xA;\npublic static final int FALSE_FALSE_TRUE_FALSE = 0x2;\n</code></pre>\n\n<p>then create a method that converts a boolean array to an integer bitset. E.g.</p>\n\n<pre><code>public static int toIntBitSet(boolean...values){\n    int bitset = 0;\n    for (boolean value : values) {\n       bitset = (bitset &lt;&lt; 1) | (value ? 1 : 0);\n    }\n    return bitset;\n}\n</code></pre>\n\n<p>Finally use the constants in your switch statement</p>\n\n<pre><code>boolean[] values = new boolean[]{true, false, true, false};\n\nint bitset = toIntBitSet(values);\n\nswitch (bitset) {\n  case TRUE_FALSE_TRUE_FALSE:\n    System.out.println(Integer.toBinaryString(bitset));\n    break;\n  case FALSE_FALSE_TRUE_FALSE:\n    System.out.println(Integer.toBinaryString(bitset));\n    break;\n  default:\n    break;\n}\n</code></pre>\n\n<p><strong>Another approach</strong> might be to use a java <code>BitSet</code> and a <code>Map</code> that maps to the logic that should be executed depending on the bitset's value.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n  Map&lt;BitSet, Callable&lt;String&gt;&gt; bitSetMap = new HashMap&lt;&gt;();\n\n  bitSetMap.put(bitSetValueOf(true, false, true, false), new TrueFalseTrueFalseCallable());\n  bitSetMap.put(bitSetValueOf(false, false, true, false), new FalseFalseTrueFalseCallable());\n\n  boolean[] values = new boolean[]{true, false, true, false};\n\n  BitSet bitset = bitSetValueOf(values);\n\n  Callable&lt;String&gt; callable = bitSetMap.get(bitset);\n  if (callable == null) {\n    callable = new DefaultCallable();\n  }\n\n  String result = callable.call();\n  System.out.println(result);\n}\n\npublic static BitSet bitSetValueOf(boolean... values) {\n   BitSet bitSet = new BitSet();\n      for (int i = 0; i &lt; values.length; i++) {\n         bitSet.set(i, values[i]);\n      }\n   return bitSet;\n}\n</code></pre>\n\n<p>and implement your logic</p>\n\n<pre><code>class FalseFalseTrueFalseCallable implements Callable&lt;String&gt; {\n\n  @Override\n  public String call() throws Exception {\n    return \"0010\";\n  }\n\n}\n\nclass TrueFalseTrueFalseCallable implements Callable&lt;String&gt; {\n\n  @Override\n  public String call() throws Exception {\n    return \"1010\";\n  }\n\n}\n\nclass DefaultCallable implements Callable&lt;String&gt; {\n\n  @Override\n  public String call() throws Exception {\n    return \"default value\";\n  }\n\n}\n</code></pre>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/36597764#36597764", "question_id": 20659979, "answer_id": 36597764}, {"body": "<p>@Todor <strong>Yes, THIS IS POSSIBLE IN JAVA.</strong></p>\n\n<pre><code>boolean[] values = new boolean[4];\n\nvalues[0] = true;\nvalues[1] = false;\nvalues[2] = false;\nvalues[3] = true;\n\nvalues = Arrays.toString(values)\n\nswitch (values) {\n    case \"[true, false, true, false]\":\n        break;\n    case \"[false, false, true, false]\":\n        break;\n    case \"[true, false, false, true]\":\n        System.out.println(\"YAAAAAAAAAA GOT IT\");\n        break;\n    default:\n        break;\n}\n</code></pre>\n\n<p>Note: I am not a java developer, so my code syntax can be wrong, But logic  is perfect. You can edit my answer. Here i just tried to convert array to string format and then match in switch case.</p>\n", "title": "Use an array as a case statement in switch", "tags": ["java", "arrays", "switch-statement"], "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch/39284582#39284582", "question_id": 20659979, "answer_id": 39284582}], "creation_date": 1387374621, "score": 71, "link": "http://stackoverflow.com/questions/20659979/use-an-array-as-a-case-statement-in-switch", "question_id": 20659979}, {"body": "<p>I want to encode a string into base64 and transfer it through a socket and decode it back. But after decoding it gives different answer. Following is my code and result is \"77+9x6s=\"</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n\n    public class f{\n\n       public static void main(String a[]){\n\n          String str = new String(DatatypeConverter.parseBase64Binary(\"user:123\"));\n          String res = DatatypeConverter.printBase64Binary(str.getBytes());\n          System.out.println(res);\n       }\n    }\n</code></pre>\n\n<p>Any idea about how to implement this?</p>\n\n<p>Thank You...</p>\n", "tags": ["java", "base64", "decode", "encode"], "title": "Base64 Java encode and decode a string", "answers": [{"body": "<p>You can use following approach,</p>\n\n<pre><code>// encode data on your side using BASE64\nbyte[]   bytesEncoded = Base64.encodeBase64(str .getBytes());\nSystem.out.println(\"ecncoded value is \" + new String(bytesEncoded ));\n\n// Decode data on other side, by processing encoded data\nbyte[] valueDecoded= Base64.decodeBase64(bytesEncoded );\nSystem.out.println(\"Decoded value is \" + new String(valueDecoded));\n</code></pre>\n\n<p>Hope this answers your doubt.</p>\n", "title": "Base64 Java encode and decode a string", "tags": ["java", "base64", "decode", "encode"], "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string/19743925#19743925", "question_id": 19743851, "answer_id": 19743925}, {"body": "<p>The following is a good solution - </p>\n\n<pre><code>import android.util.Base64;\n\nString converted = Base64.encodeToString(toConvert.toString().getBytes(), Base64.DEFAULT);\n\nString stringFromBase = new String(Base64.decode(converted, Base64.DEFAULT));\n</code></pre>\n\n<p>That's it. A single line encoding and decoding.</p>\n", "title": "Base64 Java encode and decode a string", "tags": ["java", "base64", "decode", "encode"], "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string/23741060#23741060", "question_id": 19743851, "answer_id": 23741060}, {"body": "<p>For Spring Users , Spring Security has a Base64 class in the <code>org.springframework.security.crypto.codec</code> package that can also be used for encoding and  decoding of Base64.\nEx.</p>\n\n<pre><code> public static String base64Encode(String token) {\n    byte[] encodedBytes = Base64.encode(token.getBytes());\n    return new String(encodedBytes, Charset.forName(\"UTF-8\"));\n}\n\n\npublic static String base64Decode(String token) {\n    byte[] decodedBytes = Base64.decode(token.getBytes());\n    return new String(decodedBytes, Charset.forName(\"UTF-8\"));\n}\n</code></pre>\n", "title": "Base64 Java encode and decode a string", "tags": ["java", "base64", "decode", "encode"], "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string/26530642#26530642", "question_id": 19743851, "answer_id": 26530642}, {"body": "<p>Java 8 now supports BASE64 Encoding and Decoding. You can use the following classes:\n<code>java.util.Base64</code>, <code>java.util.Base64.Encoder</code> and <code>java.util.Base64.Decoder</code>.</p>\n\n<p>Example usage:</p>\n\n<pre><code>// encode with padding\nString encoded = Base64.getEncoder().encodeToString(someByteArray);\n\n// encode without padding\nString encoded = Base64.getEncoder().withoutPadding().encodeToString(someByteArray);\n\n// decode a String\nbyte [] barr = Base64.getDecoder().decode(encoded); \n</code></pre>\n", "title": "Base64 Java encode and decode a string", "tags": ["java", "base64", "decode", "encode"], "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string/28305759#28305759", "question_id": 19743851, "answer_id": 28305759}, {"body": "<pre><code>import javax.xml.bind.DatatypeConverter;\n\npublic class f{\n\n   public static void main(String a[]){\n\n      String str = new String(DatatypeConverter.printBase64Binary(new String(\"user:123\").getBytes()));\n      String res = DatatypeConverter.parseBase64Binary(str);\n      System.out.println(res);\n   }\n}\n</code></pre>\n", "title": "Base64 Java encode and decode a string", "tags": ["java", "base64", "decode", "encode"], "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string/29004484#29004484", "question_id": 19743851, "answer_id": 29004484}, {"body": "<p>The accepted answer uses the Apache Commons package but this is how I did it using javax.xml.bind.DatatypeConverter</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;    \nimport javax.xml.bind.DatatypeConverter;\n\npublic class EncodeString64 {\n\n    public static void main(String[] args) throws UnsupportedEncodingException {\n\n        String str = \"77+9x6s=\";\n        // encode data using BASE64\n        String encoded = DatatypeConverter.printBase64Binary(str.getBytes());\n        System.out.println(\"encoded value is \\t\" + encoded);\n\n        // Decode data \n        String decoded = new String(DatatypeConverter.parseBase64Binary(encoded));\n        System.out.println(\"decoded value is \\t\" + decoded);\n\n        System.out.println(\"original value is \\t\" + str);\n\n    }\n\n}\n</code></pre>\n\n<p>The better way would be to try/catch the encoding/decoding steps but hopefully you get the idea. </p>\n", "title": "Base64 Java encode and decode a string", "tags": ["java", "base64", "decode", "encode"], "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string/29991733#29991733", "question_id": 19743851, "answer_id": 29991733}], "creation_date": 1383408219, "score": 70, "link": "http://stackoverflow.com/questions/19743851/base64-java-encode-and-decode-a-string", "question_id": 19743851}, {"body": "<p>I've imported a project to Android Studio with several subprojects. </p>\n\n<p>I want to run a subproject.</p>\n\n<p>I successfully make'd this subprojects build.gradle as a module.  </p>\n\n<p>In order to run it, I went to Run > edit configurations > + > Android Application. </p>\n\n<p><strong>Problem: When I try to select a module, none show up in the drop down list.</strong> </p>\n\n<p>Why is this? </p>\n\n<p>EDIT: it shows up as a module under Groovy but not under Android Application. How do I get it to show up under Android Application? </p>\n", "tags": ["java", "android", "module", "android-studio"], "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "answers": [{"body": "<p>It was fixed for me after removing and re-adding the Android and Android-Gradle Facets in the Module Settings dialog.</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/19229071#19229071", "question_id": 18368748, "answer_id": 19229071}, {"body": "<p>I had similar issue when I selected parent directory of my project, I resolved by <strong>Close Project -> Delete Project from Android Studio -> Import Project</strong> by selecting right <strong>build.gradle</strong> file. </p>\n\n<p>Make sure you select right build.gradle file while import.</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/21295700#21295700", "question_id": 18368748, "answer_id": 21295700}, {"body": "<p>In your module build.gradle file make sure you have the correct plugin set.  it should be </p>\n\n<pre><code>apply plugin: 'android'\n</code></pre>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/23705981#23705981", "question_id": 18368748, "answer_id": 23705981}, {"body": "<p>I added this line to my app.iml file and it works </p>\n\n<p>orderEntry type=\"library\" exported=\"\" name=\"appcompat-v7-19.1.0\" level=\"project\" /></p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/24367537#24367537", "question_id": 18368748, "answer_id": 24367537}, {"body": "<p>I fixed this by adding facets in <strong>Module settings</strong>. They were missing.\n<strong>right click on project</strong> > <strong>open Module settings</strong> > <strong>Facets</strong> > <strong>Add facets</strong> ( \"+\" sign at the top ) > <strong>Android</strong>.\nAfter adding facets you will have modules.<br><br>\n<strong>UPDATE:</strong><br><br>\nFor latest version of gradle, <strong>Facets have been removed</strong>, you can directly add modules now.\n<strong>right click on project</strong> > <strong>open Module settings</strong> > <strong>Add module</strong> ( \"+\" sign at the top ) > <strong>Phone and Tablet Application</strong> (Now you can create a new module and configure it).</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/24433979#24433979", "question_id": 18368748, "answer_id": 24433979}, {"body": "<p>This worked for me: <strong>File > Project Structure... > Modules > Green Plus Symbol > Import > Then Select The Project</strong> </p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/25652999#25652999", "question_id": 18368748, "answer_id": 25652999}, {"body": "<p>Make sure your <strong>build.gradle</strong> is</p>\n\n<pre><code>apply plugin: 'com.android.application'\n</code></pre>\n\n<p>not      </p>\n\n<pre><code>apply plugin: 'com.android.library'\n</code></pre>\n\n<p>After you have changed, please sync your gradle again.</p>\n\n<p><img src=\"http://i.stack.imgur.com/hsbhu.png\" alt=\"enter image description here\"></p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/25710345#25710345", "question_id": 18368748, "answer_id": 25710345}, {"body": "<p>It appears different solutions work for difference people, for me just closing the project and importing it again resolved the problem.</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/26021992#26021992", "question_id": 18368748, "answer_id": 26021992}, {"body": "<p>goto Android >> Gradle Scripts>>Build Gradle(Module :app)</p>\n\n<p>make sure the first line of this file is like this.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n</code></pre>\n\n<p>not like this</p>\n\n<pre><code>apply plugin: 'com.android.library'\n</code></pre>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/27962462#27962462", "question_id": 18368748, "answer_id": 27962462}, {"body": "<p>Please open settings.gradle file and include your model in this file .\nfor example :  </p>\n\n<pre><code>include ':libraryListViewAnimations'\ninclude ':sliderLibrary'\ninclude ':volley'\ninclude ':facebook'\ninclude ':numberpickerlib'\ninclude ':YOUR_MUDULE_NAME'\ninclude ':loancalculator'\n</code></pre>\n\n<p>Then sync your module and enjoy ....</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/29554925#29554925", "question_id": 18368748, "answer_id": 29554925}, {"body": "<p>I managed to fix it in Android Studio 1.3.1 by doing the following:</p>\n\n<ol>\n<li>Make a new module from <code>File -&gt; New -&gt; New Module</code></li>\n<li>Name it something different, e.g. 'My Libary'</li>\n<li>Copy an <code>.iml</code> file from an existing library module and change the name of the file and rename references in the <code>.iml</code> file</li>\n<li>Add the module name to settings.gradle </li>\n<li>Add the module dependency in your app's build.gradle file 'compile project(':mylibrary')'</li>\n<li>Close and reopen Android Studio</li>\n<li>Verify that Android Studio recognises the module as a library (should be bold)</li>\n<li>Rename module's directory and module name by right clicking on the newly created module.</li>\n<li>Enjoy :)</li>\n</ol>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/31969408#31969408", "question_id": 18368748, "answer_id": 31969408}, {"body": "<p>I have tried all the options with no luck. So I have ended up with my working solution. Just make following steps:</p>\n\n<ol>\n<li>Close android studio if open.</li>\n<li>Copy module(project) in your current workspace.</li>\n<li>Start android studio.</li>\n<li>You will see added module in project structure.</li>\n<li>Open <code>settings.gradle</code> of your project and <code>include ':YOUR_MODULE_NAME'</code>.</li>\n<li>Sync gradle and you can see module is successfully added to your project.</li>\n</ol>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/32985013#32985013", "question_id": 18368748, "answer_id": 32985013}, {"body": "<blockquote>\n  <p>Sometimes the errors exists in Android-manifest because of that there\n  is cross like image over run/debug configuration hence try to look\n  over if Android-manifest has any errors in just case.</p>\n</blockquote>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/33518407#33518407", "question_id": 18368748, "answer_id": 33518407}, {"body": "<p>These types of problems are related to AndroidManifest.xml,\nso check the bugs thats are in AndroidManifest file.</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/35169504#35169504", "question_id": 18368748, "answer_id": 35169504}, {"body": "<p>For my case, a newbie I boogered up my project, not sure how but it would not  longer run and complained about the manifest, the R, everything. I realized that some how in my settings.gradle did not have <code>include ':app'</code> once I added this, I was back on my way.</p>\n", "title": "Android Studio: Module won&#39;t show up in &quot;Edit Configuration&quot;", "tags": ["java", "android", "module", "android-studio"], "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration/35241032#35241032", "question_id": 18368748, "answer_id": 35241032}], "creation_date": 1377123973, "score": 69, "link": "http://stackoverflow.com/questions/18368748/android-studio-module-wont-show-up-in-edit-configuration", "question_id": 18368748}, {"body": "<p>There are concepts and implementations in Spring Security, such as the <code>GrantedAuthority</code> interface to get an <em>authority</em> to authorize/control an access. </p>\n\n<p>I would like that to permissible operations, such as <em>createSubUsers</em>, or <em>deleteAccounts</em>, which I would allow to an <em>admin</em> (with role <code>ROLE_ADMIN</code>). </p>\n\n<p>I am getting confused as the tutorials/demos I see online. I try to connect what I read, but I think we treat the two interchangeably.</p>\n\n<p>I see <code>hasRole</code> consuming a <code>GrantedAuthority</code> string? I most definitely am doing it wrong in understanding. What are these conceptually in Spring Security? </p>\n\n<p>How do I store the role of a user, separate from the authorities for that role?</p>\n\n<p>I'm also looking at the <code>org.springframework.security.core.userdetails.UserDetails</code> interface which is used in the authentication-provider referenced DAO, which consumes a <code>User</code> (note last GrantedAuthority):</p>\n\n<pre><code>public User(String username, \n            String password, \n            boolean enabled, \n            boolean accountNonExpired,\n            boolean credentialsNonExpired, \n            boolean accountNonLocked, \n            Collection&lt;? extends GrantedAuthority&gt; authorities)\n</code></pre>\n\n<p>Or is there any other way to differentiate the other two? Or is it not supported and we have to make our own?</p>\n", "tags": ["java", "spring", "spring-security"], "title": "Difference between Role and GrantedAuthority in Spring Security", "answers": [{"body": "<p>AFAIK GrantedAuthority and roles are same in spring security. GrantedAuthority's getAuthority() string is the role (as per default implementation SimpleGrantedAuthority).</p>\n\n<p>For your case may be you can use Hierarchical Roles</p>\n\n<pre><code>&lt;bean id=\"roleVoter\" class=\"org.springframework.security.access.vote.RoleHierarchyVoter\"&gt;\n    &lt;constructor-arg ref=\"roleHierarchy\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"roleHierarchy\"\n        class=\"org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl\"&gt;\n    &lt;property name=\"hierarchy\"&gt;\n        &lt;value&gt;\n            ROLE_ADMIN &gt; ROLE_createSubUsers\n            ROLE_ADMIN &gt; ROLE_deleteAccounts \n            ROLE_USER &gt; ROLE_viewAccounts\n        &lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Not the exact sol you looking for, but hope it helps</p>\n\n<p><strong>Edit</strong>: Reply to your comment</p>\n\n<p>Role is like a permission in spring-security. using intercept-url with hasRole provides a very fine grained control of what operation is allowed for which role/permission.</p>\n\n<p>The way we handle in our application is, we define permission (i.e. role) for each operation (or rest url) for e.g. view_account, delete_account, add_account etc. Then we create logical profiles for each user like admin, guest_user, normal_user. The profiles are just logical grouping of permissions, independent of spring-security.\nWhen a new user is added, a profile is assigned to it (having all permissible permissions). Now when ever user try to perform some action, permission/role for that action is checked against user grantedAuthorities.</p>\n\n<p>Also the defaultn RoleVoter uses prefix ROLE_, so any authority starting with ROLE_ is considered as role, you can change this default behavior by using a custom RolePrefix in role voter and using it in spring security.</p>\n", "title": "Difference between Role and GrantedAuthority in Spring Security", "tags": ["java", "spring", "spring-security"], "link": "http://stackoverflow.com/questions/19525380/difference-between-role-and-grantedauthority-in-spring-security/19538526#19538526", "question_id": 19525380, "answer_id": 19538526}, {"body": "<p>Think of a GrantedAuthority as being a \"permission\" or a \"right\". Those \"permissions\" are (normally) expressed as strings (with the <code>getAuthority()</code> method). Those strings let you identify the permissions and let your voters decide if they grant access to something.</p>\n\n<p>You can grant different GrantedAuthoritys (permissions) to users by putting them into the security context. You normally do that by implementing your own UserDetailsService that returns a UserDetails implementation that returns the needed GrantedAuthorities.</p>\n\n<p>Roles (as they are used in many examples) are just \"permissions\" with a naming convention that says that a role is a GrantedAuthority that starts with the prefix <code>ROLE_</code>. There's nothing more. A role is just a GrantedAuthority - a \"permission\" - a \"right\". You see a lot of places in spring security where the role with its <code>ROLE_</code> prefix is handled specially as e.g. in the RoleVoter, where the <code>ROLE_</code> prefix is used as a default. This allows you to provide the role names withtout the <code>ROLE_</code> prefix. Prior to Spring security 4, this special handling of \"roles\" has not been followed very consequently and authorities and roles were often treated the same (as you e.g. can see in the implementation of the <code>hasAuthority()</code> method in <a href=\"https://github.com/spring-projects/spring-security/blob/3.2.x/core/src/main/java/org/springframework/security/access/expression/SecurityExpressionRoot.java\">SecurityExpressionRoot</a> - which simply calls <code>hasRole()</code>). With Spring Security 4, the treatment of roles is more consequent and code that deals with \"roles\" (like the <code>RoleVoter</code>, the <code>hasRole</code> expression etc.) always adds the <code>ROLE_</code> prefix for you. So <code>hasAuthority('ROLE_ADMIN')</code> means the the same as <code>hasRole('ADMIN')</code> because the <code>ROLE_</code> prefix gets added automatically. See the spring security 3 to 4 <a href=\"http://docs.spring.io/spring-security/site/migrate/current/3-to-4/html5/migrate-3-to-4-jc.html#m3to4-role-prefixing\">migration guide</a> for futher information.</p>\n\n<p>But still: a role is just an authority with a special <code>ROLE_</code> prefix. So in Spring security 3 <code>@PreAuthorize(\"hasRole('ROLE_XYZ')\")</code> is the same as <code>@PreAuthorize(\"hasAuthority('ROLE_XYZ')\")</code> and in Spring security 4 <code>@PreAuthorize(\"hasRole('XYZ')\")</code> is the same as <code>@PreAuthorize(\"hasAuthority('ROLE_XYZ')\")</code>.</p>\n\n<p>Regarding your use case:</p>\n\n<blockquote>\n  <p>Users have roles and roles can perform certain operations.</p>\n</blockquote>\n\n<p>You could end up in <code>GrantedAuthorities</code> for the roles a user belongs to and the operations a role can perform. The <code>GrantedAuthorities</code> for the roles have the prefix <code>ROLE_</code> and the operations have the prefix <code>OP_</code>. An example for operation authorities could be <code>OP_DELETE_ACCOUNT</code>, <code>OP_CREATE_USER</code>, <code>OP_RUN_BATCH_JOB</code>etc. Roles can be ROLE_ADMIN, ROLE_USER etc.</p>\n\n<p>You could end up having your entities implement <code>GrantedAuthority</code> like in this (pseudo-code) example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass Role implements GrantedAuthority {\n    @Id\n    private String id;\n\n    @OneToMany\n    private final List&lt;Operation&gt; allowedOperations = new ArrayList&lt;&gt;();\n\n    @Override\n    public String getAuthority() {\n        return id;\n    }\n\n    public Collection&lt;GrantedAuthority&gt; getAllowedOperations() {\n        return allowedOperations;\n    }\n}\n\n@Entity\nclass User {\n    @Id\n    private String id;\n\n    @OneToMany\n    private final List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n}\n\n@Entity\nclass Operation implements GrantedAuthority {\n    @Id\n    private String id;\n\n    @Override\n    public String getAuthority() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>The ids of the roles and operations you create in your database would be the GrantedAuthority representation, e.g. \"ROLE_ADMIN\", \"OP_DELETE_ACCOUNT\" etc. When a user is authenticated, make sure that all GrantedAuthorities of all its roles and the corresponding operations are returned from the UserDetails.getAuthorities() method.</p>\n\n<p>Example:\nThe admin role with id ROLE_ADMIN has the operations OP_DELETE_ACCOUNT, OP_READ_ACCOUNT, OP_RUN_BATCH_JOB assigned to it. \nThe user role with id ROLE_USER has the operation OP_READ_ACCOUNT.</p>\n\n<p>If an admin logs in the resulting security context will have the GrantedAuthorities:\nROLE_ADMIN, OP_DELETE_ACCOUNT, OP_READ_ACCOUNT, OP_RUN_BATCH_JOB</p>\n\n<p>If a user logs it, it will have:\nROLE_USER, OP_READ_ACCOUNT</p>\n\n<p>The UserDetailsService would take care to collect all roles and all operations of those roles and make them available by the method getAuthorities() in the returned UserDetails instance.</p>\n", "title": "Difference between Role and GrantedAuthority in Spring Security", "tags": ["java", "spring", "spring-security"], "link": "http://stackoverflow.com/questions/19525380/difference-between-role-and-grantedauthority-in-spring-security/19542316#19542316", "question_id": 19525380, "answer_id": 19542316}], "creation_date": 1382465869, "score": 69, "link": "http://stackoverflow.com/questions/19525380/difference-between-role-and-grantedauthority-in-spring-security", "question_id": 19525380}, {"body": "<p>How can I resolve this error?</p>\n\n<blockquote>\n  <p>Caused by: java.lang.illegalargumentexception\n  11-01 11:08:12.845: E/AndroidRuntime(28885): Caused by: java.lang.IllegalStateException: The meta-data tag in your app's AndroidManifest.xml does not have the right value.  Expected 4030500 but found 0.  You must have the following declaration within the  element:     </p>\n</blockquote>\n\n<p><br>\n<strong>google-play-services_lib Manifest:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.google.android.gms\"\n    android:versionCode=\"4030530\"\n    android:versionName=\"4.0.30 (889083-30)\" &gt;\n\n    &lt;uses-sdk android:minSdkVersion=\"8\"/&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p><br></p>\n\n<pre><code>public void loginGooglePlus() {\n    aHelper.setup(this, GameHelper.CLIENT_APPSTATE | GameHelper.CLIENT_GAMES);\n    mHelper = aHelper.getAppStateClient();\n    //crash is here\n    mHelper.connect();\n}\n</code></pre>\n\n<p><br>\n<strong>Full error log:</strong></p>\n\n<pre><code>11-01 11:38:13.507: E/AndroidRuntime(31297): FATAL EXCEPTION: main\n11-01 11:38:13.507: E/AndroidRuntime(31297): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.company.application.android.aja/com.company.application.android.aja.BeetleBattleAndroidActivity}: java.lang.IllegalStateException: The meta-data tag in your app's AndroidManifest.xml does not have the right value.  Expected 4030500 but found 0.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=\"com.google.android.gms.version\" android:value=\"@integer/google_play_services_version\" /&gt;\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2077)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2104)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.ActivityThread.access$600(ActivityThread.java:134)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1247)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.os.Looper.loop(Looper.java:154)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.ActivityThread.main(ActivityThread.java:4624)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at java.lang.reflect.Method.invoke(Method.java:511)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:965)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:732)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at dalvik.system.NativeStart.main(Native Method)\n11-01 11:38:13.507: E/AndroidRuntime(31297): Caused by: java.lang.IllegalStateException: The meta-data tag in your app's AndroidManifest.xml does not have the right value.  Expected 4030500 but found 0.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=\"com.google.android.gms.version\" android:value=\"@integer/google_play_services_version\" /&gt;\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.google.android.gms.common.GooglePlayServicesUtil.n(Unknown Source)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(Unknown Source)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.google.android.gms.internal.de.connect(Unknown Source)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.google.android.gms.appstate.AppStateClient.connect(Unknown Source)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.company.application.android.aja.BeetleBattleAndroidActivity.loginGooglePlus(BeetleBattleAndroidActivity.java:153)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at com.company.application.android.aja.BeetleBattleAndroidActivity.onCreate(BeetleBattleAndroidActivity.java:143)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.Activity.performCreate(Activity.java:4509)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1050)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2041)\n11-01 11:38:13.507: E/AndroidRuntime(31297):    ... 11 more\n</code></pre>\n", "tags": ["java", "android", "google-play-services"], "title": "After Google Play Service update to version 13 I got an error", "answers": [{"body": "<p>You need to add the following in your manifest:</p>\n\n<pre><code>&lt;application&gt;\n    &lt;meta-data \n       android:name=\"com.google.android.gms.version\" \n       android:value=\"@integer/google_play_services_version\" /&gt;\n    ...\n&lt;/application&gt;\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>This information can be found in the logcat error msg as well as on <a href=\"http://developer.android.com/google/play-services/setup.html#Setup\">Setting Up Google Play Services</a> <em>(Thanks Brais Gabin)</em></p>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/19723969#19723969", "question_id": 19723811, "answer_id": 19723969}, {"body": "<p>@Benoit'a answer has exact solution i am answering with additional knowledge:</p>\n\n<p><strong>1.</strong> one way as Benoit answered is add following inside application tag of <code>AndroidManifest.xml</code></p>\n\n<pre><code>&lt;meta-data android:name=\"com.google.android.gms.version\" android:value=\"@integer/google_play_services_version\" /&gt;\n</code></pre>\n\n<p><strong>2.</strong>  we can directly add the version code like </p>\n\n<pre><code>&lt;meta-data android:name=\"com.google.android.gms.version\" android:value=\"4030500\" /&gt;\n</code></pre>\n\n<p>4030500 is version code which is stored inside </p>\n\n<p><strong>google-play-services_lib>res>values>version.xml</strong></p>\n\n<p>Like</p>\n\n<pre><code>&lt;integer name=\"google_play_services_version\"&gt;4030500&lt;/integer&gt;\n</code></pre>\n\n<p>Conclusion: Latest google play services requires a version name, which is to be mentioned using <code>&lt;meta-data .. /&gt;</code> inside <code>AndroidManifest.xml</code></p>\n\n<p><strong>Note:</strong> <em>I would strongly recommend to use 1st way</em></p>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/19813908#19813908", "question_id": 19723811, "answer_id": 19813908}, {"body": "<p>I did create a file \"version.xml\" in the res/values folder of the included copy of google services and pasted the code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;resources&gt;\n&lt;integer name=\"google_play_services_version\"&gt;4030500&lt;/integer&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>the original copy missed the file and it did solve my problem</p>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/20414584#20414584", "question_id": 19723811, "answer_id": 20414584}, {"body": "<p>Add <code>&lt;meta-data&gt;</code>after closing <code>&lt;application&gt;</code> tag. This solved my problem</p>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/21941313#21941313", "question_id": 19723811, "answer_id": 21941313}, {"body": "<p>Just make sure to add the below two meta-data tags to 'your' application's AndroidManifest.xml </p>\n\n<pre><code>&lt;meta-data \n            android:name=\"com.google.android.maps.v2.API_KEY\"\n            android:value=\"YOUR_API_KEY\"/&gt;\n&lt;meta-data \n            android:name=\"com.google.android.gms.version\"\n            android:value=\"@integer/google_play_services_version\"/&gt;\n</code></pre>\n\n<p>This solution worked for me.</p>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/29523935#29523935", "question_id": 19723811, "answer_id": 29523935}, {"body": "<p>I imported my existing project from Eclipse to Android Studio, In Eclipse project <code>Integers.xml</code> was containing hardcoded value as following </p>\n\n<pre><code>&lt;integer name=\"google_play_services_version\"&gt;5089000&lt;/integer&gt;\n</code></pre>\n\n<p>causing version conflict with latest version of Play Services being built by Android Studio. after removing this line from <code>Integers.xml</code> it started working for me.</p>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/31292163#31292163", "question_id": 19723811, "answer_id": 31292163}, {"body": "<p>A few things changed since you asked that question. If you're using Google Play services 7.0 or newer, Gradle will automatically merge manifests and include the required meta-data for you.</p>\n\n<p>Citing <a href=\"https://plus.google.com/+IanLake/posts/8ewDRqGUFyp\" rel=\"nofollow\">Ian Lake</a>:</p>\n\n<blockquote>\n  <p>(...) Google Play services\n  7.0 also has one other time saving feature if you're using Gradle: it automatically includes the </p>\n</blockquote>\n\n<pre><code>&lt;meta-data android:name=\"com.google.android.gms.version\"\n           android:value=\"@integer/google_play_services_version\"/&gt;\n</code></pre>\n\n<blockquote>\n  <p>entry in your AndroidManifest.xml for you - no need to manually add\n  it! Perfect example of simple Manifest merging where libraries can\n  add required meta-data, receivers, permissions, and anything else they\n  made need - one less thing to forget!</p>\n  \n  <p>Note: this does not apply to the full play-services or\n  play-services-all-wear AARs - only the granular AARs have this built\n  in.</p>\n</blockquote>\n", "title": "After Google Play Service update to version 13 I got an error", "tags": ["java", "android", "google-play-services"], "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error/32040093#32040093", "question_id": 19723811, "answer_id": 32040093}], "creation_date": 1383297204, "score": 68, "link": "http://stackoverflow.com/questions/19723811/after-google-play-service-update-to-version-13-i-got-an-error", "question_id": 19723811}, {"body": "<p>I have a problem understanding this piece of code:</p>\n\n<pre><code>int[] it = new int[][]{{1}}[0];\n</code></pre>\n\n<p>Why is it compilable, and how can I understand such a declaration?</p>\n", "tags": ["java", "arrays"], "title": "How is this array declaration to be understood?", "answers": [{"body": "<p>What you are doing here is:</p>\n\n<ol>\n<li>Declare a new variable <code>int[] it</code> (which is an 1 dimensional array)</li>\n<li>To be the first element <code>[0]</code></li>\n<li>of the two dimensional array <code>new int[][]</code></li>\n<li>which is initialized to be <code>{{1}}</code></li>\n</ol>\n\n<p>So you create a two dimensional array which you initialize to contain an array which contains <code>1</code> and at the same time you take the first element of the <em>outer</em> array (which is an 1 dimensional array containing <code>1</code>) and assign it to your variable.</p>\n", "title": "How is this array declaration to be understood?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood/20377971#20377971", "question_id": 20377917, "answer_id": 20377971}, {"body": "<p>The <code>new int[][]{{1}}</code> allocates a new 1x1 2D array. The (only) element is set to 1.</p>\n\n<p>The <code>[0]</code> returns a reference to the first (and the only) row, which is of type <code>int[]</code>.</p>\n\n<p>The <code>int[] it = ...</code> declares a variable and initializes it with the above reference.</p>\n\n<p>The end result is equivalent to <code>int[] it = new int[]{1}</code>.</p>\n", "title": "How is this array declaration to be understood?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood/20377976#20377976", "question_id": 20377917, "answer_id": 20377976}, {"body": "<pre><code>int[] it = new int[][]{{1}}[0];\n</code></pre>\n\n<p>The integer array <code>it</code> gets assigned the following:</p>\n\n<pre><code>new int[][] // A new 2D array is created\n{{1}} // This is an initializer. The first array in the first array gets an array of 1 item: '1'\n[0] // Take the first array from the 2D array\n</code></pre>\n", "title": "How is this array declaration to be understood?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood/20377982#20377982", "question_id": 20377917, "answer_id": 20377982}, {"body": "<pre><code>int[] it = new int[][]{{1}}[0];\n</code></pre>\n\n<p>Let's break this one down into each stage, and what it means.</p>\n\n<pre><code>new int[][] \n</code></pre>\n\n<p>This is a new multidimensional array.</p>\n\n<pre><code>{{1}} \n</code></pre>\n\n<p>This is a multidimensional array literal. It makes an array that looks like this:</p>\n\n<pre><code>[0] = [1]\n[1] = []\n[2] = []\n...\n[10] = []\n</code></pre>\n\n<p>So take note, <em>each</em> element inside this array is itself an array. Then you've specified that your variable <code>it</code> is equal to the first array in the multidimensional array, so it equates directly to:</p>\n\n<pre><code>int[] it = new int[] {1};\n</code></pre>\n", "title": "How is this array declaration to be understood?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood/20378044#20378044", "question_id": 20377917, "answer_id": 20378044}, {"body": "<p>Essentially, you are creating an anonymous two-dimensional array (<code>new int[][]{{1}}</code>) and then taking the first element of that two-dimensional array (<code>{1}</code>) and assigning it to the variable <code>it</code>.</p>\n\n<p>Let's go step-by-step, because this actually is kind of confusing.</p>\n\n<p><code>new int[][]{{1}}</code>: This creates a two-dimensional array which has only one element: an array, which contains one array, which contains one <code>int</code> (the number 1).  Because it's not assigned to a variable anywhere and won't be accessible past this statement, we call it \"anonymous\", and it has the smallest scope possible.</p>\n\n<p><code>[0]</code>: This accesses the first element of the anonymous two-dimensional array we created above.  The first element is a <em>one</em>-dimensional array containing 1 (i.e., <code>{1}</code>).</p>\n\n<p><code>int[] it =</code>: Finally, here we take that retrieved one-dimensional array and store it in our variable.</p>\n\n<p>As a side note, there's absolutely no reason to do it this way, and it seems like just a very interesting Java puzzle.</p>\n", "title": "How is this array declaration to be understood?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood/20378068#20378068", "question_id": 20377917, "answer_id": 20378068}, {"body": "<p>I will try to break it down</p>\n\n<pre><code>new int[][] // an array of arrays (or 2-dimensional array)\n{1} // an array instance with a single element: 1\n{{1}} // an array instance with a single element: above array instance\n[0] // the first element of an array\n</code></pre>\n\n<p>So it is roughly equivalent to the following code:</p>\n\n<pre><code>int[] inner = new int[1]; // an empty array with length 1\ninner[0] = 1;\nint[][] outer = new int[1][];\nouter[0] = inner;\n\nint[] it = outer[0];\n</code></pre>\n", "title": "How is this array declaration to be understood?", "tags": ["java", "arrays"], "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood/20378164#20378164", "question_id": 20377917, "answer_id": 20378164}], "creation_date": 1386167196, "score": 68, "link": "http://stackoverflow.com/questions/20377917/how-is-this-array-declaration-to-be-understood", "question_id": 20377917}, {"body": "<p>I am just wondering why the Java 7 <code>switch</code> statement does not support a <code>null</code> case and instead throws <code>NullPointerException</code>? See the commented line below (example taken from <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">the Java Tutorials article on <code>switch</code></a>):</p>\n\n<pre><code>{\n    String month = null;\n    switch (month) {\n        case \"january\":\n            monthNumber = 1;\n            break;\n        case \"february\":\n            monthNumber = 2;\n            break;\n        case \"march\":\n            monthNumber = 3;\n            break;\n        //case null:\n        default: \n            monthNumber = 0;\n            break;\n    }\n\n    return monthNumber;\n}\n</code></pre>\n\n<p>This would have avoided an <code>if</code> condition for null check  before every <code>switch</code> use.</p>\n", "tags": ["java", "switch-statement", "language-design"], "title": "Why doesn&#39;t String switch statement support a null case?", "answers": [{"body": "<p>As damryfbfnetsi <a href=\"http://stackoverflow.com/questions/18263489/why-string-switch-statment-does-not-support-null-case#comment26786191_18263489\">points out</a> in the comments, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.11\" rel=\"nofollow\">JLS \u00a714.11</a> has the following note:</p>\n\n<blockquote>\n  <p>The prohibition against using <code>null</code> as a switch label prevents one from writing code that can never be executed. If the <code>switch</code> expression is of a reference type, that is, <code>String</code> or a boxed primitive type or an enum type, then a run-time error will occur if the expression evaluates to <code>null</code> at run time. <strong>In the judgment of the designers of the Java programming language, this is a better outcome than silently skipping the entire <code>switch</code> statement or choosing to execute the statements (if any) after the <code>default</code> label (if any).</strong></p>\n</blockquote>\n\n<p>(emphasis mine)</p>\n\n<p>While the last sentence skips over the possibility of using <code>case null:</code>, it seems reasonable and offers a view into the language designers' intentions.</p>\n\n<p>If we rather look at implementation details, <a href=\"http://www.riedquat.de/blog/2011-03-04-02\" rel=\"nofollow\">this blog post</a> by Christian Hujer has some insightful speculation about why <code>null</code> isn't allowed in switches (although it centers on the <code>enum</code> switch rather than the <code>String</code> switch):</p>\n\n<blockquote>\n  <p>Under the hood, the <code>switch</code> statement will typically compile to a tablesswitch byte code. And the \"physical\" argument to <code>switch</code> as well as its cases are <code>int</code>s. The int value to switch on is determined by invoking the method <code>Enum.ordinal()</code>. The [...] ordinals start at zero.</p>\n  \n  <p>That means, mapping <code>null</code> to <code>0</code> wouldn't be a good idea. A switch on the first enum value would be indistinguishible from null. Maybe it would've been a good idea to start counting the ordinals for enums at 1. However it hasn't been defined like that, and this definition can not be changed.</p>\n</blockquote>\n\n<p>While <code>String</code> switches <a href=\"http://stackoverflow.com/a/338230/697449\">are implemented differently</a>, the <code>enum</code> switch came first and set the precedent for how switching on a reference type should behave when the reference is <code>null</code>.</p>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263594#18263594", "question_id": 18263489, "answer_id": 18263594}, {"body": "<p>The answer is simply that if you use a switch with a reference type (such as a boxed primitive type), the run-time error will occur if the expression is null because unboxing it would throw the NPE.</p>\n\n<p>so case null (which is illegal) could never be executed anyway ;)</p>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263617#18263617", "question_id": 18263489, "answer_id": 18263617}, {"body": "<p>According to Java Docs:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data\n  types. It also works with enumerated types (discussed in Enum Types),\n  the String class, and a few special classes that wrap certain\n  primitive types: Character, Byte, Short, and Integer (discussed in\n  Numbers and Strings).</p>\n</blockquote>\n\n<p>Since <code>null</code> has no type, and is not an instance of anything, it will not work with a switch statement.</p>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263642#18263642", "question_id": 18263489, "answer_id": 18263642}, {"body": "<h2>This is an attempt to answer why it throws <code>NullPointerException</code></h2>\n\n<p>Output of javap command below reveals that <code>case</code> is choosen based on the hashcode of the <code>switch</code> argument string and hence throws NPE when <code>.hashCode()</code> is invoked on null string.     </p>\n\n<pre><code>6: invokevirtual #18                 // Method java/lang/String.hashCode:()I\n9: lookupswitch  { // 3\n    -1826660246: 44\n     -263893086: 56\n      103666243: 68\n        default: 95\n   }\n</code></pre>\n\n<p>This means based on answers to <a href=\"http://stackoverflow.com/questions/10102337/javas-hashcode-can-produce-same-hashcode-for-different-strings\">javas Hashcode can produce same hashcode for different strings?</a> though rare there is still a possibility of two cases being matched (two strings with same hash code) See this ex below</p>\n\n<pre><code>    int monthNumber;\n    String month = args[0];\n\n    switch (month) {\n    case \"Ea\":\n        monthNumber = 1;\n        break;\n    case \"FB\":\n        monthNumber = 2;\n        break;\n    // case null:\n    default:\n        monthNumber = 0;\n        break;\n    }\n    System.out.println(monthNumber);\n</code></pre>\n\n<p>javap for which</p>\n\n<pre><code>  10: lookupswitch  { // 1\n              2236: 28\n           default: 59\n      }\n  28: aload_3       \n  29: ldc           #22                 // String Ea\n  31: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n  34: ifne          49\n  37: aload_3       \n  38: ldc           #28                 // String FB\n  40: invokevirtual #24                 // Method java/lang/String.equals:(Ljava/lang/Object;)Z\n  43: ifne          54\n  46: goto          59 //Default\n</code></pre>\n\n<p>well as you can see only one case gets generated but with two if condition to check mach with each case string. \nVery interesting and complicated way of implementing this functionality !</p>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18263975#18263975", "question_id": 18263489, "answer_id": 18263975}, {"body": "<p>In general <code>null</code> is nasty to handle; maybe a better language can live without <code>null</code>.</p>\n\n<p>Your problem might be solved by</p>\n\n<pre><code>    switch(month==null?\"\":month)\n    {\n        ...\n        //case \"\":\n        default: \n            monthNumber = 0;\n\n    }\n</code></pre>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/18264731#18264731", "question_id": 18263489, "answer_id": 18264731}, {"body": "<p>It isn't pretty, but <code>String.valueOf()</code> allows you to use a null String in a switch. If it finds <code>null</code>, it converts it to <code>\"null\"</code>, otherwise it just returns the same String you passed it. If you don't handle <code>\"null\"</code> explicitly, then it will go to <code>default</code>. The only caveat is that there is no way of distinguishing between the String <code>\"null\"</code> and an actual null String. </p>\n\n<pre><code>    String month = null;\n    switch (String.valueOf(month)) {\n        case \"january\":\n            monthNumber = 1;\n            break;\n        case \"february\":\n            monthNumber = 2;\n            break;\n        case \"march\":\n            monthNumber = 3;\n            break;\n        case \"null\":\n            monthNumber = -1;\n            break;\n        default: \n            monthNumber = 0;\n            break;\n    }\n    return monthNumber;\n</code></pre>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/29873100#29873100", "question_id": 18263489, "answer_id": 29873100}, {"body": "<p>Long story short ... (and hopefully interesting enough!!!)</p>\n\n<p>Enum were first introduced in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#J2SE_5.0_.28September_30.2C_2004.29\" rel=\"nofollow\">Java1.5</a> (<strong>Sep'2004</strong>) and the <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179\" rel=\"nofollow\">bug</a> requesting to <strong>allow switch on String</strong> was filed long back (<strong>Oct'95</strong>). If you look at the comment posted on that bug at <strong>Jun'2004</strong>, it says <code>Don't hold your breath. Nothing resembling this is in our plans.</code> Looks like they deferred (<em>ignored</em>) this bug and eventually launched Java 1.5 in the same year in which they introduced 'enum' with ordinal starting at 0 and decided (<em>missed</em>) not to support null for enum. Later in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\" rel=\"nofollow\">Java1.7</a> (<strong>Jul'2011</strong>) they followed (<em>forced</em>) the same philosophy with String (i.e. while generating the bytecode no null check was performed before calling hashcode() method).</p>\n\n<p>So I think it boils down to the fact enum came in first and was implemented with its ordinal begin at 0 due to which they couldn't support null value in switch block and later with String they decided to forced the same philosophy i.e. null value not allowed in switch block.</p>\n\n<p><strong>TL;DR</strong> With String they could have take care of NPE (caused by attempt to generate hashcode for null) while implementing java code to byte code conversion but finally decided not to.</p>\n\n<p>Ref:\n<a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=1223179\" rel=\"nofollow\">TheBUG</a>, \n<a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow\">JavaVersionHistory</a>,\n<a href=\"http://blog.jamesdbloom.com/JavaCodeToByteCode_PartOne.html\" rel=\"nofollow\">JavaCodeToByteCode</a>,\n<a href=\"http://stackoverflow.com/questions/338206/why-cant-i-switch-on-a-string/338230#338230\">SO</a></p>\n", "title": "Why doesn&#39;t String switch statement support a null case?", "tags": ["java", "switch-statement", "language-design"], "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case/31144146#31144146", "question_id": 18263489, "answer_id": 31144146}], "creation_date": 1376608805, "score": 68, "link": "http://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case", "question_id": 18263489}, {"body": "<p>I'm developing an Android app which reads data from MySQL database and I faced this error. I have this XML layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" \nandroid:layout_width=\"match_parent\" \nandroid:layout_height=\"match_parent\" \nandroid:orientation=\"vertical\" &gt; \n\n\n        &lt;TextView android:id=\"@+id/wardNumber\" \n            android:layout_width=\"wrap_content\" \n            android:layout_height=\"wrap_content\" \n            android:layout_marginLeft=\"3dp\" \n            android:text=\"Ward Number\" \n            android:textSize=\"22dp\"/&gt; \n\n\n        &lt;TextView android:id=\"@+id/dateTime\" \n            android:layout_width=\"wrap_content\" \n            android:layout_height=\"wrap_content\" \n            android:layout_below=\"@id/wardNumber\" \n            android:layout_alignParentRight=\"true\" \n            android:layout_marginRight=\"3dp\" \n            android:text=\"Date-Time\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/name\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignBaseline=\"@+id/dateTime\"\n            android:layout_alignBottom=\"@+id/dateTime\"\n            android:layout_alignLeft=\"@+id/wardNumber\"\n            android:layout_marginLeft=\"3dp\" \n            android:text=\"Name\" /&gt;\n\n&lt;/RelativeLayout&gt; \n</code></pre>\n\n<p>And this is the my Java file:</p>\n\n<pre><code>public ApplicationAdapter(Context context, List&lt;Application&gt; items) {\n    super(context, R.layout.app_custom_list, items);\n    this.items = items;\n}\n\n@Override\npublic int getCount() {\n    return items.size();\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View v = convertView;\n\n    if(v == null) {\n        LayoutInflater li = LayoutInflater.from(getContext());\n        v = li.inflate(R.layout.app_custom_list, null);            \n    }\n\n    Application app = items.get(position);\n\n    if(app != null) {\n      //  ImageView icon = (ImageView)v.findViewById(R.id.appIcon);\n        TextView wardNumber = (TextView)v.findViewById(R.id.wardNumber);\n        TextView name = (TextView)v.findViewById(R.id.name);\n      //  LinearLayout ratingCntr = (LinearLayout)v.findViewById(R.id.ratingCntr);\n        TextView dateTime = (TextView)v.findViewById(R.id.dateTime);\n\n  //      if(icon != null) {\n  //          Resources res = getContext().getResources();\n   //         String sIcon = \"com.sj.jsondemo:drawable/\" + app.getIcon();\n   //         icon.setImageDrawable(res.getDrawable(res.getIdentifier(sIcon, null, null)));\n   //     }\n\n        if(wardNumber != null) wardNumber.setText(app.getTitle());\n\n        if(name != null) name.setText(app.getTitle());\n\n        if(dateTime != null) {\n            dateTime.setText(app.getTotalDl());\n          //  NumberFormat nf = NumberFormat.getNumberInstance();\n          //  dateTime.setText(nf.format(app.getTotalDl())+\" dl\");            \n        }\n\n\n    }\n\n    return v;\n}\n}\n</code></pre>\n\n<p>When this Activity is called, I receive this error message:</p>\n\n<pre><code>11-24 21:12:03.633:  E/AndroidRuntime(1251):  FATAL EXCEPTION: main\n11-24 21:12:03.633:  E/AndroidRuntime(1251): android.content.res.Resources$NotFoundException: String resource ID #0x0\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.content.res.Resources.getText(Resources.java:201)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.TextView.setText(TextView.java:2863)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.sj.jsondemo.Appl icationAdapter.getView(ApplicationAdapter.java:53)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.AbsListView.obtainView(AbsListView.java:1430)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.ListView.measureHeightOfChildren(ListView.java:1216)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.ListView.onMeasure(ListView.java:1127)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:701)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:311)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:531)\n11-24 21:12:03.633: E/AndroidRuntime(1251):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:309)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at  android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewRoot.performTraversals(ViewRoot.java:839)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1859)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.os.Looper.loop(Looper.java:130)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.app.ActivityThread.main(ActivityThread.java:3683)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at java.lang.reflect.Method.invoke(Method.java:507)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at dalvik.system.NativeStart.main(Native Method)\n11-24 21:12:08.922: I/Process(1251): Sending signal. PID: 1251 SIG: 9\n</code></pre>\n\n<p>I don't know how to fix this error.</p>\n", "tags": ["java", "android", "xml", "listview"], "title": "android.content.res.Resources$NotFoundException: String resource ID #0x0", "answers": [{"body": "<p>Change</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>To</p>\n\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n\n<p>There are different versions of <code>setText</code> - one takes a String and one takes an int resource id. If you pass it an integer it will try to look for the corresponding string resource id - which it can't find, which is your error.</p>\n\n<p>I guess <code>app.getTotalDl()</code> returns an int. You need to specifically tell <code>setText</code> to set it to the String value of this int.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/widget/TextView.html#setText%28int%29\">setText (int resid)</a> vs <a href=\"http://developer.android.com/reference/android/widget/TextView.html#setText%28java.lang.CharSequence%29\"> setText (CharSequence text)</a></p>\n", "title": "android.content.res.Resources$NotFoundException: String resource ID #0x0", "tags": ["java", "android", "xml", "listview"], "link": "http://stackoverflow.com/questions/20177003/android-content-res-resourcesnotfoundexception-string-resource-id-0x0/20177019#20177019", "question_id": 20177003, "answer_id": 20177019}, {"body": "<p>Replace</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>With</p>\n\n<pre><code>dateTime.setText(\"\"+app.getTotalDl());\n</code></pre>\n", "title": "android.content.res.Resources$NotFoundException: String resource ID #0x0", "tags": ["java", "android", "xml", "listview"], "link": "http://stackoverflow.com/questions/20177003/android-content-res-resourcesnotfoundexception-string-resource-id-0x0/39305183#39305183", "question_id": 20177003, "answer_id": 39305183}], "creation_date": 1385311013, "score": 67, "link": "http://stackoverflow.com/questions/20177003/android-content-res-resourcesnotfoundexception-string-resource-id-0x0", "question_id": 20177003}, {"body": "<p>I have installed two jdks - jdk 1.5 and jdk 1.8.\nI have following Ant build.xml config file :</p>\n\n<pre><code>&lt;target name=\"compileCustomSrc\"&gt;\n    &lt;javac srcdir=\"src\" destdir=\"build/classes\" source=\"1.5\" target=\"1.5\" &gt;\n        &lt;classpath&gt;\n            &lt;fileset dir=\"C:/lib/\"&gt;\n                &lt;include name=\"*.jar\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/classpath&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>Before installing jdk1.8, Ant invoked from Eclipse compiled all sources successful. But now, I have following error message:</p>\n\n<pre>Class not found: javac1.8</pre>\n\n<p>My JAVA_HOME and JRE_HOME:</p>\n\n<pre>JAVA_HOME = C:\\Program Files (x86)\\Java\\jdk1.5.0_16\nJRE_HOME = C:\\Program Files (x86)\\Java\\jre1.5.0_16</pre>\n\n<p>and set in Eclipse JRE to 1.5. Does Java 1.8 set some configs during installation?</p>\n", "tags": ["java", "eclipse", "ant", "classnotfound"], "title": "javac1.8 class not found", "answers": [{"body": "<pre><code>JAVA_HOME = C:\\Program Files (x86)\\Java\\jdk1.5.0_16\nJRE_HOME = C:\\Program Files (x86)\\Java\\jre1.5.0_16\n</code></pre>\n\n<p>Your JAVA_HOME and JRE_HOME are set to the Java 1.5 installation hence 1.8 binaries (like <code>javac</code>) are not found.\nSet them to the Java 1.8 installation and you should be fine.</p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/20702651#20702651", "question_id": 20702626, "answer_id": 20702651}, {"body": "<pre>Class not found: javac1.8</pre>\n\n<p>This error is known to happen with Apache Ant versions less than 1.9.0 - which aren't compatible with Java 8. If you're using a version of Ant &lt; 1.9.0, you should update to a 1.9.x release.</p>\n\n<p>Here is the related bug report: <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=53347\">https://issues.apache.org/bugzilla/show_bug.cgi?id=53347</a></p>\n\n<p>Btw, if you just want to compile with Java 8, but don't need to compile any actual Java 8 syntax, then you can pass the following argument to javac as a <i>workaround</i>, which would allow you to continue using an older version of Ant:</p>\n\n<pre><code>-Dbuild.compiler=javac1.7\n</code></pre>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/22524712#22524712", "question_id": 20702626, "answer_id": 22524712}, {"body": "<p>I had this same issue. I had JAVA_HOME and JRE_HOME set correctly.  I also had Ant > 1.9.  </p>\n\n<p>What I did to fix it is go into Eclipse to Window -> Preferences. Expand Ant and select Runtime.  By default the Classpath tab should be selected and on the right hand side there is a button called \"Ant Home\".  Click this button and double check it is pointed to your Ant folder.</p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/26554096#26554096", "question_id": 20702626, "answer_id": 26554096}, {"body": "<p>As a follow-on to Kristian Holdhus's answer (marked as correct), you can instead use the <code>compiler</code> attribute on the <a href=\"http://ant.apache.org/manual/Tasks/javac.html\">Ant javac task</a>. Setting <code>compiler=\"modern\"</code> should be both backward (as far back as 1.3) and forward compatible.</p>\n\n<p>This avoids the need to set the Java System property named <code>build.compiler</code>. Only in the absence of explicitly setting the <code>compiler</code> attribute on the <code>javac</code> task, will Ant use the value of the <code>build.compiler</code> as a fallback.</p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/28201796#28201796", "question_id": 20702626, "answer_id": 28201796}, {"body": "<p>Update Ant to 1.9.x release as Java 8 in incompatible with Ant versions less tha 1.9</p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/28455743#28455743", "question_id": 20702626, "answer_id": 28455743}, {"body": "<p>I tried it with Eclise and got the same error <strong>Class not found: javac1.8</strong></p>\n\n<p>I verified the ANT version on my system</p>\n\n<p><strong>>ant -version</strong></p>\n\n<blockquote>\n  <p>Apache Ant(TM) version 1.9.6 compiled on June 29 2015 </p>\n</blockquote>\n\n<p>When I tried to run the build.xml from the command prompt, it worked.\nThen I checked that in the Eclipse, it was referring to the older version of the ANT.</p>\n\n<p>I simply edited the ANT HOME path in the Eclipse and it worked from here also. :)</p>\n\n<p>Below is the image from where need to edit the ANT Path in the Eclipse.</p>\n\n<ol>\n<li>Right click on the build.xml file</li>\n<li>Run as</li>\n<li>External tool configurations</li>\n<li>Select the classpath tab</li>\n</ol>\n\n<p>Now change the ANT Home path from here.</p>\n\n<p><a href=\"http://i.stack.imgur.com/42yMt.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/42yMt.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/33587921#33587921", "question_id": 20702626, "answer_id": 33587921}, {"body": "<p>I tried all of the other solutions, but none worked. I finally found an approach that worked for me in Eclipse:</p>\n\n<ul>\n<li>Right click on the ant task name, e.g. \"compileCustomSrc\" in the <code>ant</code> window.</li>\n<li>Choose <code>Run As | External Tool Configurations</code></li>\n<li>Then on the <code>JRE</code> tab, choose <code>Separate JRE: Java SE7</code> or whatever your java 7 is named, then hit <code>Apply</code> and then <code>Run</code>.</li>\n</ul>\n\n<p>Your ant task will be executed, and will build correctly!</p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/33699236#33699236", "question_id": 20702626, "answer_id": 33699236}, {"body": "<p>Update Ant to 1.9.x release as Java 8 in incompatible with Ant versions less tha 1.9 or after the comand put -Dbuild.compiler=javac1.7, see the below:</p>\n\n<p>ant release -Dbuild.compiler=javac1.7</p>\n", "title": "javac1.8 class not found", "tags": ["java", "eclipse", "ant", "classnotfound"], "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found/34072111#34072111", "question_id": 20702626, "answer_id": 34072111}], "creation_date": 1387538807, "score": 66, "link": "http://stackoverflow.com/questions/20702626/javac1-8-class-not-found", "question_id": 20702626}, {"body": "<p>How would I <code>assertThat</code> something is <code>null</code>?</p>\n\n<p>for example </p>\n\n<pre><code> assertThat(attr.getValue(), is(\"\"));\n</code></pre>\n\n<p>But I get an error saying that I cannot have <code>null</code> in <code>is(null)</code>.</p>\n", "tags": ["java", "assert", "hamcrest"], "title": "How to assertThat something is null with Hamcrest?", "answers": [{"body": "<p>why not use <code>assertNull(object)</code> / <code>assertNotNull(object)</code> ?</p>\n", "title": "How to assertThat something is null with Hamcrest?", "tags": ["java", "assert", "hamcrest"], "link": "http://stackoverflow.com/questions/18987692/how-to-assertthat-something-is-null-with-hamcrest/18987725#18987725", "question_id": 18987692, "answer_id": 18987725}, {"body": "<p>You can use <a href=\"http://junit.sourceforge.net/javadoc/org/hamcrest/core/IsNull.html#nullValue()\"><code>IsNull.nullValue()</code></a> method:</p>\n\n<pre><code>import static org.hamcrest.Matchers.is;\nimport static org.hamcrest.Matchers.nullValue;\n\nassertThat(attr.getValue(), is(nullValue()));\n</code></pre>\n", "title": "How to assertThat something is null with Hamcrest?", "tags": ["java", "assert", "hamcrest"], "link": "http://stackoverflow.com/questions/18987692/how-to-assertthat-something-is-null-with-hamcrest/18987738#18987738", "question_id": 18987692, "answer_id": 18987738}, {"body": "<p>Use the following (from Hamcrest):</p>\n\n<pre><code>assertThat(attr.getValue(), is(nullValue()));\n</code></pre>\n", "title": "How to assertThat something is null with Hamcrest?", "tags": ["java", "assert", "hamcrest"], "link": "http://stackoverflow.com/questions/18987692/how-to-assertthat-something-is-null-with-hamcrest/18987768#18987768", "question_id": 18987692, "answer_id": 18987768}, {"body": "<p>If you want to <code>hamcrest</code>, you can do </p>\n\n<pre><code>import static org.hamcrest.Matchers.nullValue;\n\nassertThat(attr.getValue(), is(nullValue()));\n</code></pre>\n\n<p>In <code>Junit</code> you can do </p>\n\n<pre><code>import static junit.framework.Assert.assertNull;\nassertNull(object);\n</code></pre>\n", "title": "How to assertThat something is null with Hamcrest?", "tags": ["java", "assert", "hamcrest"], "link": "http://stackoverflow.com/questions/18987692/how-to-assertthat-something-is-null-with-hamcrest/18987802#18987802", "question_id": 18987692, "answer_id": 18987802}], "creation_date": 1380041921, "score": 66, "link": "http://stackoverflow.com/questions/18987692/how-to-assertthat-something-is-null-with-hamcrest", "question_id": 18987692}, {"body": "<p>The <a href=\"http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.1.5/rabbitmq-java-client-javadoc-3.1.5/\">RabbitMQ Java client</a> has the following concepts:</p>\n\n<ul>\n<li><code>Connection</code> - a connection to a RabbitMQ server instance</li>\n<li><code>Channel</code> - ???</li>\n<li>Consumer thread pool - a pool of threads that consume messages off the RabbitMQ server queues</li>\n<li>Queue - a structure that holds messages in FIFO order</li>\n</ul>\n\n<p>I'm trying to understand the relationship, <strong>and more importantly</strong>, the <em>associations</em> between them.</p>\n\n<ol>\n<li>I'm still not quite sure what a <code>Channel</code> is, other than the fact that this is the structure that you publish and consume from, and that it is created from an open connection. If someone could explain to me what the \"Channel\" represents, it might help clear a few things up.</li>\n<li>What is the relationship between Channel and Queue? Can the same Channel be used to communicate to multiples Queues, or does it have to be 1:1?</li>\n<li>What is the relationship between Queue and the Consumer Pool? Can multiple Consumers be subscribed to the same Queue? Can multiple Queues be consumed by the same Consumer? Or is the relationship 1:1?</li>\n</ol>\n\n<p>Thanks in advance for any help here!</p>\n", "tags": ["java", "rabbitmq", "messaging", "amqp", "channel"], "title": "RabbitMQ and relationship between channel and connection", "answers": [{"body": "<ol>\n<li><p>A <code>Connection</code> represents a real TCP connection to the message broker, whereas a channel is a virtual connection inside it. This way you can use as many (virtual) connections as you want inside your application without overloading the broker with TCP connections.</p></li>\n<li><p>You can use one <code>Channel</code> for everything. However, if you have multiple threads, it's suggested to use a different <code>Channel</code> for each thread. </p>\n\n<p><a href=\"http://www.rabbitmq.com/api-guide.html#channel-threads\">Channel thread-safety in Java Client API Guide</a>:</p>\n\n<blockquote>\n  <p>Channel instances are safe for use by multiple threads. Requests into\n  a Channel are serialized, with only one thread being able to run a\n  command on the Channel at a time. Even so, applications should prefer\n  using a Channel per thread instead of sharing the same Channel across\n  multiple threads.</p>\n</blockquote>\n\n<p>There is no direct relation between <code>Channel</code> and <code>Queue</code>. A <code>Channel</code> is used to send AMQP commands to the broker. This can be the creation of a queue or similar, but these concepts are not tied together.</p></li>\n<li><p>Each <code>Consumer</code> runs in its own thread allocated from the consumer thread pool. If multiple Consumers are subscribed to the same Queue, the broker uses round-robin to distribute the messages between them equally. See <a href=\"http://www.rabbitmq.com/tutorials/tutorial-two-java.html\">Tutorial two: \"Work Queues\"</a>. </p>\n\n<p>It is also possible to attach the same <code>Consumer</code> to multiple Queues.\nYou can understand Consumers as callbacks. These are called everytime a message arrives on a Queue the Consumer is bound to. For the case of the Java Client, each Consumers has a method <code>handleDelivery(...)</code>, which represents the callback method. What you typically do is, subclass <code>DefaultConsumer</code> and override <code>handleDelivery(...)</code>. Note: If you attach the same Consumer instance to multiple queues, this method will be called by different threads. So take care of synchronization if necessary.</p></li>\n</ol>\n", "title": "RabbitMQ and relationship between channel and connection", "tags": ["java", "rabbitmq", "messaging", "amqp", "channel"], "link": "http://stackoverflow.com/questions/18418936/rabbitmq-and-relationship-between-channel-and-connection/18419417#18419417", "question_id": 18418936, "answer_id": 18419417}, {"body": "<p>I found this article which explains all aspects of the AMQP model, of which, channel is one. I found it very helpful in rounding out my understanding</p>\n\n<p><a href=\"https://www.rabbitmq.com/tutorials/amqp-concepts.html\" rel=\"nofollow\">https://www.rabbitmq.com/tutorials/amqp-concepts.html</a></p>\n\n<blockquote>\n  <p>Some applications need multiple connections to an AMQP broker. However, it is undesirable to keep many TCP connections open at the same time because doing so consumes system resources and makes it more difficult to configure firewalls. AMQP 0-9-1 connections are multiplexed with channels that can be thought of as \"lightweight connections that share a single TCP connection\".</p>\n  \n  <p>For applications that use multiple threads/processes for processing, it is very common to open a new channel per thread/process and not share channels between them.</p>\n  \n  <p>Communication on a particular channel is completely separate from communication on another channel, therefore every AMQP method also carries a channel number that clients use to figure out which channel the method is for (and thus, which event handler needs to be invoked, for example).</p>\n</blockquote>\n", "title": "RabbitMQ and relationship between channel and connection", "tags": ["java", "rabbitmq", "messaging", "amqp", "channel"], "link": "http://stackoverflow.com/questions/18418936/rabbitmq-and-relationship-between-channel-and-connection/29029221#29029221", "question_id": 18418936, "answer_id": 29029221}], "creation_date": 1377349691, "score": 66, "link": "http://stackoverflow.com/questions/18418936/rabbitmq-and-relationship-between-channel-and-connection", "question_id": 18418936}, {"body": "<p>In the Collection Interface I found a method named <code>removeIf()</code> that contains its implementation.    </p>\n\n<pre><code>default boolean removeIf(Predicate&lt;? super E&gt; filter) {\n    Objects.requireNonNull(filter);  \n    boolean removed = false;  \n    final Iterator&lt;E&gt; each = iterator();   \n    while (each.hasNext()) {  \n        if (filter.test(each.next())) {  \n            each.remove();  \n            removed = true;  \n        }  \n    }  \n    return removed;  \n}  \n</code></pre>\n\n<p>I want to know if there is any way to define method body in an interface?<br>\nWhat is the <code>default</code> keyword and how does it work?   </p>\n", "tags": ["java", "interface", "java-8"], "title": "What is the &quot;default&quot; implementation of method defined in an Interface?", "answers": [{"body": "<p>Those methods are called default methods. <em>Default method</em> or <em>Defender method</em> is one of the <a href=\"http://openjdk.java.net/projects/jdk8/features\">newly added features</a> in Java 8.</p>\n\n<p>They will be used to allow an interface method to provide an implementation used as default in the event that a concrete class doesn't provide an implementation for that method.</p>\n\n<p>So, if you have an interface, with a default method:</p>\n\n<pre><code>public interface Hello {\n    default void sayHello() {\n        System.out.println(\"Hello\");\n    }\n}\n</code></pre>\n\n<p>The following class is perfectly valid:</p>\n\n<pre><code>public class HelloImpl implements Hello {\n\n}\n</code></pre>\n\n<p>If you create an instance of <code>HelloImpl</code>:</p>\n\n<pre><code>Hello hello = new HelloImpl();\nhello.sayHello();  // This will invoke the default method in interface\n</code></pre>\n\n<hr />\n\n<p><strong>Useful Links:</strong></p>\n\n<ul>\n<li><a href=\"https://blogs.oracle.com/java/entry/java_tutorial_updated\">Updated Oracle Tutorial</a></li>\n<li><a href=\"http://www.techempower.com/blog/2013/03/26/everything-about-java-8/\">Everything about Java 8</a></li>\n<li><a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/Defender%20Methods%20v4.pdf\">Defender Methods</a></li>\n</ul>\n", "title": "What is the &quot;default&quot; implementation of method defined in an Interface?", "tags": ["java", "interface", "java-8"], "link": "http://stackoverflow.com/questions/18286235/what-is-the-default-implementation-of-method-defined-in-an-interface/18286258#18286258", "question_id": 18286235, "answer_id": 18286258}, {"body": "<p>I did a bit of research and i found the following. Hope this helps.</p>\n\n<blockquote>\n  <p>Existing problem</p>\n</blockquote>\n\n<p>Normal interface methods are declared as abstract and must be defined in the class that implements the interface. This 'burdens' the class implementer with the responsibility to implement every declared method. More importantly, this also means that extending an interface is not possible after 'publication'. Otherwise, all implementers would have to adapt their implementation, breaking backwards source and binary compatibility.</p>\n\n<blockquote>\n  <p>Solution adopted in Java 8</p>\n</blockquote>\n\n<p>To cope with these problems, one of the new features of JDK 8 is the possibility to extend existing interfaces with default methods. <strong>Default methods are not only declared, but also defined in the interface.</strong></p>\n\n<blockquote>\n  <p>Important points to note</p>\n</blockquote>\n\n<ol>\n<li>Implementers can choose not to implement default methods in\nimplementing class.  </li>\n<li>Implementers can still override default\nmethods, like regular non-final class methods can be overridden in\nsubclasses.  </li>\n<li>Abstract classes can even (re)declare default methods\nas abstract, forcing subclasses to reimplement the method (sometimes\ncalled 're-abstraction').</li>\n</ol>\n", "title": "What is the &quot;default&quot; implementation of method defined in an Interface?", "tags": ["java", "interface", "java-8"], "link": "http://stackoverflow.com/questions/18286235/what-is-the-default-implementation-of-method-defined-in-an-interface/18286427#18286427", "question_id": 18286235, "answer_id": 18286427}, {"body": "<p>Java 8 introduces \u201cDefault Method\u201d or (Defender methods) new feature, which allows developer to add new methods to the interfaces without breaking the existing implementation of these interface. It provides flexibility to allow interface define implementation which will use as default in the situation where a concrete class fails to provide an implementation for that method.  </p>\n\n<pre><code>public interface A {\n    default void foo(){\n       System.out.println(\"Calling A.foo()\");\n    }\n}\n\npublic class ClassAB implements A {\n}\n</code></pre>\n\n<p>There is one common question that people ask about default methods when they hear about the new feature for the first time: </p>\n\n<blockquote>\n  <p>What if the class implements two interfaces and both those interfaces define a default method with the same signature?</p>\n</blockquote>\n\n<p>Example to illustrate this situation:</p>\n\n<pre><code>public interface A {  \n    default void foo(){  \n        System.out.println(\"Calling A.foo()\");  \n    }  \n}\n\npublic interface B {\n    default void foo(){\n        System.out.println(\"Calling B.foo()\");\n    }\n}\n\n\npublic class ClassAB implements A, B {\n\n}  \n</code></pre>\n\n<p>This code fails to compile with the following result:</p>\n\n<pre><code>java: class Clazz inherits unrelated defaults for foo() from types A and B\n</code></pre>\n\n<p>To fix that, in Clazz, we have to resolve it manually by overriding the conflicting method:</p>\n\n<pre><code>public class Clazz implements A, B {\n    public void foo(){}\n}\n</code></pre>\n\n<p>But what if we would like to call the default implementation of method foo() from interface A instead of implementing our own. </p>\n\n<p>It is possible to refer to A#foo() as follows:</p>\n\n<pre><code>public class Clazz implements A, B {\n    public void foo(){\n       A.super.foo();\n    }\n}\n</code></pre>\n", "title": "What is the &quot;default&quot; implementation of method defined in an Interface?", "tags": ["java", "interface", "java-8"], "link": "http://stackoverflow.com/questions/18286235/what-is-the-default-implementation-of-method-defined-in-an-interface/18286975#18286975", "question_id": 18286235, "answer_id": 18286975}], "creation_date": 1376724066, "score": 65, "link": "http://stackoverflow.com/questions/18286235/what-is-the-default-implementation-of-method-defined-in-an-interface", "question_id": 18286235}, {"body": "<p>Android with <a href=\"https://www.google.com.br/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CDAQFjAA&amp;url=http://developer.android.com/tools/sdk/ndk/index.html&amp;ei=z1cTUvzIAcrI2gWLlYDIDA&amp;usg=AFQjCNEwVSx09Hgmfvhy2wvixQtDtpQh1g&amp;sig2=nZZcDGIBnXO8K7M770wntw&amp;bvm=bv.50952593,d.b2I\">NDK</a> have support to C/C++ code and iOS with <a href=\"http://en.wikipedia.org/wiki/Objective-C#Objective-C.2B.2B\">Objective-C++</a> have support too, so I want see a example of a program with native C/C++ code shared between Android and iOS.</p>\n\n<p>Observation: I'll go answer this question following the <a href=\"http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">Q&amp;A-style</a>.</p>\n", "tags": ["java", "c++", "jni", "cross-platform", "objective-c++"], "title": "How to use the same C++ code for Android and iOS?", "answers": [{"body": "<p>Here a diagram of what i'll do:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CDA1a.png\" alt=\"android and ios with cpp diagram\"></p>\n\n<p>So follow the steps and let's go:</p>\n\n<ol>\n<li><p>Make a core.h file, here we define the method concateneMyStringWithCppString that runs on both Android as the iphone, this method will receive a string from android or iphone and will concatenate with a comum cpp string and return this concatened string.</p>\n\n<pre><code>#ifndef __HelloCpp__Core__\n#define __HelloCpp__Core__\n\n#include &lt;iostream&gt;\n\nconst char* concateneMyStringWithCppString(const char* myString);\n\n#endif /* defined(__HelloCpp__Core__) */\n</code></pre></li>\n<li><p>Now the core.cpp file with the method implementation, we have a string \"CPP_BASE_STRING\" and will concatenate it with the param \"const char* myString\", and return it. The myString will be delivered by or through android or ios.</p>\n\n<pre><code>#include \"Core.h\"\n\nconst char* CPP_BASE_STRING = \"cpp says hello world to %s\";\n\nconst char* concateneMyStringWithCppString(const char* myString) {\nchar* concatenedString = new char[strlen(CPP_BASE_STRING) + strlen(myString)];    \n    sprintf(concatenedString, CPP_BASE_STRING, myString);    \n    return concatenedString;\n}\n</code></pre></li>\n<li><p>So we need a wrapper to IOS and other to android, first will go make of IOS wrapper, first write thee wrapper header, CoreWrapper.h:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"Core.h\"\n\n@interface CoreWrapper : NSObject\n\n+ (NSString*) concateneMyStringWithCppString:(NSString*)myString;\n\n@end\n</code></pre></li>\n<li><p>Now the wrapper code, it need be a <a href=\"http://en.wikipedia.org/wiki/Objective-C#Objective-C.2B.2B\">Objective-C++</a> code, so CoreWrapper.mm file.</p>\n\n<pre><code>#import \"CoreWrapper.h\"\n\n@implementation CoreWrapper\n\n+ (NSString*) concateneMyStringWithCppString:(NSString*)myString\n{\n    return [NSString stringWithUTF8String:concateneMyStringWithCppString([myString UTF8String])];\n}\n\n@end\n</code></pre></li>\n<li><p>And use the core wrapper on a normal view controller, first the View Controller header, so ViewController.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"CoreWrapper.h\"\n\n@interface ViewController : UIViewController\n@end\n</code></pre></li>\n<li><p>And now the ViewController.mm file:</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    // A normal UITextView\n    UITextView* txtHelloCpp = [[UITextView alloc] initWithFrame:CGRectMake(0, 140, 320, 20)];\n    // Here we set the text with shared cpp code.\n    [txtHelloCpp setText:[CoreWrapper concateneMyStringWithCppString:@\"Objective-c\"]];\n    // Normal things again\n    [self.view addSubview:txtHelloCpp];\n    [txtHelloCpp release];\n}\n\n@end\n</code></pre></li>\n<li><p>So it is all for IOS, Now the android turn. To do it on android, you will need the <a href=\"http://developer.android.com/tools/sdk/ndk/index.html\">Android NDK</a>, an Android Wrapper in cpp and The application and Android make files, one thing by time:</p></li>\n<li><p>first Android.mk, you need link the shared cpp code \"core.cpp\" with cpp android wrapper, so in my example I did my Android.mk file like as follow. </p>\n\n<pre><code>LOCAL_PATH := $(call my-dir)\n\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE    := HelloCpp\nLOCAL_SRC_FILES := CoreWrapper.cpp\nLOCAL_SRC_FILES += ../../CPP/Core.cpp\n\nLOCAL_C_INCLUDES := $(LOCAL_PATH)../../CPP/\n\ninclude $(BUILD_SHARED_LIBRARY)\n</code></pre></li>\n<li><p>Note my folder folder in this examples is, \"i will ignore IOS structure because the xcode organize automatically it\":</p>\n\n<pre><code>/-\n |-Android-\n          |-jni -\n                |-Android.mk\n                |-Application.mk\n                |-CoreWrapper.cpp\n          |-other android folders like res and src\n |-CPP-----\n          |-Core.h\n          |-Core.cpp\n</code></pre></li>\n<li><p>now the small Application.mk:</p>\n\n<pre><code>APP_STL := gnustl_static\nAPP_ABI := all\n</code></pre></li>\n<li><p>here the CoreWrapper.cpp: \"important, you need know the android jni implementation\"</p>\n\n<pre><code>#include &lt;string.h&gt;\n#include &lt;jni.h&gt;\n#include \"../../CPP/Core.h\"\n\nextern \"C\" {\n\nJNIEXPORT jstring JNICALL Java_la_jurema_doses_hellocpp_MainActivity_concateneMyStringWithCppString(JNIEnv* env, jobject thiz, jstring myString) {\n    return env-&gt;NewStringUTF(concateneMyStringWithCppString(env-&gt;GetStringUTFChars(myString, 0)));\n}\n\n}\n</code></pre></li>\n<li><p>Now the implementation on java, using a normal Activity, the file MainActivity.java:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // A normal textview\n    TextView textView = new TextView(getApplicationContext());\n    // set the text of textview with the string of shared cpp code\n    textView.setText(concateneMyStringWithCppString(\"Javaaaa\"));\n    // normal things\n    setContentView(textView);\n\n    // only interface things nothng important\n    textView.setTextSize(50);\n    textView.setTextColor(Color.BLACK);\n    textView.setGravity(Gravity.CENTER);\n}\n\n// very important\nprivate native String concateneMyStringWithCppString(String myString);\nstatic {\n    System.loadLibrary(\"HelloCpp\");\n}\n\n}\n</code></pre></li>\n</ol>\n\n<p>So it's all, if you did all right you get something like that:</p>\n\n<p><img src=\"http://i.stack.imgur.com/T8rmN.png\" alt=\"screenshot 1\">\n<img src=\"http://i.stack.imgur.com/XQozl.png\" alt=\"screenshot 2\">\n<img src=\"http://i.stack.imgur.com/FrZqA.png\" alt=\"screenshot 3\"></p>\n\n<p>You can get the full example on <a href=\"https://github.com/ademar111190/CppAndroidIosExample\">github here</a> and if you understand Portuguese you can see my presentation of it on <a href=\"https://docs.google.com/presentation/d/1H0T0D0dzrETTav62tjUzrHkleeZpeong7gTpdX3X1bo/edit?usp=sharing\">google docs here</a>.</p>\n", "title": "How to use the same C++ code for Android and iOS?", "tags": ["java", "c++", "jni", "cross-platform", "objective-c++"], "link": "http://stackoverflow.com/questions/18334547/how-to-use-the-same-c-code-for-android-and-ios/18334548#18334548", "question_id": 18334547, "answer_id": 18334548}], "creation_date": 1377000188, "score": 65, "link": "http://stackoverflow.com/questions/18334547/how-to-use-the-same-c-code-for-android-and-ios", "question_id": 18334547}, {"body": "<p>(Wasn't sure if this should go on SU... migration is certainly an option, but more programmers read questions here, so here goes).</p>\n\n<p>I am running Mac OS X 10.8.4, and I have Apple's JDK 1.6.0_51 installed as well as Oracle's JDK 1.7.0_25. I recently installed Oracle's 1.8 preview JDK for some pre-release software that requires it. Now, when I run /usr/libexec/java_home, I get this:</p>\n\n<pre><code>$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (4):\n    1.8.0, x86_64:  \"Java SE 8\" /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/Home\n    1.7.0_25, x86_64:   \"Java SE 7\" /Library/Java/JavaVirtualMachines/jdk1.7.0_25.jdk/Contents/Home\n    1.6.0_51-b11-457, x86_64:   \"Java SE 6\" /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\n    1.6.0_51-b11-457, i386: \"Java SE 6\" /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\n</code></pre>\n\n<p>Great.</p>\n\n<p>However, running:</p>\n\n<pre><code>$ java -version\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>java version \"1.8.0-ea\"\n</code></pre>\n\n<p>That means that the default version of Java is currently the pre-release version, which breaks some \"normal\" packages (in my case, VisualVM).</p>\n\n<p>I can't set <code>JAVA_HOME</code> because launching applications ignores environment variables, even when launching from the command line (e.g. <code>$ open /Applications/VisualVM.app</code>).</p>\n\n<p>So, is there a file I can edit where I can set my JVM ordering preferences <em>globally</em>?</p>\n\n<p>(Please don't tell me to launch the Java Preferences Panel because that simply does not work: it does not contain anything useful and only lists one of the 4 JVMs that I have installed.)</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Oracle JVMs live in <code>/Library/Java/JavaVirtualMachines</code>. Re-naming the JDK 1.8 directory to <code>jdk1.8.0.jvm.xyz</code> does not change anything: <code>java_home</code> still finds it in the right place, and running /usr/bin/java still executes the 1.8 JVM. This is not an issue with synlinks, etc.</p>\n", "tags": ["osx", "java"], "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "answers": [{"body": "<p>I think <code>JAVA_HOME</code> is the best you can do.  The command-line tools like <code>java</code> and <code>javac</code> will respect that environment variable, you can use <code>/usr/libexec/java_home -v '1.7*'</code> to give you a suitable value to put into <code>JAVA_HOME</code> in order to make command line tools use Java 7.</p>\n\n<pre><code>export JAVA_HOME=\"`/usr/libexec/java_home -v '1.7*'`\"\n</code></pre>\n\n<p>But standard double-clickable application bundles don't use JDKs installed under <code>/Library/Java</code> at all.  Old-style <code>.app</code> bundles using Apple's <code>JavaApplicationStub</code> will use Apple Java 6 from <code>/System/Library/Frameworks</code>, and new-style ones built with <a href=\"https://java.net/projects/appbundler\">AppBundler</a> without a bundled JRE will use the \"public\" JRE in <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code> - that's hard-coded in the stub code and can't be changed, and you can't have two different public JREs installed at the same time.</p>\n\n<hr>\n\n<p>Edit: I've had a look at VisualVM specifically, assuming you're using the \"application bundle\" version from <a href=\"http://visualvm.java.net/download.html\">the download page</a>, and this particular app is not an AppBundler application, instead its main executable is a shell script that calls a number of other shell scripts and reads various configuration files.  It defaults to picking the newest JDK from <code>/Library/Java</code> as long as that is 7u10 or later, or uses Java 6 if your Java 7 installation is update 9 or earlier.  But unravelling the logic in the shell scripts it looks to me like you can specify a particular JDK using a configuration file.</p>\n\n<p>Create a text file <code>~/Library/Application Support/VisualVM/1.3.6/etc/visualvm.conf</code> (replace 1.3.6 with whatever version of VisualVM you're using) containing the line</p>\n\n<pre><code>visualvm_jdkhome=\"`/usr/libexec/java_home -v '1.7*'`\"\n</code></pre>\n\n<p>and this will force it to choose Java 7 instead of 8.</p>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/17886334#17886334", "question_id": 17885494, "answer_id": 17886334}, {"body": "<p>Oracle's <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html\" rel=\"nofollow\">uninstallation instructions for Java 7</a> worked for me.</p>\n\n<p>Excerpt:</p>\n\n<blockquote>\n  <p>Uninstalling the JDK\n  To uninstall the JDK, you must have Administrator privileges and execute the remove command either as root or by using the sudo(8) tool.</p>\n  \n  <p>Navigate to /Library/Java/JavaVirtualMachines and remove the directory whose name matches the following format:*</p>\n  \n  <p><code>/Library/Java/JavaVirtualMachines/jdk&lt;major&gt;.&lt;minor&gt;.&lt;macro[_update]&gt;.jdk</code></p>\n  \n  <p>For example, to uninstall 7u6:</p>\n  \n  <p><code>% rm -rf jdk1.7.0_06.jdk</code></p>\n</blockquote>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/19827519#19827519", "question_id": 17885494, "answer_id": 19827519}, {"body": "<p><strong>Edit: this information is for visualvm specifically, not for any other java app</strong></p>\n\n<p>As mentioned by others, you need to modify the visualvm.conf </p>\n\n<p>For the latest version of JvisualVM 1.3.6 on Mac, the install directories have changed.</p>\n\n<p>It is currently in\n<strong>/Applications/VisualVM.app/Contents/Resources/visualvm/etc/visualvm.conf</strong>. </p>\n\n<p>However this may depend on where you have installed VisualVM. The easiest way to find where your VisualVM is to start it, and then look at the process using:</p>\n\n<p>ps -ef | grep VisualVM</p>\n\n<p>You will see something like:</p>\n\n<p>... <strong>-Dnetbeans.dirs=/Applications/VisualVM.app/Contents/Resources/visualvm/visualvm</strong>...</p>\n\n<p>You want to take the netbeans.dir property and look up a directory and you will find the etc folder.</p>\n\n<p>Uncomment this line in the visualvm.conf and change the path to the jdk</p>\n\n<pre><code>visualvm_jdkhome=\"/path/to/jdk\"\n</code></pre>\n\n<p>Additionally, if you are having slowness with your visualvm and you have a lot of memory, I would suggest greatly increasing the amount of memory available and running it in server mode:</p>\n\n<pre><code>visualvm_default_options=\"-J-XX:MaxPermSize=96m -J-Xmx2048m -J-Xms2048m -J-server -J-XX:+UseCompressedOops -J-XX:+UseConcMarkSweepGC -J-XX:+UseParNewGC -J-XX:NewRatio=2 -J-Dnetbeans.accept_license_class=com.sun.tools.visualvm.modules.startup.AcceptLicense -J-Dsun.jvmstat.perdata.syncWaitMs=10000 -J-Dsun.java2d.noddraw=true -J-Dsun.java2d.d3d=false\"\n</code></pre>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/20080613#20080613", "question_id": 17885494, "answer_id": 20080613}, {"body": "<p>I've been there too and searched everywhere how <code>/usr/libexec/java_home</code> works but I couldn't find any information on how it determines the available Java Virtual Machines it lists.</p>\n\n<p>I've experimented a bit and I think it simply executes a <code>ls /Library/Java/JavaVirtualMachines</code> and then inspects the <code>./&lt;version&gt;/Contents/Info.plist</code> of all runtimes it finds there.</p>\n\n<p>It then sorts them <strong>descending</strong> by the key <code>JVMVersion</code> contained in the Info.plist and by default it uses the first entry as its default JVM.</p>\n\n<p>I think the only thing we might do is to change the plist: <code>sudo vi /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/Info.plist</code> and then modify the JVMVersion from <code>1.8.0</code> to something else that makes it sort it to the bottom instead of the top, like <code>!1.8.0</code>.</p>\n\n<p>Something like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    ...\n    &lt;dict&gt;\n            ...\n            &lt;key&gt;JVMVersion&lt;/key&gt;\n            &lt;string&gt;!1.8.0&lt;/string&gt;   &lt;!-- changed from '1.8.0' to '!1.8.0' --&gt;`\n</code></pre>\n\n<p>and then it magically disappears from the top of the list:</p>\n\n<pre><code>/usr/libexec/java_home -verbose\nMatching Java Virtual Machines (3):\n    1.7.0_45, x86_64:   \"Java SE 7\" /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home\n    1.7.0_09, x86_64:   \"Java SE 7\" /Library/Java/JavaVirtualMachines/jdk1.7.0_09.jdk/Contents/Home\n    !1.8.0, x86_64: \"Java SE 8\" /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/Home\n</code></pre>\n\n<p>Now you will need to logout/login and then:</p>\n\n<pre><code>java -version\njava version \"1.7.0_45\"\n</code></pre>\n\n<p>:-)</p>\n\n<p><strong>Of course I have no idea if something else breaks now or if the 1.8.0-ea version of java still works correctly.</strong></p>\n\n<p>You probably should not do any of this but instead simply deinstall 1.8.0.</p>\n\n<p>However so far this has worked for me.</p>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/20994919#20994919", "question_id": 17885494, "answer_id": 20994919}, {"body": "<p>It's actually pretty easy.\nLet's say we have this in our JavaVirtualMachines folder:</p>\n\n<ul>\n<li>jdk1.7.0_51.jdk </li>\n<li>jdk1.8.0.jdk</li>\n</ul>\n\n<p>Imagine that 1.8 is our default, then we just add a new folder (for example 'old') and move the default jdk folder to that new folder.\nDo <code>java -version</code> again et voila, 1.7! </p>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/21644120#21644120", "question_id": 17885494, "answer_id": 21644120}, {"body": "<p>I had a similar situation, and the following process worked for me:</p>\n\n<ol>\n<li><p>In the terminal, type </p>\n\n<pre><code>vi ~/.profile\n</code></pre></li>\n<li><p>Then add this line in the file, and save</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk/Contents/Home\n</code></pre>\n\n<p>where version is the one on your computer, such as 1.7.0_25</p></li>\n<li><p>Exit the editor, then type the following command make it become effective</p>\n\n<pre><code>source ~/.profile \n</code></pre></li>\n</ol>\n\n<p>Then type java -version to check the result </p>\n\n<pre><code>    java -version \n</code></pre>\n\n<p>What is .profile? \nFrom:<a href=\"http://computers.tutsplus.com/tutorials/speed-up-your-terminal-workflow-with-command-aliases-and-profile--mac-30515\" rel=\"nofollow\">http://computers.tutsplus.com/tutorials/speed-up-your-terminal-workflow-with-command-aliases-and-profile--mac-30515</a></p>\n\n<blockquote>\n  <p>.profile file is a hidden file. It is an optional file which tells the system which commands to run when the user whose profile file it is logs in. For example, if my username is bruno and there is a .profile file in /Users/bruno/, all of its contents will be executed during the log-in procedure.</p>\n</blockquote>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/21695086#21695086", "question_id": 17885494, "answer_id": 21695086}, {"body": "<p>I wanted to change default java version form 1.6* to 1.7*. I tried the following steps and it worked for me:</p>\n\n<ul>\n<li>Removed link \"java\" from under /usr/bin</li>\n<li>Created it again, pointing to the new location:</li>\n</ul>\n\n<p>ln -s /Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/bin/java java</p>\n\n<ul>\n<li>verified with \"java -version\"</li>\n</ul>\n\n<p>java version \"1.7.0_51\"<br>\nJava(TM) SE Runtime Environment (build 1.7.0_51-b13)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)  </p>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/21718805#21718805", "question_id": 17885494, "answer_id": 21718805}, {"body": "<p>MacOS uses /usr/libexec/java_home to find the current Java Version.  One way to bypass is to change the plist file as explained by @void256 above. \nOther ways is to take the backup of the java_home and replace it with your own script java_home having the code<br>\n        echo $JAVA_HOME</p>\n\n<p>Now export the JAVA_HOME to the desired version of the SDK by adding the following commands to the ~/.bash_profile.\n        export JAVA_HOME=\"/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\"\n        launchctl setenv JAVA_HOME $JAVA_HOME      /// Make the environment variable global</p>\n\n<p>Run the command source ~/.bash_profile to the run the above commands. </p>\n\n<p>Anytime one needs to change the JAVA_HOME he can reset the JAVA_HOME value in the ~/.bash_profile file. </p>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/25014334#25014334", "question_id": 17885494, "answer_id": 25014334}, {"body": "<p>A bit late but as this is an ongoing issue with Mac OSX... </p>\n\n<p>The simplest solution I found was to simply remove the OpenJDK stuff that Apple installs. Every time an update of Mac OSX arrives it gets installed and you'll need to remove it again.</p>\n\n<p>This works really well if you develop apps for Google App Engine on your mac using Java. The OpenJDK does not work well and the Java version that comes with the Mac OSX Yosemite upgrade will make the Eclipse Plug-in for App Engine crash on every deployment with the helpful error: \"Read timed out\".</p>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/26895255#26895255", "question_id": 17885494, "answer_id": 26895255}, {"body": "<p>It's pretty simple, if you don't mind rolling up your sleeves... <strong>/Library/Java/Home</strong> is the default for JAVA_HOME, and it's just a link that points to one of:</p>\n\n<ul>\n<li>/System/Library/Java/JavaVirtualMachines/1.?.?.jdk/Contents/Home</li>\n<li>/Library/Java/JavaVirtualMachines/jdk1.?.?_??.jdk/Contents/Home</li>\n</ul>\n\n<p>So I wanted to change my default JVM/JDK version <strong>without</strong> changing the contents of JAVA_HOME... /Library/Java/Home is the standard location for the current JVM/JDK and that's what I wanted to preserve... it seems to me to be the easiest way to change things with the least side effects.</p>\n\n<p>It's actually really simple. In order to change which version of java you see with java -version, all you have to do is some version of this:</p>\n\n<pre><code>cd /Library/Java\nsudo rm Home\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk/Contents/Home ./Home\n</code></pre>\n\n<p>I haven't taken the time but a very simple shell script that makes use of /usr/libexec/java_home and ln to repoint the above symlink should be stupid easy to create...</p>\n\n<p>Once you've changed where /Library/Java/Home is pointed... you get the correct result:</p>\n\n<pre><code>cerebro:~ magneto$ java -version\njava version \"1.8.0_60\"\nJava(TM) SE Runtime Environment (build 1.8.0_60-b27) Java HotSpot(TM)\n64-Bit Server VM (build 25.60-b23, mixed mode)\n</code></pre>\n", "title": "How can I change Mac OS&#39;s default Java VM returned from /usr/libexec/java_home", "tags": ["osx", "java"], "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home/32466760#32466760", "question_id": 17885494, "answer_id": 32466760}], "creation_date": 1374852978, "score": 64, "link": "http://stackoverflow.com/questions/17885494/how-can-i-change-mac-oss-default-java-vm-returned-from-usr-libexec-java-home", "question_id": 17885494}, {"body": "<p>As of Java 7u45 an applet will display a warning message (even if signed with a trusted cert) if a webpage tries to interact with it via javascript and that page isn't listed in the manifest's Caller-Allowable-Codebase attribute.</p>\n\n<p>Release notes about this change: <a href=\"http://www.oracle.com/technetwork/java/javase/7u45-relnotes-2016950.html\">http://www.oracle.com/technetwork/java/javase/7u45-relnotes-2016950.html</a></p>\n\n<p>Oracle blog post about this bug: <a href=\"https://blogs.oracle.com/java-platform-group/entry/7u45_caller_allowable_codebase_and\">https://blogs.oracle.com/java-platform-group/entry/7u45_caller_allowable_codebase_and</a></p>\n\n<p>Attribute description: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/manifest.html#caller_allowable\">http://docs.oracle.com/javase/7/docs/technotes/guides/jweb/manifest.html#caller_allowable</a></p>\n\n<p>I have tried just a wildcard (*), but I still get the warning.</p>\n\n<p>Is there a way around this other than listing all codebases it may run at?</p>\n\n<p>The reason this is a problem for me is that this applet runs on many different machines and networks, but always on intranets at various locations. This applet also needs to communicate with javascript because it talks to local USB scales and displays results and interacts with the page.</p>\n\n<p><img src=\"http://i.stack.imgur.com/QCQty.png\" alt=\"Example of warning message\"></p>\n\n<p>Applet in question: <a href=\"https://github.com/JaggedJax/CIO_Scale\">https://github.com/JaggedJax/CIO_Scale</a></p>\n", "tags": ["java", "applet", "manifest", "signed-applet"], "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "answers": [{"body": "<p>We had this problem too - we were building with 1.4.2, on the theory that clients might not have an updated JRE plugin.  Despite putting in the new manifest attributes, we still got the popup warnings in the 1.7_u45 JRE.  We rebuilt with 1.6, and the warnings went away.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19396343#19396343", "question_id": 19393826, "answer_id": 19396343}, {"body": "<p>I had the same issue, So I remove Trusted-Library=true from my MANIFEST.MF, work Caller-Allowable-Codebase attribute fine.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19397227#19397227", "question_id": 19393826, "answer_id": 19397227}, {"body": "<p>Without using <strong>Trusted-Library</strong> and setting:</p>\n\n<pre><code>Application-Library-Allowable-Codebase: *\nCaller-Allowable-Codebase: *\n</code></pre>\n\n<p>Doesn't work for me, and i still see the warning.</p>\n\n<p><strong>Update</strong>: Tried also with http://... but didn't work either.</p>\n\n<p><strong>Update2</strong>: Seems even worse. I didnt update 7u40 (to 7u45) but Java console (full debug) shows the \"LiveConnect 1.7.45\" text. After that, <strong>my Javascript->Java calls are blocked</strong>.</p>\n\n<p><strong>Update 3</strong>: I noticed my warning shows Application and Publisher = UNKNOWN. Altought i have:</p>\n\n<pre><code>Application-Name: MyApplet\nImplementation-Vendor: MyCompany\n</code></pre>\n\n<p>I tried using JDK7u45 instead of JDK7u5 i was using.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19398315#19398315", "question_id": 19393826, "answer_id": 19398315}, {"body": "<p>Removing the Trusted-Library attribute seems to be mandatory to get Caller-Allowable-Codebase working, no more warnings. However, this breaks Java 7 Update 21 - 40 which treated JavaScript code that calls code within a signed applet running with all permissions as mixed code and warning dialogs are raised if the signed JAR files are not tagged with the Trusted-Library=true attribute.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19398982#19398982", "question_id": 19393826, "answer_id": 19398982}, {"body": "<p>My findings are the same:</p>\n\n<p>This prevents warnings with Java 7u21 - 7u40:</p>\n\n<pre><code>Manifest-Version: 1.0\nTrusted-Library: true\n</code></pre>\n\n<p>This exclusivly prevents warnings with Java 7u45:</p>\n\n<pre><code>Manifest-Version: 1.0\nApplication-Library-Allowable-Codebase: *\nCaller-Allowable-Codebase: *\n</code></pre>\n\n<p>Mixing both won't work in 7u45.</p>\n\n<p>Now what? \nDid anyone find a way to allow SIGNED applets with \"all-permissions\" to run without warnings in both JRE-versions?</p>\n\n<p>What the hell is wrong with oracle?</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19400321#19400321", "question_id": 19393826, "answer_id": 19400321}, {"body": "<p>from oracle:</p>\n\n<p>Area: Deployment/Plugin\nSynopsis: Caller-Allowable-Codebase may be ignored when used with Trusted-Library.</p>\n\n<p>If a trusted, signed jar is using the Caller-Allowable-Codebase manifest attribute along with Trusted-Library then the Caller-Allowable-Codebase manifest entry will be ignored and, as a result, a JavaScript -> Java call will show the native LiveConnect warning. The workaround is to remove the Trusted-Library manifest entry.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/7u45-relnotes-2016950.html\">http://www.oracle.com/technetwork/java/javase/7u45-relnotes-2016950.html</a></p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19404696#19404696", "question_id": 19393826, "answer_id": 19404696}, {"body": "<p>I had the same issue. Solution for me was using same parameters in manifest as Oracle used on donwload page in applet for verify java version <a href=\"http://www.java.com/en/download/installed.jsp\">http://www.java.com/en/download/installed.jsp</a>\nTheir applet does not popup any warnings.</p>\n\n<p>so solution is:</p>\n\n<blockquote>\n  <p><br>\n  Manifest-Version: 1.0<br>\n  Codebase: *<br>\n  Permissions: all-permissions<br>\n  Application-Library-Allowable-Codebase: *<br>\n  Caller-Allowable-Codebase: *<br>\n  Application-Name: APPNAME<br></p>\n</blockquote>\n\n<p>it works on:<br>\n1.7.0_17-b02<br>\n1.7.0_25-b17<br>\n1.7.0_45-b18</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19404777#19404777", "question_id": 19393826, "answer_id": 19404777}, {"body": "<p>This set of attributes allows the applet to load without warnings in Java 7u45:</p>\n\n<pre><code>Application-Name: ...\nMain-Class: com...\nSealed: true\nCodebase: *\nCaller-Allowable-Codebase: *\nPermissions: all-permissions\n</code></pre>\n\n<p>We have tested on the following JVMs:</p>\n\n<ul>\n<li>Java 6u20 (OK, well duh!)</li>\n<li><strike>Java 7u21</strike> - must include Trusted-Library to avoid warning</li>\n<li><strike>Java 7u25</strike> - must include Trusted-Library to avoid warning</li>\n<li><strike>Java 7u40</strike> - must include Trusted-Library to avoid warning</li>\n<li>Java 7u45</li>\n</ul>\n\n<p>So the long and short is we have a dilemma; to have no warning on 7u21, 7u25 and 7u40 you must include Trusted-Library:true, and to have no warning on 7u45 you must omit this property. </p>\n\n<p>Thanks Oracle for a Kobayashi Maru - we love you.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19415681#19415681", "question_id": 19393826, "answer_id": 19415681}, {"body": "<p>For update 1.7.0_25 (and probably 21-40), setting the security settings to Medium in the Java Control Panel -> Security tab removes prompting when using the manifest tags for update 1.7.0_45.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19426118#19426118", "question_id": 19393826, "answer_id": 19426118}, {"body": "<p>The only solution that I can think of that works with 7u45 and the Trusted-Library versions (7u21, 7u25 and 7u40) is to create two different JARs with different manifests and then detecting the user's version and loading the right one.</p>\n\n<p>The main version served to versions before 7u21 and 7u45 and up will have the new Caller-Allowable-Codebase and no Trusted-Library entry. The second version produced will have Trusted-Library and will be served only to 7u21, 7u25 and 7u40.</p>\n\n<p>Here is an ant macro to create the new jar with the modified manifest:</p>\n\n<pre><code>&lt;macrodef name=\"addtrustedlibrarytojar\"&gt;\n    &lt;attribute name=\"jarpath\" /&gt;\n    &lt;attribute name=\"newjarpath\" /&gt;\n    &lt;sequential&gt;\n        &lt;echo&gt;Unzipping @{jarpath} to add Trusted-Library&lt;/echo&gt;\n        &lt;mkdir dir=\"build/temp_trusted_library\" /&gt;\n        &lt;unjar src=\"@{jarpath}\" dest=\"build/temp_trusted_library\" /&gt;\n\n        &lt;echo&gt;Inserting Trusted-Library in manifest&lt;/echo&gt;\n        &lt;replaceregexp match=\"^\" replace=\"Trusted-Library: true${line.separator}\" flags=\"s\"&gt;\n            &lt;fileset dir=\"build/temp_trusted_library/META-INF\" includes=\"MANIFEST.MF\"/&gt;\n        &lt;/replaceregexp&gt;\n\n        &lt;echo&gt;Creating @{newjarpath}&lt;/echo&gt;\n        &lt;zip file=\"@{newjarpath}\" basedir=\"build/temp_trusted_library\" /&gt;\n\n        &lt;echo&gt;Deleting build/temp_trusted_library directory&lt;/echo&gt;\n        &lt;delete dir=\"build/temp_trusted_library\" /&gt;\n    &lt;/sequential&gt;\n&lt;/macrodef&gt;\n</code></pre>\n\n<p>Call the macro like this for each JAR that needs the change made:</p>\n\n<pre><code>    &lt;addtrustedlibrarytojar jarpath=\"dist/myapplet.jar\" newjarpath=\"dist/myapplet_tl.jar\" /&gt;\n</code></pre>\n\n<p>Remember to sign the new JAR. If it was signed already this change will invalidate the signature.</p>\n\n<p>We use the <a href=\"http://www.pinlady.net/PluginDetect/\" rel=\"nofollow\">PluginDetect</a> library to detect the version of Java. Just extract PluginDetect_Java_Simple.js and getJavaInfo.jar. This code will get the java version:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/PluginDetect_Java_Simple.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar javaVersionDetected = '0';\nfunction javaDetectionDone(pd) {\n    javaVersionDetected = pd.getVersion(\"Java\");\n    if (console) console.info('Detected java version: ' + javaVersionDetected);\n}\nPluginDetect.onDetectionDone(\"Java\", javaDetectionDone, \"js/getJavaInfo.jar\", null);\n&lt;/script&gt;\n</code></pre>\n\n<p>We use javascript to launch our applets so we use this to decide between the standard and trusted-library applets:</p>\n\n<pre><code>        if (javaVersionDetected === '1,7,0,21' || javaVersionDetected === '1,7,0,25' || javaVersionDetected === '1,7,0,40') {\n            if (console) console.debug('Using TL applet');\n            attribs['archive'] = 'applets/myapplet_tl.jar';\n        }\n        else {\n            if (console) console.debug('Using normal applet');\n            attribs['archive'] = 'applets/myapplet.jar';\n        }\n</code></pre>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19451594#19451594", "question_id": 19393826, "answer_id": 19451594}, {"body": "<p>This will be fixed in a future release, according to the oracle blog post:</p>\n\n<p><a href=\"https://blogs.oracle.com/java-platform-group/entry/7u45_caller_allowable_codebase_and\">https://blogs.oracle.com/java-platform-group/entry/7u45_caller_allowable_codebase_and</a></p>\n\n<p>They recognize the error \"Both of these attributes should work together to support the various versions of client installations\". But for now, their solution is: \"The current work-around would be to favor using Caller-Allowable-Codebase over the old Trusted-Library call. \"</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/19490344#19490344", "question_id": 19393826, "answer_id": 19490344}, {"body": "<p><strong>EDIT:</strong> As it turns out, our app was doing something different if the file was in a different directory -- specifically, it wasn't attempting to access the applet signed jar manifests. So the fact that the file was in a different directory was irrelevant. So the below information is not accurate. I've decided to detail the real reason for the warning in a new question: <a href=\"http://stackoverflow.com/questions/20038356/as-of-java-7-update-45-one-can-no-longer-lookup-manifest-information-without-tr\">As of Java 7 update 45, one can no longer lookup manifest information without triggering a warning?</a></p>\n\n<p>Unfortunately, the workaround given by Oracle and others here for getting around the update 45 problem does NOT work if your app needs to access files in a different directory than where the app is being run from. </p>\n\n<p>With my web start app, everything worked fine and dandy with the \"Trusted-Library\" attribute that needed to be added for 7u21. With 7u45, removing the \"Trusted-Library\" attribute and adding in all the additional attributes talked about in the other answers will NOT work -- I will get the same warning that you would get if you were running 7u21 without the Trusted-Library attribute (stating the application contains both signed and unsigned code). </p>\n\n<p>It took me FOREVER to figure this out, because for very inexplicable reasons Oracle has decided not to print out ANY indication of what the \"unsigned\" code is in its console, even when running at maximum tracing (level 5). But basically, our app needs access to a configuration file which can be used by the user to configure application properties (for example, the logging level of our app). This configuration file is a plain old text file. And we store the config file in a directory co-located to where the app runs from: ..\\config\\app.properties. We access this file as a part of the main jar's init routine. It is here where the warning occurs. </p>\n\n<p>The workaround here? Move app.properties into the same directory where the app is running from (and change the reference in the jar to just \"app.properties\"). Voila, it works -- no more warnings (as long as using the aforementioned codebase attributes).  What the hell Oracle??? </p>\n\n<p>Unfortunately, because our app allows customized config files on a per-user basis, it is not as simple for us to just put the config file in the app's startup directory -- since that is NOT customized on a per-user basis, we would only be able to allow one user per machine to use the app simultaneously.</p>\n\n<p>I've been looking over Java's manifest documentation to see if there is some way I can make the config file directory \"safe\" such that loading up of this file doesn't cause the warning. The only thing I can think of is either being able to use the Class-Path attribute or a combination of the Extension attributes (<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/plugin/developer_guide/extensions.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/plugin/developer_guide/extensions.html</a>), however these all seem designed around the purpose of jars, not just regular files...</p>\n\n<p>Any ideas? And since Oracle intends to fix the Trusted-Library issue anyway, is coming up with a (potentially) grandiose workaround-solution around this even worth the effort? Grrr....</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/20022316#20022316", "question_id": 19393826, "answer_id": 20022316}, {"body": "<p>I'm finding now that some of my users still get this \"mixed signed and unsigned code\" warning (due to LiveConnect calls in the web page to the applet) even though I've set Caller-Allowable-Codebase correctly, and the difference between those that get it and those that don't get it is whether they have applet .jar file caching enabled in the client host.  Those that allow Java to keep temporary files on the client (i.e., allow applet .jar files to be cached) get the warning, and those that turned caching off (because applet caching has never worked quite right) don't get the warning.  Go figure.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/20105237#20105237", "question_id": 19393826, "answer_id": 20105237}, {"body": "<p>I found some strange thing with MANIFEST.MF file in scope of last Java security issue with new attribute \"<em>Caller-Allowable-Codebase</em>\".\nI had some issues, why this new attribute wasn't helpful for me and started investigation\n<br>(<strong>Attention</strong>!: it may be related only to my local computer configuration - because I had never seen such troubles over stackoverlow).</p>\n\n<p>Manifest file had been upgraded according to new security feature:</p>\n\n<pre><code>Manifest-Version: 1.0\nApplication-Library-Allowable-Codebase: *\nCaller-Allowable-Codebase: *\n</code></pre>\n\n<p>and *.jar was build, but <strong>without</strong> signing.</p>\n\n<p>So, then I <em>unpacked</em> my *.jar file and looked in folder META-INF in MANIFEST.MF, where source manifest.mf should be generated.</p>\n\n<p>And I was embarrassed by absence of last line, it looked this:</p>\n\n<pre><code>Manifest-Version: 1.0\nApplication-Library-Allowable-Codebase: *\n</code></pre>\n\n<p>I tested this behavior several times and found out, that last line always was exchanged to the whitespace.\nSo, if it will be helpfull for someone, just append in the end of MANIFEST.MF file some unmeaningful attribute, like <code>Codebase: *</code>, which will be cutted during *.jar build.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/20570373#20570373", "question_id": 19393826, "answer_id": 20570373}, {"body": "<p>if you make a Manifest patch file remember to live an empty line in the end, otherwise it won\u00b4t work.\nFor example you can make a patch like:</p>\n\n<pre><code>Permissions: all-permissions\nCodebase: *\nApplication-Library-Allowable-Codebase: *\nCaller-Allowable-Codebase: *\n</code></pre>\n\n<p>But you need to add an empty line (in the example 5 lines instead of four!)</p>\n\n<p>And then add it to the manifest:</p>\n\n<pre><code>jar uvfm jarName.jar permissions.txt\n</code></pre>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/20953098#20953098", "question_id": 19393826, "answer_id": 20953098}, {"body": "<p>To disable this \"Security Warning\" popup and other related popups using the Java 8 Update 45 JRE.</p>\n\n<pre><code>Trusted-Library: true\nCaller-Allowable-Codebase: *.mycompany.com\n</code></pre>\n\n<p>Note: security warning popup was not disabled with wildcards * and *.com.</p>\n", "title": "Java applet manifest - Allow all Caller-Allowable-Codebase", "tags": ["java", "applet", "manifest", "signed-applet"], "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase/30485634#30485634", "question_id": 19393826, "answer_id": 30485634}], "creation_date": 1381887138, "score": 64, "link": "http://stackoverflow.com/questions/19393826/java-applet-manifest-allow-all-caller-allowable-codebase", "question_id": 19393826}, {"body": "<p>Java 8 introduces <a href=\"http://cr.openjdk.java.net/~dlsmith/jsr335-0.6.2/H.html\">default methods</a> to provide the ability to extend interfaces without the need to modify existing implementations.</p>\n\n<p>I wonder if it's possible to explicitly invoke the default implementation of a method when that method has been overridden or is not available because of conflicting default implementations in different interfaces.</p>\n\n<pre><code>interface A {\n    default void foo() {\n        System.out.println(\"A.foo\");\n    }\n}\n\nclass B implements A {\n    @Override\n    public void foo() {\n        System.out.println(\"B.foo\");\n    }\n    public void afoo() {\n        // how to invoke A.foo() here?\n    }\n}\n</code></pre>\n\n<p>Considering the code above, how would you call <code>A.foo()</code> from a method of class B?</p>\n", "tags": ["java", "inheritance", "interface", "java-8", "default-method"], "title": "Explicitly calling a default method in Java", "answers": [{"body": "<p>You don't need to override default method type of interface. Just call like</p>\n\n<pre><code>public class B implements A {\n\n    @Override\n    public void foo() {\n        System.out.println(\"B.foo\");\n    }\n\n    public void afoo() {\n        A.super.foo();\n    }\n    public static void main(String[] args) {\n       B b=new B();\n       b.afoo();\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong>  A.foo</p>\n", "title": "Explicitly calling a default method in Java", "tags": ["java", "inheritance", "interface", "java-8", "default-method"], "link": "http://stackoverflow.com/questions/19976487/explicitly-calling-a-default-method-in-java/19976572#19976572", "question_id": 19976487, "answer_id": 19976572}, {"body": "<p>As per <a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-default-methods/\">this article</a> you access default method in interface <code>A</code> using</p>\n\n<pre><code>A.super.foo();\n</code></pre>\n\n<p>This could be used as follows (assuming interfaces <code>A</code> and <code>C</code> both have default methods <code>foo()</code>)</p>\n\n<pre><code>public class ChildClass implements A, C {\n    public void foo() {\n       doSomethingElse();\n       //or manage conflicts between the same method foo() in both A and C\n       A.super.foo();\n    }\n    public void bah() {\n       A.super.foo(); //original foo() from A accessed\n       C.super.foo(); //original foo() from C accessed\n    }\n}\n</code></pre>\n\n<p><code>A</code> and <code>C</code> can both have <code>.foo()</code> methods and the specific default implementation can be chosen or you can use one (or both) as part of your new <code>foo()</code> method. You can also use the same syntax to access the default versions in other methods in your implementing class.</p>\n", "title": "Explicitly calling a default method in Java", "tags": ["java", "inheritance", "interface", "java-8", "default-method"], "link": "http://stackoverflow.com/questions/19976487/explicitly-calling-a-default-method-in-java/19976615#19976615", "question_id": 19976487, "answer_id": 19976615}, {"body": "<p>Below code should work.</p>\n\n<pre><code>public class B implements A {\n\n@Override\npublic void foo() {\n    System.out.println(\"B.foo\");\n}\n\nvoid aFoo() {\n    A.super.foo();\n}\n\npublic static void main(String[] args) {\n\n    B b = new B();\n    b.foo();\n    b.aFoo();\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>interface A {\n\ndefault void foo() {\n    System.out.println(\"A.foo\");\n}\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>B.foo\nA.foo\n</code></pre>\n", "title": "Explicitly calling a default method in Java", "tags": ["java", "inheritance", "interface", "java-8", "default-method"], "link": "http://stackoverflow.com/questions/19976487/explicitly-calling-a-default-method-in-java/19976717#19976717", "question_id": 19976487, "answer_id": 19976717}], "creation_date": 1384428472, "score": 64, "link": "http://stackoverflow.com/questions/19976487/explicitly-calling-a-default-method-in-java", "question_id": 19976487}, {"body": "<p>I have a problem tryingout the Lambda expressions of Java 8.\nUsually it works fine, but now i have methods that throw IOException's. \nIt's best if you look at the code following:</p>\n\n<pre><code>class Bank{\n    ....\n    public Set&lt;String&gt; getActiveAccountNumbers() throws IOException {\n        Stream&lt;Account&gt; s =  accounts.values().stream();\n        s = s.filter(a -&gt; a.isActive());\n        Stream&lt;String&gt; ss = s.map(a -&gt; a.getNumber());\n        return ss.collect(Collectors.toSet());\n    }\n    ....\n}\n\ninterface Account{\n    ....\n    boolean isActive() throws IOException;\n    String getNumber() throws IOException;\n    ....\n}\n</code></pre>\n\n<p>The problem is, it doesn't compile, because i have to catch the possible exceptions of the isActive- and the getNumber-Methods. But even if i explecitely use a try-catch-Block like below, it still doesn't compile because i don't catch the Exception. So either there is a bug in JDK, or i don't know how to catch these Exceptions.</p>\n\n<pre><code>class Bank{\n    ....\n    //Doesn't compile either\n    public Set&lt;String&gt; getActiveAccountNumbers() throws IOException {\n        try{\n            Stream&lt;Account&gt; s =  accounts.values().stream();\n            s = s.filter(a -&gt; a.isActive());\n            Stream&lt;String&gt; ss = s.map(a -&gt; a.getNumber());\n            return ss.collect(Collectors.toSet());\n        }catch(IOException ex){\n        }\n    }\n    ....\n}\n</code></pre>\n\n<p>How can i get it work? Can someone hint me to the right solution?</p>\n", "tags": ["java", "exception-handling", "lambda", "java-8"], "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "answers": [{"body": "<p>You must catch the exception <em>before</em> it escapes the lambda:</p>\n\n<pre><code>s = s.filter(a -&gt; { try { return a.isActive(); } \n                    catch (IOException e) { throw new UncheckedIOException(e); }}});\n</code></pre>\n\n<p>Consider the fact that the lambda isn't evaluated at the place you write it, but at some completely unrelated place, within a JDK class. So that would be the point where that checked exception would be thrown, and at that place it isn't declared.</p>\n\n<p>Yes, checked exceptions have always been a pain, and now with the sexy and concise lambda syntax, they disrupt the program flow even worse.</p>\n\n<hr>\n\n<p>In my projects I deal with this issue without wrapping; instead I use a method which effectively defuses compiler's checking of exceptions. Needless to say, this should be handled with care and everybody on the project must be aware that a checked exception may appear where it is not declared. This is the plumbing code:</p>\n\n<pre><code>public static &lt;T&gt; T uncheckCall(Callable&lt;T&gt; callable) {\n  try { return callable.call(); }\n  catch (Exception e) { return sneakyThrow(e); }\n}\npublic static void uncheckRun(RunnableExc r) {\n  try { r.run(); } catch (Exception e) { sneakyThrow(e); }\n}\npublic interface RunnableExc { void run() throws Exception; }\n\n\npublic static &lt;T&gt; T sneakyThrow(Throwable e) {\n  return Util.&lt;RuntimeException, T&gt;sneakyThrow0(e);\n}\nprivate static &lt;E extends Throwable, T&gt; T sneakyThrow0(Throwable t) throws E { throw (E)t; }\n</code></pre>\n\n<p>Your example would be written as</p>\n\n<pre><code>return s.filter(a -&gt; uncheckCall(a::isActive))\n        .map(Account::getNumber)\n        .collect(toSet());\n</code></pre>\n\n<p>and you can expect to get an <code>IOException</code> thrown in your face, even though <code>collect</code> does not declare it. In <em>most, but not all</em> real-life cases you would want to just rethrow the exception, anyway, and handle it as a generic failure. In all those cases, nothing is lost in clarity or correctness. Just beware of those other cases, where you would actually want to react to the exception on the spot. The developer will not be made aware by the compiler that there is an <code>IOException</code> to catch there and the compiler will in fact complain if you try to catch it because we have fooled it into believing that no such exception can be thrown.</p>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/19757456#19757456", "question_id": 19757300, "answer_id": 19757456}, {"body": "<p>You can also propagate your static pain with lambdas, so the whole thing looks readable:</p>\n\n<pre><code>s.filter(a -&gt; propagate(a::isActive))\n</code></pre>\n\n<p><code>propagate</code> here receives <code>java.util.concurrent.Callable</code> as a parameter and converts any exception caught during the call into <code>RuntimeException</code>. There is a similar conversion method <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Throwables.html#propagate%28java.lang.Throwable%29\">Throwables#propagate(Throwable)</a> in Guava.</p>\n\n<p>This method seems being essential for lambda method chaining, so I hope one day it will be added to one of the popular libs or this propagating behavior would be by default.</p>\n\n<pre><code>public class PropagateExceptionsSample {\n    // a simplified version of Throwables#propagate\n    public static RuntimeException runtime(Throwable e) {\n        if (e instanceof RuntimeException) {\n            return (RuntimeException)e;\n        }\n\n        return new RuntimeException(e);\n    }\n\n    // this is a new one, n/a in public libs\n    // Callable just suits as a functional interface in JDK throwing Exception \n    public static &lt;V&gt; V propagate(Callable&lt;V&gt; callable){\n        try {\n            return callable.call();\n        } catch (Exception e) {\n            throw runtime(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        class Account{\n            String name;    \n            Account(String name) { this.name = name;}\n\n            public boolean isActive() throws IOException {\n                return name.startsWith(\"a\");\n            }\n        }\n\n\n        List&lt;Account&gt; accounts = new ArrayList&lt;&gt;(Arrays.asList(new Account(\"andrey\"), new Account(\"angela\"), new Account(\"pamela\")));\n\n        Stream&lt;Account&gt; s = accounts.stream();\n\n        s\n          .filter(a -&gt; propagate(a::isActive))\n          .map(a -&gt; a.name)\n          .forEach(System.out::println);\n    }\n}\n</code></pre>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/19759653#19759653", "question_id": 19757300, "answer_id": 19759653}, {"body": "<p>To properly add IOException (to RuntimeException) handling code, your method will look like this:</p>\n\n<pre><code>Stream&lt;Account&gt; s =  accounts.values().stream();\n\ns = s.filter(a -&gt; try { return a.isActive(); } \n  catch (IOException e) { throw new RuntimeException(e); }});\n\nStream&lt;String&gt; ss = s.map(a -&gt; try { return a.getNumber() }\n  catch (IOException e) { throw new RuntimeException(e); }});\n\nreturn ss.collect(Collectors.toSet());\n</code></pre>\n\n<p>The problem now is that the <code>IOException</code> will have to be captured as a <code>RuntimeException</code> and converted back to an <code>IOException</code> -- and that will add even more code to the above method.</p>\n\n<p>Why use <code>Stream</code> when it can be done just like this -- and the method throws <code>IOException</code> so no extra code is needed for that too:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;();\nfor(Account a: accounts.values()){\n  if(a.isActive()){\n     set.add(a.getNumber());\n  } \n}\nreturn set;\n</code></pre>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/19760646#19760646", "question_id": 19757300, "answer_id": 19760646}, {"body": "<p>You can potentially roll your own <code>Stream</code> variant by wrapping your lambda to throw an unchecked exception and then later unwrapping that unchecked exception on terminal operations:</p>\n\n<pre><code>@FunctionalInterface\npublic interface ThrowingPredicate&lt;T, X extends Throwable&gt; {\n    public boolean test(T t) throws X;\n}\n\n@FunctionalInterface\npublic interface ThrowingFunction&lt;T, R, X extends Throwable&gt; {\n    public R apply(T t) throws X;\n}\n\n@FunctionalInterface\npublic interface ThrowingSupplier&lt;R, X extends Throwable&gt; {\n    public R get() throws X;\n}\n\npublic interface ThrowingStream&lt;T, X extends Throwable&gt; {\n    public ThrowingStream&lt;T, X&gt; filter(\n            ThrowingPredicate&lt;? super T, ? extends X&gt; predicate);\n\n    public &lt;R&gt; ThrowingStream&lt;T, R&gt; map(\n            ThrowingFunction&lt;? super T, ? extends R, ? extends X&gt; mapper);\n\n    public &lt;A, R&gt; R collect(Collector&lt;? super T, A, R&gt; collector) throws X;\n\n    // etc\n}\n\nclass StreamAdapter&lt;T, X extends Throwable&gt; implements ThrowingStream&lt;T, X&gt; {\n    private static class AdapterException extends RuntimeException {\n        public AdapterException(Throwable cause) {\n            super(cause);\n        }\n    }\n\n    private final Stream&lt;T&gt; delegate;\n    private final Class&lt;X&gt; x;\n\n    StreamAdapter(Stream&lt;T&gt; delegate, Class&lt;X&gt; x) {\n        this.delegate = delegate;\n        this.x = x;\n    }\n\n    private &lt;R&gt; R maskException(ThrowingSupplier&lt;R, X&gt; method) {\n        try {\n            return method.get();\n        } catch (Throwable t) {\n            if (x.isInstance(t)) {\n                throw new AdapterException(t);\n            } else {\n                throw t;\n            }\n        }\n    }\n\n    @Override\n    public ThrowingStream&lt;T, X&gt; filter(ThrowingPredicate&lt;T, X&gt; predicate) {\n        return new StreamAdapter&lt;&gt;(\n                delegate.filter(t -&gt; maskException(() -&gt; predicate.test(t))), x);\n    }\n\n    @Override\n    public &lt;R&gt; ThrowingStream&lt;R, X&gt; map(ThrowingFunction&lt;T, R, X&gt; mapper) {\n        return new StreamAdapter&lt;&gt;(\n                delegate.map(t -&gt; maskException(() -&gt; mapper.apply(t))), x);\n    }\n\n    private &lt;R&gt; R unmaskException(Supplier&lt;R&gt; method) throws X {\n        try {\n            return method.get();\n        } catch (AdapterException e) {\n            throw x.cast(e.getCause());\n        }\n    }\n\n    @Override\n    public &lt;A, R&gt; R collect(Collector&lt;T, A, R&gt; collector) throws X {\n        return unmaskException(() -&gt; delegate.collect(collector));\n    }\n}\n</code></pre>\n\n<p>Then you could use this the same exact way as a <code>Stream</code>:</p>\n\n<pre><code>Stream&lt;Account&gt; s = accounts.values().stream();\nThrowingStream&lt;Account, IOException&gt; ts = new StreamAdapter&lt;&gt;(s, IOException.class);\nreturn ts.filter(Account::isActive).map(Account::getNumber).collect(toSet());\n</code></pre>\n\n<p>This solution would require quite a bit of boilerplate, so I suggest you take a look at the <a href=\"https://github.com/JeffreyFalgout/ThrowingStream\" rel=\"nofollow\">library I already made</a> which does exactly what I have described here for the entire <code>Stream</code> class (and more!).</p>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/23188648#23188648", "question_id": 19757300, "answer_id": 23188648}, {"body": "<p>Use #propagate() method. Sample non-Guava implementation from <a href=\"http://web.archive.org/web/20140406000326/http://java8blog.com/post/37385501926/fixing-checked-exceptions-in-java-8\" rel=\"nofollow\">Java 8 Blog by Sam Beran</a>:</p>\n\n<pre><code>public class Throwables {\n    public interface ExceptionWrapper&lt;E&gt; {\n        E wrap(Exception e);\n    }\n\n    public static &lt;T&gt; T propagate(Callable&lt;T&gt; callable) throws RuntimeException {\n        return propagate(callable, RuntimeException::new);\n    }\n\n    public static &lt;T, E extends Throwable&gt; T propagate(Callable&lt;T&gt; callable, ExceptionWrapper&lt;E&gt; wrapper) throws E {\n        try {\n            return callable.call();\n        } catch (RuntimeException e) {\n            throw e;\n        } catch (Exception e) {\n            throw wrapper.wrap(e);\n        }\n    }\n}\n</code></pre>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/24539835#24539835", "question_id": 19757300, "answer_id": 24539835}, {"body": "<p>This <code>UtilException</code> helper class lets you use any checked exceptions in Java streams, like this:</p>\n\n<pre><code>Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n      .map(rethrowFunction(Class::forName))\n      .collect(Collectors.toList());\n</code></pre>\n\n<p>Note <code>Class::forName</code> throws <code>ClassNotFoundException</code>, which is <strong>checked</strong>. The stream itself also throws <code>ClassNotFoundException</code>, and NOT some wrapping unchecked exception.</p>\n\n<pre><code>public final class UtilException {\n\n@FunctionalInterface\npublic interface Consumer_WithExceptions&lt;T&gt; {\n    void accept(T t) throws Exception;\n    }\n\n@FunctionalInterface\npublic interface Function_WithExceptions&lt;T, R&gt; {\n    R apply(T t) throws Exception;\n    }\n\n@FunctionalInterface\npublic interface Supplier_WithExceptions&lt;T&gt; {\n    T get() throws Exception;\n    }\n\n@FunctionalInterface\npublic interface Runnable_WithExceptions {\n    void accept() throws Exception;\n    }\n\n/** .forEach(rethrowConsumer(name -&gt; System.out.println(Class.forName(name)))); or .forEach(rethrowConsumer(ClassNameUtil::println)); */\npublic static &lt;T&gt; Consumer&lt;T&gt; rethrowConsumer(Consumer_WithExceptions&lt;T&gt; consumer) {\n    return t -&gt; {\n    try { consumer.accept(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); }\n    };\n    }\n\n/** .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName)) */\npublic static &lt;T, R&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R&gt; function) {\n    return t -&gt; {\n    try { return function.apply(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    };\n    }\n\n/** rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, \"UTF-8\"))), */\npublic static &lt;T&gt; Supplier&lt;T&gt; rethrowSupplier(Supplier_WithExceptions&lt;T&gt; function) {\n    return () -&gt; {\n    try { return function.get(); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    };\n    }\n\n/** uncheck(() -&gt; Class.forName(\"xxx\")); */\npublic static void uncheck(Runnable_WithExceptions t)\n    {\n    try { t.accept(); }\n    catch (Exception exception) { throwAsUnchecked(exception); }\n    }\n\n/** uncheck(() -&gt; Class.forName(\"xxx\")); */\npublic static &lt;R&gt; R uncheck(Supplier_WithExceptions&lt;R&gt; supplier)\n    {\n    try { return supplier.get(); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    }\n\n/** uncheck(Class::forName, \"xxx\"); */\npublic static &lt;T, R&gt; R uncheck(Function_WithExceptions&lt;T, R&gt; function, T t) {\n    try { return function.apply(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    }\n\n@SuppressWarnings (\"unchecked\")\nprivate static &lt;E extends Throwable&gt; void throwAsUnchecked(Exception exception) throws E { throw (E)exception; }\n</code></pre>\n\n<p>Many other examples on how to use it (after statically importing <code>UtilException</code>):</p>\n\n<pre><code>@Test\npublic void test_Consumer_with_checked_exceptions() throws IllegalAccessException {\n    Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n          .forEach(rethrowConsumer(className -&gt; System.out.println(Class.forName(className))));\n\n    Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n          .forEach(rethrowConsumer(System.out::println));\n    }\n\n@Test\npublic void test_Function_with_checked_exceptions() throws ClassNotFoundException {\n    List&lt;Class&gt; classes1\n          = Stream.of(\"Object\", \"Integer\", \"String\")\n                  .map(rethrowFunction(className -&gt; Class.forName(\"java.lang.\" + className)))\n                  .collect(Collectors.toList());\n\n    List&lt;Class&gt; classes2\n          = Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n                  .map(rethrowFunction(Class::forName))\n                  .collect(Collectors.toList());\n    }\n\n@Test\npublic void test_Supplier_with_checked_exceptions() throws ClassNotFoundException {\n    Collector.of(\n          rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, \"UTF-8\"))),\n          StringJoiner::add, StringJoiner::merge, StringJoiner::toString);\n    }\n\n@Test    \npublic void test_uncheck_exception_thrown_by_method() {\n    Class clazz1 = uncheck(() -&gt; Class.forName(\"java.lang.String\"));\n\n    Class clazz2 = uncheck(Class::forName, \"java.lang.String\");\n    }\n\n@Test (expected = ClassNotFoundException.class)\npublic void test_if_correct_exception_is_still_thrown_by_method() {\n    Class clazz3 = uncheck(Class::forName, \"INVALID\");\n    }\n</code></pre>\n\n<p><strong>But don't use it before understanding the following advantages, disadvantages, and limitations</strong>:</p>\n\n<p>\u2022 If the calling-code is to handle the checked exception you MUST add it to the throws clause of the method that contains the stream.\n The compiler will not force you to add it anymore, so it's easier to forget it.</p>\n\n<p>\u2022 If the calling-code already handles the checked exception, the compiler WILL remind you to add the throws clause to the method declaration\n that contains the stream (if you don't it will say: Exception is never thrown in body of corresponding try statement).</p>\n\n<p>\u2022 In any case, you won't be able to surround the stream itself to catch the checked exception INSIDE the method that contains the stream\n (if you try, the compiler will say: Exception is never thrown in body of corresponding try statement).</p>\n\n<p>\u2022 If you are calling a method which literally can never throw the exception that it declares, then you should not include the throws clause.\n For example: new String(byteArr, \"UTF-8\") throws UnsupportedEncodingException, but UTF-8 is guaranteed by the Java spec to always be present.\n Here, the throws declaration is a nuisance and any solution to silence it with minimal boilerplate is welcome.</p>\n\n<p>\u2022 If you hate checked exceptions and feel they should never be added to the Java language to begin with (a growing number of people think this way,\n and I am NOT one of them), then just don't add the checked exception to the throws clause of the method that contains the stream. The checked\n exception will, then, behave just like an UNchecked exception.</p>\n\n<p>\u2022 If you are implementing a strict interface where you don't have the option for adding a throws declaration, and yet throwing an exception is\n entirely appropriate, then wrapping an exception just to gain the privilege of throwing it results in a stacktrace with spurious exceptions which\n contribute no information about what actually went wrong. A good example is Runnable.run(), which does not throw any checked exceptions.\n In this case, you may decide not to add the checked exception to the throws clause of the method that contains the stream.</p>\n\n<p>\u2022 In any case, if you decide NOT to add (or forget to add) the checked exception to the throws clause of the method that contains the stream,\n be aware of these 2 consequences of throwing CHECKED exceptions:</p>\n\n<p>1) The calling-code won't be able to catch it by name (if you try, the compiler will say: Exception is never thrown in body of corresponding try\n statement). It will bubble and probably be catched in the main program loop by some \"catch Exception\" or \"catch Throwable\", which may be what you\n want anyway.</p>\n\n<p>2) It violates the principle of least surprise: it will no longer be enough to catch RuntimeException to be able to guarantee catching all\n possible exceptions. For this reason, I believe this should not be done in framework code, but only in business code that you completely control.</p>\n\n<p><strong>In conclusion: I believe the limitations here are not serious, and the <code>UtilException</code> class may be used without fear. However, it's up to you!</strong></p>\n\n<ul>\n<li>References:\n<ul>\n<li><a href=\"http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html\">http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html</a></li>\n<li><a href=\"http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html\">http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html</a></li>\n<li>Project Lombok annotation: @SneakyThrows</li>\n<li>Brian Goetz opinion (against) here: <a href=\"http://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\">How can I throw CHECKED exceptions from inside Java 8 streams?</a></li>\n<li><a href=\"http://programmers.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e\">http://programmers.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e</a> *</li>\n</ul></li>\n</ul>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/27661524#27661524", "question_id": 19757300, "answer_id": 27661524}, {"body": "<p>Extending @marcg solution, you can normally throw and catch a <strong>checked</strong> exception in Streams; that is, <strong>compiler will ask you to catch/re-throw</strong> as is you were outside streams!!</p>\n\n<pre><code>@FunctionalInterface\npublic interface Predicate_WithExceptions&lt;T, E extends Exception&gt; {\n    boolean test(T t) throws E;\n}\n\n/**\n * .filter(rethrowPredicate(t -&gt; t.isActive()))\n */\npublic static &lt;T, E extends Exception&gt; Predicate&lt;T&gt; rethrowPredicate(Predicate_WithExceptions&lt;T, E&gt; predicate) throws E {\n    return t -&gt; {\n        try {\n            return predicate.test(t);\n        } catch (Exception exception) {\n            return throwActualException(exception);\n        }\n    };\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate static &lt;T, E extends Exception&gt; T throwActualException(Exception exception) throws E {\n    throw (E) exception;\n}\n</code></pre>\n\n<p>Then, your example would be written as follows (adding tests to show it more clearly):</p>\n\n<pre><code>@Test\npublic void testPredicate() throws MyTestException {\n    List&lt;String&gt; nonEmptyStrings = Stream.of(\"ciao\", \"\")\n            .filter(rethrowPredicate(s -&gt; notEmpty(s)))\n            .collect(toList());\n    assertEquals(1, nonEmptyStrings.size());\n    assertEquals(\"ciao\", nonEmptyStrings.get(0));\n}\n\nprivate class MyTestException extends Exception { }\n\nprivate boolean notEmpty(String value) throws MyTestException {\n    if(value==null) {\n        throw new MyTestException();\n    }\n    return !value.isEmpty();\n}\n\n@Test\npublic void testPredicateRaisingException() throws MyTestException {\n    try {\n        Stream.of(\"ciao\", null)\n                .filter(rethrowPredicate(s -&gt; notEmpty(s)))\n                .collect(toList());\n        fail();\n    } catch (MyTestException e) {\n        //OK\n    }\n}\n</code></pre>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/31071492#31071492", "question_id": 19757300, "answer_id": 31071492}, {"body": "<p>Keeping this issue in mind I developed a small library for dealing with checked exceptions and lambdas. Custom adapters allow you to integrate with existing functional types:</p>\n\n<pre><code>stream().map(unchecked(URI::new)) //with a static import\n</code></pre>\n\n<p><a href=\"https://github.com/TouK/ThrowingFunction/\" rel=\"nofollow\">https://github.com/TouK/ThrowingFunction/</a></p>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/35512247#35512247", "question_id": 19757300, "answer_id": 35512247}, {"body": "<p>If you don't mind using 3rd party libraries, AOL's <a href=\"https://github.com/aol/cyclops-react/\" rel=\"nofollow\">cyclops-react</a> lib, disclosure::I am a contributor, has a <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/util/ExceptionSoftener.html\" rel=\"nofollow\">ExceptionSoftener</a> class that can help here.</p>\n\n<pre><code> s.filter(softenPredicate(a-&gt;a.isActive()));\n</code></pre>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/35609161#35609161", "question_id": 19757300, "answer_id": 35609161}, {"body": "<p>Your example can be written as:</p>\n\n<pre><code>import utils.stream.Unthrow;\n\nclass Bank{\n   ....\n   public Set&lt;String&gt; getActiveAccountNumbers() {\n       return accounts.values().stream()\n           .filter(a -&gt; Unthrow.wrap(() -&gt; a.isActive()))\n           .map(a -&gt; Unthrow.wrap(() -&gt; a.getNumber()))\n           .collect(Collectors.toSet());\n   }\n   ....\n}\n</code></pre>\n\n<p>The <strong>Unthrow</strong> class can be taken here <a href=\"https://github.com/SeregaLBN/StreamUnthrower\" rel=\"nofollow\">https://github.com/SeregaLBN/StreamUnthrower</a></p>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/35797098#35797098", "question_id": 19757300, "answer_id": 35797098}, {"body": "<p>This does not directly answer the question (there are many other answers that do) but tries to avoid the problem in the first place:</p>\n\n<p>In my experience the need to handle exceptions in a <code>Stream</code> (or other lambda expression) often comes from the fact that the exceptions are declared to be thrown from methods where they should not be thrown. This often comes from mixing business logic with in- and output. Your <code>Account</code> interface is a perfect example:</p>\n\n<pre><code>interface Account {\n    boolean isActive() throws IOException;\n    String getNumber() throws IOException;\n}\n</code></pre>\n\n<p>Instead of throwing an <code>IOException</code> on each getter, consider this design:</p>\n\n<pre><code>interface AccountReader {\n    Account getAccount(\u2026) throws IOException;\n}\n\ninterface Account {\n    boolean isActive();\n    String getNumber();\n}\n</code></pre>\n\n<p>The method <code>AccountReader.getAccount(\u2026)</code> could read an account from a database or a file or whatever and throw an exception if it does not succeed. It constructs an <code>Account</code> object that already contains all values, ready to be used. As the values have already been loaded by <code>getAccount(\u2026)</code>, the getter would not throw an exception. Thus you can use them freely in lambdas without the need of wrapping, masking or hiding the exceptions.</p>\n\n<p>Of course it is not always possible to do it the way I described, but often it is and it leads to cleaner code altogether (IMHO):</p>\n\n<ul>\n<li>Better <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow\">separation of concerns</a> and following <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow\">single responsibility principle</a></li>\n<li>Less boilerplate: You don't have to clutter your code with <code>throws IOException</code> for no use but to satisfy the compiler</li>\n<li>Error handling: You handle the errors where they happen - when reading from a file or database - instead of somewhere in the middle of your business logic only because you want to get a fields value</li>\n<li>You may be able to make <code>Account</code> <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow\">immutable</a> and profit from the advantages thereof (e.g. thread safety)</li>\n<li>You don't need \"dirty tricks\" or workarounds to use <code>Account</code> in lambdas (e.g. in a <code>Stream</code>)</li>\n</ul>\n", "title": "Java 8: Lambda-Streams, Filter by Method with Exception", "tags": ["java", "exception-handling", "lambda", "java-8"], "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception/36816732#36816732", "question_id": 19757300, "answer_id": 36816732}], "creation_date": 1383508267, "score": 63, "link": "http://stackoverflow.com/questions/19757300/java-8-lambda-streams-filter-by-method-with-exception", "question_id": 19757300}, {"body": "<p>In my android app, I have this layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt; \n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" \n      android:layout_width=\"match_parent\" \n      android:layout_height=\"match_parent\" \n      android:orientation=\"vertical\"&gt;\n\n    &lt;fragment\n         android:id=\"@+id/map\"\n         android:layout_width=\"match_parent\"\n         android:layout_height=\"0dp\" \n         android:layout_weight=\"1\" \n         class=\"com.google.android.gms.maps.SupportMapFragment\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/button_back\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"CloseActivity\"\n        android:padding=\"0dp\"\n        android:text=\"@+string/back\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And the preview and on the phone looks like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/6VZqB.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see on the bottom button, there is some padding there. </p>\n\n<p>How can I get rid of that, and let the button fully fill the bottom area?</p>\n\n<p>Thanks</p>\n", "tags": ["java", "android", "button"], "title": "How to remove padding around buttons in android?", "answers": [{"body": "<p>That's not padding, it's the shadow around the button in its background drawable. Create your own background and it will disappear.</p>\n", "title": "How to remove padding around buttons in android?", "tags": ["java", "android", "button"], "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android/17960625#17960625", "question_id": 17960599, "answer_id": 17960625}, {"body": "<p>A workaround may be to try to use <code>-ve</code> values for margins like following:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/button_back\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:onClick=\"CloseActivity\"\n    android:padding=\"0dp\"\n    android:layout_marginLeft=\"-5dip\"\n    android:layout_marginRight=\"-5dip\"\n    android:layout_marginTop=\"-5dip\"\n    android:layout_marginBottom=\"-5dip\"\n    android:text=\"@string/back\" /&gt;\n</code></pre>\n\n<p>It will make that space vanish. I mean you can choose the appropriate <code>dip</code> value, which makes it go away. It worked for me. Hope it works for you.</p>\n", "title": "How to remove padding around buttons in android?", "tags": ["java", "android", "button"], "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android/17960713#17960713", "question_id": 17960599, "answer_id": 17960713}, {"body": "<p>I am new to android but I had a similar situation. I did what @Delyan suggested and also used android:background=\"@null\" in the xml layout file.</p>\n", "title": "How to remove padding around buttons in android?", "tags": ["java", "android", "button"], "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android/17960736#17960736", "question_id": 17960599, "answer_id": 17960736}, {"body": "<p>For me the problem turned out to be minHeight and minWidth on some of the Android themes.</p>\n\n<p>On the Button element, add:</p>\n\n<pre><code>&lt;Button android:minHeight=\"0dp\" android:minWidth=\"0dp\" ...\n</code></pre>\n\n<p>Or in your button's style:</p>\n\n<pre><code>&lt;item name=\"android:minHeight\"&gt;0dp&lt;/item&gt;\n&lt;item name=\"android:minWidth\"&gt;0dp&lt;/item&gt;\n</code></pre>\n", "title": "How to remove padding around buttons in android?", "tags": ["java", "android", "button"], "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android/20323723#20323723", "question_id": 17960599, "answer_id": 20323723}, {"body": "<p>It doesn't seem to be padding, margin, or minheight/width.\nSetting <code>android:background=\"@null\"</code> the button loses its touch animation, but it turns out that setting the background to anything at all fixes that border.</p>\n\n<hr>\n\n<p>I am currently working with:</p>\n\n<pre><code>minSdkVersion 19\ntargetSdkVersion 23\n</code></pre>\n", "title": "How to remove padding around buttons in android?", "tags": ["java", "android", "button"], "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android/38001356#38001356", "question_id": 17960599, "answer_id": 38001356}, {"body": "<p>In the button's XML set <code>android:includeFontPadding=\"false\"</code></p>\n", "title": "How to remove padding around buttons in android?", "tags": ["java", "android", "button"], "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android/38867440#38867440", "question_id": 17960599, "answer_id": 38867440}], "creation_date": 1375237628, "score": 62, "link": "http://stackoverflow.com/questions/17960599/how-to-remove-padding-around-buttons-in-android", "question_id": 17960599}, {"body": "<p>In many other languages, eg. Haskell, it is easy to repeat a value or function multiple times, eg. to get a list of 8 copies of the value 1:</p>\n\n<pre><code>take 8 (repeat 1)\n</code></pre>\n\n<p>but I haven't found this yet in Java 8.  Is there such a function in Java 8's JDK?</p>\n\n<p>Or alternatively something equivalent to a range like</p>\n\n<pre><code>[1..8]\n</code></pre>\n\n<p>It would seem an obvious replacement for a verbose statement in Java like</p>\n\n<pre><code>for (int i = 1; i &lt;= 8; i++) {\n    System.out.println(i);\n}\n</code></pre>\n\n<p>to have something like</p>\n\n<pre><code>Range.from(1, 8).forEach(i -&gt; System.out.println(i))\n</code></pre>\n\n<p>though this particular example doesn't look much more concise actually...  but hopefully it's more readable.</p>\n", "tags": ["java", "java-8"], "title": "Does Java 8 provide a good way to repeat a value or function?", "answers": [{"body": "<p>For this specific example, you could do:</p>\n\n<pre><code>IntStream.rangeClosed(1, 8)\n         .forEach(System.out::println);\n</code></pre>\n\n<p>If you need a step different from 1, you can use a mapping function, for example, for a step of 2:</p>\n\n<pre><code>IntStream.rangeClosed(1, 8)\n         .map(i -&gt; 2 * i - 1)\n         .forEach(System.out::println);\n</code></pre>\n\n<p>Or build a custom iteration and limit the size of the iteration:</p>\n\n<pre><code>IntStream.iterate(1, i -&gt; i + 2)\n         .limit(8)\n         .forEach(System.out::println);\n</code></pre>\n", "title": "Does Java 8 provide a good way to repeat a value or function?", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/18532488/does-java-8-provide-a-good-way-to-repeat-a-value-or-function/18532568#18532568", "question_id": 18532488, "answer_id": 18532568}, {"body": "<p>For completeness, and also because I couldn't help myself :)</p>\n\n<p>Generating a limited sequence of constants is fairly close to what you would see in Haskell, only with Java level verboseness.</p>\n\n<pre><code>IntStream.generate(() -&gt; 1)\n         .limit(8)\n         .forEach(System.out::println);\n</code></pre>\n", "title": "Does Java 8 provide a good way to repeat a value or function?", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/18532488/does-java-8-provide-a-good-way-to-repeat-a-value-or-function/18542407#18542407", "question_id": 18532488, "answer_id": 18542407}, {"body": "<p>Here's another technique I ran across the other day:</p>\n\n<pre><code>Collections.nCopies(8, 1)\n           .stream()\n           .forEach(i -&gt; System.out.println(i));\n</code></pre>\n\n<p>The <code>Collections.nCopies</code> call creates a <code>List</code> containing <code>n</code> copies of whatever value you provide. In this case it's the boxed <code>Integer</code> value 1. Of course it doesn't actually create a list with <code>n</code> elements; it creates a \"virtualized\" list that contains only the value and the length, and any call to <code>get</code> within range just returns the value. The <code>nCopies</code> method has been around since the Collections Framework was introduced way back in JDK 1.2. Of course, the ability to create a stream from its result was added in Java SE 8.</p>\n\n<p>Big deal, another way to do the same thing in about the same number of lines.</p>\n\n<p>However, this technique is faster than the <code>IntStream.generate</code> and <code>IntStream.iterate</code> approaches, and surprisingly, it's also faster than the <code>IntStream.range</code> approach.</p>\n\n<p>For <code>iterate</code> and <code>generate</code> the result is perhaps not too surprising. The streams framework (really, the Spliterators for these streams) is built on the assumption that the lambdas will potentially generate different values each time, and that they will generate an unbounded number of results. This makes parallel splitting particularly difficult. The <code>iterate</code> method is also problematic for this case because each call requires the result of the previous one. So the streams using <code>generate</code> and <code>iterate</code> don't do very well for generating repeated constants.</p>\n\n<p>The relatively poor performance of <code>range</code> is surprising. This too is virtualized, so the elements don't actually all exist in memory, and the size is known up front. This should make for a fast and easily parallelizable spliterator. But it surprisingly didn't do very well. Perhaps the reason is that <code>range</code> has to compute a value for each element of the range and then call a function on it. But this function just ignores its input and returns a constant, so I'm surprised this isn't inlined and killed.</p>\n\n<p>The <code>Collections.nCopies</code> technique has to do boxing/unboxing in order to handle the values, since there are no primitive specializations of <code>List</code>. Since the value is the <strong>same</strong> every time, it's basically boxed once and that box is shared by all <code>n</code> copies. I suspect boxing/unboxing is highly optimized, even intrinsified, and it can be inlined well.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>    public static final int LIMIT = 500_000_000;\n    public static final long VALUE = 3L;\n\n    public long range() {\n        return\n            LongStream.range(0, LIMIT)\n                .parallel()\n                .map(i -&gt; VALUE)\n                .map(i -&gt; i % 73 % 13)\n                .sum();\n}\n\n    public long ncopies() {\n        return\n            Collections.nCopies(LIMIT, VALUE)\n                .parallelStream()\n                .mapToLong(i -&gt; i)\n                .map(i -&gt; i % 73 % 13)\n                .sum();\n}\n</code></pre>\n\n<p>And here are the JMH results: (2.8GHz Core2Duo)</p>\n\n<pre><code>Benchmark                    Mode   Samples         Mean   Mean error    Units\nc.s.q.SO18532488.ncopies    thrpt         5        7.547        2.904    ops/s\nc.s.q.SO18532488.range      thrpt         5        0.317        0.064    ops/s\n</code></pre>\n\n<p>There is a fair amount of variance in the ncopies version, but overall it seems comfortably 20x faster than the range version. (I'd be quite willing to believe that I've done something wrong, though.)</p>\n\n<p>I'm surprised at how well the <code>nCopies</code> technique works. Internally it doesn't do very much special, with the stream of the virtualized list simply being implemented using <code>IntStream.range</code>! I had expected that it would be necessary to create a specialized spliterator to get this to go fast, but it already seems to be pretty good.</p>\n", "title": "Does Java 8 provide a good way to repeat a value or function?", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/18532488/does-java-8-provide-a-good-way-to-repeat-a-value-or-function/24296741#24296741", "question_id": 18532488, "answer_id": 24296741}, {"body": "<p>Once a repeat function is somewhere defined as</p>\n\n<pre><code>public static BiConsumer&lt;Integer, Runnable&gt; repeat = (n, f) -&gt; {\n    for (int i = 1; i &lt;= n; i++)\n        f.run();\n};\n</code></pre>\n\n<p>You can use it now and then this way, e.g.:</p>\n\n<pre><code>repeat.accept(8, () -&gt; System.out.println(\"Yes\"));\n</code></pre>\n\n<p>To get and equivalent to Haskell's </p>\n\n<pre><code>take 8 (repeat 1)\n</code></pre>\n\n<p>You could write</p>\n\n<pre><code>StringBuilder s = new StringBuilder();\nrepeat.accept(8, () -&gt; s.append(\"1\"));\n</code></pre>\n", "title": "Does Java 8 provide a good way to repeat a value or function?", "tags": ["java", "java-8"], "link": "http://stackoverflow.com/questions/18532488/does-java-8-provide-a-good-way-to-repeat-a-value-or-function/33142346#33142346", "question_id": 18532488, "answer_id": 33142346}], "creation_date": 1377864201, "score": 62, "link": "http://stackoverflow.com/questions/18532488/does-java-8-provide-a-good-way-to-repeat-a-value-or-function", "question_id": 18532488}, {"body": "<p>I wonder, if there is any annotation for a <code>Filter</code> class (for web applications) in Spring Boot? Perhaps <code>@Filter</code>? </p>\n\n<p>I want to add a custom filter in my project.</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\">The Spring Boot Reference Guide</a> mentioned about \n<code>FilterRegistrationBean</code>, but I am not sure how to use it.</p>\n", "tags": ["java", "configuration", "spring-boot", "servlet-filters"], "title": "How to add a filter class in Spring Boot?", "answers": [{"body": "<p>There isn't a special annotation to denote a servlet filter. You just declare a <code>@Bean</code> of type <code>Filter</code> (or <code>FilterRegistrationBean</code>). An example (adding a custom header to all responses) is in Boot's own <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.java?source=c#L117\">EndpointWebMvcAutoConfiguration</a>;</p>\n\n<p>If you only declare a <code>Filter</code> it will be applied to all requests. If you also add a <code>FilterRegistrationBean</code> you can additionally specify individual servlets and url patterns to apply.</p>\n", "title": "How to add a filter class in Spring Boot?", "tags": ["java", "configuration", "spring-boot", "servlet-filters"], "link": "http://stackoverflow.com/questions/19825946/how-to-add-a-filter-class-in-spring-boot/19830906#19830906", "question_id": 19825946, "answer_id": 19830906}, {"body": "<p>Here is an example of one method of including a custom filter in a Spring Boot MVC application.  Be sure to include the package in a component scan:</p>\n\n<pre><code>package com.dearheart.gtsc.filters;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class XClacksOverhead implements Filter {\n\n  public static final String X_CLACKS_OVERHEAD = \"X-Clacks-Overhead\";\n\n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res,\n      FilterChain chain) throws IOException, ServletException {\n\n    HttpServletResponse response = (HttpServletResponse) res;\n    response.setHeader(X_CLACKS_OVERHEAD, \"GNU Terry Pratchett\");\n    chain.doFilter(req, res);\n  }\n\n  @Override\n  public void destroy() {}\n\n  @Override\n  public void init(FilterConfig arg0) throws ServletException {}\n\n}\n</code></pre>\n", "title": "How to add a filter class in Spring Boot?", "tags": ["java", "configuration", "spring-boot", "servlet-filters"], "link": "http://stackoverflow.com/questions/19825946/how-to-add-a-filter-class-in-spring-boot/29198075#29198075", "question_id": 19825946, "answer_id": 29198075}, {"body": "<p>If you want to setup a third-party filter you can use <code>FilterRegistrationBean</code>.\nFor example the equivalent of web.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n     &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.somecompany.SomeFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/url/*&lt;/url-pattern&gt;\n    &lt;init-param&gt;\n       &lt;param-name&gt;paramName&lt;/param-name&gt;\n       &lt;param-value&gt;paramValue&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>These will be the two beans in your <code>@Configuration</code> file</p>\n\n<pre><code>@Bean\npublic FilterRegistrationBean someFilterRegistration() {\n\n    FilterRegistrationBean registration = new FilterRegistrationBean();\n    registration.setFilter(someFilter());\n    registration.addUrlPatterns(\"/url/*\");\n    registration.addInitParameter(\"paramName\", \"paramValue\");\n    registration.setName(\"someFilter\");\n    registration.setOrder(1);\n    return registration;\n} \n\n@Bean(name = \"someFilter\")\npublic Filter someFilter() {\n    return new SomeFilter();\n}\n</code></pre>\n\n<p>The above was tested with spring-boot 1.2.3</p>\n", "title": "How to add a filter class in Spring Boot?", "tags": ["java", "configuration", "spring-boot", "servlet-filters"], "link": "http://stackoverflow.com/questions/19825946/how-to-add-a-filter-class-in-spring-boot/30658752#30658752", "question_id": 19825946, "answer_id": 30658752}, {"body": "<p>There are three ways to add your filter,</p>\n\n<ol>\n<li>Annotate your filter with one of the Spring stereotypes such as <code>@Component</code> </li>\n<li>Register a <code>@Bean</code> with <code>Filter</code> type in Spring <code>@Configuration</code></li>\n<li>Register a <code>@Bean</code> with <code>FilterRegistrationBean</code> type in Spring <code>@Configuration</code></li>\n</ol>\n\n<p>Either #1 or #2 will do if you want your filter applies to all requests without customization, use #3 otherwise. You don't need to specify component scan for #1 to work as long as you place your filter class in the same or sub-package of your <code>SpringApplication</code> class.  For #3, use along with #2 is only necessary when you want Spring to manage your filter class such as have it auto wired dependencies.  It works just fine for me to new my filter which doesn't need any dependency autowiring/injection. </p>\n\n<p>Although combining #2 and #3 works fine, I was surprised it doesn't end up with two filters applying twice.  My guess is that Spring combines the two beans as one when it calls the same method to create both of them.  In case you want to use #3 alone with authowiring, you can <code>AutowireCapableBeanFactory</code>. The following is an example, </p>\n\n<pre><code>private @Autowired AutowireCapableBeanFactory beanFactory;\n\n    @Bean\n    public FilterRegistrationBean myFilter() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        Filter myFilter = new MyFilter();\n        beanFactory.autowireBean(myFilter);\n        registration.setFilter(myFilter);\n        registration.addUrlPatterns(\"/myfitlerpath/*\");\n        return registration;\n    }\n</code></pre>\n", "title": "How to add a filter class in Spring Boot?", "tags": ["java", "configuration", "spring-boot", "servlet-filters"], "link": "http://stackoverflow.com/questions/19825946/how-to-add-a-filter-class-in-spring-boot/34302505#34302505", "question_id": 19825946, "answer_id": 34302505}, {"body": "<p>From Spring docs,</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html\" rel=\"nofollow\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html</a></p>\n\n<blockquote>\n  <p>To add a Servlet, Filter, or Servlet *Listener provide a <strong>@Bean</strong>\n  definition for it.</p>\n</blockquote>\n\n<p>Eg:</p>\n\n<pre><code>@Bean\npublic Filter compressFilter() {\n    CompressingFilter compressFilter = new CompressingFilter();\n    return compressFilter;\n}\n</code></pre>\n\n<p>Add this <code>@Bean</code> config to your <code>@Configuration</code> class and filter will be registered on startup.</p>\n\n<p>Also you can add Servlets, Filters, and Listeners using classpath scanning,</p>\n\n<blockquote>\n  <p>@WebServlet, @WebFilter, and @WebListener annotated classes can be\n  automatically registered with an embedded servlet container by\n  annotating a @Configuration class with @ServletComponentScan and\n  specifying the package(s) containing the components that you want to\n  register. By default, @ServletComponentScan will scan from the package\n  of the annotated class.</p>\n</blockquote>\n", "title": "How to add a filter class in Spring Boot?", "tags": ["java", "configuration", "spring-boot", "servlet-filters"], "link": "http://stackoverflow.com/questions/19825946/how-to-add-a-filter-class-in-spring-boot/38830715#38830715", "question_id": 19825946, "answer_id": 38830715}], "creation_date": 1383785536, "score": 61, "link": "http://stackoverflow.com/questions/19825946/how-to-add-a-filter-class-in-spring-boot", "question_id": 19825946}], "quota_max": 300, "page_size": 100, "quota_remaining": 101, "page": 1}