{"has_more": true, "items": [{"body": "<p>I committed the wrong files to Git.</p>\n\n<p>How can I undo this commit?</p>\n", "title": "How to undo last commit(s) in Git?", "tags": ["git", "git-commit", "git-reset", "git-revert"], "answer_count": 46, "link": "http://stackoverflow.com/questions/927358/how-to-undo-last-commits-in-git", "answers": [{"body": "<pre class=\"lang-bash prettyprint-override\"><code>git rm yourfiles/*.class\ngit commit -a -m \"deleted all class files in folder 'yourfiles'\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n\n<p><strong>Warning: The above command will permanently remove the modifications to the <code>.java</code> files (and any other files) that you wanted to commit.</strong></p>\n\n<p>The hard reset to HEAD-1 will set your working copy to the state of the commit before your wrong commit.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 927378, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h3>Undo a commit and redo</h3>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ git commit -m \"Something terribly misguided\"              (1)\n$ git reset HEAD~                                           (2)\n&lt;&lt; edit files as necessary &gt;&gt;                               (3)\n$ git add ...                                               (4)\n$ git commit -c ORIG_HEAD                                   (5)\n</code></pre>\n\n<ol>\n<li><p>This is what you want to undo</p></li>\n<li><p>This leaves your working tree (the state of your files on disk) unchanged but undoes the commit and leaves the changes you committed unstaged (so they'll appear as \"Changes not staged for commit\" in <code>git status</code> and you'll need to add them again before committing). If you <em>only</em> want to <em>add</em> more changes to the previous commit, or change the commit message<sup>1</sup>, you could use <code>git reset --soft HEAD~</code> instead, which is like <code>git reset HEAD~</code> but leaves your existing changes staged.</p></li>\n<li><p>Make corrections to working tree files.</p></li>\n<li><p><code>git add</code> whatever you want to include in your new commit.</p></li>\n<li><p>Commit the changes, reusing the old commit message. <code>reset</code> copied the old head to <code>.git/ORIG_HEAD</code>; <code>commit</code> with <code>-c ORIG_HEAD</code> will open an editor, which initially contains the log message from the old commit and allows you to edit it. If you do not need to edit the message, you could use the <code>-C</code> option instead.</p></li>\n</ol>\n\n<hr>\n\n<p><sup>1</sup> Note, however, that you don't need to reset to an earlier commit if you just made a mistake in your <em>commit message</em>. The easier option is to <code>git reset</code> (to unstage any changes you've made since) and then <a href=\"http://stackoverflow.com/q/179123/1146608\"><code>git commit --amend</code></a>, which will open your default commit message editor pre-populated with the last commit message. </p>\n\n<p>Beware however that if you have added any new changes to the index, using <code>commit --amend</code> will add them to your previous commit.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 927386, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Add/remove files to get things the way you want:</p>\n\n<pre><code>git rm classdir\ngit add sourcedir\n</code></pre>\n\n<p>Then amend the commit:</p>\n\n<pre><code>git commit --amend\n</code></pre>\n\n<p>The previous, erroneous commit will be edited to reflect the new index state - in other words, it'll be like you never made the mistake in the first place :)</p>\n\n<p>Note that you should only do this if you haven't pushed yet. If you have pushed, then you'll just have to commit a fix normally.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 927397, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h2>To change the last commit</h2>\n\n<p>Replace the files in the index:</p>\n\n<pre><code>git rm --cached *.class\ngit add *.java\n</code></pre>\n\n<p>Then, if it's a private branch, <strong>amend</strong> the commit:</p>\n\n<pre><code>git commit --amend\n</code></pre>\n\n<p>Or, if it's a shared branch, make a new commit:</p>\n\n<pre><code>git commit -m 'Replace .class files with .java files'\n</code></pre>\n\n<p><br>\n<em>(<strong>to change a previous commit</strong>, use the awesome <a href=\"http://stackoverflow.com/a/28421811/405550\">interactive rebase</a>)</em></p>\n\n<hr>\n\n<p>ProTip\u2122: \u00a0 Add <code>*.class</code> to a <a href=\"https://help.github.com/articles/ignoring-files\">gitignore</a> to stop this happening again.</p>\n\n<hr>\n\n<h2>To revert a commit</h2>\n\n<p>Amending a commit is the ideal solution if you need to change the last commit, but a more general solution is <code>reset</code>.</p>\n\n<p>You can reset git to any commit with:</p>\n\n<pre><code>git reset @~N\n</code></pre>\n\n<p>Where <code>N</code> is the number of commits before <code>HEAD</code>, and <code>@~</code> resets to the previous commit.</p>\n\n<p>So, instead of amending the commit, you could use:</p>\n\n<pre><code>git reset @~\ngit add *.java\ngit commit -m \"Add .java files\"\n</code></pre>\n\n<p>Check out <code>git help reset</code>, specifically the sections on <code>--soft</code> <code>--mixed</code> and <code>--hard</code>, for a better understanding of what this does.</p>\n\n<h2>Reflog</h2>\n\n<p>If you mess up, you can always use the reflog to find dropped commits:</p>\n\n<pre><code>$ git reset @~\n$ git reflog\nc4f708b HEAD@{0}: reset: moving to @~\n2c52489 HEAD@{1}: commit: added some .class files\n$ git reset 2c52489\n... and you're back where you started\n</code></pre>\n\n<p><br></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 3377569, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>This took me a while to figure out, so maybe this will help someone...</p>\n\n<p>There are two ways to \"undo\" your last commit, depending on whether or not you have already made your commit public (pushed to your remote repository):</p>\n\n<h2>How to undo a local commit</h2>\n\n<p>Lets say I committed locally, but now want to remove that commit.</p>\n\n<pre><code>git log\n    commit 101: bad commit    # latest commit, this would be called 'HEAD'\n    commit 100: good commit   # second to last commit, this is the one we want\n</code></pre>\n\n<p>To restore everything back to the way it was prior to the last commit, we need to <code>reset</code> to the commit before <code>HEAD</code>:</p>\n\n<pre><code>git reset --soft HEAD^     # use --soft if you want to keep your changes\ngit reset --hard HEAD^     # use --hard if you don't care about keeping the changes you made\n</code></pre>\n\n<p>Now <code>git log</code> will show that our last commit has been removed.</p>\n\n<h2>How to undo a public commit</h2>\n\n<p>If you have already made your commits public, you will want to create a new commit which will \"revert\" the changes you made in your previous commit (current HEAD).</p>\n\n<pre><code>git revert HEAD\n</code></pre>\n\n<p>Your changes will now be reverted and ready for you to commit:</p>\n\n<pre><code>git commit -m 'restoring the file I removed by accident'\ngit log\n    commit 102: restoring the file I removed by accident\n    commit 101: removing a file we dont need\n    commit 100: adding a file that we need\n</code></pre>\n\n<p>For more info, check out <a href=\"https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things\">Git Basics - Undoing Things</a></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 6376039, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Undoing a commit is a little scary if you don't know how it works.  But it's actually amazingly easy if you do understand.</p>\n\n<p>Say you have this, where C is your HEAD and (F) is the state of your files.</p>\n\n<pre><code>   (F)\nA-B-C\n    \u2191\n  master\n</code></pre>\n\n<p>You want to <strong>nuke commit C and never see it again</strong>.  You do this:</p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code> (F)\nA-B\n  \u2191\nmaster\n</code></pre>\n\n<p>Now B is the HEAD.  Because you used <code>--hard</code>, your files are reset to their state at commit B.</p>\n\n<p>Ah, but suppose commit C wasn't a disaster, but just a bit off.  You want to <strong>undo the commit but keep your changes</strong> for a bit of editing before you do a better commit.  Starting again from here, with C as your HEAD:</p>\n\n<pre><code>   (F)\nA-B-C\n    \u2191\n  master\n</code></pre>\n\n<p>You can do this, leaving off the <code>--hard</code>:</p>\n\n<pre><code>git reset HEAD~1\n</code></pre>\n\n<p>In this case the result is:</p>\n\n<pre><code>   (F)\nA-B-C\n  \u2191\nmaster\n</code></pre>\n\n<p>In both cases, HEAD is just a pointer to the latest commit.  When you do a <code>git reset HEAD~1</code>, you tell Git to move the HEAD pointer back one commit.  But (unless you use <code>--hard</code>) you leave your files as they were.  So now <code>git status</code> shows the changes you had checked into C.  You haven't lost a thing!</p>\n\n<p>For the lightest touch, you can even <strong>undo your commit but leave your files and your <a href=\"http://www.gitguys.com/topics/whats-the-deal-with-the-git-index/\">index</a></strong>:</p>\n\n<pre><code>git reset --soft HEAD~1\n</code></pre>\n\n<p>This not only leaves your files alone, it even leaves your <em>index</em> alone.  When you do <code>git status</code>, you'll see that the same files are in the index as before.  In fact, right after this command, you could do <code>git commit</code> and you'd be redoing the same commit you just had.</p>\n\n<p>One more thing: <strong>Suppose you destroy a commit</strong> as in the first example, <strong>but then discover you needed it after all</strong>?  Tough luck, right?</p>\n\n<p>Nope, there's <em>still</em> a way to get it back.  Type <code>git reflog</code> and you'll see a list of (partial) commit shas that you've moved around in.  Find the commit you destroyed, and do this:</p>\n\n<pre><code>git checkout -b someNewBranchName shaYouDestroyed\n</code></pre>\n\n<p>You've now resurrected that commit.  Commits don't actually get destroyed in Git for some 90 days, so you can usually go back and rescue one you didn't mean to get rid of.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 6866485, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>If you have <a href=\"https://github.com/visionmedia/git-extras\">Git Extras</a> installed, you can run <code>git undo</code> to undo the latest commit. <code>git undo 3</code> will undo the last 3 commits.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 8487487, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>I wanted to undo the lastest 5 commits in our shared repository. I looked up the revision id that I wanted to rollback to. Then I typed in the following.</p>\n\n<pre><code>prompt&gt; git reset --hard 5a7404742c85\nHEAD is now at 5a74047 Added one more page to catalogue\nprompt&gt; git push origin master --force\nTotal 0 (delta 0), reused 0 (delta 0)\nremote: bb/acl: neoneye is allowed. accepted payload.\nTo git@bitbucket.org:thecompany/prometheus.git\n + 09a6480...5a74047 master -&gt; master (forced update)\nprompt&gt;\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 10044540, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Use <code>git revert commit-id</code></p>\n\n<p>To get the commit ID, just use <code>git log</code></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 10757800, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>I prefer to use <code>git rebase -i</code> for this job, because a nice list pops up where I can choose the commits to get rid of. It might not be as direct as some other answers here, but it just <em>feels right</em>.</p>\n\n<p>Choose how many commits you want to list, then invoke like this (to enlist last three)</p>\n\n<pre><code>git rebase -i HEAD~3\n</code></pre>\n\n<p>Sample list</p>\n\n<pre><code>pick aa28ba7 Sanity check for RtmpSrv port\npick c26c541 RtmpSrv version option\npick 58d6909 Better URL decoding support\n</code></pre>\n\n<p>Then git will remove commits for any line that you remove.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 13061212, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>If you are planning undoing a local commit entirely, whatever you changes you did on the commit, and if you don't worry anything about that, just do the following command.</p>\n\n<pre><code>git reset --hard HEAD^1\n</code></pre>\n\n<p>(This command will ignore your entire commit and your changes will be lost completely from your local working tree). If you want undo your commit, but you want changes you did on the commit into the staging area (before commit just like after <code>git add</code> called the staging area) then do the following command.</p>\n\n<pre><code>git reset --soft HEAD^1\n</code></pre>\n\n<p>Now your committed files comes into the staging area. Suppose if you want to unstage the files, because you need to edit some wrong conent, then do the following command</p>\n\n<pre><code>git reset HEAD\n</code></pre>\n\n<p>Now committed files come from the staged area into the unstaged area. Now files are ready to edit, so whatever you changes, you want go edit and added it and make a fresh/new commit.</p>\n\n<p><a href=\"http://madhan-tech-updates.blogspot.in/2013/01/how-to-undo-your-local-git-commit.html\">More</a></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 14620228, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h2>How to fix the previous local commit</h2>\n\n<p>Use git-gui (or similar) to perform a <code>git commit --amend</code>. From the GUI you can add or remove individual files from the commit. You can also modify the commit message. </p>\n\n<h2>How to undo the previous local commit</h2>\n\n<p>Just reset your branch to the previous location (for example, using <code>gitk</code> or <code>git rebase</code>). Then reapply your changes from a saved copy. After garbage collection in your local repository, it will be like the unwanted commit never happened. To do all of that in a single command, use <code>git reset HEAD~1</code>.</p>\n\n<p><strong>Word of warning</strong>: <em>Careless use of <code>git reset</code> is a good way to get your working copy into a confusing state. I recommend that Git novices avoid this if they can.</em></p>\n\n<h2>How to undo a public commit</h2>\n\n<p>Perform a <a href=\"http://stackoverflow.com/a/1624724/86967\">reverse cherry pick</a> (<a href=\"http://git-scm.com/docs/git-revert.html\">git-revert</a>) to undo the changes.</p>\n\n<p>If you haven't yet pulled other changes onto your branch, you can simply do...</p>\n\n<pre><code>git revert --no-edit HEAD\n</code></pre>\n\n<p>Then push your updated branch to the shared repository.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 16175525, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Another way:</p>\n\n<p>Checkout the branch you want to revert, then reset your local working copy back to the commit that you want to be the latest one on the remote server (everything after it will go bye-bye). To do this, in SourceTree I right-clicked on the and selected \"Reset BRANCHNAME to this commit\".</p>\n\n<p>Then navigate to your repository's local directory and run this command:</p>\n\n<pre><code>git -c diff.mnemonicprefix=false -c core.quotepath=false push -v -f --tags REPOSITORY_NAME BRANCHNAME:BRANCHNAME\n</code></pre>\n\n<p>This will erase all commits after the current one in your local repository but only for that one branch.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 16527510, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Type <code>git log</code> and find the last commit hash code and then enter:</p>\n\n<pre><code>git reset &lt;the previous co&gt;\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 16565962, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>If you want to permanently undo it and you have cloned some repository </p>\n\n<p>The commit id can be seen by </p>\n\n<pre><code>git log \n</code></pre>\n\n<p>Then you can do -</p>\n\n<pre><code>git reset --hard &lt;commit_id&gt;\n\ngit push origin &lt;branch_name&gt; -f\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 16609755, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>On <a href=\"https://www.atlassian.com/software/sourcetree/overview\">SourceTree</a> (GUI for GitHub), you may right-click the commit and do a 'Reverse Commit'. This should undo your changes.</p>\n\n<p>On the terminal:</p>\n\n<p>You may alternatively use:</p>\n\n<pre><code>git revert\n</code></pre>\n\n<p>Or:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git reset --soft HEAD^ # Use --soft if you want to keep your changes.\ngit reset --hard HEAD^ # Use --hard if you don't care about keeping your changes.\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 17362437, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>In my case I accidentally committed some files I did not want to. So I did the following and it worked:</p>\n\n<pre><code>git reset --soft HEAD^\ngit rm --cached [files you do not need]\ngit add [files you need]\ngit commit -c ORIG_HEAD\n</code></pre>\n\n<p>Verify the results with gitk or git log --stat</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 17716319, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Use <a href=\"https://www.atlassian.com/software/sourcetree/overview\">SourceTree</a> (graphical tool for Git) to see your comments and tree. You can manually reset it directly by right clicking it.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 18516122, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>\"Reset the working tree to the last commit\"</p>\n\n<pre><code>git reset --hard HEAD^ \n</code></pre>\n\n<p>\"Clean unknown files from the working tree\"</p>\n\n<pre><code>git clean    \n</code></pre>\n\n<p>see - <a href=\"http://jonas.nitro.dk/git/quick-reference.html\">Git Quick Reference</a></p>\n\n<p>NOTE: This command will delete your previous commit, so use with caution! git reset --hard is safer \u2013</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 19159566, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>First run: </p>\n\n<pre><code>git reflog\n</code></pre>\n\n<p>It will show you all the possible actions you have performed on your repository, for example, commit, merge, pull, etc.</p>\n\n<p>Then do:</p>\n\n<pre><code>git reset --hard ActionIdFromRefLog\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 19320941, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Use reflog to find a correct state</p>\n\n<pre><code>git reflog\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/c7e7D.png\" alt=\"reflog before\">\n<em>REFLOG BEFORE RESET</em></p>\n\n<p>Select the correct reflog (f3cb6e2 in my case) and type </p>\n\n<pre><code>git reset --hard f3cb6e2\n</code></pre>\n\n<p>After that the repo HEAD will be reset to that HEADid\n<img src=\"http://i.stack.imgur.com/GdnDT.png\" alt=\"reset effect\">\n<em>LOG AFTER RESET</em></p>\n\n<p>Finally the reflog looks like the picture below</p>\n\n<p><img src=\"http://i.stack.imgur.com/Fhhub.png\" alt=\"reflog after\">\n<em>REFLOG FINAL</em></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 20960584, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>This <strong>article</strong> has an <strong>excellent explanation</strong> as to how to go <strong>about various scenarios</strong> (where a commit has been done as well as the push OR just a commit, before the push):</p>\n\n<p><a href=\"http://christoph.ruegg.name/blog/git-howto-revert-a-commit-already-pushed-to-a-remote-reposit.html\">http://christoph.ruegg.name/blog/git-howto-revert-a-commit-already-pushed-to-a-remote-reposit.html</a></p>\n\n<p>From the article, the <strong>easiest command</strong> I saw to <strong>revert a previous commit by its commit id</strong>, was:</p>\n\n<pre><code>git revert dd61ab32\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 21615125, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h3>For a local commit</h3>\n\n<pre><code>git reset --soft HEAD~1\n</code></pre>\n\n<p>or if you do not remember exactly in which commit it is, you might use</p>\n\n<pre><code>git rm --cached &lt;file&gt;\n</code></pre>\n\n<h3>For a pushed commit</h3>\n\n<p>The proper way of removing files from the repository history is using <code>git filter-branch</code>. That is,</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --index-filter 'git rm --cached &lt;file&gt;' HEAD\n</code></pre>\n\n<p>But I recomnend you use this command with care. Read more at <em><a href=\"https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html\">git-filter-branch(1) Manual Page</a></em>.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 22163029, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>A single command:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git reset --soft 'HEAD^' \n</code></pre>\n\n<p>It works great to undo the last local commit!</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 22199804, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p><strong>How to undo the last Git commit?</strong></p>\n\n<p>To restore everything back to the way it was prior to the last commit, we need to reset to the commit before HEAD.</p>\n\n<ol>\n<li><p>If you don't want to keep your changes that you made:</p>\n\n<pre><code>git reset --hard HEAD^\n</code></pre></li>\n<li><p>If you want to keep your changes:</p>\n\n<pre><code>git reset --soft HEAD^\n</code></pre></li>\n</ol>\n\n<p>Now check your git log, it will show that our last commit has been removed.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 23242764, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>All you need to do is this. </p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 25553225, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>If you have committed junk but not pushed,</p>\n\n<pre><code>git reset --soft HEAD~1\n</code></pre>\n\n<blockquote>\n  <p><strong>HEAD~1</strong> is a shorthand for the commit before head. Alternatively you can refer to the <strong>SHA-1</strong> of the hash if you want to reset to. <em>--soft</em> option will delete the commit but it will leave all your changed files \"Changes to be committed\", as git status would put it.</p>\n  \n  <p>If you want to get rid of any changes to tracked files in the working tree since the commit before head use \"<strong>--hard</strong>\" instead.</p>\n</blockquote>\n\n<p>OR</p>\n\n<blockquote>\n  <p>If you already pushed and someone pulled which is usually my case, you can't use <em>git reset</em>. You can however do a <em>git revert</em>,</p>\n</blockquote>\n\n<pre><code>git revert HEAD\n</code></pre>\n\n<blockquote>\n  <p>This will create a new commit that reverses everything introduced by the accidental commit.</p>\n</blockquote>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 25638420, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>There are two main scenarios</p>\n\n<p><strong>You haven't pushed the commit yet</strong></p>\n\n<p>If the problem was extra files you commited (and you don't want those on repository), you can remove them using <code>git rm</code> and then commiting with <code>--amend</code></p>\n\n<pre><code>git rm &lt;pathToFile&gt;\n</code></pre>\n\n<p>You can also remove entire directories with <code>-r</code>, or even combine with other <a href=\"http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29\">Bash</a> commands</p>\n\n<pre><code>git rm -r &lt;pathToDirectory&gt;\ngit rm $(find -name '*.class')\n</code></pre>\n\n<p>After removing the files, you can commit, with <strong>--amend</strong> option</p>\n\n<pre><code>git commit --amend -C HEAD # the -C option is to use the same commit message\n</code></pre>\n\n<p>This will rewrite your recent local commit removing the extra files, so, these files will never be sent on push and also will be removed from your local .git repository by GC.</p>\n\n<p><strong>You already pushed the commit</strong></p>\n\n<p>You can apply the same solution of the other scenario and then doing <code>git push</code> with the <code>-f</code> option, but it is <strong>not recommended</strong> since it overwrites the remote history with a divergent change (it can mess your repository).</p>\n\n<p>Instead, you have to do the commit without <code>--amend</code> (remember this about -amend`: That option rewrites the history on the last commit).</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 25811069, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Usually, you want to <strong>undo</strong> a commit because you made a mistake and you want to fix it - essentially what the OP did when he asked the question. So really, you actually want to <strong>redo</strong> a commit.</p>\n\n<p>Most of the answers here focus on the command line. While the command line is the best way to use Git when you're comfortable with it, its probably a bit alien to those coming from other version control systems to Git. </p>\n\n<p>Here's how to do it using a GUI. If you have Git installed, you already have everything you need to follow these instructions.</p>\n\n<p><strong>NOTE:</strong> I will assume here that you realised the commit was wrong before you pushed it. If you don't know what pushing is, you probably haven't pushed, so carry on with the instructions. If you have pushed the faulty commit, the least risky way is just to follow up the faulty commit with a new commit that fixes things, the way you would do it in a version control system that does not allow you to rewrite history. </p>\n\n<p>That said, here's how to fix your most recent fault commit using a GUI:</p>\n\n<ol>\n<li>Navigate to your repository on the command line and start the gui with <code>git gui</code></li>\n<li>Choose \"Amend last commit\". You will see your last commit message, the files you staged and the files you didn't.</li>\n<li>Now change things to how you want them to look and click Commit. </li>\n</ol>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 27002094, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Just undo the last commit: </p>\n\n<pre><code>git reset --soft HEAD~\n</code></pre>\n\n<p>Or undo the time before last time commit: </p>\n\n<pre><code>git reset --soft HEAD~2\n</code></pre>\n\n<p>Or undo any previous commit: </p>\n\n<pre><code>git reset --soft &lt;commitID&gt;\n</code></pre>\n\n<p>(you can get the commitID using <code>git reflog</code>)</p>\n\n<p>When you undo a previous commit, remember to clean the workplace with</p>\n\n<pre><code>git clean\n</code></pre>\n\n<p>More details can be found in the docs: <a href=\"http://git-scm.com/docs/git-reset\">git-reset</a></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 30118831, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>You need to do the easy and fast</p>\n\n<pre><code>    git commit --amend\n</code></pre>\n\n<p>if it's a private branch or</p>\n\n<pre><code>    git commit -m 'Replace .class files with .java files'\n</code></pre>\n\n<p>if it's a shared or public branch</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 30428348, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Use this command</p>\n\n<pre><code>git checkout -b old-state 0d1d7fc32\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 31241087, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>In my case I committed and pushed to the wrong branch, so what I wanted was to have all my changes back so I can commit them to a new correct branch, so I did this:</p>\n\n<p>On the same branch that you committed and pushed, if you type \"git status\" you wont't see anything new because you committed and pushed, now type:</p>\n\n<p><code>git reset --soft HEAD~1</code></p>\n\n<p>This will get all your changes(files) back in the stage area, now to get them back in the working directory(unstage) you just type:</p>\n\n<pre><code>git reset FILE\n</code></pre>\n\n<p>Where \"File\" is the file that you want to commit again. Now this FILE should be in the working directory(unstaged) with all the changes that you did. Now you can change to whatever branch that you want and commit the changes in that branch. Hope this helps other people that made the same mistake I did. Of course the initial branch that you committed is still there with all changes, but in my case that was ok, if it is not for you you can look for ways to revert that commit in that branch.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 31944160, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p><strong>Remove a wrong commit that is already pushed to Github</strong></p>\n\n<pre><code>git push origin +(previous good commit id):(branch name)\n</code></pre>\n\n<p>Please specify the last good commit id you would like to reset back in Github.</p>\n\n<p>For example. If latest commit id is wrong then specify the previous commit id in above git command with branch name. </p>\n\n<p>You can get previous commit id using <code>git log</code></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 34093958, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>you can always do a git checkout (SHA code) of the previous version and then commit again with the new code.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 34195835, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h3>A Typical Git Cycle</h3>\n\n<p>In speaking of git related commands in above answers, I would like to share my typical git cycles with all reader which may helpful. Here is how I work with git,</p>\n\n<ol>\n<li><p>Cloning the 1st time from remote server</p>\n\n<p><code>git clone $project</code></p></li>\n<li><p>Pulling from remote (when i don't have pending local commit to push)</p>\n\n<p><code>git pull</code></p></li>\n<li><p>Adding new local file1 into $to_be_committed_list (Just imagine $to_be_committed_list means <code>staged</code> area)</p>\n\n<p><code>git add $file1</code></p></li>\n<li><p>Removing mistakenly added file2 from $to_be_committed_list (Assume that file2 is added like step 3, which i didn't want)</p>\n\n<p><code>git reset $file2</code></p></li>\n<li><p>Committing file1 which is in $to_be_committed_list</p>\n\n<p><code>git commit -m \"commit message description\"</code></p></li>\n<li><p>Syncing local commit with remote repository before pushing</p>\n\n<p><code>git pull --rebase</code></p></li>\n<li><p>Resolving when conflict occurs <a href=\"https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration\">prerequisite configure mergetool</a></p>\n\n<p><code>git mergetool #resolve merging here, also can manually merge</code></p></li>\n<li><p>Adding conflict-resolved files let say file1</p>\n\n<p><code>git add $file1</code></p></li>\n<li><p>Continuing my previous rebase command</p>\n\n<p><code>git rebase --continue</code></p></li>\n<li><p>Pushing ready and already synced last local commit</p>\n\n<p><code>git push origin head:refs/for/$branch # branch = master, dev, etc.</code></p></li>\n</ol>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 34547846, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>To undo your local commit you use <code>git reset &lt;file&gt;</code> also that <a href=\"https://www.atlassian.com/git/tutorials/undoing-changes/git-reset\">tutorial</a> is very helpful to show you how it work, also you can use <code>git revert &lt;commit&gt;</code>, <a href=\"https://www.atlassian.com/git/tutorials/undoing-changes/git-revert/\">reverting</a> should be used when you want to remove an entire commit from your project history.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 34583071, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Simple, run this in your command line:</p>\n\n<pre><code>git reset --soft HEAD~ \n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 34635179, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>There are many ways to do it:</p>\n\n<p>git command to undo the last commit/ previous commits:</p>\n\n<p><strong>Basic command to revert the commit in git is:</strong></p>\n\n<pre><code>$ git reset --hard &lt;COMMIT -ID&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ git reset --hard HEAD~&lt;n&gt;\n</code></pre>\n\n<p><strong>COMMIT-ID</strong>: ID for the commit </p>\n\n<p><strong>n:</strong>  is number of last commits you want to revert </p>\n\n<p>You can get the commit id as shown below:</p>\n\n<pre><code>$ **git log --oneline**\n\nd81d3f1 function to subtract two numbers\n\nbe20eb8 function to add two numbers\n\nbedgfgg function to mulitply two numbers \n</code></pre>\n\n<p>where <strong>d81d3f1</strong> and <strong>be20eb8</strong> are commit id.</p>\n\n<p><strong>Now Lets see some cases:</strong></p>\n\n<p><em>Suppose you want to revert the last commit 'd81d3f1'. Below are the ways:</em></p>\n\n<pre><code>$ git reset --hard d81d3f1\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$ git reset --hard HEAD~1\n</code></pre>\n\n<p><em>Suppose you want to revert the commit 'be20eb8'. Below are the way:</em></p>\n\n<pre><code>$ git reset --hard be20eb8\n</code></pre>\n\n<p>For more detailed information you can refer and try out some other commands too for resetting head to a specified state:</p>\n\n<pre><code>$ git reset --help\n</code></pre>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 35472255, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h2>Undo last commit:-</h2>\n\n<p><code>git reset --soft HEAD^</code> or <code>git reset --soft HEAD~</code></p>\n\n<p>This will undo the last commit.</p>\n\n<p>Here <code>--soft</code> means reset into staging</p>\n\n<p><code>HEAD~</code> or <code>HEAD^</code> means move to commit before HEAD</p>\n\n<hr>\n\n<h2>Replace last commit to new commit:-</h2>\n\n<pre><code>git commit --amend -m \"message\"\n</code></pre>\n\n<p>It will replace last commit to new commit.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 35826537, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>I got the commit ID from <code>bitbucket</code> and then did :</p>\n\n<pre><code>git checkout commitID .\n</code></pre>\n\n<p>Example:  </p>\n\n<pre><code>git checkout 7991072 .\n</code></pre>\n\n<p>And it reverted it back up to that working copy of that commit. </p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 36040444, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p><strong>VISUAL STUDIO USERS  ( 2015 etc...)</strong></p>\n\n<p>If you cannot sync in VS as you are not allowed to Push to a branch like \"development\"   then as much as I tried,  in Visual Studio NEITHER the <strong>REVERT</strong> NOR the <strong>RESET</strong> (hard or soft) would work</p>\n\n<p>Per the Answer with TONS OF VOTES </p>\n\n<p>use this at command prompt of root of your project to nuke anything that will attempt to get pushed </p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n\n<p>Backup /zip your files just in case you don't wish to lose any work etc...  </p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 36876212, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>Just use <code>git reset --hard &lt;last good SHA&gt;</code> to reset your changes and give new commit. You can also use <code>git checkout -- &lt;bad filename&gt;</code>.</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 37510994, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>You can Use </p>\n\n<pre><code>git reset HEAD@{1}\n</code></pre>\n\n<p>this commend will delete your wrong commit without git log</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 38091882, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<h2>WHAT TO USE reset --soft or reset --hard ?</h2>\n\n<p>Just am adding two cents for @Kyralessa's answer, </p>\n\n<p>If you are unsure what to use go for <code>--soft</code>, (I used this convention to remember it --<strong>s</strong>oft for safe).</p>\n\n<h3>Why ?</h3>\n\n<p>If you choose <code>--hard</code> by mistake you will <strong>LOSE</strong> your changes as it wasn't before.<br>\nIf you choose <code>--soft</code> by mistake you can achieve the same results of <code>--hard</code> by applying additional commands</p>\n\n<pre><code>git reset HEAD file.html\ngit checkout -- file.html\n</code></pre>\n\n<h3>full example</h3>\n\n<pre><code>echo \"some changes...\" &gt; file.html\ngit add file.html\ngit commit -m \"wrong commit\"\n\n# I need to reset\ngit reset --hard HEAD~1 (cancel changes)\n# OR\ngit reset --soft HEAD~1 # back to staging\ngit reset HEAD file.html # back to working directory \ngit checkout -- file.html # cancel changes\n</code></pre>\n\n<p>Credits goes for @Kyralessa</p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 38629666, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}, {"body": "<p>If you are working with <strong>Source tree</strong>. This will help you.</p>\n\n<p><strong>Right click</strong> on the commit then <strong>select</strong> \"<em>Reset (current branch)/master to this commit</em>\" and last <strong>select</strong>  <em>\"Soft\" reset</em>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/BSMo2.png\"><img src=\"http://i.stack.imgur.com/BSMo2.png\" alt=\"enter image description here\"></a></p>\n", "title": "How to undo last commit(s) in Git?", "answer_id": 38656254, "question_id": 927358, "tags": ["git", "git-commit", "git-reset", "git-revert"]}], "question_id": 927358}, {"body": "<p>I've been messing around with <a href=\"http://en.wikipedia.org/wiki/JSON\">JSON</a> for some time, just pushing it out as text and it hasn't hurt anybody (that I know of), but I'd like to start doing things properly.</p>\n\n<p>I have seen <em>so</em> many purported \"standards\" for the JSON content type:</p>\n\n<pre><code>application/json\napplication/x-javascript\ntext/javascript\ntext/x-javascript\ntext/x-json\n</code></pre>\n\n<p>But which is correct, or best? I gather that there are security and browser support issues varying between them.</p>\n\n<p>I know there's a similar question, <em><a href=\"http://stackoverflow.com/questions/404470/what-mime-type-if-json-is-being-returned-by-a-rest-api\">What MIME type if JSON is being returned by a REST API?</a></em>, but I'd like a slightly more targeted answer.</p>\n", "title": "What is the correct JSON content type?", "tags": ["json", "content-type"], "answer_count": 31, "link": "http://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type", "answers": [{"body": "<p>For JSON text:</p>\n\n<blockquote>\n  <p>The MIME media type for JSON text is <strong><code>application/json</code></strong>. The default encoding is UTF-8. (Source: <a href=\"http://www.ietf.org/rfc/rfc4627.txt\">RFC 4627</a>).</p>\n</blockquote>\n\n<p>For <a href=\"http://en.wikipedia.org/wiki/JSONP\">JSONP</a> with callback:</p>\n\n<blockquote>\n  <p><strong><code>application/javascript</code></strong></p>\n</blockquote>\n\n<p>Here are some blog posts that were mentioned in the comments that are relevant.</p>\n\n<ul>\n<li><a href=\"http://jibbering.com/blog/?p=514\">Why you shouldn't use <code>text/html</code> for JSON</a></li>\n<li><a href=\"http://www.entwicklungsgedanken.de/2008/06/06/problems-with-internet-explorer-and-applicationjson/\">Internet&nbsp;Explorer sometimes has issues with <code>application/json</code></a></li>\n<li><a href=\"https://github.com/h5bp/server-configs-nginx/blob/master/mime.types\">A rather complete list of Mimetypes and what to use them for</a></li>\n</ul>\n", "title": "What is the correct JSON content type?", "answer_id": 477819, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>If you're calling ASP.NET Web Services from the client-side you have to use <code>application/json</code> for it to work. I believe this is the same for the <a href=\"http://en.wikipedia.org/wiki/JQuery\">jQuery</a> and <a href=\"http://en.wikipedia.org/wiki/Ext_%28JavaScript_library%29\">Ext</a> frameworks. </p>\n", "title": "What is the correct JSON content type?", "answer_id": 477821, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>Of course, the correct MIME media type for JSON is <code>application/json</code>, but it's necessary to realize what type of data is expected in your application.</p>\n\n<p>For example, I use <a href=\"http://www.sencha.com/products/extgwt/\">Ext GWT</a> and the server response must go as <strong>text/html</strong> but contains JSON data.</p>\n\n<p><em>Client side, Ext GWT form listener</em></p>\n\n<pre><code>uploadForm.getForm().addListener(new FormListenerAdapter()\n{\n    @Override\n    public void onActionFailed(Form form, int httpStatus, String responseText) \n    {\n        MessageBox.alert(\"Error\");\n    }\n\n    @Override\n    public void onActionComplete(Form form, int httpStatus, String responseText) \n    {\n        MessageBox.alert(\"Success\");\n    }\n});\n</code></pre>\n\n<p>In case of using <strong>application/json</strong> response type, the browser suggests me to save the file.</p>\n\n<p><em>Server side source code snippet using <a href=\"http://en.wikipedia.org/wiki/Spring_Framework#Model-view-controller_framework\">Spring MVC</a></em></p>\n\n<pre><code>return new AbstractUrlBasedView() \n{\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    protected void renderMergedOutputModel(Map model, HttpServletRequest request,\n                                           HttpServletResponse response) throws Exception \n    {\n        response.setContentType(\"text/html\");\n        response.getWriter().write(json);\n    }\n};\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 1532020, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p><a href=\"http://www.iana.org\">IANA</a> has registered the official mimetype for JSON as <strong><code>application/json</code></strong>.</p>\n\n<p>When asked about why not <code>text/json</code>, Crockford seems to have said JSON is not really JavaScript nor text and also IANA was more likely to hand out <code>application/*</code> than <code>text/*</code>.</p>\n\n<p>More resources:</p>\n\n<ul>\n<li><a href=\"http://www.iana.org/assignments/media-types/application/\">Media Types</a></li>\n<li><a href=\"http://www.ietf.org/rfc/rfc4627.txt\">Request for Comments 4627</a></li>\n<li><a href=\"http://bluesmoon.livejournal.com/227190.html\">bluesmoon: JSON has a type</a></li>\n</ul>\n", "title": "What is the correct JSON content type?", "answer_id": 2590013, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>If you are using Ubuntu or Debian and you serve .json files through Apache, you might want to serve the files with the correct content type. I am doing this primarily because I want to use the Firefox extension <a href=\"https://addons.mozilla.org/en-US/firefox/addon/10869/\">JSONView</a></p>\n\n<p>The Apache module <a href=\"http://httpd.apache.org/docs/current/mod/mod_mime.html\">mod_mime</a> will help to do this easily. However, with Ubuntu you need to edit the file <em>/etc/mime.types</em> and add the line</p>\n\n<pre><code>application/json json\n</code></pre>\n\n<p>Then restart Apache:</p>\n\n<pre><code>sudo service apache2 restart\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 4199917, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>Not everything works for content type <code>application/json</code>.</p>\n\n<p>If you are using <a href=\"http://en.wikipedia.org/wiki/Ext_JS\">Ext&nbsp;JS</a> form submit to upload file, be aware that the server response is parsed by the browser to create the document for the <code>&lt;iframe&gt;</code>.</p>\n\n<p>If the server is using JSON to send the return object, then the <code>Content-Type</code> header must be set to <code>text/html</code> in order to tell the browser to insert the text unchanged into the document body.</p>\n\n<p>See <a href=\"http://dev.sencha.com/deploy/ext-3.4.0/docs/\">the Ext JS 3.4.0 API documentation</a>.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 7328339, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>Only when using <code>application/json</code> as the <a href=\"http://en.wikipedia.org/wiki/MIME\">MIME</a> type I have the following (as of November 2011 with the most recent versions of Chrome, Firefox with <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\">Firebug</a>):</p>\n\n<ul>\n<li>No more warnings from Chrome when the JSON is loaded from the server.</li>\n<li>Firebug will add a tab to the response showing you the JSON data\nformatted. If the MIME type is different, it will just show up as\n'Response content'.</li>\n</ul>\n", "title": "What is the correct JSON content type?", "answer_id": 8322081, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>The right content type for JSON is <code>application/json</code> UNLESS you're using <a href=\"http://en.wikipedia.org/wiki/JSONP\">JSONP</a>, also known as JSON with Padding, which is actually JavaScript and so the right content type would be <code>application/javascript</code>.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 10117198, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>There is no doubt that <code>application/json</code> is the best <a href=\"http://en.wikipedia.org/wiki/MIME\">MIME</a> type for a JSON response.</p>\n\n<p>But I had some experience where I had to use <code>application/x-javascript</code> because of some compression issues. My hosting environment is shared hosting with <a href=\"http://en.wikipedia.org/wiki/Go_Daddy\">GoDaddy</a>. They do not allow me to change server configurations. I had added the following code to my <code>web.config</code> file for compressing responses.</p>\n\n<pre><code>&lt;httpCompression&gt;\n    &lt;scheme name=\"gzip\" dll=\"%Windir%\\system32\\inetsrv\\gzip.dll\"/&gt;\n    &lt;dynamicTypes&gt;\n        &lt;add mimeType=\"text/*\" enabled=\"true\"/&gt;\n        &lt;add mimeType=\"message/*\" enabled=\"true\"/&gt;\n        &lt;add mimeType=\"application/javascript\" enabled=\"true\"/&gt;\n        &lt;add mimeType=\"*/*\" enabled=\"false\"/&gt;\n    &lt;/dynamicTypes&gt;\n    &lt;staticTypes&gt;\n        &lt;add mimeType=\"text/*\" enabled=\"true\"/&gt;\n        &lt;add mimeType=\"message/*\" enabled=\"true\"/&gt;\n        &lt;add mimeType=\"application/javascript\" enabled=\"true\"/&gt;\n        &lt;add mimeType=\"*/*\" enabled=\"false\"/&gt;\n    &lt;/staticTypes&gt;\n&lt;/httpCompression&gt;\n&lt;urlCompression doStaticCompression=\"true\" doDynamicCompression=\"true\"/&gt;\n</code></pre>\n\n<p>By using this, the .aspx pages was compressed with g-zip but JSON responses were not. I added</p>\n\n<pre><code>&lt;add mimeType=\"application/json\" enabled=\"true\"/&gt;\n</code></pre>\n\n<p>in the static and dynamic types section. <strong>But this does not compressed JSON responses at all.</strong></p>\n\n<p>After that I removed this newly added type and added</p>\n\n<pre><code>&lt;add mimeType=\"application/x-javascript\" enabled=\"true\"/&gt;\n</code></pre>\n\n<p>in both the static and dynamic types section, and changed the response type in</p>\n\n<p>.ashx (asynchronous handler) to</p>\n\n<pre><code>application/x-javascript\n</code></pre>\n\n<p>And now I found that my JSON responses were compressed with g-zip. So I personally recommending to use</p>\n\n<pre><code>application/x-javascript\n</code></pre>\n\n<p>only if you want to compress your JSON responses on a <strong>shared hosting environment</strong>. Because in shared hosting, they do not allow you to change <a href=\"http://en.wikipedia.org/wiki/Internet_Information_Services\">IIS</a> configurations.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 10205560, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>If you're in a client-side environment, investigating about the cross-browser support is mandatory for a well supported web application.</p>\n\n<p>The right HTTP Content-Type would be <code>application/json</code>, as others already highlighted too, but some clients do not handle it very well, that's why jQuery recommends the default <code>text/html</code>.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 10354432, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>JSON is a <a href=\"http://en.wikipedia.org/wiki/Domain-specific_language\">domain-specific language</a> (DSL) and a data format independent of JavaScript, and as such has its own <a href=\"http://en.wikipedia.org/wiki/MIME\">MIME</a> type, <code>application/json</code>. Respect for MIME types is of course client driven, so <code>text/plain</code> may do for transfer of bytes, but then you would be pushing up interpretation to the vendor application domain unnecessarily - <code>application/json</code>. Would you transfer XML via <code>text/plain</code>?</p>\n\n<p>But honestly, your choice of MIME type is advice to the client as to how to interpret the data- <code>text/plain</code> or <code>text/HTML</code> (when it's not HTML) is like type erasure- it's as uninformative as making all your objects of type Object in a typed language.</p>\n\n<p>No browser runtime I know of will take a JSON document and automatically make it available to the runtime as a JavaScript accessible object without intervention, but if you are working with a crippled client, that's an entirely different matter. But that's not the whole story- <a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer#RESTful_web_services\">RESTful</a> JSON services often don't have JavaScript runtimes, but it doesn't stop them using JSON as a viable data interchange format. If clients are that crippled... then I would consider perhaps HTML injection via an <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a> templating service instead.</p>\n\n<p>Application/JSON!</p>\n", "title": "What is the correct JSON content type?", "answer_id": 10591822, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p><strong>For JSON:</strong></p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>Content-Type: application/json\n</code></pre>\n\n<p><strong>For <a href=\"http://en.wikipedia.org/wiki/JSONP\">JSON-P</a>:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Content-Type: application/javascript\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 11112320, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>The correct answer is:</p>\n\n<pre><code>Content-Type: application/json\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 14098284, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>In <a href=\"http://en.wikipedia.org/wiki/JavaServer_Pages\">JSP</a>, you can use this in page directive:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"application/json; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%&gt;\n</code></pre>\n\n<p>The correct <a href=\"http://en.wikipedia.org/wiki/MIME\">MIME</a> media type for JSON is <code>application/json</code>.  JSP will use it for sending a response to the client.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 14412490, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>\u201c<code>application/json</code>\u201d is the correct JSON content type.</p>\n\n<pre><code>def ajaxFindSystems = {\n  def result = Systems.list()\n  render(contentType:'application/json') {\n    results {\n      result.each{sys-&gt;\n        system(id:sys.id, name:sys.name)\n      }\n    }\n    resultset (rows:result.size())\n  }\n}\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 15088495, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<h2><strong>JSON:</strong></h2>\n\n<p>Response is dynamically generated data, according to the query parameters passed in the URL.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>{ \"Name\": \"Foo\", \"Id\": 1234, \"Rank\": 7 }\n</code></pre>\n\n<p><strong>Content-Type:</strong> <code>application/json</code></p>\n\n<hr>\n\n<h2><strong>JSON-P:</strong></h2>\n\n<p>JSON with padding.\nResponse is JSON data, with a function call wrapped around it.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>functionCall({\"Name\": \"Foo\", \"Id\": 1234, \"Rank\": 7});\n</code></pre>\n\n<p><strong>Content-Type:</strong> <code>application/javascript</code></p>\n", "title": "What is the correct JSON content type?", "answer_id": 15676686, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>As many others have mentioned, <code>application/json</code> is the correct answer.</p>\n\n<p>But what haven't been explained yet is what the other options you proposed mean.</p>\n\n<ul>\n<li><p><code>application/x-javascript</code>: Experimental MIME type for JavaScript before <code>application/javascript</code> was made standard.</p></li>\n<li><p><code>text/javascript</code>: Now obsolete. You should use <code>application/javascript</code> when using javascript.</p></li>\n<li><p><code>text/x-javascript</code>: Experimental MIME type for the above situation.</p></li>\n<li><p><code>text/x-json</code>: Experimental MIME type for JSON before <code>application/json</code> got officially registered.</p></li>\n</ul>\n\n<p>All in all, whenever you have any doubts about content types, you should check <a href=\"http://www.iana.org/assignments/media-types/media-types.xhtml\">this link</a> </p>\n", "title": "What is the correct JSON content type?", "answer_id": 15762612, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>The right MIME type is <strong><code>application/json</code></strong></p>\n\n<p><strong>BUT</strong></p>\n\n<p>I experienced many situations where the browser type or the framework user needed:</p>\n\n<pre><code>text/html\n\napplication/javascript\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 16363110, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>I use the below</p>\n\n<pre><code>contentType: 'application/json',\ndata: JSON.stringify(SendData),\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 16587806, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>If the JSON is with padding then it will be <code>application/jsonp</code>. If the JSON is without padding then it will be <code>application/json</code>.</p>\n\n<p>To deal with both, it is a good practice to use: 'application/javascript' without bothering whether it is with padding or without padding.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 17238862, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>In <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\">Spring</a> you have a defined type: <code>MediaType.APPLICATION_JSON_VALUE</code> which is equivalent to <em>application/json</em>.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 17378317, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>The <strong>Content-Type</strong> header should be set to '<strong>application/json</strong>' when posting. Server listening for the request should include \"<strong>Accept=application/json</strong>\".\nIn Spring MVC you can do it like this:</p>\n\n<pre><code>@RequestMapping(value=\"location\", method = RequestMethod.POST, headers = \"Accept=application/json\")\n</code></pre>\n\n<p>Add headers to the response:</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.add(\"Content-Type\", \"application/json\");\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 18144996, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>The <a href=\"http://www.iana.org/assignments/media-types/application/json\">IANA registration for <code>application/json</code></a> says</p>\n\n<blockquote>\n  <p>Applications that use this media type:  JSON has been used to\n     exchange data between applications written in all of these\n     programming languages: ActionScript, C, C#, Clojure, ColdFusion,\n     Common Lisp, E, Erlang, Go, Java, JavaScript, Lua, Objective CAML,\n     Perl, PHP, Python, Rebol, Ruby, Scala, and Scheme.</p>\n</blockquote>\n\n<p>You'll notice that IANA.org <a href=\"http://www.iana.org/assignments/media-types/media-types.xhtml\">doesn't list any of these other media types</a>, in fact even <code>application/javascript</code> is now obsolete. So <code>application/json</code> is really the only possible <em>correct</em> answer. </p>\n\n<p>Browser support is another thing. </p>\n\n<p>The most widely supported non-standard media types <code>text/json</code> or <code>text/javascript</code>. But some big names even use <code>text/plain</code>. Even more strange is the Content-Type header sent by Flickr, who returns a JSON string with <code>text/xml</code>. \nGoogle example included as well, responding with <code>text/html</code> yet a JSON string.</p>\n\n<p>Examples:</p>\n\n<pre><code>curl -I http://ajax.googleapis.com:80/ajax/services/search/web\\?q\\=json\n</code></pre>\n\n<p>Output: <code>Content-Type: text/html</code></p>\n\n<pre><code>curl -I https://www.flickr.com/services/rest/?method=flickr.test.echo&amp;format=json&amp;api_key=f82254c1491d894f1204d8408f645a93\n</code></pre>\n\n<p>Output: <code>Content-Type: text/xml</code></p>\n", "title": "What is the correct JSON content type?", "answer_id": 21733365, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>PHP developers use this:</p>\n\n<pre><code>&lt;?php\n    header(\"Content-type: application/json\");\n\n    // Do something here...\n?&gt;\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 22727561, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>For JSON, I am using:</p>\n\n<pre><code> Content-Type: application/json\n</code></pre>\n\n<p>This is described in the IETF's JSON Data Interchange Format 7158 proposal, <a href=\"http://tools.ietf.org/html/rfc7158#section-1.2\">Section 1.2: Specifications of JSON</a>.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 28365370, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<blockquote>\n  <p>The <code>application/json</code> works great in php to store an array or object\n  data.</p>\n</blockquote>\n\n<p>I use this code to put data in json on <a href=\"http://stackoverflow.com/a/35738814/4058484\"><em>Google Cloud Storage (GCS)</em></a> which is set <a href=\"http://stackoverflow.com/a/38866924/4058484\">publically viewable</a>:</p>\n\n<pre><code>$context = stream_context_create([\n    'gs' =&gt; [\n        'acl'=&gt;'public-read', \n        'Content-Type' =&gt; 'application/json',\n    ]\n]);\n\nfile_put_contents(\n    \"gs://BUCKETNAME/FILENAME.json\", \n    json_encode((object) $array), \n    false, \n    $context\n);\n</code></pre>\n\n<p>To get back the data is straight away:</p>\n\n<pre><code>$data = json_decode(file_get_contents(\"gs://BUCKETNAME/FILENAME.json\"));\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 29395746, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>Extending the accepted responses, when you are using JSON in a REST context...</p>\n\n<p>There is a <a href=\"http://restful-api-design.readthedocs.org/en/latest/resources.html#content-types\">strong argument</a> about using <code>application/x-resource+json</code> and <code>application/x-collection+json</code> when you are representing REST resources and collections.</p>\n\n<p>And if you decide to follow the <strong>jsonapi</strong> specification, <a href=\"http://jsonapi.org/format/#content-negotiation\">you should</a> use of <code>application/vnd.api+json</code>, as it is documented.</p>\n\n<p>Altough there is not an universal standard, it is clear that the added semantic to the resources being transfered justify a more explicit <em>Content-Type</em> than just <code>application/json</code>.</p>\n\n<p>Following this reasoning, other contexts could justify a more specific <em>Content-Type</em>.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 30740848, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p><a href=\"https://en.wikipedia.org/wiki/JSON\">JSON</a> (JavaScript Object Notation) and <a href=\"https://en.wikipedia.org/wiki/JSONP\">JSONP</a> (\"JSON with padding\") formats seems to be very similar and therefor it might be very confusing which MIME type they should be using. Even though the formats seems to be very similar, there are some subtle differences between them.</p>\n\n<p>So whenever in any doubts, I have very simple approach (which works perfectly find in most cases), namely, go and check corresponding RFC document.</p>\n\n<p><strong>JSON</strong>\n<a href=\"http://www.ietf.org/rfc/rfc4627.txt\">RFC 4627</a> (The application/json Media Type for JavaScript Object Notation (JSON)) is a specifications of JSON format. It says in section 6, that the MIME media type for JSON text is </p>\n\n<pre><code>application/json.\n</code></pre>\n\n<p><strong>JSONP</strong>\nJSONP (\"JSON with padding\") is handled different way than JSON, in a browser. JSONP is treated as a regular JavaScript script and therefor it should use <code>application/javascript,</code> the current official MIME type for JavaScript. In many cases, however, <code>text/javascript</code> MIME type will work fine too.</p>\n\n<p>Note that <code>text/javascript</code> has been marked as obsolete by <a href=\"http://www.rfc-editor.org/rfc/rfc4329.txt\">RFC 4329</a> (Scripting Media Types) document and it is recommended to use <code>application/javascript</code> type instead. However, due to legacy reasons, <code>text/javascript</code> is still widely used and it has cross-browser support (which is not always a case with <code>application/javascript</code> MIME type, especially with older browsers).</p>\n", "title": "What is the correct JSON content type?", "answer_id": 35400991, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>If you get data from REST API in JSON so you have to use content-type </p>\n\n<pre><code>For JSON data: Content-Type:application/json\nFor HTML data: Content-Type:text/html,\nFor XHTML data: Content-Type:application/xhtml+xml,\nFor XML data: Content-Type:text/xml, application/xml\n</code></pre>\n", "title": "What is the correct JSON content type?", "answer_id": 36544505, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<pre><code>application/json \n</code></pre>\n\n<p>is what I use when working with the WebApi</p>\n", "title": "What is the correct JSON content type?", "answer_id": 39216487, "question_id": 477816, "tags": ["json", "content-type"]}, {"body": "<p>for specifying the interested json result you add this \"application/json\" in you request header like below:\n\"Accept:application/json\" is a desired response format\n\"Content-Type:application/json\" specify the content format of your request\nbut sometimes you specify the both application/json and application/xml but the quality of these might be different which server will send back the different response format look at the example:\nAccept:application/json;q=0.4,application/xml;q=8\nthis will return the xml because the xml has higher quality.</p>\n", "title": "What is the correct JSON content type?", "answer_id": 39315895, "question_id": 477816, "tags": ["json", "content-type"]}], "question_id": 477816}, {"body": "<p>After reading <a href=\"http://groups.google.com/group/comp.lang.c++.moderated/msg/33f173780d58dd20\">Hidden Features and Dark Corners of C++/STL</a> on <code>comp.lang.c++.moderated</code>, I was completely surprised that the following snippet compiled and worked in both Visual Studio 2008 and G++ 4.4.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n    int x = 10;\n    while (x --&gt; 0) // x goes to 0\n    {\n        printf(\"%d \", x);\n    }\n}\n</code></pre>\n\n<p>I'd assume this is C, since it works in GCC as well. Where is this defined in the standard, and where has it come from?</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "tags": ["c++", "operators", "code-formatting", "standards-compliance"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1642028/what-is-the-name-of-the-operator-in-c", "answers": [{"body": "<p><code>--&gt;</code> is not an operator. It is in fact two separate operators, <code>--</code> and <code>&gt;</code>.</p>\n\n<p>The conditional's code decrements <code>x</code>, while returning <code>x</code>'s original (not decremented) value, and then compares the original value with <code>0</code> using the <code>&gt;</code> operator.</p>\n\n<p><strong>To better understand, the statement could be written as follows:</strong></p>\n\n<pre><code>while( (x--) &gt; 0 )\n</code></pre>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1642035, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>It's equivalent to</p>\n\n<pre><code>while (x-- &gt; 0)\n</code></pre>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1642036, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>It's</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\n     int x = 10;\n\n     while( x-- &gt; 0 ) // x goes to 0\n     {\n       printf(\"%d \", x);\n     }\n\n     return 0;\n}\n</code></pre>\n\n<p>Just the space make the things look funny, <code>--</code> decrements and <code>&gt;</code> compares.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1642037, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<pre><code>while( x-- &gt; 0 )\n</code></pre>\n\n<p>is how that's parsed.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1642038, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>That's a very complicated operator, so even <a href=\"https://isocpp.org/std/the-committee\">ISO/IEC JTC1 (Joint Technical Committee 1)</a> placed its description in two different parts of the C++ Standard.</p>\n\n<p>Joking aside, they are two different operators: <code>--</code> and <code>&gt;</code> described respectively in &sect;5.2.6/2 and &sect;5.9 of the C++03 Standard.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1642314, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>Anyway, we have a \"goes to\" operator now. <code>\"--&gt;\"</code> is easy to be remembered as a direction, and \"while x goes to zero\" is meaning-straight.</p>\n\n<p>Furthermore, it is a little more efficient than <code>\"for (x = 10; x &gt; 0; x --)\"</code> on some platforms.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1644241, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>The usage of <code>--&gt;</code> has historical relevance. Decrementing was (and still is in some cases), faster than incrementing on the x86 architecture. Using <code>--&gt;</code> suggests that <code>x</code> is going to <code>0</code>, and appeals to those with mathematical backgrounds.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1755737, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>This code first compares x and 0 and then decrements x. (Also said in the first answer: You're post-decrementing x and then comparing x and 0 with the <code>&gt;</code> operator.) See the output of this code:</p>\n\n<pre><code>9 8 7 6 5 4 3 2 1 0\n</code></pre>\n\n<p>We now first compare and then decrement by seeing 0 in the output.</p>\n\n<p>If we want to first decrement and then compare, use this code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nint main(void)\n{\n    int x = 10;\n\n    while( --x&gt; 0 ) // x goes to 0\n    {\n        printf(\"%d \", x);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>That output is:</p>\n\n<pre><code>9 8 7 6 5 4 3 2 1\n</code></pre>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1755774, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>There is a space missing between <code>--</code> and <code>&gt;</code>. <code>x</code> is post decremented, that is, decremented after checking the condition <code>x&gt;0 ?</code>.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1970277, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>This is exactly the same as</p>\n\n<pre><code>while (x--)\n{\n   printf(\"%d \", x);\n}\n</code></pre>\n\n<p>for non-negative numbers</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 1985476, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>My compiler will print out 9876543210 when I run this code.</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main()\n{\n    int x = 10;\n\n    while( x --&gt; 0 ) // x goes to 0\n    {\n        std::cout &lt;&lt; x;\n    }\n}\n</code></pre>\n\n<p>As expected. The <code>while( x-- &gt; 0 )</code> actually means <code>while( x &gt; 0)</code>. The <code>x--</code> post decrements <code>x</code>.</p>\n\n<pre><code>while( x &gt; 0 ) \n{\n    x--;\n    std::cout &lt;&lt; x;\n}\n</code></pre>\n\n<p>is a different way of writing the same thing.</p>\n\n<p>It is nice that the original looks like \"while x goes to 0\" though.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 2079545, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p><code>--</code> is the <strong>decrement</strong> operator and <code>&gt;</code> is the <strong>greater-than</strong> operator.</p>\n\n<p>The two operators are applied as a single one like <code>--&gt;</code>.</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 2584185, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>One book I read (I don't remember correctly which book) stated: <strong>Compilers try to parse expressions to the biggest token</strong> by using the left right rule.</p>\n\n<p>In this case, the expression:</p>\n\n<pre><code>x--&gt;0\n</code></pre>\n\n<p>Parses to biggest tokens: </p>\n\n<pre><code>token 1: x\ntoken 2: --\ntoken 3: &gt;\ntoken 4: 0\nconclude: x-- &gt; 0\n</code></pre>\n\n<p><strong>The same rule</strong> applies to this expression:</p>\n\n<pre><code>a-----b\n</code></pre>\n\n<p>After parse:</p>\n\n<pre><code>token 1: a\ntoken 2: --\ntoken 3: --\ntoken 4: -\ntoken 5: b\nconclude: (a--)-- - b\n</code></pre>\n\n<p>I hope this helps to understand the complicated expression ^^</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 2604267, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>Utterly geek, but I will be using this:</p>\n\n<pre><code>#define as ;while\n\nint main(int argc, char* argv[])\n{\n    int n = atoi(argv[1]);\n    do printf(\"n is %d\\n\", n) as ( n --&gt; 0);\n    return 0;\n}\n</code></pre>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 2860927, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>Or for something completely different... x slides to 0</p>\n\n<pre><code>while (x --\\\n            \\\n             \\\n              \\\n               &gt; 0)\n     printf(\"%d \", x);\n</code></pre>\n\n<p>Not so mathematical, but... every picture paints a thousand...</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 8909176, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>Actually, <code>x</code> is post-decrementing and with that condition is being checked. It's not <code>--&gt;</code>, it's <code>(x--) &gt; 0</code></p>\n\n<p>Note: value of <code>x</code> is changed after the condition is checked, because it post-decrementing. Some similar cases can also occur, for example:</p>\n\n<pre><code>--&gt;    x--&gt;0\n++&gt;    x++&gt;0\n--&gt;=   x--&gt;=0\n++&gt;=   x++&gt;=0\n</code></pre>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 12016806, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>It's a combination of two operators. First <code>--</code> is for decrementing the value, and <code>&gt;</code> is for checking whether the value is greater than the right-hand operand.</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n\nint main()\n{\n    int x = 10;\n\n    while (x-- &gt; 0)\n        printf(\"%d \",x);\n\n    return 0;\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>9 8 7 6 5 4 3 2 1 0            \n</code></pre>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 15762842, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p><a href=\"http://en.wikipedia.org/wiki/C_%28programming_language%29\">C</a> and <a href=\"https://en.wikipedia.org/wiki/C++\">C++</a> obey the \"maximum munch\" rule. The same way a---b is translated to <code>(a--) - b</code>, in your case  <code>x--&gt;0</code> translates to <code>(x--)&gt;0</code>.</p>\n\n<p>What the rule says essentially is that going left to right, expressions are formed by taking the maximum of characters which will form an valid expression. </p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 21683994, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}, {"body": "<p>x can go to zero even faster in opposite direction</p>\n\n<pre><code>int x = 10;\n\nwhile( 0 &lt;---- x )\n{\n   printf(\"%d \", x);\n}\n</code></pre>\n\n<p><code>8 6 4 2</code></p>\n\n<p>You can control speed with an arrow!</p>\n\n<pre><code>int x = 100;\n\nwhile( 0 &lt;-------------------- x )\n{\n   printf(\"%d \", x);\n}\n</code></pre>\n\n<p><code>90 80 70 60 50 40 30 20 10</code></p>\n\n<p>;)</p>\n", "title": "What is the name of the &quot;--&gt;&quot; operator in C++?", "answer_id": 27672749, "question_id": 1642028, "tags": ["c++", "operators", "code-formatting", "standards-compliance"]}], "question_id": 1642028}, {"body": "<p>How can I redirect the user from one page to another using jQuery?</p>\n", "title": "How to redirect to another page in jQuery?", "tags": ["javascript", "jquery", "redirect"], "answer_count": 57, "link": "http://stackoverflow.com/questions/503093/how-to-redirect-to-another-page-in-jquery", "answers": [{"body": "<p>It would help if you were a little more descriptive in what you are trying to do.  If you are trying to generate paged data, there are some options in how you do this.  You can generate separate links for each page that you want to be able to get directly to.</p>\n\n<pre><code>&lt;a href='/path-to-page?page=1' class='pager-link'&gt;1&lt;/a&gt;\n&lt;a href='/path-to-page?page=2' class='pager-link'&gt;2&lt;/a&gt;\n&lt;span class='pager-link current-page'&gt;3&lt;/a&gt;\n...\n</code></pre>\n\n<p>Note that the current page in the example is handled differently in the code and with CSS.</p>\n\n<p>If you want the paged data to be changed via AJAX, this is where jQuery would come in.  What you would do is add a click handler to each of the anchor tags corresponding to a different page.  This click handler would invoke some jQuery code that goes and fetches the next page via AJAX and updates the table with the new data.  The example below assumes that you have a web service that returns the new page data.</p>\n\n<pre><code>$(document).ready( function() {\n    $('a.pager-link').click( function() {\n        var page = $(this).attr('href').split(/\\?/)[1];\n        $.ajax({\n            type: 'POST',\n            url: '/path-to-service',\n            data: page,\n            success: function(content) {\n               $('#myTable').html(content);  // replace\n            }\n        });\n        return false; // to stop link\n    });\n});\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 503178, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<h2>One does not simply redirect using jQuery</h2>\n\n<p>jQuery is not necessary, and <strong><code>window.location.replace(...)</code></strong> will best simulate an HTTP redirect.  </p>\n\n<p>It is better than using <code>window.location.href =</code>, because <code>replace()</code> does not keep the originating page in the session history, meaning the user won't get stuck in a never-ending back-button fiasco.  If you want to simulate someone clicking on a link, use <code>location.href</code>.  If you want to simulate an HTTP redirect, use <code>location.replace</code>.</p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>// similar behavior as an HTTP redirect\nwindow.location.replace(\"http://stackoverflow.com\");\n\n// similar behavior as clicking on a link\nwindow.location.href = \"http://stackoverflow.com\";\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 506004, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>var url = 'asdf.html';\nwindow.location.href = url;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 1559156, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<blockquote>\n  <p><strong>WARNING:</strong> This answer has merely been provided as a possible solution; it is obviously <em>not</em> the best solution, as it requires jQuery. Instead, prefer the pure JavaScript solution.</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(location).attr('href', 'http://stackoverflow.com')\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 1638449, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>This works for every browser:</p>\n\n<pre><code>window.location.href = 'your_url';\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 4001713, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>This works with jQuery.</p>\n\n<pre><code>$(window).attr(\"location\",\"http://google.fr\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 7311088, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You can do that without jQuery as:</p>\n\n<pre><code>window.location = \"http://yourdomain.com\";\n</code></pre>\n\n<p>And if you want only jQuery then you can do it like:</p>\n\n<pre><code>$jq(window).attr(\"location\",\"http://yourdomain.com\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 10720518, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<blockquote>\n  <p><strong>Standard \"vanilla\" JavaScript way to redirect a page:</strong></p>\n  \n  <p><strong><code>window.location.href = 'newPage.html';</code></strong></p>\n</blockquote>\n\n<hr>\n\n<p><strong>If you are here because you are <em>losing</em> HTTP_REFERER when redirecting, keep reading:</strong></p>\n\n<hr>\n\n<p>The following section is for those using <code>HTTP_REFERER</code> as one of many secure measures (although it isn't a great protective measure). If you're using <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_8\">Internet&nbsp;Explorer&nbsp;8</a> or lower, these variables get lost when using any form of JavaScript page redirection (location.href / etc)</p>\n\n<blockquote>\n  <p>Below we are going to implement an alternative for <strong>IE8 &amp; lower</strong> so that we don't lose HTTP_REFERER. Otherwise you can almost always simply use <code>window.location.href</code>.</p>\n</blockquote>\n\n<p>Testing against <code>HTTP_REFERER</code> (URL pasting, session, etc.) <em>can</em> be helpful in telling whether a request is legitimate.\n<em>(<strong>Note ::</strong> there are also ways to work-around / spoof these referrers, as noted by droop's link in the comments)</em></p>\n\n<hr>\n\n<p>Simple cross-browser testing solution (fallback to window.location.href for IE9+ and all other browsers)</p>\n\n<p><strong>Usage: <code>redirect('anotherpage.aspx');</code></strong></p>\n\n<pre><code>function redirect (url) {\n    var ua        = navigator.userAgent.toLowerCase(),\n        isIE      = ua.indexOf('msie') !== -1,\n        version   = parseInt(ua.substr(4, 2), 10);\n\n    // Internet Explorer 8 and lower\n    if (isIE &amp;&amp; version &lt; 9) {\n        var link = document.createElement('a');\n        link.href = url;\n        document.body.appendChild(link);\n        link.click();\n    }\n\n    // All other browsers can use the standard window.location.href (they don't lose HTTP_REFERER like IE8 &amp; lower does)\n    else { \n        window.location.href = url; \n    }\n}\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 11690095, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>But if someone wants to redirect back to home page then he may use the following snippet.</p>\n\n<pre><code>window.location = window.location.host\n</code></pre>\n\n<p>It would be helpful if you have three different environments as development, staging, and production.</p>\n\n<p>You can explore this window or window.location object by just putting these words in Chrome Console or <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\">Firebug</a>'s Console.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 13138776, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>On your click function, just add:</p>\n\n<pre><code>window.location.href = \"The URL where you want to redirect\";\n$('#id').click(function(){\n    window.location.href = \"http://www.google.com\";\n});\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 13372097, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>I also think that <code>location.replace(URL)</code> is the best way, but if you want to notify the search engines about your redirection (they don't analyze JavaScript code to see the redirection) you should add the <code>rel=\"canonical\"</code> meta tag to your website.</p>\n\n<p>Adding a noscript section with a HTML refresh meta tag in it, is also a good solution. I suggest you to use this <a href=\"http://insider.zone/tools/client-side-url-redirect-generator/\">JavaScript redirection tool</a> to create redirections. It also has Internet&nbsp;Explorer support to pass the HTTP referrer.</p>\n\n<p>Sample code without delay looks like this:</p>\n\n<pre><code>&lt;!-- Pleace this snippet right after opening the head tag to make it work properly --&gt;\n\n&lt;!-- This code is licensed under GNU GPL v3 --&gt;\n&lt;!-- You are allowed to freely copy, distribute and use this code, but removing author credit is strictly prohibited --&gt;\n&lt;!-- Generated by http://insider.zone/tools/client-side-url-redirect-generator/ --&gt;\n\n&lt;!-- REDIRECTING STARTS --&gt;\n&lt;link rel=\"canonical\" href=\"https://yourdomain.com/\"/&gt;\n&lt;noscript&gt;\n    &lt;meta http-equiv=\"refresh\" content=\"0;URL=https://yourdomain.com/\"&gt;\n&lt;/noscript&gt;\n&lt;!--[if lt IE 9]&gt;&lt;script type=\"text/javascript\"&gt;var IE_fix=true;&lt;/script&gt;&lt;![endif]--&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var url = \"https://yourdomain.com/\";\n    if(typeof IE_fix != \"undefined\") // IE8 and lower fix to pass the http referer\n    {\n        document.write(\"redirecting...\"); // Don't remove this line or appendChild() will fail because it is called before document.onload to make the redirect as fast as possible. Nobody will see this text, it is only a tech fix.\n        var referLink = document.createElement(\"a\");\n        referLink.href = url;\n        document.body.appendChild(referLink);\n        referLink.click();\n    }\n    else { window.location.replace(url); } // All other browsers\n&lt;/script&gt;\n&lt;!-- Credit goes to http://insider.zone/ --&gt;\n&lt;!-- REDIRECTING ENDS --&gt;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 16212050, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>First write properly. You want to navigate within an application for another link from your application for another link. Here is the code:</p>\n\n<pre><code>window.location.href = \"http://www.google.com\";\n</code></pre>\n\n<p>And if you want to navigate pages within your application then I also have code, if you want.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 16962291, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Use the following code:</p>\n\n<pre><code>$(\"#id\").click(function(){\n   window.location.href(\"https://www.google.com\");\n});\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 17023509, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Write the below code after the PHP, HTML or jQuery section. If in the middle of the PHP or HTML section, then use the &lt;script> tag.</p>\n\n<pre><code>location.href = \"http://google.com\"\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 17028176, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>In JavaScript and jQuery we can use the following code to redirect the one page to another page:</p>\n\n<pre><code>window.location.href=\"http://google.com\";\nwindow.location.replace(\"page1.html\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 17397332, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>jQuery is not needed. You can do this:</p>\n\n<pre><code>window.open(\"URL\",\"_self\",\"\",\"\")\n</code></pre>\n\n<p>It is that easy!</p>\n\n<p>The best way to initiate an HTTP request is with <code>document.loacation.href.replace('URL')</code>.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 17599971, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>So, the question is how to make a redirect page, and not how to redirect to a website?</p>\n\n<p>You only need to use JavaScript for this. Here is some tiny code that will create a dynamic redirect page.</p>\n\n<pre><code>&lt;script&gt;\n    var url = window.location.search.split('url=')[1]; // Get the URL after ?url=\n    if( url ) window.location.replace(url);\n&lt;/script&gt;\n</code></pre>\n\n<p>So say you just put this snippet into a <code>redirect/index.html</code> file on your website you can use it like so.</p>\n\n<blockquote>\n  <p><code>http://www.mywebsite.com/redirect?url=http://stackoverflow.com</code></p>\n</blockquote>\n\n<p>And if you go to that link it will automatically redirect you to <strong>stackoverflow.com</strong>.</p>\n\n<blockquote>\n  <p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.location\">Link to Documentation</a></strong></p>\n</blockquote>\n\n<p><strong>And that's how you make a <em>Simple</em> redirect page with JavaScript</strong></p>\n\n<p>Edit:</p>\n\n<p>There is also one thing to note. I have added <code>window.location.replace</code> in my code because I think it suits a redirect page, but, you must know that when using <code>window.location.replace</code> and you get redirected, when you press the back button in your browser it will <strong>not</strong> got back to the redirect page, and it will go back to the page before it, take a look at this little demo thing.</p>\n\n<p>Example:</p>\n\n<blockquote>\n  <p>The process: <strong>store home</strong> => <strong>redirect page to google</strong> => <strong>google</strong></p>\n  \n  <p>When at google: <strong>google</strong> => <strong>back button in browser</strong> => <strong>store home</strong></p>\n</blockquote>\n\n<p>So, if this suits your needs then everything should be fine. If you want to include the redirect page in the browser history replace this </p>\n\n<pre><code>if( url ) window.location.replace(url);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>if( url ) window.location.href = url;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 18542979, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Try this:</p>\n\n<pre><code>location.assign(\"http://www.google.com\");\n</code></pre>\n\n<p><a href=\"http://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_loc_assign\">Code snippet of example</a>.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 20062925, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Instead of redirecting, you can replace the window the user is on with the page you want to redirect to using JavaScript code like this:</p>\n\n<pre><code>window.open('url', '_self');\n</code></pre>\n\n<p>You can also do this:</p>\n\n<pre><code>window.location.href = \"http://example.com\";\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 20171099, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Here is a time-delay redirection. You can set the delay time to whatever you want:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Your Document Title&lt;/title&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        function delayer(delay) {\n            onLoad = setTimeout('window.location.href = \"http://www.google.com/\"', delay);\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;script&gt;\n        delayer(8000)\n    &lt;/script&gt;\n    &lt;div&gt;You will be redirected in 8 seconds!&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 20276808, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You can use it like in the following code where <code>getGuestHouseRequestToForward</code> is the request mapping (<a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\">URL</a>). You can also use your URL.</p>\n\n<pre><code>function savePopUp(){\n    $.blockUI();\n    $.ajax({\n        url:\"saveForwardingInformationForGuestHouse?roomType=\"+$(\"#roomType\").val(),\n        data: $(\"#popForm\").serialize(),\n        dataType: \"json\",\n        error: (function() {\n            alert(\"Server Error\");\n            $.unblockUI();\n    }),\n    success: function(map) {\n        $(\"#layer1\").hide();\n        $.unblockUI();\n        window.location = \"getGuestHouseRequestToForward\";\n    }\n});\n</code></pre>\n\n<p>This is for the same context of the application.</p>\n\n<p>If you want to use only jquery specific code then following code may help:</p>\n\n<pre><code> $(location).attr('href',\"http://www.google.com\");\n $jq(window).attr(\"location\",\"http://www.google.com\");\n $(location).prop('href',\"http://www.google.com\"); \n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 20491497, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>JavaScript provides you many methods to retrieve and change the current URL which is displayed in browser's address bar. All these methods uses the Location object, which is  a property of the Window object. You can create a new Location object that has the current URL as follows..</p>\n\n<pre><code>var currentLocation = window.location;\n</code></pre>\n\n<p><strong>Basic Structure of a URL</strong></p>\n\n<pre><code>&lt;protocol&gt;//&lt;hostname&gt;:&lt;port&gt;/&lt;pathname&gt;&lt;search&gt;&lt;hash&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/4kiBE.jpg\" alt=\"enter image description here\"></p>\n\n<ol>\n<li><p>Protocol -- Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))</p></li>\n<li><p>hostname -- Host name specifies the host that owns the resource. For example, www.stackoverflow.com. A server provides services using the name of the host.</p></li>\n<li><p>port -- A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.</p></li>\n<li><p>pathname -- The path gives info about the specific resource within the host that the Web client wants to access. For example, stackoverflow.com/index.html.</p></li>\n<li><p>query --  A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed). </p></li>\n<li><p>hash -- The anchor portion of a URL, includes the hash sign (#).</p></li>\n</ol>\n\n<p>With these Location object properties you can access all of these URL components</p>\n\n<ol>\n<li><strong>hash</strong>   -Sets or returns the anchor portion of a URL.  </li>\n<li><strong>host</strong>   -Sets\nor returns the hostname and port of a URL.   </li>\n<li><strong>hostname</strong>   -Sets or\nreturns the hostname of a URL.   </li>\n<li><strong>href</strong>   -Sets or returns the entire\nURL.  </li>\n<li><strong>pathname</strong>   -Sets or returns the path name of a URL.   </li>\n<li><strong>port</strong> -Sets or returns the port number the server uses for a URL.  </li>\n<li><strong>protocol</strong>   -Sets or returns the protocol of a URL.   </li>\n<li><strong>search</strong>   -Sets\nor returns the query portion of a URL</li>\n</ol>\n\n<p>Now If you want to change a page or redirect the user to some other page you can use the <code>href</code> property of the Location object like this</p>\n\n<p>You can use the href property of the Location object.</p>\n\n<pre><code>window.location.href = \"http://www.stackoverflow.com\";\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/agrawalnikhil/7Ly8f/\">Demo Fiddle</a></p>\n\n<p><strong>Location Object</strong> also have these three methods</p>\n\n<ol>\n<li><strong>assign()</strong> -- Loads a new document.</li>\n<li><strong>reload()</strong> -- Reloads the current document.</li>\n<li><strong>replace()</strong> -- Replaces the current document with a new one</li>\n</ol>\n\n<p>You can use assign() and replace methods also to redirect to other pages like these</p>\n\n<pre><code>location.assign(\"http://www.stackoverflow.com\");\n\nlocation.replace(\"http://www.stackoverflow.com\");\n</code></pre>\n\n<p><em><strong>How assign() and replace() differs</strong> -- The difference between replace() method and assign() method(), is that replace() removes the URL of the current document from the document history, means it is not possible to use the \"back\" button to navigate back to the original document. So Use the assign() method if you want to load a new document, andwant to give the option to navigate back to the original document.</em></p>\n\n<p>You can change the location object href property using <strong>jQuery</strong> also  like this</p>\n\n<pre><code>$(location).attr('href',url);\n</code></pre>\n\n<p>And hence you can redirect the user to some other url.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 20744665, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You need to put this line on your code</p>\n\n<pre><code>$(location).attr('href',\"http://stackoverflow.com\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21378060, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>// window.location\nwindow.location.replace('http://www.example.com')\nwindow.location.assign('http://www.example.com')\nwindow.location.href = 'http://www.example.com'\ndocument.location.href = '/path'\n\n// window.history\nwindow.history.back()\nwindow.history.go(-1)\n\n// window.navigate; ONLY for old versions of IE\nwindow.navigate('top.jsp')\n\n\n// probably no bueno\nself.location = 'http://www.example.com';\ntop.location = 'http://www.example.com';\n\n// jQuery\n$(location).attr('href','http://www.example.com')\n$(window).attr('location','http://www.example.com')\n$(location).prop('href', 'http://www.example.com')\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21396837, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar url = \"https://yourdomain.com\";\n\n// IE8 and lower fix\nif (navigator.userAgent.match(/MSIE\\s(?!9.0)/))\n{\n    var referLink = document.createElement(\"a\");\n    referLink.href = url;\n    document.body.appendChild(referLink);\n    referLink.click();\n}\n\n// All other browsers\nelse { window.location.replace(url); }\n&lt;/script&gt;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21428072, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p><strong># HTML Page Redirect Using jQuery/JavaScript</strong></p>\n\n<p>Try this example code:</p>\n\n<pre><code>function YourJavaScriptFunction()\n{\n    var i = $('#login').val();\n    if (i == 'login')\n        window.location = \"login.php\";\n    else\n        window.location = \"Logout.php\";\n}\n</code></pre>\n\n<p>If you want to give a complete URL as <strong><code>window.location = \"www.google.co.in\";</code></strong>.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21600238, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>This is how I use it.</p>\n\n<pre><code>   window.location.replace('yourPage.aspx');   \n   // If you're on root and redirection page is also on the root\n\n   window.location.replace(window.location.host + '/subDirectory/yourPage.aspx');\n\n   // If you're in sub directory and redirection page is also in some other sub directory.\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21636975, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Try using:</p>\n\n<pre><code>location.href=\"http://www.domain.com/home.html\";\n</code></pre>\n\n<p>The following will open in a new tab if this is better for you</p>\n\n<pre><code>window.location(\"http://www.domain.com/home.html\");\n</code></pre>\n\n<p>Let me know if this helps</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21812587, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Should just be able to set using <code>window.location</code>.</p>\n\n<p><strong>Example:</strong></p>\n\n<p><code>window.location = \"http://www.stackoverflow.com\";</code></p>\n\n<p>Here is a past post on the subject: </p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions/503093/how-can-i-make-a-redirect-page-in-jquery-javascript\">How can I make a redirect page using jQuery?</a></p>\n</blockquote>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 21812642, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Use:</p>\n\n<pre><code>location.href = \"http://google.com\";\n</code></pre>\n\n<p>No need to write <code>window</code>. It's optional.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 23558996, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>There are three main ways to do this,</p>\n\n<pre><code>window.location.href='blaah.com';\nwindow.location.assign('blaah.com');\n</code></pre>\n\n<p>and...</p>\n\n<pre><code>window.location.replace('blaah.com');\n</code></pre>\n\n<p>The last one is best, for a traditional redirect, because it will not save the page you went to before being redirected in your search history. However, if you just want to open a tab with JavaScript, you can use any of the above.<a href=\"http://basicuse.net/tips/pl/scripting_languages/javascript/how_to_make_a_page_redirect_in_javascript\">1</a></p>\n\n<p>EDIT: The <code>window</code> prefix is optional.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 24601748, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>The best way to redirect a page is:</p>\n\n<pre><code>window.location.replace(\"http://www.example.com\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 25088906, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p><strong>Before I start, jQuery is a JavaScript library used for DOM manipulation. So you should not be using jQuery for a page redirect.</strong></p>\n\n<p>A quote from Jquery.com:</p>\n\n<blockquote>\n  <p>While jQuery might run without major issues in older browser versions,\n  we do not actively test jQuery in them and generally do not fix bugs\n  that may appear in them.</p>\n</blockquote>\n\n<p>It was found here:\n<a href=\"https://jquery.com/browser-support/\">https://jquery.com/browser-support/</a></p>\n\n<p>So jQuery is not an end-all and be-all solution for backwards compatibility.</p>\n\n<blockquote>\n  <p>The following solution using raw JavaScript works in all browsers and have been standard for a long time so you don't need any libraries for cross browser support.</p>\n</blockquote>\n\n<p>This page will redirect to <strong><a href=\"http://www.google.com\">Google</a></strong> after 3000 milliseconds</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;example&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;You will be redirected to google shortly.&lt;/p&gt;\n        &lt;script&gt;\n            setTimeout(function(){\n                window.location.href=\"http://www.google.com\"; // The URL that will be redirected too.\n            }, 3000); // The bigger the number the longer the delay.\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Different options are as follows:</p>\n\n<pre><code>window.location.href=\"url\"; // Simulates normal navigation to a new page\nwindow.location.replace(\"url\"); // Removes current URL from history and replaces it with a new URL\nwindow.location.assign(\"url\"); // Adds new URL to the history stack and redirects to the new URL\n\nwindow.history.back(); // Simulates a back button click\nwindow.history.go(-1); // Simulates a back button click\nwindow.history.back(-1); // Simulates a back button click\nwindow.navigate(\"page.html\"); // Same as window.location=\"url\"\n</code></pre>\n\n<p>When using replace, the back button will not go back to the redirect page, as if it was never in the history. If you want the user to be able to go back to the redirect page then use <code>window.location.href</code> or <code>window.location.assign</code>. If you do use an option that lets the user go back to the redirect page, remember that when you enter the redirect page it will redirect you back. So put that into consideration when picking an option for your redirect. Under conditions where the page is only redirecting when an action is done by the user then having the page in the back button history will be okay. But if the page auto redirects then you should use replace so that the user can use the back button without getting forced back to the page the redirect sends.</p>\n\n<p>You can also use meta data to run a page redirect as followed.</p>\n\n<p><strong>META Refresh</strong></p>\n\n<pre><code>&lt;meta http-equiv=\"refresh\" content=\"0;url=http://evil.com/\" /&gt;\n</code></pre>\n\n<p><strong>META Location</strong></p>\n\n<pre><code>&lt;meta http-equiv=\"location\" content=\"URL=http://evil.com\" /&gt;\n</code></pre>\n\n<p><strong>BASE Hijacking</strong></p>\n\n<pre><code>&lt;base href=\"http://evil.com/\" /&gt;\n</code></pre>\n\n<p>Many more methods to redirect your unsuspecting client to a page they may not wish to go can be found on this page (not one of them is reliant on jQuery):</p>\n\n<blockquote>\n  <p><a href=\"https://code.google.com/p/html5security/wiki/RedirectionMethods\">https://code.google.com/p/html5security/wiki/RedirectionMethods</a></p>\n</blockquote>\n\n<p>I would also like to point out, people don't like to be randomly redirected. Only redirect people when absolutely needed. If you start redirecting people randomly they will never go to your site again.</p>\n\n<p>The next part is hypothetical:</p>\n\n<blockquote>\n  <p>You also may get reported as a malicious site. If that happens then when people click on a link to your site the users browser may warn them that your site is malicious. What may also happen is search engines may start dropping your rating if people are reporting a bad experience on your site.</p>\n</blockquote>\n\n<p>Please review Google Webmaster Guidelines about redirects:\n<a href=\"https://support.google.com/webmasters/answer/2721217?hl=en&amp;ref_topic=6001971\">https://support.google.com/webmasters/answer/2721217?hl=en&amp;ref_topic=6001971</a></p>\n\n<p>Here is a fun little page that kicks you out of the page.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Go Away&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Go Away&lt;/h1&gt;\n        &lt;script&gt;\n            setTimeout(function(){\n                window.history.back();\n            }, 3000);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you combine the two page examples together you would have an infant loop of rerouting that will guarantee that your user will never want to use your site ever again.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 25537534, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You can redirect in jQuery like this:</p>\n\n<pre><code>$(location).attr('href', 'http://yourPage.com/');\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 25690366, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Here is the code to redirect to some other page with a timeout of 10 seconds.</p>\n\n<pre><code>&lt;script&gt;\n    function Redirect()\n    {\n        window.location=\"http://www.adarshkr.com\";\n    }\n\n    document.write(\"You will be redirected to a new page in 10 seconds.\");\n    setTimeout('Redirect()', 10000);\n&lt;/script&gt;\n</code></pre>\n\n<p>You can also do it like this, on click of a button using location.assign:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Load new document\" onclick=\"newPage()\"&gt;\n&lt;script&gt;\n    function newPage() {\n        window.location.assign(\"http://www.adarshkr.com\")\n    }\n&lt;/script&gt;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 25717627, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Use the jQuery function:</p>\n\n<pre><code>$.extend({\n  redirectPost: function(location, args) {\n    var form = '';\n    $.each(args, function(key, value) {\n      form += '&lt;input type=\"hidden\" name=\"' + key + '\" value=\"' + value + '\"&gt;';\n    });\n    $('&lt;form action=\"' + location + '\" method=\"POST\"&gt;' + form + '&lt;/form&gt;').appendTo($(document.body)).submit();\n  }\n});\n</code></pre>\n\n<p>In your code you use it like this:</p>\n\n<pre><code>$.redirectPost(\"addPhotos.php\", {pimreference:  $(\"#pimreference\").val(), tag: $(\"#tag\").val()});\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 25791785, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Simply use any one of the following:</p>\n\n<pre><code>window.location = \"Your required URL\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>window.location.href = \"Your required URL\";\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 25996700, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p><strong>Redirecting User using jQuery/JavaScript</strong></p>\n\n<p>By using the location object in jQuery or JavaScript we can redirect the user to another web page.</p>\n\n<p><strong>In jQuery</strong></p>\n\n<p>The code to redirect the user from one page to another is:</p>\n\n<pre><code>var url = 'http://www.example.com';\n$(location).attr('href', url);\n</code></pre>\n\n<p><strong>In JavaScript</strong></p>\n\n<p>The code to redirect the user from one page to another is:</p>\n\n<pre><code>var url = 'http://www.example.com';\nwindow.location.href = url;\n</code></pre>\n\n<p><strong>Or</strong></p>\n\n<pre><code>var url = 'http://www.example.com';\nwindow.location = url;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 26101385, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>To just redirect to a page:</p>\n\n<pre><code>  window.location.href = \"/destination.html\";\n</code></pre>\n\n<p>Or if you need a delay:</p>\n\n<pre><code>setTimeout(function () {\n  window.location.href = \"/destination.html\";\n}, 2000);   // Time in milliseconds\n</code></pre>\n\n<p>jQuery allows you to select elements from a web page with ease. You can find anything you want in a page and then use jQuery to add special effects, react to user actions, or show and hide content inside or outside the element you have selected. All these tasks start with knowing <a href=\"http://learn.jquery.com/using-jquery-core/selecting-elements/\" rel=\"nofollow\">how to select an element</a>.</p>\n\n<pre><code>function redirect () {\n    $('selection').animate({\n        marginLeft: 100px; //Put some CSS animation here\n    }, 500, function () {\n      // OK, finished jQuery staff, let's go redirect\n      window.location.href = \"/destination.html\";\n})\n</code></pre>\n\n<p>Imagine someone wrote a script/plugin that is 10000 lines of code?!\nWell, with jQuery you can connect to this code with just a line or two.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 27660935, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Via jQuery:</p>\n\n<pre><code>var url = 'http://www.w3schools.com/';\n$(location).attr('href',url);\n</code></pre>\n\n<p>jsfiddle: <a href=\"http://jsfiddle.net/n09tL235/1/\" rel=\"nofollow\">http://jsfiddle.net/n09tL235/1/</a></p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 28422131, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>I just had to update this ridiculousness with yet another newer jQuery method:</p>\n\n<pre><code>var url = 'http://www.fiftywaystoleaveyourlocation.com';\n$(location).prop('href', url);\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 28783536, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>window.location.href='www.w3schools.com';\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 30388857, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Simply in JavaScript, you can redirect to a specific page by using the following:</p>\n\n<pre><code>window.location.replace(\"http://www.test.com\");\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>location.replace(\"http://www.test.com\");\n</code></pre>\n\n<p>Using jQuery:</p>\n\n<pre><code>$(window).attr(\"location\",\"http://www.test.com\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 30867001, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>window.location = \"http://www.gmail.com\";\n</code></pre>\n\n<p>or else</p>\n\n<pre><code>window.location.href = \"http://www.gmail.com\";\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 32434946, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You can try this one:</p>\n\n<pre><code>$(location).attr('href','http://yourPage.com/');\n</code></pre>\n\n<p>Via jQuery:</p>\n\n<pre><code>var url = 'http://www.w3schools.com/';\n$(location).attr('href',url);\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 33731367, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>location.replace('URL')\n</code></pre>\n\n<p>doesn't update the browser's history; you can't press the back button.</p>\n\n<pre><code>location.attr('href','url')\n</code></pre>\n\n<p>is pretty much like clicking on a link. Here we can go back to the previous page by pressing the back button.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 34021424, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>$(window).attr(\"location\",\"http://google.fr\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 34040022, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>In JavaScript and jQuery we use this following code to redirect the page:</p>\n\n<pre><code>window.location.href=\"http://google.com\";\nwindow.location.replace(\"page1.html\");\n</code></pre>\n\n<p>But you can make a function in jQuery to redirect the page:</p>\n\n<pre><code>jQuery.fn.redirect=function(url)\n{\n    window.location.href=url;\n}\n</code></pre>\n\n<p>And call this function:</p>\n\n<pre><code>jQuery(window).redirect(\"http://stackoverflow.com/\")\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 34093201, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<pre><code>var url = \"http://yyy.com\";\n$(location).attr('href',url);\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>window.location.replace(\"http://xxx.yyy.com\");\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 34805157, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You have to use simple JavaScript code to redirect:</p>\n\n<pre><code>function goTo(link) {\n    if (link !== '') {\n        window.location.href = link;\n    }\n}\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 35266835, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<h2>jQuery code to redirect a page or URL</h2>\n\n<blockquote>\n  <p><strong>First Way</strong></p>\n</blockquote>\n\n<p>Here is the jQuery code for redirecting a page. Since, I have put this code on the $(document).ready() function, it will execute as soon as the page is loaded.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var url = \"http://stackoverflow.com\";\r\n$(location).attr('href',url);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can even pass a URL directly to the <strong>attr()</strong> method, instead of using a variable.</p>\n\n<blockquote>\n  <p><strong>Second Way</strong></p>\n</blockquote>\n\n<pre><code> window.location.href=\"http://stackoverflow.com\";\n</code></pre>\n\n<p>You can also code like this (both are same):</p>\n\n<pre><code>window.location=\"http://stackoverflow.com\";\n</code></pre>\n\n<p>If you are curious about the difference between window.location and <code>window.location.href</code>, then you can see that the latter one is setting <code>href</code> property explicitly, while the former one does it implicitly. Since <code>window.location</code> returns an object, which by default sets its <code>.href</code> property.</p>\n\n<blockquote>\n  <p><strong>Third Way</strong></p>\n</blockquote>\n\n<p>There is another way to redirect a page using JavaScript, the <code>replace()</code> method of <code>window.location</code> object. You can pass a new URL to the <code>replace()</code> method, and it will simulate an HTTP redirect. By the way, remember that <code>window.location.replace()</code> method doesn't put the originating page in the session history, which may affect behavior of the back button. Sometime, it's what you want, so use it carefully.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Doesn't put originating page in history\r\nwindow.location.replace(\"http://stackoverflow.com\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 35770082, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>All way to make a redirect from the client side:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;JavaScript and jQuery example to redirect a page or URL &lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div id=\"redirect\"&gt;\r\n            &lt;h2&gt;Redirecting to another page&lt;/h2&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;script src=\"scripts/jquery-1.6.2.min.js\"&gt;&lt;/script&gt;\r\n        &lt;script&gt;\r\n            // JavaScript code to redirect a URL\r\n            window.location.replace(\"http://stackoverflow.com\");\r\n            // window.location.replace('http://code.shouttoday.com');\r\n\r\n            // Another way to redirect page using JavaScript\r\n\r\n            // window.location.assign('http://code.shouttoday.com');\r\n            // window.location.href = 'http://code.shouttoday.com';\r\n            // document.location.href = '/relativePath';\r\n\r\n            //jQuery code to redirect a page or URL\r\n            $(document).ready(function(){\r\n                //var url = \"http://code.shouttoday.com\";\r\n                //$(location).attr('href',url);\r\n                // $(window).attr('location',url)\r\n                //$(location).prop('href', url)\r\n            });\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 35790273, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Try:</p>\n\n<pre><code>window.location.href = 'url';\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>window.location = 'url';\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 35791398, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>Here is a working demo given for you:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.location.replace(\"http://www.tutorialrepublic.com/\");</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Put any HTML you want, it will redirect to \"http://www.tutorialrepublic.com/\" in any case.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can find more in <strong><a href=\"http://www.tutorialrepublic.com/faq/how-to-redirect-a-page-using-jquery.php\" rel=\"nofollow\">here</a></strong>.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 36424020, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<h1>ES6 + jQuery, 85 bytes</h1>\n\n<pre><code>$({jQueryCode:(url)=&gt;location.replace(url)}).attr(\"jQueryCode\")(\"http://example.com\")\n</code></pre>\n\n<p>Please don't kill me, this is a joke. It's a joke. <em>This is a joke.</em></p>\n\n<p><strong>Edit:</strong>\nThis did \"provide an answer to the question\", in the sense that it asked for a solution \"using jQuery\" which in this case entails forcing it into the equation somehow.</p>\n\n<p>Ferrybig apparently needs the joke explained (still joking, I'm sure there are limited options on the review form), so without further ado:</p>\n\n<p>Other answers are using jQuery's <code>attr()</code> on the <code>location</code> or <code>window</code> objects unnecessarily.\nThis answer also abuses it, but in a more ridiculous way.\nInstead of using it to set the location, this uses <code>attr()</code> to retrieve a function that sets the location.</p>\n\n<p>The function is named <code>jQueryCode</code> even though there's nothing jQuery about it, and calling a function <code>somethingCode</code> is just horrible, especially when the something is not even a language.</p>\n\n<p>The \"85 bytes\" is a reference to Code Golf. Golfing is obviously not something you should do outside of code golf, and furthermore this answer is clearly not actually golfed.</p>\n\n<p>Basically, cringe.</p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 36604292, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>I already use the function redirect() of JavaScript. It's working.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function () {\n        //It's similar to HTTP redirect\n        window.location.replace(\"http://www.Technomark.in\");\n\n        //It's similar to clicking on a link\n        window.location.href = \"Http://www.Technomark.in\";\n    })\n&lt;/script&gt;\n</code></pre>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 37864649, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}, {"body": "<p>You can use </p>\n\n<pre><code>window.location.replace(\"http://www.example.com/\");\n</code></pre>\n\n<p>replace() method does not save the originating page in the session history, so the user can't go back using the back button and again get redirected. NOTE: browser back button will be deactivated in this case</p>\n\n<p>However, if you want an effect same as clicking on a link you should go for</p>\n\n<pre><code>window.location.href = \"http://www.example.com/\";\n</code></pre>\n\n<p>In this case the browser back button will be active. </p>\n", "title": "How to redirect to another page in jQuery?", "answer_id": 39199943, "question_id": 503093, "tags": ["javascript", "jquery", "redirect"]}], "question_id": 503093}, {"body": "<p>Usually, I would expect a <code>String.contains()</code> method, but there doesn't seem to be one. What is a reasonable way to check for this?</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "tags": ["javascript", "string", "substring", "string-matching"], "answer_count": 39, "link": "http://stackoverflow.com/questions/1789945/how-to-check-if-one-string-contains-another-substring-in-javascript", "answers": [{"body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\"><code>String.prototype.indexOf</code></a> returns the position of the string in the other string. If not found, it will return <code>-1</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var string = \"foo\",\r\n    substring = \"oo\";\r\nconsole.log(string.indexOf(substring) !== -1);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 1789952, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<pre><code>var index = haystack.indexOf(needle);\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 1789955, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Use a regular expression:</p>\n\n<p><a href=\"http://www.javascriptkit.com/javatutors/redev3.shtml\"><code>RegExp.test(string)</code></a></p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 1789980, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>The problem with your code is that JavaScript is case sensitive. Your method call</p>\n\n<pre><code>indexof()\n</code></pre>\n\n<p>should actually be</p>\n\n<pre><code>indexOf()\n</code></pre>\n\n<p>Try fixing it and see if that helps:</p>\n\n<pre><code>if (test.indexOf(\"title\") !=-1) {\n    alert(elm);\n    foundLinks++;\n}\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 1790364, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You need to call indexOf with a capital \"O\" as mentioned. It should also be noted, that in JavaScript class is a reserved word, you need to use className to get this data attribute. The reason it's probably failing is because it's returning a null value. You can do the following to get your class value...</p>\n\n<pre><code>var test = elm.getAttribute(\"className\");\n//or\nvar test = elm.className\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 1790961, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You can easily add a <code>contains</code> method to String with this statement:</p>\n\n<pre><code>String.prototype.contains = function(it) { return this.indexOf(it) != -1; };\n</code></pre>\n\n<p><em>Note:</em> see the comments below for a valid argument for not using this. My advice: use your own judgement.</p>\n\n<p>Alternatively:</p>\n\n<pre><code>if (typeof String.prototype.contains === 'undefined') { String.prototype.contains = function(it) { return this.indexOf(it) != -1; }; }\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 1978419, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You could use the JavaScript <code>search()</code> method.</p>\n\n<p>Syntax is: <code>string.search(regexp)</code></p>\n\n<p>It returns the position of the match, or -1 if no match is found.</p>\n\n<p>See examples there: <a href=\"http://www.w3schools.com/jsref/jsref_search.asp\">jsref_search</a></p>\n\n<p>You don't need a complicated regular expression syntax. If you are not familiar with them a simple <code>st.search(\"title\")</code> will do. If you want your test to be case insensitive, then you should do <code>st.search(/title/i)</code>.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 2385801, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You can use jQuery's <code>:contains</code> selector.</p>\n\n<pre><code>$(\"div:contains('John')\")\n</code></pre>\n\n<p>Check it here: <a href=\"http://api.jquery.com/contains-selector/\">contains-selector</a></p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 5294053, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>This just worked for me. It selects for strings that do not contain the term \"Deleted:\"</p>\n\n<pre><code>if (eventString.indexOf(\"Deleted:\") == -1)\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 7842708, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>This piece of code should work well:</p>\n\n<pre><code>var str=\"This is testing for javascript search !!!\";\nif(str.search(\"for\") != -1) {\n   //logic\n} \n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 10795023, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p><a href=\"http://stackoverflow.com/q/9316612/497418\">A common way to write a <code>contains</code> method in JS</a> is:</p>\n\n<pre><code>if (!String.prototype.contains) {\n    String.prototype.contains = function (arg) {\n        return !!~this.indexOf(arg);\n    };\n}\n</code></pre>\n\n<p>The bitwise negation operator (<code>~</code>) is used to turn <code>-1</code> into <code>0</code> (falsey), and all other values will be non-zero (truthy).</p>\n\n<p>The double boolean negation operators are used to cast the number into a boolean.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 12399125, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Another option of doing this is:</p>\n\n<p>You can use the match function, that is, something like:</p>\n\n<pre><code>x = \"teststring\";\n\nif (x.match(\"test\")) {\n     // Code\n}\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 12652006, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p><strong>Update for 2015</strong>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\"><code>string.includes</code> has been added to JavaScript's next version, ES6</a>:</p>\n\n<pre><code>\"potato\".includes(\"to\");\n&gt; true\n</code></pre>\n\n<p>Note you may need to load <code>es6-shim</code> or similar to get this working on older browsers.</p>\n\n<pre><code>require('es6-shim')\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 14193950, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>JavaScript code to use the <code>contains</code> method in an array:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;h2&gt;Use of contains() method&lt;/h2&gt;\n        &lt;script&gt;\n            Array.prototype.contains = function (element) {\n                for (var i = 0; i &lt; this.length; i++) {\n                    if (this[i] == element) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n            arr1 = [\"Rose\", \"India\", \"Technologies\"];\n            document.write(\"The condition is \"+arr1.contains(\"India\")+\"&lt;br&gt;\");\n        &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;b&gt;[If the specified element is present in the array, it returns true otherwise\n    returns false.]&lt;/b&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>In the given code the <code>contains</code> method determines whether the specified element is present in the array or not. If the specified element is present in the array, it returns true, otherwise it returns false.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 15130199, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Since there is a complaint about using the prototype, and since using <code>indexOf</code> makes your code less readable, and since regexp is overkill:</p>\n\n<pre><code>function stringContains(inputString, stringToFind) {\n    return (inputString.indexOf(stringToFind) != -1);\n}\n</code></pre>\n\n<p>That is the compromise I ended up going for.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 18379376, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You were looking for <code>.indexOf</code><sup><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\">MDN</a></sup>.</p>\n\n<p><code>indexOf</code> is going to return an index to the matched substring. The index will correlate to where the substring starts. If there is no match, a -1 is returned. Here is a <strong><a href=\"http://jsfiddle.net/BFT5T/\">simple demo</a></strong> of that concept:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"Hello World\"; // For example, lets search this string,\r\nvar term = \"World\"; // for the term \"World\",\r\nvar index = str.indexOf(term); // and get its index.\r\nif (index != -1) { // If the index is not -1 then the term was matched in the string,\r\n  alert(index); // and we can do some work based on that logic. (6 is alerted)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 18499890, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\"><code>String.prototype.includes()</code></a> was introduced in ES6.</p>\n\n<blockquote>\n  <p>Determines whether one string may be found within another string, \n  returning true or false as appropriate.</p>\n</blockquote>\n\n<h2>Syntax</h2>\n\n<pre><code>var contained = str.includes(searchString [, position]);  \n</code></pre>\n\n<h2>Parameters</h2>\n\n<pre><code>searchString\n</code></pre>\n\n<p>A string to be searched for within this string.</p>\n\n<pre><code>position\n</code></pre>\n\n<p>The position in this string at which to begin searching for <code>searchString</code> defaults to 0.  </p>\n\n<h2>Example</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"To be, or not to be, that is the question.\";\r\n\r\nconsole.log(str.includes(\"To be\"));    // true\r\nconsole.log(str.includes(\"question\")); // true\r\nconsole.log(str.includes(\"To be\", 1)); // false  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Note</h2>\n\n<p>This may require ES6 shim in older browsers.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 19486875, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Since the question is pretty popular, I thought I could add a little modern flavor to the code.</p>\n\n<pre><code>var allLinks = content.document.getElementsByTagName(\"a\")\n,   il       = allLinks.length\n,   i        = 0\n,   test\n,   alrt;\n\nwhile (i &lt; il) {\n    elm  = allLinks[i++];\n    test = elm.getAttribute(\"class\");\n\n    if (test.indexOf(\"title\") &gt; -1)\n        console.log(elm), foundLinks++;\n}\nalrt = foundLinks ? \"Found \" + foundLinks + \" title class\" : \"No title class found\";\nconsole.log(alrt);\n</code></pre>\n\n<p>BTW, the correct answer is misspelling <code>indexOf</code> or the non-standard <code>String.contains</code>.\nLoading an external library (especially if the code is written in pure JavaScript) or messing with <code>String.prototype</code> or using a <a href=\"http://en.wikipedia.org/wiki/Regular_expression\">regular expression</a> is a little overkill.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 19620045, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Try this:</p>\n\n<pre><code>if ('Hello, World!'.indexOf('orl') !== -1)\n    alert(\"The string 'Hello World' contains the substring 'orl'!\");\nelse\n    alert(\"The string 'Hello World' does not contain the substring 'orl'!\");\n</code></pre>\n\n<p>Here is an example: <a href=\"http://jsfiddle.net/oliverni/cb8xw/\">jsfiddle</a></p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 20274613, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Instead of using code snippets found here and there on the web, you can also use a well-tested and documented library. Two Options I would recommend:</p>\n\n<hr>\n\n<p><strong>1st option:</strong> Use <a href=\"https://lodash.com/\">Lodash</a>: It has an <a href=\"https://lodash.com/docs#includes\"><code>includes</code></a> method:</p>\n\n<pre><code>_.includes('foobar', 'ob');\n// \u2192 true\n</code></pre>\n\n<p>Lodash is the most popular javascript library dependency for npm and has loads of handy javascript utility methods. So for many projects you would want this anyway ;-)</p>\n\n<hr>\n\n<p><strong>2nd option:</strong> Or use <a href=\"http://epeli.github.io/underscore.string/\">Underscore.string</a>: It has an <a href=\"https://github.com/epeli/underscore.string#includestring-substring--boolean\"><code>include</code></a> method: </p>\n\n<pre><code>_.str.include('foobar', 'ob');\n// \u2192 true\n</code></pre>\n\n<p>Here is the description of Underscore.string, it just adds 9kb but gives you all the advantages a well-tested and documented library has over copy'n'paste code snippets:</p>\n\n<blockquote>\n  <p>Underscore.string is JavaScript library for comfortable manipulation\n  with strings, extension for Underscore.js inspired by Prototype.js,\n  Right.js, Underscore and beautiful Ruby language.</p>\n  \n  <p>Underscore.string provides you several useful functions: capitalize,\n  clean, includes, count, escapeHTML, unescapeHTML, insert, splice,\n  startsWith, endsWith, titleize, trim, truncate and so on.</p>\n</blockquote>\n\n<p>Note well, Underscore.string is influenced by <a href=\"http://underscorejs.org/\">Underscore.js</a> but can be used without it.</p>\n\n<hr>\n\n<p><strong>Last not Least:</strong> With JavaScript version ES6 comes an built-in <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/String/includes\"><code>includes</code></a> method:</p>\n\n<pre><code>'foobar'.includes('ob');\n// \u2192 true\n</code></pre>\n\n<p>Most modern browsers already support it, have an eye on the <a href=\"http://kangax.github.io/compat-table/es6/#test-String.prototype_methods_String.prototype.includes\">ES6 compatibility table</a>.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 20575032, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>This is a function to check if a substring is existing in a string or not:</p>\n\n<pre><code>function isStringMatch(str, str_to_match) {\n    return (str.indexOf(str_to_match) &gt; -1);\n}\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 20883439, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>If you don't like the <code>!!~</code>, etc. tricks, you can simply add <code>+1</code> to the result of <code>.indexOf()</code>. This way if a string is not found, <code>-1 + 1 = 0</code> will be falsy, <code>0.. + 1 = 1..</code> will be truthy:</p>\n\n<pre><code>if (\"StackOverflow\".indexOf(\"Stack\") + 1 )\n    alert('contains');\nelse \n    alert('does not contain');\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 22750676, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Use the inbuilt and simplest one i.e <code>match()</code> on the string. To achieve what you are looking forward do this:</p>\n\n<pre><code>var stringData =\"anyString Data\";\n\nvar subStringToSearch = \"any\";\n\n// This will give back the substring if matches and if not returns null\nvar doesContains = stringData.match(subStringToSearch);\n\nif(doesContains !=null) {\n    alert(\"Contains Substring\");\n}\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 23436150, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>If you were looking for an alternative to write the ugly -1 check, you prepend a ~ tilde instead. </p>\n\n<pre><code>if (~haystack.indexOf('needle')) alert('found');\n</code></pre>\n\n<blockquote>\n  <p><strong><a href=\"http://www.joezimjs.com/authors/joe-zimmerman/\">Joe Zimmerman</a></strong> - you'll see that using ~ on -1 converts it to 0. The number 0 is a\n  falsey value, meaning that it will evaluate to false when converted to\n  a Boolean. That might not seem like a big insight at first, but\n  remember functions like indexOf will return -1 when the query is not\n  found. This means that instead of writing something similar to this:</p>\n\n<pre><code>if (someStr.indexOf(\"a\") &gt;= 0) {\n  // Found it\n} else  {\n  // Not Found\n}\n</code></pre>\n  \n  <p>You can now have fewer characters in your code so you can write it\n  like this:</p>\n\n<pre><code>if (~someStr.indexOf(\"a\")) {\n  // Found it\n} else  {\n  // Not Found\n}\n</code></pre>\n</blockquote>\n\n<p>More <a href=\"http://www.joezimjs.com/javascript/great-mystery-of-the-tilde/\">details here</a></p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 23598591, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>The easyest way is indeed using <strong>indexOf</strong>. To just check a string <code>string</code> for a substring <code>substr</code> you can use this method:</p>\n\n<pre><code>string = \"asdf\";\nsubstr = \"as\";\nalert(string.indexOf(substr) == -1 ? false : true);\n</code></pre>\n\n<hr>\n\n<p>As you wanted the function <code>string.contains()</code>, you can implement it yourself like this:</p>\n\n<pre><code>String.prototype.contains = function(test) {\n    return this.indexOf(test) == -1 ? false : true;\n};\n</code></pre>\n\n<p>Now you can use this ecen shorter method to check if a string contains a special substring:</p>\n\n<pre><code>string = \"asdf\";\nalert(string.contains(\"as\"));\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/Lfvga/\">JSFiddle</a> as well.</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 23889974, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<pre><code>result = 'GBP|1800';\n//if pipe delimeter is there it returns true else false.\nif(result.indexOf(\"|\"))\n{\n    console.log('go default:' +result);\n    var cur = result.substring(0, 3);//returns GBP\n    console.log('go default cur:' +cur);\n    var minmum_fee = result.substring(4);//gets the substring amount\n    console.log('go default minmum_fee:' +minmum_fee);\n\n}\nelse\n{\n    console.log('not found:' +result);\n}\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 26546723, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>ES6 contains <code>String.prototype.includes</code>.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes</a></p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 26814160, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>One more Function <code>search</code></p>\n\n<pre><code>var str = \"stack Overflow\";\nvar n = str.search(\"Overflow\");\nif(n != -1)\nalert('String exists')\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 26884413, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>There is a sleek and better way to do this and it is using the (BitWise NOT) operator.</p>\n\n<pre><code>if(~\"John\".indexOf(\"J\")) {\n  alert(\"Found\")\n}\nelse {\n  alert(\"Not Found\");\n}\n</code></pre>\n\n<p>The Bitwise Not converts \"x\" into -(x + 1) so, if the x turns out -1 from indexOf method.then it will be converted into -( -1 + 1) = -0 which is a falsy value .</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 27341994, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p><strong>JavaScript</strong></p>\n\n<pre><code> var str = \"My big string contain apples and oranges\";\n var n = str.indexOf(\"apples\"); \n alert(n); //will alert 22, -1 if not found\n</code></pre>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>  &lt;p&gt;My big string contain apples and oranges&lt;/p&gt;\n  alert($(\"p:contains(apples)\")[0] != undefined); //will alert true if found\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 27509707, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>To collect some kind of valid solutions:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var stringVariable = \"some text\";\r\nvar findString = \"text\";\r\n\r\n//using `indexOf()`\r\nvar containResult = stringVariable.indexOf(findString) != -1;\r\nconsole.log(containResult);\r\n\r\n//using `lastIndexOf()`\r\nvar containResult = stringVariable.lastIndexOf(findString) != -1;\r\nconsole.log(containResult);\r\n\r\n//using `search()`\r\nvar containResult = stringVariable.search(findString) != -1;\r\nconsole.log(containResult);\r\n     \r\n//using `split()`\r\nvar containResult = stringVariable.split(findString)[0] != stringVariable;\r\nconsole.log(containResult);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 30867162, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>In <strong>ES5</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var s = \"foo\";\r\nalert(s.indexOf(\"oo\") &gt; -1);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In <strong>ES6</strong> there are three new methods: <code>includes()</code>, <code>startsWith()</code>, <code>endsWith()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var msg = \"Hello world!\";\r\n\r\nconsole.log(msg.startsWith(\"Hello\"));       // true\r\nconsole.log(msg.endsWith(\"!\"));             // true\r\nconsole.log(msg.includes(\"o\"));             // true\r\n\r\nconsole.log(msg.startsWith(\"o\", 4));        // true\r\nconsole.log(msg.endsWith(\"o\", 8));          // true\r\nconsole.log(msg.includes(\"o\", 8));          // false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 31892762, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Simple workaround </p>\n\n<pre><code>if (!String.prototype.contains) {\n  String.prototype.contains= function() {\n    return String.prototype.indexOf.apply(this, arguments) !== -1;\n  };\n}\n</code></pre>\n\n<p>you can use in the following way</p>\n\n<pre><code>\"hello\".contains(\"he\") // true\n\"hello world\".contains(\"lo w\")//true\n\"hello world\".contains(\"lo wa\")//false\n\"hello world\".contains(\" \")//true\n\"hello world\".contains(\"  \")//false\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\">MDN reference</a></p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 32137302, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>I know that best way is <code>str.indexOf(s) !== -1;</code> <a href=\"http://hayageek.com/javascript-string-contains/\">http://hayageek.com/javascript-string-contains/</a></p>\n\n<p>I suggest another way(<code>str.replace(s1, \"\") !== str</code>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"Hello World!\", s1 = \"ello\", s2 = \"elloo\";\r\nalert(str.replace(s1, \"\") !== str);\r\nalert(str.replace(s2, \"\") !== str);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 32880279, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>Example </p>\n\n<pre><code>var a  = \"Test String\";\n\nif(a.search(\"ring\")!=-1){\n     //exist \n} else {\n     //not found \n}\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 33672222, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<h3><code>String.prototype.indexOf()</code> or <code>String.prototype.search()</code>?!</h3>\n\n<p>As others have already mentioned, JavaScript strings have both an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\"><code>indexOf</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search\"><code>search</code></a> method. </p>\n\n<p>The key difference between both, is that <code>indexOf</code> is for plain substrings only, whereas <code>search</code> also supports regular expressions. Of course, an upside of using <code>indexOf</code> is that it's faster.</p>\n\n<p>See also <a href=\"http://stackoverflow.com/questions/354110/in-javascript-what-is-the-difference-between-indexof-and-search\">In Javascript, what is the difference between indexOf() and search()?</a></p>\n\n<h3>Implementing your own <code>String.prototype.contains()</code> method</h3>\n\n<p>If you want to add your own <code>contains</code> method to every string, the best way to do it would be <a href=\"http://stackoverflow.com/users/497418/zzzzbov\">@zzzzBov</a>'s approach :</p>\n\n<pre><code>if (!String.prototype.contains) {\n    String.prototype.contains = function (arg) {\n        return !!~this.indexOf(arg);\n    };\n}\n</code></pre>\n\n<p>You would use it like this :</p>\n\n<pre><code>'Hello World'.contains('orl');\n</code></pre>\n\n<h3>Implementing a custom utility library</h3>\n\n<p>It is generally frowned upon to add your own custom methods to standard objects in Javascript, eg. because it might break forward compatibility.</p>\n\n<p>If you really want your own <code>contains</code> method and/or other custom string methods, it's better to create your own utility library and add your custom string methods to that library :</p>\n\n<pre><code>var helper = {};\n\nhelper.string = {\n    contains : function (haystack, needle) {\n        return !!~haystack.indexOf(needle);\n    }, \n    ...\n};\n</code></pre>\n\n<p>You would use it like this :</p>\n\n<pre><code>helper.string.contains('Hello World', 'orl');\n</code></pre>\n\n<h3>Using a 3rd party utility library</h3>\n\n<p>If you don't want to create your own custom helper library, there is - of course - always the option of using a 3rd pary utility library. As mentioned by <a href=\"http://stackoverflow.com/users/1129950/nachtigall\">@nachtigall</a>, the most popular ones are <a href=\"https://lodash.com/\">Lodash</a> and <a href=\"http://underscorejs.org/\">Underscore.js</a>.</p>\n\n<p>In Lodash, you could use <code>_.includes()</code>, which you use like this :</p>\n\n<pre><code>_.includes('Hello World', 'orl');\n</code></pre>\n\n<p>In Underscore.js, you could use <code>_.str.include()</code>, which you use like this :</p>\n\n<pre><code>_.str.include('Hello World', 'orl');\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 35538937, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You can use <code>indexOf</code> which returns the position of the string. If not found, it will return -1. So if the method returns <code>-1</code> string doesn't exist</p>\n\n<pre><code>var string = \"This is a test string\",\nsubstring = \"test\";\nif(string.indexOf(substring) &gt;= 0)\n  //substring exist\nelse\n  //substring does not exist\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 36333510, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>You can also do something like this</p>\n\n<pre><code>var snipers = \" Vasily Zaytsev, Simo Hayha, Chris Kyle\";\nvar me = \"Josip\";\n\nfunction printSniperStatus (person) {\n    if (aContainsB(snipers, person)) {\n        console.log(person + \" is a sniper.\");\n    } else {\n        console.log(person + \" is NOT a sniper.\");\n    }\n}\n\n// Outputs: \"Josip is NOT a sniper.\"\nprintSniperStatus(me);\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 36573075, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}, {"body": "<p>There are multiple ways to do this. But most of the time, you will be fine using the <code>indexOf()</code> method. <code>indexOf()</code> returns the position of the string passed to it as argument and -1 if the string on which it was called doesn't contain the argument string.</p>\n\n<pre><code>var str = \"A cat and a dog\";\nstr.indexOf(\"cat\"); // returns 2\nstr.indexOf(\"panda\"); // returns -1\n</code></pre>\n", "title": "How to check if one string contains another substring in JavaScript?", "answer_id": 38552137, "question_id": 1789945, "tags": ["javascript", "string", "substring", "string-matching"]}], "question_id": 1789945}, {"body": "<p>Recently, I ran some of my JavaScript code through Crockford's <a href=\"http://www.jslint.com/\">JSLint</a>, and it gave the following error:</p>\n\n<blockquote>\n  <p>Problem at line 1 character 1: Missing \"use strict\" statement.</p>\n</blockquote>\n\n<p>Doing some searching, I realized that some people add <code>\"use strict\";</code> into their JavaScript code. Once I added the statement, the error stopped appearing. Unfortunately, Google did not reveal much of the history behind this string statement. Certainly it must have something to do with how the JavaScript is interpreted by the browser, but I have no idea what the effect would be.</p>\n\n<p>So what is <code>\"use strict\";</code> all about, what does it imply, and is it still relevant?</p>\n\n<p>Do any of the current browsers respond to the <code>\"use strict\";</code> string or is it for future use?</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "tags": ["javascript", "syntax", "jslint", "use-strict"], "answer_count": 20, "link": "http://stackoverflow.com/questions/1335851/what-does-use-strict-do-in-javascript-and-what-is-the-reasoning-behind-it", "answers": [{"body": "<p>It's a new feature of ECMAScript 5. John Resig wrote up <a href=\"http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\">a nice summary</a> of it.</p>\n\n<p>It's just a string you put in your JavaScript files (either at the top of your file or inside of a function) that looks like this:</p>\n\n<pre><code>\"use strict\";\n</code></pre>\n\n<p>Putting it in your code now shouldn't cause any problems with current browsers as it's just a string. It may cause problems with your code in the future if your code violates the pragma.  For instance, if you currently have <code>foo = \"bar\"</code> without defining <code>foo</code> first, your code will start failing...which is a good thing in my opinion.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 1335875, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>This article about Javascript Strict Mode might interest you: <a href=\"http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\">John Resig - ECMAScript 5 Strict Mode, JSON, and More</a></p>\n\n<p>To quote some interesting parts:</p>\n\n<blockquote>\n  <p>Strict Mode is a new feature in ECMAScript 5 that allows you to place a program, or a function, in a \"strict\" operating context. This strict context prevents certain actions from being taken and throws more exceptions.</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>Strict mode helps out in a couple ways:</p>\n  \n  <ul>\n  <li>It catches some common coding bloopers, throwing exceptions.</li>\n  <li>It prevents, or throws errors, when relatively \"unsafe\" actions are taken (such as gaining access to the global object).</li>\n  <li>It disables features that are confusing or poorly thought out.</li>\n  </ul>\n</blockquote>\n\n<p>Also note you can apply \"strict mode\" to the whole file... Or you can use it only for a specific function <em>(still quoting from John Resig's article)</em>:</p>\n\n<blockquote>\n<pre><code>// Non-strict code...\n\n(function(){\n  \"use strict\";\n\n  // Define your library strictly...\n})();\n\n// Non-strict code... \n</code></pre>\n</blockquote>\n\n<p>Which might be helpful if you have to mix old and new code ;-)</p>\n\n<p>So, I suppose it's a bit like the <code>\"use strict\"</code> you can use in Perl <em>(hence the name?)</em>: it helps you make fewer errors, by detecting more things that could lead to breakages.</p>\n\n<p>Currently, it's <a href=\"http://caniuse.com/#use-strict\"><strong>supported by all major browsers</strong></a> <em>(bar IE 9 and below)</em>.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 1335881, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>If you use a browser released in the last year or so then it most likely supports JavaScript Strict mode. Only older browsers around before ECMAScript 5 became the current standard don't support it. </p>\n\n<p>The quotes around the command make sure that the code will still work in older browsers as well (although the things that generate a syntax error in strict mode will generally just cause the script to malfunction in some hard to detect way in those older browsers).</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 9643692, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>If people are worried about using <code>use strict</code> it might be worth checking out this article: </p>\n\n<p><a href=\"http://www.novogeek.com/post/ECMAScript-5-Strict-mode-support-in-browsers-What-does-this-mean.aspx\">ECMAScript 5 'Strict mode' support in browsers. What does this mean?</a><br>\n  <em>NovoGeek.com - Krishna's weblog</em></p>\n\n<p>It talks about browser support, but more importantly how to deal with it safely:</p>\n\n<pre><code>function isStrictMode(){\n    return !this;\n} \n//returns false, since 'this' refers to global object and '!this' becomes false\n\nfunction isStrictMode(){   \n    \"use strict\";\n    return !this;\n} \n//returns true, since in strict mode, the keyword 'this' does not refer to global object, unlike traditional JS. So here,'this' is 'undefined' and '!this' becomes true.\n</code></pre>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 11496488, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>\"Use Strict\"; is an insurance that programmer will not use the loose or the bad properties of JavaScript. It is a guide, just like a ruler will help you make straight lines. \"Use Strict\" will help you do \"Straight coding\".</p>\n\n<p>Those that prefer not to use rulers to do their lines straight usually end up in those pages asking for others to debug their code.</p>\n\n<p>Believe me. The overhead is negligible compared to poorly designed code. <a href=\"http://www.yuiblog.com/blog/2010/12/14/strict-mode-is-coming-to-town/\">Doug Crockford, who has been a senior JavaScript developer for several years, has a very interesting post here</a>. Personally, I like to return to his site all the time to make sure I don't forget my good practice.</p>\n\n<p><strong>Modern JavaScript practice should always evoke the \"Use Strict\"; pragma.</strong> The only reason that the ECMA Group has made the \"Strict\" mode optional <em>is to permit less experienced coders access to JavaScript and give then time to adapt to the new and safer coding practices.</em></p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 16863603, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>I strongly recommend every developer to start using strict mode now. There are enough browsers supporting it that strict mode will legitimately help save us from errors we didn\u2019t even know were in your code.</p>\n\n<p>Apparently, at the initial stage there will be errors we have never encountered before. To get the full benefit, we need to do proper testing after switching to strict mode to make sure we have caught everything. Definitely we don\u2019t just throw <code>use strict</code> in our code and assume there are no errors. So the churn is that it\u2019s time to start using this incredibly useful language feature to write better code.</p>\n\n<p>For example,</p>\n\n<pre><code>var person = {\n    name : 'xyz',\n    position : 'abc',\n    fullname : function () {  \"use strict\"; return this.name; }\n};\n</code></pre>\n\n<p><a href=\"http://www.jslint.com/\">JSLint</a> is a debugger written by Douglas Crockford. Simply paste in your script, and it\u2019ll quickly scan for any noticeable issues and errors in your code.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 17495829, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>A word of caution, all you hard-charging programmers:  applying \"use strict\" to existing code can be hazardous!  This thing is not some feel-good, happy-face sticker that you can slap on the code to make it 'better'.  With the \"use strict\" pragma, the browser will suddenly THROW exceptions in random places that it never threw before just because at that spot you are doing something that default/loose JavaScript happily allows but strict JavaScript abhors!  You may have strictness violations hiding in seldom used calls in your code that will only throw an exception when they do eventually get run - say, in the production environment that your paying customers use!</p>\n\n<p>If you are going to take the plunge, it is a good idea to apply \"use strict\" alongside comprehensive unit tests and a strictly configured JSHint build task that will give you some confidence that there is no dark corner of your module that will blow up horribly just because you've turned on Strict Mode.  Or, hey, here's another option:  just don't add \"use strict\" to any of your legacy code, it's probably safer that way, honestly.  DEFINITELY DO NOT add \"use strict\" to any modules you do not own or maintain, like third party modules.</p>\n\n<p>I think even though it is a deadly caged animal, \"use strict\" can be good stuff, but you have to do it right.  The best time to go strict is when your project is greenfield and you are starting from scratch.  Configure JSHint/JSLint with all the warnings and options cranked up as tight as your team can stomach, get a good build/test/assert system du jour rigged like Grunt+Karma+Chai, and only THEN start marking all your new modules as \"use strict\".  Be prepared to cure lots of niggly errors and warnings.  Make sure everyone understands the gravity by configuring the build to FAIL if JSHint/JSLint produces any violations.</p>\n\n<p>My project was not a greenfield project when I adopted \"use strict\".  As a result, my IDE is full of red marks because I don't have \"use strict\" on half my modules, and JSHint complains about that.  It's a reminder to me about what refactorings I should do in the future.  My goal is to be red mark free due to all of my missing \"use strict\" statements, but that is years away now.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 22141126, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>Strict mode makes several changes to normal JavaScript semantics:</p>\n\n<ul>\n<li><p>eliminates some JavaScript silent errors by changing them\nto throw errors.</p></li>\n<li><p>fixes mistakes that make it difficult for JavaScript\nengines to perform optimizations.</p></li>\n<li><p>prohibits some syntax likely to be defined in future\nversions of ECMAScript.</p></li>\n</ul>\n\n<p>for more information vistit <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/Strict_mode\">Strict Mode- Javascript</a></p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 22687419, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>There's a good talk by some people who were on the ECMAScript committee: <a href=\"http://www.youtube.com/watch?v=Kq4FpMe6cRs\">Changes to JavaScript, Part 1: ECMAScript 5\"</a> about how incremental use of the <code>\"use strict\"</code> switch allows JavaScript implementers to clean up a lot of the dangerous features of JavaScript without suddenly breaking every website in the world.</p>\n\n<p>Of course it also talks about just what a lot of those misfeatures are (were) and how ECMAScript 5 fixes them.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 22725570, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>Including <code>use strict</code> in the beginning of your all sensitive JavaScript files from this point is a small way to be a better JavaScript programmer and avoid random variables becoming global and things change silently.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 25686413, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p><em>My two cents:</em></p>\n\n<p>One of the goals of strict mode is to allow for faster debugging of issues. It helps the developers by throwing exception when certain wrong things occur that can cause silent &amp; strange behaviour of your webpage. The moment we use <code>use strict</code>, the code will throw out errors which helps developer to fix it in advance.</p>\n\n<p>Few important things which I have learned after using <code>use strict</code> :</p>\n\n<p><strong><em>Prevents Global Variable Declaration:</em></strong></p>\n\n<pre><code>var tree1Data = { name: 'Banana Tree',age: 100,leafCount: 100000};\n\nfunction Tree(typeOfTree) {\n    var age;\n    var leafCount;\n\n    age = typeOfTree.age;\n    leafCount = typeOfTree.leafCount;\n    nameoftree = typeOfTree.name;\n};\n\nvar tree1 = new Tree(tree1Data);\nconsole.log(window);\n</code></pre>\n\n<p>Now,this code creates <code>nameoftree</code> in global scope which could be accessed using <code>window.nameoftree</code>. When we implement <code>use strict</code> the code would throw error.</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: nameoftree is not defined</p>\n</blockquote>\n\n<p><a href=\"http://jsfiddle.net/shubh0602/08p556u5/\"><kbd>Sample</kbd></a></p>\n\n<p><strong><em>Eliminates <code>with</code> statement :</em></strong></p>\n\n<p><code>with</code> statements can't be minified using tools like <a href=\"http://marijnhaverbeke.nl/uglifyjs\">uglify-js</a>. They're also <a href=\"http://www.2ality.com/2011/06/with-statement.html\">deprecated</a> and removed from future JavaScript versions.</p>\n\n<p><a href=\"http://jsfiddle.net/shubh0602/vjgznz79/\"><kbd>Sample</kbd></a></p>\n\n<p><strong><em>Prevents Duplicates :</em></strong></p>\n\n<p>When we have duplicate property, it throws an exception </p>\n\n<blockquote>\n  <p>Uncaught SyntaxError: Duplicate data property in object literal not\n  allowed in strict mode</p>\n</blockquote>\n\n<pre><code>\"use strict\";\nvar tree1Data = {\n    name: 'Banana Tree',\n    age: 100,\n    leafCount: 100000,\n    name:'Banana Tree'\n};\n</code></pre>\n\n<p>There are few more but I need to gain more knowledge on that.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 26487977, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>The statement <code>\"use strict\";</code> instructs the browser to use the Strict mode, which is a reduced and safer feature set of JavaScript. </p>\n\n<h2>List of features (non-exhaustive)</h2>\n\n<ol>\n<li><p>Disallows global variables. (Catches missing <code>var</code> declarations and typos in variable names) </p></li>\n<li><p>Silent failing assignments will throw error in strict mode (assigning <code>NaN = 5;</code>) </p></li>\n<li><p>Attempts to delete undeletable properties will throw (<code>delete Object.prototype</code>) </p></li>\n<li><p>Requires all property names in an object literal to be unique (<code>var x = {x1: \"1\", x1: \"2\"}</code>) </p></li>\n<li><p>Function parameter names must be unique (<code>function sum (x, x) {...}</code>) </p></li>\n<li><p>Forbids octal syntax (<code>var x = 023;</code> some devs assume wrongly that a preceding zero does nothing to change the number.) </p></li>\n<li><p>Forbids the <code>with</code> keyword </p></li>\n<li><p><code>eval</code> in strict mode does not introduce new variables  </p></li>\n<li><p>Forbids deleting plain names (<code>delete x;</code>)</p></li>\n<li><p>Forbids binding or assignment of the names <code>eval</code> and <code>arguments</code> in any form </p></li>\n<li><p>Strict mode does not alias properties of the <code>arguments</code> object with the formal parameters. (i.e. in <code>function sum (a,b) { return arguments[0] + b;}</code> This works because <code>arguments[0]</code> is bound to <code>a</code> and so on. )</p></li>\n<li><p><code>arguments.callee</code> is not supported</p></li>\n</ol>\n\n<p>[Ref: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">Strict mode</a>, <em>Mozilla Developer Network</em>]</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 27114400, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<h2><strong>The \"use strict\" Directive</strong></h2>\n\n<p>The \"use strict\" directive is new in JavaScript 1.8.5 (ECMAScript version 5).</p>\n\n<p>It is not a statement, but a literal expression, ignored by earlier versions of JavaScript.</p>\n\n<p>The purpose of \"use strict\" is to indicate that the code should be executed in \"strict mode\".</p>\n\n<p>With strict mode, you can not, for example, use undeclared variables.</p>\n\n<h2>Why Strict Mode?</h2>\n\n<p>Strict mode makes it easier to write \"secure\" JavaScript.</p>\n\n<p>Strict mode changes previously accepted \"bad syntax\" into real errors.</p>\n\n<p>As an example, in normal JavaScript, mistyping a variable name creates a new global variable. In strict mode, this will throw an error, making it impossible to accidentally create a global variable.</p>\n\n<p>In normal JavaScript, a developer will not receive any error feedback assigning values to non-writable properties.</p>\n\n<p>In strict mode, any assignment to a non-writable property, a getter-only property, a non-existing property, a non-existing variable, or a non-existing object, will throw an error.</p>\n\n<p>Please refer to... </p>\n\n<blockquote>\n  <p><a href=\"http://www.w3schools.com/js/js_strict.asp\">http://www.w3schools.com/js/js_strict.asp</a></p>\n</blockquote>\n\n<p>...to know more</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 29940614, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>I would like to offer a somewhat more founded answer complementing the other answers. I was hoping to edit the most popular answer, but failed. I tried to make it as comprehensive and complete as I could.</p>\n\n<p>You can refer to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">MDN documentation</a> for more information.</p>\n\n<p><code>\"use strict\"</code> a directive introduced in ECMAScript 5.</p>\n\n<p>Directives are similar to statements, yet different.</p>\n\n<ul>\n<li><code>use strict</code> does not contain key words: The directive is a simple expression statement, which consists of a special string literal (in single or double quotes). JavaScript engines, that do not implement ECMAScript 5, merely see an expression statement without side effects. It is expected that future versions of ECMAScript standards introduce <code>use</code> as a real key word; the quotes would thereby become obsolete.</li>\n<li><code>use strict</code> can be used only at the beginning of a script or of a function, i.e. it must precede every other (real) statement. It does not have to be the first instruction in a script of function: it can be preceded by other statement expressions that consist of string literals ( and JavaScript implementations can treat them as implementation specific directives). String literals statements, which follow a first real statement (in a script or function) are simple expression statements. Interpreters must not interpret them as directives and they have no effect.</li>\n</ul>\n\n<p>The <code>use strict</code> directive indicates that the following code (in a script or a function) is strict code.\nThe code in the highest level of a script (code that is not in a function) is considered strict code when the script contains a <code>use strict</code> directive.\nThe content of a function is considered strict code when the function itself is defined in a strict code or when the function contains a <code>use strict</code> directive.\nCode that is passed to an <code>eval()</code> method is considered strict code when <code>eval()</code> was called from a strict code or contains the <code>use strict</code> directive itself.</p>\n\n<p>The strict mode of ECMAScript 5 is a restricted subset of the JavaScript language, which eliminates relevant deficits of the language and features more stringent error checking and higher security. The following lists the differences between strict mode and normal mode (of which the first three are particularly important):</p>\n\n<ul>\n<li>You cannot use the <code>with</code>-statement in strict mode.</li>\n<li>In strict mode all variables have to be declared: if you assign a value to an identifier that has not been declared as variable, function, function parameter, catch-clause parameter or property of the global <code>Object</code>, then you will get a <code>ReferenceError</code>. In normal mode the identifier is implicitly declared as a global variable (as a property of the global <code>Object</code>)</li>\n<li>In strict mode the keyword <code>this</code> has the value <code>undefined</code> in functions that were invoked as functions (not as methods). (In normal mode <code>this</code> always points to the global <code>Object</code>). This difference can be used to test if an implementation supports the strict mode:</li>\n</ul>\n\n<blockquote>\n<pre><code>var hasStrictMode = (function() { \"use strict\"; return this===undefined }());\n</code></pre>\n</blockquote>\n\n<ul>\n<li><p>Also when a function is invoked with <code>call()</code> or <code>apply</code> in strict mode, then <code>this</code> is exactly the value of the first argument of the <code>call()</code>or <code>apply()</code> invocation. (In normal mode <code>null</code> and <code>undefined</code> are replaced by the global <code>Object</code> and values, which are not objects, are cast into objects.)</p></li>\n<li><p>In strict mode you will get a <code>TypeError</code>, when you try to assign to readonly properties or to define new properties for a non extensible object. (In normal mode both simply fail without error message.)</p></li>\n<li>In strict mode, when passing code to <code>eval()</code>, you cannot declare or define variables or functions in the scope of the caller (as you can do it in normal mode). Instead, a new scope is created for <code>eval()</code> and the variables and functions are within that scope. That scope is destroyed after <code>eval()</code> finishes execution.</li>\n<li>In strict mode the arguments-object of a function contains a static copy of the values, which are passed to that function. In normal mode the arguments-object has a somewhat \"magical\" behaviour: The elements of the array and the named function parameters reference both the same value.</li>\n<li>In strict mode you will get a <code>SyntaxError</code> when the <code>delete</code> operator is followed by a non qualified identifier (a variable, function or function parameter). In normal mode the <code>delete</code> expression would do nothing and is evaluated to <code>false</code>.</li>\n<li>In strict mode you will get a <code>TypeError</code> when you try to delete a non configurable property. (In normal mode the attempt simply fails and the <code>delete</code> expression is evaluated to <code>false</code>).</li>\n<li>In strict mode it is considered a syntactical error when you try to define several properties with the same name for an object literal. (In normal mode there is no error.)</li>\n<li>In strict mode it is considered a syntactical error when a function declaration has multiple parameters with the same name. (In normal mode there is no error.)</li>\n<li>In strict mode octal literals are not allowed (these are literals that start with <code>0x</code>. (In normal mode some implementations do allow octal literals.)</li>\n<li>In strict mode the identifiers <code>eval</code> and <code>arguments</code> are treated like keywords. You cannot change their value, cannot assign a value to them, and you cannot use them as names for variables, functions, function parameters or identifiers of a catch block.</li>\n<li>In strict mode are more restrictions on the possibilities to examine the call stack. <code>arguments.caller</code> and <code>arguments.callee</code> cause a <code>TypeError</code> in a function in strict mode. Furthermore, some caller- and arguments properties of functions in strict mode cause a <code>TypeError</code> when you try to read them.</li>\n</ul>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 30253376, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>When adding <code>\"use strict\";</code>, the following cases will throw a <strong>SyntaxError</strong> before the script is executing:</p>\n\n<ul>\n<li><p><em>Paving the way for future ECMAScript versions</em>, using one of the newly reserved keywords (in prevision for <em>ECMAScript 6</em>): <code>implements</code>, <code>interface</code>, <code>let</code>, <code>package</code>, <code>private</code>, <code>protected</code>, <code>public</code>, <code>static</code>, and <code>yield</code>.</p></li>\n<li><p>Declaring function in blocks </p>\n\n<pre><code>if(a&lt;b){ function f(){} }\n</code></pre></li>\n<li><p>Octal syntax </p>\n\n<pre><code>var n = 023;\n</code></pre></li>\n<li><p><code>this</code> point to the global object.</p>\n\n<pre><code> function f() {\n      \"use strict\";\n      this.a = 1;\n };\n f(); \n</code></pre></li>\n<li><p>Declaring twice the same name for a property name in an object literal </p>\n\n<pre><code> {a: 1, b: 3, a: 7} \n</code></pre>\n\n<p>This is no longer the case in ECMAScript 6 (<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1041128\">bug 1041128</a>).</p></li>\n<li><p>Declaring two function arguments with the same name function </p>\n\n<pre><code>f(a, b, b){}\n</code></pre></li>\n<li><p>Setting a value to an undeclared variable</p>\n\n<pre><code>function f(x){\n   \"use strict\";\n   var a = 12;\n   b = a + x*35; // error!\n}\nf();\n</code></pre></li>\n<li><p>Using <code>delete</code> on a variable name <code>delete myVariable;</code></p></li>\n<li><p>Using <code>eval</code> or <code>arguments</code> as variable or function argument name</p>\n\n<pre><code>\"use strict\";\narguments++;\nvar obj = { set p(arguments) { } };\ntry { } catch (arguments) { }\nfunction arguments() { } \n</code></pre></li>\n</ul>\n\n<p>Source:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode\">Transitioning to strict mode</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">Strict Mode</a></p>\n\n<p><a href=\"http://cjihrig.com/blog/javascripts-strict-mode-and-why-you-should-use-it/\">strict mode you should use it</a></p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 34428027, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<h1>Using <code>'use strict';</code> does not suddenly make your code better.</h1>\n\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\" rel=\"nofollow\">JavaScript strict mode</a> is a feature in <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\" rel=\"nofollow\">ECMAScript 5</a>. You can enable the strict mode by declaring this in the top of your script/function.</p>\n\n<pre><code>'use strict';\n</code></pre>\n\n<p>When a JavaScript engine sees this <em>directive</em>, it will start to interpret the code in a special mode. In this mode, errors are thrown up when certain coding practices that could end up being potential bugs are detected (which is the reasoning behind the strict mode).</p>\n\n<p>Consider this example:</p>\n\n<pre><code>var a = 365;\nvar b = 030;\n</code></pre>\n\n<p>In their obsession to line up the numeric literals, the developer has inadvertently initialized variable <code>b</code> with an octal literal. Non-strict mode will interpret this as a numeric literal with value <code>24</code> (in base 10). However, strict mode will throw an error.</p>\n\n<p>For a non-exhaustive list of specialties in strict mode, see <a href=\"http://stackoverflow.com/a/27114400/1461424\">this answer</a>.</p>\n\n<hr>\n\n<h2>Where should I use <code>'use strict';</code>?</h2>\n\n<ul>\n<li><p>In my <em>existing</em> JavaScript code: <strong>Probably not!</strong> If your existing JavaScript code has statements that are prohibited in strict-mode, the application will simply break. If you want strict mode, you should be prepared to debug and correct your existing code. This is why <em>using <code>'use strict';</code> does not suddenly make your code better</em>.</p></li>\n<li><p>In my <em>new</em> JavaScript application: <strong>Absolutely!</strong> Strict mode can be used as a whistleblower when you are doing something stupid with your code.</p></li>\n</ul>\n\n<hr>\n\n<h2>How do I use strict mode?</h2>\n\n<ol>\n<li><p>Insert a <code>'use strict';</code> statement on top of your script:</p>\n\n<pre><code>// File: myscript.js\n\n'use strict';\nvar a = 2;\n....\n</code></pre>\n\n<p>Note that everything in the file <code>myscript.js</code> will be interpreted in strict mode.</p></li>\n<li><p>Insert a <code>'use strict';</code> statement on top of your function body:</p>\n\n<pre><code>function doSomething() {\n    'use strict';\n    ...\n}\n</code></pre>\n\n<p>Everything in the lexical scope of function <code>doSomething</code> will be interpreted in strict mode.</p></li>\n</ol>\n\n<hr>\n\n<h2>What things are prohibited in strict mode?</h2>\n\n<p>I found a <a href=\"http://yuiblog.com/blog/2010/12/14/strict-mode-is-coming-to-town/\" rel=\"nofollow\">nice article</a> describing several things that are prohibited in strict mode:</p>\n\n<blockquote>\n  <h2>Scope</h2>\n  \n  <p>Historically, JavaScript has been confused about how functions\n  are scoped. Sometimes they seem to be statically scoped, but some\n  features make them behave like they are dynamically scoped. This is\n  confusing, making programs difficult to read and understand.\n  Misunderstanding causes bugs. It also is a problem for performance.\n  Static scoping would permit variable binding to happen at compile\n  time, but the requirement for dynamic scope means the binding must be\n  deferred to runtime, which comes with a significant performance\n  penalty.</p>\n  \n  <p>Strict mode requires that all variable binding be done statically.\n  That means that the features that previously required dynamic binding\n  must be eliminated or modified. Specifically, the with statement is\n  eliminated, and the eval function\u2019s ability to tamper with the\n  environment of its caller is severely restricted.</p>\n  \n  <p>One of the benefits of strict code is that tools like <a href=\"http://developer.yahoo.com/yui/compressor/\" rel=\"nofollow\">YUI Compressor</a>\n  can do a better job when processing it.</p>\n  \n  <h2>Implied Global Variables</h2>\n  \n  <p>JavaScript has implied global variables. If\n  you do not explicitly declare a variable, a global variable is\n  implicitly declared for you. This makes programming easier for\n  beginners because they can neglect some of their basic housekeeping\n  chores. But it makes the management of larger programs much more\n  difficult and it significantly degrades reliability. So in strict\n  mode, implied global variables are no longer created. You should\n  explicitly declare all of your variables.</p>\n  \n  <h2>Global Leakage</h2>\n  \n  <p>There are a number of situations that could cause <code>this</code>\n  to be bound to the global object. For example, if you forget to\n  provide the <code>new</code> prefix when calling a constructor function, the\n  constructor's <code>this</code> will be bound unexpectedly to the global object, so\n  instead of initializing a new object, it will instead be silently\n  tampering with global variables. In these situations, strict mode will\n  instead bind <code>this</code> to <code>undefined</code>, which will cause the constructor to\n  throw an exception instead, allowing the error to be detected much\n  sooner.</p>\n  \n  <h2>Noisy Failure</h2>\n  \n  <p>JavaScript has always had read-only properties, but you\n  could not create them yourself until ES5\u2019s <code>Object.createProperty</code>\n  function exposed that capability. If you attempted to assign a value\n  to a read-only property, it would fail silently. The assignment would\n  not change the property\u2019s value, but your program would proceed as\n  though it had. This is an integrity hazard that can cause programs to\n  go into an inconsistent state. In strict mode, attempting to change a\n  read-only property will throw an exception.</p>\n  \n  <h2>Octal</h2>\n  \n  <p>The octal (or base 8) representation of numbers was extremely\n  useful when doing machine-level programming on machines whose word\n  sizes were a multiple of 3. You needed octal when working with the CDC\n  6600 mainframe, which had a word size of 60 bits. If you could read\n  octal, you could look at a word as 20 digits. Two digits represented\n  the op code, and one digit identified one of 8 registers. During the\n  slow transition from machine codes to high level languages, it was\n  thought to be useful to provide octal forms in programming languages.</p>\n  \n  <p>In C, an extremely unfortunate representation of octalness was\n  selected: Leading zero. So in C, <code>0100</code> means 64, not 100, and <code>08</code> is an\n  error, not 8. Even more unfortunately, this anachronism has been\n  copied into nearly all modern languages, including JavaScript, where\n  it is only used to create errors. It has no other purpose. So in\n  strict mode, octal forms are no longer allowed.</p>\n  \n  <h2>Et cetera</h2>\n  \n  <p>The arguments pseudo array becomes a little bit more\n  array-like in ES5. In strict mode, it loses its <code>callee</code> and <code>caller</code>\n  properties. This makes it possible to pass your <code>arguments</code> to untrusted\n  code without giving up a lot of confidential context. Also, the\n  <code>arguments</code> property of functions is eliminated.</p>\n  \n  <p>In strict mode, duplicate keys in a function literal will produce a\n  syntax error. A function can\u2019t have two parameters with the same name.\n  A function can\u2019t have a variable with the same name as one of its\n  parameters. A function can\u2019t <code>delete</code> its own variables. An attempt to\n  <code>delete</code> a non-configurable property now throws an exception. Primitive\n  values are not implicitly wrapped.</p>\n</blockquote>\n\n<hr>\n\n<h2>Reserved words for future JavaScript versions</h2>\n\n<p>ECMAScript 5 adds a list of reserved words. If you use them as variables or arguments, strict mode will throw an error. The reserved words are:</p>\n\n<blockquote>\n  <p><code>implements</code>, <code>interface</code>, <code>let</code>, <code>package</code>, <code>private</code>, <code>protected</code>, <code>public</code>, <code>static</code>, and <code>yield</code></p>\n</blockquote>\n\n<hr>\n\n<h2>Further Reading</h2>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\" rel=\"nofollow\">Strict Mode - JavaScript | MDN</a></li>\n<li><a href=\"http://caniuse.com/#feat=use-strict\" rel=\"nofollow\">Browser support for strict mode</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode\" rel=\"nofollow\">Transitioning to strict mode</a></li>\n</ul>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 35083544, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>Note that <code>use strict</code> was introduced in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">EcmaScript 5</a> and was kept since then.</p>\n\n<p>Below are the conditions to trigger strict mode in <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-strict-mode-code\">ES6</a> and <a href=\"https://tc39.github.io/ecma262/#sec-strict-mode-code\">ES7</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>Global code is strict mode code if it begins with a Directive    Prologue that contains a Use Strict Directive (see 14.1.1).</li>\n  <li>Module code is always strict mode code.</li>\n  <li>All parts of a <em>ClassDeclaration</em> or a <em>ClassExpression</em> are strict mode    code.</li>\n  <li>Eval code is strict mode code if it begins with a Directive Prologue    that contains a Use Strict Directive or if the call to eval is a direct eval (see 12.3.4.1) that is contained in strict mode code.</li>\n  <li>Function code is strict mode code if the associated <em>FunctionDeclaration, FunctionExpression, GeneratorDeclaration, GeneratorExpression, MethodDefinition, or ArrowFunction</em> is contained in strict mode code or if the code that produces the value of the function\u2019s [[ECMAScriptCode]] internal slot begins with a Directive Prologue that contains a Use Strict Directive.</li>\n  <li>Function code that is supplied as the arguments to the built-in    Function and Generator constructors is strict mode code if the last argument is a String that when processed is a <em>FunctionBody</em> that begins with a Directive Prologue that contains a Use Strict Directive.</li>\n  </ul>\n</blockquote>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 36561560, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>\"use strict\"; is the ECMA effort to make JavaScript a little bit more robust. It brings in JS an attempt to make it at least a little \"strict\" (other languages implement strict rules since the 90s). It actually \"forces\" JavaScript developers to follow some sort of coding best practices.\nStill, JavaScript is very fragile. There is no such thing as typed variables, typed methods, etc.\nI strongly recommend JavaScript developers to learn a more robust language such as Java or ActionScript3, and implement the same best practices in your JavaScript code, it will work better and be easier to debug.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 37004869, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p><code>use strict</code> is a way to make your code safer, cause you can't use dangerous features which can work not as you expect.And as was writed before it makes code more strict.</p>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 37287251, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}, {"body": "<p>Small example to compare:</p>\n\n<p>Non-strict mode:</p>\n\n<pre><code>for (i of [1,2,3]) console.log(i)\n\n// output:\n// 1\n// 2\n// 3\n</code></pre>\n\n<p>Strict mode:</p>\n\n<pre><code>'use strict';\nfor (i of [1,2,3]) console.log(i)\n\n// output:\n// Uncaught ReferenceError: i is not defined\n</code></pre>\n", "title": "What does &quot;use strict&quot; do in JavaScript, and what is the reasoning behind it?", "answer_id": 39069120, "question_id": 1335851, "tags": ["javascript", "syntax", "jslint", "use-strict"]}], "question_id": 1335851}, {"body": "<p>I'd prefer as little formal definition as possible and simple mathematics.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"], "answer_count": 29, "link": "http://stackoverflow.com/questions/487258/what-is-a-plain-english-explanation-of-big-o-notation", "answers": [{"body": "<p>Big O is just a way to \"Express\" yourself in a common way, \"How much time / space does it take to run my code?\".</p>\n\n<p>You may often see O(n), O(n<sup>2</sup>), O(nlogn) and so forth, all these are just ways to show; How does an algorithm change?</p>\n\n<p>O(n) means Big O is n, and now you might think, \"What is n!?\" Well \"n\" is the amount of elements. Imaging you want to search for an Item in an Array. You would have to look on Each element and as \"Are you the correct element/item?\" in the worst case, the item is at the last index, which means that it took as much time as there are items in the list, so to be generic, we say \"oh hey, n is a fair given amount of values!\".</p>\n\n<p>So then you might understand what \"n<sup>2</sup>\" means, but to be even more specific, play with the thought you have a simple, the simpliest of the sorting algorithms; bubblesort. This algorithm needs to look through the whole list, for each item.</p>\n\n<p>My list</p>\n\n<ol>\n<li>1</li>\n<li>6</li>\n<li>3</li>\n</ol>\n\n<p>The flow here would be:</p>\n\n<ul>\n<li>Compare 1 and 6, which is biggest? Ok 6 is in the right position, moving forward!</li>\n<li>Compare 6 and 3, oh, 3 is less! Let's move that, Ok the list changed, we need to start from the begining now!</li>\n</ul>\n\n<p>This is O n<sup>2</sup> because, you need to look at all items in the list there are \"n\" items. For each item, you look at all items once more, for comparing, this is also \"n\", so for every item, you look \"n\" times meaning n*n = n<sup>2</sup></p>\n\n<p>I hope this is as simple as you want it.</p>\n\n<p>But remember, Big O is just a way to experss yourself in the manner of time and space.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487267, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>EDIT: Quick note, this is almost certainly confusing <a href=\"http://en.wikipedia.org/wiki/Big_O_notation\">Big O notation</a> (which is an upper bound) with Theta notation (which is both an upper and lower bound). In my experience this is actually typical of discussions in non-academic settings. Apologies for any confusion caused.</p>\n\n<p>In one sentence: As the size of your job goes up, how much longer does it take to complete it?</p>\n\n<p>Obviously that's only using \"size\" as the input and \"time taken\" as the output &mdash; the same idea applies if you want to talk about memory usage etc.</p>\n\n<p>Here's an example where we have N T-shirts which we want to dry. We'll <em>assume</em> it's incredibly quick to get them in the drying position (i.e. the human interaction is negligible). That's not the case in real life, of course...</p>\n\n<ul>\n<li><p>Using a washing line outside: assuming you have an infinitely large back yard, washing dries in O(1) time. However much you have of it, it'll get the same sun and fresh air, so the size doesn't affect the drying time.</p></li>\n<li><p>Using a tumble dryer: you put 10 shirts in each load, and then they're done an hour later. (Ignore the actual numbers here &mdash; they're irrelevant.) So drying 50 shirts takes <em>about</em> 5 times as long as drying 10 shirts.</p></li>\n<li><p>Putting everything in an airing cupboard: If we put everything in one big pile and just let general warmth do it, it will take a long time for the middle shirts to get dry. I wouldn't like to guess at the detail, but I suspect this is at least O(N^2) &mdash; as you increase the wash load, the drying time increases faster.</p></li>\n</ul>\n\n<p>One important aspect of \"big O\" notation is that it <em>doesn't</em> say which algorithm will be faster for a given size. Take a hashtable (string key, integer value)  vs an array of pairs (string, integer). Is it faster to find a key in the hashtable or an element in the array, based on a string? (i.e. for the array, \"find the first element where the string part matches the given key.\") Hashtables are generally amortised (~= \"on average\") O(1) &mdash; once they're set up, it should take about the same time to find an entry in a 100 entry table as in a 1,000,000 entry table. Finding an element in an array (based on content rather than index) is linear, i.e. O(N) &mdash; on average, you're going to have to look at half the entries.</p>\n\n<p>Does this make a hashtable faster than an array for lookups? Not necessarily. If you've got a very small collection of entries, an array may well be faster &mdash; you may be able to check all the strings in the time that it takes to just calculate the hashcode of the one you're looking at. As the data set grows larger, however, the hashtable will eventually beat the array.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487271, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Quick note, this is almost certainly confusing <a href=\"http://en.wikipedia.org/wiki/Big_O_notation\">Big O notation</a> (which is an upper bound) with Theta notation (which is a two-side bound). In my experience this is actually typical of discussions in non-academic settings. Apologies for any confusion caused.</p>\n\n<hr>\n\n<p>Big O complexity can be visualized with this graph:</p>\n\n<p><img src=\"http://i.stack.imgur.com/WcBRI.png\" alt=\"Big O Analysis\"></p>\n\n<p>The simplest definition I can give for Big-O notation is this:</p>\n\n<p><strong>Big-O notation is a relative representation of the complexity of an algorithm.</strong></p>\n\n<p>There are some important and deliberately chosen words in that sentence:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>relative:</strong> you can only compare apples to apples.  You can't compare an algorithm to do arithmetic multiplication to an algorithm that sorts a list of integers.  But a comparison of two algorithms to do arithmetic operations (one multiplication, one addition) will tell you something meaningful;</li>\n  <li><strong>representation:</strong> Big-O (in its simplest form) reduces the comparison between algorithms to a single variable.  That variable is chosen based on observations or assumptions.  For example, sorting algorithms are typically compared based on comparison operations (comparing two nodes to determine their relative ordering).  This assumes that comparison is expensive.  But what if comparison is cheap but swapping is expensive?  It changes the comparison; and</li>\n  <li><strong>complexity:</strong> if it takes me one second to sort 10,000 elements how long will it take me to sort one million?  Complexity in this instance is a relative measure to something else.</li>\n  </ul>\n</blockquote>\n\n<p>Come back and reread the above when you've read the rest.</p>\n\n<p>The best example of Big-O I can think of is doing arithmetic.  Take two numbers (123456 and 789012).  The basic arithmetic operations we learnt in school were:</p>\n\n<blockquote>\n  <ul>\n  <li>addition;</li>\n  <li>subtraction;</li>\n  <li>multiplication; and</li>\n  <li>division.</li>\n  </ul>\n</blockquote>\n\n<p>Each of these is an operation or a problem.  A method of solving these is called an <strong>algorithm</strong>.</p>\n\n<p>Addition is the simplest.  You line the numbers up (to the right) and add the digits in a column writing the last number of that addition in the result.  The 'tens' part of that number is carried over to the next column.</p>\n\n<p>Let's assume that the addition of these numbers is the most expensive operation in this algorithm.  It stands to reason that to add these two numbers together we have to add together 6 digits (and possibly carry a 7th).  If we add two 100 digit numbers together we have to do 100 additions.  If we add <strong>two</strong> 10,000 digit numbers we have to do 10,000 additions.</p>\n\n<p>See the pattern?  The <strong>complexity</strong> (being the number of operations) is directly proportional to the number of digits <em>n</em> in the larger number.  We call this <strong>O(n)</strong> or <strong>linear complexity</strong>.</p>\n\n<p>Subtraction is similar (except you may need to borrow instead of carry).</p>\n\n<p>Multiplication is different.  You line the numbers up, take the first digit in the bottom number and multiply it in turn against each digit in the top number and so on through each digit.  So to multiply our two 6 digit numbers we must do 36 multiplications.  We may need to do as many as 10 or 11 column adds to get the end result too.</p>\n\n<p>If we have two 100-digit numbers we need to do 10,000 multiplications and 200 adds.  For two one million digit numbers we need to do one trillion (10<sup>12</sup>) multiplications and two million adds.</p>\n\n<p>As the algorithm scales with n-<em>squared</em>, this is <strong>O(n<sup>2</sup>)</strong> or <strong>quadratic complexity</strong>.  This is a good time to introduce another important concept:</p>\n\n<p><strong>We only care about the most significant portion of complexity.</strong></p>\n\n<p>The astute may have realized that we could express the number of operations as: n<sup>2</sup> + 2n.  But as you saw from our example with two numbers of a million digits apiece, the second term (2n) becomes insignificant (accounting for 0.0002% of the total operations by that stage).</p>\n\n<p>One can notice that we've assumed the worst case scenario here. While multiplying 6 digit numbers if one of them is 4 digit and the other one is 6 digit, then we only have 24 multiplications. Still we calculate the worst case scenario for that 'n', i.e when both are 6 digit numbers. Hence Big-O notation is about the Worst-case scenario of an algorithm</p>\n\n<h1>The Telephone Book</h1>\n\n<p>The next best example I can think of is the telephone book, normally called the White Pages or similar but it'll vary from country to country.  But I'm talking about the one that lists people by surname and then initials or first name, possibly address and then telephone numbers.</p>\n\n<p>Now if you were instructing a computer to look up the phone number for \"John Smith\" in a telephone book that contains 1,000,000 names, what would you do?  Ignoring the fact that you could guess how far in the S's started (let's assume you can't), what would you do?</p>\n\n<p>A typical implementation might be to open up to the middle, take the 500,000<sup>th</sup> and compare it to \"Smith\".  If it happens to be \"Smith, John\", we just got real lucky.  Far more likely is that \"John Smith\" will be before or after that name.  If it's after we then divide the last half of the phone book in half and repeat.  If it's before then we divide the first half of the phone book in half and repeat.  And so on.</p>\n\n<p>This is called a <strong>binary search</strong> and is used every day in programming whether you realize it or not.</p>\n\n<p>So if you want to find a name in a phone book of a million names you can actually find any name by doing this at most 20 times.  In comparing search algorithms we decide that this comparison is our 'n'.</p>\n\n<blockquote>\n  <ul>\n  <li>For a phone book of 3 names it takes 2 comparisons (at most).</li>\n  <li>For 7 it takes at most 3.</li>\n  <li>For 15 it takes 4.</li>\n  <li>\u2026</li>\n  <li>For 1,000,000 it takes 20.</li>\n  </ul>\n</blockquote>\n\n<p>That is staggeringly good isn't it?</p>\n\n<p>In Big-O terms this is <strong>O(log n)</strong> or <strong>logarithmic complexity</strong>.  Now the logarithm in question could be ln (base e), log<sub>10</sub>, log<sub>2</sub> or some other base.  It doesn't matter it's still O(log n) just like O(2n<sup>2</sup>) and O(100n<sup>2</sup>) are still both O(n<sup>2</sup>).</p>\n\n<p>It's worthwhile at this point to explain that Big O can be used to determine three cases with an algorithm:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>Best Case:</strong> In the telephone book search, the best case is that we find the name in one comparison.  This is <strong>O(1)</strong> or <strong>constant complexity</strong>;</li>\n  <li><strong>Expected Case:</strong> As discussed above this is O(log n); and</li>\n  <li><strong>Worst Case:</strong> This is also O(log n).</li>\n  </ul>\n</blockquote>\n\n<p>Normally we don't care about the best case.  We're interested in the expected and worst case.  Sometimes one or the other of these will be more important.</p>\n\n<p>Back to the telephone book.</p>\n\n<p>What if you have a phone number and want to find a name?  The police have a reverse phone book but such look-ups are denied to the general public.  Or are they?  Technically you can reverse look-up a number in an ordinary phone book.  How?</p>\n\n<p>You start at the first name and compare the number.  If it's a match, great, if not, you move on to the next.  You have to do it this way because the phone book is <strong>unordered</strong> (by phone number anyway).</p>\n\n<p>So to find a name given the phone number (reverse lookup):</p>\n\n<blockquote>\n  <ul>\n  <li><strong>Best Case:</strong> O(1);</li>\n  <li><strong>Expected Case:</strong> O(n) (for 500,000); and</li>\n  <li><strong>Worst Case:</strong> O(n) (for 1,000,000).</li>\n  </ul>\n</blockquote>\n\n<h1>The Travelling Salesman</h1>\n\n<p>This is quite a famous problem in computer science and deserves a mention.  In this problem you have N towns. Each of those towns is linked to 1 or more other towns by a road of a certain distance. The Travelling Salesman problem is to find the shortest tour that visits every town.</p>\n\n<p>Sounds simple?  Think again.</p>\n\n<p>If you have 3 towns A, B and C with roads between all pairs then you could go:</p>\n\n<blockquote>\n  <ul>\n  <li>A \u2192 B \u2192 C</li>\n  <li>A \u2192 C \u2192 B</li>\n  <li>B \u2192 C \u2192 A</li>\n  <li>B \u2192 A \u2192 C</li>\n  <li>C \u2192 A \u2192 B</li>\n  <li>C \u2192 B \u2192 A</li>\n  </ul>\n</blockquote>\n\n<p>Well actually there's less than that because some of these are equivalent (A \u2192 B \u2192 C and C \u2192 B \u2192 A are equivalent, for example, because they use the same roads, just in reverse).</p>\n\n<p>In actuality there are 3 possibilities.</p>\n\n<blockquote>\n  <ul>\n  <li>Take this to 4 towns and you have (iirc) 12 possibilities.</li>\n  <li>With 5 it's 60.</li>\n  <li>6 becomes 360.</li>\n  </ul>\n</blockquote>\n\n<p>This is a function of a mathematical operation called a <strong>factorial</strong>.  Basically:</p>\n\n<blockquote>\n  <ul>\n  <li>5! = 5 \u00d7 4 \u00d7 3 \u00d7 2 \u00d7 1 = 120</li>\n  <li>6! = 6 \u00d7 5 \u00d7 4 \u00d7 3 \u00d7 2 \u00d7 1 = 720</li>\n  <li>7! = 7 \u00d7 6 \u00d7 5 \u00d7 4 \u00d7 3 \u00d7 2 \u00d7 1 = 5040</li>\n  <li>\u2026</li>\n  <li>25! = 25 \u00d7 24 \u00d7 \u2026 \u00d7 2 \u00d7 1 = 15,511,210,043,330,985,984,000,000</li>\n  <li>\u2026</li>\n  <li>50! = 50 \u00d7 49 \u00d7 \u2026 \u00d7 2 \u00d7 1 = 3.04140932 \u00d7 10<sup>64</sup></li>\n  </ul>\n</blockquote>\n\n<p>So the Big-O of the Travelling Salesman problem is <strong>O(n!)</strong> or <strong>factorial or combinatorial complexity</strong>.</p>\n\n<p><strong>By the time you get to 200 towns there isn't enough time left in the universe to solve the problem with traditional computers.</strong></p>\n\n<p>Something to think about.</p>\n\n<h1>Polynomial Time</h1>\n\n<p>Another point I wanted to make quick mention of is that any algorithm that has a complexity of <strong>O(n<sup>a</sup>)</strong> is said to have <strong>polynomial complexity</strong> or is solvable in <strong>polynomial time</strong>.</p>\n\n<p>O(n), O(n<sup>2</sup>) etc are all polynomial time. Some problems cannot be solved in polynomial time.  Certain things are used in the world because of this.  Public Key Cryptography is a prime example.  It is computationally hard to find two prime factors of a very large number.  If it wasn't, we couldn't use the public key systems we use.</p>\n\n<p>Anyway, that's it for my (hopefully plain English) explanation of Big O (revised).</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487278, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big O is a measure of how much time/space an algorithm uses relative to the size of its input.  </p>\n\n<p>If an algorithm is O(n) then the time/space will increase at the same rate as its input.</p>\n\n<p>If an algorithm is O(n<sup>2</sup>) then the time/space increase at the rate of its input squared.</p>\n\n<p>and so on.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487279, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big O describes an upper limit on the growth behaviour of a function, for example the runtime of a program, when inputs become large.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li><p>O(n): If I double the input size the runtime doubles</p></li>\n<li><p>O(n<sup>2</sup>): If the input size doubles the runtime quadruples</p></li>\n<li><p>O(log n): If the input size doubles the runtime increases by one</p></li>\n<li><p>O(2<sup>n</sup>): If the input size increases by one, the runtime doubles</p></li>\n</ul>\n\n<p>The input size is usually the space in bits needed to represent the input.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487292, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>It shows how an algorithm scales. </p>\n\n<p><strong>O(n<sup>2</sup>)</strong>:  known as <strong>Quadratic complexity</strong></p>\n\n<ul>\n<li>1 item: 1 second</li>\n<li>10 items: 100 seconds</li>\n<li>100 items: 10000 seconds</li>\n</ul>\n\n<p>Notice that the number of items increases by a factor of 10, but the time increases by a factor of 10<sup>2</sup>. Basically, n=10 and so O(n<sup>2</sup>) gives us the scaling factor n<sup>2</sup> which is 10<sup>2</sup>.</p>\n\n<p><strong>O(n)</strong>:  known as <strong>Linear complexity</strong></p>\n\n<ul>\n<li>1 item: 1 second </li>\n<li>10 items: 10 seconds</li>\n<li>100 items: 100 seconds</li>\n</ul>\n\n<p>This time the number of items increases by a factor of 10, and so does the time. n=10 and so O(n)'s scaling factor is 10.</p>\n\n<p><strong>O(1)</strong>:  known as <strong>Constant complexity</strong></p>\n\n<ul>\n<li>1 item: 1 second</li>\n<li>10 items: 1 second</li>\n<li>100 items: 1 second</li>\n</ul>\n\n<p>The number of items is still increasing by a factor of 10, but the scaling factor of O(1) is always 1.</p>\n\n<p><strong>O(log n)</strong>:  known as <strong>Logarithmic complexity</strong></p>\n\n<ul>\n<li>1 item: 1 second</li>\n<li>10 items: 2 seconds</li>\n<li>100 items: 3 seconds</li>\n<li>1000 items: 4 seconds</li>\n<li>10000 items: 5 seconds</li>\n</ul>\n\n<p>The number of computations is only increased by a log of the input value.  So in this case, assuming each computation takes 1 second, the log of the input <code>n</code> is the time required, hence <code>log n</code>.</p>\n\n<p>That's the gist of it. They reduce the maths down so it might not be exactly n<sup>2</sup> or whatever they say it is, but that'll be the dominating factor in the scaling.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487300, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p><strong>Big O describes the fundamental scaling nature of an algorithm.</strong></p>\n\n<p>There is a lot of information that Big O does not tell you about a given algorithm. It cuts to the bone and gives only information about the scaling nature of an algorithm, specifically how the resource use (think time or memory) of an algorithm scales in response to the \"input size\".</p>\n\n<p>Consider the difference between a steam engine and a rocket. They are not merely different varieties of the same thing (as, say, a Prius engine vs. a Lamborghini engine) but they are dramatically different kinds of propulsion systems, at their core. A steam engine may be faster than a toy rocket, but no steam piston engine will be able to achieve the speeds of an orbital launch vehicle. This is because these systems have different scaling characteristics with regards to the relation of fuel required (\"resource usage\") to reach a given speed (\"input size\").</p>\n\n<p>Why is this so important? Because software deals with problems that may differ in size by factors up to a trillion. Consider that for a moment. The ratio between the speed necessary to travel to the Moon and human walking speed is less than 10,000:1, and that is absolutely tiny compared to the range in input sizes software may face. And because software may face an astronomical range in input sizes there is the potential for the Big O complexity of an algorithm, it's fundamental scaling nature, to trump any implementation details.</p>\n\n<p>Consider the canonical sorting example. Bubble-sort is O(n<sup>2</sup>) while merge-sort is O(n log n). Let's say you have two sorting applications, application A which uses bubble-sort and application B which uses merge-sort, and let's say that for input sizes of around 30 elements application A is 1,000x faster than application B at sorting. If you never have to sort much more than 30 elements then it's obvious that you should prefer application A, as it is much faster at these input sizes. However, if you find that you may have to sort ten million items then what you'd expect is that application B actually ends up being thousands of times faster than application A in this case, entirely due to the way each algorithm scales.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 487563, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big O notation is a way of describing the upper bound of an algorithm in terms of space or running time.  The n is the number of elements in the the problem (i.e size of an array, number of nodes in a tree, etc.)  We are interested in describing the running time as n gets  big.</p>\n\n<p>When we say some algorithm is O(f(n)) we are saying that the running time (or space required) by that algorithm is always lower than some constant times f(n).</p>\n\n<p>To say that binary search has a running time of O(logn) is to say that there exists some constant c which you can multiply log(n) by that will always be larger than the running time of binary search.  In this case you will always have some constant factor of log(n) comparisons.</p>\n\n<p>In other words where g(n) is the running time of your algorithm, we say that g(n) = O(f(n)) when g(n) &lt;= c*f(n) when n > k, where c and k are some constants.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 3269988, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big-O notation (also called \"asymptotic growth\" notation) is <em>what functions \"look like\" when you ignore constant factors and stuff near the origin</em>. We use it to talk about <strong>how thing scale</strong>.</p>\n\n<hr>\n\n<p><strong>Basics</strong></p>\n\n<p><strong>for \"sufficiently\" large inputs...</strong></p>\n\n<ul>\n<li><code>f(x) \u2208 O(upperbound)</code> means <code>f</code> \"grows no faster than\" <code>upperbound</code></li>\n<li><code>f(x) \u2208 \u019f(justlikethis)</code> mean <code>f</code> \"grows exactly like\" <code>justlikethis</code></li>\n<li><code>f(x) \u2208 \u03a9(lowerbound)</code> means <code>f</code> \"grows no slower than\" <code>lowerbound</code></li>\n</ul>\n\n<p>big-O notation doesn't care about constant factors: the function <code>9x\u00b2</code> is said to \"grow exactly like\" <code>10x\u00b2</code>. Neither does big-O <em>asymptotic</em> notation care about <em>non-asymptotic</em> stuff (\"stuff near the origin\" or \"what happens when the problem size is small\"): the function <code>10x\u00b2</code> is said to \"grow exactly like\" <code>10x\u00b2 - x + 2</code>.</p>\n\n<p>Why would you want to ignore the smaller parts of the equation? Because they become completely dwarfed by the big parts of the equation as you consider larger and larger scales; their contribution becomes dwarfed and irrelevant. (See example section.)</p>\n\n<p>Put another way, it's all about the <strong>ratio</strong>. <em>If you divide the actual time it takes by the <code>O(...)</code>, you will get a constant factor in the limit of large inputs.</em> Intuitively this makes sense: functions \"scale like\" one another if you can multiply one to get the other. That is, when we say...</p>\n\n<pre><code>actualAlgorithmTime(N) \u2208 O(bound(N))\n                                       e.g. \"time to mergesort N elements \n                                             is O(N log(N))\"\n</code></pre>\n\n<p>... this means that <strong><em>for \"large enough\" problem sizes N</em></strong> (if we ignore stuff near the origin), there exists some constant (e.g. 2.5, completely made up) such that:</p>\n\n<pre><code>actualAlgorithmTime(N)                 e.g. \"mergesort_duration(N)       \"\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 &lt; constant            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 &lt; 2.5 \n       bound(N)                                    N log(N)         \n</code></pre>\n\n<p>There are many choices of constant; often the \"best\" choice is known as the \"constant factor\" of the algorithm... but we often ignore it like we ignore non-largest terms (see Constant Factors section for why they don't usually matter). You can also think of the above equation as a bound, saying \"<em>In the worst-case scenario, the time it takes will never be worse than roughly <code>N*log(N)</code>, within a factor of 2.5 (a constant factor we don't care much about)</em>\".</p>\n\n<p>In general, <code>O(...)</code> is the most useful one because we often care about worst-case behavior. If <code>f(x)</code> represents something \"bad\" like processor or memory usage, then \"<code>f(x) \u2208 O(upperbound)</code>\" means \"<code>upperbound</code> is the worst-case scenario of processor/memory usage\".</p>\n\n<hr>\n\n<p><strong>Building Intuition</strong></p>\n\n<p>This lets us make statements like...</p>\n\n<blockquote>\n  <p>\"For large enough inputsize=N, no matter what the constant factor is, if I <strong><em>double</strong> the input size</em>...</p>\n</blockquote>\n\n<ul>\n<li>... I double the time an O(N) (\"linear time\") algorithm takes.\"\n\n<blockquote class=\"spoiler\">\n  <p>       <strong>N</strong> \u2192 (2N) = 2(<strong>N</strong>)</p>\n</blockquote></li>\n<li>... I double-squared (quadruple) the time an O(N\u00b2) (\"quadratic time\") algorithm takes.\" <em>(e.g. a problem 100x as big takes 100\u00b2=10000x as long... possibly unsustainable)</em>\n\n<blockquote class=\"spoiler\">\n  <p>   <strong>N\u00b2</strong> \u2192 (2N)\u00b2 = 4(<strong>N\u00b2</strong>)</p>\n</blockquote></li>\n<li>... I double-cubed (octuple) the time an O(N\u00b3) (\"cubic time\") algorithm takes.\" <em>(e.g. a problem 100x as big takes 100\u00b3=1000000x as long... very unsustainable)</em>\n\n<blockquote class=\"spoiler\">\n  <p>   <strong>cN\u00b3</strong> \u2192 c(2N)\u00b3 = 8(<strong>cN\u00b3</strong>)</p>\n</blockquote></li>\n<li>... I add a fixed amount to the time an O(log(N)) (\"logarithmic time\") algorithm takes.\" <em>(cheap!)</em>\n\n<blockquote class=\"spoiler\">\n  <p>  <strong>c log(N)</strong> \u2192 c log(2N) = (c log(2))+(<strong>c log(N)</strong>) = (fixed amount)+(<strong>c log(N)</strong>)</p>\n</blockquote></li>\n<li>... I don't change the time an O(1) (\"constant time\") algorithm takes.\" <em>(the cheapest!)</em>\n\n<blockquote class=\"spoiler\">\n  <p>                <strong>c*1</strong> \u2192 <strong>c*1</strong></p>\n</blockquote></li>\n<li>... I \"(basically) double\" the time an O(N log(N)) algorithm takes.\" <em>(fairly common)</em>\n\n<blockquote class=\"spoiler\">\n  <p>  it's less than O(N<sup>1.000001</sup>), which you might be willing to call basically linear</p>\n</blockquote></li>\n<li>... I ridiculously increase the time a O(2<sup>N</sup>) (\"exponential time\") algorithm takes.\" <em>(you'd double the time just by increasing the problem by a single unit)</em>\n\n<blockquote class=\"spoiler\">\n  <p>     <strong>2<sup>N</sup></strong> \u2192 2<sup>2N</sup> = (4<sup>N</sup>)............put another way...... <strong>2<sup>N</sup></strong> \u2192 2<sup>N+1</sup> = 2<sup>N</sup>2<sup>1</sup> = 2 <strong>2<sup>N</sup></strong></p>\n</blockquote></li>\n</ul>\n\n<p>[for the mathematically inclined, you can mouse over the spoilers for minor sidenotes]</p>\n\n<p>(with credit to <a href=\"http://stackoverflow.com/a/487292/711085\">http://stackoverflow.com/a/487292/711085</a> )</p>\n\n<p>(technically the constant factor could maybe matter in some more esoteric examples, but I've phrased things above (e.g. in log(N)) such that it doesn't)</p>\n\n<p>These are the bread-and-butter orders of growth that programmers and applied computer scientists use as reference points. They see these all the time. (So while you could technically think \"Doubling the input makes an O(\u221aN) algorithm 1.414 times slower,\" it's better to think of it as \"this is worse than logarithmic but better than linear\".)</p>\n\n<hr>\n\n<p><strong>Applications</strong></p>\n\n<p>As a purely mathematical construct, big-O notation is not limited to talking about processing time and memory. You can use it to discuss the asymptotics of anything where scaling is meaningful, such as:</p>\n\n<ul>\n<li>the number of possibly handshakes among <code>N</code> people at a party (<code>\u019f(N\u00b2)</code>, specifically <code>N(N-1)/2</code>, but what matters is that it \"scales like\" <code>N\u00b2</code>)</li>\n<li>probabilistic expected number of people who have seen some viral marketing as a function of time</li>\n<li>how website latency scales with the number of processing units in a CPU or GPU or computer cluster</li>\n<li>how heat output scales on CPU dies as a function of transistor count, voltage, etc.</li>\n<li>how much time an algorithm needs to run, as a function of input size</li>\n<li>how much space an algorithm needs to run, as a function of input size</li>\n</ul>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p>For the handshake example, <code>#handshakes \u2208 \u019f(N\u00b2)</code>. The number of handshakes is exactly n-choose-2 or <code>(N\u00b2-N)/2</code> (each of N people shakes the hands of N-1 other people, but this double-counts handshakes so divide by 2). However, for very large numbers of people, the linear term <code>N</code> is dwarfed and effectively contributes 0 to the ratio. Therefore the scaling behavior is <code>order N\u00b2</code>, or the number of handshakes \"grows like N\u00b2\".</p>\n\n<pre><code>#handshakes(N)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2248 1/2\n     N\u00b2\n</code></pre>\n\n<p>If you wanted to prove this to yourself, you could perform some simple algebra on the ratio to split it up into multiple terms (<code>lim</code> means \"considered in the limit of\", just ignore it if you haven't seen it, it's just notation for \"and N is really really big\"):</p>\n\n<pre><code>    N\u00b2/2 - N/2         (N\u00b2)/2   N/2         1/2\nlim \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 = lim ( \u2500\u2500\u2500\u2500\u2500\u2500 - \u2500\u2500\u2500 ) = lim \u2500\u2500\u2500 = 1/2\nN\u2192\u221e     N\u00b2       N\u2192\u221e     N\u00b2     N\u00b2      N\u2192\u221e  1\n                               \u2515\u2501\u2501\u2501\u2519\n             this is 0 in the limit of N\u2192\u221e:\n             graph it, or plug in a really large number for N\n</code></pre>\n\n<p>tl;dr: The number of handshakes 'looks like' x\u00b2 so much for large values, that if we were to write down the ratio #handshakes/x\u00b2, the fact that we don't need <em>exactly</em> x\u00b2 handshakes wouldn't even show up in the decimal for a while.</p>\n\n<blockquote>\n  <p>e.g. for x=1million, ratio #handshakes/x\u00b2: 0.499999...</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Constant factors</strong></p>\n\n<p>Usually we don't care what the specific constant factors are, because they don't affect the way the function grows. For example, two algorithms may both take <code>O(N)</code> time to complete, but one may be twice as slow as the other. We usually don't care too much unless the factor is very large, since optimizing is tricky business ( <a href=\"http://stackoverflow.com/questions/385506/when-is-optimisation-premature\">When is optimisation premature?</a> ); also the mere act of picking an algorithm with a better big-O will often improve performance by orders of magnitude.</p>\n\n<p>Some asymptotically superior algorithms (e.g. a non-comparison <code>O(N log(log(N)))</code> sort) can have so large a constant factor (e.g. <code>100000*N log(log(N))</code>), or overhead that is relatively large like <code>O(N log(log(N)))</code> with a hidden <code>+ 100*N</code>, that they are rarely worth using even on \"big data\".</p>\n\n<hr>\n\n<p><strong>Why O(N) is sometimes the best you can do, i.e. why we need datastructures</strong></p>\n\n<p><code>O(N)</code> algorithms are in some sense the \"best\" algorithms if you need to read all your data. The <strong>very act of reading</strong> a bunch of data is an <code>O(N)</code> operation. Loading it into memory is usually <code>O(N)</code> (or faster if you have hardware support, or no time at all if you've already read the data). However if you touch or even <em>look</em> at every piece of data (or even every other piece of data), your algorithm will take <code>O(N)</code> time to perform this looking. Nomatter how long your actual algorithm takes, it will be at least <code>O(N)</code> because it spent that time looking at all the data.</p>\n\n<p>The same can be said for the <strong>very act of writing</strong>. All algorithms which print out N things will take N time, because the output is at least that long (e.g. printing out all permutations (ways to rearrange) a set of N playing cards is factorial: <code>O(N!)</code>).</p>\n\n<p>This motivates the use of <strong>data structures</strong>: a data structure requires reading the data only once (usually <code>O(N)</code> time), plus some arbitrary amount of preprocessing (e.g. <code>O(N)</code> or <code>O(N log(N))</code> or <code>O(N\u00b2)</code>) which we try to keep small. Thereafter, modifying the data structure (insertions / deletions / etc.) and making queries on the data take very little time, such as <code>O(1)</code> or <code>O(log(N))</code>. You then proceed to make a large number of queries! In general, the more work you're willing to do ahead of time, the less work you'll have to do later on.</p>\n\n<p>For example, say you had the latitude and longitude coordinates of millions of roads segments, and wanted to find all street intersections.</p>\n\n<ul>\n<li>Naive method: If you had the coordinates of a street intersection, and wanted to examine nearby streets, you would have to go through the millions of segments each time, and check each one for adjacency.</li>\n<li>If you only needed to do this once, it would not be a problem to have to do the naive method of <code>O(N)</code> work only once, but if you want to do it many times (in this case, <code>N</code> times, once for each segment), we'd have to do <code>O(N\u00b2)</code> work, or 1000000\u00b2=1000000000000 operations. Not good (a modern computer can perform about a billion operations per second).</li>\n<li>If we use a simple structure called a hash table (an instant-speed lookup table, also known as a hashmap or dictionary), we pay a small cost by preprocessing everything in <code>O(N)</code> time. Thereafter, it only takes constant time on average to look up something by its key (in this case, our key is the latitude and longitude coordinates, rounded into a grid; we search the adjacent gridspaces of which there are only 9, which is a constant).</li>\n<li>Our task went from an infeasible <code>O(N\u00b2)</code> to a manageable <code>O(N)</code>, and all we had to do was pay a minor cost to make a hash table.</li>\n<li><strong>analogy</strong>: The analogy in this particular case is a jigsaw puzzle: We created a data structure which exploits some property of the data. If our road segments are like puzzle pieces, we group them by matching color and pattern. We then exploit this to avoid doing extra work later.</li>\n</ul>\n\n<p>The moral of the story: a data structure lets us speed up operations. Even more advanced data structures can let you combine, delay, or even ignore operations in incredibly clever ways. Different problems would have different analogies, but they'd all involve organizing the data in a way that exploits some structure we care about, or which we've artificially imposed on it for bookkeeping. We do work ahead of time (basically planning and organizing), and now repeated tasks are much much easier!</p>\n\n<hr>\n\n<p><strong>Practical example: visualizing orders of growth while coding</strong></p>\n\n<p>Asymptotic notation is, at its core, quite separate from programming. Asymptotic notation is a mathematical framework for thinking about how things scale, and can be used in many different fields. That said... this is how you <em>apply</em> asymptotic notation to coding.</p>\n\n<p>The basics: Whenever we interact with every element in a collection of size A (such as an array, a set, all keys of a map, etc.), or perform A iterations of a loop, that is a multiplcative factor of size A. Why do I say \"a multiplicative factor\"?--because loops and functions (almost by definition) have multiplicative running time: the number of iterations, times work done in the loop (or for functions: the number of times you call the function, times work done in the function). (This holds if we don't do anything fancy, like skip loops or exit the loop early, or change control flow in the function based on arguments, which is very common.) Here are some examples of visualization techniques, with accompanying pseudocode.</p>\n\n<p>(here, the <code>x</code>s represent constant-time units of work, processor instructions, interpreter opcodes, whatever)</p>\n\n<pre><code>for(i=0; i&lt;A; i++)        // A x ...\n    some O(1) operation     // 1\n\n--&gt; A*1 --&gt; O(A) time\n\nvisualization:\n\n|&lt;------ A -------&gt;|\n1 2 3 4 5 x x ... x\n\nother languages, multiplying orders of growth:\n  javascript, O(A) time and space\n    someListOfSizeA.map((x,i) =&gt; [x,i])               \n  python, O(rows*cols) time and space\n    [[r*c for c in range(cols)] for r in range(rows)]\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>for every x in listOfSizeA:   // A x ...\n    some O(1) operation         // 1\n    some O(B) operation         // B\n    for every y in listOfSizeC: // C x ...\n        some O(1) operation       // 1\n\n--&gt; O(A*(1 + B + C))\n    O(A*(B+C))        (1 is dwarfed)\n\nvisualization:\n\n|&lt;------ A -------&gt;|\n1 x x x x x x ... x\n\n2 x x x x x x ... x ^\n3 x x x x x x ... x |\n4 x x x x x x ... x |\n5 x x x x x x ... x B  &lt;-- A*B\nx x x x x x x ... x |\n................... |\nx x x x x x x ... x v\n\nx x x x x x x ... x ^\nx x x x x x x ... x |\nx x x x x x x ... x |\nx x x x x x x ... x C  &lt;-- A*C\nx x x x x x x ... x |\n................... |\nx x x x x x x ... x v\n</code></pre>\n\n<p>Example 3:</p>\n\n<pre><code>function nSquaredFunction(n) {\n    total = 0\n    for i in 1..n:        // N x\n        for j in 1..n:      // N x\n            total += i*k      // 1\n    return total\n}\n// O(n^2)\n\nfunction nCubedFunction(a) {\n    for i in 1..n:                // A x\n        print(nSquaredFunction(a))  // A^2\n}\n// O(a^3)\n</code></pre>\n\n<p>If we do something slightly complicated, you might still be able to imagine visually what's going on:</p>\n\n<pre><code>for x in range(A):\n    for y in range(1..x):\n        simpleOperation(x*y)\n\nx x x x x x x x x x |\nx x x x x x x x x   |\nx x x x x x x x     |\nx x x x x x x       |\nx x x x x x         |\nx x x x x           |\nx x x x             |\nx x x               |\nx x                 |\nx___________________|\n</code></pre>\n\n<p>Here, the smallest recognizable outline you can draw is what matters; a triangle is a two dimensional shape (0.5 A^2), just like a square is a two-dimensional shape (A^2); the constant factor of two here remains in the asymptotic ratio between the two, however we ignore it like all factors... (There are some unfortunate nuances to this technique I don't go into here; it can mislead you.)</p>\n\n<p>Of course this does not mean that loops and functions are bad; on the contrary, they are the building blocks of modern programming languages, and we love them. However, we can see that the way we weave loops and functions and conditionals together with our data (control flow, etc.) mimics the time and space usage of our program! If time and space usage becomes an issue, that is when we resort to cleverness, and find an easy algorithm or data structure we hadn't considered, to reduce the order of growth somehow. But these visualization techniques, though they doesn't always work, can give you a naive guess at a worst-case running time.</p>\n\n<p>Here is another thing we can recognize visually:</p>\n\n<pre><code>&lt;----------------------------- N -----------------------------&gt;\nx x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x\nx x x x x x x x x x x x x x x x\nx x x x x x x x\nx x x x\nx x\nx\n</code></pre>\n\n<p>We can just rearrange this and see it's O(N):</p>\n\n<pre><code>&lt;----------------------------- N -----------------------------&gt;\nx x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x\nx x x x x x x x x x x x x x x x|x x x x x x x x|x x x x|x x|x\n</code></pre>\n\n<p>Or maybe you do log(N) passes of the data, for O(N*log(N)) total time:</p>\n\n<pre><code>   &lt;----------------------------- N -----------------------------&gt;\n ^  x x x x x x x x x x x x x x x x|x x x x x x x x x x x x x x x x\n |  x x x x x x x x|x x x x x x x x|x x x x x x x x|x x x x x x x x\nlgN x x x x|x x x x|x x x x|x x x x|x x x x|x x x x|x x x x|x x x x\n |  x x|x x|x x|x x|x x|x x|x x|x x|x x|x x|x x|x x|x x|x x|x x|x x\n v  x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x|x\n</code></pre>\n\n<p>Unrelatedly but worth mentioning again: If we perform a hash (e.g. a dictionary / hashtable lookup), that is a factor of O(1). That's pretty fast.</p>\n\n<pre><code>[myDictionary.has(x) for x in listOfSizeA]\n \\----- O(1) ------/    \n\n--&gt; A*1 --&gt; O(A)\n</code></pre>\n\n<p>If we do something very complicated, such as with a recursive function or divide-and-conquer algorithm, <strike>you can use the <a href=\"https://en.wikipedia.org/wiki/Master_theorem\" rel=\"nofollow\">Master Theorem</a> (usually works), or in ridiculous cases the Akra-Bazzi Theorem (almost always works)</strike> you look up the running time of your algorithm on Wikipedia.</p>\n\n<p>But, programmers don't think like this because eventually, algorithm intuition just becomes second nature. You will start to code something inefficient, and immediately think \"am I doing something <strong>grossly inefficient?</strong>\". If the answer is \"yes\" AND you foresee it actually mattering, then you can take a step back and think of various tricks to make things run faster (the answer is almost always \"use a hashtable\", rarely \"use a tree\", and very rarely something a bit more complicated).</p>\n\n<hr>\n\n<p><strong>Amortized and average-case complexity</strong></p>\n\n<p>There is also the concept of \"amortized\" and/or \"average case\" (note that these are different).</p>\n\n<p><strong>Average Case</strong>: This is no more than using big-O notation for the expected value of a function, rather than the function itself. In the usual case where you consider all inputs to be equally likely, the average case is just the average of the running time. For example with quicksort, even though the worst-case is <code>O(N^2)</code> for some really bad inputs, the average case is the usual <code>O(N log(N))</code> (the really bad inputs are very small in number, so few that we don't notice them in the average case).</p>\n\n<p><strong>Amortized Worst-Case</strong>: Some data structures may have a worst-case complexity that is large, but guarantee that if you do many of these operations, the average amount of work you do will be better than worst-case. For example you may have a data structure that normally takes constant <code>O(1)</code> time. However, occasionally it will 'hiccup' and take <code>O(N)</code> time for one random operation, because maybe it needs to do some bookkeeping or garbage collection or something... but it promises you that if it does hiccup, it won't hiccup again for N more operations. The worst-case cost is still <code>O(N)</code> per operation, but the amortized cost <em>over many runs</em> is <code>O(N)/N</code> = <code>O(1)</code> per operation. Because the big operations are sufficiently rare, the massive amount of occasional work can be considered to blend in with the rest of the work as a constant factor. We say the work is \"amortized\" over a sufficiently large number of calls that it disappears asymptotically.</p>\n\n<blockquote>\n  <p>The analogy for amortized analysis:</p>\n  \n  <p>You drive a car. Occasionally, you need to spend 10 minutes going to\n  the gas station and then spend 1 minute refilling the tank with gas.\n  If you did this every time you went anywhere with your car (spend 10\n  minutes driving to the gas station, spend a few seconds filling up a\n  fraction of a gallon), it would be very inefficient. But if you fill\n  up the tank once every few days, the 11 minutes spent driving to the\n  gas station is \"amortized\" over a sufficiently large number of trips,\n  that you can ignore it and pretend all your trips were maybe 5% longer.</p>\n</blockquote>\n\n<p>Comparison between average-case and amortized worst-case:</p>\n\n<ul>\n<li>If you use a data structure many times, the running time will tend to the average case... eventually... assuming your assumptions about what is 'average' were correct (if they aren't, your analysis will be wrong).</li>\n<li>If you use an amortized worst-case data structure, the running is guaranteed to be within the amortized worst-case... eventually (even if the inputs are chosen by an evil demon who knows everything and is trying to screw you over). (However unless your data structure has upper limits for much outstanding work it is willing to procrastinate on, an evil attacker could perhaps force you to catch up on the maximum amount of procrastinated work all-at-once. Though, if you're <a href=\"https://www.usenix.org/conference/12th-usenix-security-symposium/denial-service-algorithmic-complexity-attacks\" rel=\"nofollow\">reasonably worried</a> about an attacker, there are many other algorithmic attack vectors to worry about besides amortization and average-case.)</li>\n</ul>\n\n<p>Both average-case and amortization are incredibly useful tools for thinking about and designing with scaling in mind.</p>\n\n<p>(See <a href=\"http://stackoverflow.com/q/7333376/711085\">Difference between average case and amortized analysis</a> if interested on this subtopic.)</p>\n\n<hr>\n\n<p><strong>Multidimensional big-O</strong></p>\n\n<p>Most of the time, people don't realize that there's more than one variable at work. For example, in a string-search algorithm, your algorithm may take time <code>O([length of text] + [length of query])</code>, i.e. it is linear in two variables like <code>O(N+M)</code>. Other more naive algorithms may be <code>O([length of text]*[length of query])</code> or <code>O(N*M)</code>. Ignoring multiple variables is one of the most common oversights I see in algorithm analysis, and can handicap you when designing an algorithm.</p>\n\n<hr>\n\n<p><strong>The whole story</strong></p>\n\n<p>Keep in mind that big-O is not the whole story. You can drastically speed up some algorithms by using caching, making them cache-oblivious, avoiding bottlenecks by working with RAM instead of disk, using parallelization, or doing work ahead of time -- these techniques are often <em>independent</em> of the order-of-growth \"big-O\" notation, though you will often see the number of cores in the big-O notation of parallel algorithms.</p>\n\n<p>Also keep in mind that due to hidden constraints of your program, you might not really care about asymptotic behavior. You may be working with a bounded number of values, for example:</p>\n\n<ul>\n<li>If you're sorting something like 5 elements, you don't want to use the speedy <code>O(N log(N))</code> quicksort; you want to use insertion sort, which happens to perform well on small inputs. These situations often comes up in divide-and-conquer algorithms, where you split up the problem into smaller and smaller subproblems, such as recursive sorting, fast Fourier transforms, or matrix multiplication.</li>\n<li>If some values are effectively bounded due to some hidden fact (e.g. the average human name is softly bounded at perhaps 40 letters, and human age is softly bounded at around 150). You can also impose bounds on your input to effectively make terms constant.</li>\n</ul>\n\n<p>In practice, even among algorithms which have the same or similar asymptotic performance, their relative merit may actually be driven by other things, such as: other performance factors (quicksort and mergesort are both <code>O(N log(N))</code>, but quicksort takes advantage of CPU caches); non-performance considerations, like ease of implementation; whether a library is available, and how reputable and maintained the library is.</p>\n\n<p>Programs will also run slower on a 500MHz computer vs 2GHz computer. We don't really consider this as part of the resource bounds, because we think of the scaling in terms of machine resources (e.g. per clock cycle), not per real second. However, there are similar things which can 'secretly' affect performance, such as whether you are running under emulation, or whether the compiler optimized code or not. These might make some basic operations take longer (even relative to each other), or even speed up or slow down some operations asymptotically (even relative to each other). The effect may be small or large between different implementation and/or environment. Do you switch languages or machines to eke out that little extra work? That depends on a hundred other reasons (necessity, skills, coworkers, programmer productivity, the monetary value of your time, familiarity, workarounds, why not assembly or GPU, etc...), which may be more important than performance.</p>\n\n<p>The above issues, like programming language, are almost never considered as part of the constant factor (nor should they be); yet one should be aware of them, because <em>sometimes</em> (though rarely) they may affect things. For example in cpython, the native priority queue implementation is asymptotically non-optimal (<code>O(log(N))</code> rather than <code>O(1)</code> for your choice of insertion or find-min); do you use another implementation? Probably not, since the C implementation is probably faster, and there are probably other similar issues elsewhere. There are tradeoffs; sometimes they matter and sometimes they don't.</p>\n\n<hr>\n\n<p>(<em>edit</em>: The \"plain English\" explanation ends here.)</p>\n\n<p><em>Math addenda</em></p>\n\n<p><i>For completeness, the precise definition of big-O notation is as follows: <code>f(x) \u2208 O(g(x))</code> means that \"f is asymptotically upper-bounded by const*g\": ignoring everything below some finite value of x, there exists a constant such that <code>|f(x)| \u2264 const * |g(x)|</code>. (The other symbols are as follows: just like <code>O</code> means \u2264, <code>\u03a9</code> means \u2265. There are lowercase variants: <code>o</code> means &lt;, and <code>\u03c9</code> means >.) <code>f(x) \u2208 \u019f(g(x))</code> means both <code>f(x) \u2208 O(g(x))</code> and <code>f(x) \u2208 \u03a9(g(x))</code> (upper- and lower-bounded by g): there exists some constants such that f will always lie in the \"band\" between <code>const1*g(x)</code> and <code>const2*g(x)</code>. It is the strongest asymptotic statement you can make and roughly equivalent to <code>==</code>. (Sorry, I elected to delay the mention of the absolute-value symbols until now, for clarity's sake; especially because I have never seen negative values come up in a computer science context.)</p>\n\n<p>People will often use <code>= O(...)</code>. It is technically more correct to use <code>\u2208 O(...)</code>. <code>\u2208</code> means \"is an element of\". <code>O(N\u00b2)</code> is actually an <em>equivalence class</em>, that is, it is a set of things which we consider to be the same. In this particular case, <code>O(N\u00b2)</code> contains elements like {<code>2 N\u00b2</code>, <code>3 N\u00b2</code>, <code>1/2 N\u00b2</code>, <code>2 N\u00b2 + log(N)</code>, <code>- N\u00b2 + N^1.9</code>, ...} and is infinitely large, but it's still a set. People will know what you mean if you use <code>=</code> however. Additionally, it is often the case that in a casual setting, people will say <code>O(...)</code> when they mean <code>\u019f(...)</code>; this is technically true since the set of things <code>\u019f(exactlyThis)</code> is a subset of <code>O(noGreaterThanThis)</code>... and it's easier to type. ;-)</i></p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 6620071, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Ok, my 2cents.</p>\n\n<p>Big-O, is <strong>rate of increase</strong> of resource consumed by program, w.r.t. problem-instance-size</p>\n\n<p>Resource : Could be total-CPU time, could be maximum RAM space. By default refers to CPU time.</p>\n\n<p>Say the problem is \"Find the sum\", </p>\n\n<pre><code>int Sum(int*arr,int size){\n      int sum=0;\n      while(size--&gt;0) \n         sum+=arr[size]; \n\n      return sum;\n}\n</code></pre>\n\n<p>problem-instance= {5,10,15}  ==> problem-instance-size = 3, iterations-in-loop= 3</p>\n\n<p>problem-instance= {5,10,15,20,25}  ==> problem-instance-size = 5 iterations-in-loop = 5</p>\n\n<p>For input of size \"n\" the program is growing at speed of \"n\" iterations in array. Hence Big-O is N expressed as  O(n)</p>\n\n<p>Say the problem is \"Find the Combination\", </p>\n\n<pre><code>    void Combination(int*arr,int size)\n    { int outer=size,inner=size;\n      while(outer --&gt;0) {\n        inner=size;\n        while(inner --&gt;0)\n          cout&lt;&lt;arr[outer]&lt;&lt;\"-\"&lt;&lt;arr[inner]&lt;&lt;endl;\n      }\n    }\n</code></pre>\n\n<p>problem-instance= {5,10,15}  ==> problem-instance-size = 3, total-iterations = 3*3 = 9</p>\n\n<p>problem-instance= {5,10,15,20,25}  ==> problem-instance-size = 5, total-iterations= 5*5 =25</p>\n\n<p>For input of size \"n\" the program is growing at speed of \"n*n\" iterations in array. Hence Big-O is N<sup>2</sup> expressed as  O(n<sup>2</sup>)</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 7156145, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big O notation is most commonly used by programmers as an approximate measure of how long a computation (algorithm) will take to complete expressed as a function of the size of the input set. </p>\n\n<p>Big O is useful to compare how well two algorithms will scale up as the number of inputs is increased. </p>\n\n<p>More precisely <a href=\"http://en.wikipedia.org/wiki/Big_O_notation\">Big O notation</a> is used to express the asymptotic behavior of a function. That means how the function behaves as it approaches infinity. </p>\n\n<p>In many cases the \"O\" of an algorithm will fall into one of the following cases:</p>\n\n<ul>\n<li><strong>O(1)</strong> - Time to complete is the same regardless of the size of input set. An example is accessing an array element by index.</li>\n<li><strong>O(Log N)</strong> - Time to complete increases roughly in line with the log2(n). For example 1024 items takes roughly twice as long as 32 items, because Log2(1024) = 10 and Log2(32) = 5. An example is finding an item in a <a href=\"http://en.wikipedia.org/wiki/Binary_search_tree\">binary search tree</a> (BST). </li>\n<li><strong>O(N)</strong> - Time to complete that scales linearly with the size of the input set. In other words if you double the number of items in the input set, the algorithm takes roughly twice as long. An example is counting the number of items in a linked list. </li>\n<li><strong>O(N Log N)</strong> - Time to complete increases by the number of items times the result of Log2(N). An example of this is <a href=\"http://en.wikipedia.org/wiki/Heap_sort\">heap sort</a> and <a href=\"http://en.wikipedia.org/wiki/Quick_sort\">quick sort</a>. </li>\n<li><strong>O(N^2)</strong> - Time to complete is roughly equal to the square of the number of items. An example of this is <a href=\"http://en.wikipedia.org/wiki/Bubble_sort\">bubble sort</a>.</li>\n<li><strong>O(N!)</strong> - Time to complete is the factorial of the input set. An example of this is the <a href=\"http://en.wikipedia.org/wiki/Travelling_salesman_problem\">traveling salesman problem brute-force solution</a>.  </li>\n</ul>\n\n<p>Big O ignores factors that do not contribute in a meaningful way to the growth curve of a function as the input size increases towards infinity. This means that constants that are added to or multiplied by the function are simply ignored. </p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 7310676, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Not sure I'm further contributing to the subject but still thought I'd share: I once found <a href=\"http://rob-bell.net/2009/06/a-beginners-guide-to-big-o-notation/\">this blog post</a> to have some quite helpful (though very basic) explanations &amp; examples on Big O: </p>\n\n<p>Via examples, this helped get the bare basics into my tortoiseshell-like skull, so I think it's a pretty descent 10-minute read to get you headed in the right direction. </p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 12656422, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<blockquote>\n  <p>What is a plain English explanation of Big O? With as little formal definition as possible and simple mathematics.</p>\n</blockquote>\n\n<p><strong>A Plain English Explanation of the <em>Need</em> for Big-O Notation:</strong></p>\n\n<p>When we program, we are trying to solve a problem. What we code is called an algorithm. Big O notation allows us to compare the worse case performance of our algorithms in a standardized way. Hardware specs vary over time and improvements in hardware can reduce the time it takes an algorithms to run. But replacing the hardware does not mean our algorithm is any better or improved over time, as our algorithm is still the same. So in order to allow us to compare different algorithms, to determine if one is better or not, we use Big O notation.</p>\n\n<p><strong>A Plain English Explanation of <em>What</em> Big O Notation is:</strong></p>\n\n<p>Not all algorithms run in the same amount of time, and can vary based on the number of items in the input, which we'll call <em>n</em>. Based on this, we consider the worse case analysis, or an upper-bound of the run-time as <em>n</em> get larger and larger. We must be aware of what <em>n</em> is, because many of the Big O notations reference it.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 15015121, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p><strong>Big O</strong></p>\n\n<p><em>f</em>(x) = O(<em>g</em>(x)) when x goes to a (for example, a = +\u221e) means that there is a function <em>k</em> such that:</p>\n\n<ol>\n<li><p><em>f</em>(x) = <em>k</em>(x)<em>g</em>(x)</p></li>\n<li><p>k is bounded in some neighborhood of a (if a = +\u221e, this means that there are numbers N and M such that for every x > N, |<em>k</em>(x)| &lt; M).</p></li>\n</ol>\n\n<p>In other words, in plain English: <em>f</em>(x) = O(<em>g</em>(x)), x \u2192 a, means that in a neighborhood of a, <em>f</em> decomposes into the product of <em>g</em> and some bounded function.</p>\n\n<p><strong>Small o</strong></p>\n\n<p>By the way, here is for comparison the definition of small o.</p>\n\n<p><em>f</em>(x) = o(<em>g</em>(x)) when x goes to a means that there is a function k such that:</p>\n\n<ol>\n<li><p><em>f</em>(x) = <em>k</em>(x)<em>g</em>(x)</p></li>\n<li><p><em>k</em>(x) goes to 0 when x goes to a.</p></li>\n</ol>\n\n<p><em>Examples</em></p>\n\n<ul>\n<li><p>sin x = O(x) when x \u2192 0.</p></li>\n<li><p>sin x = O(1) when x \u2192 +\u221e,</p></li>\n<li><p>x<sup>2</sup> + x = O(x) when x \u2192 0,</p></li>\n<li><p>x<sup>2</sup> + x = O(x<sup>2</sup>) when x \u2192 +\u221e,</p></li>\n<li><p>ln(x) = o(x) = O(x) when x \u2192 +\u221e.</p></li>\n</ul>\n\n<p><strong>Attention!</strong> The notation with the equal sign \"=\" uses a \"fake equality\": it is true that o(g(x)) = O(g(x)), but false that O(g(x)) = o(g(x)).  Similarly, it is ok to write \"ln(x) = o(x) when x \u2192 +\u221e\", but the formula \"o(x) = ln(x)\" would make no sense.</p>\n\n<p><em>More examples</em></p>\n\n<ul>\n<li><p>O(1) = O(n) = O(n<sup>2</sup>) when n \u2192 +\u221e (but not the other way around, the equality is \"fake\"),</p></li>\n<li><p>O(n) + O(n<sup>2</sup>) = O(n<sup>2</sup>) when n \u2192 +\u221e</p></li>\n<li><p>O(O(n<sup>2</sup>)) = O(n<sup>2</sup>) when n \u2192 +\u221e</p></li>\n<li><p>O(n<sup>2</sup>)O(n<sup>3</sup>) = O(n<sup>5</sup>) when n \u2192 +\u221e</p></li>\n</ul>\n\n<hr>\n\n<p>Here is the Wikipedia article: <a href=\"https://en.wikipedia.org/wiki/Big_O_notation\">https://en.wikipedia.org/wiki/Big_O_notation</a></p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 15442252, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p><strong>Algorithm example (Java):</strong>\n</p>\n\n<pre class=\"lang-Java prettyprint-override\"><code>public boolean simple_search (ArrayList&lt;Integer&gt; list, int key)\n{\n    for (Integer i : list)\n    {\n        if (i == key)\n        {\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n\n<p><strong>Algorithm description:</strong></p>\n\n<ul>\n<li><p>This algorithm search a list, item by item, looking for a key,</p></li>\n<li><p>Iterating on each item in the list, if it's the key then return True,</p></li>\n<li><p>If the loop has finished without finding the key, return False.</p></li>\n</ul>\n\n<p><em>Big-O notation represent the upper-bound on the Complexity (Time, Space, ..)</em></p>\n\n<p><strong>To find The Big-O on Time Complexity:</strong></p>\n\n<ul>\n<li><p>Calculate how much time (regarding input size) the worst case takes:</p></li>\n<li><p>Worst-Case: the key doesn't exist in the list.</p></li>\n<li><p>Time(Worst-Case) = 4n+1</p></li>\n<li><p>Time: O(4n+1) = O(n) | in Big-O, constants are neglected</p></li>\n<li><p>O(n) ~ Linear</p></li>\n</ul>\n\n<p><strong>There's also Big-Omega, which represent complexity of the Best-Case:</strong></p>\n\n<ul>\n<li><p>Best-Case: the key is the first item.</p></li>\n<li><p>Time(Best-Case) = 4</p></li>\n<li><p>Time: \u03a9(4) = O(1) ~ Instant\\Constant</p></li>\n</ul>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 15588434, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>It is very difficult to measure the speed of software programs, and when we try, the answers can be very complex and filled with exceptions and special cases. This is a big problem, because all those exceptions and special cases are distracting and unhelpful when we want to compare two different programs with one another to find out which is \"fastest\".</p>\n\n<p>As a result of all this unhelpful complexity, people try to describe the speed of software programs using the smallest and least complex (mathematical) expressions possible. These expressions are very very crude approximations: Although, with a bit of luck, they will capture the \"essence\" of whether a piece of software is fast or slow.</p>\n\n<p>Because they are approximations, we use the letter \"O\" (Big Oh) in the expression, as a convention to signal to the reader that we are making a gross oversimplification. (And to make sure that nobody mistakenly thinks that the expression is in any way accurate).</p>\n\n<p>If you read the \"Oh\" as meaning \"on the order of\" or \"approximately\" you will not go too far wrong. (I think the choice of the Big-Oh might have been an attempt at humour).</p>\n\n<p>The only thing that these \"Big-Oh\" expressions try to do is to describe how much the software slows down as we increase the amount of data that the software has to process. If we double the amount of data that needs to be processed, does the software need twice as long to finish it's work? Ten times as long? In practice, there are a very limited number of big-Oh expressions that you will encounter and need to worry about:</p>\n\n<p>The good:</p>\n\n<ul>\n<li><code>O(1)</code> <strong>Constant</strong>: The program takes the same time to run no matter how big the input is.</li>\n<li><code>O(log n)</code> <strong>Logarithmic</strong>: The program run-time increases only slowly, even with big increases in the size of the input.</li>\n</ul>\n\n<p>The bad:</p>\n\n<ul>\n<li><code>O(n)</code> <strong>Linear</strong>: The program run-time increases proportionally to the size of the input.</li>\n<li><code>O(n^k)</code> <strong>Polynomial</strong>: - Processing time grows faster and faster - as a polynomial function - as the size of the input increases.</li>\n</ul>\n\n<p>... and the ugly:</p>\n\n<ul>\n<li><code>O(k^n)</code> <strong>Exponential</strong> The program run-time increases very quickly with even moderate increases in the size of the problem - it is only practical to process small data sets with exponential algorithms.</li>\n<li><code>O(n!)</code> <strong>Factorial</strong> The program run-time will be longer than you can afford to wait for anything but the very smallest and most trivial-seeming datasets.</li>\n</ul>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 16815775, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<blockquote>\n  <p>\"<em>What is a plain English explanation of Big O? With as little formal\n  definition as possible and simple mathematics.</em>\"</p>\n</blockquote>\n\n<p>Such a beautifully simple and short question seems at least to deserve an equally short answer, like a student might receive during tutoring.</p>\n\n<blockquote>\n  <p>Big O notation simply tells how much time* an algorithm can run within,\n  in terms of <em>only the amount of input data</em>**.</p>\n</blockquote>\n\n<p>( *in a wonderful, <em>unit-free</em> sense of time!)<br>\n(**which is what matters, because people will <a href=\"http://www.youtube.com/watch?v=OnA3C9Af_oc\"><em>always</em> want more</a>, whether they live today or tomorrow)</p>\n\n<p>Well, what's so wonderful about Big O notation if that's what it does?</p>\n\n<ul>\n<li><p>Practically speaking, Big O analysis is <em>so useful and important</em> because Big O puts the focus squarely on the algorithm's <em>own</em> complexity and completely <em>ignores</em> anything that is merely a proportionality constant&mdash;like a JavaScript engine, the speed of a CPU, your Internet connection, and all those things which become quickly become as laughably outdated as a Model <em>T</em>. Big O focuses on performance only in the way that matters equally as much to people living in the present or in the future.</p></li>\n<li><p>Big O notation also shines a spotlight directly on the most important principle of computer programming/engineering, the fact which inspires all good programmers to keep thinking and dreaming: the only way to achieve results beyond the slow forward march of technology is to <em>invent a better algorithm</em>.</p></li>\n</ul>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 18245156, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Assume we're talking about an algorithm <strong>A</strong>, which should do something with a dataset of size <strong>n</strong>. </p>\n\n<p>Then <code>O( &lt;some expression X involving n&gt; )</code> means, in simple English:</p>\n\n<blockquote>\n  <p>If you're unlucky when executing A, it might take X(n) operations to\n  complete.</p>\n</blockquote>\n\n<p>As it happens, there are certain functions (think of them as <em>implementations</em> of <strong>X(n)</strong>) that tend to occur quite often. These are well known and easily compared (Examples: <code>1</code>, <code>Log N</code>, <code>N</code>, <code>N^2</code>, <code>N!</code>, etc..)</p>\n\n<p>By comparing these when talking about <strong>A</strong> and other algorithms, it is easy to rank the algorithms according to the number of operations they <em>may</em> (worst-case) require to complete. </p>\n\n<p>In general, our goal will be to find or structure an algorithm <strong>A</strong> in such a way that it will have a function <code>X(n)</code> that returns as low a number as possible. </p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 19593518, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>A simple straightforward answer can be:</p>\n\n<p>Big O represents the worst possible time/space for that algorithm. The algorithm will never take more space/time above that limit. Big O represents time/space complexity in the extreme case.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 19951218, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Here is the plain English bestiary I tend to use when explaining the common varieties of Big-O</p>\n\n<p>In all cases, prefer algorithms higher up on the list to those lower on the list.  However, the cost of moving to a more expensive complexity class varies significantly.</p>\n\n<p><strong>O(1):</strong></p>\n\n<p>No growth.  Regardless of how big as the problem is, you can solve it in the same amount of time.  This is somewhat analogous to broadcasting where it takes the same amount of energy to broadcast over a given distance, regardless of the number of people that lie within the broadcast range.</p>\n\n<p><strong>O(log <em>n</em>):</strong></p>\n\n<p>This complexity is the same as <strong>O(1)</strong> except that it's just a little bit worse.  For all practical purposes, you can consider this as a very large constant scaling.  The difference in work between processing 1 thousand and 1 billion items is only a factor six.</p>\n\n<p><strong>O(<em>n</em>):</strong></p>\n\n<p>The cost of solving the problem is proportional to the size of the problem.  If your problem doubles in size, then the cost of the solution doubles.  Since most problems have to be scanned into the computer in some way, as data entry, disk reads, or network traffic, this is generally an affordable scaling factor.</p>\n\n<p><strong>O(<em>n</em> log <em>n</em>):</strong></p>\n\n<p>This complexity is very similar to <strong>O(<em>n</em>)</strong>.  For all practical purposes, the two are equivalent.  This level of complexity would generally still be considered scalable.  By tweaking assumptions some <strong>O(<em>n</em> log <em>n</em>)</strong> algorithms can be transformed into <strong>O(<em>n</em>)</strong> algorithms.  For example, bounding the size of keys reduces sorting from <strong>O(<em>n</em> log <em>n</em>)</strong> to <strong>O(<em>n</em>)</strong>.</p>\n\n<p><strong>O(<em>n</em><sup>2</sup>):</strong></p>\n\n<p>Grows as a square, where <em>n</em> is the length of the side of a square.  This is the same growth rate as the \"network effect\", where everyone in a network might know everyone else in the network.  Growth is expensive.  Most scalable solutions cannot use algorithms with this level of complexity without doing significant gymnastics.  This generally applies to all other polynomial complexities - <strong>O(<em>n</em><sup>k</sup>)</strong> - as well.</p>\n\n<p><strong>O(2<sup><em>n</em></sup>):</strong></p>\n\n<p>Does not scale.  You have no hope of solving any non-trivially sized problem.  Useful for knowing what to avoid, and for experts to find approximate algorithms which are in <strong>O(<em>n</em><sup>k</sup>)</strong>.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 21393658, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big O notation is a way of describing how quickly an algorithm will run given an arbitrary number of input parameters, which we'll call \"n\". It is useful in computer science because different machines operate at different speeds, and simply saying that an algorithm takes 5 seconds doesn't tell you much because while you may be running a system with a 4.5 Ghz octo-core processor, I may be running a 15 year old, 800 Mhz system, which could take longer regardless of the algorithm. So instead of specifying how fast an algorithm runs in terms of time, we say how fast it runs in terms of number of input parameters, or \"n\". By describing algorithms in this way, we are able to compare the speeds of algorithms without having to take into account the speed of the computer itself.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 24418021, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>I've more simpler way to understand the time complexity\nhe most common metric for calculating time complexity is Big O notation. This removes all constant factors so that the running time can be estimated in relation to N as N approaches infinity. In general you can think of it like this:</p>\n\n<pre><code>statement;\n</code></pre>\n\n<p>Is constant. The running time of the statement will not change in relation to N</p>\n\n<pre><code>for ( i = 0; i &lt; N; i++ )\n  statement;\n</code></pre>\n\n<p>Is linear. The running time of the loop is directly proportional to N. When N doubles, so does the running time.</p>\n\n<pre><code>for ( i = 0; i &lt; N; i++ ) \n{\nfor ( j = 0; j &lt; N; j++ )\n  statement;\n}\n</code></pre>\n\n<p>Is quadratic. The running time of the two loops is proportional to the square of N. When N doubles, the running time increases by N * N.</p>\n\n<pre><code>while ( low &lt;= high ) \n{\n mid = ( low + high ) / 2;\n if ( target &lt; list[mid] )\n high = mid - 1;\n else if ( target &gt; list[mid] )\n  low = mid + 1;\nelse break;\n}\n</code></pre>\n\n<p>Is logarithmic. The running time of the algorithm is proportional to the number of times N can be divided by 2. This is because the algorithm divides the working area in half with each iteration.</p>\n\n<pre><code>void quicksort ( int list[], int left, int right )\n{\n  int pivot = partition ( list, left, right );\n  quicksort ( list, left, pivot - 1 );\n  quicksort ( list, pivot + 1, right );\n}\n</code></pre>\n\n<p>Is N * log ( N ). The running time consists of N loops (iterative or recursive) that are logarithmic, thus the algorithm is a combination of linear and logarithmic.</p>\n\n<p>In general, doing something with every item in one dimension is linear, doing something with every item in two dimensions is quadratic, and dividing the working area in half is logarithmic. There are other Big O measures such as cubic, exponential, and square root, but they're not nearly as common. Big O notation is described as O (  ) where  is the measure. The quicksort algorithm would be described as O ( N * log ( N ) ).</p>\n\n<p>Note: None of this has taken into account best, average, and worst case measures. Each would have its own Big O notation. Also note that this is a VERY simplistic explanation. Big O is the most common, but it's also more complex that I've shown. There are also other notations such as big omega, little o, and big theta. You probably won't encounter them outside of an algorithm analysis course. </p>\n\n<ul>\n<li>See more at: <a href=\"http://proprogramming.org/2015/01/how-to-calculate-time-complexity-of.html#sthash.URrGFhqm.dpuf\">Here</a></li>\n</ul>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 28230799, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>If you have a suitable notion of infinity in your head, then there is a very brief description:</p>\n\n<blockquote>\n  <p>Big O notation tells you the cost of solving an infinitely large problem.</p>\n</blockquote>\n\n<p>And furthermore</p>\n\n<blockquote>\n  <p>Constant factors are negligible</p>\n</blockquote>\n\n<p>If you upgrade to a computer that can run your algorithm twice as fast, big O notation won't notice that. Constant factor improvements are too small to even be noticed in the scale that big O notation works with. Note that this is an intentional part of the design of big O notation.</p>\n\n<p>Although anything \"larger\" than a constant factor can be detected, however.</p>\n\n<p>When interested in doing computations whose size is \"large\" enough to be considered as approximately infinity, then big O notation is approximately the cost of solving your problem.</p>\n\n<hr>\n\n<p>If the above doesn't make sense, then you don't have a compatible intuitive notion of infinity in your head, and you should probably disregard all of the above; the only way I know to make these ideas rigorous, or to explain them if they aren't already intuitively useful, is to first teach you big O notation or something similar. (although, once you well understand big O notation in the future, it may be worthwhile to revisit these ideas)</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 30277813, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>If I want to explain this to 6 years old child I will start to draw some functions f(x) = x and f(x) = x^2 for example and ask a child which function will be upper function on the top of the page. Then we will proceed with drawing and see that x^2 wins. \"Who wins\" actually is the function which grows faster when x tends to infinity. So \"function x is in Big O of x^2\" means that x grows slower than x^2 when x tends to infinity. \nThe same can be done when x tends to 0. If we draw these two function for x from 0 to 1 x will be upper function, so \"function x^2 is in Big O of x for x tends to 0\".\nWhen child will get older I add that really Big O can be a function which grows not faster but the same way as given function. Moreover constant is discarded. So 2x is in Big O of x.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 30820357, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p><strong>Simplest way to look at it (in plain English)</strong></p>\n\n<p>We are trying to see how the number of input parameters, affects the running time of an algorithm. If the running time of your application is proportional to the number of input parameters, then it is said to be in Big O of n. </p>\n\n<p>The above statement is a good start but not completely true.</p>\n\n<p><strong>A more accurate explanation (mathematical)</strong></p>\n\n<p>Suppose</p>\n\n<p>n=number of input parameters</p>\n\n<p>T(n)= The actual function that expresses the running time of the algorithm as a function of n</p>\n\n<p>c= a constant</p>\n\n<p>f(n)= An approximate function that expresses the running time of the algorithm as a function of n</p>\n\n<p>Then as far as Big O is concerned, the approximation f(n) is considered good enough as long as the below condition is true.</p>\n\n<pre><code>lim     T(n) \u2264 c\u00d7f(n)\nn\u2192\u221e\n</code></pre>\n\n<p>The equation is read as \nAs n approaches infinity, T of n, is less than or equal to c times f of n.</p>\n\n<p>In big O notation this is written as</p>\n\n<pre><code>T(n)\u2208O(n)\n</code></pre>\n\n<p>This is read as T of n is in big O of n.</p>\n\n<p><strong>Back to English</strong></p>\n\n<p>Based on the mathematical definition above, if you say your algorithm is a Big O of n, it means it is a function of n (number of input parameters) <strong>or faster</strong>. If your algorithm is Big O of n, then it is also automatically the Big O of n square. </p>\n\n<p>Big O of n means my algorithm runs at least as fast as this. You cannot look at Big O notation of your algorithm and say its slow. You can only say its fast.  </p>\n\n<p>Check <a href=\"https://www.youtube.com/watch?v=V1xXmQkzkZI&amp;index=13&amp;list=PLZBP-86GmPTxpbvoFFzad0qYw5dKA8MV2\" rel=\"nofollow\">this</a> out for a video tutorial on Big O from UC Berkley. Its is actually a simple concept. If you hear professor Shewchuck (aka God level teacher) explaining it, you will say \"Oh thats all it is!\". </p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 32039692, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>This is a very simplified explanation, but I hope it covers most important details.</p>\n\n<p>Let's say your algorithm dealing with the problem depends on some 'factors', for example let's make it N and X.</p>\n\n<p>Depending on N and X, your algorithm will require some operations, for example in the WORST case it's <code>3(N^2) + log(X)</code> operations.</p>\n\n<p>Since Big-O doesn't care too much about constant factor (aka 3), the Big-O of your algorithm is <code>O(N^2 + log(X))</code>. It basically translates 'the amount of operations your algorithm needs for the worst case scales with this'.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 33068300, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Say you order Harry Potter: Complete 8-Film Collection [Blu-ray] from Amazon and download the same film collection online at the same time. You want to test which method is faster. The delivery takes almost a day to arrive and the download completed about 30 minutes earlier. Great! So it\u2019s a tight race.</p>\n\n<p>What if I order several Blu-ray movies like The Lord of the Rings, Twilight, The Dark Knight Trilogy, etc. and download all the movies online at the same time? This time, the delivery still take a day to complete, but the online download takes 3 days to finish.\nFor online shopping, the number of purchased item (input) doesn\u2019t affect the delivery time. The output is constant. We call this <strong>O(1)</strong>.</p>\n\n<p>For online downloading, the download time is directly proportional to the movie file sizes (input). We call this <strong>O(n)</strong>.</p>\n\n<p>From the experiments, we know that online shopping scales better than online downloading. It is very important to understand big O notation because it helps you to analyze the <strong>scalability</strong> and <strong>efficiency</strong> of algorithms.</p>\n\n<p><strong>Note:</strong> Big O notation represents the <strong>worst-case scenario</strong> of an algorithm. Let\u2019s assume that <strong>O(1)</strong> and <strong>O(n)</strong> are the worst-case scenarios of the example above.</p>\n\n<p><strong>Reference</strong> : <a href=\"http://carlcheo.com/compsci\">http://carlcheo.com/compsci</a></p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 34114556, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>You want to know all there is to know of big O?  So do I.</p>\n\n<p>So to talk of big O, I will use words that have just one beat in them.  One sound per word.  Small words are quick.  You know these words, and so do I.  We will use words with one sound.  They are small.  I am sure you will know all of the words we will use!</p>\n\n<p>Now, let\u2019s you and me talk of work. Most of the time, I do not like work.  Do you like work?  It may be the case that you do, but I am sure I do not.</p>\n\n<p>I do not like to go to work.  I do not like to spend time at work.  If I had my way, I would like just to play, and do fun things.  Do you feel the same as I do?</p>\n\n<p>Now at times, I do have to go to work.  It is sad, but true.  So, when I am at work, I have a rule: I try to do less work.  As near to no work as I can.  Then I go play!</p>\n\n<p>So here is the big news: the big O can help me not to do work!  I can play more of the time, if I know big O.  Less work, more play!  That is what big O helps me do.</p>\n\n<p>Now I have some work.  I have this list: one, two, three, four, five, six.  I must add all things in this list.  </p>\n\n<p>Wow, I hate work.  But oh well, I have to do this.  So here I go.</p>\n\n<p>One plus two is three\u2026 plus three is six... and four is... I don\u2019t know.  I got lost.  It is too hard for me to do in my head.  I don\u2019t much care for this kind of work.</p>\n\n<p>So let's not do the work.  Let's you and me just think how hard it is.  How much work would I have to do, to add six numbers?</p>\n\n<p>Well, let\u2019s see.  I must add one and two, and then add that to three, and then add that to four\u2026 All in all, I count six adds.  I have to do six adds to solve this.</p>\n\n<p>Here comes big O, to tell us just how hard this math is.</p>\n\n<p>Big O says: we must do six adds to solve this.  One add, for each thing from one to six.  Six small bits of work... each bit of work is one add.</p>\n\n<p>Well, I will not do the work to add them now.  But I know how hard it would be.  It would be six adds.</p>\n\n<p>Oh no, now I have more work.  Sheesh.  Who makes this kind of stuff?!</p>\n\n<p>Now they ask me to add from one to ten!  Why would I do that?  I did not want to add one to six.  To add from one to ten\u2026 well\u2026 that would be even more hard!</p>\n\n<p>How much more hard would it be?  How much more work would I have to do?  Do I need more or less steps?</p>\n\n<p>Well, I guess I would have to do ten adds\u2026 one for each thing from one to ten.  Ten is more than six.  I would have to work that much more to add from one to ten, than one to six!</p>\n\n<p>I do not want to add right now.  I just want to think on how hard it might be to add that much.  And, I hope, to play as soon as I can.</p>\n\n<p>To add from one to six, that is some work.  But do you see, to add from one to ten, that is more work?</p>\n\n<p>Big O is your friend and mine.  Big O helps us think on how much work we have to do, so we can plan.  And, if we are friends with big O, he can help us choose work that is not so hard!</p>\n\n<p>Now we must do new work.  Oh, no.  I don\u2019t like this work thing at all.</p>\n\n<p>The new work is: add all things from one to n.</p>\n\n<p>Wait!  What is n?  Did I miss that?  How can I add from one to n if you don\u2019t tell me what n is?</p>\n\n<p>Well, I don\u2019t know what n is.  I was not told.  Were you?  No?   Oh well.  So we can\u2019t do the work.  Whew.</p>\n\n<p>But though we will not do the work now, we can guess how hard it would be, if we knew n.  We would have to add up n things, right?  Of course!</p>\n\n<p>Now here comes big O, and he will tell us how hard this work is.  He says: to add all things from one to N, one by one, is O(n).  To add all these things, [I know I must add n times.][1]  That is big O!  He tells us how hard it is to do some type of work.</p>\n\n<p>To me, I think of big O like a big, slow, boss man.  He thinks on work, but he does not do it.  He might say, \"That work is quick.\"  Or, he might say, \"That work is so slow and hard!\"  But he does not do the work.  He just looks at the work, and then he tells us how much time it might take.</p>\n\n<p>I care lots for big O.  Why?  I do not like to work!  No one likes to work.  That is why we all love big O!  He tells us how fast we can work.  He helps us think of how hard work is.</p>\n\n<p>Uh oh, more work.  Now, let\u2019s not do the work.  But, let\u2019s make a plan to do it, step by step.</p>\n\n<p>They gave us a deck of ten cards.  They are all mixed up: seven, four, two, six\u2026 not straight at all.  And now... our job is to sort them.</p>\n\n<p>Ergh.  That sounds like a lot of work!</p>\n\n<p>How can we sort this deck?  I have a plan.</p>\n\n<p>I will look at each pair of cards, pair by pair, through the deck, from first to last.  If the first card in one pair is big and the next card in that pair is small, I swap them.  Else, I go to the next pair, and so on and so on... and soon, the deck is done.</p>\n\n<p>When the deck is done, I ask: did I swap cards in that pass?  If so, I must do it all once more, from the top.</p>\n\n<p>At some point, at some time, there will be no swaps, and our sort of the deck would be done.  So much work!</p>\n\n<p>Well, how much work would that be, to sort the cards with those rules?</p>\n\n<p>I have ten cards.  And, most of the time -- that is, if I don\u2019t have lots of luck -- I must go through the whole deck up to ten times, with up to ten card swaps each time through the deck.</p>\n\n<p>Big O, help me!</p>\n\n<p>Big O comes in and says: for a deck of n cards, to sort it this way will be done in O(N squared) time.</p>\n\n<p>Why does he say n squared?</p>\n\n<p>Well, you know n squared is n times n.  Now, I get it: n cards checked, up to what might be n times through the deck.  That is two loops, each with n steps.  That is n squared much work to be done.  A lot of work, for sure!</p>\n\n<p>Now when big O says it will take O(n squared) work, he does not mean n squared adds, on the nose.  It might be some small bit less, for some case.  But in the worst case, it will be near n squared steps of work to sort the deck.</p>\n\n<p>Now here is where big O is our friend.</p>\n\n<p>Big O points out this: as n gets big, when we sort cards, the job gets MUCH MUCH MORE HARD than the old just-add-these-things job.  How do we know this?</p>\n\n<p>Well, if n gets real big, we do not care what we might add to n or n squared.  </p>\n\n<p>For big n, n squared is more large than n.</p>\n\n<p>Big O tells us that to sort things is more hard than to add things.  O(n squared) is more than O(n) for big n.  That means: if n gets real big, to sort a mixed deck of n things MUST take more time, than to just add n mixed things.</p>\n\n<p>Big O does not solve the work for us.  Big O tells us how hard the work is.</p>\n\n<p>I have a deck of cards.  I did sort them.  You helped.  Thanks.</p>\n\n<p>Is there a more fast way to sort the cards?  Can big O help us?</p>\n\n<p>Yes, there is a more fast way!  It takes some time to learn, but it works... and it works quite fast.  You can try it too, but take your time with each step and do not lose your place.</p>\n\n<p>In this new way to sort a deck, we do not check pairs of cards the way we did a while ago.  Here are your new rules to sort this deck:</p>\n\n<p>One: I choose one card in the part of the deck we work on now.  You can choose one for me if you like.  (The first time we do this, \u201cthe part of the deck we work on now\u201d is the whole deck, of course.)</p>\n\n<p>Two: I splay the deck on that card you chose.  What is this splay; how do I splay?  Well, I go from the start card down, one by one, and I look for a card that is more high than the splay card.</p>\n\n<p>Three: I go from the end card up, and I look for a card that is more low than the splay card.  </p>\n\n<p>Once I have found these two cards, I swap them, and go on to look for more cards to swap.  That is, I go back to step Two, and splay on the card you chose some more.</p>\n\n<p>At some point, this loop (from Two to Three) will end.  It ends when both halves of this search meet at the splay card.  Then, we have just splayed the deck with the card you chose in step One.  Now, all the cards near the start are more low than the splay card; and the cards near the end are more high than the splay card.  Cool trick!</p>\n\n<p>Four (and this is the fun part): I have two small decks now, one more low than the splay card, and one more high.  Now I go to step one, on each small deck!  That is to say, I start from step One on the first small deck, and when that work is done, I start from step One on the next small deck.  </p>\n\n<p>I break up the deck in parts, and sort each part, more small and more small, and at some time I have no more work to do.  Now this may seem slow, with all the rules.  But trust me, it is not slow at all.  It is much less work than the first way to sort things!</p>\n\n<p>What is this sort called?  It is called Quick Sort!  That sort was made by a man called <a href=\"https://en.wikipedia.org/wiki/Tony_Hoare\" rel=\"nofollow\">C. A. R. Hoare</a> and he called it Quick Sort.  Now, Quick Sort gets used all the time!</p>\n\n<p>Quick Sort breaks up big decks in small ones.  That is to say, it breaks up big tasks in small ones.</p>\n\n<p>Hmmm.  There may be a rule in there, I think.  To make big tasks small, break them up.</p>\n\n<p>This sort is quite quick.  How quick?  Big O tells us: this sort needs O(n log n) work to be done, in the mean case.  </p>\n\n<p>Is it more or less fast than the first sort?  Big O, please help!</p>\n\n<p>The first sort was O(n squared).  But Quick Sort is O(n log n).  You know that n log n is less than n squared, for big n, right?  Well, that is how we know that Quick Sort is fast!</p>\n\n<p>If you have to sort a deck, what is the best way?  Well, you can do what you want, but I would choose Quick Sort.</p>\n\n<p>Why do I choose Quick Sort?  I do not like to work, of course!  I want work done as soon as I can get it done.</p>\n\n<p>How do I know Quick Sort is less work?  I know that O(n log n) is less than O(n squared).  The O's are more small, so Quick Sort is less work!</p>\n\n<p>Now you know my friend, Big O.  He helps us do less work.  And if you know big O, you can do less work too!</p>\n\n<p>You learned all that with me!  You are so smart!  Thank you so much!</p>\n\n<p>Now that work is done, let\u2019s go play!</p>\n\n<hr>\n\n<p>[1]: There is a way to cheat and add all the things from one to n, all at one time.  Some kid named Gauss found this out when he was eight.  I am not that smart though, so <a href=\"http://nzmaths.co.nz/gauss-trick-staff-seminar\" rel=\"nofollow\">don't ask me how he did it</a>.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 34479589, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}, {"body": "<p>Big O in plain english is like &lt;= (less than or equal). When we say for two functions f and g, f = O(g) it means that f &lt;= g. </p>\n\n<p>However, this does not mean that for any n f(n) &lt;= g(n). Actually what it means is that <strong>f is less than or equal g in terms of growth</strong>. It means that <strong>after a point</strong> f(n) &lt;= c*g(n) if <strong>c is a constant</strong>. And <strong>after a point</strong> means than for all n >= n0 where n0 <strong>is another constant</strong>.</p>\n", "title": "What is a plain English explanation of &quot;Big O&quot; notation?", "answer_id": 38192028, "question_id": 487258, "tags": ["algorithm", "complexity-theory", "computer-science", "big-o", "time-complexity"]}], "question_id": 487258}, {"body": "<p>I am trying to check out a remote branch:</p>\n\n<p>Somebody pushed a branch called <code>test</code> with <code>git push origin test</code> to a shared repository. I can see the branch with <code>git branch -r</code>. But how can I get this branch?</p>\n\n<ul>\n<li><p><code>git checkout test</code> does nothing</p></li>\n<li><p><code>git checkout origin/test</code> does something, but <code>git branch</code> says <code>* (no branch)</code>. I am on no branch?</p></li>\n</ul>\n\n<p>How do I share branches via a public repository?</p>\n", "title": "How to check out a remote Git branch?", "tags": ["git", "git-checkout", "remote-branch"], "answer_count": 14, "link": "http://stackoverflow.com/questions/1783405/how-to-check-out-a-remote-git-branch", "answers": [{"body": "<h2>Update</h2>\n\n<p><a href=\"http://stackoverflow.com/a/1787014/456814\">Jakub's answer</a> actually improves on this. With Git versions &ge; 1.6.6, you can just do:</p>\n\n<pre><code>git fetch\ngit checkout test\n</code></pre>\n\n<p>(User masukomi points out below that <code>git checkout test</code> will NOT work in modern git if you have multiple remotes. In this case use <code>git checkout -b test remote-name/test</code>)</p>\n\n<h2>Old Answer</h2>\n\n<p>Before you can start working locally on a remote branch, you need to fetch it as called out in answers below. </p>\n\n<p>To fetch a branch, you simply need to:</p>\n\n<pre><code>git fetch origin\n</code></pre>\n\n<p>This will fetch all of the remote branches for you. You can see the branches available for checkout with:</p>\n\n<pre><code>git branch -v -a\n</code></pre>\n\n<p>With the remote branches in hand, you now  need to check out the branch you are interested in, giving you a local working copy:</p>\n\n<pre><code>git checkout -b test origin/test\n</code></pre>\n", "title": "How to check out a remote Git branch?", "answer_id": 1783426, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>In this case, you probably want to create a local <code>test</code> branch which is tracking the remote <code>test</code> branch:</p>\n\n<pre><code>$ git branch test origin/test\n</code></pre>\n\n<p>In earlier versions of <code>git</code>, you needed an explicit <code>--track</code> option, but that is the default now when you are branching off a remote branch.</p>\n", "title": "How to check out a remote Git branch?", "answer_id": 1783437, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p><em><strong>Sidenote:</em></strong> With modern Git (>= <a href=\"https://raw.github.com/git/git/master/Documentation/RelNotes/1.6.6.txt\">1.6.6</a>), you are able to use just</p>\n\n<pre><code>git checkout test\n</code></pre>\n\n<p>(note that it is 'test' not 'origin/test') to perform magical <a href=\"http://en.wikipedia.org/wiki/DWIM\">DWIM</a>-mery and create local branch 'test' for you, for which upstream would be remote-tracking branch 'origin/test'.</p>\n\n<hr>\n\n<p>The <code>* (no branch)</code> in <code>git branch</code> output means that you are on unnamed branch, in so called \"detached HEAD\" state (HEAD points directly to commit, and is not symbolic reference to some local branch).  If you made some commits on this unnamed branch, you can always create local branch off current commit:</p>\n\n<pre><code>git checkout -b test HEAD\n</code></pre>\n", "title": "How to check out a remote Git branch?", "answer_id": 1787014, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>This will <a href=\"https://en.wikipedia.org/wiki/DWIM\">DWIM</a> for a remote not named origin (<a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-checkout.html\">documentation</a>):</p>\n\n<pre><code>$ git checkout -t remote_name/remote_branch\n</code></pre>\n\n<p>To add a new remote, you will need to do the following first:</p>\n\n<pre><code>$ git remote add remote_name location_of_remote\n$ git fetch remote_name\n</code></pre>\n\n<p>The first tells Git the remote exists, the second gets the commits.</p>\n", "title": "How to check out a remote Git branch?", "answer_id": 10358772, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<h2><a href=\"http://stackoverflow.com/a/1783426/456814\">Accepted answer</a> not working for you?</h2>\n\n<p>While the first and selected answer is technically <em>correct</em>, there's the possibility you have not yet retrieved all objects and refs from the remote repository. If that is the case, you'll receive the following error:</p>\n\n<pre><code>$ git checkout -b remote_branch origin/remote_branch\n</code></pre>\n\n<blockquote>\n  <p>fatal: git checkout: updating paths is incompatible with switching branches.<br>\n  Did you intend to checkout 'origin/remote_branch' which can not be resolved as commit?</p>\n</blockquote>\n\n<h2>Solution</h2>\n\n<p>If you receive this message, you must first do a <code>git fetch origin</code> where <code>origin</code> is the name of the remote repository prior to running <code>git checkout remote_branch</code>. Here's a full example with responses:</p>\n\n<pre><code>$ git fetch origin\nremote: Counting objects: 140, done.\nremote: Compressing objects: 100% (30/30), done.\nremote: Total 69 (delta 36), reused 66 (delta 33)\nUnpacking objects: 100% (69/69), done.\nFrom https://github.com/githubuser/repo-name\n   e6ef1e0..5029161  develop    -&gt; origin/develop\n * [new branch]      demo       -&gt; origin/demo\n   d80f8d7..359eab0  master     -&gt; origin/master\n\n$ git checkout demo\nBranch demo set up to track remote branch demo from origin.\nSwitched to a new branch 'demo'\n</code></pre>\n\n<p>As you can see, running <code>git fetch origin</code> retrieved any remote branches we were not yet setup to track on our local machine. From there, since we now have a ref to the remote branch, we can simply run <code>git checkout remote_branch</code> and we'll gain the benefits of remote tracking.</p>\n", "title": "How to check out a remote Git branch?", "answer_id": 13770793, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>To clone a Git repository, do: </p>\n\n<pre><code>git clone &lt;either ssh url /http url&gt;\n</code></pre>\n\n<p>The above command checks out all of the branches, but only the <code>master</code> branch will be initialized. If you want to checkout the other branches, do:</p>\n\n<pre><code>git checkout -t origin/future_branch (for example)\n</code></pre>\n\n<p>This command checks out the remote branch, and your local branch name will be same as the remote branch.</p>\n\n<p>If you want to override your local branch name on checkout:</p>\n\n<pre><code>git checkout -t -b enhancement origin/future_branch\n</code></pre>\n\n<p>Now your local branch name is <code>enhancement</code>, but your remote branch name is <code>future_branch</code>. </p>\n\n<p><a href=\"http://madhan-tech-updates.blogspot.in/2013/01/checkout-branch-from-github.html\">Documentation</a></p>\n", "title": "How to check out a remote Git branch?", "answer_id": 14436240, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>If the branch is on something other than the <code>origin</code> remote I like to do the following:</p>\n\n<pre><code>$ git fetch\n$ git checkout -b second/next upstream/next\n</code></pre>\n\n<p>This will checkout the <code>next</code> branch on the <code>upstream</code> remote in to a local branch called <code>second/next</code>. Which means if you already have a local branch named next it will not conflict.</p>\n\n<pre><code>$ git branch -a\n* second/next\n  remotes/origin/next\n  remotes/upstream/next\n</code></pre>\n", "title": "How to check out a remote Git branch?", "answer_id": 15154985, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p><code>git branch -r</code> says the object name is invalid, because that branch name isn't in Git's local branch list. Update your local branch list from origin with:</p>\n\n<pre><code>git remote update\n</code></pre>\n\n<p>And then try checking out your remote branch again.</p>\n\n<p>This worked for me.</p>\n\n<p>I believe <code>git fetch</code> pulls in <em>all</em> remote branches, which is not what the original poster wanted.</p>\n", "title": "How to check out a remote Git branch?", "answer_id": 16961961, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>I tried the above solution, but it didn't work. Try this, it works:</p>\n\n<pre><code>git fetch origin 'remote_branch':'local_branch_name'\n</code></pre>\n\n<p>This will fetch the remote branch and create a new local branch (if not exists already) with name <code>local_branch_name</code> and track the remote one in it.</p>\n", "title": "How to check out a remote Git branch?", "answer_id": 19442557, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>You can try</p>\n\n<pre><code>git fetch remote\ngit checkout --track -b local_branch_name origin/branch_name\n</code></pre>\n\n<p>or</p>\n\n<pre><code>git fetch\ngit checkout -b local_branch_name origin/branch_name\n</code></pre>\n", "title": "How to check out a remote Git branch?", "answer_id": 22610401, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p><code>git fetch &amp;&amp; git checkout your-branch-name</code></p>\n", "title": "How to check out a remote Git branch?", "answer_id": 22653719, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>Please follow the command to create an empty folder. Enter that and use this command:</p>\n\n<pre><code>saifurs-Mini:YO-iOS saifurrahman$ git clone your_project_url\nCloning into 'iPhoneV1'...\nremote: Counting objects: 34230, done.\nremote: Compressing objects: 100% (24028/24028), done.\nremote: Total 34230 (delta 22212), reused 15340 (delta 9324)\nReceiving objects: 100% (34230/34230), 202.53 MiB | 294.00 KiB/s, done.\nResolving deltas: 100% (22212/22212), done.\nChecking connectivity... done.\nsaifurs-Mini:YO-iOS saifurrahman$ cd iPhoneV1/\nsaifurs-Mini:iPhoneV1 saifurrahman$ git checkout 1_4_0_content_discovery\nBranch 1_4_0_content_discovery set up to track remote branch 1_4_0_content_discovery from origin.\nSwitched to a new branch '1_4_0_content_discovery'\n</code></pre>\n", "title": "How to check out a remote Git branch?", "answer_id": 34555372, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>Use:</p>\n\n<pre><code>git checkout -b &lt;BRANCH-NAME&gt; &lt;REMOTE-NAME&gt;/&lt;BRANCH-NAME&gt;\n</code></pre>\n\n<p>Other answers do not work with modern Git in my benign case. You might need to pull first if the remote branch is new, but I haven't checked that case.</p>\n", "title": "How to check out a remote Git branch?", "answer_id": 35535226, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}, {"body": "<p>Commands</p>\n\n<pre><code>git fetch --all\ngit checkout -b &lt;ur_new_local_branch_name&gt; origin/&lt;Remote_Branch_Name&gt;\n</code></pre>\n\n<p>are equal to</p>\n\n<pre><code> git fetch --all\n</code></pre>\n\n<p>and then</p>\n\n<pre><code> git checkout -b fixes_for_dev origin/development\n</code></pre>\n\n<p>Both will create a <code>latest fixes_for_dev</code> from <code>development</code></p>\n", "title": "How to check out a remote Git branch?", "answer_id": 36778464, "question_id": 1783405, "tags": ["git", "git-checkout", "remote-branch"]}], "question_id": 1783405}, {"body": "<p>For anchors that act like buttons (for example, <em>Questions</em>, <em>Tags</em>, <em>Users</em>, etc. at the top of the Stack&nbsp;Overflow page) or tabs, is there a CSS standard way to disable the highlighting effect if the user accidentally selects the text?</p>\n\n<p>I realize this could be done with JavaScript, and a little googling yielded the Mozilla-only <code>-moz-user-select</code> option.</p>\n\n<p>Is there a standard-compliant way to accomplish this with CSS, and if not, what is the \"best practice\" approach?</p>\n", "title": "How to disable text selection highlighting using CSS?", "tags": ["css", "cross-browser", "highlighting", "textselection"], "answer_count": 31, "link": "http://stackoverflow.com/questions/826782/how-to-disable-text-selection-highlighting-using-css", "answers": [{"body": "<p>Until CSS 3's <a href=\"http://www.w3.org/TR/1999/WD-css3-userint-19990916#user-select\">user-select</a> property becomes available, <a href=\"http://en.wikipedia.org/wiki/Gecko_%28layout_engine%29\">Gecko</a>-based browsers support the <code>-moz-user-select</code> property you already found. <a href=\"https://en.wikipedia.org/wiki/WebKit\">WebKit</a> and Blink-based browsers support the <code>-webkit-user-select</code> property.</p>\n\n<p>This of course is not supported in browsers that do not use the Gecko rendering engine.</p>\n\n<p>There is no \"standards\" compliant quick-and-easy way to do it; using JavaScript is an option.</p>\n\n<p>The real question is, why do you want users to not be able to highlight and presumably copy and paste certain elements? I have not come across a single time that I wanted to not let users highlight a certain portion of my website. Several of my friends, after spending many hours reading and writing code will use the highlight feature as a way to remember where on the page they were, or providing a marker so that their eyes know where to look next.</p>\n\n<p>The only place I could see this being useful is if you have buttons for forms that should not be copy and pasted if a user copy and pasted the website.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 826813, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Aside from the Mozilla-only property, no, there is no way to disable text selection with just standard CSS (as of now).</p>\n\n<p>If you notice, Stack Overflow doesn't disable text selection for their navigation buttons, and I would recommend against doing so in most cases, since it modifies normal selection behavior and makes it conflict with a user's expectations.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 826814, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>You can do so in Firefox and Safari (Chrome also?)</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>::selection { background: transparent; }\n::-moz-selection { background: transparent; }\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 826849, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>A JavaScript solution for IE is</p>\n\n<pre><code>onselectstart=\"return false;\"\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 1730172, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>In most browsers, this can be achieved using proprietary variations on the CSS <code>user-select</code> property, <a href=\"http://www.w3.org/TR/2000/WD-css3-userint-20000216#user-select\">originally proposed and then abandoned in CSS3</a> and now proposed in <a href=\"https://drafts.csswg.org/css-ui-4/#content-selection\">CSS UI Level 4</a>:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>*.unselectable {\n   -moz-user-select: none;\n   -khtml-user-select: none;\n   -webkit-user-select: none;\n\n   /*\n     Introduced in IE 10.\n     See http://ie.microsoft.com/testdrive/HTML5/msUserSelect/\n   */\n   -ms-user-select: none;\n   user-select: none;\n}\n</code></pre>\n\n<p>For IE &lt; 10 and Opera &lt; 15, you will need to use the <code>unselectable</code> attribute of the element you wish to be unselectable. You can set this using an attribute in HTML:</p>\n\n<pre><code>&lt;div id=\"foo\" unselectable=\"on\" class=\"unselectable\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>Sadly this property isn't inherited, meaning you have to put an attribute in the start tag of every element inside the <code>&lt;div&gt;</code>. If this is a problem, you could instead use JavaScript to do this recursively for an element's descendants:</p>\n\n<pre><code>function makeUnselectable(node) {\n    if (node.nodeType == 1) {\n        node.setAttribute(\"unselectable\", \"on\");\n    }\n    var child = node.firstChild;\n    while (child) {\n        makeUnselectable(child);\n        child = child.nextSibling;\n    }\n}\n\nmakeUnselectable(document.getElementById(\"foo\"));\n</code></pre>\n\n<hr>\n\n<p><strong>Update 30 April 2014</strong>: This tree traversal needs to be re-run whenever a new element is added to the tree, but it seems from a comment by @Han that it is possible to avoid this by\nadding a <code>mousedown</code> event handler that sets <code>unselectable</code> on the target of the event. See <a href=\"http://jsbin.com/yagekiji/1\">http://jsbin.com/yagekiji/1</a> for details.</p>\n\n<hr>\n\n<p>This still doesn't cover all possibilities. While it is impossible to initiate selections in unselectable elements, in some browsers (IE and Firefox, for example) it's still impossible to prevent selections that start before and end after the unselectable element without making the whole document unselectable.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 4358620, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p><strong>UPDATE 2016:</strong></p>\n\n<p>According to <a href=\"http://caniuse.com/#feat=user-select-none\">Can I use</a>, the <code>user-select</code> is currently supported in all browsers except Internet&nbsp;Explorer 9 and earlier versions.</p>\n\n<hr>\n\n<p>All of the correct CSS variations are:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.noselect {\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n  -webkit-user-select: none;   /* Chrome/Safari/Opera */\r\n  -khtml-user-select: none;    /* Konqueror */\r\n  -moz-user-select: none;      /* Firefox */\r\n  -ms-user-select: none;       /* Internet Explorer/Edge */\r\n  user-select: none;           /* Non-prefixed version, currently\r\n                                  not supported by any browser */\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;\r\n  Selectable text.\r\n&lt;/p&gt;\r\n&lt;p class=\"noselect\"&gt;\r\n  Unselectable text.\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Note that it's a <strong>non-standard feature</strong> (i.e. not a part of any specification). It is not guaranteed to work everywhere, and there might be differences in implementation among browsers and in the future browsers can drop support for it.</p>\n\n<hr>\n\n<p>More information can be found in <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/user-select\">Mozilla Developer Network documentation</a>.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 4407335, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>If you want to disable text selection on everything except on <code>&lt;p&gt;</code> elements, you can do this in CSS (watch out for the <code>-moz-none</code> which allows override in sub-elements, which is allowed in other browsers with <code>none</code>):</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>* {\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: -moz-none;\n    -o-user-select: none;\n    user-select: none;\n}\n\np {\n    -webkit-user-select: text;\n    -khtml-user-select: text;\n    -moz-user-select: text;\n    -o-user-select: text;\n    user-select: text;\n}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 6117092, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Workaround for <a href=\"http://en.wikipedia.org/wiki/WebKit\">WebKit</a>:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>/* Disable tap highlighting */\n-webkit-tap-highlight-color: rgba(0,0,0,0);\n</code></pre>\n\n<p>I found it in a CardFlip example.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 7495877, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>I like the hybrid CSS + jQuery solution.</p>\n\n<p>To make all elements inside <code>&lt;div class=\"draggable\"&gt;&lt;/div&gt;</code> unselectable, use this CSS:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.draggable {\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.draggable input { \n    -webkit-user-select: text; \n    -khtml-user-select: text; \n    -moz-user-select: text; \n    -o-user-select: text; \n    user-select: text; \n }\n</code></pre>\n\n<p>And then, if you're using jQuery, add this inside a <code>$(document).ready()</code> block:</p>\n\n<pre><code>if (($.browser.msie &amp;&amp; $.browser.version &lt; 10) || $.browser.opera) $('.draggable').find(':not(input)').attr('unselectable', 'on');\n</code></pre>\n\n<p>I figure you still want any input elements to be interactable, hence the <code>:not()</code> pseudo-selector. You could use <code>'*'</code> instead if you don't care.</p>\n\n<p>Caveat: IE9 may not need this extra jQuery piece, so you may want to add a version check in there.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 8099186, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>If you are using <a href=\"https://en.wikipedia.org/wiki/Less_%28stylesheet_language%29\">Less</a> and <a href=\"https://en.wikipedia.org/wiki/Bootstrap_%28front-end_framework%29\">Bootstrap</a> you could write:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.user-select(none);\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 10205717, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<pre class=\"lang-css prettyprint-override\"><code>-webkit-user-select: none;\n-khtml-user-select: none;\n-moz-user-select: none;\n-o-user-select: none;\nuser-select: none;\n\n*.unselectable {\n   -moz-user-select: -moz-none;\n   -khtml-user-select: none;\n   -webkit-user-select: none;\n   user-select: none;\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"foo\" unselectable=\"on\" class=\"unselectable\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>function makeUnselectable(node) {\n    if (node.nodeType == 1) {\n        node.unselectable = true;\n    }\n    var child = node.firstChild;\n    while (child) {\n        makeUnselectable(child);\n        child = child.nextSibling;\n    }\n}\n\nmakeUnselectable(document.getElementById(\"foo\"));\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>-webkit-user-select:none;\n-moz-user-select:none;\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>onselectstart=\"return false;\"\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>::selection { background: transparent; }\n::-moz-selection { background: transparent; }\n\n* {\n-webkit-user-select: none;\n-khtml-user-select: none;\n-moz-user-select: -moz-none;\n-o-user-select: none;\nuser-select: none;\n}\n\np {\n-webkit-user-select: text;\n-khtml-user-select: text;\n-moz-user-select: text;\n-o-user-select: text;\nuser-select: text;\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"draggable\"&gt;&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>.draggable {\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\n\n.draggable input { \n    -webkit-user-select: text; \n    -khtml-user-select: text; \n    -moz-user-select: text; \n    -o-user-select: text; \n    user-select: text; \n }\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>if ($.browser.msie) $('.draggable').find(':not(input)').attr('unselectable', 'on');\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 13081396, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Add this to the first div in which you want to disable the selection for text:</p>\n\n<pre><code>onmousedown='return false;' \nonselectstart='return false;'\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 13134101, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>This will be useful if color selection is also not needed:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>::-moz-selection { background:none; color:none; }\n::selection { background:none; color:none; }\n</code></pre>\n\n<p>...all other browser fixes. It will work in <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_9\">Internet&nbsp;Explorer&nbsp;9</a> or later.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 15782391, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>This is not CSS, but it is worth a mention:</p>\n\n<p><a href=\"http://api.jqueryui.com/disableSelection/\">jQuery UI Disable Selection</a>:</p>\n\n<pre><code>$(\"your.selector\").disableSelection();\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 15907680, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<pre class=\"lang-css prettyprint-override\"><code>.hidden:after {\n    content: attr(data-txt);\n}\n</code></pre>\n\n<p>And in HTML:</p>\n\n<pre><code>&lt;p class=\"hidden\" data-txt=\"Some text you don't want to be selected\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p>It's not the best way, though. </p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 16317405, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>For Internet Explorer in addition, you need to add <strong>pseudo class focus</strong> (.ClassName:focus) and <strong>outline-style:none</strong>.</p>\n\n<pre><code>.ClassName,\n.ClassName:focus {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    outline-style:none;/*IE*/\n}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 20745177, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Check my solution without JavaScript:</p>\n\n<p><a href=\"http://jsfiddle.net/y4Lac/\" rel=\"nofollow\">jsFiddle</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>li:hover {\r\n    background-color: silver;\r\n}\r\n#id1:before {\r\n    content: \"File\";\r\n}\r\n#id2:before {\r\n    content: \"Edit\";\r\n}\r\n#id3:before {\r\n    content: \"View\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\r\n    &lt;li&gt;&lt;a id=\"id1\" href=\"www.w1.com\"&gt;&lt;/a&gt;\r\n    &lt;li&gt;&lt;a id=\"id2\" href=\"www.w2.com\"&gt;&lt;/a&gt;\r\n    &lt;li&gt;&lt;a id=\"id3\" href=\"www.w3.com\"&gt;&lt;/a&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Popup menu with my technique applied: <a href=\"http://jsfiddle.net/y4Lac/2/\" rel=\"nofollow\">http://jsfiddle.net/y4Lac/2/</a></p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 21961233, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p><strong>Working</strong></p>\n\n<p>CSS:</p>\n\n<pre><code> -khtml-user-select: none;\n -moz-user-select: none;\n -ms-user-select: none;\n  user-select: none;\n -webkit-touch-callout: none;\n -webkit-user-select: none;\n</code></pre>\n\n<p>This should be working, but it won't work for the old browsers. There is a browser compatibility issue.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 22063635, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Though this pseudo-element was in drafts of CSS Selectors Level 3, it was removed during the Candidate Recommendation phase, as it appeared that its behavior was under-specified, especially with nested elements, and interoperability wasn't achieved.</p>\n\n<p>It's being discussed in <em><a href=\"http://lists.w3.org/Archives/Public/www-style/2008Oct/0268.html\" rel=\"nofollow\">How ::selection works on nested elements</a></em>.</p>\n\n<p>Despite it is being implemented in browser, you can make an illusion of text not being selected by using the same color and background color on selection as of the tab design (in your case).</p>\n\n<h3>Normal CSS Design</h3>\n\n<pre class=\"lang-css prettyprint-override\"><code>p { color: white;  background: black; }\n</code></pre>\n\n<h3>On selection</h3>\n\n<pre class=\"lang-css prettyprint-override\"><code>p::-moz-selection { color: white;  background: black; }\np::selection      { color: white;  background: black; }\n</code></pre>\n\n<p>Disallowing users to select the text will raise usability issues.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 22560766, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>This works in <em>some</em> browsers:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>::selection{ background-color: transparent;}\n::moz-selection{ background-color: transparent;}\n::webkit-selection{ background-color: transparent;}\n</code></pre>\n\n<p>Simply add your desired elements/ids in front of the selectors separated by commas without spaces, like so:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>h1::selection,h2::selection,h3::selection,p::selection{ background-color: transparent;}\nh1::moz-selection,h2::moz-selection,h3::moz-selection,p::moz-selection{ background-color: transparent;}\nh1::webkit-selection,h2::webkit-selection,h3::webkit-selection,p::webkit-selection{ background-color: transparent;}\n</code></pre>\n\n<p>The other answers are better; this should probably be seen as a last resort/catchall.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 22975492, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>For those who have trouble achieving the same in the Android browser with the touch event, use:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>html,body{\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n    -webkit-tap-highlight-color: transparent;\n}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 23730262, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p><strong>NOTE:</strong></p>\n\n<p>The correct answer is correct in that it prevents you from being able to select the text. However, it does not prevent you from being able to copy the text, as I'll show with the next couple of screenshots (as of 7th Nov 2014).</p>\n\n<p><img src=\"http://i.stack.imgur.com/gcKTY.png\" alt=\"Before we have selected anything\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/xwPld.png\" alt=\"After we have selected\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/Ex6UH.png\" alt=\"The numbers have been copied\"></p>\n\n<p>As you can see, we were unable to select the numbers, but we were able to copy them.</p>\n\n<p>Tested on: <a href=\"http://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow\">Ubuntu</a>, <a href=\"http://en.wikipedia.org/wiki/Google_Chrome\" rel=\"nofollow\">Google Chrome</a> 38.0.2125.111.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 26802255, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>To get the result I needed I found I had to use both <strong><code>::selection</code></strong> and <strong><code>user-select</code></strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>input.no-select:focus { \n    -webkit-touch-callout: none; \n    -webkit-user-select: none; \n    -khtml-user-select: none; \n    -moz-user-select: none; \n    -ms-user-select: none; \n    user-select: none; \n}\n\ninput.no-select::selection { \n    background: transparent; \n}\n\ninput.no-select::-moz-selection { \n    background: transparent; \n}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 30227267, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>In the above solutions selection is stopped, but the user still thinks you can select text because the cursor still changes. To keep it static, you'll have to set your CSS cursor:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.noselect {\r\n    cursor: default;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;\r\n  Selectable text.\r\n&lt;/p&gt;\r\n&lt;p class=\"noselect\"&gt;\r\n  Unselectable text.\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will make your text totally flat, like it would be in a desktop application.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 32299832, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Try to use this one:</p>\n\n<pre><code>::selection {\n    background: transparent;\n}\n</code></pre>\n\n<p>And if you wish to specify not select inside a specific element, just put the element class or id before the selection rule, such as:</p>\n\n<pre><code>.ClassNAME::selection {\n    background: transparent;\n}\n#IdNAME::selection {\n    background: transparent;\n}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 34896018, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Suppose there are two div like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.second {\r\n  cursor: default;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  /* Chrome/Safari/Opera */\r\n  -moz-user-select: none;\r\n  /* Firefox */\r\n  -ms-user-select: none;\r\n  /* IE/Edge */\r\n  -webkit-touch-callout: none;\r\n  /* iOS Safari */\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"first\"&gt;\r\n  This is my first div\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"second\"&gt;\r\n  This is my second div\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Set cursor to default so that it will give a unselectable feel to user/</p>\n\n<blockquote>\n  <p>Prefix need to be use to support it in all browsers without prefix this may not work in all the answers.</p>\n</blockquote>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 36259680, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>I have learned from <a href=\"https://css-tricks.com/almanac/properties/u/user-select/\">CSS-Tricks</a> website.</p>\n\n<pre><code>user-select: none;\n</code></pre>\n\n<p>And this also:</p>\n\n<pre><code>::selection{ background-color: transparent;}\n::moz-selection{ background-color: transparent;}\n::webkit-selection{ background-color: transparent;}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 36354972, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<pre><code> -webkit-user-select: none;  \n  -moz-user-select: none;    \n  -ms-user-select: none;      \n  user-select: none;\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 36643359, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>This highlighting effect is due to the action called hover(onMouseHover).\nWhen you will hover on any tab it's color will be changed.\nJust say for example.</p>\n\n\n\n<pre><code>&lt;div class=\"menu\"&gt;\n &lt;ul class=\"effect\"&gt;\n   &lt;li&gt;Questions &lt;/li&gt;\n   &lt;li&gt;JOBS &lt;/li&gt;\n   &lt;li&gt;Users&lt;/li&gt;\n &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;!-- CSS CODE --&gt;\n\n.effect:hover{\n   color: none;\n}\n</code></pre>\n\n<p>You can give any color if you wanted to get it highlighted, else yo u can    give none.</p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 37615351, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>Try insert this rows to CSSand call the \"disHighlight\" at class proprty:</p>\n\n<pre><code>.disHighlight{\n    user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    -webkit-touch-callout: none;\n    cursor: default;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n}\n</code></pre>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 39188849, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}, {"body": "<p>You can use User-select property as below for that..</p>\n\n<pre><code>p {  \n     -webkit-user-select: none;  /* Chrome all / Safari all */\n     -moz-user-select: none;     /* Firefox all */\n     -ms-user-select: none;      /* IE 10+ */\n      user-select: none;          /* Likely future */             \n   }\n</code></pre>\n\n<p><a href=\"https://css-tricks.com/almanac/properties/u/user-select/\" rel=\"nofollow\">Link for the Detailed Description</a></p>\n", "title": "How to disable text selection highlighting using CSS?", "answer_id": 39344904, "question_id": 826782, "tags": ["css", "cross-browser", "highlighting", "textselection"]}], "question_id": 826782}, {"body": "<p>How do I force an overwrite of local files on a <a href=\"http://en.wikipedia.org/wiki/Git_%28software%29\">Git</a> pull?</p>\n\n<p>The scenario is following:</p>\n\n<ul>\n<li>A team member is modifying the templates for a website we are working on</li>\n<li>They are adding some images to the images directory (but forgets to add them under source control)</li>\n<li>They are sending the images by mail, later, to me</li>\n<li>I'm adding the images under the source control and pushing them to Github together with other changes</li>\n<li>They cannot pull updates from Github because git doesn't want to overwrite their files.</li>\n</ul>\n\n<p>The errors I'm getting are:</p>\n\n<blockquote>\n  <p>error: Untracked working tree file 'public/images/icon.gif' would be overwritten by merge.</p>\n</blockquote>\n\n<p>How do I force Git to overwrite them? The person is a designer - usually I resolve all the conflicts by hand so the server has the most recent version that they just needs to update on their computer.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"], "answer_count": 34, "link": "http://stackoverflow.com/questions/1125968/how-to-force-git-pull-to-overwrite-local-files", "answers": [{"body": "<p>It looks like the best way is to first do:</p>\n\n<pre><code>git clean\n</code></pre>\n\n<p>To delete all untracked files and then continue with usual git pull....</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 1126089, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Try this:</p>\n\n<pre><code>git reset --hard HEAD\ngit pull\n</code></pre>\n\n<p>Should do what you want.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 2798934, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>You might find this command helpful to throw away local changes:</p>\n\n<pre><code>git checkout &lt;your-branch&gt; -f\n</code></pre>\n\n<p>and then do a clean up (Removes untracked files from the working tree):</p>\n\n<pre><code>git clean -f\n</code></pre>\n\n<p>If you want to remove untracked directories in addition to untracked files:</p>\n\n<pre><code>git clean -fd\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 3417733, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>You could ignore that file with a file in your project base folder:</p>\n\n<p>.gitignore</p>\n\n<pre><code>public/images/*\n</code></pre>\n\n<p>Then pull the changes and then remove that line from your gitignore file.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 4136301, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I just solved this myself by:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git checkout -b tmp # \"tmp\" or pick a better name for your local changes branch\ngit add -A\ngit commit -m 'tmp'\ngit pull\ngit checkout master # or whatever branch you were on originally\ngit pull\ngit diff tmp\n</code></pre>\n\n<p>where the last command gives a list of what your local changes were. Keep modifying the \"tmp\" branch until it is acceptable and then merge back onto master with: git checkout master &amp;&amp; git merge tmp</p>\n\n<p>For next time, you can probably handle this in a cleaner way by looking up  \"git stash branch\" though stash is likely to cause you trouble on first few tries, so do first experiment on a non-critical project...</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 4346779, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I had the same problem. No one gave me this solution, but it worked for me.</p>\n\n<p>I solved it by:</p>\n\n<ol>\n<li>Deleting all the files. Leave just the .git directory.</li>\n<li><code>git reset --hard HEAD</code></li>\n<li><code>git pull</code></li>\n<li><code>git push</code></li>\n</ol>\n\n<p>Now it works.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 4675413, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I had a similar problem.  I had to do this:</p>\n\n<pre><code>git reset --hard HEAD\ngit clean -f\ngit pull\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 4692569, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p><strong>WARNING: <code>git clean</code> deletes all your untracked files/directories and can't be undone.</strong></p>\n\n<hr>\n\n<p>Sometimes just <code>clean -f</code> does not help. In case you have untracked DIRECTORIES, -d option also needed:</p>\n\n<pre><code>git reset --hard HEAD\ngit clean -f -d\ngit pull\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 5361169, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>The only thing that worked for me was:</p>\n\n<pre><code>git reset --hard HEAD~5\n</code></pre>\n\n<p>This will take you back 5 commits and then with</p>\n\n<pre><code>git pull\n</code></pre>\n\n<p>Found that by looking up <a href=\"http://stackoverflow.com/questions/2389361/git-undo-a-merge\">how to undo a git merge</a>.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 5904539, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I had the same problem and for some reason, even a <code>git clean -f -d</code> would not do it. Here is why: For some reason, if your file is ignored by Git (via a .gitignore entry, I assume), it still bothers about overwriting this with a later <em>pull</em>, but a <em>clean</em> will not remove it, unless you add <code>-x</code>.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 6924260, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I have a strange situation that either <code>git clean</code> or <code>git reset</code> works. I have to remove the conflicting file from <code>git index</code> by </p>\n\n<pre><code>git rm [file]\n</code></pre>\n\n<p>Then I can pull just fine.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 7472389, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I believe there are two possible causes of conflict, which must be solved separately, and as far as I can tell none of the above answers deals with both:</p>\n\n<ul>\n<li><p>Local files that are untracked need to be deleted, either manually (safer) or as suggested in other answers, by <code>git clean -f -d</code></p></li>\n<li><p>Local commits that are not on the remote branch need to be deleted as well. IMO the easiest way to achieve this is with: <code>git reset --hard origin/master</code> (replace 'master' by whatever branch you are working on, and run a <code>git fetch origin</code> first)</p></li>\n</ul>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 8480055, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<h2>Important: If you have any local changes, they will be lost. With or without <code>--hard</code> option, any local commits that haven't been pushed will be lost.<sup>[*]</sup></h2>\n\n<p>If you have any files that are <em>not</em> tracked by Git (e.g. uploaded user content), these files will not be affected.</p>\n\n<hr>\n\n<p>I think this is the right way:</p>\n\n<pre><code>git fetch --all\ngit reset --hard origin/master\n</code></pre>\n\n<p>OR If you are on some other branch</p>\n\n<pre><code>git reset --hard origin/your_branch\n</code></pre>\n\n<h3>Explanation:</h3>\n\n<p><code>git fetch</code> downloads the latest from remote without trying to merge or rebase anything.</p>\n\n<p>Then the <code>git reset</code> resets the master branch to what you just fetched. The <code>--hard</code> option changes all the files in your working tree to match the files in <code>origin/master</code></p>\n\n<hr>\n\n<p><sup>[*]</sup>: It's worth noting that it is possible to maintain current local commits by creating a branch from <code>master</code> before resetting:</p>\n\n<pre><code>git checkout master\ngit branch new-branch-to-save-current-commits\ngit fetch --all\ngit reset --hard origin/master\n</code></pre>\n\n<p>After this, all of the old commits will be kept in <code>new-branch-to-save-current-commits</code>. Uncommitted changes however (even staged), will be lost. Make sure to stash and commit anything you need.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 8888015, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>These seem to be terrible answers, terrible in the sense of what happened to @Lauri by following David Avsajanishvili suggestion.</p>\n\n<p>Rather (git > v1.7.6):</p>\n\n<pre><code>git stash --include-untracked\ngit pull\n</code></pre>\n\n<p>Later you can clean the stash history.</p>\n\n<p>Manually, one-by-one:</p>\n\n<pre><code>$ git stash list\nstash@{0}: WIP on &lt;branch&gt;: ...\nstash@{1}: WIP on &lt;branch&gt;: ...\n\n$ git stash drop stash@{0}\n$ git stash drop stash@{1}\n</code></pre>\n\n<p>Brutally, all-at-once:</p>\n\n<pre><code>$ git stash clear\n</code></pre>\n\n<p>Of course if you want to go back to what you stashed:</p>\n\n<pre><code>$ git stash list\n...\n$ git stash apply stash@{5}\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 9244805, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Like Hedgehog I think the answers are terrible.  But though Hedgehog's answer might be better, I don't think it is as elegant as it could be.  The way I found to do this is by using \"fetch\" and \"merge\" with a defined strategy.  Which should make it so that your local changes are preserved as long as they are not one of the files that you are trying to force an overwrite with. </p>\n\n<p><strong>first do a commit of your changes</strong> </p>\n\n<pre><code> git add *\n git commit -a -m \"local file server commit message\"\n</code></pre>\n\n<p><strong>then fetch the changes and overwrite if there is a conflict</strong></p>\n\n<pre><code> git fetch origin master\n git merge -s recursive -X theirs origin/master\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 10113231, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>First of all, try the standard way:</p>\n\n<pre><code>git reset HEAD --hard # Remove all not committed changes\n</code></pre>\n\n<p>If above won't help and you don't care about your untracked files/directories (make the backup first just in case), try the following simple steps:</p>\n\n<pre><code>cd your_git_repo  # where 'your_git_repo' is your git repository folder\nrm -rfv *         # WARNING: only run inside your git repository!\ngit pull          # pull the sources again\n</code></pre>\n\n<p>This will REMOVE all git files (excempt <code>.git/</code> dir, where you have all commits) and pull it again.</p>\n\n<hr>\n\n<p>Why <code>git reset HEAD --hard</code> could fail in some cases?</p>\n\n<ol>\n<li><p>Custom rules in <code>.gitattributes file</code></p>\n\n<p>Having <code>eol=lf</code> rule in .gitattributes could cause git to modify some file changes by converting CRLF line-endings into LF in some text files.</p>\n\n<p>If that's the case, you've to commit these CRLF/LF changes (by reviewing them in <code>git status</code>), or try: <code>git config core.autcrlf false</code> to temporary ignore them.</p></li>\n<li><p>File system incompability</p>\n\n<p>When you're using file-system which doesn't support permission attributes.\nIn example you have two repositories, one on Linux/Mac (<code>ext3</code>/<code>hfs+</code>) and another one on FAT32/NTFS based file-system.</p>\n\n<p>As you notice, there are two different kind of file systems, so the one which doesn't support Unix permissions basically can't reset file permissions on system which doesn't support that kind of permissions, so no matter how <code>--hard</code> you try, git always detect some \"changes\".</p></li>\n</ol>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 13084097, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>The problem with all these solutions is that they are all either too complex, or, an even bigger problem, is that they remove all untracked files from the web server, which we don't want since there are always needed configuration files which are on the server and not in the Git repository.</p>\n\n<p>Here is the cleanest solution which we are using:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code># Fetch the newest code\ngit fetch\n\n# Delete all files which are being added, so there\n# are no conflicts with untracked files\nfor file in `git diff HEAD..origin/master --name-status | awk '/^A/ {print $2}'`\ndo\n    rm -f -- \"$file\"\ndone\n\n# Checkout all files which were locally modified\nfor file in `git diff --name-status | awk '/^[CDMRTUX]/ {print $2}'`\ndo\n    git checkout -- \"$file\"\ndone\n\n# Finally pull all the changes\n# (you could merge as well e.g. 'merge origin/master')\ngit pull\n</code></pre>\n\n<ul>\n<li><p>The first command fetches newest data.</p></li>\n<li><p>The second command checks if there are any files which are being added to the repository and deletes those untracked files from the local repository which would cause conflicts.</p></li>\n<li><p>The third command checks-out all the files which were locally modified.</p></li>\n<li><p>Finally we do a pull to update to the newest version, but this time without any conflicts, since untracked files which are in the repo don't exist anymore and all the locally modified files are already the same as in the repository.</p></li>\n</ul>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 13242127, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Instead of merging using <code>git pull</code>, try git <code>fetch --all</code> followed by <code>git reset --hard origin/master</code>.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 13511213, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Reset the index and the head to <code>origin/master</code>, but do not reset the working tree:</p>\n\n<pre><code>git reset origin/master\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 14896052, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Based on my own similar experiences, the solution offered by Strahinja Kustudic above is by far the best.  As others have pointed out, simply doing hard reset will remove <strong>all</strong> the untracked files which could include lots of things that you don't want removed, such as config files.  What is safer, is to remove only the files that are about to be added, and for that matter, you'd likely also want to checkout any locally-modified files that are about to be updated.</p>\n\n<p>That in mind, I updated Kustudic's script to do just that.  I also fixed a typo (a missing ' in the original).</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#/bin/sh\n\n# Fetch the newest code\ngit fetch\n\n# Delete all files which are being added,\n# so there are no conflicts with untracked files\nfor file in `git diff HEAD..origin/master --name-status | awk '/^A/ {print $2}'`\ndo\n    echo \"Deleting untracked file $file...\"\n    rm -vf \"$file\"\ndone\n\n# Checkout all files which have been locally modified\nfor file in `git diff HEAD..origin/master --name-status | awk '/^M/ {print $2}'`\ndo\n    echo \"Checking out modified file $file...\"\n    git checkout $file\ndone\n\n# Finally merge all the changes (you could use merge here as well)\ngit pull\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 15114868, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Instead of doing:</p>\n\n<pre><code>git fetch --all\ngit reset --hard origin/master\n</code></pre>\n\n<p>I'd advise doing the following:</p>\n\n<pre><code>git fetch origin master\ngit reset --hard origin/master\n</code></pre>\n\n<p>No need to fetch all remotes and branches if you're going to reset to the origin/master branch right?</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 16238123, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>It seems like most answers here are focused on the <code>master</code> branch; however, there are times when I'm working on the same feature branch in two different places and I want a rebase in one to be reflected in the other without a lot of jumping through hoops.</p>\n\n<p>Based on a combination of <a href=\"http://stackoverflow.com/a/8888015/1103543\">RNA's answer</a> and <a href=\"http://stackoverflow.com/a/19961461/1103543\">torek's answer to a similar question</a>, I've come up with this which works splendidly:</p>\n\n<pre><code>git fetch\ngit reset --hard @{u}\n</code></pre>\n\n<p>Run this from a branch and it'll only reset your local branch to the upstream version.</p>\n\n<p>This can be nicely put into a git alias (<code>git forcepull</code>) as well:</p>\n\n<p><code>git config alias.forcepull \"!git fetch ; git reset --hard @{u}\"</code></p>\n\n<p>Or, in your <code>.gitconfig</code> file:</p>\n\n<pre><code>[alias]\n  forcepull = \"!git fetch ; git reset --hard @{u}\"\n</code></pre>\n\n<p>Enjoy!</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 22021513, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>These four commands work for me.</p>\n\n<pre><code>git reset --hard HEAD\ngit checkout origin/master\ngit branch -D master\ngit checkout -b master\n</code></pre>\n\n<p>To check/pull after executing these commands</p>\n\n<pre><code>git pull origin master\n</code></pre>\n\n<p>I tried a lot but finally got success with these commands.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 22523469, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Despite the original question, the top answers can cause problems for people who have a similar problem, but don't want to lose their local files. For example, see Al-Punk and crizCraig's comments. </p>\n\n<p>The following version commits your local changes to a temporary branch (<code>tmp</code>), checks out the original branch (which I'm assuming is <code>master</code>) and merges the updates. You could do this with <code>stash</code>, but I've found it's usually easier to simply use the branch / merge approach.</p>\n\n<pre><code>git checkout -b tmp\ngit add *; git commit -am \"my temporary files\"\ngit checkout master\n\ngit fetch origin master\ngit merge -s recursive -X theirs origin master\n</code></pre>\n\n<p>where we assume the <strong>other repository</strong> is <code>origin master</code>.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 26513527, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>An easier way would be to:</p>\n\n<pre><code>git checkout --theirs /path/to/file.extension\ngit pull origin master\n</code></pre>\n\n<p>This will override your local file with the file on git</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 30047340, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I summarized other answers. You can execute git pull without errors.</p>\n\n<pre><code>git fetch --all\ngit reset --hard origin/master\ngit reset --hard HEAD\ngit clean -f -d\ngit pull\n</code></pre>\n\n<p><b>Warning</b> : This script is very powerful so you could lose your changes.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 31869042, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Requirements:\n1. Track local changes so no-one here ever loses them.\n2. Make the local repository match the remote origin repository.</p>\n\n<p>Solution:\n 1. <strong>Stash</strong> the local changes.\n 2. <strong>Fetch</strong> with a <strong>clean</strong> of <strong>files</strong> and <strong>directories</strong> ignoring <strong>.gitignore</strong> and <strong>hard reset</strong> to <strong>origin</strong>.</p>\n\n<pre><code>git stash --include-untracked\ngit fetch --all\ngit clean -fdx\ngit reset --hard origin/master\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 32342181, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I know much more easier and less painful method:</p>\n\n<pre><code>$ git branch -m [branch_to_force_pull] tmp\n$ git fetch\n$ git checkout [branch_to_force_pull]\n$ git branch -D tmp\n</code></pre>\n\n<p>That's it!</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 32416338, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I used this command to get rid of the local files preventing me from doing a pull/merge. But be careful! Run <code>git merge \u2026</code> first to see whether there are only those files you really want to remove.</p>\n\n<pre><code>git merge origin/master 2&gt;&amp;1 &gt;/dev/null | grep ^[[:space:]] | sed s/^[[:space:]]//g | xargs -L1 rm\n</code></pre>\n\n<ul>\n<li><code>git merge</code> lists among other things all those files. They are prepended by some white-space.</li>\n<li><code>2&gt;&amp;1 &gt;/dev/null</code> redirects the error output to the standard one so it is picked up by <code>grep</code>.</li>\n<li><code>grep ^[[:space:]]</code> filters only the lines with file names.</li>\n<li><code>sed s/^[[:space:]]//g</code> trims the white-space from the beginning.</li>\n<li><code>xargs -L1 rm</code> calls <code>rm</code> on each of those files, deleting them.</li>\n</ul>\n\n<p>Handle with care: Whatever <code>git merge</code> outputs, the <code>rm</code> will be called for <strong>every</strong> line beginning with a white-space.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 32988051, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>Just do</p>\n\n<pre><code>git fetch origin branchname\ngit checkout -f origin/branchname // this will overwrite ONLY new included files\ngit checkout branchname\ngit merge origin/branchname\n</code></pre>\n\n<p>So you avoid all unwanted side effects, like deleting files or directories you wanted to keep etc.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 33211500, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<h3>Bonus:</h3>\n\n<p>In speaking of pull/fetch/merge in the above answers, I would like to share an interesting and productive trick,</p>\n\n<h1><strong><code>git pull --rebase</code></strong></h1>\n\n<p>This above command is the most useful command in my git life which saved a lots of time.</p>\n\n<p>Before pushing your newly commit to server, try this command and it will automatically sync latest server changes (with a fetch + merge) and will place your commit at the top in git log. No need to worry about manual pull/merge.</p>\n\n<p>Find details at: <a href=\"http://gitolite.com/git-pull--rebase\">http://gitolite.com/git-pull--rebase</a></p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 34439104, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I read through all the answers but I was looking for a single command to do this. Here is what I did. Added a git alias to .gitconfig</p>\n\n<pre><code>[alias]\n      fp = \"!f(){ git fetch ${1} ${2} &amp;&amp; git reset --hard ${1}/${2};};f\"\n</code></pre>\n\n<p>Run your command as </p>\n\n<pre><code>git fp origin master\n</code></pre>\n\n<p>equivalent to</p>\n\n<pre><code>git fetch origin master\ngit reset --hard origin/master\n</code></pre>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 38267598, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>I was trying to use the Material2 branch on the Angular2-Webpack-Starter and had a heck of a time.  This was the only way I could download and use that branch.  If someone has an easier way please let me know so I can update my notes.</p>\n\n<pre><code>git clone --depth 1 https://github.com/angularclass/angular2-webpack-starter.git\n\ncd angular2-webpack-starter/\n\ngit checkout -b material2\n</code></pre>\n\n<p>open the project folder and delete all non-hidden files and folders.  Leave all the hidden ones.</p>\n\n<pre><code>git add .\n\ngit commit -m \u201cpokemon go\u201d\n\ngit reset \u2014hard\n\ngit pull origin material2\n</code></pre>\n\n<p>(when editor pops up, hit \u2018:wq' then press <code>&lt;enter&gt;</code>)</p>\n\n<p>Now you are ready</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 38618347, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}, {"body": "<p>This is the best practice for reverting changes:</p>\n\n<ul>\n<li><code>git commit</code> Commit your staged changes so they will be saved in the <strong><a href=\"https://git-scm.com/docs/git-reflog\" rel=\"nofollow\">reflog</a></strong> ( see below )</li>\n<li><code>git fetch</code> Fetch the latest upstream changes</li>\n<li><code>git reset --hard origin/master</code> Hard reset to the origin master branch</li>\n</ul>\n\n<p>The <a href=\"https://git-scm.com/docs/git-reflog\" rel=\"nofollow\">reflog</a> <em>records branches and other references being updated in the local repository</em>. Or simply put - the <strong>reflog</strong> is the <strong>history of your changes</strong>.</p>\n\n<p>So it's always a great practice to commit. Commits are appended to the reflog which ensures you will always have a way to retrieve the deleted code.</p>\n", "title": "How to force &quot;git pull&quot; to overwrite local files?", "answer_id": 38922068, "question_id": 1125968, "tags": ["git", "version-control", "overwrite", "git-pull", "git-fetch"]}], "question_id": 1125968}, {"body": "<p>What is the maximum length of a URL in different browsers? Does it differ between browsers? </p>\n\n<p>Does the HTTP protocol dictate it?</p>\n", "title": "What is the maximum length of a URL in different browsers?", "tags": ["http", "url", "browser", "max", "content-length"], "answer_count": 16, "link": "http://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers", "answers": [{"body": "<p><em><a href=\"http://www.boutell.com/newfaq/misc/urllength.html\">WWW FAQs: What is the maximum length of a URL?</a></em> has its own answer based on empirical testing and research. The short answer is that going over 2048 characters makes Internet&nbsp;Explorer unhappy and thus this is the limit you should use. See the page for a long answer.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 417167, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>The <a href=\"http://tools.ietf.org/html/rfc3986\">URI RFC</a> (of which URLs are a subset) doesn't define a maximum length, however, it does <em>recommend</em> that the hostname part of the URI (if applicable) not exceed 255 characters in length:</p>\n\n<blockquote>\n  <p>URI producers should use names that\n  conform to the DNS syntax, even when\n  use of DNS is not immediately\n  apparent, and should limit these names\n  to no more than 255 characters in\n  length.</p>\n</blockquote>\n\n<p>As noted in other posts though, some browsers have a practical limitation on the length of a URL.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 417180, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<h2>Short answer - de facto limit of 2000 characters</h2>\n\n<p>If you keep URLs under 2000 characters, they'll work in virtually any combination of client and server software.</p>\n\n<h2>Longer answer - first, the standards...</h2>\n\n<p><a href=\"http://www.faqs.org/rfcs/rfc2616.html\">RFC 2616</a> (Hypertext Transfer Protocol HTTP/1.1) section 3.2.1 says</p>\n\n<blockquote>\n  <p>The HTTP protocol does not place\n  any a priori limit on the length of \n  a URI. Servers MUST be able to handle\n  the URI of any resource they    serve,\n  and SHOULD be able to handle URIs of\n  unbounded length if they    provide\n  GET-based forms that could generate\n  such URIs. A server    SHOULD return\n  414 (Request-URI Too Long) status if a\n  URI is longer    than the server can\n  handle (see section 10.4.15).</p>\n</blockquote>\n\n<p>That RFC has been obsoleted by <a href=\"http://tools.ietf.org/html/rfc7230#section-3.1.1\">RFC7230</a> which is a refresh of the HTTP/1.1 specification. It contains similar language, but also goes on to suggest this:</p>\n\n<blockquote>\n  <p>Various ad hoc limitations on request-line length are found in \n  practice. It is RECOMMENDED that all HTTP senders and recipients \n  support, at a minimum, request-line lengths of 8000 octets.</p>\n</blockquote>\n\n<h2>...and the reality</h2>\n\n<p>That's what the <em>standards</em> say. For the <em>reality</em>, see <a href=\"http://www.boutell.com/newfaq/misc/urllength.html\">this research over at boutell.com</a> to see what individual browser and server implementations will support. It's worth a read, but the executive summary is:</p>\n\n<blockquote>\n  <p>Extremely long URLs are usually a\n  mistake. <strong>URLs over 2,000 characters\n  will not work in the most popular web\n  browsers.</strong> Don't use them if you intend\n  your site to work for the majority of\n  Internet users.</p>\n</blockquote>\n\n<p>(Note: this is a quote from an article written in <em>2006</em>, but in 2015 IE's declining usage means that longer URLs <em>do</em> work for the majority. However, IE still has the limitation...)</p>\n\n<h2>Internet Explorer's limitations...</h2>\n\n<p><a href=\"https://support.microsoft.com/en-us/kb/208427\">IE8's maximum URL length is 2083 chars</a>, and it seems <a href=\"http://stackoverflow.com/questions/3721034/how-long-an-url-can-internet-explorer-9-take\">IE9 has a similar limit</a>. </p>\n\n<p>I've tested IE10 and the address bar will only accept 2083 chars. You can <em>click</em> a URL which is longer than this, but the address bar will still only show 2083 characters of this link.</p>\n\n<p>There's a <a href=\"https://blogs.msdn.microsoft.com/ieinternals/2014/08/13/url-length-limits/\">nice writeup on the IE Internals blog</a> which goes into some of the background to this. </p>\n\n<p>There are mixed reports IE11 supports longer URLS - see comments below. Given some people report issues, the general advice still stands.</p>\n\n<h2>Search engines like URLs &lt; 2048 chars...</h2>\n\n<p>Be aware that the <a href=\"http://www.sitemaps.org/protocol.html\">sitemaps protocol</a>, which allows a site to inform search engines about available pages, has a limit of 2048 characters in a URL. If you intend to use sitemaps, a limit has been decided for you! (see <a href=\"http://stackoverflow.com/a/7056886/6521\">Calin-Andrei Burloiu's answer</a> below) </p>\n\n<p>There's also some research from 2010 into the <a href=\"http://www.seomofo.com/experiments/title-and-h1-of-this-post-but-for-the-sake-of-keyword-prominence-stuffing-im-going-to-mention-it-again-using-various-synonyms-stemmed-variations-and-of-coursea-big-fat-prominent-font-size-heres-the-stumper-that-stumped-me-what-is-the-max-number-of-chars-in-a-url-that-google-is-willing-to-crawl-and-index-for-whatever-reason-i-thought-i-had-read-somewhere-that-googles-limit-on-urls-was-255-characters-but-that-turned-out-to-be-wrong-so-maybe-i-just-made-that-number-up-the-best-answer-i-could-find-was-this-quote-from-googles-webmaster-trends-analyst-john-mueller-we-can-certainly-crawl-and-index-urls-over-1000-characters-long-but-that-doesnt-mean-that-its-a-good-practice-the-setup-for-this-experiment-is-going-to-be-pretty-simple-im-going-to-edit-the-permalink-of-this-post-to-be-really-really-long-then-im-going-to-see-if-google-indexes-it-i-might-even-see-if-yahoo-and-bing-index-iteven-though-no-one-really-cares-what-those-assholes-are-doing-url-character-limits-unrelated-to-google-the-question-now-is-how-many-characters-should-i-make-the-url-of-this-post-there-are-a-couple-of-sources-ill-reference-to-help-me-make-this-decision-the-first-is-this-quote-from-the-microsoft-support-pages-microsoft-internet-explorer-has-a-maximum-uniform-resource-locator-url-length-of-2083-characters-internet-explorer-also-has-a-maximum-path-length-of-2048-characters-this-limit-applies-to-both-post-request-and-get-request-urls-the-second-source-ill-cite-is-the-http-11-protocol-which-says-the-http-protocol-does-not-place-any-a-priori-limit-on-the-length-of-a-uri-servers-must-be-able-to-handle-the-uri-of-any-resource-they-serve-and-should-be-able-to-handle-uris-of-unbounded-length-if-they-provide-get-based-forms-that-could-generate-such-uris-a-server-should-return-414-request-uri-too-long-status-if-a-uri-is-longer.html\">maximum URL length that search engines will crawl and index</a>. They found the limit was 2047 chars, which appears allied to the sitemap protocol spec. However, they also found the Google <a href=\"http://en.wikipedia.org/wiki/Search_engine_results_page\">SERP</a> tool wouldn't cope with URLs longer than 1855 chars.</p>\n\n<h2>Is this information up to date?</h2>\n\n<p>This is a popular question, and as the original research is ~9 years old I'll try to keep it up to date: As of <strong>Aug 2016</strong>, the advice still stands. Even though IE11 may possibly accept longer URLs, the ubiquity of older IE installations plus the search engine limitations mean staying under 2000 chars is the best general policy.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 417184, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>The <a href=\"http://www.ietf.org/rfc/rfc2616.txt\">HTTP 1.1 specification</a> says:</p>\n\n<blockquote>\n  <p>URIs in HTTP can be represented in\n  absolute form or relative to some<br />\n  known base URI [11], depending upon\n  the context of their use. The two<br />\n  forms are differentiated by the fact\n  that absolute URIs always begin<br />\n  with a scheme name followed by a\n  colon. For definitive information on<br />\n  URL syntax and semantics, see \"Uniform\n  Resource Identifiers (URI):    Generic\n  Syntax and Semantics,\" RFC 2396 [42]\n  (which replaces RFCs    1738 [4] and\n  RFC 1808 [11]). This specification\n  adopts the    definitions of\n  \"URI-reference\", \"absoluteURI\",\n  \"relativeURI\", \"port\",<br />\n  \"host\",\"abs_path\", \"rel_path\", and\n  \"authority\" from that<br />\n  specification.</p>\n  \n  <p><strong>The HTTP protocol does not place\n  any a priori limit on the length of<br />\n  a URI. Servers MUST be able to handle\n  the URI of any resource they    serve,\n  and SHOULD be able to handle URIs of\n  unbounded length if they    provide\n  GET-based forms that could generate\n  such URIs.*</strong> A server    SHOULD return\n  414 (Request-URI Too Long) status if a\n  URI is longer    than the server can\n  handle (see section 10.4.15).</p>\n  \n  <p>Note: Servers ought to be cautious about depending on URI\n  lengths\n        above 255 bytes, because some older client or proxy\n        implementations might not properly support these lengths.</p>\n</blockquote>\n\n<p>As mentioned by @Brian, the HTTP clients (e.g. browsers) may have their own limits, and HTTP servers will have different limits.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 417195, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p><a href=\"http://support.microsoft.com/kb/208427/EN-US\">Microsoft Support</a> says \"Maximum URL length is 2,083 characters in Internet Explorer\".</p>\n\n<p>IE has problems with URLs longer than that. Firefox seems to work fine with >4k chars.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 2914825, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>There is really no universal maximum URL length. The max length is determined only by what the client browser chooses to support, which varies widely. The 2,083 limit is only present in Internet Explorer (all versions up to 7.0). The max length in Firefox and Safari seems to be unlimited, although instability occurs with URLs reaching around 65,000 characters.\nOpera seems to have no max URL length whatsoever, and doesn't suffer instability at extremely long lengths.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 3413739, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p><a href=\"http://www.sitemaps.org/\">Sitemaps protocol</a> which is a way for webmasters to inform search engines about pages on their sites (also used by Google in Webmaster Tools) supports URLs with less than 2048 characters. So if you are planning to use this feature for Search Engine Optimization take this into account.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 7056886, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>The longest URLs I came across are <a href=\"http://en.wikipedia.org/wiki/Data_URI_scheme\">data URLs</a></p>\n\n<p>Example image URL from Google image results (11747 characters)</p>\n\n<pre><code>data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBhQSERIUExQUFRUUFxcXFhQYFBQXGBgYFhkVGBkVFxUXHCYfGBojGRQVHy8gJCcpLCwsFh4xNTAqNSYrLCkBCQoKDgwOGg8PGiokHyQpLDUqKSwsLCksKSwpKSwsLCwpKSkpLCwpLCksKSwpLCkpLCwsLCkpKSwsLCwsLDQsLP/AABEIAM0A9gMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAAABQQGAgMHAQj/xABTEAACAAQCBAcLBgsFBwUAAAABAgADBBESIQUGMUEHEyJRYYGRFBYyVHF0lKGxs9IjNEKS0dMXMzVSYmRypMHj8GOTo7LiJENzosLh8RVTgoPD/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAJxEAAgIBAwMEAgMAAAAAAAAAAAECEQMSITEEE0EiUWGBkfAyceH/2gAMAwEAAhEDEQA/AOiaq6q0b0NGzUlMzNTySWMiUSSZaEkkrmbw17z6LxOl9HlfDBqf8wovNpHu0hvACjvPovE6X0eV8MHefReJ0vo8r4YbwQAo7z6LxOl9HlfDB3n0XidL6PK+GG8EAKO8+i8TpfR5Xwwd59F4nS+jyvhhsTaKnX69gzGlUiCc6+FMZsMpTuBYAlj0LnFoxcuCG0ht3n0XidL6PK+GDvPovE6X0eV8MIX0jpQ8pe5SPzeKndmLFl2QuPCpMpnwV1Pg345ZuLc4DbfbG0enlJelp/ZR5EuS3959F4nS+jyvhg7z6LxOl9HlfDDCjrFmosxCSrgMLixsdmRzEb45zQUd59F4nS+jyvhg7z6LxOl9HlfDDeCAFHefReJ0vo8r4YO8+i8TpfR5Xww3ggBR3n0XidL6PK+GDvPovE6X0eV8MN4IAUd59F4nS+jyvhg7z6LxOl9HlfDDeFOsNVMlSmmI1gguRhBJ6zsispaVZWclGLkzzvPovE6X0eV8MHefReJ0vo8r4YR8HOsM6slzZk1sXyhC5KoVRsGQuTe+fRFzhGWpJkQlripIUd59F4nS+jyvhg7z6LxOl9HlfDDeCLFxR3n0XidL6PK+GDvPovE6X0eV8MTarSUuX4TAHm2nsELn1vkA/T8uA/8An1RFommbO8+i8TpfR5Xwwd59F4nS+jyvhiTRabkzckcE82w9hibeJIFPefReJ0vo8r4YO8+i8TpfR5Xww3ggDlfDJoCmk0MppVPIlsahRdJUtDbi5xsSq7LgZdEET+HL8nyvOU93OggC3an/ADCi82ke7SG8KNT/AJhRebSPdpDeACCCCACCCCAKJwqawtIpxKlmzzSF+sbD7Yaal6spTyJeWdt/PvY/pE3zig8LVYe7pSnwZZlP1XzPqMdfoyMC22WFvJHZnjoxwS8qzDG9UpG20J9YNWJVWJfGC5ltiXmB57b4cXjwuI5E2uDdmqlplloFXYP6vCys1slI5lqHmzB4SSlxlf2jsXtjXrjpjuelmMu2xAPNkbwk4M9HiZRS5r5mZdzfezE3Y9OQjFybnpR0RxKOLuy8ukNqTXymeZxTFpT3ACzVKZndfZ64sQaKRwk6qpOpjNVbTJViLb1ORB6M7xp4NdZ2mULrNbE9OxTEdpXIrfpAyjKWftatfhWbz6eMsKzY/emvZ/BcazSySzhJJb81QS3YI0S9Y5RNiSh/SFor2qMs1Lz5sw35ZFvJYAeS1oe6Y0KjSyVADKLgjo3Rjrzyw92LV1aVePa/c5tMVLSyfWKXlOEbCzIwVttiQQG6iQYrmite0s0qpWZKnyrK6lGYMdheWUBxKduwbYhauadaUKqSxvxKmYnQLG69RF+uIPBtO7parmOxLcacWZuRYYc+a149Ho5xz9P3mttjnypwyaCfrFwlyUllJAmTJrghbIbKdmJt+V72tfKGOkq7jNGs3K/FgXZcJa1gWwnMXil8LGglpml1cnkNfOxPhLmrdYuOuLdpScH0WXC4caKxHSbXjbq4QWBSh5TOWUpOM78IW8Dy2o2PPMf/ADGLTpLWWVJYIcTzCL8XLUs1ucgZAeUxTuDOr4rRkx/zS568RiHqTpRWFTOmiZMZpzDAiMxbCAADuA8pG0xwRnUYx+D0elwt4VNq+FXyXGh16ppk0SSWlzDkEmLhueYHZG/SGlicSICtiQW+G0UzT2hGrp0l3lrTy0a5UHFNcAg2YryU2biTFolSYjuSTaZ05MOPZw9t1zT+GaHpYW1VHDubkIV1c6M3ImMCu18gizC4YG9wbeyLFqhrizsJM7Nrch/zug9Iiu11VmemFAurFkyIs6nmYfbGkMjM54juAa+cewk1V00KiQjjeBlzHeIdx0nIc64cvyfK85T3c6CDhy/J8rzlPdzoIAt2p/zCi82ke7SG8KNT/mFF5tI92kN4AIIIIAIIIIA5zwvauNNlJUS1uZV1mAbcBzDdRHYY38GOuizpCU01gJ0sYVufxiDYQd7AZERfZksMCDmDkRHPNYOCWW7mZTM0lib2U5X6Bu6o7YZsc8fay+OGYSxyUtUToM6XiBFyLjaDYjyHdHONddCGkp3mynYFib3dmOYO0sY3UGh9LSrKatmX9KUjntOcStJ6lz6xQtTPmOozwnBLW/OVQXPbEYWsM1LVa+xNOaqtxBRaPmT9X1KZsLzCMyW24yScybeyHHA9plXpWpyRjkMbDeUOYbtuItmrugVpadZK+CosN+XXCHSXBtKM7j5BaRMOZaWxTM7TzdUcE05ZHkR6WLLHsdia/p+w41x0ikmjnO5AGGw6SbWA6YpvBroRxSVDlbNOYuFP/KPqj1xYU1JDlTOZpjLseY5mEdKqeSD1RZqWjWWoVRYe3yxnPEsl6/KojvaMfbg/Nsp2olUEnTpRyxHGvl2FfLleLjVTQqszEAAG5hJpjVBZr8ZLJlvzqbZ88Ytq7MmLhmuXH6TXH1RYHrjnxY82LH2tnWyfx8ozlKMpaiv6o0gqKmpmkXlODLAI2oARfrv6oXaO0BV6KqneSFm0z3xBiQcIzBuAeUBlsi+VE6TQU7OfBXM2tdjuivUWl6ytXEjLJlsMlWWJj2OwsznCMtwEel0WN9Ph7afo4d+f9ObM1OV+RRPqzpqfxZssqnYHiwTy2P03O3CN1t8W7WemEvR8xBsVR7Y5vpnVSr0a/dUh3IBzay4gDnZlXJlPNF/oXl6X0chcEY/CUMygOhIOzMi49cb9biUoasT9PC+DnqUoyxtb0JODSk43Rc1B9IzFBvvubeu0V7g802tLUzqaq5CzGPhbFm3sQ3QRsPRF+1a1IWiYmWzWP0cb4c/0L2v02jXrXweSK04yMEze6mxNufceuPMeOXpa5R6vR5owxPDmWzrjw15J+lVXFKC2w2JFrW5oJZGy47YqWh9Adz8bIEyYSrjGWYEgYTYIdwNt0LNKz6FTKOCdeYSEYTJlmNyuR35g5gWy2xST1S3NIxUVtx+C/T5eUVzTFRLl+G6qL2zYCJU6rEulZgzWOdjmRkMrxR9HFKlsU2Xju1uUSVHlF7DymKVZpdGVfpaVc4ZinyGIPddwc/6Ee6T09Yuq0glKpw/ixn0hgPbzQvH5wyB3RpwZ6tzofBlWZMm4MfWL/wAY6VHHNQtIKk4KTYuSV6cIF/bHYZZuB5I6Yu0ck/5M55w5fk+V5ynu50EHDl+T5XnKe7nQRYoW7U/5hRebSPdpDeFGp/zCi82ke7SG8AEEEEAEEYlxzxlABBBBEALQR5eAGJB7BBBABBBBEALQQXgiQVDhO0TNn0TCVclTdkG1lNwcPSL36oS6k8ItOlOkmovJmSxhJZGCtawBFhkbbiI6QVhbU6uyHNymcdEcq0aJq0uK2Zk4PVqiV3T2tcupkTJNIGnNMUqXwsstAcsbuw3bgLkwy1E0GaWlWWTf+JOZPrhrI0NLS1lvbZck2iaIylNadK2RdR3t8nsEEEULFWnSFM+ffeQD2GMpuhlIAsAo5gBlzXHkjXpCdhqnXebPboNgD2gxPefYZ9sceTaTO7FehFU10YrTHDsJt1C32RSdXp9mYc8XjWqtx0zIsss+wEbL3238m6KBTKUmLjBUre/ST7ILgv53LXO0YHF3ucss4q+l1Cmw2RapGkA6AA8q2Qio6Xzc9Bt5TviIkzqtjdq4v+105uLhZuEb7MLE2/8AjHdtHNeWvkjiuq9F8tKJWzIGud/KyC+2O2UIsijojpx8HL1D9X0UHhy/J8rzlPdzoIOHL8nyvOU93OgjQ5y3an/MKLzaR7tIbwo1P+YUXm0j3aQ3gCp8KdS0vRdSyMUYcVZlYoRedKB5S5jK+fNCXSOsLUFItTK4ppMuotULIqHrCUZCos80DAwcrcXAtvztHRHlgixAI5js7IwSlQAgKoB2gAAHqEAcb1jrp7tR90CWZz0tHMdwmFrtpCRZM7WADLdbbRHaYwaSpNyATzkA9PtzjOAPGin1MyeJkyWhc8TNaoOZJeW9mSWoxb7zkCnI8Xui4GFj6GYknuioF9wMrs/F7I0xSUW7IZUqXWGeJrWayvNWZLVmk2aXNK2/GNxjDDcjixbMb7xP1O0g1qWWJqTVMi7KoT5EyxLCqcJJucTA4t6mwEO//QDcHuifcbDeTl5PkozpdCYGDCdOyIJHyVjbcbSwbdcdE8uOUaVfv0VpjSFGtrgUNUS2G0qYQwYoQQpIswIINwN8N4iV9FxoAxug34cGfQcStHLFpSVlytz9IzhMKypwWWJlPJQBUfKbLU8YHa5Yi5tckZb4j6R1pmJIQ4ysxePJ+bqr8U8xFznEXJ4u5CZjF5IsI0EfGKjtlbtn+6jFtXyds+efKZJ27dsqOpTx7N1+/RSmIpeskwvKPGqWeZNU02BclSXOZGvbGL8WhF9uI2vEGVrTUMFJmqqsoZrzKLjFY4TgRceG1i1+Ms1lFhe8WQaorxvG8fUl+czVIGWG4QphBsSLgXzPOY3HVz+3n/4Pb+Ki/cwrwvwKYxoJuKWjXJxKpuy4WNwDcr9E9EbzGumk4VClmaw8JrXPSbAC/VG0xwMuUzTdVhaod85stxxEsz5kktLCI15SrcTH4zGNhvax6d0zSk/C7tNVENS8gHAlpUtHmDjGZrgnkgXPJswyvnDifoQs2Ljp4zuADK5PQt5ZIGXPGJ0ESCO6J9t4vK9nFR1KcKVlXYiXWp0l1Reah4uU5kTCFHGspnDGoGT5LLyUWj06wzcb2nSrrPWWJBCg4GWXd3+kApcm4ysM7xP0nSS5CY5lTPAXwR8iTnuUcXHONIaVeYZhQnAz48LsCS1gCWZFG4DLYIs8mKm0v38EVItNPrJLngo08PPWYFw/I3HJJKq0o2I6Cb7Lw7Zi6qVwm4yxXtfdsjiOg+TxyDkTVmNMA27TiRhzi/tMdH1a1pWalm5MxTy0/wCpT+bv6I8zqPVLUkd2HZUT5GlFbkTJ3EzACcJkckEEA4XPhWvz3is611AViEm8cxa2Li1VQNoNx4RzbZvt5YtdUVmqWlulmzuAHUkb7g7coqWkKeWXzmYiLliLBcs7WG0xlqS2OpRT3Na4ZUlXxctLn9okWAPRe3ZCCvqklhTNJCKQXa1zcnM2G2NldX3O3krdid2UUjTmluOLAeABl0n84xeKt2c8nsz6C1Nl0tQomSJsqYciQrAsLD6S7Rs5ovKCwA5o+KqKodGDS2ZGGYZWKkeQjOOj6tcLmkaeweYJ6fmzRdrc3GDPtvHSculs6Xw5fk+V5ynu50EUzhA4S5VdQy0Mt5UxZyuRcMpASaDZh0sNoggZ7nYdT/mFF5tI92kR6/TdQKlpEiTLmYZaTCzzTL8MstvAN/AMSNT/AJhRebSPdpEel/KlR5tI95OgSed31/itP6UfuoO76/xWn9KP3UWCCAK/3fX+K0/pR+6g7vr/ABWn9KP3UWCCAK/3fX+K0/pR+6g7vr/Faf0o/dRYIIAr/d9f4rT+lH7qDu+v8Vp/Sj91FgggCv8Ad9f4rT+lH7qDu+v8Vp/Sj91FgggCv931/itP6UfuoO76/wAVp/Sj91FgggCv931/itP6UfuoO76/xWn9KP3UWCCAK+dIV/itP6UfuoS13CBOlXvJp2I2hKh2PqlW9cMtfdYVppABcIZmWInYv0j6wOuOYStYqViAJ8u53YhEWTRbDwutn/swv0zPblC6o4VKt/ASVLHkZj2kj2QrqKVZq4kYXGxgb9ttxiFTycQOQBU2ZeY/YYgskGlNM1E9g05yencOgAbI1Sap9jHLyf1eJiy4yFOPsgSJNJ6NLMsxDZl2Hy7jDvRmqM+fKE2eDIyay3znZHaV5UuWd9uVDLQmjONmiw5KWLeXaF8tob6114lSWNwMKk3PPuvHPknXB1YYXyc/07rQaGR3PT2AxNeXyisoG1wrsLsCdzZiKgNcJh2gHovYeqOoap6ckv8AIEKzTXyVwrBhhzOEjZySOqKPwlavJIrDxUsKjqrBUFgpO0gbBfmhjab3W5pkUorZ7COq0tMnrhICrfwVvn+0d8QahcK9JyESqGUQGFiLgWvYbNufkiVRaPUsCflWO4eCv2xvwcz3FujtFO1ssosFPo3CNkOJFOBlbsiZLpgd1rwsrwioaelWlL+2PY0ETdcZGBR+0PY0EKIs+kdT/mFF5tI92kZpoxlq5s8FSHlS5YXO4wM7Xv04/VGGp/zCi82ke7SG8XMTVd+Ze0/ZBd+Ze0/ZG2CANV35l7T9kF35l7T9kbYIA1XfmXtP2QXfmXtP2RtggDVd+Ze0/ZBd+Ze0/ZG2CANV35l7T9kF35l7T9kbYIA1XfmXtP2QXfmXtP2RtggDVifmXtP2QYn5l7T9kRNJaWEsWGbc3N0mEFRpac30iP2cvXFJSSLxg5FU4SaHumt4uaGwy5ahbbATyiT1xUX0bKkgyp8mXMlm9pgQXHltmLDeIuWmtDGYSxuzHeWN8umKvpCna6WDq6XIzaYrdDKcz5RcjmMUU0zTtyiRdH6O7lzkkGXcG5bYpOV3GWG+x7W3GxhnUPgmJNwkKxEuYDbYckfLI2YjPpiLo1iclFjmyW5UsN9JMW5W3qbEcwiZUUSsmFwVDDlIp2E9MaIqe1MmxjCXTTLE2sADmSPZv5+qNrTwtibCwsOoWHsjyTpEXvfqiBwXvRdMsmSoWxFr4ucnMt1xzzhM0gWlcWubTGw+u/8ACJtJrM8pWkk5LmpP5jZqOrZ1QvKrPmLMfwUuR0k9EcMnUj0scE037lU1So6iRWUj4bAzFS+f0iRn0ZmLVwgU6zJs0XyliQo8pdsgfIYx03VJLVSHCFSCrE2sQdsVzSOvTOWAXjQxQsxGHOXe2Dy74v6pu0iXogqbNOlKWQJqSZbYjblqc1vuGLn6Ilyacy7XXaPCGy/SBshNoLRxLYzfEST2xdaWVlHStlRwTlbtI1UtM3QOke2J8pAvSeeIk2fhuu4WYeQm3qJ9cbUfKJM2VnXcEoDb6Y/ytHkb9dE+QX/iL/lf7I9iSD6F1P8AmFF5tI92kN4Uan/MKLzaR7tIbxczCCCCACCCCACCCCACCCCACCCCACNNXUiWjMdwjdFd1hqiXWXuAuf66orJ0rLRVuhepaYxZjtziSKYAXMFNa1zYdMJtKa70Us4GnYmzylqz7OlRaOa7Ot7bInT7bB64q+nESxuCNljzEbxzQ6k10uYgmoxKkb1IPWDsjnusGn509mEviJUtTYzJhzJ/rdaKqLZdyomaO0gXuv0lyY725mJ3kwweVgBLbeaKlq5UOs+7MrclswLBh/2MWOqqMUdEeKOaS32E+kKs3MRJFbYxhpR7XhUk/OBdIbaxVWGUk4C5QlWGzJtnrv2xWDrZUNbDhHNlf2xYhVo0tkmHJhY9Ytfq2xTaeyTCh2gkQUU92Rqa8ktKabPcNNYsen+Aiy0ur4w7B/XRGjRbDKLJStEsiyFQ6NwQ2krG1ADGdoEEGvTIE7M1bnwttHq7QIjUk3aMsjbKJ1QpIOz/wAZ/wAIU0rWII8Ell+rYr/yMo6oENETXH8Qv/EX/LMgjVrY/wAiv/EHsmQRJU+iNT/mFF5tI92kN4Uan/MKLzaR7tIbxczCCCCACCCCACCCCACCCCACCCCAI2ktIJIlTJsw2SWpZj0DmG8nZ1xQ9FV06oxzZieEz2IZWUKLALcbCM8vth5wiOO5kUnJp0rF0hG4wr03wWhZQYjLliWyqgVsa2uSLckDPLbc9cYZW+DpwJNskzKdZkoq+ak3YZ5gbsorGlqKo5HEy5EhA2fJVppG4g7Fi20RHqjHS6y5aGY27dvJOQHbGG5vSIFIjvSGXNILMpBPSRutHJ6PRGF2lsFLKx8LM7TZgLx12bWGWoxAGwJYXOX6KhRY+XojmWtrsanjVTApCEc9xe/tjSNoidPcgz6cSXuOSDtPSdvrhgKvLtiLpar42QjsAM8+Y2F8vqwpl1eIReBSaR7paqGcV6dXc0SdKV6DInEfzR/HdCGfVYtgsPXGiRk5JEv/ANQzzMRqipxOGG3n540IhOzOJlLo5rgmJpGdtj3RM05RaqJ9kJNG0NgMosFLIirLDKSY3mNUhY3QLGphCgyQFmS+kzFO84Lkj6hb6sOmtzQs0rNw4XIyUi/kG0fVxwIsrGtE+8hel1PYr/bBGjWRMMsp+ZNw9gbP2QRJU+mNT/mFF5tI92kN4Uan/MKLzaR7tIbxczCCCCACCCCACCCCACCCCACCMZkwKCTsGZPMBHL9M8KFUj4pcgcRnZsLM5A2Ne4HVaIbolKyx8J8g9xiYL/IzEc/snkseoNfqip6L00qSprXJIQ2A3ndaPJuvU6rknip6EOpBUykZTfapG7LKKVU6Sm0qEPJJVd6E7M8yG2Z9MUmlI0x3F2dXoaobbixF73sPXEfSFfLqMBluk0SHuwVgVBIKjEwyyN8oV6BoDOQvjIp3QsQcjY58l/orbbeEentEzzTzZVCVlyULTLl+XMxMzcmwyPhZnIgC0ctNbNnb/LeiyS9L8ZMeXxb4EyLS2DMx/NXZbrMUrXKRLIPFpMF7hnd7ta4soW5z3E7umHupFSkuQsmbMCTAobDiF2VxcOrHwgYg61PJlqZha43AsLX3xZNJktbVRWa2eeIKW8HG5G+wTPsAikVWlGa4GQ9f/aGtVrNdjgBINw99hUixUDpBOcKe4jcb75jMEkbjtjoiqVnHOduiOkgnZEyRoy5zhjQ0UP6XReyLWRSFtBoQc0O5OhgAMomU1HhhnJl5RWwQaaitu2QwlSbRmsrbG1RAbGKrAWj1oxw5wDMTOA3wk07Xji2sCfZmCP4w5NGp2mItfopDLdQCSykDywRUpes98KEjNlkMfKZVifrAwRt1sQ8XTk75YHUjTQPbBFgfSup/wAwovNpHu0hvCjU/wCYUXm0j3aQ3ixmEEEEAEEEEAEEEEAER6yvSULu4UdJ9g2mN5jmGuPGPVzFLELkMtoWwyHNe+ZgBjrBryZyTJVKBYgo01mK2vkQoCm5t2RU6PRzISWfFcWwm5C8+Em1weYqIYSKUKBYWAHJXmHP5Y3NLvbCL+zrivJZbFfp9XpSzMa3XI4jiwLYZ4mUc3PD/VWZJqJU2fhunGFUxC+JJdhjI/Sa58kIeEClcUE0qxBDIZgX/wBsmzD2Hqir6P14aRSKktOQOTibJSeYWzYxnkTpJHRhatuTOx6fnKlFPGXKlMNmXLFrW3ix2RQNBz5lLo6peobGzLxcpDbGoIIQdNy+Q6Ir0jXPSFUi8iW0sEZEEXw7iQbndDebo+qqQHnTBLtmqyltZtxLG5yO6MtEmzdZIRWwv4SdFsJdMLANT06BiLfo5AjMi5aKJS6Omzdocrz5ke2LbP1QdzypztuN2LXt5TzwxotD8UAAY2itKowm9TtCSi1WVVzxXPOsZzdXbC46ujp6IsoQ3zjY8sdkWszoq66OZTcE23DbDPR1Q+NFZMiwBN7WB3wyMiMRJOVjY559Fje3qiCRhS4XF12XI+qbRLWTCXV2vExZgAsVc3XmxAW9Sw8R4FWzUVzjLDGUyMWgQYPGlo2PsjVigSjB0J2Rom07WzcjyRumOd0RZxO9rQQKjrI5NNTm98M2ol59Dlh6ngjTrBOvSfs1Tj60tWv1wRcg+ntT/mFF5tI92kN4Uan/ADCi82ke7SG8SZhBBBABBBBABBBBABFA1vlWqybZlFNycuY5b90X+KrrzoZ5qpMlDE8u912YlO4Hnv7YEoqZmDfnEWv0sJY5TLLHSQIrGmdYpiXUypyNzlMI6nYgdkUvSemHxZBAx2G/GOSeYnZFbL0W3TGvKKpwqZl7i7AhSDlaxzYGOe1pdwGK4VXJVGxbnd1mL5onUc4VadczGFyTc2vu6IZay6qqKOYFAxWuOrOJJ2o91V0ZhkJ6uuLEq2hdqNVcbRym3qMDeVSYczEteIoiyvTB7THkoA57hGufMyyjLQrpMqJcqYWCvcEqM72JFtu+Ktl0nZJ4sWuRGlpUM63Qc1GAU4kPgllIbfttcbo1Po6YQMLSzf8AauOgjdGfcj7m3Zn7EBTESsrOLRiou2xRzsxFvYYw0hPmyWImIR+kMwemE1Fp5nntLSWrPiBR5hISWqqbuQNubHfuEXW/BjK4umM9ELMlTFM0j5RgpFrZkgAk7znFmEUDTelpTVEsS2edxIQqEyDzr3ZjkbKMrW23i26PrnYIJoCzGUtYAgXv4Iub3sR5bGJoqT5hyjXijya2XZ7Y1loFj2Y8aXaB22xGaZeBVmUyZEOeyjMtGUx4jzp6jdc3ggVTTDA08y17d0j3WUEeaRe8qcD4wp/wzBFyD6m1P+YUXm0j3aQ3jjOhOGviaanldyYuLlS0xcfa+BFW9uKyvbniZ+Hn9S/eP5USZnWoI5L+Hn9S/eP5UH4ef1L94/lQB1qCOS/h5/Uv3j+VB+Hn9S/eP5UAdagjkv4ef1L94/lQfh5/Uv3j+VAHWo8ZARYxyb8PP6l+8fyoPw8/qX7x/KgDoOldV5M9SrorA7mAI7DHNtIcGcmlq+OC3VjdUOxWHN0b7RI/D1+pfvH8qEmsHDDxzJelsFGQ4++Z3/i4EofvttGGk5eKWR0X7BFK/CaMV+5z/fD7uMn4T/1c8344fdwZayZwZvZamUfozbjri21Y5LdAMcr0JrqJFRNdZJIbavGW38+Dp5od1PCeGVh3MRcH/fX/APziEHyTpi5eS0RtXah0r5BlhSWYpyycIDixPJzBtCl9eBhtxG3+1/0QrbWrlAqjKQRZhMsR0g4cjGbWxrF0z6CSVMBPGFDllZCvPvJN4rFU6hyN4Ym4y6M4rVNwrpLyWkbmN6t3v9dDCbTPCIZkxmEnDls4y/8A0COVwZ3RypeS+mSk9XJyFsIJ9ov0xzuroFxvLa112dKnMRjo3XtsT4pZZQQQvGWtl0qcoX6w61ibMSYsoowGE/KAgjIj6A2XMbYk06Ms8oyjZIoQZFwlwp2hSUcdIcZnyHKM9I6XqJeAy5gmS3ORmAYwwzKO4355c8KH1iuPxeY34/8ATEd9NXlzUKZTBfwvBZSLMMtucbnEdGpaovKRmtcjlW2XGREeu0U3R+t+GWimVeyi54y1znnbDG5td8/xJ/vB8ERRNloZo0WiuNrt/Y/4n+iPF1z/ALL/ABP9MKILCZF9sApQd1+mESa4DfJJ/wDst/0RtbXUW/En+9/0QLEPT1EqSph3mel/7t4Ig6X0+JqOOLteYreHfYrC3g9MeRJFH//Z\n</code></pre>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 11551718, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>In <a href=\"http://www.nngroup.com/articles/url-as-ui/\">URL as UI</a> Jakob Nielsen recommends:</p>\n\n<blockquote>\n  <p>the social interface to the Web relies on email when users want to recommend Web pages to each other, and email is the second-most common way users get to new sites (search engines being the most common): make sure that all URLs on your site are less than 78 characters long so that they will not wrap across a line feed.</p>\n</blockquote>\n\n<p>This is not the maximum but I'd consider this a practical maximum if you want your URL to be shared.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 14206538, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>ASP.NET 2 and SQL Server reporting services 2005 have a limit of 2028. I found this out the hard way, where my dynamic URL generator would not pass over some parameters to a report beyond that point. This was under Internet&nbsp;Explorer&nbsp;8.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 17822588, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>Limit request line directive sets the maximum length of a URL. By default, it is set to 8190, which gives you a lot of room. However other servers and some browses, limit the length more.</p>\n\n<p>Because all parameters are passed on the URL line, items that were in password of hidden fields will also be displayed in the URL of course. Neither mobile should be used for real security measures and should be considered cosmetic security at best.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 18485015, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>It seems that Chrome at least has raised this limit. I pasted 20,000 characters into the bookmarklet and it took it.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 27473407, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>I have experience with SharePoint 2007, 2010 and there is a limit of the length URL you can create from the server side in this case SharePoint, so it depends mostly on, 1) the client (browser, version, and OS) and 2) the server technology, IIS, Apache, etc.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 27956097, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>I wrote this test that keeps on adding <code>'a'</code> to parameter until browser fails</p>\n\n<p><strong>C# part:</strong></p>\n\n<pre><code>[AcceptVerbs(HttpVerbs.Get)]\npublic ActionResult ParamTest(string x)\n{\n    ViewBag.TestLength = 0;\n    if (!string.IsNullOrEmpty(x))\n    {\n        System.IO.File.WriteAllLines(\"c:/result.txt\", \n                       new[] {Request.UserAgent, x.Length.ToString()});\n        ViewBag.TestLength = x.Length + 1;\n    }\n\n    return View();\n}\n</code></pre>\n\n<p><strong>View:</strong></p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        var text = \"a\";\n        for (var i = 0; i &lt; parseInt(@ViewBag.TestLength)-1; i++) {\n            text += \"a\";\n        }\n\n        document.location.href = \"http://localhost:50766/Home/ParamTest?x=\" + text;\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>PART 1</strong></p>\n\n<p>On Chrome I got:</p>\n\n<pre><code>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36\n2046\n</code></pre>\n\n<p>It then blew up with: </p>\n\n<blockquote>\n  <p>HTTP Error 404.15 - Not Found The request filtering module is\n  configured to deny a request where the query string is too long.</p>\n</blockquote>\n\n<p>Same on IE8 and Firefox</p>\n\n<pre><code>Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C; .NET4.0E)\n2046\n\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\n2046\n</code></pre>\n\n<p><strong>PART 2</strong></p>\n\n<p>I went easy mode and <a href=\"http://stackoverflow.com/questions/11636386/how-to-configure-the-web-config-to-allow-requests-of-any-length\">added additional limits to IISExpress</a> <code>applicationhost.config</code> and <code>web.config</code> setting <code>maxQueryStringLength=\"32768\"</code>.</p>\n\n<pre><code>Chrome failed with message 'Bad Request - Request Too Long \n\nHTTP Error 400. The size of the request headers is too long.  \n</code></pre>\n\n<p>after 7744 characters.</p>\n\n<pre><code>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36\n7744\n</code></pre>\n\n<p><strong>PART 3</strong></p>\n\n<p><a href=\"http://www.iis.net/configreference/system.webserver/security/requestfiltering/requestlimits/headerlimits\">Added</a></p>\n\n<pre><code>&lt;headerLimits&gt;\n    &lt;add header=\"Content-type\" sizeLimit=\"32768\" /&gt;\n&lt;/headerLimits&gt;\n</code></pre>\n\n<p>which didn't help at all,\nFinally decided to use fiddler to remove referer from header.</p>\n\n<pre><code>static function OnBeforeRequest(oSession: Session) {\nif (oSession.url.Contains(\"localhost:50766\")) {\n        oSession.RequestHeaders.Remove(\"Referer\");\n        }\n</code></pre>\n\n<p>Which did nicely.</p>\n\n<p><strong><em>Chrome:</em></strong> got to 15613 characters. (I guess it's 16K limit for IIS)</p>\n\n<p>and failed again with </p>\n\n<pre><code>&lt;BODY&gt;&lt;h2&gt;Bad Request - Request Too Long&lt;/h2&gt;\n&lt;hr&gt;&lt;p&gt;HTTP Error 400. The size of the request headers is too long.&lt;/p&gt;\n\n\nMozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36\n15613\n</code></pre>\n\n<p><strong><em>FireFox:</em></strong> </p>\n\n<pre><code>Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\n15708\n</code></pre>\n\n<p><strong><em>IE8</em></strong> failed with iexplore.exe crashing.</p>\n\n<p><img src=\"http://i.stack.imgur.com/nF4av.png\" alt=\"enter image description here\"></p>\n\n<p>after 2505</p>\n\n<pre><code>Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C; .NET4.0E)\n2505\n</code></pre>\n\n<p><strong><em>Android Emulator</em></strong> </p>\n\n<pre><code>Mozilla/5.0 (Linux; Android 5.1; Android SDK built for x86 Build/LKY45) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/39.0.0.0 Mobile Safari/537.36\n7377\n</code></pre>\n\n<p><strong><em>IE11</em></strong></p>\n\n<pre><code>Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C)\n4043\n</code></pre>\n\n<p><strong><em>IE10</em></strong></p>\n\n<pre><code>Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C)\n4043\n</code></pre>\n\n<p><strong><em>IE9</em></strong></p>\n\n<pre><code>Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\n4043\n</code></pre>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 31250734, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>Why IE limits only 2K while IIS limits up to 16K? I don't think it makes sense.<br>\nSo I want to start an experiment about Ajax Request URL Size Limits.</p>\n\n<p>I have set my Tomcat http connector's maxHttpHeaderSize=\"1048576\"<br>\nAnd prepared a very long URL.<br>\nThen send a request with the long URL like the following:</p>\n\n<pre><code>var url=\"/ajax/url-length.jsp\";\njQuery.ajax(url,{data:{q:\"0\".repeat(1048000-url.length-4)}});\n</code></pre>\n\n<p>jQuery reports done.<br>\nTomcat reports the URL requested is 1048015 bytes.<br>\nTested with Chrome 50 and IE 11.</p>\n\n<p>So web browsers won't truncate or limit your URL intentionally when sending ajax requests.</p>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 37027746, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}, {"body": "<p>On iOS, there is no limit for URL schemes. Even a 300+ MB long URL is accepted. You can try such a long URL like this:</p>\n\n<pre><code>NSString *path = [@\"a:\" stringByPaddingToLength:314572800 withString:@\"a\" startingAtIndex:0];\nNSString *js = [NSString stringWithFormat:@\"window.location.href = \\\"%@\\\";\", path];\n[self.webView stringByEvaluatingJavaScriptFromString:js];\n</code></pre>\n\n<p>And catch if it succeed with:</p>\n\n<pre><code>- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType\n{\n    NSLog(@\"length: %@\", @(request.URL.absoluteString.length));\n    return YES;\n}\n</code></pre>\n", "title": "What is the maximum length of a URL in different browsers?", "answer_id": 38047510, "question_id": 417142, "tags": ["http", "url", "browser", "max", "content-length"]}], "question_id": 417142}, {"body": "<p>According to the HTTP/1.1 Spec: </p>\n\n<blockquote>\n  <p>The <strong><code>POST</code></strong> method is used to request that the origin server accept the entity enclosed in the request as a new subordinate of the resource identified by the <code>Request-URI</code> in the <code>Request-Line</code></p>\n</blockquote>\n\n<p>In other words, <code>POST</code> is used to <strong>create</strong>.</p>\n\n<blockquote>\n  <p>The <strong><code>PUT</code></strong> method requests that the enclosed entity be stored under the supplied <code>Request-URI</code>. If the <code>Request-URI</code> refers to an already existing resource, the enclosed entity SHOULD be considered as a modified version of the one residing on the origin server. If the <code>Request-URI</code> does not point to an existing resource, and that URI is capable of being defined as a new resource by the requesting user agent, the origin server can create the resource with that URI.\"</p>\n</blockquote>\n\n<p>That is, <code>PUT</code> is used to <strong>create or update</strong>.</p>\n\n<p>So, which one should be used to create a resource? Or one needs to support both?</p>\n", "title": "PUT vs POST in REST", "tags": ["http", "rest", "post", "put"], "answer_count": 29, "link": "http://stackoverflow.com/questions/630453/put-vs-post-in-rest", "answers": [{"body": "<p>Use POST to create, and PUT to update. That's how Rails is doing it, anyway.</p>\n\n<pre><code>PUT    /items/1      #=&gt; update\nPOST   /items        #=&gt; create\n</code></pre>\n", "title": "PUT vs POST in REST", "answer_id": 630471, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p><strong>Overall:</strong> </p>\n\n<p>Both PUT and POST can be used for creating. </p>\n\n<p>You have to ask \"what are you performing the action to?\" to distinguish what you should be using. Let's assume you're designing an API for asking questions.  If you want to use POST then you would do that to a list of questions. If you want to use PUT then you would do that to a particular question.</p>\n\n<p><strong>Great both can be used, so which one should I use in my RESTful design:</strong></p>\n\n<p>You do not need to support both PUT and POST.  </p>\n\n<p>Which is used is left up to you.  But just remember to use the right one depending on what object you are referencing in the request. </p>\n\n<p>Some considerations:</p>\n\n<ul>\n<li>Do you name your URL objects you create explicitly, or let the server decide? If you name them then use PUT.  If you let the server decide then use POST.</li>\n<li>PUT is idempotent, so if you PUT an object twice, it has no effect.  This is a nice property, so I would use PUT when possible. </li>\n<li>You can update or create a resource with PUT with the same object URL</li>\n<li>With POST you can have 2 requests coming in at the same time making modifications to a URL, and they may update different parts of the object. </li>\n</ul>\n\n<p><strong>An example:</strong></p>\n\n<p><a href=\"http://stackoverflow.com/questions/256349/what-are-the-best-common-restful-url-verbs-and-actions/256359#256359\">I wrote the following as part of another answer on SO regarding this</a>:</p>\n\n<blockquote>\n  <p><strong>POST:</strong></p>\n  \n  <p>Used to modify and update a resource</p>\n\n<pre><code>POST /questions/&lt;existing_question&gt; HTTP/1.1\nHost: www.example.com/\n</code></pre>\n  \n  <p>Note that the following is an error:</p>\n\n<pre><code>POST /questions/&lt;new_question&gt; HTTP/1.1\nHost: www.example.com/\n</code></pre>\n  \n  <p>If the URL is not yet created, you\n  should not be using POST to create it\n  while specifying the name.  This should\n  result in a 'resource not found' error\n  because <code>&lt;new_question&gt;</code> does not exist\n  yet.  You should PUT the <code>&lt;new_question&gt;</code>\n  resource on the server first.</p>\n  \n  <p>You could though do something like\n  this to create a resources using POST:</p>\n\n<pre><code>POST /questions HTTP/1.1\nHost: www.example.com/\n</code></pre>\n  \n  <p>Note that in this case the resource\n  name is not specified, the new objects\n  URL path would be returned to you.</p>\n  \n  <p><strong>PUT:</strong> </p>\n  \n  <p>Used to create a resource, or\n  overwrite it.  While you specify the\n  resources new URL.</p>\n  \n  <p>For a new resource:</p>\n\n<pre><code>PUT /questions/&lt;new_question&gt; HTTP/1.1\nHost: www.example.com/\n</code></pre>\n  \n  <p>To overwrite an existing resource:</p>\n\n<pre><code>PUT /questions/&lt;existing_question&gt; HTTP/1.1\nHost: www.example.com/\n</code></pre>\n</blockquote>\n", "title": "PUT vs POST in REST", "answer_id": 630475, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>REST is a <em>very</em> high-level concept. In fact, it doesn't even mention HTTP at all!</p>\n\n<p>If you have any doubts about how to implement REST in HTTP, you can always take a look at the <a href=\"http://AtomEnabled.Org/developers/protocol/atom-protocol-spec.php\">Atom Publication Protocol (AtomPub)</a> specification. AtomPub is a standard for writing RESTful webservices with HTTP that was developed by many HTTP and REST luminaries, with some input from Roy Fielding, the inventor of REST and (co-)inventor of HTTP himself.</p>\n\n<p>In fact, you might even be able to use AtomPub directly. While it came out of the blogging community, it is in no way restricted to blogging: it is a generic protocol for RESTfully interacting with arbitrary (nested) collections of arbitrary resources via HTTP. If you can represent your application as a nested collection of resources, then you can just use AtomPub and not worry about whether to use PUT or POST, what HTTP Status Codes to return and all those details.</p>\n\n<p><a href=\"http://AtomEnabled.Org/developers/protocol/atom-protocol-spec.php#crwp\">This is what AtomPub has to say about resource creation</a>:</p>\n\n<blockquote>\n  <p>To add members to a Collection, clients send POST requests to the URI of the Collection.</p>\n</blockquote>\n", "title": "PUT vs POST in REST", "answer_id": 630785, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<ul>\n<li><strong>POST</strong> to a URL <strong>creates a child resource</strong> at a <em>server defined</em> URL.</li>\n<li><strong>PUT</strong> to a URL <strong>creates/replaces the resource</strong> in its entirety at the <em>client defined</em> URL. </li>\n<li><strong>PATCH</strong> to a URL <strong>updates <em>part</em> of the resource</strong> at that client defined URL.</li>\n</ul>\n\n<p>The relevant specification for PUT and POST is <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5\">RFC 2616 \u00a79.5ff.</a></p>\n\n<p><strong>POST creates a child resource</strong>, so POST to <code>/items</code> creates a resources that lives under the <code>/items</code> resource. \nEg. <code>/items/1</code>. Sending the same post packet twice will create two resources.</p>\n\n<p><strong>PUT</strong> is for creating or replacing a resource at a <strong>URL known by the client</strong>. </p>\n\n<p>Therefore: <strong>PUT</strong> is only a candidate for CREATE where the client already knows the url before the resource is created. Eg. <code>/blogs/nigel/entry/when_to_use_post_vs_put</code> as the title is used as the resource key</p>\n\n<p><strong>PUT</strong> replaces the resource at the known url if it already exists, so sending the same request twice has no effect. In other words, <strong>calls to PUT are idempotent</strong>.</p>\n\n<p>The RFC reads like this:</p>\n\n<blockquote>\n  <p>The fundamental difference between the POST and PUT requests is reflected in the different meaning of the Request-URI. The URI in a POST request identifies the resource that will handle the enclosed entity. That resource might be a data-accepting process, a gateway to some other protocol, or a separate entity that accepts annotations. In contrast, the URI in a PUT request identifies the entity enclosed with the request -- the user agent knows what URI is intended and the server MUST NOT attempt to apply the request to some other resource. If the server desires that the request be applied to a different URI,</p>\n</blockquote>\n\n<p><strong>Note:</strong> PUT has mostly been used to update resources (by replacing them in their entireties), but recently there is movement towards using PATCH for updating existing resources, as PUT specifies that it replaces the whole resource. <a href=\"http://tools.ietf.org/html/rfc5789\">RFC 5789.</a></p>\n", "title": "PUT vs POST in REST", "answer_id": 2590281, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>You can find assertions on the web that say</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/developer/technicalArticles/WebServices/restful/\"><strong>POST</strong> should be used to create a resource, and <strong>PUT</strong> should be used to modify one</a></li>\n<li><a href=\"http://awsmedia.s3.amazonaws.com/pdf/RESTandS3.pdf\"><strong>PUT</strong> should be used to create a resource, and <strong>POST</strong> should be used to modify one</a></li>\n</ul>\n\n<p>Neither is quite right. </p>\n\n<hr>\n\n<p>Better is to choose between PUT and POST based on <a href=\"http://en.wikipedia.org/wiki/Idempotent\">idempotence</a> of the action. </p>\n\n<p><strong>PUT</strong> implies putting a resource - completely replacing whatever is available at the given URL with a different thing.  By definition, a PUT is idempotent.  Do it as many times as you like, and the result is the same. <code>x=5</code> is idempotent.  You can PUT a resource whether it previously exists, or not (eg, to Create, or to Update)! </p>\n\n<p><strong>POST</strong> updates a resource, adds a subsidiary resource, or causes a change.  A POST is not idempotent, in the way that <code>x++</code> is not idempotent. </p>\n\n<hr>\n\n<p>By this argument, PUT is for creating when you know the URL of the thing you will create. POST can be used to create when you know the URL of the \"factory\" or manager for the category of things you want to create. </p>\n\n<p>so: </p>\n\n<pre><code>POST /expense-report\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>PUT  /expense-report/10929\n</code></pre>\n", "title": "PUT vs POST in REST", "answer_id": 2691891, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>I'd like to add my \"pragmatic\" advice.  Use PUT when you know the \"id\" by which the object you are saving can be retrieved.  Using PUT won't work too well if you need, say, a database generated id to be returned for you to do future lookups or updates.</p>\n\n<p>So: To save an existing user, or one where the client generates the id and it's been verified that the id is unique:</p>\n\n<pre><code>PUT /user/12345 HTTP/1.1  &lt;-- create the user providing the id 12345\nHost: mydomain.com\n\nGET /user/12345 HTTP/1.1  &lt;-- return that user\nHost: mydomain.com\n</code></pre>\n\n<p>Otherwise, use POST to initially create the object, and PUT to update the object:</p>\n\n<pre><code>POST /user HTTP/1.1   &lt;--- create the user, server returns 12345\nHost: mydomain.com\n\nPUT /user/12345 HTTP/1.1  &lt;--- update the user\nHost: mydomain.com\n</code></pre>\n", "title": "PUT vs POST in REST", "answer_id": 4701836, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>At the risk of restating what has already been said, it seems important to remember that <strong>PUT</strong> implies that the client controls what the <em>URL</em> is going to end up being, when creating a resource. So part of the choice between <strong>PUT</strong> and <strong>POST</strong> is going to be about how much you can trust the client to provide correct, normalized <em>URL</em> that are coherent with whatever your URL scheme is. </p>\n\n<p>When you can't fully trust the client to do the right thing, it would be \nmore appropriate to use <strong>POST</strong> to create a new item and then send the URL back to the client in the response.</p>\n", "title": "PUT vs POST in REST", "answer_id": 5431108, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>POST means \"create new\" as in \"Here is the input for creating a user, create it for me\".</p>\n\n<p>PUT means \"insert, replace if already exists\" as in \"Here is the data for user 5\".</p>\n\n<p>You POST to example.com/users since you don't know the URL of the user yet, you want the server to create it. </p>\n\n<p>You PUT to example.com/users/id since you want to replace/create a <em>specific</em> user.</p>\n\n<p>POSTing twice with the same data means create two identical users. PUTing twice with the same data creates the user the first and updates him to the same state the second time (no changes). Since you end up with the same state after a PUT no matter how many times you perform it, it is said to be \"equally potent\" every time - idempotent. This is useful for automatically retrying requests. No more 'are you sure you want to resend' when you push the back button on the browser.</p>\n\n<p>A general advice is to use POST when you need the server to be in control of URL generation of your resources. Use PUT otherwise.  Prefer PUT  over POST.  </p>\n", "title": "PUT vs POST in REST", "answer_id": 7866699, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>The semantics are supposed be different, in that \"PUT\", like \"GET\" is supposed to be idempotent -- meaning, you can the same exact PUT request multiple times and the result will be as if you executed it only once. </p>\n\n<p>I will describe the conventions which I think are most widely used and are most useful:</p>\n\n<p>When you PUT a resource at a particular URL what happens is that it should get saved at that URL, or something along those lines.</p>\n\n<p>When you POST to a resource at a particular URL, often you are posting a related piece of information to that URL. This implies that the resource at the URL already exists.</p>\n\n<p>For example, when you want to create a new stream, you can PUT it to some URL. But when you want to POST a message to an existing stream, you POST to its URL.</p>\n\n<p>As for modifying the properties of the stream, you can do that with either PUT or POST. Basically, only use \"PUT\" when the operation is idempotent - otherwise use POST.</p>\n\n<p>Note, however, that not all modern browsers support HTTP verbs other than GET or POST.</p>\n", "title": "PUT vs POST in REST", "answer_id": 7868846, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>I like this advice, from <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html\">RFC 2616's definition of PUT</a>:</p>\n\n<blockquote>\n  <p>The fundamental difference between the POST and PUT requests is reflected in the different meaning of the Request-URI. The URI in a POST request identifies the resource that will handle the enclosed entity. That resource might be a data-accepting process, a gateway to some other protocol, or a separate entity that accepts annotations. In contrast, the URI in a PUT request identifies the entity enclosed with the request -- the user agent knows what URI is intended and the server MUST NOT attempt to apply the request to some other resource.</p>\n</blockquote>\n\n<p>This jibes with the other advice here, that PUT is best applied to resources that already have a name, and POST is good for creating a new object under an existing resource (and letting the server name it).</p>\n\n<p>I interpret this, and the idempotency requirements on PUT, to mean that:</p>\n\n<ul>\n<li>POST is good for creating new objects under a collection (and create does not need to be idempotent)</li>\n<li>PUT is good for updating existing objects (and update needs to be idempotent)</li>\n<li>POST can also be used for non-idempotent updates to existing objects (especially, changing part of an object without specifying the whole thing -- if you think about it, creating a new member of a collection is actually a special case of this kind of update, from the collection's perspective)</li>\n<li>PUT can also be used for create if and only if you allow the client to name the resource. But since REST clients aren't supposed to make assumptions about URL structure, this is less in the intended spirit of things.</li>\n</ul>\n", "title": "PUT vs POST in REST", "answer_id": 8823660, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>The most important consideration is <em>reliability</em>. If a POST message gets lost the state of the system is undefined. Automatic recovery is impossible. For PUT messages, the state is undefined only until the first successful retry.</p>\n\n<p>For instance, it may not be a good idea to create credit card transactions with POST. </p>\n\n<p>If you happen to have auto generated  URI's on your resource you can still use PUT by passing a generated URI (pointing to an empty resource) to the client.</p>\n\n<p>Some other considerations:</p>\n\n<ul>\n<li>POST invalidates cached copies of the entire containing resource (better consistency)</li>\n<li>PUT responses are not cacheable while POST ones are (Require Content-Location and expiration)</li>\n<li>PUT is less supported by e.g. Java ME, older browsers, firewalls</li>\n</ul>\n", "title": "PUT vs POST in REST", "answer_id": 9197466, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>Rails 4.0  will use the 'PATCH' method instead of PUT to do partial updates.</p>\n\n<p>RFC 5789 says about PATCH (since 1995):</p>\n\n<blockquote>\n  <p>A new method is necessary to improve interoperability and prevent\n     errors.  The PUT method is already defined to overwrite a resource\n     with a complete new body, and cannot be reused to do partial changes.\n     Otherwise, proxies and caches, and even clients and servers, may get\n     confused as to the result of the operation.  POST is already used but\n     without broad interoperability (for one, there is no standard way to\n     discover patch format support).  PATCH was mentioned in earlier HTTP\n     specifications, but not completely defined.</p>\n</blockquote>\n\n<p>\"<a href=\"http://weblog.rubyonrails.org/2012/2/26/edge-rails-patch-is-the-new-primary-http-method-for-updates/\" rel=\"nofollow\">Edge Rails: PATCH is the new primary HTTP method for updates</a>\" explains it.</p>\n", "title": "PUT vs POST in REST", "answer_id": 9451914, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p><strong>New answer (now that I understand REST better):</strong></p>\n\n<p>PUT is merely a statement of what content the service should, from now on, use to render representations of the resource identified by the client; POST is a statement of what content the service should, from now on, contain (possibly duplicated) but it's up to the server how to identify that content.</p>\n\n<p><code>PUT x</code> (if <code>x</code> identifies a <a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_2_1_1\">resource</a>): \"Replace the content of the resource identified by <code>x</code> with my content.\"</p>\n\n<p><code>PUT x</code> (if <code>x</code> does not identify a resource): \"Create a new resource containing my content and use <code>x</code> to identify it.\"</p>\n\n<p><code>POST x</code>: \"Store my content and give me an identifier that I can use to identify a resource (old or new) containing said content (possibly mixed with other content). Said resource should be identical or subordinate to that which <code>x</code> identifies.\" \"<em>y</em>'s resource is subordinate to <em>x</em>'s resource\" is typically but not necessarily implemented by making <em>y</em> a subpath of <em>x</em> (e.g. <em>x</em> = <code>/foo</code> and <em>y</em> = <code>/foo/bar</code>) and modifying the representation(s) of <em>x</em>'s resource to reflect the existence of a new resource, e.g. with a hyperlink to <em>y</em>'s resource and some metadata. Only the latter is really essential to good design, as URLs are opaque in REST -- you're supposed to <a href=\"http://stackoverflow.com/a/9194942/972499\">use hypermedia</a> instead of client-side URL construction to traverse the service anyways.</p>\n\n<p>In REST, there's no such thing as a resource containing \"content\". I refer as \"content\" to data that the service uses to render representations consistently. It typically consists of some related rows in a database or a file (e.g. an image file). It's up to the service to convert the user's content into something the service can use, e.g. converting a JSON payload into SQL statements.</p>\n\n<p><strong>Original answer (might be easier to read)</strong>:</p>\n\n<p><code>PUT /something</code> (if <code>/something</code> already exists): \"Take whatever you have at <code>/something</code> and replace it with what I give you.\"</p>\n\n<p><code>PUT /something</code> (if <code>/something</code> does not already exist): \"Take what I give you and put it at <code>/something</code>.\"</p>\n\n<p><code>POST /something</code>: \"Take what I give you and put it anywhere you want under <code>/something</code> as long as you give me its URL when you're done.\"</p>\n", "title": "PUT vs POST in REST", "answer_id": 11766839, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>POST is like posting a letter to a mailbox or posting an email to an email queue.\nPUT is like when you put an object in a cubby hole or a place on a shelf (it has a known address).</p>\n\n<p>With POST, you're posting to the address of the QUEUE or COLLECTION. With PUT, you're putting to the address of the ITEM.</p>\n\n<p>PUT is idempotent. You can send the request 100 times and it will not matter. POST is not idempotent. If you send the request 100 times, you'll get 100 emails or 100 letters in your postal box.</p>\n\n<p>A general rule: if you know the id or name of the item, use PUT. If you want the id or name of the item to be assigned by the receiving party, use POST. </p>\n\n<p><img src=\"http://i.stack.imgur.com/ugbjx.png\" alt=\"POST versus PUT\"></p>\n", "title": "PUT vs POST in REST", "answer_id": 17114749, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<h1>Summary:</h1>\n\n<h2>Create:</h2>\n\n<p>Can be performed with both PUT or POST in the following way:</p>\n\n<blockquote>\n  <h3>PUT</h3>\n  \n  <p>Creates <strong>THE</strong> new resource with <strong>newResourceId</strong> as the identifier, under the /resources URI, or <strong>collection</strong>.</p>\n\n<pre><code>PUT /resources/&lt;newResourceId&gt; HTTP/1.1 \n</code></pre>\n  \n  <h3>POST</h3>\n  \n  <p>Creates <strong>A</strong> new resource under the /resources URI, or <strong>collection</strong>. Usually the identifier is returned by the server.</p>\n\n<pre><code>POST /resources HTTP/1.1\n</code></pre>\n</blockquote>\n\n<h2>Update:</h2>\n\n<p>Can <strong>only</strong> be performed with PUT in the following way:</p>\n\n<blockquote>\n  <h3>PUT</h3>\n  \n  <p>Updates the resource with <strong>existingResourceId</strong> as the identifier, under the /resources URI, or <strong>collection</strong>.</p>\n\n<pre><code>PUT /resources/&lt;existingResourceId&gt; HTTP/1.1\n</code></pre>\n</blockquote>\n\n<h1>Explanation:</h1>\n\n<p>When dealing with REST and URI as general, you have <strong>generic</strong> on the <em>left</em> and <strong>specific</strong> on the <em>right</em>. The <strong>generics</strong> are usually called <strong>collections</strong> and the more <strong>specific</strong> items can be called <strong>resource</strong>. Note that a <strong>resource</strong> can contain a <strong>collection</strong>.</p>\n\n<blockquote>\n  <h2>Examples:</h2>\n  \n  <p><strong>&lt;-- generic -- specific --></strong></p>\n\n<pre><code>URI: website.com/users/john\nwebsite.com  - whole site\nusers        - collection of users\njohn         - item of the collection, or a resource\n\nURI:website.com/users/john/posts/23\nwebsite.com  - whole site\nusers        - collection of users\njohn         - item of the collection, or a resource\nposts        - collection of posts from john\n23           - post from john with identifier 23, also a resource\n</code></pre>\n</blockquote>\n\n<p>When you use POST you are <strong>always</strong> refering to a <strong>collection</strong>, so whenever you say:</p>\n\n<pre><code>POST /users HTTP/1.1\n</code></pre>\n\n<p>you are posting a new user to the <em>users</em> <strong>collection</strong>.</p>\n\n<p>If you go on and try something like this:</p>\n\n<pre><code>POST /users/john HTTP/1.1\n</code></pre>\n\n<p>it will work, but semantically you are saying that you want to add a resource to the <em>john</em> <strong>collection</strong> under the <em>users</em> <strong>collection</strong>.</p>\n\n<p>Once you are using PUT you are refering to a <strong>resource</strong> or single item, possibly inside a <strong>collection</strong>. So when you say:</p>\n\n<pre><code>PUT /users/john HTTP/1.1\n</code></pre>\n\n<p>you are telling to the server update, or create if it doesn't exist, the <em>john</em> <strong>resource</strong> under the <em>users</em> <strong>collection</strong>.</p>\n\n<h2>Spec:</h2>\n\n<p>Let me highlight some important parts of the spec:</p>\n\n<h3>POST</h3>\n\n<blockquote>\n  <p>The <strong>POST</strong> method is used to request that the origin server <strong>accept</strong> the entity enclosed in the request as a <strong><em>new</em> subordinate</strong> of the resource identified by the Request-URI in the Request-Line</p>\n</blockquote>\n\n<p>Hence, creates a new <strong>resource</strong> on a <strong>collection</strong>.</p>\n\n<h3>PUT</h3>\n\n<blockquote>\n  <p>The <strong>PUT</strong> method requests that the enclosed entity be <strong>stored</strong> under the supplied Request-URI. If the Request-URI refers to an <strong>already existing</strong> resource, the enclosed entity SHOULD be considered as a <strong>modified version</strong> of the one residing on the origin server. If the Request-URI does <strong>not point to an existing</strong> resource, and that URI is <strong>capable</strong> of being defined as a <strong><em>new</em> resource</strong> by the requesting user agent, the origin server can <strong>create</strong> the resource with that URI.\"</p>\n</blockquote>\n\n<p>Hence, create or update based on existence of the <strong>resource</strong>.</p>\n\n<h1>Reference:</h1>\n\n<ul>\n<li><a href=\"https://tools.ietf.org/html/rfc7231#section-4.3.3\">HTTP/1.1 Spec</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer\">Wikipedia - REST</a></li>\n<li><a href=\"http://www.ietf.org/rfc/rfc2396.txt\">Uniform Resource Identifiers (URI): Generic Syntax and Semantics</a></li>\n</ul>\n", "title": "PUT vs POST in REST", "answer_id": 18243587, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>There seems to always be some confusion as to when to use the HTTP POST versus the HTTP PUT method for REST services. Most developers will try to associate CRUD operations directly to HTTP methods. I will argue that this is not correct and one can not simply associate the CRUD concepts to the HTTP methods. That is:</p>\n\n<pre><code>Create =&gt; HTTP PUT\nRetrieve =&gt; HTTP GET\nUpdate =&gt; HTTP POST\nDelete =&gt; HTTP DELETE\n</code></pre>\n\n<p>It is true that the R(etrieve) and D(elete) of the CRUD operations can be mapped directly to the HTTP methods GET and DELETE respectively. However, the confusion lies in the C(reate) and U(update) operations. In some cases, one can use the PUT for a create while in other cases a POST will be required. The ambiguity lies in the definition of an HTTP PUT method versus an HTTP POST method.</p>\n\n<p>According to the HTTP 1.1 specifications the GET, HEAD, DELETE, and PUT methods must be idempotent, and the POST method is not idempotent. That is to say that an operation is idempotent if it can be performed on a resource once or many times and always return the same state of that resource. Whereas a non idempotent operation can return a modified state of the resource from one request to another. Hence, in a non idempotent operation, there is no guarantee that one will receive the same state of a resource.</p>\n\n<p>Based on the above idempotent definition, my take on using the HTTP PUT method versus using the HTTP POST method for REST services is:\nUse the HTTP PUT method when:</p>\n\n<pre><code>The client includes all aspect of the resource including the unique identifier to uniquely identify the resource. Example: creating a new employee.\nThe client provides all the information for a resource to be able to modify that resource.This implies that the server side does not update any aspect of the resource (such as an update date).\n</code></pre>\n\n<p>In both cases, these operations can be performed multiple times with the same results. That is the resource will not be changed by requesting the operation more than once. Hence, a true idempotent operation.\nUse the HTTP POST method when:</p>\n\n<pre><code>The server will provide some information concerning the newly created resource. For example, take a logging system. A new entry in the log will most likely have a numbering scheme which is determined on the server side. Upon creating a new log entry, the new sequence number will be determined by the server and not by the client.\nOn a modification of a resource, the server will provide such information as a resource state or an update date. Again in this case not all information was provided by the client and the resource will be changing from one modification request to the next. Hence a non idempotent operation.\n</code></pre>\n\n<p>Conclusion</p>\n\n<p>Do not directly correlate and map CRUD operations to HTTP methods for REST services. The use of an HTTP PUT method versus an HTTP POST method should be based on the idempotent aspect of that operation. That is, if the operation is idempotent, then use the HTTP PUT method. If the operation is non idempotent, then use the HTTP POST method.</p>\n", "title": "PUT vs POST in REST", "answer_id": 19286984, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>I'm gonna land with the following:</p>\n\n<p>PUT refers to a resource, identified by the URI.  In this case, you are updating it.  It is the part of the three verbs referring to resources -- delete and get being the other two.</p>\n\n<p>POST is basically a free form message, with its meaning being defined 'out of band'.  If the message can be interpreted as adding a resource to a directory, that would be OK, but basically you need to understand the message you are sending (posting) to know what will happen with the resource.</p>\n\n<hr>\n\n<p>Because put and get and delete refer to a resource, they are also by definition idempotent.</p>\n\n<p>Post can perform the other three functions, but then the semantics of the request will be lost on the intermediaries such as caches and proxies.  This also applies to providing security on the resource, since a post's URI doesn't necessarily indicate the resource it is applying to (it can though).</p>\n\n<p>A put doesn't need to be a create; the service could error if the resource isn't already created but otherwise update it.  Or vice versa -- it may create the resource, but not allow updates.  The only thing required about PUT is that it points to a specific resource, and its payload is the representation of that resource.  A successful put means (barring interference) that a get would retrieve the same resource.</p>\n", "title": "PUT vs POST in REST", "answer_id": 19504905, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p><strong>The decision of whether to use PUT or POST to create a resource on a server with an HTTP + REST API is based on who owns the URL structure.</strong> Having the client know, or participate in defining, the URL struct is an unnecessary coupling akin to the undesirable couplings that arose from SOA. Escaping types of couplings is the reason REST is so popular. Therefore, <strong>the proper method to use is POST.</strong> There are exceptions to this rule and they occur when the client wishes to retain control over the location structure of the resources it deploys. This is rare and likely means something else is wrong.</p>\n\n<p>At this point some people will argue that if <em>Restful-URL's</em> are used, the client does knows the URL of the resource and therefore a PUT is acceptable. After all, this is why canonical, normalized, Ruby on Rails, Django URLs are important, look at the Twitter API \u2026 blah blah blah. Those people need to understand <strong>there is no such thing as a Restful-URL</strong> and that <strong>Roy Fielding himself states that</strong>:</p>\n\n<blockquote>\n  <p>A REST API must not define fixed resource names or hierarchies (an\n  obvious coupling of client and server). Servers must have the freedom\n  to control their own namespace. Instead, allow servers to instruct\n  clients on how to construct appropriate URIs, such as is done in HTML\n  forms and URI templates, by defining those instructions within media\n  types and link relations. [Failure here implies that clients are\n  assuming a resource structure due to out-of band information, such as\n  a domain-specific standard, which is the data-oriented equivalent to\n  RPC's functional coupling].</p>\n  \n  <p><a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\">http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven</a></p>\n</blockquote>\n\n<p>The idea of a <em>RESTful-URL</em> is actually a violation of REST as the server is in charge of the URL structure and should be free to decide how to use it to avoid coupling. If this confuses you read about the significance of self discovery on API design.</p>\n\n<p><strong>Using POST to create resources comes with a design consideration because POST is not idempotent.</strong> This means that repeating a POST several times does not guarantee the same behavior each time. <strong>This scares people into using PUT to create resources when they should not.</strong> They know it's wrong (POST is for CREATE) but they do it anyway because they don't know how to solve this problem.  This concern is demonstrated in the following situation:</p>\n\n<ol>\n<li>The client POST a new resource to the server.</li>\n<li>The server processes the request and sends a response.</li>\n<li>The client never receives the response.</li>\n<li>The server is unaware the client has not received the response.</li>\n<li>The client does not have a URL for the resource (therefore PUT is not an option) and repeats the POST.</li>\n<li>POST is not idempotent and the server \u2026</li>\n</ol>\n\n<p>Step 6 is where people commonly get confused about what to do. However, there is no reason to create a kludge to solve this issue. Instead, HTTP can be used as specified in <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10\">RFC 2616</a> and the server replies:</p>\n\n<blockquote>\n  <p>10.4.10 409 Conflict</p>\n  \n  <p>The request could not be completed due to a conflict with the current\n  state of the resource. This code is only allowed in situations where\n  it is expected that the user might be able to resolve the conflict and\n  resubmit the request. The response body SHOULD include enough</p>\n  \n  <p>information for the user to recognize the source of the conflict.\n  Ideally, the response entity would include enough information for the\n  user or user agent to fix the problem; however, that might not be\n  possible and is not required.</p>\n  \n  <p>Conflicts are most likely to occur in response to a PUT request. For\n  example, if versioning were being used and the entity being PUT\n  included changes to a resource which conflict with those made by an\n  earlier (third-party) request, the server might use the 409 response\n  to indicate that it can\u2019t complete the request. In this case, the\n  response entity would likely contain a list of the differences between\n  the two versions in a format defined by the response Content-Type.</p>\n</blockquote>\n\n<p><strong>Replying with a status code of 409 Conflict is the correct recourse because</strong>:</p>\n\n<ul>\n<li>Performing a POST of data which has an ID which matches a resource already in the system is \u201ca conflict with the current state of the resource.\u201d</li>\n<li>Since the important part is for the client to understand the server has the resource and to take appropriate action. This is a \u201csituation(s) where it is expected that the user might be able to resolve the conflict and resubmit the request.\u201d</li>\n<li>A response which contains the URL of the resource with the conflicting ID and the appropriate preconditions for the resource would provide \u201cenough information for the user or user agent to fix the problem\u201d which is the ideal case per RFC 2616.</li>\n</ul>\n\n<p><strong>Update based on release of RFC 7231 to Replace 2616</strong></p>\n\n<p><a href=\"http://tools.ietf.org/html/rfc7231\">RFC 7231</a> is designed to replace 2616 and in <a href=\"http://tools.ietf.org/html/rfc7231#section-4.3.3\">Section 4.3.3</a> describes the follow possible response for a POST</p>\n\n<blockquote>\n  <p>If the result of processing a POST would be equivalent to a\n  representation of an existing resource, an origin server MAY redirect\n  the user agent to that resource by sending a 303 (See Other) response\n  with the existing resource's identifier in the Location field.  This\n  has the benefits of providing the user agent a resource identifier\n  and transferring the representation via a method more amenable to\n  shared caching, though at the cost of an extra request if the user\n  agent does not already have the representation cached.</p>\n</blockquote>\n\n<p>It now may be be tempting to simply return a 303 in the event that a POST is repeated. However, the opposite is true. Returning a 303 would only make sense if multiple create requests (creating different resources) return the same content. An example would be a \"thank you for submitting your request message\" that the client need not re-download each time. RFC 7231 still maintains in section 4.2.2 that POST is not be Idempotent and continues to maintain that POST should be used for create.</p>\n\n<p>For more information about this read this <a href=\"http://articles.joshcodes.com/?p=5\">article</a>.</p>\n", "title": "PUT vs POST in REST", "answer_id": 19670755, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>Here's a simple rule:</p>\n\n<p><strong>PUT</strong> to a URL should be used to update or create the resource that can be located at that URL.</p>\n\n<p><strong>POST</strong> to a URL should be used to update or create a resource which is located at some other (\"subordinate\") URL, or is not locatable via http.</p>\n", "title": "PUT vs POST in REST", "answer_id": 20531076, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p><strong>POST:</strong> Use for creating new resources.It's like insert (sql statement) with auto-incremented ID . In Response part contain new generated Id.</p>\n\n<pre><code>Post is also use for Update record.\n</code></pre>\n\n<p><strong>Put:</strong> Use for create new Resource but here i know the the identity key it's like Insert (sql statement) where i know in advance the identity key\n.In response part it send nothing .</p>\n\n<pre><code>Put is also use for Update resource\n</code></pre>\n", "title": "PUT vs POST in REST", "answer_id": 20541819, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<blockquote>\n  <p>the origin server can create the resource with that URI</p>\n</blockquote>\n\n<p>So you use POST and probably, but not necessary PUT for resource creation. You don't have to support both. For me POST is perfectly enough. So it is a design decision.</p>\n\n<p>As your quote meantioned you use PUT for creation of there is no resource assigned to an IRI and you want to create a resource anyways. For example <code>PUT /users/123/password</code> usually replaces the old password with a new one, but you can use it to create a password if it does not exist already (for example by freshly registered users or by restoring banned users.</p>\n", "title": "PUT vs POST in REST", "answer_id": 21156240, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>While there is probably an agnostic way to describe these.  It does seem to be conflicting with various statements from answers to websites.</p>\n\n<p>Lets be very clear and direct here,  If you are a .NET developer working with Web API, the facts are ( from the Microsoft API documentation)<br>\n<a href=\"http://www.asp.net/web-api/overview/creating-web-apis/creating-a-web-api-that-supports-crud-operations\" rel=\"nofollow\">http://www.asp.net/web-api/overview/creating-web-apis/creating-a-web-api-that-supports-crud-operations</a></p>\n\n<pre><code>1. PUT = UPDATE    (/api/products/id)\n2. MCSD Exams 2014 -  UPDATE = PUT , there are **NO** multiple answers for that question period.\n</code></pre>\n\n<p>Sure you \"can\" use \"POST\" to update, but just follow the conventions laid out for you with your given framework.  In my case it is .NET / Web API , so  <strong>PUT is for UPDATE</strong>  there is no debate.</p>\n\n<p>Hope this helps any Microsoft developers that read all comments with Amazon and Sun/JAVA website links. </p>\n", "title": "PUT vs POST in REST", "answer_id": 24873670, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>In practice, POST works well for creating resources. The URL of the newly created resource should be returned in the Location response header. PUT should be used for updating a resource completely. Please understand that these are the best practices when designing a RESTful API. HTTP specification as such does not restrict using PUT/POST with a few restrictions for creating/updating resources. Take a look at <a href=\"http://techoctave.com/c7/posts/71-twitter-rest-api-dissected\" rel=\"nofollow\">http://techoctave.com/c7/posts/71-twitter-rest-api-dissected</a> that summarizes the best practices.</p>\n", "title": "PUT vs POST in REST", "answer_id": 26211171, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>Both uses for data transmission between client to server, but  subtle differences between them, which are:<br>\n<a href=\"http://i.stack.imgur.com/8D8Z3.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/8D8Z3.png\" alt=\"enter image description here\"></a></p>\n", "title": "PUT vs POST in REST", "answer_id": 32524385, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>Readers new to this topic will be struck by the endless discussion about what you <em>should</em> do, and the relative absence of lessons from experience. The fact that REST is \"preferred\" over SOAP is, I suppose, a high-level learning from experience, but goodness we must have progressed from there? It's 2016. Roy's dissertation was in 2000. What have we developed? Was it fun? Was it easy to integrate with? To support? Will it handle the rise of smartphones and flaky mobile connections?</p>\n\n<p>According to ME, real-life networks are unreliable. Requests timeout. Connections are reset. Networks go down for hours or days at a time. Trains go into tunnels with mobile users aboard. For any given request (as occasionally acknowledged in all this discussion) the request can fall in the water on it's way, or the response can fall in the water on it's way back. In these conditions, issuing PUT, POST and DELETE requests directly against substantive resources has always struck me as a little brutal and naive.</p>\n\n<p>HTTP does nothing to ensure reliable completion of the request-response, and that's just fine because this is properly the job of network-aware applications. Developing such an app, you can jump through hoops to to use PUT instead of POST, then more hoops to give a certain kind of error on the server if you detect duplicate requests. Back at the client, you then have to jump through hoops to interpret these errors, refetch, revalidate and repost.</p>\n\n<p><strong>Or you can do this</strong>: consider your unsafe requests (actions) as ephemeral single-user resources. Clients request a new \"action\" on a substantive resource with an empty POST to the resource. POST will be used only for this. Once safely in possession of the URI of the freshly minted action, the client PUTs the unsafe request to the action URI <em>not the target resource</em>. Resolving the action and updating the \"real\" resource is properly the job of your api, and is here decoupled from the unreliable network. The server does the business, returns the response <em>and stores it against the agreed action URI</em>. If anything goes wrong, the client repeats the request (natural behaviour!), and if the server has already seen it, it repeats the stored response <em>and does nothing else</em>.  You will quickly spot the similarity with promises: we create and return the placeholder for the result before doing anything. Also like a promise, an action can succeed or fail one time, but its result can be fetched repeatedly. Best of all, we give sending and receiving applications a chance to link the uniquely identified action to uniqueness in their respective environments. And we can start to demand, and enforce!, responsible behaviour from clients: repeat your requests as much as you like, but don't go generating a new action until you're in possession of a definitive result from the existing one.</p>\n\n<p>As such, numerous thorny problems go away. Successive insert requests won't create duplicates, and we don't create the real resource until we're in possession of the data. (DB columns can stay not-nullable). Successive update requests won't hit incompatible states and won't overwrite subsequent changes. Clients can (re)fetch and seemlessy process the original confirmation if they need to (client crashed, response went missing etc.). Successive delete requests can see and process the original confirmation, without hitting a 404 error. If things take longer than expected, we can respond provisionnally, and we have a place where the client can check back for the definitive result. The nicest part of this pattern is it's Kung-Fu (Panda) property. We take a weakness, the propensity for clients to repeat a request any time they don't understand the response, and turn it into <em>a strength</em> :-)</p>\n\n<p>Before telling me this is not RESTful, please consider the numerous ways in which REST principles are respected. Clients don't construct URLs. The api stays discoverable, albeit with a little change in semantics. HTTP verbs are used appropriateley. If you think this is a huge change to implement, I can tell you from experience that it's not. If you think you'll have huge amounts of data to store, let's talk volumes: a typical update confirmation is a fraction of a kilobyte. HTTP currently gives you a minute or two to respond definitively. Even if you only store actions for a week, clients have ample chance to catch up. If you have very high volumes, you may want a dedicated acid-compliant key value store, or an in-memory solution. If you still need convincing, I have a little google doc <a href=\"https://docs.google.com/document/d/1s0joc0yb6kXpXZGfdE9SRutoPQuK9RVa77f92xsXzrM/edit?usp=sharing\" rel=\"nofollow\">here</a>.</p>\n", "title": "PUT vs POST in REST", "answer_id": 35480588, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>Simply \nPut will expect the id, acording to id if  the record is in db it will update if the id is not giving any valid record it will create a new record in db. Inorder to post it won't expect id. It will blindly create new record in the db.</p>\n", "title": "PUT vs POST in REST", "answer_id": 37685343, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>If you are familiar with database operations,\nthere are</p>\n\n<ol>\n<li>Select</li>\n<li>Insert</li>\n<li>Update</li>\n<li>Delete</li>\n<li>Merge (Update if already existing, else insert)</li>\n</ol>\n\n<p>I use <code>PUT</code> for Merge and update like operations and use <code>POST</code> for Insertions.</p>\n", "title": "PUT vs POST in REST", "answer_id": 38110141, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>In short:</p>\n\n<p><strong>PUT</strong> Is Idempotent, where resource state will be same if same operation is executed one time or multiple times.</p>\n\n<p><strong>POST</strong> Is non Idempotent, where resource state may become different if operation is executed multiple times as compared to executing single time. </p>\n\n<p><strong>Analogy with Database Query</strong></p>\n\n<p><strong>PUT</strong> You can think of similar to \"UPDATE STUDENT SET address = \"abc\" where id=\"123\";</p>\n\n<p><strong>POST</strong> You can think of something like \"INSERT INTO STUDENT(name, address) VALUES (\"abc\", \"xyzzz\"); </p>\n\n<p>Student Id is auto generated.</p>\n\n<p>With PUT, if same query is executed multiple times or one time, STUDENT Table state remains the same. </p>\n\n<p>In case of POST, if same query is executed multiple times then multiple Student records get created in database and database state changes on each execution of \"INSERT\" query. </p>\n\n<p><strong>NOTE:</strong> PUT needs Resource location(already existing resource) on which update needs to happen, whereas POST doesn't require that. Therefore intuitively POST is meant for creation of new Resource, whereas PUT is needed for Updating the already existing resource. </p>\n\n<p><em>Some may come up that updates can be performed with POST, there is no hard rule which one to use for updates or which one to use for create. Again these are conventions and intuitively I'm inclined with above mentioned reasoning and follow it</em></p>\n", "title": "PUT vs POST in REST", "answer_id": 38657362, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}, {"body": "<p>In a simple way</p>\n\n<p>You can use <strong>POST to create</strong> resources in every case <strong>when you do not know the resource identifier</strong> or if you want to <strong>create/update resource by send subset of available values</strong>.</p>\n\n<p>You can use <strong>PUT to create/update resources in every case  when you know  resource identifier</strong> or allow the client to specify it. But <strong>if you use PUT to create/update resource you must always send all possible values</strong>.</p>\n", "title": "PUT vs POST in REST", "answer_id": 39301559, "question_id": 630453, "tags": ["http", "rest", "post", "put"]}], "question_id": 630453}, {"body": "<p>Is there something in JavaScript similar to <code>@import</code> in CSS that allows you to include a JavaScript file inside another JavaScript file?</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "tags": ["javascript", "file", "import", "include"], "answer_count": 41, "link": "http://stackoverflow.com/questions/950087/how-to-include-a-javascript-file-in-another-javascript-file", "answers": [{"body": "<p>It is possible to dynamically generate a JavaScript tag and append it to HTML document from inside other JavaScript code. This will load targeted JavaScript file.</p>\n\n<pre><code>function includeJs(jsFilePath) {\n    var js = document.createElement(\"script\");\n\n    js.type = \"text/javascript\";\n    js.src = jsFilePath;\n\n    document.body.appendChild(js);\n}\n\nincludeJs(\"/path/to/some/file.js\");\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 950098, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Maybe you can use this function that I found on this page <em><a href=\"http://forums.digitalpoint.com/showthread.php?t=146094\">How do I include a JavaScript file in a JavaScript file?</a></em>:</p>\n\n<pre><code>function include(filename)\n{\n    var head = document.getElementsByTagName('head')[0];\n\n    var script = document.createElement('script');\n    script.src = filename;\n    script.type = 'text/javascript';\n\n    head.appendChild(script)\n}\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 950109, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>JavaScript has no import, include, or require. <em>(Update 2015: it does now with <a href=\"http://exploringjs.com/es6/ch_modules.html\">ES6 modules</a>)</em> There are other ways for JavaScript to include external JavaScript contents, though.</p>\n\n<h3>Ajax Loading</h3>\n\n<p>Load an additional script with an Ajax call and then use <code>eval</code>. This is the most straightforward way, but it is limited to your domain because of the JavaScript sandbox security model. Using <code>eval</code> also opens the door to bugs and hacks.</p>\n\n<h3>jQuery Loading</h3>\n\n<p>The <a href=\"http://jquery.com/\">jQuery</a> library provides loading functionality <a href=\"http://api.jquery.com/jQuery.getScript/\">in one line</a>:</p>\n\n<pre><code>$.getScript(\"my_lovely_script.js\", function(){\n\n   alert(\"Script loaded but not necessarily executed.\");\n\n});\n</code></pre>\n\n<h3>Dynamic Script Loading</h3>\n\n<p>Add a script tag with the script URL in the HTML. To avoid the overhead of jQuery, this is an ideal solution.</p>\n\n<p>The script can even reside on a different server. Furthermore, the browser evaluates the code. The <code>&lt;script&gt;</code> tag can be injected into either the web page <code>&lt;head&gt;</code>, or inserted just before the closing <code>&lt;/body&gt;</code> tag.</p>\n\n<p>Both of these solutions are discussed and illustrated in <em><a href=\"http://unixpapa.com/js/dyna.html\">JavaScript Madness: Dynamic Script Loading</a></em>.</p>\n\n<h2>Detecting when the script has been executed</h2>\n\n<p>Now, there is a big issue you must know about. Doing that implies that <em>you remotely load the code</em>. Modern web browsers will load the file and keep executing your current script because they load everything asynchronously to improve performance. (This applies to both the jQuery method and the manual dynamic script loading method.)</p>\n\n<p>It means that if you use these tricks directly, <em>you won't be able to use your newly loaded code the next line after you asked it to be loaded</em>, because it will be still loading.</p>\n\n<p>For example: <code>my_lovely_script.js</code> contains <code>MySuperObject</code>:</p>\n\n<pre><code>var js = document.createElement(\"script\");\n\njs.type = \"text/javascript\";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);\n\nvar s = new MySuperObject();\n\nError : MySuperObject is undefined\n</code></pre>\n\n<p>Then you reload the page hitting <kbd>F5</kbd>. And it works! Confusing...</p>\n\n<p><strong>So what to do about it ?</strong></p>\n\n<p>Well, you can use the hack the author suggests in the link I gave you. In summary, for people in a hurry, he uses an event to run a callback function when the script is loaded. So you can put all the code using the remote library in the callback function. For example:</p>\n\n<pre><code>function loadScript(url, callback)\n{\n    // Adding the script tag to the head as suggested before\n    var head = document.getElementsByTagName('head')[0];\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n\n    // Then bind the event to the callback function.\n    // There are several events for cross browser compatibility.\n    script.onreadystatechange = callback;\n    script.onload = callback;\n\n    // Fire the loading\n    head.appendChild(script);\n}\n</code></pre>\n\n<p>Then you write the code you want to use AFTER the script is loaded in a <a href=\"http://en.wikipedia.org/wiki/Anonymous_function\">lambda function</a>:</p>\n\n<pre><code>var myPrettyCode = function() {\n\n   // Here, do what ever you want\n};\n</code></pre>\n\n<p>Then you run all that:</p>\n\n<pre><code>loadScript(\"my_lovely_script.js\", myPrettyCode);\n</code></pre>\n\n<p>Note that the script may execute after the DOM has loaded, or before, depending on the browser and whether you included the line <code>script.async = false;</code>. There's a <a href=\"http://www.html5rocks.com/en/tutorials/speed/script-loading/\">great article on Javascript loading in general</a> which discusses this.</p>\n\n<h3>Source Code Merge</h3>\n\n<p>Another <a href=\"http://stackoverflow.com/q/5511989/59087\">solution</a> is to combine the two files into a single file. This can be used with minification to produce a single, minimally sized JavaScript file to include as normal.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 950146, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I just wrote this JavaScript code (using <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\">Prototype</a> for <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a> manipulation):</p>\n\n<pre><code>var require = (function () {\nvar _required = {};\nreturn (function (url, callback) {\n    if (typeof url == 'object') {\n        // We've (hopefully) got an array: time to chain!\n        if (url.length &gt; 1) {\n            // Load the nth file as soon as everything up to the\n            // n-1th one is done.\n            require(url.slice(0,url.length-1), function () {\n                require(url[url.length-1], callback);\n            });\n        } else if (url.length == 1) {\n            require(url[0], callback);\n        }\n        return;\n    }\n    if (typeof _required[url] == 'undefined') {\n        // Haven't loaded this URL yet; gogogo!\n        _required[url] = [];\n\n        var script = new Element('script', {src:url, type:'text/javascript'});\n        script.observe('load', function () {\n            console.log(\"script \" + url + \" loaded.\");\n            _required[url].each(function (cb) {\n                cb.call(); // TODO: does this execute in the right context?\n            });\n            _required[url] = true;\n        });\n\n        $$('head')[0].insert(script);\n    } else if (typeof _required[url] == 'boolean') {\n        // We already loaded the thing, so go ahead.\n        if (callback) { callback.call(); }\n        return;\n    }\n\n    if (callback) { _required[url].push(callback); }\n});\n})();\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;script src=\"prototype.js\"&gt;&lt;/script&gt;\n&lt;script src=\"require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    require(['foo.js','bar.js'], function () {\n        /* Use foo.js and bar.js here */\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Gist: <a href=\"http://gist.github.com/284442\">http://gist.github.com/284442</a>.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 2122234, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>You can also assemble your scripts using <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a>:</p>\n\n<p>File <code>main.js.php</code>:</p>\n\n<pre><code>&lt;?php\n    header('Content-type:text/javascript; charset=utf-8');\n    include_once(\"foo.js.php\");\n    include_once(\"bar.js.php\");\n?&gt;\n\n// Main JavaScript code goes here\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 4541830, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>There actually <em>is</em> a way to load a JavaScript file <em>not</em> asynchronously, so you could use the functions included in your newly loaded file right after loading it, and I think it works in all browsers.</p>\n\n<p>You need to use <code>jQuery.append()</code> on the <code>&lt;head&gt;</code> element of your page, that is:</p>\n\n<pre><code>$(\"head\").append('&lt;script type=\"text/javascript\" src=\"' + script + '\"&gt;&lt;/script&gt;');\n</code></pre>\n\n<p>However, this method also has a problem: if an error happens in the imported JavaScript file, <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\">Firebug</a> (and also Firefox Error Console and <a href=\"https://developers.google.com/chrome-developer-tools/\">Chrome Developer Tools</a> as well) will report its place incorrectly, which is a big problem if you use Firebug to track JavaScript errors down a lot (I do). Firebug simply doesn't know about the newly loaded file for some reason, so if an error occurs in that file, it reports that it occurred in your main <a href=\"http://en.wikipedia.org/wiki/HTML\">HTML</a> file, and you will have trouble finding out the real reason for the error.</p>\n\n<p>But if that is not a problem for you, then this method should work.</p>\n\n<p>I have actually written a jQuery plugin called <em>$.import_js()</em> which uses this method:</p>\n\n<pre><code>(function($)\n{\n    /*\n     * $.import_js() helper (for JavaScript importing within JavaScript code).\n     */\n    var import_js_imported = [];\n\n    $.extend(true,\n    {\n        import_js : function(script)\n        {\n            var found = false;\n            for (var i = 0; i &lt; import_js_imported.length; i++)\n                if (import_js_imported[i] == script) {\n                    found = true;\n                    break;\n                }\n\n            if (found == false) {\n                $(\"head\").append('&lt;script type=\"text/javascript\" src=\"' + script + '\"&gt;&lt;/script&gt;');\n                import_js_imported.push(script);\n            }\n        }\n    });\n\n})(jQuery);\n</code></pre>\n\n<p>So all you would need to do to import JavaScript is:</p>\n\n<blockquote>\n  <p>$.import_js('/path_to_project/scripts/somefunctions.js');</p>\n</blockquote>\n\n<p>I also made a simple test for this at <a href=\"http://www.kipras.com/dev/import_js_test/\">http://www.kipras.com/dev/import_js_test/</a>.</p>\n\n<p>It includes a <code>main.js</code> file in the main HTML and then the script in <code>main.js</code> uses <code>$.import_js()</code> to import an additional file called <code>included.js</code>, which defines this function:</p>\n\n<pre><code>function hello()\n{\n    alert(\"Hello world!\");\n}\n</code></pre>\n\n<p>And right after including <code>included.js</code>, the hello() function is called, and you get the alert.</p>\n\n<p>(This answer is in response to e-satis' comment).</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 5821038, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Another way, that in my opinion is much cleaner, is to make a synchronous Ajax request instead of using a <code>&lt;script&gt;</code> tag. Which is also how <a href=\"http://en.wikipedia.org/wiki/Node.js\">Node.js</a> handles includes.</p>\n\n<p>Here's an example using jQuery:</p>\n\n<pre><code>function require(script) {\n    $.ajax({\n        url: script,\n        dataType: \"script\",\n        async: false,           // &lt;-- This is the key\n        success: function () {\n            // all good...\n        },\n        error: function () {\n            throw new Error(\"Could not load script \" + script);\n        }\n    });\n}\n</code></pre>\n\n<p>You can then use it in your code as you'd usually use an include:</p>\n\n<pre><code>require(\"/scripts/subscript.js\");\n</code></pre>\n\n<p>And be able to call a function from the required script in the next line:</p>\n\n<pre><code>subscript.doSomethingCool(); \n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 7352694, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I came to this question because I was looking for a simple way to maintain a collection of useful JavaScript plugins. After seeing some of the solutions here, I came up with this:</p>\n\n<p>1) Set up a file called \"plugins.js\" (or extentions.js or what have you). Keep your plugin files together with that one master file.</p>\n\n<p>2) plugins.js will have an array called \"pluginNames[]\" that we will iterate over each(),\nthen append a  tag to the head for each plugin</p>\n\n<pre><code>//set array to be updated when we add or remove plugin files\n var pluginNames = [\"lettering\", \"fittext\", \"butterjam\", etc.];\n//one script tag for each plugin\n $.each(pluginNames, function(){\n   $('head').append('&lt;script src=\"js/plugins/' + this + '.js\"&gt;&lt;/script&gt;');\n });\n</code></pre>\n\n<p>3) manually call just the one file in your head:<br>\n<code>&lt;script src=\"js/plugins/plugins.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>UPDATE: I found that even though all of the plugins were getting dropped into the head tag the way they ought to, they weren't always being run by the browser when you click into the page or refresh.</p>\n\n<p>I found it's more reliable to just write the script tags in a PHP include. You only have to write it once and that's just as much work as calling the plugin using JavaScript.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 8337001, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I have created a function that will allow you to use similar verbiage to C#/Java to include a JavaScript file. I've tested it a little bit even from inside of <em>another</em> JavaScript file and it seems to work. It does require jQuery though for a bit of \"magic\" at the end.</p>\n\n<p>I put this code in a file at the root of my script directory (I named it <code>global.js</code>, but you can use whatever you want. Unless I'm mistaken this and jQuery should be the only required scripts on a given page. Keep in mind this is largely untested beyond some basic usage, so there may or may not be any issues with the way I've done it; use at your own risk yadda yadda I am not responsible if you screw anything up yadda yadda:</p>\n\n<pre><code>/**\n* @fileoverview This file stores global functions that are required by other libraries.\n*/\n\nif (typeof(jQuery) === 'undefined') {\n    throw 'jQuery is required.';\n}\n\n/** Defines the base script directory that all .js files are assumed to be organized under. */\nvar BASE_DIR = 'js/';\n\n/**\n* Loads the specified file, outputting it to the &lt;head&gt; HTMLElement.\n*\n* This method mimics the use of using in C# or import in Java, allowing\n* JavaScript files to \"load\" other JavaScript files that they depend on\n* using a familiar syntax.\n*\n* This method assumes all scripts are under a directory at the root and will\n* append the .js file extension automatically.\n*\n* @param {string} file A file path to load using C#/Java \"dot\" syntax.\n*\n* Example Usage:\n* imports('core.utils.extensions');\n* This will output: &lt;script type=\"text/javascript\" src=\"/js/core/utils/extensions.js\"&gt;&lt;/script&gt;\n*/\nfunction imports(file) {\n    var fileName = file.substr(file.lastIndexOf('.') + 1, file.length);\n\n    // Convert PascalCase name to underscore_separated_name\n    var regex = new RegExp(/([A-Z])/g);\n    if (regex.test(fileName)) {\n        var separated = fileName.replace(regex, \",$1\").replace(',', '');\n        fileName = separated.replace(/[,]/g, '_');\n    }\n\n    // Remove the original JavaScript file name to replace with underscore version\n    file = file.substr(0, file.lastIndexOf('.'));\n\n    // Convert the dot syntax to directory syntax to actually load the file\n    if (file.indexOf('.') &gt; 0) {\n        file = file.replace(/[.]/g, '/');\n    }\n\n    var src = BASE_DIR + file + '/' + fileName.toLowerCase() + '.js';\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = src;\n\n    $('head').find('script:last').append(script);\n}\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 8933531, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>In a past project I had quite a bit of success using <a href=\"http://ajile.net/\" rel=\"nofollow\">ajile</a> to do imports of reusable JavaScript files. I always wished there was a feature for this built into JavaScript itself.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 9552278, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>This is perhaps the biggest weakness of JavaScript in my opinion. It's caused me no end of problems over the years with dependency tracing. Anyhow, it does appear that the only <em>practical</em> solution is to use script includes in the HTML file and thus horribly making your JavaScript code dependent upon the user including the source you need and making reuse unfriendly.</p>\n\n<p>Sorry if this comes across as a lecture ;) It's a (bad) habit of mine, but I want to make this point.</p>\n\n<p>The problem comes back to the same as everything else with the web, the history of JavaScript. It really wasn't designed to be used in the widespread manner it's used in today. <a href=\"http://en.wikipedia.org/wiki/Netscape\" rel=\"nofollow\">Netscape</a> made a language that would allow you to control a few things, but they didn't envisage its widespread use for so many things as it is put to now and for one reason or another it's expanded from there, without addressing some of the fundamental weaknesses of the original strategy.</p>\n\n<p>It's not alone of course. HTML wasn't designed for the modern webpage; it was designed to be a way of expressing the logic of a document, so that readers (browsers in the modern world) could display this in an applicable form that was within the capabilities of the system, and it took years for a solution (other than the hacks of MS and Netscape) to come along. <a href=\"http://en.wikipedia.org/wiki/Cascading_Style_Sheets\" rel=\"nofollow\">CSS</a> solves this problem, but it was a long time coming and even longer to get people to use it rather than the established BAD techniques. It happened though, praise be.</p>\n\n<p>Hopefully JavaScript (especially now it's part of the standard) will develop to take on board the concept of proper modularity (as well as some other things) as every other (extant) programming language in the world does and this stupidity will go away. Until then you just have to not like it and lump it, I'm afraid.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 10735089, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Or rather than including at run time, use a script to concatenate prior to upload.</p>\n\n<p>I use <a href=\"https://github.com/sstephenson/sprockets\" rel=\"nofollow\">Sprockets</a> (I don't know if there are others). You build your JavaScript code in separate files and include comments that are processed by the Sprockets engine as includes. For development you can include files sequentially, then for production to merge them...</p>\n\n<p>See also:</p>\n\n<ul>\n<li><em><a href=\"http://37signals.com/svn/posts/1587-introducing-sprockets-javascript-dependency-management-and-concatenation\" rel=\"nofollow\">Introducing Sprockets: JavaScript dependency management and concatenation</a></em></li>\n</ul>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 10939637, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>If anyone is looking for something more advanced, try out <a href=\"http://requirejs.org/\">RequireJS</a>. You'll get added benefits such as dependency management, better concurrency, and avoid duplication (that is, retrieving a script more than once).</p>\n\n<p>You can write your JavaScript files in \"modules\" and then reference them as dependencies in other scripts. Or you can use RequireJS as a simple \"go get this script\" solution.</p>\n\n<p>Example:</p>\n\n<p>Define dependencies as modules:</p>\n\n<p><strong>some-dependency.js</strong></p>\n\n<pre><code>define(['lib/dependency1', 'lib/dependency2'], function (d1, d2) {\n\n     //Your actual script goes here.   \n     //The dependent scripts will be fetched if necessary.\n\n     return libraryObject;  //For example, jQuery object\n});\n</code></pre>\n\n<p><strong>implementation.js</strong> is your \"main\" JavaScript file that depends on <strong>some-dependency.js</strong></p>\n\n<pre><code>require(['some-dependency'], function(dependency) {\n\n    //Your script goes here\n    //some-dependency.js is fetched.   \n    //Then your script is executed\n});\n</code></pre>\n\n<p>Excerpt from the <a href=\"https://github.com/jrburke/requirejs\">GitHub</a> README:</p>\n\n<blockquote>\n  <p>RequireJS loads plain JavaScript files as well as more defined\n  modules. It is optimized for in-browser use, including in a Web\n  Worker, but it can be used in other JavaScript environments, like\n  Rhino and Node. It implements the Asynchronous Module API.</p>\n  \n  <p>RequireJS uses plain script tags to load modules/files, so it should\n  allow for easy debugging. It can be used simply to load existing\n  JavaScript files, so <strong>you can add it to your existing project without\n  having to re-write your JavaScript files.</strong></p>\n  \n  <p>... </p>\n</blockquote>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 10939737, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>There is a good news for you. Very soon you will be able to load JavaScript code easily. It will become a standard way of importing modules of JavaScript code and will be part of core JavaScript itself. </p>\n\n<p>You simply have to write <code>import cond from 'cond.js';</code> to load a macro named <code>cond</code> from a file <code>cond.js</code>.</p>\n\n<p>So you don't have to rely upon any JavaScript framework nor do you have to explicitly make <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a> calls.</p>\n\n<p>Refer to:</p>\n\n<ul>\n<li><p><em><a href=\"http://calculist.org/blog/2012/06/29/static-module-resolution/\">Static module resolution</a></em></p></li>\n<li><p><em><a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:module_loaders\">Module loaders</a></em></p></li>\n</ul>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 11312069, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<pre><code>var js = document.createElement(\"script\");\n\njs.type = \"text/javascript\";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 12066351, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Better use the <a href=\"http://en.wikipedia.org/wiki/JQuery\" rel=\"nofollow\">jQuery</a> way. To delay the ready event, first call <code>$.holdReady(true)</code>.\nExample (<a href=\"http://jqapi.com/#p=jQuery.holdReady\" rel=\"nofollow\">source</a>):</p>\n\n<pre><code>$.holdReady(true);\n$.getScript(\"myplugin.js\", function() {\n    $.holdReady(false);\n});\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 12125326, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Don't forget to check out <a href=\"http://labjs.com\" rel=\"nofollow\">LAB.js</a>!</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n       $LAB\n       .script(\"jquery-1.8.3.js\").wait()\n       .script(\"scripts/clientscript.js\");      \n&lt;/script&gt;\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 14360209, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Now, I may be totally misguided, but here's what I've recently started doing... \nStart and end your JavaScript files with a carriage return, place in the PHP script, followed by one more carriage return.\nThe JavaScript comment \"//\" is ignored by PHP so the inclusion happens anyway. The purpose for the carriage returns is so that the first line of your included JavaScript isn't commented out.</p>\n\n<p>Technically, you don't need the comment, but it posts errors in <a href=\"http://en.wikipedia.org/wiki/Adobe_Dreamweaver\" rel=\"nofollow\">Dreamweaver</a> that annoy me. If you're scripting in an IDE that doesn't post errors, you shouldn't need the comment or the carriage returns.</p>\n\n<pre><code>\\n\n//&lt;?php require_once(\"path/to/javascript/dependency.js\"); ?&gt;\n\nfunction myFunction(){\n    // stuff\n}\n\\n\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 15275614, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<pre><code>var s=[\"Hscript.js\",\"checkRobert.js\",\"Hscript.js\"];\nfor(i=0;i&lt;s.length;i++){\n  var script=document.createElement(\"script\");\n  script.type=\"text/javascript\";\n  script.src=s[i];\n  document.getElementsByTagName(\"head\")[0].appendChild(script)\n};\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 15322985, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>This should do:</p>\n\n<pre><code>xhr = new XMLHttpRequest();\nxhr.open(\"GET\", \"/soap/ajax/11.0/connection.js\", false);\nxhr.send();\neval(xhr.responseText);\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 15602970, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I wrote a simple module that automates the job of importing/including module scripts in JavaScript. For detailed explanation of the code, refer to the blog post <em><a href=\"http://stamat.wordpress.com/2013/04/12/javascript-require-import-include-modules/\">JavaScript require / import / include modules</a></em>.</p>\n\n<pre><code>// ----- USAGE -----\n\nrequire('ivar.util.string');\nrequire('ivar.net.*');\nrequire('ivar/util/array.js');\nrequire('http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js');\n\nready(function(){\n    //Do something when required scripts are loaded\n});\n\n    //--------------------\n\nvar _rmod = _rmod || {}; //Require module namespace\n_rmod.LOADED = false;\n_rmod.on_ready_fn_stack = [];\n_rmod.libpath = '';\n_rmod.imported = {};\n_rmod.loading = {\n    scripts: {},\n    length: 0\n};\n\n_rmod.findScriptPath = function(script_name) {\n    var script_elems = document.getElementsByTagName('script');\n    for (var i = 0; i &lt; script_elems.length; i++) {\n        if (script_elems[i].src.endsWith(script_name)) {\n            var href = window.location.href;\n            href = href.substring(0, href.lastIndexOf('/'));\n            var url = script_elems[i].src.substring(0, script_elems[i].length - script_name.length);\n            return url.substring(href.length+1, url.length);\n        }\n    }\n    return '';\n};\n\n_rmod.libpath = _rmod.findScriptPath('script.js'); //Path of your main script used to mark\n                                                   //the root directory of your library, any library.\n\n\n_rmod.injectScript = function(script_name, uri, callback, prepare) {\n\n    if(!prepare)\n        prepare(script_name, uri);\n\n    var script_elem = document.createElement('script');\n    script_elem.type = 'text/javascript';\n    script_elem.title = script_name;\n    script_elem.src = uri;\n    script_elem.async = true;\n    script_elem.defer = false;\n\n    if(!callback)\n        script_elem.onload = function() {\n            callback(script_name, uri);\n        };\n    document.getElementsByTagName('head')[0].appendChild(script_elem);\n};\n\n_rmod.requirePrepare = function(script_name, uri) {\n    _rmod.loading.scripts[script_name] = uri;\n    _rmod.loading.length++;\n};\n\n_rmod.requireCallback = function(script_name, uri) {\n    _rmod.loading.length--;\n    delete _rmod.loading.scripts[script_name];\n    _rmod.imported[script_name] = uri;\n\n    if(_rmod.loading.length == 0)\n        _rmod.onReady();\n};\n\n_rmod.onReady = function() {\n    if (!_rmod.LOADED) {\n        for (var i = 0; i &lt; _rmod.on_ready_fn_stack.length; i++){\n            _rmod.on_ready_fn_stack[i]();\n        });\n        _rmod.LOADED = true;\n    }\n};\n\n_.rmod = namespaceToUri = function(script_name, url) {\n    var np = script_name.split('.');\n    if (np.getLast() === '*') {\n        np.pop();\n        np.push('_all');\n    }\n\n    if(!url)\n        url = '';\n\n    script_name = np.join('.');\n    return  url + np.join('/')+'.js';\n};\n\n//You can rename based on your liking. I chose require, but it\n//can be called include or anything else that is easy for you\n//to remember or write, except \"import\", because it is reserved\n//for future use.\nvar require = function(script_name) {\n    var uri = '';\n    if (script_name.indexOf('/') &gt; -1) {\n        uri = script_name;\n        var lastSlash = uri.lastIndexOf('/');\n        script_name = uri.substring(lastSlash+1, uri.length);\n    } \n    else {\n        uri = _rmod.namespaceToUri(script_name, ivar._private.libpath);\n    }\n\n    if (!_rmod.loading.scripts.hasOwnProperty(script_name)\n     &amp;&amp; !_rmod.imported.hasOwnProperty(script_name)) {\n        _rmod.injectScript(script_name, uri,\n            _rmod.requireCallback,\n                _rmod.requirePrepare);\n    }\n};\n\nvar ready = function(fn) {\n    _rmod.on_ready_fn_stack.push(fn);\n};\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 15976557, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I did:</p>\n\n<pre><code>var require = function (src, cb) {\n    cb = cb || function () {};\n\n    var newScriptTag = document.createElement('script'),\n        firstScriptTag = document.getElementsByTagName('script')[0];\n    newScriptTag.src = src;\n    newScriptTag.async = true;\n    console.log(newScriptTag)\n    newScriptTag.onload = newScriptTag.onreadystatechange = function () {\n        (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete') &amp;&amp; (cb());\n    };\n    firstScriptTag.parentNode.insertBefore(newScriptTag, firstScriptTag);\n}\n</code></pre>\n\n<p>It works great and uses no page-reloads for me. I tried that Ajax thing, but it doesn't really work.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 16864566, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Most of solutions shown here imply dynamical loading. I was searching instead for a compiler which assemble all the depended files into a single output file. The same as <a href=\"http://en.wikipedia.org/wiki/Less_%28stylesheet_language%29\">Less</a>/<a href=\"http://en.wikipedia.org/wiki/Sass_%28stylesheet_language%29\">Sass</a> preprocessors deal with the CSS <code>@import</code> at-rule. Since I didn't find anything decent of this sort, I wrote a simple tool solving the issue.</p>\n\n<p>So here is the compiler, <a href=\"https://github.com/dsheiko/jsic\">https://github.com/dsheiko/jsic</a>, which replaces <code>$import(\"file-path\")</code> with the requested file content securely. Here is the corresponding <a href=\"http://gruntjs.com/\">Grunt</a> plugin: <a href=\"https://github.com/dsheiko/grunt-jsic\">https://github.com/dsheiko/grunt-jsic</a>.</p>\n\n<p>On the jQuery master branch, they simply concatenate atomic source files into a single one starting with <code>intro.js</code> and ending with <code>outtro.js</code>. That doesn't suits me as it provides no flexibility on the source code design. Check out how it works with jsic:</p>\n\n<p><em>src/main.js</em></p>\n\n<pre><code>var foo = $import(\"./Form/Input/Tel\");\n</code></pre>\n\n<p><em>src/Form/Input/Tel.js</em></p>\n\n<pre><code>function() {\n    return {\n          prop: \"\",\n          method: function(){}\n    }\n}\n</code></pre>\n\n<p>Now we can run the compiler:</p>\n\n<pre><code>node jsic.js src/main.js build/mail.js\n</code></pre>\n\n<p>And get the combined file</p>\n\n<p><em>build/main.js</em></p>\n\n<pre><code>var foo = function() {\n    return {\n          prop: \"\",\n          method: function(){}\n    }\n};\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 17634471, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<pre><code>function include(js)\n{\n    document.writeln(\"&lt;script src=\" + js + \"&gt;&lt;\" + \"/script&gt;\");\n}\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 19260122, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>This script will add a JavaScript file to the top of any other <code>&lt;script&gt;</code> tag:</p>\n\n<pre><code>(function () {\n    var li = document.createElement('script'); \n    li.type = 'text/javascript'; \n    li.src= \"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"; \n    li.async=true; \n    var s = document.getElementsByTagName('script')[0]; \n    s.parentNode.insertBefore(li, s);\n})();\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 19602549, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I also wrote a JavaScript dependency manager for Java web applications: <a href=\"http://damonsmith.github.io/js-class-loader/\" rel=\"nofollow\">JS-Class-Loader</a>.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 19718827, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Here is a <a href=\"http://gruntjs.com/\" rel=\"nofollow\">Grunt</a> plugin allowing you to use <code>@import \"path/to/file.js\";</code> syntax in any file including JavaScript files. It can be paired with uglify or watch or any other plugin.</p>\n\n<p>It can be installed with npm install: <a href=\"https://npmjs.org/package/grunt-import\" rel=\"nofollow\">https://npmjs.org/package/grunt-import</a></p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 19818854, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>If you want in pure JavaScript, you can use document.write.</p>\n\n<pre><code>document.write('&lt;script src=\"myscript.js\" type=\"text/javascript\"&gt;&lt;/script&gt;');\n</code></pre>\n\n<p>If you use the jQuery library, you can use the $.getScript method.</p>\n\n<pre><code>$.getScript(\"another_script.js\");\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 19949820, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>There is also <a href=\"http://headjs.com/\" rel=\"nofollow\">Head.js</a>. It is very easy to deal with:</p>\n\n<pre><code>head.load(\"js/jquery.min.js\",\n          \"js/jquery.someplugin.js\",\n          \"js/jquery.someplugin.css\", function() {\n  alert(\"Everything is ok!\");\n});\n</code></pre>\n\n<p>As you see, it's easier than Require.js and as convenient as jQuery's <code>$.getScript</code> method. It also has some advanced features, like conditional loading, feature detection and <a href=\"http://headjs.com/site/api/v1.00.html\" rel=\"nofollow\">much more</a>.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 20152162, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Here is a <strong>synchronous</strong> version <strong>without jQuery</strong>:</p>\n\n<pre><code>function myRequire( url ) {\n    var ajax = new XMLHttpRequest();\n    ajax.open( 'GET', url, false ); // &lt;-- the 'false' makes it synchronous\n    ajax.onreadystatechange = function () {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4) {\n            switch( ajax.status) {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(\"script loaded: \", url);\n                    break;\n                default:\n                    console.log(\"ERROR: script not loaded: \", url);\n            }\n        }\n    };\n    ajax.send(null);\n}\n</code></pre>\n\n<p>Note that to get this working cross-domain, the server will need to set <code>allow-origin</code> header in its response.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 20518446, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>The <code>@import</code> syntax for achieving CSS-like JavaScript importing is possible using a tool such as Mixture via their special <code>.mix</code> file type (see <a href=\"http://docs.mixture.io/preprocessors#mix\" rel=\"nofollow\">here</a>). I imagine the application simply uses one of the aforementioned methods \"under the hood,\" though I don't know. </p>\n\n<p>From the Mixture documentation on <code>.mix</code> files: </p>\n\n<blockquote>\n  <p>Mix files are simply .js or .css files with .mix. in the file name. A\n  mix file simply     extends the functionality of a normal style or\n  script file and allows you to import and combine.</p>\n</blockquote>\n\n<p>Here's an example <code>.mix</code> file that combines multiple <code>.js</code> files into one:</p>\n\n<pre><code>// scripts-global.mix.js\n// Plugins - Global\n\n@import \"global-plugins/headroom.js\";\n@import \"global-plugins/retina-1.1.0.js\";\n@import \"global-plugins/isotope.js\";\n@import \"global-plugins/jquery.fitvids.js\";\n</code></pre>\n\n<p>Mixture outputs this as <code>scripts-global.js</code> and also as a minified version (<code>scripts-global.min.js</code>).</p>\n\n<p>Note: I'm not in any way affiliated with Mixture, other than using it as a front-end development tool. I came across this question upon seeing a <code>.mix</code> JavaScript file in action (in one of the Mixture boilerplates) and being a bit confused by it (\"you can do this?\" I thought to myself). Then I realized that it was an application-specific file type (somewhat disappointing, agreed). Nevertheless, figured the knowledge might be helpful for others.</p>\n\n<p><strong>UPDATE</strong>: Mixture is <a href=\"http://mixture.io/blog/free/\" rel=\"nofollow\">now free</a>. </p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 22396258, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>In case you are <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/basic_usage\" rel=\"nofollow\">using Web Workers</a> and want to include additional scripts in the scope of the worker, the other answers provided about adding scripts to the <code>head</code> tag etc will not work for you.</p>\n\n<p>Fortunately, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/basic_usage#Importing_scripts_and_libraries\" rel=\"nofollow\">Web Workers have their own <code>importScripts</code> function</a> which is a global function in the scope of the Web Worker, native to the browser itself as it <a href=\"https://html.spec.whatwg.org/multipage/workers.html#importing-scripts-and-libraries\" rel=\"nofollow\">is part of the spec</a>.</p>\n\n<p>Alternatively, <a href=\"http://stackoverflow.com/a/10939737/1676444\">as the second highest voted answer to your question highlights</a>, RequireJS can also handle including scripts inside a Web Worker (likely calling <code>importScripts</code> itself but with a few other useful features).</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 27729485, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>There are a lot of potential answers for this questions. My answer is obviously based on a number of them. Thank you for all the help. This is what I ended up with after reading through all the answers.</p>\n\n<p>The problem with $.getScript and really any other solution that requires a callback when loading is complete is that if you have multiple files that use it and depend on each other you no longer have a way to know when all scripts have been loaded. (Once they are nested in multiple files.)</p>\n\n<p>ex:</p>\n\n<p>file3.js</p>\n\n<pre><code>var f3obj = \"file3\";\n//define other stuff\n</code></pre>\n\n<p>file2.js:</p>\n\n<pre><code>var f2obj = \"file2\";\n$.getScript(\"file3.js\", function(){\n\n   alert(f3obj);\n\n   // use anything defined in file3.\n});\n</code></pre>\n\n<p>file1.js:</p>\n\n<pre><code>$.getScript(\"file2.js\", function(){\n   alert(f3obj); //This will probably fail because file3 is only guaranteed to have loaded inside the callback in file2.\n   alert(f2obj); \n\n\n   // Use anything defined in the loaded script...\n});\n</code></pre>\n\n<p>You are right when you say that you could specify ajax to run synchronously or use XMLHttpRequest, but the current trend appears to be to deprecate synchronous requests, so you may not get full browser support now or in the future. </p>\n\n<p>You could try to use $.when to check an array of deferred objects, but now you are doing this in every file and file2 will be considered loaded as soon as the $.when is executed not when the callback is executed so file1 still continues execution before file3 is loaded. This really still has the same problem.</p>\n\n<p>I decided to go backwards instead of forwards. Thank you document.writeln. I know its taboo, but as long as it is used correctly this works well. You end up with code that can be debugged easily, shows in the DOM correctly and can ensure the order the dependencies are loaded correctly.</p>\n\n<p>You can of course use $(\"body\").append(), but then you can no longer debug correctly anymore.</p>\n\n<p>NOTE: you must use this only while the page is loading, otherwise you get a blank screen. In other words, <strong>always place this before / outside of document.ready</strong>. I have not tested using this after the page is loaded in a click event or anything like that, but pretty sure it'll fail.</p>\n\n<p>I liked the idea of extending JQuery, but obviously you don't need to.</p>\n\n<p>Before calling document.writeln, it checks to make sure the script has not already been loading by evaluating all the script elements.</p>\n\n<p>I assume that a script is not fully executed until its document.ready event has been executed. (I know using document.ready is not required, but many people use it, handling this is a safeguard.)</p>\n\n<p>When the additional files are loaded the document.ready callbacks will get executed in the wrong order. To address this when a script is actually loaded, the script that imported it is re-imported itself and execution halted. This causes the originating file to now have it's document.ready callback executed after any from any scripts that it imports.</p>\n\n<p>Instead of this approach you could attempt to modify the JQuery readyList but this seemed like a worse solution.</p>\n\n<p>solution:</p>\n\n<pre><code>$.extend(true,\n{\n    import_js : function(scriptpath, reAddLast)\n    {\n        if (typeof reAddLast === \"undefined\" || reAddLast === null) \n        { \n            reAddLast = true; // default this value to true. It is not used by the end user, only to facilitate recursion correctly.\n        }\n\n        var found = false;\n        if (reAddLast == true) // If we are re-adding the originating script we do not care if it has already been added.\n        {\n            found = $('script').filter(function () {\n                return ($(this).attr('src') == scriptpath);\n            }).length != 0; //JQuery to check if the script already exists. (replace it with straight js if you don't like JQuery.\n        }\n\n        if (found == false) {\n\n            var callingScriptPath = $('script').last().attr(\"src\"); //Get the script that is currently loading. Again This creates a limitation where this should not be used in a button, and only before document.ready.\n\n            document.writeln(\"&lt;script type='text/javascript' src='\" + scriptpath + \"'&gt;&lt;/script&gt;\"); //Add the script to the document using writeln\n\n\n            if (reAddLast)\n            {\n                $.import_js(callingScriptPath, false); // call itself with the originating script to fix the order.\n                throw 'readding script to correct order: ' + scriptpath + ' &lt; ' + callingScriptPath; // this halts execution of the originating script since it is getting reloaded. if you put a try / catch around the call to $.import_js you results will vary.\n            }\n\n\n\n            return true;\n        }\n        return false;\n    }\n});\n</code></pre>\n\n<p>usage:</p>\n\n<p>file3:</p>\n\n<pre><code>var f3obj = \"file3\";\n//define other stuff\n$(function(){\n   f3obj = \"file3docready\"; \n});\n</code></pre>\n\n<p>file2:</p>\n\n<pre><code>$.import_js('js/file3.js');\nvar f2obj = \"file2\";\n$(function(){\n   f2obj = \"file2docready\";  \n});\n</code></pre>\n\n<p>file1:</p>\n\n<pre><code>$.import_js('js/file2.js');\n\n//use objects from file2 or file3\nalert(f3obj); // \"file3\"\nalert(f2obj); // \"file2\"\n\n$(function(){\n    //use objects from file2 or file3 some more.\n   alert(f3obj); //\"file3docready\"\n   alert(f2obj); //\"file2docready\"\n});\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 27891634, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Keep it nice, short, simple, and maintainable! :]</p>\n\n<pre><code>// 3rd party plugins / script (don't forget the full path is necessary)\nvar FULL_PATH = '', s =\n[\n    FULL_PATH + 'plugins/script.js'      // Script example\n    FULL_PATH + 'plugins/jquery.1.2.js', // jQuery Library \n    FULL_PATH + 'plugins/crypto-js/hmac-sha1.js',      // CryptoJS\n    FULL_PATH + 'plugins/crypto-js/enc-base64-min.js'  // CryptoJS\n];\n\nfunction load(url)\n{\n    var ajax = new XMLHttpRequest();\n    ajax.open('GET', url, false);\n    ajax.onreadystatechange = function ()\n    {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4)\n        {\n            switch(ajax.status)\n            {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(\"library loaded: \", url);\n                    break;\n                default:\n                    console.log(\"ERROR: library not loaded: \", url);\n            }\n        }\n    };\n    ajax.send(null);\n}\n\n // initialize a single load \nload('plugins/script.js');\n\n// initialize a full load of scripts\nif (s.length &gt; 0)\n{\n    for (i = 0; i &lt; s.length; i++)\n    {\n        load(s[i]);\n    }\n}\n</code></pre>\n\n<p>This code is simply a short functional example that <em>could</em> require additional feature functionality for full support on any (or given) platform.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 28389515, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\">import is in ECMAScript 6</a></p>\n\n<p>Syntax</p>\n\n<pre><code>import name from \"module-name\";\nimport { member } from \"module-name\";\nimport { member as alias } from \"module-name\";\nimport { member1 , member2 } from \"module-name\";\nimport { member1 , member2 as alias2 , [...] } from \"module-name\";\nimport name , { member [ , [...] ] } from \"module-name\";\nimport \"module-name\" as name;\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 29688912, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>Here's the generalized version of how Facebook does it for their ubiquitous Like button:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\n  var firstScript = document.getElementsByTagName('script')[0],\r\n      js = document.createElement('script');\r\n  js.src = 'https://cdnjs.cloudflare.com/ajax/libs/Snowstorm/20131208/snowstorm-min.js';\r\n  js.onload = function () {\r\n    // do stuff with your dynamically loaded script\r\n    snowStorm.snowColor = '#99ccff';\r\n  };\r\n  firstScript.parentNode.insertBefore(js, firstScript);\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If it works for Facebook, it will work for you.</p>\n\n<p>The reason why we look for the first <code>script</code> element instead of <code>head</code> or <code>body</code> is because some browsers don't create one if missing, but we're guaranteed to have a <code>script</code> element - this one. Read more at <a href=\"http://www.jspatterns.com/the-ridiculous-case-of-adding-a-script-element/\">http://www.jspatterns.com/the-ridiculous-case-of-adding-a-script-element/</a>.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 31282622, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I had a simple issue, but baffled by responses to this question.</p>\n\n<p>I had to use a variable (myVar1) defined in one JS file (myvariables.js) in another JS file (main.js).</p>\n\n<p>For this I did as below:<br>\nLoaded the JS in the HTML file, in the correct order, myvariables.js first, then main.js</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body onload=\"bodyReady();\" &gt;\n\n        &lt;script src=\"myvariables.js\" &gt; &lt;/script&gt;\n        &lt;script src=\"main.js\" &gt; &lt;/script&gt;\n\n        &lt;!-- some other code --&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>File: myvariables.js</p>\n\n<pre><code>var myVar1 = \"I am variable from myvariables.js\";\n</code></pre>\n\n<p>File: main.js</p>\n\n<pre><code>// ...\nfunction bodyReady() {\n    // ...\n    alert (myVar1);    // this shows \"I am variable from myvariables.js\", which I needed\n    // ...\n}\n// ...\n</code></pre>\n\n<p>As you saw, I had use variable in one JS file in another JS file<br>\nbut I din't need to include one in another<br>\nI just needed to ensure that 1st JS file loaded before 2nd JS file,<br>\nand, 1st JS file's variables are accessible in 2nd JS file, automatically.</p>\n\n<p>This saved my day. Hope this helps.</p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 31552759, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>If your intention to load js file is that <strong>using the functions from the imported/included file</strong>, you can also define a global object and set the functions as object item. For instance:</p>\n\n<p><strong>global.js</strong></p>\n\n<pre><code>A = {};\n</code></pre>\n\n<p><strong>file1.js</strong></p>\n\n<pre><code>A.func1 = function() {\n  console.log(\"func1\");\n}\n</code></pre>\n\n<p><strong>file2.js</strong></p>\n\n<pre><code>A.func2 = function() {\n  console.log(\"func2\");\n}\n</code></pre>\n\n<p><strong>main.js</strong></p>\n\n<pre><code>A.func1();\nA.func2();\n</code></pre>\n\n<p>You just need to be careful when you are including scripts in html file, the order should be as in below:</p>\n\n<pre><code>&lt;head&gt;\n  &lt;script type=\"text/javascript\" src=\"global.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"file1.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"file2.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\" src=\"main.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 31604044, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I basically do like this, create new element and attach that to head.</p>\n\n<pre><code>var x = document.createElement('script');\nx.src = 'http://example.com/test.js';\ndocument.getElementsByTagName(\"head\")[0].appendChild(x);\n</code></pre>\n\n<p>in jquery:</p>\n\n<pre><code>// jQuery\n$.getScript('/path/to/imported/script.js', function()\n{\n    // script is now loaded and executed.\n    // put your dependent JS here.\n});\n</code></pre>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 37425858, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>I have the requirement to load async an array of javascripts and at the final make a callback. Basically my best approach is the following:</p>\n\n<pre><code>// Load a JavaScript from other Javascript\nfunction loadScript(urlPack, callback) {\n    var url = urlPack.shift();\n    var subCallback;\n\n    if (urlPack.length == 0) subCallback = callback;\n    else subCallback = function () {\n        console.log(\"Log script: \" + new Date().getTime());\n        loadScript(urlPack, callback);\n    }\n\n    // Adding the script tag to the head as suggested before\n    var head = document.getElementsByTagName('head')[0];\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n\n    // Then bind the event to the callback function.\n    // There are several events for cross browser compatibility.\n    script.onreadystatechange = subCallback;\n    script.onload = subCallback;\n\n    // Fire the loading\n    head.appendChild(script);\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>loadScript(\n[\n    \"js/DataTable/jquery.dataTables.js\",\n    \"js/DataTable/dataTables.bootstrap.js\",\n    \"js/DataTable/dataTables.buttons.min.js\",\n    \"js/DataTable/dataTables.colReorder.min.js\",\n    \"js/DataTable/dataTables.fixedHeader.min.js\",\n    \"js/DataTable/buttons.bootstrap.min.js\",\n    \"js/DataTable/buttons.colVis.min.js\",\n    \"js/DataTable/buttons.html5.min.js\"\n], function() { gpLoad(params); });\n</code></pre>\n\n<p>The second script don't will load until the first is completely loaded, and so...</p>\n\n<p>Results:</p>\n\n<p><a href=\"http://i.stack.imgur.com/6Y3vU.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/6Y3vU.png\" alt=\"Result\"></a></p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 38817619, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}, {"body": "<p>You can't import, but you can reference.</p>\n\n<p>PhpShtorm IDE. To reference, in one <code>.js</code> file to another <code>.js</code>, just add this to the top of the file:</p>\n\n<pre><code>&lt;reference path=\"../js/file.js\" /&gt;\n</code></pre>\n\n<p>Of course, you should use you own PATH to JS file.</p>\n\n<p>I don`t now will it work at others IDE. Probably yes, just try. It should work in Visual Studio too. </p>\n", "title": "How to include a JavaScript file in another JavaScript file?", "answer_id": 38916704, "question_id": 950087, "tags": ["javascript", "file", "import", "include"]}], "question_id": 950087}, {"body": "<p>I need to check the <code>checked</code> property of a checkbox and perform an action based on the checked property using jQuery.</p>\n\n<p>For example, if the age checkbox is checked, then I need to show a textbox to enter age, else hide the textbox.</p>\n\n<p>But the following code returns <code>false</code> by default:</p>\n\n<pre><code>if($('#isAgeSelected').attr('checked')) {\n    $(\"#txtAge\").show();\n} else {\n    $(\"#txtAge\").hide();\n}\n</code></pre>\n\n<p>How do I successfully query the <code>checked</code> property?</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "tags": ["javascript", "jquery", "checkbox"], "answer_count": 54, "link": "http://stackoverflow.com/questions/901712/how-to-check-if-a-checkbox-is-checked-in-jquery", "answers": [{"body": "<blockquote>\n  <p>How do I successfully query the checked property?</p>\n</blockquote>\n\n<p>The <code>checked</code> property of a checkbox DOM element will give you the <code>checked</code> state of the element.</p>\n\n<p>Given your existing code, you could therefore do this:</p>\n\n<pre><code>if(document.getElementById('isAgeSelected').checked) {\n    $(\"#txtAge\").show();\n} else {\n    $(\"#txtAge\").hide();\n}\n</code></pre>\n\n<p>However, there's a much prettier way to do this, using <a href=\"http://api.jquery.com/toggle/\"><code>toggle</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#isAgeSelected').click(function() {\r\n    $(\"#txtAge\").toggle(this.checked);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"checkbox\" id=\"isAgeSelected\"/&gt;\r\n&lt;div id=\"txtAge\" style=\"display:none\"&gt;Age is something&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 901727, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I believe you could do this:</p>\n\n<pre><code>if ($('#isAgeSelected :checked').size() &gt; 0)\n{\n    $(\"#txtAge\").show(); \n} else { \n    $(\"#txtAge\").hide();\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 901753, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>This worked for me:</p>\n\n<pre><code>$get(\"isAgeSelected \").checked == true\n</code></pre>\n\n<p>Where <code>isAgeSelected</code> is the id of the control.</p>\n\n<p>Also, @karim79's <a href=\"http://stackoverflow.com/questions/901712/check-checkbox-checked-property-using-jquery/901727#901727\">answer</a> works fine. I am not sure what I missed at the time I tested it.</p>\n\n<p><strong>Note, this is answer uses Microsoft Ajax, not jQuery</strong></p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 903152, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I am using this and this is working absolutely fine:</p>\n\n<pre><code>$(\"#checkkBoxId\").attr(\"checked\") ? alert(\"Checked\") : alert(\"Unchecked\");\n</code></pre>\n\n<p>Note: If the checkbox is checked it will return true otherwise undefined, so better check for the \"TRUE\" value.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 3522343, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I was having the same problem and none of the posted solutions seemed to work and then I found out that it's because ASP.NET renders the CheckBox control as a SPAN with INPUT inside, so the CheckBox ID is actually an ID of a SPAN, not an INPUT, so you should use:</p>\n\n<pre><code>$('#isAgeSelected input')\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>$('#isAgeSelected')\n</code></pre>\n\n<p>and then all methods listed above should work.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 4399440, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I ran in to the exact same issue. I have an ASP.NET checkbox</p>\n\n<pre><code>&lt;asp:CheckBox ID=\"chkBox1\" CssClass='cssChkBox1' runat=\"server\" /&gt;\n</code></pre>\n\n<p>In the jQuery code I used the following selector to check if the checkbox was checked or not, and it seems to work like a charm.</p>\n\n<pre><code>if ($(\"'.cssChkBox1 input[type=checkbox]'\").is(':checked'))\n{ ... } else { ... }\n</code></pre>\n\n<p>I'm sure you can also use the ID instead of the CssClass,</p>\n\n<pre><code>if ($(\"'#cssChkBox1 input[type=checkbox]'\").is(':checked'))\n{ ... } else { ... }\n</code></pre>\n\n<p>I hope this helps you.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 4464316, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>this works for me,</p>\n\n<pre><code>/* isAgeSelected being id for checkbox */\n\n$(\"#isAgeSelected\").click(function(){\n  $(this).is(':checked') ? $(\"#txtAge\").show() : $(\"#txtAge\").hide();\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 4614440, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Here's an example that includes <strong>initialising</strong> the show/hide to match the state of the checkbox when the <strong>page loads</strong>; taking account of the fact that firefox <em>remembers the state of checkboxes</em> when you refresh the page, but <em>won't</em> remember the state of the shown/hidden elements.</p>\n\n<pre><code>$(function() {\n    // initialise visibility when page is loaded\n    $('tr.invoiceItemRow').toggle($('#showInvoiceItems').attr('checked'));\n    // attach click handler to checkbox\n    $('#showInvoiceItems').click(function(){ $('tr.invoiceItemRow').toggle(this.checked);})\n});\n</code></pre>\n\n<p>(with help from other answers on this question)</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 5956771, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Use jQuery's <a href=\"http://api.jquery.com/is/\">is()</a> function:</p>\n\n<pre><code>if($(\"#isAgeSelected\").is(':checked'))\n    $(\"#txtAge\").show();  // checked\nelse\n    $(\"#txtAge\").hide();  // unchecked\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 6438222, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Using jQuery > 1.6 </p>\n\n<pre><code>&lt;input type=\"checkbox\" value=\"1\" name=\"checkMeOut\" id=\"checkMeOut\" checked=\"checked\" /&gt;\n\n// traditional attr\n$('#checkMeOut').attr('checked'); // \"checked\"\n// new property method\n$('#checkMeOut').prop('checked'); // true\n</code></pre>\n\n<p>Using the new property method:</p>\n\n<pre><code>if($('#checkMeOut').prop('checked')) {\n    // something when checked\n} else {\n    // something else when not\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 6458172, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Using the <code>Click</code> event handler for the checkbox property is unreliable, as the <code>checked</code> property can change during the execution of the event handler itself! Ideally, you'd want to put your code into a <code>change</code> event handler such as it is fired every time the value of the check box is changed(independent of <em>how</em> it's done so).</p>\n\n<pre><code>$('#isAgeSelected').bind('change', function () {\n\n   if ($(this).is(':checked'))\n     $(\"#txtAge\").show();\n   else\n     $(\"#txtAge\").hide();\n\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 7669423, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>My way of doing this is:</p>\n\n<pre><code>if ( $(\"#checkbox:checked\").length ) {       \n    alert(\"checkbox is checked\");\n} else {\n    alert(\"checkbox is not checked\");\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 9161683, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I verified in Firefox 9.0.1 that the following works for catching the state of a checkbox post change:</p>\n\n<pre><code>$(\"#mycheckbox\").change(function() {\n    var value = $(this).prop(\"checked\") ? 'true' : 'false';                     \n    alert(value);\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 9181943, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>$(selector).attr('checked') !== undefined\n</code></pre>\n\n<p>This returns <code>true</code> if the input is checked and <code>false</code> if it is not.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 9249884, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I decided to post an answer on how to do that exact same thing without jQuery. Just because I'm a rebel.</p>\n\n<pre><code>var ageCheckbox = document.getElementById('isAgeSelected');\nvar ageInput = document.getElementById('txtAge');\n\n// Just because of IE &lt;333\nageCheckbox.onchange = function() {\n    // Check if the checkbox is checked, and show/hide the text field.\n    ageInput.hidden = this.checked ? false : true;\n};\n</code></pre>\n\n<p>First you get both elements by their ID. Then you assign the checkboxe's <code>onchange</code> event a function that checks whether the checkbox got checked and sets the <code>hidden</code> property of the age text field appropriately. In that example using the ternary operator.</p>\n\n<p>Here is a <a href=\"http://jsfiddle.net/mainerror/cjSkC/\">fiddle</a> for you to test it.</p>\n\n<p><strong>Addendum</strong></p>\n\n<p>If cross-browser compatibility is an issue then I propose to set the CSS <code>display</code> property to <em>none</em> and <em>inline</em>.</p>\n\n<pre><code>elem.style.display = this.checked ? 'inline' : 'none';\n</code></pre>\n\n<p>Slower but cross-browser compatible.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 9793452, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Since jQuery 1.6, The behavior of <a href=\"http://api.jquery.com/attr/\"><code>jQuery.attr()</code></a> has changed and users are encouraged  not to use it to retrieve an element's checked state. Instead, you should use <a href=\"http://api.jquery.com/prop/\"><code>jQuery.prop()</code></a>:</p>\n\n<pre><code>$(\"#txtAge\").toggle(\n    $(\"#isAgeSelected\").prop(\"checked\") // for checked attribute it returns true/false;\n                                        // return value changes with checkbox state\n);                           \n</code></pre>\n\n<p>Two other possibilities are:</p>\n\n<pre><code>$(\"#txtAge\").get(0).checked\n$(\"#txtAge\").is(\":checked\")\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 10350149, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Top answer didn't do it for me, this did though:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n\n    $(\"#li_13\").click(function(){\n        if($(\"#agree\").attr('checked')){\n            $(\"#saveForm\").fadeIn();\n        }\n\n        else\n        {\n            $(\"#saveForm\").fadeOut();\n        }\n    });\n    });\n\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>UPDATE 20121213:</strong> Basically when the element #li_13 is clicked, it checks if the element #agree (which is the checkbox) is checked by using the .attr('checked') function, if it is then fadeIn the #saveForm element, and if not fadeOut the saveForm element.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 13795253, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>if( undefined == $('#isAgeSelected').attr('checked') ) {\n    $(\"#txtAge\").hide();\n} else {\n    $(\"#txtAge\").show();\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 14400148, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>if( undefined == $('#isAgeSelected').attr('checked') ) {\n    $(\"#txtAge\").hide();\n} else {\n    $(\"#txtAge\").show();\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 14436080, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>$(this).toggle($(\"input:checkbox\", $(this))[0].checked);\n</code></pre>\n\n<p>When you are selecting out of context, remember you need the [0] to access the checkbox</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 14484742, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>This was my workaround</p>\n\n<pre><code>$('#vcGoButton').click(function (){\n    var buttonStatus=$('#vcChangeLocation').prop('checked');\n    console.log(\"status is \" + buttonStatus);\n    if(buttonStatus){\n        var address=$('#vcNewLocation').val();\n        var cabNumber=$('#vcVehicleNumber').val();\n        $.get('postCabLocation.php',\n            {address: address, cabNumber: cabNumber},\n            function(data) {\n                console.log(\"changed vehicle \" + cabNumber + \" location to \" + address );\n            });\n        }else{\n            console.log(\"vc go button clicked but no location action\");\n        }\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 15059200, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Include jQuery from local file system. I used Google CDN there are also many CDNs to choose.</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The code will execute as soon as checkbox inside <code>mycheck</code> class is clicked. If the current clicked checkbox is checked then it will disable all other and enable the current one. If current one is unchecked, it will again enable all checkboxes for re checking.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n\n    var checkbox_selector = '.mycheck input[type=checkbox]';\n\n    $(checkbox_selector).click(function() {\n        if ($($(this)).is(':checked')) {\n            // disable all checkbox\n            $(checkbox_selector).attr('disabled', 'disabled');\n            // enable current one\n            $($(this)).removeAttr('disabled');\n        } else {\n            // if unchecked open all checkbox\n            $(checkbox_selector).removeAttr('disabled');\n        }\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Simple form to test</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;\n    &lt;div class=\"mycheck\"&gt;\n        &lt;input type=\"checkbox\" value=\"1\" /&gt; Television \n        &lt;input type=\"checkbox\" value=\"2\" /&gt; Computer \n        &lt;input type=\"checkbox\" value=\"3\" /&gt; Laptop \n        &lt;input type=\"checkbox\" value=\"4\" /&gt; Camera \n        &lt;input type=\"checkbox\" value=\"5\" /&gt; Music Systems \n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Output Screen</p>\n\n<p><img src=\"http://i.stack.imgur.com/SM7V9.png\" alt=\"enter image description here\"></p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 15171167, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>if($(\"#checkkBoxId\").is(':checked')){\n  alert(\"Checked=true\");\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if($(\"#checkkBoxId\").attr('checked') == true){\n  alert(\"checked=true\");\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 17024762, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>forgive me if there are previous posted versions of this above but I wanted to post the a minimal amount of code I think needed to do something like this effectively.  I found this method to be useful, it returns an array of the check boxes that are checked and then you can use their value.  (This solution uses jQuery)</p>\n\n<pre><code> //this is how you get them  \n    var output = \"\";\n    var checkedBoxes = $(\"DivCheckBoxesAreIn\").children(\"input:checked\");\n                        if(checkedBoxes.length &lt;= 0) {\n                            alert('Please select check boxes');\n                            return false;\n                        };\n //and how is how you use them\n                        checkedBoxes.each(function() {\n                            output +=  this.value + \", \";\n                        };\n</code></pre>\n\n<p>printing \"output\" will give you a comma separated list of your values</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 17658411, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>If you are using an updated version of jquery, you must go for <code>.prop</code> method to resolve your issue:</p>\n\n<p><code>$('#isAgeSelected').prop('checked')</code> will return <code>true</code> if checked and <code>false</code> if unchecked. I confirmed it and I came across this issue earlier. <code>$('#isAgeSelected').attr('checked')</code> and <code>$('#isAgeSelected').is('checked')</code> is returning <code>undefined</code> which is not a worthy answer for the situation. So do as given below.</p>\n\n<pre><code>if($('#isAgeSelected').prop('checked')) {\n    $(\"#txtAge\").show();\n} else {\n    $(\"#txtAge\").hide();\n}\n</code></pre>\n\n<p>Hope it helps :)- Thanks.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 18425292, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I am using this :</p>\n\n<pre><code> &lt;input type=\"checkbox\" id=\"isAgeSelected\" value=\"1\" /&gt; &lt;br /&gt;\n &lt;input type=\"textbox\" id=\"txtAge\" /&gt;\n\n $(\"#isAgeSelected\").is(':checked') ? $(\"#txtAge\").show() : $(\"#txtAge\").hide(); \n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 18651528, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>&lt;input type=\"checkbox\" id=\"abc\" value=\"UDB\"&gt;UDB\n&lt;input type=\"checkbox\" id=\"abc\" value=\"Prasad\"&gt;Prasad\n\n$('input#abc').click(function(){\n  if($(this).is(':checked'))\n  {\n    var checkedOne=$(this).val()\n    alert(checkedOne);\n\n    //do some other action\n  }\n\n})\n</code></pre>\n\n<p>this can help if you want that the required action has to be done only when you check the box not at the time you remove the check</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 19079935, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>The <code>checked</code> attribute of an <code>input type=\"checkbox\"</code> is mapped with the <code>defaultChecked</code> property, <strong>not</strong> with the <code>checked</code> property. </p>\n\n<p>So when doing something in a page when a checkbox is checked on uncheked, use the <code>prop()</code> method instead. It fetches the property value and changes as the state of the checkbox changes. </p>\n\n<p>Using <code>attr(</code>) or <code>getAttribute</code>(in pure js) in these cases are not the proper way of doing things. </p>\n\n<p>if <code>elem</code> is the concerned checkbox then do something like this to fetch the value:</p>\n\n<pre><code>elem.checked\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(elem).prop('checked')\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 19288491, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p><strong>1) If your HTML markup is:</strong> </p>\n\n<pre><code>&lt;input type=\"checkbox\"  /&gt;\n</code></pre>\n\n<p>attr used:  </p>\n\n<pre><code>$(element).attr(\"checked\");//will give you undefined as initial value of checkbox is not set\n</code></pre>\n\n<p>If prop is used :</p>\n\n<pre><code>$(element).prop(\"checked\");//will give you false whether or not initial value is set \n</code></pre>\n\n<p><strong>2) If your HTML markup is:</strong> </p>\n\n<pre><code> &lt;input type=\"checkbox\"  checked=\"checked\" /&gt;// may be like this also  checked=\"true\"\n</code></pre>\n\n<p>attr used:</p>\n\n<pre><code>$(element).attr(\"checked\")//will return checked whether it is checked=\"true\"\n</code></pre>\n\n<p>prop used:</p>\n\n<pre><code>$(element).prop(\"checked\")//will return true whether checked=\"checked\" \n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 19682604, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>For unchecking purposes this might help:</p>\n\n<pre><code>$('#chkbox').removeAttr('checked');\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 19899768, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Im sure its not some revalation but didnt see it all in one example:\nSelector for all checked checkboxes(on the page):</p>\n\n<pre><code>$('input[type=checkbox]:checked')\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 19999322, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>This example is for button.</p>\n\n<p>Try the following:</p>\n\n<pre><code>&lt;input type=\"button\" class=\"check\" id=\"checkall\" value=\"Check All\" /&gt;  &amp;nbsp; &lt;input type=\"button\" id=\"remove\" value=\"Delete\" /&gt; &lt;br/&gt;\n\n&lt;input type=\"checkbox\" class=\"cb-element\"  value=\"1\" /&gt; Checkbox  1 &lt;br/&gt;\n&lt;input type=\"checkbox\" class=\"cb-element\"  value=\"2\" /&gt; Checkbox  2 &lt;br/&gt;\n&lt;input type=\"checkbox\" class=\"cb-element\"  value=\"3\" /&gt; Checkbox  3 &lt;br/&gt;\n\n\n$('#remove').attr('disabled', 'disabled'); \n\n$(document).ready(function() {  \n\n    $('.cb-element').click(function() {\n\n        if($(this).prop('checked'))\n        {\n            $('#remove').attr('disabled', false);\n        }\n        else\n        {\n            $('#remove').attr('disabled', true);\n        }\n    });   \n\n    $('.check:button').click(function()\n{\n    var checked = !$(this).data('checked');\n    $('input:checkbox').prop('checked', checked);\n    $(this).data('checked', checked);\n\n    if(checked == true)\n    {\n        $(this).val('Uncheck All');\n         $('#remove').attr('disabled', false);\n    }\n\n    else if(checked == false)\n    {\n        $(this).val('Check All');\n        $('#remove').attr('disabled', true);\n    }\n});\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 20901688, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Setter:</p>\n\n<pre><code>$(\"#chkmyElement\")[0].checked = true;\n</code></pre>\n\n<p>Getter:</p>\n\n<pre><code>if($(\"#chkmyElement\")[0].checked) {\n   alert(\"enabled\");\n} else {\n   alert(\"disabled\");\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 23209359, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p><strong>Automated</strong></p>\n\n<pre><code>$(document).ready(function()\n{\n   $('#isAgeSelected').change(function()\n   {\n      alert( 'value =' + $('#chkSelect').attr('checked') );\n   });\n});\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;b&gt; &lt;input type=\"isAgeSelected\" id=\"chkSelect\" /&gt; Age Check &lt;/b&gt;\n\n&lt;br/&gt;&lt;br/&gt;\n\n&lt;input type=\"button\" id=\"btnCheck\" value=\"check\" /&gt;  \n</code></pre>\n\n<p><strong>JQuery</strong></p>\n\n<pre><code>$(document).ready(function()\n{\n    $('#btnCheck').click(function()\n    {\n        var isChecked = $('#isAgeSelected').attr('checked');\n\n        if (isChecked == 'checked')\n            alert('check-box is checked');\n        else\n            alert('check-box is not checked');\n    })\n});\n</code></pre>\n\n<p><strong>AJAX</strong></p>\n\n<pre><code>function check()\n{\n    if (isAgeSelected())\n        alert('check-box is checked');\n    else\n        alert('check-box is not checked');\n}\n\nfunction isAgeSelected()\n{\n    return ($get(\"isAgeSelected\").checked == true);\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 23646488, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p><strong>jQuery 1.6+</strong></p>\n\n<pre><code>$('#isAgeSelected').prop('checked')\n</code></pre>\n\n<p><strong>jQuery 1.5 and below</strong></p>\n\n<pre><code>$('#isAgeSelected').attr('checked')\n</code></pre>\n\n<p><strong>Any version of jQuery</strong></p>\n\n<pre><code>// Assuming an event handler on a checkbox\nif (this.checked)\n</code></pre>\n\n<p>all credit to: <a href=\"http://stackoverflow.com/a/426276/443427\">Xian</a></p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 23768878, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I would actually prefere the <code>change</code> event.</p>\n\n<pre><code>$('#isAgeSelected').change(function() {\n    $(\"#txtAge\").toggle(this.checked);\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/5udtC/6913/\" rel=\"nofollow\">Demo Fiddle</a></p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 25581441, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>There Are many way to check checkbox is checked or not :</p>\n\n<p>Way to check using jQuery</p>\n\n<pre><code>if ( elem.checked )\nif ( $( elem ).prop( \"checked\" ) )\nif ( $( elem ).is( \":checked\" ) )\nif ( $( elem ).attr( 'checked' ) )\n</code></pre>\n\n<p>check example Or also document </p>\n\n<p><a href=\"http://api.jquery.com/attr/\">http://api.jquery.com/attr/</a></p>\n\n<p><a href=\"http://api.jquery.com/prop/\">http://api.jquery.com/prop/</a></p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 26355361, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>In case if you need to use CSS class as jQuery selector you can do following:</p>\n\n<pre><code>$(document).ready(function () {\n        $('.myOptionCheckbox').change(function () {            \n            if ($(this).prop('checked') == true) {\n                console.log(\"checked\");           \n            }\n            else {\n                console.log(\"unchecked\");                \n            }\n        });\n    });\n</code></pre>\n\n<p>It works fine for <code>checkboxes</code> and <code>radioboxes</code> as well.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 26805879, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>$(document).ready(function() {    \n    $('#agecheckbox').click(function() {\n        if($(this).is(\":checked\"))\n        {\n            $('#agetextbox').show();\n        } else {\n            $('#agetextbox').hide();\n        }\n    });\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 27126711, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p><code>$(\"#isAgeSelected\").prop('checked', true);</code></p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 27798820, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Toggle: 0/1 or else</p>\n\n<pre><code>&lt;input type=\"checkbox\" id=\"nolunch\" /&gt;\n&lt;input id=\"checklunch /&gt;\"\n\n    $('#nolunch').change(function () {\n    if ($(this).is(':checked')) {\n        $('#checklunch').val('1');\n    };\n    if ($(this).is(':checked') == false) {\n        $('#checklunch').val('0');\n    };\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 27840946, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>selector returns multiple objects, must take first item in array;</p>\n\n<pre><code>    //collection\n    var chckremember = $(\"#chckremember\");\n\n\n    //result boolen\n    var ischecked=chckremember[0].checked;\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 29335245, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>This function is alternative and stable:</p>\n\n<pre><code>$('#isAgeSelected').context.checked\n(return True/False)\n</code></pre>\n\n<p><strong><em>Example:</em></strong> </p>\n\n<pre><code>if($('#isAgeSelected').context.checked){ //if Checkbox is checked then bla bla..\n    /*.....*/\n}else{\n    /*.....*/\n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 29631160, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>I think it will be the simple one </p>\n\n<pre><code>$('#isAgeSelected').change(function() {\n    if($(this).is(\":checked\")) {\n        $('#txtAge').show();\n    }\nelse{\n        $('#txtAge').hide();\n    }                                          \n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 30635331, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>$('#chk').change(function() { \n    (this.checked)? alert('true') : alert('false');\n});\n\n\n\n($('#chk')[0].checked)? alert('true') : alert('false');\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 31016461, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>For older versions of jQuery, I had to use following,</p>\n\n<pre><code>$('#change_plan').live('click', function() {\n     var checked = $('#change_plan').attr('checked');\n     if(checked) {\n          //Code       \n     }\n     else {\n          //Code       \n     }\n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 31106634, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Here have best snippet for this questions </p>\n\n<p><a href=\"http://www.htmllion.com/checkbox-checked-or-not-using-jquery.html\" rel=\"nofollow\">http://www.htmllion.com/checkbox-checked-or-not-using-jquery.html</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n   $(\"#buttoncheck\").click(function(){\r\n        if($('[type=\"checkbox\"]').is(\":checked\")){\r\n            $('.checkboxStatus').html(\"Congregation ! \"+$('[type=\"checkbox\"]:checked').length+\" checkbox checked\");\r\n        }else{\r\n            $('.checkboxStatus').html(\"Sorry! Checkbox is not checked\");\r\n         }\r\n         return false;\r\n   })\r\n    \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;form&gt;\r\n  &lt;p&gt;\r\n    &lt;label&gt;\r\n      &lt;input type=\"checkbox\" name=\"CheckboxGroup1\" value=\"checkbox\" id=\"CheckboxGroup1_0\"&gt;\r\n      Checkbox&lt;/label&gt;\r\n    &lt;br&gt;\r\n    &lt;label&gt;\r\n      &lt;input type=\"checkbox\" name=\"CheckboxGroup1_\" value=\"checkbox\" id=\"CheckboxGroup1_1\"&gt;\r\n      Checkbox&lt;/label&gt;\r\n    &lt;br&gt;\r\n  &lt;/p&gt;\r\n  &lt;p&gt;\r\n    &lt;input type=\"reset\" value=\"Reset\"&gt;\r\n    &lt;input type=\"submit\" id=\"buttoncheck\" value=\"Check\"&gt;\r\n  &lt;/p&gt;\r\n  &lt;p class=\"checkboxStatus\"&gt;&lt;/p&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 32048303, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Though you have proposed a <code>javascript</code> solution for your problem (Displaying a <code>textbox</code> when a <code>checkbox</code> is <code>checked</code>), this problem could be solved <strong>just by css</strong>. With this approach, your form works for users who have disabled <code>javascript</code>.</p>\n\n<p>Assuming that you have the following <code>html</code>:</p>\n\n<pre><code>&lt;label for=\"show_textbox\"&gt;Show Textbox&lt;/label&gt;\n&lt;input id=\"show_textbox\" type=\"checkbox\" /&gt;\n&lt;input type=\"text\" /&gt;\n</code></pre>\n\n<p>You can use the following <code>css</code> to achieve the desired functionality:</p>\n\n<pre><code> #show_textbox:not(:checked) + input[type=text] {display:none;}\n</code></pre>\n\n<p>For other scenarios, you may think of appropriate <code>css selectors</code>. </p>\n\n<p><a href=\"https://jsfiddle.net/gLztyn9x/4/\">Here is a Fiddle to demonstrate this approach</a>.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 32159803, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>This is some different different method to do same think</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function (){\r\n  \r\n$('#isAgeSelected').click(function() {\r\n  //  $(\"#txtAge\").toggle(this.checked);\r\n  \r\n  \r\n // using a pure CSS selector  \r\n   if ($(this.checked)) {  \r\n      alert('on check 1');  \r\n   };  \r\n  \r\n   // using jQuery's is() method  \r\n   if ($(this).is(':checked')) {  \r\n     alert('on checked 2');  \r\n   };  \r\n  \r\n //  // using jQuery's filter() method  \r\n   if ($(this).filter(':checked')) {  \r\n      alert('on checked 3');  \r\n   };  \r\n   \r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"http://code.jquery.com/jquery-1.9.1.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"checkbox\" id=\"isAgeSelected\"/&gt;\r\n&lt;div id=\"txtAge\" style=\"display:none\"&gt;Age is something&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 32182172, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>Try this, </p>\n\n<pre><code>$('#isAgeSelected').click(function() {\n    if(this.checked){\n        $(\"#txtAge\").show();\n    } else{\n        $(\"#txtAge\").hide();\n    } \n});\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 32382206, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>You can use:</p>\n\n<pre><code>  if(document.getElementById('isAgeSelected').checked)\n    $(\"#txtAge\").show();  \n  else\n    $(\"#txtAge\").hide();\n</code></pre>\n\n<hr>\n\n<pre><code>if($(\"#isAgeSelected\").is(':checked'))\n  $(\"#txtAge\").show();  \nelse\n  $(\"#txtAge\").hide();\n</code></pre>\n\n<p>Both of them will work.</p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 36914192, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>if($('#isAgeSelected').prop('checked')) {\n    // do your action \n}\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 36923847, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<p>This is worked for me...\nif (('input[name=\"salary_in.Basic\"]:checked').length > 0)</p>\n\n<p>This length is greater than zero if checked </p>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 38609422, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}, {"body": "<pre><code>  &lt;input type=\"checkbox\" name=\"planned_checked\" checked id=\"planned_checked\"&gt; Planned\n\n   $(\"#planned_checked\").change(function()\n   {\n        if($(this).prop('checked') == true)\n      {\n            alert(\"Checked Box Selected\");\n      }\n     else\n     {\n           alert(\"Checked Box deselect\"); \n     } \n  });\n</code></pre>\n", "title": "How to check if a checkbox is checked in jQuery?", "answer_id": 39205401, "question_id": 901712, "tags": ["javascript", "jquery", "checkbox"]}], "question_id": 901712}, {"body": "<p>I'd like to do something like this to tick a <code>checkbox</code> using <strong>jQuery</strong>:</p>\n\n<pre><code>$(\".myCheckBox\").checked(true);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$(\".myCheckBox\").selected(true);\n</code></pre>\n\n<p>Does such a thing exist?</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "tags": ["javascript", "jquery", "checkbox", "selected", "checked"], "answer_count": 33, "link": "http://stackoverflow.com/questions/426258/setting-checked-for-a-checkbox-with-jquery", "answers": [{"body": "<p>You can do</p>\n\n<pre><code>$('.myCheckbox').attr('checked',true) //Standards compliant\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(\"form #mycheckbox\").attr('checked', true)\n</code></pre>\n\n<p>If you have custom code in the onclick event for the checkbox that you want to fire, use this one instead:</p>\n\n<pre><code>$(\"#mycheckbox\").click();\n</code></pre>\n\n<p>You can uncheck by removing the attribute entirely:</p>\n\n<pre><code>$('.myCheckbox').removeAttr('checked')\n</code></pre>\n\n<p>You can check all checkboxes like this:</p>\n\n<pre><code>$(\".myCheckbox\").each(function(){\n    $(\"#mycheckbox\").click()\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 426273, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<h2>jQuery 1.6+</h2>\n\n<p>Use the new <a href=\"https://api.jquery.com/prop\"><code>.prop()</code></a> method:</p>\n\n<pre><code>$('.myCheckbox').prop('checked', true);\n$('.myCheckbox').prop('checked', false);\n</code></pre>\n\n<h2>jQuery 1.5.x and below</h2>\n\n<p>The <code>.prop()</code> method is not available, so you need to use <a href=\"https://api.jquery.com/attr\"><code>.attr()</code></a>.</p>\n\n<pre><code>$('.myCheckbox').attr('checked', true);\n$('.myCheckbox').attr('checked', false);\n</code></pre>\n\n<p>Note that this is <a href=\"https://github.com/jquery/jquery/blob/1.5.2/test/unit/attributes.js#L157\">the approach used by jQuery's unit tests prior to version 1.6</a> and is preferable to using</p>\n\n<pre><code>$('.myCheckbox').removeAttr('checked');\n</code></pre>\n\n<p>since the latter will, if the box was initially checked, change the behaviour of a call to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement.reset\"><code>.reset()</code></a> on any form that contains it - a subtle but probably unwelcome behaviour change.</p>\n\n<p>For more context, some incomplete discussion of the changes to the handling of the <code>checked</code> attribute/property in the transition from 1.5.x to 1.6 can be found in the <a href=\"https://blog.jquery.com/2011/05/03/jquery-16-released/\">version 1.6 release notes</a> and the <strong>Attributes vs. Properties</strong> section of the <a href=\"https://api.jquery.com/prop/\"><code>.prop()</code> documentation</a>.</p>\n\n<h2>Any version of jQuery</h2>\n\n<p>If you're working with just one element, you can always just modify the <a href=\"https://developer.mozilla.org/en/docs/Web/API/HTMLInputElement\"><code>HTMLInputElement</code></a>'s <code>.checked</code> property:</p>\n\n<pre><code>$('.myCheckbox')[0].checked = true;\n$('.myCheckbox')[0].checked = false;\n</code></pre>\n\n<p>The benefit to using the <code>.prop()</code> and <code>.attr()</code> methods instead of this is that they will operate on all matched elements.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 426276, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Use:</p>\n\n<pre><code>$(\".myCheckbox\").attr('checked', true); // Deprecated\n$(\".myCheckbox\").prop('checked', true);\n</code></pre>\n\n<p>And if you want to check if a checkbox is checked or not:</p>\n\n<pre><code>$('.myCheckbox').is(':checked');\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 426277, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<pre><code>$(\"#mycheckbox\")[0].checked = true;\n$(\"#mycheckbox\").attr('checked', true);\n$(\"#mycheckbox\").click();\n</code></pre>\n\n<p>The last one will fire the click event for the checkbox, the others will not.\nSo if you have custom code in the onclick event for the checkbox that you want to fire, use the last one.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 426314, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>You can also extend the $.fn object with new methods:</p>\n\n<pre><code>(function($)  {\n   $.fn.extend({\n      check : function()  {\n         return this.filter(\":radio, :checkbox\").attr(\"checked\", true);\n      },\n      uncheck : function()  {\n         return this.filter(\":radio, :checkbox\").removeAttr(\"checked\");\n      }\n   });\n}(jQuery));\n</code></pre>\n\n<p>Then you can just do:</p>\n\n<pre><code>$(\":checkbox\").check();\n$(\":checkbox\").uncheck();\n</code></pre>\n\n<p>Or you may want to give them more unique names like mycheck() and myuncheck()  in case you use some other library that uses those names.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 3533701, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>This selects elements that have the specified attribute with a value containing the given substring:</p>\n\n<pre><code>$('input[name *= ckbItem]').prop('checked', true);\n</code></pre>\n\n<p>It will select all elements that contain ckbItem in its name attribute.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 3751112, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>To check a checkbox you should use</p>\n\n<pre><code> $('.myCheckbox').attr('checked',true);\n</code></pre>\n\n<p>or</p>\n\n<pre><code> $('.myCheckbox').attr('checked','checked');\n</code></pre>\n\n<p>and to uncheck a check box you should always set it to false:</p>\n\n<pre><code> $('.myCheckbox').attr('checked',false);\n</code></pre>\n\n<p>If you do</p>\n\n<pre><code>  $('.myCheckbox').removeAttr('checked')\n</code></pre>\n\n<p>it removes the attribute all together and therefore you will not be able to reset the form.</p>\n\n<p><a href=\"http://jsfiddle.net/mcgrailm/34vhs/\">BAD DEMO jQuery 1.6</a>. I think this is broken. For 1.6 I am going to make a new post on that.</p>\n\n<p><a href=\"http://jsfiddle.net/mcgrailm/24FLg/\">NEW WORKING DEMO jQuery 1.5.2</a> works in Chrome.</p>\n\n<p>Both demos use</p>\n\n<pre><code>$('#tc').click(function() {\n    if ( $('#myCheckbox').attr('checked')) {\n        $('#myCheckbox').attr('checked', false);\n    } else {\n        $('#myCheckbox').attr('checked', 'checked');\n    }\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 5407529, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>This is the correct way of checking and unchecking checkboxes with jQuery, as it is cross-platform standard, and <em>will</em> allow form reposts.</p>\n\n<pre><code>$('.myCheckBox').each(function(){ this.checked = true; });\n\n$('.myCheckBox').each(function(){ this.checked = false; });\n</code></pre>\n\n<p>By doing this, you are using JavaScript standards for checking and unchecking checkboxes, so any browser that properly implements the \"checked\" property of the checkbox element will run this code flawlessly. This <em>should</em> be all major browsers, but I am unable to test previous to Internet&nbsp;Explorer&nbsp;9.</p>\n\n<p><strong>The Problem</strong> (jQuery 1.6):</p>\n\n<p>Once a user clicks on a checkbox, that checkbox stops responding to the \"checked\" attribute changes.</p>\n\n<p>Here is an example of the checkbox attribute failing to do the job after someone has <em>clicked</em> the checkbox (this happens in Chrome).</p>\n\n<p><strong><a href=\"http://jsfiddle.net/xixonia/zgcrB/\">Fiddle</a></strong></p>\n\n<p><strong>The Solution:</strong></p>\n\n<p>By using JavaScript's \"checked\" property on the <a href=\"http://en.wikipedia.org/wiki/Document_Object_Model\">DOM</a> elements, we are able to solve the problem directly, instead of trying to manipulate the DOM into doing what we <em>want</em> it to do.</p>\n\n<p><a href=\"http://jsfiddle.net/xixonia/WnbNC/\"><strong>Fiddle</strong></a></p>\n\n<p>This plugin will alter the checked property of any elements selected by jQuery, and successfully check and uncheck checkboxes under all circumstances. So, while this may seem like an over-bearing solution, it will make your site's user experience better, and help prevent user frustration.</p>\n\n<pre><code>(function( $ ) {\n    $.fn.checked = function(value) {\n        if(value === true || value === false) {\n            // Set the value of the checkbox\n            $(this).each(function(){ this.checked = value; });\n        } \n        else if(value === undefined || value === 'toggle') {\n            // Toggle the checkbox\n            $(this).each(function(){ this.checked = !this.checked; });\n        }\n\n        return this;\n    };\n})( jQuery );\n</code></pre>\n\n<p>Alternatively, if you do not want to use a plugin, you can use the following code snippets:</p>\n\n<pre><code>// Check\n$(':checkbox').prop('checked', true);\n\n// Un-check\n$(':checkbox').prop('checked', false);\n\n// Toggle\n$(':checkbox').prop('checked', function (i, value) {\n    return !value;\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 5916151, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>We can use <code>elementObject</code> with jQuery for getting the attribute checked:</p>\n\n<pre><code>$(objectElement).attr('checked');\n</code></pre>\n\n<p>We can use this for all jQuery versions without any error.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 6465220, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Here is code for checked and unchecked with a button:</p>\n\n<pre><code>var set=1;\nvar unset=0;\njQuery( function() {\n    $( '.checkAll' ).live('click', function() {\n        $( '.cb-element' ).each(function () {\n            if(set==1){ $( '.cb-element' ).attr('checked', true) unset=0; }\n            if(set==0){ $( '.cb-element' ).attr('checked', false); unset=1; }\n        });\n        set=unset;\n    });\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 7886844, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>I couldn't get it working using:</p>\n\n<pre><code>$(\"#cb\").prop('checked', 'true');\n$(\"#cb\").prop('checked', 'false');\n</code></pre>\n\n<p>Both true and false would check the checkbox. What worked for me was:</p>\n\n<pre><code>$(\"#cb\").prop('checked', 'true'); // For checking\n$(\"#cb\").prop('checked', '');     // For unchecking\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 8743292, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Assuming that the question is...</p>\n\n<h1>How do I check a checkbox-set <strong>BY VALUE?</strong></h1>\n\n<p>Remember that in a typical checkbox set, all input tags have the same name, <strong>they differ by the attribute <code>value</code></strong>:  there are no ID for each input of the set.</p>\n\n<p>Xian's answer can be extended with a <em>more specific selector</em>, using the following line of code:</p>\n\n<pre><code>$(\"input.myclass[name='myname'][value='the_value']\").prop(\"checked\", true);\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 9634065, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>If you are using <a href=\"http://en.wikipedia.org/wiki/PhoneGap\">PhoneGap</a> doing application development, and you have a value on the button that you want to show instantly, remember to do this</p>\n\n<pre><code>$('span.ui-[controlname]',$('[id]')).text(\"the value\");\n</code></pre>\n\n<p>I found that without the span, the interface will not update no matter what you do.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 10186286, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>I'm missing the solution. I'll always use:</p>\n\n<pre><code>if ($('#myCheckBox:checked').val() !== undefined)\n{\n    //Checked\n}\nelse\n{\n    //Not checked\n}\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 11177092, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Try this:</p>\n\n<pre><code>$('#checkboxid').get(0).checked = true;  //For checking\n\n$('#checkboxid').get(0).checked = false; //For unchecking\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 12349771, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Here is a way to do it without jQuery</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function addOrAttachListener(el, type, listener, useCapture) {\r\n  if (el.addEventListener) {\r\n    el.addEventListener(type, listener, useCapture);\r\n  } else if (el.attachEvent) {\r\n    el.attachEvent(\"on\" + type, listener);\r\n  }\r\n};\r\n\r\naddOrAttachListener(window, \"load\", function() {\r\n  var cbElem = document.getElementById(\"cb\");\r\n  var rcbElem = document.getElementById(\"rcb\");\r\n  addOrAttachListener(cbElem, \"click\", function() {\r\n    rcbElem.checked = cbElem.checked;\r\n  }, false);\r\n}, false);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;label&gt;Click Me!\r\n  &lt;input id=\"cb\" type=\"checkbox\" /&gt;\r\n&lt;/label&gt;\r\n&lt;label&gt;Reflection:\r\n  &lt;input id=\"rcb\" type=\"checkbox\" /&gt;\r\n&lt;/label&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 13022066, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>If using mobile and you want the interface to update and show the checkbox as unchecked, use the following:</p>\n\n<pre><code>$(\"#checkbox1\").prop('checked', false).checkboxradio(\"refresh\");\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 14278832, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p><strong>Here's the complete answer</strong>\nusing jQuery</p>\n\n<p>I test it and it works 100% :D</p>\n\n<pre><code>    // when the button (select_unit_button) is clicked it returns all the checed checkboxes values \n    $(\"#select_unit_button\").on(\"click\", function(e){\n\n             var arr = [];\n\n             $(':checkbox:checked').each(function(i){\n                 arr[i] = $(this).val(); // u can get id or anything else\n             });\n\n              //console.log(arr); // u can test it using this in google chrome\n    });\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 15116335, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>To check a checkbox using jQuery 1.9 just do this:</p>\n\n<pre><code>checkbox.prop('checked', true);\n</code></pre>\n\n<p>To uncheck, use:</p>\n\n<pre><code>checkbox.prop('checked', false);\n</code></pre>\n\n<p>Here' s what I like to use to toggle a checkbox using jQuery:</p>\n\n<pre><code>checkbox.prop('checked', !checkbox.prop('checked'));\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 15405691, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<pre><code>$(\".myCheckBox\").attr(\"checked\",\"checked\");\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 16519172, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Be aware of memory leaks in Internet&nbsp;Explorer prior to <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_9\">Internet&nbsp;Explorer&nbsp;9</a>, as the <a href=\"http://api.jquery.com/prop/\">jQuery documentation states</a>:</p>\n\n<blockquote>\n  <p>In Internet Explorer prior to version 9, using .prop() to set a DOM\n  element property to anything other than a simple primitive value\n  (number, string, or boolean) can cause memory leaks if the property is\n  not removed (using .removeProp()) before the DOM element is removed\n  from the document. To safely set values on DOM objects without memory\n  leaks, use .data().</p>\n</blockquote>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 16685836, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>In jQuery,</p>\n\n<pre><code>if($(\"#checkboxId\").is(':checked')){\n    alert(\"Checked\");\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>if($(\"#checkboxId\").attr('checked')==true){\n    alert(\"Checked\");\n}\n</code></pre>\n\n<p>In JavaScript,</p>\n\n<pre><code>if (document.getElementById(\"checkboxID\").checked){\n    alert(\"Checked\");\n}\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 17024867, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<pre><code>$('controlCheckBox').click(function(){\n    var temp = $(this).prop('checked');\n    $('controlledCheckBoxes').prop('checked', temp);\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 17666910, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Here is the code and demo for how to check multiple check boxes...</p>\n\n<p><strong><a href=\"http://jsfiddle.net/tamilmani/z8TTt/\">http://jsfiddle.net/tamilmani/z8TTt/</a></strong></p>\n\n<pre><code>$(\"#check\").on(\"click\", function () {\n\n    var chk = document.getElementById('check').checked;\n    var arr = document.getElementsByTagName(\"input\");\n\n    if (chk) {\n        for (var i in arr) {\n            if (arr[i].name == 'check') arr[i].checked = true;\n        }\n    } else {\n        for (var i in arr) {\n            if (arr[i].name == 'check') arr[i].checked = false;\n        }\n    }\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 18266967, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>For overall:</p>\n\n<pre><code>$(\"#checkAll\").click(function(){\n    $(\".somecheckBoxes\").prop('checked',$(this).prop('checked')?true:false);\n});\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 18779757, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Plain JavaScript is very simple and much less overhead:</p>\n\n<pre><code>var elements = document.getElementsByClassName('myCheckBox');\nfor(var i = 0; i &lt; elements.length; i++)\n{\n    elements[i].checked = true;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Zup4m/\">Example here</a></p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 18862362, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>Another possible solution:</p>\n\n<pre><code>    var c = $(\"#checkboxid\");\n    if (c.is(\":checked\")) {\n         $('#checkboxid').prop('checked', false);\n    } else {\n         $('#checkboxid').prop('checked', true);\n    }\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 19332136, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>To check and uncheck</p>\n\n<pre><code>$('.myCheckbox').prop('checked', true);\n$('.myCheckbox').prop('checked', false);\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 19971153, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>You can try this:</p>\n\n<pre><code>$('input[name=\"activity[task_state]\"]').val(\"specify the value you want to check \")\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 23236610, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>This is probably the shortest and easiest solution:</p>\n\n<pre><code>$(\".myCheckBox\")[0].checked = true;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(\".myCheckBox\")[0].checked = false;\n</code></pre>\n\n<hr>\n\n<p>Even shorter would be:</p>\n\n<pre><code>$(\".myCheckBox\")[0].checked = !0;\n$(\".myCheckBox\")[0].checked = !1;\n</code></pre>\n\n<hr>\n\n<p>Here is <a href=\"http://jsfiddle.net/8PCx8/\">a <em>jsFiddle</em></a> as well.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 23893003, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>In case you use <a href=\"http://en.wikipedia.org/wiki/ASP.NET_MVC_Framework\" rel=\"nofollow\">ASP.NET MVC</a>, generate many checkboxes and later have <strong><em>to select/unselect all</em></strong> using JavaScript you can do the following.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>@foreach (var item in Model)\n{\n    @Html.CheckBox(string.Format(\"ProductId_{0}\", @item.Id), @item.IsSelected)\n}\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>function SelectAll() {       \n        $('input[id^=\"ProductId_\"]').each(function () {          \n            $(this).prop('checked', true);\n        });\n    }\n\n    function UnselectAll() {\n        $('input[id^=\"ProductId_\"]').each(function () {\n            $(this).prop('checked', false);\n        });\n    }\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 24639060, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>When you checked a checkbox like;</p>\n\n<pre><code>$('.className').attr('checked', 'checked')\n</code></pre>\n\n<p>it might not be enough. You should also call the function below;</p>\n\n<pre><code>$('.className').prop('checked', 'true')\n</code></pre>\n\n<p>Especially when you removed the checkbox checked attribute.</p>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 28878653, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}, {"body": "<p>For jQuery 1.6+</p>\n\n<pre><code>$('.myCheckbox').prop('checked', true);\n$('.myCheckbox').prop('checked', false);\n</code></pre>\n\n<p>For jQuery 1.5.x and below</p>\n\n<pre><code>$('.myCheckbox').attr('checked', true);\n$('.myCheckbox').attr('checked', false);\n</code></pre>\n\n<p>To check,</p>\n\n<pre><code>$('.myCheckbox').removeAttr('checked');\n</code></pre>\n", "title": "Setting &quot;checked&quot; for a checkbox with jQuery?", "answer_id": 29769613, "question_id": 426258, "tags": ["javascript", "jquery", "checkbox", "selected", "checked"]}], "question_id": 426258}, {"body": "<p>Is there a plugin-less way of retrieving <a href=\"http://en.wikipedia.org/wiki/Query_string\">query string</a> values via jQuery (or without)? </p>\n\n<p>If so, how? If not, is there a plugin which can do so?</p>\n", "title": "How can I get query string values in JavaScript?", "tags": ["javascript", "url", "plugins", "query-string"], "answer_count": 73, "link": "http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript", "answers": [{"body": "<p>If you're using jQuery, you can use a library, such as <a href=\"http://benalman.com/projects/jquery-bbq-plugin/\">jQuery BBQ: Back Button &amp; Query Library</a>.</p>\n\n<blockquote>\n  <p>...jQuery BBQ provides a full <code>.deparam()</code> method, along with both hash state management, and fragment / query string parse and merge utility methods.</p>\n</blockquote>\n\n<p>Edit: Adding Deparam Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var DeparamExample = function() {\r\n            var params = $.deparam.querystring();\r\n\r\n            //nameofparam is the name of a param from url\r\n            //code below will get param if ajax refresh with hash\r\n            if (typeof params.nameofparam == 'undefined') {\r\n                params = jQuery.deparam.fragment(window.location.href);\r\n            }\r\n            \r\n            if (typeof params.nameofparam != 'undefined') {\r\n                var paramValue = params.nameofparam.toString();\r\n                  \r\n            }\r\n        };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to just use plain JavaScript, you could use...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var getParamValue = (function() {\n    var params;\n    var resetParams = function() {\n            var query = window.location.search;\n            var regex = /[?&amp;;](.+?)=([^&amp;;]+)/g;\n            var match;\n\n            params = {};\n\n            if (query) {\n                while (match = regex.exec(query)) {\n                    params[match[1]] = decodeURIComponent(match[2]);\n                }\n            }    \n        };\n\n    window.addEventListener\n    &amp;&amp; window.addEventListener('popstate', resetParams);\n\n    resetParams();\n\n    return function(param) {\n        return params.hasOwnProperty(param) ? params[param] : null;\n    }\n\n})();\u200b\n</code></pre>\n\n<p>Because of the new HTML History API and specifically <code>history.pushState()</code> and <code>history.replaceState()</code>, the URL can change which will invalidate the cache of parameters and their values.</p>\n\n<p>This version will update its internal cache of parameters each time the history changes.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 901119, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>You don't need jQuery for that purpose. You can use just some pure JavaScript:</p>\n\n<pre><code>function getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&amp;\");\n    var regex = new RegExp(\"[?&amp;]\" + name + \"(=([^&amp;#]*)|&amp;|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>// query string: ?foo=lorem&amp;bar=&amp;baz\nvar foo = getParameterByName('foo'); // \"lorem\"\nvar bar = getParameterByName('bar'); // \"\" (present with empty value)\nvar baz = getParameterByName('baz'); // \"\" (present with no value)\nvar qux = getParameterByName('qux'); // null (absent)\n</code></pre>\n\n<p><br>\nNote: If a parameter is present several times (<code>?foo=lorem&amp;foo=ipsum</code>), you will get the first value (<code>lorem</code>). There is no standard about this and usages vary, see for example this question: <a href=\"http://stackoverflow.com/questions/1746507/authoritative-position-of-duplicate-http-get-query-keys\">Authoritative position of duplicate HTTP GET query keys</a>.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 901144, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Roshambo on snipplr.com has a simple script to achieve this described in <em><a href=\"http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/\">Get URL Parameters with jQuery | Improved</a></em>. With his script you also easily get to pull out just the parameters you want.</p>\n\n<p>Here's the gist:</p>\n\n<pre><code>$.urlParam = function(name, url) {\n    if (!url) {\n     url = window.location.href;\n    }\n    var results = new RegExp('[\\\\?&amp;]' + name + '=([^&amp;#]*)').exec(url);\n    if (!results) { \n        return undefined;\n    }\n    return results[1] || undefined;\n}\n</code></pre>\n\n<p>Then just get your parameters from the query string.</p>\n\n<p>So if the URL/query string was <code>xyz.com/index.html?lang=de</code>.</p>\n\n<p>Just call <code>var langval = $.urlParam('lang');</code>, and you've got it.</p>\n\n<p>UZBEKJON has a great blog post on this as well, <em><a href=\"http://jquery-howto.blogspot.com/2009/09/get-url-parameters-values-with-jquery.html\">Get URL parameters &amp; values with jQuery</a></em>.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 2480180, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Some of the solutions posted here are inefficient. Repeating the regular expression search every time the script needs to access a parameter is completely unnecessary, one single function to split up the parameters into an associative-array style object is enough. If you're not working with the HTML 5 History API, this is only necessary once per page load.  The other suggestions here also fail to decode the URL correctly.</p>\n\n<pre><code>var urlParams;\n(window.<a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.onpopstate\">onpopstate</a> = function () {\n    var match,\n        pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n        search = /([^&=]+)=?([^&]*)/g,\n        decode = function (s) { return <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/decodeURIComponent\">decodeURIComponent</a>(s.replace(pl, \" \")); },\n        query  = window.<a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.location\">location</a>.search.<a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/substring\">substring</a>(1);\n\n    urlParams = {};\n    while (match = search.<a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp/exec\">exec</a>(query))\n       urlParams[decode(match[1])] = decode(match[2]);\n})();</code></pre>\n\n<p>Example querystring: </p>\n\n<blockquote>\n  <p><code>?i=main&amp;mode=front&amp;sid=de8d49b78a85a322c4155015fdce22c4&amp;enc=+Hello%20&amp;empty</code></p>\n</blockquote>\n\n<p>Result:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> urlParams = {\n    enc: \" Hello \",\n    i: \"main\",\n    mode: \"front\",\n    sid: \"de8d49b78a85a322c4155015fdce22c4\",\n    empty: \"\"\n}\n\nalert(urlParams[\"mode\"]);\n// -&gt; \"front\"\n\nalert(\"empty\" in urlParams);\n// -&gt; true\n</code></pre>\n\n<p>This could easily be improved upon to handle array-style query strings too.  An example of this is <a href=\"http://jsbin.com/adali3/2\">here</a>, but since array-style parameters aren't defined in <a href=\"http://tools.ietf.org/html/rfc3986\">RFC 3986</a> I won't pollute this answer with the source code. <a href=\"http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript/23401756#23401756\">For those interested in a \"polluted\" version, look at campbeln's answer below</a>.</p>\n\n<p>Also, as pointed out in the comments, <code>;</code> is a legal delimiter for <code>key=value</code> pairs.  It would require a more complicated regex to handle <code>;</code> or <code>&amp;</code>, which I think is unnecessary because it's rare that <code>;</code> is used and I would say even more unlikely that both would be used.  If you need to support <code>;</code> instead of <code>&amp;</code>, just swap them in the regex.</p>\n\n<p><hr /> \nIf you're using a server-side preprocessing language, you might want to use its native JSON functions to do the heavy lifting for you.  For example, in PHP you can write:</p>\n\n<pre><code>&lt;script>var urlParams = &lt;?php echo <a href=\"http://php.net/manual/en/function.json-encode.php\">json_encode</a>($_GET, JSON_HEX_TAG);?>;&lt;/script></code></pre>\n\n<p>Much simpler!</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 2880929, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<pre><code>function GET() {\n        var data = [];\n        for(x = 0; x &lt; arguments.length; ++x)\n            data.push(location.href.match(new RegExp(\"/\\?\".concat(arguments[x],\"=\",\"([^\\n&amp;]*)\")))[1])\n                return data;\n    }\n\n\nexample:\ndata = GET(\"id\",\"name\",\"foo\");\nquery string : ?id=3&amp;name=jet&amp;foo=b\nreturns:\n    data[0] // 3\n    data[1] // jet\n    data[2] // b\nor\n    alert(GET(\"id\")[0]) // return 3\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 3220791, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<h2>Without jQuery</h2>\n\n<pre><code>var qs = (function(a) {\n    if (a == \"\") return {};\n    var b = {};\n    for (var i = 0; i &lt; a.length; ++i)\n    {\n        var p=a[i].split('=', 2);\n        if (p.length == 1)\n            b[p[0]] = \"\";\n        else\n            b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n    }\n    return b;\n})(window.location.search.substr(1).split('&amp;'));\n</code></pre>\n\n<p>With an URL like <code>?topic=123&amp;name=query+string</code>, the following will return:</p>\n\n<pre><code>qs[\"topic\"];    // 123\nqs[\"name\"];     // query string\nqs[\"nothere\"];  // undefined (object)\n</code></pre>\n\n<hr>\n\n<h2>Google method</h2>\n\n<p>Tearing Google's code I found the method they use: <code>getUrlParameters</code></p>\n\n<pre><code>function (b) {\n    var c = typeof b === \"undefined\";\n    if (a !== h &amp;&amp; c) return a;\n    for (var d = {}, b = b || k[B][vb], e = b[p](\"?\"), f = b[p](\"#\"), b = (f === -1 ? b[Ya](e + 1) : [b[Ya](e + 1, f - e - 1), \"&amp;\", b[Ya](f + 1)][K](\"\"))[z](\"&amp;\"), e = i.dd ? ia : unescape, f = 0, g = b[w]; f &lt; g; ++f) {\n        var l = b[f][p](\"=\");\n        if (l !== -1) {\n            var q = b[f][I](0, l),\n                l = b[f][I](l + 1),\n                l = l[Ca](/\\+/g, \" \");\n            try {\n                d[q] = e(l)\n            } catch (A) {}\n        }\n    }\n    c &amp;&amp; (a = d);\n    return d\n}\n</code></pre>\n\n<p>It is obfuscated, but it is understandable.</p>\n\n<p>They start to look for parameters on the url from <code>?</code> and also from the hash <code>#</code>. Then for each parameter they split in the equal sign <code>b[f][p](\"=\")</code> (which looks like <code>indexOf</code>, they use the position of the char to get the key/value). Having it split they check whether the parameter has a value or not, if it has they store the value of <code>d</code>, if not it just continue.</p>\n\n<p>In the end the object <code>d</code> is returned, handling escaping and the <code>+</code> sign. This object is just like mine, it has the same behavior.</p>\n\n<hr>\n\n<p>My method as a <strong>jQuery plugin</strong></p>\n\n<pre><code>(function($) {\n    $.QueryString = (function(a) {\n        if (a == \"\") return {};\n        var b = {};\n        for (var i = 0; i &lt; a.length; ++i)\n        {\n            var p=a[i].split('=', 2);\n            if (p.length != 2) continue;\n            b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n        }\n        return b;\n    })(window.location.search.substr(1).split('&amp;'))\n})(jQuery);\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>//Get a param\n$.QueryString.param\n//-or-\n$.QueryString[\"param\"]\n//This outputs something like...\n//\"val\"\n\n//Get all params as object\n$.QueryString\n//This outputs something like...\n//Object { param: \"val\", param2: \"val\" }\n\n//Set a param (only in the $.QueryString object, doesn't affect the browser's querystring)\n$.QueryString.param = \"newvalue\"\n//This doesn't output anything, it just updates the $.QueryString object\n\n//Convert object into string suitable for url a querystring (Requires jQuery)\n$.param($.QueryString)\n//This outputs something like...\n//\"param=newvalue&amp;param2=val\"\n\n//Update the url/querystring in the browser's location bar with the $.QueryString object\nhistory.replaceState({}, '', \"?\" + $.param($.QueryString));\n//-or-\nhistory.pushState({}, '', \"?\" + $.param($.QueryString));\n</code></pre>\n\n<hr>\n\n<h2><a href=\"http://jsperf.com/querystring-with-javascript\">Performance test (split method against regex method)</a> (<a href=\"http://jsperf.com/\">jsPerf</a>)</h2>\n\n<p>Preparation code: methods declaration</p>\n\n<h3>Split test code</h3>\n\n<pre><code>var qs = window.GetQueryString(query);\n\nvar search = qs[\"q\"];\nvar value = qs[\"value\"];\nvar undef = qs[\"undefinedstring\"];\n</code></pre>\n\n<h3>Regex test code</h3>\n\n<pre><code>var search = window.getParameterByName(\"q\");\nvar value = window.getParameterByName(\"value\");\nvar undef = window.getParameterByName(\"undefinedstring\");\n</code></pre>\n\n<p><strong>Testing in Firefox 4.0 x86 on Windows Server 2008 R2 / 7 x64</strong></p>\n\n<ul>\n<li><strong>Split method</strong>: 144,780 \u00b12.17% fastest</li>\n<li><strong>Regex method</strong>: 13,891 \u00b10.85% | 90% slower</li>\n</ul>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 3855394, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here's my stab at making Andy E's excellent solution into a full fledged jQuery plugin:</p>\n\n<pre><code>;(function ($) {\n    $.extend({      \n        getQueryString: function (name) {           \n            function parseParams() {\n                var params = {},\n                    e,\n                    a = /\\+/g,  // Regex for replacing addition symbol with a space\n                    r = /([^&amp;=]+)=?([^&amp;]*)/g,\n                    d = function (s) { return decodeURIComponent(s.replace(a, \" \")); },\n                    q = window.location.search.substring(1);\n\n                while (e = r.exec(q))\n                    params[d(e[1])] = d(e[2]);\n\n                return params;\n            }\n\n            if (!this.queryStringParams)\n                this.queryStringParams = parseParams(); \n\n            return this.queryStringParams[name];\n        }\n    });\n})(jQuery);\n</code></pre>\n\n<p>The syntax is:</p>\n\n<pre><code>var someVar = $.getQueryString('myParam');\n</code></pre>\n\n<p>Best of both worlds!</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 3867610, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here is <a href=\"https://github.com/voituk/Misc/blob/master/js/jquery.hash.js#L10\" rel=\"nofollow\">my version of query string parsing code on GitHub</a>.</p>\n\n<p>It's \"prefixed\" with jquery.*, but the parsing function itself don't use jQuery. It's pretty fast, but still open for few simple performance optimizations.</p>\n\n<p>Also it supports list &amp; hash-tables encoding in the URL, like:</p>\n\n<pre><code>arr[]=10&amp;arr[]=20&amp;arr[]=100\n</code></pre>\n\n<p>or</p>\n\n<pre><code>hash[key1]=hello&amp;hash[key2]=moto&amp;a=How%20are%20you\n</code></pre>\n\n<hr>\n\n<pre><code>jQuery.toQueryParams = function(str, separator) {\n    separator = separator || '&amp;'\n    var obj = {}\n    if (str.length == 0)\n        return obj\n    var c = str.substr(0,1)\n    var s = c=='?' || c=='#'  ? str.substr(1) : str; \n\n    var a = s.split(separator)\n    for (var i=0; i&lt;a.length; i++) {\n        var p = a[i].indexOf('=')\n        if (p &lt; 0) {\n            obj[a[i]] = ''\n            continue\n        }\n        var k = decodeURIComponent(a[i].substr(0,p)),\n            v = decodeURIComponent(a[i].substr(p+1))\n\n        var bps = k.indexOf('[')\n        if (bps &lt; 0) {\n            obj[k] = v\n            continue;\n        } \n\n        var bpe = k.substr(bps+1).indexOf(']')\n        if (bpe &lt; 0) {\n            obj[k] = v\n            continue;\n        }\n\n        var bpv = k.substr(bps+1, bps+bpe-1)\n        var k = k.substr(0,bps)\n        if (bpv.length &lt;= 0) {\n            if (typeof(obj[k]) != 'object') obj[k] = []\n            obj[k].push(v)\n        } else {\n            if (typeof(obj[k]) != 'object') obj[k] = {}\n            obj[k][bpv] = v\n        }\n    }\n    return obj;\n\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 4192880, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Code golf:</p>\n\n<pre><code>var a = location.search&amp;&amp;location.search.substr(1).replace(/\\+/gi,\" \").split(\"&amp;\");\nfor (var i in a) {\n    var s = a[i].split(\"=\");\n    a[i]  = a[unescape(s[0])] = unescape(s[1]);\n}\n</code></pre>\n\n<p>Display it!</p>\n\n<pre><code>for (i in a) {\n    document.write(i + \":\" + a[i] + \"&lt;br/&gt;\");   \n};\n</code></pre>\n\n<p>On my Mac: <code>test.htm?i=can&amp;has=cheezburger</code> displays</p>\n\n<pre><code>0:can\n1:cheezburger\ni:can\nhas:cheezburger\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 4194279, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Roshambo jQuery method wasn't taking care of decode URL</p>\n\n<blockquote>\n  <p><a href=\"http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/\">http://snipplr.com/view/26662/get-url-parameters-with-jquery--improved/</a></p>\n</blockquote>\n\n<p>Just added that capability also while adding in  the return statement </p>\n\n<pre><code>return decodeURIComponent(results[1].replace(/\\+/g, \" \")) || 0;\n</code></pre>\n\n<p>Now you can find the updated gist:</p>\n\n<pre><code>$.urlParam = function(name){\nvar results = new RegExp('[\\\\?&amp;]' + name + '=([^&amp;#]*)').exec(window.location.href);\nif (!results) { return 0; }\nreturn decodeURIComponent(results[1].replace(/\\+/g, \" \")) || 0;\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 4439076, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This is a function I created a while back and I'm quite happy with. It is not case sensitive - which is handy. Also, if the requested QS doesn't exist, it just returns an empty string.</p>\n\n<p>I use a compressed version of this. I'm posting uncompressed for the novice types to better explain what's going on.</p>\n\n<p>I'm sure this could be optimized or done differently to work faster, but it's always worked great for what I need.</p>\n\n<p>Enjoy.</p>\n\n<pre><code>function getQSP(sName, sURL) {\n    var theItmToRtn = \"\";\n    var theSrchStrg = location.search;\n    if (sURL) theSrchStrg = sURL;\n    var sOrig = theSrchStrg;\n    theSrchStrg = theSrchStrg.toUpperCase();\n    sName = sName.toUpperCase();\n    theSrchStrg = theSrchStrg.replace(\"?\", \"&amp;\") theSrchStrg = theSrchStrg + \"&amp;\";\n    var theSrchToken = \"&amp;\" + sName + \"=\";\n    if (theSrchStrg.indexOf(theSrchToken) != -1) {\n        var theSrchTokenLth = theSrchToken.length;\n        var theSrchTokenLocStart = theSrchStrg.indexOf(theSrchToken) + theSrchTokenLth;\n        var theLocOfNextAndSign = theSrchStrg.indexOf(\"&amp;\", theSrchTokenLocStart);\n        theItmToRtn = unescape(sOrig.substring(theSrchTokenLocStart, theLocOfNextAndSign));\n    }\n    return unescape(theItmToRtn);\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 4830088, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Improved version of <a href=\"http://stackoverflow.com/questions/901115/get-querystring-values-with-jquery/901144#901144\">Artem Barger's answer</a>:</p>\n\n<pre><code>function getParameterByName(name) {\n    var match = RegExp('[?&amp;]' + name + '=([^&amp;]*)').exec(window.location.search);\n    return match &amp;&amp; decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n</code></pre>\n\n<p>For more information on improvement see: <a href=\"http://james.padolsey.com/javascript/bujs-1-getparameterbyname/\">http://james.padolsey.com/javascript/bujs-1-getparameterbyname/</a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 5158301, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I use regular expressions a lot, but not for that.</p>\n\n<p>It seems easier and more efficient to me to read the query string once in my application, and build an object from all the key/value pairs like:</p>\n\n<pre><code>var search = function() {\n  var s = window.location.search.substr(1),\n    p = s.split(/\\&amp;/), l = p.length, kv, r = {};\n  if (l === 0) {return false;}\n  while (l--) {\n    kv = p[l].split(/\\=/);\n    r[kv[0]] = decodeURIComponent(kv[1] || '') || true;\n  }\n  return r;\n}();\n</code></pre>\n\n<p>For a URL like <code>http://domain.com?param1=val1&amp;param2=val2</code> you can get their value later in your code as <code>search.param1</code> and <code>search.param2</code>.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 5297222, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Just another recommendation. The plugin <em><a href=\"https://github.com/allmarkedup/jQuery-URL-Parser\" rel=\"nofollow\">Purl</a></em> allows to retrieve all parts of URL, including anchor, host, etc.</p>\n\n<p>It can be used with or without jQuery.</p>\n\n<p>Usage is very simple and cool:</p>\n\n<pre><code>var url = $.url('http://allmarkedup.com/folder/dir/index.html?item=value'); // jQuery version\nvar url = purl('http://allmarkedup.com/folder/dir/index.html?item=value'); // plain JS version\nurl.attr('protocol'); // returns 'http'\nurl.attr('path'); // returns '/folder/dir/index.html'\n</code></pre>\n\n<p>However, as of Nov 11, 2014, Purl is no longer maintained and the author recommends using <a href=\"https://github.com/medialize/URI.js\" rel=\"nofollow\">URI.js</a> instead.  The jQuery plugin is different in that it focuses on elements - for usage with strings, just use <code>URI</code> directly, with or without jQuery.  Similar code would look as such, fuller docs <a href=\"http://medialize.github.io/URI.js/docs.html\" rel=\"nofollow\">here</a>:</p>\n\n<pre><code>var url = new URI('http://allmarkedup.com/folder/dir/index.html?item=value'); // plain JS version\nurl.protocol(); // returns 'http'\nurl.path(); // returns '/folder/dir/index.html'\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 5313892, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I would rather use <code>split()</code> instead of Regex for this operation:</p>\n\n<pre><code>function getUrlParams() {\n    var result = {};\n    var params = (window.location.search.split('?')[1] || '').split('&amp;');\n    for(var param in params) {\n        if (params.hasOwnProperty(param)) {\n            paramParts = params[param].split('=');\n            result[paramParts[0]] = decodeURIComponent(paramParts[1] || \"\");\n        }\n    }\n    return result;\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 5877077, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I took <a href=\"http://stackoverflow.com/questions/901115/get-querystring-values-in-javascript/3855394#3855394\">this answer</a> and added support for optionally passing the URL in as a parameter; falls back to window.location.search. Obviously this is useful for getting the query string parameters from URLs that are not the current page:</p>\n\n<pre><code>(function($, undef) {\n  $.QueryString = function(url) {\n    var pairs, qs = null, index, map = {};\n    if(url == undef){\n      qs = window.location.search.substr(1);\n    }else{\n      index = url.indexOf('?');\n      if(index == -1) return {};\n      qs = url.substring(index+1);\n    }\n    pairs = qs.split('&amp;');\n    if (pairs == \"\") return {};\n    for (var i = 0; i &lt; pairs.length; ++i)\n    {\n      var p = pairs[i].split('=');\n      if(p.length != 2) continue;\n      map[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n    }\n    return map;\n  };\n})(jQuery);\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 6106579, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here's my edit to <a href=\"http://stackoverflow.com/questions/901115/get-query-string-values-in-javascript/3855394#3855394\">this excellent answer</a> - with added ability to parse query strings with keys without values.</p>\n\n<pre><code>var url = 'http://sb.com/reg/step1?param';\nvar qs = (function(a) {\n    if (a == \"\") return {};\n    var b = {};\n    for (var i = 0; i &lt; a.length; ++i) {\n        var p=a[i].split('=', 2);\n        if (p[1]) p[1] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n        b[p[0]] = p[1];\n    }\n    return b;\n})((url.split('?'))[1].split('&amp;'));\n</code></pre>\n\n<p><b>IMPORTANT!</b> The parameter for that function in the last line is different. It's just an example of how one can pass an arbitrary URL to it. You can use last line from Bruno's answer to parse the current URL.</p>\n\n<p>So what exactly changed? With url <code>http://sb.com/reg/step1?param=</code> results will be same. But with url <code>http://sb.com/reg/step1?param</code> Bruno's solution returns an object without keys, while mine returns an object with key <code>param</code> and <code>undefined</code> value.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 7106148, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>The following code will create an object which has two methods:</p>\n\n<ol>\n<li><code>isKeyExist</code>: Check if a particular parameter exist</li>\n<li><code>getValue</code>: Get the value of a particular parameter.</li>\n</ol>\n\n<p>&nbsp;</p>\n\n<pre><code>var QSParam = new function() {\n       var qsParm = {};\n       var query = window.location.search.substring(1);\n       var params = query.split('&amp;');\n       for (var i = 0; i &lt; params.length; i++) {\n           var pos = params[i].indexOf('=');\n           if (pos &gt; 0) {\n               var key = params[i].substring(0, pos);\n               var val = params[i].substring(pos + 1);\n               qsParm[key] = val;\n           }\n       }\n       this.isKeyExist = function(query){\n           if(qsParm[query]){\n               return true;\n           }\n           else{\n              return false;\n           }\n       };\n       this.getValue = function(query){\n           if(qsParm[query])\n           {\n               return qsParm[query];\n           }\n           throw \"URL does not contain query \"+ query;\n       }\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 7786438, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Try this:</p>\n\n<pre><code>String.prototype.getValueByKey = function(k){\n    var p = new RegExp('\\\\b'+k+'\\\\b','gi');\n    return this.search(p) != -1 ? decodeURIComponent(this.substr(this.search(p)+k.length+1).substr(0,this.substr(this.search(p)+k.length+1).search(/(&amp;|;|$)/))) : \"\";\n};\n</code></pre>\n\n<p>Then call it like so:</p>\n\n<pre><code>if(location.search != \"\") location.search.getValueByKey(\"id\");\n</code></pre>\n\n<p>You can use this for <strong>cookies</strong> also:</p>\n\n<pre><code>if(navigator.cookieEnabled) document.cookie.getValueByKey(\"username\");\n</code></pre>\n\n<p>This only works for strings that have <code>key=value[&amp;|;|$]</code>... will not work on objects/arrays.</p>\n\n<p>If you <strong>don't</strong> want to use <strong>String.prototype</strong>...\nmove it to a function and pass the string as an argument</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 8736060, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I like <a href=\"http://stackoverflow.com/a/3867610/632117\">Ryan Phelan's solution</a>. But I don't see any point of extending jQuery for that? There is no usage of jQuery functionality.</p>\n\n<p>On other hand I like the built-in function in Google Chrome: window.location.getParameter.</p>\n\n<p>So why not to use this? Okay, other browsers don't have. So let's create this function if it does not exist:</p>\n\n<pre><code>if (!window.location.getParameter ) {\n  window.location.getParameter = function(key) {\n    function parseParams() {\n        var params = {},\n            e,\n            a = /\\+/g,  // Regex for replacing addition symbol with a space\n            r = /([^&amp;=]+)=?([^&amp;]*)/g,\n            d = function (s) { return decodeURIComponent(s.replace(a, \" \")); },\n            q = window.location.search.substring(1);\n\n        while (e = r.exec(q))\n            params[d(e[1])] = d(e[2]);\n\n        return params;\n    }\n\n    if (!this.queryStringParams)\n        this.queryStringParams = parseParams(); \n\n    return this.queryStringParams[key];\n  };\n}\n</code></pre>\n\n<p>This function is more or less from Ryan Phelan, but it is wrapped differently: clear name and no dependencies of other javascript libraries. <a href=\"http://sharepointkunskap.wordpress.com/2012/01/11/get-url-parameters-with-javascript/\">More about this function on my blog</a>.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 8812157, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<pre><code>function getUrlVar(key){\n    var result = new RegExp(key + \"=([^&amp;]*)\", \"i\").exec(window.location.search); \n    return result &amp;&amp; unescape(result[1]) || \"\"; \n}\n</code></pre>\n\n<p><a href=\"https://gist.github.com/1771618\">https://gist.github.com/1771618</a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 9199617, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Keep it simple in plain JavaScript code:</p>\n\n<pre><code>function qs(key) {\n    var vars = [], hash;\n    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n    for(var i = 0; i &lt; hashes.length; i++)\n    {\n        hash = hashes[i].split('=');\n        vars.push(hash[0]);\n        vars[hash[0]] = hash[1];\n    }\n    return vars[key];\n}\n</code></pre>\n\n<p>Call it from anywhere in the JavaScript code:</p>\n\n<pre><code>var result = qs('someKey');\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 9362358, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>If you're doing more URL manipulation than simply parsing the querystring, you may find <a href=\"http://medialize.github.com/URI.js/\">URI.js</a> helpful. It is a library for manipulating URLs - and comes with all the bells and whistles. (Sorry for self-advertising here)</p>\n\n<p>to convert your querystring into a map:</p>\n\n<pre><code>var data = URI('?foo=bar&amp;bar=baz&amp;foo=world').query(true);\ndata == {\n  \"foo\": [\"bar\", \"world\"],\n  \"bar\": \"baz\"\n}\n</code></pre>\n\n<p>(URI.js also \"fixes\" bad querystrings like <code>?&amp;foo&amp;&amp;bar=baz&amp;</code> to <code>?foo&amp;bar=baz</code>)</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 9362596, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here's my own take on this. This first function decodes a URL string into an object of name/value pairs:</p>\n\n<pre><code>url_args_decode = function (url) {\n  var args_enc, el, i, nameval, ret;\n  ret = {};\n  // use the DOM to parse the URL via an 'a' element\n  el = document.createElement(\"a\");\n  el.href = url;\n  // strip off initial ? on search and split\n  args_enc = el.search.substring(1).split('&amp;');\n  for (i = 0; i &lt; args_enc.length; i++) {\n    // convert + into space, split on =, and then decode \n    args_enc[i].replace(/\\+/g, ' ');\n    nameval = args_enc[i].split('=', 2);\n    ret[decodeURIComponent(nameval[0])]=decodeURIComponent(nameval[1]);\n  }\n  return ret;\n};\n</code></pre>\n\n<p>And as an added bonus, if you change some of the args, you can use this second function to put the array of args back into the URL string:</p>\n\n<pre><code>url_args_replace = function (url, args) {\n  var args_enc, el, name;\n  // use the DOM to parse the URL via an 'a' element\n  el = document.createElement(\"a\");\n  el.href = url;\n  args_enc = [];\n  // encode args to go into url\n  for (name in args) {\n    if (args.hasOwnProperty(name)) {\n      name = encodeURIComponent(name);\n      args[name] = encodeURIComponent(args[name]);\n      args_enc.push(name + '=' + args[name]);\n    }\n  }\n  if (args_enc.length &gt; 0) {\n    el.search = '?' + args_enc.join('&amp;');\n  } else {\n    el.search = '';\n  }\n  return el.href;\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 9402569, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<pre><code>http://someurl.com?key=value&amp;keynovalue&amp;keyemptyvalue=&amp;&amp;keynovalue=nowhasvalue#somehash\n</code></pre>\n\n<ul>\n<li>Regular key/value pair (<code>?param=value</code>)</li>\n<li>Keys w/o value (<code>?param</code> : no equal sign or value)</li>\n<li>Keys w/ empty value (<code>?param=</code> : equal sign, but no value to right of equal sign)</li>\n<li>Repeated Keys (<code>?param=1&amp;param=2</code>)</li>\n<li>Removes Empty Keys (<code>?&amp;&amp;</code> : no key or value)</li>\n</ul>\n\n<h3>Code:</h3>\n\n<ul>\n<li><pre><code>var queryString = window.location.search || '';\nvar keyValPairs = [];\nvar params      = {};\nqueryString     = queryString.substr(1);\n\nif (queryString.length)\n{\n   keyValPairs = queryString.split('&amp;');\n   for (pairNum in keyValPairs)\n   {\n      var key = keyValPairs[pairNum].split('=')[0];\n      if (!key.length) continue;\n      if (typeof params[key] === 'undefined')\n         params[key] = [];\n      params[key].push(keyValPairs[pairNum].split('=')[1]);\n   }\n}\n</code></pre></li>\n</ul>\n\n<h3>How to Call:</h3>\n\n<ul>\n<li><pre><code>params['key'];  // returns an array of values (1..n)\n</code></pre></li>\n</ul>\n\n<h3>Output:</h3>\n\n<ul>\n<li><pre><code>key            [\"value\"]\nkeyemptyvalue  [\"\"]\nkeynovalue     [undefined, \"nowhasvalue\"]\n</code></pre></li>\n</ul>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 10049330, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This one works fine</p>\n\n<pre><code>function getQuerystring(key) {\n    var query = window.location.search.substring(1);\n    alert(query);\n    var vars = query.split(\"&amp;\");\n    for (var i = 0; i &lt; vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        if (pair[0] == key) {\n            return pair[1];\n        }\n    }\n}\n</code></pre>\n\n<p>taken from <a href=\"http://forums.asp.net/t/1771251.aspx/1\">here</a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 10733654, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>The following function returns an object version of your queryString. \nYou can simply write <code>obj.key1</code> and  <code>obj.key2</code> to access values of <code>key1</code> and <code>key2</code> in parameter.</p>\n\n<pre><code>function getQueryStringObject()\n{\n    var querystring = document.location.search.replace('?','').split( '&amp;' );\n    var objQueryString={};\n    var key=\"\",val=\"\";\n    if(typeof querystring == 'undefined')\n    {\n        return (typeof querystring);\n    }\n    for(i=0;i&lt;querystring.length;i++)\n    {\n        key=querystring[i].split(\"=\")[0];\n        val=querystring[i].split(\"=\")[1];\n        objQueryString[key] = val;\n    }\n    return objQueryString;\n}\n</code></pre>\n\n<p>And to use this function you can write</p>\n\n<pre><code>var obj= getQueryStringObject();\nalert(obj.key1);\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 11290751, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I like <a href=\"http://jquery-howto.blogspot.co.uk/2009/09/get-url-parameters-values-with-jquery.html\">this one</a> (taken from jquery-howto.blogspot.co.uk):</p>\n\n<pre><code>// get an array with all querystring values\n// example: var valor = getUrlVars()[\"valor\"];\nfunction getUrlVars() {\n    var vars = [], hash;\n    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n    for (var i = 0; i &lt; hashes.length; i++) {\n        hash = hashes[i].split('=');\n        vars.push(hash[0]);\n        vars[hash[0]] = hash[1];\n    }\n    return vars;\n}\n</code></pre>\n\n<p>Works great for me.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 11677514, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<h1>URLSearchParams</h1>\n\n<p>Firefox 44+, Opera 36+ and Chrome 49+ support the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams\" rel=\"nofollow\">URLSearchParams</a> API:</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/web/updates/2016/01/urlsearchparams\" rel=\"nofollow\">Chrome Announcement and details</a></li>\n<li><a href=\"https://dev.opera.com/blog/opera-36/\" rel=\"nofollow\">Opera Announcement and details</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/Firefox/Releases/44#Miscellaneous\" rel=\"nofollow\">Firefox Announcement and details</a></li>\n</ul>\n\n<p>It is not standardized by <a href=\"https://www.w3.org/TR/url/#interface-urlsearchparams\" rel=\"nofollow\">W3C</a>, but it is a living standard by <a href=\"https://url.spec.whatwg.org\" rel=\"nofollow\">WhatWG</a>.</p>\n\n<p>You can use it on location, but you need to remove the <code>?</code> question mark (for example, with <code>.slice(1)</code>):</p>\n\n<pre><code>let params = new URLSearchParams(location.search.slice(1));\n</code></pre>\n\n<p>Or of course on any URL:</p>\n\n<pre><code>let url = new URL('https://example.com?foo=1&amp;bar=2');\nlet params = new URLSearchParams(url.search.slice(1));\n</code></pre>\n\n<p>And you read/set parameters through the <code>get(KEY)</code>, <code>set(KEY, VALUE)</code>, <code>append(KEY, VALUE)</code> api. You can also iterate over all values <code>for (let p of params) {}</code>.</p>\n\n<p>There's also a google-suggested <strong><a href=\"https://github.com/WebReflection/url-search-params\" rel=\"nofollow\">URLSearchParams polyfill</a></strong> and a <a href=\"https://googlechrome.github.io/samples/urlsearchparams/\" rel=\"nofollow\">sample page</a> if you want to start using this API without relying on latest version of Chrome/Firefox/Opera.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 12151322, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here is a fast way to get an object similar to the PHP <a href=\"http://php.net/manual/en/reserved.variables.get.php\">$_GET</a> array:</p>\n\n<pre><code>function get_query(){\n    var url = location.search;\n    var qs = url.substring(url.indexOf('?') + 1).split('&amp;');\n    for(var i = 0, result = {}; i &lt; qs.length; i++){\n        qs[i] = qs[i].split('=');\n        result[qs[i][0]] = decodeURIComponent(qs[i][1]);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var $_GET = get_query();\n</code></pre>\n\n<p>For the query string <code>x=5&amp;y&amp;z=hello&amp;x=6</code> this returns the object:</p>\n\n<pre><code>{\n  x: \"6\",\n  y: undefined,\n  z: \"hello\"\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 12197444, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Just use two <strong>splits</strong>:</p>\n\n<pre><code>function get(n) {\n    var half = location.search.split(n + '=')[1];\n    return half !== undefined ? decodeURIComponent(half.split('&amp;')[0]) : null;\n}\n</code></pre>\n\n<p>I was reading all the previous and more complete answers. But I think that is the simplest and faster method. You can check in this jsPerf <a href=\"http://jsperf.com/querystring-with-javascript/9\" rel=\"nofollow\">benchmark</a></p>\n\n<p>To solve the problem in Rup's comment, add a conditional split by changing the first line to the two below. But absolute accuracy means it's now slower than regexp (see <a href=\"http://jsperf.com/querystring-with-javascript/10\" rel=\"nofollow\">jsPerf</a>).</p>\n\n<pre><code>function get(n) {\n    var half = location.search.split('&amp;' + n + '=')[1];\n    if (!half) half = location.search.split('?' + n + '=')[1];\n    return half !== undefined ? decodeURIComponent(half.split('&amp;')[0]) : null;\n}\n</code></pre>\n\n<p>So if you know you won't run into Rup's counter-case, this wins. Otherwise, regexp.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 12254019, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>These are all great answers, but I needed something a bit more robust, and thought you all might like to have what I created.</p>\n\n<p>It is a simple library method that does dissection and manipulation of URL parameters. The static method has the following sub methods that can be called on the subject URL:</p>\n\n<ul>\n<li>getHost</li>\n<li>getPath</li>\n<li>getHash</li>\n<li>setHash</li>\n<li>getParams</li>\n<li>getQuery</li>\n<li>setParam</li>\n<li>getParam</li>\n<li>hasParam</li>\n<li>removeParam</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>URLParser(url).getParam('myparam1')\n</code></pre>\n\n<hr>\n\n<pre><code>var url = \"http://www.test.com/folder/mypage.html?myparam1=1&amp;myparam2=2#something\";\n\nfunction URLParser(u){\n    var path=\"\",query=\"\",hash=\"\",params;\n    if(u.indexOf(\"#\") &gt; 0){\n        hash = u.substr(u.indexOf(\"#\") + 1);\n        u = u.substr(0 , u.indexOf(\"#\"));\n    }\n    if(u.indexOf(\"?\") &gt; 0){\n        path = u.substr(0 , u.indexOf(\"?\"));\n        query = u.substr(u.indexOf(\"?\") + 1);\n        params= query.split('&amp;');\n    }else\n        path = u;\n    return {\n        getHost: function(){\n            var hostexp = /\\/\\/([\\w.-]*)/;\n            var match = hostexp.exec(path);\n            if (match != null &amp;&amp; match.length &gt; 1)\n                return match[1];\n            return \"\";\n        },\n        getPath: function(){\n            var pathexp = /\\/\\/[\\w.-]*(?:\\/([^?]*))/;\n            var match = pathexp.exec(path);\n            if (match != null &amp;&amp; match.length &gt; 1)\n                return match[1];\n            return \"\";\n        },\n        getHash: function(){\n            return hash;\n        },\n        getParams: function(){\n            return params\n        },\n        getQuery: function(){\n            return query;\n        },\n        setHash: function(value){\n            if(query.length &gt; 0)\n                query = \"?\" + query;\n            if(value.length &gt; 0)\n                query = query + \"#\" + value;\n            return path + query;\n        },\n        setParam: function(name, value){\n            if(!params){\n                params= new Array();\n            }\n            params.push(name + '=' + value);\n            for (var i = 0; i &lt; params.length; i++) {\n                if(query.length &gt; 0)\n                    query += \"&amp;\";\n                query += params[i];\n            }\n            if(query.length &gt; 0)\n                query = \"?\" + query;\n            if(hash.length &gt; 0)\n                query = query + \"#\" + hash;\n            return path + query;\n        },\n        getParam: function(name){\n            if(params){\n                for (var i = 0; i &lt; params.length; i++) {\n                    var pair = params[i].split('=');\n                    if (decodeURIComponent(pair[0]) == name)\n                        return decodeURIComponent(pair[1]);\n                }\n            }\n            console.log('Query variable %s not found', name);\n        },\n        hasParam: function(name){\n            if(params){\n                for (var i = 0; i &lt; params.length; i++) {\n                    var pair = params[i].split('=');\n                    if (decodeURIComponent(pair[0]) == name)\n                        return true;\n                }\n            }\n            console.log('Query variable %s not found', name);\n        },\n        removeParam: function(name){\n            query = \"\";\n            if(params){\n                var newparams = new Array();\n                for (var i = 0;i &lt; params.length;i++) {\n                    var pair = params[i].split('=');\n                    if (decodeURIComponent(pair[0]) != name)\n                          newparams .push(params[i]);\n                }\n                params = newparams;\n                for (var i = 0; i &lt; params.length; i++) {\n                    if(query.length &gt; 0)\n                        query += \"&amp;\";\n                    query += params[i];\n                }\n            }\n            if(query.length &gt; 0)\n                query = \"?\" + query;\n            if(hash.length &gt; 0)\n                query = query + \"#\" + hash;\n            return path + query;\n        },\n    }\n}\n\n\ndocument.write(\"Host: \" + URLParser(url).getHost() + '&lt;br&gt;');\ndocument.write(\"Path: \" + URLParser(url).getPath() + '&lt;br&gt;');\ndocument.write(\"Query: \" + URLParser(url).getQuery() + '&lt;br&gt;');\ndocument.write(\"Hash: \" + URLParser(url).getHash() + '&lt;br&gt;');\ndocument.write(\"Params Array: \" + URLParser(url).getParams() + '&lt;br&gt;');\ndocument.write(\"Param: \" + URLParser(url).getParam('myparam1') + '&lt;br&gt;');\ndocument.write(\"Has Param: \" + URLParser(url).hasParam('myparam1') + '&lt;br&gt;');\n\ndocument.write(url + '&lt;br&gt;');\n\n// Remove the first parameter\nurl = URLParser(url).removeParam('myparam1');\ndocument.write(url + ' - Remove the first parameter&lt;br&gt;');\n\n// Add a third parameter\nurl = URLParser(url).setParam('myparam3',3);\ndocument.write(url + ' - Add a third parameter&lt;br&gt;');\n\n// Remove the second parameter\nurl = URLParser(url).removeParam('myparam2');\ndocument.write(url + ' - Remove the second parameter&lt;br&gt;');\n\n// Add a hash\nurl = URLParser(url).setHash('newhash');\ndocument.write(url + ' - Set Hash&lt;br&gt;');\n\n// Remove the last parameter\nurl = URLParser(url).removeParam('myparam3');\ndocument.write(url + ' - Remove the last parameter&lt;br&gt;');\n\n// Remove a parameter that doesn't exist\nurl = URLParser(url).removeParam('myparam3');\ndocument.write(url + ' - Remove a parameter that doesn\\\"t exist&lt;br&gt;');\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 12397882, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "\n\n<p>This function converts the querystring to a JSON-like object, it also handles value-less and multi-value parameters:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"use strict\";\nfunction getQuerystringData(name) {\n    var data = { };\n    var parameters = window.location.search.substring(1).split(\"&amp;\");\n    for (var i = 0, j = parameters.length; i &lt; j; i++) {\n        var parameter = parameters[i].split(\"=\");\n        var parameterName = decodeURIComponent(parameter[0]);\n        var parameterValue = typeof parameter[1] === \"undefined\" ? parameter[1] : decodeURIComponent(parameter[1]);\n        var dataType = typeof data[parameterName];\n        if (dataType === \"undefined\") {\n            data[parameterName] = parameterValue;\n        } else if (dataType === \"array\") {\n            data[parameterName].push(parameterValue);\n        } else {\n            data[parameterName] = [data[parameterName]];\n            data[parameterName].push(parameterValue);\n        }\n    }\n    return typeof name === \"string\" ? data[name] : data;\n}\n</code></pre>\n\n<p>We perform a check for <code>undefined</code> on <code>parameter[1]</code> because <code>decodeURIComponent</code> returns the string \"undefined\" if the variable is <code>undefined</code>, and that's wrong.</p>\n\n<p>Usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\"use strict\";\nvar data = getQuerystringData();\nvar parameterValue = getQuerystringData(\"parameterName\");\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 13083424, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>There is a nice little <code>url</code> utility for this with some cool sugaring:</p>\n\n<pre><code>http://www.example.com/path/index.html?silly=willy#chucky=cheese\n\nurl();            // http://www.example.com/path/index.html?silly=willy#chucky=cheese\nurl('domain');    // example.com\nurl('1');         // path\nurl('-1');        // index.html\nurl('?');         // silly=willy\nurl('?silly');    // willy\nurl('?poo');      // (an empty string)\nurl('#');         // chucky=cheese\nurl('#chucky');   // cheese\nurl('#poo');      // (an empty string)\n</code></pre>\n\n<p>Check out more examples and download here: <a href=\"https://github.com/websanova/js-url#url\">https://github.com/websanova/js-url#url</a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 13166991, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>One-liner to get the query:</p>\n\n<pre><code>var value = location.search.match(new RegExp(key + \"=(.*?)($|\\&amp;)\", \"i\"))[1];\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 13403640, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p><em><strong>This the most simple and small function JavaScript to get int ans String parameter value from URL</em></strong></p>\n\n<pre><code>/* THIS FUNCTION IS TO FETCH INT PARAMETER VALUES */\n\nfunction getParameterint(param) {\n            var val = document.URL;\n            var url = val.substr(val.indexOf(param))  \n            var n=parseInt(url.replace(param+\"=\",\"\"));\n            alert(n); \n}\ngetParameteraint(\"page\");\ngetParameteraint(\"pagee\");\n\n/*THIS FUNCTION IS TO FETCH STRING PARAMETER*/\nfunction getParameterstr(param) {\n            var val = document.URL;\n            var url = val.substr(val.indexOf(param))  \n            var n=url.replace(param+\"=\",\"\");\n            alert(n); \n}\ngetParameterstr(\"str\");\n</code></pre>\n\n<p><strong>Source And DEMO :</strong> <a href=\"http://bloggerplugnplay.blogspot.in/2012/08/how-to-get-url-parameter-in-javascript.html\" rel=\"nofollow\">http://bloggerplugnplay.blogspot.in/2012/08/how-to-get-url-parameter-in-javascript.html</a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 14515902, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I developed a small library using techniques listed here to create an easy to use, drop-in solution to anyones troubles; It can be found here: </p>\n\n<p><a href=\"https://github.com/Nijikokun/query-js\">https://github.com/Nijikokun/query-js</a></p>\n\n<p><strong>Usage</strong></p>\n\n<p>Fetching specific parameter/key:</p>\n\n<pre><code>query.get('param');\n</code></pre>\n\n<p>Using the builder to fetch the entire object:</p>\n\n<pre><code>var storage = query.build();\nconsole.log(storage.param);\n</code></pre>\n\n<p>and tons more... check the github link for more examples.</p>\n\n<p><strong>Features</strong></p>\n\n<ol>\n<li>Caching on both decoding and parameters</li>\n<li>Supports hash query strings <code>#hello?page=3</code></li>\n<li>Supports passing custom queries</li>\n<li>Supports Array / Object Parameters <code>user[]=\"jim\"&amp;user[]=\"bob\"</code></li>\n<li>Supports empty management <code>&amp;&amp;</code></li>\n<li>Supports declaration parameters without values <code>name&amp;hello=\"world\"</code></li>\n<li>Supports repeated parameters <code>param=1&amp;param=2</code></li>\n<li>Clean, compact, and readable source <code>4kb</code></li>\n<li>AMD, Require, Node support</li>\n</ol>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 14529966, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<pre><code>function GetQueryStringParams(sParam)\n{\n    var sPageURL = window.location.search.substring(1);\n    var sURLVariables = sPageURL.split('&amp;');\n\n    for (var i = 0; i &lt; sURLVariables.length; i++)\n    {\n        var sParameterName = sURLVariables[i].split('=');\n        if (sParameterName[0] == sParam)\n        {\n            return sParameterName[1];\n        }\n    }\n}\u200b\n</code></pre>\n\n<p>And this is how you can use this function assuming the URL is</p>\n\n<blockquote>\n  <p><code>http://dummy.com/?stringtext=jquery&amp;stringword=jquerybyexample</code></p>\n</blockquote>\n\n<pre><code>var tech = GetQueryStringParams('stringtext');\nvar blog = GetQueryStringParams('stringword');\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 14725238, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>From <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URLUtils/search#Get_the_value_of_a_single_search_param\">the MDN</a>:</p>\n\n<pre><code>function loadPageVar (sVar) {\n\u00a0\u00a0return unescape(window.location.search.replace(new RegExp(\"^(?:.*[&amp;\\\\?]\" + escape(sVar).replace(/[\\.\\+\\*]/g, \"\\\\$&amp;\") + \"(?:\\\\=([^&amp;]*))?)?.*$\", \"i\"), \"$1\"));\n}\n\nalert(loadPageVar(\"name\"));\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 14810325, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I needed an object from the query string, and I hate lots of code. It may not be the most robust in the universe, but it's just a few lines of code.</p>\n\n<pre><code>var q = {};\nlocation.href.split('?')[1].split('&amp;').forEach(function(i){\n    q[i.split('=')[0]]=i.split('=')[1];\n});\n</code></pre>\n\n<p>A URL like <code>this.htm?hello=world&amp;foo=bar</code> will create:</p>\n\n<pre><code>{hello:'world', foo:'bar'}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 14884254, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I believe this to be an accurate and concise way to achieve this (modified from <a href=\"http://css-tricks.com/snippets/javascript/get-url-variables/\" rel=\"nofollow\">http://css-tricks.com/snippets/javascript/get-url-variables/</a>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getQueryVariable(variable) {\n\n    var query = window.location.search.substring(1),            // Remove the ? from the query string.\n        vars = query.split(\"&amp;\");                                // Split all values by ampersand.\n\n    for (var i = 0; i &lt; vars.length; i++) {                     // Loop through them...\n        var pair = vars[i].split(\"=\");                          // Split the name from the value.\n        if (pair[0] == variable) {                              // Once the requested value is found...\n            return ( pair[1] == undefined ) ? null : pair[1];   // Return null if there is no value (no equals sign), otherwise return the value.\n        }\n    }\n\n    return undefined;                                           // Wasn't found.\n\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 15457506, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>A very lightweight jQuery method: </p>\n\n<pre><code>var qs = window.location.search.replace('?','').split('&amp;'),\n    request = {};\n$.each(qs, function(i,v) {\n    var pair = v.split('=');\n    return request[pair[0]] = pair[1];\n});\nconsole.log(request);\n</code></pre>\n\n<p>And to alert, for example ?q</p>\n\n<pre><code>alert(request.q)\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 15694751, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>If you want array-style parameters <a href=\"https://github.com/kevincox/url.js\" rel=\"nofollow\">URL.js</a> supports arbitrarily nested array-style parameters as well as string indexes (maps). It also handles URL decoding.</p>\n\n<pre><code>url.get(\"val[0]=zero&amp;val[1]=one&amp;val[2]&amp;val[3]=&amp;val[4]=four&amp;val[5][0]=n1&amp;val[5][1]=n2&amp;val[5][2]=n3&amp;key=val\", {array:true});\n// Result\n{\n    val: [\n        'zero',\n        'one',\n        true,\n        '',\n        'four',\n        [ 'n1', 'n2', 'n3' ]\n    ]\n    key: 'val'\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 15753745, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>The problem with the top answer on that question is that it's not-supported parameters placed after #, but sometimes it's needed to get this value also.</p>\n\n<p>I modified the answer to let it parse a full query string with a hash sign also:</p>\n\n<pre><code>var getQueryStringData = function(name) {\n    var result = null;\n    var regexS = \"[\\\\?&amp;#]\" + name + \"=([^&amp;#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec('?' + window.location.href.split('?')[1]);\n    if (results != null) {\n        result = decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n    }\n    return result;\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 15988938, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I did a small URL library for my needs here: <a href=\"https://github.com/Mikhus/jsurl\" rel=\"nofollow\">https://github.com/Mikhus/jsurl</a></p>\n\n<p>It's a more common way of manipulating the URLs in JavaScript. Meanwhile it's really lightweight (minified and gzipped &lt; 1&nbsp;KB) and has a very simple and clean API. And it does not need any other library to work.</p>\n\n<p>Regarding the initial question, it's very simple to do:</p>\n\n<pre><code>var u = new Url; // Current document URL\n// or\nvar u = new Url('http://user:pass@example.com:8080/some/path?foo=bar&amp;bar=baz#anchor');\n\n// Looking for query string parameters\nalert( u.query.bar);\nalert( u.query.foo);\n\n// Modifying query string parameters\nu.query.foo = 'bla';\nu.query.woo = ['hi', 'hey']\n\nalert(u.query.foo);\nalert(u.query.woo);\nalert(u);\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 16099285, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>If you are using Browserify, you can use the <code>url</code> module from <em>Node.js</em>:</p>\n\n<pre><code>var url = require('url');\n\nurl.parse('http://example.com/?bob=123', true).query;\n\n// returns { \"bob\": \"123\" }\n</code></pre>\n\n<p>Further reading: <a href=\"http://nodejs.org/api/url.html\"><strong>URL Node.js v0.12.2 Manual &amp; Documentation</strong></a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 16543587, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>If you do not wish to use a JavaScript library you can use the JavaScript string functions to parse <code>window.location</code>. Keep this code in an external .js file and you can use it over and over again in different projects.</p>\n\n<pre><code>// Example - window.location = \"index.htm?name=bob\";\n\nvar value = getParameterValue(\"name\");\n\nalert(\"name = \" + value);\n\nfunction getParameterValue(param)\n{\n    var url = window.location;\n    var parts = url.split('?');\n    var params = parts[1].split('&amp;');\n    var val = \"\";\n\n    for ( var i=0; i&lt;params.length; i++)\n    {\n        var paramNameVal = params[i].split('=');\n\n        if ( paramNameVal[0] == param )\n        {\n            val = paramNameVal[1];\n        }\n    }\n    return val;\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 16600410, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>See this <a href=\"http://www.darlesson.com/jquery/querystring/\" rel=\"nofollow\">post</a> or use this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n    $(document).ready(function()\n    {\n        var urlParams = {};\n        (function ()\n        {\n            var match,\n            pl= /\\+/g,  // Regular expression for replacing addition symbol with a space\n            search = /([^&amp;=]+)=?([^&amp;]*)/g,\n            decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n            query  = window.location.search.substring(1);\n\n            while (match = search.exec(query))\n                urlParams[decode(match[1])] = decode(match[2]);\n        })();\n\n        if (urlParams[\"q1\"] === 1)\n        {\n            return 1;\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 17567046, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I recommend <a href=\"http://www.darlesson.com/jquery/querystring/\" rel=\"nofollow\">Dar Lessons</a> as a good plugin. I have worked with it fo  a long time. You can also use the following code.\nJus put <code>var queryObj = {};</code> before document.ready and put the bellow code in the beginning of document.ready. After this code you can use <code>queryObj[\"queryObjectName\"]</code> for any query object you have</p>\n\n<pre><code>var querystring = location.search.replace('?', '').split('&amp;');\nfor (var i = 0; i &lt; querystring.length; i++) {\n    var name = querystring[i].split('=')[0];\n    var value = querystring[i].split('=')[1];\n    queryObj[name] = value;\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 17628458, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Use:</p>\n\n<pre><code>  $(document).ready(function () {\n      var urlParams = {};\n      (function () {\n          var match,\n          pl = /\\+/g, // Regex for replacing addition symbol with a space\n              search = /([^&amp;=]+)=?([^&amp;]*)/g,\n              decode = function (s) {\n                  return decodeURIComponent(s.replace(pl, \" \"));\n              },\n              query = window.location.search.substring(1);\n\n          while (match = search.exec(query))\n              urlParams[decode(match[1])] = decode(match[2]);\n      })();\n      if (urlParams[\"q1\"] === 1) {\n          return 1;\n      }\n</code></pre>\n\n<p>Please check and let me know your comments. Also refer to <em><a href=\"http://jquerybyexample.blogspot.com/2012/05/how-to-get-querystring-value-using.html\" rel=\"nofollow\">How to get querystring value using jQuery</a></em>.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 17810898, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>There's a robust implementation in Node.js's source<br>\n<a href=\"https://github.com/joyent/node/blob/master/lib/querystring.js\">https://github.com/joyent/node/blob/master/lib/querystring.js</a>  </p>\n\n<p>Also TJ's qs does nested params parsing<br>\n<a href=\"https://github.com/visionmedia/node-querystring\">https://github.com/visionmedia/node-querystring</a>  </p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 17907395, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<pre><code>var getUrlParameters = function (name, url) {\n    if (!name) {\n        return undefined;\n    }\n\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    url = url || location.search;\n\n    var regex = new RegExp('[\\\\?&amp;#]' + name + '=?([^&amp;#]*)', 'gi'), result, resultList = [];\n\n    while (result = regex.exec(url)) {\n        resultList.push(decodeURIComponent(result[1].replace(/\\+/g, ' ')));\n    }\n\n    return resultList.length ? resultList.length === 1 ? resultList[0] : resultList : undefined;\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 18195920, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>I used this code (JavaScript) to get the what is passed through the URL:</p>\n\n<pre><code>function getUrlVars() {\n            var vars = {};\n            var parts = window.location.href.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value) {\n                vars[key] = value;\n            });\n            return vars;\n        }\n</code></pre>\n\n<p>Then to assign the value to a variable, you only have to specify which parameter you want to get, ie if the URL is <code>example.com/?I=1&amp;p=2&amp;f=3</code></p>\n\n<p>You can do this to get the values:</p>\n\n<pre><code>var getI = getUrlVars()[\"I\"];\nvar getP = getUrlVars()[\"p\"];\nvar getF = getUrlVars()[\"f\"];\n</code></pre>\n\n<p>then the values would be:</p>\n\n<pre><code>getI = 1, getP = 2 and getF = 3\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 18671460, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>There are many solutions to retrieve URI query values, I prefer this one because it's short and works great:</p>\n\n<pre><code>function get(name){\n   if(name=(new RegExp('[?&amp;]'+encodeURIComponent(name)+'=([^&amp;]*)')).exec(location.search))\n      return decodeURIComponent(name[1]);\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 18671891, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This is very simple method to get parameter value(query string)</p>\n\n<p>Use <code>gV(para_name)</code> function to retrieve its value</p>\n\n<pre><code>var a=window.location.search;\na=a.replace(a.charAt(0),\"\"); //Removes '?'\na=a.split(\"&amp;\");\n\nfunction gV(x){\n for(i=0;i&lt;a.length;i++){\n  var b=a[i].substr(0,a[i].indexOf(\"=\"));\n  if(x==b){\n   return a[i].substr(a[i].indexOf(\"=\")+1,a[i].length)}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 18792024, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>We've just released <a href=\"https://github.com/stretchr/arg.js\">arg.js</a>, a project aimed at solving this problem once and for all.  It's traditionally been so difficult but now you can do:</p>\n\n<pre><code>var name = Arg.get(\"name\");\n</code></pre>\n\n<p>or getting the whole lot:</p>\n\n<pre><code>var params = Arg.all();\n</code></pre>\n\n<p>and if you care about the difference between <code>?query=true</code> and <code>#hash=true</code> then you can use the <code>Arg.query()</code> and <code>Arg.hash()</code> methods.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 19100361, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>If you have <a href=\"https://en.wikipedia.org/wiki/Underscore.js\" rel=\"nofollow\">Underscore.js</a> or <a href=\"http://lodash.com/docs#zipObject\" rel=\"nofollow\">lodash</a>, a quick and dirty way to get this done is:</p>\n\n<pre><code>_.object(window.location.search.slice(1).split('&amp;').map(function (val) { return val.split('='); }));\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 20099782, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<h1><em>tl;dr</em></h1>\n\n<p>A quick, <strong>complete solution</strong>, which handles <strong>multivalued keys</strong> and <strong>encoded characters</strong>.</p>\n\n<pre><code>var qd = {};\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {var s = item.split(\"=\"), k = s[0], v = s[1] &amp;&amp; decodeURIComponent(s[1]); (qd[k] = qd[k] || []).push(v)})\n\n//using ES6\nlocation.search.substr(1).split(\"&amp;\").forEach((item) =&gt; {var [k,v] = item.split(\"=\"); v = v &amp;&amp; decodeURIComponent(v); (qd[k] = qd[k] || []).push(v)})\n</code></pre>\n\nMulti-lined:\n\n<pre><code>var qd = {};\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {\n    var s = item.split(\"=\"),\n        k = s[0],\n        v = s[1] &amp;&amp; decodeURIComponent(s[1]);\n    //(k in qd) ? qd[k].push(v) : qd[k] = [v]\n    (qd[k] = qd[k] || []).push(v) //short-circuit\n})\n</code></pre>\n\nExample:\n\n<pre><code>\"?a=1&amp;b=0&amp;c=3&amp;d&amp;e&amp;a=5&amp;a=t%20e%20x%20t&amp;e=http%3A%2F%2Fw3schools.com%2Fmy%20test.asp%3Fname%3Dst\u00e5le%26car%3Dsaab\"\n&gt; qd\na: [\"1\", \"5\", \"t e x t\"]\nb: [\"0\"]\nc: [\"3\"]\nd: [undefined]\ne: [undefined, \"http://w3schools.com/my test.asp?name=st\u00e5le&amp;car=saab\"]\n\n&gt; qd.a[1]    // \"5\"\n&gt; qd[\"a\"][1] // \"5\"\n</code></pre>\n\n<p><em><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Short-Circuit_Evaluation\" rel=\"nofollow\">short-circuit evaluation</a>, ES6 <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow\">Destructuring assignments</a>, <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow\">Arrow functions</a></em></p>\n\n<hr>\n\n<h1>Read more... about the Vanilla JavaScript solution.</h1>\n\n<p><em>To access different parts of a URL use <code>location.(search|hash)</code></em></p>\n\n<h2>Easiest (dummy) solution</h2>\n\n<pre><code>var queryDict = {};\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]})\n</code></pre>\n\n<ul>\n<li>Handles <b>empty keys</b> correctly.</li>\n<li>Overrides <b>multi-keys</b> with <b>last</b> value found.</li>\n</ul>\n\n<pre><code>\"?a=1&amp;b=0&amp;c=3&amp;d&amp;e&amp;a=5\"\n&gt; queryDict\na: \"5\"\nb: \"0\"\nc: \"3\"\nd: undefined\ne: undefined\n</code></pre>\n\n<h2>Multi-valued keys</h2>\n\n<p>Simple key check <code>(item in dict) ? dict.item.push(val) : dict.item = [val]</code></p>\n\n<pre><code>var qd = {};\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {(item.split(\"=\")[0] in qd) ? qd[item.split(\"=\")[0]].push(item.split(\"=\")[1]) : qd[item.split(\"=\")[0]] = [item.split(\"=\")[1]]})\n</code></pre>\n\n<ul>\n<li>Now returns <b>arrays</b> instead.</li>\n<li>Access values by <code>qd.key[index]</code> or <code>qd[key][index]</code></li>\n</ul>\n\n<pre><code>&gt; qd\na: [\"1\", \"5\"]\nb: [\"0\"]\nc: [\"3\"]\nd: [undefined]\ne: [undefined]\n</code></pre>\n\n<h2>Encoded characters?</h2>\n\n<p>Use <code>decodeURIComponent()</code> for the second <em>or both</em> splits.</p>\n\n<pre><code>var qd = {};\nlocation.search.substr(1).split(\"&amp;\").forEach(function(item) {var k = item.split(\"=\")[0], v = decodeURIComponent(item.split(\"=\")[1]); (k in qd) ? qd[k].push(v) : qd[k] = [v]})\n</code></pre>\n\nExample:\n\n<pre><code>\"?a=1&amp;b=0&amp;c=3&amp;d&amp;e&amp;a=5&amp;a=t%20e%20x%20t&amp;e=http%3A%2F%2Fw3schools.com%2Fmy%20test.asp%3Fname%3Dst\u00e5le%26car%3Dsaab\"\n&gt; qd\na: [\"1\", \"5\", \"t e x t\"]\nb: [\"0\"]\nc: [\"3\"]\nd: [\"undefined\"]  // decodeURIComponent(undefined) returns \"undefined\" !!!*\ne: [\"undefined\", \"http://w3schools.com/my test.asp?name=st\u00e5le&amp;car=saab\"]\n</code></pre>\n\n<p><strong>*!!!</strong> Please note, that <code>decodeURIComponent(undefined)</code> returns string <code>\"undefined\"</code>. The solution lies in a simple usage of <a href=\"http://stackoverflow.com/a/476445/985454\"><code>&amp;&amp;</code></a>, which ensures that <code>decodeURIComponent()</code> is not called on undefined values. <em>(See the \"complete solution\" at the top.)</em></p>\n\n<pre><code>v = v &amp;&amp; decodeURIComponent(v);\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21152762, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Doing this reliably is more involved than one may think at first.</p>\n\n<ol>\n<li><code>location.search</code>, which is used in other answers, is brittle and\nshould be avoided - for example, it returns empty if someone screws\nup and puts a <code>#fragment</code> identifier before the <code>?query</code> string.</li>\n<li>There are a number of ways URLs get automatically escaped in the\nbrowser, which makes <code>decodeURIComponent</code> pretty much mandatory, in\nmy opinion.</li>\n<li>Many query strings are generated from user input, which means\nassumptions about the URL content are very bad. Including very basic\nthings like that each key is unique or even has a value.</li>\n</ol>\n\n<p>To solve this, here is a configurable API with a healthy dose of <a href=\"http://en.wikipedia.org/wiki/Defensive_programming\" rel=\"nofollow\" title=\"Wiki article on programming with less assumptions.\">defensive programming</a>. Note that it can be made half the size if you are willing to hardcode some of the variables, or if the input can never include <code>hasOwnProperty</code>, etc.</p>\n\n<p><strong>Version 1:</strong> Returns a data object with names and values for each parameter. It effectively de-duplicates them and always respects the first one found from left-to-right.</p>\n\n<pre><code>function getQueryData(url, paramKey, pairKey, missingValue, decode) {\n\n    var query, queryStart, fragStart, pairKeyStart, i, len, name, value, result;\n\n    if (!url || typeof url !== 'string') {\n        url = location.href; // more robust than location.search, which is flaky\n    }\n    if (!paramKey || typeof paramKey !== 'string') {\n        paramKey = '&amp;';\n    }\n    if (!pairKey || typeof pairKey !== 'string') {\n        pairKey = '=';\n    }\n    // when you do not explicitly tell the API...\n    if (arguments.length &lt; 5) {\n        // it will unescape parameter keys and values by default...\n        decode = true;\n    }\n\n    queryStart = url.indexOf('?');\n    if (queryStart &gt;= 0) {\n        // grab everything after the very first ? question mark...\n        query = url.substring(queryStart + 1);\n    } else {\n        // assume the input is already parameter data...\n        query = url;\n    }\n    // remove fragment identifiers...\n    fragStart = query.indexOf('#');\n    if (fragStart &gt;= 0) {\n        // remove everything after the first # hash mark...\n        query = query.substring(0, fragStart);\n    }\n    // make sure at this point we have enough material to do something useful...\n    if (query.indexOf(paramKey) &gt;= 0 || query.indexOf(pairKey) &gt;= 0) {\n        // we no longer need the whole query, so get the parameters...\n        query = query.split(paramKey);\n        result = {};\n        // loop through the parameters...\n        for (i = 0, len = query.length; i &lt; len; i = i + 1) {\n            pairKeyStart = query[i].indexOf(pairKey);\n            if (pairKeyStart &gt;= 0) {\n                name = query[i].substring(0, pairKeyStart);\n            } else {\n                name = query[i];\n            }\n            // only continue for non-empty names that we have not seen before...\n            if (name &amp;&amp; !Object.prototype.hasOwnProperty.call(result, name)) {\n                if (decode) {\n                    // unescape characters with special meaning like ? and #\n                    name = decodeURIComponent(name);\n                }\n                if (pairKeyStart &gt;= 0) {\n                    value = query[i].substring(pairKeyStart + 1);\n                    if (value) {\n                        if (decode) {\n                            value = decodeURIComponent(value);\n                        }\n                    } else {\n                        value = missingValue;\n                    }\n                } else {\n                    value = missingValue;\n                }\n                result[name] = value;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p><strong>Version 2:</strong> Returns a data map object with two identical length arrays, one for names and one for values, with an index for each parameter. This one supports duplicate names and intentionally does not de-duplicate them, because that is probably why you would want to use this format.</p>\n\n<pre><code>function getQueryData(url, paramKey, pairKey, missingValue, decode) {\n\n   var query, queryStart, fragStart, pairKeyStart, i, len, name, value, result;\n\n   if (!url || typeof url !== 'string') {\n       url = location.href; // more robust than location.search, which is flaky\n   }\n   if (!paramKey || typeof paramKey !== 'string') {\n       paramKey = '&amp;';\n   }\n   if (!pairKey || typeof pairKey !== 'string') {\n       pairKey = '=';\n   }\n   // when you do not explicitly tell the API...\n   if (arguments.length &lt; 5) {\n       // it will unescape parameter keys and values by default...\n       decode = true;\n   }\n\n   queryStart = url.indexOf('?');\n   if (queryStart &gt;= 0) {\n       // grab everything after the very first ? question mark...\n       query = url.substring(queryStart + 1);\n   } else {\n       // assume the input is already parameter data...\n       query = url;\n   }\n   // remove fragment identifiers...\n   fragStart = query.indexOf('#');\n   if (fragStart &gt;= 0) {\n       // remove everything after the first # hash mark...\n       query = query.substring(0, fragStart);\n   }\n   // make sure at this point we have enough material to do something useful...\n   if (query.indexOf(paramKey) &gt;= 0 || query.indexOf(pairKey) &gt;= 0) {\n       // we no longer need the whole query, so get the parameters...\n       query = query.split(paramKey);\n       result = {\n           names: [],\n           values: []\n       };\n       // loop through the parameters...\n       for (i = 0, len = query.length; i &lt; len; i = i + 1) {\n           pairKeyStart = query[i].indexOf(pairKey);\n           if (pairKeyStart &gt;= 0) {\n               name = query[i].substring(0, pairKeyStart);\n           } else {\n               name = query[i];\n           }\n           // only continue for non-empty names...\n           if (name) {\n               if (decode) {\n                   // unescape characters with special meaning like ? and #\n                   name = decodeURIComponent(name);\n               }\n               if (pairKeyStart &gt;= 0) {\n                   value = query[i].substring(pairKeyStart + 1);\n                   if (value) {\n                       if (decode) {\n                           value = decodeURIComponent(value);\n                       }\n                   } else {\n                       value = missingValue;\n                   }\n               } else {\n                   value = missingValue;\n               }\n               result.names.push(name);\n               result.values.push(value);\n           }\n       }\n       return result;\n   }\n</code></pre>\n\n<p>}</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21181015, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This will parse variables <strong>AND</strong> arrays from a URL string. It uses neither <em>regex</em> or any external library.</p>\n\n<pre><code>function url2json(url) {\n   var obj={};\n   function arr_vals(arr){\n      if (arr.indexOf(',') &gt; 1){\n         var vals = arr.slice(1, -1).split(',');\n         var arr = [];\n         for (var i = 0; i &lt; vals.length; i++)\n            arr[i]=vals[i];\n         return arr;\n      }\n      else\n         return arr.slice(1, -1);\n   }\n   function eval_var(avar){\n      if (!avar[1])\n          obj[avar[0]] = '';\n      else\n      if (avar[1].indexOf('[') == 0)\n         obj[avar[0]] = arr_vals(avar[1]);\n      else\n         obj[avar[0]] = avar[1];\n   }\n   if (url.indexOf('?') &gt; -1){\n      var params = url.split('?')[1];\n      if(params.indexOf('&amp;') &gt; 2){\n         var vars = params.split('&amp;');\n         for (var i in vars)\n            eval_var(vars[i].split('='));\n      }\n      else\n         eval_var(params.split('='));\n   }\n   return obj;\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var url = \"http://www.x.com?luckyNums=[31,21,6]&amp;name=John&amp;favFoods=[pizza]&amp;noVal\"\nconsole.log(url2json(url));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[object]\n   noVal: \"\"\n   favFoods: \"pizza\"\n   name:     \"John\"\n   luckyNums:\n      0: \"31\"\n      1: \"21\"\n      2: \"6\"\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21248243, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This will work... You need to call this function where you need get the parameter by passing its name...</p>\n\n<pre><code>function getParameterByName(name)\n{\n  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n  var regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\n  var regex = new RegExp( regexS );\n  var results = regex.exec( window.location.href );\n  alert(results[1]);\n  if (results == null)\n    return \"\";\n  else\n    return results[1];\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21277220, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p><strong>Get all querystring parameters including checkbox values (arrays).</strong></p>\n\n<p>Considering the correct &amp; normal use of GET parameters, the things I see it's missing, on most functions, is the support for arrays and removing the hash data.</p>\n\n<p>So I wrote this function:</p>\n\n<pre><code>function qs(a){\n if(!a)return {};\n a=a.split('#')[0].split('&amp;');\n var b=a.length,c={},d,k,v;\n while(b--){\n  d=a[b].split('=');\n  k=d[0].replace('[]',''),v=decodeURIComponent(d[1]||'');\n  c[k]?typeof c[k]==='string'?(c[k]=[v,c[k]]):(c[k].unshift(v)):c[k]=v;\n }\n return c\n}\n</code></pre>\n\n<p>Using shorthand operators &amp; while-- loop, the performance should be very good to.</p>\n\n<p><strong>Support:</strong></p>\n\n<ol>\n<li>Empty values (<em>key= / key</em>)</li>\n<li>Key value (<em>key=value</em>)</li>\n<li>Arrays (<em>key[]=value</em>)</li>\n<li>Hash (<em>the hash tag is split out</em>)</li>\n</ol>\n\n<p><strong>Notes:</strong></p>\n\n<p>It does not support object arrays (key[key]=value)</p>\n\n<p>If the space is + it remains a +.</p>\n\n<p>Add <code>.replace(/\\+/g, \" \")</code> if you need.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>qs('array[]=1&amp;array[]=2&amp;key=value&amp;empty=&amp;empty2#hash')\n</code></pre>\n\n<p><strong>Return:</strong></p>\n\n<pre><code>{\n    \"empty\": \"\",\n    \"key\": \"value\",\n    \"array\": [\n        \"1\",\n        \"2\"\n    ]\n}\n</code></pre>\n\n<p><strong>Demo:</strong></p>\n\n<p><a href=\"http://jsfiddle.net/ZQMrt/1/\" rel=\"nofollow\">http://jsfiddle.net/ZQMrt/1/</a></p>\n\n<p><strong>Info</strong></p>\n\n<p>If you don't understand something or you can't read the function just ask. I'm happy to explain what I did here.</p>\n\n<p><em>If you think the function is unreadable and unmaintainable I'm happy to rewrite the function for you, but consider that shorthand &amp; bitwise operators are always faster than a standard syntax (maybe read about shorthands and bitwise operators in the ECMA-262 book or use your favorite search engine). Rewriting the code in a standard readable syntax means performance loss.</em></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21350778, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>A simple solution with plain JavaScript and <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow\">regular expressions</a>:</p>\n\n<pre><code>alert(getQueryString(\"p2\"));\n\nfunction getQueryString (Param) {\n    return decodeURI(\"http://www.example.com/?p1=p11&amp;p2=p2222\".replace(new RegExp(\"^(?:.*[&amp;?]\" + encodeURI(Param).replace(/[.+*]/g, \"$&amp;\") + \"(?:=([^&amp;]*))?)?.*$\", \"i\"), \"$1\"));\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/QeLF3/\" rel=\"nofollow\">JsFiddle</a></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21451323, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This didn't work for me, I want to match <code>?b</code> as the <code>b</code> parameter is present, and not match <code>?return</code> as the <code>r</code> parameter, here is <a href=\"https://gist.github.com/Dorian/833b37d2c7b168b7e94c\" rel=\"nofollow\">my solution</a>.</p>\n\n<pre><code>window.query_param = function(name) {\n  var param_value, params;\n\n  params = location.search.replace(/^\\?/, '');\n  params = _.map(params.split('&amp;'), function(s) {\n    return s.split('=');\n  });\n\n  param_value = _.select(params, function(s) {\n    return s.first === name;\n  })[0];\n\n  if (param_value) {\n    return decodeURIComponent(param_value[1] || '');\n  } else {\n    return null;\n  }\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21736323, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>The shortest possible expression in terms of size to obtain a query object seems to be:</p>\n\n<pre><code>var params = {};\nlocation.search.substr(1).replace(/([^&amp;=]*)=([^&amp;]*)&amp;?/g,\n  function () { params[decodeURIComponent(arguments[1])] = decodeURIComponent(arguments[2]); });\n</code></pre>\n\n<p>You can make use of the <code>A</code> element to parse a URI from a string into its <code>location</code>-like components (to get rid of <code>#...</code>, for example):</p>\n\n<pre><code>var a = document.createElement('a');\na.href = url;\n// Parse a.search.substr(1)... as above\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 21789628, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Quick, easy, and fast:</p>\n\n<p><strong>The function:</strong></p>\n\n<pre><code>function getUrlVar() {\n    var result = {};\n    var location = window.location.href.split('#');\n    var parts = location[0].replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m,key,value) {\n        result [key] = value;\n    });\n    return result;\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>var varRequest = getUrlVar()[\"theUrlVarName\"];\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 23050534, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>For those who wants a short method (with limitations):</p>\n\n<pre><code>location.search.split('myParameter=')[1]\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 23054168, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here is <code>String</code> prototype implementation:</p>\n\n<pre><code>String.prototype.getParam = function( str ){\n    str = str.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n    var regex = new RegExp( \"[\\\\?&amp;]*\"+str+\"=([^&amp;#]*)\" );    \n    var results = regex.exec( this );\n    if( results == null ){\n        return \"\";\n    } else {\n        return results[1];\n    }\n}\n</code></pre>\n\n<p>Example call:</p>\n\n<pre><code>var status = str.getParam(\"status\")\n</code></pre>\n\n<p><code>str</code> can be a query string or url</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 23117113, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here's an extended version of Andy E's linked \"Handle array-style query strings\"-version. Fixed a bug (<code>?key=1&amp;key[]=2&amp;key[]=3</code>; <code>1</code> is lost and replaced with <code>[2,3]</code>), made a few minor performance improvements (re-decoding of values, recalculating \"[\" position, etc.) and added a number of improvements (functionalized, support for <code>?key=1&amp;key=2</code>, support for <code>;</code> delimiters). I left the variables annoyingly short, but added comments galore to make them readable (oh, and I reused <code>v</code> within the local functions, sorry if that is confusing ;).</p>\n\n<p>It will handle the following querystring...</p>\n\n<blockquote>\n  <p>?test=Hello&amp;person=neek&amp;person[]=jeff&amp;person[]=jim&amp;person[extra]=john&amp;test3&amp;nocache=1398914891264</p>\n</blockquote>\n\n<p>...making it into an object that looks like...</p>\n\n<pre><code>{\n    \"test\": \"Hello\",\n    \"person\": {\n        \"0\": \"neek\",\n        \"1\": \"jeff\",\n        \"2\": \"jim\",\n        \"length\": 3,\n        \"extra\": \"john\"\n    },\n    \"test3\": \"\",\n    \"nocache\": \"1398914891264\"\n}\n</code></pre>\n\n<p>As you can see above, this version handles some measure of \"malformed\" arrays, i.e. - <code>person=neek&amp;person[]=jeff&amp;person[]=jim</code> or <code>person=neek&amp;person=jeff&amp;person=jim</code> as the key is identifiable and valid (at least in dotNet's <a href=\"http://msdn.microsoft.com/en-us/library/xsc9a449.aspx\">NameValueCollection.Add</a>):</p>\n\n<blockquote>\n  <p>If the specified key already exists in the target NameValueCollection\n  instance, the specified value is added to the existing comma-separated\n  list of values in the form \"value1,value2,value3\".</p>\n</blockquote>\n\n<p>It seems <a href=\"http://stackoverflow.com/questions/1746507/authoritative-position-of-duplicate-http-get-query-keys\">the jury is somewhat out</a> on repeated keys as there is no spec. In this case, multiple keys are stored as an (fake)array. But do note that I <strong>do not</strong> process values based on commas into arrays.</p>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>getQueryStringKey = function(key) {\n    return getQueryStringAsObject()[key];\n};\n\n\ngetQueryStringAsObject = function() {\n    var b, cv, e, k, ma, sk, v, r = {},\n        d = function (v) { return decodeURIComponent(v).replace(/\\+/g, \" \"); }, //# d(ecode) the v(alue)\n        q = window.location.search.substring(1),\n        s = /([^&amp;;=]+)=?([^&amp;;]*)/g //# original regex that does not allow for ; as a delimiter:   /([^&amp;=]+)=?([^&amp;]*)/g\n    ;\n\n    //# ma(make array) out of the v(alue)\n    ma = function(v) {\n        //# If the passed v(alue) hasn't been setup as an object\n        if (typeof v != \"object\") {\n            //# Grab the cv(current value) then setup the v(alue) as an object\n            cv = v;\n            v = {};\n            v.length = 0;\n\n            //# If there was a cv(current value), .push it into the new v(alue)'s array\n            //#     NOTE: This may or may not be 100% logical to do... but it's better than loosing the original value\n            if (cv) { Array.prototype.push.call(v, cv); }\n        }\n        return v;\n    };\n\n    //# While we still have key-value e(ntries) from the q(uerystring) via the s(earch regex)...\n    while (e = s.exec(q)) { //# while((e = s.exec(q)) !== null) {\n        //# Collect the open b(racket) location (if any) then set the d(ecoded) v(alue) from the above split key-value e(ntry) \n        b = e[1].indexOf(\"[\");\n        v = d(e[2]);\n\n        //# As long as this is NOT a hash[]-style key-value e(ntry)\n        if (b &lt; 0) { //# b == \"-1\"\n            //# d(ecode) the simple k(ey)\n            k = d(e[1]);\n\n            //# If the k(ey) already exists\n            if (r[k]) {\n                //# ma(make array) out of the k(ey) then .push the v(alue) into the k(ey)'s array in the r(eturn value)\n                r[k] = ma(r[k]);\n                Array.prototype.push.call(r[k], v);\n            }\n            //# Else this is a new k(ey), so just add the k(ey)/v(alue) into the r(eturn value)\n            else {\n                r[k] = v;\n            }\n        }\n        //# Else we've got ourselves a hash[]-style key-value e(ntry) \n        else {\n            //# Collect the d(ecoded) k(ey) and the d(ecoded) sk(sub-key) based on the b(racket) locations\n            k = d(e[1].slice(0, b));\n            sk = d(e[1].slice(b + 1, e[1].indexOf(\"]\", b)));\n\n            //# ma(make array) out of the k(ey) \n            r[k] = ma(r[k]);\n\n            //# If we have a sk(sub-key), plug the v(alue) into it\n            if (sk) { r[k][sk] = v; }\n            //# Else .push the v(alue) into the k(ey)'s array\n            else { Array.prototype.push.call(r[k], v); }\n        }\n    }\n\n    //# Return the r(eturn value)\n    return r;\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 23401756, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Here's what I'm using:</p>\n\n<pre><code>/**\n * Examples:\n * getUrlParams()['myparam']    // url defaults to the current page\n * getUrlParams(url)['myparam'] // url can be just a query string\n *\n * Results of calling `getUrlParams(url)['myparam']` with various urls:\n * example.com                               (undefined)\n * example.com?                              (undefined)\n * example.com?myparam                       (empty string)\n * example.com?myparam=                      (empty string)\n * example.com?myparam=0                     (the string '0')\n * example.com?myparam=0&amp;myparam=override    (the string 'override')\n *\n * Origin: http://stackoverflow.com/a/23946023/2407309\n */\nfunction getUrlParams (url) {\n    var urlParams = {} // return value\n    var queryString = getQueryString()\n    if (queryString) {\n        var keyValuePairs = queryString.split('&amp;')\n        for (var i = 0; i &lt; keyValuePairs.length; i++) {\n            var keyValuePair = keyValuePairs[i].split('=')\n            var paramName = keyValuePair[0]\n            var paramValue = keyValuePair[1] || ''\n            urlParams[paramName] = decodeURIComponent(paramValue.replace(/\\+/g, ' '))\n        }\n    }\n    return urlParams // functions below\n    function getQueryString () {\n        var reducedUrl = url || window.location.search\n        reducedUrl = reducedUrl.split('#')[0] // Discard fragment identifier.\n        var queryString = reducedUrl.split('?')[1]\n        if (!queryString) {\n            if (reducedUrl.search('=') !== false) { // URL is a query string.\n                queryString = reducedUrl\n            }\n        }\n        return queryString\n    } // getQueryString\n} // getUrlParams\n</code></pre>\n\n<p>Returning 'override' rather than '0' in the last case makes it consistent with PHP. Works in IE7.</p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 23946023, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>Most pretty but basic:</p>\n\n<pre><code>data = {};\n$.each(\n    location.search.substr(1).split('&amp;').filter(Boolean).map(function(kvpairs){\n        return kvpairs.split('=')\n    }),\n    function(i,values) {\n        data[values.shift()] = values.join('=')\n    }\n);\n</code></pre>\n\n<p>It doesn't handle values lists such as <code>?a[]=1&amp;a[]2</code></p>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 24079713, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<pre><code>// Parse query string\nvar params = {}, queryString = location.hash.substring(1),\n    regex = /([^&amp;=]+)=([^&amp;]*)/g,\n    m;\nwhile (m = regex.exec(queryString)) {\n    params[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);\n}\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 24460952, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}, {"body": "<p>This function will return a parsed JavaScript object with any arbitrarily nested values using recursion as necessary.</p>\n\n<p>Here's a <a href=\"http://jsfiddle.net/WZHm5/3/\" rel=\"nofollow\">jsfiddle</a> example.</p>\n\n<pre><code>[\n  '?a=a',\n  '&amp;b=a',\n  '&amp;b=b',\n  '&amp;c[]=a',\n  '&amp;c[]=b',\n  '&amp;d[a]=a',\n  '&amp;d[a]=x',\n  '&amp;e[a][]=a',\n  '&amp;e[a][]=b',\n  '&amp;f[a][b]=a',\n  '&amp;f[a][b]=x',\n  '&amp;g[a][b][]=a',\n  '&amp;g[a][b][]=b',\n  '&amp;h=%2B+%25',\n  '&amp;i[aa=b',\n  '&amp;i[]=b',\n  '&amp;j=',\n  '&amp;k',\n  '&amp;=l',\n  '&amp;abc=foo',\n  '&amp;def=%5Basf%5D',\n  '&amp;ghi=[j%3Dkl]',\n  '&amp;xy%3Dz=5',\n  '&amp;foo=b%3Dar',\n  '&amp;xy%5Bz=5'\n].join('');\n</code></pre>\n\n<p>Given any of the above test examples.</p>\n\n<pre><code>var qs = function(a) {\n  var b, c, e;\n  b = {};\n  c = function(d) {\n    return d &amp;&amp; decodeURIComponent(d.replace(/\\+/g, \" \"));\n  };\n  e = function(f, g, h) {\n    var i, j, k, l;\n    h = h ? h : null;\n    i = /(.+?)\\[(.+?)?\\](.+)?/g.exec(g);\n    if (i) {\n      [j, k, l] = [i[1], i[2], i[3]]\n      if (k === void 0) {\n        if (f[j] === void 0) {\n          f[j] = [];\n        }\n        f[j].push(h);\n      } else {\n        if (typeof f[j] !== \"object\") {\n          f[j] = {};\n        }\n        if (l) {\n          e(f[j], k + l, h);\n        } else {\n          e(f[j], k, h);\n        }\n      }\n    } else {\n      if (f.hasOwnProperty(g)) {\n        if (Array.isArray(f[g])) {\n          f[g].push(h);\n        } else {\n          f[g] = [].concat.apply([f[g]], [h]);\n        }\n      } else {\n        f[g] = h;\n      }\n      return f[g];\n    }\n  };\n  a.replace(/^(\\?|#)/, \"\").replace(/([^#&amp;=?]+)?=?([^&amp;=]+)?/g, function(m, n, o) {\n    n &amp;&amp; e(b, c(n), c(o));\n  });\n  return b;\n};\n</code></pre>\n", "title": "How can I get query string values in JavaScript?", "answer_id": 24489760, "question_id": 901115, "tags": ["javascript", "url", "plugins", "query-string"]}], "question_id": 901115}, {"body": "<p>I know it's possible to match a word and then reverse the matches using other tools (e.g. <code>grep -v</code>). However, I'd like to know if it's possible to match lines that <em>don't</em> contain a specific word (e.g. hede) using a regular expression? </p>\n\n<p>Input:</p>\n\n<pre><code>hoho\nhihi\nhaha\nhede\n</code></pre>\n\n<p>Code:\n</p>\n\n<pre><code># grep \"Regex for doesn't contain hede\" Input\n</code></pre>\n\n<p>Desired output: </p>\n\n<pre><code>hoho\nhihi\nhaha\n</code></pre>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "tags": ["regex", "regex-negation"], "answer_count": 20, "link": "http://stackoverflow.com/questions/406230/regular-expression-to-match-line-that-doesnt-contain-a-word", "answers": [{"body": "<p><em>If</em> you're just using it for grep, you can use <code>grep -v hede</code> to get all lines which do not contain hede.</p>\n\n<p>ETA Oh, rereading the question, <code>grep -v</code> is probably what you meant by \"tools options\".</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 406243, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>Here's <a href=\"http://www.perlmonks.org/?node_id=588315#588368\">a good explanation</a> of why it's not easy to negate an arbitrary regex. I have to agree with the other answers, though: if this is anything other than a hypothetical question, then a regex is not the right choice here.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 406260, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>The notion that regex doesn't support inverse matching is not entirely true. You can mimic this behavior by using negative look-arounds:</p>\n\n<pre><code>^((?!hede).)*$\n</code></pre>\n\n<p>The regex above will match any string, or line without a line break, <strong>not</strong> containing the (sub) string 'hede'.\nAs mentioned, this is not something regex is \"good\" at (or should do), but still, it <em>is</em> possible. </p>\n\n<p>And if you need to match line break chars as well, use the <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\">DOT-ALL modifier</a> (the trailing <code>s</code> in the following pattern):</p>\n\n<pre><code>/^((?!hede).)*$/s\n</code></pre>\n\n<p>or use it inline:</p>\n\n<pre><code>/(?s)^((?!hede).)*$/\n</code></pre>\n\n<p><em>(where the <code>/.../</code> are the regex delimiters, ie, not part of the pattern)</em></p>\n\n<p>If the DOT-ALL modifier is not available, you can mimic the same behavior with the character class <code>[\\s\\S]</code>:</p>\n\n<pre><code>/^((?!hede)[\\s\\S])*$/\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p>A string is just a list of <code>n</code> characters. Before, and after each character, there's an empty string. So a list of <code>n</code> characters will have <code>n+1</code> empty strings. Consider the string <code>\"ABhedeCD\"</code>:</p>\n\n<pre><code>    +--+---+--+---+--+---+--+---+--+---+--+---+--+---+--+---+--+\nS = |e1| A |e2| B |e3| h |e4| e |e5| d |e6| e |e7| C |e8| D |e9|\n    +--+---+--+---+--+---+--+---+--+---+--+---+--+---+--+---+--+\n\nindex    0      1      2      3      4      5      6      7\n</code></pre>\n\n<p>where the <code>e</code>'s are the empty strings. The regex <code>(?!hede).</code> looks ahead to see if there's no substring <code>\"hede\"</code> to be seen, and if that is the case (so something else is seen), then the <code>.</code> (dot) will match any character except a line break. Look-arounds are also called <em>zero-width-assertions</em> because they don't <em>consume</em> any characters. They only assert/validate something. </p>\n\n<p>So, in my example, every empty string is first validated to see if there's no <code>\"hede\"</code> up ahead, before a character is consumed by the <code>.</code> (dot). The regex <code>(?!hede).</code> will do that only once, so it is wrapped in a group, and repeated zero or more times: <code>((?!hede).)*</code>. Finally, the start- and end-of-input are anchored to make sure the entire input is consumed: <code>^((?!hede).)*$</code></p>\n\n<p>As you can see, the input <code>\"ABhedeCD\"</code> will fail because on <code>e3</code>, the regex <code>(?!hede)</code> fails (there <em>is</em> <code>\"hede\"</code> up ahead!).</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 406408, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>Not regex, but I've found it logical and useful to use serial greps with pipe to eliminate noise.</p>\n\n<p>eg.  search an apache config file without all the comments-</p>\n\n<pre><code>grep -v '\\#' /opt/lampp/etc/httpd.conf      # this gives all the non-comment lines\n</code></pre>\n\n<p>and</p>\n\n<pre><code>grep -v '\\#' /opt/lampp/etc/httpd.conf |  grep -i dir\n</code></pre>\n\n<p>The logic of serial grep's is (not a comment) and (matches dir)</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 5091882, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>Note that the solution to <strong>does not <em>start with</em> \u201chede\u201d</strong>:</p>\n\n<pre><code>^(?!hede).*$\n</code></pre>\n\n<p>is generally much more efficient than the solution to <strong>does not <em>contain</em> \u201chede\u201d</strong>:</p>\n\n<pre><code>^((?!hede).)*$\n</code></pre>\n\n<p>The former checks for \u201chede\u201d only at the input string\u2019s first position, rather than at every position.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 5334825, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>The given answers are perfectly fine, just an academic point:</p>\n\n<p>Regular Expressions in the meaning of theoretical computer sciences <em>ARE NOT ABLE</em> do it like this. For them it had to look something like this:</p>\n\n<pre><code>^([^h].*$)|(h([^e].*$|$))|(he([^h].*$|$))|(heh([^e].*$|$))|(hehe.+$) \n</code></pre>\n\n<p>This only does a FULL match. Doing it for sub-matches would even be more awkward.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 7286050, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>If you want to match a character to negate a word similar to negate character class:</p>\n\n<p>For example, a string:</p>\n\n<pre><code>&lt;?\n$str=\"aaa        bbb4      aaa     bbb7\";\n?&gt;\n</code></pre>\n\n<p>Do not use:</p>\n\n<pre><code>&lt;?\npreg_match('/aaa[^bbb]+?bbb7/s', $str, $matches);\n?&gt;\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>&lt;?\npreg_match('/aaa(?:(?!bbb).)+?bbb7/s', $str, $matches);\n?&gt;\n</code></pre>\n\n<p>Notice <code>\"(?!bbb).\"</code> is neither lookbehind nor lookahead, it's lookcurrent, for example:</p>\n\n<pre><code>\"(?=abc)abcde\", \"(?!abc)abcde\"\n</code></pre>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 9835461, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>If you want the regex test to <strong>only</strong> fail if the <em>entire string</em> matches, the following will work:</p>\n\n<pre><code>^(?!hede$).*\n</code></pre>\n\n<p>e.g. -- If you want to allow all values except \"foo\" (i.e. \"foofoo\", \"barfoo\", and \"foobar\" will pass, but \"foo\" will fail), use: <code>^(?!foo$).*</code></p>\n\n<p>Of course, if you're checking for <em>exact</em> equality, a better general solution in this case is to check for string equality, i.e. </p>\n\n<pre><code>myStr !== 'foo'\n</code></pre>\n\n<p>You could even put the negation <em>outside</em> the test if you need any regex features (here, case insensitivity and range matching):</p>\n\n<pre><code>!/^[a-f]oo$/i.test(myStr)\n</code></pre>\n\n<p>The regex solution at the top may be helpful, however, in situations where a positive regex test is required (perhaps by an API).</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 14147470, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>with this, you avoid to test a lookahead on each positions:</p>\n\n<pre><code>/^(?:[^h]+|h++(?!ede))*+$/\n</code></pre>\n\n<p>equivalent to (for .net):</p>\n\n<pre><code>/^(?&gt;(?:[^h]+|h+(?!ede))*)$/\n</code></pre>\n\n<p>Old answer:</p>\n\n<pre><code>/^(?&gt;[^R]+|R+(?!egex Hero))*$/\n</code></pre>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 15995332, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>The OP did not specify or <b><kbd>Tag</kbd></b> the post to indicate the context (programming language, editor, tool) the Regex will be used within.  </p>\n\n<p>For me, I sometimes need to do this while editing a file using <strong><code>Textpad</code></strong>.  </p>\n\n<p><strong><code>Textpad</code></strong> supports some Regex, but does not support lookahead or lookbehind, so it takes a few steps.  </p>\n\n<p>If I am looking to retain all lines that <b><i>Do NOT</i></b> contain the string <strong><code>hede</code></strong>, I would do it like this:</p>\n\n<blockquote>\n  <p>1. Search/replace the entire file to add a unique \"Tag\" to the beginning of each line containing any text.</p>\n</blockquote>\n\n<p></p>\n\n<pre><code>    Search string:^(.)  \n    Replace string:&lt;@#-unique-#@&gt;\\1  \n    Replace-all  \n</code></pre>\n\n<blockquote>\n  <p>2. Delete all lines that contain the string <strong><code>hede</code></strong> (replacement string is empty):  </p>\n</blockquote>\n\n<p></p>\n\n<pre><code>    Search string:&lt;@#-unique-#@&gt;.*hede.*\\n  \n    Replace string:&lt;nothing&gt;  \n    Replace-all  \n</code></pre>\n\n<p></p>\n\n<blockquote>\n  <p>3. At this point, all remaining lines <b><i>Do NOT</i></b> contain the string <strong><code>hede</code></strong>. Remove the unique \"Tag\" from all lines (replacement string is empty):  </p>\n</blockquote>\n\n<p></p>\n\n<pre><code>    Search string:&lt;@#-unique-#@&gt;\n    Replace string:&lt;nothing&gt;  \n    Replace-all  \n</code></pre>\n\n<p>Now you have the original text with all lines containing the string <strong><code>hede</code></strong> removed.\n<br></p>\n\n<hr>\n\n<p>If I am looking to <b><i>Do Something Else</i></b> to only lines that <b><i>Do NOT</i></b> contain the string <strong><code>hede</code></strong>, I would do it like this:</p>\n\n<blockquote>\n  <p>1. Search/replace the entire file to add a unique \"Tag\" to the beginning of each line containing any text.</p>\n</blockquote>\n\n<p></p>\n\n<pre><code>    Search string:^(.)  \n    Replace string:&lt;@#-unique-#@&gt;\\1  \n    Replace-all  \n</code></pre>\n\n<blockquote>\n  <p>2. For all lines that contain the string <strong><code>hede</code></strong>, remove the unique \"Tag\":  </p>\n</blockquote>\n\n<p></p>\n\n<pre><code>    Search string:&lt;@#-unique-#@&gt;(.*hede)\n    Replace string:\\1  \n    Replace-all  \n</code></pre>\n\n<p></p>\n\n<blockquote>\n  <p>3. At this point, all lines that begin with the unique \"Tag\", <b><i>Do NOT</i></b> contain the string <strong><code>hede</code></strong>. I can now do my <b><i>Something Else</i></b> to only those lines.</p>\n</blockquote>\n\n<p></p>\n\n<blockquote>\n  <p>4. When I am done, I remove the unique \"Tag\" from all lines (replacement string is empty):  </p>\n</blockquote>\n\n<p></p>\n\n<pre><code>    Search string:&lt;@#-unique-#@&gt;\n    Replace string:&lt;nothing&gt;  \n    Replace-all  \n</code></pre>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 16246151, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>Here's how I'd do it:</p>\n\n<pre><code>^[^h]*(h(?!ede)[^h]*)*$\n</code></pre>\n\n<p>Accurate and more efficient than the other answers. It implements Friedl's <em>\"unrolling-the-loop\"</em> efficiency technique and requires much less backtracking.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 20695639, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<pre><code>^((?!hede).)*$\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p><code>^</code>the beginning of the string</p>\n\n<p><code>(</code> group and capture to \\1 (0 or more times (matching the most amount possible))</p>\n\n<p><code>(?!</code> look ahead to see if there is not:</p>\n\n<p><code>hede</code> your string</p>\n\n<p><code>)</code> end of look-ahead</p>\n\n<p><code>.</code> any character except \\n</p>\n\n<p><code>)*</code> end of \\1 (NOTE: because you are using a quantifier on this capture, only the LAST repetition of the captured pattern will be stored in \\1)</p>\n\n<p><code>$</code> before an optional \\n, and the end of the string</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 23583655, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>The <a href=\"http://www.nongnu.org/txr/\" rel=\"nofollow\">TXR Language</a> supports regex negation.</p>\n\n<pre><code>$ txr -c '@(repeat)\n@{nothede /~hede/}\n@(do (put-line nothede))\n@(end)'  Input\n</code></pre>\n\n<p>A more complicated example: match all lines that start with <code>a</code> and end with <code>z</code>, but do not contain the substring <code>hede</code>:</p>\n\n<pre><code>$ txr -c '@(repeat)\n@{nothede /a.*z&amp;~.*hede.*/}\n@(do (put-line nothede))\n@(end)' -\naz         &lt;- echoed\naz\nabcz       &lt;- echoed\nabcz\nabhederz   &lt;- not echoed; contains hede\nahedez     &lt;- not echoed; contains hede\nace        &lt;- not echoed; does not end in z\nahedz      &lt;- echoed\nahedz\n</code></pre>\n\n<p>Regex negation is not particularly useful on its own but when you also have intersection, things get interesting, since you have a full set of boolean set operations: you can express \"the set which matches this, except for things which match that\".</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 24398794, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>With negative lookahead, regular expression can match something not contains specific pattern. This is answered and explained by Bart Kiers. Great explanation!</p>\n\n<p>However, with Bart Kiers' answer, the lookahead part will test 1 to 4 characters ahead while matching any single character. We can avoid this and let the lookahead part check out the whole text, ensure there is no 'hede', and then the normal part (.*) can eat the whole text all at one time.</p>\n\n<p>Here is the improved regex:</p>\n\n<pre><code>/^(?!.*?hede).*$/\n</code></pre>\n\n<p>Note the (*?) lazy quantifier in the negative lookahead part is optional, you can use (*) greedy quantifier instead, depending on your data: if 'hede' does present and in the beginning half of the text, the lazy quantifier can be faster; otherwise, the greedy quantifier be faster. However if 'hede' does not present, both would be equal slow.</p>\n\n<p>Here is the <a href=\"http://jsfiddle.net/pvJL5/3/\">demo code</a>.</p>\n\n<p>For more information about lookahead, please check out the great article: <a href=\"http://www.rexegg.com/regex-lookarounds.html\">Mastering Lookahead and Lookbehind</a>.</p>\n\n<p>Also, please check out <a href=\"https://github.com/amobiz/regexgen.js\">RegexGen.js</a>, a JavaScript Regular Expression Generator that helps to construct complex regular expressions. With RegexGen.js, you can construct the regex in a more readable way:</p>\n\n<pre><code>var _ = regexGen;\n\nvar regex = _(\n    _.startOfLine(),             \n    _.anything().notContains(       // match anything that not contains:\n        _.anything().lazy(), 'hede' //   zero or more chars that followed by 'hede',\n                                    //   i.e., anything contains 'hede'\n    ), \n    _.endOfLine()\n);\n</code></pre>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 24743196, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<h1>Benchmarks</h1>\n\n<p>I decided to evaluate some of the presented Options and compare their performance, as well as use some new Features.\nBenchmarking on .NET Regex Engine: <a href=\"http://regexhero.net/tester/\">http://regexhero.net/tester/</a></p>\n\n<h2>Benchmark Text:</h2>\n\n<p>The first 7 lines should not match, since they contain the searched Expression, while the lower 7 lines should match!</p>\n\n<pre><code>Regex Hero is a real-time online Silverlight Regular Expression Tester.\nXRegex Hero is a real-time online Silverlight Regular Expression Tester.\nRegex HeroRegex HeroRegex HeroRegex HeroRegex Hero is a real-time online Silverlight Regular Expression Tester.\nRegex Her Regex Her Regex Her Regex Her Regex Her Regex Her Regex Hero is a real-time online Silverlight Regular Expression Tester.\nRegex Her is a real-time online Silverlight Regular Expression Tester.Regex Hero\negex Hero egex Hero egex Hero egex Hero egex Hero egex Hero Regex Hero is a real-time online Silverlight Regular Expression Tester.\nRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRegex Hero is a real-time online Silverlight Regular Expression Tester.\n\nRegex Her\negex Hero\negex Hero is a real-time online Silverlight Regular Expression Tester.\nRegex Her is a real-time online Silverlight Regular Expression Tester.\nRegex Her Regex Her Regex Her Regex Her Regex Her Regex Her is a real-time online Silverlight Regular Expression Tester.\nNobody is a real-time online Silverlight Regular Expression Tester.\nRegex Her o egex Hero Regex  Hero Reg ex Hero is a real-time online Silverlight Regular Expression Tester.\n</code></pre>\n\n<h2>Results:</h2>\n\n<p>Results are Iterations per second as the median of 3 runs - <strong>Bigger Number = Better</strong></p>\n\n<pre><code>01: ^((?!Regex Hero).)*$                    3.914   // Accepted Answer\n02: ^(?:(?!Regex Hero).)*$                  5.034   // With Non-Capturing group\n03: ^(?&gt;[^R]+|R(?!egex Hero))*$             6.137   // Lookahead only on the right first letter\n04: ^(?&gt;(?:.*?Regex Hero)?)^.*$             7.426   // Match the word and check if you're still at linestart\n05: ^(?(?=.*?Regex Hero)(?#fail)|.*)$       7.371   // Logic Branch: Find Regex Hero? match nothing, else anything\n\nP1: ^(?(?=.*?Regex Hero)(*FAIL)|(*ACCEPT))  ?????   // Logic Branch in Perl - Quick FAIL\nP2: .*?Regex Hero(*COMMIT)(*FAIL)|(*ACCEPT) ?????   // Direct COMMIT &amp; FAIL in Perl\n</code></pre>\n\n<p>Since .NET doesn't support action Verbs (*FAIL, etc.) I couldn't test the solutions P1 and P2.</p>\n\n<h2>Summary:</h2>\n\n<p>I tried to test most proposed solutions, some Optimizations are possible for certain words.\nFor Example if the First two letters of the search string are not the Same, answer 03 can be expanded to\n<code>^(?&gt;[^R]+|R+(?!egex Hero))*$</code> resulting in a small performance gain.</p>\n\n<p>But the overall most readable and performance-wise fastest solution seems to be 05 using a conditional statement\nor 04 with the possesive quantifier. I think the Perl solutions should be even faster and more easily readable.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 25289549, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p><strong>Through PCRE verb <code>(*SKIP)(*F)</code></strong></p>\n\n<pre><code>^hede$(*SKIP)(*F)|^.*$\n</code></pre>\n\n<p>This would completely skips the line which contains the exact string <code>hede</code> and matches all the remaining lines.</p>\n\n<p><a href=\"http://regex101.com/r/kR0tO2/1\" rel=\"nofollow\">DEMO</a></p>\n\n<p><strong>Execution of the parts:</strong></p>\n\n<p>Let us consider the above regex by splitting it into two parts.</p>\n\n<ol>\n<li><p>Part before the <code>|</code> symbol. Part <strong>shouldn't be matched</strong>. </p>\n\n<pre><code>^hede$(*SKIP)(*F)\n</code></pre></li>\n<li><p>Part after the <code>|</code> symbol. Part <strong>should be matched</strong>. </p>\n\n<pre><code>^.*$\n</code></pre></li>\n</ol>\n\n<p><strong>PART 1</strong> </p>\n\n<p>Regex engine will start its execution from the first part.</p>\n\n<pre><code>^hede$(*SKIP)(*F)\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><code>^</code> Asserts that we are at the start.</li>\n<li><code>hede</code> Matches the string <code>hede</code></li>\n<li><code>$</code> Asserts that we are at the line end.</li>\n</ul>\n\n<p>So the line which contains the string <code>hede</code> would be matched. Once the regex engine sees the following <code>(*SKIP)(*F)</code> (<em>Note: You could write <code>(*F)</code> as <code>(*FAIL)</code></em>) verb, it skips and make the match to fail. <code>|</code> called alteration or logical OR operator added next to the PCRE verb which inturn matches all the boundaries exists between each and every character on all the lines except the line contains the exact string <code>hede</code>. See the demo <a href=\"http://regex101.com/r/kR0tO2/2\" rel=\"nofollow\">here</a>. That is, it tries to match the characters from the remaining string. Now the regex in the second part would be executed.</p>\n\n<p><strong>PART 2</strong></p>\n\n<pre><code>^.*$\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><code>^</code>  Asserts that we are at the start. ie, it matches all the line starts except the one in the <code>hede</code> line. See the demo <a href=\"http://regex101.com/r/kR0tO2/3\" rel=\"nofollow\">here</a>.</li>\n<li><p><code>.*</code> In the Multiline mode, <code>.</code> would match any character except newline or carriage return characters. And <code>*</code> would repeat the previous character zero or more times. So <code>.*</code> would match the whole line. See the demo <a href=\"http://regex101.com/r/kR0tO2/4\" rel=\"nofollow\">here</a>.</p>\n\n<p><strong>Hey why you added .* instead of .+ ?</strong></p>\n\n<p>Because <code>.*</code> would match a blank line but <code>.+</code> won't match a blank. We want to match all the lines except <code>hede</code> , there may be a possibility of blank lines also in the input . so you must use <code>.*</code> instead of <code>.+</code> . <code>.+</code> would repeat the previous character one or more times. See <code>.*</code> matches a blank line <a href=\"http://regex101.com/r/kR0tO2/5\" rel=\"nofollow\">here</a>.</p></li>\n<li><p><code>$</code> End of the line anchor is not necessary here.</p></li>\n</ul>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 26272200, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>It may be more maintainable to two regexes in your code, one to do the first match, and then if it matches run the second regex to check for outlier cases you wish to block for example <code>^.*(hede).*</code> then have appropriate logic in your code.</p>\n\n<p>OK, I admit this is not really an answer to the posted question posted and it may also use slightly more processing than a single regex. But for developers who came here looking for a fast emergency fix for an outlier case then this solution should not be overlooked.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 28582842, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>FWIW, since regular languages (aka rational languages) are closed under complementation, it's always possible to find an regular expression (aka rational expression) that negates another expression.  But not many tools implement this.</p>\n\n<p><a href=\"http://vcsn.lrde.epita.fr\">Vcsn</a> supports this operator (which it denotes <code>{c}</code>, postfix).</p>\n\n<p>You first define the type of your expressions: labels are letter (<code>lal_char</code>) to pick from <code>a</code> to <code>z</code> for instance (defining the alphabet when working with complementation is, of course, very important), and the \"value\" computed for each word is just a Boolean: <code>true</code> the word is accepted, <code>false</code>, rejected.</p>\n\n<p>In Python:</p>\n\n<pre><code>In [5]: import vcsn\n        c = vcsn.context('lal_char(a-z), b')\n        c\nOut[5]: {a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z} \u2192 \ud835\udd39\n</code></pre>\n\n<p>then you enter your expression:</p>\n\n<pre><code>In [6]: e = c.expression('(hede){c}'); e\nOut[6]: (hede)^c\n</code></pre>\n\n<p>convert this expression to an automaton:</p>\n\n<pre><code>In [7]: a = e.automaton(); a\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/1OfBt.png\"><img src=\"http://i.stack.imgur.com/1OfBt.png\" alt=\"The corresponding automaton\"></a></p>\n\n<p>finally, convert this automaton back to a simple expression.</p>\n\n<pre><code>In [8]: print(a.expression())\n        \\e+h(\\e+e(\\e+d))+([^h]+h([^e]+e([^d]+d([^e]+e[^]))))[^]*\n</code></pre>\n\n<p>where <code>+</code> is usually denoted <code>|</code>, <code>\\e</code> denotes the empty word, and <code>[^]</code> is usually written <code>.</code> (any character).  So, with a bit of rewriting <code>()|h(ed?)?|([^h]|h([^e]|e([^d]|d([^e]|e.)))).*</code>.</p>\n\n<p>You can see this example <a href=\"http://stackoverflow.com/questions/406230\" title=\"Regular expression to match text that doesn&#39;t contain a word?\">here</a>, and try Vcsn online <a href=\"http://vcsn-sandbox.lrde.epita.fr/tree\">there</a>.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 31825535, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>Aforementioned <code>(?:(?!hede).)*</code> is great because it can be anchored.</p>\n\n<pre><code>^(?:(?!hede).)*$               # A line without hede\n\nfoo(?:(?!hede).)*bar           # foo followed by bar, without hede between them\n</code></pre>\n\n<p>But the following would suffice in this case:</p>\n\n<pre><code>^(?!.*hede)                    # A line without hede\n</code></pre>\n\n<p>This simplification is ready to have \"AND\" clauses added:</p>\n\n<pre><code>^(?!.*hede)(?=.*foo)(?=.*bar)   # A line with foo and bar, but without hede\n^(?!.*hede)(?=.*foo).*bar       # Same\n</code></pre>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 39090438, "question_id": 406230, "tags": ["regex", "regex-negation"]}, {"body": "<p>A simpler solution is to use the not operator <strong>!</strong></p>\n\n<p>Your <strong><em>if</em></strong> statement will need to match \"contains\" and not match \"excludes\".  </p>\n\n<pre><code>var contains = /abc/;\nvar excludes =/hede/;\n\nif(string.match(contains) &amp;&amp; !(string.match(excludes))){  //proceed...\n</code></pre>\n\n<p>I believe the designers of RegEx anticipated the use of not operators.</p>\n", "title": "Regular expression to match line that doesn&#39;t contain a word?", "answer_id": 39471830, "question_id": 406230, "tags": ["regex", "regex-negation"]}], "question_id": 406230}, {"body": "<p>I have a <strong>2.67</strong>&nbsp;GHz Celeron processor, and <strong>1.21</strong>&nbsp;GB of RAM on a <strong>x86</strong> Windows <strong>XP</strong> Professional machine. </p>\n\n<p>My understanding is that the <strong>Android Emulator</strong> should start fairly quickly on such a machine, but for me it does not. I have followed all the instructions in setting up the IDE, SDKs, JDKs and such and have had some success in starting the emulator quickly, but that is very rare. How can I, if possible, fix this problem?</p>\n\n<p>Even if it starts and loads the home screen, it is very sluggish. I have tried the <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\">Eclipse IDE</a> in <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\">version 3.5</a> (Galileo) and <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29#Releases\">3.4</a> (Ganymede).</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "tags": ["android", "performance", "android-emulator", "qemu"], "answer_count": 75, "link": "http://stackoverflow.com/questions/1554099/why-is-the-android-emulator-so-slow-how-can-we-speed-up-the-android-emulator", "answers": [{"body": "<p>The emulator included in your (old) version of Eclipse is very slow.</p>\n\n<p>Recent emulators are faster than they use to be in 2010. Update your SDK/IDE.</p>\n\n<p>Practically, I use a real phone to do my tests. It is faster and tests are more realistic. But if you want to test your application on a lot of different Android versions and don't want to buy several phones, you will have to use the emulator from time to time.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 1912591, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The option <code>-cpu-delay &lt;delay&gt;</code> described in <em><a href=\"http://developer.android.com/guide/developing/tools/emulator.html\">Emulator Startup Options</a></em> can help.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 1965854, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try to disable your antivirus. Maybe it will make emulator a little bit faster.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 2025401, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I've noticed that the emulator starts much faster if there's no Dalvik Debug Monitor Server (DDMS) connected. So if you start the emulator from Virtual Device Manager \"SDK Setup.exe\" and Eclipse is not started, the emulator works faster.</p>\n\n<p>If you start the emulator from Eclipse: DDMS is there, so sometimes the emulator is extremely slow, but sometimes it's faster.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 2025417, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The startup of the emulator is very slow.  The good thing is that you only need to start the emulator once.  If the emulator is already running and you run your app again, the emulator reinstalls the app relatively quickly.  Of course, if you want to know how fast it will run on a phone, it is best to test it on a real phone.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 2049798, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>To add further information to this.</p>\n\n<p>I have recently upgraded my Ubuntu installation to <a href=\"https://en.wikipedia.org/wiki/List_of_Ubuntu_releases#Ubuntu_10.04_LTS_.28Lucid_Lynx.29\">Ubuntu&nbsp;10.04</a> LTS (Lucid Lynx) which in turn updated my Java version to:</p>\n\n<pre><code>Java version \"1.6.0_20\"\nJava(TM) SE Runtime Environment (build 1.6.0_20-b02)\nJava HotSpot(TM) 64-Bit Server VM (build 16.3-b01, mixed mode)\n</code></pre>\n\n<p>And now the emulator (although takes a while to start) seems to be running faster than previously.</p>\n\n<p>It might be worth people upgrading their JVM.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 2794557, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You can create emulator.bat with following command to start the emulator. It will start faster.</p>\n\n<pre><code>emulator.exe -cpu-delay 0 -no-boot-anim -avd avd\n</code></pre>\n\n<p>Or on Unix (Mac or Linux flavors):</p>\n\n<pre><code>emulator -cpu-delay 0 -no-boot-anim -avd &lt;avd name&gt;\n</code></pre>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 3689767, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I had intermittent slow emulator (SDK v8.0) load times, up to three minutes on Intel Core i7 920 2.67&nbsp;GHz CPU running on Xubuntu 10.04 <a href=\"http://en.wikipedia.org/wiki/VirtualBox\" rel=\"nofollow\">VirtualBox</a> 3.2.12 guest with Eclipse (3.6.1) loaded. I changed the VirtualBox guest memory from 1024&nbsp;MB to 2048&nbsp;MB and from that point on, I never experienced the slowness again (load times consistent at 33 seconds, CPU load consistent at 20%). Both Eclipse and the emulator are memory hogs.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 4580923, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I noticed that the my emulator (<a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\">Eclipse</a> plugin) was significantly slowed by my <a href=\"http://en.wikipedia.org/wiki/Nvidia\">Nvidia</a> graphics card anti-aliasing settings. Removing 2x anti aliasing from the graphics menu and changing it to application controlled made it more responsive. It is still slow, but better than it used to be.  </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 4701445, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Android emulator release 9 has a new \"snapshot\" feature. You can <a href=\"http://good-android-dev.blogspot.com/2011/02/slow-android-emulator-speed-up-it.html\">save the state of the emulator</a> (make an image of the emulator) and avoid booting when you start the emulator.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 5109613, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p><a href=\"http://developer.android.com/sdk/eclipse-adt.html\">Android Development Tools (ADT) 9.0.0</a> (or later) has a feature that allows you to save state of the AVD (emulator), and you can start your emulator instantly. You have to enable this feature while creating a new AVD or you can just create it later by editing the AVD.</p>\n\n<p>Also I have increased the <code>Device RAM Size</code> to <code>1024</code> which results in a very fast emulator.</p>\n\n<p>Refer the given below screenshots for more information.</p>\n\n<blockquote>\n  <p>Creating a new AVD with the save snapshot feature.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/ITRGe.png\" alt=\"Android emulator with save snapshot feature.\"></p>\n\n<blockquote>\n  <p>Launching the emulator from the snapshot.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/Ml9Cd.png\" alt=\"Launching the emulator from the snapshot.\"></p>\n\n<p>And for speeding up your emulator you can refer to <em><a href=\"http://jolicode.com/blog/speed-up-your-android-emulator\">Speed up your Android Emulator!</a></em>:</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 5154636, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>On a 3.4&nbsp;GHz quad core 6&nbsp;GB of RAM, Windows 7, the emulator was unusably slow!\nI downloaded <code>Launcher-Pro.apk</code> through the emulator, installed it and set it as the default launcher. It <em>doubled</em> my emulation speed! The screens load much smoother and faster. It doesn't seem to download in 2.1 or 2.2, only in 2.0.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 5269698, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>After developing for a while, my emulator became brutally slow. I chose <strong>wipe user data</strong>, and it was much much better. I am guessing that it takes time to load up each <a href=\"http://en.wikipedia.org/wiki/APK_%28file_format%29\" rel=\"nofollow\">APK</a> file you've deployed.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 5382520, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try <a href=\"http://www.android-x86.org/\">Android x86</a>. It's much faster than the Google Android emulator. Follow these steps:</p>\n\n<ol>\n<li>Install <a href=\"http://www.virtualbox.org/\">VirtualBox</a>.</li>\n<li>Download the <a href=\"http://www.android-x86.org/download\">ISO file</a> that you need.</li>\n<li>Create a virtual machine as Linux 2.6/Other Linux, 512&nbsp;MB RAM, HD 2&nbsp;GB. Network: PCnet-Fast III, attached to <a href=\"http://en.wikipedia.org/wiki/Network_address_translation\">NAT</a>. You can also use a bridged adapter, but you need a <a href=\"http://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol\">DHCP</a> server in your environment.</li>\n<li>Install Android x86 on the emulator, run it.</li>\n<li>Press <kbd>Alt</kbd>+<kbd>F1</kbd>, type <code>netcfg</code>, remember the IP address, press <kbd>Alt</kbd>+<kbd>F7</kbd>.</li>\n<li>Run cmd on your Windows&nbsp;XP system, change the directory to your Android tools directory, type <code>adb connect &lt;virtual_machine_IP&gt;</code>.</li>\n<li>Start Eclipse, open the ADT plugin, find the device, and enjoy!</li>\n</ol>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6058689, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try scaling down the emulator, it makes it a bit faster, even if it doesn't it really feels faster.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6087553, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The current (May 2011) version of the emulator is slow particularly with <a href=\"http://en.wikipedia.org/wiki/Android_version_history#v3.x_Honeycomb\">Android 3.0 (Honeycomb)</a> primarily because the emulator does not support hardware GL -- this means that the GL code gets translated into software (ARM software, in fact) which then gets emulated in software in <a href=\"http://en.wikipedia.org/wiki/QEMU\">QEMU</a>. This is crazy-slow. They're working on this problem and have it partially solved, but not with any sort of release quality.</p>\n\n<p>Check out the video <em><a href=\"http://www.youtube.com/watch?v=Oq05KqjXTvs\">Google I/O 2011: Android Development Tools</a></em> to see it in action -- jump to about 44 minutes.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6181634, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I've similar issues on a Mac. What I did;</p>\n\n<ul>\n<li>1) on the emulator, settings-display ->\ndisable screen orientation</li>\n<li>2) on Eclipse, emulator startup options ->\n-cpu-delay 100</li>\n</ul>\n\n<p>Those had some effect in lowering CPU use (not it is around 40-60%), not ultimate solution. \nBut again, the CPU use is NOT >100% anymore!</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6211252, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I just took the default Android 3.1, and it was very slow, but since I realised my code was Android 2.3.3 compatible I switched to that. It's about 50% quicker and also the emulator looks more like my phone, and has a keyboard permanently displayed so that it is easier to use.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6292567, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The emulator seems to slow itself down when idle. This is made apparent by rapidly mousing over the keys on the side and observing the light-up responses. As a workaround, I pass <code>-icount auto</code> to <a href=\"http://en.wikipedia.org/wiki/QEMU\">QEMU</a> when starting the emulator. You can make a batch file called <code>my_avd.bat</code> to do it for you:</p>\n\n<pre>emulator @my_avd -no-boot-anim -qemu -icount auto</pre>\n\n<ul>\n<li><code>@my_avd</code> -- launch a virtual device named 'my_avd'</li>\n<li><code>-no-boot-anim</code> -- disable animation for faster boot</li>\n<li><code>-qemu args...</code> -- pass arguments to qemu</li>\n<li><code>-icount [N|auto]</code> -- enable virtual instruction counter with 2^N clock ticks per instruction</li>\n</ul>\n\n<p>This made animations buttery smooth and sped up <code>adb install</code> tenfold.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6593004, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The older Android versions run a lot faster.  When I'm on my netbook, I use Android 1.5 (API level 3).  There are a couple of drawbacks, though--your apps need to support the older platforms (obviously), and ndk-gdb requires running Android 2.2 (API level 8) or higher.  But regularly testing apps against older platforms is a good idea anyway.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 6895404, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You need more memory.</p>\n\n<p>Here's why I say that:</p>\n\n<p>I'm using VirtualBox on Windows to run Ubuntu 10.10 as a guest. I installed Eclipse and the Android SDK on the VM. My physical box has 4&nbsp;GB of memory, but when I first configured the Ubuntu virtual machine, I only gave it 1&nbsp;GB. The emulator took about 15 minutes to launch. Then, I changed my configuration to give the VM 2&nbsp;GB and the emulator was running in less than a minute. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 7278734, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You can review the emulator issues on the <a href=\"http://www.youtube.com/watch?v=Oq05KqjXTvs&amp;feature=player_embedded#!\">Google I/O 2011: Android Development Tools</a> talk, starting a 0:40:20.</p>\n\n<p>The emulator runs slowly because the complete Android environment is running on emulated hardware and the instructions are executed on a emulated ARM processor as well.</p>\n\n<p>The main choking point is rendering, since it's not running on any dedicated hardware but it's actually being performed through software rendering. Lowering the screen size will drastically improve emulator performance. Getting more/faster memory isn't going to help.</p>\n\n<p>They've mentioned, at the time, that they're developing an interface that would allow the emulator to pipe certain instructions through the host hardware, so eventually you'll be able to leverage emulator performances with the raw power of desktop hardware.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 7419753, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I tried booting the emulator from Eclipse (Indigo and Android 1.5, no Snapshot) and after 45 minutes I stopped it, because nothing had happened.</p>\n\n<p>Statistics: Phenom Quad @2.6&nbsp;MHz with 4&nbsp;GB DDR2 Corsair Dominator @800&nbsp;MHz. The AVD is on an SSD drive and the emulator on a 7200&nbsp;RPM HDD.</p>\n\n<p>I started the emulator manually with the <code>-no-boot-anim</code> option and it loaded in 30 seconds. :)</p>\n\n<p>In CMD, navigate to folder where the <code>emulator.exe</code> file is and type</p>\n\n<pre><code>emulator.exe @&lt;YourAVDFromEclipse&gt; -no-boot-anim\n</code></pre>\n\n<p>The <code>emulator.exe</code> file is located in the Android SDK folder under Tools.</p>\n\n<p>In Windows, you can find the the Android Virtual Device(AVD) under <code>C:\\Users\\&lt;NAME&gt;\\.android\\avd</code>.</p>\n\n<p>The projects run from inside Eclipse, targeting the AVD you booted, show up just nicely :D</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 8535736, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>In <code>AVD Manager</code> select the VD and click edit, set the resolution to little as you are able to read the text on VD.</p>\n\n<p>I use 800x600 pixels, RAM set to 512&nbsp;MB, and it works like a charm without high use of CPU time.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 9200003, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>As of Revision 17 of Android SDK Tools, the emulator can use graphic acceleration and CPU-provided extensions for better efficiency. The prerequisites and full configuration and user notes are at:  </p>\n\n<p><a href=\"http://developer.android.com/guide/developing/devices/emulator.html#acceleration\">http://developer.android.com/guide/developing/devices/emulator.html#acceleration</a>  </p>\n\n<p>For enabling <a href=\"https://en.wikipedia.org/wiki/Graphics_processing_unit\">GPU</a> aceleration, run the emulator from the command line or add \"-gpu on\" to the additional emulator command line options in the AVD configuration.</p>\n\n<pre><code>emulator -avd &lt;avd_name&gt; -gpu on\n</code></pre>\n\n<p>For using the CPU machine extensions, you have to install the driver (caution because it can conflict with existing <a href=\"http://en.wikipedia.org/wiki/VirtualBox\">VirtualBox</a> or <a href=\"http://en.wikipedia.org/wiki/VMware\">VMware</a> drivers). Once it's installed it will be used automatically whenever you use an x86-based AVD.  </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 9826722, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Android SDK rev. 17 supports Virtual Machine Acceleration using AMD and Intel virtualization technologies. </p>\n\n<p>This feature can improve the emulator performance a lot!</p>\n\n<p>See the following section in the Android emulator documentation for more details: <a href=\"http://developer.android.com/guide/developing/devices/emulator.html#accel-vm\">Configuring Virtual Machine Acceleration</a></p>\n\n<p>Don't forget to install the appropriate driver for your operating system:</p>\n\n<ul>\n<li><a href=\"http://developer.android.com/guide/developing/devices/emulator.html#vm-windows\">Configuring VM Acceleration on Windows</a></li>\n<li><a href=\"http://developer.android.com/guide/developing/devices/emulator.html#vm-mac\">Configuring VM Acceleration on Mac</a></li>\n<li><a href=\"http://developer.android.com/guide/developing/devices/emulator.html#vm-linux\">Configuring VM Acceleration on Linux</a></li>\n</ul>\n\n<p>After you have installed the drivers and downloaded an Android X86 system image (as described in the documentation) you should be able to create a new AVD using the x86 image:</p>\n\n<p>For example:</p>\n\n<ul>\n<li>Target: Intel Atom x86 System Image - API Level 10</li>\n<li>CPU/ABI: Intel Atom (x86)</li>\n</ul>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 10049827, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Android ADT 18 now includes a (beta) GPU enabled option (simply enable the GPU acceleration from your AVD properties). It makes a huge difference and even ICS feels relatively comfortable now. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 10087623, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I have noticed that an emulator gets slow over a period of time. So, one can delete the emulator which gets very slow and create a new one with the help of the AVD manager. I have tried it a couple of times and it works well.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 10624998, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Intel released <a href=\"http://software.intel.com/en-us/articles/intel-atom-x86-image-for-android-ice-cream-sandwich-installation-instructions-recommended/\">recommended installation instructions for the ICS emulator</a> on May 15, 2012.  This worked for me. The emulator is now fast and the UI is smooth.</p>\n\n<p>The first half of the instructions are detailed enough, so I will assume you were able to install the Intel x86 Atom System Image(s) using the Android SDK manager, as well as Intel HAXM.</p>\n\n<p>Now to ensure that everything else is set up so you can enjoy a highly performing emulator:</p>\n\n<ul>\n<li><a href=\"http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager/\">Install Intel Hardware Accelerated Execution Manager (HAXM)</a></li>\n</ul>\n\n<p>And start it:</p>\n\n<pre><code>sudo kextload -b com.intel.kext.intelhaxm (mac)\n</code></pre>\n\n<p>If HAXM is working properly, you may see this message when launching the emulator:</p>\n\n<blockquote>\n  <p>HAX is working and emulator runs in fast virt mode</p>\n</blockquote>\n\n<p>Otherwise you may see this error:</p>\n\n<blockquote>\n  <p>HAX is not working and the emulator runs in emulation mode emulator: <br/>\n  Failed to open the hax module</p>\n</blockquote>\n\n<ul>\n<li><p><strong>Use GPU emulation.</strong>  You cannot use the Snapshot option when using GPU emulation as of this writing.  Ensure that GPU emulation is set to \"yes\".</p></li>\n<li><p><strong>Set the device memory to 1024&nbsp;MB or more</strong>, but not more than the Intel HAXM setting. I use 1024&nbsp;MB per device and 2048 for HAXM.</p></li>\n</ul>\n\n<p><strong>Always double-check the settings after saving!</strong>  The emulator is very picky about what it allows you to set, and it will revert configurations without telling you.</p>\n\n<p>With these settings the software keyboard no longer appears, nor do the on-screen back, menu, and recent keys. This appears to be a limitation of the current ICS Intel x86 system image. You will need to use <a href=\"http://developer.android.com/guide/developing/tools/emulator.html#KeyMapping\">the keyboard shortcuts</a>.</p>\n\n<p>On Mac OS you will need to hold <kbd>fn</kbd> + <kbd>control</kbd> for the <kbd>F1</kbd> - <kbd>F12</kbd> keys to work. Page up/down/left/right can be performed using control + arrow keys.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 10767267, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The fastest emulators at the moment of writing this are the built-in x86 emulators which come with the Android SDK. You can find them in AVD manager where you create virtual machines. Simply pick any of them and then you pick the type of CPU (choose x86 for best performance). It will be as fast as your machine. </p>\n\n<p>The latest such machine for Android 4.0 and 4.0.3 can be found in <em><a href=\"http://blog.testobject.org/2012/04/giving-your-android-emulator-boost.html\" rel=\"nofollow\">Giving your Android Emulator a Boost: Building Android ICS with Goldfish &amp; x86 KVM support on EC2 - TestObject</a></em>.</p>\n\n<p>Note: This is only for a development purpose. To test for performance, you still have to either use a real device or test on the emulator with ARM CPU.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 10893661, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Enabling snapshot may not make it faster in the first run; do not go for big SD size. Adjust the SD card size to 100&nbsp;MB in the first run.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 11114227, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>For fast testing (&lt;1 second) use <a href=\"http://www.buildroid.org/blog/?page_id=121\" rel=\"nofollow\">buildroid</a> with <a href=\"https://www.virtualbox.org/wiki/Downloads\" rel=\"nofollow\">VirtualBox</a>'s first network card set to \u201chost only network\u201d and then run</p>\n\n<pre><code>C:\\Program Files (x86)\\Android\\android-sdk\\platform-tools&gt;adb connect *.*.*.*:5555\nconnected to *.*.*.*:5555\n</code></pre>\n\n<p>(^) DOS / bash (v)</p>\n\n<pre><code># adb connect *.*.*.*:5555\nconnected to *.*.*.*:5555\n</code></pre>\n\n<p>where *. *. * .* is the buildroid IP address you get by clicking the buildroid app in buildroid main screen.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 11537232, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Well, since somebody suggested Android x86 as an alterantive testing emulator, I'll also present my favorite. This might not be an alternative for everyone, but for me it's perfect! </p>\n\n<p>Use the <a href=\"http://bluestacks.com/\" rel=\"nofollow\">Bluestacks Player</a>. It runs Android 2.3.4 and is very fluid and fast. Sometimes it is even faster than a normal device. The only downside is, that you can just test apps on the API Level 10 and just on one screen size, but it's perfect just for testing if it's working or not. Just connect the Player with the <code>adb</code> by running</p>\n\n<pre><code>adb connect 127.0.0.1 \n</code></pre>\n\n<p>After compiling, it installs instantly. It is very impressive, considering I have rather average computer hardware (dual core with 4&nbsp;GB of RAM).</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 12077971, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I would insist you to install <a href=\"http://bluestacks.com/\" rel=\"nofollow\">BlueStacks</a> now as it works the same as the emulator with many other functionalities in that (for example, it gives access to Android Market). Also you can run applications directly from Eclipse to BlueStack Device/Emulator with a great performance speed. It just takes a fraction of second to run your application from Eclipse to the BlueStack emulator.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 12488967, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Remove unwanted activation of some of the plugins at start-up by going to windows-->preference-->General-->Startup and shutdown. Also make sure you don't use those plugins in any of your views</p>\n\n<p>Eclipse is not a word processor. Better to disable the spell check. Disabling spell check will reduce the eclipse burden by going to Windows-->Preference-->General-->Editors --> Text Editors-->Spelling</p>\n\n<p>When eclipse builds the project, it will delete all output folders and rebuild classes built by other compilers. We can disable such features, as deleting the output folders and rebuilding will take sometime. Goto Windows-->Preference-->Java-->Compiler-->Building</p>\n\n<p>Disabling label decorations which is of less use for you, will also help you to gain some performance . Goto Windows-->Preference-->General-->Appearance-->Label Decorations</p>\n\n<p>Close unwanted projects and use working set option to move from one group of project to another smoothly.</p>\n\n<p>You could also disable Eclipse automatic building, if it is not needed for you. Goto Project-->Build Automatically (uncheck it)</p>\n\n<p>Do not keep lot of tabs opened in the editor. Better to have around 20 tabs . Regularly close the unused tabs. To open resource we can always use ctrl+shift+R and ctrl+shift+T (java resource) instead of opening lot of tabs</p>\n\n<p>Disable unwanted plugins. Full J2EE eclipse version has an option to disable/uninstall plugins. Goto Help-->Software Updates-->Manage Configuration. Right click on any installed plugin to get disable option. If this option is not available then enable Classic Update by going to Windows-->Preference-->Capabilty and check classic update. Now the manage configuration option should be available in help menu</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 12601592, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>To reduce your emulator start-up time you need to check the \"Disable Boot Animation\" before starting the emulator. Refer to <a href=\"http://developer.android.com/tools/help/emulator.html\">the Android documentation</a>.</p>\n\n<p>If in case you don't know, you do not need to close the emulator every-time you run/debug your app. If you click run/debug when it's already open, your APK file will get uploaded to the emulator and start pretty much immediately. Emulator takes annoyingly long time only when it started the first time.</p>\n\n<p>Here are some tips to speed up the Android emulator: <em><a href=\"http://www.nuxeo.com/blog/speeding-up-the-android-emulator/\">How to speed up the Android Emulator by up to 400%</a></em>.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 12933101, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Here's what I noticed nobody mentioned it at all. </p>\n\n<p><strong>Assign all available processors to the emulator</strong> </p>\n\n<p>Here's what you can try. It does speed up the emulator for me, especially during loading time. I noticed the emulator is only using a single core of the available CPU. I set it to use all available processors.</p>\n\n<p>I'm using Windows 7.</p>\n\n<blockquote>\n  <p>When the Android emulator is starting, open up the Task Manager, look under the Process tab, look for \"emulator-arm.exe\" or \"emulator-arm.exe *32\"... Right click on it, select Processor Affinity and assign as much processor as you like to the emulator.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/ytcwC.gif\" alt=\"Enter image description here\"></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 13779497, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I just noticed something I can't explain, but hey, for me it works!</p>\n\n<p>I was compiling Android from sources anyway and the built-in emulator started in a few seconds (my machine is dual core AMD 2.7&nbsp;GHz) and in a minute, perhaps two at the first run, the system was up. Using Eclipse ADT bundle, on the other hand, resulted in half an hour of emulator startup. Unacceptable. </p>\n\n<p><strong>The solution</strong> that works here (I have no means to test it on other machines, so if you feel inclined, test and verify):</p>\n\n<ul>\n<li>Download and build Android SDK on your machine. It may take some time (you know, compilation of whole system is tiresome). Instructions can be found here: \n\n<ol>\n<li><a href=\"http://source.android.com/source/initializing.html\" rel=\"nofollow\">Initializing</a></li>\n<li><a href=\"http://source.android.com/source/downloading.html\" rel=\"nofollow\">Downloading</a> </li>\n<li><a href=\"http://source.android.com/source/building.html\" rel=\"nofollow\">Building</a> (I changed commands to 'lunch sdk-eng' and 'make sdk -j4'; besides that build tips are useful, especially concerning ccache and -jN option)</li>\n</ol></li>\n<li>When done, run 'android' and the SDK manager should appear. Download tools and desired platform packages. If commands are not found, try rerunning '. build/envsetup.sh' and 'lunch sdk-eng' commands to set up pathes; they are lost after exiting a terminal session.</li>\n<li>Run 'emulator' to check how fast it starts up. For me it's MUCH faster than the Eclipse-bundled one.</li>\n<li>If that works, point Eclipse to the SDK you just compiled. Window-Preferences-Android in left pane -> choose SDK location. It should be dir with 'tools' subdir and something in 'platforms' subdir. For me it's <code>&lt;source base dir&gt;/out/host/linux-x86</code></li>\n<li>Apply/OK, restart Eclipse if needed. If it does not complain about anything, run your Android app. In my case, the emulator starts in a few seconds and finishes boot in under a minute. There is still a bit delay, but it entirely acceptable for me.</li>\n</ul>\n\n<p>Also, I agree with running from snapshot and saving state to snapshot. My advice concerns only emulator startup time. I still have no idea why it is so long by default. Anyway, if that works for you, enjoy :)</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 13848603, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p><strong>IMPORTANT NOTE</strong>: Please <strong>first</strong> refer to <a href=\"http://ark.intel.com/Products/VirtualizationTechnology\">the Intel list about VT</a> to make sure your CPU supports Intel VT.</p>\n\n<h3>HAXM Speeds Up the Slow Android Emulator</h3>\n\n<p><strong>HAXM</strong> stands for - <strong>\"Intel Hardware Accelerated Execution Manager\"</strong></p>\n\n<p>Currently it supports only Intel\u00ae VT (Intel Virtualization Technology).</p>\n\n<p>The Android emulator is based on <a href=\"http://en.wikipedia.org/wiki/QEMU\">QEMU</a>. The interface between QEMU and the HAXM driver on the host system is designed to be vendor-agnostic.</p>\n\n<p><img src=\"http://i.stack.imgur.com/FtslF.jpg\" alt=\"HAXM\"></p>\n\n<h3>Steps for Configuring Your Android Development Environment for HAXM</h3>\n\n<ol>\n<li><p>Update Eclipse:\nMake sure your Eclipse installation and the ADT plug-in are fully up-to-date.</p></li>\n<li><p>Update your Android Tools:\nAfter each Eclipse plug-in update, it is important to update your Android SDK Tools. To do this, launch the Android SDK Manager and update all the Android SDK components. To take advantage of HAXM, you must be on at least release version 17.</p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/Tmobo.png\" alt=\"Enter image description here\"></p>\n\n<ul>\n<li>Download the <strong>x86 Atom System Images</strong> and the <strong>Intel Hardware Accelerated Execution Manager Driver</strong>. Follow the image below:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/DufnA.png\" alt=\"Enter image description here\"></p>\n\n<ul>\n<li><p>Install the HAXM Driver by running \"IntelHaxm.exe\". It will be located in one of following locations:</p>\n\n<ul>\n<li><p><code>C:\\Program\nFiles\\Android\\android-sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager</code></p></li>\n<li><p><code>C:\\Users\\&lt;user&gt;\\adt-bundle-windows-x86_64\\sdk\\extras\\intel\\Hardware_Accelerated_Execution_Manager</code></p></li>\n</ul>\n\n<p>If the installer fails with the message that Intel VT must be turned on, you need to enable this in the <a href=\"http://en.wikipedia.org/wiki/BIOS\">BIOS</a>. See the description for how to do this in <em><a href=\"http://forums.lenovo.com/t5/T400-T500-and-newer-T-series/Enabling-Intel-VT-Virtualization-Technology/ta-p/388479\">Enabling Intel VT (Virtualization Technology) </a></em>.</p></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/Trlj7.png\" alt=\"Install .exe or .dmg\"></p>\n\n<ul>\n<li>Create a <em>new</em> x86 AVD: Follow the image below:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/V7sf1.png\" alt=\"Create AVD\"></p>\n\n<ul>\n<li>Or as for new SDK,\n<img src=\"http://i.stack.imgur.com/2EhQV.jpg\" alt=\"Enter image description here\"></li>\n</ul>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 13856866, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Now on ADT 21, it provides more options for a fast emulator... You should use 512&nbsp;MB RAM, lower CPU Time, Device Selection and VM Heap Size high. For better results, you should use Intel Atom in CPU/ABI... Using Snapshot and CPU Host may not increase your speed of the emulator, but there are useful ones for other purposes.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 16705762, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I just started yesterday on Windows&nbsp;7 and was facing the same problem. The easiest solution, I found and is working for me is to use the low config device in the emulator. I used Nexus One instead of Nexus 7 and select the snapshot for the device in Android Virtual Device.</p>\n\n<p>And, also important is to leave open the emulator. It works both in Eclipse and Android Studio.</p>\n\n<p>In a window, it says snapshot does not generally work when RAM is more than ~700. So, selecting a lower configured one easily help to test Hello World and then for developing your application. Later, we can test on a high-end device. </p>\n\n<p>For me, virtualization support does not work as my hardware does not support it.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 17012718, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try using <a href=\"http://www.genymotion.com/\">Genymotion</a>.  You can download a version for Windows/Mac OS X/Linux after registering.  A plugin for Eclipse is also avaliable:</p>\n\n<blockquote>\n  <p>The installation of the plugin can be done by launching Eclipse and going to \"Help / Install New Software\" menu, then just add a new Update Site with the following URL: <a href=\"http://plugins.genymotion.com/eclipse\">http://plugins.genymotion.com/eclipse</a>. Follow the steps indicated by Eclipse.</p>\n</blockquote>\n\n<p>This emulator is fast and responsive. </p>\n\n<p>GenyMotion allow you to control various sensors of your device including the battery level, signal strength and GPS.</p>\n\n<p><strong>UPDATE:</strong> The latest version now also contains camera tools. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 17433073, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The use of Android x86 provides better productivity than the Android emulator.</p>\n\n<p>Whereas working with Android x86 4.2, it provides extremely fast debugging compared to Android emulator. It's many many times faster for configuration</p>\n\n<p>It is working with the latest <a href=\"https://en.wikipedia.org/wiki/Android_version_history#Android_4.1_Jelly_Bean_.28API_level_16.29\" rel=\"nofollow\">Android X86 4.2</a> (Jelly Bean) and <a href=\"http://en.wikipedia.org/wiki/VirtualBox\" rel=\"nofollow\">VirtualBox</a>.</p>\n\n<p>I have found different ways to connect with the Internet and <a href=\"http://en.wikipedia.org/wiki/Android_Debug_Bridge\" rel=\"nofollow\">ADB</a>.</p>\n\n<h1>Step: 1  Selection of Adapters</h1>\n\n<h2>CASE 1: Only Internet {NAT Adapter}</h2>\n\n<p>The easiest solution is just use a NAT adapter that will directly connect you to the Internet if the host is connected to the Internet, but you won't get the ADB connection with this setup.</p>\n\n<p>Here you will get a public IP address, so you can't connect to the host computer.</p>\n\n<p><img src=\"http://i.stack.imgur.com/EsbDW.jpg\" alt=\"NAT Adapter\"></p>\n\n<h2>Case 2: Only ADB (host-only adapter)</h2>\n\n<p>The easiest solution is just use the host-only adapter.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ikauw.jpg\" alt=\"Host Only Adapter Settings\"></p>\n\n<p><strong>Note:</strong> The default host-only adapter may not work due to <a href=\"http://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol\" rel=\"nofollow\">DHCP</a> server settings. Either create a new <code>HostOnlyAdapter</code> or run <code>DHCP server</code> for existing an adapter.</p>\n\n<h2>Case 3: For both ADB and Internet (bridge adapter)</h2>\n\n<p>You will have to take care in this case.</p>\n\n<p>If you are using LAN for the Internet connection you shall use the bridge adapter with your Ethernet card. It will give you a local IP address and the virtual machine will connect to the Internet using the host machine.</p>\n\n<p>Alternatively if you are with Wi-Fi, just do the same by selecting the Wi-Fi adapter.</p>\n\n<p>For other types of connection, you shall go with the same way.</p>\n\n<p><img src=\"http://i.stack.imgur.com/HE7KG.png\" alt=\"Bridge Adapter\"></p>\n\n<h1>Step: 2 Connection with ADB</h1>\n\n<p>To check the IP address, just press <kbd>Alt+F1</kbd> (for a console Window). (To switch back to the graphics view, press <kbd>Alt+F7</kbd>.)</p>\n\n<p>You will see the console window. Type <strong>netcfg</strong>.</p>\n\n<p>It will show the IP address.</p>\n\n<p>Now move on to your host, run the command prompt, and move to the <code>adb</code> directory.</p>\n\n<pre><code>type adb connect &lt;your IP address&gt;\n</code></pre>\n\n<h3>Example</h3>\n\n<blockquote>\n  <p>adb connect 192.168.1.51</p>\n</blockquote>\n\n<h3>Note: If ADB is not running or responding you can do the following.</h3>\n\n<pre><code>adb kill-server\n\nadb start-server\n</code></pre>\n\n<p>You can check devices connected to ADB:</p>\n\n<pre><code>adb devices\n</code></pre>\n\n<p>For the original question, <a href=\"http://stackoverflow.com/questions/10648009/debuging-using-virtual-machine-like-vmware-virtualbox\">click here</a>.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 18093196, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try to reduce the screen size of the emulator while creating a new <a href=\"http://en.wikipedia.org/wiki/Android_%28operating_system%29\" rel=\"nofollow\">Android</a> virtual device.</p>\n\n<p>I have seen that this will launch the emulator very fast compared to the default options provided in AVD manager.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 18711042, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>If you have an Intel CPU, install <a href=\"http://software.intel.com/en-us/articles/intel-hardware-accelerated-execution-manager\">Intel Hardware Accelerated Execution Manager</a>.</p>\n\n<p>Then assign it as the emulator's CPU in <em>Emulator Settings</em>. When I did it on my <a href=\"http://en.wikipedia.org/wiki/Intel_Core#Core_i7\">Core&nbsp;i7</a> CPU, it was taking about 10 minutes. Now it is opening in 15 seconds.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 18720169, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try reducing screen size, and maybe you should consider using <a href=\"http://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29\" rel=\"nofollow\">Ubuntu</a>. I've had the same issue, and somehow my emulator on the same PC works five times faster when using Linux.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 20470601, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Emulators are slow. There's really nothing you can do about it, but there are alternatives to the emulator.</p>\n\n<ol>\n<li><p><a href=\"http://www.genymotion.com/\"><strong><em>Genymotion - Prefered</em></strong></a></p></li>\n<li><p><a href=\"http://en.wikipedia.org/wiki/VirtualBox\">VirtualBox</a></p></li>\n<li><p><a href=\"http://www.bluestacks.com/\">BlueStacks</a></p></li>\n<li><p><a href=\"http://youwave.com/download.html\">YouWave</a></p></li>\n<li><p><a href=\"http://windowsandroid.en.softonic.com/download\">Windows Android Emulator</a></p></li>\n<li><p><a href=\"http://tpthings.blogspot.in/2013/08/jar-of-beans-android-jelly-beans-411.html\">Jar of Beans</a></p></li>\n<li><p><a href=\"http://www.andyroid.net/\">Andy</a></p></li>\n</ol>\n\n<p>To make your emulator faster, you can host a GPU and use a lighter Android version (<a href=\"https://en.wikipedia.org/wiki/Android_version_history#Android_2.3.E2.80.932.3.2_Gingerbread_.28API_level_9.29\">Android 2.3</a> (Gingerbread)).\nDeveloping on a Mac would be better. Why use an emulator, BTW? Using a real phone makes more sense.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 23593615, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Short answer: because of the ARM -> x86 instruction translations. The Emulator works in a similar fashion to a virtual machine that is tasked with booting a full fledged OS and running your test application afterwards. The ARM -> x86 translations can be very time consuming, less for your app, but more for when the OS is booting (it's proportional to complexity and number of instructions involved).</p>\n\n<p>Some suggested running the code on x86 emulators. What this means is instead of loading an ARM based OS, you load an x86 variant that will run faster on your x86 machine, as no ARM->x86 translation are necessary. Still, this is not a perfect solution:</p>\n\n<p>Android applications that use NDK and come packed with native libs (*.so) compiled for ARM, will not work on x86 emulators, so such programs will fail to run. But if you get to that point and get to deal with NDK/native JNI code, you probably know enough about emulators already. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 24017383, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Using the ADB utility I've discovered some more information that is important. </p>\n\n<p>The emulator is actually running, but it seems like the graphical interface may be the problem.</p>\n\n<p>When the Android splash screen is up and you are waiting forever it looks like the following:\n<img src=\"http://i.stack.imgur.com/Dz24r.png\" alt=\"enter image description here\"></p>\n\n<p>The emulator is actually running because you can run the following command-line tool and see the listed processes:</p>\n\n<pre><code>adb -s emulator-5554 shell ps \n</code></pre>\n\n<p>That will provide you with a list of processes which are running on the device, which seems stuck. </p>\n\n<p>I piped the output to a file and here is a list of all the running processes:</p>\n\n<pre><code>USER     PID   PPID  VSIZE  RSS     WCHAN    PC         NAME\n\nroot      1     0     696    500   c02ae25a 0805a406 S /init\nroot      2     0     0      0     c02315a2 00000000 S kthreadd\nroot      3     2     0      0     c021f9dc 00000000 S ksoftirqd/0\nroot      5     2     0      0     c022e8d7 00000000 S kworker/u:0\nroot      6     2     0      0     c022e085 00000000 S khelper\nroot      7     2     0      0     c022e8d7 00000000 S kworker/u:1\nroot      255   2     0      0     c02886de 00000000 S sync_supers\nroot      257   2     0      0     c028935e 00000000 S bdi-default\nroot      259   2     0      0     c022e085 00000000 S kblockd\nroot      267   2     0      0     c022e085 00000000 S ata_sff\nroot      278   2     0      0     c04f610f 00000000 S khubd\nroot      283   2     0      0     c022e085 00000000 S md\nroot      297   2     0      0     c022e085 00000000 S cfg80211\nroot      298   2     0      0     c022e8d7 00000000 S kworker/0:1\nroot      413   2     0      0     c0283057 00000000 S kswapd0\nroot      481   2     0      0     c02cd713 00000000 S fsnotify_mark\nroot      501   2     0      0     c022e085 00000000 S crypto\nroot      590   2     0      0     c022e085 00000000 S iscsi_eh\nroot      611   2     0      0     c048aa21 00000000 S mtdblock0\nroot      619   2     0      0     c048aa21 00000000 S mtdblock1\nroot      627   2     0      0     c048aa21 00000000 S mtdblock2\nroot      666   2     0      0     c022e8d7 00000000 S kworker/0:2\nroot      700   2     0      0     c022e085 00000000 S binder\nroot      724   2     0      0     c022e085 00000000 S deferwq\nroot      725   1     624    348   c02ae25a 0805a406 S /sbin/ueventd\nroot      932   2     0      0     c055236e 00000000 S mmcqd/0\nroot      939   2     0      0     c0340f30 00000000 S yaffs-bg-1\nroot      941   2     0      0     c0340f30 00000000 S yaffs-bg-1\nroot      942   2     0      0     c0340f30 00000000 S yaffs-bg-1\nsystem    943   1     1340   400   c056a35d b76a1eb6 S /system/bin/servicemanager\nroot      944   1     5540   924   ffffffff b7646c11 S /system/bin/vold\nroot      947   1     1548   504   c05785ce b766c163 S /system/bin/debuggerd\nradio     948   1     6420   1016  ffffffff b76d3c11 S /system/bin/rild\nsystem    949   1     20088  2876  ffffffff b7655eb6 S /system/bin/surfaceflinger\ndrm       951   1     10480  2920  ffffffff b7585eb6 S /system/bin/drmserver\nkeystore  954   1     5036   1416  c056a35d b765deb6 S /system/bin/keystore\nroot      955   1     1324   440   c02d0083 b76b28ab S /system/bin/qemud\nshell     958   1     1428   668   c03e9ad9 b767fa76 S /system/bin/sh\nroot      959   1     4680   304   ffffffff 08063530 S /sbin/adbd\ngraphics  1012  1     17980  4276  ffffffff b7652eb6 S /system/bin/bootanimation\nmedia     4743  1     25288  6232  ffffffff b75beeb6 S /system/bin/mediaserver\nroot      4744  1     3944   1164  00000000 b7628976 R /system/bin/netd\nroot      4770  4744  0      0     c021de78 00000000 Z iptables\nroot      4771  959   1768   540   00000000 b766fa76 R ps\n</code></pre>\n\n<p>For fun I then ran the following command and killed the \"Android\" animation:</p>\n\n<pre><code>adb -s emulator-5554 shell kill 1012\n</code></pre>\n\n<p>The splash screen became blank so something is really happening.</p>\n\n<p>I tried and succeeded at killing some other processes and that made me feel good but the emulator still didn't ever seem to start.  Oh well.\nI'm running a QuadCore i7 with 8Gb of ram.  Also running the haxm with the settings described in other posts in this question.</p>\n\n<p><strong>Note</strong>: I'm updating this on 09/19/2014 - I learned that this odd behavior where the emulator would attempt to start the instance but never would was all related to the file rights on the emulator files.  They were set to read-only because of the way they were copied, so the emulator attempts to install and write to its \"virtual disk\" but it's \"virtual disk\" is really a file or set of files which my OS has set to read-only and so it fails.  These failures cause the emulator to never start.  I set the files to full access and the emulator starts up in record time.  </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 25474066, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try using the Intel X86 Atom Storage Image for a relatively faster boot up than using ARM based images when emulating the device.</p>\n\n<p>Another thing to be taken into the notice is that according to your system configuration, running an Android emulator with 1.21&nbsp;GB RAM can be a sluggish experience, because the emulator requires up to some certain percentage of RAM which is used for emulating the device, not forgetting about the RAM used by the ADT.</p>\n\n<p>Try a system image of 2.1 - 2.3.3 for at least a runnable experience. Plus not forgetting about <em>Save to Snapshot</em> for quicker loading. Though the first load may take time. But saving to a snapshot definitely saves up some time.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 26049775, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Simple easy solution for beginners. I have tried many ways and stopped with <a href=\"http://www.genymotion.com/\">Genymotion</a> in combination with Eclipse. Genymotion simply adds a virtual device to Eclipse.</p>\n\n<p>Step by step:</p>\n\n<ol>\n<li>Download Genymotion with VirtualBox included from <a href=\"https://cloud.genymotion.com/page/launchpad/download/\">here</a>.</li>\n<li>Install this package included build in VirtualBox.</li>\n<li>Install the plugin into Eclipse from <a href=\"https://cloud.genymotion.com/page/doc/#collapse8\">here</a>.</li>\n<li>Start GenyMotion and create a virtual device you want use, and start it.</li>\n<li>In Eclipse, go to <em>Window</em> -> <em>Preferences</em> -> <em>GenyMobile</em> -> <em>GenyMotion</em>, and set the path to GenyMotion (in my case, C:/ProgramFiles/GenyMobile/Genymotion).</li>\n<li>Click on a project name in Eclipse that you want to start. Start the application using \"Run as\". In the list of devices, you should see the emulated device.</li>\n<li>You cam emulate what you want.</li>\n</ol>\n\n<p>In my case, this solution is the one and only fast solution. No emulators in Eclipse have never worked so fast, and every setting was very slow. Only this solution works almost in realtime. I can recommend (notebook i3, 2.6&nbsp;GHz).</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 27304378, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>This is what has worked for me:</p>\n\n<ul>\n<li>Setting AVD RAM to 512&nbsp;MB</li>\n<li>Setting SD card memory to 10&nbsp;MB</li>\n<li>Setting a large SD card memory size is one of the biggest causes of a slow AVD.</li>\n</ul>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 28014203, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I had the same problem, but I fixed it by deleting the <code>.android</code> folder from <code>C:\\Users\\User\\</code>.</p>\n\n<p>Now everytime I start Eclipse or AVD, I delete that folder. After that my AVD boots up in 20 to 30 seconds and the emulator works smoothly with a negligible lag.</p>\n\n<blockquote>\n  <p>OPTIONAL : If the problem still persists, try to clone the NEXUS S\n  AVD.</p>\n</blockquote>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 28308643, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>A new option is the <a href=\"http://blogs.msdn.com/b/visualstudioalm/archive/2014/11/12/introducing-visual-studio-s-emulator-for-android.aspx\">Visual Studio Emulator for Android</a>--it's fast, <a href=\"http://en.wikipedia.org/wiki/Hyper-V\">Hyper-V</a>, x86, and <a href=\"http://aka.ms/vsemu\">free to download even without VS</a>.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 28417080, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Android emulator is dead slow. It takes 800MB memory while running.\nIf you are on Windows, You can use Microsoft Android Emulator. It is superb, provides you functionalities more than Android Studio Emulator. And most important it is fast ( consumes 13MB only).\nIt comes with Visual Studio 2015 Technical Preview. I am using it and happy with it. I downloaded and installed entire VS pack, I need to look how we can install VS Emulator only.</p>\n\n<p><a href=\"https://www.visualstudio.com/en-us/msft-android-emulator-vs.aspx\">Visual Studio Emulator for Android</a></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 29115454, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>For a better experience, I would recommend the shop.genymotion.com licensed genymotion.\nIf you want to test it out, first you can get <a href=\"https://www.genymotion.com/#!/\" rel=\"nofollow\">genymotion here</a></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 29490835, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You may try Genymotion instead of android emulator. It is faster and better than the android emulator.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 31157215, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You can download the genymotion emulator from <a href=\"https://www.genymotion.com/#!/download\" rel=\"nofollow\">here</a>. This is fast and efficient. </p>\n\n<p>Thanks,</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 31530657, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>A few things that definitely sped things up for me with this were</p>\n\n<p><strong>1.</strong> delegating the rendering process to the GPU by checking \"<strong>Use Host GPU</strong>\" checkbox in AVD's edit window.</p>\n\n<p><strong>2.</strong> downloading the <strong>Intel Atom (x86)</strong> image or if you are a <strong>windows</strong>/<strong>mac</strong> user downloading the Intel x86 Emulator Accelerator HAXM</p>\n\n<p>Unfortunately the thing with Intel x86 images is that you don't get Google Apps, they only come with ARM images.</p>\n\n<p>which is where <strong>Genymotion</strong> comes in handy</p>\n\n<ol>\n<li>Download and install <a href=\"https://www.virtualbox.org/\">VirtualBox</a>. For Windows users it's not necessary to install VirtualBox separately, because it is available from the Genymotion site, bundled with the Genymotion emulator.</li>\n<li>Go to <a href=\"http://www.genymotion.com/\">Genymotion website</a> and sign up. You'll receive a validation mail, so just click on the validation link to proceed.</li>\n<li>Download and install the Genymotion emulator.</li>\n<li>Start Genymotion. You might need to configure path to your Android SDK location in Genymotion settings (probably if you've installed SDK in a non default location). Since this is a first start, there are no devices. Click on \"Add\" and download new device. To see available devices, write your credentials in the pop-up dialog and click \"Connect\".</li>\n<li>Select the device and click \"Start\".</li>\n</ol>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 33252541, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Now instead of using emulator we can test Android apps using ARC Welder app on Chrome,\n<a href=\"https://developer.chrome.com/apps/getstarted_arc\" rel=\"nofollow\">App Runtime for Chrome</a></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 33370137, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You have to use online emulator from</p>\n\n<p><a href=\"http://developer.samsung.com/remotetestlab/rtlDeviceList.action\" rel=\"nofollow\">http://developer.samsung.com/remotetestlab/rtlDeviceList.action</a></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 33413290, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Yes you have a right the native android emulator is very slow than others custom emulator like : <strong>genymotion</strong> .. , i figured that when running functionnal calabash android test ; </p>\n\n<blockquote>\n  <p>in the native android emulator , is produce all the time timeout\n  excepition so i moved to genymotion emulator which  i never occure\n  this problem again</p>\n</blockquote>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 33709273, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Try <a href=\"https://www.genymotion.com/\">Genymotion</a> for Android Studio. Blazing fast! Just needs one time installation. No more AVD pain.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 33772207, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Good way to speed up Android Emulator and app testing is Install or Upgrade your Android Studio to <a href=\"http://tools.android.com/download/studio/builds/2-0-preview\">Android Studio 2.0</a> version and then go to app open Settings/Preferences, the go to Build, Execution, Deployment \u2192 Instant Run. Click on Enable Instant Run. And After That This will ensure you have the correct gradle plugin for your project to work with Instant Run.\n<a href=\"http://i.stack.imgur.com/GvMpa.png\"><img src=\"http://i.stack.imgur.com/GvMpa.png\" alt=\"enter image description here\"></a></p>\n\n<p>And Instant run will look like this \n<a href=\"http://i.stack.imgur.com/eMLVC.png\"><img src=\"http://i.stack.imgur.com/eMLVC.png\" alt=\"New Run &amp; Stop Actions in Android Studio for Instant Run\"></a></p>\n\n<p>However Android Studio is right now in Preview you can try it now.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 34511114, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I suggest you to use the Android phone for developing by USB Debugging. It gives better experience in testing the apps and a better output compared to virtual devices. Or you can also use the options mentioned in rest of the answers and can go with Bluestacks App Player, it is also a good option in case of non-availability of Android Device. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 35561196, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Update your current Android Studio to <a href=\"http://developer.android.com/sdk/index.html\" rel=\"nofollow\">Android Studio 2.0</a> And also update system images.</p>\n\n<p>Android Studio 2.0 emulator runs ~3x faster than Android\u2019s previous emulator, and with ADB enhancements you can now push apps and data 10x faster to the emulator than to a physical device. Like a physical device, the official Android emulator also includes <a href=\"https://developers.google.com/android/?utm_campaign=android_launch_studio_040716&amp;utm_source=anddev&amp;utm_medium=blog\" rel=\"nofollow\">Google Play Services</a> built-in, so you can test out more API functionality. Finally, the new emulator has rich new features to manage calls, battery, network, GPS, and more.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 36514677, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Add some more RAM and use SSD drive. Android Studio is best run on 8 to 12 GB of RAM using SSD drives based on my experience. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 36516729, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Update the Android Studio to 2.0 and try the instant run feature. </p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 36736667, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>The new emulator in <strong>Android Studio 2.0</strong> is 50 times faster than before</p>\n\n<p>Please update your android studio or Try Genymotion emulator </p>\n\n<p>Source : <a href=\"http://thenextweb.com/dd/2015/11/23/the-new-emulator-in-android-studio-2-0-is-50-times-faster-than-before/\" rel=\"nofollow\">http://thenextweb.com/dd/2015/11/23/the-new-emulator-in-android-studio-2-0-is-50-times-faster-than-before/</a></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 36862969, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>If you can, switch to using Ubuntu for Android development. I switched to Ubuntu 14.04 LTS for Android development, and I am glad that I took the jump. All of the steps mentioned made little or no difference in the lag on Windows. Linux is the correct answer to all the problems you are facing</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 37426613, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Gone were those days, when we used to run projects on slow Android Emulators. Today, Android Emulators are on steroids..\nYeah you heard me. No other emulators are as fast as Android Emulators.\nYou can go to my blog for more details:</p>\n\n<p><a href=\"http://androidveteran.blogspot.in/2016/01/android-emulator-multi-touch.html\" rel=\"nofollow\">http://androidveteran.blogspot.in/2016/01/android-emulator-multi-touch.html</a></p>\n\n<p>I have explained in details about new Android Emulators. Check it out.</p>\n\n<p>Believe me they are as fast as your real device works.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 37796186, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>You can try our new Android virtual machine, Leapdroid, which is fully compatible with the original Android emulator. Since it uses virtualization technology, instead of emulation, it provides pretty much native speed. In addition, we use a new OpenGL technology called LeapGL, which performs OpenGL graphics in native speed. Our vm has the best performance compared to others.</p>\n\n<p><a href=\"http://www.leapdroid.com\">http://www.leapdroid.com</a></p>\n\n<p>Source code:\n<a href=\"https://github.com/leapdroid\">https://github.com/leapdroid</a></p>\n\n<p>Leapdroid is fully compatible with Eclipse and Android Studio, as it uses the same adb ports.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 37950696, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>Android studio 2.02 has been launched, it has faster emulators, if you want to go with third party, use Genymotion emulators, they are pretty fast</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 38142140, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p><a href=\"https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager\" rel=\"nofollow\">HAXM</a> is a way to make emulators fast for intel processors <a href=\"https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager\" rel=\"nofollow\">HAXM</a> is the kernel driver part, and the user-space emulator part is based on <a href=\"https://en.wikipedia.org/wiki/QEMU\" rel=\"nofollow\">QEMU</a> - which means there is a branch of <a href=\"https://en.wikipedia.org/wiki/QEMU\" rel=\"nofollow\">QEMU</a> which uses HAXM (This <a href=\"https://en.wikipedia.org/wiki/QEMU\" rel=\"nofollow\">QEMU</a> branch is very android-emulator-specific (and also seems to be based on older version of <a href=\"https://en.wikipedia.org/wiki/QEMU\" rel=\"nofollow\">QEMU</a>). </p>\n\n<p>But still when i used with my <strong>intel core i3</strong> processor with <strong>4 GigaBytes</strong> RAM it doesn't effect more to speed. So this wasn't a solution for me.</p>\n\n<p>As i am using 4GB RAM cpu Emulator becomes RAM eater but for making it more convenient there are some ways I prefer <a href=\"http://www.android-x86.org/\" rel=\"nofollow\"><strong>Android*86</strong></a> support based emulator. And as android studio now introduce <a href=\"https://developer.android.com/studio/run/index.html#instant-run\" rel=\"nofollow\">Instant-Run</a> So After first launch app installation became faster, but i always faced problem and seems like no-way to get out of this.</p>\n\n<p>I also used <a href=\"http://www.droid4x.com/\" rel=\"nofollow\">Droid4x</a> and it goes preety convenient to me but i can't found a way to install different api versions ,I used it with <strong>kitkat</strong> and it was faster then android emulator and it is also <strong>VT support enabled</strong>, So  i found another way and a good solution that is <strong><a href=\"https://www.visualstudio.com/en-us/msft-android-emulator-vs.aspx\" rel=\"nofollow\">Visual Studio Emulator</a></strong> You can read more about it <a href=\"https://blogs.msdn.microsoft.com/visualstudioalm/2014/11/12/introducing-visual-studios-emulator-for-android/\" rel=\"nofollow\">here</a> , The latest i used is <a href=\"http://www.leapdroid.com/\" rel=\"nofollow\">LeapDroid</a> its really a powerful See the comparisons <a href=\"http://www.leapdroid.com/#comparison\" rel=\"nofollow\">here</a> </p>\n\n<p>I prefer to use Real device then emulators on 4GB ram PCs.</p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 38291453, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}, {"body": "<p>I wonder why nobody has mentioned the <code>Visual Studio Emulator</code> as an alternative. It's way faster than the native Android Studio Emulator. </p>\n\n<p>Here's a link to performance comparison: <a href=\"https://medium.com/android-news/how-visual-studio-emulator-for-android-can-improve-your-android-development-9e17a6213839#.hlh7ba6ut\" rel=\"nofollow\">https://medium.com/android-news/how-visual-studio-emulator-for-android-can-improve-your-android-development-9e17a6213839#.hlh7ba6ut</a></p>\n\n<p><a href=\"http://i.stack.imgur.com/NVEpc.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/NVEpc.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>What's even better is that the apk files and even gapps (or any other flashable zip) can be installed just by drag and drop. However, the downside is that it requires Hyper-V which is only available on Windows (that too, from Windows 8 onwards). Other limitations (along with the description of the above) and other details can be found here: <a href=\"https://blogs.msdn.microsoft.com/visualstudioalm/2014/11/12/introducing-visual-studios-emulator-for-android/\" rel=\"nofollow\">https://blogs.msdn.microsoft.com/visualstudioalm/2014/11/12/introducing-visual-studios-emulator-for-android/</a></p>\n", "title": "Why is the Android emulator so slow? How can we speed up the Android emulator?", "answer_id": 38295941, "question_id": 1554099, "tags": ["android", "performance", "android-emulator", "qemu"]}], "question_id": 1554099}, {"body": "<p>I'd like to move the last several commits I've committed to master to a new branch and take master back to before those commits were made. Unfortunately, my Git-fu isn't strong enough yet, any help?</p>\n\n<p>I.e. How can I go from this</p>\n\n<pre><code>master A - B - C - D - E\n</code></pre>\n\n<p>to this?</p>\n\n<pre><code>newbranch     C - D - E\n             /\nmaster A - B \n</code></pre>\n", "title": "Move the most recent commit(s) to a new branch with Git", "tags": ["git", "git-branch", "branching-and-merging"], "answer_count": 8, "link": "http://stackoverflow.com/questions/1628563/move-the-most-recent-commits-to-a-new-branch-with-git", "answers": [{"body": "<h2>Moving to a new branch</h2>\n\n<p>Unless there are other circumstances involved, this can be easily done by branching and rolling back.</p>\n\n<pre><code>git branch newbranch\ngit reset --hard HEAD~3 # Go back 3 commits. You *will* lose uncommitted work.*1\ngit checkout newbranch\n</code></pre>\n\n<p>But do make sure how many commits to go back. Alternatively, you can instead of <code>HEAD~3</code>, simply provide the hash of the commit (or the reference like <em>origin/master</em>) you want to \"revert back to\" on the <em>master</em> (/current) branch, e.g:</p>\n\n<pre><code>git reset --hard a1b2c3d4\n</code></pre>\n\n<p>*1 You will <strong>only</strong> be \"losing\" commits from the master branch, but don't worry, you'll have those commits in newbranch!</p>\n\n<h2>Moving to an existing branch</h2>\n\n<p><strong>WARNING</strong> The method above works because you are creating a <strong>new branch</strong> with the first command: <code>git branch newbranch</code>. If you want to use an <strong>existing branch</strong> you need to merge your changes into the <strong>existing branch</strong> before executing <code>git reset --hard HEAD~3</code>. If you don't merge your changes first, they will be lost. So, if you are working with an existing branch it will look like this:</p>\n\n<pre><code>git checkout existingbranch\ngit merge master\ngit checkout master\ngit reset --hard HEAD~3 # Go back 3 commits. You *will* lose uncommitted work.\ngit checkout existingbranch\n</code></pre>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 1628584, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<p>For those wondering why it works (as I was at first):</p>\n\n<p>You want to go back to C, and move D and E to the new branch.  Here's what it looks like at first:</p>\n\n<pre><code>A-B-C-D-E (HEAD)\n        \u2191\n      master\n</code></pre>\n\n<p>After <code>git branch newBranch</code>:</p>\n\n<pre><code>    newBranch\n        \u2193\nA-B-C-D-E (HEAD)\n        \u2191\n      master\n</code></pre>\n\n<p>After <code>git reset --hard HEAD~2</code>:</p>\n\n<pre><code>    newBranch\n        \u2193\nA-B-C-D-E (HEAD)\n    \u2191\n  master\n</code></pre>\n\n<p>Since a branch is just a pointer, <em>master</em> pointed to the last commit.  When you made <em>newBranch</em>, you simply made a new pointer to the last commit.  Then using <code>git reset</code> you moved the <em>master</em> pointer back two commits.  But since you didn't move <em>newBranch</em>, it still points to the commit it originally did.</p>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 6796816, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<h1>In General...</h1>\n\n<p>The method exposed by sykora is the best option in this case. But sometimes is not the easiest and it's not a general method. For a general method use <em>git cherry-pick</em>:</p>\n\n<p>To achieve what OP wants, its a 2-step process:</p>\n\n<h1>Step 1 - Note which commits from master you want on a <code>newbranch</code></h1>\n\n<p>Execute</p>\n\n<pre><code>git checkout master\ngit log\n</code></pre>\n\n<p>Note the hashes of (say 3) commits you want on <code>newbranch</code>. Here I shall use:<br>\nC commit: <code>9aa1233</code><br>\nD commit: <code>453ac3d</code><br>\nE commit: <code>612ecb3</code>  </p>\n\n<blockquote>\n  <p><strong>Note:</strong> You can use the first seven characters or\n  the whole commit hash</p>\n</blockquote>\n\n<h1>Step 2 - Put them on the <code>newbranch</code></h1>\n\n<pre><code>git checkout newbranch\ngit cherry-pick 612ecb3\ngit cherry-pick 453ac3d\ngit cherry-pick 9aa1233\n</code></pre>\n\n<h1>OR (on Git 1.7.2+, use ranges)</h1>\n\n<pre><code>git checkout newbranch\ngit cherry-pick 612ecb3..9aa1233\n</code></pre>\n\n<p><em>git cherry-pick</em> applies those three commits to newbranch.</p>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 9180445, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<p>Had just this situation:</p>\n\n<pre><code>Branch one: A B C D E F     J   L M  \n                       \\ (Merge)\nBranch two:             G I   K     N\n</code></pre>\n\n<p>I performed:</p>\n\n<pre><code>git branch newbranch \ngit reset --hard HEAD~8 \ngit checkout newbranch\n</code></pre>\n\n<p>I expected that commit I would be the HEAD, but commit L is it now...</p>\n\n<p>To be sure to land on the right spot in the history its easier to work with the hash of the commit</p>\n\n<pre><code>git branch newbranch \ngit reset --hard #########\ngit checkout newbranch\n</code></pre>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 18914310, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<p>This doesn't \"move\" them in the technical sense but it has the same effect:</p>\n\n<pre><code>A--B--C  (branch-foo)\n \\    ^-- I wanted them here!\n  \\\n   D--E--F--G  (branch-bar)\n      ^--^--^-- Opps wrong branch!\n\nWhile on branch-bar:\n$ git reset --hard D # remember the SHAs for E, F, G (or E and G for a range)\n\nA--B--C  (branch-foo)\n \\\n  \\\n   D-(E--F--G) detached\n   ^-- (branch-bar)\n\nSwitch to branch-foo\n$ git cherry-pick E..G\n\nA--B--C--E'--F'--G' (branch-foo)\n \\   E--F--G detached (This can be ignored)\n  \\ /\n   D--H--I (branch-bar)\n\nNow you won't need to worry about the detached branch because it is basically\nlike they are in the trash can waiting for the day it gets garbage collected.\nEventually some time in the far future it will look like:\n\nA--B--C--E'--F'--G'--L--M--N--... (branch-foo)\n \\\n  \\\n   D--H--I--J--K--.... (branch-bar)\n</code></pre>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 19467001, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<p>Yet another way to do this, using just 2 commands. Also keeps your current working tree intact.</p>\n\n<pre><code>git checkout -b newbranch # switch to a new branch\ngit push . +HEAD~3:master # make master point to some older commit \n</code></pre>\n\n<p>Being able to <code>push</code> to <code>.</code> is a nice trick to know.</p>\n\n<p>Late Edit:\nNow that I know about <code>git branch -f</code> the right way to do it is:</p>\n\n<pre><code>git checkout -b newbranch # switch to a new branch\ngit branch -f master HEAD~3 # make master point to some older commit \n</code></pre>\n\n<p>Which is the same, but less \"magic\"</p>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 22654961, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<p>To do this without rewriting history (i.e. if you've already pushed the commits):</p>\n\n<pre><code>git checkout master\ngit revert &lt;commitID(s)&gt;\ngit checkout -b new-branch\ngit cherry-pick &lt;commitID(s)&gt;\n</code></pre>\n\n<p>Both branches can then be pushed without force!</p>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 34928694, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}, {"body": "<h2>Most previous answers are dangerously wrong!</h2>\n\n<p>Do NOT do this:</p>\n\n\n\n<pre class=\"lang-sh prettyprint-override\"><code>git branch -t newbranch\ngit reset --hard HEAD~3\ngit checkout newbranch\n</code></pre>\n\n<p>As the next time you run <code>git rebase</code> (or <code>git pull --rebase</code>) those 3 commits would be silently discarded from <code>newbranch</code>! (see explanation below)</p>\n\n<p><strong>Instead do this:</strong></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>git reset --keep HEAD~3\ngit checkout -t -b newbranch\ngit cherry-pick ..HEAD@{2}\n</code></pre>\n\n<ul>\n<li>First it discards the 3 most recent commits (<code>--keep</code> is like <code>--hard</code>, but safer, as fails rather than throw away uncommitted changes).</li>\n<li>Then it forks off <code>newbranch</code>.</li>\n<li>Then it cherry-picks those 3 commits back onto <code>newbranch</code>. Since they're no longer referenced by a branch, it does that by using git's <a href=\"http://gitready.com/intermediate/2009/02/09/reflog-your-safety-net.html\">reflog</a>: <code>HEAD@{2}</code> is the commit that <code>HEAD</code> used to refer to 2 operations ago, i.e. before we 1. checked out <code>newbranch</code> and 2. used <code>git reset</code> to discard the 3 commits.</li>\n</ul>\n\n<p><em>Warning: the reflog is enabled by default, but if you've manually disabled it (e.g. by using a \"bare\" git repository), you won't be able to get the 3 commits back after running <code>git reset --keep HEAD~3</code>.</em></p>\n\n<p>An alternative that doesn't rely on the reflog is:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code># newbranch will omit the 3 most recent commits.\ngit checkout -b newbranch HEAD~3\ngit branch --set-upstream-to=oldbranch\n# Cherry-picks the extra commits from oldbranch.\ngit cherry-pick ..oldbranch\n# Discards the 3 most recent commits from oldbranch.\ngit branch --force oldbranch oldbranch~3\n</code></pre>\n\n<p>(if you prefer you can write <code>@{-1}</code> - the previously checked out branch - instead of <code>oldbranch</code>).</p>\n\n<hr>\n\n<h2>Technical explanation</h2>\n\n<p>Why would <code>git rebase</code> discard the 3 commits after the first example? It's because <code>git rebase</code> with no arguments enables the <code>--fork-point</code> option by default, which uses the local reflog to try to be robust against the upstream branch being force-pushed.</p>\n\n<p>Suppose you branched off origin/master when it contained commits M1, M2, M3, then made two commits yourself:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>M1--M2--M3  &lt;-- origin/master\n         \\\n          T1--T2  &lt;-- topic\n</code></pre>\n\n<p>but then someone rewrites history by force-pushing origin/master to remove M2:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>M1--M3'  &lt;-- origin/master\n \\\n  M2--M3--T1--T2  &lt;-- topic\n</code></pre>\n\n<p>Using your local reflog, <code>git rebase</code> can see that you forked from an earlier incarnation of the origin/master branch, and hence that the M2 and M3 commits are not really part of your topic branch. Hence it reasonably assumes that since M2 was removed from the upstream branch, you no longer want it in your topic branch either once the topic branch is rebased:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>M1--M3'  &lt;-- origin/master\n     \\\n      T1'--T2'  &lt;-- topic (rebased)\n</code></pre>\n\n<p>This behavior makes sense, and is generally the right thing to do when rebasing.</p>\n\n<p>So the reason that the following commands fail:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>git branch -t newbranch\ngit reset --hard HEAD~3\ngit checkout newbranch\n</code></pre>\n\n<p>is because they leave the reflog in the wrong state. Git sees <code>newbranch</code> as having forked off the upstream branch at a revision that includes the 3 commits, then the <code>reset --hard</code> rewrites the upstream's history to remove the commits, and so next time you run <code>git rebase</code> it discards them like any other commit that has been removed from the upstream.</p>\n\n<p>But in this particular case we want those 3 commits to be considered as part of the topic branch. To achieve that, we need to fork off the upstream at the earlier revision that doesn't include the 3 commits. That's what my suggested solutions do, hence they both leave the reflog in the correct state.</p>\n\n<p>For more details, see the definition of <code>--fork-point</code> in the <a href=\"https://git-scm.com/docs/git-rebase\">git rebase</a> and <a href=\"https://git-scm.com/docs/git-merge-base\">git merge-base</a> docs.</p>\n", "title": "Move the most recent commit(s) to a new branch with Git", "answer_id": 36463546, "question_id": 1628563, "tags": ["git", "git-branch", "branching-and-merging"]}], "question_id": 1628563}, {"body": "<p>How do I remove a Git submodule?</p>\n\n<p>By the way, is there a reason I can't simply do </p>\n\n<pre><code>git submodule rm whatever\n</code></pre>\n\n<p>?</p>\n", "title": "How do I remove a submodule?", "tags": ["git", "git-submodules"], "answer_count": 20, "link": "http://stackoverflow.com/questions/1260748/how-do-i-remove-a-submodule", "answers": [{"body": "<p>You must remove the entry in <code>.gitmodules</code> and <code>.git/config</code>, and remove the directory of the module from the history:</p>\n\n<pre><code>git rm --cached path/to/submodule\n</code></pre>\n\n<p>If you'll write on git's mailing list probably someone will do a shell script for you.</p>\n", "title": "How do I remove a submodule?", "answer_id": 1260823, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>Via the page <em><a href=\"https://git.wiki.kernel.org/index.php/GitSubmoduleTutorial#Removal\">Git Submodule Tutorial</a></em>:</p>\n\n<p><strong>To remove a submodule you need to:</strong></p>\n\n<ol>\n<li>Delete the relevant section from the <code>.gitmodules</code> file.</li>\n<li>Stage the <code>.gitmodules</code> changes <code>git add .gitmodules</code></li>\n<li>Delete the relevant section from <code>.git/config</code>.</li>\n<li>Run <code>git rm --cached path_to_submodule</code> (no trailing slash).</li>\n<li>Run <code>rm -rf .git/modules/path_to_submodule</code></li>\n<li>Commit <code>git commit -m \"Removed submodule &lt;name&gt;\"</code></li>\n<li>Delete the now untracked submodule files<br/><code>rm -rf path_to_submodule</code></li>\n</ol>\n", "title": "How do I remove a submodule?", "answer_id": 1260982, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p><strong>Simple steps</strong></p>\n\n<ol>\n<li>Remove config entries:<br><code>git config -f .git/config --remove-section submodule.$submodulepath</code><br> <code>git config -f .gitmodules --remove-section submodule.$submodulepath</code></li>\n<li>Remove directory from index:<br/><code>git rm --cached $submodulepath</code></li>\n<li>Commit</li>\n<li>Delete unused files:<br><code>rm -rf $submodulepath</code><br><code>rm -rf .git/modules/$submodulepath</code></li>\n</ol>\n\n<p><em>Please note:</em> <code>$submodulepath</code> doesn't contain leading or trailing slashes.</p>\n\n<p><strong>Background</strong></p>\n\n<p>When you do <code>git submodule add</code>, it only adds it to <code>.gitmodules</code>, but\nonce you did <code>git submodule init</code>, it added to <code>.git/config</code>.</p>\n\n<p>So if you wish to remove the modules, but be able to restore it quickly,\nthen do just this:</p>\n\n<pre><code>git rm --cached $submodulepath\ngit config -f .git/config --remove-section submodule.$submodulepath\n</code></pre>\n\n<p>It is a good idea to do <code>git rebase HEAD</code> first and <code>git commit</code>\nat the end, if you put this in a script.</p>\n\n<p>Also have a look at <a href=\"http://stackoverflow.com/a/5387510/319266\">an answer to <em>Can I unpopulate a Git submodule?</em></a>.</p>\n", "title": "How do I remove a submodule?", "answer_id": 7646931, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>In addition to the recommendations, I also had to <code>rm -Rf .git/modules/path/to/submodule</code> to be able to add a new submodule with the same name (in my case I was replacing a fork with the original) </p>\n", "title": "How do I remove a submodule?", "answer_id": 9536504, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>If the submodule was <em>accidentally</em> added because you added, committed and pushed a folder that was already a Git repository (contained <code>.git</code>), you won\u2019t have a <code>.gitmodules</code> file to edit, or anything in <code>.git/config</code>. <a href=\"http://humansky.com/2011/12/accidentally-adding-a-git-submodule/\" rel=\"nofollow\">In this case all you need</a> is :</p>\n\n<pre><code>git rm --cached subfolder\ngit add subfolder\ngit commit -m \"Enter message here\"\ngit push\n</code></pre>\n\n<p><a href=\"http://en.wiktionary.org/wiki/FWIW\" rel=\"nofollow\">FWIW</a>, I also removed the <code>.git</code> folder before doing the <code>git add</code>.</p>\n", "title": "How do I remove a submodule?", "answer_id": 10615636, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>To summarize, this is what you should do :</p>\n\n<ol>\n<li><p>Set <code>path_to_submodule</code> var (no trailing slash): </p>\n\n<p><code>path_to_submodule=path/to/submodule</code></p></li>\n<li><p>Delete the relevant line from the .gitmodules file:</p>\n\n<p><code>git config -f .gitmodules --remove-section submodule.$path_to_submodule</code></p></li>\n<li><p>Delete the relevant section from .git/config</p>\n\n<p><code>git config -f .git/config --remove-section submodule.$path_to_submodule</code></p></li>\n<li><p>Unstage and remove $path_to_submodule only from the index (to prevent losing information) </p>\n\n<p><code>git rm --cached $path_to_submodule</code></p></li>\n<li><p>Track changes made to .gitmodules</p>\n\n<p><code>git add .gitmodules</code></p></li>\n<li><p>Commit the superproject</p>\n\n<p><code>git commit -m \"Remove submodule submodule_name\"</code></p></li>\n<li><p>Delete the now untracked submodule files</p>\n\n<p><code>rm -rf $path_to_submodule</code></p>\n\n<p><code>rm -rf .git/modules/$path_to_submodule</code></p></li>\n</ol>\n", "title": "How do I remove a submodule?", "answer_id": 11400433, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>You can use an alias to automate the solutions provided by others:</p>\n\n<pre><code>[alias]\n  rms = \"!f(){ git rm --cached \\\"$1\\\";rm -r \\\"$1\\\";git config -f .gitmodules --remove-section \\\"submodule.$1\\\";git config -f .git/config --remove-section \\\"submodule.$1\\\";git add .gitmodules; }; f\"\n</code></pre>\n\n<p>Put that in your git config, and then you can do: <code>git rms path/to/submodule</code></p>\n", "title": "How do I remove a submodule?", "answer_id": 13185967, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>I had to take John Douthat's steps one step further and <code>cd</code> into the submodule's directory, and then remove the Git repository: </p>\n\n<pre><code>cd submodule\nrm -fr .git\n</code></pre>\n\n<p>Then I could commit the files as a part of the parent Git repository without the old reference to a submodule.</p>\n", "title": "How do I remove a submodule?", "answer_id": 13527274, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>What I'm currently doing Dec 2012 (combines most of these answers): </p>\n\n<pre><code>oldPath=\"vendor/example\"\ngit config -f .git/config --remove-section \"submodule.${oldPath}\"\ngit config -f .gitmodules --remove-section \"submodule.${oldPath}\"\ngit rm --cached \"${oldPath}\"\nrm -rf \"${oldPath}\"              ## remove src (optional)\nrm -rf \".git/modules/${oldPath}\" ## cleanup gitdir (optional housekeeping)\ngit add .gitmodules\ngit commit -m \"Removed ${oldPath}\"\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 13942792, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>Since <a href=\"https://github.com/git/git/blob/v1.8.3-rc0/Documentation/RelNotes/1.8.3.txt#L135-L137\">git1.8.3 (April 22d, 2013)</a>:</p>\n\n<blockquote>\n  <p>There was no Porcelain way to say \"I no longer am interested in this submodule\", once you express your interest in a submodule with \"<code>submodule init</code>\".<br>\n  \"<strong><code>submodule deinit</code></strong>\" is the way to do so.</p>\n</blockquote>\n\n<p>The deletion process also uses <code>git rm</code> (since git1.8.5 October 2013).  </p>\n\n<h2>Summary</h2>\n\n<p>The all removal process would then be:</p>\n\n<pre><code>mv asubmodule asubmodule_tmp\ngit submodule deinit asubmodule    \ngit rm asubmodule\n# Note: asubmodule (no trailing slash)\n# or, if you want to leave it in your working tree\ngit rm --cached asubmodule\nmv asubmodule_tmp asubmodule\n</code></pre>\n\n<p>But you seem to still need a:</p>\n\n<pre><code>rm -rf .git/modules/asubmodule\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p><code>rm -rf</code>: This is mentioned in <a href=\"http://stackoverflow.com/users/2753241/daniel-schroeder\">Daniel Schroeder</a>'s <a href=\"http://stackoverflow.com/a/26505847/6309\">answer</a>, and summarized by <a href=\"http://stackoverflow.com/users/246776/eonil\">Eonil</a> in <a href=\"http://stackoverflow.com/questions/1260748/how-do-i-remove-a-git-submodule/16162000?noredirect=1#comment41729982_16162000\">the comments</a>:</p>\n\n<blockquote>\n  <p>This leaves <code>.git/modules/&lt;path-to-submodule&gt;/</code> unchanged.<br>\n  So if you once delete a submodule with this method and re-add them again, it will not be possible because repository already been corrupted.</p>\n</blockquote>\n\n<hr>\n\n<p><code>git rm</code>: See <a href=\"https://github.com/git/git/commit/95c16418f0375e2fc325f32c3d7578fba9cfd7ef\">commit 95c16418</a>:</p>\n\n<blockquote>\n  <p>Currently using \"<code>git rm</code>\" on a submodule removes the submodule's work tree from that of the superproject and the gitlink from the index.<br>\n  But the submodule's section in <code>.gitmodules</code> is left untouched, which is a leftover of the now removed submodule and might irritate users (as opposed to the setting in <code>.git/config</code>, this must stay as a reminder that the user showed interest in this submodule so it will be repopulated later when an older commit is checked out).</p>\n  \n  <p>Let \"<code>git rm</code>\" help the user by not only removing the submodule from the work tree but by also removing the \"<code>submodule.&lt;submodule name&gt;</code>\" section from the .gitmodules file and stage both.</p>\n</blockquote>\n\n<hr>\n\n<p><code>git submodule deinit</code>: It stems from <a href=\"http://git.661346.n2.nabble.com/PATCH-v3-submodule-add-deinit-command-td7576946.html\">this patch</a>:</p>\n\n<blockquote>\n  <p>With \"<code>git submodule init</code>\" the user is able to tell git they care about one or more submodules and wants to have it populated on the next call to \"<code>git submodule update</code>\".<br>\n  But currently there is no easy way they can tell git they do not care about a submodule anymore and wants to get rid of the local work tree (unless the user knows a lot about submodule internals and removes the \"<code>submodule.$name.url</code>\" setting from <code>.git/config</code> together with the work tree himself).</p>\n  \n  <p>Help those users by providing a '<strong><code>deinit</code></strong>' command.<br>\n  This <strong>removes the whole <code>submodule.&lt;name&gt;</code> section from <code>.git/config</code> either for the given\n  submodule(s)</strong> (or for all those which have been initialized if '<code>.</code>' is given).<br>\n  Fail if the current work tree contains modifications unless forced.<br>\n  Complain when for a submodule given on the command line the url setting can't be found in <code>.git/config</code>, but nonetheless don't fail. </p>\n</blockquote>\n\n<p>This takes care if the (de)initialization steps (<code>.git/config</code> and <code>.git/modules/xxx</code>)</p>\n\n<p>Since git1.8.5, the <code>git rm</code> takes <em>also</em> care of the:</p>\n\n<ul>\n<li>'<code>add</code>' step which records the url of a submodule in the <code>.gitmodules</code> file: it is need to removed for you.</li>\n<li>the submodule <strong><a href=\"http://stackoverflow.com/questions/1992018/git-submodule-update-needed-only-initially/2227598#2227598\">special entry</a></strong> (as illustrated by <a href=\"http://stackoverflow.com/q/16574625/6309\">this question</a>): the git rm removes it from the index:<br>\n<code>git rm --cached path_to_submodule</code> (no trailing slash)<br>\nThat will remove that directory stored in the index with a special mode \"160000\", marking it as a submodule root directory.</li>\n</ul>\n\n<p>If you forget that last step, and try to add what was a submodule as a regular directory, you would get error message like:</p>\n\n<pre><code>git add mysubmodule/file.txt \nPath 'mysubmodule/file.txt' is in submodule 'mysubmodule'\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 16162000, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>this is a bash script you can download an install</p>\n\n<p>helpful for updating or removing submodules</p>\n\n<p><a href=\"http://artmees.github.io/gitsubmodule/\">http://artmees.github.io/gitsubmodule/</a></p>\n", "title": "How do I remove a submodule?", "answer_id": 17848164, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>I recently find out a git project which include many useful git related command: <a href=\"https://github.com/visionmedia/git-extras\" rel=\"nofollow\">https://github.com/visionmedia/git-extras</a></p>\n\n<p>Install it and type :</p>\n\n<pre><code>git-delete-submodule submodule\n</code></pre>\n\n<p>Then things are done. The submodule directory will be removed from your repo and still exist in your filesystem. You can then commit the change like: <code>git commit -am \"Remove the submodule\"</code>.</p>\n", "title": "How do I remove a submodule?", "answer_id": 19255681, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>To remove a submodule added using:</p>\n\n<pre><code>git submodule add blah@blah.com:repos/blah.git lib/blah\n</code></pre>\n\n<p>Run:</p>\n\n<pre><code>git rm lib/blah\n</code></pre>\n\n<p>That's it. </p>\n\n<p>For old versions of git (circa ~1.8.5) use:</p>\n\n<pre><code>git submodule deinit lib/blah\ngit rm lib/blah\ngit config -f .gitmodules --remove-section submodule.lib/blah\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 19333067, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>Just a note. Since git 1.8.5.2, two commands will do:</p>\n\n<pre><code>git rm the_submodule\nrm -rf .git/modules/the_submodule\n</code></pre>\n\n<p>As @Mark Cheverton's answer correctly pointed out, if the second line isn't used, even if you removed the submodule for now, the remnant .git/modules/the_submodule folder will prevent the same submodule from being added back or replaced in the future. Also, as @VonC mentioned, <code>git rm</code> will do most of the job on a submodule.</p>\n", "title": "How do I remove a submodule?", "answer_id": 21211232, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>I just found the .submodule (forgot exact name) hidden file, it has a list... you can erase them individually that way. I just had one, so I deleted it. Simple, but it might mess up Git, since I don't know if anything's attached to the submodule. Seems ok so far, aside from libetpan's usual upgrade issue, but that's (hopefully) unrelated. </p>\n\n<p>Noticed nobody posted manual erasing, so added</p>\n", "title": "How do I remove a submodule?", "answer_id": 24239096, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>After experimenting with all the different answers on this site, I ended up with this solution:</p>\n\n<pre><code>#!/bin/sh\npath=\"$1\"\nif [ ! -f \"$path/.git\" ]; then\n  echo \"$path is no valid git submodule\"\n  exit 1\nfi\ngit submodule deinit -f $path &amp;&amp;\ngit rm --cached $path &amp;&amp;\nrm -rf .git/modules/$path &amp;&amp;\nrm -rf $path &amp;&amp;\ngit reset HEAD .gitmodules &amp;&amp;\ngit config -f .gitmodules --remove-section submodule.$path\n</code></pre>\n\n<p>This restores the exact same state as before you added the submodule. You can right away add the submodule again, which was not possible with most of the answers here.</p>\n\n<pre><code>git submodule add $giturl test\naboveScript test\n</code></pre>\n\n<p>This leaves you with a clean checkout with no changes to commit.</p>\n\n<p>This was tested with:</p>\n\n<pre><code>$ git --version\ngit version 1.9.3 (Apple Git-50)\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 26505847, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<pre><code>project dir:     ~/foo_project/\nsubmodule:       ~/foo_project/lib/asubmodule\n- - - - - - - - - - - - - - - - - - - - - - - - -\nrun:\n  1.   cd ~/foo_project\n  2.   git rm lib/asubmodule &amp;&amp; \n          rm .git/modules/lib/asubmodule &amp;&amp; \n            git submodule lib/asubmodule deinit --recursive --force\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 29712953, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>Here is what I did :</p>\n\n<p>1.) Delete the relevant section from the .gitmodules file. You can use below command:</p>\n\n<pre><code>git config -f .gitmodules --remove-section \"submodule.submodule_name\"\n</code></pre>\n\n<p>2.) Stage the <code>.gitmodules</code> changes </p>\n\n<pre><code>git add .gitmodules\n</code></pre>\n\n<p>3.) Delete the relevant section from <code>.git/config</code>. You can use below command:</p>\n\n<pre><code>git submodule deinit -f \"submodule_name\"\n</code></pre>\n\n<p>4.) Remove the gitlink (no trailing slash):</p>\n\n<pre><code>git rm --cached path_to_submodule\n</code></pre>\n\n<p>5.) Cleanup the <code>.git/modules</code>:</p>\n\n<pre><code>rm -rf .git/modules/path_to_submodule\n</code></pre>\n\n<p>6.) Commit:</p>\n\n<pre><code>git commit -m \"Removed submodule &lt;name&gt;\"\n</code></pre>\n\n<p>7.) Delete the now untracked submodule files</p>\n\n<pre><code>rm -rf path_to_submodule\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 35743109, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>The majority of answers to this question are outdated, incomplete, or unnecessarily complex.</p>\n\n<p>A submodule cloned using git 1.7.8 or newer will leave at most four traces of itself in your local repo. The process for removing those four traces is given by the three commands below:</p>\n\n<pre><code>// Remove the submodule entry from .git/config\ngit submodule deinit -f path/to/submodule\n\n// Remove the submodule directory from the superproject's .git/modules directory\nrm -rf .git/modules/path/to/submodule\n\n// Remove the entry in .gitmodules and remove the submodule directory located at path/to/submodule\ngit rm -f path/to/submodule\n</code></pre>\n", "title": "How do I remove a submodule?", "answer_id": 36593218, "question_id": 1260748, "tags": ["git", "git-submodules"]}, {"body": "<p>If you have just added the submodule, and for example, you simply added the wrong submodule or you added it to the wrong place, simply do <code>git stash</code> then delete the folder. This is assuming that adding the submodule is the only thing you did in the recent repo.</p>\n", "title": "How do I remove a submodule?", "answer_id": 37563461, "question_id": 1260748, "tags": ["git", "git-submodules"]}], "question_id": 1260748}, {"body": "<p>I know how to make a new branch that tracks remote branches, but <strong>how do I make an existing branch track a remote branch?</strong></p>\n\n<p>I know I can just edit the <code>.git/config</code> file, but it seems there should be an easier way.</p>\n", "title": "Make an existing Git branch track a remote branch?", "tags": ["git", "branch", "git-branch"], "answer_count": 17, "link": "http://stackoverflow.com/questions/520650/make-an-existing-git-branch-track-a-remote-branch", "answers": [{"body": "<p>Editing <code>.git/config</code> is probably the easiest and fastest way. That's what the Git commands for handling remote branches are doing, anyway.</p>\n\n<p>If you don't want to muck with the file by hand (and it's not that hard to do), you can always use <code>git config</code> to do it...but again, that's just going to edit the <code>.git/config</code> file, anyway.</p>\n\n<p>There are, of course, ways to automatically track a remote branch when using <code>git checkout</code> (by passing the <code>--track</code> flag, for example), but these commands work with <em>new</em> branches, not existing ones.</p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 520673, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>You might find the <a href=\"http://github.com/webmat/git_remote_branch\"><code>git_remote_branch</code></a> tool useful. It offers simple commands for creating, publishing, deleting, tracking &amp; renaming remote branches. One nice feature is that you can ask a <code>grb</code> command to explain what git commands it would execute.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>grb explain create my_branch github\n# git_remote_branch version 0.3.0\n\n# List of operations to do to create a new remote branch and track it locally:\ngit push github master:refs/heads/my_branch\ngit fetch github\ngit branch --track my_branch github/my_branch\ngit checkout my_branch\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 521184, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>You can do the following (assuming you are checked out on master and want to push to a remote branch master):</p>\n\n<p>Set up the 'remote' if you don't have it already</p>\n\n<pre><code># git remote add origin ssh://...\n</code></pre>\n\n<p>Now configure master to know to track:</p>\n\n<pre><code># git config branch.master.remote origin\n# git config branch.master.merge refs/heads/master\n</code></pre>\n\n<p>And push:</p>\n\n<pre><code># git push origin master\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 625460, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Given a branch <code>foo</code> and a remote <code>upstream</code>:</p>\n\n<p><strong>As of Git 1.8.0:</strong></p>\n\n<pre><code>git branch -u upstream/foo\n</code></pre>\n\n<p>Or, if local branch <code>foo</code> is not the current branch:</p>\n\n<pre><code>git branch -u upstream/foo foo\n</code></pre>\n\n<p>Or, if you like to type longer commands, these are equivalent to the above two:</p>\n\n<pre><code>git branch --set-upstream-to=upstream/foo\n\ngit branch --set-upstream-to=upstream/foo foo\n</code></pre>\n\n<p><strong>As of Git 1.7.0:</strong></p>\n\n<pre><code>git branch --set-upstream foo upstream/foo\n</code></pre>\n\n<p><strong>Notes:</strong></p>\n\n<p>All of the above commands will cause local branch <code>foo</code> to track remote branch <code>foo</code> from remote <code>upstream</code>.  The old (1.7.x) syntax is deprecated in favor of the new (1.8+) syntax.  The new syntax is intended to be more intuitive and easier to remember.</p>\n\n<hr>\n\n<p>See also: <a href=\"http://stackoverflow.com/q/6089294/95706\">Git: Why do I need to do `--set-upstream` all the time?</a></p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 2286030, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>For 1.6.x, it can be done using the <a href=\"http://github.com/webmat/git_remote_branch\">git_remote_branch</a> tool:</p>\n\n<pre><code>grb track foo upstream\n</code></pre>\n\n<p>That will cause Git to make <code>foo</code> track <code>upstream/foo</code>.</p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 2946963, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>I believe that in as early as Git 1.5.x you could make a local branch <code>$BRANCH</code> track a remote branch <code>origin/$BRANCH</code>, like this.</p>\n\n<p>Given that <code>$BRANCH</code> and <code>origin/$BRANCH</code> exist, and you've not currently checked out <code>$BRANCH</code> (switch away if you have), do:</p>\n\n<pre><code>git branch -f --track $BRANCH origin/$BRANCH\n</code></pre>\n\n<p>This recreates <code>$BRANCH</code> as a tracking branch. The <code>-f</code> forces the creation despite <code>$BRANCH</code> existing already. <code>--track</code> is optional if the usual defaults are in place (that is, the git-config parameter <code>branch.autosetupmerge</code> is true).</p>\n\n<p>Note, if <code>origin/$BRANCH</code> doesn't exist yet, you can create it by pushing your local <code>$BRANCH</code> into the remote repository with:</p>\n\n<pre><code>git push origin $BRANCH\n</code></pre>\n\n<p>Followed by the previous command to promote the local branch into a tracking branch.</p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 3351564, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Actually for the accepted answer to work:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git remote add upstream &lt;remote-url&gt;\ngit fetch upstream\ngit branch -f --track qa upstream/qa\n# OR:\ngit branch --set-upstream qa upstream/qa\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 4255852, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Make sure you run : </p>\n\n<pre><code>git config push.default tracking\n</code></pre>\n\n<p>to be able to push trouble free </p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 7236287, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>I do this as a side-effect of pushing with the <code>-u</code> option as in</p>\n\n<pre><code>$ git push -u origin branch-name\n</code></pre>\n\n<p>The equivalent long option is <code>--set-upstream</code>.</p>\n\n<p>The <code>git-branch</code> command also understands <code>--set-upstream</code>, but its use can be confusing. <a href=\"https://lkml.org/lkml/2012/10/1/419\">Version 1.8.0</a> modifies the interface.</p>\n\n<blockquote>\n  <p><code>git branch --set-upstream</code> is deprecated and may be removed in a relatively distant future.  <code>git branch [-u|--set-upstream-to]</code> has been introduced with a saner order of arguments.</p>\n  \n  <p>&hellip;</p>\n  \n  <p>It was tempting to say <code>git branch --set-upstream origin/master</code>, but that tells Git to arrange the local branch \"origin/master\" to integrate with the currently checked out branch, which is highly unlikely what the user meant. The option is deprecated; use the new <code>--set-upstream-to</code> (with a short-and-sweet <code>-u</code>) option instead.</p>\n</blockquote>\n\n<p>Say you have a local foo branch and want it to treat the branch by the same name as its upstream. Make this happen with</p>\n\n<pre><code>$ git branch foo\n$ git branch --set-upstream-to=origin/foo\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>$ git branch --set-upstream-to=origin/foo foo\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 12694311, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>In very short</p>\n\n<pre><code>git branch --set-upstream yourLocalBranchName origin/develop\n</code></pre>\n\n<p>This will make your <code>yourLocalBranchName</code> track the remote branch called <code>develop</code>.</p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 12794757, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>In a somewhat related way I was trying to add a remote tracking branch to an existing branch, but did not have access to that remote repository on the system where I wanted to add that remote tracking branch on (because I frequently export a copy of this repo via sneakernet to another system that has the access to push to that remote). I found that there was no way to force adding a remote branch on the local that hadn't been fetched yet (so local did not know that the branch existed on the remote and I would get the error: <code>the requested upstream branch 'origin/remotebranchname' does not exist</code>). </p>\n\n<p>In the end I managed to add the new, previously unknown remote branch (without fetching) by adding a new head file at <code>.git/refs/remotes/origin/remotebranchname</code> and then copying the ref (eyeballing was quickest, lame as it was ;-) from the system with access to the origin repo to the workstation (with the local repo where I was adding the remote branch on).</p>\n\n<p>Once that was done, I could then use <code>git branch --set-upstream-to=origin/remotebranchname</code></p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 32942243, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Here, using <code>github</code> and <code>git version 2.1.4</code>, just do:</p>\n\n<pre><code>$ git clone git@github.com:user/repo.git\n</code></pre>\n\n<p>And remotes come by itelsef, even if not linked locally:</p>\n\n<pre><code>$ git remote show origin\n\n* remote origin\n  Fetch URL: git@github.com:user/repo.git\n  Push  URL: git@github.com:user/repo.git\n  HEAD branch: master\n  Remote branches:\n    develop tracked         &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    master  tracked\n  Local branch configured for 'git pull':\n    master merges with remote master\n  Local ref configured for 'git push':\n    master pushes to master (up to date)\n</code></pre>\n\n<p>But of course, still no local branch:</p>\n\n<pre><code>$ git branch\n* master                  &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n</code></pre>\n\n<p>See? Now if you just checkout develp, it will do the magic automatically:</p>\n\n<pre><code>$ git checkout develop\nBranch develop set up to track remote branch develop from origin.\nSwitched to a new branch 'develop'\n</code></pre>\n\n<p>So easy!</p>\n\n<hr>\n\n<p><strong>Summary.</strong> Just run this 2 commands:</p>\n\n<pre><code>$ git clone git@github.com:user/repo.git\n$ git checkout develop\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 33989218, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>I use the following command (Suppose yout branch name is \"branch-name\"):</p>\n\n<pre><code>$ git branch --set-upstream-to=branch-name origin/branch-name\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 34412785, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>This isn't a direct answer to this question, but I wanted to leave a note here for anyone who may be having the same issue as me when trying to configure an upstream branch.</p>\n\n<p>Be wary of <strong>push.default</strong>. </p>\n\n<p>With older git versions, the default was <strong>matching</strong>, which would cause very undesirable behaviour if you have, for example:</p>\n\n<p>Local branch \"master\" tracking to origin/master</p>\n\n<p>Remote branch \"upstream\" tracking to upstream/master</p>\n\n<p>If you tried to \"git push\" when on the \"upstream\" branch, with <strong>push.default matching</strong> git would automatically try to merge the local branch \"master\" into \"upstream/master\", causing a whole lot of chaos.</p>\n\n<p>This gives more sane behaviour:</p>\n\n<p>git config --global push.default upstream</p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 37363205, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>1- update your local meta-data using  : <strong>git fetch --all</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/UBUNn.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/UBUNn.png\" alt=\"enter image description here\"></a></p>\n\n<p>2- show your remote and local branches using : <strong>git branch -a</strong>\n, see the following Screenshot</p>\n\n<p><a href=\"http://i.stack.imgur.com/J1xB9.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/J1xB9.png\" alt=\"enter image description here\"></a></p>\n\n<p>3- switch to target branch , that you want to linked with the remote: using</p>\n\n<p><strong>git checkout branchName</strong></p>\n\n<p>example : </p>\n\n<p><a href=\"http://i.stack.imgur.com/WeBwL.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/WeBwL.png\" alt=\"enter image description here\"></a> </p>\n\n<p>4- Link your local branch to a remote branch using: </p>\n\n<p><strong>git branch --set-upstream-to  nameOfRemoteBranch</strong></p>\n\n<p>N.B  : <strong>nameOfRemoteBranch</strong> : to copy from the output of step 2 \" git branch -r \"</p>\n\n<p>Exemple of use : </p>\n\n<p><a href=\"http://i.stack.imgur.com/arZFk.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/arZFk.png\" alt=\"enter image description here\"></a></p>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 37659883, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>This would work too</p>\n\n<pre><code>git branch --set-upstream-to=/&lt; remote&gt;/&lt; branch&gt; &lt; localbranch&gt;\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 37973812, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Simply, after a <code>git pull</code> ,</p>\n\n<pre><code>git checkout --track &lt;remote-branch-name&gt;\n</code></pre>\n\n<p>Or,</p>\n\n<pre><code>git fetch &amp;&amp; git checkout &lt;branch-name&gt;\n</code></pre>\n", "title": "Make an existing Git branch track a remote branch?", "answer_id": 38717817, "question_id": 520650, "tags": ["git", "branch", "git-branch"]}], "question_id": 520650}, {"body": "<p>What exactly is RESTful programming?</p>\n", "title": "What exactly is RESTful programming?", "tags": ["http", "rest", "definition"], "answer_count": 28, "link": "http://stackoverflow.com/questions/671118/what-exactly-is-restful-programming", "answers": [{"body": "<p><em>REST</em> is the underlying architectural principle of the web. The amazing thing about the web is the fact that clients (browsers) and servers can interact in complex ways without the client knowing anything beforehand about the server and the resources it hosts. The key constraint is that the server and client must both agree on the <em>media</em> used, which in the case of the web is <em>HTML</em>.</p>\n\n<p>An API that adheres to the principles of <em>REST</em> does not require the client to know anything about the structure of the API. Rather, the server needs to provide whatever information the client needs to interact with the service. An <em>HTML form</em> is an example of this: The server specifies the location of the resource, and the required fields. <strong>The browser doesn't know in advance where to submit the information, and it doesn't know in advance what information to submit. Both forms of information are entirely supplied by the server.</strong> (This principle is called <em>HATEOAS</em>.)</p>\n\n<p><strong>So, how does this apply to <em>HTTP</em>, and how can it be implemented in practice?</strong> HTTP is oriented around verbs and resources. The two verbs in mainstream usage are GET and POST, which I think everyone will recognize. However, the HTTP standard defines several others such as PUT and DELETE. These verbs are then applied to resources, according to the instructions provided by the server.</p>\n\n<p>For example, Let's imagine that we have a user database that is managed by a web service. Our service uses a custom hypermedia based on JSON, for which we assign the mimetype <em>application/json+userdb</em> (There might also be an <em>application/xml+userdb</em> and <em>application/whatever+userdb</em> - many media types may be supported). The client and the server has both been programmed to understand this format, but they don't know anything about each other. As <a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\">Roy Fielding</a> points out:</p>\n\n<blockquote>\n  <p>A REST API should spend almost all of its descriptive effort in\n  defining the media type(s) used for representing resources and driving\n  application state, or in defining extended relation names and/or\n  hypertext-enabled mark-up for existing standard media types.</p>\n</blockquote>\n\n<p>A request for the base resource <code>/</code> might return something like this:</p>\n\n<p><strong>Request</strong></p>\n\n<pre><code>GET /\nAccept: application/json+userdb\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>200 OK\nContent-Type: application/json+userdb\n\n{\n    \"version\": \"1.0\",\n    \"links\": [\n        {\n            \"href\": \"/user\",\n            \"rel\": \"list\",\n            \"method\": \"GET\"\n        },\n        {\n            \"href\": \"/user\",\n            \"rel\": \"create\",\n            \"method\": \"POST\"\n        }\n    ]\n}\n</code></pre>\n\n<p>We know from the description of our media that we can find information about related resources from sections called \"links\". This is called <em>Hypermedia controls</em>. In this case, we can tell from such a section that we can find a user list by making another request for <code>/user</code>:</p>\n\n<p><strong>Request</strong></p>\n\n<pre><code>GET /user\nAccept: application/json+userdb\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>200 OK\nContent-Type: application/json+userdb\n\n{\n    \"users\": [\n        {\n            \"id\": 1,\n            \"name\": \"Emil\",\n            \"country: \"Sweden\",\n            \"links\": [\n                {\n                    \"href\": \"/user/1\",\n                    \"rel\": \"self\",\n                    \"method\": \"GET\"\n                },\n                {\n                    \"href\": \"/user/1\",\n                    \"rel\": \"edit\",\n                    \"method\": \"PUT\"\n                },\n                {\n                    \"href\": \"/user/1\",\n                    \"rel\": \"delete\",\n                    \"method\": \"DELETE\"\n                }\n            ]\n        },\n        {\n            \"id\": 2,\n            \"name\": \"Adam\",\n            \"country: \"Scotland\",\n            \"links\": [\n                {\n                    \"href\": \"/user/2\",\n                    \"rel\": \"self\",\n                    \"method\": \"GET\"\n                },\n                {\n                    \"href\": \"/user/2\",\n                    \"rel\": \"edit\",\n                    \"method\": \"PUT\"\n                },\n                {\n                    \"href\": \"/user/2\",\n                    \"rel\": \"delete\",\n                    \"method\": \"DELETE\"\n                }\n            ]\n        }\n    ],\n    \"links\": [\n        {\n            \"href\": \"/user\",\n            \"rel\": \"create\",\n            \"method\": \"POST\"\n        }\n    ]\n}\n</code></pre>\n\n<p>We can tell a lot from this response. For instance, we now know we can create a new user by POSTing to <code>/user</code>:</p>\n\n<p><strong>Request</strong></p>\n\n<pre><code>POST /user\nAccept: application/json+userdb\nContent-Type: application/json+userdb\n\n{\n    \"name\": \"Karl\",\n    \"country\": \"Austria\"\n}\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>201 Created\nContent-Type: application/json+userdb\n\n{\n    \"user\": {\n        \"id\": 3,\n        \"name\": \"Karl\",\n        \"country\": \"Austria\",\n        \"links\": [\n            {\n                \"href\": \"/user/3\",\n                \"rel\": \"self\",\n                \"method\": \"GET\"\n            },\n            {\n                \"href\": \"/user/3\",\n                \"rel\": \"edit\",\n                \"method\": \"PUT\"\n            },\n            {\n                \"href\": \"/user/3\",\n                \"rel\": \"delete\",\n                \"method\": \"DELETE\"\n            }\n        ]\n    },\n    \"links\": {\n       \"href\": \"/user\",\n       \"rel\": \"list\",\n       \"method\": \"GET\"\n    }\n}\n</code></pre>\n\n<p>We also know that we can change existing data:</p>\n\n<p><strong>Request</strong></p>\n\n<pre><code>PUT /user/1\nAccept: application/json+userdb\nContent-Type: application/json+userdb\n\n{\n    \"name\": \"Emil\",\n    \"country\": \"Bhutan\"\n}\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>200 OK\nContent-Type: application/json+userdb\n\n{\n    \"user\": {\n        \"id\": 1,\n        \"name\": \"Emil\",\n        \"country\": \"Bhutan\",\n        \"links\": [\n            {\n                \"href\": \"/user/1\",\n                \"rel\": \"self\",\n                \"method\": \"GET\"\n            },\n            {\n                \"href\": \"/user/1\",\n                \"rel\": \"edit\",\n                \"method\": \"PUT\"\n            },\n            {\n                \"href\": \"/user/1\",\n                \"rel\": \"delete\",\n                \"method\": \"DELETE\"\n            }\n        ]\n    },\n    \"links\": {\n       \"href\": \"/user\",\n       \"rel\": \"list\",\n       \"method\": \"GET\"\n    }\n}\n</code></pre>\n\n<p>Notice that we are using different HTTP verbs (GET, PUT, POST, DELETE etc.) to manipulate these resources, and that the only knowledge we presume on the clients part is our media definition.</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li>The many much better answers on this very page.  </li>\n<li><s><a href=\"http://www.looah.com/source/view/2284\">How I explained REST to my wife</a>.</s>  </li>\n<li><a href=\"http://web.archive.org/web/20130116005443/http://tomayko.com/writings/rest-to-my-wife\">How I explained REST to my wife</a>.  </li>\n<li><a href=\"http://martinfowler.com/articles/richardsonMaturityModel.html\">Martin Fowler's\nthoughts</a></li>\n<li><a href=\"https://developer.paypal.com/docs/api/\">Paypal's API has hypermedia controls</a></li>\n</ul>\n\n<p>(This answer has been subject of a fair amount of criticism for missing the point. For the most part, that has been a fair critique. What I originally described was more in line with how REST was usually implemented a few years ago when I first wrote this, rather than its true meaning. I've revised the answer to better represent the real meaning.)</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 671132, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>It's programming where the architecture of your system fits the <a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/rest%5Farch%5Fstyle.htm\">REST style</a> laid out by Roy Fielding in <a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm\">his thesis</a>. Since this is the architectural style that describes the web (more or less), lots of people are interested in it.</p>\n\n<p>Bonus answer: No. Unless you're studying software architecture as an academic or designing web services, there's really no reason to have heard the term.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 671134, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>REST is using the various HTTP methods (mainly GET/PUT/DELETE) to manipulate data.</p>\n\n<p>Rather than using a specific URL to delete a method (say, <code>/user/123/delete</code>), you would send a DELETE request to the <code>/user/[id]</code> URL, to edit a user, to retrieve info on a user you send a GET request to <code>/user/[id]</code></p>\n\n<p>For example, instead a set of URLs which might look like some of the following..</p>\n\n<pre><code>GET /delete_user.x?id=123\nGET /user/delete\nGET /new_user.x\nGET /user/new\nGET /user?id=1\nGET /user/id/1\n</code></pre>\n\n<p>You use the HTTP \"verbs\" and have..</p>\n\n<pre><code>GET /user/2\nDELETE /user/2\nPUT /user\n</code></pre>\n", "title": "What exactly is RESTful programming?", "answer_id": 671159, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>I see a bunch of answers that say putting everything about user 123 at resource \"/user/123\" is RESTful.</p>\n\n<p>Roy Fielding, who coined the term, says <a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\">REST APIs must be hypertext-driven</a>.  In particular, \"A REST API must not define fixed resource names or hierarchies\".</p>\n\n<p>So if your \"/user/123\" path is hardcoded on the client, it's not really RESTful.  A good use of HTTP, maybe, maybe not.  But not RESTful.  It has to come from hypertext.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 671258, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>IMHO (and I tend to be in the minority), RESTful programming is about:</p>\n\n<ul>\n<li>resources being identified by a persistent identifier: URIs are the ubiquitous choice of identifier these days</li>\n<li>resources being manipulated using a common set of verbs: HTTP methods are the commonly seen case - the venerable <code>Create</code>, <code>Retrieve</code>, <code>Update</code>, <code>Delete</code> becomes <code>POST</code>, <code>GET</code>, <code>PUT</code>, and <code>DELETE</code></li>\n<li>the actual representation retrieved for a resource is dependent on the request and not the identifier: use HTTP Accept headers to control whether you want XML, HTTP, or even a Java Object representing the resource</li>\n<li>maintaining the state in the object and representing the state in the representation</li>\n<li>representing the relationships between resources in the representation of the resource: the links between objects are embedded directly in the representation</li>\n<li>resource representations describe how the representation can be used and under what circumstances it should be discarded/refetched in a consistent manner: usage of HTTP Cache-Control headers</li>\n</ul>\n\n<p>The last one is probably the most important in terms of consequences and overall effectiveness of REST. Overall, most of the RESTful discussions seem to center on HTTP and its usage from a browser and what not. I understand that R. Fielding coined the term when he described the architecture and decisions that lead to HTTP. His thesis is more about the architecture and cache-ability of resources than it is about HTTP.</p>\n\n<p>If you are really interested in what a RESTful architecture is and why it works, read <a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf\">his thesis</a> a few times and read the <strong>whole thing</strong> not just Chapter 5! Next look into <a href=\"http://tools.ietf.org/html/rfc1034\">why DNS works</a>. Read about the hierarchical organization of DNS and how referrals work. Then read and consider how DNS caching works. Finally, read the HTTP specifications (<a href=\"http://tools.ietf.org/html/rfc2616\">RFC2616</a> and <a href=\"http://tools.ietf.org/html/rfc3040\">RFC3040</a> in particular) and consider how and why the caching works the way that it does. Eventually, it will just click. The final revelation for me was when I saw the similarity between DNS and HTTP. After this, understanding why SOA and Message Passing Interfaces are scalable starts to click.</p>\n\n<p>I think that the most important trick to understanding the architectural importance and performance implications of a RESTful and <a href=\"http://db.cs.berkeley.edu/papers/hpts85-nothing.pdf\">Shared Nothing</a> architectures is to avoid getting hung up on the technology and implementation details. Concentrate on who owns resources, who is responsible for creating/maintaining them, etc. Then think about the representations, protocols, and technologies.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 671508, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>I apologize if I'm not answering the question directly (I'm new to SO and don't have pts to comment), but it's easier to understand all this with more detailed examples. Fielding is not easy to understand due to all the abstraction and terminology.</p>\n\n<p>There's a fairly good example here:</p>\n\n<p><a href=\"http://www.ldodds.com/blog/archives/000337.html\">Explaining REST and Hypertext: Spam-E the Spam Cleaning Robot</a></p>\n\n<p>And even better, there's a clean explanation with simple examples here (the powerpoint is more comprehensive, but you can get most of it in the html version):</p>\n\n<p><a href=\"http://www.xfront.com/REST.ppt\">http://www.xfront.com/REST.ppt</a> or <a href=\"http://www.xfront.com/REST.html\">http://www.xfront.com/REST.html</a></p>\n\n<p>After reading the examples, I could see why Ken is saying that REST is hypertext-driven. I'm not actually sure that he's right though, because that /user/123 is a URI that points to a resource, and it's not clear to me that it's unRESTful just because the client knows about it \"out-of-band.\"</p>\n\n<p>That xfront document explains the difference between REST and SOAP, and this is really helpful too. When Fielding says, \"<a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\">That is RPC. It screams RPC.</a>\", it's clear that RPC is not RESTful, so it's useful to see the exact reasons for this. (SOAP is a type of RPC.)</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 674302, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>This is what it might look like:</p>\n\n<pre><code>POST /user\nfname=John&amp;lname=Doe&amp;age=25\n</code></pre>\n\n<p>The server responds:</p>\n\n<pre><code>200 OK\nLocation: /user/123\n</code></pre>\n\n<p>In the future, you can then retrieve the user information:</p>\n\n<pre><code>GET /user/123\n</code></pre>\n\n<p>The server responds:</p>\n\n<pre><code>200 OK\n&lt;fname&gt;John&lt;/fname&gt;&lt;lname&gt;Doe&lt;/lname&gt;&lt;age&gt;25&lt;/age&gt;\n</code></pre>\n\n<p>To modify the record (<code>lname</code> and <code>age</code> will remain unchanged):</p>\n\n<pre><code>PATCH/user/123\nfname=Johnny\n</code></pre>\n\n<p>To update the record (and consequently <code>lname</code> and <code>age</code> will be NULL):</p>\n\n<pre><code>PUT /user/123\nfname=Johnny\n</code></pre>\n", "title": "What exactly is RESTful programming?", "answer_id": 1081601, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>A great book on REST is <a href=\"http://www.amazon.co.uk/REST-Practice-Hypermedia-Systems-Architecture/dp/0596805829\">REST in Practice</a>.</p>\n\n<p>Must reads are <a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm\">Representational State Transfer (REST)</a> and <a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\">REST APIs must be hypertext-driven</a> </p>\n\n<p>See Martin Fowlers article the <a href=\"http://martinfowler.com/articles/richardsonMaturityModel.html\">Richardson Maturity Model</a> (RMM) for an explanation on what an RESTful service is. </p>\n\n<p><img src=\"http://i.stack.imgur.com/FoKRB.png\" alt=\"Richardson Maturity Model\"></p>\n\n<p>To be RESTful a Service needs to fulfill the <a href=\"http://en.wikipedia.org/wiki/HATEOAS\">Hypermedia as the Engine of Application State. (HATEOAS)</a>, that is, it needs to reach level 3 in the RMM, <a href=\"http://martinfowler.com/articles/richardsonMaturityModel.html\">read the article</a> for details or the <a href=\"http://www.crummy.com/writing/speaking/2008-QCon/act3.html\">slides from the qcon talk</a>.</p>\n\n<blockquote>\n  <p>The HATEOAS constraint is an acronym\n  for Hypermedia as the Engine of\n  Application State. This principle is\n  the key differentiator between a REST\n  and most other forms of client server\n  system.</p>\n  \n  <p>...</p>\n  \n  <p>A client of a RESTful application need\n  only know a single fixed URL to access\n  it. All future actions should be\n  discoverable dynamically from\n  hypermedia links included in the\n  representations of the resources that\n  are returned from that URL.\n  Standardized media types are also\n  expected to be understood by any\n  client that might use a RESTful API. \n  (From Wikipedia, the free encyclopedia)</p>\n</blockquote>\n\n<p><a href=\"http://www.innoq.com/blog/st/2010/07/rest_litmus_test_for_web_frame.html\">REST Litmus Test for Web Frameworks</a> is a similar maturity test for web frameworks.</p>\n\n<p><a href=\"http://kinderman.net/2010/06/23/approaching-pure-rest-learning-to-love-hateoas\">Approaching pure REST: Learning to love HATEOAS</a> is a good collection of links. </p>\n\n<p><a href=\"http://herbjorn.wordpress.com/2010/11/19/rest-versus-soap-for-the-public-cloud/\">REST versus SOAP for the Public Cloud</a> discusses the current levels of REST usage. </p>\n\n<p><a href=\"https://docs.google.com/present/view?id=dd4bk538_182f55p5x3f&amp;ndplr=1\">REST and versioning</a> discusses Extensibility, Versioning, Evolvability, etc.\n through Modifiability</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 3950863, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>If I had to reduce the original dissertation on REST to just 3 short sentences, I think the following captures its essence:</p>\n\n<ol>\n<li>Resources are requested via URLs.</li>\n<li>Protocols are limited to what you can communicate by using URLs.</li>\n<li>Metadata is passed as name-value pairs (post data and query string parameters).</li>\n</ol>\n\n<p>After that, it's easy to fall into debates about adaptations, coding conventions, and best practices.</p>\n\n<p>Interestingly, there is no mention of HTTP POST, GET, DELETE, or PUT operations in the dissertation. That must be someone's later interpretation of a \"best practice\" for a \"uniform interface\".</p>\n\n<p>When it comes to web services, it seems that we need some way of distinguishing WSDL and SOAP based architectures which add considerable overhead and arguably much unnecessary complexity to the interface. They also require additional frameworks and developer tools in order to implement. I'm not sure if REST is the best term to distinguish between common-sense interfaces and overly engineered interfaces such as WSDL and SOAP. But we need something.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 9100303, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>REST is an architectural pattern and style of writing distributed applications. It is not a programming style in the narrow sense.</p>\n\n<p>Saying you use the REST style is similar to saying that you built a house in a particular style: for example Tudor or Victorian.  Both REST as an software style and Tudor or Victorian as a home style can be defined by the qualities and constraints that make them up. For example REST must have Client Server separation where messages are self-describing. Tudor style homes have Overlapping gables and Roofs that are steeply pitched with front facing gables. You can read Roy's dissertation to learn more about the constraints and qualities that make up REST.</p>\n\n<p>REST unlike home styles has had a tough time being consistently and practically applied. This may have been intentional. Leaving its actual implementation up to the designer. So you are free to do what you want so as long as you meet the constraints set out in the dissertation you are creating REST Systems.</p>\n\n<p>Bonus:</p>\n\n<p>The entire web is based on REST (or REST was based on the web). Therefore as a web developer you might want aware of that although it's not necessary to write good web apps. </p>\n", "title": "What exactly is RESTful programming?", "answer_id": 9103525, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>The point of rest is that if we agree to use a common language for basic operations (the http verbs), the infrastructure can be configured to understand them and optimize them properly, for example, by making use of caching headers to implement caching at all levels.</p>\n\n<p>With a properly implemented restful GET operation, it shouldn't matter if the information comes from your server's DB, your server's memcache, a CDN, a proxy's cache, your browser's cache or your browser's local storage. The fasted, most readily available up to date source can be used.</p>\n\n<p>Saying that Rest is just a syntactic change from using GET requests with an action parameter to using the available http verbs makes it look like it has no benefits and is purely cosmetic. The point is to use a language that can be understood and optimized by every part of the chain. If your GET operation has an action with side effects, you have to skip all HTTP caching or you'll end up with inconsistent results.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 9105182, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<blockquote>\n  <p><strong>What is REST?</strong></p>\n  \n  <p>REST stands for Representational State Transfer. (It is sometimes\n  spelled \"ReST\".) It relies on a stateless, client-server, cacheable\n  communications protocol -- and in virtually all cases, the HTTP\n  protocol is used.</p>\n  \n  <p>REST is an architecture style for designing networked applications.\n  The idea is that, rather than using complex mechanisms such as CORBA,\n  RPC or SOAP to connect between machines, simple HTTP is used to make\n  calls between machines.</p>\n  \n  <p>In many ways, the World Wide Web itself, based on HTTP, can be viewed\n  as a REST-based architecture. RESTful applications use HTTP requests\n  to post data (create and/or update), read data (e.g., make queries),\n  and delete data. Thus, REST uses HTTP for all four CRUD\n  (Create/Read/Update/Delete) operations.</p>\n  \n  <p>REST is a lightweight alternative to mechanisms like RPC (Remote\n  Procedure Calls) and Web Services (SOAP, WSDL, et al.). Later, we will\n  see how much more simple REST is.</p>\n  \n  <p>Despite being simple, REST is fully-featured; there's basically\n  nothing you can do in Web Services that can't be done with a RESTful\n  architecture. REST is not a \"standard\". There will never be a W3C\n  recommendataion for REST, for example. And while there are REST\n  programming frameworks, working with REST is so simple that you can\n  often \"roll your own\" with standard library features in languages like\n  Perl, Java, or C#.</p>\n</blockquote>\n\n<p>One of the best reference I found when I try to find the simple real meaning of rest.</p>\n\n<p><a href=\"http://rest.elkstein.org/\">http://rest.elkstein.org/</a></p>\n", "title": "What exactly is RESTful programming?", "answer_id": 13444382, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>I would say RESTful programming would be about creating systems (API) that follow the REST architectural style.</p>\n\n<p>I found this fantastic, short, and easy to understand tutorial about REST by Dr. M. Elkstein and quoting the essential part that would answer your question for the most part:</p>\n\n<p><a href=\"http://rest.elkstein.org/\">Learn REST: A Tutorial</a></p>\n\n<blockquote>\n  <p>REST is an <em>architecture style</em> for designing networked applications.\n  The idea is that, rather than using complex mechanisms such as CORBA,\n  RPC or SOAP to connect between machines, simple HTTP is used to make\n  calls between machines.</p>\n  \n  <ul>\n  <li>In many ways, the World Wide Web itself, based on HTTP, can be viewed    as a REST-based architecture.</li>\n  </ul>\n  \n  <p>RESTful applications use HTTP requests to post data (create and/or\n  update), read data (e.g., make queries), and delete data. Thus, REST\n  uses HTTP for all four CRUD (Create/Read/Update/Delete) operations.</p>\n</blockquote>\n\n<p>I don't think you should feel stupid for not hearing about REST outside Stack Overflow..., I would be in the same situation!; answers to this other SO question on <a href=\"http://stackoverflow.com/q/243388/463478\">Why is REST getting big now</a> could could ease some feelings.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 17619692, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>REST is a distributed systems (such as WWW) software architecture style, you can imagine that it is a well-designed Web application rules: a group of Internet Web pages (a virtual state machine), in which hyperlink by clicking link (state transition), the result is the next Web page (which means the next state of the application).</p>\n\n<p>REST describes the network system consists of three parts:</p>\n\n<ol>\n<li>data elements (resource, resource identifier, representation)</li>\n<li>connectors (client, server, cache, resolver, tunnel)</li>\n<li>components (origin server, gateway, proxy, user agent)</li>\n</ol>\n\n<p>REST strictly meet the following conditions:</p>\n\n<ol>\n<li>Status of the application functionality is split into resources </li>\n<li>Each resource used as hyperlinks positioning syntax (ie, in the WWW URI)</li>\n<li>All resources share a uniform interface between the client with the resource transition state, including:\n<ol>\n<li>A limited set of well-defined operations (ie in HTTP GET / POST / PUT / DELETE)</li>\n<li>A limited set of content format content types, which may include executable code (ie, in the WWW Javascript)</li>\n</ol></li>\n</ol>\n", "title": "What exactly is RESTful programming?", "answer_id": 17852986, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>What is REST?</p>\n\n<p>REST in official words, REST is an architectural style built on certain principles using the current \u201cWeb\u201d fundamentals.\nThere are 5 basic fundamentals of web which are leveraged to create REST services.</p>\n\n<ul>\n<li>Principle 1: Everything is a Resource\nIn the REST architectural style, data and functionality are considered resources and are accessed using Uniform Resource Identifiers (URIs), typically links on the Web.</li>\n<li>Principle 2: Every Resource is Identified by a Unique Identifier (URI)</li>\n<li>Principle 3: Use Simple and Uniform Interfaces</li>\n<li>Principle 4: Communication is Done by Representation</li>\n<li>Principle 5: Be Stateless </li>\n</ul>\n", "title": "What exactly is RESTful programming?", "answer_id": 17853572, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>The answer is very simple, there is a <a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm\">dissertation</a> written by Roy Fielding.]<a href=\"http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm\">1</a> In that dissertation he defines the REST principles. If an application fulfills all of those principles, then that is a REST application.</p>\n\n<p><a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\">The term RESTful was created because ppl exhausted the word REST by calling their non-REST application as REST.</a> After that the term RESTful was exhausted as well. <a href=\"http://www.markus-lanthaler.com/research/third-generation-web-apis-bridging-the-gap-between-rest-and-linked-data.pdf\">Nowadays we are talking about Web APIs and Hypermedia APIs</a>, because the most of the so called REST applications did not fulfill the HATEOAS part of the uniform interface constraint.</p>\n\n<p>The REST constraints are the following:</p>\n\n<ol>\n<li><p>client-server architecture</p>\n\n<p>So it does not work with for example PUB/SUB sockets, it is based on REQ/REP.</p></li>\n<li><p>stateless communication</p>\n\n<p>So the server does not maintain the states of the clients. This means that you cannot use server a side session storage and you have to authenticate every request. Your clients possibly send basic auth headers through an encrypted connection. (By large applications it is hard to maintain many sessions.)</p></li>\n<li><p>usage of cache if you can</p>\n\n<p>So you don't have to serve the same requests again and again.</p></li>\n<li><p>uniform interface as common contract between client and server</p>\n\n<p>The contract between the client and the server is not maintained by the server. In other words the client must be decoupled from the implementation of the service. You can reach this state by using standard solutions, like the IRI (URI) standard to identify resources, the HTTP standard to exchange messages, standard MIME types to describe the body serialization format, metadata (possibly RDF vocabs, microformats, etc.) to describe the semantics of different parts of the message body. To decouple the IRI structure from the client, you have to send hyperlinks to the clients in hypermedia formats like (HTML, JSON-LD, HAL, etc.). So a client can use the metadata (possibly link relations, RDF vocabs) assigned to the hyperlinks to navigate the state machine of the application through the proper state transitions in order to achieve its current goal.</p>\n\n<p>For example when a client wants to send an order to a webshop, then it have to check the hyperlinks in the responses sent by the webshop. By checking the links it founds one described with the <a href=\"http://schema.org/OrderAction\">http://schema.org/OrderAction</a>. The client know the schema.org vocab, so it understands that by activating this hyperlink it will send the order. So it activates the hyperlink and sends a <code>POST https://example.com/api/v1/order</code> message with the proper body. After that the service processes the message and responds with the result having the proper HTTP status header, for example <code>201 - created</code> by success. To annotate messages with detailed metadata the standard solution to use an RDF format, for example <a href=\"http://json-ld.org/\">JSON-LD</a> with a REST vocab, for example <a href=\"http://www.markus-lanthaler.com/hydra/\">Hydra</a> and domain specific vocabs like <a href=\"http://schema.org/\">schema.org</a> or any other <a href=\"http://lov.okfn.org/dataset/lov/\">linked data vocab</a> and maybe a custom application specific vocab if needed. Now this is not easy, that's why most ppl use HAL and other simple formats which usually provide only a REST vocab, but no linked data support.</p></li>\n<li><p>build a layered system to increase scalability</p>\n\n<p>The REST system is composed of hierarchical layers. Each layer contains components which use the services of components which are in the next layer below. So you can add new layers and components effortless. </p>\n\n<p>For example there is a client layer which contains the clients and below that there is a service layer which contains a single service. Now you can add a client side cache between them. After that you can add another service instance and a load balancer, and so on... The client code and the service code won't change.</p></li>\n<li><p>code on demand to extend client functionality</p>\n\n<p>This constraint is optional. For example you can send a parser for a specific media type to the client, and so on... In order to do this you might need a standard plugin loader system in the client, or your client will be coupled to the plugin loader solution.</p></li>\n</ol>\n\n<p>REST constraints result a highly scalable system in where the clients are decoupled from the implementations of the services. So the clients can be reusable, general just like the browsers on the web. The clients and the services share the same standards and vocabs, so they can understand each other despite the fact that the client does not know the implementation details of the service. This makes possible to create automated clients which can find and utilize REST services to achieve their goals. In long term these clients can communicate to each other and trust each other with tasks, just like humans do. If we add learning patterns to such clients, then the result will be one or more AI using the web of machines instead of a single server park. So at the end the dream of Berners Lee: the semantic web and the artificial intelligence will be reality. So in 2030 we end up terminated by the Skynet. Until then ... ;-)</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 20155944, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p><a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer\">RESTful</a> (Representational state transfer) API programming is writing web applications in any programming language by following 5 basic software <a href=\"http://en.wikipedia.org/wiki/Architectural_style\">architectural style</a> principles:</p>\n\n<ol>\n<li>Resource (data, information).</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Globally_unique_identifier\">Unique global identifier</a> (all resources are unique identified by <a href=\"http://en.wikipedia.org/wiki/Uniform_resource_identifier\">URI</a>).</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer#Uniform_interface\">Uniform interface</a> - use simple and standard interface (HTTP).</li>\n<li>Representation - all communication is done by representation (e.g. <a href=\"http://en.wikipedia.org/wiki/XML\">XML</a>/<a href=\"http://en.wikipedia.org/wiki/JSON\">JSON</a>)</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Stateless_protocol\">Stateless</a> (every request happens in complete isolation, it's easier to cache and load-balance),</li>\n</ol>\n\n<p>In other words you're writing simple point-to-point network applications over HTTP which uses verbs such as GET, POST, PUT or DELETE by implementing RESTful architecture which proposes standardization of the interface each \u201cresource\u201d exposes. It is nothing that using current features of the web in a simple and effective way (highly successful, proven and distributed architecture). It is an alternative to more complex mechanisms like <a href=\"http://en.wikipedia.org/wiki/SOAP\">SOAP</a>, <a href=\"http://en.wikipedia.org/wiki/Common_Object_Request_Broker_Architecture\">CORBA</a> and <a href=\"http://en.wikipedia.org/wiki/Remote_procedure_call\">RPC</a>. </p>\n\n<p>RESTful programming conforms to Web architecture design and, if properly implemented, it allows you to take the full advantage of scalable Web infrastructure.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 24233071, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>I think the point of restful is the <strong>separation of the statefulness into a higher layer</strong> while making use of the internet (protocol) as a <strong>stateless transport layer</strong>. Most other approaches mix things up. </p>\n\n<p>It's been the best practical approach to handle the fundamental changes of programming in internet era. Regarding the fundamental changes, Erik Meijer has a discussion on show here: <a href=\"http://www.infoq.com/interviews/erik-meijer-programming-language-design-effects-purity#view_93197\">http://www.infoq.com/interviews/erik-meijer-programming-language-design-effects-purity#view_93197</a> . He summarizes it as the five effects, and presents a solution by designing the solution into a programming language. The solution, could also be achieved in the platform or system level, regardless of the language. The restful could be seen as one of the solutions that has been very successful in the current practice. </p>\n\n<p>With restful style, you get and manipulate the state of the application across an unreliable internet. If it fails the current operation to get the correct and current state, it needs the zero-validation principal to help the application to continue. If it fails to manipulate the state, it usually uses multiple stages of confirmation to keep things correct. In this sense, rest is not itself a whole solution, it needs the functions in other part of the web application stack to support its working. </p>\n\n<p>Given this view point, the rest style is not really tied to internet or web application. It's a fundamental solution to many of the programming situations. It is not simple either, it just makes the interface really simple, and copes with other technologies amazingly well. </p>\n\n<p>Just my 2c. </p>\n\n<p>Edit: Two more important aspects: </p>\n\n<ul>\n<li><p><strong>Statelessness</strong> is misleading. It is about the restful API, not the application or system. The system needs to be stateful. Restful design is about designing a stateful system based on a stateless API. Some <a href=\"http://programmers.stackexchange.com/questions/120716/difference-between-rest-and-crud\">quotes from another QA</a>: </p>\n\n<ul>\n<li>REST, operates on resource representations, each one identified by an URL. These are typically not data objects, but <strong>complex objects abstractions</strong>. </li>\n<li>REST stands for \"representational state transfer\", which means it's all about communicating and modifying <strong>the state</strong> of some resource in a system.</li>\n</ul></li>\n<li><p><strong>Idempotence</strong>: <a href=\"http://programmers.stackexchange.com/questions/23386/pros-and-cons-of-restful-architecture\">An often-overlooked part of REST is the idempotency of most verbs. That leads to <strong>robust systems and less interdependency</strong> of exact interpretations of the semantics</a>. </p></li>\n</ul>\n\n<p>Quote from another post: \"</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 24559952, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p><strong>REST</strong> stands for <strong>Representational state transfer</strong>.</p>\n\n<p>It relies on a stateless, client-server, cacheable communications protocol -- and in virtually all cases, the HTTP protocol is used.</p>\n\n<p>REST is often used in mobile applications, social networking Web sites, mashup tools and automated business processes. The REST style emphasizes that interactions between clients and services is enhanced by having a limited number of operations (verbs). Flexibility is provided by assigning resources (nouns) their own unique universal resource indicators (URIs). </p>\n\n<p><a href=\"http://www.queryhome.com//65309/small-introduction-about-rest-api\" rel=\"nofollow\">Introduction about Rest</a></p>\n", "title": "What exactly is RESTful programming?", "answer_id": 26845129, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p><em>Talking</em> is more than simply <em>exchanging information</em>. A Protocol is actually designed so that no talking has to occur. Each party knows what their particular job is because it is specified in the protocol. Protocols allow for pure information exchange at the expense of having any changes in the possible actions. Talking, on the other hand, allows for one party to ask what further actions can be taken from the other party. They can even ask the same question twice and get two different answers, since the State of the other party may have changed in the interim. <strong>Talking is RESTful architecture</strong>. Fielding's thesis specifies the architecture that one would have to follow if one wanted to allow machines to <em>talk</em> to one another rather than simply <em>communicate</em>.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 27329177, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>Representational State Transfer (REST) is a software architecture style consisting of guidelines and best practices for creating scalable web services.REST is a coordinated set of constraints applied to the design of components in a distributed hypermedia system that can lead to a more performant and maintainable architecture.</p>\n\n<p>REST has gained widespread acceptance across the Web[citation needed] as a simpler alternative to SOAP and WSDL-based Web services. RESTful systems typically, but not always, communicate over the Hypertext Transfer Protocol with the same HTTP verbs (GET, POST, PUT, DELETE, etc.) used by web browsers to retrieve web pages and send data to remote servers.</p>\n\n<p>The REST architectural style was developed by W3C Technical Architecture Group (TAG) in parallel with HTTP 1.1, based on the existing design of HTTP 1.0. The World Wide Web represents the largest implementation of a system conforming to the REST architectural style.</p>\n\n<p><strong>Architectural constraints</strong></p>\n\n<p>The architectural properties of REST are realized by applying specific interaction constraints to components, connectors, and data elements. The formal REST constraints are:</p>\n\n<p><strong>Client\u2013server</strong></p>\n\n<p>A uniform interface separates clients from servers. This separation of concerns means that, for example, clients are not concerned with data storage, which remains internal to each server, so that the portability of client code is improved. Servers are not concerned with the user interface or user state, so that servers can be simpler and more scalable. Servers and clients may also be replaced and developed independently, as long as the interface between them is not altered.</p>\n\n<p><strong>Stateless</strong></p>\n\n<p>The client\u2013server communication is further constrained by no client context being stored on the server between requests. Each request from any client contains all the information necessary to service the request, and session state is held in the client. The session state can be transferred by the server to another service such as a database to maintain a persistent state for a period and allow authentication. The client begins sending requests when it is ready to make the transition to a new state. While one or more requests are outstanding, the client is considered to be in transition. The representation of each application state contains links that may be used the next time the client chooses to initiate a new state-transition.</p>\n\n<p><strong>Cacheable</strong></p>\n\n<p>As on the World Wide Web, clients can cache responses. Responses must therefore, implicitly or explicitly, define themselves as cacheable, or not, to prevent clients from reusing stale or inappropriate data in response to further requests. Well-managed caching partially or completely eliminates some client\u2013server interactions, further improving scalability and performance.</p>\n\n<p><strong>Layered system</strong></p>\n\n<p>A client cannot ordinarily tell whether it is connected directly to the end server, or to an intermediary along the way. Intermediary servers may improve system scalability by enabling load balancing and by providing shared caches. They may also enforce security policies.</p>\n\n<p><strong>Code on demand (optional)</strong></p>\n\n<p>Servers can temporarily extend or customize the functionality of a client by the transfer of executable code. Examples of this may include compiled components such as Java applets and client-side scripts such as JavaScript. \"Code on demand\" is the only optional constraint of the REST architecture.</p>\n\n<p><strong>Uniform interface</strong></p>\n\n<p>The uniform interface constraint is fundamental to the design of any REST service.The uniform interface simplifies and decouples the architecture, which enables each part to evolve independently.</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 28314611, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>An <strong><em>architectural style</em></strong> called <strong><em>REST (Representational State Transfer)</em></strong> advocates that <code>web applications</code> should use <code>HTTP</code> as it was <strong><em>originally envisioned</em></strong>. <code>Lookups</code> should use <code>GET</code> requests. <code>PUT, POST, and DELETE</code> requests should be used for <strong><em>creation, mutation, and deletion</em></strong>.</p>\n\n<p>REST proponents tend to favor <code>URLs</code>, such as</p>\n\n<pre><code>http://myserver.com/catalog/item/1729\n</code></pre>\n\n<p>but the REST architecture does not require these \u201cpretty URLs\u201d. A GET request with a parameter</p>\n\n<pre><code>http://myserver.com/catalog?item=1729\n</code></pre>\n\n<p>is every bit as RESTful.</p>\n\n<p>Keep in mind that GET requests should never be used for updating information. For example, a GET request for adding an item to a cart</p>\n\n<pre><code>http://myserver.com/addToCart?cart=314159&amp;item=1729\n</code></pre>\n\n<p>would not be appropriate. GET requests should be idempotent. That is, issuing a request twice should be no different from issuing it once. That\u2019s what makes the requests cacheable. An \u201cadd to cart\u201d request is not idempotent\u2014issuing it twice adds two copies of the item to the cart. A POST request is clearly appropriate in this context. Thus, even a <strong><em>RESTful web application</em></strong> needs its share of POST requests.</p>\n\n<p>This is taken from the excellent book <code>Core JavaServer faces Book by David M. Geary</code></p>\n", "title": "What exactly is RESTful programming?", "answer_id": 29648972, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>Restful programming is coding on the weekend on the couch.</p>\n\n<p><a href=\"http://i.stack.imgur.com/zaP0l.jpg\"><img src=\"http://i.stack.imgur.com/zaP0l.jpg\" alt=\"restful programming\"></a> </p>\n\n<p>For More reference : <a href=\"http://rest.elkstein.org/\">what exactly is restful programming ?</a></p>\n", "title": "What exactly is RESTful programming?", "answer_id": 37169497, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>REST === HTTP analogy is not correct until you do not stress to the fact that it \"MUST\" be <a href=\"http://restfulapi.net/hateoas/\" rel=\"nofollow\">HATEOAS</a> driven. </p>\n\n<p>Roy himself cleared it here: <a href=\"http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\" rel=\"nofollow\">http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven</a></p>\n\n<p>A REST API should be entered with no prior knowledge beyond the initial URI (bookmark) and set of standardized media types that are appropriate for the intended audience (i.e., expected to be understood by any client that might use the API). From that point on, all application state transitions must be driven by client selection of server-provided choices that are present in the received representations or implied by the user\u2019s manipulation of those representations. The transitions may be determined (or limited by) the client\u2019s knowledge of media types and resource communication mechanisms, both of which may be improved on-the-fly (e.g., code-on-demand). </p>\n\n<p>[Failure here implies that out-of-band information is driving interaction instead of hypertext.]</p>\n", "title": "What exactly is RESTful programming?", "answer_id": 37613351, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>I love Wiki answer, though wiki has been my best Guide in learning. I wonder no one is referencing wiki, well nevertheless here is awesome explanation about RESTFUL programming:</p>\n\n<p>In computing, representational state transfer (REST) is an architectural style consisting of a coordinated set of components, connectors, and data elements within a distributed hypermedia system, where the focus is on component roles and a specific set of interactions between data elements rather than implementation details. Its purpose is to induce performance, scalability, simplicity, modifiability, visibility, portability, and reliability. REST is the software architectural style of the World Wide Web.</p>\n\n<p>The term representational state transfer was introduced and defined in 2000 by Roy Fielding in his doctoral dissertation at UC Irvine. REST has been applied to describe desired web architecture, to identify existing problems, to compare alternative solutions and to ensure that protocol extensions would not violate the core constraints that make the web successful. Fielding used REST to design HTTP 1.1 and Uniform Resource Identifiers (URI).</p>\n\n<p>To the extent that systems conform to the constraints of REST they can be called RESTful. RESTful systems typically, but not always, communicate over Hypertext Transfer Protocol (HTTP) with the same HTTP verbs (GET, POST, PUT, DELETE, etc.) that web browsers use to retrieve web pages and to send data to remote servers. REST systems interface with external systems as web resources identified by Uniform Resource Identifiers (URIs), for example /people/tom, which can be operated upon using standard verbs such as GET /people/tom.</p>\n\n<p>The name \"Representational State\" is intended to evoke an image of how a well-designed Web application behaves: a network of web pages (a virtual state-machine), where the user progresses through the application by selecting links (state transitions), resulting in the next page (representing the next state of the application) being transferred to the user and rendered for their use.</p>\n\n<p><strong>History</strong></p>\n\n<p>REST was defined by Roy Thomas Fielding in his 2000 PhD dissertation \"Architectural Styles and the Design of Network-based Software Architectures\".<a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow\">1</a> Fielding developed the REST architectural style in parallel with HTTP 1.1 of 1996-1999, based on the existing design of HTTP 1.0 of 1996.</p>\n\n<p>In a retrospective look at the development of REST Roy Fielding said:</p>\n\n<pre><code>    Throughout the HTTP standardization process, I was called on to defend the design choices of the Web. That is an extremely difficult thing to do within a process that accepts proposals from anyone on a topic that was rapidly becoming the center of an entire industry. I had comments from well over 500 developers, many of whom were distinguished engineers with decades of experience, and I had to explain everything from the most abstract notions of Web interaction to the finest details of HTTP syntax. That process honed my model down to a core set of principles, properties, and constraints that are now called REST.\n</code></pre>\n\n<p>Architectural properties</p>\n\n<p>The architectural properties affected by the constraints of the REST architectural style are</p>\n\n<pre><code>Performance - component interactions can be the dominant factor in user-perceived performance and network efficiency\nScalability to support large numbers of components and interactions among components. Roy Fielding, one of the principal authors of the HTTP specification, describes REST's effect on scalability as follows:\n\n    REST's client\u2013server separation of concerns simplifies component implementation, reduces the complexity of connector semantics, improves the effectiveness of performance tuning, and increases the scalability of pure server components. Layered system constraints allow intermediaries\u2014proxies, gateways, and firewalls\u2014to be introduced at various points in the communication without changing the interfaces between components, thus allowing them to assist in communication translation or improve performance via large-scale, shared caching. REST enables intermediate processing by constraining messages to be self-descriptive: interaction is stateless between requests, standard methods and media types are used to indicate semantics and exchange information, and responses explicitly indicate cacheability.\n\n**Simplicity of interfaces**\n\nModifiability of components to meet changing needs (even while the application is running)\nVisibility of communication between components by service agents\nPortability of components by moving program code with the data\nReliability is the resistance to failure at the system level in the presence of failures within components, connectors, or data\n</code></pre>\n\n<p>Architectural constraints</p>\n\n<p>The architectural properties of REST are realized by applying specific interaction constraints to components, connectors, and data elements. One can characterise applications conforming to the REST constraints described in this section as \"RESTful\".[3] If a service violates any of the required constraints, it cannot be considered RESTful. Complying with these constraints, and thus conforming to the REST architectural style, enables any kind of distributed hypermedia system to have desirable non-functional properties, such as performance, scalability, simplicity, modifiability, visibility, portability, and reliability.</p>\n\n<p>The formal REST constraints are\nClient\u2013server\nSee also: Client\u2013server model</p>\n\n<p>A uniform interface separates clients from servers. This separation of concerns means that, for example, clients are not concerned with data storage, which remains internal to each server, so that the portability of client code is improved. Servers are not concerned with the user interface or user state, so that servers can be simpler and more scalable. Servers and clients may also be replaced and developed independently, as long as the interface between them is not altered.\nStateless\nSee also: Stateless protocol</p>\n\n<p>The client\u2013server communication is further constrained by no client context being stored on the server between requests. Each request from any client contains all the information necessary to service the request, and session state is held in the client. The session state can be transferred by the server to another service such as a database to maintain a persistent state for a period and allow authentication. The client begins sending requests when it is ready to make the transition to a new state. While one or more requests are outstanding, the client is considered to be in transition. The representation of each application state contains links that may be used the next time the client chooses to initiate a new state-transition.\nCacheable\nSee also: Web cache</p>\n\n<p>As on the World Wide Web, clients and intermediaries can cache responses. Responses must therefore, implicitly or explicitly, define themselves as cacheable, or not, to prevent clients from reusing stale or inappropriate data in response to further requests. Well-managed caching partially or completely eliminates some client\u2013server interactions, further improving scalability and performance.\nLayered system\nSee also: Layered system</p>\n\n<p>A client cannot ordinarily tell whether it is connected directly to the end server, or to an intermediary along the way. Intermediary servers may improve system scalability by enabling load balancing and by providing shared caches. They may also enforce security policies.\nCode on demand (optional)\nSee also: Client-side scripting</p>\n\n<p>Servers can temporarily extend or customize the functionality of a client by the transfer of executable code. Examples of this may include compiled components such as Java applets and client-side scripts such as JavaScript.</p>\n\n<p><strong>Uniform interface</strong></p>\n\n<p>The uniform interface constraint is fundamental to the design of any REST service.<a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow\">1</a> The uniform interface simplifies and decouples the architecture, which enables each part to evolve independently. The four constraints for this uniform interface are</p>\n\n<p><strong>Identification of resources</strong></p>\n\n<pre><code>Individual resources are identified in requests, for example using URIs in web-based REST systems. The resources themselves are conceptually separate from the representations that are returned to the client. For example, the server may send data from its database as HTML, XML or JSON, none of which are the server's internal representation.\n</code></pre>\n\n<p>Manipulation of resources through these representations\n    When a client holds a representation of a resource, including any metadata attached, it has enough information to modify or delete the resource.\nSelf-descriptive messages\n    Each message includes enough information to describe how to process the message. For example, which parser to invoke may be specified by an Internet media type (previously known as a MIME type).<a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow\">1</a>\nHypermedia as the engine of application state (HATEOAS)\n    Clients make state transitions only through actions that are dynamically identified within hypermedia by the server (e.g., by hyperlinks within hypertext). Except for simple fixed entry points to the application, a client does not assume that any particular action is available for any particular resources beyond those described in representations previously received from the server. There is no universally accepted format for representing links between two resources. RFC 5988 and JSON Hypermedia API Language (proposed) are two popular formats for specifying REST hypermedia links.[13]</p>\n\n<p><strong>Applied to web services</strong></p>\n\n<p>Web service APIs that adhere to the REST architectural constraints are called RESTful APIs. HTTP-based RESTful APIs are defined with the following aspects:</p>\n\n<pre><code>base URI, such as http://example.com/resources/\nan Internet media type for the data. This is often JSON but can be any other valid Internet media type (e.g., XML, Atom, microformats, application/vnd.collection+json,:91\u201399 etc.)\nstandard HTTP methods (e.g., OPTIONS, GET, PUT, POST, and DELETE)[14]\nhypertext links to reference state\nhypertext links to reference-related resources\n</code></pre>\n\n<p><strong>Relationship between URI and HTTP Methods</strong></p>\n\n<p>The following table shows how HTTP methods are typically used in a RESTful API:\nHTTP methods Uniform Resource Identifier (URI)  GET     PUT     POST    DELETE\nCollection, such as <a href=\"http://api.example.com/resources/\" rel=\"nofollow\">http://api.example.com/resources/</a>   List the URIs and perhaps other details of the collection's members.    Replace the entire collection with another collection. Create a new entry in the collection. The new entry's URI is assigned automatically and is usually returned by the operation.    Delete the entire collection.\nElement, such as <a href=\"http://api.example.com/resources/item17\" rel=\"nofollow\">http://api.example.com/resources/item17</a>    Retrieve a representation of the addressed member of the collection, expressed in an appropriate Internet media type.   Replace the addressed member of the collection, or if it does not exist, create it.     Not generally used. Treat the addressed member as a collection in its own right and create a new entry in it.   Delete the addressed member of the collection.</p>\n\n<p>The PUT and DELETE methods are referred to as idempotent, meaning that the operation will produce the same result no matter how many times it is repeated. The GET method is a safe method (or nullipotent), meaning that calling it produces no side-effects. In other words, retrieving or accessing a record does not change it. The distinction between PUT/DELETE and GET are roughly analogous to the notion of Command-Query Separation (CQS). For example: A query operation (like GET) promises no side-effects (e.g. changes) in data being queried. Commands (like PUT/DELETE) answer no questions about the data, but compute changes applied to the data (e.g. UPDATE or INSERT to use database terms).</p>\n\n<p>Unlike SOAP-based web services, there is no \"official\" standard for RESTful web APIs. This is because REST is an architectural style, while SOAP is a protocol. Even though REST is not a standard per se, most RESTful implementations make use of standards such as HTTP, URI, JSON, and XML.</p>\n\n<p>**</p>\n\n<h2>The rest resources can be found</h2>\n\n<p>** <a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow\">More detail</a></p>\n", "title": "What exactly is RESTful programming?", "answer_id": 37660785, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p><strong>What is <a href=\"http://testingalert.com/api-testing/api-manual/\" rel=\"nofollow\">API Testing</a>?</strong></p>\n\n<p>API testing utilizes programming to send calls to the API and get the yield. It testing regards the segment under test as a black box. The objective of API testing is to confirm right execution and blunder treatment of the part preceding its coordination into an application.</p>\n\n<p><strong>REST API</strong></p>\n\n<p>REST: Representational State Transfer.  </p>\n\n<ul>\n<li>It\u2019s an arrangement of functions on which the testers performs requests and receive responses. In REST API interactions are made via HTTP protocol.  </li>\n<li>REST also permits communication between computers with each other over a network.  </li>\n<li>For sending and receiving messages, it involves using HTTP methods, and it does not require a strict message definition, unlike Web services.  </li>\n<li>REST messages often accepts the form either in form of XML, or JavaScript Object Notation (JSON).  </li>\n</ul>\n\n<p><strong>4 Commonly Used API Methods:-</strong>  </p>\n\n<ol>\n<li>GET: \u2013 It provides read only access to a resource.</li>\n<li>POST: \u2013 It is used to create or update a new resource.</li>\n<li>PUT: \u2013 It is used to update or replace an existing resource or create a new resource.  </li>\n<li>DELETE: \u2013 It is used to remove a resource.</li>\n</ol>\n\n<p><strong>Steps to Test API Manually:-</strong></p>\n\n<p>To use API manually, we can use browser based REST API plugins.  </p>\n\n<ol>\n<li>Install POSTMAN(Chrome) / REST(Firefox) plugin</li>\n<li>Enter the API URL</li>\n<li>Select the REST method</li>\n<li>Select content-Header</li>\n<li>Enter Request JSON (POST)</li>\n<li>Click on send</li>\n<li>It will return output response</li>\n</ol>\n\n<p><a href=\"http://testingalert.com/api-testing/api-automation/\" rel=\"nofollow\">Steps to Automate REST API</a> </p>\n", "title": "What exactly is RESTful programming?", "answer_id": 38692464, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>There is not such notion as \"RESTful programming\" per se. It would be better called RESTful paradigm or even better RESTful architecture. It is not a programming language. It is a paradigm.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow\">From Wikipedia</a>:</p>\n\n<blockquote>\n  <p>In computing, representational state transfer (REST) is an\n  architectural style used for web development.</p>\n</blockquote>\n", "title": "What exactly is RESTful programming?", "answer_id": 39130058, "question_id": 671118, "tags": ["http", "rest", "definition"]}, {"body": "<p>In this post I try summarize some features of Rest and consequently about Restful application...</p>\n\n<p><a href=\"http://stackoverflow.com/a/37683965/3762855\">http://stackoverflow.com/a/37683965/3762855</a> </p>\n", "title": "What exactly is RESTful programming?", "answer_id": 39207817, "question_id": 671118, "tags": ["http", "rest", "definition"]}], "question_id": 671118}, {"body": "<p>I have an <code>EditText</code> and a <code>Button</code> in my layout. After writing in the edit field and clicking on the <code>Button</code>, I want to hide the virtual keyboard. I assume that there's a simple, one or two-liner to make this happen. Where can I find an example of it?</p>\n", "title": "Close/hide the Android Soft Keyboard", "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"], "answer_count": 53, "link": "http://stackoverflow.com/questions/1109022/close-hide-the-android-soft-keyboard", "answers": [{"body": "<p>You can force Android to hide the virtual keyboard using the <a href=\"http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html\">InputMethodManager</a>, calling <a href=\"http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html#hideSoftInputFromWindow%28android.os.IBinder,%20int%29\"><code>hideSoftInputFromWindow</code></a>, passing in the token of the window containing your focused view.</p>\n\n<pre><code>// Check if no view has focus:\nView view = this.getCurrentFocus();\nif (view != null) {  \n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n</code></pre>\n\n<p>This will force the keyboard to be hidden in all situations. In some cases you will want to pass in <code>InputMethodManager.HIDE_IMPLICIT_ONLY</code> as the second parameter to ensure you only hide the keyboard when the user didn't explicitly force it to appear (by holding down menu).</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 1109108, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Please try this below code in <code>oncreate</code>()</p>\n\n<pre><code>EditText edtView=(EditText)findViewById(R.id.editTextConvertValue);\nedtView.setInputType(0);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 1845995, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Also useful for hiding the soft-keyboard is:</p>\n\n<pre><code>getWindow().setSoftInputMode(\n    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN\n);\n</code></pre>\n\n<p>This can be used to suppress the soft-keyboard until the user actually touches the editText View.</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 2059394, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Meier's solution works for me too. In my case the top level of my App is a tabHost and I want to hide the keyword when switching tabs - I get the window token from the tabHost View.</p>\n\n<pre><code>tabHost.setOnTabChangedListener(new OnTabChangeListener() {\n    public void onTabChanged(String tabId) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(tabHost.getApplicationWindowToken(), 0);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 2247715, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p><strong>Update:</strong>\nI don't know why this solution is not work any more ( I just tested on Android 23). Please use the solution of <a href=\"http://stackoverflow.com/a/9494042/523325\">Saurabh Pareek</a> instead. Here it is:</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\n//Hide:\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n//Show\nimm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n</code></pre>\n\n<p>Old answer:</p>\n\n<pre><code>//Show soft-keyboard:\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n//hide keyboard :\n getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 7094191, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>If you want to close the soft keyboard during a unit or functional test, you can do so by clicking the \"back button\" from your test:</p>\n\n<pre><code>// Close the soft keyboard from a Test\ngetInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\n</code></pre>\n\n<p>I put \"back button\" in quotes, since the above doesn't trigger the <code>onBackPressed()</code> for the Activity in question. It just closes the keyboard.</p>\n\n<p>Make sure to pause for a little while before moving on, since it takes a little while to close the back button, so subsequent clicks to Views, etc., won't be registered until after a short pause (1 second is long enough ime).</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 8494559, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>If all the other answers here don't work for you as you would like them to, there's another way of manually controlling the keyboard.</p>\n\n<p>Create a function with that will manage some of the <code>EditText</code>'s properties:</p>\n\n<pre><code>public void setEditTextFocus(boolean isFocused) {\n    searchEditText.setCursorVisible(isFocused);\n    searchEditText.setFocusable(isFocused);\n    searchEditText.setFocusableInTouchMode(isFocused);\n\n    if (isFocused) {\n        searchEditText.requestFocus();\n    }\n}\n</code></pre>\n\n<p>Then, make sure that onFocus of the <code>EditText</code> you open/close the keyboard:</p>\n\n<pre><code>searchEditText.setOnFocusChangeListener(new OnFocusChangeListener() {\n    @Override\n    public void onFocusChange(View v, boolean hasFocus) {\n        if (v == searchEditText) {\n            if (hasFocus) {\n                // Open keyboard\n                ((InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE)).showSoftInput(searchEditText, InputMethodManager.SHOW_FORCED);\n            } else {\n                // Close keyboard\n                ((InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE)).hideSoftInputFromWindow(searchEditText.getWindowToken(), 0);\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>Now, whenever you want to open the keyboard manually call: </p>\n\n<pre><code>setEditTextFocus(true);\n</code></pre>\n\n<p>And for closing call:</p>\n\n<pre><code>setEditTextFocus(false);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 9041949, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>from so searching, here I found an answer that works for me</p>\n\n<pre><code>// Show soft-keyboard:\nInputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n\n// Hide soft-keyboard:\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 9401141, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I got one more solution to hide keyboard:</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n</code></pre>\n\n<p>Here pass <code>HIDE_IMPLICIT_ONLY</code> at the position of <code>showFlag</code> and <code>0</code> at the position of <code>hiddenFlag</code>. It will forcefully close soft Keyboard.</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 9494042, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I'm using a custom keyboard to input an Hex number so I can't have the IMM keyboard show up...</p>\n\n<p>In v3.2.4_r1 <code>setSoftInputShownOnFocus(boolean show)</code> was added to control weather or not to display the keyboard when a TextView gets focus, but its still hidden so reflection must be used:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    try {\n        Method method = TextView.class.getMethod(\"setSoftInputShownOnFocus\", boolean.class);\n        method.invoke(mEditText, false);\n    } catch (Exception e) {\n        // Fallback to the second method\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>For older versions, I got very good results (but far from perfect) with a <code>OnGlobalLayoutListener</code>, added with the aid of a <code>ViewTreeObserver</code> from my root view and then checking if the keyboard is shown like this:</p>\n\n<pre><code>@Override\npublic void onGlobalLayout() {\n    Configuration config = getResources().getConfiguration();\n\n    // Dont allow the default keyboard to show up\n    if (config.keyboardHidden != Configuration.KEYBOARDHIDDEN_YES) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(mRootView.getWindowToken(), 0);\n    }\n}\n</code></pre>\n\n<p>This last solution may show the keyboard for a split second and messes with the selection handles.</p>\n\n<p>When in the keyboard enters full screen, onGlobalLayout isn't called. To avoid that, use <a href=\"https://developer.android.com/reference/android/widget/TextView.html#setImeOptions%28int%29\">TextView#setImeOptions(int)</a> or in the TextView XML declaration:</p>\n\n<pre><code>android:imeOptions=\"actionNone|actionUnspecified|flagNoFullscreen|flagNoExtractUi\"\n</code></pre>\n\n<p><strong>Update:</strong> Just found what dialogs use to never show the keyboard and works in all versions:</p>\n\n<pre><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n        WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 10439581, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>protected void hideSoftKeyboard(EditText input) {\n    input.setInputType(0);\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(input.getWindowToken(), 0);    \n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 10442532, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Here's how you do it in Mono for Android (AKA MonoDroid)</p>\n\n<pre><code>InputMethodManager imm = GetSystemService (Context.InputMethodService) as InputMethodManager;\nif (imm != null)\n    imm.HideSoftInputFromWindow (searchbox.WindowToken , 0);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 10593138, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>You could also look into using <a href=\"http://developer.android.com/reference/android/widget/TextView.html#attr_android%3aimeOptions\">setImeOption</a> on the EditText.</p>\n\n<p>I just had a very simular situation where my layout contained an EditText and a search button.  When I discovered I could just set the ime option to \"actionSearch\" on my editText, I realized I didn't even need a search button anymore.  The soft keyboard (in this mode) has a search icon, which can be used to kick off the search (and the keyboard closes itself as you would expect).  </p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 11165917, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Above answers work for different scenario's but  <strong>If you want to hide the keyboard inside a view and struggling to get the right context try this:</strong></p>\n\n<pre><code>setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        hideSoftKeyBoardOnTabClicked(v);\n    }\n}\n\nprivate void hideSoftKeyBoardOnTabClicked(View v) {\n    if (v != null &amp;&amp; context != null) {\n        InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(v.getApplicationWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n</code></pre>\n\n<p>and to get the context fetch it from constructor:) </p>\n\n<pre><code>public View/RelativeLayout/so and so (Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n    this.context = context;\n    init();\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 12430318, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>sometimes all you want is the enter button to fold the keyboard:\ngive the EditText box you have the attribute android:imeOptions=\"actionDone\" this will change the Enter button to a Done button that will close the keyboard.</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 13474925, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I created a layout partially from xml and partially from a custom layout engine, which is all handled in-code. The only thing that worked for me was to keep track of whether or not the keyboard was open, and use the keyboard toggle method as follows:</p>\n\n<pre><code>public class MyActivity extends Activity\n{\n    /** This maintains true if the keyboard is open. Otherwise, it is false. */\n    private boolean isKeyboardOpen = false;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        LayoutInflater inflater;\n        inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        View contentView = inflater.inflate(context.getResources().getIdentifier(\"main\", \"layout\", getPackageName()), null);\n\n        setContentView(contentView);\n        contentView.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() \n        {\n            public void onGlobalLayout() \n            {\n                Rect r = new Rect();\n                contentView.getWindowVisibleDisplayFrame(r);\n                int heightDiff = contentView.getRootView().getHeight() - (r.bottom - r.top);\n                if (heightDiff &gt; 100) \n                    isKeyboardVisible = true;\n                else\n                    isKeyboardVisible = false;\n             });\n         }\n    }\n\n    public void closeKeyboardIfOpen()\n    {\n        InputMethodManager imm;\n        imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (isKeyboardVisible)\n            imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n    }   \n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 13925047, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>For my case, I was using the a SearchView in the actionbar. After a user performs a search, the keyboard would pop open again.</p>\n\n<p>Using the InputMethodManager did not close the keyboard. I had to clearFocus and set the focusable of the search view to false:</p>\n\n<pre><code>mSearchView.clearFocus();\nmSearchView.setFocusable(false);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 15396882, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p><a href=\"http://stackoverflow.com/a/9494042/197359\">Saurabh Pareek</a> has the best answer so far.</p>\n\n<p>Might as well use the correct flags, though.</p>\n\n<pre><code>/* hide keyboard */\n((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n    .toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n/* show keyboard */\n((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n    .toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n</code></pre>\n\n<p>Example of real use</p>\n\n<pre><code>/* click button */\npublic void onClick(View view) {      \n  /* hide keyboard */\n  ((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n      .toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n  /* start loader to check parameters ... */\n}\n\n/* loader finished */\npublic void onLoadFinished(Loader&lt;Object&gt; loader, Object data) {\n    /* parameters not valid ... */\n\n    /* show keyboard */\n    ((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n        .toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\n    /* parameters valid ... */\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 15587937, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I have spent more than two days working through all of the solutions posted in the thread and have found them lacking in one way or another.  My exact requirement is to have a button that will with 100% reliability show or hide the on screen keyboard.  When the keyboard is in its hidden state is should not re-appear, no matter what input fields the user clicks on.  When it is in its visible state the keyboard should not disappear no matter what buttons the user clicks.  This needs to work on Android 2.2+ all the way up to the latest devices.</p>\n\n<p>You can see a working implementation of this in my app <a href=\"https://play.google.com/store/apps/details?id=au.com.lukesleeman.rpn&amp;hl=en\">clean RPN</a>.</p>\n\n<p>After testing many of the suggested answers on a number of different phones (including froyo and gingerbread devices) it became apparent that android apps can reliably:</p>\n\n<ol>\n<li>Temporarily hide the keyboard.  It will re-appear again when a user\nfocuses a new text field.</li>\n<li>Show the keyboard when an activity starts\nand set a flag on the activity indicating that they keyboard should\nalways be visible.  This flag can only be set when an activity is\ninitialising.</li>\n<li>Mark an activity to never show or allow the use of the\nkeyboard.  This flag can only be set when an activity is\ninitialising.</li>\n</ol>\n\n<p>For me, temporarily hiding the keyboard is not enough.  On some devices it will re-appear as soon as a new text field is focused.  As my app uses multiple text fields on one page, focusing a new text field will cause the hidden keyboard to pop back up again.</p>\n\n<p>Unfortunately item 2 and 3 on the list only work reliability when an activity is being started.  Once the activity has become visible you cannot permanently hide or show the keyboard.  The trick is to actually restart your activity when the user presses the keyboard toggle button.  In my app when the user presses on the toggle keyboard button, the following code runs:</p>\n\n<pre><code>private void toggleKeyboard(){\n\n    if(keypadPager.getVisibility() == View.VISIBLE){\n        Intent i = new Intent(this, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        Bundle state = new Bundle();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, true);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n    else{\n        Intent i = new Intent(this, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        Bundle state = new Bundle();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, false);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n}\n</code></pre>\n\n<p>This causes the current activity to have its state saved into a Bundle, and then the activity is started, passing through an boolean which indicates if the keyboard should be shown or hidden.</p>\n\n<p>Inside the onCreate method the following code is run:</p>\n\n<pre><code>if(bundle.getBoolean(SHOW_KEYBOARD)){\n    ((InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE)).showSoftInput(newEquationText,0);\n    getWindow().setSoftInputMode(LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n}\nelse{\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n            WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n}\n</code></pre>\n\n<p>If the soft keyboard should be shown, then the InputMethodManager is told to show the keyboard and the window is instructed to make the soft input always visible. If the soft keyboard should be hidden then the WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM is set.</p>\n\n<p>This approach works reliably on all devices I have tested on - from a 4 year old HTC phone running android 2.2 up to a nexus 7 running 4.2.2.  The only disadvantage with this approach is you need to be careful with handling the back button.  As my app essentially only has one screen (its a calculator) I can override onBackPressed() and return to the devices home screen.</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 15851463, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>public static void hideSoftKeyboard(Activity activity) {\n    InputMethodManager inputMethodManager = (InputMethodManager)activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 16191917, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>public static void hideSoftKeyboard(Activity activity) {\n    InputMethodManager inputMethodManager = (InputMethodManager)  activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n}\n</code></pre>\n\n<p>after that call on onTouchListener:</p>\n\n<pre><code>findViewById(android.R.id.content).setOnTouchListener(new OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        Utils.hideSoftKeyboard(activity);\n        return false;\n    }\n});\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 16620746, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Tried all here in desperation, combining all methods,  and of course the keyboard will not close in Android 4.0.3 (it did work in Honeicomb AFAIR).</p>\n\n<p>Then suddenly I found an apparently winning combination:</p>\n\n<pre><code>textField.setRawInputType(InputType.TYPE_CLASS_TEXT |InputType.TYPE_TEXT_VARIATION_NORMAL);\n</code></pre>\n\n<p>combined with your usual recipes</p>\n\n<pre><code>blahblaj.hideSoftInputFromWindow ...\n</code></pre>\n\n<p>hope this stops somebody from committing suicide .. I was close to it. Of course, I have no idea why it works.</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 16653355, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>To help clarify this madness, I'd like to begin by apologizing on behalf of all Android users for Google's downright ridiculous treatment of the soft keyboard. The reason there are so many answers, each different, for the same simple question is because this API, like many others in Android, is horribly designed. I can think of no polite way to state it.</p>\n\n<p>I want to hide the keyboard.  I expect to provide Android with the following statement: <code>Keyboard.hide()</code>. The end. Thank you very much.  But Android has a problem.  You must use the <code>InputMethodManager</code> to hide the keyboard. OK, fine, this is Android's API to the keyboard. BUT! You are required to have a <code>Context</code> in order to get access to the IMM. Now we have a problem.  I may want to hide the keyboard from a static or utility class that has no use or need for any <code>Context</code>. or And FAR worse, the IMM requires that you specify what <code>View</code> (or even worse, what <code>Window</code>) you want to hide the keyboard FROM.</p>\n\n<p>This is what makes hiding the keyboard so challenging. Dear Google: When I'm looking up the recipe for a cake, there is no <code>RecipeProvider</code> on Earth that would refuse to provide me with the recipe unless I first answer WHO the cake will be eaten by AND where it will be eaten!! </p>\n\n<p>This sad story ends with the ugly truth: to hide the Android keyboard, you will be required to provide 2 forms of identification: a <code>Context</code> and either a <code>View</code> or a <code>Window</code>.</p>\n\n<p>I have created a static utility method which can do the job VERY solidly, provided you call it from an <code>Activity</code>.</p>\n\n<pre><code>public static void hideKeyboard(Activity activity) {\n    InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    //Find the currently focused view, so we can grab the correct window token from it.\n    View view = activity.getCurrentFocus();\n    //If no view currently has focus, create a new one, just so we can grab a window token from it\n    if (view == null) {\n        view = new View(activity);\n    }\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n</code></pre>\n\n<p>Be aware that this utility method ONLY works when called from an <code>Activity</code>! The above method calls <code>getCurrentFocus</code> of the target <code>Activity</code> to fetch the proper window token. </p>\n\n<p>But suppose you want to hide the keyboard from an <code>EditText</code> hosted in a <code>DialogFragment</code>? You can't use the method above for that:</p>\n\n<pre><code>hideKeyboard(getActivity()); //won't work\n</code></pre>\n\n<p>This won't work because you'll be passing a reference to the <code>Fragment</code>'s host <code>Activity</code>, which will have no focused control while the <code>Fragment</code> is shown! Wow! So, for hiding the keyboard from fragments, I resort to the lower-level, more common, and uglier:</p>\n\n<pre><code>public static void hideKeyboardFrom(Context context, View view) {\n    InputMethodManager imm = (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n</code></pre>\n\n<p>Below is some additional information gleaned from more time wasted chasing this solution:</p>\n\n<p><strong>About windowSoftInputMode</strong></p>\n\n<p>There's yet another point of contention to be aware of. By default, Android will automatically assign initial focus to the first <code>EditText</code> or focusable control in your <code>Activity</code>.  It naturally follows that the InputMethod (typically the soft keyboard) will respond to the focus event by showing itself. The <code>windowSoftInputMode</code> attribute in <code>AndroidManifest.xml</code>, when set to <code>stateAlwaysHidden</code>, instructs the keyboard to ignore this automatically-assigned initial focus. </p>\n\n<pre><code>&lt;activity\n    android:name=\".MyActivity\"\n    android:windowSoftInputMode=\"stateAlwaysHidden\"/&gt;\n</code></pre>\n\n<p>Almost unbelievably, it appears to do nothing to prevent the keyboard from opening when you touch the control (unless <code>focusable=\"false\"</code> and/or <code>focusableInTouchMode=\"false\"</code> are assigned to the control). Apparently, the windowSoftInputMode setting applies only to automatic focus events, not to focus events triggered from touch events.</p>\n\n<p>Therefore, <code>stateAlwaysHidden</code> is VERY poorly named indeed. It should perhaps be called <code>ignoreInitialFocus</code> instead. </p>\n\n<p>Hope this helps.</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 17789187, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>use this</p>\n\n<pre><code>this.getWindow().setSoftInputMode(\n            WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 18148069, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Alternatively to <a href=\"http://stackoverflow.com/a/9494042/451962\">this all around solution</a>, if you wanted to close the soft keyboard <strong>from anywhere</strong> without having a reference to the (EditText) field that was used to open the keyboard, but still wanted to do it if the field was focused, you could use this (from an Activity):</p>\n\n<pre><code>if (getCurrentFocus() != null) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 18624972, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>This should work:</p>\n\n<pre><code>public class KeyBoard {\n\n    public static void show(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY); // show\n    }\n\n    public static void hide(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0); // hide\n    }\n\n    public static void toggle(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        if (imm.isActive()){\n            hide(activity); \n        } else {\n            show(activity); \n        }\n    }\n}\n\nKeyBoard.toggle(activity);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 18671531, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>This method will always always work at any cost. Just Use it wherever you want to hide the keyboard</p>\n\n<pre><code>public static void hideSoftKeyboard(Context mContext,EditText username){\n        if(((Activity) mContext).getCurrentFocus()!=null &amp;&amp; ((Activity) mContext).getCurrentFocus() instanceof EditText){\n            InputMethodManager imm = (InputMethodManager)mContext.getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(username.getWindowToken(), 0);\n        }\n    }\n</code></pre>\n\n<p>Use it like this :</p>\n\n<p>Whatever is the version of Android. This method will surely work</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 19175363, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>This works for me :</p>\n\n<pre><code> @Override\n public boolean dispatchTouchEvent(MotionEvent event) {\nView v = getCurrentFocus();\nboolean ret = super.dispatchTouchEvent(event);\n\nif (v instanceof EditText) {\n    View w = getCurrentFocus();\n    int scrcoords[] = new int[2];\n    w.getLocationOnScreen(scrcoords);\n    float x = event.getRawX() + w.getLeft() - scrcoords[0];\n    float y = event.getRawY() + w.getTop() - scrcoords[1];\n\n    Log.d(\"Activity\",\n            \"Touch event \" + event.getRawX() + \",\" + event.getRawY()\n                    + \" \" + x + \",\" + y + \" rect \" + w.getLeft() + \",\"\n                    + w.getTop() + \",\" + w.getRight() + \",\"\n                    + w.getBottom() + \" coords \" + scrcoords[0] + \",\"\n                    + scrcoords[1]);\n    if (event.getAction() == MotionEvent.ACTION_UP\n            &amp;&amp; (x &lt; w.getLeft() || x &gt;= w.getRight() || y &lt; w.getTop() || y &gt; w\n                    .getBottom())) {\n\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(getWindow().getCurrentFocus()\n                .getWindowToken(), 0);\n    }\n}\nreturn ret;\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 19564101, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>It works for me..</p>\n\n<pre><code>EditText editText=(EditText)findViewById(R.id.edittext1);\n</code></pre>\n\n<p>put below line of code in onClick()</p>\n\n<pre><code>editText.setFocusable(false);\neditText.setFocusableInTouchMode(true);\n</code></pre>\n\n<p>here hide the keyboard when we click the Button and when we touch the EditText keyboard will be display.</p>\n\n<p><strong>(OR)</strong></p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 20095505, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>This worked for me for all the bizarre keyboard behavior</p>\n\n<pre><code>private boolean isKeyboardVisible() {\n    Rect r = new Rect();\n    //r will be populated with the coordinates of your view that area still visible.\n    mRootView.getWindowVisibleDisplayFrame(r);\n\n    int heightDiff = mRootView.getRootView().getHeight() - (r.bottom - r.top);\n    return heightDiff &gt; 100; // if more than 100 pixels, its probably a keyboard...\n}\n\nprotected void showKeyboard() {\n    if (isKeyboardVisible())\n        return;\n    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    if (getCurrentFocus() == null) {\n        inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n    } else {\n        View view = getCurrentFocus();\n        inputMethodManager.showSoftInput(view, InputMethodManager.SHOW_FORCED);\n    }\n}\n\nprotected void hideKeyboard() {\n    if (!isKeyboardVisible())\n        return;\n    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    View view = getCurrentFocus();\n    if (view == null) {\n        if (inputMethodManager.isAcceptingText())\n            inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_NOT_ALWAYS, 0);\n    } else {\n        if (view instanceof EditText)\n            ((EditText) view).setText(((EditText) view).getText().toString()); // reset edit text bug on some keyboards bug\n        inputMethodManager.hideSoftInputFromInputMethod(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 20344271, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>public static void closeInput(final View caller) {  \n    caller.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            InputMethodManager imm = (InputMethodManager) caller.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(caller.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n        }\n    }, 100);\n}\n</code></pre>\n\n<p>This method generally works, but there is one condition: you can't have <code>android:windowSoftInputMode=\"any_of_these\"</code> set</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 21208462, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>This worked for me.</p>\n\n<pre><code>public static void hideKeyboard(Activity act, EditText et){\n    Context c = act.getBaseContext();\n    View v = et.findFocus();\n    if(v == null)\n        return;\n    InputMethodManager inputManager = (InputMethodManager) c.getSystemService(Context.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(v.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 22208996, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Just use this optimized code in your activity:</p>\n\n<pre><code>if (this.getCurrentFocus() != null) {\n    InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 23855355, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>An alternative using <code>SearchView</code> would be to use this code:</p>\n\n<pre><code>searchView = (SearchView) searchItem.getActionView();    \nsearchView.setOnQueryTextListener(new OnQueryTextListener() {\n    @Override\n    public boolean onQueryTextSubmit(String query) {\n        InputMethodManager imm = (InputMethodManager)\n        getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(searchView.getApplicationWindowToken(), 0);\n    }\n}\n</code></pre>\n\n<p>This is a SearchView search box in the ActionBar that when the text from the query is submitted (the user presses either <code>Enter</code> key or a search button/icon), then the <code>InputMethodManager</code> code gets activated and makes your soft keyboard go down. This code was put in my <code>onCreateOptionsMenu()</code>. <code>searchItem</code> is from <code>MenuItem</code> which is part of the default code for the <code>onCreateOptionsmenu()</code>. Thanks to @mckoss for a good chunk of this code!</p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 24601425, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<h2>The short answer</h2>\n\n<p>In your <code>OnClick</code> listener call the <code>onEditorAction</code> of the <code>EditText</code> with <code>IME_ACTION_DONE</code></p>\n\n<pre><code>button.setOnClickListener(new OnClickListener() {\n\n    @Override\n    public void onClick(View v) {\n        someEditText.onEditorAction(EditorInfo.IME_ACTION_DONE)\n    }\n});\n</code></pre>\n\n<h2>The drill-down</h2>\n\n<p>I feel this method is better, simpler and more aligned with Android's design pattern.\nIn the simple example above (and usually in most of the common cases) you'll have an <code>EditText</code> that has/had focus and it also usually was the one to invoke the keyboard in the first place (it is definitely able to invoke it in many common scenarios). In that same way, <strong>it</strong> should be the one to release the keyboard, usually that can be done by an <code>ImeAction</code>. Just see how an <code>EditText</code> with <code>android:imeOptions=\"actionDone\"</code> behaves, you want to achieve the same behavior by the same means.</p>\n\n<hr>\n\n<p>Check this <a href=\"http://stackoverflow.com/a/3449616/2837443\">related answer</a></p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 25119481, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>public static void hideSoftKeyboard(Activity activity) {\n    InputMethodManager inputMethodManager = (InputMethodManager) activity\n            .getSystemService(Activity.INPUT_METHOD_SERVICE);\n    inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus()\n            .getWindowToken(), 0);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 25425660, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>private void hideSoftKeyboard() {\n    View view = getView();\n    if (view != null) {\n        InputMethodManager inputMethodManager = (InputMethodManager) getActivity()\n                .getSystemService(Activity.INPUT_METHOD_SERVICE);\n        inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 26041064, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Depite all those answers, just to be simple enough, I have written a common method to do this :</p>\n\n<pre><code>/**\n * hide soft keyboard in a activity\n * @param activity\n */\npublic static void hideKeyboard (Activity activity){\n    activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n    if (activity.getCurrentFocus() != null) {\n        InputMethodManager inputMethodManager = (InputMethodManager) activity.getSystemService(activity.INPUT_METHOD_SERVICE);\n        inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 26666696, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I have the case, where my <code>EditText</code> can be located also in an <code>AlertDialog</code>, so the keyboard should be closed on dismiss. The following code seems to be working anywhere:</p>\n\n<pre><code>public static void hideKeyboard( Activity activity ) {\n    InputMethodManager imm = (InputMethodManager)activity.getSystemService( Context.INPUT_METHOD_SERVICE );\n    View f = activity.getCurrentFocus();\n    if( null != f &amp;&amp; null != f.getWindowToken() &amp;&amp; EditText.class.isAssignableFrom( f.getClass() ) )\n        imm.hideSoftInputFromWindow( f.getWindowToken(), 0 );\n    else \n        activity.getWindow().setSoftInputMode( WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN );\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 27275530, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Try This one</p>\n\n<pre><code>public void disableSoftKeyboard(final EditText v) {\n    if (Build.VERSION.SDK_INT &gt;= 11) {\n        v.setRawInputType(InputType.TYPE_CLASS_TEXT);\n        v.setTextIsSelectable(true);\n    } else {\n        v.setRawInputType(InputType.TYPE_NULL);\n        v.setFocusable(true);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 27654976, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>For Open Keyboard :</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.showSoftInput(edtView, InputMethodManager.SHOW_IMPLICIT);\n</code></pre>\n\n<p>For Close/Hide Keyboard :</p>\n\n<pre><code> InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n imm.hideSoftInputFromWindow(edtView.getWindowToken(), 0);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 28344212, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I have tried all of solutions very much but no solution work for me, so I found my solution:\nYou should have boolean variables like:</p>\n\n<pre><code>public static isKeyboardShowing = false;\nInputMethodManager inputMethodManager = (InputMethodManager) getActivity()\n            .getSystemService(Context.INPUT_METHOD_SERVICE);\n</code></pre>\n\n<p>And in a touch screen event you call:</p>\n\n<pre><code>@Override\npublic boolean onTouchEvent(MotionEvent event) {\n    if(keyboardShowing==true){\n        inputMethodManager.toggleSoftInput(InputMethodManager.RESULT_UNCHANGED_HIDDEN, 0);\n        keyboardShowing = false;\n    }\n    return super.onTouchEvent(event);\n}\n</code></pre>\n\n<p>And in EditText is in anywhere:</p>\n\n<pre><code>yourEditText.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            yourClass.keyboardShowing = true;\n\n        }\n    });\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 29327995, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>I have almost tried all of these answers, I had some random issues especially with the samsung galaxy s5.</p>\n\n<p>What I end up with is forcing the show and hide, and it works perfectly:</p>\n\n<pre><code>/**\n * Force show softKeyboard.\n */\npublic static void forceShow(@NonNull Context context) {\n    InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n}\n\n/**\n * Force hide softKeyboard.\n */\npublic static void forceHide(@NonNull Activity activity, @NonNull EditText editText) {\n    if (activity.getCurrentFocus() == null || !(activity.getCurrentFocus() instanceof EditText)) {\n        editText.requestFocus();\n    }\n    InputMethodManager imm = (InputMethodManager) activity.getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n    activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 30259790, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>public void setKeyboardVisibility(boolean show) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    if(show){\n        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n    }else{\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),0);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 30575024, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Thanks to <a href=\"http://stackoverflow.com/a/7696791/1617737\">this SO answer</a>, I derived the following which, in my case, works nicely when scrolling through the the fragments of a ViewPager...</p>\n\n<pre><code>private void hideKeyboard() {   \n    // Check if no view has focus:\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\nprivate void showKeyboard() {   \n    // Check if no view has focus:\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 31582342, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Sometime you can have an activity that contains a listview with rows that contains editText so you have to setup in manifest <code>SOFT_INPUT_ADJUST_PAN</code> then they keyboard shows up which is annoying.</p>\n\n<p>The following workarround works if you place it at the end of <code>onCreate</code></p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\nnew Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN);\n            }\n        },100);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 32807284, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>In  <code>AndroidManifest.xml</code> under <code>&lt;activity..&gt;</code> set <code>android:windowSoftInputMode=\"stateAlwaysHidden\"</code></p>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 34263560, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>simply code :\nuse this code in <strong>onCreate()</strong></p>\n\n<pre><code>getWindow().setSoftInputMode(\n    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN\n);\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 34972848, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>In some cases this methods can works except of all others. \nThis saves my day :)</p>\n\n<pre><code>public static void hideSoftKeyboard(Activity activity) {\n    if (activity != null) {\n        InputMethodManager inputManager = (InputMethodManager) activity.getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (activity.getCurrentFocus() != null &amp;&amp; inputManager != null) {\n            inputManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n            inputManager.hideSoftInputFromInputMethod(activity.getCurrentFocus().getWindowToken(), 0);\n        }\n    }\n}\n\npublic static void hideSoftKeyboard(View view) {\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (inputManager != null) {\n            inputManager.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n    }\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 35200179, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>Add to your activity    <code>android:windowSoftInputMode=\"stateHidden\"</code> in Manifest file. Example:</p>\n\n<pre><code>&lt;activity\n            android:name=\".ui.activity.MainActivity\"\n            android:label=\"@string/mainactivity\"\n            android:windowSoftInputMode=\"stateHidden\"/&gt;\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 35200925, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<pre><code>/** \n *\n *   Hide I Said!!!\n *\n */\npublic static boolean hideSoftKeyboard(@NonNull Activity activity) {\n    View currentFocus = activity.getCurrentFocus();\n    if (currentFocus == null) {\n        currentFocus = activity.getWindow().getDecorView();\n        if (currentFocus != null) {\n            return getSoftInput(activity).hideSoftInputFromWindow(currentFocus.getWindowToken(), 0, null);\n        }\n    }\n    return false;\n}\n\npublic static boolean hideSoftKeyboard(@NonNull Context context) {\n   if(Activity.class.isAssignableFrom(context.getClass())){\n       return hideSoftKeyboard((Activity)context);\n   }\n   return false;\n}\n\npublic static InputMethodManager getSoftInput(@NonNull Context context) {\n    return (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);\n}\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 35302359, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>simple method guys:\ntry this...</p>\n\n<pre><code>private void closeKeyboard(boolean b) {\n\n        View view = this.getCurrentFocus();\n\n        if(b) {\n            if (view != null) {\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n            }\n        }\n        else {\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.showSoftInput(view, 0);\n        }\n    }\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 36171723, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}, {"body": "<p>If you want to hide keyboard using Java code, then use this:</p>\n\n<pre><code>  InputMethodManager imm = (InputMethodManager)this.getSystemService(Context.INPUT_METHOD_SERVICE);\n  imm.hideSoftInputFromWindow(fEmail.getWindowToken(), 0);\n</code></pre>\n\n<p>Or if you want to hide the keyboard always, then use this in your AndroidManifest:</p>\n\n<pre><code> &lt;activity\n android:name=\".activities.MyActivity\"\n android:configChanges=\"keyboardHidden\"  /&gt;\n</code></pre>\n", "title": "Close/hide the Android Soft Keyboard", "answer_id": 37123109, "question_id": 1109022, "tags": ["android", "android-softkeyboard", "android-keypad", "android-input-method", "soft-keyboard"]}], "question_id": 1109022}, {"body": "<p>What does the <code>if __name__ == \"__main__\":</code> do?</p>\n\n<pre><code># Threading example\nimport time, thread\n\ndef myfunction(string, sleeptime, lock, *args):\n    while 1:\n        lock.acquire()\n        time.sleep(sleeptime)\n        lock.release()\n        time.sleep(sleeptime)\nif __name__ == \"__main__\":\n    lock = thread.allocate_lock()\n    thread.start_new_thread(myfunction, (\"Thread #: 1\", 2, lock))\n    thread.start_new_thread(myfunction, (\"Thread #: 2\", 2, lock))\n</code></pre>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "tags": ["python", "module", "namespaces", "main", "idioms"], "answer_count": 13, "link": "http://stackoverflow.com/questions/419163/what-does-if-name-main-do", "answers": [{"body": "<p><code>if __name__ == \"__main__\"</code> is the part that runs when the script is run from (say) the command line using a command like <code>python myscript.py</code>.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 419174, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>When the Python interpreter reads a source file, it executes all of the code found in it.  </p>\n\n<p>Before executing the code, it will define a few special variables.  For example, if the python interpreter is running that module (the source file) as the main program, it sets the special <code>__name__</code> variable to have a value <code>\"__main__\"</code>.  If this file is being imported from another module, <code>__name__</code> will be set to the module's name.</p>\n\n<p>In the case of your script, let's assume that it's executing as the main function, e.g. you said something like</p>\n\n<pre><code>python threading_example.py\n</code></pre>\n\n<p>on the command line.  After setting up the special variables, it will execute the <code>import</code> statement and load those modules.  It will then evaluate the <code>def</code> block, creating a function object and creating a variable called <code>myfunction</code> that points to the function object.  It will then read the <code>if</code> statement and see that <code>__name__</code> does equal <code>\"__main__\"</code>, so it will execute the block shown there.</p>\n\n<p>One of the reasons for doing this is that sometimes you write a module (a <code>.py</code> file) where it can be executed directly.  Alternatively, it can also be imported and used in another module.  By doing the main check, you can have that code only execute when you want to run the module as a program and not have it execute when someone just wants to import your module and call your functions themselves.</p>\n\n<p>See <a href=\"http://ibiblio.org/g2swap/byteofpython/read/module-name.html\">this page</a> for some extra details.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 419185, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>When your script is run by passing it as a command to the Python interpreter,</p>\n\n<pre><code>python myscript.py\n</code></pre>\n\n<p>all of the code that is at indentation level 0 gets executed.  Functions and classes that are defined are, well, defined, but none of their code gets ran.  Unlike other languages, there's no <code>main()</code> function that gets run automatically - the <code>main()</code> function is implicitly all the code at the top level.</p>\n\n<p>In this case, the top-level code is an <code>if</code> block.  <code>__name__</code> is a built-in variable which evaluate to the name of the current module.  However, if a module is being run directly (as in <code>myscript.py</code> above), then <code>__name__</code> instead is set to the string <code>\"__main__\"</code>.  Thus, you can test whether your script is being run directly or being imported by something else by testing</p>\n\n<pre><code>if __name__ == \"__main__\":\n    ...\n</code></pre>\n\n<p>If that code is being imported into another module, the various function and class definitions will be imported, but the <code>main()</code> code won't get run.  As a basic example, consider the following two scripts:</p>\n\n<pre><code># file one.py\ndef func():\n    print(\"func() in one.py\")\n\nprint(\"top-level in one.py\")\n\nif __name__ == \"__main__\":\n    print(\"one.py is being run directly\")\nelse:\n    print(\"one.py is being imported into another module\")\n\n# file two.py\nimport one\n\nprint(\"top-level in two.py\")\none.func()\n\nif __name__ == \"__main__\":\n    print(\"two.py is being run directly\")\nelse:\n    print(\"two.py is being imported into another module\")\n</code></pre>\n\n<p>Now, if you invoke the interpreter as</p>\n\n<pre><code>python one.py\n</code></pre>\n\n<p>The output will be</p>\n\n<pre><code>top-level in one.py\none.py is being run directly\n</code></pre>\n\n<p>If you run <code>two.py</code> instead:</p>\n\n<pre><code>python two.py\n</code></pre>\n\n<p>You get</p>\n\n<pre><code>top-level in one.py\none.py is being imported into another module\ntop-level in two.py\nfunc() in one.py\ntwo.py is being run directly\n</code></pre>\n\n<p>Thus, when module <code>one</code> gets loaded, its <code>__name__</code> equals <code>\"one\"</code> instead of <code>__main__</code>.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 419189, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>The simplest explanation for the <code>__name__</code> variable (imho) is the following:</p>\n\n<p>Create the following files.</p>\n\n<pre><code># a.py\nimport b\n</code></pre>\n\n<p>and</p>\n\n<pre><code># b.py\nprint \"Hello World from %s!\" % __name__\n\nif __name__ == '__main__':\n    print \"Hello World again from %s!\" % __name__\n</code></pre>\n\n<p>Running them will get you this output:</p>\n\n<pre><code>$ python a.py\nHello World from b!\n</code></pre>\n\n<p>As you can see, when a module is imported, Python sets <code>globals()['__name__']</code> in this module to the module's name.</p>\n\n<pre><code>$ python b.py\nHello World from __main__!\nHello World again from __main__!\n</code></pre>\n\n<p>As you can see, when a file is executed, Python sets <code>globals()['__name__']</code> in this file to <code>\"__main__\"</code>.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 419986, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>It is a special for when a Python file is called from the command line. This is typically used to call a \"main()\" function or execute other appropriate startup code, like commandline arguments handling for instance.</p>\n\n<p>It could be written in several ways, another is:</p>\n\n<pre><code>def main():\n    dosomething()\n\n\n__name__ == '__main__' and main()\n</code></pre>\n\n<p>I am not saying you should use this in production code, but it serves to illustrate that there is nothing \"magical\" about <code>if __name__ == '__main__'</code>.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 14502904, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>When there are certain statements in our module (<code>M.py</code>), we want to be executed when it 'll be running as main (not imported), in that case we can place those statements (test-cases, print statements) under this if block. As by default (when module running as main, not imported) the <code>__name__</code> variable is set to <code>\"__main__\"</code>, and when it'll be imported the <code>__name__</code> variable 'll get a different value, most probably the name of the module (<code>'M'</code>).\nThis is helpful in running different variants of a modules together, and seperating their specific input &amp; output statements and also if any test-cases.</p>\n\n<p><strong>In short</strong> , use this '<code>if __name__ == \"main\"</code> ' block to prevent (certain) code from being run when  the module is imported.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 15789709, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<blockquote>\n  <h1>What does the <code>if __name__ == \"__main__\":</code> do?</h1>\n</blockquote>\n\n<p>The global variable, <code>__name__</code>, in the module that is the entry point to your program, is <code>'__main__'</code>. </p>\n\n<p>So, code in this <code>if</code> block will only run if that module is the entry point to your program.</p>\n\n<hr>\n\n<p>Why do we need this?</p>\n\n<h1>Developing and Testing Your Code</h1>\n\n<p>Say you're writing a Python script designed to be used as a module:</p>\n\n<pre><code>def do_important():\n    \"\"\"This function does something very important\"\"\"\n</code></pre>\n\n<p>You <em>could</em> test the module by adding this call of the function to the bottom:</p>\n\n<pre><code>do_important()\n</code></pre>\n\n<p>and running it (on a command prompt) with something like:</p>\n\n<pre><code>~$ python important.py\n</code></pre>\n\n<h1>The Problem</h1>\n\n<p>However, if you want to import the module to another script:</p>\n\n<pre><code>import important\n</code></pre>\n\n<p>On import, the <code>do_important</code> function would be called, so you'd probably comment out your call of the function at the bottom. And then you'll have to remember whether or not you've commented out your test function call. And this extra complexity would mean you're likely to forget, making your development process more troublesome.</p>\n\n<h1>A Better Way</h1>\n\n<p>The <code>__name__</code> variable points to the namespace wherever the Python interpreter happens to be at the moment. Inside an imported module, it's the name of that module. But inside the primary module (or an interactive Python session, i.e. the interpreter's Read, Eval, Print Loop, or REPL) you are running everything from its <code>\"__main__\"</code>.</p>\n\n<p>So if you check before executing:</p>\n\n<pre><code>if __name__ == \"__main__\":\n    do_important()\n</code></pre>\n\n<p>With the above, your code will only execute when you're running it as the primary module (or intentionally call it from another script). </p>\n\n<h1>An Even Better Way</h1>\n\n<p>There's a Pythonic way to improve on this, though. </p>\n\n<p>What if we want to run this business process from outside the module? Also, <a href=\"http://stackoverflow.com/questions/11241523/why-does-python-code-run-faster-in-a-function\">Python code can run faster in a function</a> (see the link for how and why); so if we put the code we want to exercise as we develop and test in a function like this and then do our check for <code>'__main__'</code> immediately after:</p>\n\n<pre><code>def main():\n    \"\"\"business logic for when running this module as the primary one!\"\"\"\n    setup()\n    foo = do_important()\n    bar = do_even_more_important(foo)\n    for baz in bar:\n        do_super_important(baz)\n    teardown()\n\n# Here's our payoff idiom!\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>We now have a final function for the end of our module that will run if we run the module as the primary module. It will allow the module and its functions and classes to be imported into other scripts (in the most efficient way, if efficiency matters) without running the <code>main</code> function, and will also allow the module (and its functions and classes) to be called when running from a different <code>'__main__'</code> module, i.e.</p>\n\n<pre><code>import important\nimportant.main()\n</code></pre>\n\n<p><a href=\"https://docs.python.org/2/library/__main__.html\">This idiom can also be found (deep) in the Python documentation in an explanation of the <code>__main__</code> module.</a> That text states:</p>\n\n<blockquote>\n  <p>This module represents the (otherwise anonymous) scope in which the\n  interpreter\u2019s main program executes \u2014 commands read either from\n  standard input, from a script file, or from an interactive prompt. It\n  is this environment in which the idiomatic \u201cconditional script\u201d stanza\n  causes a script to run:</p>\n\n<pre><code>if __name__ == '__main__':\n    main()\n</code></pre>\n</blockquote>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 20158605, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>When you run Python interactively the local <code>__name__</code> variable is assigned a value of <code>__main__</code>. Likewise, when you execute a Python module from the command line, rather than importing it into another module, its <code>__name__</code> attribute is assigned a value of <code>__main__</code>, rather than the actual name of the module. In this way, modules can look at their own <code>__name__</code> value to determine for themselves how they are being used, whether as support for another program or as the main application executed from the command line. Thus, the following idiom is quite common in Python modules:</p>\n\n<pre><code>if __name__ == '__main__':\n    # Do something appropriate here, like calling a\n    # main() function defined elsewhere in this module.\n    main()\nelse:\n    # Do nothing. This module has been imported by another\n    # module that wants to make use of the functions,\n    # classes and other useful bits it has defined.\n</code></pre>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 20517795, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<h1>A Short Answer</h1>\n\n<p><code>__name__</code> is a global variable (in Python, global actually means on the <a href=\"https://docs.python.org/tutorial/modules.html#modules\" rel=\"nofollow\">module level</a>) that exists in all namespaces. It is typically the module's name (as a <code>str</code> type).</p>\n\n<p>As the only special case, however, in whatever Python process you run, as in mycode.py:</p>\n\n<pre><code>python mycode.py\n</code></pre>\n\n<p>the otherwise anonymous global namespace is assigned the value of <code>'__main__'</code> to its <code>__name__</code>. </p>\n\n<p>Thus, including <a href=\"https://docs.python.org/library/__main__.html\" rel=\"nofollow\">the final lines</a></p>\n\n<pre><code>if __name__ == '__main__':\n    main()\n</code></pre>\n\n<ul>\n<li>at the end of your mycode.py script,</li>\n<li>when it is the primary, entry-point module that is run by a Python process, </li>\n</ul>\n\n<p>will cause your script's uniquely defined <code>main</code> function to run. </p>\n\n<p>Another benefit of using this construct: you can also import your code as a module in another script and then run the main function if and when your program decides:</p>\n\n<pre><code>import mycode\n# ... any amount of other code\nmycode.main()\n</code></pre>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 26369628, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>Let's look at the answer in a more abstract way:</p>\n\n<p>Suppose we have this code in x.py:</p>\n\n<pre><code>...\n&lt;Block A&gt;\nif __name__ == '__main__':\n    &lt;Block B&gt;\n...\n</code></pre>\n\n<p>Blocks A and B are run when we are running \"x.py\".</p>\n\n<p>But just block A (and not B) is run when we are running another module, \"y.py\" for example, in which x.y is imported and the code is run from there (like when a function in \"x.py\" is called from y.py).</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 28051929, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p>There are a number of variables that the system (Python interpreter) provides for source files (modules).  You can get their values anytime you want, so, let us focus on the <strong>__name__</strong> variable/attribute:</p>\n\n<p>When Python loads a source code file, it executes all of the code found in it. (Note that it doesn't call all of the methods and functions defined in the file, but it does define them.)</p>\n\n<p>Before the interpreter executes the source code file though, it defines a few special variables for that file; <strong>__name__</strong> is one of those special variables that Python automatically defines for each source code file.</p>\n\n<p>If Python is loading this source code file as the main program (i.e. the file you run), then it sets the special <strong>__name__</strong> variable for this file to have a value <strong>\"__main__\"</strong>.</p>\n\n<p>If this is being imported from another module, <strong>__name__</strong> will be set to that module's name.</p>\n\n<p>So, in your example in part:</p>\n\n<pre><code>if __name__ == \"__main__\":\n   lock = thread.allocate_lock()\n   thread.start_new_thread(myfunction, (\"Thread #: 1\", 2, lock))\n   thread.start_new_thread(myfunction, (\"Thread #: 2\", 2, lock))\n</code></pre>\n\n<p>means that the code block:</p>\n\n<pre><code>lock = thread.allocate_lock()\nthread.start_new_thread(myfunction, (\"Thread #: 1\", 2, lock))\nthread.start_new_thread(myfunction, (\"Thread #: 2\", 2, lock))\n</code></pre>\n\n<p>will be executed only when you run the module directly; the code block will not execute if another module is calling/importing it because the value of <strong>__name__</strong> will not equal to \"<strong>main</strong>\" in that particular instance.</p>\n\n<p>Hope this helps out.</p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 33916552, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<p><strong><em>if __name__ == \"__main__\":</em></strong> is basically Top-level script environment, it specifies the interpreter that ('I have the highest priority to be executed first').</p>\n\n<p><strong><em>'__main__</em></strong>' is the name of the scope in which top-level code executes. A module\u2019s <strong>name</strong> is set equal to '<strong>main</strong>' when read from standard input, a script, or from an interactive prompt.</p>\n\n<pre><code>if __name__ == \"__main__\":\n    # execute only if run as a script\n    main()\n</code></pre>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 36820845, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}, {"body": "<pre><code>print __name__\n</code></pre>\n\n<p>output for the above is <strong>main</strong> </p>\n\n<pre><code>if __name == \"__main__\":\n  print direct method\n</code></pre>\n\n<p>the above statement is gets true and print direct method suppose if they imported this class in other class it doesnt print direct method .because while importing it will  set <code>__name__ == \"firstmodel name\"</code>  </p>\n", "title": "What does `if __name__ == &quot;__main__&quot;:` do?", "answer_id": 37965772, "question_id": 419163, "tags": ["python", "module", "namespaces", "main", "idioms"]}], "question_id": 419163}, {"body": "<p>When I want to prevent other event handlers from executing after a certain event is fired, I can use one of two techniques. I'll use jQuery in the examples, but this applies to plain-JS as well:</p>\n\n<h3>1. <code>event.preventDefault()</code></h3>\n\n<pre><code>$('a').click(function (e) {\n    // custom handling here\n    e.preventDefault();\n});\n</code></pre>\n\n<h3>2. <code>return false</code></h3>\n\n<pre><code>$('a').click(function () {\n    // custom handling here\n    return false;\n});\n</code></pre>\n\n<p>Is there any significant difference between those two methods of stopping event propagation?</p>\n\n<p>For me, <code>return false;</code> is simpler, shorter and probably less error prone than executing a method. With the method, you have to remember about correct casing, parenthesis, etc. </p>\n\n<p>Also, I have to define the first parameter in callback to be able to call the method. Perhaps, there are some reasons why I should avoid doing it like this and use <code>preventDefault</code> instead? What's the better way?</p>\n", "title": "event.preventDefault() vs. return false", "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"], "answer_count": 9, "link": "http://stackoverflow.com/questions/1357118/event-preventdefault-vs-return-false", "answers": [{"body": "<p>You can hang a lot of functions on the <code>onClick</code> event for one element. How can you be sure the <code>false</code> one will be the last one to fire? <code>preventDefault</code> on the other hand will definitely prevent only the default behavior of the element.</p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 1357136, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p>I think</p>\n\n<p><code>event.preventDefault()</code></p>\n\n<p>is the w3c specified way of canceling events.</p>\n\n<p>You can read this in the W3C spec on <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-cancelation\">Event cancelation</a>.</p>\n\n<p>Also you can't use return false in every situation. When giving a javascript function in the href attribute and if you return false then the user will be redirected to a page with false string written.</p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 1357146, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p><code>return false</code> from <em>within a jQuery event handler</em> is effectively the same as calling both  <code>e.preventDefault</code> and <code>e.stopPropagation</code> on the passed <a href=\"http://api.jquery.com/category/events/event-object/\" rel=\"nofollow\">jQuery.Event object.</a></p>\n\n<p><code>e.preventDefault()</code> will prevent the default event from occuring, <code>e.stopPropagation()</code> will prevent the event from bubbling up and <code>return false</code> will do both. Note that this behaviour differs from <em>normal</em> (non-jQuery) event handlers, in which, notably, <code>return false</code> does <em>not</em> stop the event from bubbling up.</p>\n\n<p>Source: <a href=\"http://ejohn.org/\" rel=\"nofollow\">John Resig</a></p>\n\n<p><a href=\"http://www.mail-archive.com/jquery-en@googlegroups.com/msg71371.html\" rel=\"nofollow\"><strong>Any benefit to using event.preventDefault() over \"return false\" to cancel out an href click?</strong></a></p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 1357151, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p>This is not, as you've titled it, a \"JavaScript\" question; it is a question regarding the design of jQuery.</p>\n\n<p>jQuery and the <a href=\"http://www.mail-archive.com/jquery-en@googlegroups.com/msg71371.html\">previously linked citation</a> from <a href=\"http://ejohn.org\">John Resig</a> (in <a href=\"http://stackoverflow.com/users/70393\">karim79's</a> <a href=\"http://stackoverflow.com/questions/1357118/#1357151\">message</a>) seem to be the source misunderstanding of how event handlers in general work. </p>\n\n<p>Fact: An event handler that returns false prevents the default action for that event. It does not stop the event propagation. Event handlers have always worked this way, since the old days of Netscape Navigator.</p>\n\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Tutorial/More_Event_Handlers#Prevent_Default_Action\">documentation from MDN</a> explains how <code>return false</code> in an event handler works</p>\n\n<p>What happens in jQuery is not the same as what happens with event handlers. DOM event listeners and MSIE \"attached\" events are a different matter altogether. </p>\n\n<p>For further reading, see <a href=\"http://msdn.microsoft.com/en-us/library/ms536343%28VS.85%29.aspx\">attachEvent on MSDN</a> and the <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/\">W3C DOM 2 Events documentation</a>.</p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 3081018, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p>From my experience, there is at least one clear advantage when using event.preventDefault() over using return false. Suppose you are capturing the click event on an anchor tag, otherwise which it would be a big problem if the user were to be navigated away from the current page. If your click handler uses return false to prevent browser navigation, it opens the possibility that the interpreter will not reach the return statement and the browser will proceed to execute the anchor tag's default behavior.</p>\n\n<pre><code>$('a').click(function (e) {\n  // custom handling here\n\n  // oops...runtime error...where oh where will the href take me?\n\n  return false;\n});\n</code></pre>\n\n<p>The benefit to using event.preventDefault() is that you can add this as the first line in the handler, thereby guaranteeing that the anchor's default behavior will not fire, regardless if the last line of the function is not reached (eg. runtime error).</p>\n\n<pre><code>$('a').click(function (e) {\n  e.preventDefault();\n\n  // custom handling here\n\n  // oops...runtime error, but at least the user isn't navigated away.\n});\n</code></pre>\n", "title": "event.preventDefault() vs. return false", "answer_id": 4771084, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p>Generally, your first option (<code>preventDefault()</code>) is the one to take, but you have to know what context you're in and what your goals are. </p>\n\n<p><em>Fuel Your Coding</em> has a great <a href=\"http://fuelyourcoding.com/jquery-events-stop-misusing-return-false/\">article on <code>return false;</code> vs <code>event.preventDefault()</code> vs <code>event.stopPropagation()</code> vs <code>event.stopImmediatePropagation()</code></a>.</p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 5607002, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p><code>return false</code> is doing 3 separate things when you call it:</p>\n\n<ol>\n<li><code>event.preventDefault();</code></li>\n<li><code>event.stopPropagation();</code></li>\n<li>Stops callback execution and returns immediately when called.</li>\n</ol>\n\n<p>See <a href=\"http://fuelyourcoding.com/jquery-events-stop-misusing-return-false/\">jQuery Events: Stop (Mis)Using Return False</a> for more information and examples.</p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 14961657, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p>i think the best way to do is use preventDefault because if some exception raised in the handler then the return false statement will be skipped and the behavior will be opposite to what you want so it's better to use event.preventDefault() method</p>\n\n<p>but if sure that the code wont trigger any exceptions then u can go with any of the method by your wish.</p>\n\n<p>if u still want to go with the return false\nthen you can put your entire handler code in try catch block like below</p>\n\n<pre><code>$('a').click(function (e) {\n  try{\n      your code here.........\n  }\n   catch(e){}\n  return false;\n});\n</code></pre>\n", "title": "event.preventDefault() vs. return false", "answer_id": 15314921, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}, {"body": "<p>My opinion from my experience saying, that it is always better to use </p>\n\n<pre><code>event.preventDefault() \n</code></pre>\n\n<p>Practically\n        to stop or prevent submit event, whenever we required rather than <code>return false</code>\n   <code>event.preventDefault()</code> works fine.</p>\n", "title": "event.preventDefault() vs. return false", "answer_id": 26098830, "question_id": 1357118, "tags": ["javascript", "jquery", "javascript-events", "event-handling", "event-propagation"]}], "question_id": 1357118}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/46898/how-do-i-iterate-over-each-entry-in-a-collection-map\">How do I iterate over each Entry in a Collection Map?</a>  </p>\n</blockquote>\n\n\n\n<p>What's the best way to iterate over the items in a <code>HashMap</code>?</p>\n", "title": "Iterate through a HashMap", "tags": ["java", "loops", "hashmap", "iteration"], "answer_count": 7, "link": "http://stackoverflow.com/questions/1066589/iterate-through-a-hashmap", "answers": [{"body": "<p>Iterate through the <a href=\"http://www.java2s.com/Code/JavaAPI/java.util/HashtableentrySet.htm\"><code>entrySet</code></a> like so:</p>\n\n<pre><code>public static void printMap(Map mp) {\n    Iterator it = mp.entrySet().iterator();\n    while (it.hasNext()) {\n        Map.Entry pair = (Map.Entry)it.next();\n        System.out.println(pair.getKey() + \" = \" + pair.getValue());\n        it.remove(); // avoids a ConcurrentModificationException\n    }\n}\n</code></pre>\n\n<p>Read more on <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\"><code>Map</code></a></p>\n", "title": "Iterate through a HashMap", "answer_id": 1066603, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}, {"body": "<p>If you're only interested in the keys, you can iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#keySet%28%29\"><code>keySet()</code></a> of the map:</p>\n\n<pre><code>Map&lt;String, Object&gt; map = ...;\n\nfor (String key : map.keySet()) {\n    // ...\n}\n</code></pre>\n\n<p>If you only need the values, use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#values%28%29\"><code>values()</code></a>:</p>\n\n<pre><code>for (Object value : map.values()) {\n    // ...\n}\n</code></pre>\n\n<p>Finally, if you want both the key and value, use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#entrySet%28%29\"><code>entrySet()</code></a>:</p>\n\n<pre><code>for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    Object value = entry.getValue();\n    // ...\n}\n</code></pre>\n\n<p>One caveat: if you want to remove items mid-iteration, you'll need to do so via an Iterator (see <a href=\"http://stackoverflow.com/questions/1066589/java-iterate-through-hashmap/1066603#1066603\">karim79's answer</a>). However, changing item values is OK (see <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Map.Entry.html\"><code>Map.Entry</code></a>).</p>\n", "title": "Iterate through a HashMap", "answer_id": 1066607, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}, {"body": "<p>Depends. If you know you're going to need both the key and the value of every entry, then go through the <code>entrySet</code>. If you just need the values, then there's the <code>values()</code> method. And if you just need the keys, then use <code>keyset()</code>.</p>\n\n<p>A bad practice would be to iterate through all of the keys, and then within the loop, always do <code>map.get(key)</code> to get the value. If you're doing that, then the first option I wrote is for you.</p>\n", "title": "Iterate through a HashMap", "answer_id": 1066614, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}, {"body": "<p>You can iterate through the entries in a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\">Map</a> in several ways. Getting each key and value like this:    </p>\n\n<pre><code>Map&lt;?,?&gt; map = new HashMap&lt;Object, Object&gt;();\nfor(Entry&lt;?, ?&gt; e: map.entrySet()){\n\tSystem.out.println(\"Key \" + e.getKey());\n\tSystem.out.println(\"Value \" + e.getValue());\n}\n</code></pre>\n\n<p>Or you can get the list of keys with</p>\n\n<pre><code>Collection&lt;?&gt; keys = map.keySet();\nfor(Object key: keys){\n    System.out.println(\"Key \" + key);\n    System.out.println(\"Value \" + map.get(key));\n}\n</code></pre>\n\n<p>If you just want to get all of the values, and aren't concerned with the keys, you can use:</p>\n\n<pre><code>Collection&lt;?&gt; values = map.values();\n</code></pre>\n", "title": "Iterate through a HashMap", "answer_id": 1066654, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}, {"body": "<p>Smarter:</p>\n\n<pre><code>for (String key : hashMap.keySet()) {\n    System.out.println(\"Key: \" + key + \", Value: \" + map.get(key));\n}\n</code></pre>\n", "title": "Iterate through a HashMap", "answer_id": 3457226, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}, {"body": "<pre><code>for (Map.Entry&lt;String, String&gt; item : params.entrySet()) {\n  String key = item.getKey();\n  String value = item.getValue();\n}\n</code></pre>\n", "title": "Iterate through a HashMap", "answer_id": 6797672, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}, {"body": "<p>Extracted from the reference <em><a href=\"http://www.sergiy.ca/how-to-iterate-over-a-map-in-java\">How to Iterate Over a Map in Java</a></em>:</p>\n\n<p>There are several ways of iterating over a <code>Map</code> in Java. Let's go over the most common methods and review their advantages and disadvantages. Since all maps in Java implement the Map interface, the following techniques will work for any map implementation (<code>HashMap</code>, <code>TreeMap</code>, <code>LinkedHashMap</code>, <code>Hashtable</code>, etc.)</p>\n\n<p><strong>Method #1</strong>: Iterating over entries using a For-Each loop.</p>\n\n<p>This is the most common method and is preferable in most cases. It should be used if you need both map keys and values in the loop.</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n\n<p>Note that the For-Each loop was introduced in Java 5, so this method is working only in newer versions of the language. Also a For-Each loop will throw <code>NullPointerException</code> if you try to iterate over a map that is null, so before iterating you should always check for null references.</p>\n\n<p><strong>Method #2</strong>: Iterating over keys or values using a For-Each loop.</p>\n\n<p>If you need only keys or values from the map, you can iterate over keySet or values instead of entrySet.</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n\n// Iterating over keys only\nfor (Integer key : map.keySet()) {\n    System.out.println(\"Key = \" + key);\n}\n\n// Iterating over values only\nfor (Integer value : map.values()) {\n    System.out.println(\"Value = \" + value);\n}\n</code></pre>\n\n<p>This method gives a slight performance advantage over <code>entrySet</code> iteration (about 10% faster) and is more clean.</p>\n\n<p><strong>Method #3</strong>: Iterating using Iterator.</p>\n\n<p>Using Generics:</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\nwhile (entries.hasNext()) {\n    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n\n<p>Without Generics:</p>\n\n<pre><code>Map map = new HashMap();\nIterator entries = map.entrySet().iterator();\nwhile (entries.hasNext()) {\n    Map.Entry entry = (Map.Entry) entries.next();\n    Integer key = (Integer)entry.getKey();\n    Integer value = (Integer)entry.getValue();\n    System.out.println(\"Key = \" + key + \", Value = \" + value);\n}\n</code></pre>\n\n<p>You can also use same technique to iterate over <code>keySet</code> or values.</p>\n\n<p>This method might look redundant, but it has its own advantages. First of all, it is the only way to iterate over a map in older versions of Java. The other important feature is that it is the only method that allows you to remove entries from the map during iteration by calling <code>iterator.remove()</code>. If you try to do this during For-Each iteration you will get \"unpredictable results\" according to <a href=\"https://en.wikipedia.org/wiki/Javadoc\">Javadoc</a>.</p>\n\n<p>From a performance point of view this method is equal to a For-Each iteration.</p>\n\n<p><strong>Method #4</strong>: Iterating over keys and searching for values (inefficient).</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (Integer key : map.keySet()) {\n    Integer value = map.get(key);\n    System.out.println(\"Key = \" + key + \", Value = \" + value);\n}\n</code></pre>\n\n<p>This might look like a cleaner alternative for method #1, but in practice it is pretty slow and inefficient as getting values by a key might be time-consuming (this method in different Map implementations is 20%-200% slower than method #1). If you have FindBugs installed, it will detect this and warn you about inefficient iteration. This method should be avoided.</p>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>If you need only keys or values from the map, use method #2. If you are stuck with older version of Java (less than 5) or planning to remove entries during iteration, you have to use method #3. Otherwise use method #1.</p>\n", "title": "Iterate through a HashMap", "answer_id": 8432400, "question_id": 1066589, "tags": ["java", "loops", "hashmap", "iteration"]}], "question_id": 1066589}, {"body": "<p>I created a local branch which I want to 'push' upstream. There is a similar question here on Stack Overflow on how to track a newly created remote branch. </p>\n\n<p>However, my workflow is slightly different. <strong>First</strong> I want to create a local branch, and I will only push it upstream when I'm satisfied and want to share my branch.</p>\n\n<ul>\n<li>How would I do that? (my google searches did not seem to come up with anything).</li>\n<li>How would I tell my colleagues to pull it from the upstream repository?</li>\n</ul>\n\n<p><strong>UPDATE With Git 2.0 there is a simpler answer</strong> I have written below: <a href=\"http://stackoverflow.com/a/27185855/109305\">http://stackoverflow.com/a/27185855/109305</a></p>\n", "title": "How do you create a remote Git branch?", "tags": ["git", "branch", "git-branch"], "answer_count": 15, "link": "http://stackoverflow.com/questions/1519006/how-do-you-create-a-remote-git-branch", "answers": [{"body": "<p>First, you create your branch locally:</p>\n\n<pre><code>git checkout -b &lt;branch-name&gt;\n</code></pre>\n\n<p>The remote branch is automatically created when you push it to the remote server. So when you feel ready for it, you can just do:</p>\n\n<pre><code>git push &lt;remote-name&gt; &lt;branch-name&gt;\n</code></pre>\n\n<p>Where <code>&lt;remote-name&gt;</code> is typically <code>origin</code>, the name which git gives to the remote you cloned from. Your colleagues would then just pull that branch, and it's automatically created locally.</p>\n\n<p>Note however that formally, the format is:</p>\n\n<pre><code>git push &lt;remote-name&gt; &lt;local-branch-name&gt;:&lt;remote-branch-name&gt;\n</code></pre>\n\n<p>But when you omit one, it assumes both branch names are the same. Having said this, as a word of <strong>caution</strong>, do not make the critical mistake of specifying only <code>:&lt;remote-branch-name&gt;</code> (with the colon), or the remote branch will be deleted!</p>\n\n<p>So that a subsequent <code>git pull</code> will know what to do, you might instead want to use:</p>\n\n<pre><code>git push -u &lt;remote-name&gt; &lt;local-branch-name&gt;\n</code></pre>\n\n<p>As described below, the <code>-u</code> option sets up an upstream branch:</p>\n\n<blockquote>\n  <p>For every branch that is up to date or\n  successfully pushed, add upstream\n  (tracking) reference, used by\n  argument-less git-pull(1) and other\n  commands.</p>\n</blockquote>\n", "title": "How do you create a remote Git branch?", "answer_id": 1519032, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>First, you must create your branch locally</p>\n\n<pre><code>git checkout -b your_branch\n</code></pre>\n\n<p>After that, you can work locally in your branch, when you are ready to share the branch, push it. The next command push the branch to the remote repository origin and tracks it</p>\n\n<pre><code>git push -u origin your_branch\n</code></pre>\n\n<p>Teammates can reach your branch, by doing:</p>\n\n<pre><code>git fetch\ngit checkout origin/your_branch\n</code></pre>\n\n<p>You can continue working in the branch and pushing whenever you want without passing arguments to git push (argumentless git push will push the master to remote master, your_branch local to remote your_branch, etc...)</p>\n\n<pre><code>git push\n</code></pre>\n\n<p>Teammates can push to your branch by doing commits and then push explicitly</p>\n\n<pre><code>... work ...\ngit commit\n... work ...\ngit commit\ngit push origin HEAD:refs/heads/your_branch\n</code></pre>\n\n<p>Or tracking the branch to avoid the arguments to git push</p>\n\n<pre><code>git checkout --track -b your_branch origin/your_branch\n... work ...\ngit commit\n... work ...\ngit commit\ngit push\n</code></pre>\n", "title": "How do you create a remote Git branch?", "answer_id": 6824219, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>As stated in the previous answers, </p>\n\n<pre><code>git push &lt;remote-name&gt; &lt;local-branch-name&gt;:&lt;remote-branch-name&gt;\n</code></pre>\n\n<p>is enough for pushing a local branch.</p>\n\n<p>Your colleagues, can pull all remote branches (including new ones) with this command:</p>\n\n<pre><code>git remote update\n</code></pre>\n\n<p>Then, to make changes on the branch, the usual flow:</p>\n\n<pre><code>git checkout -b &lt;local-branch-name&gt; &lt;remote-name&gt;/&lt;remote-branch-name&gt;\n</code></pre>\n", "title": "How do you create a remote Git branch?", "answer_id": 8645551, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Here is how you do it in eclipse through Egit.</p>\n\n<p>1) Go the \"Git Repository Exploring\" view and expland the git project to which you want to create a branch. Under Brances -> Local .. select the branch for which you want to create the branch ( In my case I selected master .. you can select another other branch if you wish) .. then right click and click on Create Branch option .. and select the checkout this project option and then click the finish button. </p>\n\n<p>2) Now from the project explorer select the project .. right click then Team -> Push Branch.</p>\n\n<p>A new remote branch will be created. You can give the name of the branch to your colleagues so that they can pull it. </p>\n", "title": "How do you create a remote Git branch?", "answer_id": 21492178, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Create a new branch locally based on the current branch:</p>\n\n<pre><code>git checkout -b newbranch\n</code></pre>\n\n<p>Commit any changes as you normally would.  Then, push it upstream:</p>\n\n<pre><code>git push -u origin HEAD\n</code></pre>\n\n<p>This is a shortcut to push the current branch to a branch of the same name on <code>origin</code> and track it so that you don't need to specify <code>origin HEAD</code> in the future.</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 21991290, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p><code>git push -u &lt;remote-name&gt; &lt;branch-name&gt;</code> doesn't work if the newly created branch isn't spawned from the same repo, i.e. if you haven't created the new branch using <code>git checkout -b new_branch</code>, then this will not work.</p>\n\n<p>For eg, I had cloned two different repositories locally and I had to copy repo2/branch1 to  repo1/ and then push it too.</p>\n\n<p><a href=\"http://cmdlinelinux.blogspot.com/2014/02/git-push-new-local-branch-cloned-from.html\" rel=\"nofollow\">This</a> link helped me push my local branch (cloned from another repo) to my remote repo:</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 21999576, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>I know this question is well answered, but just wanted to list the steps I take to create a new branch \"myNewBranch\" and push to remote (\"origin\" in my case) and set up tracking. Consider this the \"TL;DR\" version :)</p>\n\n<pre><code># create new branch and checkout that branch\ngit checkout -b myNewBranch\n# now push branch to remote \ngit push origin myNewBranch\n# set up the new branch to track remote branch from origin\ngit branch --set-upstream-to=origin/myNewBranch myNewBranch\n</code></pre>\n", "title": "How do you create a remote Git branch?", "answer_id": 26530052, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Now with git, you can just type, when you are in the correct branch</p>\n\n<p><code>git push --set-upstream origin &lt;remote-branch-name</code>></p>\n\n<p>and git create for you the origin branch.</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 26592887, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<h2>Simple post Git 2.0 solution:</h2>\n\n<p>As of <strong>Git 2.0 the behaviour has become simpler</strong>: </p>\n\n<p>You can configure git with <strong><code>push.default = current</code></strong> to make life easier:</p>\n\n<p>I added this so now I can just push a new branch upstream with</p>\n\n<pre><code>$ git push -u\n</code></pre>\n\n<p><code>-u</code> will track remote branch of same name. No with this configuration you will auto-guess the remote reference to git push. From <a href=\"http://git-scm.com/docs/git-config\">git.config documentation</a>:</p>\n\n<blockquote>\n  <p><strong>push.default</strong> </p>\n  \n  <p>Defines the action git push should take if no refspec is explicitly given.</p>\n  \n  <p><strong><code>push.default = current</code></strong> - push the current branch to update a branch with the \n  same name on the receiving end. Works in both central and non-central workflows.</p>\n</blockquote>\n\n<p>For me, this is a good simplification of my day-to-day Git workflow. The configuration setting takes care of the 'usual' use case where you add a branch locally and want to create it remotely. Also, I can just as easily create local branches from remotes by just doing <code>git co remote_branch_name</code> (as opposed to using <code>--set-upstream-to</code> flag). </p>\n\n<p>I know this question and the accepted answers are rather old, but the behaviour has changed so that now configuration options exists to make your workflow simpler. </p>\n\n<p>To add to your global Git configuration, run this on the command line:</p>\n\n<pre><code>$ git config --global push.default current\n</code></pre>\n", "title": "How do you create a remote Git branch?", "answer_id": 27185855, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>Just wanted to add that while:</p>\n\n<pre><code>git checkout -b {branchName}\n</code></pre>\n\n<p>Creates a new branch, it also checks out that branch / makes it your current branch. If, for some reason, all you want to do is snap off a branch but not make it your current branch, then you would use the following command:</p>\n\n<pre><code>git branch {branchName}\n</code></pre>\n\n<p>In the first command, \"checkout\" makes said branch your current branch, and the \"-b\" means: this branch doesn't exist yet, so make it for me.</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 29348237, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>First you create the branch locally:</p>\n\n<pre><code>git checkout -b your_branch\n</code></pre>\n\n<p>And then to create the branch remotely: </p>\n\n<pre><code>git push --set-upstream origin your_branch\n</code></pre>\n\n<p>Note: This works on the latests versions of git:</p>\n\n<pre><code>$ git --version\ngit version 2.3.0\n</code></pre>\n\n<p>Cheers!</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 29785135, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>How to do through Source Tree</p>\n\n<pre><code> 1: Open SourceTree, click on Repository -&gt; Checkout\n 2 :Click on Create New Branch\n 3: Select branch where from you want to get code for new branch \n 4: Give your branch name\n 5: Push the branch  (by click on Push button)\n</code></pre>\n", "title": "How do you create a remote Git branch?", "answer_id": 31537759, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>If you wanna actually just create remote branch without having the local one, you can do it like this:</p>\n\n<pre><code>git push origin HEAD:refs/heads/foo\n</code></pre>\n\n<p>It pushes whatever is your HEAD to branch <em>foo</em> that did not exist on the remote.</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 33920380, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<p>If you want to create a branch from the current branch</p>\n\n<pre><code>git checkout -b {your_local_branch_name} \n</code></pre>\n\n<p>you want a branch from a remote branch, you can try</p>\n\n<pre><code> git checkout -b {your_local_branch_name} origin/&lt;remote_branch_name&gt;\n</code></pre>\n\n<p>If you are done with changes you can add the file.</p>\n\n<pre><code>git add -A or git add &lt;each_file_names&gt;\n</code></pre>\n\n<p>Then do a commit locally</p>\n\n<pre><code>git commit -m 'your commit message'\n</code></pre>\n\n<p>When you want to push to remote repo</p>\n\n<pre><code>git push -u origin &lt;your_local_branch_name&gt;\n</code></pre>\n\n<p>All together will be</p>\n\n<pre><code>git checkout -b bug_fixes \n</code></pre>\n\n<p>or\nIf you want to create a branch from a remote branch say <strong>development</strong> </p>\n\n<p>git checkout -b <strong>bug_fixes</strong> origin/<strong>development</strong></p>\n\n<p>You can push to the branch to remote repo by</p>\n\n<pre><code>git push -u origin **bug_fixes**\n</code></pre>\n\n<p>Anytime you want to update your branch from any other branch say <strong>master</strong>.</p>\n\n<p><code>git pull origin master</code>.</p>\n", "title": "How do you create a remote Git branch?", "answer_id": 36963663, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}, {"body": "<blockquote>\n  <p>Create the branch on your local machine and switch in this branch :</p>\n</blockquote>\n\n<pre><code>$ git checkout -b [name_of_your_new_branch]\n</code></pre>\n\n<p>Push the branch on github :</p>\n\n<pre><code>$ git push origin [name_of_your_new_branch]\n</code></pre>\n\n<p>When you want to commit something in your branch, be sure to be in your branch.</p>\n\n<p>You can see all branches created by using :</p>\n\n<pre><code>$ git branch\n</code></pre>\n\n<p>Which will show :</p>\n\n<pre><code>* approval_messages\n  master\n  master_clean\n</code></pre>\n\n<p>Add a new remote for your branch :</p>\n\n<pre><code>$ git remote add [name_of_your_remote] \n</code></pre>\n\n<p>Push changes from your commit into your branch :</p>\n\n<pre><code>$ git push origin [name_of_your_remote]\n</code></pre>\n\n<p>Update your branch when the original branch from official repository has been updated :</p>\n\n<pre><code>$ git fetch [name_of_your_remote]\n</code></pre>\n\n<p>Then you need to apply to merge changes, if your branch is derivated from develop you need to do :</p>\n\n<pre><code>$ git merge [name_of_your_remote]/develop\n</code></pre>\n\n<p>Delete a branch on your local filesystem :</p>\n\n<pre><code>$ git branch -d [name_of_your_new_branch]\n</code></pre>\n\n<p>To force the deletion of local branch on your filesystem :</p>\n\n<pre><code>$ git branch -D [name_of_your_new_branch]\n</code></pre>\n\n<p>Delete the branch on github :</p>\n\n<pre><code>$ git push origin :[name_of_your_new_branch]\n</code></pre>\n\n<p><a href=\"https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches\">Here All Information</a></p>\n\n<p><a href=\"https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\">Other Existing project</a></p>\n", "title": "How do you create a remote Git branch?", "answer_id": 37482577, "question_id": 1519006, "tags": ["git", "branch", "git-branch"]}], "question_id": 1519006}, {"body": "<p>How do I make the first letter of a string uppercase, but not change the case of any of the other letters?</p>\n\n<p>For example:</p>\n\n<ul>\n<li>this is a test -> This is a test</li>\n<li>the Eiffel Tower -> The Eiffel Tower</li>\n<li>/index.html -> /index.html</li>\n</ul>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "tags": ["javascript", "string", "capitalize", "letter"], "answer_count": 52, "link": "http://stackoverflow.com/questions/1026069/how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript", "answers": [{"body": "<p>Another solution:</p>\n\n<pre><code>function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n</code></pre>\n\n<p>You could also add it to the <code>String.prototype</code> so you could chain it with other methods:</p>\n\n<pre><code>String.prototype.capitalizeFirstLetter = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>'string'.capitalizeFirstLetter() // String\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 1026087, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Here is a function called <strong>ucfirst()</strong> (short for \"upper case first letter\"):</p>\n\n<pre><code>function ucfirst(str) {\n    var firstLetter = str.substr(0, 1);\n    return firstLetter.toUpperCase() + str.substr(1);\n}\n</code></pre>\n\n<p>You can capitalise a string by calling <strong>ucfirst(\"some string\")</strong> -- for example,</p>\n\n<pre><code>ucfirst(\"this is a test\") --&gt; \"This is a test\"\n</code></pre>\n\n<p>It works by splitting the string into two pieces.  On the first line it pulls out <strong>firstLetter</strong> and then on the second line it capitalises <strong>firstLetter</strong> by calling <strong>firstLetter.toUpperCase()</strong> and joins it with the rest of the string, which is found by calling <strong>str.substr(1)</strong>.</p>\n\n<p>You might think this would fail for an empty string, and indeed in a language like C you would have to cater for this. However in JavaScript, when you take a substring of an empty string, you just get an empty string back.</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 1026098, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>A more object-oriented approach:</p>\n\n<pre><code>String.prototype.capitalize = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>\"hello world\".capitalize();  =&gt;  \"Hello world\" \n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 3291856, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>The <code>ucfirst</code> function works if you do it like this.</p>\n\n<pre><code>function ucfirst(str) {\n    var firstLetter = str.slice(0,1);\n    return firstLetter.toUpperCase() + str.substring(1);\n}\n</code></pre>\n\n<p>Thanks J-P for the aclaration.</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 3516699, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>String.prototype.capitalize = function(){\n    return this.replace( /(^|\\s)([a-z])/g , function(m,p1,p2){ return p1+p2.toUpperCase();\n    } );\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>capitalizedString = someString.capitalize();\n</code></pre>\n\n<p>This is a text string => This Is A Text String</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 4448825, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>If I may alter the code a little. I found that if I run an all caps string through this function, nothing happens. So... here is my tid bit. Force the string to lower case first. </p>\n\n<pre><code>String.prototype.capitalize = function(){\n    return this.toLowerCase().replace( /(^|\\s)([a-z])/g , function(m, p1, p2) {\n        return p1 + p2.toUpperCase();\n    });\n}\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 4726918, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>If you go with one of the regex answers, remember they will only work with ASCII characters. All your unicode letters will not be uppercased. The <a href=\"http://xregexp.com/plugins/\">XRegExp</a> library and its unicode plugins solve this problem if you want to stick with regexps. So something like this would work:</p>\n\n<pre><code>String.prototype.capitalize = function () {\n    return this.replace(XRegExp(\"^\\\\p{L}\"), function ($0) { return $0.toUpperCase(); })\n}\n</code></pre>\n\n<p>Considering that it still doesn't cover all possibilities (combined characters, see <a href=\"http://www.regular-expressions.info/unicode.html\">http://www.regular-expressions.info/unicode.html</a>) it seems easier to just use the .charAt(0).toUpperCase() approach.</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 5256662, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>If you are wanting to reformat all-caps text, you might want to modify the other examples as such: </p>\n\n<pre><code>function capitalize (text) {\n    return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase();\n}\n</code></pre>\n\n<p>This will ensure that the following text is changed:</p>\n\n<pre><code>TEST =&gt; Test\nThis Is A TeST =&gt; This is a test\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 6985636, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Here is a shortened version of the popular answer that gets the first letter by treating the string as an array:</p>\n\n<pre><code>function capitalize(s)\n{\n    return s[0].toUpperCase() + s.slice(1);\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>According to the comments below this doesn't work in IE 7 or below.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>To avoid <code>undefined</code> for empty strings (see <a href=\"http://stackoverflow.com/questions/1026069/capitalize-the-first-letter-of-string-in-javascript/7224605?noredirect=1#comment40995528_7224605\">@njzk2's comment below</a>), you can check for an empty string:</p>\n\n<pre><code>function capitalize(s)\n{\n    return s &amp;&amp; s[0].toUpperCase() + s.slice(1);\n}\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 7224605, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>CoffeeScript </p>\n\n<pre><code>ucfirst = (str) -&gt; str.charAt(0).toUpperCase() + str.slice(1)\n</code></pre>\n\n<p>As String prototype method:</p>\n\n<pre><code>String::capitalize = -&gt; @charAt(0).toUpperCase() + @slice(1)\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 8042309, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Capitalize the first letter of all words in a string: </p>\n\n<pre><code>function ucFirstAllWords( str )\n{\n    var pieces = str.split(\" \");\n    for ( var i = 0; i &lt; pieces.length; i++ )\n    {\n        var j = pieces[i].charAt(0).toUpperCase();\n        pieces[i] = j + pieces[i].substr(1);\n    }\n    return pieces.join(\" \");\n}\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 8330107, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>It seems to be easier in CSS: </p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    p.capitalize {text-transform:capitalize;}\n&lt;/style&gt;\n&lt;p class=\"capitalize\"&gt;This is some text.&lt;/p&gt;\n</code></pre>\n\n<p>This is from <em><a href=\"http://www.w3schools.com/cssref/pr_text_text-transform.asp\" rel=\"nofollow\">CSS text-transform Property</a></em> (at <a href=\"http://en.wikipedia.org/wiki/W3Schools\" rel=\"nofollow\">W3Schools</a>).</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 8439617, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Okay, so I am new to JavaScript. I wasn't able to get the above to work for me. So I started putting it together myself. Here's my idea (about the same, different and working syntax): </p>\n\n<pre><code>String name = request.getParameter(\"name\");\nname = name.toUpperCase().charAt(0) + name.substring(1);\nout.println(name);\n</code></pre>\n\n<p>Here I get the variable from a form (it also works manually):</p>\n\n<pre><code>String name = \"i am a Smartypants...\";\nname = name.toUpperCase().charAt(0) + name.substring(1);\nout.println(name);\n</code></pre>\n\n<p>Output: \"I am a Smartypants...\";</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 10418396, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>In CSS:</p>\n\n<pre><code>p:first-letter {\n    text-transform:capitalize;\n}\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 11524251, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>// Uppercase first letter\nfunction ucfirst(field) {\n    field.value = field.value.substr(0, 1).toUpperCase() + field.value.substr(1);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;input type=\"text\" onKeyup=\"ucfirst(this)\" /&gt;\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 11773587, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>In <a href=\"http://en.wikipedia.org/wiki/CoffeeScript\" rel=\"nofollow\">CoffeeScript</a>, add to the prototype for a string:</p>\n\n<pre><code>String::capitalize = -&gt;\n  @substr(0, 1).toUpperCase() + @substr(1)\n</code></pre>\n\n<p>Usage would be:</p>\n\n<pre><code>\"woobie\".capitalize()\n</code></pre>\n\n<p>Which yields:</p>\n\n<pre><code>\"Woobie\"\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 11974631, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>One possible solution:</p>\n\n<pre><code>function ConvertFirstCharacterToUpperCase(text) {\n    return text.substr(0, 1).toUpperCase() + text.substr(1);    \n}\n</code></pre>\n\n<p>Use this:</p>\n\n<pre><code> alert(ConvertFirstCharacterToUpperCase(\"this is string\"));\n</code></pre>\n\n<p>Here is working <a href=\"http://jsfiddle.net/zaheerahmed/ffVpc/1/\" rel=\"nofollow\">JS Fiddle</a></p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 13377128, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>yourString.replace(/^[a-z]/, function(m){ return m.toUpperCase() });\n</code></pre>\n\n<p>(You may encapsulate it in a function or even add it to the String prototype if you use it frequently.)</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 13459923, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>We could get the first character with one of my favorite <code>RegExp</code>, looks like a cute smiley: <code>/^./</code></p>\n\n<pre><code>String.prototype.capitalize = function () {\n  return this.replace(/^./, function (match) {\n    return match.toUpperCase();\n  });\n};\n</code></pre>\n\n<p>And for all coffee-junkies:</p>\n\n<pre><code>String::capitalize = -&gt;\n  @replace /^./, (match) -&gt;\n    match.toUpperCase()\n</code></pre>\n\n<p>...and for all guys who think that there's a better way of doing this, without extending native prototypes:</p>\n\n<pre><code>var capitalize = function (input) {\n  return input.replace(/^./, function (match) {\n    return match.toUpperCase();\n  });\n};\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 14889651, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>var string = \"hello world\";\nstring = string.charAt(0).toUpperCase() + string.slice(1);\nalert(string);\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 17692557, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>For another case I need it to capitalize the first letter and lowercase the rest. The following cases made me change this function:</p>\n\n<pre><code>function capitalise(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\ncapitalise(\"alfredo\")  // =&gt; \"Alfredo\"\ncapitalise(\"Alejandro\")// =&gt; \"Alejandro\ncapitalise(\"ALBERTO\")  // =&gt; \"Alberto\"\ncapitalise(\"ArMaNdO\")  // =&gt; \"Armando\"\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 17752917, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>The function takes 2 arguments: \nstart -  the start index;\nlength - the length of substring to Capitalise</p>\n\n<pre><code>    String.prototype.subUpper = function () {\n        var result = this.toString();\n        var start = 0;\n        var length = 1;\n        if (arguments.length &gt; 0) {\n            start = arguments[0];\n            if (start &lt; this.length) {\n                if (arguments.length &gt; 1) { length = arguments[1]; }\n                if (start + length &gt; this.length) {\n                    length = this.length - start;\n                }\n                var startRest = start + length;\n                var prefix = start &gt; 0 ? this.substr(0, start) : String.empty;\n                var sub = this.substr(start, length);\n                var suffix = this.substr(startRest, this.length - startRest);\n                result = prefix + sub.toUpperCase() + suffix;\n            }\n        }\n        return result;\n    };\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 20117438, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>String.prototype.capitalize=function(all){\n    if(all){\n       return this.split(' ').map(function(e){return e.capitalize();}).join(' ');\n    }else{\n         return this.charAt(0).toUpperCase() + this.slice(1);\n    }\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code> \"capitalize just the first word\".capitalize(); ==&gt; \"Capitalize just the first word\"\n  \"capitalize all words\".capitalize(true); ==&gt; \"Capitalize All Words\"\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 20292655, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>I have been trying to do same (that is; capitalize the first letter in a string while it is being typed) using jQuery. I searched all through the web for the answer but couldn't find it. However I was able to get a work around using the <code>on()</code> function in jQuery like so:</p>\n\n<pre><code>$(\"#FirstNameField\").on(\"keydown\",function(e){\n    var str = $(\"#FirstNameField\").val();\n    if(str.substring()===str.substring(0,1)){\n        $(\"#FirstNameField\").val(str.substring(0,1).toUpperCase());\n    } \n});\n</code></pre>\n\n<p>This function actually capitalizes the first letter while the data entrant is typing continuously.</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 20689525, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Here is my attempt to make a universal function that can capitalize only the first letter, or the first letter of each word, including words separated by a dash (like some first names in French).</p>\n\n<p>By default, the function capitalizes only the first letter and leave the rest untouched.</p>\n\n<p><strong>Parameters</strong>:</p>\n\n<p><strong>lc</strong>: <em>true</em> to lowercase the rest of the word(s)\n<strong>all</strong>: <em>true</em> to capitalize each words</p>\n\n<pre><code>if (typeof String.prototype.capitalize !== 'function') {\n    String.prototype.capitalize = function(lc, all) {\n        if (all) {\n            return this.split( \" \" ).map( function(currentValue, index, array ) {\n                return currentValue.capitalize( lc );\n            }, this).join(\" \").split(\"-\").map(function(currentValue, index, array) {\n                return currentValue.capitalize(false);\n            }, this).join(\"-\");\n        }\n        else {\n            return lc ? this.charAt(0).toUpperCase() + this.slice(1 ).toLowerCase() : this.charAt(0).toUpperCase() + this.slice(1);\n        }\n    }\n}\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 21605159, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Or you could use <a href=\"http://sugarjs.com/\">Sugar.js</a> <a href=\"http://sugarjs.com/api/String/capitalize\">capitalize()</a></p>\n\n<p>Example:</p>\n\n<pre><code>'hello'.capitalize()           -&gt; 'Hello'\n'hello kitty'.capitalize()     -&gt; 'Hello kitty'\n'hello kitty'.capitalize(true) -&gt; 'Hello Kitty'\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 23081552, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>var str = \"test string\";\nstr = str.substring(0,1).toUpperCase() + str.substring(1);\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 23486450, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>If you use <a href=\"http://underscorejs.org/\">underscore.js</a> or <a href=\"http://lodash.com/\">Lo-Dash</a>, the <a href=\"https://github.com/epeli/underscore.string\">underscore.string</a> library provides string extensions, including capitalize:</p>\n\n<blockquote>\n  <p>_.capitalize(string) Converts first letter of the string to\n  uppercase.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>_.capitalize(\"foo bar\") == \"Foo bar\"\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 24179268, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Here's my version, I think it's easy to understand and elegant too.</p>\n\n<pre><code>var str = \"foo bar baz\";\n\n//capitalize\nstr.split(\" \").map(function(i){return i[0].toUpperCase() + i.substring(1)}).join(\" \");\n//return \"Foo Bar Baz\"\n\n//capitalize first letter\nstr.charAt(0).toUpperCase() + str.slice(1)\n//return \"Foo bar baz\"\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 24858543, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>This is what I use religiously: </p>\n\n<pre><code>function capitalizeMe(str,force){\n    str=force ? str.toLowerCase() : str;  \n    return str.replace(/(\\b)([a-zA-Z])/g,\n    function(firstLetter){\n        return firstLetter.toUpperCase();\n    });\n}\n\nvar firstName = capitalizeMe($firstName.val());\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 25180214, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>var str = \"ruby java\";\n\nalert(str.charAt(0).toUpperCase() + str.substring(1));\n</code></pre>\n\n<p>it will return <code>\"Ruby java\"</code></p>\n\n<p><a href=\"http://jsfiddle.net/amitpandya/908c8e2v/\">http://jsfiddle.net/amitpandya/908c8e2v/</a></p>\n\n<p><a href=\"http://jsfiddle.net/amitpandya/908c8e2v/embedded/result/\">result link in jsfiddle</a></p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 26043320, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Use this module of NodeJS <a href=\"http://stringjs.com/\" rel=\"nofollow\">http://stringjs.com/</a> package to capitalize your String </p>\n\n<pre><code>var S = require('string');\nS('jon').capitalize().s; //'Jon'\nS('JP').capitalize().s; //'Jp'\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 27639544, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>var capitalizeMe = \"string not starting with capital\"\n</code></pre>\n\n<p>Capitalize with substr</p>\n\n<pre><code>var capitalized = capitalizeMe.substr(0, 1).toUpperCase() + capitalizeMe.substr(1);\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 28082478, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>I use something along these lines in my dev environment esp when working with APIs like HTTP:</p>\n\n<p>Suppose you have an HTTP header that you'd like to capitalize every initial letter in its name and add the hyphen between its constituent words, you may achieve something like that using this basic &amp; simple routine:</p>\n\n<pre><code>'access control allow origin'\n    .replace(/\\b\\w/g, function (match) {\n        return match.toUpperCase();\n    })\n    .split(' ')\n    .join('-');\n\n// Output: 'Access-Control-Allow-Origin'\n</code></pre>\n\n<p>It is not maybe the most elegant and attractive function definition out there but it certainly gets the job done.</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 28916773, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>function capitalize(string) {\n    return string.replace(/^./, capitalize.call.bind(\"\".toUpperCase));\n}\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 28949149, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>The currently voted answer is right but doesn't trim or check the length of the string before capitalising the first character.</p>\n\n<pre><code>String.prototype.ucfirst = function(notrim) {\n    s = notrim ? this : this.replace(/(?:(?:^|\\n)\\s+|\\s+(?:$|\\n))/g,'').replace(/\\s+/g,' ');\n    return s.length &gt; 0 ? s.charAt(0).toUpperCase() + s.slice(1) : s;\n}\n</code></pre>\n\n<p>Set the notrim argument to prevent trimming the string first:</p>\n\n<pre><code>'pizza'.ucfirst()         =&gt; 'Pizza'\n'   pizza'.ucfirst()      =&gt; 'Pizza'\n'   pizza'.ucfirst(true)  =&gt; '   pizza'\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 29524405, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Posting an edit of @salim's answer to include locale letter transformation.</p>\n\n<pre><code>var str = \"test string\";\nstr = str.substring(0,1).toLocaleUpperCase() + str.substring(1);\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 30123193, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>If you want to capitalize <strong>every</strong> first letter in a string, for example <code>hello to the world</code>becomes <code>Hello To The World</code> you can use the following (repurposed from Steve Harrison):</p>\n\n<pre><code>function capitalizeEveryFirstLetter(string) {\n    var splitStr = string.split(' ')\n    var fullStr = '';\n\n    $.each(splitStr,function(index){\n        var currentSplit = splitStr[index].charAt(0).toUpperCase() + splitStr[index].slice(1);\n        fullStr += currentSplit + \" \"\n    });\n\n    return fullStr;\n}\n</code></pre>\n\n<p>Which you can call by using the following:</p>\n\n<pre><code>capitalizeFirstLetter(\"hello to the world\");\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 30899649, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>function capitalize(s) {\n    // returns the first letter capitalized + the string from index 1 and out aka. the rest of the string\n    return s[0].toUpperCase() + s.substr(1);\n}\n\n\n// examples\ncapitalize('this is a test');\n=&gt; 'This is a test'\n\ncapitalize('the Eiffel Tower');\n=&gt; 'The Eiffel Tower'\n\ncapitalize('/index.html');\n=&gt; '/index.html'\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 31392914, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Checkout this solution:  </p>\n\n<pre><code>var stringVal = 'master';\nstringVal.replace(/^./, stringVal[0].toUpperCase()); // returns Master \n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 32166837, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Like it:</p>\n\n<pre><code>function capitalize(string,a) {\n    var tempstr = string.toLowerCase();\n    if (a == false || a == undefined)\n        return tempstr.replace(tempstr[0], tempstr[0].toUpperCase());\n    else {\n        return tempstr.split(\" \").map(function (i) { return i[0].toUpperCase() + i.substring(1) }).join(\" \");\n    }\n}\n\n\ncapitalize('stack overflow yeah!',true)); //Stack Overflow Yeah!\n\ncapitalize('stack stack stack stack overflow yeah!'));//Stack overflow yeah!\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/dgmLgv7b/\" rel=\"nofollow\">https://jsfiddle.net/dgmLgv7b/</a></p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 33280259, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<h3>If you're interested in the performance of a few different methods posted:</h3>\n\n<p>Here are the fastest methods based on <a href=\"http://jsperf.com/capitalize-the-first-letter-of-string-in-javascript/2\">this jsperf test</a> (ordered from fastest to slowest).</p>\n\n<p>As you can see, the first two methods are essentially comparable in terms of performance, whereas altering the <code>String.prototype</code> is by far the slowest in terms of performance.</p>\n\n<pre><code>// 10,889,187 operations/sec\nfunction capitalizeFirstLetter(string) {\n    return string[0].toUpperCase() + string.slice(1);\n}\n\n// 10,875,535 operations/sec\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n// 4,632,536 operations/sec\nfunction capitalizeFirstLetter(string) {\n    return string.replace(/^./, string[0].toUpperCase());\n}\n\n// 1,977,828 operations/sec\nString.prototype.capitalizeFirstLetter = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/tNwKk.png\"><img src=\"http://i.stack.imgur.com/tNwKk.png\" alt=\"enter image description here\"></a></p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 33704783, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>If you're already (or considering) using <code>lodash</code>, the solution is easy:</p>\n\n<p><code>_.capitalize('fred') //=&gt; 'Fred'</code></p>\n\n<p>See their docs: <a href=\"https://lodash.com/docs#capitalize\">https://lodash.com/docs#capitalize</a></p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 33980745, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>A one-liner:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'string'.replace(/(^[a-z])/,function (p) { return p.toUpperCase(); } )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 34334339, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>This does the same action:</p>\n\n<pre><code>var newStr = string.slice(0,1).toUpperCase() + string.slice(1);\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 36269686, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>This one will tolerate possible leading whitespaces and will not miss the target of the first letter in a string. Therefore, it might improve already good solutions available on the thread. </p>\n\n<pre><code>str = \"   the Eifel Tower\";\nstr.replace(/\\w/, str.match(/\\w/)[0].toUpperCase());\n&gt;&gt; \"   The Eifel Tower\";\n</code></pre>\n\n<p>!But, will cause a 'soft' error if executed against a blank string.\nTo avoid this possible error or unnecessary processing of a blank string or a number, a ternary conditional guarding can be used:</p>\n\n<pre><code>+str!=+str ?  str.replace(/\\w/, str.match(/\\w/)[0].toUpperCase()) : str;\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 36994986, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>Firstly just wanted to clear up what capitalize means in this context.\n \"<strong>T</strong>his <strong>S</strong>tring <strong>I</strong>s <strong>C</strong>apitalized\" <a href=\"https://en.wikipedia.org/wiki/Capitalization\" rel=\"nofollow\">Reliable source</a> </p>\n\n<p>You can see from the example provided this is not what the OP is looking for. What it should say is \"How do i make the first letter of a string uppercase\" (<strong>Not capitalize string</strong>)</p>\n\n<pre><code>function ucfirst (str) {\n    return typeof str !=\"undefined\"  ? (str += '', str[0].toUpperCase() + str.substr(1)) : '' ;\n}\n</code></pre>\n\n<p>Explained </p>\n\n<pre><code>typeof str !=\"undefined\" // is str set\n? // true \nstr += '' // turn the string variable into a string \nstr[0].toUpperCase() //get the first character and make it upper case\n+ // add\nstr.substr(1) // string starting from the index 1 ( starts at 0) \n: // false \n''; //return empty string\n</code></pre>\n\n<p>This will work with any argument or no argument at all.  </p>\n\n<pre><code>undefined         === \"\"\n\"\"                === \"\"\n\"my string\"       === \"My string\"\nnull              === \"Null\"\nundefined         === \"\";\nfalse             === \"False\"\n0                 === \"0\"\ntrue              === \"True\"\n[]                === \"\"\n[true,0,\"\",false] === \"True,0,,false\"\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 37077982, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>You can also use the <a href=\"http://ramdajs.com/repl/#?code=var%20doStringUpdateAtIndex%20%3D%20function%28setter%29%20%7B%0A%20%20return%20function%28index%29%20%7B%0A%20%20%20%20return%20R.compose%28%0A%20%20%20%20%20%20R.join%28%27%27%29%2C%0A%20%20%20%20%20%20R.adjust%28setter%2C%20index%29%0A%20%20%20%20%29%3B%0A%20%20%7D%3B%0A%7D%0A%0Avar%20toUpperAtIndex%20%3D%20doStringUpdateAtIndex%28R.toUpper%29%3B%0Avar%20capitalize%20%3D%20toUpperAtIndex%280%29%3B%0A%0Acapitalize%28%27capitalize%20your%20sentences%20with%20function%20composition%27%29%0A%0A%2F%2F%20%27Capitalize%20your%20sentences%20with%20function%20composition%27\" rel=\"nofollow\">ramda.js</a> library to do this in a very functional manner.</p>\n\n<pre>\nvar capitalize = R.compose(\n  R.join(''),\n  R.adjust(R.toUpper, 0)\n);\n\ncapitalize('you should capitalize this sentence!')\n\n// 'You should capitalize this sentence!'\n</pre>\n\n<pre>\nvar capitalize = R.compose(\n  R.join(''),\n  R.over(R.lensIndex(0), R.toUpper)\n);\n\ncapitalize('you can capitalize with lenses too')\n\n// 'You can capitalize with lenses too'\n</pre>\n\n<p>As a result, you can easily extract out a more generic function for reuse.</p>\n\n<pre>\nvar doStringUpdateAtIndex = function(setter) {\n  return function(index) {\n    return R.compose(\n      R.join(''),\n      R.adjust(setter, index)\n    );\n  };\n}\n\nvar toUpperAtIndex = doStringUpdateAtIndex(R.toUpper);\nvar capitalize = toUpperAtIndex(0);\n\ncapitalize('capitalize your sentences with function composition')\n\n// 'Capitalize your sentences with function composition'\n</pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 37224539, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p>For just capitalizing the first letter and make the rest of the string lower case:</p>\n\n<pre><code>function capitalize(str) {\n     var splittedEnter = str.split(\" \");\n     var capitalized;\n     var capitalizedResult;\n     for (var i = 0 ; i &lt; splittedEnter.length ; i++){\n         capitalized = splittedEnter[i].charAt(0).toUpperCase();\n         splittedEnter[i] = capitalized + splittedEnter[i].substr(1).toLowerCase();\n    }\n    return splittedEnter.join(\" \");\n}\n\ncapitalize(\"tHiS wiLL be alL CapiTaLiZED.\");\n</code></pre>\n\n<p>The result will be:</p>\n\n<blockquote>\n  <p>This Will Be All Capitalized.</p>\n</blockquote>\n\n<p>edit: Thank Peter Mortensen for edit :) </p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 37910756, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function capitalizeEachWord(str) {\r\n    return str.replace(/\\w\\S*/g, function(txt) {\r\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n    });\r\n}\r\n\r\ndocument.write(capitalizeEachWord('foo BAR God bAD'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 38438262, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre><code>var capitalized = yourstring[0].toUpperCase() + yourstring.substr(1);\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 39145344, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}, {"body": "<pre>A small improvement - every word in titlecase.</pre>\n\n<pre><code>\n\nString.prototype.toTitleCase = function(){\n  return this.replace(/\\b(\\w+)/g, function(m,p){ return p[0].toUpperCase() + p.substr(1).toLowerCase() })\n}\n\nvar s = 'heLLo wOrLD'\nconsole.log(s.toTitleCase()) // Hello World\n\n</code></pre>\n", "title": "How do I make the first letter of a string uppercase in JavaScript?", "answer_id": 39221334, "question_id": 1026069, "tags": ["javascript", "string", "capitalize", "letter"]}], "question_id": 1026069}, {"body": "<p>Optimizing SQLite is tricky. Bulk-insert performance of a C application can vary from 85 inserts per second to over 96,000 inserts per second!</p>\n\n<p><strong>Background:</strong> We are using SQLite as part of a desktop application. We have large amounts of configuration data stored in XML files that are parsed and loaded into an SQLite database for further processing when the application is initialized. SQLite is ideal for this situation because it's fast, it requires no specialized configuration, and the database is stored on disk as a single file.</p>\n\n<p><strong>Rationale:</strong> <em>Initially I was disappointed with the performance I was seeing.</em> It turns-out that the performance of SQLite can vary significantly (both for bulk-inserts and selects) depending on how the database is configured and how you're using the API. It was not a trivial matter to figure out what all of the options and techniques were, so I thought it prudent to create this community wiki entry to share the results with Stack&nbsp;Overflow readers in order to save others the trouble of the same investigations.</p>\n\n<p><strong>The Experiment:</strong> Rather than simply talking about performance tips in the general sense (i.e. <em>\"Use a transaction!\"</em>), I thought it best to write some C code and <em>actually measure</em> the impact of various options. We're going to start with some simple data:</p>\n\n<ul>\n<li>A 28 MB TAB-delimited text file (approximately 865,000 records) of the <a href=\"http://www.toronto.ca/open/datasets/ttc-routes\">complete transit schedule for the city of Toronto</a></li>\n<li>My test machine is a 3.60 GHz P4 running Windows XP.</li>\n<li>The code is compiled with <a href=\"http://en.wikipedia.org/wiki/Visual_C%2B%2B#32-bit_versions\">Visual C++</a> 2005 as \"Release\" with \"Full Optimization\" (/Ox) and Favor Fast Code (/Ot).</li>\n<li>I'm using the SQLite \"Amalgamation\", compiled directly into my test application. The SQLite version I happen to have is a bit older (3.6.7), but I suspect these results will be comparable to the latest release (please leave a comment if you think otherwise).</li>\n</ul>\n\n<p><em>Let's write some code!</em></p>\n\n<p><strong>The Code:</strong> A simple C program that reads the text file line-by-line, splits the string into values and then will inserts the data into an SQLite database. In this \"baseline\" version of the code, the database is created, but we won't actually insert data:</p>\n\n<pre><code>/*************************************************************\n    Baseline code to experiment with SQLite performance.\n\n    Input data is a 28 MB TAB-delimited text file of the\n    complete Toronto Transit System schedule/route info\n    from http://www.toronto.ca/open/datasets/ttc-routes/\n\n**************************************************************/\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n#include &lt;string.h&gt;\n#include \"sqlite3.h\"\n\n#define INPUTDATA \"C:\\\\TTC_schedule_scheduleitem_10-27-2009.txt\"\n#define DATABASE \"c:\\\\TTC_schedule_scheduleitem_10-27-2009.sqlite\"\n#define TABLE \"CREATE TABLE IF NOT EXISTS TTC (id INTEGER PRIMARY KEY, Route_ID TEXT, Branch_Code TEXT, Version INTEGER, Stop INTEGER, Vehicle_Index INTEGER, Day Integer, Time TEXT)\"\n#define BUFFER_SIZE 256\n\nint main(int argc, char **argv) {\n\n    sqlite3 * db;\n    sqlite3_stmt * stmt;\n    char * sErrMsg = 0;\n    char * tail = 0;\n    int nRetCode;\n    int n = 0;\n\n    clock_t cStartClock;\n\n    FILE * pFile;\n    char sInputBuf [BUFFER_SIZE] = \"\\0\";\n\n    char * sRT = 0;  /* Route */\n    char * sBR = 0;  /* Branch */\n    char * sVR = 0;  /* Version */\n    char * sST = 0;  /* Stop Number */\n    char * sVI = 0;  /* Vehicle */\n    char * sDT = 0;  /* Date */\n    char * sTM = 0;  /* Time */\n\n    char sSQL [BUFFER_SIZE] = \"\\0\";\n\n    /*********************************************/\n    /* Open the Database and create the Schema */\n    sqlite3_open(DATABASE, &amp;db);\n    sqlite3_exec(db, TABLE, NULL, NULL, &amp;sErrMsg);\n\n    /*********************************************/\n    /* Open input file and import into Database*/\n    cStartClock = clock();\n\n    pFile = fopen (INPUTDATA,\"r\");\n    while (!feof(pFile)) {\n\n        fgets (sInputBuf, BUFFER_SIZE, pFile);\n\n        sRT = strtok (sInputBuf, \"\\t\");     /* Get Route */\n        sBR = strtok (NULL, \"\\t\");            /* Get Branch */\n        sVR = strtok (NULL, \"\\t\");            /* Get Version */\n        sST = strtok (NULL, \"\\t\");            /* Get Stop Number */\n        sVI = strtok (NULL, \"\\t\");            /* Get Vehicle */\n        sDT = strtok (NULL, \"\\t\");            /* Get Date */\n        sTM = strtok (NULL, \"\\t\");            /* Get Time */\n\n        /* ACTUAL INSERT WILL GO HERE */\n\n        n++;\n    }\n    fclose (pFile);\n\n    printf(\"Imported %d records in %4.2f seconds\\n\", n, (clock() - cStartClock) / (double)CLOCKS_PER_SEC);\n\n    sqlite3_close(db);\n    return 0;\n}\n</code></pre>\n\n<hr>\n\n<h2>The \"Control\"</h2>\n\n<p>Running the code as-is doesn't actually perform any database operations, but it will give us an idea of how fast the raw C file I/O and string processing operations are.</p>\n\n<blockquote>\n  <p>Imported 864913 records in 0.94\n  seconds</p>\n</blockquote>\n\n<p>Great! We can do 920,000 inserts per second, provided we don't actually do any inserts :-)</p>\n\n<hr>\n\n<h2>The \"Worst-Case-Scenario\"</h2>\n\n<p>We're going to generate the SQL string using the values read from the file and invoke that SQL operation using sqlite3_exec:</p>\n\n<pre><code>sprintf(sSQL, \"INSERT INTO TTC VALUES (NULL, '%s', '%s', '%s', '%s', '%s', '%s', '%s')\", sRT, sBR, sVR, sST, sVI, sDT, sTM);\nsqlite3_exec(db, sSQL, NULL, NULL, &amp;sErrMsg);\n</code></pre>\n\n<p>This is going to be slow because the SQL will be compiled into VDBE code for every insert and every insert will happen in its own transaction. <em>How slow?</em></p>\n\n<blockquote>\n  <p>Imported 864913 records in 9933.61\n  seconds</p>\n</blockquote>\n\n<p>Yikes! 2 hours and 45 minutes! That's only <strong>85 inserts per second.</strong></p>\n\n<h2>Using a Transaction</h2>\n\n<p>By default, SQLite will evaluate every INSERT / UPDATE statement within a unique transaction. If performing a large number of inserts, it's advisable to wrap your operation in a transaction:</p>\n\n<pre><code>sqlite3_exec(db, \"BEGIN TRANSACTION\", NULL, NULL, &amp;sErrMsg);\n\npFile = fopen (INPUTDATA,\"r\");\nwhile (!feof(pFile)) {\n\n    ...\n\n}\nfclose (pFile);\n\nsqlite3_exec(db, \"END TRANSACTION\", NULL, NULL, &amp;sErrMsg);\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 38.03\n  seconds</p>\n</blockquote>\n\n<p>That's better. Simply wrapping all of our inserts in a single transaction improved our performance to <strong>23,000 inserts per second.</strong></p>\n\n<h2>Using a Prepared Statement</h2>\n\n<p>Using a transaction was a huge improvement, but recompiling the SQL statement for every insert doesn't make sense if we using the same SQL over-and-over. Let's use <code>sqlite3_prepare_v2</code> to compile our SQL statement once and then bind our parameters to that statement using <code>sqlite3_bind_text</code>:</p>\n\n<pre><code>/* Open input file and import into the database */\ncStartClock = clock();\n\nsprintf(sSQL, \"INSERT INTO TTC VALUES (NULL, @RT, @BR, @VR, @ST, @VI, @DT, @TM)\");\nsqlite3_prepare_v2(db,  sSQL, BUFFER_SIZE, &amp;stmt, &amp;tail);\n\nsqlite3_exec(db, \"BEGIN TRANSACTION\", NULL, NULL, &amp;sErrMsg);\n\npFile = fopen (INPUTDATA,\"r\");\nwhile (!feof(pFile)) {\n\n    fgets (sInputBuf, BUFFER_SIZE, pFile);\n\n    sRT = strtok (sInputBuf, \"\\t\");   /* Get Route */\n    sBR = strtok (NULL, \"\\t\");        /* Get Branch */\n    sVR = strtok (NULL, \"\\t\");        /* Get Version */\n    sST = strtok (NULL, \"\\t\");        /* Get Stop Number */\n    sVI = strtok (NULL, \"\\t\");        /* Get Vehicle */\n    sDT = strtok (NULL, \"\\t\");        /* Get Date */\n    sTM = strtok (NULL, \"\\t\");        /* Get Time */\n\n    sqlite3_bind_text(stmt, 1, sRT, -1, SQLITE_TRANSIENT);\n    sqlite3_bind_text(stmt, 2, sBR, -1, SQLITE_TRANSIENT);\n    sqlite3_bind_text(stmt, 3, sVR, -1, SQLITE_TRANSIENT);\n    sqlite3_bind_text(stmt, 4, sST, -1, SQLITE_TRANSIENT);\n    sqlite3_bind_text(stmt, 5, sVI, -1, SQLITE_TRANSIENT);\n    sqlite3_bind_text(stmt, 6, sDT, -1, SQLITE_TRANSIENT);\n    sqlite3_bind_text(stmt, 7, sTM, -1, SQLITE_TRANSIENT);\n\n    sqlite3_step(stmt);\n\n    sqlite3_clear_bindings(stmt);\n    sqlite3_reset(stmt);\n\n    n++;\n}\nfclose (pFile);\n\nsqlite3_exec(db, \"END TRANSACTION\", NULL, NULL, &amp;sErrMsg);\n\nprintf(\"Imported %d records in %4.2f seconds\\n\", n, (clock() - cStartClock) / (double)CLOCKS_PER_SEC);\n\nsqlite3_finalize(stmt);\nsqlite3_close(db);\n\nreturn 0;\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 16.27\n  seconds</p>\n</blockquote>\n\n<p>Nice! There's a little bit more code (don't forget to call <code>sqlite3_clear_bindings</code> and <code>sqlite3_reset</code>), but we've more than doubled our performance to <strong>53,000 inserts per second.</strong></p>\n\n<h2>PRAGMA synchronous = OFF</h2>\n\n<p>By default, SQLite will pause after issuing a OS-level write command. This guarantees that the data is written to the disk. By setting <code>synchronous = OFF</code>, we are instructing SQLite to simply hand-off the data to the OS for writing and then continue. There's a chance that the database file may become corrupted if the computer suffers a catastrophic crash (or power failure) before the data is written to the platter:</p>\n\n<pre><code>/* Open the database and create the schema */\nsqlite3_open(DATABASE, &amp;db);\nsqlite3_exec(db, TABLE, NULL, NULL, &amp;sErrMsg);\nsqlite3_exec(db, \"PRAGMA synchronous = OFF\", NULL, NULL, &amp;sErrMsg);\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 12.41\n  seconds</p>\n</blockquote>\n\n<p>The improvements are now smaller, but we're up to <strong>69,600 inserts per second.</strong></p>\n\n<h2>PRAGMA journal_mode = MEMORY</h2>\n\n<p>Consider storing the rollback journal in memory by evaluating <code>PRAGMA journal_mode = MEMORY</code>. Your transaction will be faster, but if you lose power or your program crashes during a transaction you database could be left in a corrupt state with a partially-completed transaction:</p>\n\n<pre><code>/* Open the database and create the schema */\nsqlite3_open(DATABASE, &amp;db);\nsqlite3_exec(db, TABLE, NULL, NULL, &amp;sErrMsg);\nsqlite3_exec(db, \"PRAGMA journal_mode = MEMORY\", NULL, NULL, &amp;sErrMsg);\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 13.50\n  seconds</p>\n</blockquote>\n\n<p>A little slower than the previous optimization at <strong>64,000 inserts per second.</strong></p>\n\n<h2>PRAGMA synchronous = OFF <em>and</em> PRAGMA journal_mode = MEMORY</h2>\n\n<p>Let's combine the previous two optimizations. It's a little more risky (in case of a crash), but we're just importing data (not running a bank):</p>\n\n<pre><code>/* Open the database and create the schema */\nsqlite3_open(DATABASE, &amp;db);\nsqlite3_exec(db, TABLE, NULL, NULL, &amp;sErrMsg);\nsqlite3_exec(db, \"PRAGMA synchronous = OFF\", NULL, NULL, &amp;sErrMsg);\nsqlite3_exec(db, \"PRAGMA journal_mode = MEMORY\", NULL, NULL, &amp;sErrMsg);\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 12.00\n  seconds</p>\n</blockquote>\n\n<p>Fantastic! We're able to do <strong>72,000 inserts per second.</strong></p>\n\n<h2>Using an In-Memory Database</h2>\n\n<p>Just for kicks, let's build upon all of the previous optimizations and redefine the database filename so we're working entirely in RAM:</p>\n\n<pre><code>#define DATABASE \":memory:\"\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 10.94\n  seconds</p>\n</blockquote>\n\n<p>It's not super-practical to store our database in RAM, but it's impressive that we can perform <strong>79,000 inserts per second.</strong></p>\n\n<h2>Refactoring C Code</h2>\n\n<p>Although not specifically an SQLite improvement, I don't like the extra <code>char*</code> assignment operations in the <code>while</code> loop. Let's quickly refactor that code to pass the output of <code>strtok()</code> directly into <code>sqlite3_bind_text()</code>, and let the compiler try to speed things up for us:</p>\n\n<pre><code>pFile = fopen (INPUTDATA,\"r\");\nwhile (!feof(pFile)) {\n\n    fgets (sInputBuf, BUFFER_SIZE, pFile);\n\n    sqlite3_bind_text(stmt, 1, strtok (sInputBuf, \"\\t\"), -1, SQLITE_TRANSIENT); /* Get Route */\n    sqlite3_bind_text(stmt, 2, strtok (NULL, \"\\t\"), -1, SQLITE_TRANSIENT);    /* Get Branch */\n    sqlite3_bind_text(stmt, 3, strtok (NULL, \"\\t\"), -1, SQLITE_TRANSIENT);    /* Get Version */\n    sqlite3_bind_text(stmt, 4, strtok (NULL, \"\\t\"), -1, SQLITE_TRANSIENT);    /* Get Stop Number */\n    sqlite3_bind_text(stmt, 5, strtok (NULL, \"\\t\"), -1, SQLITE_TRANSIENT);    /* Get Vehicle */\n    sqlite3_bind_text(stmt, 6, strtok (NULL, \"\\t\"), -1, SQLITE_TRANSIENT);    /* Get Date */\n    sqlite3_bind_text(stmt, 7, strtok (NULL, \"\\t\"), -1, SQLITE_TRANSIENT);    /* Get Time */\n\n    sqlite3_step(stmt);        /* Execute the SQL Statement */\n    sqlite3_clear_bindings(stmt);    /* Clear bindings */\n    sqlite3_reset(stmt);        /* Reset VDBE */\n\n    n++;\n}\nfclose (pFile);\n</code></pre>\n\n<p><strong>Note: We are back to using a real database file. In-memory databases are fast, but not necessarily practical</strong></p>\n\n<blockquote>\n  <p>Imported 864913 records in 8.94\n  seconds</p>\n</blockquote>\n\n<p>A slight refactoring to the string processing code used in our parameter binding has allowed us to perform <strong>96,700 inserts per second.</strong> I think it's safe to say that this is <em>plenty fast</em>. As we start to tweak other variables (i.e. page size, index creation, etc.) this will be our benchmark.</p>\n\n<hr>\n\n<h2>Summary (so far)</h2>\n\n<p><em>I hope you're still with me!</em> The reason we started down this road is that bulk-insert performance varies so wildly with SQLite, and it's not always obvious what changes need to be made to speed-up our operation. Using the same compiler (and compiler options), the same version of SQLite and the same data we've optimized our code and our usage of SQLite to go <strong>from a worst-case scenario of 85 inserts per second to over 96,000 inserts per second!</strong></p>\n\n<hr>\n\n<h2>CREATE INDEX then INSERT vs. INSERT then CREATE INDEX</h2>\n\n<p>Before we start measuring <code>SELECT</code> performance, we know that we'll be creating indexes. It's been suggested in one of the answers below that when doing bulk inserts, it is faster to create the index after the data has been inserted (as opposed to creating the index first then inserting the data). Let's try:</p>\n\n<p><strong>Create Index then Insert Data</strong></p>\n\n<pre><code>sqlite3_exec(db, \"CREATE  INDEX 'TTC_Stop_Index' ON 'TTC' ('Stop')\", NULL, NULL, &amp;sErrMsg);\nsqlite3_exec(db, \"BEGIN TRANSACTION\", NULL, NULL, &amp;sErrMsg);\n...\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 18.13\n  seconds</p>\n</blockquote>\n\n<p><strong>Insert Data then Create Index</strong></p>\n\n<pre><code>...\nsqlite3_exec(db, \"END TRANSACTION\", NULL, NULL, &amp;sErrMsg);\nsqlite3_exec(db, \"CREATE  INDEX 'TTC_Stop_Index' ON 'TTC' ('Stop')\", NULL, NULL, &amp;sErrMsg);\n</code></pre>\n\n<blockquote>\n  <p>Imported 864913 records in 13.66\n  seconds</p>\n</blockquote>\n\n<p>As expected, bulk-inserts are slower if one column is indexed, but it does make a difference if the index is created after the data is inserted. Our no-index baseline is 96,000 inserts per second. <strong>Creating the index first then inserting data gives us 47,700 inserts per second, whereas inserting the data first then creating the index gives us 63,300 inserts per second.</strong></p>\n\n<hr>\n\n<p>I'd gladly take suggestions for other scenarios to try... And will be compiling similar data for SELECT queries soon.</p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "tags": ["c", "performance", "sqlite", "optimization"], "answer_count": 7, "link": "http://stackoverflow.com/questions/1711631/improve-insert-per-second-performance-of-sqlite", "answers": [{"body": "<p>Bulk imports seems to perform best if you can chunk your <strong>INSERT/UPDATE</strong> statements.  A value of 10,000 or so has worked well for me on a table with only a few rows, YMMV...</p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 1712332, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}, {"body": "<p>Several tips:</p>\n\n<ol>\n<li>Put inserts/updates in a transaction.</li>\n<li>For older versions of SQLite - Consider a less paranoid journal mode (<code>pragma journal_mode</code>). There is <code>NORMAL</code>, and then there <code>OFF</code> which can significantly increase insert speed if you're not too worried about the database possibly getting corrupted if the OS crashes. If your application crashes the data should be fine. Note that in newer versions, the <code>OFF/MEMORY</code> settings are not safe for application level crashes.</li>\n<li>Playing with page sizes makes a difference as well (<code>PRAGMA page_size</code>). Having larger page sizes can make reads and writes go a bit faster as larger pages are held in memory. Note that more memory will be used for your database.</li>\n<li>If you have indices, consider calling <code>CREATE INDEX</code> after doing all your inserts. This is significantly faster than creating the index and then doing your inserts.</li>\n<li>You have to be quite careful if you have concurrent access to SQLite, as the whole database is locked when writes are done, and although multiple readers are possible, writes will be locked out. This has been improved somewhat with the addition of a WAL in newer SQLite versions.</li>\n<li>Take advantage of saving space...smaller databases go faster. For instance, if you have key value pairs, try making the key an <code>INTEGER PRIMARY KEY</code> if possible, which will replace the implied unique row number column in the table.</li>\n<li>If you are using multiple threads, you can try using the <a href=\"http://sqlite.org/c3ref/enable_shared_cache.html\">shared page cache</a>, which will allow loaded pages to be shared between threads, which can avoid expensive I/O calls.</li>\n</ol>\n\n<p>I've also asked similar questions <a href=\"http://stackoverflow.com/questions/784173/what-are-the-performance-characteristics-of-sqlite-with-very-large-database-files\">here</a> and <a href=\"http://stackoverflow.com/questions/768708/are-there-known-issues-with-using-sqlite-and-file-locking-on-different-platforms\">here</a>.</p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 1712873, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}, {"body": "<h2>On bulk inserts</h2>\n\n<p>Inspired by this post and by the Stack Overflow question that led me here -- <a href=\"http://stackoverflow.com/questions/1609637/is-it-possible-to-insert-multiple-rows-at-a-time-in-an-sqlite-database\">Is it possible to insert multiple rows at a time in an SQLite database?</a> -- I've posted my first <a href=\"http://en.wikipedia.org/wiki/Git_%28software%29\">Git</a> repository:</p>\n\n<p><s><a href=\"https://github.com/rdpoor/CreateOrUpdate\">https://github.com/rdpoor/CreateOrUpdate</a></s></p>\n\n<p>which bulk loads an array of ActiveRecords into <a href=\"http://en.wikipedia.org/wiki/MySQL\">MySQL</a>, SQLite or <a href=\"http://en.wikipedia.org/wiki/PostgreSQL\">PostgreSQL</a> databases. It includes an option to ignore existing records, overwrite them or raise an error. My rudimentary benchmarks show a 10x speed improvement compared to sequential writes -- YMMV.</p>\n\n<p>I'm using it in production code where I frequently need to import large datasets, and I'm pretty happy with it.  </p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 6074421, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}, {"body": "<p><strong>Avoid sqlite3_clear_bindings(stmt);</strong></p>\n\n<p>The code in the test sets the bindings every time through which should be enough.</p>\n\n<p>The C API intro from the SQLite docs says </p>\n\n<blockquote>\n  <p>Prior to calling sqlite3_step() for the first time or immediately\n  after sqlite3_reset(), the application can invoke one of the\n  sqlite3_bind() interfaces to attach values to the parameters. Each\n  call to sqlite3_bind() overrides prior bindings on the same parameter</p>\n</blockquote>\n\n<p>(see: <a href=\"https://www.sqlite.org/cintro.html\">sqlite.org/cintro.html</a>). There is nothing in the docs for <a href=\"https://www.sqlite.org/c3ref/clear_bindings.html\">that function</a> saying you must call it in addition to simply setting the bindings.</p>\n\n<p>More detail: <a href=\"http://www.hoogli.com/blogs/micro/index.html#Avoid_sqlite3_clear_bindings%28%29\">http://www.hoogli.com/blogs/micro/index.html#Avoid_sqlite3_clear_bindings()</a></p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 11867047, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}, {"body": "<p>If you care only about reading, somewhat faster (but might read stale data) version is to read from multiple connections from multiple threads (connection per-thread).</p>\n\n<p>First find the items, in the table:</p>\n\n<pre><code> SELECT COUNT(*) FROM table\n</code></pre>\n\n<p>then read in pages (LIMIT/OFFSET)</p>\n\n<pre><code>  SELECT * FROM table ORDER BY _ROWID_ LIMIT &lt;limit&gt; OFFSET &lt;offset&gt;\n</code></pre>\n\n<p>where  and  are calculated per-thread, like this:</p>\n\n<pre><code>int limit = (count + n_threads - 1)/n_threads;\n</code></pre>\n\n<p>for each thread:</p>\n\n<pre><code>int offset = thread_index * limit\n</code></pre>\n\n<p>For our small (200mb) db this made 50-75% speed-up (3.8.0.2 64-bit on Windows 7). Our tables are heavily non-normalized (1000-1500 columns, roughly 100,000 or more rows).</p>\n\n<p>Too many or too little threads won't do it, you need to benchmark and profile yourself.</p>\n\n<p>Also for us, SHAREDCACHE made the performance slower, so I manually put PRIVATECACHE (cause it was enabled globally for us)</p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 24029046, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}, {"body": "<p>Try using <code>SQLITE_STATIC</code> instead of <code>SQLITE_TRANSIENT</code> for those inserts. </p>\n\n<p><code>SQLITE_TRANSIENT</code> will cause SQLite to copy the string data before returning. </p>\n\n<p><code>SQLITE_STATIC</code> tells it that the memory address you gave it will be valid until the query has been performed (which in this loop is always the case). This will save you several allocate, copy and deallocate operations per loop. Possibly a large improvement.</p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 25896103, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}, {"body": "<p>I coudn't get any gain from transactions until I raised cache_size to a higher value i.e.  <code>PRAGMA cache_size=10000;</code></p>\n", "title": "Improve INSERT-per-second performance of SQLite?", "answer_id": 29646948, "question_id": 1711631, "tags": ["c", "performance", "sqlite", "optimization"]}], "question_id": 1711631}, {"body": "<p>How can I make two decorators in Python that would do the following?</p>\n\n<pre><code>@makebold\n@makeitalic\ndef say():\n   return \"Hello\"\n</code></pre>\n\n<p>...which should return:</p>\n\n<pre><code>\"&lt;b&gt;&lt;i&gt;Hello&lt;/i&gt;&lt;/b&gt;\"\n</code></pre>\n\n<p>I'm not trying to make <code>HTML</code> this way in a real application - just trying to understand how decorators and decorator chaining works.</p>\n", "title": "How to make a chain of function decorators in Python?", "tags": ["python", "decorator", "python-decorators"], "answer_count": 15, "link": "http://stackoverflow.com/questions/739654/how-to-make-a-chain-of-function-decorators-in-python", "answers": [{"body": "<p>Check out <a href=\"http://docs.python.org/reference/compound_stmts.html#function\">the documentation</a> to see how decorators work. Here is what you asked for:</p>\n\n<pre><code>def makebold(fn):\n    def wrapped():\n        return \"&lt;b&gt;\" + fn() + \"&lt;/b&gt;\"\n    return wrapped\n\ndef makeitalic(fn):\n    def wrapped():\n        return \"&lt;i&gt;\" + fn() + \"&lt;/i&gt;\"\n    return wrapped\n\n@makebold\n@makeitalic\ndef hello():\n    return \"hello world\"\n\nprint hello() ## returns \"&lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt;\"\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 739665, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>Python decorators add extra functionality to another function</p>\n\n<p>An italics decorator could be like</p>\n\n<pre><code>def makeitalic(fn):\n    def newFunc():\n        return \"&lt;i&gt;\" + fn() + \"&lt;/i&gt;\"\n    return newFunc\n</code></pre>\n\n<p>Note that a function is defined inside a function.\nWhat it basically does is replace a function with the newly defined one. For example, I have this class</p>\n\n<pre><code>class foo:\n    def bar(self):\n        print \"hi\"\n    def foobar(self):\n        print \"hi again\"\n</code></pre>\n\n<p>Now say, I want both functions to print \"---\" after and before they are done.\nI could add a print \"---\" before and after each print statement.\nBut because I don't like repeating myself, I will make a decorator</p>\n\n<pre><code>def addDashes(fn): # notice it takes a function as an argument\n    def newFunction(self): # define a new function\n        print \"---\"\n        fn(self) # call the original function\n        print \"---\"\n    return newFunction\n    # Return the newly defined function - it will \"replace\" the original\n</code></pre>\n\n<p>So now I can change my class to </p>\n\n<pre><code>class foo:\n    @addDashes\n    def bar(self):\n        print \"hi\"\n\n    @addDashes\n    def foobar(self):\n        print \"hi again\"\n</code></pre>\n\n<p>For more on decorators, check\n<a href=\"http://www.ibm.com/developerworks/linux/library/l-cpdecor.html\">http://www.ibm.com/developerworks/linux/library/l-cpdecor.html</a></p>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 739667, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>Alternatively, you could write a factory function which return a decorator which wraps the return value of the decorated function in a tag passed to the factory function. For example:</p>\n\n<pre><code>from functools import wraps\n\ndef wrap_in_tag(tag):\n    def factory(func):\n        @wraps(func)\n        def decorator():\n            return '&lt;%(tag)s&gt;%(rv)s&lt;/%(tag)s&gt;' % (\n                {'tag': tag, 'rv': func()})\n        return decorator\n    return factory\n</code></pre>\n\n<p>This enables you to write:</p>\n\n<pre><code>@wrap_in_tag('b')\n@wrap_in_tag('i')\ndef say():\n    return 'hello'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>makebold = wrap_in_tag('b')\nmakeitalic = wrap_in_tag('i')\n\n@makebold\n@makeitalic\ndef say():\n    return 'hello'\n</code></pre>\n\n<p>Personally I would have written the decorator somewhat differently:</p>\n\n<pre><code>from functools import wraps\n\ndef wrap_in_tag(tag):\n    def factory(func):\n        @wraps(func)\n        def decorator(val):\n            return func('&lt;%(tag)s&gt;%(val)s&lt;/%(tag)s&gt;' %\n                        {'tag': tag, 'val': val})\n        return decorator\n    return factory\n</code></pre>\n\n<p>which would yield:</p>\n\n<pre><code>@wrap_in_tag('b')\n@wrap_in_tag('i')\ndef say(val):\n    return val\nsay('hello')\n</code></pre>\n\n<p>Don't forget the construction for which decorator syntax is a shorthand:</p>\n\n<pre><code>say = wrap_in_tag('b')(wrap_in_tag('i')(say)))\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 739679, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>It looks like the other people have already told you how to solve the problem. I hope this will help you understand what decorators are.</p>\n\n<p>Decorators are just syntactical sugar.</p>\n\n<p>This</p>\n\n<pre><code>@decorator\ndef func():\n    ...\n</code></pre>\n\n<p>expands to    </p>\n\n<pre><code>def func():\n    ...\nfunc = decorator(func)\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 739721, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>If you are not into long explanations, see <a href=\"http://stackoverflow.com/questions/739654/understanding-python-decorators#answer-739665\">Paolo Bergantino\u2019s answer</a>.</p>\n\n<h1>Decorator Basics</h1>\n\n<h2>Python\u2019s functions are objects</h2>\n\n<p>To understand decorators, you must first understand that functions are objects in Python. This has important consequences. Let\u2019s see why with a simple example :</p>\n\n<pre><code>def shout(word=\"yes\"):\n    return word.capitalize()+\"!\"\n\nprint(shout())\n# outputs : 'Yes!'\n\n# As an object, you can assign the function to a variable like any other object \nscream = shout\n\n# Notice we don't use parentheses: we are not calling the function, we are putting the function \"shout\" into the variable \"scream\". It means you can then call \"shout\" from \"scream\":\n\nprint(scream())\n# outputs : 'Yes!'\n\n# More than that, it means you can remove the old name 'shout', and the function will still be accessible from 'scream'\n\ndel shout\ntry:\n    print(shout())\nexcept NameError, e:\n    print(e)\n    #outputs: \"name 'shout' is not defined\"\n\nprint(scream())\n# outputs: 'Yes!'\n</code></pre>\n\n<p>Keep this in mind. We\u2019ll circle back to it shortly. </p>\n\n<p>Another interesting property of Python functions is they can be defined inside another function!</p>\n\n<pre><code>def talk():\n\n    # You can define a function on the fly in \"talk\" ...\n    def whisper(word=\"yes\"):\n        return word.lower()+\"...\"\n\n    # ... and use it right away!\n    print(whisper())\n\n# You call \"talk\", that defines \"whisper\" EVERY TIME you call it, then\n# \"whisper\" is called in \"talk\". \ntalk()\n# outputs: \n# \"yes...\"\n\n# But \"whisper\" DOES NOT EXIST outside \"talk\":\n\ntry:\n    print(whisper())\nexcept NameError, e:\n    print(e)\n    #outputs : \"name 'whisper' is not defined\"*\n    #Python's functions are objects\n</code></pre>\n\n<h2>Functions references</h2>\n\n<p>Okay, still here? Now the fun part...</p>\n\n<p>You\u2019ve seen that functions are objects. Therefore, functions:</p>\n\n<ul>\n<li>can be assigned to a variable</li>\n<li>can be defined in another function</li>\n</ul>\n\n<p>That means that <strong>a function can <code>return</code> another function</strong>.</p>\n\n<pre><code>def getTalk(kind=\"shout\"):\n\n    # We define functions on the fly\n    def shout(word=\"yes\"):\n        return word.capitalize()+\"!\"\n\n    def whisper(word=\"yes\") :\n        return word.lower()+\"...\";\n\n    # Then we return one of them\n    if kind == \"shout\":\n        # We don't use \"()\", we are not calling the function, we are returning the function object\n        return shout  \n    else:\n        return whisper\n\n# How do you use this strange beast?\n\n# Get the function and assign it to a variable\ntalk = getTalk()      \n\n# You can see that \"talk\" is here a function object:\nprint(talk)\n#outputs : &lt;function shout at 0xb7ea817c&gt;\n\n# The object is the one returned by the function:\nprint(talk())\n#outputs : Yes!\n\n# And you can even use it directly if you feel wild:\nprint(getTalk(\"whisper\")())\n#outputs : yes...\n</code></pre>\n\n<p>There\u2019s more! </p>\n\n<p>If you can <code>return</code> a function, you can pass one as a parameter:</p>\n\n<pre><code>def doSomethingBefore(func): \n    print(\"I do something before then I call the function you gave me\")\n    print(func())\n\ndoSomethingBefore(scream)\n#outputs: \n#I do something before then I call the function you gave me\n#Yes!\n</code></pre>\n\n<p>Well, you just have everything needed to understand decorators. You see, decorators are \u201cwrappers\u201d, which means that <strong>they let you execute code before and after the function they decorate</strong> without modifying the function itself.</p>\n\n<h2>Handcrafted decorators</h2>\n\n<p>How you\u2019d do it manually:</p>\n\n<pre><code># A decorator is a function that expects ANOTHER function as parameter\ndef my_shiny_new_decorator(a_function_to_decorate):\n\n    # Inside, the decorator defines a function on the fly: the wrapper.\n    # This function is going to be wrapped around the original function\n    # so it can execute code before and after it.\n    def the_wrapper_around_the_original_function():\n\n        # Put here the code you want to be executed BEFORE the original function is called\n        print(\"Before the function runs\")\n\n        # Call the function here (using parentheses)\n        a_function_to_decorate()\n\n        # Put here the code you want to be executed AFTER the original function is called\n        print(\"After the function runs\")\n\n    # At this point, \"a_function_to_decorate\" HAS NEVER BEEN EXECUTED.\n    # We return the wrapper function we have just created.\n    # The wrapper contains the function and the code to execute before and after. It\u2019s ready to use!\n    return the_wrapper_around_the_original_function\n\n# Now imagine you create a function you don't want to ever touch again.\ndef a_stand_alone_function():\n    print(\"I am a stand alone function, don't you dare modify me\")\n\na_stand_alone_function() \n#outputs: I am a stand alone function, don't you dare modify me\n\n# Well, you can decorate it to extend its behavior.\n# Just pass it to the decorator, it will wrap it dynamically in \n# any code you want and return you a new function ready to be used:\n\na_stand_alone_function_decorated = my_shiny_new_decorator(a_stand_alone_function)\na_stand_alone_function_decorated()\n#outputs:\n#Before the function runs\n#I am a stand alone function, don't you dare modify me\n#After the function runs\n</code></pre>\n\n<p>Now, you probably want that every time you call <code>a_stand_alone_function</code>, <code>a_stand_alone_function_decorated</code> is called instead. That\u2019s easy, just overwrite <code>a_stand_alone_function</code> with the function returned by <code>my_shiny_new_decorator</code>:</p>\n\n<pre><code>a_stand_alone_function = my_shiny_new_decorator(a_stand_alone_function)\na_stand_alone_function()\n#outputs:\n#Before the function runs\n#I am a stand alone function, don't you dare modify me\n#After the function runs\n\n# That\u2019s EXACTLY what decorators do!\n</code></pre>\n\n<h2>Decorators demystified</h2>\n\n<p>The previous example, using the decorator syntax:</p>\n\n<pre><code>@my_shiny_new_decorator\ndef another_stand_alone_function():\n    print(\"Leave me alone\")\n\nanother_stand_alone_function()  \n#outputs:  \n#Before the function runs\n#Leave me alone\n#After the function runs\n</code></pre>\n\n<p>Yes, that\u2019s all, it\u2019s that simple. <code>@decorator</code> is just a shortcut to:</p>\n\n<pre><code>another_stand_alone_function = my_shiny_new_decorator(another_stand_alone_function)\n</code></pre>\n\n<p>Decorators are just a pythonic variant of the <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\">decorator design pattern</a>. There are several classic design patterns embedded in Python to ease development (like iterators).</p>\n\n<p>Of course, you can accumulate decorators:</p>\n\n<pre><code>def bread(func):\n    def wrapper():\n        print(\"&lt;/''''''\\&gt;\")\n        func()\n        print(\"&lt;\\______/&gt;\")\n    return wrapper\n\ndef ingredients(func):\n    def wrapper():\n        print(\"#tomatoes#\")\n        func()\n        print(\"~salad~\")\n    return wrapper\n\ndef sandwich(food=\"--ham--\"):\n    print(food)\n\nsandwich()\n#outputs: --ham--\nsandwich = bread(ingredients(sandwich))\nsandwich()\n#outputs:\n#&lt;/''''''\\&gt;\n# #tomatoes#\n# --ham--\n# ~salad~\n#&lt;\\______/&gt;\n</code></pre>\n\n<p>Using the Python decorator syntax:</p>\n\n<pre><code>@bread\n@ingredients\ndef sandwich(food=\"--ham--\"):\n    print(food)\n\nsandwich()\n#outputs:\n#&lt;/''''''\\&gt;\n# #tomatoes#\n# --ham--\n# ~salad~\n#&lt;\\______/&gt;\n</code></pre>\n\n<p>The order you set the decorators MATTERS:</p>\n\n<pre><code>@ingredients\n@bread\ndef strange_sandwich(food=\"--ham--\"):\n    print(food)\n\nstrange_sandwich()\n#outputs:\n##tomatoes#\n#&lt;/''''''\\&gt;\n# --ham--\n#&lt;\\______/&gt;\n# ~salad~\n</code></pre>\n\n<hr>\n\n<h1>Now: to answer the question...</h1>\n\n<p>As a conclusion, you can easily see how to answer the question:</p>\n\n<pre><code># The decorator to make it bold\ndef makebold(fn):\n    # The new function the decorator returns\n    def wrapper():\n        # Insertion of some code before and after\n        return \"&lt;b&gt;\" + fn() + \"&lt;/b&gt;\"\n    return wrapper\n\n# The decorator to make it italic\ndef makeitalic(fn):\n    # The new function the decorator returns\n    def wrapper():\n        # Insertion of some code before and after\n        return \"&lt;i&gt;\" + fn() + \"&lt;/i&gt;\"\n    return wrapper\n\n@makebold\n@makeitalic\ndef say():\n    return \"hello\"\n\nprint(say())\n#outputs: &lt;b&gt;&lt;i&gt;hello&lt;/i&gt;&lt;/b&gt;\n\n# This is the exact equivalent to \ndef say():\n    return \"hello\"\nsay = makebold(makeitalic(say))\n\nprint(say())\n#outputs: &lt;b&gt;&lt;i&gt;hello&lt;/i&gt;&lt;/b&gt;\n</code></pre>\n\n<p>You can now just leave happy, or burn your brain a little bit more and see advanced uses of decorators.</p>\n\n<hr>\n\n<h1>Taking decorators to the next level</h1>\n\n<h2>Passing arguments to the decorated function</h2>\n\n<pre><code># It\u2019s not black magic, you just have to let the wrapper \n# pass the argument:\n\ndef a_decorator_passing_arguments(function_to_decorate):\n    def a_wrapper_accepting_arguments(arg1, arg2):\n        print(\"I got args! Look: {0}, {1}\".format(arg1, arg2))\n        function_to_decorate(arg1, arg2)\n    return a_wrapper_accepting_arguments\n\n# Since when you are calling the function returned by the decorator, you are\n# calling the wrapper, passing arguments to the wrapper will let it pass them to \n# the decorated function\n\n@a_decorator_passing_arguments\ndef print_full_name(first_name, last_name):\n    print(\"My name is {0} {1}\".format(first_name, last_name))\n\nprint_full_name(\"Peter\", \"Venkman\")\n# outputs:\n#I got args! Look: Peter Venkman\n#My name is Peter Venkman\n</code></pre>\n\n<h2>Decorating methods</h2>\n\n<p>One nifty thing about Python is that methods and functions are really the same.  The only difference is that methods expect that their first argument is a reference to the current object (<code>self</code>). </p>\n\n<p>That means you can build a decorator for methods the same way! Just remember to take <code>self</code> into consideration:</p>\n\n<pre><code>def method_friendly_decorator(method_to_decorate):\n    def wrapper(self, lie):\n        lie = lie - 3 # very friendly, decrease age even more :-)\n        return method_to_decorate(self, lie)\n    return wrapper\n\n\nclass Lucy(object):\n\n    def __init__(self):\n        self.age = 32\n\n    @method_friendly_decorator\n    def sayYourAge(self, lie):\n        print(\"I am {0}, what did you think?\".format(self.age + lie))\n\nl = Lucy()\nl.sayYourAge(-3)\n#outputs: I am 26, what did you think?\n</code></pre>\n\n<p>If you\u2019re making general-purpose decorator--one you\u2019ll apply to any function or method, no matter its arguments--then just use <code>*args, **kwargs</code>:</p>\n\n<pre><code>def a_decorator_passing_arbitrary_arguments(function_to_decorate):\n    # The wrapper accepts any arguments\n    def a_wrapper_accepting_arbitrary_arguments(*args, **kwargs):\n        print(\"Do I have args?:\")\n        print(args)\n        print(kwargs)\n        # Then you unpack the arguments, here *args, **kwargs\n        # If you are not familiar with unpacking, check:\n        # http://www.saltycrane.com/blog/2008/01/how-to-use-args-and-kwargs-in-python/\n        function_to_decorate(*args, **kwargs)\n    return a_wrapper_accepting_arbitrary_arguments\n\n@a_decorator_passing_arbitrary_arguments\ndef function_with_no_argument():\n    print(\"Python is cool, no argument here.\")\n\nfunction_with_no_argument()\n#outputs\n#Do I have args?:\n#()\n#{}\n#Python is cool, no argument here.\n\n@a_decorator_passing_arbitrary_arguments\ndef function_with_arguments(a, b, c):\n    print(a, b, c)\n\nfunction_with_arguments(1,2,3)\n#outputs\n#Do I have args?:\n#(1, 2, 3)\n#{}\n#1 2 3 \n\n@a_decorator_passing_arbitrary_arguments\ndef function_with_named_arguments(a, b, c, platypus=\"Why not ?\"):\n    print(\"Do {0}, {1} and {2} like platypus? {3}\".format(a, b, c, platypus))\n\nfunction_with_named_arguments(\"Bill\", \"Linus\", \"Steve\", platypus=\"Indeed!\")\n#outputs\n#Do I have args ? :\n#('Bill', 'Linus', 'Steve')\n#{'platypus': 'Indeed!'}\n#Do Bill, Linus and Steve like platypus? Indeed!\n\nclass Mary(object):\n\n    def __init__(self):\n        self.age = 31\n\n    @a_decorator_passing_arbitrary_arguments\n    def sayYourAge(self, lie=-3): # You can now add a default value\n        print(\"I am {0}, what did you think?\".format(self.age + lie))\n\nm = Mary()\nm.sayYourAge()\n#outputs\n# Do I have args?:\n#(&lt;__main__.Mary object at 0xb7d303ac&gt;,)\n#{}\n#I am 28, what did you think?\n</code></pre>\n\n<h2>Passing arguments to the decorator</h2>\n\n<p>Great, now what would you say about passing arguments to the decorator itself? </p>\n\n<p>This can get somewhat twisted, since a decorator must accept a function as an argument. Therefore, you cannot pass the decorated function\u2019s arguments directly to the decorator.</p>\n\n<p>Before rushing to the solution, let\u2019s write a little reminder: </p>\n\n<pre><code># Decorators are ORDINARY functions\ndef my_decorator(func):\n    print(\"I am an ordinary function\")\n    def wrapper():\n        print(\"I am function returned by the decorator\")\n        func()\n    return wrapper\n\n# Therefore, you can call it without any \"@\"\n\ndef lazy_function():\n    print(\"zzzzzzzz\")\n\ndecorated_function = my_decorator(lazy_function)\n#outputs: I am an ordinary function\n\n# It outputs \"I am an ordinary function\", because that\u2019s just what you do:\n# calling a function. Nothing magic.\n\n@my_decorator\ndef lazy_function():\n    print(\"zzzzzzzz\")\n\n#outputs: I am an ordinary function\n</code></pre>\n\n<p>It\u2019s exactly the same. \"<code>my_decorator</code>\" is called. So when you <code>@my_decorator</code>, you are telling Python to call the function 'labelled by the variable \"<code>my_decorator</code>\"'. </p>\n\n<p>This is important! The label you give can point directly to the decorator\u2014<strong>or not</strong>. </p>\n\n<p>Let\u2019s get evil. \u263a</p>\n\n<pre><code>def decorator_maker():\n\n    print(\"I make decorators! I am executed only once: \"\n          \"when you make me create a decorator.\")\n\n    def my_decorator(func):\n\n        print(\"I am a decorator! I am executed only when you decorate a function.\")\n\n        def wrapped():\n            print(\"I am the wrapper around the decorated function. \"\n                  \"I am called when you call the decorated function. \"\n                  \"As the wrapper, I return the RESULT of the decorated function.\")\n            return func()\n\n        print(\"As the decorator, I return the wrapped function.\")\n\n        return wrapped\n\n    print(\"As a decorator maker, I return a decorator\")\n    return my_decorator\n\n# Let\u2019s create a decorator. It\u2019s just a new function after all.\nnew_decorator = decorator_maker()       \n#outputs:\n#I make decorators! I am executed only once: when you make me create a decorator.\n#As a decorator maker, I return a decorator\n\n# Then we decorate the function\n\ndef decorated_function():\n    print(\"I am the decorated function.\")\n\ndecorated_function = new_decorator(decorated_function)\n#outputs:\n#I am a decorator! I am executed only when you decorate a function.\n#As the decorator, I return the wrapped function\n\n# Let\u2019s call the function:\ndecorated_function()\n#outputs:\n#I am the wrapper around the decorated function. I am called when you call the decorated function.\n#As the wrapper, I return the RESULT of the decorated function.\n#I am the decorated function.\n</code></pre>\n\n<p>No surprise here. </p>\n\n<p>Let\u2019s do EXACTLY the same thing, but skip all the pesky intermediate variables:</p>\n\n<pre><code>def decorated_function():\n    print(\"I am the decorated function.\")\ndecorated_function = decorator_maker()(decorated_function)\n#outputs:\n#I make decorators! I am executed only once: when you make me create a decorator.\n#As a decorator maker, I return a decorator\n#I am a decorator! I am executed only when you decorate a function.\n#As the decorator, I return the wrapped function.\n\n# Finally:\ndecorated_function()    \n#outputs:\n#I am the wrapper around the decorated function. I am called when you call the decorated function.\n#As the wrapper, I return the RESULT of the decorated function.\n#I am the decorated function.\n</code></pre>\n\n<p>Let\u2019s make it <em>even shorter</em>:</p>\n\n<pre><code>@decorator_maker()\ndef decorated_function():\n    print(\"I am the decorated function.\")\n#outputs:\n#I make decorators! I am executed only once: when you make me create a decorator.\n#As a decorator maker, I return a decorator\n#I am a decorator! I am executed only when you decorate a function.\n#As the decorator, I return the wrapped function.\n\n#Eventually: \ndecorated_function()    \n#outputs:\n#I am the wrapper around the decorated function. I am called when you call the decorated function.\n#As the wrapper, I return the RESULT of the decorated function.\n#I am the decorated function.\n</code></pre>\n\n<p>Hey, did you see that? We used a function call with the \"<code>@</code>\" syntax! :-)</p>\n\n<p>So, back to decorators with arguments. If we can use functions to generate the decorator on the fly, we can pass arguments to that function, right?</p>\n\n<pre><code>def decorator_maker_with_arguments(decorator_arg1, decorator_arg2):\n\n    print(\"I make decorators! And I accept arguments: {0}, {1}\".format(decorator_arg1, decorator_arg2))\n\n    def my_decorator(func):\n        # The ability to pass arguments here is a gift from closures.\n        # If you are not comfortable with closures, you can assume it\u2019s ok,\n        # or read: http://stackoverflow.com/questions/13857/can-you-explain-closures-as-they-relate-to-python\n        print(\"I am the decorator. Somehow you passed me arguments: {0}, {1}\".format(decorator_arg1, decorator_arg2))\n\n        # Don't confuse decorator arguments and function arguments!\n        def wrapped(function_arg1, function_arg2) :\n            print(\"I am the wrapper around the decorated function.\\n\"\n                  \"I can access all the variables\\n\"\n                  \"\\t- from the decorator: {0} {1}\\n\"\n                  \"\\t- from the function call: {2} {3}\\n\"\n                  \"Then I can pass them to the decorated function\"\n                  .format(decorator_arg1, decorator_arg2,\n                          function_arg1, function_arg2))\n            return func(function_arg1, function_arg2)\n\n        return wrapped\n\n    return my_decorator\n\n@decorator_maker_with_arguments(\"Leonard\", \"Sheldon\")\ndef decorated_function_with_arguments(function_arg1, function_arg2):\n    print(\"I am the decorated function and only knows about my arguments: {0}\"\n           \" {1}\".format(function_arg1, function_arg2))\n\ndecorated_function_with_arguments(\"Rajesh\", \"Howard\")\n#outputs:\n#I make decorators! And I accept arguments: Leonard Sheldon\n#I am the decorator. Somehow you passed me arguments: Leonard Sheldon\n#I am the wrapper around the decorated function. \n#I can access all the variables \n#   - from the decorator: Leonard Sheldon \n#   - from the function call: Rajesh Howard \n#Then I can pass them to the decorated function\n#I am the decorated function and only knows about my arguments: Rajesh Howard\n</code></pre>\n\n<p>Here it is: a decorator with arguments. Arguments can be set as variable:</p>\n\n<pre><code>c1 = \"Penny\"\nc2 = \"Leslie\"\n\n@decorator_maker_with_arguments(\"Leonard\", c1)\ndef decorated_function_with_arguments(function_arg1, function_arg2):\n    print(\"I am the decorated function and only knows about my arguments:\"\n           \" {0} {1}\".format(function_arg1, function_arg2))\n\ndecorated_function_with_arguments(c2, \"Howard\")\n#outputs:\n#I make decorators! And I accept arguments: Leonard Penny\n#I am the decorator. Somehow you passed me arguments: Leonard Penny\n#I am the wrapper around the decorated function. \n#I can access all the variables \n#   - from the decorator: Leonard Penny \n#   - from the function call: Leslie Howard \n#Then I can pass them to the decorated function\n#I am the decorated function and only knows about my arguments: Leslie Howard\n</code></pre>\n\n<p>As you can see, you can pass arguments to the decorator like any function using this trick. You can even use <code>*args, **kwargs</code> if you wish. But remember decorators are called <strong>only once</strong>. Just when Python imports the script. You can't dynamically set the arguments afterwards. When you do \"import x\", <strong>the function is already decorated</strong>, so you can't\nchange anything.</p>\n\n<hr>\n\n<h1>Let\u2019s practice: decorating a decorator</h1>\n\n<p>Okay, as a bonus, I'll give you a snippet to make any decorator accept generically any argument. After all, in order to accept arguments, we created our decorator using another function. </p>\n\n<p>We wrapped the decorator.</p>\n\n<p>Anything else we saw recently that wrapped function?</p>\n\n<p>Oh yes, decorators!</p>\n\n<p>Let\u2019s have some fun and write a decorator for the decorators:</p>\n\n<pre><code>def decorator_with_args(decorator_to_enhance):\n    \"\"\" \n    This function is supposed to be used as a decorator.\n    It must decorate an other function, that is intended to be used as a decorator.\n    Take a cup of coffee.\n    It will allow any decorator to accept an arbitrary number of arguments,\n    saving you the headache to remember how to do that every time.\n    \"\"\"\n\n    # We use the same trick we did to pass arguments\n    def decorator_maker(*args, **kwargs):\n\n        # We create on the fly a decorator that accepts only a function\n        # but keeps the passed arguments from the maker.\n        def decorator_wrapper(func):\n\n            # We return the result of the original decorator, which, after all, \n            # IS JUST AN ORDINARY FUNCTION (which returns a function).\n            # Only pitfall: the decorator must have this specific signature or it won't work:\n            return decorator_to_enhance(func, *args, **kwargs)\n\n        return decorator_wrapper\n\n    return decorator_maker\n</code></pre>\n\n<p>It can be used as follows:</p>\n\n<pre><code># You create the function you will use as a decorator. And stick a decorator on it :-)\n# Don't forget, the signature is \"decorator(func, *args, **kwargs)\"\n@decorator_with_args \ndef decorated_decorator(func, *args, **kwargs): \n    def wrapper(function_arg1, function_arg2):\n        print(\"Decorated with {0} {1}\".format(args, kwargs))\n        return func(function_arg1, function_arg2)\n    return wrapper\n\n# Then you decorate the functions you wish with your brand new decorated decorator.\n\n@decorated_decorator(42, 404, 1024)\ndef decorated_function(function_arg1, function_arg2):\n    print(\"Hello {0} {1}\".format(function_arg1, function_arg2))\n\ndecorated_function(\"Universe and\", \"everything\")\n#outputs:\n#Decorated with (42, 404, 1024) {}\n#Hello Universe and everything\n\n# Whoooot!\n</code></pre>\n\n<p>I know, the last time you had this feeling, it was after listening a guy saying: \"before understanding recursion, you must first understand recursion\". But now, don't you feel good about mastering this?</p>\n\n<hr>\n\n<h1>Best practices: decorators</h1>\n\n<ul>\n<li>Decorators were introduced in Python 2.4, so be sure your code will be run on >= 2.4. </li>\n<li>Decorators slow down the function call. Keep that in mind.</li>\n<li><strong>You cannot un-decorate a function.</strong> (There <em>are</em> hacks to create decorators that can be removed, but nobody uses them.) So once a function is decorated, it\u2019s decorated <em>for all the code</em>.</li>\n<li>Decorators wrap functions, which can make them hard to debug.  (This gets better from Python >= 2.5; see below.)</li>\n</ul>\n\n<p>The <code>functools</code> module was introduced in Python 2.5. It includes the function <code>functools.wraps()</code>, which copies the name, module, and docstring of the decorated function to its wrapper. </p>\n\n<p>(Fun fact: <code>functools.wraps()</code> is a decorator! \u263a)</p>\n\n<pre><code># For debugging, the stacktrace prints you the function __name__\ndef foo():\n    print(\"foo\")\n\nprint(foo.__name__)\n#outputs: foo\n\n# With a decorator, it gets messy    \ndef bar(func):\n    def wrapper():\n        print(\"bar\")\n        return func()\n    return wrapper\n\n@bar\ndef foo():\n    print(\"foo\")\n\nprint(foo.__name__)\n#outputs: wrapper\n\n# \"functools\" can help for that\n\nimport functools\n\ndef bar(func):\n    # We say that \"wrapper\", is wrapping \"func\"\n    # and the magic begins\n    @functools.wraps(func)\n    def wrapper():\n        print(\"bar\")\n        return func()\n    return wrapper\n\n@bar\ndef foo():\n    print(\"foo\")\n\nprint(foo.__name__)\n#outputs: foo\n</code></pre>\n\n<hr>\n\n<h1>How can the decorators be useful?</h1>\n\n<p><strong>Now the big question:</strong> What can I use decorators for? </p>\n\n<p>Seem cool and powerful, but a practical example would be great. Well, there are 1000 possibilities. Classic uses are extending a function behavior from an external lib (you can't modify it), or for debugging (you don't want to modify it because it\u2019s temporary). </p>\n\n<p>You can use them to extend several functions in a DRY\u2019s way, like so:</p>\n\n<pre><code>def benchmark(func):\n    \"\"\"\n    A decorator that prints the time a function takes\n    to execute.\n    \"\"\"\n    import time\n    def wrapper(*args, **kwargs):\n        t = time.clock()\n        res = func(*args, **kwargs)\n        print(\"{0} {1}\".format(func.__name__, time.clock()-t))\n        return res\n    return wrapper\n\n\ndef logging(func):\n    \"\"\"\n    A decorator that logs the activity of the script.\n    (it actually just prints it, but it could be logging!)\n    \"\"\"\n    def wrapper(*args, **kwargs):\n        res = func(*args, **kwargs)\n        print(\"{0} {1} {2}\".format(func.__name__, args, kwargs))\n        return res\n    return wrapper\n\n\ndef counter(func):\n    \"\"\"\n    A decorator that counts and prints the number of times a function has been executed\n    \"\"\"\n    def wrapper(*args, **kwargs):\n        wrapper.count = wrapper.count + 1\n        res = func(*args, **kwargs)\n        print(\"{0} has been used: {1}x\".format(func.__name__, wrapper.count))\n        return res\n    wrapper.count = 0\n    return wrapper\n\n@counter\n@benchmark\n@logging\ndef reverse_string(string):\n    return str(reversed(string))\n\nprint(reverse_string(\"Able was I ere I saw Elba\"))\nprint(reverse_string(\"A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!\"))\n\n#outputs:\n#reverse_string ('Able was I ere I saw Elba',) {}\n#wrapper 0.0\n#wrapper has been used: 1x \n#ablE was I ere I saw elbA\n#reverse_string ('A man, a plan, a canoe, pasta, heros, rajahs, a coloratura, maps, snipe, percale, macaroni, a gag, a banana bag, a tan, a tag, a banana bag again (or a camel), a crepe, pins, Spam, a rut, a Rolo, cash, a jar, sore hats, a peon, a canal: Panama!',) {}\n#wrapper 0.0\n#wrapper has been used: 2x\n#!amanaP :lanac a ,noep a ,stah eros ,raj a ,hsac ,oloR a ,tur a ,mapS ,snip ,eperc a ,)lemac a ro( niaga gab ananab a ,gat a ,nat a ,gab ananab a ,gag a ,inoracam ,elacrep ,epins ,spam ,arutaroloc a ,shajar ,soreh ,atsap ,eonac a ,nalp a ,nam A\n</code></pre>\n\n<p>Of course the good thing with decorators is that you can use them right away on almost anything without rewriting. DRY, I said:</p>\n\n<pre><code>@counter\n@benchmark\n@logging\ndef get_random_futurama_quote():\n    from urllib import urlopen\n    result = urlopen(\"http://subfusion.net/cgi-bin/quote.pl?quote=futurama\").read()\n    try:\n        value = result.split(\"&lt;br&gt;&lt;b&gt;&lt;hr&gt;&lt;br&gt;\")[1].split(\"&lt;br&gt;&lt;br&gt;&lt;hr&gt;\")[0]\n        return value.strip()\n    except:\n        return \"No, I'm ... doesn't!\"\n\n\nprint(get_random_futurama_quote())\nprint(get_random_futurama_quote())\n\n#outputs:\n#get_random_futurama_quote () {}\n#wrapper 0.02\n#wrapper has been used: 1x\n#The laws of science be a harsh mistress.\n#get_random_futurama_quote () {}\n#wrapper 0.01\n#wrapper has been used: 2x\n#Curse you, merciful Poseidon!\n</code></pre>\n\n<p>Python itself provides several decorators: <code>property</code>, <code>staticmethod</code>, etc. </p>\n\n<ul>\n<li>Django uses decorators to manage caching and view permissions. </li>\n<li>Twisted to fake inlining asynchronous functions calls.</li>\n</ul>\n\n<p>This really is a large playground.</p>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 1594484, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>And of course you can return lambdas as well from a decorator function:</p>\n\n<pre><code>def makebold(f): \n    return lambda: \"&lt;b&gt;\" + f() + \"&lt;/b&gt;\"\ndef makeitalic(f): \n    return lambda: \"&lt;i&gt;\" + f() + \"&lt;/i&gt;\"\n\n@makebold\n@makeitalic\ndef say():\n    return \"Hello\"\n\nprint say()\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 4012213, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>Another way of doing the same thing:</p>\n\n<pre><code>class bol(object):\n  def __init__(self, f):\n    self.f = f\n  def __call__(self):\n    return \"&lt;b&gt;{}&lt;/b&gt;\".format(self.f())\n\nclass ita(object):\n  def __init__(self, f):\n    self.f = f\n  def __call__(self):\n    return \"&lt;i&gt;{}&lt;/i&gt;\".format(self.f())\n\n@bol\n@ita\ndef sayhi():\n  return 'hi'\n</code></pre>\n\n<p>Or, more flexibly:</p>\n\n<pre><code>class sty(object):\n  def __init__(self, tag):\n    self.tag = tag\n  def __call__(self, f):\n    def newf():\n      return \"&lt;{tag}&gt;{res}&lt;/{tag}&gt;\".format(res=f(), tag=self.tag)\n    return newf\n\n@sty('b')\n@sty('i')\ndef sayhi():\n  return 'hi'\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 8633375, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>Speaking of the counter example - as given above, the counter will be shared between all functions that use the decorator:</p>\n\n<pre><code>def counter(func):\n    def wrapped(*args, **kws):\n        print 'Called #%i' % wrapped.count\n        wrapped.count += 1\n        return func(*args, **kws)\n    wrapped.count = 0\n    return wrapped\n</code></pre>\n\n<p>That way, your decorator can be reused for different functions (or used to decorate the same function multiple times: <code>func_counter1 = counter(func); func_counter2 = counter(func)</code>), and the counter variable will remain private to each. </p>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 9540819, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>A decorator takes the function definition and creates a new function that executes this function and transforms the result.</p>\n\n<pre><code>@deco\ndef do():\n    ...\n</code></pre>\n\n<p>is eqivarent to:</p>\n\n<pre><code>do = deco(do)\n</code></pre>\n\n<h2>Example:</h2>\n\n<pre><code>def deco(func):\n    def inner(letter):\n        return func(letter).upper()  #upper\n    return inner\n</code></pre>\n\n<p>This</p>\n\n<pre><code>@deco\ndef do(number):\n    return chr(number)  # number to letter\n</code></pre>\n\n<p>is eqivalent to this\n    def do2(number):\n        return chr(number)</p>\n\n<pre><code>do2 = deco(do2)\n</code></pre>\n\n<p>65 &lt;=> 'a'</p>\n\n<pre><code>print(do(65))\nprint(do2(65))\n&gt;&gt;&gt; B\n&gt;&gt;&gt; B\n</code></pre>\n\n<p>To understand the decorator, it is important to notice, that decorator created a new function do which is inner that executes func and transforms the result.</p>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 11673539, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<h1>Decorate functions with different number of arguments:</h1>\n\n<pre><code>def frame_tests(fn):\n    def wrapper(*args):\n        print \"\\nStart: %s\" %(fn.__name__)\n        fn(*args)\n        print \"End: %s\\n\" %(fn.__name__)\n    return wrapper\n\n@frame_tests\ndef test_fn1():\n    print \"This is only a test!\"\n\n@frame_tests\ndef test_fn2(s1):\n    print \"This is only a test! %s\" %(s1)\n\n@frame_tests\ndef test_fn3(s1, s2):\n    print \"This is only a test! %s %s\" %(s1, s2)\n\nif __name__ == \"__main__\":\n    test_fn1()\n    test_fn2('OK!')\n    test_fn3('OK!', 'Just a test!')\n</code></pre>\n\n<p>Result:  </p>\n\n<pre><code>Start: test_fn1  \nThis is only a test!  \nEnd: test_fn1  \n\n\nStart: test_fn2  \nThis is only a test! OK!  \nEnd: test_fn2  \n\n\nStart: test_fn3  \nThis is only a test! OK! Just a test!  \nEnd: test_fn3  \n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 15840821, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>Here is a simple example of chaining decorators.  Note the last line - it shows what is going on under the covers.</p>\n\n<pre><code>############################################################\n#\n#    decorators\n#\n############################################################\n\ndef bold(fn):\n    def decorate():\n        # surround with bold tags before calling original function\n        return \"&lt;b&gt;\" + fn() + \"&lt;/b&gt;\"\n    return decorate\n\n\ndef uk(fn):\n    def decorate():\n        # swap month and day\n        fields = fn().split('/')\n        date = fields[1] + \"/\" + fields[0] + \"/\" + fields[2]\n        return date\n    return decorate\n\nimport datetime\ndef getDate():\n    now = datetime.datetime.now()\n    return \"%d/%d/%d\" % (now.day, now.month, now.year)\n\n@bold\ndef getBoldDate(): \n    return getDate()\n\n@uk\ndef getUkDate():\n    return getDate()\n\n@bold\n@uk\ndef getBoldUkDate():\n    return getDate()\n\n\nprint getDate()\nprint getBoldDate()\nprint getUkDate()\nprint getBoldUkDate()\n# what is happening under the covers\nprint bold(uk(getDate))()\n</code></pre>\n\n<p>The output looks like:</p>\n\n<pre><code>17/6/2013\n&lt;b&gt;17/6/2013&lt;/b&gt;\n6/17/2013\n&lt;b&gt;6/17/2013&lt;/b&gt;\n&lt;b&gt;6/17/2013&lt;/b&gt;\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 17140530, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<pre><code>#decorator.py\ndef makeHtmlTag(tag, *args, **kwds):\n    def real_decorator(fn):\n        css_class = \" class='{0}'\".format(kwds[\"css_class\"]) \\\n                                 if \"css_class\" in kwds else \"\"\n        def wrapped(*args, **kwds):\n            return \"&lt;\"+tag+css_class+\"&gt;\" + fn(*args, **kwds) + \"&lt;/\"+tag+\"&gt;\"\n        return wrapped\n    # return decorator dont call it\n    return real_decorator\n\n@makeHtmlTag(tag=\"b\", css_class=\"bold_css\")\n@makeHtmlTag(tag=\"i\", css_class=\"italic_css\")\ndef hello():\n    return \"hello world\"\n\nprint hello()\n</code></pre>\n\n<p>You can also write decorator in Class</p>\n\n<pre><code>#class.py\nclass makeHtmlTagClass(object):\n\ndef __init__(self, tag, css_class=\"\"):\n    self._tag = tag\n    self._css_class = \" class='{0}'\".format(css_class) \\\n                                   if css_class !=\"\" else \"\"\n\ndef __call__(self, fn):\n    def wrapped(*args, **kwargs):\n        return \"&lt;\" + self._tag + self._css_class+\"&gt;\"  \\\n                   + fn(*args, **kwargs) + \"&lt;/\" + self._tag + \"&gt;\"\n    return wrapped\n\n@makeHtmlTagClass(tag=\"b\", css_class=\"bold_css\")\n@makeHtmlTagClass(tag=\"i\", css_class=\"italic_css\")\ndef hello(name):\n    return \"Hello, {}\".format(name)\n\nprint hello(\"Your name\")\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 22833714, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>To explain decorator in a simpler way:</p>\n\n<p>With:</p>\n\n<pre><code>@decor1\n@decor2\ndef func(*args, **kwargs):\n    pass\n</code></pre>\n\n<p>When do:</p>\n\n<pre><code>func(*args, **kwargs)\n</code></pre>\n\n<p>You really do:</p>\n\n<pre><code>decor1(decor2(func))(*args, **kwargs)\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 29163633, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<p>You <em>could</em> make two separate decorators that do what you want as illustrated directly below. Note the use of <code>*args, **kwargs</code> in the declaration of the <code>wrapped()</code> function which supports the decorated function having multiple arguments (which isn't really necessary for the example <code>say()</code> function, but is included for generality).</p>\n\n<p>For similar reasons, the <code>functools.wraps</code> decorator is used to change the meta attributes of the wrapped function to be those of the one being decorated. This makes error messages and embedded function documentation (<code>func.__doc__</code>) be those of the decorated function instead of <code>wrapped()</code>'s.</p>\n\n<pre><code>from functools import wraps\n\ndef makebold(fn):\n    @wraps(fn)\n    def wrapped(*args, **kwargs):\n        return \"&lt;b&gt;\" + fn(*args, **kwargs) + \"&lt;/b&gt;\"\n    return wrapped\n\ndef makeitalic(fn):\n    @wraps(fn)\n    def wrapped(*args, **kwargs):\n        return \"&lt;i&gt;\" + fn(*args, **kwargs) + \"&lt;/i&gt;\"\n    return wrapped\n\n@makebold\n@makeitalic\ndef say():\n    return 'Hello'\n\nprint(say())  # -&gt; &lt;b&gt;&lt;i&gt;Hello&lt;/i&gt;&lt;/b&gt;\n</code></pre>\n\n<p>However it would be better in this case, since the two are so similar to one other, for you to instead make a generic one that was essentially a <em>decorator factory</em> &mdash; in other words, a decorator that makes other decorators. That way there would be less code repetition.</p>\n\n<pre><code>def html_deco(tag):\n    def decorator(fn):\n        @wraps(fn)\n        def wrapped(*args, **kwargs):\n            return '&lt;%s&gt;' % tag + fn(*args, **kwargs) + '&lt;/%s&gt;' % tag\n        return wrapped\n    return decorator\n\n@html_deco('b')\n@html_deco('i')\ndef greet(whom=''):  # function that has a keyword argument\n    return 'Hello' + (' ' + whom) if whom else ''\n\nprint(greet('world'))  # -&gt; &lt;b&gt;&lt;i&gt;Hello world&lt;/i&gt;&lt;/b&gt;\n</code></pre>\n\n<p>To make the code more readable, you can assign a more descriptive name to the factory-generated decorators:</p>\n\n<pre><code>makebold = html_deco('b')\nmakeitalic = html_deco('i')\n\n@makebold\n@makeitalic\ndef greet(whom=''):\n    return 'Hello' + (' ' + whom) if whom else ''\n\nprint(greet('world'))  # -&gt; &lt;b&gt;&lt;i&gt;Hello world&lt;/i&gt;&lt;/b&gt;\n</code></pre>\n\n<p>or even combine them like this:</p>\n\n<pre><code>makebolditalic = lambda fn: makebold(makeitalic(fn))\n\n@makebolditalic\ndef greet(whom=''):\n    return 'Hello' + (' ' + whom) if whom else ''\n\nprint(greet('world'))  # -&gt; &lt;b&gt;&lt;i&gt;Hello world&lt;/i&gt;&lt;/b&gt;\n</code></pre>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 30283056, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}, {"body": "<blockquote>\n  <h1>How can I make two decorators in Python that would do the following?</h1>\n</blockquote>\n\n<p>You want the following function, when called:</p>\n\n<blockquote>\n<pre><code>@makebold\n@makeitalic\ndef say():\n    return \"Hello\"\n</code></pre>\n</blockquote>\n\n<p>To return:</p>\n\n<blockquote>\n<pre><code>&lt;b&gt;&lt;i&gt;Hello&lt;/i&gt;&lt;/b&gt;\n</code></pre>\n</blockquote>\n\n<h2>Simple direct solution</h2>\n\n<p>To most simply do this, make decorators that return lambdas (anonymous functions) that wrap the function call:</p>\n\n<pre><code>def makeitalic(fn):\n    return lambda: '&lt;i&gt;' + fn() + '&lt;/i&gt;'\n\ndef makebold(fn):\n    return lambda: '&lt;b&gt;' + fn() + '&lt;/b&gt;'\n</code></pre>\n\n<p>Now use them as desired:</p>\n\n<pre><code>@makebold\n@makeitalic\ndef say():\n    return 'Hello'\n</code></pre>\n\n<p>and now:</p>\n\n<pre><code>&gt;&gt;&gt; say()\n'&lt;b&gt;&lt;i&gt;Hello&lt;/i&gt;&lt;/b&gt;'\n</code></pre>\n\n<h2>Problems with the direct solution</h2>\n\n<p>But we seem to have nearly lost the original function. </p>\n\n<pre><code>&gt;&gt;&gt; say\n&lt;function &lt;lambda&gt; at 0x4ACFA070&gt;\n</code></pre>\n\n<p>To find it, we'd need to dig into the closure of each lambda, one of which is buried in the other:</p>\n\n<pre><code>&gt;&gt;&gt; say.__closure__[0].cell_contents\n&lt;function &lt;lambda&gt; at 0x4ACFA030&gt;\n&gt;&gt;&gt; say.__closure__[0].cell_contents.__closure__[0].cell_contents\n&lt;function say at 0x4ACFA730&gt;\n</code></pre>\n\n<p>So if we put documentation on this function, or wanted to be able to decorate functions that take more than one argument, or we just wanted to know what function we were looking at in a debugging session, we need to do a bit more with our wrapper.</p>\n\n<h2>Full featured solution - overcoming most of these problems</h2>\n\n<p>We have the decorator <code>wraps</code> from the <code>functools</code> module in the standard library! </p>\n\n<pre><code>from functools import wraps\n\ndef makeitalic(fn):\n    # must assign/update attributes from wrapped function to wrapper\n    # __module__, __name__, __doc__, and __dict__ by default\n    @wraps(fn) # explicitly give function whose attributes it is applying\n    def wrapped(*args, **kwargs):\n        return '&lt;i&gt;' + fn(*args, **kwargs) + '&lt;/i&gt;'\n    return wrapped\n\ndef makebold(fn):\n    @wraps(fn)\n    def wrapped(*args, **kwargs):\n        return '&lt;b&gt;' + fn(*args, **kwargs) + '&lt;/b&gt;'\n    return wrapped\n</code></pre>\n\n<p>It is unfortunate that there's still some boilerplate, but this is about as simple as we can make it. </p>\n\n<p>In Python 3, you also get <code>__qualname__</code> and <code>__annotations__</code> assigned by default.</p>\n\n<p>So now:</p>\n\n<pre><code>@makebold\n@makeitalic\ndef say():\n    \"\"\"This function returns a bolded, italicized 'hello'\"\"\"\n    return 'Hello'\n</code></pre>\n\n<p>And now:</p>\n\n<pre><code>&gt;&gt;&gt; say\n&lt;function say at 0x14BB8F70&gt;\n&gt;&gt;&gt; help(say)\nHelp on function say in module __main__:\n\nsay(*args, **kwargs)\n    This function returns a bolded, italicized 'hello'\n</code></pre>\n\n<h2>Conclusion</h2>\n\n<p>So we see that <code>wraps</code> makes the wrapping function do almost everything except tell us exactly what the function takes as arguments. </p>\n\n<p>There are other modules that may attempt to tackle the problem, but the solution is not yet in the standard library.</p>\n", "title": "How to make a chain of function decorators in Python?", "answer_id": 34073212, "question_id": 739654, "tags": ["python", "decorator", "python-decorators"]}], "question_id": 739654}, {"body": "<p>I have this string:</p>\n\n<pre>\nTest abc test test abc test test\ntest abc test test abc \n</pre>\n\n<p>Doing</p>\n\n<pre><code>str = str.replace('abc', '');\n</code></pre>\n\n<p>seems to only remove the first occurrence of <code>abc</code> in the string above. How can I replace <strong>all</strong> occurrences of it?</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "tags": ["javascript"], "answer_count": 32, "link": "http://stackoverflow.com/questions/1144783/replacing-all-occurrences-of-a-string-in-javascript", "answers": [{"body": "<p>Using a regular expression with the <code>g</code> flag set will replace all:</p>\n\n<pre><code>someString = 'the cat looks like a cat';\nanotherString = someString.replace(/cat/g, 'dog');\n// anotherString now contains \"the dog looks like a dog\"\n</code></pre>\n\n<h3><a href=\"http://www.tizag.com/javascriptT/javascript-string-replace.php\">See here also</a></h3>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 832262, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Match against a global regular expression:</p>\n\n<pre><code>anotherString = someString.replace(/cat/g, 'dog');\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 832276, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<pre><code>str = str.replace(/abc/g, '');\n</code></pre>\n\n<p>In response to comment:</p>\n\n<pre><code>var find = 'abc';\nvar re = new RegExp(find, 'g');\n\nstr = str.replace(re, '');\n</code></pre>\n\n<p>In response to <a href=\"http://stackoverflow.com/users/49153/click-upvote\">Click Upvote</a>'s comment, you could simplify it even more:</p>\n\n<pre><code>function replaceAll(str, find, replace) {\n  return str.replace(new RegExp(find, 'g'), replace);\n}\n</code></pre>\n\n<p><strong>Note:</strong> Regular expressions contain special (meta) characters, and as such it is dangerous to blindly pass an argument in the <code>find</code> function above without pre-processing it to escape those characters.  This is covered in the <a href=\"https://developer.mozilla.org/en-US/\">Mozilla Developer Network</a>'s <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\">JavaScript Guide on Regular Expressions</a>, where they present the following utility function:</p>\n\n<pre><code>function escapeRegExp(str) {\n    return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n}\n</code></pre>\n\n<p>So in order to make the <code>replaceAll</code> function above safer, it could be modified to the following if you also include <code>escapeRegExp</code>:</p>\n\n<pre><code>function replaceAll(str, find, replace) {\n  return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n}\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 1144788, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<pre><code>str = str.replace(/abc/g, '');\n</code></pre>\n\n<p>Or try the replaceAll function from here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1137436/useful-javascript-methods-that-extends-built-in-objects/1137579#1137579\">http://stackoverflow.com/questions/1137436/useful-javascript-methods-that-extends-built-in-objects/1137579#1137579</a></p>\n\n<pre><code>str = str.replaceAll('abc', ''); OR\n\nvar search = 'abc';\nstr = str.replaceAll(search, '');\n</code></pre>\n\n<p><strong>EDIT:</strong> Clarification about replaceAll availability</p>\n\n<p>The 'replaceAll' method is added to String's prototype. This means it will be available for all string objects/literals.</p>\n\n<p>E.g.</p>\n\n<pre><code>var output = \"test this\".replaceAll('this', 'that');  //output is 'test that'.\noutput = output.replaceAll('that', 'this'); //output is 'test this'\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 1144790, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>use a regex:</p>\n\n<pre><code>str.replace(/abc/g, '');\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 1144794, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>As an alternative to regular expressions for a simple literal string, you could use</p>\n\n<pre><code>str = \"Test abc test test abc test...\".split(\"abc\").join(\"\");\n</code></pre>\n\n<p>The general pattern is</p>\n\n<pre><code>str.split(search).join(replacement)\n</code></pre>\n\n<p>I would wrap it in a function so it's more obvious what's going on.</p>\n\n<p>In recent V8 versions this seems to be even faster than the Regexp version: <a href=\"http://jsperf.com/replace-all-vs-split-join\">http://jsperf.com/replace-all-vs-split-join</a></p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 1145525, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Not really much better than using a regexp, but multiple replacements can alternatively be achieved this way:</p>\n\n<pre><code>function multiReplace(str, match, repl) {\n    if (match === repl)\n        return str;\n    do {\n        str = str.replace(match, repl);\n    } while(str.indexOf(match) !== -1);\n    return str;\n}\n\nmultiReplace(\"the cat looks like a cat\", \"cat\", \"dog\"); // \"the dog looks like a dog\"\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 7280477, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>My implementation, very self explanatory</p>\n\n<pre><code>function replaceAll(string, token, newtoken) {\n    if(token!=newtoken)\n    while(string.indexOf(token) &gt; -1) {\n        string = string.replace(token, newtoken);\n    }\n    return string;\n}\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 7924558, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p><em><strong>Update:</strong></em></p>\n\n<p>It's somewhat late for an update, but since I just stumbled on this question, and noticed that my previous answer is not one I'm happy with. Since the question involved replaceing a single word, it's incredible nobody thought of using word boundaries (<code>\\b</code>)</p>\n\n<pre><code>'a cat is not a caterpillar'.replace(/\\bcat\\b/gi,'dog');\n//\"a dog is not a caterpillar\"\n</code></pre>\n\n<p>This is a simple regex that avoids replacing parts of words in most cases. However, a dash <code>-</code> is still considered a word boundary. So conditionals can be used in this case to avoid replacing strings like <code>cool-cat</code>:</p>\n\n<pre><code>'a cat is not a cool-cat'.replace(/\\bcat\\b/gi,'dog');//wrong\n//\"a dog is not a cool-dog\" -- nips\n'a cat is not a cool-cat'.replace(/(?:\\b([^-]))cat(?:\\b([^-]))/gi,'$1dog$2');\n//\"a dog is not a cool-cat\"\n</code></pre>\n\n<hr>\n\n<p>basically, this question is the same as the question here:\n<a href=\"http://stackoverflow.com/questions/9499075/javascript-replace-with/9499926\">Javascript replace &quot; &#39; &quot; with &quot; &#39;&#39; &quot;</a></p>\n\n<p>@Mike, check the answer I gave there... regexp isn't the only way to replace multiple occurrences of a subsrting, far from it. Think flexible, think split!</p>\n\n<pre><code>var newText = \"the cat looks like a cat\".split('cat').join('dog');\n</code></pre>\n\n<p>Alternatively, to prevent replacing word parts -which the approved answer will do, too! You can get around this issue using regular expressions that are, I admit, somewhat more complex and as an upshot of that, a tad slower, too:</p>\n\n<pre><code>var regText = \"the cat looks like a cat\".replace(/(?:(^|[^a-z]))(([^a-z]*)(?=cat)cat)(?![a-z])/gi,\"$1dog\");\n</code></pre>\n\n<p>The output is the same as the accepted answer, however, using the /cat/g expression on this string:</p>\n\n<pre><code>var oops = 'the cat looks like a cat, not a caterpillar or coolcat'.replace(/cat/g,'dog');\n//returns \"the dog looks like a dog, not a dogerpillar or cooldog\" ?? \n</code></pre>\n\n<p>Oops indeed, this probably isn't what you want. What is, then? IMHO, a regex that only replaces 'cat' conditionally. (ie not part of a word), like so:</p>\n\n<pre><code>var caterpillar = 'the cat looks like a cat, not a caterpillar or coolcat'.replace(/(?:(^|[^a-z]))(([^a-z]*)(?=cat)cat)(?![a-z])/gi,\"$1dog\");\n//return \"the dog looks like a dog, not a caterpillar or coolcat\"\n</code></pre>\n\n<p>My guess is, this meets your needs. It's not fullproof, of course, but it should be enough to get you started. I'd recommend reading some more on these pages. This'll prove useful in perfecting this expression to meet your specific needs.</p>\n\n<p><a href=\"http://www.javascriptkit.com/jsref/regexp.shtml\">http://www.javascriptkit.com/jsref/regexp.shtml</a></p>\n\n<p><a href=\"http://www.regular-expressions.info\">http://www.regular-expressions.info</a></p>\n\n<hr>\n\n<p><strong>Final addition:</strong></p>\n\n<p>Given that this question still gets a lot of views, I thought I might add an example of <code>.replace</code> used with a callback function. In this case, it dramatically simplifies the expression <em>and</em> provides even more flexibility, like replacing with correct capitalisation or replacing both <code>cat</code> and <code>cats</code> in one go:</p>\n\n<pre><code>'Two cats are not 1 Cat! They\\'re just cool-cats, you caterpillar'\n   .replace(/(^|.\\b)(cat)(s?\\b.|$)/gi,function(all,char1,cat,char2)\n    {\n       //check 1st, capitalize if required\n       var replacement = (cat.charAt(0) === 'C' ? 'D' : 'd') + 'og';\n       if (char1 === ' ' &amp;&amp; char2 === 's')\n       {//replace plurals, too\n           cat = replacement + 's';\n       }\n       else\n       {//do not replace if dashes are matched\n           cat = char1 === '-' || char2 === '-' ? cat : replacement;\n       }\n       return char1 + cat + char2;//return replacement string\n    });\n//returns:\n//Two dogs are not 1 Dog! They're just cool-cats, you caterpillar\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 9514142, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Here's a string prototype function based on the accepted answer:</p>\n\n<pre><code>String.prototype.replaceAll = function (find, replace) {\n    var str = this;\n    return str.replace(new RegExp(find, 'g'), replace);\n};\n</code></pre>\n\n<p><strong>EDIT</strong> </p>\n\n<p>If your <code>find</code> will contain special characters then you need to escape them:</p>\n\n<pre><code>String.prototype.replaceAll = function (find, replace) {\n    var str = this;\n    return str.replace(new RegExp(find.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;'), 'g'), replace);\n};\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/cdbzL/\">http://jsfiddle.net/cdbzL/</a></p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 14822579, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>I like this method, it looks a little cleaner.</p>\n\n<pre><code>text = text.replace(new RegExp(\"cat\",\"g\"), \"dog\"); \n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 16567210, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>//loop it until number occurrences comes to 0. OR simply copy/paste</p>\n\n<pre><code>    function replaceAll(find, replace, str) \n    {\n      while( str.indexOf(find) &gt; -1)\n      {\n        str = str.replace(find, replace);\n      }\n      return str;\n    }\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 16931854, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>If what you want to find is already in a string, and you don't have a regex escaper handy, you can use join/split:</p>\n\n<pre><code>function replaceMulti(haystack, needle, replacement)\n{\n    return haystack.split(needle).join(replacement);\n}\n\nsomeString = 'the cat looks like a cat';\nanotherString = replaceMulti(someString, 'cat', 'dog');\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 17202942, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>For the sake of completeness, I got to thinking about which method I should use to do this. There are basically two ways to do this as suggested by the other answers on this page.</p>\n\n<p><strong>Note:</strong> In general, extending the built-in prototypes in javascript is generally not recommended. I am providing as extensions on the String prototype simply for purposes of illustration, showing different implementations of a hypothetical standard method on the <code>String</code> built-in prototype.</p>\n\n<hr>\n\n<h3>Regular Expression Based Implementation</h3>\n\n<pre><code>String.prototype.replaceAll = function(search, replacement) {\n    var target = this;\n    return target.replace(new RegExp(search, 'g'), replacement);\n};\n</code></pre>\n\n<h3>Split and Join (Functional) Implementation</h3>\n\n<pre><code>String.prototype.replaceAll = function(search, replacement) {\n    var target = this;\n    return target.split(search).join(replacement);\n};\n</code></pre>\n\n<hr>\n\n<p>Not knowing too much about how regular expressions work behind the scenes in terms of efficiency, I tended to lean toward the split and join implementation in the past without thinking about performance. When I did wonder which was more efficient, and by what margin, I used it as an excuse to find out.</p>\n\n<p>On my Chrome Win8 machine, <strong>the regular expression based implementation is the fastest</strong>, with the <strong>split and join implementation being 53% slower</strong>. Meaning the regular expressions are twice as fast for the lorem ipsum input I used.</p>\n\n<p>Check out this <a href=\"http://jsperf.com/benchmarking-js-replaceall\"><strong>jsPerf benchmark</strong></a> running these two implementations against each other.</p>\n\n<hr>\n\n<h3>EDIT</h3>\n\n<p>As noted in the comment below by @ThomasLeduc and others, there could be an issue with the Regular Expression based implementation if <code>search</code> contains certain characters which are reserved as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_special_characters\">special characters in regular expressions</a>. The implementation assumes that the caller will escape the string beforehand or will only pass strings that are without the characters in the table in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_special_characters\">Regular Expressions (MDN)</a>.</p>\n\n<p>MDN also provides an implementation to escape our strings, it would be nice if this was also standardized as <code>RegExp.escape(str)</code> but alas, it does not exist:</p>\n\n<pre><code>function escapeRegExp(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&amp;\"); // $&amp; means the whole matched string\n}\n</code></pre>\n\n<p>We could call <code>escapeRegExp</code> within our <code>String.prototype.replaceAll</code> implementation, however, I'm not sure how much this will affect the performance (potentially even for strings for which the escape is not needed, like all alphanumeric strings).</p>\n\n<p>I will play with this on jsperf and update this answer again with a new benchmark.</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 17606289, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<pre><code>var str = \"ff ff f f a de def\";\nstr = str.replace(/f/g,'');\nalert(str);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ANHR9/\">http://jsfiddle.net/ANHR9/</a></p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 18610867, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>for replace all kind of character try this code</p>\n\n<pre><code>suppose we have need to send \" and \\ in my string, then we will convert it \" to \\\" and \\ to \\\\\n</code></pre>\n\n<p>so this method will solve this issue.</p>\n\n<pre><code>String.prototype.replaceAll = function (find, replace) {\n     var str = this;\n     return str.replace(new RegExp(find.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;'), 'g'), replace);\n };\n\nvar message = $('#message').val();\n             message = message.replaceAll('\\\\', '\\\\\\\\'); /*it will replace \\ to \\\\ */\n             message = message.replaceAll('\"', '\\\\\"');   /*it will replace \" to \\\\\"*/\n</code></pre>\n\n<p>i was using ajax and i have need to send parameters in json format then my method is look like is</p>\n\n<pre><code> function sendMessage(source, messageID, toProfileID, userProfileID) {\n     if (validateTextBox()) {\n\n         var message = $('#message').val();\n         message = message.replaceAll('\\\\', '\\\\\\\\');\n         message = message.replaceAll('\"', '\\\\\"');                                         \n         $.ajax({\n             type: \"POST\",\n             async: \"false\", \n             contentType: \"application/json; charset=utf-8\",\n             url: \"services/WebService1.asmx/SendMessage\",\n             data: '{\"source\":\"' + source + '\",\"messageID\":\"' + messageID + '\",\"toProfileID\":\"' + toProfileID + '\",\"userProfileID\":\"' + userProfileID + '\",\"message\":\"' + message + '\"}',\n             dataType: \"json\",\n             success: function (data) {\n                 loadMessageAfterSend(toProfileID, userProfileID);\n                 $(\"#&lt;%=PanelMessageDelete.ClientID%&gt;\").hide();\n                 $(\"#message\").val(\"\");\n                 $(\"#delMessageContainer\").show();\n                 $(\"#msgPanel\").show();                    \n             },\n             error: function (result) {\n                 alert(\"message sending failed\");\n             }\n         });\n     }\n     else {\n         alert(\"Please type message in message box.\");\n         $(\"#message\").focus();\n\n     }}\nString.prototype.replaceAll = function (find, replace) {\n     var str = this;\n     return str.replace(new RegExp(find.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;'), 'g'), replace);\n };\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 20759804, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Try this:</p>\n\n<pre><code>String.prototype.replaceAll = function (sfind, sreplace) {\n    var str = this;\n    while (str.indexOf(sfind)&gt;-1) str=str.replace(sfind, sreplace);\n    return str;\n};\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 20979806, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>This is the <strong>fastest</strong> version that <em>doesn't use regex</em> </p>\n\n<p><a href=\"http://jsperf.com/replace-all-vs-split-join/10\">revised jsperf</a></p>\n\n<pre><code>replaceAll = function(string, omit, place, prevstring) {\n  if (prevstring &amp;&amp; string === prevstring)\n    return string;\n  prevstring = string.replace(omit, place);\n  return replaceAll(prevstring, omit, place, string)\n}\n</code></pre>\n\n<p>it is almost <strong>twice</strong> as fast as split and join method.</p>\n\n<p>As pointed out in a comment here, this will not work if your <code>omit</code> variable contains <code>place</code>, as in: <code>replaceAll(\"string\", \"s\", \"ss\")</code>, because it will always be able to replace another occurrence of the word.</p>\n\n<p>There is another jsperf with variants on my recursive replace that go even faster!(<a href=\"http://jsperf.com/replace-all-vs-split-join/12\">http://jsperf.com/replace-all-vs-split-join/12</a>)</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 22870785, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<pre><code>while (str.indexOf('abc') !== -1)\n{\n    str = str.replace('abc', '');\n}\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 23361990, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p><em>Note: I can't comment yet, so I posted this as an answer, though there is some research information that could go in an answer. I also can't post more than 2 links,<br> so the links are going to have N0N instead of /, N1N instead of - and N2N instead of . (You could use the replaceAll functions to fix that).</em> </p>\n\n<h1>Split+join vs. regular expression</h1>\n\n<p>I tested out the <code>.split().join()</code> vs. regular expresion replacing speed test from Matthew Crumley's answer (which also explains how to use .split().join() ) at jsperfN2NcomN0NreplaceN1NallN1NvsN1NsplitN1Njoin and though <strong>it is faster on Chrome &amp; Firefox</strong>, it was \u00b155% slower on IE, so if this will be used on a site that is likely to be visited mainly by <strong>IE</strong> users, I recommend a <strong>safe pre-escaped regular expression</strong> as written in the accepted answer.  </p>\n\n<h2>Some research later</h2>\n\n<p>IE is <strong>way</strong> less used than I thought it is (statistics: gsN2NstatcounterN2NcomN0N#allN1NbrowserN1NwwN1NmonthlyN1N200812N1N201407), so the above still kinda applies, but only if you are very, very sure that IE is going to be the primarily used browser on that page.</p>\n\n<h2>EDIT:</h2>\n\n<p>I've made IE, Firefox and Chrome bots on jsperfN2NcomN0NreplaceN1NallN1NvsN1NsplitN1NjoinN0N13 \n(Before, there was data only about a version of Chrome). Look into the source code in the top of the page and copy the fastest function. <em>Wow! I can't believe how fast i typed function.</em> IE&amp;Chrome - iterative replace() Firefox - split&amp;join (way better than all others)</p>\n\n<p><em>End-note: English isn't my first language, so this took me some time to correct statements and English and the red-wavey underlining (indicating word not in mother language vocabulary) under most of the words was annoying too (I think there's an HTML attribute against that). I do realize the previous sentence is not grammatically correct.</em></p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 24639111, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>If using a library is an option for you then you will get the benefits of the testing and community support that goes with a library function. For example, the <a href=\"http://stringjs.com/\" rel=\"nofollow\">string.js</a> library has a replaceAll() function that does what you're looking for:</p>\n\n<pre><code>// Include a reference to the string.js library and call it (for example) S.\nstr = S(str).replaceAll('abc', '').s;\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 25836438, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>If you are trying to ensure that the string you are looking for won't exist even after the replacement, you need to use a loop.</p>\n\n<p>For example:</p>\n\n<pre><code>var str = 'test aabcbc';\nstr = str.replace(/abc/g, '');\n</code></pre>\n\n<p>When complete, you will still have 'test abc'!</p>\n\n<p>The simplest loop to solve this would be:</p>\n\n<pre><code>var str = 'test aabcbc';\nwhile (str != str.replace(/abc/g, '')){\n   str.replace(/abc/g, '');\n}\n</code></pre>\n\n<p>But that runs the replacement twice for each cycle. Perhaps (at risk of being voted down) that can be combined for a slightly more efficient but less readable form:</p>\n\n<pre><code>var str = 'test aabcbc';\nwhile (str != (str = str.replace(/abc/g, ''))){}\n// alert(str); alerts 'test '!\n</code></pre>\n\n<p>This can be particularly useful when looking for duplicate strings.<br>\nFor example, if we have 'a,,,b' and we wish to remove all duplicate commas.<br>\n[In that case, one could do .replace(/,+/g,','), but at some point the regex gets complex and slow enough to loop instead.]</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 26089052, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<pre><code>function replaceAll(str, find, replace) {\n  var i = str.indexOf(find);\n  if (i &gt; -1){\n    str = str.replace(find, replace); \n    i = i + replace.length;\n    var st2 = str.substring(i);\n    if(st2.indexOf(find) &gt; -1){\n      str = str.substring(0,i) + replaceAll(st2, find, replace);\n    }       \n  }\n  return str;\n}\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 26107132, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Just add <code>/g</code> <br/></p>\n\n<pre><code>document.body.innerHTML = document.body.innerHTML.replace('hello', 'hi');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>// Replace 'hello' string with /hello/g regular expression.\ndocument.body.innerHTML = document.body.innerHTML.replace(/hello/g, 'hi');\n</code></pre>\n\n<p><code>/g</code> means global</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 30660575, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Simple...</p>\n\n<p>Replacing single quotes:</p>\n\n<pre><code>function JavaScriptEncode(text){\n\n        text = text.replace(/'/g,'&amp;apos;')\n\n        // More encode here if required\n\n        return text; \n\n    }\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 30947489, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Something little different by using recursion. I use <strong>p</strong> to store the result from the previous replacement:</p>\n\n<pre><code>function replaceAll(s, m, r, p) {\n    return s === p || r.contains(m) ? s : replaceAll(s.replace(m, r), m, r, s);\n}\n</code></pre>\n\n<p>It will replace all occurrences in the string <strong>s</strong> until it is possible:</p>\n\n<pre><code>replaceAll('abbbbb', 'ab', 'a') \u2192 'abbbb' \u2192 'abbb' \u2192 'abb' \u2192 'ab' \u2192 'a'\n</code></pre>\n\n<p>To avoid infinite loop I check if the replacement <strong>r</strong> contains a match <strong>m</strong>:</p>\n\n<pre><code>replaceAll('abbbbb', 'a', 'ab') \u2192 'abbbbb'\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 34755893, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>You can simply use below method</p>\n\n<pre><code>/**\n * Replace all the occerencess of $find by $replace in $originalString\n * @param  {originalString} input - Raw string.\n * @param  {find} input - Target key word or regex that need to be replaced.\n * @param  {replace} input - Replacement key word\n * @return {String}       Output string\n */\nfunction replaceAll(originalString, find, replace) {\n  return originalString.replace(new RegExp(find, 'g'), replace);\n};\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 35408958, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Following function works for me:</p>\n\n<pre><code>String.prototype.replaceAllOccurence = function(str1, str2, ignore) \n{\n    return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\&lt;\\&gt;\\-\\&amp;])/g,\"\\\\$&amp;\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\n} ;\n</code></pre>\n\n<p>now call the functions like this:</p>\n\n<pre><code>\"you could be a Project Manager someday, if you work like this.\".replaceAllOccurence (\"you\", \"I\");\n</code></pre>\n\n<p>Simply copy and paste this code in your browser console to TEST.</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 35429122, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Here is the working code with prototype:</p>\n\n<pre><code>String.prototype.replaceAll = function(find, replace) {\nvar str = this;\nreturn str.replace(new RegExp(find.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\"), 'g'), replace);\n</code></pre>\n\n<p>};</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 35791028, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<pre><code>function replaceAll(str, find, replace) {\n    var $r=\"\";\n    while($r!=str){ \n        $r = str;\n        str = str.replace(find, replace);\n    }\n    return str;\n}\n</code></pre>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 36555927, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Although people have mentioned the use of regex but there's a better approach if you want to replace the text irrespective of the case of the text. Like uppercase or lowercase. Use below syntax</p>\n\n<pre><code>//Consider below example\noriginalString.replace(/stringToBeReplaced/gi, '');\n\n//Output will be all the occurrences removed irrespective of casing.\n</code></pre>\n\n<p>You can refer the detailed example <a href=\"http://www.cheezycode.com/2015/08/javascript-hacks-for-html-webpage.html\" rel=\"nofollow\">here</a>.</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 37011914, "question_id": 1144783, "tags": ["javascript"]}, {"body": "<p>Well, quite late, but if someone reads this... maybe this is just what you needed... say you want to replace all the 'abc' with 'x':</p>\n\n<pre><code>let some_str = 'abc def def lom abc abc def'.split('abc').join('x')\nconsole.log(some_str) //x def def lom x x def\n</code></pre>\n\n<p>Hope it helps... i was trying to think about something more simple than modifying the string prototype.</p>\n\n<p>Abrazo.</p>\n", "title": "Replacing all occurrences of a string in JavaScript", "answer_id": 39427298, "question_id": 1144783, "tags": ["javascript"]}], "question_id": 1144783}, {"body": "<p>I would like to know how to delete a commit.</p>\n\n<p>By \"delete\", I mean it is as if I didn't make that commit, and when I do a push in the future, my changes will not push to the remote branch.</p>\n\n<p>I read git help, and I think the command I should use is <code>git reset --hard HEAD</code>.  Is this correct?</p>\n", "title": "Delete commits from a branch in Git", "tags": ["git", "git-rebase"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1338728/delete-commits-from-a-branch-in-git", "answers": [{"body": "<p><strong>Careful:</strong> <code>git reset --hard</code> <em>WILL DELETE YOUR WORKING DIRECTORY CHANGES</em>. Be sure to <strong>stash any local changes you want to keep</strong> before running this command.</p>\n\n<p>Assuming you are sitting on that commit, then this command will wack it...</p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n\n<p>The <code>HEAD~1</code> means the commit before head.</p>\n\n<p>Or, you could look at the output of <code>git log</code>, find the commit id of the commit you want to back up to, and then do this:</p>\n\n<pre><code>git reset --hard &lt;sha1-commit-id&gt;\n</code></pre>\n\n<hr/>\n\n<p>If you already pushed it, you will need to do a force push to get rid of it...</p>\n\n<pre><code>git push origin HEAD --force\n</code></pre>\n\n<p><strong>However</strong>, if others may have pulled it, then you would be better off starting a new branch.  Because when they pull, it will just merge it into their work, and you will get it pushed back up again.</p>\n\n<p>If you already pushed, it may be better to use <code>git revert</code>, to create a \"mirror image\" commit that will undo the changes.  However, both commits will be in the log.</p>\n\n<hr />\n\n<p>FYI -- <code>git reset --hard HEAD</code> is great if you want to get rid of WORK IN PROGRESS.  It will reset you back to the most recent commit, and erase all the changes in your working tree and index.</p>\n\n<hr />\n\n<p>Lastly, if you need to find a commit that you \"deleted\", it is typically present in <code>git reflog</code> unless you have garbage collected your repository.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 1338744, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>Another possibility is one of my personal favorite commands:</p>\n\n<pre><code>git rebase -i &lt;commit&gt;~1\n</code></pre>\n\n<p>This will start the rebase in interactive mode <code>-i</code> at the point just before the commit you want to whack. The editor will start up listing all of the commits since then. Delete the line containing the commit you want to obliterate and save the file. Rebase will do the rest of the work, deleting only that commit, and replaying all of the others back into the log.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 1338756, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>If you have not yet pushed the commit anywhere, you can use <a href=\"http://git-scm.com/docs/git-rebase\"><code>git rebase -i</code></a> to remove that commit. First, find out how far back that commit is (approximately). Then do:</p>\n\n<pre><code>git rebase -i HEAD~N\n</code></pre>\n\n<p>The <code>~N</code> means rebase the last <code>N</code> commits (<code>N</code> must be a number, for example <code>HEAD~10</code>). Then, you can edit the file that Git presents to you to delete the offending commit. On saving that file, Git will then rewrite all the following commits as if the one you deleted didn't exist.</p>\n\n<p>The Git Book has a good <a href=\"http://git-scm.com/book/en/Git-Branching-Rebasing\">section on rebasing</a> with pictures and examples.</p>\n\n<p>Be careful with this though, because if you change something that you <em>have</em> pushed elsewhere, another approach will be needed.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 1338758, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>If you didn't publish changes, to remove latest commit, you can do</p>\n\n<pre><code>$ git reset --hard HEAD^\n</code></pre>\n\n<p>(note that this would also remove all uncommitted changes; use with care).</p>\n\n<p>If you already published to-be-deleted commit, use <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-revert.html\" title=\"git-revert - Revert an existing commit\">git revert</a></p>\n\n<pre><code>$ git revert HEAD\n</code></pre>\n", "title": "Delete commits from a branch in Git", "answer_id": 1340273, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>All the commands above restore the state of your work tree and index as they were before making the commit, but do not restore the state of the repository. If you look at it, the \"removed\" commit is not actually removed, it is simply not the one on the tip of the current branch.</p>\n\n<p>I think that there are no means to remove a commit with <a href=\"http://git-scm.com/book/ch9-1.html\">porcelain commands</a>. The only way is to remove it from the log and reflog and then to execute a <code>git prune --expire -now</code>.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 12722129, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>I know this question is fully answered, but I'd like to summarize the (few) safe steps to undo a git commit for those (like me) who were in panic after a bad commit:</p>\n\n<ol>\n<li><p>go into the source directory and make a backup of your code with command:</p>\n\n<blockquote>\n  <p>tar czvf code.tgz *</p>\n</blockquote></li>\n<li><p>display the git commit list with the command:</p>\n\n<blockquote>\n  <p>git log</p>\n</blockquote></li>\n<li><p>get the \"sha1-commit-id\" of the commit <strong>under</strong> your unwanted commit, this is the id of the commit before yours (the git log lists the more recent commit first)</p></li>\n<li><p>revert back the unwanted commit with the command</p>\n\n<blockquote>\n  <p>git reset --hard \"sha1-commit-id\"</p>\n</blockquote>\n\n<p>*you can check you did it correctly by issuing anoter <em>git log</em> command*</p></li>\n<li><p>get back your uncommited code with the command:</p>\n\n<blockquote>\n  <p>tar xzvf code.tgz</p>\n</blockquote></li>\n</ol>\n\n<p>The tar commands are used to get sure your hard work does not get wiped by mistake, as the <code>git reset</code> command will delete your working directory changes, so step 1 and 5 are used to stash the local changes.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 12823932, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p><strong>I'm appending this answer because I don't see why anyone who has just tried to commit work would want to delete all that work because of some mistake using Git!</strong></p>\n\n<p>If you want to keep your work and just 'undo' that commit command (you caught before pushing to repo):</p>\n\n<pre><code>git reset --soft HEAD~1\n</code></pre>\n\n<p><strong>Do not use the --hard</strong> flag unless you want to destroy your work in progress since the last commit.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 12901606, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>Here's another way to do this:</p>\n\n<p>Checkout the branch you want to revert, then reset your local working copy back to the commit that you want to be the latest one on the remote server (everything after it will go bye-bye). To do this, in SourceTree I right-clicked on the and selected \"Reset BRANCHNAME to this commit\". I think the command line is:</p>\n\n<pre><code>git reset --hard COMMIT_ID\n</code></pre>\n\n<p>Since you just checked out your branch from remote, you're not going to have any local changes to worry about losing. But this would lose them if you did.</p>\n\n<p>Then navigate to your repository's local directory and run this command:</p>\n\n<pre><code>git -c diff.mnemonicprefix=false -c core.quotepath=false \\\npush -v -f --tags REPOSITORY_NAME BRANCHNAME:BRANCHNAME\n</code></pre>\n\n<p>This will erase all commits after the current one in your local repository but only for that one branch.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 16527617, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>If you just messed up your last commit (wrong message, forgot to add some changes) and want to fix it before pushing it to a public repo why not use:</p>\n\n<pre><code>git commit --amend -m \"New message here\"\n</code></pre>\n\n<p>If you have newly staged changes they'll be combined with the last commit (that you're trying to get rid of) and will replace that commit.</p>\n\n<p>Of course if you amend a commit after you've pushed it, you're rewriting history so if you do that be sure to understand the implications.</p>\n\n<p>You can also pass the '--no-edit' option instead of '-m' if you would prefer to use the previous commit's message.</p>\n\n<p>Docs:\n<a href=\"http://git-scm.com/docs/git-commit.html\" rel=\"nofollow\">http://git-scm.com/docs/git-commit.html</a></p>\n", "title": "Delete commits from a branch in Git", "answer_id": 23878924, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>If you want to fix up your latest commit, you can undo the commit, and unstage the files in it, by doing:</p>\n\n<pre><code>git reset HEAD~1\n</code></pre>\n\n<p>This will return your repository to its state before the git add commands that staged the files. Your changes will be in your working directory. HEAD~1 refers to the commit below the current tip of the branch.</p>\n\n<p>If you want to uncommit N commits, but keep the code changes in your working directory:</p>\n\n<pre><code>git reset HEAD~N\n</code></pre>\n\n<p>If you want to get rid of your latest commit, and do not want to keep the code changes, you can do a \"hard\" reset.</p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n\n<p>Likewise, if you want to discard the last N commits, and do not want to keep the code changes:</p>\n\n<pre><code>git reset --hard HEAD~N\n</code></pre>\n", "title": "Delete commits from a branch in Git", "answer_id": 23967514, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>To delete in local branch, use</p>\n\n<pre><code>git reset --hard HEAD~1\n</code></pre>\n\n<p>To delete in a remote branch, use </p>\n\n<pre><code>git push origin HEAD --force\n</code></pre>\n", "title": "Delete commits from a branch in Git", "answer_id": 25553279, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<pre><code>git reset --hard commitId\n\ngit push --force\n</code></pre>\n\n<p>PS: CommitId refers the one which you want to revert back to</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 26401312, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>Assuming you have not pushed to the remote repository, you could re-clone the repository. This has been my method of choice a few times.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 27717392, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>If you want to keep the history, showing the commit and the revert, you should use:</p>\n\n<pre><code>git revert GIT_COMMIT_HASH\n</code></pre>\n\n<p>enter the message explaining why are you reverting and then:</p>\n\n<pre><code>git push  \n</code></pre>\n\n<p>When you issue <code>git log</code> you'll see both the \"wrong\" commit and revert log messages.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 27822456, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>git reset --hard </p>\n\n<p>git push origin HEAD --force</p>\n\n<p><strong>If one or more of the commits is tagged, delete the tag(s) first.</strong> Otherwise the tagged commit is not removed.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 31613509, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p><strong>Removing an entire commit</strong></p>\n\n<pre><code>git rebase -p --onto SHA^ SHA\n</code></pre>\n\n<p>Obviously replace \"SHA\" with the reference you want to get rid of. The \"^\" in that command is literal.</p>\n\n<p><a href=\"http://sethrobertson.github.io/GitFixUm/fixup.html\">http://sethrobertson.github.io/GitFixUm/fixup.html</a></p>\n", "title": "Delete commits from a branch in Git", "answer_id": 32318688, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<pre><code>git rebase -i HEAD~2\n</code></pre>\n\n<p>Here '2' is the number of commits you want to rebase.   </p>\n\n<pre><code>'git rebase -i HEAD`\n</code></pre>\n\n<p>if you want to rebase all the commits.</p>\n\n<p>Then you will be able to choose one of these options.</p>\n\n<p><code>p, pick = use commit</code></p>\n\n<p><code>r, reword = use commit, but edit the commit message</code></p>\n\n<p><code>e, edit = use commit, but stop for amending</code></p>\n\n<p><code>s, squash = use commit, but meld into previous commit</code></p>\n\n<p><code>f, fixup = like \"squash\", but discard this commit's log message</code></p>\n\n<p><code>x, exec = run command (the rest of the line) using shell</code></p>\n\n<p><code>d, drop = remove commit</code></p>\n\n<p>These lines can be re-ordered; they are executed from top to bottom.\n If you remove a line here THAT COMMIT WILL BE LOST.\n However, if you remove everything, the rebase will be aborted.\n Note that empty commits are commented out</p>\n\n<p>You can simply remove that commit using option \"d\" or Removing a line that has your commit.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 37311746, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>The mistake:</p>\n\n<p>I <code>git rebase -i --root</code>'ed my branch, ignorantly thinking I could reword the first commit differing from the master (the <em>GitHub for Windows</em> default view is the comparison to master, hiding it's entirety).</p>\n\n<p>I grew a Silicon Valley beard while 900+ commits loaded themselves into Sublime. Exiting with no changes, I charged my battery then proceeded to shave, as all 900+ individual commits nonchalantly rebased - resetting their commit times to now.</p>\n\n<p>Determined to beat Git and preserve the original times, I deleted this local repository and re-cloned from the remote.</p>\n\n<p>Now it had re-added a most recent unneeded commit to master I wished to remove, so proceeded like so.</p>\n\n<p>Exhausting the options:</p>\n\n<p>I didn't wish to <code>git revert</code> - it would create an additional commit, giving Git the upper hand.</p>\n\n<p><code>git reset --hard HEAD</code> did nothing, after checking the <code>reflog</code>, the last and only <code>HEAD</code> was the clone - Git wins.</p>\n\n<p>To get the most recent SHA, I checked the remote repository on github.com - minor win.</p>\n\n<p>After thinking <code>git reset --hard &lt;SHA&gt;</code> had worked, I updated another branch to master and 1... 2... poof! the commit was back - Git wins.</p>\n\n<p>Checking back out to master, time to try <code>git rebase -i &lt;SHA&gt;</code>, then remove the line... to no avail, sad to say. \"<em>If you remove a line here THAT COMMIT WILL BE LOST</em>\". Ah...glossed over new feature <em>troll the n00b</em> in the <a href=\"https://www.dropbox.com/s/swukg8jqui0wc69/2.8.3.txt\" rel=\"nofollow\">2.8.3 release notes</a>.</p>\n\n<p>The solution:</p>\n\n<p><code>git rebase -i &lt;SHA&gt;</code> then <code>d, drop = remove commit</code>.</p>\n\n<p>To verify, I checked out to another branch, and voila - no hiding commit to fetch/pull from the master.</p>\n\n<p><a href=\"https://twitter.com/holman/status/706006896273063936\" rel=\"nofollow\">https://twitter.com/holman/status/706006896273063936</a></p>\n\n<p>Good day to you.</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 37447109, "question_id": 1338728, "tags": ["git", "git-rebase"]}, {"body": "<p>Take backup of your code in to temp folder.\nFollowing command will reset same as server.</p>\n\n<pre><code>git reset --hard HEAD\ngit clean -f\ngit pull\n</code></pre>\n\n<p>Then copy the required files alone from temp folder, then commit</p>\n", "title": "Delete commits from a branch in Git", "answer_id": 38372932, "question_id": 1338728, "tags": ["git", "git-rebase"]}], "question_id": 1338728}, {"body": "<p>How do I get the website URL?</p>\n\n<p>Not the URL as taken from a link. On the loading page, I want to get the full, current URL of the current web page and store its value in a variable.</p>\n", "title": "Get current URL in web browser", "tags": ["javascript", "url", "window.location"], "answer_count": 11, "link": "http://stackoverflow.com/questions/1034621/get-current-url-in-web-browser", "answers": [{"body": "<p>Gets the current page URL:</p>\n\n<pre><code>window.location.href\n</code></pre>\n", "title": "Get current URL in web browser", "answer_id": 1034638, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>Use:</p>\n\n<pre><code>window.location.href \n</code></pre>\n\n<p>As noted in the comments, the line below works but is bugged for Firefox.</p>\n\n<pre><code>document.URL;\n</code></pre>\n\n<p>See <strong><a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-46183437\">URL of type DOMString, readonly</a></strong>.</p>\n", "title": "Get current URL in web browser", "answer_id": 1034642, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>The same question <a href=\"http://stackoverflow.com/questions/1029387/request-address-in-javascript\">has been asked less than 24 hours ago</a>. To quote myself:</p>\n\n<blockquote>\n  <p>Use <code>window.location</code> for read and\n  write access to the <a href=\"https://developer.mozilla.org/En/DOM/Window.location#Location%5Fobject\">location\n  object</a>\n  associated with the current frame. If\n  you just want to get the address as a\n  read-only string, you may use\n  <code>document.URL</code>, which should contain\n  the same value as\n  <code>window.location.href</code>.</p>\n</blockquote>\n", "title": "Get current URL in web browser", "answer_id": 1034697, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<pre><code>var currentPageUrlIs = \"\";\nif (typeof this.href != \"undefined\") {\n       currentPageUrlIs = this.href.toString().toLowerCase(); \n}else{ \n       currentPageUrlIs = document.location.toString().toLowerCase();\n}\n</code></pre>\n\n<p>The above code can also help someone </p>\n", "title": "Get current URL in web browser", "answer_id": 20682414, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>JavaScript provides you many methods to retrieve and change the current URL which is displayed in browser's address bar. All these methods uses the Location object, which is  a property of the Window object. You can create a new Location object that has the current URL as follows:</p>\n\n<pre><code>var currentLocation = window.location;\n</code></pre>\n\n<p><strong>Basic Structure of a URL</strong></p>\n\n<pre><code>&lt;protocol&gt;//&lt;hostname&gt;:&lt;port&gt;/&lt;pathname&gt;&lt;search&gt;&lt;hash&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/4kiBE.jpg\" alt=\"Basic structure of a URL\"></p>\n\n<ol>\n<li><p>Protocol -- Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))</p></li>\n<li><p>hostname -- Host name specifies the host that owns the resource. For example, <code>www.stackoverflow.com</code>. A server provides services using the name of the host.</p></li>\n<li><p>port -- A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.</p></li>\n<li><p>pathname -- The path gives info about the specific resource within the host that the Web client wants to access. For example, <code>/index.html</code>.</p></li>\n<li><p>query --  A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed). </p></li>\n<li><p>hash -- The anchor portion of a URL, includes the hash sign (#).</p></li>\n</ol>\n\n<p>With these Location object properties you can access all of these URL components</p>\n\n<ol>\n<li><strong>hash</strong>   - Sets or returns the anchor portion of a URL.  </li>\n<li><strong>host</strong>   - Sets or returns the hostname and port of a URL.   </li>\n<li><strong>hostname</strong> - Sets or returns the hostname of a URL.   </li>\n<li><strong>href</strong>   - Sets or returns the entire URL.  </li>\n<li><strong>pathname</strong>   - Sets or returns the path name of a URL.   </li>\n<li><strong>port</strong> - Sets or returns the port number the server uses for a URL.  </li>\n<li><strong>protocol</strong>   - Sets or returns the protocol of a URL.   </li>\n<li><strong>search</strong>   - Sets or returns the query portion of a URL</li>\n</ol>\n\n<p>I Hope you got your answer..</p>\n", "title": "Get current URL in web browser", "answer_id": 20746566, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>Use: <code>window.location.href</code>.</p>\n\n<p>As noted above, <code>document.URL</code> <strong>doesn't update</strong> when updating <code>window.location</code>. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.URL\">MDN</a>.</p>\n", "title": "Get current URL in web browser", "answer_id": 23298168, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>For complete URL with query strings:</p>\n\n<pre><code>document.location.toString().toLowerCase();\n</code></pre>\n\n<p>For host URL:</p>\n\n<pre><code>window.location\n</code></pre>\n", "title": "Get current URL in web browser", "answer_id": 25695132, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<ul>\n<li>Use <code>window.location.href</code> to get the complete URL. </li>\n<li>Use <code>window.location.pathname</code> to get URL leaving the host.</li>\n</ul>\n", "title": "Get current URL in web browser", "answer_id": 29272113, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p><strong>To get the path, you can use:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>alert(\"Url  =\"+document.location);\r\nalert(\"PathName  =\"+ window.location.pathname);// Returns path only\r\nalert(\"url  =\"+window.location.href);// Returns full URL</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Get current URL in web browser", "answer_id": 32495055, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>Way to get the current location object is <code>window.location</code></p>\n\n<p>Compare this to <code>document.location</code>, which originally only returned the current URL as a string. Probably to avoid confusion, <code>document.location</code> was replaced with <code>document.URL</code>.</p>\n\n<p>And, all modern browsers map <code>document.location</code> to <code>window.location</code>.</p>\n\n<p>In reality, for cross browser safety, you should use <code>window.location</code> rather than <code>document.location</code>.</p>\n", "title": "Get current URL in web browser", "answer_id": 32846105, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}, {"body": "<p>In jstl we can access current url path using <code>pageContext.request.contextPath</code>, If you want to do a ajax call, use following url.</p>\n\n<pre><code>  url = \"${pageContext.request.contextPath}\" + \"/controller/path\"\n</code></pre>\n\n<p>Ex: in the page <code>http://stackoverflow.com/posts/36577223</code> this will give <code>http://stackoverflow.com/controller/path</code></p>\n", "title": "Get current URL in web browser", "answer_id": 36577223, "question_id": 1034621, "tags": ["javascript", "url", "window.location"]}], "question_id": 1034621}, {"body": "<p>I have a dictionary of values read from two fields in a database: a string field and a numeric field. The string field is unique, so that is the key of the dictionary.</p>\n\n<p>I can sort on the keys, but how can I sort based on the values?</p>\n\n<p>Note: I have read Stack Overflow question <a href=\"http://stackoverflow.com/questions/72899\">How do I sort a list of dictionaries by values of the dictionary in Python?</a> and probably could change my code to have a list of dictionaries, but since I do not really need a list of dictionaries I wanted to know if there is a simpler solution.</p>\n", "title": "Sort a Python dictionary by value", "tags": ["python", "sorting", "dictionary"], "answer_count": 35, "link": "http://stackoverflow.com/questions/613183/sort-a-python-dictionary-by-value", "answers": [{"body": "<p>Technically, dictionaries aren't sequences, and therefore can't be sorted. You can do something like</p>\n\n<pre><code>sorted(a_dictionary.values())\n</code></pre>\n\n<p>assuming performance isn't a huge deal.</p>\n\n<p>UPDATE: Thanks to the commenters for pointing out that I made this way too complicated in the beginning.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 613207, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>It is not possible to sort a dict, only to get a representation of a dict that is sorted. Dicts are inherently orderless, but other types, such as lists and tuples, are not. So you need a sorted representation, which will be a list\u2014probably a list of tuples.</p>\n\n<p>For instance,</p>\n\n<pre><code>import operator\nx = {1: 2, 3: 4, 4: 3, 2: 1, 0: 0}\nsorted_x = sorted(x.items(), key=operator.itemgetter(1))\n</code></pre>\n\n<p><code>sorted_x</code> will be a list of tuples sorted by the second element in each tuple. <code>dict(sorted_x) == x</code>.</p>\n\n<p>And for those wishing to sort on keys instead of values:</p>\n\n<pre><code>import operator\nx = {1: 2, 3: 4, 4: 3, 2: 1, 0: 0}\nsorted_x = sorted(x.items(), key=operator.itemgetter(0))\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 613218, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Dicts can't be sorted, but you can build a sorted list from them.</p>\n\n<p>A sorted list of dict values:</p>\n\n<pre><code>sorted(d.values())\n</code></pre>\n\n<p>A list of (key, value) pairs, sorted by value:</p>\n\n<pre><code>from operator import itemgetter\nsorted(d.items(), key=itemgetter(1))\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 613228, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Pretty much the same as Hank Gay's answer;</p>\n\n<pre>\nsorted([(value,key) for (key,value) in mydict.items()])\n</pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 613230, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>You can create an \"inverted index\", also</p>\n\n<pre><code>from collections import defaultdict\ninverse= defaultdict( list )\nfor k, v in originalDict.items():\n    inverse[v].append( k )\n</code></pre>\n\n<p>Now your inverse has the values; each value has a list of applicable keys.</p>\n\n<pre><code>for k in sorted(inverse):\n    print k, inverse[k]\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 613326, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>You could use:</p>\n\n<p><code>sorted(d.items(), key=lambda x: x[1])</code></p>\n\n<p>This will sort the dictionary by the values of each entry within the dictionary from smallest to largest.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 2258273, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>In recent Python 2.7, we have the new <a href=\"http://docs.python.org/dev/whatsnew/2.7.html#pep-372-adding-an-ordered-dictionary-to-collections\">OrderedDict</a> type, which remembers the order in which the items were added.</p>\n\n<pre><code>&gt;&gt;&gt; d = {\"third\": 3, \"first\": 1, \"fourth\": 4, \"second\": 2}\n\n&gt;&gt;&gt; for k, v in d.items():\n...     print \"%s: %s\" % (k, v)\n...\nsecond: 2\nfourth: 4\nthird: 3\nfirst: 1\n\n&gt;&gt;&gt; d\n{'second': 2, 'fourth': 4, 'third': 3, 'first': 1}\n</code></pre>\n\n<p>To make a new ordered dictionary from the original, sorting by the values:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import OrderedDict\n&gt;&gt;&gt; d_sorted_by_value = OrderedDict(sorted(d.items(), key=lambda x: x[1]))\n</code></pre>\n\n<p>The OrderedDict behaves like a normal dict:</p>\n\n<pre><code>&gt;&gt;&gt; for k, v in d_sorted_by_value.items():\n...     print \"%s: %s\" % (k, v)\n...\nfirst: 1\nsecond: 2\nthird: 3\nfourth: 4\n\n&gt;&gt;&gt; d_sorted_by_value\nOrderedDict([('first': 1), ('second': 2), ('third': 3), ('fourth': 4)])\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 3177025, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<h2>As simple as: <code>sorted(dict1, key=dict1.get)</code></h2>\n\n<p>Well, it is actually possible to do a \"sort by dictionary values\". Recently I had to do that in a Code Golf (Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/3169051/code-golf-word-frequency-chart#3170549\">Code golf: Word frequency chart</a></em>). Abridged, the problem was of the kind: given a text, count how often each word is encountered and display list of the top words, sorted by decreasing frequency. </p>\n\n<p>If you construct a dictionary with the words as keys and the number of occurences of each word as value, simplified here as</p>\n\n<pre><code>d = defaultdict(int)\nfor w in text.split():\n  d[w] += 1\n</code></pre>\n\n<p>then you can get list of the words in order of frequency of use with <code>sorted(d, key=d.get)</code> - the sort iterates over the dictionary keys, using as sort-key the number of word occurrences. </p>\n\n<pre><code>for w in sorted(d, key=d.get, reverse=True):\n  print w, d[w]\n</code></pre>\n\n<p>I am writing this detailed explanation to illustrate what do people often mean by \"I can easily sort a dictionary by key, but how do I sort by value\" - and I think the OP was trying to address such an issue. And the solution is to do sort of list of the keys, based on the values, as shown above.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 3177911, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<pre><code>from django.utils.datastructures import SortedDict\n\ndef sortedDictByKey(self,data):\n    \"\"\"Sorted dictionary order by key\"\"\"\n    sortedDict = SortedDict()\n    if data:\n        if isinstance(data, dict):\n            sortedKey = sorted(data.keys())\n            for k in sortedKey:\n                sortedDict[k] = data[k]\n    return sortedDict\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 4068769, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>I had the same problem, I solved it like this:</p>\n\n<pre><code>WantedOutput = sorted(MyDict, key=lambda x : MyDict[x]) \n</code></pre>\n\n<p>(people who answer: \"It is not possible to sort a dict\" did not read the question!!\nIn fact \"I can sort on the keys, but how can I sort based on the values?\" clearly means that he wants a list of the keys sorted according to the value of their values.)</p>\n\n<p>Please notice that the order is not well defined (keys with the same value will be in an arbitrary order in the output list)</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 4215710, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>This is the code:</p>\n\n<pre><code>import operator\norigin_list = [\n    {\"name\": \"foo\", \"rank\": 0, \"rofl\": 20000},\n    {\"name\": \"Silly\", \"rank\": 15, \"rofl\": 1000},\n    {\"name\": \"Baa\", \"rank\": 300, \"rofl\": 20},\n    {\"name\": \"Zoo\", \"rank\": 10, \"rofl\": 200},\n    {\"name\": \"Penguin\", \"rank\": -1, \"rofl\": 10000}\n]\nprint \"&gt;&gt; Original &gt;&gt;\"\nfor foo in origin_list:\n    print foo\n\nprint \"\\n&gt;&gt; Rofl sort &gt;&gt;\"\nfor foo in sorted(origin_list, key=operator.itemgetter(\"rofl\")):\n    print foo\n\nprint \"\\n&gt;&gt; Rank sort &gt;&gt;\"\nfor foo in sorted(origin_list, key=operator.itemgetter(\"rank\")):\n    print foo\n</code></pre>\n\n<p>Here are the results:</p>\n\n<p><strong>Original</strong></p>\n\n<pre><code>{'name': 'foo', 'rank': 0, 'rofl': 20000}\n{'name': 'Silly', 'rank': 15, 'rofl': 1000}\n{'name': 'Baa', 'rank': 300, 'rofl': 20}\n{'name': 'Zoo', 'rank': 10, 'rofl': 200}\n{'name': 'Penguin', 'rank': -1, 'rofl': 10000}\n</code></pre>\n\n<p><strong>Rofl</strong></p>\n\n<pre><code>{'name': 'Baa', 'rank': 300, 'rofl': 20}\n{'name': 'Zoo', 'rank': 10, 'rofl': 200}\n{'name': 'Silly', 'rank': 15, 'rofl': 1000}\n{'name': 'Penguin', 'rank': -1, 'rofl': 10000}\n{'name': 'foo', 'rank': 0, 'rofl': 20000}\n</code></pre>\n\n<p><strong>Rank</strong> </p>\n\n<pre><code>{'name': 'Penguin', 'rank': -1, 'rofl': 10000}\n{'name': 'foo', 'rank': 0, 'rofl': 20000}\n{'name': 'Zoo', 'rank': 10, 'rofl': 200}\n{'name': 'Silly', 'rank': 15, 'rofl': 1000}\n{'name': 'Baa', 'rank': 300, 'rofl': 20}\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 5227519, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>It can often be very handy to use <b><a href=\"http://docs.python.org/library/collections.html#collections.namedtuple\">namedtuple</a></b>. For example, you have a dictionary of 'name' as keys and 'score' as values and you want to sort on 'score':</p>\n\n<pre><code>import collections\nPlayer = collections.namedtuple('Player', 'score name')\nd = {'John':5, 'Alex':10, 'Richard': 7}\n</code></pre>\n\n<p>sorting with lowest score first:</p>\n\n<pre><code>worst = sorted(Player(v,k) for (k,v) in d.items())\n</code></pre>\n\n<p>sorting with highest score first:</p>\n\n<pre><code>best = sorted([Player(v,k) for (k,v) in d.items()], reverse=True)\n</code></pre>\n\n<p>Now you can get the name and score of, let's say the second-best player (index=1) very Pythonically like this:</p>\n\n<pre><code>    player = best[1]\n    player.name\n        'Richard'\n    player.score\n         7\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 7237524, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Use <strong>ValueSortedDict</strong> from <a href=\"http://pypi.python.org/pypi/dicts\">dicts</a>:</p>\n\n<pre><code>from dicts.sorteddict import ValueSortedDict\nd = {1: 2, 3: 4, 4:3, 2:1, 0:0}\nsorted_dict = ValueSortedDict(d)\nprint sorted_dict.items() \n\n[(0, 0), (2, 1), (1, 2), (4, 3), (3, 4)]\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 7817348, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Iterate through a dict and sort it by its values in descending order:</p>\n\n<pre><code>$ python --version\nPython 3.2.2\n\n$ cat sort_dict_by_val_desc.py \ndictionary = dict(siis = 1, sana = 2, joka = 3, tuli = 4, aina = 5)\nfor word in sorted(dictionary, key=dictionary.get, reverse=True):\n  print(word, dictionary[word])\n\n$ python sort_dict_by_val_desc.py \naina 5\ntuli 4\njoka 3\nsana 2\nsiis 1\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 7947321, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>This works in 3.1.x:</p>\n\n<pre><code>import operator\nslovar_sorted=sorted(slovar.items(), key=operator.itemgetter(1), reverse=True)\nprint(slovar_sorted)\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 8148132, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>If your values are integers, and you use Python 2.7 or newer, you can use <a href=\"http://docs.python.org/py3k/library/collections.html#collections.Counter\"><code>collections.Counter</code></a> instead of <code>dict</code>. The <code>most_common</code> method will give you all items, sorted by the value.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 8992838, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>If values are numeric you may also use Counter from collections</p>\n\n<pre><code>from collections import Counter\n\nx={'hello':1,'python':5, 'world':3}\nc=Counter(x)\nprint c.most_common()\n\n\n&gt;&gt; [('python', 5), ('world', 3), ('hello', 1)]    \n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 11230132, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Using Python 3.2:</p>\n\n<pre><code>x = {\"b\":4, \"a\":3, \"c\":1}\nfor i in sorted(x.values()):\n    print(list(x.keys())[list(x.values()).index(i)])\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 13208582, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>You can use the <a href=\"http://docs.python.org/2/library/collections.html#collections.Counter\">collections.Counter</a>. Note, this will work for both numeric and non-numeric values.</p>\n\n<pre><code>&gt;&gt;&gt; x = {1: 2, 3: 4, 4:3, 2:1, 0:0}\n&gt;&gt;&gt; from collections import Counter\n&gt;&gt;&gt; #To sort in reverse order\n&gt;&gt;&gt; Counter(x).most_common()\n[(3, 4), (4, 3), (1, 2), (2, 1), (0, 0)]\n&gt;&gt;&gt; #To sort in ascending order\n&gt;&gt;&gt; Counter(x).most_common()[::-1]\n[(0, 0), (2, 1), (1, 2), (4, 3), (3, 4)]\n&gt;&gt;&gt; #To get a dictionary sorted by values\n&gt;&gt;&gt; from collections import OrderedDict\n&gt;&gt;&gt; OrderedDict(Counter(x).most_common()[::-1])\nOrderedDict([(0, 0), (2, 1), (1, 2), (4, 3), (3, 4)])\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 15310681, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>For the sake of completeness, I am posting a solution using <a href=\"http://docs.python.org/2/library/heapq.html\" rel=\"nofollow\">heapq</a>. Note, this method will work for both numeric and non-numeric values</p>\n\n<pre><code>&gt;&gt;&gt; x = {1: 2, 3: 4, 4:3, 2:1, 0:0}\n&gt;&gt;&gt; x_items = x.items()\n&gt;&gt;&gt; heapq.heapify(x_items)\n&gt;&gt;&gt; #To sort in reverse order\n&gt;&gt;&gt; heapq.nlargest(len(x_items),x_items, operator.itemgetter(1))\n[(3, 4), (4, 3), (1, 2), (2, 1), (0, 0)]\n&gt;&gt;&gt; #To sort in ascending order\n&gt;&gt;&gt; heapq.nsmallest(len(x_items),x_items, operator.itemgetter(1))\n[(0, 0), (2, 1), (1, 2), (4, 3), (3, 4)]\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 15587800, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>I came up with this one, </p>\n\n<pre><code>import operator    \nx = {1: 2, 3: 4, 4:3, 2:1, 0:0}\nsorted_x = {k[0]:k[1] for k in sorted(x.items(), key=operator.itemgetter(1))}\n</code></pre>\n\n<p>For Python 3.x: <code>x.items()</code> replacing <code>iteritems()</code>.</p>\n\n<pre><code>&gt;&gt;&gt; sorted_x\n{0: 0, 1: 2, 2: 1, 3: 4, 4: 3}\n</code></pre>\n\n<p>Or try with <code>collections.OrderedDict</code>!</p>\n\n<pre><code>x = {1: 2, 3: 4, 4:3, 2:1, 0:0}\nfrom collections import OrderedDict\n\nod1 = OrderedDict(sorted(x.items(), key=lambda t: t[1]))\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 16435785, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>In Python 2.7, simply do:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from collections import OrderedDict\n# regular unsorted dictionary\nd = {'banana': 3, 'apple':4, 'pear': 1, 'orange': 2}\n\n# dictionary sorted by key\nOrderedDict(sorted(d.items(), key=lambda t: t[0]))\nOrderedDict([('apple', 4), ('banana', 3), ('orange', 2), ('pear', 1)])\n\n# dictionary sorted by value\nOrderedDict(sorted(d.items(), key=lambda t: t[1]))\nOrderedDict([('pear', 1), ('orange', 2), ('banana', 3), ('apple', 4)])\n</code></pre>\n\n<p>copy-paste from : <a href=\"http://docs.python.org/dev/library/collections.html#ordereddict-examples-and-recipes\">http://docs.python.org/dev/library/collections.html#ordereddict-examples-and-recipes</a></p>\n\n<p>Enjoy ;-)</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 18375444, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>This returns the list of key-value pairs in the dictionary, sorted by value from highest to lowest:</p>\n\n<pre><code>sorted(d.items(), key=lambda x: x[1], reverse=True)\n</code></pre>\n\n<p>For the dictionary sorted by key, use the following:</p>\n\n<pre><code>sorted(d.items(), reverse=True)\n</code></pre>\n\n<p>The return is a list of tuples because dictionaries themselves can't be sorted.</p>\n\n<p>This can be both printed or sent into further computation.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 21738569, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<pre><code>months = {\"January\": 31, \"February\": 28, \"March\": 31, \"April\": 30, \"May\": 31,\n          \"June\": 30, \"July\": 31, \"August\": 31, \"September\": 30, \"October\": 31,\n          \"November\": 30, \"December\": 31}\n\ndef mykey(t):\n    \"\"\" Customize your sorting logic using this function.  The parameter to\n    this function is a tuple.  Comment/uncomment the return statements to test\n    different logics.\n    \"\"\"\n    return t[1]              # sort by number of days in the month\n    #return t[1], t[0]       # sort by number of days, then by month name\n    #return len(t[0])        # sort by length of month name\n    #return t[0][-1]         # sort by last character of month name\n\n\n# Since a dictionary can't be sorted by value, what you can do is to convert\n# it into a list of tuples with tuple length 2.\n# You can then do custom sorts by passing your own function to sorted().\nmonths_as_list = sorted(months.items(), key=mykey, reverse=False)\n\nfor month in months_as_list:\n    print month\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 21767696, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<pre><code>&gt;&gt;&gt; import collections\n&gt;&gt;&gt; x = {1: 2, 3: 4, 4:3, 2:1, 0:0}\n&gt;&gt;&gt; sorted_x = collections.OrderedDict(sorted(x.items(), key=lambda t:t[1]))\n&gt;&gt;&gt; OrderedDict([(0, 0), (2, 1), (1, 2), (4, 3), (3, 4)])\n</code></pre>\n\n<p><code>OrderedDict</code> is subclass of <code>dict</code></p>\n", "title": "Sort a Python dictionary by value", "answer_id": 21784867, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Because of requirements to retain backward compatability with older versions of <a href=\"http://en.wikipedia.org/wiki/Python_%28programming_language%29\" rel=\"nofollow\">Python</a> I think the OrderedDict solution is very unwise. You want something that works with Python 2.7 and older versions.</p>\n\n<p>But the collections solution mentioned in another answer is absolutely superb, because you retrain a connection between the key and value which in the case of dictionaries is extremely important.</p>\n\n<p>I don't agree with the number one choice presented in another answer, because it throws away the keys.</p>\n\n<p>I used the solution mentioned above (code shown below) and retained access to both keys and values and in my case the ordering was on the values, but the importance was the ordering of the keys after ordering the values.</p>\n\n<pre><code>from collections import Counter\n\nx = {'hello':1, 'python':5, 'world':3}\nc=Counter(x)\nprint c.most_common()\n\n\n&gt;&gt; [('python', 5), ('world', 3), ('hello', 1)]\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 22150003, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Why not try this approach. Let us define a dictionary called mydict with the following data:</p>\n\n<pre><code>mydict = {'carl':40,\n          'alan':2,\n          'bob':1,\n          'danny':3}\n</code></pre>\n\n<p>If one wanted to sort the dictionary by keys, one could do something like:</p>\n\n<pre><code>for key in sorted(mydict.iterkeys()):\n    print \"%s: %s\" % (key, mydict[key])\n</code></pre>\n\n<p>This should return the following output:</p>\n\n<pre><code>alan: 2\nbob: 1\ncarl: 40\ndanny: 3\n</code></pre>\n\n<p>On the other hand, if one wanted to sort a dictionary by value (as is asked in the question), one could do the following:</p>\n\n<pre><code>for key, value in sorted(mydict.iteritems(), key=lambda (k,v): (v,k)):\n    print \"%s: %s\" % (key, value)\n</code></pre>\n\n<p>The result of this command (sorting the dictionary by value) should return the following:</p>\n\n<pre><code>bob: 1\nalan: 2\ndanny: 3\ncarl: 40\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 22903797, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>You can use a <a href=\"https://pypi.python.org/pypi/skipdict/1.0\">skip dict</a> which is a dictionary that's permanently sorted by value.</p>\n\n<pre><code>&gt;&gt;&gt; data = {1: 2, 3: 4, 4: 3, 2: 1, 0: 0}\n&gt;&gt;&gt; SkipDict(data)\n{0: 0.0, 2: 1.0, 1: 2.0, 4: 3.0, 3: 4.0}\n</code></pre>\n\n<p>If you use <code>keys()</code>, <code>values()</code> or <code>items()</code> then you'll iterate in sorted order by value.</p>\n\n<p>It's implemented using the <a href=\"http://en.wikipedia.org/wiki/Skip_list\">skip list</a> datastructure.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 26049456, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>You can use the sorted function of Python</p>\n\n<p><code>sorted(iterable[, cmp[, key[, reverse]]])</code></p>\n\n<p>Thus you can use:</p>\n\n<p><code>sorted(dictionary.items(),key = lambda x :x[1])</code></p>\n\n<p>Visit this link for more information on sorted function: <a href=\"https://docs.python.org/2/library/functions.html#sorted\" rel=\"nofollow\">https://docs.python.org/2/library/functions.html#sorted</a></p>\n", "title": "Sort a Python dictionary by value", "answer_id": 27064308, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Here is a solution using zip on <a href=\"https://docs.python.org/2/library/stdtypes.html#dictionary-view-objects\" rel=\"nofollow\"><code>d.values()</code> and <code>d.keys()</code></a>.  A few lines down this link (on Dictionary view objects) is:</p>\n\n<blockquote>\n  <p>This allows the creation of (value, key) pairs using zip(): pairs = zip(d.values(), d.keys()).</p>\n</blockquote>\n\n<p>So we can do the following:</p>\n\n<pre><code>d = {'key1': 874.7, 'key2': 5, 'key3': 8.1}\n\nd_sorted = sorted(zip(d.values(), d.keys()))\n\nprint d_sorted \n# prints: [(5, 'key2'), (8.1, 'key3'), (874.7, 'key1')]\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 30949456, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>I've found that the following function performs well compared to other solutions posted, even on large dictionaries.</p>\n\n<pre><code>vsort = lambda d: sorted(d.iteritems(), key=lambda (k, v): v)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>data = {}\nfor i in range(10):\n    data[i] = i if i % 2  else -i\n\nprint 'Original'\nfor k, v in data.items():\n    print \"k: %s v: %s\" % (k, v)\nprint ''\n\nprint 'Value-sorted'\nfor k, v in vsort(data):\n    print \"k: %s v: %s\" % (k, v)\nprint ''\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Original\nk: 0 v: 0\nk: 1 v: 1\nk: 2 v: -2\nk: 3 v: 3\nk: 4 v: -4\nk: 5 v: 5\nk: 6 v: -6\nk: 7 v: 7\nk: 8 v: -8\nk: 9 v: 9\n\nValue-sorted\nk: 8 v: -8\nk: 6 v: -6\nk: 4 v: -4\nk: 2 v: -2\nk: 0 v: 0\nk: 1 v: 1\nk: 3 v: 3\nk: 5 v: 5\nk: 7 v: 7\nk: 9 v: 9\n</code></pre>\n\n<p>Sample timing code:</p>\n\n<pre><code>import numpy as np\nfrom time import time\nimport operator\nnp.random.seed(0)\n\nN = int(1e6)\nx = {i: np.random.random() for i in xrange(N)}\n\nt0 = -time()\nsorted_0 = sorted(x.items(), key=operator.itemgetter(1))\nt0 += time()\n\nt1 = -time()\nsorted_1 = vsort(x)\nt1 += time()\n\nprint 'operator-sort: %f vsort: %f' % (t0, t1)\nprint sorted_0[:3]\nprint sorted_1[:3]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>operator-sort: 2.041510 vsort: 1.692324\n[(661553, 7.071203171893359e-07), (529124, 1.333679640169727e-06), (263972, 2.9504162779581122e-06)]\n[(661553, 7.071203171893359e-07), (529124, 1.333679640169727e-06), (263972, 2.9504162779581122e-06)]\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 31689638, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p>Of course, remember, you need to use <code>OrderedDict</code> because regular Python dictionaries don't keep the original order. </p>\n\n<pre><code>from collections import OrderedDict\na = OrderedDict(sorted(originalDict.items(), key = lambda x: x[1]))\n</code></pre>\n\n<hr>\n\n<p>If you do not have Python 2.7 or higher, the best you can do is iterate over the values in a generator function. (There is an OrderedDict for 2.4 and 2.6  <a href=\"https://pypi.python.org/pypi/ordereddict\" rel=\"nofollow\">here</a>, but </p>\n\n<pre><code>a) I don't know about how well it works \n</code></pre>\n\n<p>and </p>\n\n<pre><code>b) You have to download and install it of course. If you do not have administrative access, then I'm afraid the option's out.)\n</code></pre>\n\n<hr>\n\n<pre><code>def gen(originalDict):\n    for x,y in sorted(zip(originalDict.keys(), originalDict.values()), key = lambda z: z[1]):\n        yield (x, y)\n    #Yields as a tuple with (key, value). You can iterate with conditional clauses to get what you want. \n\nfor bleh, meh in gen(myDict):\n    if bleh == \"foo\":\n        print(myDict[bleh])\n</code></pre>\n\n<hr>\n\n<p>You can also print out every value</p>\n\n<pre><code>for bleh, meh in gen(myDict):\n    print(bleh,meh)\n</code></pre>\n\n<p>Please remember to remove the parentheses after print if not using Python 3.0 or above</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 31741215, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<p><strong>UPDATE: 5 DECEMBER 2015 using Python 3.5</strong></p>\n\n<p>Whilst I found the accepted answer useful, I was also surprised that it hasn't been updated to reference <strong><a href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict\">OrderedDict</a></strong> from the standard library <strong>collections</strong> module as a viable, modern alternative - designed to solve exactly this type of problem.</p>\n\n<pre><code>from operator import itemgetter\nfrom collections import OrderedDict\n\nx = {1: 2, 3: 4, 4: 3, 2: 1, 0: 0}\nsorted_x = OrderedDict(sorted(x.items(), key=itemgetter(1)))\n# OrderedDict([(0, 0), (2, 1), (1, 2), (4, 3), (3, 4)])\n</code></pre>\n\n<p>The official <strong><a href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict\">OrderedDict</a></strong> documentation offers a very similar example too, but using a lambda for the sort function:</p>\n\n<pre><code># regular unsorted dictionary\nd = {'banana': 3, 'apple':4, 'pear': 1, 'orange': 2}\n\n# dictionary sorted by value\nOrderedDict(sorted(d.items(), key=lambda t: t[1]))\n# OrderedDict([('pear', 1), ('orange', 2), ('banana', 3), ('apple', 4)])\n</code></pre>\n", "title": "Sort a Python dictionary by value", "answer_id": 34103440, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<pre><code>&gt;&gt;&gt; e = {1:39, 4:34, 7:110, 2:87}\n&gt;&gt;&gt; sortE = sorted(e.items(), key=lambda value: value[1])\n&gt;&gt;&gt; print(sortE)\n[(4, 34), (1, 39), (2, 87), (7, 110)]\n</code></pre>\n\n<p>You can use a lambda function to sort things up by value and store them processed inside a variable, in this case <strong>sortE</strong> with <strong>e</strong> the original dictionary.</p>\n", "title": "Sort a Python dictionary by value", "answer_id": 34995529, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}, {"body": "<h1>As of <a href=\"https://docs.python.org/3.6/whatsnew/3.6.html\" rel=\"nofollow\">Python 3.6</a> the builtin dict will be ordered</h1>\n\n<p>Good news, so the OP's original use case of mapping pairs retrieved from a database with unique string ids as keys and numeric values as values into a builtin python v3.6+ dict, should now respect the insert order.</p>\n\n<p>If say the resulting 2 column table expression from a database query like:</p>\n\n<pre><code>SELECT a_key, a_value FROM a_table ORDER BY a_value;\n</code></pre>\n\n<p>would be stored in two python tuples k_seq and v_seq (aligned by numerical index and with the same length of course), then:</p>\n\n<pre><code>k_seq = ('foo', 'bar', 'baz')\nv_seq = (0, 1, 42)\nordered_map = dict(zip(k_seq, v_seq))\n</code></pre>\n\n<p>Allow to output later as:</p>\n\n<pre><code>for k, v in ordered_map.items():\n    print(k, v)\n</code></pre>\n\n<p>yielding in this case (for the new python 3.6+ builtin dict!):</p>\n\n<pre><code>foo 0\nbar 1\nbaz 42\n</code></pre>\n\n<p>in the same ordering per value of v.</p>\n\n<p>Where in the python 3.5 install on my machine it currently yields:</p>\n\n<pre><code>bar 1\nfoo 0\nbaz 42\n</code></pre>\n\n<h2>Details:</h2>\n\n<p>As proposed in 2012 by Raymond Hettinger (cf. Mail on python-dev with subject <a href=\"https://mail.python.org/pipermail/python-dev/2012-December/123028.html\" rel=\"nofollow\">\"More compact dictionaries with faster iteration\"</a>) and now (in 2016) announced in a mail by Victor Stinner to python-dev with subject <a href=\"https://mail.python.org/pipermail/python-dev/2016-September/146327.html\" rel=\"nofollow\">\"Python 3.6 dict becomes compact and gets a private version; and keywords become ordered\"</a> due to the fix/implementation of issue 27350 <a href=\"http://bugs.python.org/issue27350\" rel=\"nofollow\">\"Compact and ordered dict\"</a> in Python 3.6 we will now be able, to use a built-in dict to maintain insert order! !</p>\n\n<p>Maybe on a meta level python, this will lead to:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import OrderedDict\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: cannot import name 'OrderedDict'\n</code></pre>\n\n<p>for some later python versions ... ;-)</p>\n\n<p>And maybe quite some stackoverflow high decorated question and answer pages will receive variants of this info and many high quality answers will require a per version update too.</p>\n\n<h3>Caveat Emptor:</h3>\n\n<p>As @ajcr rightfully notes: \"The order-preserving aspect of this new implementation is considered an implementation detail and should not be relied upon.\" (from the <a href=\"https://docs.python.org/3.6/whatsnew/3.6.html\" rel=\"nofollow\">whatsnew36</a>) not nit picking, <strong>but</strong> the citation was cut a bit pessimistic ;-). It continues as \" (this may change in the future, but it is desired to have this new dict implementation in the language for a few releases before changing the language spec to mandate order-preserving semantics for all current and future Python implementations; this also helps preserve backwards-compatibility with older versions of the language where random iteration order is still in effect, e.g. Python 3.5).\"</p>\n\n<p>So as in some human languages (e.g. German), usage shapes the language, and the will now has been declared ... in <a href=\"https://docs.python.org/3.6/whatsnew/3.6.html\" rel=\"nofollow\">whatsnew36</a></p>\n", "title": "Sort a Python dictionary by value", "answer_id": 39424969, "question_id": 613183, "tags": ["python", "sorting", "dictionary"]}], "question_id": 613183}, {"body": "<p>Say I'm in a Git repository. I delete a file and commit that change. I continue working and make some more commits. Then, I find I need to restore that file.</p>\n\n<p>I know I can checkout a file using <code>git checkout HEAD^ foo.bar</code>, but I don't really know when that file was deleted.</p>\n\n<ol>\n<li>What would be the quickest way to find the commit that deleted a given filename?</li>\n<li>What would be the easiest way to get that file back into my working copy?</li>\n</ol>\n\n<p>I'm hoping I don't have to manually browse my logs, checkout the entire project for a given SHA and then manually copy that file into my original project checkout.</p>\n", "title": "Find and restore a deleted file in a Git repository", "tags": ["git", "file-io", "git-checkout"], "answer_count": 16, "link": "http://stackoverflow.com/questions/953481/find-and-restore-a-deleted-file-in-a-git-repository", "answers": [{"body": "<p>If you\u2019re insane, use <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-bisect.html\"><code>git-bisect</code></a>. Here's what to do:</p>\n\n<pre><code>git bisect start\ngit bisect bad\ngit bisect good &lt;some commit where you know the file existed&gt;\n</code></pre>\n\n<p>Now it's time to run the automated test. The shell command <code>'[ -e foo.bar ]'</code> will return 0 if <code>foo.bar</code> exists, and 1 otherwise. The \"run\" command of <code>git-bisect</code> will use binary search to automatically find the first commit where the test fails. It starts halfway through the range given (from good to bad) and cuts it in half based on the result of the specified test.</p>\n\n<pre><code>git bisect run '[ -e foo.bar ]'\n</code></pre>\n\n<p>Now you're at the commit which deleted it. From here, you can jump back to the future and use <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-revert.html\"><code>git-revert</code></a> to undo the change,</p>\n\n<pre><code>git bisect reset\ngit revert &lt;the offending commit&gt;\n</code></pre>\n\n<p>or you could go back one commit and manually inspect the damage:</p>\n\n<pre><code>git checkout HEAD^\ncp foo.bar /tmp\ngit bisect reset\ncp /tmp/foo.bar .\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 953507, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<ol>\n<li>Use <code>git log --diff-filter=D --summary</code> to get all the commits which have deleted files and the files deleted;</li>\n<li>Use <code>git checkout $commit~1 filename</code> to restore the deleted file.</li>\n</ol>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 953573, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>Find the last commit that affected the given path. As the file isn't in the HEAD commit, this commit must have deleted it.</p>\n\n<pre><code>git rev-list -n 1 HEAD -- &lt;file_path&gt;\n</code></pre>\n\n<p>Then checkout the version at the commit before, using the caret (<code>^</code>) symbol:</p>\n\n<pre><code>git checkout &lt;deleting_commit&gt;^ -- &lt;file_path&gt;\n</code></pre>\n\n<p>Or in one command, if <code>$file</code> is the file in question.</p>\n\n<pre><code>git checkout $(git rev-list -n 1 HEAD -- \"$file\")^ -- \"$file\"\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 1113140, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>To restore all those deleted files in a folder enter the following command.</p>\n\n<pre><code>git ls-files -d | xargs git checkout --\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 4332209, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>I've got <a href=\"http://blog.loxal.net/2012/03/git-checkout-get-back-deleted-file-w.html\">this solution</a>.</p>\n\n<ol>\n<li><p>Get the id of the commit where the file was deleted using one of the ways below.</p>\n\n<ul>\n<li><code>git log --grep=*word*</code> </li>\n<li><code>git log -Sword</code></li>\n<li><code>git log | grep --context=5 *word*</code></li>\n<li><code>git log --stat | grep --context=5 *word*</code> # recommended if you hardly\nremember anything</li>\n</ul></li>\n<li><p>You should get something like: </p></li>\n</ol>\n\n<blockquote>\n  <p>commit bfe68bd117e1091c96d2976c99b3bcc8310bebe7 Author: Alexander\n  Orlov  Date:   Thu May 12 23:44:27 2011\n  +0200</p>\n\n<pre><code>replaced deprecated GWT class\n- gwtI18nKeySync.sh, an outdated (?, replaced by a Maven goal) I18n generation script\n</code></pre>\n  \n  <p>commit 3ea4e3af253ac6fd1691ff6bb89c964f54802302 Author: Alexander\n  Orlov  Date:   Thu May 12 22:10:22 2011\n  +0200</p>\n</blockquote>\n\n<p><em>3</em>. Now using the commit id bfe68bd117e1091c96d2976c99b3bcc8310bebe7 do:</p>\n\n<pre><code>git checkout bfe68bd117e1091c96d2976c99b3bcc8310bebe7^1 yourDeletedFile.java\n</code></pre>\n\n<p>As the commit id references the commit where the file was already deleted you need to reference the commit just before bfe68b which you can do by appending <code>^1</code>. This means: give me the commit just before bfe68b.</p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 9514801, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>In our case we accidentally deleted files in a commit and some commit later we realized our mistake and wanted to get back all the files that were deleted but not those that were modified.</p>\n\n<p>Based on Charles Bailey's excellent answer here is my one liner:</p>\n\n<pre><code>git co $(git rev-list -n 1 HEAD -- &lt;file_path&gt;)~1 -- $(git diff --name-status $(git rev-list -n 1 HEAD -- &lt;file_path&gt;)~1 head | grep '^D' | cut -f 2)\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 11301004, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>To restore a deleted and commited file:</p>\n\n<pre><code>git reset HEAD some/path\ngit checkout -- some/path\n</code></pre>\n\n<p>It was tested on Git version 1.7.5.4.</p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 11322499, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>In many cases, it can be useful to use <a href=\"https://en.wikipedia.org/wiki/GNU_Core_Utilities\" rel=\"nofollow\">coreutils</a> (grep, sed, etc.) in conjunction with Git. I already know these tools quite well, but Git less so. If I wanted to do a search for a deleted file, I would do the following:</p>\n\n<pre><code>git log --raw | grep -B 30 $'D\\t.*deleted_file.c'\n</code></pre>\n\n<p>When I find the revision/commit:</p>\n\n<pre><code>git checkout &lt;rev&gt;^ -- path/to/refound/deleted_file.c\n</code></pre>\n\n<p>Just like others have stated before me.</p>\n\n<p>The file will now be restored to the state it had before removal. Remember to re-commit it to the working tree if you want to keep it around.</p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 13012192, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<pre><code>user@bsd:~/work/git$ rm slides.tex\nuser@bsd:~/work/git$ git pull \nAlready up-to-date.\nuser@bsd:~/work/git$ ls slides.tex\nls: slides.tex: No such file or directory\n</code></pre>\n\n<p>Restore the deleted file:</p>\n\n<pre><code>user@bsd:~/work/git$ git checkout\nD       .slides.tex.swp\nD       slides.tex\nuser@bsd:~/work/git$ git checkout slides.tex \nuser@bsd:~/work/git$ ls slides.tex\nslides.tex\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 13630394, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>My new favorite alias, based on <a href=\"http://stackoverflow.com/users/525305/bonyiii\">bonyiii</a>'s <a href=\"http://stackoverflow.com/a/11301004/6309\">answer</a> (upvoted), and my own answer about \"<a href=\"http://stackoverflow.com/a/7005698/6309\">Pass an argument to a Git alias command</a>\":</p>\n\n<pre><code>git config alias.restore '!f() { git checkout $(git rev-list -n 1 HEAD -- $1)~1 -- $(git diff --name-status $(git rev-list -n 1 HEAD -- $1)~1 | grep '^D' | cut -f 2); }; f'\n</code></pre>\n\n<p>I have lost a file, deleted by mistake a few commits ago?<br>\nQuick:</p>\n\n<pre><code>git restore my_deleted_file\n</code></pre>\n\n<p>Crisis averted.</p>\n\n<hr>\n\n<p><a href=\"http://stackoverflow.com/users/157971/robert-dailey\">Robert Dailey</a> proposes <a href=\"http://stackoverflow.com/questions/953481/restore-a-deleted-file-in-a-git-repo/14922749#comment33996752_14922749\">in the comments</a> the following alias:</p>\n\n<pre><code>restore-file = !git checkout $(git rev-list -n 1 HEAD -- \"$1\")^ -- \"$1\"\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 14922749, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<pre><code>git checkout /path/to/deleted.file\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 17306052, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>So I had to restore a bunch of deleted files from a specific commit and I managed it with two commands:</p>\n\n<pre><code>git show &lt;rev&gt; --diff-filter=D --summary --name-only --no-commit-id | xargs git checkout &lt;rev&gt;^ -- \ngit show &lt;rev&gt; --diff-filter=D --summary --name-only --no-commit-id | xargs git reset HEAD \n</code></pre>\n\n<p><em>(Note the trailing space on the end of each command.)</em></p>\n\n<p>The files had been added to the .gitignore file and then cleared with git rm, I needed to restore the files but then unstage them. I had hundreds of files to restore, typing things manually for each file as in the other examples was going to be far too slow.</p>\n\n<p>Cheers, Dave.</p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 20292699, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>I came to this question looking to restore a file I just deleted but I hadn't yet committed the change.  Just in case you find yourself in this situation, all you need to do is the following:</p>\n\n<p><code>git checkout HEAD -- path/to/file.ext</code></p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 22976202, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>If you know the commit that deleted the file(s), run this command where <code>&lt;SHA1_deletion&gt;</code> is the commit that deleted the file:</p>\n\n<pre><code>git diff --diff-filter=D --name-only &lt;SHA1_deletion&gt;~1 &lt;SHA1_deletion&gt; | xargs git checkout &lt;SHA1_deletion&gt;~1 --\n</code></pre>\n\n<p>The part before the pipe lists all the files that were deleted in the  commit; they are all checkout from the previous commit to restore them.</p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 34056090, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>If you know the filename, this is an easy way with basic commands:</p>\n\n<p>List all the commits for that file.</p>\n\n<pre><code>    git log -- path/to/file\n</code></pre>\n\n<p>The last commit (topmost) is the one that deleted the file. So you need to restore the second to last commit.</p>\n\n<pre><code>    git checkout {second to last commit} -- path/to/file\n</code></pre>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 35664754, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}, {"body": "<p>If you only made changes and deleted a file, but not commit it, and now you broke up with your changes</p>\n\n<pre><code>git checkout -- .\n</code></pre>\n\n<p>but your deleted files did not return, you simply do the following command:</p>\n\n<pre><code>git checkout &lt;file_path&gt;\n</code></pre>\n\n<p>And presto, your file is back.</p>\n", "title": "Find and restore a deleted file in a Git repository", "answer_id": 39296006, "question_id": 953481, "tags": ["git", "file-io", "git-checkout"]}], "question_id": 953481}, {"body": "<p>Is there a way to make the following return true?</p>\n\n<pre><code>string title = \"ASTRINGTOTEST\";\ntitle.Contains(\"string\");\n</code></pre>\n\n<p>There doesn't seem to be an overload that allows me to set the case sensitivity.. Currently I UPPERCASE them both, but that's just silly.</p>\n\n<p><strong>UPDATE</strong><br>\nThe sillyness I refer to is the <a href=\"http://en.wikipedia.org/wiki/Internationalization_and_localization\">i18n</a> issues that come with up- and down casing.</p>\n\n<p><strong>UPDATE</strong><br>\nThis question is ancient and since then I have realized I asked for a simple answer for a really vast and difficult topic if you care to investigate it fully.<br>\nFor most cases, in mono-lingual, English code bases <a href=\"http://stackoverflow.com/a/444818/11333\">this</a> answer will suffice. I'm suspecting because most people coming here fall in this category this is the most popular answer.<br>\n<a href=\"http://stackoverflow.com/a/15464440/11333\">This</a> answer however brings up the inherent problem that we can't compare text case insensitive until we know both texts are the same culture and we know  what that culture is. This is maybe a less popular answer, but I think it is more correct and that's why I marked it as such.</p>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "tags": ["c#", "string", "contains", "case-insensitive"], "answer_count": 17, "link": "http://stackoverflow.com/questions/444798/case-insensitive-containsstring", "answers": [{"body": "<p>You could always just up or downcase the strings first.  </p>\n\n<pre><code>string title = \"string\":\ntitle.ToUpper().Contains(\"STRING\")  // returns true\n</code></pre>\n\n<p>Oops, just saw that last bit.  A case insensitive compare would <code>*</code>probably<code>*</code> do the same anyway, and if performance is not an issue, I don't see a problem with creating uppercase copies and comparing those.  I could have sworn that I once saw a case-insensitive compare once...</p>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 444813, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>You could use the <a href=\"https://msdn.microsoft.com/en-us/library/ms224425(v=vs.110).aspx\">String.IndexOf Method</a> and pass <code>StringComparison.OrdinalIgnoreCase</code> as the type of search to use:</p>\n\n<pre><code>string title = \"STRING\";\nbool contains = title.IndexOf(\"string\", StringComparison.OrdinalIgnoreCase) &gt;= 0;\n</code></pre>\n\n<p>Even better is defining a new extension method for string:</p>\n\n<pre><code>public static class StringExtensions\n{\n    public static bool Contains(this string source, string toCheck, StringComparison comp)\n    {\n        return source.IndexOf(toCheck, comp) &gt;= 0;\n    }\n}\n\n...\n\nstring title = \"STRING\";\nbool contains = title.Contains(\"string\", StringComparison.OrdinalIgnoreCase);\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 444818, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>You can use <code>IndexOf()</code> like this:</p>\n\n<pre><code>string title = \"STRING\";\n\nif (title.IndexOf(\"string\", 0, StringComparison.CurrentCultureIgnoreCase) != -1)\n{\n    // The string exists in the original\n}\n</code></pre>\n\n<p>Since 0 (zero) can be an index, you check against -1.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/k8b1470s(v=vs.110).aspx\">MSDN</a></p>\n\n<blockquote>\n  <p>The zero-based index position of value if that string is found, or -1\n  if it is not. If value is String.Empty, the return value is 0.</p>\n</blockquote>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 444834, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>Alternate solution using Regex:</p>\n\n<pre><code>bool contains = Regex.IsMatch(\"StRiNG to search\", \"string\", RegexOptions.IgnoreCase);\n</code></pre>\n\n<p><strong>Notice</strong></p>\n\n<p>As @cHao has pointed out in his comment, there are scenario's that will cause this solution to return incorrect results. <em>Make sure you know what you're doing before you implement this solution haphazardly.</em></p>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 3355561, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>StringExtension class is the way forward, I've combined a couple of the posts above to give a complete code example:</p>\n\n<pre><code>public static class StringExtensions\n{\n    /// &lt;summary&gt;\n    /// Allows case insensitive checks\n    /// &lt;/summary&gt;\n    public static bool Contains(this string source, string toCheck, StringComparison comp)\n    {\n        return source.IndexOf(toCheck, comp) &gt;= 0;\n    }\n}\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 4217362, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>One issue with the answer is that it will throw an exception if a string is null. You can add that as a check so it won't:</p>\n\n<pre><code>public static bool Contains(this string source, string toCheck, StringComparison comp)\n{\n    if (string.IsNullOrEmpty(toCheck) || string.IsNullOrEmpty(source))\n        return true;\n\n    return source.IndexOf(toCheck, comp) &gt;= 0;\n} \n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 4381627, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>Use this:</p>\n\n<pre><code>string.Compare(\"string\", \"STRING\", new System.Globalization.CultureInfo(\"en-US\"), System.Globalization.CompareOptions.IgnoreCase);\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 6647217, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>I know that this is not the C#, but in the framework (VB.NET) there is already such a function</p>\n\n<pre><code>Dim str As String = \"UPPERlower\"\nDim b As Boolean = InStr(str, \"UpperLower\")\n</code></pre>\n\n<p>C# variant:</p>\n\n<pre><code>string myString = \"Hello World\";\nbool contains = Microsoft.VisualBasic.Strings.InStr(myString, \"world\");\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 7362283, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>This is clean and simple.<br/></p>\n\n<pre><code>Regex.IsMatch(file,fileNamestr,RegexOptions.IgnoreCase)\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 13302103, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>To test if the string <code>paragraph</code> contains the string <code>word</code> (thanks @QuarterMeister)</p>\n\n<pre><code>culture.CompareInfo.IndexOf(paragraph, word, CompareOptions.IgnoreCase) &gt;= 0\n</code></pre>\n\n<p>Where <code>culture</code> is the instance of <a href=\"http://msdn.microsoft.com/en-gb/library/system.globalization.cultureinfo(v=vs.110).aspx\"><code>CultureInfo</code></a> describing the language that the text is written in.</p>\n\n<p>This solution is transparent about <strong>the definition of case-insensitivity, which is language dependent</strong>. For example, the English language uses the characters <code>I</code> and <code>i</code> for the upper and lower case versions of the ninth letter, whereas the Turkish language uses these characters for the <a href=\"http://en.wikipedia.org/wiki/Dotted_and_dotless_I\">eleventh and twelfth letters</a> of its 29 letter-long alphabet. The Turkish upper case version of 'i' is the unfamiliar character '\u0130'.</p>\n\n<p>Thus the strings <code>tin</code> and <code>TIN</code> are the same word <em>in English</em>, but different words <em>in Turkish</em>. As I understand, one means 'spirit' and the other is an onomatopoeia word. (Turks, please correct me if I'm wrong, or suggest a better example)</p>\n\n<p>To summarise, you can only answer the question 'are these two strings the same but in different cases' <em>if you know what language the text is in</em>. If you don't know, you'll have to take a punt. Given English's hegemony in software, you should probably resort to <code>CultureInfo.InvariantCulture</code>, because it'll be wrong in familiar ways.</p>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 15464440, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>Using a RegEx is a straight way to do this:</p>\n\n<pre><code>Regex.IsMatch(title, \"string\", RegexOptions.IgnoreCase);\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 18873144, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>The <code>InStr</code> method from the VisualBasic assembly is the best if you have a concern about internationalization (or you could reimplement it).  Looking at in it dotNeetPeek shows that not only does it account for caps and lowercase, but also for kana type and full- vs. half-width characters (mostly relevant for Asian languages, although there are full-width versions of the Roman alphabet too).  I'm skipping over some details, but check out the private method <code>InternalInStrText</code>:</p>\n\n<pre><code>private static int InternalInStrText(int lStartPos, string sSrc, string sFind)\n{\n  int num = sSrc == null ? 0 : sSrc.Length;\n  if (lStartPos &gt; num || num == 0)\n    return -1;\n  if (sFind == null || sFind.Length == 0)\n    return lStartPos;\n  else\n    return Utils.GetCultureInfo().CompareInfo.IndexOf(sSrc, sFind, lStartPos, CompareOptions.IgnoreCase | CompareOptions.IgnoreKanaType | CompareOptions.IgnoreWidth);\n}\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 20425951, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p><strong>OrdinalIgnoreCase, CurrentCultureIgnoreCase or InvariantCultureIgnoreCase?</strong></p>\n\n<p>Since this is missing, here are some recommendations about when to use which one:</p>\n\n<h2>Dos</h2>\n\n<ul>\n<li>Use <code>StringComparison.OrdinalIgnoreCase</code> for comparisons\nas your safe default for culture-agnostic string matching.</li>\n<li>Use <code>StringComparison.OrdinalIgnoreCase</code> comparisons\nfor increased speed.</li>\n<li>Use <code>StringComparison.CurrentCulture-based</code> string operations\nwhen displaying the output to the user.</li>\n<li>Switch current use of string operations based on the invariant\nculture to use the non-linguistic <code>StringComparison.Ordinal</code> or      <code>StringComparison.OrdinalIgnoreCase</code> when the comparison is<br>\nlinguistically irrelevant (symbolic, for example). </li>\n<li>Use <code>ToUpperInvariant</code> rather than <code>ToLowerInvariant</code> when\nnormalizing strings for comparison.</li>\n</ul>\n\n<h2>Don'ts</h2>\n\n<ul>\n<li>Use overloads for string operations that don't explicitly\nor implicitly specify the string comparison mechanism.</li>\n<li>Use <code>StringComparison.InvariantCulture</code> -based string<br>\noperations in most cases; one of the few exceptions would be<br>\npersisting linguistically meaningful but culturally-agnostic data.</li>\n</ul>\n\n<hr>\n\n<p>Based on these rules you should use:</p>\n\n<pre><code>string title = \"STRING\";\nif (title.IndexOf(\"string\", 0, StringComparison.[YourDecision]) != -1)\n{\n    // The string exists in the original\n}\n</code></pre>\n\n<p>whereas [YourDecision] depends on the recommendations from above.</p>\n\n<p>link of source: <a href=\"http://msdn.microsoft.com/en-us/library/ms973919.aspx\">http://msdn.microsoft.com/en-us/library/ms973919.aspx</a></p>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 24261512, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>Just like this:</p>\n\n<pre><code>string s=\"AbcdEf\";\nif(s.ToLower().Contains(\"def\"))\n{\n    Console.WriteLine(\"yes\");\n}\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 24721454, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>Ultimately, a generic \"contains\" operation comes down to a function like this,</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Determines whether the source contains the sequence.\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"T\"&gt;The type of the items in the sequences.&lt;/typeparam&gt;\n/// &lt;param name=\"sourceEnumerator\"&gt;The source enumerator.&lt;/param&gt;\n/// &lt;param name=\"sequenceEnumerator\"&gt;The sequence enumerator.&lt;/param&gt;\n/// &lt;param name=\"equalityComparer\"&gt;An equality comparer.&lt;/param&gt;\n/// &lt;remarks&gt;\n/// An empty sequence will return &lt;c&gt;true&lt;/c&gt;.\n/// The sequence must support &lt;see cref=\"IEnumerator.Reset\"/&gt;\n/// if it does not begin the source.\n/// &lt;/remarks&gt;\n/// &lt;returns&gt;\n/// &lt;c&gt;true&lt;/c&gt; if the source contains the sequence;\n/// otherwise &lt;c&gt;false&lt;/c&gt;.\n/// &lt;/returns&gt;\npublic static bool Contains&lt;T&gt;(\n    IEnumerator&lt;T&gt; sourceEnumerator,\n    IEnumerator&lt;T&gt; sequenceEnumerator,\n    IEqualityComparer&lt;T&gt; equalityComparer)\n{\n    if (equalityComparer == null)\n    {\n        equalityComparer = EqualityComparer&lt;T&gt;.Default;\n    }\n\n    while (sequenceEnumerator.MoveNext())\n    {\n        if (sourceEnumerator.MoveNext())\n        {\n            if (!equalityComparer.Equals(\n                sourceEnumerator.Current,\n                sequenceEnumerator.Current))\n            {\n                sequenceEnumerator.Reset();\n            }\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>this can be trivially wrapped in a extension version accepting <code>IEnumerable</code> like this,</p>\n\n<pre><code>public static bool Contains&lt;T&gt;(\n        this IEnumerable&lt;T&gt; source,\n        IEnumerable&lt;T&gt; sequence,\n        IEqualityComparer&lt;T&gt; equalityComparer = null)\n{\n    if (sequence == null)\n    {\n        throw new ArgumentNullException(\"sequence\");\n    }\n\n    using(var sequenceEnumerator = sequence.GetEnumerator())\n    using(var sourceEnumerator = source.GetEnumerator())\n    {\n        return Contains(\n            sourceEnumerator,\n            sequenceEnumerator,\n            equalityComparer);\n    }\n}\n</code></pre>\n\n<p>Now, this will work for the ordinal comparison of any sequences, including strings, since <code>string</code> implements <code>IEnumerable&lt;char&gt;</code>,</p>\n\n<pre><code>// The optional parameter ensures the generic overload is invoked\n// not the string.Contains() implementation.\n\"testable\".Contains(\"est\", EqualityComparer&lt;char&gt;.Default)\n</code></pre>\n\n<p>However, as we know, strings are not generic, they are specialized. There are two key factors at play.</p>\n\n<ol>\n<li>The \"casing\" issue which itself has various language dependent edge cases.</li>\n<li>The rather involved issue of how a set of \"Text Elements\" (letters/numbers/symbols etc.) are represented by Unicode Code Points and what valid sequences of chars can represent a given string, details are expanded in <a href=\"http://stackoverflow.com/a/26977869/659190\">these</a> <a href=\"http://stackoverflow.com/a/27036073/659190\">answers</a>.</li>\n</ol>\n\n<p>The net effect is the same. Strings that you might assert are linguistically equal can be validly represented by different combinations of chars. Whats more, the rules for validity change between cultures.</p>\n\n<p>All this leads to a specialized string based \"Contains\" implementation like this.</p>\n\n<pre><code>using System.Globalization;\n\npublic static bool Contains(\n         this string source,\n         string value,\n         CultureInfo culture = null,\n         CompareOptions options = CompareOptions.None)\n{\n    if (value == null)\n    {\n        throw new ArgumentNullException(\"value\");\n    }\n\n    var compareInfo = culture == null ? \n            CultureInfo.CurrentCulture.CompareInfo :\n            culture.CompareInfo;\n\n    var sourceEnumerator = StringInfo.GetTextElementEnumerator(source);\n    var sequenceEnumerator = StringInfo.GetTextElementEnumerator(value);\n\n    while (sequenceEnumerator.MoveNext())\n    {\n        if (sourceEnumerator.MoveNext())\n        {\n            if (!(compareInfo.Compare(\n                    sourceEnumerator.Current,\n                    sequenceEnumerator.Current,\n                    options) == 0))\n            {\n                sequenceEnumerator.Reset();\n            }\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>This function can be used to perform a case insensitive, culture specific \"contains\" that will work, whatever the normalization of the strings. e.g.</p>\n\n<pre><code>\"testable\".Contains(\"EST\", StringComparer.CurrentCultureIgnoreCase)\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 27275971, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>This is quite similar to other example here, but I've decided to simplify enum to bool, primary because other alternatives are normally not needed. Here is my example:</p>\n\n<pre><code>public static class StringExtensions\n{\n    public static bool Contains(this string source, string toCheck, bool bCaseInsensitive )\n    {\n        return source.IndexOf(toCheck, bCaseInsensitive ? StringComparison.OrdinalIgnoreCase : StringComparison.Ordinal) &gt;= 0;\n    }\n}\n</code></pre>\n\n<p>And usage is something like:</p>\n\n<pre><code>if( \"main String substring\".Contains(\"SUBSTRING\", true) )\n....\n</code></pre>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 33184187, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}, {"body": "<p>The trick her3 is to look for the string, ignoring case, but to keep exactly the same (with same the case).</p>\n\n<pre><code> var s=\"Factory Reset\";\n            var txt=\"reset\";\n int first = s.IndexOf(txt, StringComparison.InvariantCultureIgnoreCase) + txt.Length;\n var subString = s.Substring(first - txt.Length, txt.Length);\n</code></pre>\n\n<p>Output is \"Reset\"</p>\n", "title": "Case insensitive &#39;Contains(string)&#39;", "answer_id": 37007131, "question_id": 444798, "tags": ["c#", "string", "contains", "case-insensitive"]}], "question_id": 444798}, {"body": "<p>Would you recommend using a <a href=\"https://dev.mysql.com/doc/refman/5.0/en/datetime.html\">datetime</a> or a <a href=\"https://dev.mysql.com/doc/refman/5.0/en/datetime.html\">timestamp</a> field, and why (using MySQL)? </p>\n\n<p>I'm working with PHP on the server side.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "tags": ["mysql", "datetime", "timestamp"], "answer_count": 28, "link": "http://stackoverflow.com/questions/409286/should-i-use-field-datetime-or-timestamp", "answers": [{"body": "<p>I would always use a Unix timestamp when working with MySQL and PHP. The main reason for this being the the default <a href=\"http://uk3.php.net/manual/en/function.date.php\" rel=\"nofollow\">date</a> method in PHP uses a timestamp as the parameter, so there would be no parsing needed.</p>\n\n<p>To get the current Unix timestamp in PHP, just do <code>time();</code><br>\nand in MySQL do <code>SELECT UNIX_TIMESTAMP();</code>.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 409292, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>A <code>timestamp</code> field is a special case of the <code>datetime</code> field. You can create <code>timestamp</code> columns to have special properties; it can be set to update itself on either create and/or update.</p>\n\n<p>In \"bigger\" database terms, <code>timestamp</code> has a couple of special-case triggers on it.</p>\n\n<p>What the right one is depends entirely on what you want to do.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 409295, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>Timestamps in MySQL generally used to track changes to records, and are often updated every time the record is changed. If you want to store a specific value you should use a datetime field.</p>\n\n<p>If you meant that you want to decide between using a UNIX timestamp or a native MySQL datetime field, go with the native format. You can do calculations within MySQL that way \n<code>(\"SELECT DATE_ADD(my_datetime, INTERVAL 1 DAY)\")</code> and it is simple to change the format of the value to a UNIX timestamp <code>(\"SELECT UNIX_TIMESTAMP(my_datetime)\")</code> when you query the record if you want to operate on it with PHP.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 409305, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I make this decision on a semantic base.</p>\n\n<p>I use a timestamp when I need to record a (more or less) fixed point in time. For example when a record was inserted into the database or when some user action took place.</p>\n\n<p>I use a datetime field when the date/time can be set and changed arbitrarily. For example when a user can save later change appointments.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 409380, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I always use DATETIME fields for anything other than row metadata (date created or modified).</p>\n\n<p>As <a href=\"http://dev.mysql.com/doc/refman/5.1/en/datetime.html\">mentioned</a> in the MySQL documentation:</p>\n\n<blockquote>\n  <p>The DATETIME type is used when you need values that contain both date and time information. MySQL retrieves and displays DATETIME values in 'YYYY-MM-DD HH:MM:SS' format. The supported range is '1000-01-01 00:00:00' to '9999-12-31 23:59:59'.</p>\n  \n  <p>...</p>\n  \n  <p>The TIMESTAMP data type has a range of '1970-01-01 00:00:01' UTC to '2038-01-09 03:14:07' UTC. It has varying properties, depending on the MySQL version and the SQL mode the server is running in.</p>\n</blockquote>\n\n<p>You're quite likely to hit the lower limit on TIMESTAMPs in general use -- e.g. storing birthdate.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 410458, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I prefer using timestamp so to keep everything in one common raw format and format the data in PHP code or in your SQL query. There are instances where it comes in handy in your code to keep everything in plain seconds.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 410631, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>TIMESTAMP is 4 bytes Vs 8 bytes for DATETIME. </p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html\">http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html</a></p>\n\n<p>But like scronide said it does have a lower limit of the year 1970. It's great for anything that might happen in the future though ;)</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 410699, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>In MySQL 5 and above, <strong>TIMESTAMP</strong> values are converted from the current time zone to UTC for storage, and converted back from UTC to the current time zone for retrieval. (This occurs only for the TIMESTAMP data type, and <em>not</em> for other types such as DATETIME.)</p>\n\n<p>By default, the current time zone for each connection is the server's time. The time zone can be set on a per-connection basis, as described in <em><a href=\"http://dev.mysql.com/doc/refman/5.5/en//time-zone-support.html\">MySQL Server Time Zone Support</a></em>.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 602038, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>The main difference is that DATETIME is constant while TIMESTAMP is affected by the <code>time_zone</code> setting.</p>\n\n<p>So it only matters when you have &mdash; or may in the future have &mdash; synchronized clusters across time zones.</p>\n\n<p>In simpler words: <strong>If I have a database in Australia, and take a dump of that database to synchronize/populate a database in America, then the TIMESTAMP would update to reflect the real time of the event in the new time zone, while DATETIME would still reflect the time of the event in the au time zone</strong>.</p>\n\n<p>A great example of DATETIME being used where TIMESTAMP should have been used is in Facebook, where their servers are never quite sure what time stuff happened across time zones. Once I was having a conversation in which the time said I was replying to messages before the message was actually sent. (This, of course, could also have been caused by bad time zone translation in the messaging software if the times were being posted rather than synchronized.)</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 2064717, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>TIMESTAMP is always in UTC (that is, elapsed seconds since 1970-01-01, in UTC), and your MySQL server auto-converts it to the date/time for the server timezone. In the long-term, TIMESTAMP is the way to go because you know your temporal data will always be in UTC. For example, you won't screw your dates up if you migrate to a different server or if you change the timezone settings on your server.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 3570991, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>Depends on application, really.</p>\n\n<p>Consider setting a timestamp by a user to a server in New York, for an appointment in Sanghai. Now when the user connects in Sanghai, he accesses the same appointment timestamp from a mirrored server in Tokyo. He will see the appointment in Tokyo time, offset from the original New York time.</p>\n\n<p>So for values that represent user time like an appointment or a schedule, datetime is better. It allows the user to control the exact date and time desired, regardless of the server settings. The set time is the set time, not affected by the server's time zone, the user's time zone, or by changes in the way daylight savings time is calculated (yes it does change).</p>\n\n<p>On the other hand, for values that represent system time like payment transactions, table modifications or logging, always use timestamps. The system will not be affected by moving the server to another time zone, or when comparing between servers in different timezones.</p>\n\n<p>Timestamps are also lighter on the database and indexed faster.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 4028045, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I like a Unix timestamp, because you can convert to numbers and just worry about the number. Plus you add/subtract and get durations, etc. Then convert the result to Date in whatever format. This code finds out how much time in minutes passed between a timestamp from a document, and the current time.</p>\n\n<pre><code>$date  = $item['pubdate']; (etc ...)\n$unix_now = time();\n$result = strtotime($date, $unix_now);\n$unix_diff_min = (($unix_now  - $result) / 60);\n$min = round($unix_diff_min);\n</code></pre>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 5822697, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>The below examples show how the <code>TIMESTAMP</code> date type changed the values after changing the <code>time-zone to 'america/new_york'</code> where <code>DATETIME</code>is unchanged.</p>\n\n<pre><code>mysql&gt; show variables like '%time_zone%';\n+------------------+---------------------+\n| Variable_name    | Value               |\n+------------------+---------------------+\n| system_time_zone | India Standard Time |\n| time_zone        | Asia/Calcutta       |\n+------------------+---------------------+\n\nmysql&gt; create table datedemo(\n    -&gt; mydatetime datetime,\n    -&gt; mytimestamp timestamp\n    -&gt; );\n\nmysql&gt; insert into datedemo values ((now()),(now()));\n\nmysql&gt; select * from datedemo;\n+---------------------+---------------------+\n| mydatetime          | mytimestamp         |\n+---------------------+---------------------+\n| 2011-08-21 14:11:09 | 2011-08-21 14:11:09 |\n+---------------------+---------------------+\n\nmysql&gt; set time_zone=\"america/new_york\";\n\nmysql&gt; select * from datedemo;\n+---------------------+---------------------+\n| mydatetime          | mytimestamp         |\n+---------------------+---------------------+\n| 2011-08-21 14:11:09 | 2011-08-21 04:41:09 |\n+---------------------+---------------------+\n</code></pre>\n\n<p>I've converted my answer into article so more people can find this useful, <em><a href=\"http://www.tech-recipes.com/rx/22599/mysql-datetime-vs-timestamp-data-type/\">MySQL: Datetime Versus Timestamp Data Types</a></em>.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 7137276, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I found unsurpassed usefulness in TIMESTAMP's ability to auto update itself based on the current time without the use of unnecessary triggers. That's just me though, although TIMESTAMP is UTC like it was said.</p>\n\n<p>It can keep track across different timezones, so if you need to display a relative time for instance, UTC time is what you would want.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 7971927, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I always use a Unix timestamp, simply to maintain sanity when dealing with a lot of datetime information, especially when performing adjustments for timezones, adding/subtracting dates, and the like. When comparing timestamps, this excludes the complicating factors of timezone and allows you to spare resources in your server side processing (Whether it be application code or database queries) in that you make use of light weight arithmetic rather then heavier date-time add/subtract functions. </p>\n\n<p>Another thing worth considering:</p>\n\n<p>If you're building an application, you never know how your data might have to be used down the line. If you wind up having to, say, compare a bunch of records in your data set, with, say, a bunch of items from a third-party API, and say, put them in chronological order, you'll be happy to have Unix timestamps for your rows. Even if you decide to use MySQL timestamps, store a Unix timestamp as insurance.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 8737007, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>It is worth noting in MySQL you can use something along the lines of the below when creating your table columns:</p>\n\n<pre><code>on update CURRENT_TIMESTAMP\n</code></pre>\n\n<p>This will update the time at each instance you modify a row and is sometimes very helpful for stored last edit information. This only works with timestamp, not datetime however.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 8765632, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>From my experiences, if you want a date field in which insertion happens only once and you don't want to have any update or any other action on that particular field, go with <strong>date time</strong>.</p>\n\n<p>For example, consider a <code>user</code> table with a <strong>REGISTRATION DATE</strong> field. In that <code>user</code> table, if you want to know the last logged in time of a particular user, go with a field of <strong>timestamp</strong> type so that the field gets updated.</p>\n\n<p>If you are creating the table from <a href=\"http://en.wikipedia.org/wiki/PhpMyAdmin\" rel=\"nofollow\">phpMyAdmin</a> the default setting will update the <strong>timestamp</strong> field when a row update happens. If your timestamp filed is not updating with row update, you can use the following query to make a <strong>timestamp</strong> field get auto updated.</p>\n\n<pre><code>ALTER TABLE your_table\n      MODIFY COLUMN ts_activity TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;\n</code></pre>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 9155301, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>The timestamp data type stores date and time, but in UTC format, not in the current timezone format as datetime does. And when you fetch data, timestamp again converts that into the current timezone time.</p>\n\n<p>So suppose you are in USA and getting data from a server which has a time zone of USA. Then you will get the date and time according to the USA time zone. The timestamp data type column always get updated automatically when its row gets updated. So it can be useful to track when a particular row was updated last time.</p>\n\n<p>For more details you can read the blog post <em><a href=\"http://codebucket.co.in/timestamp-vs-datetime/\" rel=\"nofollow\">Timestamp Vs Datetime </a></em>.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 13968259, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>Beware of timestamp changing when you do a UPDATE statement on a table.  If you have a table with columns 'Name' (varchar), 'Age' (int), and 'Date_Added' (timestamp) and you run the following DML statement</p>\n\n<pre><code>UPDATE table\nSET age = 30\n</code></pre>\n\n<p>then every single value in your 'Date_Added' column would be changed to the current timestamp. </p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 19174333, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<ol>\n<li><p>TIMESTAMP is four bytes vs eight bytes for DATETIME.</p></li>\n<li><p>Timestamps are also lighter on the database and indexed faster.</p></li>\n<li><p>The DATETIME type is used when you need values that contain both date and time information. MySQL retrieves and displays DATETIME values in \u2018YYYY-MM-DD HH:MM:SS\u2019 format. The supported range is \u20191000-01-01 00:00:00\u2032 to \u20199999-12-31 23:59:59\u2032.</p></li>\n</ol>\n\n<p>The TIMESTAMP data type has a range of \u20191970-01-01 00:00:01\u2032 UTC to \u20192038-01-09 03:14:07\u2032 UTC. It has varying properties, depending on the MySQL version and the SQL mode the server is running in.</p>\n\n<ol start=\"4\">\n<li>DATETIME is constant while TIMESTAMP is effected by the time_zone setting.</li>\n</ol>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 20718367, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>Another difference between Timestamp and Datetime is in Timestamp you can't default value to NULL.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 21215908, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>The major difference is</p>\n\n<ul>\n<li>a INDEX's on Timestamp  - works</li>\n<li>a INDEX's on Datetime   - <a href=\"http://stackoverflow.com/questions/4013301/mysql-datetime-index-is-not-working\">Does not work</a></li>\n</ul>\n\n<p>look at this <a href=\"http://stackoverflow.com/questions/95183/how-does-one-create-an-index-on-the-date-part-of-datetime-field-in-mysql\">post to see problems with Datetime indexing</a> </p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 22249716, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>I recommend using <strong>neither</strong> a DATETIME or a TIMESTAMP field.  If you want to represent a specific day as a whole (like a birthday), then use a DATE type, but if you're being more specific than that, you're probably interested in recording an actual moment as opposed to a unit of time (day,week,month,year).  Instead of using a DATETIME or TIMESTAMP, use a BIGINT, and simply store the number of milliseconds since the epoch (System.currentTimeMillis() if you're using Java).  This has several advantages:</p>\n\n<ol>\n<li>You avoid vendor lock-in.  Pretty much every database supports integers in the relatively similar fashion.  Suppose you want to move to another database.  Do you want to worry about the differences between MySQL's DATETIME values and how Oracle defines them?  Even among different versions of MySQL, TIMESTAMPS have a different level of precision.  It was only just recently that MySQL supported milliseconds in the timestamps. </li>\n<li>No timezone issues.  There's been some insightful comments on here on what happens with timezones with the different data types.  But is this common knowledge, and will your co-workers all take the time to learn it?  On the other hand, it's pretty hard to mess up changing a BigINT into a java.util.Date.  Using a BIGINT causes a lot of issues with timezones to fall by the wayside.</li>\n<li>No worries about ranges or precision.  You don't have to worry about what being cut short by future date ranges (TIMEZONE only goes to 2038).  </li>\n<li>Third-party tool integration.  By using an integer, it's trivial for 3rd party tools (e.g. EclipseLink) to interface with the database.  Not every third-party tool is going to have the same understanding of a \"datetime\" as MySQL does.  Want to try and figure out in Hibernate whether you should use a java.sql.TimeStamp or java.util.Date object if you're using these custom data types?  Using your base data types make's use with 3rd-party tools trivial. </li>\n</ol>\n\n<p>This issue is closely related how you should store a money value (i.e. $1.99) in a database.  Should you use a Decimal, or the database's Money type, or worst of all a Double? All 3 of these options are terrible, for many of the same reasons listed above.  The solution is to store the value of money in cents using BIGINT, and then convert cents to dollars when you display the value to the user.  The database's job is to store data, and NOT to intrepret that data.  All these fancy data-types you see in databases(especially Oracle) add little, and start you down the road to vendor lock-in.  </p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 24173981, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p><a href=\"http://www.dbrnd.com/2015/09/difference-between-datetime-and-timestamp-in-mysql/\" rel=\"nofollow\">Reference taken from this Article:</a></p>\n\n<p><strong>The main differences:</strong></p>\n\n<p>TIMESTAMP used to track changes to records, and update every time when the record is changed.\nDATETIME used to store specific and static value which is not affected by any changes in records.</p>\n\n<p>TIMESTAMP also affected by different TIME ZONE related setting.\nDATETIME is constant.</p>\n\n<p>TIMESTAMP internally converted current time zone to UTC for storage, and during retrieval converted back to the current time zone.\nDATETIME can not do this.</p>\n\n<p>TIMESTAMP supported range:\n\u20181970-01-01 00:00:01\u2032 UTC to \u20182038-01-19 03:14:07\u2032 UTC\nDATETIME supported range:\n\u20181000-01-01 00:00:00\u2032 to \u20189999-12-31 23:59:59\u2032</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 35253676, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<h2><em>2016</em>: what I advise is to set your Mysql timezone to UTC and use DATETIME:</h2>\n\n<ul>\n<li>DATETIME can now be <strong>automatically</strong> set to the current timestamp value ( 5.6.5 ). If your are in UTC you can easily convert it in your front end (frameworks like Angular can automaticaly convert it to your Timezone)</li>\n<li>Contrary to what one might think, DATETIME is <strong>FASTER</strong> THAN TIMESTAMP,\n<a href=\"http://gpshumano.blogs.dri.pt/2009/07/06/mysql-datetime-vs-timestamp-vs-int-performance-and-benchmarking-with-myisam/\">http://gpshumano.blogs.dri.pt/2009/07/06/mysql-datetime-vs-timestamp-vs-int-performance-and-benchmarking-with-myisam/</a></li>\n<li>TIMESTAMP is still limited to 1970-2038</li>\n</ul>\n\n<p>(Unless you are likely to change the timezone of your servers)</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 35469149, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>merely use <code>BIGINT</code> while storing UTC by default - that still can be adjusted to local time in PHP.</p>\n\n<p>the <code>DATETIME</code> to be selected with <code>FROM_UNIXTIME( integer_timestamp )</code>.</p>\n\n<p>while one should set an index on that column - else there would be no advance.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 37389631, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>A <code>TIMESTAMP</code> requires 4 bytes, whereas a <code>DATETIME</code> requires 8 bytes.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 37994139, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}, {"body": "<p>A lot of answers here suggest to store as timestamp in the case you have to represent well defined points in time. But you can also have points in time with datetime if you store them all in UTC by convention.</p>\n", "title": "Should I use field &#39;datetime&#39; or &#39;timestamp&#39;?", "answer_id": 38070217, "question_id": 409286, "tags": ["mysql", "datetime", "timestamp"]}], "question_id": 409286}, {"body": "<p>Is there a way to empty an array and if so possibly with <code>.remove()</code>?</p>\n\n<p>For instance, </p>\n\n<pre><code>A = [1,2,3,4];\n</code></pre>\n\n<p>How can I empty that?</p>\n", "title": "How do I empty an array in JavaScript?", "tags": ["javascript", "arrays"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1232040/how-do-i-empty-an-array-in-javascript", "answers": [{"body": "<p>Ways to clear an existing array <code>A</code>:</p>\n\n<p><strong>Method 1</strong></p>\n\n<p>(this was my original answer to the question)</p>\n\n<pre><code>A = [];\n</code></pre>\n\n<p>This code will set the variable <code>A</code> to a new empty array. This is perfect if you don't have <strong>references to the original array <code>A</code></strong> anywhere else because this actually creates a brand new (empty) array. You should be careful with this method because if you have referenced this array from another variable or property, the original array will remain unchanged. Only use this if you only reference the array by its original variable <code>A</code>.</p>\n\n<p>This is also the fastest solution.</p>\n\n<p>This code sample shows the issue you can encounter when using this method:</p>\n\n<pre><code>var arr1 = ['a','b','c','d','e','f'];\nvar arr2 = arr1;  // Reference arr1 by another variable \narr1 = [];\nconsole.log(arr2); // Output ['a','b','c','d','e','f']\n</code></pre>\n\n<p><strong>Method 2</strong> (as <a href=\"http://stackoverflow.com/a/1234337/113570\">suggested</a> by <a href=\"http://stackoverflow.com/users/2214/matthew-crumley\">Matthew Crumley</a>)</p>\n\n<pre><code>A.length = 0\n</code></pre>\n\n<p>This will clear the existing array by setting its length to 0. Some have argued that this may not work in all implementations of JavaScript, but it turns out that this is not the case. It also works when using \"strict mode\" in ECMAScript 5 because the length property of an array is a read/write property.</p>\n\n<p><strong>Method 3</strong> (as <a href=\"http://stackoverflow.com/a/8134354/113570\">suggested</a> by <a href=\"http://stackoverflow.com/users/1047275/anthony\">Anthony</a>)</p>\n\n<pre><code>A.splice(0,A.length)\n</code></pre>\n\n<p>Using <code>.splice()</code> will work perfectly, but since the <code>.splice()</code> function will return an array with all the removed items, it will actually return a copy of the original array. Benchmarks suggest that this has no effect on performance whatsoever.</p>\n\n<p><strong>Method 4</strong> (as <a href=\"http://stackoverflow.com/a/17306971/113570\">suggested</a> by <a href=\"http://stackoverflow.com/users/990356/tanguy-k\">tanguy_k</a>)</p>\n\n<pre><code>while(A.length &gt; 0) {\n    A.pop();\n}\n</code></pre>\n\n<p>This solution is not very succinct, and it is also the slowest solution, contrary to earlier benchmarks referenced in the original answer.</p>\n\n<p><strong>Performance</strong></p>\n\n<p>Of all the methods of clearing an <strong><em>existing array</em></strong>, methods 2 and 3 are very similar in performance and are a lot faster than method 4. See this <a href=\"http://jsperf.com/array-destroy/151\">benchmark</a>.</p>\n\n<p>As pointed out by <a href=\"http://stackoverflow.com/users/47401/diadistis\">Diadistis</a> in their <a href=\"http://stackoverflow.com/a/28548360/113570\">answer</a> below, the original benchmarks that were used to determine the performance of the four methods described above were flawed. The original benchmark reused the cleared array so the second iteration was clearing an array that was already empty.</p>\n\n<p>The following benchmark fixes this flaw: <a href=\"http://jsperf.com/array-destroy/151\">http://jsperf.com/array-destroy/151</a>. It clearly shows that methods #2 (length property) and #3 (splice) are the fastest (not counting method #1 which doesn't change the original array).</p>\n\n<hr/>\n\n<p>This has been a hot topic and the cause of a lot of controversy. There are actually many correct answers and because this answer has been marked as the accepted answer for a very long time, I will include all of the methods here. If you vote for this answer, please upvote the other answers that I have referenced as well.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 1232046, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>If you need to keep the original array because you have other references to it that should be updated too, you can clear it without creating a new array by setting its length to zero:</p>\n\n<pre><code>A.length = 0;\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 1234337, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>A more cross-browser friendly and more optimal solution will be to use the <code>splice</code> method to empty the content of the array A as below:</p>\n\n<p><code>A.splice(0, A.length);</code></p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 8134354, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>You can add this to your JavaScript file to allow your arrays to be \"cleared\":</p>\n\n<pre><code>Array.prototype.clear = function() {\n    this.splice(0, this.length);\n};\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>var list = [1, 2, 3];\nlist.clear();\n</code></pre>\n\n<p>Or if you want to be sure you don't destroy something:</p>\n\n<pre><code>if (!Array.prototype.clear) {\n    Array.prototype.clear = function() {\n       this.splice(0, this.length);\n    };\n}\n</code></pre>\n\n<p>Lots of people think you shouldn't modify native objects (like Array), and I'm inclined to agree. Please use caution in deciding how to handle this.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 13812954, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<pre><code>Array.prototype.clear = function() {\n    this.length = 0;\n};\n</code></pre>\n\n<p>and call it: <code>array.clear();</code></p>\n\n<p>=)</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 15033498, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>The fastest solution for all current browsers is to implement the <code>pop</code> or <code>shift</code> method.  Combining answers from <a href=\"http://stackoverflow.com/a/13812954/803925\"><code>leech</code></a> and <code>Jan</code>, we can come up with a method that is declared once and makes it easy to clear the array:</p>\n\n<pre><code>Array.prototype.clear = function()  //Add a new method to the Array Object\n{\n    var ii = this.length;\n    for(var i=0;i&lt;ii;i++)\n    {\n        this.pop();\n    }\n}\n\nvar NumberList = new Array();  //Declare the variable\nNumberList.push(111);          //Add number to the end of the list\nNumberList.clear;              //Clear the list\n</code></pre>\n\n<p>Or you could just use a while loop:</p>\n\n<pre><code>while(your_array_name_here.length &gt; 0)\n    your_array_name_here.pop();\n</code></pre>\n\n<p>But the best answer as found above would be to use the <code>length</code> property straight up.</p>\n\n<pre><code>your_array_name_here.length = 0;\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 16941972, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p><s>Here the fastest working implementation</s> while <strong>keeping the same array</strong>:</p>\n\n<pre><code>Array.prototype.clear = function() {\n  while (this.length) {\n    this.pop();\n  }\n};\n</code></pre>\n\n<p>FYI <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear\">Map</a> defines <code>clear()</code> so it would seem logical to have <code>clear()</code> for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\">Array</a> too.</p>\n\n<p>Or as an <a href=\"http://underscorejs.org/#mixin\">Underscore.js mixin</a>:</p>\n\n<pre><code>_.mixin({\n  clearArray: function(array) {\n    while (array.length) {\n      array.pop();\n    }\n  }\n});\n</code></pre>\n\n<p>FYI it cannot be simplified to <code>while (array.pop())</code>: the tests will fail.</p>\n\n<p>And the tests that goes with it:</p>\n\n<pre><code>describe('Array', function() {\n  it('should clear the array', function() {\n    var array = [1, 2, 3, 4, 5];\n    array.clear();\n    expect(array.length).toEqual(0);\n    expect(array[0]).toEqual(undefined);\n    expect(array[4]).toEqual(undefined);\n\n    // Even with undefined or null inside\n    array = [1, undefined, 3, null, 5];\n    array.clear();\n    expect(array.length).toEqual(0);\n    expect(array[0]).toEqual(undefined);\n    expect(array[4]).toEqual(undefined);\n  });\n});\n</code></pre>\n\n<p>Here the updated jsPerf: <s><a href=\"http://jsperf.com/array-destroy/32\">http://jsperf.com/array-destroy/32</a></s> <a href=\"http://jsperf.com/array-destroy/152\">http://jsperf.com/array-destroy/152</a></p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 17306971, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>Use a modified version of <a href=\"http://stackoverflow.com/users/2039571/jan\">Jan</a>'s initial suggestion:</p>\n\n<pre><code>var originalLength = A.length;\nfor (var i = originalLength; i &gt; 0; i--) {\n     A.pop();\n}\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 19115350, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>In case you are interested in the memory allocation, you may compare each approach using something like <a href=\"http://jsfiddle.net/k9KGU/\">this jsfiddle</a> in conjunction with chrome dev tools' timeline tab. You will want to use the trash bin icon at the bottom to force a garbage collection after 'clearing' the array. This should give you a more definite answer for the browser of your choice. A lot of answers here are old and I wouldn't rely on them but rather test as in @tanguy_k's answer above.</p>\n\n<p><em>(for an intro to the aforementioned tab you can check out <a href=\"http://addyosmani.com/blog/taming-the-unicorn-easing-javascript-memory-profiling-in-devtools/\">here</a>)</em></p>\n\n<p>Stackoverflow forces me to copy the jsfiddle so here it is:</p>\n\n<pre><code>&lt;html&gt;\n&lt;script&gt;\nvar size = 1000*100\nwindow.onload = function() {\n  document.getElementById(\"quantifier\").value = size\n}\n\nfunction scaffold()\n{\n  console.log(\"processing Scaffold...\");\n  a = new Array\n}\nfunction start()\n{\n  size = document.getElementById(\"quantifier\").value\n  console.log(\"Starting... quantifier is \" + size);\n  console.log(\"starting test\")\n  for (i=0; i&lt;size; i++){\n    a[i]=\"something\"\n  }\n  console.log(\"done...\")\n}\n\nfunction tearDown()\n{\n  console.log(\"processing teardown\");\n  a.length=0\n}\n\n&lt;/script&gt;\n&lt;body&gt;\n    &lt;span style=\"color:green;\"&gt;Quantifier:&lt;/span&gt;\n    &lt;input id=\"quantifier\" style=\"color:green;\" type=\"text\"&gt;&lt;/input&gt;\n    &lt;button onclick=\"scaffold()\"&gt;Scaffold&lt;/button&gt;\n    &lt;button onclick=\"start()\"&gt;Start&lt;/button&gt;\n    &lt;button onclick=\"tearDown()\"&gt;Clean&lt;/button&gt;\n    &lt;br/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And you should take note that it may depend on the type of the array elements, as javascript manages strings differently than other primitive types, not to mention arrays of objects. The type may affect what happens.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 20532013, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p><code>A.splice(0);</code></p>\n\n<p>I just did this on some code I am working on.  It cleared the array.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 21440624, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>Performance test:</p>\n\n<p><a href=\"http://jsperf.com/array-clear-methods/3\">http://jsperf.com/array-clear-methods/3</a></p>\n\n<pre><code>a = []; // 37% slower\na.length = 0; // 89% slower\na.splice(0, a.length)  // 97% slower\nwhile (a.length &gt; 0) {\n    a.pop();\n} // Fastest\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 23647927, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>Behavior comparison between <code>arr = []</code> vs a <code>arr.pop()</code> loop:</p>\n\n<pre><code>var arr = [1,2,3];\nvar arrCopy = arr;\narr = [];\nconsole.log(arrCopy.length); /* Outputs 3: arr points to a NEW array (which is empty), and arrCopy still points to [1,2,3]. */\n\nvar brr = [4,5,6,7];\nvar brrCopy = brr;\nwhile (brr.length) {\n    brr.pop();\n}\nconsole.log(brrCopy.length); /* Outputs 0: brr and brrCopy points to the same array, whose elements are removed in the loop. */\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 25310058, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>If you are using </p>\n\n<pre><code>a = []; \n</code></pre>\n\n<p>or</p>\n\n<pre><code>a.length = 0;\n</code></pre>\n\n<p>then you are just creating new array which points to specific memory location. This means previous array will be remain in memory till garbage collection. So its not the better way to use.\nInstead of these two solutions are better.</p>\n\n<pre><code>a.splice(0,a.length)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>while(a.length &gt; 0) {\n    a.pop();\n}\n</code></pre>\n\n<p>As per previous answer by kenshou.html, second method is faster.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 27230134, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>There is a lot of confusion and misinformation regarding the while;pop/shift performance both in answers and comments. The while/pop solution has (as expected) the <strong>worst performance</strong>. What's actually happening is that setup runs only once for each sample that runs the snippet in a loop. eg:</p>\n\n<pre><code>var arr = [];\n\nfor (var i = 0; i &lt; 100; i++) { \n    arr.push(Math.random()); \n}\n\nfor (var j = 0; j &lt; 1000; j++) {\n    while (arr.length &gt; 0) {\n        arr.pop(); // this executes 100 times, not 100000\n    }\n}\n</code></pre>\n\n<p>I have created a new test that works correctly :</p>\n\n<p><a href=\"http://jsperf.com/empty-javascript-array-redux\">http://jsperf.com/empty-javascript-array-redux</a></p>\n\n<p><strong>Warning:</strong> even in this version of the test you can't actually see the real difference because cloning the array takes up most of the test time. It still shows that <code>splice</code> is the fastest way to clear the array (not taking <code>[]</code> into consideration because while it is the fastest it's not actually clearing the existing array).</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 28548360, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>There are different ways to clear array depending on requirement. The results below are for chrome.</p>\n\n<ol>\n<li>array = []; //<strong>Fastest</strong></li>\n<li>while(array.length > 0) {\narray.pop();\n} //<strong>Faster</strong></li>\n<li>a.splice(0,a.length) //<strong>Slowest</strong></li>\n<li>a.length = 0; //<strong>Slowest</strong></li>\n</ol>\n\n<p>array = []; does not clear original array shared among other references, it only creates new instance.\na.splice(0,a.length); clears memory also.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 28696288, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>Simply to empty array </p>\n\n<pre><code>var  A = [1,2,3,4];   // array value \n\nA.length = 0 ;   // create empty array \n</code></pre>\n\n<p>or </p>\n\n<pre><code>A = [];\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 33360294, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p>This is interesting. The answers that took no less that 1808 up-votes by now are misleading and incorrect.</p>\n\n<p>The question is \"how do you empty your existing Array object\"? E.g.: <code>A = [1,2,3,4];</code></p>\n\n<ol>\n<li><p>Saying:  <code>A = [];</code> is the answer. Is ignorant, as is absolutely incorrect.</p>\n\n<p>[ ] == [ ] // is <strong>false</strong>.</p></li>\n</ol>\n\n<p>Because they are two separate; individual objects, with their own two identities taking their own physical space of their digital world, each on its own.</p>\n\n<p>Let's say your mother asks you to empty the trash can. \n- You don't bring in a new one as if you've done what you've been asked for.\nInstead, you empty the trash can. \nYou don't replace the filled one with a new empty can, and you don't take the label \"A\" from the filled can and stick it to the new one as in <code>A = [1,2,3,4]; A = [];</code></p>\n\n<p>Emptying an array object is the easiest thing ever:</p>\n\n<pre><code>**A.length = 0;**\n</code></pre>\n\n<p>This way, the can under \"A\" is not only empty, but also as clean as new!</p>\n\n<ol start=\"2\">\n<li><p>Furthermore, you are not required to pick the trash by hand until can is empty!\nYou were asked to empty the existing one; completely; in one turn - not to chose and pick up the trash until the can gets empty, as in.:</p>\n\n<p>while(A.length > 0) {\n   A.pop();\n}</p></li>\n<li><p>Nor, to put your left hand at the bottom of the trash, holding it with your right at the top to be able to pull its content out as in.:</p>\n\n<p>A.splice( 0, A.length );</p></li>\n</ol>\n\n<p>No, you were asked to empty it.:</p>\n\n<pre><code>A.length = 0;\n</code></pre>\n\n<p>This is the only equivalent syntax of the correct sense of \"emptying\" / \"throwing away\" the content of the given JavaScript Array Object.</p>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 36956622, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<p><em>To Empty a Current memory location of an array use: <code>'myArray.length = 0'</code> or <code>'myArray.pop() UN-till its length is 0'</code></em></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/length\" rel=\"nofollow\"><code>length</code></a> : Pops till length of an array is of Specified Size.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop\" rel=\"nofollow\"><code>pop()</code></a>  : The pop method removes the last element from a current memory address of an array.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>var mainArr = new Array();\nmainArr = ['1', '2', '3', '4'];\n\nvar refArr = mainArr;\nconsole.log('Current', mainArr, 'Refered', refArr);\n\nrefArr.length = 3;\nconsole.log('Length: ~ Current', mainArr, 'Refered', refArr);\n\nmainArr.push('0');\nconsole.log('Push to the End of Current Array Memory Location \\n~ Current', mainArr, 'Refered', refArr);\n\nmainArr.poptill_length(0);\nconsole.log('Empty Array \\n~ Current', mainArr, 'Refered', refArr);\n\nArray.prototype.poptill_length = function (e) {\n  while (this.length) {\n    if( this.length == e ) break;\n\n    console.log('removed last element:', this.pop());\n  }\n};\n</code></pre>\n\n<p><em>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow\"><code>slice()</code></a> : when you want to clone an array from given array with new memory address, So that any modification on cloneArr will not affect to an actual array.</em></p>\n\n<p><em>Empty Array with new Memory address use : slice(0, 0)</em></p>\n\n<pre><code>var cloneArr = mainArr.slice(0, 3); \nconsole.log('Main', mainArr, '\\tCloned', cloneArr);\n\ncloneArr.length = 0; // Clears current memory location of an array.\nconsole.log('Main', mainArr, '\\tCloned', cloneArr);\n</code></pre>\n\n<p><em>To assigning new empty array <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow\"><code>[]</code></a> with a new memory location.</em></p>\n\n<pre><code>mainArr = []; // a new empty array is addressed to mainArr.\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 37134649, "question_id": 1232040, "tags": ["javascript", "arrays"]}, {"body": "<pre><code>var arr = [1,2,3,5];\n\nYou can use:\n\n1. arr.length = 0;\n2. arr.splice(0);\n3. arr = arr.constructor();\n4. arr = [];\n</code></pre>\n", "title": "How do I empty an array in JavaScript?", "answer_id": 39403111, "question_id": 1232040, "tags": ["javascript", "arrays"]}], "question_id": 1232040}, {"body": "<p>How do I select the <code>&lt;li&gt;</code> element that is a direct parent of the anchor element?</p>\n\n<p>In example my CSS would be something like this:</p>\n\n<pre><code>li &lt; a.active\n{\n property: value;\n}\n</code></pre>\n\n<p>Obviously there are ways of doing this with JavaScript but I'm hoping that there is some sort of workaround that exists native to CSS Level 2.</p>\n\n<p>The menu that I am trying to style is being spewed out by a CMS so I can't move the active element to the <code>&lt;li&gt;</code> element... (unless I theme the menu creation module which I'd rather not do).</p>\n\n<p>Any ideas?</p>\n", "title": "Is there a CSS parent selector?", "tags": ["css", "css-selectors"], "answer_count": 21, "link": "http://stackoverflow.com/questions/1014861/is-there-a-css-parent-selector", "answers": [{"body": "<p>there isn't a way to do this in css2. you could add the class to the li and reference the a</p>\n\n<pre><code>li.active &gt; a {\n    property: value;\n}\n</code></pre>\n", "title": "Is there a CSS parent selector?", "answer_id": 1014900, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>I've certainly come across instances when it would be handy, but unfortunately parent selectors do not exist in CSS.</p>\n\n<p>Can you explain more about what you're trying to achieve?  There might be another way in to a solution, e.g. move the style to the <code>li</code>, then disable it in <code>a.active</code> or via a child selector.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 1014901, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>I don\u00b4t think you can select the parent in css only.</p>\n\n<p>But as you already seem to have an <code>.active</code> class, wouldn\u00b4t it be easier to move that class to the <code>li</code> (instead of the <code>a</code>)? That way you can access both the <code>li</code> and the <code>a</code> via css only.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 1014910, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>Not in CSS 2 as far as I'm aware.  CSS 3 has more robust selectors but is not consistently implemented across all browsers.  Even with the improved selectors, I don't believe it will accomplish exactly what you've specified in your example.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 1014916, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>There is currently no way to select the parent of an element in CSS.</p>\n\n<p>If there was a way to do it, it would be in either of the current CSS selectors specs:</p>\n\n<ul>\n<li><a href=\"http://www.w3.org/TR/css3-selectors/#selectors\">Selectors Level 3 Spec</a></li>\n<li><a href=\"http://www.w3.org/TR/CSS2/selector.html#pattern-matching\">CSS 2.1 Selectors Spec</a></li>\n</ul>\n\n<p>In the meantime, you'll have to resort to JavaScript if you need to select a parent element.</p>\n\n<hr>\n\n<p>The <a href=\"http://dev.w3.org/csswg/selectors4/#relational\">Selectors Level 4 Working Draft</a> includes a <code>:has()</code> pseudo-class that works the same as the <a href=\"http://api.jquery.com/has-selector/\">jQuery implementation</a>. As of 2016, <strong><a href=\"http://caniuse.com/#feat=css-has\">this is not available in any browser</a></strong>. </p>\n\n<p>Using <code>:has()</code> the original question could be solved with this:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>li:has(&gt; a.active) { /* styles to apply to the li tag */ }\n</code></pre>\n", "title": "Is there a CSS parent selector?", "answer_id": 1014958, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>As mentioned by a couple of others, there isn't a way to style an element's parent/s using just CSS but the following works with <a href=\"http://jquery.com/\">jQuery</a>:</p>\n\n<pre><code>$(\"a.active\").parents('li').css(\"property\", \"value\");\n</code></pre>\n", "title": "Is there a CSS parent selector?", "answer_id": 1901332, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>The css3 selector \"General sibling combinator\" could maybe used for what you want:</p>\n\n<pre><code>E ~ F {\n    property: value;\n}\n</code></pre>\n\n<p>This matches any F element that is preceded by an E element.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 6535953, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>You can use this <a href=\"https://github.com/Idered/cssParentSelector\">script</a>. </p>\n\n<pre class=\"lang-css prettyprint-override\"><code>*! &gt; input[type=text] { background: #000; }\n</code></pre>\n\n<p>This will select any parent of a text input. But wait, there's still much more. If you want, you can select a specified parent:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.input-wrap! &gt; input[type=text] { background: #000; }\n</code></pre>\n\n<p>or select it when it's active:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.input-wrap! &gt; input[type=text]:focus { background: #000; }\n</code></pre>\n\n<p>Check out this HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"input-wrap\"&gt;\n    &lt;input type=\"text\" class=\"Name\"/&gt;\n    &lt;span class=\"help hide\"&gt;Your name sir&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>you can select that <code>span.help</code> when the <code>input</code> is active and show it:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.input-wrap! .help &gt; input[type=text]:focus { display: block; }\n</code></pre>\n\n<p>There are many more capabilities; just check out the documentation of the plugin.</p>\n\n<p>BTW, it works in IE.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 7049832, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>The W3C excluded such a selector because of the huge performance impact it would have on a browser.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 7073683, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>Try to switch <code>a</code> to <code>block</code> display, and then use any style you want. <code>a</code> element will fill <code>li</code> element and you will be able to modify it's look as you want. Don't forget to set <code>li</code> padding to 0.</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>li {\n  padding: 0;\n  overflow: hidden;\n}\na {\n  display: block;\n  width: 100%;\n  color: ..., background: ..., border-radius: ..., etc...\n}\na.active {\n  color: ..., background: ...\n}\n</code></pre>\n", "title": "Is there a CSS parent selector?", "answer_id": 8239485, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>You might try to use hyperlink as the parent, and then change the inner elements on hover. Like this:</p>\n\n<pre><code>a.active h1 {color:red;}\n\na.active:hover h1 {color:green;}\n\na.active h2 {color:blue;}\n\na.active:hover h1 {color:yellow;}\n</code></pre>\n\n<p>This way you can change the style in multiple inner tags, based on the rollover of the parent element.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 9259605, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>I know the OP was looking for a CSS solution but it is simple to achieve using jQuery. In my case I needed to find the <code>&lt;ul&gt;</code> parent tag for a <code>&lt;span&gt;</code> tag contained in the child <code>&lt;li&gt;</code>. jQuery has the <code>:has</code> selector so it's possible to identify a parent by the children it contains:</p>\n\n<pre><code>$(\"ul:has(#someId)\")\n</code></pre>\n\n<p>will select the <code>ul</code> element that has a child element with id <em>someId</em>. Or to answer the original question, something like the following should do the trick (untested):</p>\n\n<pre><code>$(\"li:has(.active)\")\n</code></pre>\n", "title": "Is there a CSS parent selector?", "answer_id": 16598254, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>In CSS3 (works on firefox 21 in linux):</p>\n\n<pre><code>:not(:empty)\n</code></pre>\n\n<p>Selects elements with children/text nodes.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 17951753, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>There is no parent selector; just the way there is no previous sibling selector. One good reason for not having these selectors is because the browser has to traverse through all children of an element to determine whether or not a class should be applied. For example if you wrote:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>body:contains-selector(a.active) { background: red; }\n</code></pre>\n\n<p>Then the browser will have to wait until it has loaded and parsed everything until the <code>&lt;/body&gt;</code> to determine if the page should be red or not.</p>\n\n<p>This article <a href=\"http://snook.ca/archives/html_and_css/css-parent-selectors\">WHY WE DON'T HAVE A PARENT SELECTOR</a> explains it in detail.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 21253071, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>Currently there is no parent selector &amp; it is not even being discussed in any of the talks of W3C. You need to understand how CSS is evaluated by the browser to actually understand if we need it or not.</p>\n\n<p>There is a lot of technical explanation here.</p>\n\n<p>Jonathan Snook explains how css is evaluated\n<a href=\"http://snook.ca/archives/html_and_css/css-parent-selectors\">http://snook.ca/archives/html_and_css/css-parent-selectors</a></p>\n\n<p>Chris Coyier on the talks of Parent selector\n<a href=\"http://css-tricks.com/parent-selectors-in-css/\">http://css-tricks.com/parent-selectors-in-css/</a></p>\n\n<p>Harry Roberts again on writing efficient css selector\n<a href=\"http://csswizardry.com/2011/09/writing-efficient-css-selectors/\">http://csswizardry.com/2011/09/writing-efficient-css-selectors/</a></p>\n\n<p>but this lady has some interesting facts\n<a href=\"http://calendar.perfplanet.com/2011/css-selector-performance-has-changed-for-the-better/\">http://calendar.perfplanet.com/2011/css-selector-performance-has-changed-for-the-better/</a></p>\n\n<p>These people are all top class in the field of front end development.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 22559484, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>This is the most discussed aspect of the <strong>Selectors Level 4</strong> specification.\nWith this selector will be able to style an element according to its child by using an exclamation mark after the given selector (!).</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>body! a:hover{\n   background: red;\n}\n</code></pre>\n\n<p>will set a red background-color if the user hovers over any anchor.</p>\n\n<p>But we have to wait browsers implementation :(</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 30060508, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>Technically there is no direct way to do this however, you can sort that with either jquery or javascript.</p>\n\n<p>Howeve,r you can do something like this as well.</p>\n\n<pre><code>a.active h1 {color:blue;}\na.active p {color: green;}\n</code></pre>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>$(\"a.active\").parents('li').css(\"property\", \"value\"); \n</code></pre>\n\n<p>If you want to achieve this using jQuery here is the reference for <a href=\"http://www.snoopcode.com/jquery/jquery-parent-selector\" rel=\"nofollow\">jQuery parent selector</a></p>\n", "title": "Is there a CSS parent selector?", "answer_id": 33122477, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>Has somebody suggested something like this? Just an idea for horizontal menu...</p>\n\n<p>part of HTML</p>\n\n<pre><code>&lt;div class='list'&gt;\n  &lt;div class='item'&gt;\n    &lt;a&gt;Link&lt;/a&gt;\n  &lt;/div&gt;\n  &lt;div class='parent-background'&gt;&lt;/div&gt;\n  &lt;!-- submenu takes this place --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>part of CSS</p>\n\n<pre><code>/* hide parent backgrounds... */\n.parent-background {\n  display: none; }\n\n/* ... and show it when hover on children */\n.item:hover + .parent-background {\n  display: block;\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  width: 100%; }\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/ilyabogdanov/4fyxywee/\">Updated demo and the rest of code</a></p>\n\n<p><a href=\"https://jsfiddle.net/ilyabogdanov/o4fkL7kv/\">Another example</a> how to use it with text-inputs - select parent fieldset</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 33375213, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>I don\u00b4t think you can select the parent in css only.</p>\n\n<p>But as you already seem to have an <code>.active</code> class, wouldn\u00b4t it be easier to move that class to the <code>li</code> (instead of the <code>a</code>)? That way you can access both the <code>li</code> and the <code>a</code> via css only.</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 33964885, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>Just as easy help for whom are trying to get rid of this lack of parent selector: the most simple thing are two lines of jQuery.</p>\n\n<p>Let's figure out the situation in which we want to change the class of the <code>&lt;form&gt;</code> element basing on the validation of hinner inputs:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"parent-row\"&gt;\n    &lt;label&gt;Form 1&lt;/label&gt;\n    &lt;input type=\"text\"  name=\"field1\" /&gt;\n    &lt;input type=\"text\" class=\"validation-error\" name=\"field2\" /&gt;\n    &lt;input type=\"text\" name=\"field3\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.make-red {\n    color:red\n}\n</code></pre>\n\n<p>JQuery:</p>\n\n<pre><code>if($( \"input\" ).hasClass( \"validation-error\" )) {\n     $( \".parent-row\" ).addClass( \"make-red\" );\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/9c3hrn9y/3/\" rel=\"nofollow\">http://jsfiddle.net/9c3hrn9y/3/</a></p>\n", "title": "Is there a CSS parent selector?", "answer_id": 34004708, "question_id": 1014861, "tags": ["css", "css-selectors"]}, {"body": "<p>There's a plugin that extends CSS to include some non-standard features that can really help when designing websites. It's called EQCSS, and you can find it at <a href=\"http://elementqueries.com\" rel=\"nofollow\">http://elementqueries.com</a></p>\n\n<p>One of the things EQCSS adds is a parent selector. It works in all browsers IE8 and up. Here's the format:</p>\n\n<pre><code>@element 'a.active' {\n  $parent {\n    background: red;\n  }\n}\n</code></pre>\n\n<p>So here we've opened an element query on every element <code>a.active</code>, and for the styles inside that query, things like <code>$parent</code> make sense because there's a reference point. The browser can find the parent, because it's very similar to <code>parentNode</code> in JavaScript.</p>\n\n<p>Here's a demo of <code>$parent</code>: <a href=\"http://elementqueries.com/demos/parent.html\" rel=\"nofollow\">http://elementqueries.com/demos/parent.html</a></p>\n\n<p>Here's a demo that works in IE8: <a href=\"http://staticresource.com/parent.html\" rel=\"nofollow\">http://staticresource.com/parent.html</a></p>\n\n<p>(and a screenshot in case you don't have IE8 around to test with: <a href=\"http://i.imgur.com/QyVAj2u.png\" rel=\"nofollow\">http://i.imgur.com/QyVAj2u.png</a> )</p>\n\n<p>EQCSS also includes meta-selectors <code>$prev</code> for the element before a selected element, <code>$this</code> for only those elements that match an element query, and more.</p>\n\n<p>You can read more about meta-selectors in EQCSS here: <a href=\"http://elementqueries.com/#meta-selectors\" rel=\"nofollow\">http://elementqueries.com/#meta-selectors</a></p>\n\n<p>Hope this helps!</p>\n", "title": "Is there a CSS parent selector?", "answer_id": 36483708, "question_id": 1014861, "tags": ["css", "css-selectors"]}], "question_id": 1014861}, {"body": "<p>I have two radio buttons and want to post the value of the selected one.\nHow can I get the value with jQuery?</p>\n\n<p>I can get all of them like this:</p>\n\n<pre><code>$(\"form :radio\")\n</code></pre>\n\n<p>How do I know which one is selected?</p>\n", "title": "How can I know which radio button is selected via jQuery?", "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"], "answer_count": 30, "link": "http://stackoverflow.com/questions/596351/how-can-i-know-which-radio-button-is-selected-via-jquery", "answers": [{"body": "<p>To get the value of the <strong>selected</strong> <code>radioName</code> item of a form with id <code>myForm</code>:</p>\n\n<pre><code>$('input[name=radioName]:checked', '#myForm').val()\n</code></pre>\n\n<p>Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#myForm input').on('change', function() {\r\n   alert($('input[name=radioName]:checked', '#myForm').val()); \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form id=\"myForm\"&gt;\r\n&lt;input type=\"radio\" name=\"radioName\" value=\"1\" /&gt; 1 &lt;br /&gt;\r\n&lt;input type=\"radio\" name=\"radioName\" value=\"2\" /&gt; 2 &lt;br /&gt;\r\n&lt;input type=\"radio\" name=\"radioName\" value=\"3\" /&gt; 3 &lt;br /&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 596369, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>You can use the :checked selector along with the radio selector.</p>\n\n<pre><code> $(\"form:radio:checked\").val();\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 596380, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Use this..  </p>\n\n<pre><code>$(\"#myform input[type='radio']:checked\").val();\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 2017454, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>In a <strong>JSF</strong> generated radio button (using <code>&lt;h:selectOneRadio&gt;</code> tag), you can do this:</p>\n\n<pre><code>radiobuttonvalue = jQuery(\"input[name='form_id\\:radiobutton_id']:checked\").val();\n</code></pre>\n\n<p>where selectOneRadio ID is <strong>radiobutton_id</strong> and form ID is <strong>form_id</strong>.</p>\n\n<p>Be sure to use <strong>name</strong> instead <strong>id</strong>, as indicated, because jQuery uses this attribute (<strong>name</strong> is generated automatically by JSF resembling control ID).</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 3824976, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<pre><code>$(\"input:radio:checked\").val();\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 3950609, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>If you already have a reference to a radio button group, for example:</p>\n\n<pre><code>var myRadio = $('input[name=myRadio]');\n</code></pre>\n\n<p>Use the <code>filter()</code> function, not <code>find()</code>. (<code>find()</code> is for locating child/descendant elements, whereas <code>filter()</code> searches top-level elements in your selection.)</p>\n\n<pre><code>var checkedValue = myRadio.filter(':checked').val();\n</code></pre>\n\n<hr>\n\n<p><em>Note:</em> This answer was originally correcting another answer that recommended using <code>find()</code>, which seems to have since been changed. <code>find()</code> could still be useful in the situation where you already had a reference to a container element, but not to the radio buttons, e.g.:</p>\n\n<pre><code>var form = $('#mainForm');\n...\nvar checkedValue = form.find('input[name=myRadio]:checked').val();\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 4948884, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>This should work: </p>\n\n<pre><code>$(\"input[name='radioName']:checked\").val()\n</code></pre>\n\n<p>Note the \"\" usaged around the input:checked and not '' like the Peter J's solution</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 5493242, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Get all radios:</p>\n\n<pre><code>var radios = jQuery(\"input[type='radio']\");\n</code></pre>\n\n<p>Filter to get the one thats checked</p>\n\n<pre><code>radios.filter(\":checked\")\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 7274399, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Another option is:</p>\n\n<pre><code>$('input[name=radioName]:radio:checked').val()\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 7505602, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Also, check if the user does not select anything.</p>\n\n<pre><code>var radioanswer = 'none';\nif ($('input[name=myRadio]:checked').val() != null) {           \n   radioanswer = $('input[name=myRadio]:checked').val();\n}\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 8139323, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>If you have Multiple radio buttons in single form then </p>\n\n<pre><code>var myRadio1 = $('input[name=radioButtonName1]');\nvar value1 = myRadio1.filter(':checked').val();\n\nvar myRadio2 = $('input[name=radioButtonName2]');\nvar value2 = myRadio2.filter(':checked').val();\n</code></pre>\n\n<p>This is working for me.</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 10925802, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<pre><code> $(\".Stat\").click(function () {\n     var rdbVal1 = $(\"input[name$=S]:checked\").val();\n }\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 11522053, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>In my case I have two radio buttons in one form and I wanted to know the status of each button.\nThis below worked for me:</p>\n\n<p>HTML side:</p>\n\n<pre><code>&lt;form id=\"toggle-form\"&gt;\n      &lt;div id=\"radio\"&gt;\n        &lt;input type=\"radio\" id=\"radio1\" name=\"radio\" checked=\"checked\" /&gt;&lt;label for=\"radio1\"&gt;Plot single&lt;/label&gt;\n        &lt;input type=\"radio\" id=\"radio2\" name=\"radio\"/&gt;&lt;label for=\"radio2\"&gt;Plot all&lt;/label&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Javascript side:</p>\n\n<pre><code>// get radio buttons value\nconsole.log( \"radio1: \" +  $('input[id=radio1]:checked', '#toggle-form').val() );\nconsole.log( \"radio2: \" +  $('input[id=radio2]:checked', '#toggle-form').val() );\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 11782460, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Here's how I would write the form and handle the getting of the checked radio.</p>\n\n<p>Using a form called myForm:</p>\n\n<pre><code>&lt;form id='myForm'&gt;\n    &lt;input type='radio' name='radio1' class='radio1' value='val1' /&gt;\n    &lt;input type='radio' name='radio1' class='radio1' value='val2' /&gt;\n    ...\n&lt;/form&gt;\n</code></pre>\n\n<p>Get the value from the form:</p>\n\n<pre><code>$('#myForm .radio1:checked').val();\n</code></pre>\n\n<p>If you're not posting the form, I would simplify it further by using:</p>\n\n<pre><code>&lt;input type='radio' class='radio1' value='val1' /&gt;\n&lt;input type='radio' class='radio1' value='val2' /&gt;\n</code></pre>\n\n<p>Then getting the checked value becomes:</p>\n\n<pre><code>    $('.radio1:checked').val();\n</code></pre>\n\n<p>Having a class name on the input allows me to easily style the inputs...</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 12534304, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>To get the value of the selected radio that uses a class:</p>\n\n<pre><code>$('.class:checked').val()\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 14284081, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>I wrote a jQuery plugin for setting and getting radio-button values. It also respects the \"change\" event on them.</p>\n\n<pre><code>(function ($) {\n\n    function changeRadioButton(element, value) {\n        var name = $(element).attr(\"name\");\n        $(\"[type=radio][name=\" + name + \"]:checked\").removeAttr(\"checked\");\n        $(\"[type=radio][name=\" + name + \"][value=\" + value + \"]\").attr(\"checked\", \"checked\");\n        $(\"[type=radio][name=\" + name + \"]:checked\").change();\n    }\n\n    function getRadioButton(element) {\n        var name = $(element).attr(\"name\");\n        return $(\"[type=radio][name=\" + name + \"]:checked\").attr(\"value\");\n    }\n\n    var originalVal = $.fn.val;\n    $.fn.val = function(value) {\n\n        //is it a radio button? treat it differently.\n        if($(this).is(\"[type=radio]\")) {\n\n            if (typeof value != 'undefined') {\n\n                //setter\n                changeRadioButton(this, value);\n                return $(this);\n\n            } else {\n\n                //getter\n                return getRadioButton(this);\n\n            }\n\n        } else {\n\n            //it wasn't a radio button - let's call the default val function.\n            if (typeof value != 'undefined') {\n                return originalVal.call(this, value);\n            } else {\n                return originalVal.call(this);\n            }\n\n        }\n    };\n})(jQuery);\n</code></pre>\n\n<p>Put the code anywhere to enable the addin. Then enjoy! It just overrides the default val function without breaking anything.</p>\n\n<p>You can visit this jsFiddle to try it in action, and see how it works.</p>\n\n<p><a href=\"http://jsfiddle.net/ffMathy/MN856/\">Fiddle</a></p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 16057095, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Use this:</p>\n\n<pre><code>value = $('input[name=button-name]:checked').val();\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 18165006, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>If you only have 1 set of radio buttons on 1 form, the jQuery code is as simple as this:</p>\n\n<pre><code>$( \"input:checked\" ).val()\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 18178676, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>If you want just the boolean value, i.e. if it's checked or not try this:</p>\n\n<pre><code>$(\"#Myradio\").is(\":checked\")\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 18540978, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>To retrieve all radio buttons values in JavaScript array use following jQuery code :</p>\n\n<pre><code>var values = jQuery('input:checkbox:checked.group1').map(function () {\n    return this.value;\n}).get();\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 18583615, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>I've released a library to help with this.  Pulls all possible input values, actually, but also includes which radio button was checked.  You can check it out at <a href=\"https://github.com/mazondo/formalizedata\" rel=\"nofollow\">https://github.com/mazondo/formalizedata</a></p>\n\n<p>It'll give you a js object of the answers, so a form like:</p>\n\n<pre><code>&lt;form&gt;\n&lt;input type=\"radio\" name\"favorite-color\" value=\"blue\" checked&gt; Blue\n&lt;input type=\"radio\" name=\"favorite-color\" value=\"red\"&gt; Red\n&lt;/form&gt;\n</code></pre>\n\n<p>will give you:</p>\n\n<pre><code>$(\"form\").formalizeData()\n{\n  \"favorite-color\" : \"blue\"\n}\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 21301127, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>I use this simple script</p>\n\n<pre><code>$('input[name=\"myRadio\"]').on('change', function() {\n  var radioValue = $('input[name=\"myRadio\"]:checked').val();        \n  alert(radioValue); \n});\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 26453372, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>This works fine</p>\n\n<pre><code>$('input[type=\"radio\"][class=\"className\"]:checked').val()\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/as4bnkmm/1/\"><strong>Working Demo</strong></a></p>\n\n<p>The <code>:checked</code> selector works for <code>checkboxes</code>, <code>radio buttons</code>, and select elements. For select elements only, use the <code>:selected</code> selector.</p>\n\n<p><a href=\"http://api.jquery.com/checked-selector/\"><strong>API for <code>:checked Selector</code></strong></a></p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 28515261, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<pre><code>var testval = $(\"input:radio[name=gender]:checked\" ).val();\nvar testval =  $(\"input[type='radio'][name='gender']:checked\").val();\nvar testval =  $(\"[name='gender']:checked\").val();\n\n&lt;input type=\"radio\" value=\"M\" name=\"gender\" class=\"gender_class\"&gt;Male\n&lt;input type=\"radio\" value=\"F\" name=\"gender\" class=\"gender_class\"&gt;Female \n</code></pre>\n\n<p><a href=\"http://www.phpmysqlcode.com/how-to-get-checked-selected-radio-button-value-in-jquery/\" rel=\"nofollow\">Test Demo</a></p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 30369904, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>Here have good Snippet for how to know which radio-button is selected Via jQuery </p>\n\n<p><a href=\"http://www.htmllion.com/radio-button-is-checked-or-not-with-jquery.html\" rel=\"nofollow\">http://www.htmllion.com/radio-button-is-checked-or-not-with-jquery.html</a></p>\n\n<p>it's should be work with <br>\n$(\"input[name='name']:checked\").val();</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#buttoncheck').click(function(){\r\n    if ($(\"input[name='name']\").is(':checked')) {\r\n        $('.radiobutton').html(\"Radio button is checked and it's value is \"+$(\"input[name='name']:checked\").val())\r\n    }\r\n    else {\r\n        $('.radiobutton').html('Radio button is Not checked')\r\n    }\r\n    // return false  use as per you need\r\n    return false;\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;\r\n    &lt;p&gt;\r\n        &lt;label&gt;\r\n            &lt;input type=\"radio\" name=\"name\" value=\"Yes\"&gt; Yes\r\n        &lt;/label&gt;\r\n        &lt;label&gt;\r\n            &lt;input type=\"radio\" name=\"name\" value=\"No\" &gt; No \r\n        &lt;/label&gt;\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        &lt;input type=\"reset\" value=\"Reset\"&gt;\r\n        &lt;input type=\"submit\" id=\"buttoncheck\" value=\"Check\"&gt;\r\n    &lt;/p&gt;\r\n    &lt;p class=\"radiobutton\"&gt;&lt;/p&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 32561730, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>If using Primefaces  / Java Server Faces (JSF)</p>\n\n<pre><code>&lt;h:form id=\"formId\"&gt;\n  &lt;h:panelGrid columns=\"2\"&gt;\n    &lt;p:selectOneButton id=\"method1\" value=\"#{bean.method}\" onchange=\"formHandler()\"&gt;\n      &lt;f:selectItem itemLabel=\"Days\" itemValue=\"days\" /&gt;\n      &lt;f:selectItem itemLabel=\"By Hrs\" itemValue=\"hours\" /&gt;\n    &lt;/p:selectOneButton&gt;\n\n    &lt;p:selectOneButton id=\"method2\" value=\"#{bean.method2}\" onchange=\"formHandler()\"&gt;\n      &lt;f:selectItem itemLabel=\"Bus\" itemValue=\"bus\" /&gt;\n      &lt;f:selectItem itemLabel=\"Train\" itemValue=\"train\" /&gt;\n    &lt;/p:selectOneButton&gt;\n   &lt;/h:panelGrid&gt;\n&lt;/h:form&gt;\n</code></pre>\n\n<p>produces this HTML (Only showing for method1 radio group)</p>\n\n<pre><code>&lt;td&gt;\n&lt;input id=\"formId:method:0\" name=\"formId:method1\" type=\"radio\" value=\"days\" class=\"ui-helper-hidden\" onchange=\"formHandler();\" checked=\"checked\" /&gt;\n&lt;span class=\"ui-button-text ui-c\"&gt;Days&lt;/span&gt;\n\n&lt;input id=\"formId:method:1\" name=\"formId:method1\" type=\"radio\" value=\"hours\" class=\"ui-helper-hidden\" onchange=\"formHandler();\" /&gt;\n&lt;span class=\"ui-button-text ui-c\"&gt;Hours&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>function formHandler(){\n    // This works\n    var $method1 = $(\"input[name='formId:method1']:checked\", '#formId').val();\n\n    // This also works. Note the elimination of    , '#formId'\n    var $method2 = $(\"input[name='formId:method2']:checked\").val();\n\n    alert (\"Method1 = \" + $method1); &lt;- Displays days or hours\n    alert (\"Method2 = \" + $method2); &lt;- Displays bus or train\n\n\n// I use the radio values and refresh my page with these various filters as URL arguments\n    window.location.href = '?method1='+$method1+'&amp;method2='+$method2;\n}\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 33173861, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>From <a href=\"http://stackoverflow.com/q/34815656/1541563\">this question</a>, I came up with an alternate way to access the currently selected <code>input</code> when you're within a <code>click</code> event for its respective label. The reason why is because the newly selected <code>input</code> isn't updated until after its <code>label</code>'s click event.</p>\n\n<p><strong>TL;DR</strong></p>\n\n<pre><code>$('label').click(function() {\n  var selected = $('#' + $(this).attr('for')).val();\n\n  ...\n});\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  // this outright does not work properly as explained above\r\n  $('#reported label').click(function() {\r\n    var query = $('input[name=\"filter\"]:checked').val();\r\n    var time = (new Date()).toString();\r\n\r\n    $('.query[data-method=\"click event\"]').html(query + ' at ' + time);\r\n  });\r\n\r\n  // this works, but fails to update when same label is clicked consecutively\r\n  $('#reported input[name=\"filter\"]').on('change', function() {\r\n    var query = $('input[name=\"filter\"]:checked').val();\r\n    var time = (new Date()).toString();\r\n\r\n    $('.query[data-method=\"change event\"]').html(query + ' at ' + time);\r\n  });\r\n\r\n  // here is the solution I came up with\r\n  $('#reported label').click(function() {\r\n    var query = $('#' + $(this).attr('for')).val();\r\n    var time = (new Date()).toString();\r\n\r\n    $('.query[data-method=\"click event with this\"]').html(query + ' at ' + time);\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input[name=\"filter\"] {\r\n  display: none;\r\n}\r\n#reported label {\r\n  background-color: #ccc;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n.query {\r\n  padding: 5px;\r\n  margin: 5px;\r\n}\r\n.query:before {\r\n  content: \"on \" attr(data-method)\": \";\r\n}\r\n[data-method=\"click event\"] {\r\n  color: red;\r\n}\r\n[data-method=\"change event\"] {\r\n  color: #cc0;\r\n}\r\n[data-method=\"click event with this\"] {\r\n  color: green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form id=\"reported\"&gt;\r\n  &lt;input type=\"radio\" name=\"filter\" id=\"question\" value=\"questions\" checked=\"checked\"&gt;\r\n  &lt;label for=\"question\"&gt;Questions&lt;/label&gt;\r\n\r\n  &lt;input type=\"radio\" name=\"filter\" id=\"answer\" value=\"answers\"&gt;\r\n  &lt;label for=\"answer\"&gt;Answers&lt;/label&gt;\r\n\r\n  &lt;input type=\"radio\" name=\"filter\" id=\"comment\" value=\"comments\"&gt;\r\n  &lt;label for=\"comment\"&gt;Comments&lt;/label&gt;\r\n\r\n  &lt;input type=\"radio\" name=\"filter\" id=\"user\" value=\"users\"&gt;\r\n  &lt;label for=\"user\"&gt;Users&lt;/label&gt;\r\n\r\n  &lt;input type=\"radio\" name=\"filter\" id=\"company\" value=\"companies\"&gt;\r\n  &lt;label for=\"company\"&gt;Companies&lt;/label&gt;\r\n\r\n  &lt;div class=\"query\" data-method=\"click event\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"query\" data-method=\"change event\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"query\" data-method=\"click event with this\"&gt;&lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 34816613, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<pre><code>$(document).ready(function() {\n    var myRadio = $('input[name=rating]');\n    myRadio.on('change', function () {\n        var checkedValue=myRadio.filter(':checked').val();\n        if (checkedValue != \"undefiined\")\n        alert(checkedValue);\n    });            \n});\n</code></pre>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 36121248, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p>i think the \"solving\" answer is unpropper as it depends on changing the value and you can not use this if you want to check the value at another time than currently clicking on the radio.</p>\n\n<p>from the 2nd and 3rd answer i imagined that this would be better to get the value of one list of radios any time (eg when submitting the form)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input name=\"myRadioName\" type=\"radio\" value=\"one\" /&gt; one \r\n&lt;input name=\"myRadioName\" type=\"radio\" value=\"two\" /&gt; two \r\n&lt;a href=\"javascript:check();\"&gt;Show Value!&lt;/a&gt; &lt;input id=\"out\" /&gt;\r\n&lt;script&gt;\r\nfunction check()\r\n{\r\n  if (typeof $('[name=myRadioName]:checked').val() != \"undefined\")\r\n  {\r\n    $('#out').val('OK - selected ' + $('[name=myRadioName]:checked').val());\r\n  }\r\n  else\r\n  {\r\n    $('#out').val('nothing selected');\r\n  }\r\n}\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 37325957, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}, {"body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#myForm input').on('change', function() {\r\n   alert($('input[name=radioName]:checked', '#myForm').val()); \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form id=\"myForm\"&gt;\r\n&lt;input type=\"radio\" name=\"radioName\" value=\"1\" /&gt; 1 &lt;br /&gt;\r\n&lt;input type=\"radio\" name=\"radioName\" value=\"2\" /&gt; 2 &lt;br /&gt;\r\n&lt;input type=\"radio\" name=\"radioName\" value=\"3\" /&gt; 3 &lt;br /&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How can I know which radio button is selected via jQuery?", "answer_id": 38353182, "question_id": 596351, "tags": ["javascript", "jquery", "jquery-selectors", "radio-button"]}], "question_id": 596351}, {"body": "<p>I started some work on a new feature and after coding for a bit, I decided this feature should be on its own branch. </p>\n\n<p>How do I move the existing uncommitted changes to a new branch and reset my current one?</p>\n\n<p>I want to reset my current branch while preserving existing work on the new feature.</p>\n", "title": "Move existing, uncommited work to a new branch in Git", "tags": ["git", "git-branch", "git-stash", "git-reset"], "answer_count": 4, "link": "http://stackoverflow.com/questions/1394797/move-existing-uncommited-work-to-a-new-branch-in-git", "answers": [{"body": "<p>Use the following:</p>\n\n<pre><code>git checkout -b &lt;new-branch&gt;\n</code></pre>\n\n<p>This will leave your current branch as is, create and checkout a new branch and keep all your changes. You can then make a commit with:</p>\n\n<pre><code>git add &lt;files&gt;\n</code></pre>\n\n<p>and commit to your new branch with: </p>\n\n<pre><code>git commit\n</code></pre>\n\n<p>The changes in the working directory and changes staged in index do not belong to any branch yet. This changes where those changes would end in.</p>\n\n<p>You don't <em>reset</em> your original branch, it stays as it is. The last commit on <code>&lt;old-branch&gt;</code> will still be the same. Therefore you <code>checkout -b</code> and then commit.</p>\n", "title": "Move existing, uncommited work to a new branch in Git", "answer_id": 1394804, "question_id": 1394797, "tags": ["git", "git-branch", "git-stash", "git-reset"]}, {"body": "<ol>\n<li><p>Save current changes to a temp stash:</p>\n\n<p><code>$ git stash</code></p></li>\n<li><p>Create a new branch based on this stash, and switch to the new branch:</p>\n\n<p><code>$ git stash branch XYZ stash@{0}</code></p></li>\n</ol>\n\n<p><em>Tip: use tab key to reduce typing the stash name.</em></p>\n", "title": "Move existing, uncommited work to a new branch in Git", "answer_id": 30927991, "question_id": 1394797, "tags": ["git", "git-branch", "git-stash", "git-reset"]}, {"body": "<p>If you commit it, you could also cherry-pick the single commit ID.  I do this often when I start work in master, and then want to create a local branch before I push up to my origin/.</p>\n\n<pre><code>git cherry-pick &lt;commitID&gt;\n</code></pre>\n\n<p>There is alot you can do with cherry-pick, as described <a href=\"https://git-scm.com/docs/git-cherry-pick\">here</a>, but this could be a use-case for you.</p>\n", "title": "Move existing, uncommited work to a new branch in Git", "answer_id": 34007882, "question_id": 1394797, "tags": ["git", "git-branch", "git-stash", "git-reset"]}, {"body": "<p><strong>If you have been making commits</strong> on your main branch while you coded, but you now want to move those commits to a different branch:</p>\n\n<ol>\n<li><p>Create a new branch with the same HEAD as current, and switch to it:</p>\n\n<pre><code>git checkout -b new-feature-branch\n</code></pre></li>\n<li><p>Now force the original \"messy\" branch to roll back, without switching to it:</p>\n\n<pre><code>$ git branch -f messy-branch commit-id\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>$ git branch -f master origin/master\n</code></pre>\n\n<p>or if you have made 4 commits:</p>\n\n<pre><code>$ git branch -f master HEAD~4\n</code></pre></li>\n</ol>\n", "title": "Move existing, uncommited work to a new branch in Git", "answer_id": 35357274, "question_id": 1394797, "tags": ["git", "git-branch", "git-stash", "git-reset"]}], "question_id": 1394797}, {"body": "<p>The command <code>git add [--all|-A]</code> appears to be identical to <code>git add .</code>. Is this correct? If not, how do they differ?</p>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "tags": ["git", "git-add"], "answer_count": 8, "link": "http://stackoverflow.com/questions/572549/difference-between-git-add-a-and-git-add", "answers": [{"body": "<p><strong>For Git version 2.x, see answers below too.</strong></p>\n\n<hr>\n\n<p><code>git add -A</code> is equivalent to  <code>git add .; git add -u</code>.</p>\n\n<p>The important point about <code>git add .</code> is that it looks at the working tree and adds all those paths to the staged changes if they are either changed or are new and not ignored, it does not stage any 'rm' actions.</p>\n\n<p><code>git add -u</code> looks at all the <em>already</em> tracked files and stages the changes to those files if they are different or if they have been removed. It does not add any new files, it only stages changes to already tracked files.</p>\n\n<p><code>git add -A</code> is a handy shortcut for doing both of those.</p>\n\n<p>You can test the differences out with something like this (not that for Git version 2.x your output for <code>git add .</code> <code>git status</code> <strong>will</strong> be different):</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>git init\necho Change me &gt; change-me\necho Delete me &gt; delete-me\ngit add change-me delete-me\ngit commit -m initial\n\necho OK &gt;&gt; change-me\nrm delete-me\necho Add me &gt; add-me\n\ngit status\n# Changed but not updated:\n#   modified:   change-me\n#   deleted:    delete-me\n# Untracked files:\n#   add-me\n\ngit add .\ngit status\n\n# Changes to be committed:\n#   new file:   add-me\n#   modified:   change-me\n# Changed but not updated:\n#   deleted:    delete-me\n\ngit reset\n\ngit add -u\ngit status\n\n# Changes to be committed:\n#   modified:   change-me\n#   deleted:    delete-me\n# Untracked files:\n#   add-me\n\ngit reset\n\ngit add -A\ngit status\n\n# Changes to be committed:\n#   new file:   add-me\n#   modified:   change-me\n#   deleted:    delete-me\n</code></pre>\n\n<p><strong>Summary:</strong></p>\n\n<ul>\n<li><p><code>git add -A</code> stages <strong>All</strong></p></li>\n<li><p><code>git add .</code> stages new and modified, <strong>without deleted</strong></p></li>\n<li><p><code>git add -u</code> stages modified and deleted, <strong>without new</strong></p></li>\n</ul>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 572660, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p>So from Charles instructions above, after testing my proposed understanding would be as follow:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code># For the next commit\n$ git add .   # add to index only files created/modified and not those deleted\n$ git add -u  # add to index only files deleted/modified and not those created\n$ git add -A  # do both operation at once, add to index all files\n</code></pre>\n\n<p>This link might also be helpfull to understand in what situation those commands may be applied: <a href=\"http://www.geekgumbo.com/2010/05/16/removing-deleted-files-from-your-git-working-directory/\">Removing Deleted Files from your Git Working Directory</a>.</p>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 2948576, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p>With <a href=\"https://github.com/git/git/blob/f99a38c0121456822f8a9dfb7928eefceaa98201/Documentation/RelNotes/2.0.0.txt#L32-L36\"><strong>Git 2.0, <code>git add -A</code> is default: <code>git add .</code> equals <code>git add -A .</code></strong></a>.  </p>\n\n<blockquote>\n  <p><code>git add &lt;path&gt;</code> is the same as \"<code>git add -A &lt;path&gt;</code>\" now, so that\n  \"<code>git add dir/</code>\" will notice paths you removed from the directory and\n  record the removal.<br>\n  In older versions of Git, \"<code>git add &lt;path&gt;</code>\" used to ignore removals.  </p>\n  \n  <p>You can say \"<code>git add --ignore-removal &lt;path&gt;</code>\" to\n  add only added or modified paths in <code>&lt;path&gt;</code>, if you really want to.</p>\n</blockquote>\n\n<p><code>git add</code> is like <code>git add :/</code> (<a href=\"http://stackoverflow.com/a/31951899/6309\">add everything from top git repo folder</a>).<br>\nNote that git 2.7 (Nov. 2015) will allow you to add a folder named \"<code>:</code>\"!<br>\nSee <a href=\"https://github.com/git/git/commit/29abb33978f713cd0a5cc3687bf61077b0928840\">commit 29abb33</a> (25 Oct 2015) by <a href=\"https://github.com/gitster\">Junio C Hamano (<code>gitster</code>)</a>.  </p>\n\n<hr>\n\n<p>Note that <a href=\"https://github.com/git/git/blob/master/Documentation/RelNotes/1.8.3.txt#L19-L30\">starting git 2.0 (Q1 or Q2 2014)</a>, when talking about <strong><code>git add .</code></strong> (current path within the working tree), you must use '<code>.</code>' in the other <code>git add</code> commands as well.</p>\n\n<p>That means:</p>\n\n<blockquote>\n  <p>\"<code>git add -A .</code>\" is equivalent to \"<code>git add .; git add -u .</code>\"</p>\n</blockquote>\n\n<p>(Note the extra '<code>.</code>' for <code>git add -A</code> and <code>git add -u</code>)</p>\n\n<p>Because <code>git add -A</code> or <code>git add -u</code> would operate (starting git 2.0 only) on the <strong>entire working tree</strong>, and not just on the current path.</p>\n\n<blockquote>\n  <p>Those commands will <strong>operate on the entire tree in Git 2.0 for consistency with \"<code>git commit -a</code>\" and other commands</strong>.\n  Because there will be no mechanism to make \"<code>git add -u</code>\" behave as if \"<code>git add -u .</code>\", it is important for those who are used to \"<code>git add -u</code>\" (without pathspec) updating the index only for paths in the current subdirectory to start training their fingers to explicitly say \"<code>git add -u .</code>\" when they mean it before Git 2.0 comes.</p>\n  \n  <p><strong>A warning is issued when these commands are run without a pathspec and when you have local changes outside the current directory</strong>, because the behaviour in Git 2.0 will be different\n  from today's version in such a situation.</p>\n</blockquote>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 16162511, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p>Late to the party but this question also deserves a more distilled quick answer. </p>\n\n<pre><code>git add -A \n</code></pre>\n\n<p>Does both below (same as <em>git add --all</em>)</p>\n\n<pre><code>git add . \n</code></pre>\n\n<p>Stages new + modified files</p>\n\n<pre><code>git add -u \n</code></pre>\n\n<p>Stages modified + deleted files</p>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 22894343, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p>Here is table for quick understanding:</p>\n\n<p><strong>Git Version 1.x</strong>:\n<img src=\"http://i.stack.imgur.com/YfLUZ.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Git Version 2.x</strong>:\n<img src=\"http://i.stack.imgur.com/KwOLu.jpg\" alt=\"enter image description here\"></p>\n\n<p>Long-form flags:</p>\n\n<ul>\n<li><code>git add -A</code> is equivalent to <code>git add --all</code></li>\n<li><code>git add -u</code> is equivalent to <code>git add --update</code></li>\n</ul>\n\n<p><strong>Further reading:</strong></p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/315911/git-for-beginners-the-definitive-practical-guide\">Git for beginners: The definitive practical guide</a></li>\n<li><a href=\"https://try.github.io/levels/1/challenges/1\">Got 15 minutes and want to learn Git? (in Interactive Way)</a></li>\n<li><a href=\"http://pcottle.github.io/learnGitBranching/\">http://pcottle.github.io/learnGitBranching/</a></li>\n<li><a href=\"http://www.wei-wang.com/ExplainGitWithD3/\">http://www.wei-wang.com/ExplainGitWithD3/</a></li>\n</ul>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 26039014, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p><a href=\"https://git.kernel.org/cgit/git/git.git/tree/Documentation/RelNotes/2.0.0.txt\">Things changed</a> with Git 2.0:</p>\n\n<ul>\n<li><code>-A</code> is now the default</li>\n<li>the old behavior is now available with <code>--ignore-removal</code></li>\n<li><code>git add -u</code> and <code>git add -A</code> in a subdirectory without paths on the command line operate on the entire tree</li>\n</ul>\n\n<p>So for git 2 the answer is:</p>\n\n<ul>\n<li><code>git add .</code> and <code>git add -A .</code> add new/modified/deleted files in the current directory</li>\n<li><code>git add --ignore-removal .</code> adds new/modified files in the current directory</li>\n<li><code>git add -u .</code> adds modified/deleted files in the current directory</li>\n<li>without the dot, add all files in the project regardless of the current directory</li>\n</ul>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 26343584, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p>Finally I think I get this, many thanks to you all. I hope this may add some more clarity.\n<code>\n!The syntax is\ngit add  \n! Aka\ngit add (nil/-u/-A) (nil/./pathspec)\n</code></p>\n\n<p>Limiters may be -u or -A or nil. </p>\n\n<p>Pathspec may be a filepath or dot, '.' to indicate the current directory. </p>\n\n<p>Important background knowledge about how git 'adds'.</p>\n\n<ul>\n<li>Invisible files, those prefixed with a dot, (dotfiles) are never automatically recognized by Git. They are never even listed as 'untracked'.</li>\n<li>Empty folders are never added by git. They are never even listed as 'untracked'. (A workaround is to add a blank file, possibly invisible, to the tracked files.)</li>\n<li>Git status will not display subfolder information, ie untracked files, unless at least one file in that subfolder is tracked. Before such time, git considers the entire folder out of scope, a la 'empty'. It is empty of tracked items.</li>\n<li>Specifying a filespec = '.' (dot), or the current directory, is not recursive unless -A is also specified. Dot refers strictly to the current directory - it omits paths found above and below.</li>\n</ul>\n\n<p>Now, given that knowledge, we can apply the answers above.</p>\n\n<p>The limiters are as follows.</p>\n\n<ul>\n<li>-u = --update = subset to tracked files => Add = No; Change = Yes; Delete= Yes. => iff the item is tracked.</li>\n<li>-A = --all (no such -a, which gives syntax error) = superset of all untracked/tracked files , unless in Git &lt; 2.0, wherein if the dot filespec is given, then only that particular folder is considered. => iff the item is recognized, git add -A will find it and add it.</li>\n</ul>\n\n<p>The pathspec is as follows.</p>\n\n<ul>\n<li>In Git &lt;2.0, for the two limiters (update and all), the new default is to operate on the entire working tree, instead of the current path (git &lt;= 1.9), </li>\n<li>However, in v2.0, the operation can be limited to the current path: just add the explicit dot suffix (which is also valid in Git &lt;=1.9);\n<code>\ngit add -A .\ngit add -u .\n</code></li>\n</ul>\n\n<p>In conclusion, my policy is ; </p>\n\n<ul>\n<li>1.Ensure any hunks/files to be added are accounted for in git status. </li>\n<li>1A.If any items are missing, due to invisible files/folders, add them separately.</li>\n<li>2.Have a good gitignore so that normally only files of interest are untracked and/or unrecognized.</li>\n<li>3.From the top level of the repo, \"git add -A\"  to add all items. This works in all versions of git.</li>\n<li>4.Remove any desired items from the index if desired.</li>\n<li>6.If there is a big bug, do 'git reset' to clear the index entirely.</li>\n</ul>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 29464414, "question_id": 572549, "tags": ["git", "git-add"]}, {"body": "<p><code>git add .</code> equals <code>git add -A .</code> adds files to index only from current and children folders.</p>\n\n<p><code>git add -A</code> adds files to index from all folders in working tree.</p>\n\n<p>P.S.: information relates to Git 2.0.</p>\n", "title": "Difference between &quot;git add -A&quot; and &quot;git add .&quot;", "answer_id": 37621823, "question_id": 572549, "tags": ["git", "git-add"]}], "question_id": 572549}, {"body": "<p>I have an already initialized Git repository that I added a <code>.gitignore</code> file to. How can I refresh the file index so the files I want ignored get ignored?</p>\n", "title": "Ignore files that have already been committed to a Git repository", "tags": ["git", "version-control", "gitignore", "git-rm"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1139762/ignore-files-that-have-already-been-committed-to-a-git-repository", "answers": [{"body": "<p>If the files are already in version control you need to remove them manually.</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 1139775, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>To untrack a <em>single</em> file that has already been added/initialized to your repository, <em>i.e.</em>, stop tracking the file but not delete it from your system use: <code>git rm --cached filename</code></p>\n\n<p>To untrack <em>every</em> file that is now in your <code>.gitignore</code>:</p>\n\n<p><strong>First commit any outstanding code changes</strong>, and then, run this command: </p>\n\n<pre><code>git rm -r --cached .\n</code></pre>\n\n<p>This removes any changed files from the <em>index</em>(staging area), then just run: </p>\n\n<pre><code>git add .\n</code></pre>\n\n<p>Commit it: </p>\n\n<pre><code>git commit -m \".gitignore is now working\"\n</code></pre>\n\n<hr>\n\n<p>To undo <code>git rm --cached filename</code>, use <code>git add filename</code>.</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 1139797, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>Yes - .gitignore system only ignores files not currently under version control from git. \nI.e. if you've already added a file called test.txt using git-add, then adding test.txt to .gitignore will still cause changes to test.txt to be tracked. You would have to git-rm test.txt first, commit that change. Only then will changes to test.txt be ignored.</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 1146999, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>To untrack a file that has already been added/initialized to your repository, ie stop tracking the file but not delete it from your system use: <code>git rm --cached filename</code></p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 3713766, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>Not knowing quite what the 'answer' command did, I ran it, much to my dismay. It recursively removes every file from your git repo. </p>\n\n<p>Stackoverflow to the rescue... <a href=\"http://stackoverflow.com/questions/2125710/how-to-revert-a-git-rm-r\">How to revert a &quot;git rm -r .&quot;?</a></p>\n\n<pre><code>git reset HEAD\n</code></pre>\n\n<p>Did the trick, since I had uncommitted local files that I didn't want to overwrite. </p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 5641360, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>i followed these steps</p>\n\n<pre><code>git rm -r --cached .\ngit add .\ngit reset HEAD\n</code></pre>\n\n<p>after that, git delete all files (*.swp in my case) that should be ignoring.</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 6703800, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>another problem I had was I placed an inline comment.</p>\n\n<pre><code>tmp/*   # ignore my tmp folder (this doesn't work)\n</code></pre>\n\n<p>this works</p>\n\n<pre><code># ignore my tmp folder\ntmp/\n</code></pre>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 8400501, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p><strong>Remove trailing whitespace in .gitignore</strong></p>\n\n<p>Also, make sure you have no trailing whitespace in your .gitignore.  I got to this question because I was searching for an answer, then I had a funny feeling I should open the editor instead of just cat'ing .gitignore.  Removed a single extra space from the end and <strong>poof</strong> it works now :)</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 9115498, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>I have found a weird problem with .gitignore. Everything was in place and seemed correct. The only reason why my .gitignore was \"ignored\" was, that the line-ending was in Mac-Format (\\r). So after saving the file with the correct line-ending (in vi using :set ff=unix) everything worked like a charm!</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 9531213, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>Thanks to your answer, I was able to write this little one-liner to improve it.  I ran it on my .gitignore and repo, and had no issues, but if anybody sees any glaring problems, please comment.  This should <code>git rm -r --cached</code> from  <code>.gitignore</code>:</p>\n\n<blockquote>\n  <p>cat $(git rev-parse --show-toplevel)/.gitIgnore | sed \"s//$//\" | grep -v \"^#\" | xargs -L 1 -I {} find $(git rev-parse --show-toplevel) -name \"{}\" | xargs -L 1 git rm -r --cached</p>\n</blockquote>\n\n<p>Note that you'll get a lot of <code>fatal: pathspec '&lt;pathspec&gt;' did not match any files</code>.  That's just for the files which haven't been modified.</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 11316038, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>If you are trying to ignore changes to a file that's already tracked in the repository (e.g. a dev.properties file that you would need to change for your local environment but you would never want to check in these changes) than what you want to do is:</p>\n\n<pre><code>git update-index --assume-unchanged &lt;file&gt;\n</code></pre>\n\n<p>If you wanna start tracking changes again</p>\n\n<pre><code>git update-index --no-assume-unchanged &lt;file&gt;\n</code></pre>\n\n<p>See <a href=\"https://www.kernel.org/pub/software/scm/git/docs/git-update-index.html\"><em>git-update-index(1) Manual Page</em></a>.</p>\n\n<p>Also have a look at the <code>skip-worktree</code> and <code>no-skip-worktree</code> options for update-index if you need this to persist past a git-reset (<a href=\"http://stackoverflow.com/a/4633776/367456\"><em>via</em></a>)</p>\n\n<hr>\n\n<p>Update: \nSince people have been asking, here's a convenient (and updated since commented on below) alias for seeing which files are currently \"ignored\" (--assume-unchanged) in your local workspace</p>\n\n<pre><code>$ git config --global alias.ignored = !git ls-files -v | grep \"^[[:lower:]]\"\n</code></pre>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 11366713, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>On my server linux server (not true on my local dev mac), directories are ignored as long as I don't add an asterisk:</p>\n\n<blockquote>\n  <p>www/archives/*</p>\n</blockquote>\n\n<p>I don't know why but it made me loose a couple of hours, so I wanted to share...</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 15308032, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>One other problem not mentioned here is if you've created your .gitignore in Windows notepad it can look like gibberish on other platforms as I found out.  The key is to make sure you the encoding is set to ANSI in notepad, (or make the file on linux as I did).</p>\n\n<p>From my answer here: <a href=\"http://stackoverflow.com/a/11451916/406592\">http://stackoverflow.com/a/11451916/406592</a></p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 16666891, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>There is another suggestion maybe for the slow guys like me =) Put the <strong>.gitignore</strong> file into your repository root <strong>not</strong> in <strong>.git</strong> folder. Cheers!</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 17178973, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>To remove just a few specific files from being tracked:</p>\n\n<pre><code>git update-index --assume-unchanged path/to/file\n</code></pre>\n\n<p>If ever you want to start tracking it again:</p>\n\n<pre><code>git update-index --no-assume-unchanged path/to/file                      \n</code></pre>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 18360021, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>If you want to stop tracking file without deleting the file from your local system, which I prefer for ignoring <code>config/database.yml</code> file. Simply try:</p>\n\n<pre><code>git rm --cached config/database.yml\n# this will delete your file from git history but not from your local system.\n</code></pre>\n\n<p>now, add this file to <code>.gitignore</code> file and commit the changes. And from now on, any changes made to config/database.yml will not get tracked by git.</p>\n\n<pre><code>$ echo config/database.yml &gt;&gt; .gitignore\n</code></pre>\n\n<p>Thanks</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 22125691, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>As dav_i says, in order to keep the file in repo and yet removing it from changes without creating an extra commit you can use:</p>\n\n<pre><code>git update-index --assume-unchanged filename\n</code></pre>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 29692776, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>None of the answers worked for me.\n<br></p>\n\n<p>Instead:</p>\n\n<ol>\n<li>Move the file out of the git-controlled directory</li>\n<li>Check the removal into git</li>\n<li>Move the file back into the git-controlled directory\n<br></li>\n</ol>\n\n<p>After moving the file back, git will ignore it.\n<br>\n<br>\nWorks with directories too!</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 33716285, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}, {"body": "<p>One thing to also keep in mind if <code>.gitignore</code> does not seem to be ignoring untracked files is that you should not have comments on the same line as the ignores. So this is okay</p>\n\n<pre><code># ignore all foo.txt, foo.markdown, foo.dat, etc.\nfoo*\n</code></pre>\n\n<p>But this will not work:</p>\n\n<pre><code>foo*   # ignore all foo.txt, foo.markdown, foo.dat, etc.\n</code></pre>\n\n<p><code>.gitignore</code> interprets the latter case as \"ignore files named <code>\"foo*   # ignore all foo.txt, foo.markdown, foo.dat, etc.\"</code>, which, of course, you don't have.</p>\n", "title": "Ignore files that have already been committed to a Git repository", "answer_id": 35516549, "question_id": 1139762, "tags": ["git", "version-control", "gitignore", "git-rm"]}], "question_id": 1139762}, {"body": "<p>I have an Android <code>Activity</code>, with two elements:</p>\n\n<ol>\n<li><code>EditText</code> </li>\n<li><code>ListView</code></li>\n</ol>\n\n<p>When my <code>Activity</code> starts, the <code>EditText</code> immediately has input focus (flashing cursor). I don't want any control to have input focus at startup. I tried:</p>\n\n<pre><code>EditText.setSelected(false);\n</code></pre>\n\n<p>No luck. How can I convince the <code>EditText</code> to not select itself when the <code>Activity</code> starts?</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "tags": ["android", "android-listview", "android-edittext"], "answer_count": 39, "link": "http://stackoverflow.com/questions/1555109/stop-edittext-from-gaining-focus-at-activity-startup", "answers": [{"body": "<p>Try <a href=\"http://developer.android.com/reference/android/view/View.html#clearFocus%28%29\">clearFocus()</a> instead of setSelected(false).  Every view in Android has both focusability and selectability, and I think you want to just clear the focus.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 1556314, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>The only solution I've found is:</p>\n\n<ul>\n<li>Create a LinearLayout (I dunno if other kinds of Layout's will work)</li>\n<li>Set the attributes <code>android:focusable=\"true\"</code> and <code>android:focusableInTouchMode=\"true\"</code></li>\n</ul>\n\n<p>And the EditText won't get the focus after starting the activity</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 1612017, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Yeah I did the same thing - create a 'dummy' linear layout which gets initial focus. Furthermore, I set the 'next' focus IDs so the user can't focus it any more after scrolling once:</p>\n\n<pre><code>&lt;LinearLayout 'dummy'&gt;\n&lt;EditText et&gt;\n\ndummy.setNextFocusDownId(et.getId());\n\ndummy.setNextFocusUpId(et.getId());\n\net.setNextFocusUpId(et.getId());\n</code></pre>\n\n<p>a lot of work just to get rid of focus on a view.. </p>\n\n<p>Thanks</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 1613818, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Excellent answers from Luc and Mark however a good code sample is missing:</p>\n\n<pre><code>&lt;!-- Dummy item to prevent AutoCompleteTextView from receiving focus --&gt;\n&lt;LinearLayout\n    android:focusable=\"true\" \n    android:focusableInTouchMode=\"true\"\n    android:layout_width=\"0px\" \n    android:layout_height=\"0px\"/&gt;\n\n&lt;!-- :nextFocusUp and :nextFocusLeft have been set to the id of this component\nto prevent the dummy from receiving focus again --&gt;\n&lt;AutoCompleteTextView android:id=\"@+id/autotext\"\n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content\"\n    android:nextFocusUp=\"@id/autotext\" \n    android:nextFocusLeft=\"@id/autotext\"/&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 1662088, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Is the actual problem that you just don't want it to have focus at all?  Or you don't want it to show the virtual keyboard as a result of focusing the EditText?  I don't really see an issue with the EditText having focus on start, but it's definitely a problem to have the softInput window open when the user did not explicitly request to focus on the EditText (and open the keyboard as a result)</p>\n\n<p>If it's the problem of the virtual keyboard, see the AndroidManifest.xml <a href=\"http://developer.android.com/intl/zh-CN/guide/topics/manifest/activity-element.html#wsoft\">&lt;activity&gt; element</a> documentation.</p>\n\n<p><code>android:windowSoftInputMode=\"stateHidden\"</code> - always hide it when entering the activity</p>\n\n<p>or <code>android:windowSoftInputMode=\"stateUnchanged\"</code> - don't change it (e.g., don't <em>show</em> it if it isn't already shown, but if it was open when entering the activity, leave it open)</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 2611031, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>try</p>\n\n<pre><code>edit.setInputType(InputType.TYPE_NULL);\n\nedit.setEnabled(false);\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 4948652, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Late, but maybe helpful. Create a dummy EditText at the top of your layout then call <code>myDummyEditText.requestFocus()</code> in <code>onCreate()</code></p>\n\n<pre><code>&lt;EditText android:id=\"@+id/dummyEditTextFocus\" \nandroid:layout_width=\"0px\"\nandroid:layout_height=\"0px\" /&gt;\n</code></pre>\n\n<p>That seems to behave as I expect. No need to handle configuration changes, etc. I needed this for an Activity with a lengthy TextView (instructions).</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 4981961, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>I use the following code to stop an EditText from stealing the focus when my button is pressed.</p>\n\n<pre><code>addButton.setOnClickListener(new OnClickListener() {\n    public void onClick(View v) {\n        View focused = internalWrapper.getFocusedChild();\n        focused.setVisibility(GONE);\n        v.requestFocus();\n        addPanel();\n        focused.setVisibility(VISIBLE);\n    }\n});\n</code></pre>\n\n<p>Basicly, hide the edit text and then show it again. This works for me as the EditText is <strong>not</strong> in view so it doesn't matter whether it is showing.</p>\n\n<p>You could try hiding and showing it in succession to see if that helps it lose focus.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 4997509, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>If you have another view on your activity like a <code>ListView</code>, you can also do:</p>\n\n<pre><code>ListView.requestFocus(); \n</code></pre>\n\n<p>in your <code>onResume()</code> to grab focus from the <code>editText</code>.</p>\n\n<p>I know this question has been answered but just providing an alternative solution that worked for me :)</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 5224358, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>using the information provided by other posters, I used the following solution:</p>\n\n<p><strong>in the layout XML</strong></p>\n\n<pre><code>&lt;!-- Dummy item to prevent AutoCompleteTextView from receiving focus --&gt;\n&lt;LinearLayout\n    android:id=\"@+id/linearLayout_focus\"\n    android:focusable=\"true\"\n    android:focusableInTouchMode=\"true\"\n    android:layout_width=\"0px\"\n    android:layout_height=\"0px\"/&gt;\n\n&lt;!-- AUTOCOMPLETE --&gt;\n&lt;AutoCompleteTextView\n    android:id=\"@+id/autocomplete\"\n    android:layout_width=\"200dip\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"20dip\"\n    android:inputType=\"textNoSuggestions|textVisiblePassword\"/&gt;\n</code></pre>\n\n<p><strong>in onCreate()</strong></p>\n\n<pre><code>private AutoCompleteTextView mAutoCompleteTextView;\nprivate LinearLayout mLinearLayout;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.mylayout);\n\n    //get references to UI components\n    mAutoCompleteTextView = (AutoCompleteTextView) findViewById(R.id.autocomplete);\n    mLinearLayout = (LinearLayout) findViewById(R.id.linearLayout_focus);\n}\n</code></pre>\n\n<p><strong>and finally, in onResume()</strong></p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n\n    //do not give the editbox focus automatically when activity starts\n    mAutoCompleteTextView.clearFocus();\n    mLinearLayout.requestFocus();\n}\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 6145089, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Try this before your first editable field:</p>\n\n<pre><code>&lt;TextView  \n        android:id=\"@+id/dummyfocus\" \n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\" \n        android:text=\"@string/foo\"\n        /&gt;\n\n----\n\nfindViewById(R.id.dummyfocus).setFocusableInTouchMode(true);\nfindViewById(R.id.dummyfocus).requestFocus();\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 6318600, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>You can just set <em>\"focusable\"</em> and <em>\"focusable in touch mode\"</em> to value true on the first <code>TextView</code> of the <code>layout</code>. In this way when the activity starts the <code>TextView</code> will be focused but , due to its nature, you will see nothing focused on the screen and ,of course, there will be <strong>no</strong> keyboard displayed...</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 8028610, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>None of this solutions worked for me. The way I fix the autofocus was:</p>\n\n<pre><code>&lt;activity android:name=\".android.InviteFriendsActivity\" android:windowSoftInputMode=\"adjustPan\"&gt;\n    &lt;intent-filter &gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 8329521, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>A simpler solution exists. Set these attributes in your parent layout:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/mainLayout\"\n    android:descendantFocusability=\"beforeDescendants\"\n    android:focusableInTouchMode=\"true\" &gt;\n</code></pre>\n\n<p>And now, when the activity starts this main layout will get focus by default.</p>\n\n<p>Also, we can remove focus from child views at runtime (e.g., after finishing child editing) by giving the focus to the main layout again, like this:</p>\n\n<pre><code>findViewById(R.id.mainLayout).requestFocus();\n</code></pre>\n\n<p><strong>Good comment</strong> from <a href=\"http://stackoverflow.com/users/598520/guillaume-perrot\">Guillaume Perrot</a>:</p>\n\n<blockquote>\n  <p>android:descendantFocusability=\"beforeDescendants\" seems to be the\n  default (integer value is 0). It works just by adding\n  android:focusableInTouchMode=\"true\".</p>\n</blockquote>\n\n<p>Really, we can see that the <code>beforeDescendants</code> set as default in the <code>ViewGroup.initViewGroup()</code> method (Android 2.2.2). But not equal to 0. <code>ViewGroup.FOCUS_BEFORE_DESCENDANTS = 0x20000;</code></p>\n\n<p>Thanks to Guillaume.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 8639921, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<pre><code>&lt;TextView\nandroid:id=\"@+id/TextView01\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_weight=\"1\"\nandroid:singleLine=\"true\"\nandroid:ellipsize=\"marquee\"\nandroid:marqueeRepeatLimit=\"marquee_forever\"\nandroid:focusable=\"true\"\nandroid:focusableInTouchMode=\"true\"\nstyle=\"@android:style/Widget.EditText\"/&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 9271917, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>The problem seems to come from a property that I can only see in the XML form of the layout.</p>\n\n<p>Make sure to remove this line at the end of the declaration of the EditText :</p>\n\n<pre><code>&lt;requestFocus /&gt;\n</code></pre>\n\n<p>That should give something like that :</p>\n\n<pre><code>&lt;EditText\n   android:id=\"@+id/emailField\"\n   android:layout_width=\"fill_parent\"\n   android:layout_height=\"wrap_content\"\n   android:inputType=\"textEmailAddress\"&gt;\n\n   //&lt;requestFocus /&gt; /* &lt;-- without this line */\n&lt;/EditText&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 9681809, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>The following will stop edittext from taking focus when created, but grab it when you touch them.</p>\n\n<pre><code>&lt;EditText\n    android:id=\"@+id/et_bonus_custom\"\n    android:focusable=\"false\" /&gt;\n</code></pre>\n\n<p>So you set focusable to false in the xml, but the key is in the java, which you add the following listener:</p>\n\n<pre><code>etBonus.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        v.setFocusable(true);\n        v.setFocusableInTouchMode(true);\n        return false;\n    }\n});\n</code></pre>\n\n<p>Because you are returning false, i.e. not consuming the event, the focusing behavior will proceed like normal.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 11044709, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>I needed to clear focus from all fields programmatically. I just added the following two statements to my main layout definition.</p>\n\n<pre><code>myLayout.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\nmyLayout.setFocusableInTouchMode(true);\n</code></pre>\n\n<p>That's it. Fixed my problem instantly. Thanks, Silver, for pointing me in the right direction.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 12631606, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>I had tried serval answer individually but the focus is still at the EditText. I only manage to solve it by using two of the above solution together.</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:id=\"@+id/mainLayout\"\n  android:descendantFocusability=\"beforeDescendants\"\n  android:focusableInTouchMode=\"true\" &gt;\n</code></pre>\n\n<p>( Reference from Silver <a href=\"http://stackoverflow.com/a/8639921/15695\">http://stackoverflow.com/a/8639921/15695</a> )</p>\n\n<p>and remove</p>\n\n<pre><code> &lt;requestFocus /&gt;\n</code></pre>\n\n<p>at EditText </p>\n\n<p>( Reference from floydaddict <a href=\"http://stackoverflow.com/a/9681809\">http://stackoverflow.com/a/9681809</a> )</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 13602978, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>The simplest thing I did is to set focus on another view in onCreate:</p>\n\n<pre><code>    myView.setFocusableInTouchMode(true);\n    myView.requestFocus();\n</code></pre>\n\n<p>This stopped the soft keyboard coming up and there was no cursor flashing in the EditText.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 14134366, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Being that I don't like to pollute the XML with something that is related to functionality, I created this method that \"transparently\" steals the focus from the first focusable view and then makes sure to remove itself when necessary!</p>\n\n<pre><code>public static View preventInitialFocus(final Activity activity)\n{\n    final ViewGroup content = (ViewGroup)activity.findViewById(android.R.id.content);\n    final View root = content.getChildAt(0);\n    if (root == null) return null;\n    final View focusDummy = new View(activity);\n    final View.OnFocusChangeListener onFocusChangeListener = new View.OnFocusChangeListener()\n    {\n        @Override\n        public void onFocusChange(View view, boolean b)\n        {\n            view.setOnFocusChangeListener(null);\n            content.removeView(focusDummy);\n        }\n    };\n    focusDummy.setFocusable(true);\n    focusDummy.setFocusableInTouchMode(true);\n    content.addView(focusDummy, 0, new LinearLayout.LayoutParams(0, 0));\n    if (root instanceof ViewGroup)\n    {\n        final ViewGroup _root = (ViewGroup)root;\n        for (int i = 1, children = _root.getChildCount(); i &lt; children; i++)\n        {\n            final View child = _root.getChildAt(i);\n            if (child.isFocusable() || child.isFocusableInTouchMode())\n            {\n                child.setOnFocusChangeListener(onFocusChangeListener);\n                break;\n            }\n        }\n    }\n    else if (root.isFocusable() || root.isFocusableInTouchMode())\n        root.setOnFocusChangeListener(onFocusChangeListener);\n\n    return focusDummy;\n}\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 16193267, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>At <code>onCreate</code> of your Activity, just add use <code>clearFocus()</code> on your EditText element.\nFor example,</p>\n\n<pre><code>edittext = (EditText) findViewById(R.id.edittext);\nedittext.clearFocus();\n</code></pre>\n\n<p>And if you want to divert the focus to another element, use <code>requestFocus()</code> on that.\nFor example,</p>\n\n<pre><code>button = (Button) findViewById(R.id.button);\nbutton.requestFocus();\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 16711831, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Make sure to remove the line \"\" from the EditText tag in xml.</p>\n\n<pre><code>&lt;EditText\n   android:id=\"@+id/input\"\n   android:layout_width=\"fill_parent\"\n   android:layout_height=\"wrap_content\"&gt;\n\n   &lt;requestFocus /&gt; &lt;!-- remove this line --&gt; \n&lt;/EditText&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 16855527, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p><code>EditText</code> within a <code>ListView</code> does not work properly. It's better to use <code>TableLayout</code> with automatically generated rows when you are using <code>EditText</code>.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 16966019, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>You can specify focus to some other widget by using request focus and use the keyboard hiding code as well.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 20407236, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Simple solution:\nIn AndroidManifest in Activity tag use</p>\n\n<pre><code>android:windowSoftInputMode=\"stateAlwaysHidden\"\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 22458777, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>the following worked for me in Manifest write</p>\n\n<pre><code>&lt;activity\nandroid:name=\".MyActivity\"\nandroid:windowSoftInputMode=\"stateAlwaysHidden\"/&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 22936097, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>You can use this</p>\n\n<pre><code>&lt;EditText \nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"#00000000\"\n/&gt;\n</code></pre>\n\n<p>I got it from here <a href=\"http://tips.androidhive.info/2013/10/android-remove-edittext-border-on-foucs/\" rel=\"nofollow\">http://tips.androidhive.info/2013/10/android-remove-edittext-border-on-foucs/</a></p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 23533238, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>For me, what worked on all devices is this:</p>\n\n<pre><code>    &lt;!-- fake first focusable view, to allow stealing the focus to itself when clearing the focus from others --&gt;\n\n    &lt;View\n    android:layout_width=\"0px\"\n    android:layout_height=\"0px\"\n    android:focusable=\"true\"\n    android:focusableInTouchMode=\"true\" /&gt;\n</code></pre>\n\n<p>Just put this as a view before the problematic focused view, and that's it.</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 23648871, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<blockquote>\n  <p>Disable it in onCreate()</p>\n</blockquote>\n\n<pre><code>final KeyListener edtTxtMessageKeyListener = edtTxtMessage.getKeyListener();\nedtTxtMessage.setCursorVisible(false);\nedtTxtMessage.setKeyListener(null);\n</code></pre>\n\n<blockquote>\n  <p>And finally enable it in onClick() of EditText</p>\n</blockquote>\n\n<pre><code>edtTxtMessage.setCursorVisible(true);\nedtTxtMessage.setKeyListener(edtTxtMessageKeyListener);\n</code></pre>\n\n<p>But the problem is with we have to click twise to bring OnScreenKeyboard for very first time.</p>\n\n<p>@Workaround</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n</code></pre>\n\n<p><strong>Try this also in onClick() :)</strong></p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 23878443, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>I had an issue like this and it was due to my selector.  The first state was focus even thogh my view was disabled it took the focus state since it was the first one that matched and used it.  you can set the first state to disabled like this:</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n\n&lt;item android:drawable=\"@drawable/text_field_disabled\" android:state_enabled=\"false\"/&gt;\n&lt;item android:drawable=\"@drawable/text_field_focused\" android:state_focused=\"true\"/&gt;\n&lt;item android:drawable=\"@drawable/text_field_normal\"/&gt;\n</code></pre>\n\n<p></p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 24190467, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>remove<code>&lt;requestFocus /&gt;</code> from your edit text in xml file</p>\n\n<pre><code>&lt;EditText\n   android:id=\"@+id/emailField\"\n   android:layout_width=\"fill_parent\"\n   android:layout_height=\"wrap_content\"\n   android:inputType=\"textEmailAddress\"&gt;\n\n   //`&lt;requestFocus /&gt;` /* &lt;-- remove this tags */\n&lt;/EditText&gt;`\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 28314566, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>This is the perfect and most easiest solution.I always use this in my app.                        </p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 29365131, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<pre><code>&lt;EditText\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"100dp\"\n    android:id=\"@+id/etComments\"\n    android:hint=\"Comments..\"\n    android:textSize=\"14dp\"\n\n    android:focusable=\"false\"\n\n    android:textStyle=\"italic\"/&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 29769229, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>You can achieve this by creating a dummy EditText with layout width and height set to 0dp, and request focus to that view.\nAdd the following code snippet in your xml layout:</p>\n\n<pre><code>&lt;EditText\n    android:id=\"@+id/editText0\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    android:hint=\"@string/dummy\"\n    android:ems=\"10\" \n    &gt;\n     &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 30823899, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Add <code>android:windowSoftInputMode=\"stateAlwaysHidden\"</code> in the activity tag of the Manifest.xml file.</p>\n\n<p><a href=\"http://code2care.org/pages/android-disable-edittext-from-auto-focus-(keyboard)-on-activity-load/\">Source</a></p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 31022586, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<pre><code>/** \n * set focus to top level window\n * disposes descendant focus \n * disposes softInput \n * */\npublic static void topLevelFocus(Context context){\n    if(Activity.class.isAssignableFrom(context.getClass())){\n        ViewGroup tlView = (ViewGroup) ((Activity) context).getWindow().getDecorView();\n        if(tlView!=null){\n            tlView.setFocusable(true);\n            tlView.setFocusableInTouchMode(true);\n            tlView.setDescendantFocusability(ViewGroup.FOCUS_BEFORE_DESCENDANTS);\n        }\n    }\n}\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 31328264, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>Add following in onCreate method:</p>\n\n<pre><code>this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 34399216, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}, {"body": "<p>The easiest way is to add <code>android:windowSoftInputMode=\"stateAlwaysHidden\"</code> in the activity tag of the <strong>Manifest.xml</strong> file</p>\n", "title": "Stop EditText from gaining focus at Activity startup", "answer_id": 39114258, "question_id": 1555109, "tags": ["android", "android-listview", "android-edittext"]}], "question_id": 1555109}, {"body": "<p>If I create a global variable in one function, how can I use that variable in another function?<br>\nDo I need to store the global variable in a local variable of the function which needs its access?</p>\n", "title": "Using global variables in a function other than the one that created them", "tags": ["python", "global-variables", "scope"], "answer_count": 17, "link": "http://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them", "answers": [{"body": "<p>You may want to explore the notion of <a href=\"http://docs.python.org/reference/datamodel.html\">namespaces</a>. In Python, the <a href=\"http://docs.python.org/tutorial/modules.html\">module</a> is the natural place for <em>global</em> data:</p>\n\n<blockquote>\n  <p>Each module has its own private symbol table, which is used as the global symbol table by all functions defined in the module. Thus, the author of a module can use global variables in the module without worrying about accidental clashes with a user\u2019s global variables. On the other hand, if you know what you are doing you can touch a module\u2019s global variables with the same notation used to refer to its functions, <code>modname.itemname</code>.</p>\n</blockquote>\n\n<p>A specific use of global-in-a-module is described here - <a href=\"http://effbot.org/pyfaq/how-do-i-share-global-variables-across-modules.htm\">how-do-i-share-global-variables-across-modules</a>:</p>\n\n<blockquote>\n  <p>The canonical way to share information across modules within a single program is to create a special configuration module (often called config or cfg). Just import the configuration module in all modules of your application; the module then becomes available as a global name. Because there is only one instance of each module, any changes made to the module object get reflected everywhere. For example:</p>\n  \n  <p>File: config.py</p>\n</blockquote>\n\n<pre><code>x = 0   # Default value of the 'x' configuration setting\n</code></pre>\n\n<blockquote>\n  <p>File: mod.py</p>\n</blockquote>\n\n<pre><code>import config\nconfig.x = 1\n</code></pre>\n\n<blockquote>\n  <p>File: main.py</p>\n</blockquote>\n\n<pre><code>import config\nimport mod\nprint config.x\n</code></pre>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 423401, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>You can use a global variable in other functions by declaring it as <code>global</code> in each function that assigns to it:</p>\n\n<pre><code>globvar = 0\n\ndef set_globvar_to_one():\n    global globvar    # Needed to modify global copy of globvar\n    globvar = 1\n\ndef print_globvar():\n    print globvar     # No need for global declaration to read value of globvar\n\nset_globvar_to_one()\nprint_globvar()       # Prints 1\n</code></pre>\n\n<p>I imagine the reason for it is that, since global variables are so dangerous, Python wants to make sure that you really know that's what you're playing with by explicitly requiring the <code>global</code> keyword.</p>\n\n<p>See other answers if you want to share a global variable across modules.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 423596, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>If you want to refer to global variable in a function, you can use <strong>global</strong> keyword to declare which variables are global. You don't have to use it in all cases (as someone here incorrectly claims) - if the name referenced in an expression cannot be found in local scope or scopes in the functions in which this function is defined, it is looked up among global variables. However, if you assign to a new variable not declared as global in the function, it is implicitly declared as local, and it can overshadow any existing global variable with the same name.</p>\n\n<p>Also, global variables are useful, contrary to some OOP zealots who claim otherwise - especially for smaller scripts, where OOP is overkill.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 423641, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>If I'm understanding your situation correctly, what you're seeing is the result of how Python handles local (function) and global (module) namespaces.</p>\n\n<p>Say you've got a module like this:</p>\n\n<pre><code># sample.py\nmyGlobal = 5\n\ndef func1():\n    myGlobal = 42\n\ndef func2():\n    print myGlobal\n\nfunc1()\nfunc2()\n</code></pre>\n\n<p>You might expecting this to print 42, but instead it prints 5.  As has already been mentioned, if you add a '<code>global</code>' declaration to <code>func1()</code>, then <code>func2()</code> will print 42.</p>\n\n<pre><code>def func1():\n    global myGlobal\n    myGlobal = 42\n</code></pre>\n\n<p>What's going on here is that Python assumes that any name that is <em>assigned to</em>, anywhere within a function, is local to that function unless explicitly told otherwise.  If it is only <em>reading</em> from a name, and the name doesn't exist locally, it will try to look up the name in any containing scopes (e.g. the module's global scope).</p>\n\n<p>When you assign 42 to the name <code>myGlobal</code>, therefore, Python creates a local variable that shadows the global variable of the same name.  That local goes out of scope and is <a href=\"http://www.digi.com/wiki/developer/index.php/Python_Garbage_Collection\">garbage-collected</a> when <code>func1()</code> returns; meanwhile, <code>func2()</code> can never see anything other than the (unmodified) global name.  Note that this namespace decision happens at compile time, not at runtime -- if you were to read the value of <code>myGlobal</code> inside <code>func1()</code> before you assign to it, you'd get an <code>UnboundLocalError</code>, because Python has already decided that it must be a local variable but it has not had any value associated with it yet.  But by using the '<code>global</code>' statement, you tell Python that it should look elsewhere for the name instead of assigning to it locally.</p>\n\n<p>(I believe that this behavior originated largely through an optimization of local namespaces -- without this behavior,  Python's VM would need to perform at least three name lookups each time a new name is assigned to inside a function (to ensure that the name didn't already exist at module/builtin level), which would significantly slow down a very common operation.)</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 423668, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>You're not actually storing the global in a local variable, just creating a local reference to the same object that your original global reference refers to. Remember that pretty much everything in Python is a name referring to an object, and nothing gets copied in usual operation.</p>\n\n<p>If you didn't have to explicitly specify when an identifier was to refer to a predefined global, then you'd presumably have to explicitly specify when an identifier is a new local variable instead (for example, with something like the 'var' command seen in JavaScript). Since local variables are more common than global variables in any serious and non-trivial system, Python's system makes more sense in most cases.</p>\n\n<p>You <em>could</em> have a language which attempted to guess, using a global variable if it existed or creating a local variable if it didn't. However, that would be very error-prone. For example, importing another module could inadvertently introduce a global variable by that name, changing the behaviour of your program.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 427818, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>Python uses a simple heuristic to decide which scope it should load a variable from, between local and global.  If a variable name appears on the left hand side of an assignment, but is not declared global, it is assumed to be local.  If it does not appear on the left hand side of an assignment, it is assumed to be global.  </p>\n\n<pre><code>&gt;&gt;&gt; import dis\n&gt;&gt;&gt; def foo():\n...     global bar\n...     baz = 5\n...     print bar\n...     print baz\n...     print quux\n... \n&gt;&gt;&gt; dis.disassemble(foo.func_code)\n  3           0 LOAD_CONST               1 (5)\n              3 STORE_FAST               0 (baz)\n\n  4           6 LOAD_GLOBAL              0 (bar)\n              9 PRINT_ITEM          \n             10 PRINT_NEWLINE       \n\n  5          11 LOAD_FAST                0 (baz)\n             14 PRINT_ITEM          \n             15 PRINT_NEWLINE       \n\n  6          16 LOAD_GLOBAL              1 (quux)\n             19 PRINT_ITEM          \n             20 PRINT_NEWLINE       \n             21 LOAD_CONST               0 (None)\n             24 RETURN_VALUE        \n&gt;&gt;&gt; \n</code></pre>\n\n<p>See how baz, which appears on the left side of an assignment in <code>foo()</code>, is the only <code>LOAD_FAST</code> variable.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 6664227, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>Global variables are much more fun when you deal with parallel execution. Here is an example of using a global variable within multiprocessing. We can clearly see that each process works with its own copy of the variable:</p>\n\n<pre><code>import multiprocessing\nimport time\nimport os\nimport sys\nimport random\ndef worker(a):\n    oldValue = get()\n    set(random.randint(0, 100))\n    sys.stderr.write(' '.join([str(os.getpid()), str(a), 'old:', str(oldValue), 'new:', str(get()), '\\n']))\n\ndef get():\n    global globalVariable\n    return globalVariable\n\nglobalVariable = -1\ndef set(v):\n    global globalVariable\n    globalVariable = v\n\nprint get()\nset(-2)\nprint get()\n\nprocessPool = multiprocessing.Pool(5)\nresults = processPool.map(worker, range(15))\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>27094 0 old: -2 new: 2\n27094 1 old: 2 new: 95\n27094 2 old: 95 new: 20\n27094 3 old: 20 new: 54\n27098 4 old: -2 new: 80\n27098 6 old: 80 new: 62\n27095 5 old: -2 new: 100\n27094 7 old: 54 new: 23\n27098 8 old: 62 new: 67\n27098 10 old: 67 new: 22\n27098 11 old: 22 new: 85\n27095 9 old: 100 new: 32\n27094 12 old: 23 new: 65\n27098 13 old: 85 new: 60\n27095 14 old: 32 new: 71\n</code></pre>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 19151605, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>As it turns out the answer is always simple.</p>\n\n<p>Here is a small sample module. It is is a way to show it in a main definition:</p>\n\n<pre><code>def five(enterAnumber,sumation):\n    global helper\n    helper  = enterAnumber + sumation\n\ndef isTheNumber():\n    return helper\n</code></pre>\n\n<p>Here is a way to show it in a main definition:</p>\n\n<pre><code>import TestPy\n\ndef main():\n    atest  = TestPy\n    atest.five(5,8)\n    print(atest.isTheNumber())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>This simple code works just like that, and it will execute. I hope it helps.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 19347254, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>In addition to already existing answers and to make this more confusing:</p>\n\n<blockquote>\n  <p>In Python, variables that are only referenced inside a function are\n  <strong>implicitly global</strong>. If a variable is assigned a new value anywhere\n  within the function\u2019s body, it\u2019s assumed to be a <strong>local</strong>. If a variable\n  is ever assigned a new value inside the function, the variable is\n  implicitly local, and you need to explicitly declare it as \u2018global\u2019.</p>\n  \n  <p>Though a bit surprising at first, a moment\u2019s consideration explains\n  this. On one hand, requiring global for assigned variables provides a\n  bar against unintended side-effects. On the other hand, if global was\n  required for all global references, you\u2019d be using global all the\n  time. You\u2019d have to declare as global every reference to a built-in\n  function or to a component of an imported module. This clutter would\n  defeat the usefulness of the global declaration for identifying\n  side-effects.</p>\n</blockquote>\n\n<p>Source: <em><a href=\"https://docs.python.org/2/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python\">What are the rules for local and global variables in Python?</a></em>.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 24572187, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>What you are saying is to use the method like this:</p>\n\n<pre><code>globvar = 5\n\ndef f():\n    var = globvar\n    print(var)\n\nf()**  #prints 5\n</code></pre>\n\n<p>but the better way is to use the global variable like this:<br/></p>\n\n<pre><code>globavar = 5\ndef f():\n    global globvar\n    print(globvar)\nf()   #prints 5\n</code></pre>\n\n<p>both give the same output.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 27287648, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>You need to reference the global variable in every function you want to use.</p>\n\n<p>As follows:</p>\n\n<pre><code>var = \"test\"\n\ndef printGlobalText():\n    global var #wWe are telling to explicitly use the global version\n    var = \"global from printGlobalText fun.\"\n    print \"var from printGlobalText: \" + var\n\ndef printLocalText():\n    #We are NOT telling to explicitly use the global version, so we are creating a local variable\n    var = \"local version from printLocalText fun\"\n    print \"var from printLocalText: \" + var\n\nprintGlobalText()\nprintLocalText()\n\"\"\"\nOutput Result:\nvar from printGlobalText: global from printGlobalText fun.\nvar from printLocalText: local version from printLocalText\n[Finished in 0.1s]\n\"\"\"\n</code></pre>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 27580376, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>Try This :</p>\n\n<pre><code>def x1():\n    global x\n    x = 6\n\ndef x2():\n    global x\n    x = x+1\n    print x\n\nx = 5\nx1()\nx2()\n</code></pre>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 28329600, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>following on and as an add on  use a file to contain all global variables all declared locally and then 'import as'</p>\n\n<pre><code>file  initval.py\n\nStocksin = 300\nPrices = []\n\n\n\nFile getstocks.py\n\nimport  initval as  iv\n\nDef   getmystocks (): \n     iv.Stocksin  = getstockcount ()\n\n\nDef getmycharts ():\n    For ic in range (0,iv.Stocksin):\n</code></pre>\n\n<p>.....</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 33320055, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<blockquote>\n  <h1>If I create a global variable in one function, how can I use that variable in another function?</h1>\n</blockquote>\n\n<p>We can create a global with the following function:</p>\n\n<pre><code>def create_global_variable():\n    global global_variable # must declare it to be a global first\n    # modifications are thus reflected on the module's global scope\n    global_variable = 'Foo' \n</code></pre>\n\n<p>Writing a function does not actually run its code. So we call the <code>create_global_variable</code> function:</p>\n\n<pre><code>&gt;&gt;&gt; create_global_variable()\n</code></pre>\n\n<h2>Using globals without modification</h2>\n\n<p>You can just use it, so long as you don't expect to change which object it points to: </p>\n\n<p>For example, </p>\n\n<pre><code>def use_global_variable():\n    return global_variable + '!!!'\n</code></pre>\n\n<p>and now we can use the global variable:</p>\n\n<pre><code>&gt;&gt;&gt; use_global_variable()\n'Foo!!!'\n</code></pre>\n\n<h2>Modification of the global variable from inside a function</h2>\n\n<p>To point the global variable at a different object, you are required to use the global keyword again:</p>\n\n<pre><code>def change_global_variable():\n    global global_variable\n    global_variable = 'Bar'\n</code></pre>\n\n<p>Note that after writing this function, the code actually changing it has still not run:</p>\n\n<pre><code>&gt;&gt;&gt; use_global_variable()\n'Foo!!!'\n</code></pre>\n\n<p>So after calling the function:</p>\n\n<pre><code>&gt;&gt;&gt; change_global_variable()\n</code></pre>\n\n<p>we can see that the global variable has been changed. The <code>global_variable</code> name now points to <code>'Bar'</code>:</p>\n\n<pre><code>&gt;&gt;&gt; use_global_variable()\n'Bar!!!'\n</code></pre>\n\n<p>Note that \"global\" in Python is not truly global - it's only global to the module level. So it is only available to functions written in the modules in which it is global. Functions remember the module in which they are written, so when they are exported into other modules, they still look in the module in which they were created to find global variables.</p>\n\n<h1>Local variables with the same name</h1>\n\n<p>If you create a local variable with the same name, it will overshadow a global variable:</p>\n\n<pre><code>def use_local_with_same_name_as_global():\n    # bad name for a local variable, though.\n    global_variable = 'Baz' \n    return global_variable + '!!!'\n\n&gt;&gt;&gt; use_local_with_same_name_as_global()\n'Baz!!!'\n</code></pre>\n\n<p>But using that misnamed local variable does not change the global variable:</p>\n\n<pre><code>&gt;&gt;&gt; use_global_variable()\n'Bar!!!'\n</code></pre>\n\n<p>Note that you should avoid using the local variables with the same names as globals unless you know precisely what you are doing and have a very good reason to do so. I have not yet encountered such a reason.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 34559513, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>Writing to explicit elements of a global array does not apparently need the global declaration, though writing to it \"wholesale\" does have that requirement:</p>\n\n<pre><code>import numpy as np\n\nhostValue = 3.14159\nhostArray = np.array([2., 3.])\nhostMatrix = np.array([[1.0, 0.0],[ 0.0, 1.0]])\n\ndef func1():\n    global hostValue    # mandatory, else local.\n    hostValue = 2.0\n\ndef func2():\n    global hostValue    # mandatory, else UnboundLocalError.\n    hostValue += 1.0\n\ndef func3():\n    global hostArray    # mandatory, else local.\n    hostArray = np.array([14., 15.])\n\ndef func4():            # no need for globals\n    hostArray[0] = 123.4\n\ndef func5():            # no need for globals\n    hostArray[1] += 1.0\n\ndef func6():            # no need for globals\n    hostMatrix[1][1] = 12.\n\ndef func7():            # no need for globals\n    hostMatrix[0][0] += 0.33\n\nfunc1()\nprint \"After func1(), hostValue = \", hostValue\nfunc2()\nprint \"After func2(), hostValue = \", hostValue\nfunc3()\nprint \"After func3(), hostArray = \", hostArray\nfunc4()\nprint \"After func4(), hostArray = \", hostArray\nfunc5()\nprint \"After func5(), hostArray = \", hostArray\nfunc6()\nprint \"After func6(), hostMatrix = \\n\", hostMatrix\nfunc7()\nprint \"After func7(), hostMatrix = \\n\", hostMatrix\n</code></pre>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 34664752, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>I've found that when you try to assign a global variable to something else inside a function, it doesn't usually work. As in:</p>\n\n<pre><code>globalVar = 1\n\ndef functionname():\n     global globalVar\n     globalVar = 18\n     print globalVar\n</code></pre>\n\n<p>What works for me to change it is when I assign it <em>outside</em> of the function, as in:</p>\n\n<pre><code>globalVar = 1\nglobalVar += 1\n\ndef functionname():\n    global globalVar\n    print globalVar\n</code></pre>\n\n<p>It works for me, but whatever.</p>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 35831191, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}, {"body": "<p>You can use <strong>global</strong> keyword to declare global variables.</p>\n\n<pre><code>x = 0\ndef my_global_vars():\n    global x    # Needed to modify global copy of globvar\n    globvar = 1\n</code></pre>\n", "title": "Using global variables in a function other than the one that created them", "answer_id": 39389443, "question_id": 423379, "tags": ["python", "global-variables", "scope"]}], "question_id": 423379}, {"body": "<p>My initial commit contained some log files. I've added <code>*log</code> to my <code>.gitignore</code>, and now I want to remove the log files from my repository.</p>\n\n<pre><code>git rm mylogfile.log\n</code></pre>\n\n<p>will remove a file from the repository, but will also remove it from the local file system.</p>\n\n<p>How can I remove this file from the repo <strong>without</strong> deleting my local copy of the file?</p>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"], "answer_count": 8, "link": "http://stackoverflow.com/questions/1143796/remove-a-file-from-a-git-repository-without-deleting-it-from-the-local-filesyste", "answers": [{"body": "<pre><code>git rm --cached mylogfile.log\n</code></pre>\n\n<p>For a directory:</p>\n\n<pre><code>git rm --cached -r mydirectory\n</code></pre>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 1143800, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<p>Also, if you have commited sensitive data (e.g. a file containing passwords), you should completely delete it from the history of the repository.  Here's a guide explaining how to do that:\n<a href=\"http://help.github.com/remove-sensitive-data/\">http://help.github.com/remove-sensitive-data/</a></p>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 7138193, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<p>To remove an entire folder from the repo (like Resharper files), do this:</p>\n\n<pre><code>git rm -r --cached folderName\n</code></pre>\n\n<p>I had committed some resharper files, and did not want those to persist for other project users.</p>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 10016951, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<p>A more generic solution:</p>\n\n<ol>\n<li><p>Edit <code>.gitignore</code> file.</p>\n\n<p><code>ECHO mylogfile.log &gt;&gt; .gitignore</code></p></li>\n<li><p>Remove all items from index.</p>\n\n<p><code>git rm -r -f --cached .</code></p></li>\n<li><p>Rebuild index.</p>\n\n<p><code>git add .</code></p></li>\n<li><p>Make new commit</p>\n\n<p><code>git commit -m \"Removed mylogfile.log\"</code></p></li>\n</ol>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 20565682, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<blockquote>\n  <p>Git lets you ignore those files by assuming they are unchanged. This\n  is done by running the <code>git update-index --assume-unchanged\n  path/to/file.txt</code> command. Once marking a file as such, git will\n  completely ignore any changes on that file; they will not show up when\n  running git status or git diff, nor will they ever be committed.</p>\n</blockquote>\n\n<p>(From <a href=\"https://help.github.com/articles/ignoring-files\">https://help.github.com/articles/ignoring-files</a>)</p>\n\n<p>Hence, not deleting it, but ignoring changes to it forever.\nI think this only works locally, so co-workers can still see changes to it unless they run the same command as above. (Still need to verify this though.)</p>\n\n<p>Note: This isn't answering the question directly, but is based on follow up questions in the comments of the other answers.</p>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 21404811, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<p>You can also remove files from the repository based on your .gitignore without deleting them from the local file system :</p>\n\n<pre><code>git rm --cached `git ls-files -i -X .gitignore`\n</code></pre>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 21477287, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<p>As per my Answer here: <a href=\"http://stackoverflow.com/questions/6313126/how-to-remove-a-directory-in-my-github-repository\">How to remove a directory in my GitHub repository?</a></p>\n\n<h3>To remove folder/directory or file only from git repository and not from the local try 3 simple steps.</h3>\n\n<hr>\n\n<p><strong>Steps to remove directory</strong></p>\n\n<pre><code>git rm -r --cached File-or-FolderName\ngit commit -m \"Removed folder from repository\"\ngit push origin master\n</code></pre>\n\n<hr>\n\n<p><strong>Steps to ignore that folder in next commits</strong></p>\n\n<blockquote>\n  <p>To ignore that folder from next commits make one file in root named <strong>.gitignore</strong>\n  and put that folders name into it. You can put as many as you want</p>\n</blockquote>\n\n<p><strong>.gitignore</strong> file will be look like this</p>\n\n<pre><code>/FolderName\n</code></pre>\n\n<hr>\n\n<p><img src=\"http://i.stack.imgur.com/mJYfF.png\" alt=\"remove directory\"></p>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 32182114, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}, {"body": "<p>Above answers didn't work for me. I used filter-branch to remove all committed files</p>\n\n<p>remove a file  from a git repository with:</p>\n\n<pre><code>git filter-branch --tree-filter 'rm  file'\n</code></pre>\n\n<p>remove a folder from a git repository with:</p>\n\n<pre><code>git filter-branch --tree-filter 'rm -rf directory'\n</code></pre>\n\n<p>This removes the directory or file from all the commits</p>\n\n<p>you can specify a commit by using:</p>\n\n<pre><code>git filter-branch --tree-filter 'rm -rf directory' HEAD\n</code></pre>\n\n<p>Or an range</p>\n\n<pre><code>git filter-branch --tree-filter 'rm -rf vendor/gems' t49dse..HEAD\n</code></pre>\n\n<p>To push everything to remote, you can do:</p>\n\n<pre><code>git push origin master --force\n</code></pre>\n", "title": "Remove a file from a Git repository without deleting it from the local filesystem", "answer_id": 34745670, "question_id": 1143796, "tags": ["git", "repository", "remote-server", "delete-file", "git-rm"]}], "question_id": 1143796}, {"body": "<p>There is a file that was being tracked at one time by <code>git</code>, but now the file is on the <code>.gitignore</code> list.</p>\n\n<p>However, that file keeps showing up in <code>git status</code> after it's edited. How do you force <code>git</code> to completely forget about it?</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "tags": ["git", "gitignore", "git-rm"], "answer_count": 12, "link": "http://stackoverflow.com/questions/1274057/how-to-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-gitignore", "answers": [{"body": "<p>move it out, commit, then move it back in. This has worked for me in the past. There is probably a 'gittier' way to accomplish this.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 1274081, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p>Move or copy the file to a safe location, so you don't lose it. Then git rm the file and commit. The file will still show up if you revert to one of those earlier commits, or another branch where it has not been removed. However, in all future commits, you will not see the file again. If the file is in the git ignore, then you can move it back into the folder, and git won't see it.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 1274082, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p>I accomplished this by using <a href=\"http://git-scm.com/docs/git-filter-branch\">git filter-branch</a>. The exact command I used was taken from the man page:</p>\n\n<pre><code>git filter-branch --index-filter 'git rm --cached --ignore-unmatch filename' HEAD\n</code></pre>\n\n<p>This command will recreate the entire commit history, executing <code>git rm</code> before each commit and so will get rid of the specified file. Don't forget to back it up before running the command as it <em>will</em> be lost.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 1274126, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p><code>.gitignore</code> will prevent untracked files from being added (without an <code>add -f</code>) to the set of files tracked by git, however git will continue to track any files that are already being tracked.</p>\n\n<p>To stop tracking a file you need to remove it from the index. This can be achieved with this command.</p>\n\n<pre><code>git rm --cached &lt;file&gt;\n</code></pre>\n\n<p>The removal of the file from the head revision will happen on the next commit.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 1274447, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p>If you cannot <code>git rm</code> a tracked file because other people might need it (warning, even if <em>you</em> <code>git rm --cached</code>, when someone else gets this change, their files will be deleted in their filesystem) please look at <a href=\"https://gist.github.com/1423106\">https://gist.github.com/1423106</a> for ways people have worked around the problem. </p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 11552180, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p>The series of commands below will remove all of the items from the Git Index (not from the working directory or local repo), and then updates the Git Index, while respecting git ignores. <em>PS. Index = Cache</em></p>\n\n<p><strong>First:</strong></p>\n\n<pre><code>git rm -r --cached . \ngit add .\n</code></pre>\n\n<p><strong>Then:</strong></p>\n\n<pre><code>git commit -am \"Remove ignored files\"\n</code></pre>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 19095988, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p><strong>git update-index</strong> does the job for me:</p>\n\n<pre><code>git update-index --assume-unchanged &lt;file&gt;\n</code></pre>\n\n<p><strong>Note:</strong> This solution is actually independent on <code>.gitignore</code> as gitignore is only for untracked files.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 20241145, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p>The answer from Matt Fear was the most effective IMHO. The following is just a PowerShell script for those in windows to only remove files from their git repo that matches their exclusion list.</p>\n\n<pre><code># Get files matching exclusionsfrom .gitignore\n# Excluding comments and empty lines\n$ignoreFiles =  gc .gitignore | ?{$_ -notmatch  \"#\"} |  ?{$_ -match  \"\\S\"} | % {\n                    $ignore = \"*\" + $_ + \"*\"\n                    (gci -r -i $ignore).FullName\n                }\n$ignoreFiles = $ignoreFiles| ?{$_ -match  \"\\S\"}\n\n# Remove each of these file from Git \n$ignoreFiles | % { git rm $_}\n\ngit add .\n</code></pre>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 20768177, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<pre><code>git ls-files --ignored --exclude-standard | xargs git rm --cached\n</code></pre>\n\n<p>This takes the list of the ignored files and removes them from the index.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 23839198, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<p>I always use this command to remove those untracked files. \nOne-line, Unix-style, clean output:</p>\n\n<pre><code>git ls-files --ignored --exclude-standard | sed 's/.*/\"&amp;\"/' | xargs git rm -r --cached\n</code></pre>\n\n<p>It lists all your ignored files, replace every output line with a quoted line instead to handle paths with spaces inside, and pass everything to <code>git rm -r --cached</code> to remove the paths/files/dirs from the index.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 30942174, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<h3>What didn't work for me</h3>\n\n<p>(Under Linux), I wanted to use the posts here suggesting the <code>ls-files --ignored --exclude-standard | xargs git rm -r --cached</code> approach.  However, (some of) the files to be removed had an embedded newline/LF/<code>\\n</code> in their names.  Neither of the solutions:</p>\n\n<pre><code>git ls-files --ignored --exclude-standard | xargs -d\"\\n\" git rm --cached\ngit ls-files --ignored --exclude-standard | sed 's/.*/\"&amp;\"/' | xargs git rm -r --cached\n</code></pre>\n\n<p>cope with this situation (get errors about files not found).</p>\n\n<h3>So I offer</h3>\n\n<pre><code>git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached\n</code></pre>\n\n<p>This uses the <code>-z</code> argument to <strong>ls-files</strong>, and the <code>-0</code> argument to <strong>xargs</strong> to cater safely/correctly for \"nasty\" characters in filenames.</p>\n\n<p>In the manual page <strong>git-ls-files(1)</strong>, it states:</p>\n\n<blockquote>\n  <p>When -z option is not used, TAB, LF, and backslash characters in\n  pathnames are represented as \\t, \\n, and \\\\, respectively.</p>\n</blockquote>\n\n<p>so I think my solution is needed if filenames have any of these characters in them.</p>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 34511442, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}, {"body": "<ol>\n<li><p>update your .gitignore file<br>\nfor instance, add one more folder for those you want to untrack in .gitignore: foldername</p></li>\n<li><p>git rm --cached .<br>\nremove all tracked files, including wanted and unwanted. your code will be safe as long as you have saved locally</p></li>\n<li><p>git add .<br>\nall files will be added to track, exclude those in .gitignore</p></li>\n</ol>\n", "title": "How to make Git &quot;forget&quot; about a file that was tracked but is now in .gitignore?", "answer_id": 36394436, "question_id": 1274057, "tags": ["git", "gitignore", "git-rm"]}], "question_id": 1274057}, {"body": "<p>I have a <code>UILabel</code> with space for two lines of text. Sometimes, when the text is too short, this text is displayed in the vertical center of the label.</p>\n\n<p>How do I vertically align the text to always be at the top of the <code>UILabel</code>?</p>\n\n<p><img src=\"http://i.stack.imgur.com/TxzmG.jpg\" alt=\"image representing a UILabel with vertically-centered text\"></p>\n", "title": "Vertically align text to top within a UILabel", "tags": ["ios", "cocoa-touch", "uikit", "uilabel"], "answer_count": 41, "link": "http://stackoverflow.com/questions/1054558/vertically-align-text-to-top-within-a-uilabel", "answers": [{"body": "<p>There's no way to set the vertical align on a <code>UILabel</code>, but you can get the same effect by changing the label's frame. I've made my labels orange so you can see clearly what's happening.</p>\n\n<p>Here's the quick and easy way to do this:</p>\n\n<pre><code>    [myLabel sizeToFit];\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/O7JEo.png\" alt=\"sizeToFit to squeeze a label\"></p>\n\n<hr>\n\n<p>If you have a label with longer text that will make more than one line, set <code>numberOfLines</code> to <code>0</code> (zero here means an unlimited number of lines).</p>\n\n<pre><code>    myLabel.numberOfLines = 0;\n    [myLabel sizeToFit];\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/08dRM.png\" alt=\"Longer label text with sizeToFit\"></p>\n\n<hr>\n\n<p><strong>Longer Version</strong></p>\n\n<p>I'll make my label in code so that you can see what's going on. You can set up most of this in Interface Builder too. My setup is a View Based App with a background image I made in Photoshop to show margins (20 points). The label is an attractive orange color so you can see what's going on with the dimensions.</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    // 20 point top and left margin. Sized to leave 20 pt at right.\n    CGRect labelFrame = CGRectMake(20, 20, 280, 150);\n    UILabel *myLabel = [[UILabel alloc] initWithFrame:labelFrame];\n    [myLabel setBackgroundColor:[UIColor orangeColor]];\n\n    NSString *labelText = @\"I am the very model of a modern Major-General, I've information vegetable, animal, and mineral\";\n    [myLabel setText:labelText];\n\n    // Tell the label to use an unlimited number of lines\n    [myLabel setNumberOfLines:0];\n    [myLabel sizeToFit];\n\n    [self.view addSubview:myLabel];\n}\n</code></pre>\n\n<p>Some limitations of using <code>sizeToFit</code> come into play with center- or right-aligned text. Here's what happens:</p>\n\n<pre><code>    // myLabel.textAlignment = NSTextAlignmentRight;\n    myLabel.textAlignment = NSTextAlignmentCenter;\n\n    [myLabel setNumberOfLines:0];\n    [myLabel sizeToFit];\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/DH18q.png\" alt=\"enter image description here\"></p>\n\n<p>The label is still sized with a fixed top-left corner. You can save the original label's width in a variable and set it after <code>sizeToFit</code>, or give it a fixed width to counter these problems:</p>\n\n<pre><code>    myLabel.textAlignment = NSTextAlignmentCenter;\n\n    [myLabel setNumberOfLines:0];\n    [myLabel sizeToFit];\n\n    CGRect myFrame = myLabel.frame;\n    // Resize the frame's width to 280 (320 - margins)\n    // width could also be myOriginalLabelFrame.size.width\n    myFrame = CGRectMake(myFrame.origin.x, myFrame.origin.y, 280, myFrame.size.height);\n    myLabel.frame = myFrame;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/gedYP.png\" alt=\"label alignment\"></p>\n\n<hr>\n\n<p>Note that <code>sizeToFit</code> will respect your initial label's minimum width. If you start with a label 100 wide and call <code>sizeToFit</code> on it, it will give you back a (possibly very tall) label with 100 (or a little less) width. You might want to set your label to the minimum width you want before resizing.</p>\n\n<p><img src=\"http://i.stack.imgur.com/RGI6v.png\" alt=\"Correct label alignment by resizing the frame width\"></p>\n\n<p>Some other things to note:</p>\n\n<p>Whether <code>lineBreakMode</code> is respected depends on how it's set. <code>NSLineBreakByTruncatingTail</code> (the default) is ignored after <code>sizeToFit</code>, as are the other two truncation modes (head and middle). <code>NSLineBreakByClipping</code> is also ignored. <code>NSLineBreakByCharWrapping</code> works as usual. The frame width is still narrowed to fit to the rightmost letter.</p>\n\n<hr>\n\n<p><strong><a href=\"http://stackoverflow.com/users/1709587/mark-amery\">Mark Amery</a> gave a fix for NIBs and Storyboards using Auto Layout in the comments:</strong></p>\n\n<blockquote>\n  <p>If your label is included in a nib or storyboard as a subview of the <code>view</code> of a ViewController that uses autolayout, then putting your <code>sizeToFit</code> call into <code>viewDidLoad</code> won't work, because autolayout sizes and positions the subviews after <code>viewDidLoad</code> is called and will immediately undo the effects of your <code>sizeToFit</code> call. However, calling <code>sizeToFit</code> from within <code>viewDidLayoutSubviews</code> <em>will</em> work.</p>\n</blockquote>\n\n<p><hr>\n<strong>My Original Answer (for posterity/reference):</strong></p>\n\n<p>This uses the <code>NSString</code> method <code>sizeWithFont:constrainedToSize:lineBreakMode:</code> to calculate the frame height needed to fit a string, then sets the origin and width.</p>\n\n<p>Resize the frame for the label using the text you want to insert. That way you can accommodate any number of lines.</p>\n\n<pre><code>CGSize maximumSize = CGSizeMake(300, 9999);\nNSString *dateString = @\"The date today is January 1st, 1999\";\nUIFont *dateFont = [UIFont fontWithName:@\"Helvetica\" size:14];\nCGSize dateStringSize = [dateString sizeWithFont:dateFont \n        constrainedToSize:maximumSize \n        lineBreakMode:self.dateLabel.lineBreakMode];\n\nCGRect dateFrame = CGRectMake(10, 10, 300, dateStringSize.height);\n\nself.dateLabel.frame = dateFrame;\n</code></pre>\n\n<p>This page has some different code for the same solution:</p>\n\n<p><a href=\"http://discussions.apple.com/thread.jspa?threadID=1759957\">discussions in apple</a></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 1054681, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I took a while to read the code, as well as the code in the introduced page, and found that they all try to modify the frame size of label, so that the default center vertical alignment would not appear.</p>\n\n<p>However, in some cases we do want the label to occupy all those spaces, even if the label does have so much text (e.g. multiple rows with equal height).</p>\n\n<p>Here, I used an alternative way to solve it, by simply pad newlines to the end of label (pls note that I actually inherited the <code>UILabel</code>, but it is not necessary):</p>\n\n<pre><code>CGSize fontSize = [self.text sizeWithFont:self.font];\n\nfinalHeight = fontSize.height * self.numberOfLines;\nfinalWidth = size.width;    //expected width of label\n\nCGSize theStringSize = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(finalWidth, finalHeight) lineBreakMode:self.lineBreakMode];\n\nint newLinesToPad = (finalHeight  - theStringSize.height) / fontSize.height;\n\nfor(int i = 0; i &lt; newLinesToPad; i++)\n{\n    self.text = [self.text stringByAppendingString:@\"\\n \"];\n}\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 2167085, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Like the answer above, but it wasn't quite right, or easy to slap into code so I cleaned it up a bit.  Add this extension either to it's own .h and .m file or just paste right above the implementation you intend to use it:</p>\n\n<pre><code>#pragma mark VerticalAlign\n@interface UILabel (VerticalAlign)\n- (void)alignTop;\n- (void)alignBottom;\n@end\n\n\n@implementation UILabel (VerticalAlign)\n- (void)alignTop\n{\n    CGSize fontSize = [self.text sizeWithFont:self.font];\n\n    double finalHeight = fontSize.height * self.numberOfLines;\n    double finalWidth = self.frame.size.width;    //expected width of label\n\n\n    CGSize theStringSize = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(finalWidth, finalHeight) lineBreakMode:self.lineBreakMode];\n\n\n    int newLinesToPad = (finalHeight  - theStringSize.height) / fontSize.height;\n\n    for(int i=0; i&lt;= newLinesToPad; i++)\n    {\n        self.text = [self.text stringByAppendingString:@\" \\n\"];\n    }\n}\n\n- (void)alignBottom\n{\n    CGSize fontSize = [self.text sizeWithFont:self.font];\n\n    double finalHeight = fontSize.height * self.numberOfLines;\n    double finalWidth = self.frame.size.width;    //expected width of label\n\n\n    CGSize theStringSize = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(finalWidth, finalHeight) lineBreakMode:self.lineBreakMode];\n\n\n    int newLinesToPad = (finalHeight  - theStringSize.height) / fontSize.height;\n\n    for(int i=0; i&lt; newLinesToPad; i++)\n    {\n        self.text = [NSString stringWithFormat:@\" \\n%@\",self.text];\n    }\n}\n@end\n</code></pre>\n\n<p>And then to use, put your text into the label, and then call the appropriate method to align it:</p>\n\n<pre><code>[myLabel alignTop];\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[myLabel alignBottom];\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 2376558, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>An even quicker (and dirtier) way to accomplish this is by setting the UILabel's line break mode to \"Clip\" and adding a fixed amount of newlines.</p>\n\n<pre><code>myLabel.lineBreakMode = UILineBreakModeClip;\nmyLabel.text = [displayString stringByAppendingString:\"\\n\\n\\n\\n\"];\n</code></pre>\n\n<p>This solution won't work for everyone -- in particular, if you still want to show \"...\" at the end of your string if it exceeds the number of lines you're showing, you'll need to use one of the longer bits of code -- but for a lot of cases this'll get you what you need.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 2663972, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>1) Set the new text:</p>\n\n<p><code>myLabel.text = @\"Some Text\"</code></p>\n\n<p>2) Set the <code>maximum number</code> of lines to 0 (automatic):</p>\n\n<p><code>myLabel.numberOfLines = 0</code></p>\n\n<p>3) Set the frame of the label to the maximum size:</p>\n\n<p><code>myLabel.frame = CGRectMake(20,20,200,800)</code></p>\n\n<p>4) Call <code>sizeToFit</code> to reduce the frame size so the contents just fit:</p>\n\n<p><code>[myLabel sizeToFit]</code></p>\n\n<p>The labels frame is now just high and wide enough to fit your text. The top left should be unchanged. I have tested this only with top left aligned text. For other alignments, you might have to modify the frame afterwards.</p>\n\n<p>Also, my label has word wrapping enabled.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 3586229, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Refering to the extension solution:</p>\n\n<pre><code>for(int i=1; i&lt; newLinesToPad; i++) \n    self.text = [self.text stringByAppendingString:@\"\\n\"];\n</code></pre>\n\n<p>should be replaced by </p>\n\n<pre><code>for(int i=0; i&lt;newLinesToPad; i++)\n    self.text = [self.text stringByAppendingString:@\"\\n \"];\n</code></pre>\n\n<p>Additional space is needed in every added newline, because iPhone <code>UILabels</code>' trailing carriage returns seems to be ignored :(</p>\n\n<p>Similarly, alignBottom should be updated too with a <code>@\" \\n@%\"</code> in place of <code>\"\\n@%\"</code> (for cycle initialization must be replaced by \"for(int i=0...\" too).</p>\n\n<p>The following extension works for me:</p>\n\n<pre><code>// -- file: UILabel+VerticalAlign.h\n#pragma mark VerticalAlign\n@interface UILabel (VerticalAlign)\n- (void)alignTop;\n- (void)alignBottom;\n@end\n\n// -- file: UILabel+VerticalAlign.m\n@implementation UILabel (VerticalAlign)\n- (void)alignTop {\n    CGSize fontSize = [self.text sizeWithFont:self.font];\n    double finalHeight = fontSize.height * self.numberOfLines;\n    double finalWidth = self.frame.size.width;    //expected width of label\n    CGSize theStringSize = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(finalWidth, finalHeight) lineBreakMode:self.lineBreakMode];\n    int newLinesToPad = (finalHeight  - theStringSize.height) / fontSize.height;\n    for(int i=0; i&lt;newLinesToPad; i++)\n        self.text = [self.text stringByAppendingString:@\"\\n \"];\n}\n\n- (void)alignBottom {\n    CGSize fontSize = [self.text sizeWithFont:self.font];\n    double finalHeight = fontSize.height * self.numberOfLines;\n    double finalWidth = self.frame.size.width;    //expected width of label\n    CGSize theStringSize = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(finalWidth, finalHeight) lineBreakMode:self.lineBreakMode];\n    int newLinesToPad = (finalHeight  - theStringSize.height) / fontSize.height;\n    for(int i=0; i&lt;newLinesToPad; i++)\n        self.text = [NSString stringWithFormat:@\" \\n%@\",self.text];\n}\n@end\n</code></pre>\n\n<p>Then call <code>[yourLabel alignTop];</code> or <code>[yourLabel alignBottom];</code> after each yourLabel text assignment.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 3676733, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I wanted to have a label which was able to have multi-lines, a minimum font size, and centred both horizontally and vertically in it's parent view. I added my label programmatically to my view:</p>\n\n<pre><code>- (void) customInit {\n    // Setup label\n    self.label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, self.frame.size.width, self.frame.size.height)];\n    self.label.numberOfLines = 0;\n    self.label.lineBreakMode = UILineBreakModeWordWrap;\n    self.label.textAlignment = UITextAlignmentCenter;\n\n    // Add the label as a subview\n    self.autoresizesSubviews = YES;\n    [self addSubview:self.label];\n}\n</code></pre>\n\n<p>And then when I wanted to change the text of my label...</p>\n\n<pre><code>- (void) updateDisplay:(NSString *)text {\n    if (![text isEqualToString:self.label.text]) {\n        // Calculate the font size to use (save to label's font)\n        CGSize textConstrainedSize = CGSizeMake(self.frame.size.width, INT_MAX);\n        self.label.font = [UIFont systemFontOfSize:TICKER_FONT_SIZE];\n        CGSize textSize = [text sizeWithFont:self.label.font constrainedToSize:textConstrainedSize];\n        while (textSize.height &gt; self.frame.size.height &amp;&amp; self.label.font.pointSize &gt; TICKER_MINIMUM_FONT_SIZE) {\n            self.label.font = [UIFont systemFontOfSize:self.label.font.pointSize-1];\n            textSize = [ticker.blurb sizeWithFont:self.label.font constrainedToSize:textConstrainedSize];\n        }\n        // In cases where the frame is still too large (when we're exceeding minimum font size),\n        // use the views size\n        if (textSize.height &gt; self.frame.size.height) {\n            textSize = [text sizeWithFont:self.label.font constrainedToSize:self.frame.size];\n        }\n\n        // Draw \n        self.label.frame = CGRectMake(0, self.frame.size.height/2 - textSize.height/2, self.frame.size.width, textSize.height);\n        self.label.text = text;\n    }\n    [self setNeedsDisplay];\n}\n</code></pre>\n\n<p>Hope that helps someone!</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 3705533, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I took the suggestions here and created a view which can wrap a UILabel and will size it and set the number of lines so that it is top aligned. Simply put a UILabel as a subview:</p>\n\n<pre><code>@interface TopAlignedLabelContainer : UIView\n{\n}\n\n@end\n\n@implementation TopAlignedLabelContainer\n\n- (void)layoutSubviews\n{\n    CGRect bounds = self.bounds;\n\n    for (UILabel *label in [self subviews])\n    {\n        if ([label isKindOfClass:[UILabel class]])\n        {\n            CGSize fontSize = [label.text sizeWithFont:label.font];\n\n            CGSize textSize = [label.text sizeWithFont:label.font\n                                     constrainedToSize:bounds.size\n                                         lineBreakMode:label.lineBreakMode];\n\n            label.numberOfLines = textSize.height / fontSize.height;\n\n            label.frame = CGRectMake(0, 0, textSize.width,\n                 fontSize.height * label.numberOfLines);\n        }\n    }\n}\n\n@end\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 4435118, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I riffed off dalewking's suggestion and added a UIEdgeInset to allow for an adjustable margin. nice work around.</p>\n\n<pre><code>- (id)init\n{\n    if (self = [super init]) {\n        contentEdgeInsets = UIEdgeInsetsZero;\n    }\n\n    return self;\n}\n\n- (void)layoutSubviews\n{\n    CGRect localBounds = self.bounds;\n    localBounds = CGRectMake(MAX(0, localBounds.origin.x + contentEdgeInsets.left), \n                             MAX(0, localBounds.origin.y + contentEdgeInsets.top), \n                             MIN(localBounds.size.width, localBounds.size.width - (contentEdgeInsets.left + contentEdgeInsets.right)), \n                             MIN(localBounds.size.height, localBounds.size.height - (contentEdgeInsets.top + contentEdgeInsets.bottom)));\n\n    for (UIView *subview in self.subviews) {\n        if ([subview isKindOfClass:[UILabel class]]) {\n            UILabel *label = (UILabel*)subview;\n            CGSize lineSize = [label.text sizeWithFont:label.font];\n            CGSize sizeForText = [label.text sizeWithFont:label.font constrainedToSize:localBounds.size lineBreakMode:label.lineBreakMode];\n\n            NSInteger numberOfLines = ceilf(sizeForText.height/lineSize.height);\n\n            label.numberOfLines = numberOfLines;\n            label.frame = CGRectMake(MAX(0, contentEdgeInsets.left), MAX(0, contentEdgeInsets.top), localBounds.size.width, MIN(localBounds.size.height, lineSize.height * numberOfLines)); \n        }\n    }\n}\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 4454101, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>for anyone reading this because the text inside your label is not vertically centered, keep in mind that some font types are not designed equally. for example, if you create a label with zapfino size 16, you will see the text is not perfectly centered vertically.</p>\n\n<p>however, working with helvetica will vertically center your text.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 5149099, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I wrote a util function to achieve this purpose. You can take a look:</p>\n\n<pre>\n// adjust the height of a multi-line label to make it align vertical with top\n+ (void) alignLabelWithTop:(UILabel *)label {\n  CGSize maxSize = CGSizeMake(label.frame.size.width, 999);\n  label.adjustsFontSizeToFitWidth = NO;\n\n  // get actual height\n  CGSize actualSize = [label.text sizeWithFont:label.font constrainedToSize:maxSize lineBreakMode:label.lineBreakMode];\n  CGRect rect = label.frame;\n  rect.size.height = actualSize.height;\n  label.frame = rect;\n}\n</pre>\n\n<p>\uff0eHow to use? (If lblHello is created by Interface builder, so I skip some UILabel attributes detail)</p>\n\n<pre>\nlblHello.text = @\"Hello World! Hello World! Hello World! Hello World! Hello World! Hello World! Hello World! Hello World!\";\nlblHello.numberOfLines = 5;\n[Utils alignLabelWithTop:lblHello];\n</pre>\n\n<p>I also wrote it on my blog as an article:\n<a href=\"http://fstoke.me/blog/?p=2819\">http://fstoke.me/blog/?p=2819</a></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 6094538, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Create a subclass of UILabel. Works like a charm:</p>\n\n<pre><code>// TopLeftLabel.h\n\n#import &lt;Foundation/Foundation.h&gt;\n\n@interface TopLeftLabel : UILabel \n{\n}\n\n@end\n\n// TopLeftLabel.m\n\n#import \"TopLeftLabel.h\"\n\n@implementation TopLeftLabel\n\n- (id)initWithFrame:(CGRect)frame \n{\n    return [super initWithFrame:frame];\n}\n\n- (CGRect)textRectForBounds:(CGRect)bounds limitedToNumberOfLines:(NSInteger)numberOfLines \n{\n    CGRect textRect = [super textRectForBounds:bounds limitedToNumberOfLines:numberOfLines];    \n    textRect.origin.y = bounds.origin.y;\n    return textRect;\n}\n\n-(void)drawTextInRect:(CGRect)requestedRect \n{\n    CGRect actualRect = [self textRectForBounds:requestedRect limitedToNumberOfLines:self.numberOfLines];\n    [super drawTextInRect:actualRect];\n}\n\n@end\n</code></pre>\n\n<p>As discussed <a href=\"https://discussions.apple.com/message/8322622?messageID=8322622\">here</a>.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 6694918, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Create a new class </p>\n\n<p>LabelTopAlign</p>\n\n<p>.h file</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n\n@interface KwLabelTopAlign : UILabel {\n\n}\n\n@end\n</code></pre>\n\n<p>.m file</p>\n\n<pre><code>#import \"KwLabelTopAlign.h\"\n\n\n@implementation KwLabelTopAlign\n\n- (void)drawTextInRect:(CGRect)rect {\n    int lineHeight = [@\"IglL\" sizeWithFont:self.font constrainedToSize:CGSizeMake(rect.size.width, 9999.0f)].height;\n    if(rect.size.height &gt;= lineHeight) {\n        int textHeight = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(rect.size.width, rect.size.height)].height;\n        int yMax = textHeight;\n        if (self.numberOfLines &gt; 0) {\n            yMax = MIN(lineHeight*self.numberOfLines, yMax);    \n        }\n\n        [super drawTextInRect:CGRectMake(rect.origin.x, rect.origin.y, rect.size.width, yMax)];\n    }\n}\n\n@end\n</code></pre>\n\n<h3>Edit</h3>\n\n<p>Here's a simpler implementation that does the same:</p>\n\n<pre><code>#import \"KwLabelTopAlign.h\"\n\n@implementation KwLabelTopAlign\n\n- (void)drawTextInRect:(CGRect)rect\n{\n    CGFloat height = [self.text sizeWithFont:self.font\n                            constrainedToSize:rect.size\n                                lineBreakMode:self.lineBreakMode].height;\n    if (self.numberOfLines != 0) {\n        height = MIN(height, self.font.lineHeight * self.numberOfLines);\n    }\n    rect.size.height = MIN(rect.size.height, height);\n    [super drawTextInRect:rect];\n}\n\n@end\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 6938081, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>If creating your own custom view is an option, you could do something like this:</p>\n\n<pre><code>- (void)drawRect:(CGRect)rect\n{\n    CGRect bounds = self.bounds;\n    [self.textColor set];\n    [self.text drawInRect:bounds\n                 withFont:self.font\n            lineBreakMode:UILineBreakModeTailTruncation\n                alignment:self.textAlignment];\n}\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 7085412, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p><strong>This is an old solution, use autolayout on iOS >= 6</strong></p>\n\n<p>My solution:<br>\n1/ Split lines by myself (ignoring label wrap settings)<br>\n2/ Draw lines by myself (ignoring label alignment)</p>\n\n<pre><code>\n@interface UITopAlignedLabel : UILabel\n\n@end\n</code></pre>\n\n<pre><code>\n@implementation UITopAlignedLabel\n\n#pragma mark Instance methods\n\n- (NSArray*)splitTextToLines:(NSUInteger)maxLines {\n    float width = self.frame.size.width;\n\n    NSArray* words = [self.text componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];\n    NSMutableArray* lines = [NSMutableArray array];\n\n    NSMutableString* buffer = [NSMutableString string];    \n    NSMutableString* currentLine = [NSMutableString string];\n\n    for (NSString* word in words) {\n        if ([buffer length] &gt; 0) {\n            [buffer appendString:@\" \"];\n        }\n\n        [buffer appendString:word];\n\n        if (maxLines &gt; 0 && [lines count] == maxLines - 1) {\n            [currentLine setString:buffer];\n            continue;\n        }\n\n        float bufferWidth = [buffer sizeWithFont:self.font].width;\n\n        if (bufferWidth &lt; width) {\n            [currentLine setString:buffer];\n        }\n        else {\n            [lines addObject:[NSString stringWithString:currentLine]];\n\n            [buffer setString:word];\n            [currentLine setString:buffer];\n        }\n    }\n\n    if ([currentLine length] &gt; 0) {\n        [lines addObject:[NSString stringWithString:currentLine]];\n    }\n\n    return lines;\n}\n\n- (void)drawRect:(CGRect)rect {\n    if ([self.text length] == 0) {\n        return;\n    }\n\n    CGContextRef context = UIGraphicsGetCurrentContext();\n\n    CGContextSetFillColorWithColor(context, self.textColor.CGColor);\n    CGContextSetShadowWithColor(context, self.shadowOffset, 0.0f, self.shadowColor.CGColor);\n\n    NSArray* lines = [self splitTextToLines:self.numberOfLines];\n    NSUInteger numLines = [lines count];\n\n    CGSize size = self.frame.size;\n    CGPoint origin = CGPointMake(0.0f, 0.0f);\n\n    for (NSUInteger i = 0; i &lt; numLines; i++) {\n        NSString* line = [lines objectAtIndex:i];\n\n        if (i == numLines - 1) {\n            [line drawAtPoint:origin forWidth:size.width withFont:self.font lineBreakMode:UILineBreakModeTailTruncation];            \n        }\n        else {\n            [line drawAtPoint:origin forWidth:size.width withFont:self.font lineBreakMode:UILineBreakModeClip];\n        }\n\n        origin.y += self.font.lineHeight;\n\n        if (origin.y &gt;= size.height) {\n            return;\n        }\n    }\n}\n\n@end\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 7582736, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Just in case it's of any help to anyone, I had the same problem but was able to solve the issue simply by switching from using <code>UILabel</code> to using <code>UITextView</code>. I appreciate this isn't for everyone because the functionality is a bit different.</p>\n\n<p>If you do switch to using <code>UITextView</code>, you can turn off all the Scroll View properties as well as User Interaction Enabled... This will force it to act more like a label.</p>\n\n<p><a href=\"http://i.stack.imgur.com/HB87m.png\"><img src=\"http://i.stack.imgur.com/HB87m.png\" alt=\"enter image description here\"></a></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 7661501, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p><img src=\"http://i.stack.imgur.com/yJFKP.png\" alt=\"enter image description here\"></p>\n\n<p>In Interface Builder</p>\n\n<ul>\n<li>Set <code>UILabel</code> to size of biggest possible Text</li>\n<li>Set <code>Lines</code> to '0' in Attributes Inspector</li>\n</ul>\n\n<p>In your code</p>\n\n<ul>\n<li>Set the text of the label</li>\n<li>Call <code>sizeToFit</code> on your label</li>\n</ul>\n\n<p>Code Snippet:</p>\n\n<pre><code>self.myLabel.text = @\"Short Title\";\n[self.myLabel sizeToFit];\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 8707995, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Instead of <code>UILabel</code> you may use <code>UITextField</code> which has vertical alignment option:</p>\n\n<pre><code>textField.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;\ntextField.userInteractionEnabled = NO; // Don't allow interaction\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 9226396, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>As long as you are not doing any complex task, you can use <code>UITextView</code> instead of <code>UILabels</code>.</p>\n\n<p>Disable the scroll.</p>\n\n<p>If you want the text to be displayed completely just user <code>sizeToFit</code> and <code>sizeThatFits:</code> methods</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 9672829, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I was working on that particular problem as well, so I've taken the ideas by <em>D.S.</em> and <em>nevan king</em> and basically combined them into a subclass that implements a vertical alignment property, which also allows you to change the alignment more than just once. It borrows the <code>UIControlContentVerticalAlignment</code> type and also supports <code>UIControlContentVerticalAlignmentFill</code>.</p>\n\n<p>From what I've seen, <code>numberOfLines</code> seems to be useless when it comes to vertical alignment, so in this subclass it is always set to 0 when applying vertical alignment.\nAlso, you still have to set <code>lineBreakMode</code> yourself in case you want a multi-line text label.</p>\n\n<p>There it is: <a href=\"https://github.com/quantapps/UIKit-Improvements/tree/master/QALabel\">QALabel on GitHub</a></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 10085999, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>In UILabel vertically text alignment is not possible. But, you can dynamically change the height of the label using <code>sizeWithFont:</code> method of <code>NSString</code>, and just set its x and y as you want.</p>\n\n<p>You can use <code>UITextField</code>. It supports the <strong>contentVerticalAlignment peoperty</strong> as it is a subclass of <code>UIControl</code>. You have to set its <code>userInteractionEnabled</code> to NO to prevent user from typing text on it.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 10613344, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>No muss, no fuss</p>\n\n<pre><code>@interface MFTopAlignedLabel : UILabel\n\n@end\n\n\n@implementation MFTopAlignedLabel\n\n- (void)drawTextInRect:(CGRect) rect\n{\n    NSAttributedString *attributedText = [[NSAttributedString alloc]     initWithString:self.text attributes:@{NSFontAttributeName:self.font}];\n    rect.size.height = [attributedText boundingRectWithSize:rect.size\n                                            options:NSStringDrawingUsesLineFragmentOrigin\n                                            context:nil].size.height;\n    if (self.numberOfLines != 0) {\n        rect.size.height = MIN(rect.size.height, self.numberOfLines * self.font.lineHeight);\n    }\n    [super drawTextInRect:rect];\n}\n\n@end\n</code></pre>\n\n<p>No muss, no objective-c, no fuss but Swift:</p>\n\n<pre><code>class VerticalTopAlignLabel: UILabel {\n\n    override func drawTextInRect(rect: CGRect) {\n        guard self.text != nil else {\n            return super.drawTextInRect(rect)\n        }\n\n        let attributedText = NSAttributedString.init(string: self.text!, attributes: [NSFontAttributeName : self.font])\n        var newRect = rect\n        newRect.size.height = attributedText.boundingRectWithSize(rect.size, options: .UsesLineFragmentOrigin, context: nil).size.height\n\n        if self.numberOfLines != 0 {\n            newRect.size.height = min(newRect.size.height, CGFloat(self.numberOfLines) * self.font.lineHeight)\n        }\n        super.drawTextInRect(newRect)\n    }\n}\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 10681299, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Subclass UILabel and constrain the drawing rectangle, like this:</p>\n\n<pre><code>- (void)drawTextInRect:(CGRect)rect\n{\n    CGSize sizeThatFits = [self sizeThatFits:rect.size];\n    rect.size.height = MIN(rect.size.height, sizeThatFits.height);\n\n    [super drawTextInRect:rect];\n}\n</code></pre>\n\n<p>I tried the solution involving newline padding and ran into incorrect behavior in some cases. In my experience, it's easier to constrain the drawing rect as above than mess with <code>numberOfLines</code>.</p>\n\n<p>P.S. You can imagine easily supporting UIViewContentMode this way:</p>\n\n<pre><code>- (void)drawTextInRect:(CGRect)rect\n{\n    CGSize sizeThatFits = [self sizeThatFits:rect.size];\n\n    if (self.contentMode == UIViewContentModeTop) {\n        rect.size.height = MIN(rect.size.height, sizeThatFits.height);\n    }\n    else if (self.contentMode == UIViewContentModeBottom) {\n        rect.origin.y = MAX(0, rect.size.height - sizeThatFits.height);\n        rect.size.height = MIN(rect.size.height, sizeThatFits.height);\n    }\n\n    [super drawTextInRect:rect];\n}\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 11314618, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I've used a lot of the methods above, and just want to add a quick-and-dirty approach I've used:</p>\n\n<pre><code>myLabel.text = [NSString stringWithFormat:@\"%@\\n\\n\\n\\n\\n\\n\\n\\n\\n\",@\"My label text string\"];\n</code></pre>\n\n<p>Make sure the number of newlines in the string will cause any text to fill the available vertical space, and set the UILabel to truncate any overflowing text.</p>\n\n<p><strong>Because sometimes good enough is <em>good enough</em>.</strong></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 12480730, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>There are two ways to fix this problem.One is</p>\n\n<pre><code>[mylabel setNumberOfLines:0];\n[mylabel sizeToFit];\n</code></pre>\n\n<p>But the second way is more reliable for this approach, i.e,</p>\n\n<pre><code> CGSize sizeToFit = [label.text sizeWithFont:label.font constrainedToSize:maxSize lineBreakMode:label.lineBreakMode];\n [mylabel setFrame:CGRectMake(mylabel.frame.origin.x, mylabel.frame.origin.y, sizeToFit.width, sizeToFit.height)];\n</code></pre>\n\n<p>entering \"\\n\" is not such a good thing but yes if you know the constraints and the size of the data going to be displayed, may be it work good but cannot be expandable if text is longer than size of the label. The Second way ultimately set the frame according to the size of the text going to be displayed.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 12685539, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I've struggled with this one for a long time and I wanted to share my solution.</p>\n\n<p>This will give you a <code>UILabel</code> that will autoshrink text down to 0.5 scales and vertically center the text. These options are also available in Storyboard/IB.</p>\n\n<pre><code>[labelObject setMinimumScaleFactor:0.5];\n[labelObject setBaselineAdjustment:UIBaselineAdjustmentAlignCenters];\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 12919435, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Try this !! Too manual but works perfect for me.</p>\n\n<pre><code>[labelName setText:@\"This is just a demo\"];\n\nNSMutableString *yourString1= @\"This is just a demo\";\n\n\n// breaking string\nlabelName.lineBreakMode=UILineBreakModeTailTruncation;\nlabelName.numberOfLines = 3;\n\n\nCGSize maximumLabelSize1 = CGSizeMake(276,37); // Your Maximum text size\n\nCGSize expectedLabelSize1 = [yourString1 sizeWithFont:labelName.font\n                                    constrainedToSize:maximumLabelSize1\n                                        lineBreakMode:labelName.lineBreakMode];\n\n[labelName setText:yourString1];\n\n\nCGRect newFrame1 = labelName.frame;\nif (expectedLabelSize1.height&gt;=10)\n{\n    newFrame1.size.height = expectedLabelSize1.height;\n}\n\nlabelName.frame = newFrame1;\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 13330515, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Building on all the other solutions posted, I made a simple little UILabel subclass that will handle vertical alignment for you when setting its alignment property.  This will also update the label on orientation changes as well, will constrain the height to the text, and keep the label's width at it's original size.</p>\n\n<pre><code>.h\n\n@interface VAlignLabel : UILabel\n@property (nonatomic, assign) WBZVerticalAlignment alignment;\n@end\n\n\n.m\n\n -(void)setAlignment:(WBZVerticalAlignment)alignment{\n\n    _alignment = alignment;\n\n    CGSize s = [self.text sizeWithFont:self.font constrainedToSize:CGSizeMake(self.frame.size.width, 9999) lineBreakMode:NSLineBreakByWordWrapping];\n\n    switch (_alignment)\n    {\n        case wbzLabelAlignmentVerticallyTop:\n            self.frame = CGRectMake(self.frame.origin.x, self.frame.origin.y, self.frame.size.width, s.height);\n            break;\n        case wbzLabelAlignmentVerticallyMiddle:\n            self.frame = CGRectMake(self.frame.origin.x, self.frame.origin.y + (self.frame.size.height - s.height)/2, self.frame.size.width, s.height);\n            break;\n        case wbzLabelAlignmentVerticallyBottom:\n            self.frame = CGRectMake(self.frame.origin.x, self.frame.origin.y + (self.frame.size.height - s.height), self.frame.size.width, s.height);\n            break;\n        default:\n            break;\n    }\n}\n\n-(void)layoutSubviews{\n    [self setAlignment:self.alignment];\n}\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 14624664, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>Instead of using <code>sizeToFit</code>, you could manually change the label's height;</p>\n\n<pre><code>CGSize size = [descLabel.text sizeWithFont:descLabel.font constrainedToSize:CGSizeMake(labelWidth, labelHeight)];\nCGRect frame = descLabel.frame;\nframe.size.height = size.height;    \n[yourLabel setFrame:frame];\n</code></pre>\n\n<p>The size returned will be the best fit for the content of your label. If the label's height is fitted to its content, you wouldn't have problems with the content being positioned on the center of the label. </p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 15424994, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>This code helps you to make the text aligned to top and also to make the label height to be fixed the text content.</p>\n\n<p>instruction to use the below code</p>\n\n<p><code>isHeightToChange</code> by default it is true makes the height of label to same as text content automatically.\n<code>isHeightToChange</code> if it false make the text aligned to top with out decreasing the height of the label.</p>\n\n<pre><code>#import \"DynamicHeightLable.h\"\n\n@implementation DynamicHeightLable\n@synthesize isHeightToChange;\n- (id)initWithFrame:(CGRect)frame \n{\n    self = [super initWithFrame:frame];\n    if (self)\n    {\n        // Initialization code.\n        self.isHeightToChange=FALSE;//default\n\n    }\n    return self;\n}\n- (void)drawTextInRect:(CGRect)rect\n{\n    if(!isHeightToChange){\n    CGSize maximumLabelSize = CGSizeMake(self.frame.size.width,2500);\n\n    CGFloat height = [self.text sizeWithFont:self.font\n                           constrainedToSize:maximumLabelSize\n                               lineBreakMode:self.lineBreakMode].height;\n    if (self.numberOfLines != 0) {\n        height = MIN(height, self.font.lineHeight * self.numberOfLines);\n    }\n    rect.size.height = MIN(rect.size.height, height);\n    }\n    [super drawTextInRect:rect];\n\n}\n- (void) layoutSubviews\n{\n    [super layoutSubviews];\n       if(isHeightToChange){\n     CGRect ltempFrame = self.frame;\n    CGSize maximumLabelSize = CGSizeMake(self.frame.size.width,2500);\n\n    CGFloat height = [self.text sizeWithFont:self.font\n                           constrainedToSize:maximumLabelSize\n                               lineBreakMode:self.lineBreakMode].height;\n    if (self.numberOfLines != 0) {\n        height = MIN(height, self.font.lineHeight * self.numberOfLines);\n    }\n    ltempFrame.size.height = MIN(ltempFrame.size.height, height);\n\n    ltempFrame.size.height=ltempFrame.size.height;\n    self.frame=ltempFrame;\n       }\n}\n@end\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 15608897, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<pre><code>yourLabel.baselineAdjustment = UIBaselineAdjustmentAlignCenters;\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 17809442, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>If you are using autolayout, set the vertical contentHuggingPriority to 1000, either in code or IB. In IB you may then have to remove a height constraint by setting it's priority to 1 and then deleting it.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 18641664, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p><a href=\"https://github.com/nicklockwood/FXLabel\" rel=\"nofollow\">FXLabel (on github)</a> does this out of the box by setting <code>label.contentMode</code> to <code>UIViewContentModeTop</code>. This component is not made by me, but it is a component I use frequently and has tons of features, and seems to work well.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 19054718, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I know this is an old post but vertically aligning text is a HUGE problem (at least for me it is) and I figured that I should share this solution since I couldn't find one myself. </p>\n\n<p>Using drawRect is a little expensive in my opinion. The proper way to get a UILabel to vertically align is to not use a UILabel. Use a UITextView (multiline UITextField) and observe the content property like so:</p>\n\n<pre><code>- (UITextView*)textView{\n     if(!_textView){\n        UIEdgeInsets insets = UIEdgeInsetsMake(0, 50, 0, 5);\n        CGRect frame = CGRectMake(0.0f, 0.0f, 100.0f, 100.0f);\n        _textView = [[UITextView alloc]initWithFrame:UIEdgeInsetsInsetRect(frame, insets)];\n        _textView.delegate = self;\n        _textView.scrollEnabled = YES;\n        _textView.bounces = YES;\n        _textView.backgroundColor = [UIColor whiteColor];\n        [_textView setUserInteractionEnabled:NO];\n        [_textView addObserver:self forKeyPath:@\"contentSize\" options:(NSKeyValueObservingOptionNew) context:NULL];\n    }\n    return _textView;\n}\n\n -(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:    (NSDictionary *)change context:(void *)context {\nUITextView *tv = object;\n\nCGFloat height = [tv bounds].size.height;\nCGFloat contentheight;\n\n#ifdef __IPHONE_7_0\n    contentheight = [tv sizeThatFits:CGSizeMake(tv.frame.size.width, FLT_MAX)].height;\n#else\n    contentheight = [tv contentSize].height;\n#endif\n\n    switch(self.verticalAlignment) {\n        case VerticalAlignmentBottom:{\n            CGFloat topCorrect = ([tv bounds].size.height - contentheight);\n            topCorrect = (topCorrect &lt;0.0 ? 0.0 : topCorrect);\n            tv.contentOffset = (CGPoint){.x = 0, .y = -topCorrect};\n        }\n        break;\n        case VerticalAlignmentMiddle:{\n            CGFloat topCorrect = (height - contentheight * [tv zoomScale])/2.0;\n            topCorrect = ( topCorrect &lt; 0.0 ? 0.0 : topCorrect );\n            tv.contentOffset = (CGPoint){.x = 0, .y = -topCorrect};\n        }\n            break;\n        case VerticalAlignmentTop:{\n            tv.contentOffset = (CGPoint){.x = 0, .y = 0 };\n        }\n            break;\n        default:\n            break;\n    }\n}\n</code></pre>\n\n<p>Basically what's happening here is we set the class we're in as the observer, looking at the contentSize property with an option of NSKeyValueObservingOptionNew so every time the content changes, <code>-(void)observeValueForKeyPath:ofObject:change:context:</code> will get called and then you can calculate an offset size to align the text appropriately. </p>\n\n<p>I can't take credit for this, the original idea came from <a href=\"http://imagineric.ericd.net/2011/03/10/ios-vertical-aligning-text-in-a-uitextview/\">here</a>. But, this solution doesn't work on iOS7. After trolling around SO for a few hours, I found this: <a href=\"http://stackoverflow.com/questions/19219190/textview-center-text-alignment-ios-7\">iOS 7 vertical alignment fix</a>. The key line there is <code>contentheight = [tv sizeThatFits:CGSizeMake(tv.frame.size.width, FLT_MAX)].height;</code>. For some reason in iOS 7, getting the contentSize height doesn't work but that fixes it. Neither of the two solutions worked on their own but after a little tinkering, I was able to synthesize together the above solution. </p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 20558559, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>I've found the answers on this question are now a bit out-of-date, so adding this for the auto layout fans out there.</p>\n\n<p>Auto layout makes this issue pretty trivial. Assuming we're adding the label to <code>UIView *view</code>, the following code will accomplish this:</p>\n\n<pre><code>UILabel *label = [[UILabel alloc] initWithFrame:CGRectZero];\n[label setText:@\"Some text here\"];\n[label setTranslatesAutoresizingMaskIntoConstraints:NO];\n[view addSubview:label];\n\n[view addConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"H:|[label]|\" options:0 metrics:nil views:@{@\"label\": label}]];\n[view addConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"V:|[label]\" options:0 metrics:nil views:@{@\"label\": label}]];\n</code></pre>\n\n<p>The label's height will be calculated automatically (using it's <code>intrinsicContentSize</code>) and the label will be positioned edge-to-edge horizontally, at the top of the <code>view</code>.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 23353911, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>You can use <a href=\"https://github.com/mattt/TTTAttributedLabel\">TTTAttributedLabel</a>, it supports vertical alignment.</p>\n\n<pre><code>@property (nonatomic) TTTAttributedLabel* label;\n&lt;...&gt;\n\n//view's or viewController's init method\n_label.verticalAlignment = TTTAttributedLabelVerticalAlignmentTop;\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 25544606, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>If the label is in the IB, set the height to 30 or something a single line of text would fit in. Then set the constraints for the width, height, etc. Go to the constraint for height on the Size Inspector and set the height to >= whatever the height was. NumberOfLines set to 0 and also set sizeToFit in .m. Now the text will set top left and the label will grow appropriately as the text grows.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 28179978, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>For Adaptive UI(iOS8 or after) , Vertical Alignment of UILabel is to be set from StoryBoard by Changing the properties\n <code>noOfLines</code>=0` and </p>\n\n<blockquote>\n  <p><strong>Constraints</strong></p>\n  \n  <ol>\n  <li><p>Adjusting UILabel LefMargin, RightMargin and Top Margin Constraints.</p></li>\n  <li><p>Change <code>Content Compression Resistance Priority For Vertical</code>=1000` So that   Vertical>Horizontal .</p></li>\n  </ol>\n</blockquote>\n\n<p><a href=\"http://i.stack.imgur.com/4LKFV.png\"><img src=\"http://i.stack.imgur.com/4LKFV.png\" alt=\"Constraints of UILabel \"></a></p>\n\n<p><strong>Edited:</strong></p>\n\n<pre><code>noOfLines=0\n</code></pre>\n\n<p>and the following constraints are enough to achieve the desired results.</p>\n\n<p><a href=\"http://i.stack.imgur.com/TS4pR.png\"><img src=\"http://i.stack.imgur.com/TS4pR.png\" alt=\"enter image description here\"></a></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 31889977, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>In swift,</p>\n\n<p><code>let myLabel : UILabel!</code></p>\n\n<p>To make your text of your Label to fit to screen and it's on the top</p>\n\n<p><code>myLabel.sizeToFit()</code></p>\n\n<p>To make your font of label to fit to the width of screen or specific width size.</p>\n\n<p><code>myLabel.adjustsFontSizeToFitWidth = YES</code></p>\n\n<p>and some textAlignment for label :</p>\n\n<p><code>myLabel.textAlignment = .center</code> </p>\n\n<p><code>myLabel.textAlignment = .left</code></p>\n\n<p><code>myLabel.textAlignment = .right</code></p>\n\n<p><code>myLabel.textAlignment = .Natural</code></p>\n\n<p><code>myLabel.textAlignment = .Justified</code></p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 35567684, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p><strong>Swift 2.0:</strong></p>\n\n<p>Make constant enum values in a empty Swift file.</p>\n\n<pre><code>//  AppRef.swift\n\nimport UIKit\nimport Foundation\n\nenum UILabelTextPositions : String {\n\n case VERTICAL_ALIGNMENT_TOP = \"VerticalAlignmentTop\"\n case VERTICAL_ALIGNMENT_MIDDLE = \"VerticalAlignmentMiddle\"\n case VERTICAL_ALIGNMENT_BOTTOM = \"VerticalAlignmentBottom\"\n\n}\n</code></pre>\n\n<p>Using UILabel Extension:</p>\n\n<p>Make a empty Swift class and name it. Add the following</p>\n\n<pre><code>//  AppExtensions.swift\n\nimport Foundation\nimport UIKit\n\nextension UILabel{ \n func makeLabelTextPosition (sampleLabel :UILabel?, positionIdentifier : String) -&gt; UILabel\n {\n  let rect = sampleLabel!.textRectForBounds(bounds, limitedToNumberOfLines: 0)\n\n  switch positionIdentifier\n  {\n  case \"VerticalAlignmentTop\":\n   sampleLabel!.frame = CGRectMake(bounds.origin.x+5, bounds.origin.y, rect.size.width, rect.size.height)\n   break;\n\n  case \"VerticalAlignmentMiddle\":\n   sampleLabel!.frame = CGRectMake(bounds.origin.x+5,bounds.origin.y + (bounds.size.height - rect.size.height) / 2,\n    rect.size.width, rect.size.height);\n   break;\n\n  case \"VerticalAlignmentBottom\":\n   sampleLabel!.frame = CGRectMake(bounds.origin.x+5, bounds.origin.y + (bounds.size.height - rect.size.height),rect.size.width, rect.size.height);\n   break;\n\n  default:\n   sampleLabel!.frame = bounds;\n   break;\n  }\n  return sampleLabel!\n\n }\n}\n</code></pre>\n\n<p><strong>Usage :</strong> </p>\n\n<pre><code>myMessageLabel.makeLabelTextPosition(messageLabel, positionIdentifier: UILabelTextPositions.VERTICAL_ALIGNMENT_TOP.rawValue)\n</code></pre>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 36276791, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}, {"body": "<p>For those of you with custom table cells attempting to fix this issue, add this to your custom table cell class:</p>\n\n<p><strong>Swift 2.2:</strong></p>\n\n<pre><code>override func layoutSubviews() {\n    labelName.sizeToFit()\n}\n</code></pre>\n\n<p>This solved my issue.</p>\n", "title": "Vertically align text to top within a UILabel", "answer_id": 37804393, "question_id": 1054558, "tags": ["ios", "cocoa-touch", "uikit", "uilabel"]}], "question_id": 1054558}, {"body": "<p>I've used the following script to see if a file exists:</p>\n\n<pre><code>#!/bin/bash\nFILE=$1\n\nif [ -f $FILE ];\nthen\n   echo \"File $FILE exists.\"\nelse\n   echo \"File $FILE does not exist.\"\nfi\n</code></pre>\n\n<p>What's the correct syntax to use if I only want to check if the file does <strong>not</strong> exist?</p>\n\n<pre><code>#!/bin/bash\nFILE=$1\n\nif [ $FILE does not exist ];\nthen\n   echo \"File $FILE does not exist.\"\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "tags": ["bash", "file-io", "scripting"], "answer_count": 15, "link": "http://stackoverflow.com/questions/638975/how-do-i-tell-if-a-regular-file-does-not-exist-in-bash", "answers": [{"body": "<p>The <a href=\"http://man7.org/linux/man-pages/man1/test.1.html\">test</a> command (<code>[</code> here) has a \"not\" logical operator which is the exclamation point (similar to many other languages). Try this:</p>\n\n<pre><code>if [ ! -f /tmp/foo.txt ]; then\n    echo \"File not found!\"\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 638980, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>You can negate an expression with \"!\":</p>\n\n<pre><code>#!/bin/bash\nFILE=$1\n\nif [ ! -f \"$FILE\" ]\nthen\n    echo \"File $FILE does not exists\"\nfi\n</code></pre>\n\n<p>The relevant manpage is <code>man test</code> or, equivalently, <code>man [</code> -- or <code>help test</code> or <code>help [</code> for the built-in bash command.</p>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 638985, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<pre><code>[[ -f $FILE ]] || printf '%s does not exist!\\n' \"$FILE\"\n</code></pre>\n\n<p>Also, it's possible that the file is a broken symbolic link, or a non-regular file, like e.g. a socket, device or fifo. For example, to add a check for broken symlinks:</p>\n\n<pre><code>if [[ ! -f $FILE ]]; then\n    if [[ -L $FILE ]]; then\n        printf '%s is a broken symlink!\\n' \"$FILE\"\n    else\n        printf '%s does not exist!\\n' \"$FILE\"\n    fi\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 638992, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>It's worth mentioning that if you need to execute a single command you can abbreviate</p>\n\n<pre><code>if [ ! -f \"$file\" ]; then\n    echo \"$file\"\nfi\n</code></pre>\n\n<p>to</p>\n\n<pre><code>test -f \"$file\" || echo \"$file\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[ -f \"$file\" ] || echo \"$file\"\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 7023478, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>I prefer to do the following one-liner, in <a href=\"http://en.wikipedia.org/wiki/POSIX\">POSIX</a> shell compatible format:</p>\n\n<pre><code>$ [ -f \"/$DIR/$FILE\" ] || echo \"$FILE NOT FOUND\"\n\n$ [ -f \"/$DIR/$FILE\" ] &amp;&amp; echo \"$FILE FOUND\"\n</code></pre>\n\n<p>For a couple of commands, like I would do in a script:</p>\n\n<pre><code>$  [ -f \"/$DIR/$FILE\" ] || { echo \"$FILE NOT FOUND\" ; exit 1 ;}\n</code></pre>\n\n<p>Once I started doing this, I rarely use the fully typed syntax anymore!!</p>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 7810345, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>You should be careful about running <code>test</code> for an unquoted variable, because it might produce unexpected results:</p>\n\n<pre><code>$ [ -f ]\n$ echo $?\n0\n$ [ -f \"\" ]\n$ echo $?\n1\n</code></pre>\n\n<p>The recommendation is usually to have the tested variable surrounded by double quotation marks:</p>\n\n<pre><code>#!/bin/sh\nFILE=$1\n\nif [ ! -f \"$FILE\" ]\nthen\n   echo \"File $FILE does not exist.\"\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 8993042, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>The <code>test</code> thing may count too. It worked for me (based on <em><a href=\"http://www.cyberciti.biz/faq/unix-linux-test-existence-of-file-in-bash/\" rel=\"nofollow\">Bash Shell: Check File Exists or Not</a></em>):</p>\n\n<pre><code>test -e FILENAME &amp;&amp; echo \"File exists\" || echo \"File doesn't exist\"\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 15729788, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>To reverse a test, use \"!\".\nThat is equivalent to the \"not\" logical operator in other languages. Try this:</p>\n\n<pre><code>if [ ! -f /tmp/foo.txt ];\nthen\n    echo \"File not found!\"\nfi\n</code></pre>\n\n<p>Or written in a slightly different way:</p>\n\n<pre><code>if [ ! -f /tmp/foo.txt ]\n    then echo \"File not found!\"\nfi\n</code></pre>\n\n<p>Or you could use:</p>\n\n<pre><code>if ! [ -f /tmp/foo.txt ]\n    then echo \"File not found!\"\nfi\n</code></pre>\n\n<p>Or, presing all together:</p>\n\n<pre><code>if ! [ -f /tmp/foo.txt ]; then echo \"File not found!\"; fi\n</code></pre>\n\n<p>Which may be written (using then \"and\" operator: &amp;&amp;) as:</p>\n\n<pre><code>[ ! -f /tmp/foo.txt ] &amp;&amp; echo \"File not found!\"\n</code></pre>\n\n<p>Which looks shorter like this:</p>\n\n<pre><code>[ -f /tmp/foo.txt ] || echo \"File not found!\"\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 16379552, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>This shell script also works for finding a file in a directory:</p>\n\n<pre><code>echo \"enter file\"\n\nread -r a\n\nif [ -s /home/trainee02/\"$a\" ]\nthen\n    echo \"yes. file is there.\"\nelse\n    echo \"sorry. file is not there.\"\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 18504216, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>To test file existence, the parameter can be any one of the following:</p>\n\n<pre><code>-e: Returns true value, if file exists\n-f: Return true value, if file exists and regular file\n-r: Return true value, if file exists and is readable\n-w: Return true value, if file exists and is writable\n-x: Return true value, if file exists and is executable\n-d: Return true value, if exists and is a directory\n</code></pre>\n\n<p>Example script,</p>\n\n<pre><code>#!/bin/bash\nFILE=$1\n\nif [ -f \"$FILE\" ];\nthen\n   echo \"File $FILE exists\"\nelse\n   echo \"File $FILE does not exist\"\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 20682162, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p><strong>Bash File Testing</strong></p>\n\n<p><code>-b filename</code> - Block special file<br>\n<code>-c filename</code> - Special character file<br>\n<code>-d directoryname</code> - Check for directory Existence<br>\n<code>-e filename</code> - Check for file existence, regardless of type (node, directory, socket, etc.)<br>\n<code>-f filename</code> - Check for regular file existence not a directory<br>\n<code>-G filename</code> - Check if file exists and is owned by effective group ID<br>\n<code>-G filename set-group-id</code> - True if file exists and is set-group-id<br>\n<code>-k filename</code> - Sticky bit<br>\n<code>-L filename</code> - Symbolic link<br>\n<code>-O filename</code> - True if file exists and is owned by the effective user id<br>\n<code>-r filename</code> - Check if file is a readable<br>\n<code>-S filename</code> - Check if file is socket<br>\n<code>-s filename</code> - Check if file is nonzero size<br>\n<code>-u filename</code> - Check if file set-user-id bit is set<br>\n<code>-w filename</code> - Check if file is writable<br>\n<code>-x filename</code> - Check if file is executable</p>\n\n<p><strong>How to use:</strong></p>\n\n<pre><code>#!/bin/bash\nfile=./file\nif [ -e \"$file\" ]; then\n    echo \"File exists\"\nelse \n    echo \"File does not exist\"\nfi \n</code></pre>\n\n<p>A <em>test expression</em> can be negated by using the <code>!</code> operator</p>\n\n<pre><code>#!/bin/bash\nfile=./file\nif [ ! -e \"$file\" ]; then\n    echo \"File does not exist\"\nelse \n    echo \"File exists\"\nfi \n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 21164441, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>The simplest way </p>\n\n<pre><code>FILE=$1\n[ ! -e \"${FILE}\" ] &amp;&amp; echo \"does not exist\" || echo \"exists\"\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 23775277, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>You can use Bash specific:</p>\n\n<pre><code>[[ ! -f $FILE ]] &amp;&amp; echo \"File doesn't exist\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if [[ ! -f $FILE ]]; then\necho \"File doesn't exist\"\nfi\n</code></pre>\n\n<p>In this case you won't need to quote <code>$FILE</code> to prevent word splitting.</p>\n\n<p>If you want to check for file and folder both, then use <code>-e</code> option instead of <code>-f</code>.</p>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 29928432, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>This code also working .</p>\n\n<pre><code>#!/bin/bash\nFILE=$1\nif [ -f $FILE ]; then\n echo \"File '$FILE' Exists\"\nelse\n echo \"The File '$FILE' Does Not Exist\"\nfi\n</code></pre>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 31202297, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}, {"body": "<p>There are three distinct ways to do this:</p>\n\n<ol>\n<li><p>Negate the exit status with bash (no other answer has said this):</p>\n\n<pre><code>if ! [ -e \"$file\" ]; then\n    echo \"file does not exist\"\nfi\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>! [ -e \"$file\" ] &amp;&amp; echo \"file does not exist\"\n</code></pre></li>\n<li><p>Negate the test inside the test command <code>[</code> (that is the way most answers before have presented):</p>\n\n<pre><code>if [ ! -e \"$file\" ]; then\n    echo \"file does not exist\"\nfi\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>[ ! -e \"$file\" ] &amp;&amp; echo \"file does not exist\"\n</code></pre></li>\n<li><p>Act on the result of the test being negative (<code>||</code> instead of <code>&amp;&amp;</code>):</p>\n\n<p>Only:</p>\n\n<pre><code>[ -e \"$file\" ] || echo \"file does not exist\"\n</code></pre>\n\n<p>This looks silly (IMO), don't use it:</p>\n\n<pre><code>if [ -e \"$file\" ]; then\n    :\nelse\n    echo \"file does not exist\"\nfi\n</code></pre></li>\n</ol>\n", "title": "How do I tell if a regular file does not exist in bash?", "answer_id": 31839836, "question_id": 638975, "tags": ["bash", "file-io", "scripting"]}], "question_id": 638975}, {"body": "<p>Is it possible, using CSS only, to make the <code>background</code> of an element semi-transparent but have the content (text &amp; images) of the element opaque?</p>\n\n<p>I'd like to accomplish this without having the text and the background as two separate elements.</p>\n\n<p>When trying:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>p {\r\n  position: absolute;\r\n  background-color: green;\r\n  filter: alpha(opacity=60);\r\n  opacity: 0.6;\r\n}\r\n\r\nspan {\r\n  color: white;\r\n  filter: alpha(opacity=100);\r\n  opacity: 1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;\r\n  &lt;span&gt;Hello world&lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It looks like child elements are subjected to the opacity of their parents, so <code>opacity:1</code> is relative to the <code>opacity:0.6</code> of the parent.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "tags": ["html", "css", "opacity"], "answer_count": 23, "link": "http://stackoverflow.com/questions/806000/how-do-i-give-text-or-an-image-a-transparent-background-using-css", "answers": [{"body": "<p>The easiest method would be to use a semi-transparent background <strong>PNG image</strong>. </p>\n\n<p>You can use JavaScript to make it work in <code>Internet Explorer 6</code> if you need to.</p>\n\n<p>I use the method outlined in <em><a href=\"http://24ways.org/2007/supersleight-transparent-png-in-ie6\">Transparent PNGs in Internet Explorer 6</a></em>.</p>\n\n<p>Other than that, </p>\n\n<p>you could fake it using <code>two side-by-side sibling elements</code> - make <strong>one semi-transparent</strong>, then <code>absolutely position the other over the top</code>?</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 806044, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p><em><a href=\"http://stackoverflow.com/questions/637921/opacity-of-background-not-text\">Opacity of background, but not the text</a></em> has some ideas. Either use a semi-transparent image, or overlay an additional element.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 806049, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>The problem is, that the text actually HAS full opacity in your example. It has full opacity inside the <code>p</code> tag, but the <code>p</code> tag is just semi-transparent.</p>\n\n<p>You could add an semi-transparent PNG background image instead of realizing it in CSS, or separate text and div into 2 elements and move the text over the box (for example, negative margin).</p>\n\n<p>Otherwise it won't be possible.</p>\n\n<p>EDIT:</p>\n\n<p>Just like Chris mentioned: if you use a PNG file with transparency, you have to use a JavaScript workaround to make it work in the pesky Internet Explorer...</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 806054, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>A while back, I wrote about this in <a href=\"http://www.unintentionallyblank.co.uk/2007/05/07/cross-browser-background-transparency-with-css/\">Cross Browser Background Transparency With CSS</a>. </p>\n\n<p>Bizarrely Internet Explorer 6 will allow you to make the background transparent and keep the text on top fully opaque. For the other browsers I then suggest using a transparent PNG file.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 806186, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>Either use a semi-transparent <a href=\"http://en.wikipedia.org/wiki/Portable_Network_Graphics\">PNG</a> image or use CSS3:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>background-color:rgba(255,0,0,0.5);\n</code></pre>\n\n<p>Here's an article from css3.info, <em><a href=\"http://www.css3.info/opacity_rgba_and_compromise/\">Opacity, RGBA and compromise</a></em> (2007-06-03).</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 806189, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p><strong>It's better to use a semi-transparent <code>.png</code></strong>.</p>\n\n<p>Just open <a href=\"http://en.wikipedia.org/wiki/Adobe_Photoshop\">Photoshop</a>, create a <code>2x2</code> pixel image (<a href=\"http://stackoverflow.com/questions/7764751/ie8-shows-gradient-instead-of-background-image/7765128#7765128\">picking <code>1x1</code> can cause an Internet&nbsp;Explorer bug!</a>), fill it with a green color and set the opacity in \"Layers tab\" to 60%. Then save it and make it a background image:</p>\n\n<pre><code>&lt;p style=\"background: url(green.png);\"&gt;any text&lt;/p&gt;\n</code></pre>\n\n<p>It works cool, of course, except in lovely <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_6\">Internet&nbsp;Explorer&nbsp;6</a>. There are better fixes available, but here's a quick hack:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>p {\n    _filter: expression((runtimeStyle.backgroundImage != 'none') ? runtimeStyle.filter = 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src='+currentStyle.backgroundImage.split('\\\"')[1]+', sizingMethod=scale)' : runtimeStyle.filter,runtimeStyle.backgroundImage = 'none');\n}\n</code></pre>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 808960, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>In Firefox 3 and Safari 3, you can use RGBA like <a href=\"http://stackoverflow.com/questions/806000/css-semi-transparent-background-but-not-text/806189#806189\">Georg Sch\u00f6lly mentioned</a>.</p>\n\n<p>A little known trick is that you can use it in Internet&nbsp;Explorer as well using the gradient filter.</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>background-color: rgba(0, 255, 0, 0.5);\nfilter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr='#7F00FF00', EndColorStr='#7F00FF00');\n</code></pre>\n\n<p>The first hex number defines the alpha value of the color.</p>\n\n<p>Full solution all browsers:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.alpha60 {\n    /* Fallback for web browsers that doesn't support RGBa */\n    background: rgb(0, 0, 0) transparent;\n    /* RGBa with 0.6 opacity */\n    background: rgba(0, 0, 0, 0.6);\n    /* For IE 5.5 - 7*/\n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);\n    /* For IE 8*/\n    -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)\";\n}\n</code></pre>\n\n<p>This is from <em><a href=\"http://robertnyman.com/2010/01/11/css-background-transparency-without-affecting-child-elements-through-rgba-and-filters/\">CSS background transparency without affecting child elements, through RGBa and filters</a></em>.</p>\n\n<h2>Screenshots proof of results:</h2>\n\n<p>This is when using the following code:\n     \n     </p>\n\n<pre><code> &lt;head&gt;\n     &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" &gt;\n    &lt;title&gt;An XHTML 1.0 Strict standard template&lt;/title&gt;\n     &lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\" /&gt;\n    &lt;style type=\"text/css\" media=\"all\"&gt;\n         .transparent-background-with-text-and-images-on-top {\n             background: rgb(0, 0, 0) transparent;   /* Fallback for web browsers that doesn't support RGBa */\n            background: rgba(0, 0, 0, 0.6);   /* RGBa with 0.6 opacity */\n             filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);  /* For IE 5.5 - 7*/\n            -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)\";  /* For IE 8*/\n         }\n     &lt;/style&gt;\n &lt;/head&gt;\n\n &lt;body&gt;\n     &lt;div class=\"transparent-background-with-text-and-images-on-top\"&gt;\n         &lt;p&gt;Here some content (text AND images) \"on top of the transparent background\"&lt;/p&gt;\n        &lt;img src=\"http://i.imgur.com/LnnghmF.gif\"&gt;\n     &lt;/div&gt;\n &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/BgkgK.png\" alt=\"Chrome-33\">\n<img src=\"http://i.stack.imgur.com/KsGgH.png\" alt=\"IE11\">\n<img src=\"http://i.stack.imgur.com/6Zscy.png\" alt=\"IE9\">\n<img src=\"http://i.imgur.com/EyiPD0M.png\" alt=\"IE8\"></p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 891366, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>Here's how I do this (it might not be optimal, but it works):</p>\n\n<p>Create the <code>div</code> that you want to be semi-transparent. Give it a class/id. Leave it EMPTY, and close it. Give it a set height and width (say, 300 pixels by 300 pixels). Give it an opacity of 0.5 or whatever you like, and a background color.</p>\n\n<p>Then, DIRECTLY BELOW that div, create another div with a different class/id. Create a paragraph inside it, where you'll place your text. Give the <code>div</code> position: relative, and top: <code>-295px</code> (that's NEGATIVE 295 pixels). Give it a z-index of 2 for good measure, and make sure its opacity is 1. Style your paragraph as you like, but make sure the dimensions are less than that of the first <code>div</code> so it doesn't overflow.</p>\n\n<p>That's it. Here's the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.trans {\r\n  opacity: 0.5;\r\n  height: 300px;\r\n  width: 300px;\r\n  background-color: orange;\r\n}\r\n.trans2 {\r\n  opacity: 1;\r\n  position: relative;\r\n  top: -295px;\r\n}\r\n.trans2 p {\r\n  width: 295px;\r\n  color: black;\r\n  font-weight: bold;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;div class=\"trans\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"trans2\"&gt;\r\n    &lt;p&gt;\r\n      text text text\r\n    &lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This works in Safari 2.x, I don't know about Internet&nbsp;Explorer.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 1230163, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>For a simple semi-transparent background color, the above solutions (CSS3 or bg images) are the best options. However, want to do something fancier (e.g. animation, multiple backgrounds, etc.), or if you don't want to rely on CSS3, you can try the \u201cpane technique\u201d:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.pane, .pane &gt; .back, .pane &gt; .cont { display: block; }\n\n.pane {\n    position: relative;\n}\n\n.pane &gt; .back {\n    position: absolute;\n    width: 100%; height: 100%;\n    top: auto; bottom: auto; left: auto; right: auto;\n}\n\n.pane &gt; .cont {\n    position: relative;\n    z-index: 10;\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p class=\"pane\"&gt;\n    &lt;span class=\"back\" style=\"background-color: green; opacity: 0.6;\"&gt;&lt;/span&gt;\n    &lt;span class=\"cont\" style=\"color: white;\"&gt;Hello world&lt;/span&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>The technique works by using two \u201clayers\u201d inside of the outer pane element:</p>\n\n<ul>\n<li>one (the \u201cback\u201d) that fits the size of the pane element without affecting the flow of content,</li>\n<li>and one (the \u201ccont\u201d) that contains the content and helps determine the size of the pane.</li>\n</ul>\n\n<p>The <code>position: relative</code> on pane is important; it tells back layer to fit to the pane's size. (If you need the <code>&lt;p&gt;</code> tag to be absolute, change the pane from a <code>&lt;p&gt;</code> to a <code>&lt;span&gt;</code> and wrap all that in a absolutely-position <code>&lt;p&gt;</code> tag.)</p>\n\n<p>The main advantage this technique has over similar ones listed above is that the pane doesn't have to be a specified size; as coded above, it will fit full-width (normal block-element layout) and only as high as the content. The outer pane element can be sized any way you please, as long as it's rectangular (i.e. inline-block will work; plain-old inline will not).</p>\n\n<p>Also, it gives you a lot of freedom for the background; you're free to put really anything in the back element and have it not affect the flow of content (if you want multiple full-size sub-layers, just make sure they also have position: absolute, width/height: 100%, and top/bottom/left/right: auto).</p>\n\n<p>One variation to allow background inset adjustment (via top/bottom/left/right) and/or background pinning (via removing one of the left/right or top/bottom pairs) is to use the following CSS instead:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.pane &gt; .back {\n    position: absolute;\n    width: auto; height: auto;\n    top: 0px; bottom: 0px; left: 0px; right: 0px;\n}\n</code></pre>\n\n<p>As written, this works in Firefox, Safari, Chrome, IE8+, and Opera, although IE7 and IE6 require extra CSS and expressions, IIRC, and last time I checked, the second CSS variation does not work in Opera.</p>\n\n<p>Things to watch out for:</p>\n\n<ul>\n<li>Floating elements inside of the cont layer will not be contained. You'll need to make sure they are cleared or otherwise contained, or they'll slip out of the bottom.</li>\n<li>Margins go on the pane element and padding goes on the cont element. Don't do use the opposite (margins on the cont or padding on the pane) or you'll discover oddities such as the page always being slightly wider than the browser window.</li>\n<li>As mentioned, the whole thing needs to be block or inline-block. Feel free to use <code>&lt;div&gt;</code>s instead of <code>&lt;span&gt;</code>s to simplify your CSS.</li>\n</ul>\n\n<p>A fuller demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.pane, .pane &gt; .back, .pane &gt; .cont { display: block; }\r\n.pane {\r\n\tposition: relative;\r\n\twidth: 175px; height: 100px;\r\n\tmargin: 8px;\r\n}\r\n\r\n.pane &gt; .back {\r\n\tposition: absolute; z-index: 1;\r\n\twidth: auto; height: auto;\r\n\ttop: 8px; bottom: 8px; left: 8px; right: 8px;\r\n}\r\n\r\n.pane &gt; .cont {\r\n\tposition: relative; z-index: 10;\r\n}\r\n\r\n.debug_red { background: rgba(255, 0, 0, 0.5); border: 1px solid rgba(255, 0, 0, 0.75); }\r\n.debug_green { background: rgba(0, 255, 0, 0.5); border: 1px solid rgba(0, 255, 0, 0.75); }\r\n.debug_blue { background: rgba(0, 0, 255, 0.5); border: 1px solid rgba(0, 0, 255, 0.75); }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p class=\"pane debug_blue\" style=\"float: left;\"&gt;\r\n\t&lt;span class=\"back debug_green\"&gt;&lt;/span&gt;\r\n\t&lt;span class=\"cont debug_red\"&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.\r\n\t&lt;/span&gt;\r\n&lt;/p&gt;\r\n&lt;p class=\"pane debug_blue\" style=\"float: left; height: auto;\"&gt;\r\n\t&lt;span class=\"back debug_green\"&gt;&lt;/span&gt;\r\n\t&lt;span class=\"cont debug_red\"&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.\r\n\t&lt;/span&gt;\r\n&lt;/p&gt;\r\n&lt;p class=\"pane debug_blue\" style=\"float: left; display: inline-block; width: auto;\"&gt;\r\n\t&lt;span class=\"back debug_green\"&gt;&lt;/span&gt;\r\n\t&lt;span class=\"cont debug_red\"&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.\r\n\t&lt;/span&gt;\r\n&lt;/p&gt;\r\n&lt;p class=\"pane debug_blue\" style=\"float: left; display: inline-block; width: auto; height: auto;\"&gt;\r\n\t&lt;span class=\"back debug_green\"&gt;&lt;/span&gt;\r\n\t&lt;span class=\"cont debug_red\"&gt;\r\n\t\tPane content.&lt;br/&gt;\r\n\t\tPane content.\r\n\t&lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And here's a <a href=\"http://christmas-card-2009.slippyd.com/?f=s&amp;n=RXhhbXBsZSBmb3IgdGhlIFN0YWNrIE92ZXJmbG93IENvbW11bml0eQ%3D%3D%0A&amp;sn=T3ZlcmZsb3dpYW5z%0A\" rel=\"nofollow\">live demo</a> of the technique being used extensively:</p>\n\n<p><a href=\"http://christmas-card-2009.slippyd.com/?f=s&amp;n=RXhhbXBsZSBmb3IgdGhlIFN0YWNrIE92ZXJmbG93IENvbW11bml0eQ%3D%3D%0A&amp;sn=T3ZlcmZsb3dpYW5z%0A\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/BoDSo.png\" alt=\"christmas-card-2009.slippyd.com screenshot\"></a></p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 2898354, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>This is the best solution I could come up with, NOT using CSS 3. And it works great on Firefox, Chrome and Internet Explorer as far as I can see.</p>\n\n<p>Put a container DIV and two child DIVs in the same level, one for content, one for background.\nAnd using CSS, auto-size the background to fit the content and put the background actually in the back using z-index.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    .container {\r\n      position: relative;\r\n    }\r\n    .content {\r\n      position: relative;\r\n      color: White;\r\n      z-index: 5;\r\n    }\r\n    .background {\r\n      position: absolute;\r\n      top: 0px;\r\n      left: 0px;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: Black;\r\n      z-index: 1;\r\n      /* These three lines are for transparency in all browsers. */\r\n      -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\r\n      filter: alpha(opacity=50);\r\n      opacity: .5;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"content\"&gt;\r\n    Here is the content.\r\n    &lt;br /&gt;Background should grow to fit.\r\n  &lt;/div&gt;\r\n  &lt;div class=\"background\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 3241421, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>Here is a jQuery plugin that will handle everything for you, Transify (<em><a href=\"http://jorenrapini.com/blog/css/transify-a-jquery-plugin-to-easily-apply-transparency-opacity-to-an-elements-background\">Transify - a jQuery plugin to easily apply transparency / opacity to an element\u2019s background</a></em>).</p>\n\n<p>I was running into this problem every now and then, so I decided to write something that would make life a lot easier. The script is less than 2&nbsp;KB and it only requires 1 line of code to get it to work, and it will also handle animating the opacity of the background if you like.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 4015240, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>Almost all these answers assume the designer wants a solid color background. If the designer actually wants a photo as the background the only real solution at the moment is JavaScript like the jQuery Transify plugin <a href=\"http://stackoverflow.com/questions/806000/css-semi-transparent-background-but-not-text/4015240#4015240\">mentioned elsewhere</a>.</p>\n\n<p>What we need to do is join the CSS working group discussion and make them give us a background-opacity attribute! It should work hand in hand with the multiple-backgrounds feature.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 4807149, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>This method allows you to have an image in the background and not only a solid color, and can be used to have transparency on other attributes such as borders. No transparent PNG images are required.</p>\n\n<p>Use <code>:before</code> (or <code>:after</code>) in CSS and give them the opacity value to leave the element at its original opacity. Thus you can use :before to make a faux element and give it the transparent background (or borders) you want and move it behind the content you want to keep opaque with <code>z-index</code>. </p>\n\n<p>An example (<a href=\"http://jsfiddle.net/frozenkoi/6bTEX/\" rel=\"nofollow\">fiddle</a>) (note that the <code>DIV</code> with class <code>dad</code> is just to provide some context and contrast to the colors, this extra element is actually not needed, and the red rectangle is moved a bit down and to the right to leave visible the background behind the <code>fancyBg</code> element):</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"dad\"&gt;\n    &lt;div class=\"fancyBg\"&gt;\n        Test text that should have solid text color lets see if we can manage it without extra elements\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>with this CSS:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.dad {\n    background: lime; border: 1px double black; margin: 1ex 2ex;\n    padding: 0.5ex; position: relative; -k-z-index: 5;\n}\n.fancyBg {\n    border: 1px dashed black; position: relative; color: white; font-weight: bold;\n    z-index: 0; /*background: black;*/\n}\n.fancyBg:before {content:'-'; display: block;\n    position: absolute; background: red; opacity: .5;\n    top: 2ex; right: -2ex; bottom: -2ex; left: 2ex;\n    /*top: 0; right: 0; bottom: 0; left: 0;*/\n    z-index: -1;\n}\n</code></pre>\n\n<p>In this case <code>.fancyBg:before</code> has the CSS properties you want to have with transparency (red background in this example, but can be an image or borders). It's positioned as absolute to move it behind <code>.fancyBg</code> (use values of zero or whatever is more appropriate for your needs).</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 8858972, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p><strong>background-color:rgba(255,0,0,0.5);</strong> as mentioned above is the best answer simply put. To say use CSS3, even in 2013, is not simple because the level of support from various browsers changes with every iteration. </p>\n\n<p>While <code>background-color</code> is supported by all major browsers (not new to CSS3) [1] the alpha transparence can be tricky, especially with Internet Explorer prior to version 9 and with border color on Safari prior to version 5.1. [2]</p>\n\n<p>Using something like <a href=\"http://compass-style.org\" rel=\"nofollow\">Compass</a> or <a href=\"http://sass-lang.com\" rel=\"nofollow\">SASS</a> can really help production and cross platform compatibility.</p>\n\n<hr>\n\n<p>[1] <a href=\"http://www.w3schools.com/cssref/pr_background-color.asp\" rel=\"nofollow\">W3Schools: CSS background-color Property</a></p>\n\n<p>[2] <a href=\"http://www.normansblog.de/demos/browser-support-checklist-css3/\" rel=\"nofollow\">Norman's Blog: Browser Support Checklist CSS3 (October 2012)</a></p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 14223058, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>CSS3 has an easy solution of your problem. Use:</p>\n\n<pre><code>background-color:rgba(0,255,0,0.5);\n</code></pre>\n\n<p>Here, rgba stands for red, green, blue and alpha value. Green value is obtained because of 255 and half transparency is obtained by 0.5 alpha value.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 16659931, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>You can solve this for <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_8\" rel=\"nofollow\">Internet&nbsp;Explorer&nbsp;8</a> by (ab)using the gradient syntax. The color format is ARGB. If you are using the <a href=\"http://en.wikipedia.org/wiki/Sass_%28stylesheet_language%29\" rel=\"nofollow\">Sass</a> preprocessor you can convert colors using the built-in function \"ie-hex-str()\".</p>\n\n<pre><code>background: rgba(0,0,0, 0.5);\n-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#80000000')\";\n</code></pre>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 20426620, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>If you are a <a href=\"http://en.wikipedia.org/wiki/Adobe_Photoshop\" rel=\"nofollow\">Photoshop</a> guy, you can also use:</p>\n\n<pre><code> #some-element {\n  background-color: hsla(170, 50%, 45%, 0.9); // **0.9 is the opacity range from 0 - 1**\n }\n</code></pre>\n\n<h3>Or:</h3>\n\n<pre><code>#some-element {\n  background-color: rgba(170, 190, 45, 0.9); // **0.9 is the opacity range from 0 - 1**\n}\n</code></pre>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 25173318, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>You can use pure <a href=\"https://en.wikipedia.org/wiki/Cascading_Style_Sheets#CSS_3\" rel=\"nofollow\">CSS&nbsp;3</a>: <code>rgba(red, green, blue, alpha)</code>, where <code>alpha</code> is the level of transparency you want. There is no need for JavaScript or jQuery.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>#item-you-want-to-style{\n    background:rgba(192.233, 33, 0.5)\n}\n</code></pre>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 25837090, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>There is a trick to minimize the markup: Use a <strong>pseudo element</strong> as the background and you can set the opacity to it without affecting the main element and its children:</p>\n\n<p><strong><a href=\"http://jsfiddle.net/webtiki/7uw3sa7s/\">DEMO</a></strong></p>\n\n<p>Output:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8lK67.jpg\" alt=\"Background opacity with a pseudo element\"></p>\n\n<p>Relevant code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>p {\r\n  position: relative;\r\n}\r\np:after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #fff;\r\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\r\n  opacity: .6;\r\n  z-index: -1;\r\n}\r\n/*** The following is just for demo styles  ***/\r\n\r\nbody {\r\n  background: url('http://i.imgur.com/k8BtMvj.jpg') no-repeat;\r\n  background-size: cover;\r\n}\r\np {\r\n  width: 50%;\r\n  padding: 1em;\r\n  margin: 10% auto;\r\n  font-family: arial, serif;\r\n  color: #000;\r\n}\r\nimg {\r\n  display: block;\r\n  max-width: 90%;\r\n  margin: .6em auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed a ligula ut nunc dignissim molestie.\r\n  &lt;img src=\"http://i.imgur.com/hPLqUtN.jpg\" alt=\"\" /&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Browser support is <a href=\"http://en.wikipedia.org/wiki/Internet_Explorer_8\">Internet&nbsp;Explorer&nbsp;8</a> and later.</p>\n\n<ul>\n<li><a href=\"http://caniuse.com/#feat=css-gencontent\">pseudo elements</a></li>\n<li><a href=\"http://caniuse.com/#feat=css-opacity\">opacity</a></li>\n</ul>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 26200863, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<pre><code>&lt;div align=\"center\" style=\"width:100%;height:100%;background:white;opacity:0.5;position:absolute;z-index:1001\"&gt;\n    &lt;img id=\"search_img\" style=\"margin-top:20%;\" src=\"../resources/images/loading_small.gif\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/x2ukko7u/\" rel=\"nofollow\">http://jsfiddle.net/x2ukko7u/</a>?</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 26992402, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>There's an easier solution to put an overlay over an image on the same div. It's not the right use of this tool. But works like a charm to make that overlay using CSS.</p>\n\n<p>Use an inset shadow like this:</p>\n\n<pre><code>box-shadow: inset 0 0 0 1000px rgba(255, 255, 255, 0.9);\n</code></pre>\n\n<p>That's all :)</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 27692441, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>If you're using <a href=\"https://en.wikipedia.org/wiki/Less_%28stylesheet_language%29\" rel=\"nofollow\">Less</a>, you can use <code>fade(color, 30%)</code>.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 30613526, "question_id": 806000, "tags": ["html", "css", "opacity"]}, {"body": "<p>In order to make the background of an element semi-transparent but have the content (text &amp; images) of the element opaque. You need to write css code for that image and you have to add one attribute called opacity with minimum value.\ne.g.</p>\n\n<pre><code>.image{\n   position: relative;\n   background-color: cyan;\n  opacity: 0.7;\n}\n</code></pre>\n\n<p>// lesser the value more will be transparency,  ore the value less will be transparency.</p>\n", "title": "How do I give text or an image a transparent background using CSS?", "answer_id": 37614038, "question_id": 806000, "tags": ["html", "css", "opacity"]}], "question_id": 806000}, {"body": "<p>How do I convert a <code>string</code> to a <code>byte[]</code> in .NET (C#) without manually specifying a specific encoding?</p>\n\n<p>I'm going to encrypt the string. I can encrypt it without converting but I'd still like to know why encoding comes to play here. Just give me the bytes is what I say.</p>\n\n<p>Also, why should encoding be taken into consideration? Can't I simply get what bytes the string has been stored in? Why is there a dependency on character encodings?</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "tags": ["c#", ".net", "string"], "answer_count": 35, "link": "http://stackoverflow.com/questions/472906/how-to-get-a-consistent-byte-representation-of-strings-in-c-without-manually-sp", "answers": [{"body": "<pre><code>byte[] strToByteArray(string str)\n{\n    System.Text.ASCIIEncoding enc = new System.Text.ASCIIEncoding();\n    return enc.GetBytes(str);\n}\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 472916, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>It depends on the encoding of your string (<a href=\"http://en.wikipedia.org/wiki/ASCII\">ASCII</a>, <a href=\"http://en.wikipedia.org/wiki/UTF-8\">UTF-8</a>, ...).</p>\n\n<p>For example:</p>\n\n<pre><code>byte[] b1 = System.Text.Encoding.UTF8.GetBytes (myString);\nbyte[] b2 = System.Text.Encoding.ASCII.GetBytes (myString);\n</code></pre>\n\n<p>A small sample why encoding matters:</p>\n\n<pre><code>string pi = \"\\u03a0\";\nbyte[] ascii = System.Text.Encoding.ASCII.GetBytes (pi);\nbyte[] utf8 = System.Text.Encoding.UTF8.GetBytes (pi);\n\nConsole.WriteLine (ascii.Length); //Will print 1\nConsole.WriteLine (utf8.Length); //Will print 2\nConsole.WriteLine (System.Text.Encoding.ASCII.GetString (ascii)); //Will print '?'\n</code></pre>\n\n<p>ASCII simply isn't equipped to deal with special characters.</p>\n\n<p>Internally, the .NET framework uses <a href=\"https://en.wikipedia.org/wiki/UTF-16\">UTF-16</a> to represent strings, so if you simply want to get the exact bytes that .NET uses, use <code>System.Text.Encoding.Unicode.GetBytes (...)</code>.</p>\n\n<p>See <em><a href=\"http://msdn.microsoft.com/en-us/library/ms404377.aspx\">Character Encoding in the .NET Framework</a></em> (MSDN) for more information.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 472918, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<pre><code>// C# to convert a string to a byte array.\npublic static byte[] StrToByteArray(string str)\n{\n    System.Text.ASCIIEncoding  encoding=new System.Text.ASCIIEncoding();\n    return encoding.GetBytes(str);\n}\n\n\n// C# to convert a byte array to a string.\nbyte [] dBytes = ...\nstring str;\nSystem.Text.ASCIIEncoding enc = new System.Text.ASCIIEncoding();\nstr = enc.GetString(dBytes);\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 472920, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>You need to take the encoding into account, because 1 character could be represented by 1 <strong>or more</strong> bytes (up to about 6), and different encodings will treat these bytes differently.</p>\n\n<p>Joel has a posting on this:</p>\n\n<blockquote>\n  <p><a href=\"http://www.joelonsoftware.com/articles/Unicode.html\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a></p>\n</blockquote>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 472986, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>The key issue is that a glyph in a string takes 32 bits (16 bits for a character code) but a byte only has 8 bits to spare.  A one-to-one mapping doesn't exist unless you restrict yourself to strings that only contain ASCII characters.  System.Text.Encoding has lots of ways to map a string to byte[], you need to pick one that avoids loss of information and that is easy to use by your client when she needs to map the byte[] back to a string.</p>\n\n<p>Utf8 is a popular encoding, it is compact and not lossy.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 473021, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>I'm not sure, but I think the string stores its info as an array of Chars, which is inefficient with bytes.  Specifically, the definition of a Char is \"Represents a Unicode character\".</p>\n\n<p>take this example sample:</p>\n\n<pre><code>String str = \"asdf \u00e9\u00df\";\nString str2 = \"asdf gh\";\nEncodingInfo[] info =  Encoding.GetEncodings();\nforeach (EncodingInfo enc in info)\n{\n    System.Console.WriteLine(enc.Name + \" - \" \n      + enc.GetEncoding().GetByteCount(str)\n      + enc.GetEncoding().GetByteCount(str2));\n}\n</code></pre>\n\n<p>Take note that the Unicode answer is 14 bytes in both instances, whereas the UTF-8 answer is only 9 bytes for the first, and only 7 for the second.</p>\n\n<p>So if you just want the bytes used by the string, simply use <code>Encoding.Unicode</code>, but it will be inefficient with storage space.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 473089, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>The first part of your question (how to get the bytes) was already answered by others: look in the <code>System.Text.Encoding</code> namespace.</p>\n\n<p>I will address your follow-up question: why do you need to pick an encoding?  Why can't you get that from the string class itself?</p>\n\n<p>The answer is that the bytes used internally by the string class <em>don't matter</em>, and whenever you assume you're do you're likely introducing a bug.  </p>\n\n<p>If your program is entirely within the .Net world then you don't need to worry about getting byte arrays for strings at all, even if you're sending data across a network.  Instead, use .Net Serialization to worry about transmitting the data.  You don't worry about the actual bytes any more: the Serialization formatter does it for you.</p>\n\n<p>On the other hand, what if you are sending these bytes somewhere that you can't guarantee will pull in data from a .Net serialized stream?  In this case you definitely do need to worry about encoding, because obviously this external system cares.  So again, the internal bytes used by the string don't matter: you need to pick an encoding so you can be explicit about this encoding on the receiving end.  </p>\n\n<p>I understand that in this case you might prefer to use the actual bytes stored by the string variable in memory where possible, with the idea that it might save some work creating your byte stream.  But that's just not important compared to making sure that your output is understood at the other end, and to guarantee that you <em>must</em> be explicit with your encoding.  If you really want to match your internal bytes, just use the <code>Unicode</code> encoding.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 473419, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<pre><code>BinaryFormatter bf = new BinaryFormatter();\nbyte[] bytes;\nMemoryStream ms = new MemoryStream();\n\nstring orig = \"\u5582 Hello \u8c22\u8c22 Thank You\";\nbf.Serialize(ms, orig);\nms.Seek(0, 0);\nbytes = ms.ToArray();\n\nMessageBox.Show(\"Original bytes Length: \" + bytes.Length.ToString());\n\nMessageBox.Show(\"Original string Length: \" + orig.Length.ToString());\n\nfor (int i = 0; i &lt; bytes.Length; ++i) bytes[i] ^= 168; // pseudo encrypt\nfor (int i = 0; i &lt; bytes.Length; ++i) bytes[i] ^= 168; // pseudo decrypt\n\nBinaryFormatter bfx = new BinaryFormatter();\nMemoryStream msx = new MemoryStream();            \nmsx.Write(bytes, 0, bytes.Length);\nmsx.Seek(0, 0);\nstring sx = (string)bfx.Deserialize(msx);\n\nMessageBox.Show(\"Still intact :\" + sx);\n\nMessageBox.Show(\"Deserialize string Length(still intact): \" \n    + sx.Length.ToString());\n\nBinaryFormatter bfy = new BinaryFormatter();\nMemoryStream msy = new MemoryStream();\nbfy.Serialize(msy, sx);\nmsy.Seek(0, 0);\nbyte[] bytesy = msy.ToArray();\n\nMessageBox.Show(\"Deserialize bytes Length(still intact): \" \n   + bytesy.Length.ToString());\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 473574, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Two ways:</p>\n\n<pre><code>public static byte[] StrToByteArray(this string s)\n{\n    List&lt;byte&gt; value = new List&lt;byte&gt;();\n    foreach (char c in s.ToCharArray())\n        value.Add(c.ToByte());\n    return value.ToArray();\n}\n</code></pre>\n\n<p>And,</p>\n\n<pre><code>public static byte[] StrToByteArray(this string s)\n{\n    s = s.Replace(\" \", string.Empty);\n    byte[] buffer = new byte[s.Length / 2];\n    for (int i = 0; i &lt; s.Length; i += 2)\n        buffer[i / 2] = (byte)Convert.ToByte(s.Substring(i, 2), 16);\n    return buffer;\n}\n</code></pre>\n\n<p>I tend to use the bottom one more often than the top, haven't benchmarked them for speed.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 567144, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<blockquote>\n  <p>Also please explain why encoding should be taken into consideration. \n  Can't I simply get what bytes the string has been stored in?\n  Why this dependency on encoding?!!!</p>\n</blockquote>\n\n<p>Because there is no such thing as \"the bytes of the string\".</p>\n\n<p>A string (or more generically, a text) is composed of characters: letters, digits, and other symbols. That's all. Computers, however, do not know anything about characters; they can only handle bytes. Therefore, if you want to store or transmit text by using a computer, you need to transform the characters to bytes. How do you do that? Here's where encodings come to the scene.</p>\n\n<p>An encoding is nothing but a convention to translate logical characters to physical bytes. The simplest and best known encoding is ASCII, and it is all you need if you write in English. For other languages you will need more complete encodings, being any of the Unicode flavours the safest choice nowadays.</p>\n\n<p>So, in short, trying to \"get the bytes of a string without using encodings\" is as impossible as \"writing a text without using any language\".</p>\n\n<p>By the way, I strongly recommend you (and anyone, for that matter) to read this small piece of wisdom: <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a></p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 1137016, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p><strong>Fastest way</strong></p>\n\n<pre><code>public static byte[] GetBytes(string text)\n{\n    return System.Text.ASCIIEncoding.UTF8.GetBytes(text);\n}\n</code></pre>\n\n<p><strong><em>EDIT</em></strong>\nas Makotosan commented this is now the best way:</p>\n\n<pre><code>Encoding.UTF8.GetBytes(text)\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 2490821, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Well, I've read all answers and they were about using encoding or one about serialization that drops unpaired surrogates.</p>\n\n<p>It's bad when the string, for example, comes from <a href=\"http://en.wikipedia.org/wiki/Microsoft_SQL_Server\">SQL Server</a> where it was built from a byte array storing, for example, a password hash. If we drop anything from it, it'll store an invalid hash, and if we want to store it in XML, we want to leave it intact (because the XML writer drops an exception on any unpaired surrogate it finds).</p>\n\n<p>So I use <a href=\"http://en.wikipedia.org/wiki/Base64\">Base64</a> encoding of byte arrays in such cases, but hey, on the Internet there is only one solution to this in C#, and it has bug in it and is only one way, so I've fixed the bug and written back procedure. Here you are, future googlers:</p>\n\n<pre><code>    public static byte[] StringToBytes(string str)\n    {\n        byte[] data = new byte[str.Length * 2];\n        for (int i = 0; i &lt; str.Length; ++i)\n        {\n            char ch = str[i];\n            data[i * 2] = (byte)(ch &amp; 0xFF);\n            data[i * 2 + 1] = (byte)((ch &amp; 0xFF00) &gt;&gt; 8);\n        }\n\n        return data;\n    }\n\n    public static string StringFromBytes(byte[] arr)\n    {\n        char[] ch = new char[arr.Length / 2];\n        for (int i = 0; i &lt; ch.Length; ++i)\n        {\n            ch[i] = (char)((int)arr[i * 2] + (((int)arr[i * 2 + 1]) &lt;&lt; 8));\n        }\n        return new String(ch);\n    }\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 5257372, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Try this, a lot less code:</p>\n\n<pre><code>System.Text.Encoding.UTF8.GetBytes(\"TEST String\");\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 6823361, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<pre><code>bytes[] buffer = UnicodeEncoding.UTF8.GetBytes(string something); //for converting to UTF then get its bytes\n\nbytes[] buffer = ASCIIEncoding.ASCII.GetBytes(string something); //for converting to ascii then get its bytes\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 8700085, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>The accepted answer is very, very complicated. Use the included .NET classes for this:</p>\n\n<pre><code>const string data = \"A string with international characters: Norwegian: \u00c6\u00d8\u00c5\u00e6\u00f8\u00e5, Chinese: \u5582 \u8c22\u8c22\";\nvar bytes = System.Text.Encoding.UTF8.GetBytes(data);\nvar decoded = System.Text.Encoding.UTF8.GetString(bytes);\n</code></pre>\n\n<p>Don't reinvent the wheel if you don't have to...</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 10379957, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<h2>Contrary to the answers here, you DON'T need to worry about encoding <strong><em>if</em></strong> the bytes don't need to be interpreted!</h2>\n\n<p>Like you mentioned, your goal is, simply, to <em>\"get what bytes the string has been stored in\"</em>.<br>\n(And, of course, to be able to re-construct the string from the bytes.)</p>\n\n<h3>For those goals, I honestly do <em>not</em> understand why people keep telling you that you need the encodings. You certainly do NOT need to worry about encodings for this.</h3>\n\n<p>Just do this instead:</p>\n\n<pre><code>static byte[] GetBytes(string str)\n{\n    byte[] bytes = new byte[str.Length * sizeof(char)];\n    System.Buffer.BlockCopy(str.ToCharArray(), 0, bytes, 0, bytes.Length);\n    return bytes;\n}\n\nstatic string GetString(byte[] bytes)\n{\n    char[] chars = new char[bytes.Length / sizeof(char)];\n    System.Buffer.BlockCopy(bytes, 0, chars, 0, bytes.Length);\n    return new string(chars);\n}\n</code></pre>\n\n<p>As long as your program (or other programs) don't try to <em>interpret</em> the bytes somehow, which you obviously didn't mention you intend to do, then there is <strong>nothing</strong> wrong with this approach! Worrying about encodings just makes your life more complicated for no real reason.</p>\n\n<h2>Additional benefit to this approach:</h2>\n\n<h3>It doesn't matter if the string contains invalid characters, because you can still get the data and reconstruct the original string anyway!</h3>\n\n<p>It will be encoded and decoded just the same, because you are <em>just looking at the bytes</em>.</p>\n\n<p>If you used a specific encoding, though, it would've given you trouble with encoding/decoding invalid characters.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 10380166, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Just to demonstrate that Mehrdrad's sound <a href=\"http://stackoverflow.com/a/10380166\">answer</a> works, his approach can even persist the <a href=\"http://msdn.microsoft.com/en-us/library/system.runtime.serialization.formatters.binary.binaryformatter%28v=VS.100%29.aspx\">unpaired surrogate characters</a>(of which many had leveled against my answer, but of which everyone are equally guilty of, e.g. <code>System.Text.Encoding.UTF8.GetBytes</code>, <code>System.Text.Encoding.Unicode.GetBytes</code>; those encoding methods can't persist the high surrogate characters <code>d800</code> for example, and those just merely replace high surrogate characters with value <code>fffd</code> ) :</p>\n\n<pre><code>using System;\n\nclass Program\n{     \n    static void Main(string[] args)\n    {\n        string t = \"\u7231\u866b\";            \n        string s = \"Test\\ud800Test\"; \n\n        byte[] dumpToBytes = GetBytes(s);\n        string getItBack = GetString(dumpToBytes);\n\n        foreach (char item in getItBack)\n        {\n            Console.WriteLine(\"{0} {1}\", item, ((ushort)item).ToString(\"x\"));\n        }    \n    }\n\n    static byte[] GetBytes(string str)\n    {\n        byte[] bytes = new byte[str.Length * sizeof(char)];\n        System.Buffer.BlockCopy(str.ToCharArray(), 0, bytes, 0, bytes.Length);\n        return bytes;\n    }\n\n    static string GetString(byte[] bytes)\n    {\n        char[] chars = new char[bytes.Length / sizeof(char)];\n        System.Buffer.BlockCopy(bytes, 0, chars, 0, bytes.Length);\n        return new string(chars);\n    }        \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>T 54\ne 65\ns 73\nt 74\n? d800\nT 54\ne 65\ns 73\nt 74\n</code></pre>\n\n<p>Try that with <strong>System.Text.Encoding.UTF8.GetBytes</strong> or <strong>System.Text.Encoding.Unicode.GetBytes</strong>, they will merely replace high surrogate characters with value <strong>fffd</strong></p>\n\n<p>Every time there's a movement in this question, I'm still thinking of a serializer(be it from Microsoft or from 3rd party component) that can persist strings even it contains unpaired surrogate characters; I google this every now and then: <strong>serialization unpaired surrogate character .NET</strong>. This doesn't make me lose any sleep, but it's kind of annoying when every  now and then there's somebody commenting on my answer that it's flawed, yet their answers are equally flawed when it comes to unpaired surrogate characters.</p>\n\n<p>Darn, Microsoft should have just used <code>System.Buffer.BlockCopy</code> in its <code>BinaryFormatter</code> \u30c4</p>\n\n<p>\u8c22\u8c22\uff01</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 10384024, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p><strong>simple code with LINQ</strong></p>\n\n<pre><code>string s = \"abc\"\nbyte[] b = s.Select(e =&gt; (byte)e).ToArray();\n</code></pre>\n\n<p>EDIT : as commented below, it is not a good way.</p>\n\n<p>but you can still use it to understand LINQ with a more appropriate coding :</p>\n\n<pre><code>string s = \"abc\"\nbyte[] b = s.Cast&lt;byte&gt;().ToArray();\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 12836711, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Here is my unsafe implementation of <code>String</code> to <code>Byte[]</code> conversion:</p>\n\n<pre><code>public static unsafe Byte[] GetBytes(String s)\n{\n    Int32 length = s.Length * sizeof(Char);\n    Byte[] bytes = new Byte[length];\n\n    fixed (Char* pInput = s)\n    fixed (Byte* pBytes = bytes)\n    {\n        Byte* source = (Byte*)pInput;\n        Byte* destination = pBytes;\n\n        if (length &gt;= 16)\n        {\n            do\n            {\n                *((Int64*)destination) = *((Int64*)source);\n                *((Int64*)(destination + 8)) = *((Int64*)(source + 8));\n\n                source += 16;\n                destination += 16;\n            }\n            while ((length -= 16) &gt;= 16);\n        }\n\n        if (length &gt; 0)\n        {\n            if ((length &amp; 8) != 0)\n            {\n                *((Int64*)destination) = *((Int64*)source);\n\n                source += 8;\n                destination += 8;\n            }\n\n            if ((length &amp; 4) != 0)\n            {\n                *((Int32*)destination) = *((Int32*)source);\n\n                source += 4;\n                destination += 4;\n            }\n\n            if ((length &amp; 2) != 0)\n            {\n                *((Int16*)destination) = *((Int16*)source);\n\n                source += 2;\n                destination += 2;\n            }\n\n            if ((length &amp; 1) != 0)\n            {\n                ++source;\n                ++destination;\n\n                destination[0] = source[0];\n            }\n        }\n    }\n\n    return bytes;\n}\n</code></pre>\n\n<p>It's way faster than the accepted anwser's one, even if not as elegant as it is.\nHere are my Stopwatch benchmarks over 10000000 iterations:</p>\n\n<pre><code>[Second String: Length 20]\nBuffer.BlockCopy: 746ms\nUnsafe: 557ms\n\n[Second String: Length 50]\nBuffer.BlockCopy: 861ms\nUnsafe: 753ms\n\n[Third String: Length 100]\nBuffer.BlockCopy: 1250ms\nUnsafe: 1063ms\n</code></pre>\n\n<p>In order to use it, you have to tick \"Allow Unsafe Code\" in your project build properties.\nAs per .NET Framework 3.5, this method can also be used as String extension:</p>\n\n<pre><code>public static unsafe class StringExtensions\n{\n    public static Byte[] ToByteArray(this String s)\n    {\n        // Method Code\n    }\n}\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 14336974, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Here is the code:</p>\n\n<pre><code>// Input string.\nconst string input = \"Dot Net Perls\";\n\n// Invoke GetBytes method.\n// ... You can store this array as a field!\nbyte[] array = Encoding.ASCII.GetBytes(input);\n\n// Loop through contents of the array.\nforeach (byte element in array)\n{\n    Console.WriteLine(\"{0} = {1}\", element, (char)element);\n}\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 14473639, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>C# to convert a <code>string</code> to a <code>byte</code> array:</p>\n\n<pre><code>public static byte[] StrToByteArray(string str)\n{\n   System.Text.UTF8Encoding  encoding=new System.Text.UTF8Encoding();\n   return encoding.GetBytes(str);\n}\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 16938005, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>You can use following code to convert a <code>string</code> to a <code>byte array</code> in .NET</p>\n\n<pre><code>string s_unicode = \"abc\u00e9abc\";\nbyte[] utf8Bytes = System.Text.Encoding.UTF8.GetBytes(s_unicode);\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 18572027, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>OP's question: \"How do I convert a <code>string</code> to a <code>byte</code> array in .NET (C#)?\" [sic]</p>\n\n<p>You can use the following code:</p>\n\n<pre><code>static byte[] ConvertString (string s) {\n    return new byte[0];\n}\n</code></pre>\n\n<p>As a benefit, encoding does not matter! Oh wait, this is an ecoding... it's just trivial and highly lossy.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 19061567, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<pre><code>    string text = \"string\";\n    byte[] array = System.Text.Encoding.UTF8.GetBytes(text);\n</code></pre>\n\n<p>the result is:</p>\n\n<pre><code>[0] = 115\n[1] = 116\n[2] = 114\n[3] = 105\n[4] = 110\n[5] = 103\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 19518529, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>This is a popular question. It is important to understand what the question author is asking, and that it is different from what is likely the most common need. To discourage misuse of the code where it is not needed, I've answered the later first.</p>\n\n<h1>Common Need</h1>\n\n<p>Every string has a character set and encoding. When you convert a <code>System.String</code> object to an array of <code>System.Byte</code> you still have a character set and encoding. <strong>For most usages, you'd know which character set and encoding you need and .NET makes it simple to \"copy with conversion.\"</strong> Just choose the appropriate <code>Encoding</code> class.</p>\n\n<pre><code>// using System.Text;\nEncoding.UTF8.GetBytes(\".NET String to byte array\")\n</code></pre>\n\n<p>The conversion may need to handle cases where the target character set or encoding doesn't support a character that's in the source. You have some choices: exception, substitution or skipping. The default policy is to substitute a '?'. </p>\n\n<pre><code>// using System.Text;\nvar text = Encoding.ASCII.GetString(Encoding.ASCII.GetBytes(\"You win \u20ac100\")); \n                                                      // -&gt; \"You win ?100\"\n</code></pre>\n\n<p>Clearly, conversions are not necessarily lossless!</p>\n\n<p>Note: For <code>System.String</code> the source character set is Unicode. </p>\n\n<p>The only confusing thing is that .NET uses the name of a character set for the name of one particular encoding of that character set. <code>Encoding.Unicode</code> should be called <code>Encoding.UTF16</code>.</p>\n\n<p><em>That's it for most usages. If that's what you need, stop reading here.</em> See the fun <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\">Joel Spolsky article</a> if you don't understand what an encoding is.</p>\n\n<h1>Specific Need</h1>\n\n<p>Now, the question author asks, \"Every string is stored as an array of bytes, right? Why can't I simply have those bytes?\"</p>\n\n<p>He doesn't want any conversion. </p>\n\n<p>From the <a href=\"http://www.microsoft.com/en-us/download/confirmation.aspx?id=7029\">C# spec</a>:</p>\n\n<blockquote>\n  <p>Character and string processing in C# uses Unicode encoding. The char\n  type represents a UTF-16 code unit, and the string type represents a\n  sequence of UTF-16 code units.</p>\n</blockquote>\n\n<p>So, we know that if we ask for the null conversion (i.e., from UTF-16 to UTF-16), we'll get the desired result:</p>\n\n<pre><code>Encoding.Unicode.GetBytes(\".NET String to byte array\")\n</code></pre>\n\n<p>But to avoid the mention of encodings, we must do it another way. If an intermediate data type is acceptable, there is a conceptual shortcut for this:</p>\n\n<pre><code>\".NET String to byte array\".ToCharArray()\n</code></pre>\n\n<p>That doesn't get us the desired datatype but <a href=\"http://stackoverflow.com/a/10380166/2226988\">Mehrdad's answer</a> shows how to convert this Char array to a Byte array using <a href=\"http://msdn.microsoft.com/en-us/library/system.buffer.blockcopy%28v=vs.110%29.aspx\">BlockCopy</a>. However, this copies the string twice! And, it too explicitly uses encoding-specific code: the datatype <code>System.Char</code>.</p>\n\n<p>The only way to get to the actual bytes the String is stored in is to use a pointer. The <code>fixed</code> statement allows taking the address of values. From the C# spec:</p>\n\n<blockquote>\n  <p>[For] an expression of type string, ... the initializer computes the\n  address of the first character in the string.</p>\n</blockquote>\n\n<p>To do so, the compiler writes code skip over the other parts of the string object with <code>RuntimeHelpers.OffsetToStringData</code>. So, to get the raw bytes, just create a pointer to the string and copy the number of bytes needed.</p>\n\n<pre><code>// using System.Runtime.InteropServices\nunsafe byte[] GetRawBytes(String s)\n{\n    if (s == null) return null;\n    var codeunitCount = s.Length;\n    /* We know that String is a sequence of UTF-16 codeunits \n       and such codeunits are 2 bytes */\n    var byteCount = codeunitCount * 2; \n    var bytes = new byte[byteCount];\n    fixed(void* pRaw = s)\n    {\n        Marshal.Copy((IntPtr)pRaw, bytes, 0, byteCount);\n    }\n    return bytes;\n}\n</code></pre>\n\n<p>As @CodesInChaos pointed out, the result depends on the endianness of the machine. But the question author is not concerned with that.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 20321003, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<pre><code>string s = \"abcdefghijklmnopqrstuvwxyz\";\nbyte[] b = new System.Text.UTF32Encoding().GetBytes(s); \n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 22962834, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>String can be converted do byte array in few different ways, due to the following fact: .NET supports Unicode, and Unicode standardizes several difference encodings called UTFs. They have different lengths of byte representation but are equivalent in that sense that when a string is encoded, it can be coded back to the string, but if the string is encoded with one UTF and decoded in assumption of different UTF, if can be screwed up.</p>\n\n<p>Also, .NET supports non-Unicode encodings, but they are not valid in general case (will be valid only if a limited sub-set of Unicode code point is used in an actual string, such as ASCII). Internally, .NET supports UTF-16, but for stream representation UTF-8 is usually used. It is also a standard-de-facto for Internet.</p>\n\n<p>Not surprisingly, serialization of string into array of byte and deserialization is supported by the class <code>System.Text.Encoding</code>, which is an abstract class; its derived classes support concrete encodings: <code>ASCIIEncoding</code> and four UTFs (`System.Text.UnicodeEncoding' supports UTF-16)</p>\n\n<p>Ref: <a href=\"http://msdn.microsoft.com/en-us/library/system.text.encoding.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/system.text.encoding.aspx</a></p>\n\n<p>For serialization to array of bytes use <code>System.Text.Encoding.GetBytes</code>. For the inverse operation use S<code>ystem.Text.Encoding.GetChars</code>. This function returns array of characters, so to get a string, use a string constructor <code>System.String(char[])</code>.\nRef: <a href=\"http://unicode.org/\" rel=\"nofollow\">http://unicode.org/</a>, <a href=\"http://unicode.org/faq/utf_bom.html\" rel=\"nofollow\">http://unicode.org/faq/utf_bom.html</a></p>\n\n<p>Example:</p>\n\n<pre><code>string myString = //... some string\n\nSystem.Text.Encoding encoding = System.Text.Encoding.UTF8; //or some other, but prefer some UTF is Unicode is used\nbyte[] bytes = encoding.GetBytes(myString);\n\n//next lines are written in response to a follow-up questions:\n\nmyString = new string(encoding.GetChars(bytes));\nbyte[] bytes = encoding.GetBytes(myString);\nmyString = new string(encoding.GetChars(bytes));\nbyte[] bytes = encoding.GetBytes(myString);\n\n//how many times shall I repeat it to show there is a round-trip? :-)\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 24161793, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>A character is both a lookup key into a font table and a lexical tradition such as ordering, upper and lower case versions, etc. </p>\n\n<p>Consequently, a character is not a byte (8-bits) and a byte is not a character. In particular, the 256 permutations of a byte cannot accommodate the thousands of symbols within some written languages, much less all languages. Hence, various methods for encoding characters have been devised. Some encode for a particular class of languages (ASCII encoding); multiple languages using code pages (Extended ASCII); or, ambitiously, all languages by selectively including additional bytes as needed, Unicode. </p>\n\n<p>Within a system, such as the .Net framework, a String implies a particular character encoding. In .Net this encoding is Unicode. Since the framework reads and writes Unicode by default, dealing with character encoding is typically not necessary in .NET.</p>\n\n<p>However, in general, to load a character string into the system from a byte stream you need to know the source encoding to therefore interpret and subsequently translate it correctly (otherwise the codes will be taken as already being in the system's default encoding and thus render gibberish). Similarly, when a string is written to an external source, it will be written in a particular encoding.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 25553434, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>You can use the following code for conversion between string and byte array.</p>\n\n<pre><code>string s = \"Hello World\";\n\n// String to Byte[]\n\nbyte[] byte1 = System.Text.Encoding.Default.GetBytes(s);\n\n// OR\n\nbyte[] byte2 = System.Text.ASCIIEncoding.Default.GetBytes(s);\n\n// Byte[] to string\n\nstring str = System.Text.Encoding.UTF8.GetString(byte1);\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 25743533, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>If you really want a copy of the underlying bytes of a string, you can use a function like the one that follows. <strong>However, you shouldn't</strong> please read on to find out why.</p>\n\n<pre><code>[DllImport(\n        \"msvcrt.dll\",\n        EntryPoint = \"memcpy\",\n        CallingConvention = CallingConvention.Cdecl,\n        SetLastError = false)]\nprivate static extern unsafe void* UnsafeMemoryCopy(\n    void* destination,\n    void* source,\n    uint count);\n\npublic static byte[] GetUnderlyingBytes(string source)\n{\n    var length = source.Length * sizeof(char);\n    var result = new byte[length];\n    unsafe\n    {\n        fixed (char* firstSourceChar = source)\n        fixed (byte* firstDestination = result)\n        {\n            var firstSource = (byte*)firstSourceChar;\n            UnsafeMemoryCopy(\n                firstDestination,\n                firstSource,\n                (uint)length);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>This function will get you a copy of the bytes underlying your string, pretty quickly. You'll get those bytes in whatever way they are encoding on your system. This encoding is almost certainly UTF-16LE but that is an implementation detail you shouldn't have to care about.</p>\n\n<p>It would be <strong>safer, simpler and more reliable</strong> to just call,</p>\n\n<pre><code>System.Text.Encoding.Unicode.GetBytes()\n</code></pre>\n\n<p>In all likelihood this will give the same result, is easier to type, and the bytes will always round-trip with a call to</p>\n\n<pre><code>System.Text.Encoding.Unicode.GetString()\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 27124232, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>from <code>byte[]</code> to <code>string</code>:</p>\n\n<pre><code>        return BitConverter.ToString(bytes);\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 28069163, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>Simply use this: </p>\n\n<pre><code>byte[] myByte= System.Text.ASCIIEncoding.Default.GetBytes(myString);\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 31141325, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>The closest approach to the OP's question is Tom Blodget's, which actually goes into the object and extracts the bytes.  I say closest because it depends on implementation of the String Object.</p>\n\n<pre><code>\"Can't I simply get what bytes the string has been stored in?\"\n</code></pre>\n\n<p>Sure, but that's where the fundamental error in the question arises.  The String is an object which could have an interesting data structure.  We already know it does, because it allows unpaired surrogates to be stored.  It might store the length.  It might keep a pointer to each of the 'paired' surrogates allowing quick counting.  Etc.  All of these extra bytes are not part of the character data.</p>\n\n<p>What you want is each character's bytes in an array.  And that is where 'encoding' comes in.  By default you will get UTF-16LE.  If you don't care about the bytes themselves except for the round trip then you can choose any encoding including the 'default', and convert it back later (assuming the same parameters such as what the default encoding was, code points, bug fixes, things allowed such as unpaired surrogates, etc.</p>\n\n<p>But why leave the 'encoding' up to magic?  Why not specify the encoding so that you know what bytes you are gonna get?</p>\n\n<pre><code>\"Why is there a dependency on character encodings?\"\n</code></pre>\n\n<p>Encoding (in this context) simply means the bytes that represent your string.  Not the bytes of the string object.  You wanted the bytes the string has been stored in -- this is where the question was asked naively.  You wanted the bytes of string in a contiguous array that represent the string, and not all of the other binary data that a string object may contain.</p>\n\n<p>Which means how a string is stored is irrelevant.  You want a string \"Encoded\" into bytes in a byte array.</p>\n\n<p>I like Tom Bloget's answer because he took you towards the 'bytes of the string object' direction.  It's implementation dependent though, and because he's peeking at internals it might be difficult to reconstitute a copy of the string.</p>\n\n<p>Mehrdad's response is wrong because it is misleading at the conceptual level.  You still have a list of bytes, encoded.  His particular solution allows for unpaired surrogates to be preserved -- this is implementation dependent.  His particular solution would not produce the string's bytes accurately if <code>GetBytes</code> returned the string in UTF-8 by default.</p>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 32078512, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>I had to convert a string to a byte array for a serial communication project - I had to handle 8-bit characters, and I was unable to find a method using the framework converters to do so that didn't either add two-byte entries or mis-translate the bytes with the eighth bit set.  So I did the following, which works:</p>\n\n<pre><code>string message = \"This is a message.\";\nbyte[] bytes = new byte[message.Length];\nfor (int i = 0; i &lt; message.Length; i++)\n    bytes[i] = (byte)message[i];\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 34930192, "question_id": 472906, "tags": ["c#", ".net", "string"]}, {"body": "<p>I have written a vb extension similar to accepted answer but directly using .net memory and Marshalling for convertion and it supports character ranges unsupported in other methods like <code>UnicodeEncoding.UTF8.GetString</code> or <code>UnicodeEncoding.UTF32.GetString</code> or even <code>MemoryStream and BinaryFormatter</code> (invalid characters like: <code>\ud967\udc60</code> &amp; <code>ChrW(55906)</code> &amp; <code>ChrW(55655)</code>):</p>\n\n\n\n<pre class=\"lang-vb prettyprint-override\"><code>&lt;Extension&gt; _\nPublic Function ToBytesMarshal(ByRef str As String) As Byte()\n    Dim gch As GCHandle = GCHandle.Alloc(str, GCHandleType.Pinned)\n    Dim handle As IntPtr = gch.AddrOfPinnedObject\n    ToBytesMarshal = New Byte(str.Length * 2 - 1) {}\n    Try\n        For i As Integer = 0 To ToBytesMarshal.Length - 1\n            ToBytesMarshal.SetValue(Marshal.ReadByte(IntPtr.Add(handle, i)), i)\n        Next\n    Finally\n        gch.Free()\n    End Try\nEnd Function\n\n&lt;Extension&gt; _\nPublic Function ToStringMarshal(ByRef arr As Byte()) As String\n    Dim gch As GCHandle = GCHandle.Alloc(arr, GCHandleType.Pinned)\n    Try\n        ToStringMarshal = Marshal.PtrToStringAuto(gch.AddrOfPinnedObject)\n    Finally\n        gch.Free()\n    End Try\nEnd Function\n</code></pre>\n", "title": "How to get a consistent byte representation of strings in C# without manually specifying an encoding?", "answer_id": 35348424, "question_id": 472906, "tags": ["c#", ".net", "string"]}], "question_id": 472906}, {"body": "<p>When I make changes to a file in Git, how can I commit only some of the changes?</p>\n\n<p>For example, how could I commit only 15 lines out of 30 lines that have been changed in a file?</p>\n", "title": "Commit only part of a file in Git", "tags": ["git"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1085162/commit-only-part-of-a-file-in-git", "answers": [{"body": "<p>You can do <code>git add --patch filename.x</code> (or <code>-p</code> for short), and git will begin breaking down your file in what it thinks are sensible \"hunks\" (portions of the file). You will then be prompted with this question:</p>\n\n<p>Stage this hunk [y,n,q,a,d,/,j,J,g,s,e,?]?</p>\n\n<p>And here the meaning of each option:</p>\n\n<ul>\n<li><kbd>y</kbd> stage this hunk for the next commit</li>\n<li><kbd>n</kbd> do not stage this hunk for the next commit</li>\n<li><kbd>q</kbd> quit; do not stage this hunk or any of the remaining hunks</li>\n<li><kbd>a</kbd> stage this hunk and all later hunks in the file</li>\n<li><kbd>d</kbd> do not stage this hunk or any of the later hunks in the file</li>\n<li><kbd>g</kbd> select a hunk to go to</li>\n<li><kbd>/</kbd> search for a hunk matching the given regex</li>\n<li><kbd>j</kbd> leave this hunk undecided, see next undecided hunk</li>\n<li><kbd>J</kbd> leave this hunk undecided, see next hunk</li>\n<li><kbd>k</kbd> leave this hunk undecided, see previous undecided hunk</li>\n<li><kbd>K</kbd> leave this hunk undecided, see previous hunk</li>\n<li><kbd>s</kbd> split the current hunk into smaller hunks</li>\n<li><kbd>e</kbd> manually edit the current hunk</li>\n<li><kbd>?</kbd> print hunk help</li>\n</ul>\n\n<p>If the file is not in the repository yet, do first <code>git add -N filename.x</code>. Afterwards you can go on with <code>git add -p filename.x</code>.</p>\n\n<p>You can use than:\n<code>git diff --staged</code> afterwards to check that you staged the correct ones\n<code>git reset -p</code> to unstage incorrect hunks\n<code>git commit -v</code> to view your commit while you edit the commit message.</p>\n\n<p>Note this is a far different than the <code>git format-patch</code> command, which is entirely different.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 1085191, "question_id": 1085162, "tags": ["git"]}, {"body": "<p><strong>git gui</strong> provides this functionality under the diff view. Just right click the line(s) you're interested in and you should see a \"stage this line to commit\" menu item.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 1085202, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>You can use <code>git add --interactive</code> or <code>git add -p &lt;<em>file</em>&gt;</code>, and then <code>git commit</code> (<strong>not</strong> <code>git commit -a</code>); see <em>Interactive mode</em> in <a href=\"http://git-scm.com/docs/git-add\">git-add</a> manpage, or simply follow instructions.</p>\n\n<p>Modern Git has also <code>git commit --interactive</code> (and <code>git commit --patch</code>, which is shortcut to patch option in interactive commit).</p>\n\n<p>If you prefer doing it from GUI, you can use <a href=\"http://git-scm.com/docs/git-gui\">git-gui</a>. You can simply mark chunks which you want to have included in commit.  I personally find it easier than using <code>git add -i</code>.  Other git GUIs, like QGit or GitX, might also have this functionality as well.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 1086585, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>Should you use emacs, take a look at <a href=\"https://github.com/magit/magit\" rel=\"nofollow\">Magit</a>, which provides a git interface for emacs. It supports <a href=\"https://magit.vc/manual/magit/Staging-and-unstaging.html\" rel=\"nofollow\">staging hunks</a> (parts of files) quite well.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 1096508, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>For emacs there is also <a href=\"http://github.com/chneukirchen/gitsum\" rel=\"nofollow\">gitsum</a></p>\n", "title": "Commit only part of a file in Git", "answer_id": 1117035, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>Tried out <code>git add -p filename.x</code>, but on a mac, I found gitx (<a href=\"http://gitx.frim.nl/\" rel=\"nofollow\">http://gitx.frim.nl/</a> or <a href=\"https://github.com/pieter/gitx\" rel=\"nofollow\">https://github.com/pieter/gitx</a>) to be much easier to commit exactly the lines I wanted to.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 7072061, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>If you are using vim, you may want to try the excellent plugin called <a href=\"https://github.com/tpope/vim-fugitive\">fugitive</a>.</p>\n\n<p>You can see the diff of a file between working copy and index with <code>:Gdiff</code>, and then add lines or hunks to the index using classic vim diff commands like <code>dp</code>. Save the modifications in the index and commit with <code>:Gcommit</code>, and you're done.</p>\n\n<p>Very good introductory screencasts <a href=\"http://vimcasts.org/blog/2011/05/the-fugitive-series/\">here</a> (see esp. <a href=\"http://vimcasts.org/episodes/fugitive-vim-working-with-the-git-index/\">part 2</a>).</p>\n", "title": "Commit only part of a file in Git", "answer_id": 9411342, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>When I have a lot of changes, and will end up creating a few commits from the changes, then I want to save my starting point temporarily before staging things.</p>\n\n<p>Like this:</p>\n\n<pre><code>$ git stash -u\nSaved working directory and index state WIP on master: 47a1413 ...\n$ git checkout -p stash\n... step through patch hunks\n$ git commit -m \"message for 1st commit\"\n$ git checkout -p stash\n... step through patch hunks\n$ git commit -m \"message for 2nd commit\"\n$ git stash pop\n</code></pre>\n\n<p>Whymarrh's answer is what I usually do, except sometimes there are lots of changes and I can tell I might make a mistake while staging things, and I want a committed state I can fall back on for a second pass.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 16973118, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>Much like jdsumsion's answer you can also stash your current work but then use a difftool like meld to pull selected changes from the stash. That way you can even edit the hunks manually very easy, which is a bit of a pain when in <code>git add -p</code>:</p>\n\n<pre><code>$ git stash -u\n$ git difftool -d -t meld stash\n$ git commit -a -m \"some message\"\n$ git stash pop\n</code></pre>\n\n<p>Using the stash method gives you the opportunity to test, if your code still works, before you commit it.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 18104648, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>As <a href=\"http://stackoverflow.com/a/1085191/340811\">one answer</a> above shows, you can use \n<code>\ngit add --patch filename.txt\n</code></p>\n\n<p>or the short-form \n<code>\ngit add -p filename.txt\n</code></p>\n\n<p>... but for files already in you repository, there is, in s are much better off using --patch flag on the commit command directly (if you are using a recent enough version of git): \n<code>\ngit commit --patch filename.txt\n</code> </p>\n\n<p>... or, again, the short-form \n<code>\ngit commit -p filename.txt\n</code></p>\n\n<p>... and then using the mentioned keys, (y/n etc), for choosing lines to be included in the commit.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 24485977, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>I would strongly recommend using <a href=\"https://www.sourcetreeapp.com/\">SourceTree</a> from Atlassian. (It's free.) It makes this trivial. You can stage individual hunks of code or individual lines of code quickly and easily.</p>\n\n<p><img src=\"http://i.stack.imgur.com/5yQRH.png\" alt=\"enter image description here\"></p>\n", "title": "Commit only part of a file in Git", "answer_id": 25265642, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>Worth noting that to use <code>git add --patch</code> for a <strong>new file</strong> you need to first add the file to index with <code>git add --intent-to-add</code>:</p>\n\n<pre><code>git add -N file\ngit add -p file\n</code></pre>\n", "title": "Commit only part of a file in Git", "answer_id": 27321496, "question_id": 1085162, "tags": ["git"]}, {"body": "<p><a href=\"https://github.com/airblade/vim-gitgutter\" rel=\"nofollow\">vim-gitgutter</a> plugin can stage hunks without leaving vim editor using</p>\n\n<pre><code>:GitGutterStageHunk\n</code></pre>\n\n<p>Beside this, it provides other cool features like a diff sign column as in some modern IDEs</p>\n\n<p>If only part of hunk should be staged <a href=\"https://github.com/tpope/vim-fugitive\" rel=\"nofollow\">vim-fugitive</a></p>\n\n<pre><code>:Gdiff\n</code></pre>\n\n<p>allows visual range selection then <code>:'&lt;,'&gt;diffput</code> or <code>:'&lt;,'&gt;diffget</code> to stage/revert individual line changes.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 27865686, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>With TortoiseGit:</p>\n\n<blockquote>\n  <p>right click on the file and use <code>Context Menu \u2192 Restore after commit</code>. This will create a copy of the file as it is. Then you can edit the file, e.g. in TortoiseGitMerge and undo all the changes you don't want to commit. After saving those changes you can commit the file.</p>\n</blockquote>\n", "title": "Commit only part of a file in Git", "answer_id": 29475059, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>If it's on <code>Windows</code> platform, in my opinion <code>git gui</code> is the best tool to <code>stage</code>/<code>commit</code> few lines from <code>unstaged</code> file</p>\n\n<p><strong>1. Hunk wise:</strong></p>\n\n<ul>\n<li>Select the file from <code>unstagged Changes</code> section</li>\n<li>Right click chunk of code which needs to be staged</li>\n<li>Select <code>Stage Hunk for commit</code></li>\n</ul>\n\n<p><strong>2. Line wise:</strong></p>\n\n<ul>\n<li>Select the file from <code>unstagged Changes</code> section </li>\n<li>Select the line/lines be staged</li>\n<li>Select <code>Stage Lines for commit</code></li>\n</ul>\n\n<p><strong>3. If you want to stage the complete file except couple of lines:</strong></p>\n\n<ul>\n<li>Select the file from <code>unstagged Changes</code> section</li>\n<li>Press <code>Ctrl+T (Stage file to commit)</code></li>\n<li>Selected file now moves to <code>Staged Changes</code> Section</li>\n<li>Select the line/lines be staged</li>\n<li>Select <code>UnStage Lines for commit</code></li>\n</ul>\n", "title": "Commit only part of a file in Git", "answer_id": 30507140, "question_id": 1085162, "tags": ["git"]}, {"body": "<p><a href=\"https://github.com/jjlee/git-meld-index\" rel=\"nofollow\">git-meld-index</a> -- quoting from the website:</p>\n\n<p>git-meld-index runs meld -- or any other git difftool (kdiff3, diffuse, etc.) -- to allow you to interactively stage changes to the git index (also known as the git staging area).</p>\n\n<p>This is similar to the functionality of git add -p, and git add --interactive. In some cases meld is easier / quicker to use than git add -p. That's because meld allows you, for example, to:</p>\n\n<ul>\n<li>see more context</li>\n<li>see intra-line diffs</li>\n<li>edit by hand and see 'live' diff updates (updated after every keypress)</li>\n<li>navigate to a change without saying 'n' to every change you want to skip</li>\n</ul>\n\n<p><strong>Usage</strong></p>\n\n<p>In a git repository, run:</p>\n\n<pre><code>git meld-index\n</code></pre>\n\n<p>You'll see meld (or your configured git difftool) pop up with:</p>\n\n<p><strong>LEFT</strong>: temporary directory contining files copied from your working tree</p>\n\n<p><strong>RIGHT</strong>: temporary directory with the contents of the index. This also includes files that are not yet in the index but are modified or untracked in the working copy -- in this case you'll see the file contents from HEAD.</p>\n\n<p>Edit the index (right hand side) until happy. Remember to save when needed.</p>\n\n<p>When you're done, close meld, and git-meld-index will update the index to match the contents of the temporary directory on the right hand side of meld that you just edited.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 31224866, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>For those who use <strong>Git Extensions</strong>:</p>\n\n<p>In the Commit window, select the file you want to partially commit, then select the text you want to commit in the right pane, then right-click on the selection and choose 'Stage selected lines' from the context menu.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 31649973, "question_id": 1085162, "tags": ["git"]}, {"body": "<p><a href=\"https://git-cola.github.io/\" rel=\"nofollow\">git-cola</a> is a great GUI and also has this feature built-in. Just select the lines to stage and press <kbd>S</kbd>. If no selection is made, the complete hunk is staged.</p>\n", "title": "Commit only part of a file in Git", "answer_id": 32248165, "question_id": 1085162, "tags": ["git"]}, {"body": "<p>I'm surprised that so much has been written on this topic and yet nobody's mentioned <code>git add -e myfile</code>. I believe it is the easiest way (my preference at least) since it simply opens a text editor and lets you choose wich line you want to stage and wich line you don't.\nRegarding editing commands:</p>\n\n<p>added content :</p>\n\n<blockquote>\n  <p>Added content is represented by lines beginning with \"+\". You can prevent staging any addition lines by deleting them.</p>\n</blockquote>\n\n<p>removed content :</p>\n\n<blockquote>\n  <p>Removed content is represented by lines beginning with \"-\". You can prevent staging their removal by converting the \"-\" to a \" \" (space).</p>\n</blockquote>\n\n<p>modified content :</p>\n\n<blockquote>\n  <p>Modified content is represented by \"-\" lines (removing the old content) followed by \"+\" lines (adding the replacement content). You can prevent staging the modification by converting \"-\" lines to \" \", and removing \"+\"\n             lines. Beware that modifying only half of the pair is likely to introduce confusing changes to the index.</p>\n</blockquote>\n\n<p>Every details about <code>git add</code> are available on <code>git --help add</code> </p>\n", "title": "Commit only part of a file in Git", "answer_id": 32790400, "question_id": 1085162, "tags": ["git"]}], "question_id": 1085162}, {"body": "<p>I am looking for a simple <code>git</code> command that provides a nicely formatted list of all files that were part of the commit given by a hash (SHA1), with no extraneous information.</p>\n\n<p>I have tried:</p>\n\n<pre><code>git show a303aa90779efdd2f6b9d90693e2cbbbe4613c1d\n</code></pre>\n\n<p>Although it lists the files, it also includes unwanted diff information for each.</p>\n\n<p>Is there another <code>git</code> command that will provide just the list I want, so that I can avoid parsing it from the <code>git show</code> output?</p>\n", "title": "How to list all the files in a commit?", "tags": ["git", "git-show"], "answer_count": 22, "link": "http://stackoverflow.com/questions/424071/how-to-list-all-the-files-in-a-commit", "answers": [{"body": "<p>I'll just assume that <code>gitk</code> is not desired for this. In that case, try <code>git show --name-only &lt;sha&gt;</code>.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 424084, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p><strong>Preferred Way</strong> (because it's a <em>plumbing</em> command; meant to be programmatic):</p>\n\n<pre><code>$ git diff-tree --no-commit-id --name-only -r bd61ad98\nindex.html\njavascript/application.js\njavascript/ie6.js\n</code></pre>\n\n<p><strong>Another Way</strong> (less preferred for scripts, because it's a <em>porcelain</em> command; meant to be user-facing)</p>\n\n<pre><code>$ git show --pretty=\"\" --name-only bd61ad98    \nindex.html\njavascript/application.js\njavascript/ie6.js\n</code></pre>\n\n<hr>\n\n<ul>\n<li>The <code>--no-commit-id</code> suppresses the commit ID output.</li>\n<li>The <code>--pretty</code> argument specifies an empty format string to avoid the cruft at the beginning.</li>\n<li>The <code>--name-only</code> argument shows only the file names that were affected (Thanks Hank).</li>\n<li>The <code>-r</code> argument is to recurse into sub-trees</li>\n</ul>\n", "title": "How to list all the files in a commit?", "answer_id": 424142, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>A combination of \"<code>git show --stat</code>\" (thanks Ryan) and a couple of sed commands should trim the data down for you:</p>\n\n<pre><code>git show --stat &lt;SHA1&gt; | sed -n \"/ [\\w]\\*|/p\" | sed \"s/|.\\*$//\"\n</code></pre>\n\n<p>That will produce just the list of modified files.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 424318, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<pre>\n$ git log 88ee8^..88ee8 --name-only --pretty=\"format:\"\n</pre>\n", "title": "How to list all the files in a commit?", "answer_id": 424353, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>If you want to get list of changed files:</p>\n\n<pre><code>git diff-tree --no-commit-id --name-only -r &lt;commit-ish&gt;\n</code></pre>\n\n<p>If you want to get list of all files in a commit, you can use</p>\n\n<pre><code>git ls-tree --name-only -r &lt;commit-ish&gt;\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 444317, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>I like this:</p>\n\n<pre><code>git diff --name-status &lt;SHA1&gt; &lt;SHA1&gt;^\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 778023, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>I use this to get list of modified files between two changesets:</p>\n\n<pre><code>git diff --name-status &lt;SHA1&gt; &lt;SHA2&gt; | cut -f2\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 2532210, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>Recently I needed to list all changed files between two commits. So I used this (also *nix specific) command</p>\n\n<pre><code>git show --pretty=\"format:\" --name-only START_COMMIT..END_COMMIT | sort | uniq\n</code></pre>\n\n<p><strong>Update</strong>: Or as Ethan points out below</p>\n\n<pre><code>git diff --name-only START_COMMIT..END_COMMIT\n</code></pre>\n\n<p>Using <code>--name-status</code> will also include the change (added, modified, deleted etc) next to each file </p>\n\n<pre><code>git diff --name-status START_COMMIT..END_COMMIT\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 2713363, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>I like to use</p>\n\n<pre><code>git show --stat &lt;SHA1&gt;^..&lt;SHA2&gt;\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 4085142, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>Easier for scripting:</p>\n\n<pre><code>git diff --name-only &lt;sha&gt;^ &lt;sha&gt;\n</code></pre>\n\n<p>Or as skiphoppy said, if you want also de status of the changed files:</p>\n\n<pre><code>git diff --name-status &lt;sha&gt;^ &lt;sha&gt;\n</code></pre>\n\n<p>This works well with merge commits (but you should check if the output is what you are expecting).</p>\n\n<p>As a bonus it doesn't print an empty blank line as the accepted solution.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 5833653, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>Display the log.</p>\n\n<p>COMMIT can be blank (\"\") or the sha-1 or the sha-1 shortened.</p>\n\n<pre><code>git log COMMIT -1 --name-only\n</code></pre>\n\n<p>This will list just the files, very useful for further processing.</p>\n\n<pre><code>git log COMMIT -1 --name-only --pretty=format:\"\" | grep \"[^\\s]\"\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 7190428, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<pre><code>git show HEAD@{0}\n</code></pre>\n\n<p>works fine for me</p>\n", "title": "How to list all the files in a commit?", "answer_id": 10993907, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>I personally use the combination of <strong>--stat</strong> and <strong>--oneline</strong> with the <strong>show</strong> command:</p>\n\n<pre><code>git show --stat --oneline HEAD\ngit show --stat --oneline b24f5fb\ngit show --stat --oneline HEAD^^..HEAD\n</code></pre>\n\n<p>If you do not like/want the addition/removal stats, you can replace <strong>--oneline</strong> with <strong>--name-only</strong></p>\n\n<pre><code>git show --name-only --oneline HEAD\ngit show --name-only --oneline b24f5fb\ngit show --name-only --oneline HEAD^^..HEAD\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 11442967, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>List the files that changed in a commit:</p>\n\n<pre><code>git diff --name-only SHA1^ SHA1\n</code></pre>\n\n<p>This doesn't show log messages, extra newlines, or any other clutter.  This works for any commit, not just the current one.  Not sure why it hasn't <em>quite</em> been mentioned yet, so I'm adding it.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 11697325, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>I use <strong>changed</strong> alias a quite often. To set it up:</p>\n\n<pre><code>git config --global alias.changed 'show --pretty=\"format:\" --name-only'\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>git changed (lists files modified in last commit)   \ngit changed bAda55 (lists files modified in this commit)\ngit changed bAda55..ff0021 (lists files modified between those commits)\n</code></pre>\n\n<p>Similar commands that may be useful:</p>\n\n<pre><code>git log --name-status --oneline (very similar, but shows what actually happened M/C/D)\ngit show --name-only\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 16279555, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>Use simple one line command, if you just want the list of files changed in the last commit:</p>\n\n<pre><code>git diff HEAD~1 --name-only\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 20269956, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>You can also do </p>\n\n<pre><code>git log --name-only\n</code></pre>\n\n<p>and you can browse through various commits, commit messages and the changed files.</p>\n\n<p>Type q to get your prompt back.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 23879742, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>There is a simple trick to view as a file listing, just add <code>:</code> after the hash.</p>\n\n<pre><code>git show 9d3a52c474:\n</code></pre>\n\n<p>You can then drill in,</p>\n\n<pre><code>git show 9d3a52c474:someDir/someOtherDir\n</code></pre>\n\n<p>If you hit a file you'll get the raw version of the file; which sometimes is what you want if you're only looking for a nice reference or key pieces of code (diffs can make everything a mess),</p>\n\n<pre><code>git show 9d3a52c474:someDir/someOtherDir/somefile\n</code></pre>\n\n<p>Only drawback of this method is that it doesn't easily show a tree of files.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 32226045, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>There's also <code>git whatchanged</code>, which is more low level than <code>git log</code></p>\n\n<pre><code>NAME\n       git-whatchanged - Show logs with difference each commit introduces\n</code></pre>\n\n<p>It outputs the commit summary with a list of files beneath it with their modes and if there added(<code>A</code>), deleted(<code>D</code>) or modified(<code>M</code>);</p>\n\n<pre><code>$ git whatchanged f31a441398fb7834fde24c5b0c2974182a431363\n</code></pre>\n\n<p>Would give something like:</p>\n\n<pre><code>commit f31a441398fb7834fde24c5b0c2974182a431363\nAuthor: xx &lt;xx@xx.nl&gt;\nDate:   Tue Sep 29 17:23:22 2015 +0200\n\n    added fb skd and XLForm\n\n:000000 100644 0000000... 90a20d7... A  Pods/Bolts/Bolts/Common/BFCancellationToken.h\n:000000 100644 0000000... b5006d0... A  Pods/Bolts/Bolts/Common/BFCancellationToken.m\n:000000 100644 0000000... 3e7b711... A  Pods/Bolts/Bolts/Common/BFCancellationTokenRegistration.h\n:000000 100644 0000000... 9c8a7ae... A  Pods/Bolts/Bolts/Common/BFCancellationTokenRegistration.m\n:000000 100644 0000000... bd6e7a1... A  Pods/Bolts/Bolts/Common/BFCancellationTokenSource.h\n:000000 100644 0000000... 947f725... A  Pods/Bolts/Bolts/Common/BFCancellationTokenSource.m\n:000000 100644 0000000... cf7dcdf... A  Pods/Bolts/Bolts/Common/BFDefines.h\n:000000 100644 0000000... 02af9ba... A  Pods/Bolts/Bolts/Common/BFExecutor.h\n:000000 100644 0000000... 292e27c... A  Pods/Bolts/Bolts/Common/BFExecutor.m\n:000000 100644 0000000... 827071d... A  Pods/Bolts/Bolts/Common/BFTask.h\n...\n</code></pre>\n\n<p>I know this answer doesn't really match \"with no extraneous information.\", but I still think this list is more useful then just the filenames.</p>\n", "title": "How to list all the files in a commit?", "answer_id": 33123672, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>I thought I would share a summary of my alias..  also I find using 'zsh' great with git it chroma keys everything nicely and tells you want branch are in all of the time by changing the command prompt.</p>\n\n<p>For those covering from SVN you will find this useful: (this is a combination of ideas from different threads, I only take credit of knowing how to use copy/paste)</p>\n\n<pre><code>.gitconfig:\n        ls = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%an%Creset' --abbrev-commit --date=relative --name-status\n\n&gt;&gt;git ls\n* 99f21a6 - (HEAD -&gt; swift) New Files from xcode 7 (11 hours ago) Jim Zucker| \n| A     icds.xcodeproj/project.pbxproj\n| A     icds.xcodeproj/project.xcworkspace/contents.xcworkspacedata\n| A     icds/AppDelegate.m\n| A     icds/Assets.xcassets/AppIcon.appiconset/Contents.json\n\n* e0a1bb6 - Move everything to old (11 hours ago) Jim Zucker| \n| D     Classes/AppInfoViewControler.h\n| D     Classes/AppInfoViewControler.m\n| D     Classes/CurveInstrument.h\n\n\n.gitconfig: \n       lt = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%an%Creset' --abbrev-commit --date=relative\n\n&gt;&gt;git lt\n* 99f21a6 - (HEAD -&gt; swift) New Files from xcode 7 (11 hours ago) Jim Zucker\n* e0a1bb6 - Move everything to old (11 hours ago) Jim Zucker\n* 778bda6 - Cleanup for new project (11 hours ago) Jim Zucker\n* 7373b5e - clean up files from old version (11 hours ago) Jim Zucker\n* 14a8d53 - (tag: 1.x, origin/swift, origin/master, master) Initial Commit (16 hours ago) Jim Zucker\n\n\n.gitconfig\nlt = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%an%Creset' --abbrev-commit --date=relative\n\n&gt;&gt; git lt\n\ncommit 99f21a61de832bad7b2bdb74066a08cac3d0bf3c\nAuthor: Jim Zucker &lt;jim@stratengllc.com&gt;\nDate:   Tue Dec 1 22:23:10 2015 -0800\n\n    New Files from xcode 7\n\nA       icds.xcodeproj/project.pbxproj\nA       icds.xcodeproj/project.xcworkspace/contents.xcworkspacedata\n\n\ncommit e0a1bb6b59ed6a4f9147e894d7f7fe00283fce8d\nAuthor: Jim Zucker &lt;jim@stratengllc.com&gt;\nDate:   Tue Dec 1 22:17:00 2015 -0800\n\n    Move everything to old\n\nD       Classes/AppInfoViewControler.h\nD       Classes/AppInfoViewControler.m\nD       Classes/CurveInstrument.h\nD       Classes/CurveInstrument.m\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 34049402, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<pre><code>git show --name-only commitCodeHere\n</code></pre>\n", "title": "How to list all the files in a commit?", "answer_id": 34745407, "question_id": 424071, "tags": ["git", "git-show"]}, {"body": "<p>Simplest form: </p>\n\n<p><code>git show --stat (hash)</code></p>\n\n<p>That's easier to remember and it will give you all the information you need. </p>\n\n<p>If you really want only the names of the files you could add the <code>--name-only</code> option. </p>\n\n<p><code>git show --stat --name-only (hash)</code></p>\n", "title": "How to list all the files in a commit?", "answer_id": 38406493, "question_id": 424071, "tags": ["git", "git-show"]}], "question_id": 424071}, {"body": "<p>I was writing a simple script in the school computer, and committing the changes to Git (in a repo that was in my pendrive, cloned from my computer at home). After several commits I realized I was committing stuff as the root user.</p>\n\n<p>Is there any way to change the author of these commits to my name?</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"], "answer_count": 26, "link": "http://stackoverflow.com/questions/750172/change-the-author-and-committer-name-and-e-mail-of-multiple-commits-in-git", "answers": [{"body": "<p>Changing the author (or committer) would require re-writing all of the history.  If you're okay with that and think it's worth it then you should check out <a href=\"http://schacon.github.com/git/git-filter-branch.html\">git filter-branch</a>.  The main page includes several examples to get you started.  Also note that you can use environment variables to change the name of the author, committer, dates, etc. -- see the \"Environment Variables\" section of the <a href=\"http://schacon.github.com/git/git.html\">git man page</a>.</p>\n\n<p>Specifically, you can fix all the wrong author names and emails <strong>for all branches and tags</strong> with this command (source: <a href=\"https://help.github.com/articles/changing-author-info/\">GitHub help</a>):</p>\n\n<pre><code>#!/bin/sh\n\ngit filter-branch --env-filter '\nOLD_EMAIL=\"your-old-email@example.com\"\nCORRECT_NAME=\"Your Correct Name\"\nCORRECT_EMAIL=\"your-correct-email@example.com\"\nif [ \"$GIT_COMMITTER_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_COMMITTER_NAME=\"$CORRECT_NAME\"\n    export GIT_COMMITTER_EMAIL=\"$CORRECT_EMAIL\"\nfi\nif [ \"$GIT_AUTHOR_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_AUTHOR_NAME=\"$CORRECT_NAME\"\n    export GIT_AUTHOR_EMAIL=\"$CORRECT_EMAIL\"\nfi\n' --tag-name-filter cat -- --branches --tags\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 750182, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>One liner, but be careful if you have a multi-user repository - this will change <em>all</em> commits to have the same (new) author and committer.</p>\n\n<pre><code>git filter-branch -f --env-filter \"GIT_AUTHOR_NAME='Newname'; GIT_AUTHOR_EMAIL='new@email'; GIT_COMMITTER_NAME='Newname'; GIT_COMMITTER_EMAIL='new@email';\" HEAD\n</code></pre>\n\n<p>With linebreaks in the string (which is possible in bash):</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch -f --env-filter \"\n    GIT_AUTHOR_NAME='Newname'\n    GIT_AUTHOR_EMAIL='new@email'\n    GIT_COMMITTER_NAME='Newname'\n    GIT_COMMITTER_EMAIL='new@email'\n  \" HEAD\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 750191, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>You can also do:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --commit-filter '\n        if [ \"$GIT_COMMITTER_NAME\" = \"&lt;Old Name&gt;\" ];\n        then\n                GIT_COMMITTER_NAME=\"&lt;New Name&gt;\";\n                GIT_AUTHOR_NAME=\"&lt;New Name&gt;\";\n                GIT_COMMITTER_EMAIL=\"&lt;New Email&gt;\";\n                GIT_AUTHOR_EMAIL=\"&lt;New Email&gt;\";\n                git commit-tree \"$@\";\n        else\n                git commit-tree \"$@\";\n        fi' HEAD\n</code></pre>\n\n<p>Note, if you are using this command in the Windows command prompt, then you need to use <code>\"</code> instead of <code>'</code>:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --commit-filter \"\n        if [ \"$GIT_COMMITTER_NAME\" = \"&lt;Old Name&gt;\" ];\n        then\n                GIT_COMMITTER_NAME=\"&lt;New Name&gt;\";\n                GIT_AUTHOR_NAME=\"&lt;New Name&gt;\";\n                GIT_COMMITTER_EMAIL=\"&lt;New Email&gt;\";\n                GIT_AUTHOR_EMAIL=\"&lt;New Email&gt;\";\n                git commit-tree \"$@\";\n        else\n                git commit-tree \"$@\";\n        fi\" HEAD\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 870367, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<h3>Using Interactive Rebase</h3>\n\n<p>You could do</p>\n\n<pre><code>git rebase -i -p &lt;some HEAD before all of your bad commits&gt;\n</code></pre>\n\n<p>Then mark all of your bad commits as \"edit\" in the rebase file. If you also want to change your first commit, you have to manually add it as first line in the rebase file (follow the format of the other lines). Then, when git asks you to amend each commit, do </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> git commit --amend --author \"New Author Name &lt;email@address.com&gt;\" \n</code></pre>\n\n<p>edit or just close the editor that opens, and then do</p>\n\n<pre><code>git rebase --continue\n</code></pre>\n\n<p>to continue the rebase.</p>\n\n<p>You could skip opening the editor altogether here by appending <code>--no-edit</code>\nso that the command will be:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git commit --amend --author \"New Author Name &lt;email@address.com&gt;\" --no-edit &amp;&amp; \\\ngit rebase --continue\n</code></pre>\n\n<h3>Single Commit</h3>\n\n<p>As some of the commenters have noted, if you just want to change the most recent commit, the rebase command is not necessary. Just do </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> git commit --amend --author \"New Author Name &lt;email@address.com&gt;\"\n</code></pre>\n\n<p>This will change the author to the name specified, but the committer will be set to your configured user in <code>git config user.name</code> and <code>git config user.email</code>. If you want to set the committer to something you specify, this will set both the author and the committer:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> git -c user.name=\"New Author Name\" -c user.email=email@address.com commit --amend --reset-author\n</code></pre>\n\n<h3>Note on Merge Commits</h3>\n\n<p>There was a slight flaw in my original response. If there are any merge commits between the current <code>HEAD</code> and your <code>&lt;some HEAD before all your bad commits&gt;</code>, then <code>git rebase</code> will flatten them (and by the way, if you use GitHub pull requests, there are going to be a ton of merge commits in your history). This can very often lead to very different history (as duplicate changes may be \"rebased out\"), and in the worst case, it can lead to <code>git rebase</code> asking you to resolve difficult merge conflicts (which were likely already resolved in the merge commits). The solution is to use the <code>-p</code> flag to <code>git rebase</code>, which will preserve the merge structure of your history. The manpage for <code>git rebase</code> warns that using <code>-p</code> and <code>-i</code> can lead to issues, but in the <code>BUGS</code> section it says \"Editing commits and rewording their commit messages should work fine.\"</p>\n\n<p>I've added <code>-p</code> to the above command. For the case where you're just changing the most recent commit, this is not an issue.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 1320317, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>For a single commit:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git commit --amend --author=\"Author Name &lt;email@address.com&gt;\"\n</code></pre>\n\n<p>(extracted from asmeurer's answer)</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 2717477, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>If you are the only user of this repo or you don't care about possibly breaking the repo for other users, then yes. If you've pushed these commits and they exist where somewhere else can access them, then no, unless you don't care about breaking other people's repos. The problem is by changing these commits you will be generating new SHAs which will cause them to be treated as different commits. When someone else tries to pull in these changed commits, the history is different and kaboom.</p>\n\n<p>This page <a href=\"http://inputvalidation.blogspot.com/2008/08/how-to-change-git-commit-author.html\" rel=\"nofollow\">http://inputvalidation.blogspot.com/2008/08/how-to-change-git-commit-author.html</a> describes how to do it. (I haven't tried this so YMMV)</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 3401801, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>As docgnome mentioned, rewriting history is dangerous and will break other people's repositories.</p>\n\n<p>But if you really want to do that and you are in a bash environment (no problem in Linux, on Windows, you can use git bash, that is provided with the installation of git), use <a href=\"http://git-scm.com/docs/git-filter-branch\">git filter-branch</a>:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --env-filter '\n  if [ $GIT_AUTHOR_EMAIL = bad@email ];\n    then GIT_AUTHOR_EMAIL=correct@email;\n  fi;\nexport GIT_AUTHOR_EMAIL'\n</code></pre>\n\n<p>To speed things up, you can specify a range of revisions you want to rewrite:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --env-filter '\n  if [ $GIT_AUTHOR_EMAIL = bad@email ];\n    then GIT_AUTHOR_EMAIL=correct@email;\n  fi;\nexport GIT_AUTHOR_EMAIL' HEAD~20..HEAD\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 3401835, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>If you are the only user of this repository, you can <strong>rewrite history</strong> using either <a href=\"http://git-scm.com/docs/git-filter-branch\"><code>git filter-branch</code></a> (as <a href=\"http://stackoverflow.com/questions/3401732/git-rewrite-author-in-history/3401835#3401835\">svick wrote</a>), or <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-fast-export.html\"><code>git fast-export</code></a>/<a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-fast-import.html\"><code>git fast-import</code></a> plus filter script (as described in article referenced in <a href=\"http://stackoverflow.com/questions/3401732/git-rewrite-author-in-history/3401801#3401801\">docgnome answer</a>), or interactive <a href=\"http://git-scm.com/docs/git-rebase\">rebase</a>.  But either of those would change revisions from first changed commit onwards; this means trouble for anybody that based his/her changes on your branch pre-rewrite.</p>\n\n<p><em><strong>RECOVERY</em></strong> </p>\n\n<p>If other developers didn't based their work on pre-rewrite version, simplest solution would be to re-clone (clone again).  </p>\n\n<p>Alternatively they can try <code>git rebase --pull</code>, which would fast-forward if there weren't any changes in their repository, or rebase their branch on top of re-written commits (we want to avoid merge, as it would keep pre-rewrite comits forever).  All of this assuming that they do not have not comitted work; use <code>git stash</code> to stash away changes otherwise.</p>\n\n<p>If other developers use feature branches, and/or <code>git pull --rebase</code> doesn't work e.g. because upstream is not set up, they have to <a href=\"http://git-scm.com/docs/git-rebase\"><em>rebase</em></a> their work on top of post-rewrite commits.  For example just after fetching new changes (<code>git fetch</code>), for a <code>master</code> branch based on / forked from <code>origin/master</code>, one needs to run</p>\n\n<pre><code>$ git rebase --onto origin/master origin/master@{1} master\n</code></pre>\n\n<p>Here <code>origin/master@{1}</code> is pre-rewrite state (before fetch), see <a href=\"http://www.kernel.org/pub/software/scm/git/docs/gitrevisions.html\">gitrevisions</a>.</p>\n\n<hr>\n\n<p>Alternate solution would be to use <strong>refs/replace/</strong> mechanism, available in Git since version 1.6.5.  In this solution you provide replacements for commits that have wrong email; then anybody who fetches 'replace' refs (something like <code>fetch = +refs/replace/*:refs/replace/*</code> refspec in appropriate place in <em>their</em> <code>.git/config</code>) would get replacements transparently, and those who do not fetch those refs would see old commits.</p>\n\n<p>The procedure goes something like this:</p>\n\n<ol>\n<li><p>Find all commits with wrong email, for example using</p>\n\n<pre><code>$ git log --author=user@wrong.email --all\n</code></pre></li>\n<li><p>For each wrong commit, create a replacement commit, and add it to object database</p>\n\n<pre><code>$ git cat-file -p &lt;ID of wrong commit&gt; | \n  sed -e 's/user@wrong\\.email/user@example.com/g' &gt; tmp.txt\n$ git hash-object -t commit -w tmp.txt\n&lt;ID of corrected commit&gt;\n</code></pre></li>\n<li><p>Now that you have corrected commit in object database, you have to tell git to automatically and transparently replace wrong commit by corrected one using <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-replace.html\"><code>git replace</code></a> command:</p>\n\n<pre><code>$ git replace &lt;ID of wrong commit&gt; &lt;ID of corrected commit&gt;\n</code></pre></li>\n<li><p>Finally, list all replacement to check if this procedure succeded</p>\n\n<pre><code>$ git replace -l\n</code></pre>\n\n<p>and check if replacements take place</p>\n\n<pre><code>$ git log --author=user@wrong.email --all\n</code></pre></li>\n</ol>\n\n<p>You can of course automate this procedure... well, all except using <code>git replace</code> which doesn't have (yet) batch mode, so you would have to use shell loop for that, or replace \"by hand\".</p>\n\n<p><strong>NOT TESTED!</strong> YMMV.</p>\n\n<p><sup>Note that you might encounter some rough corners when using <code>refs/replace/</code> mechanism: it is new, and not yet very well tested</sup>.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 3404304, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>Github has a <a href=\"http://help.github.com/changing-author-info/\">nice solution</a>, which is the following shell script:</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>#!/bin/sh\n\ngit filter-branch --env-filter '\n\nan=\"$GIT_AUTHOR_NAME\"\nam=\"$GIT_AUTHOR_EMAIL\"\ncn=\"$GIT_COMMITTER_NAME\"\ncm=\"$GIT_COMMITTER_EMAIL\"\n\nif [ \"$GIT_COMMITTER_EMAIL\" = \"your@email.to.match\" ]\nthen\n    cn=\"Your New Committer Name\"\n    cm=\"Your New Committer Email\"\nfi\nif [ \"$GIT_AUTHOR_EMAIL\" = \"your@email.to.match\" ]\nthen\n    an=\"Your New Author Name\"\n    am=\"Your New Author Email\"\nfi\n\nexport GIT_AUTHOR_NAME=\"$an\"\nexport GIT_AUTHOR_EMAIL=\"$am\"\nexport GIT_COMMITTER_NAME=\"$cn\"\nexport GIT_COMMITTER_EMAIL=\"$cm\"\n'\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 3880493, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>I adapted this <a href=\"http://lists.freedesktop.org/archives/portland/2010-October.txt\" rel=\"nofollow\">solution</a> which works by ingesting a simple <code>author-conv-file</code> (format is the same as one for <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-cvsimport.html\" rel=\"nofollow\">git-cvsimport</a>). It works by changing all users as defined in the <code>author-conv-file</code> across all branches. </p>\n\n<p>We used this in conjunction with <code>cvs2git</code> to migrate our repository from cvs to git.</p>\n\n<p>i.e. Sample <code>author-conv-file</code></p>\n\n<pre><code>john=John Doe &lt;john.doe@hotmail.com&gt;\njill=Jill Doe &lt;jill.doe@hotmail.com&gt;\n</code></pre>\n\n<p>The script:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> #!/bin/bash\n\n export $authors_file=author-conv-file\n\n git filter-branch -f --env-filter '\n\n get_name () {\n     grep \"^$1=\" \"$authors_file\" |\n     sed \"s/^.*=\\(.*\\) &lt;.*&gt;$/\\1/\"\n }\n\n get_email () {\n     grep \"^$1=\" \"$authors_file\" |\n     sed \"s/^.*=.* &lt;\\(.*\\)&gt;$/\\1/\"\n }\n\n GIT_AUTHOR_NAME=$(get_name $GIT_COMMITTER_NAME) &amp;&amp;\n     GIT_AUTHOR_EMAIL=$(get_email $GIT_COMMITTER_NAME) &amp;&amp;\n     GIT_COMMITTER_NAME=$GIT_AUTHOR_NAME &amp;&amp;\n     GIT_COMMITTER_EMAIL=$GIT_AUTHOR_EMAIL &amp;&amp;\n     export GIT_AUTHOR_NAME GIT_AUTHOR_EMAIL &amp;&amp;\n     export GIT_COMMITTER_NAME GIT_COMMITTER_EMAIL\n ' -- --all\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 4903673, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>I use the following to rewrite the author for an entire repository, including tags and all branches:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --tag-name-filter cat --env-filter \"\n  export GIT_AUTHOR_NAME='New name';\n  export GIT_AUTHOR_EMAIL='New email'\n\" -- --all\n</code></pre>\n\n<p>Then, as described in the <a href=\"http://git-scm.com/docs/git-filter-branch\" rel=\"nofollow\">MAN page of filter-branch</a>, remove all original refs backed up by <code>filter-branch</code> (this is destructive, backup first):</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git for-each-ref --format=\"%(refname)\" refs/original/ | \\\nxargs -n 1 git update-ref -d\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 5018332, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>If you are using Eclipse with EGit, then there is a quite easy solution.<br>\nAssumption: you have commits in a local branch 'local_master_user_x' which cannot be pushed to a remote branch 'master' because of the invalid user.</p>\n\n<ol>\n<li>Checkout the remote branch 'master'</li>\n<li>Select the projects/folders/files for which 'local_master_user_x' contains changes</li>\n<li>Right-click - Replace with - Branch - 'local_master_user_x'</li>\n<li>Commit these changes again, this time as the correct user and into the local branch 'master'</li>\n<li>Push to remote 'master'</li>\n</ol>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 7180026, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>If the commits you want to fix are the latest ones, and just a couple of them, you can use a combination of <code>git reset</code> and <code>git stash</code> to go back an commit them again after configuring the right name and email.</p>\n\n<p>The sequence will be something like this (for 2 wrong commits, no pending changes):</p>\n\n<pre><code>git config user.name &lt;good name&gt;\ngit config user.email &lt;good email&gt;\ngit reset HEAD^\ngit stash\ngit reset HEAD^\ngit commit -a\ngit stash pop\ngit commit -a\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 7614279, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>In the case where just the top few commits have bad authors, you can do this all inside <code>git rebase -i</code> using the <code>exec</code> command and the <code>--amend</code> commit, as follows:</p>\n\n<pre><code>git rebase -i HEAD^^^^^^ # as required\n</code></pre>\n\n<p>which presents you with the editable list of commits:</p>\n\n<pre><code>pick abcd Someone else's commit\npick defg my bad commit 1\npick 1234 my bad commit 2\n</code></pre>\n\n<p>Then add <code>exec ... --author=\"...\"</code> lines after all lines with bad authors:</p>\n\n<pre><code>pick abcd Someone else's commit\npick defg my bad commit 1\nexec git commit --amend --author=\"New Author Name &lt;email@address.com&gt;\" -C HEAD\npick 1234 my bad commit 2\nexec git commit --amend --author=\"New Author Name &lt;email@address.com&gt;\" -C HEAD\n</code></pre>\n\n<p>save and exit editor (to run).</p>\n\n<p>This solution may be longer to type than some others, but it's highly controllable - I know exactly what commits it hits.</p>\n\n<p>Thanks to @asmeurer for the inspiration.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 8434756, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p><strong>This is a more elaborated version of @Brian's version:</strong></p>\n\n<p>To change the author and committer, you can do this (with linebreaks in the string which is possible in bash):</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --env-filter '\n    if [ \"$GIT_COMMITTER_NAME\" = \"&lt;Old name&gt;\" ];\n    then\n        GIT_COMMITTER_NAME=\"&lt;New name&gt;\";\n        GIT_COMMITTER_EMAIL=\"&lt;New email&gt;\";\n        GIT_AUTHOR_NAME=\"&lt;New name&gt;\";\n        GIT_AUTHOR_EMAIL=\"&lt;New email&gt;\";\n    fi' -- --all\n</code></pre>\n\n<p>You might get one of these errors:</p>\n\n<ol>\n<li>The temporary directory exists already</li>\n<li>Refs starting with <em>refs/original</em> exists already<br>\n(this means another filter-branch has been run previously on the repository and the then original branch reference is backed up at <em>refs/original</em>)</li>\n</ol>\n\n<p>If you want to force the run in spite of these errors, add the <strong><code>--force</code></strong> flag:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>git filter-branch --force --env-filter '\n    if [ \"$GIT_COMMITTER_NAME\" = \"&lt;Old name&gt;\" ];\n    then\n        GIT_COMMITTER_NAME=\"&lt;New name&gt;\";\n        GIT_COMMITTER_EMAIL=\"&lt;New email&gt;\";\n        GIT_AUTHOR_NAME=\"&lt;New name&gt;\";\n        GIT_AUTHOR_EMAIL=\"&lt;New email&gt;\";\n    fi' -- --all\n</code></pre>\n\n<p>A little explanation of the <code>-- --all</code> option might be needed: It makes the filter-branch work on all revisions on <em>all refs</em> (which includes all branches). This means, for example, that tags are also rewritten and is visible on the rewritten branches.</p>\n\n<p>A common \"mistake\" is to use <code>HEAD</code> instead, which means filtering all revisions on just the <em>current branch</em>. And then no tags (or other refs) would exist in the rewritten branch.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 8444091, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>It happens when you do not have a $HOME/.gitconfig initialized. You may fix this as:</p>\n\n<pre><code>git config --global user.name \"you name\"\ngit config --global user.email you@domain.com\ngit commit --amend --reset-author\n</code></pre>\n\n<p>tested with git version 1.7.5.4</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 9308873, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>I should point out that if the only problem is that the author/email is different from your usual, this is not a problem.  The correct fix is to create a file called <code>.mailmap</code> at the base of the directory with lines like</p>\n\n<pre><code>Name you want &lt;email you want&gt; Name you don't want &lt;email you don't want&gt;\n</code></pre>\n\n<p>And from then on, commands like <code>git shortlog</code> will consider those two names to be the same (unless you specifically tell them not to).  See <a href=\"http://schacon.github.com/git/git-shortlog.html\">http://schacon.github.com/git/git-shortlog.html</a> for more information.</p>\n\n<p>This has the advantage of all the other solutions here in that you don't have to rewrite history, which can cause problems if you have an upstream, and is always a good way to accidentally lose data.</p>\n\n<p>Of course, if you committed something as yourself and it should really be someone else, and you don't mind rewriting history at this point, changing the commit author is probably a good idea for attribution purposes (in which case I direct you to my other answer here).</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 9491696, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>I found the presented versions way to aggressive, especially if you commit patches from other developers, this will essentially steal their code.</p>\n\n<p>The version below does work on all branches and changes the author and comitter separately to prevent that.</p>\n\n<p>Kudos to leif81 for the all option.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\ngit filter-branch --env-filter '\nif [ \"$GIT_AUTHOR_NAME\" = \"&lt;old author&gt;\" ];\nthen\n    GIT_AUTHOR_NAME=\"&lt;new author&gt;\";\n    GIT_AUTHOR_EMAIL=\"&lt;youmail@somehost.ext&gt;\";\nfi\nif [ \"$GIT_COMMITTER_NAME\" = \"&lt;old committer&gt;\" ];\nthen\n    GIT_COMMITTER_NAME=\"&lt;new commiter&gt;\";\n    GIT_COMMITTER_EMAIL=\"&lt;youmail@somehost.ext&gt;\";\nfi\n' -- --all\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 10277389, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>You can use this alias so you can do:</p>\n\n<pre><code>git change-commits GIT_AUTHOR_NAME \"old name\" \"new name\"\n</code></pre>\n\n<p>or for the last 10 commits:</p>\n\n<pre><code>git change-commits GIT_AUTHOR_EMAIL \"old@email.com\" \"new@email.com\" HEAD~10..HEAD\n</code></pre>\n\n<p>Alias:</p>\n\n<pre><code>change-commits = \"!f() { VAR=$1; OLD=$2; NEW=$3; shift 3; git filter-branch --env-filter \\\"if [[ \\\\\\\"$`echo $VAR`\\\\\\\" = '$OLD' ]]; then export $VAR='$NEW'; fi\\\" $@; }; f \"\n</code></pre>\n\n<p>Source: <a href=\"https://github.com/brauliobo/gitconfig/blob/master/configs/.gitconfig\">https://github.com/brauliobo/gitconfig/blob/master/configs/.gitconfig</a></p>\n\n<p>Hope it is useful.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 11768870, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<ol>\n<li>run <code>git rebase -i &lt;sha1 or ref of starting point&gt;</code></li>\n<li>mark all commits that you want to change with <code>edit</code> (or <code>e</code>)</li>\n<li><p>loop the following two commands until you have processed all the commits:</p>\n\n<p><code>git commit --amend --reuse-message=HEAD --author=\"New Author &lt;new@author.email&gt;\"</code>\n;\n<code>git rebase --continue</code></p></li>\n</ol>\n\n<p>This will keep all the other commit information (including the dates).\nThe <code>--reuse-message=HEAD</code> option prevents the message editor from launching.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 12719480, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>Using interactive rebase, you can place an amend command after each commit you want to alter. For instance:</p>\n\n<pre><code>pick a07cb86 Project tile template with full details and styling\nx git commit --amend --reset-author -Chead\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 15090147, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>There's also BFG Repo Cleaner by Roberto Tyley. If you need to clean up a large repo, it is orders or magnitude faster than <code>git filter-branch</code>.</p>\n\n<p><a href=\"http://rtyley.github.io/bfg-repo-cleaner/\" rel=\"nofollow\">http://rtyley.github.io/bfg-repo-cleaner/</a></p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 17507999, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>Note that git stores <strong>two</strong> different e-mail addresses, one for the <em>committer</em> (the person who committed the change) and another one for the <em>author</em> (the person who wrote the change).</p>\n\n<p>The committer information isn't displayed in most places, but you can see it with <code>git log -1 --format=%cn,%ce</code> (or use <code>show</code> instead of <code>log</code> to specify a particular commit).</p>\n\n<p>While changing the author of your last commit is as simple as <code>git commit --amend --author \"Author Name &lt;email@example.com&gt;\"</code>, there is no one-liner or argument to do the same to the committer information.</p>\n\n<p>The solution is to (temporarily, or not) change your user information, then amend the commit, which will update the committer to your current information:</p>\n\n<pre><code>git config user.email my_other_email@example.com \ngit commit --amend\n</code></pre>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 20410984, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>We have experienced an issue today where a UTF8 character in an author name was causing trouble on the build server, so we had to rewrite the history to correct this. The steps taken were:</p>\n\n<p>Step 1: Change your username in git for all future commits, as per instructions here:\n<a href=\"https://help.github.com/articles/setting-your-username-in-git/\" rel=\"nofollow\">https://help.github.com/articles/setting-your-username-in-git/</a></p>\n\n<p>Step 2: Run the following bash script:</p>\n\n<pre><code>#!/bin/sh\n\nREPO_URL=ssh://path/to/your.git\nREPO_DIR=rewrite.tmp\n\n# Clone the repository\ngit clone ${REPO_URL} ${REPO_DIR}\n\n# Change to the cloned repository\ncd ${REPO_DIR}\n\n# Checkout all the remote branches as local tracking branches\ngit branch --list -r origin/* | cut -c10- | xargs -n1 git checkout\n\n# Rewrite the history, use a system that will preseve the eol (or lack of in commit messages) - preferably Linux not OSX\ngit filter-branch --env-filter '\nOLD_EMAIL=\"me@something.com\"\nCORRECT_NAME=\"New Me\"\n\nif [ \"$GIT_COMMITTER_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_COMMITTER_NAME=\"$CORRECT_NAME\"\nfi\nif [ \"$GIT_AUTHOR_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_AUTHOR_NAME=\"$CORRECT_NAME\"\nfi\n' --tag-name-filter cat -- --branches --tags\n\n# Force push the rewritten branches + tags to the remote\ngit push -f\n\n# Remove all knowledge that we did something\nrm -rf ${REPO_DIR}\n\n# Tell your colleagues to `git pull --rebase` on all their local remote tracking branches\n</code></pre>\n\n<p>Quick overview: Checkout your repository to a temp file, checkout all the remote branches, run the script which will rewrite the history, do a force push of the new state, and tell all your colleagues to do a rebase pull to get the changes.</p>\n\n<p>We had trouble with running this on OS X because it somehow messed up line endings in commit messages, so we had to re-run it on a Linux machine afterwards.</p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 26499901, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>Your problem is really common. See \"<a href=\"http://stacktoheap.com/blog/2013/01/06/using-mailmap-to-fix-authors-list-in-git/\" rel=\"nofollow\">Using Mailmap to Fix Authors List in Git</a>\"</p>\n\n<p>For the sake of simplicity, I have created a script to ease the process: <a href=\"https://github.com/albfan/git-changemail\" rel=\"nofollow\">git-changemail</a></p>\n\n<p>After putting that script on your path, you can issue commands like:</p>\n\n<ul>\n<li><p>Change author matchings on current branch</p>\n\n<pre><code>$ git changemail -a old@email.com -n newname -m new@email.com\n</code></pre></li>\n<li><p>Change author and committer matchings on &lt;branch> and &lt;branch2>. Pass <code>-f</code> to filter-branch to allow rewriting backups</p>\n\n<pre><code>$ git changemail -b old@email.com -n newname -m new@email.com -- -f &amp;lt;branch&gt; &amp;lt;branch2&gt;\n</code></pre></li>\n<li><p>Show existing users on repo</p>\n\n<pre><code>$ git changemail --show-both\n</code></pre></li>\n</ul>\n\n<p>By the way, after making your changes, clean the backup from the filter-branch with: <a href=\"https://github.com/albfan/git-backup-clean\" rel=\"nofollow\">git-backup-clean</a></p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 27754778, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}, {"body": "<p>When taking over an unmerged commit from another author, there is an easy way to handle this.</p>\n\n<p><code>git commit --amend --reset-author</code></p>\n", "title": "Change the author and committer name and e-mail of multiple commits in Git", "answer_id": 36189834, "question_id": 750172, "tags": ["git", "version-control", "git-filter-branch", "git-rewrite-history"]}], "question_id": 750172}, {"body": "<p>Anyone tinkering with Python long enough has been bitten (or torn to pieces) by the following issue:</p>\n\n<pre><code>def foo(a=[]):\n    a.append(5)\n    return a\n</code></pre>\n\n<p>Python novices would expect this function to always return a list with only one element: <code>[5]</code>. The result is instead very different, and very astonishing (for a novice):</p>\n\n<pre><code>&gt;&gt;&gt; foo()\n[5]\n&gt;&gt;&gt; foo()\n[5, 5]\n&gt;&gt;&gt; foo()\n[5, 5, 5]\n&gt;&gt;&gt; foo()\n[5, 5, 5, 5]\n&gt;&gt;&gt; foo()\n</code></pre>\n\n<p>A manager of mine once had his first encounter with this feature, and called it \"a dramatic design flaw\" of the language. I replied that the behavior had an underlying explanation, and it is indeed very puzzling and unexpected if you don't understand the internals. However, I was not able to answer (to myself) the following question: what is the reason for binding the default argument at function definition, and not at function execution? I doubt the experienced behavior has a practical use (who really used static variables in C, without breeding bugs?)</p>\n\n<p><strong>Edit</strong>: </p>\n\n<p>Baczek made an interesting example. Together with most of your comments and Utaal's in particular, I elaborated further:</p>\n\n<pre><code>&gt;&gt;&gt; def a():\n...     print \"a executed\"\n...     return []\n... \n&gt;&gt;&gt;            \n&gt;&gt;&gt; def b(x=a()):\n...     x.append(5)\n...     print x\n... \na executed\n&gt;&gt;&gt; b()\n[5]\n&gt;&gt;&gt; b()\n[5, 5]\n</code></pre>\n\n<p>To me, it seems that the design decision was relative to where to put the scope of parameters: inside the function or \"together\" with it?</p>\n\n<p>Doing the binding inside the function would mean that <code>x</code> is effectively bound to the specified default when the function is called, not defined, something that would present a deep flaw: the <code>def</code> line would be \"hybrid\" in the sense that part of the binding (of the function object) would happen at definition, and part (assignment of default parameters) at function invocation time.</p>\n\n<p>The actual behavior is more consistent: everything of that line gets evaluated when that line is executed, meaning at function definition.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "tags": ["python", "language-design", "least-astonishment"], "answer_count": 29, "link": "http://stackoverflow.com/questions/1132941/least-astonishment-in-python-the-mutable-default-argument", "answers": [{"body": "<p>Suppose you have the following code</p>\n\n<pre><code>fruits = (\"apples\", \"bananas\", \"loganberries\")\n\ndef eat(food=fruits):\n    ...\n</code></pre>\n\n<p>When I see the declaration of eat, the least astonishing thing is to think that if the first parameter is not given, that it will be equal to the tuple <code>(\"apples\", \"bananas\", \"loganberries\")</code></p>\n\n<p>However, supposed later on in the code, I do something like</p>\n\n<pre><code>def some_random_function():\n    global fruits\n    fruits = (\"blueberries\", \"mangos\")\n</code></pre>\n\n<p>then if default parameters were bound at function execution rather than function declaration then I would be astonished (in a very bad way) to discover that fruits had been changed.  This would be more astonishing IMO than discovering that your <code>foo</code> function above was mutating the list.</p>\n\n<p>The real problem lies with mutable variables, and all languages have this problem to some extent. Here's a question: suppose in Java I have the following code:</p>\n\n<pre><code>StringBuffer s = new StringBuffer(\"Hello World!\");\nMap&lt;StringBuffer,Integer&gt; counts = new HashMap&lt;StringBuffer,Integer&gt;();\ncounts.put(s, 5);\ns.append(\"!!!!\");\nSystem.out.println( counts.get(s) );  // does this work?\n</code></pre>\n\n<p>Now, does my map use the value of the <code>StringBuffer</code> key when it was placed into the map, or does it store the key by reference?  Either way, someone is astonished; either the person who tried to get the object out of the <code>Map</code> using a value identical to the one they put it in with, or the person who can't seem to retrieve their object even though the key they're using is literally the same object that was used to put it into the map (this is actually why Python doesn't allow its mutable built-in data types to be used as dictionary keys).</p>\n\n<p>Your example is a good one of a case where Python newcomers will be surprised and bitten.  But I'd argue that if we \"fixed\" this, then that would only create a different situation where they'd be bitten instead, and that one would be even less intuitive. Moreover, this is always the case when dealing with mutable variables; you always run into cases where someone could intuitively expect one or the opposite behavior depending on what code they're writing.</p>\n\n<p>I personally like Python's current approach: default function arguments are evaluated when the function is defined and that object is always the default. I suppose they could special-case using an empty list, but that kind of special casing would cause even more astonishment, not to mention be backwards incompatible.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1133013, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>Well, the reason is quite simply that bindings are done when code is executed, and the function definition is executed, well... when the functions is defined.</p>\n\n<p>Compare this:</p>\n\n<pre><code>class BananaBunch:\n    bananas = []\n\n    def addBanana(self, banana):\n        self.bananas.append(banana)\n</code></pre>\n\n<p>This code suffers from the exact same unexpected happenstance. bananas is a class attribute, and hence, when you add things to it, it's added to all instances of that class. The reason is exactly the same.</p>\n\n<p>It's just \"How It Works\", and making it work differently in the function case would probably be complicated, and in the class case likely impossible, or at least slow down object instantiation a lot, as you would have to keep the class code around and execute it when objects are created.</p>\n\n<p>Yes, it is unexpected. But once the penny drops, it fits in perfectly with how Python works in general. In fact, it's a good teaching aid, and once you understand why this happens, you'll grok python much better.</p>\n\n<p>That said it should feature prominently in any good Python tutorial. Because as you mention, everyone runs into this problem sooner or later.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1133255, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>This behavior is easy explained by:</p>\n\n<ol>\n<li>function (class etc.) declaration is executed only once, creating all default value objects</li>\n<li>everything is passed by reference</li>\n</ol>\n\n<p>So:</p>\n\n<pre><code>def x(a=0, b=[], c=[], d=0):\n    a = a + 1\n    b = b + [1]\n    c.append(1)\n    print a, b, c\n</code></pre>\n\n<ol>\n<li>a doesn't change - every assignment call creates new int object - new object is printed</li>\n<li>b doesn't change - new array is build from default value and printed</li>\n<li>c changes - operation is performed on same object - and it is printed</li>\n</ol>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1133375, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>What you're asking is why this:</p>\n\n<pre><code>def func(a=[], b = 2):\n    pass\n</code></pre>\n\n<p>isn't internally equivalent to this:</p>\n\n<pre><code>def func(a=None, b = None):\n    a_default = lambda: []\n    b_default = lambda: 2\n    def actual_func(a=None, b=None):\n        if a is None: a = a_default()\n        if b is None: b = b_default()\n    return actual_func\nfunc = func()\n</code></pre>\n\n<p>except for the case of explicitly calling func(None, None), which we'll ignore.</p>\n\n<p>In other words, instead of evaluating default parameters, why not store each of them, and evaluate them when the function is called?</p>\n\n<p>One answer is probably right there--it would effectively turn every function with default parameters into a closure.  Even if it's all hidden away in the interpreter and not a full-blown closure, the data's got to be stored somewhere.  It'd be slower and use more memory.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1133737, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>It's a performance optimization.  As a result of this functionality, which of these two function calls do you think is faster?</p>\n\n<pre><code>def print_tuple(some_tuple=(1,2,3)):\n    print some_tuple\n\nprint_tuple()        #1\nprint_tuple((1,2,3)) #2\n</code></pre>\n\n<p>I'll give you a hint.  Here's the disassembly (see <a href=\"http://docs.python.org/library/dis.html\">http://docs.python.org/library/dis.html</a>):</p>\n\n<h1><code>#</code>1</h1>\n\n<pre><code>0 LOAD_GLOBAL              0 (print_tuple)\n3 CALL_FUNCTION            0\n6 POP_TOP\n7 LOAD_CONST               0 (None)\n10 RETURN_VALUE\n</code></pre>\n\n<h1><code>#</code>2</h1>\n\n<pre><code> 0 LOAD_GLOBAL              0 (print_tuple)\n 3 LOAD_CONST               4 ((1, 2, 3))\n 6 CALL_FUNCTION            1\n 9 POP_TOP\n10 LOAD_CONST               0 (None)\n13 RETURN_VALUE\n</code></pre>\n\n<blockquote>\n  <p>I doubt the experienced behavior has a practical use (who really used static variables in C, without breeding bugs ?)</p>\n</blockquote>\n\n<p>As you can see, there <em>is</em> a performance benefit when using immutable default arguments.  This can make a difference if it's a frequently called function or the default argument takes a long time to construct.  Also, bear in mind that Python isn't C.  In C you have constants that are pretty much free.  In Python you don't have this benefit.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1134613, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>I know nothing about the Python interpreter inner workings (and I'm not an expert in compilers and interpreters either) so don't blame me if I propose anything unsensible or impossible.</p>\n\n<p>Provided that python objects <strong>are mutable</strong> I think that this should be taken into account when designing the default arguments stuff.\nWhen you instantiate a list:</p>\n\n<pre><code>a = []\n</code></pre>\n\n<p>you expect to get a <strong>new</strong> list referenced by <em>a</em>.</p>\n\n<p>Why should the a=[] in</p>\n\n<pre><code>def x(a=[]):\n</code></pre>\n\n<p>instantiate a new list on function definition and not on invocation?\nIt's just like you're asking \"if the user doesn't provide the argument then <em>instantiate</em> a new list and use it as if it was produced by the caller\".\nI think this is ambiguous instead:</p>\n\n<pre><code>def x(a=datetime.datetime.now()):\n</code></pre>\n\n<p>user, do you want <em>a</em> to default to the datetime corresponding to when you're defining or executing <em>x</em>?\nIn this case, as in the previous one, I'll keep the same behaviour as if the default argument \"assignment\" was the first instruction of the function (datetime.now() called on function invocation).\nOn the other hand, if the user wanted the definition-time mapping he could write:</p>\n\n<pre><code>b = datetime.datetime.now()\ndef x(a=b):\n</code></pre>\n\n<p>I know, I know: that's a closure. Alternatively Python might provide a keyword to force definition-time binding:</p>\n\n<pre><code>def x(static a=b):\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1134623, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>I used to think that creating the objects at runtime would be the better approach.  I'm less certain now, since you do lose some useful features, though it may be worth it regardless simply to prevent newbie confusion.  The disadvantages of doing so are:</p>\n\n<p><strong>1. Performance</strong></p>\n\n<pre><code>def foo(arg=something_expensive_to_compute())):\n    ...\n</code></pre>\n\n<p>If call-time evaluation is used, then the expensive function is called every time your function is used without an argument.  You'd either pay an expensive price on each call, or need to manually cache the value externally, polluting your namespace and adding verbosity.</p>\n\n<p><strong>2. Forcing bound parameters</strong></p>\n\n<p>A useful trick is to bind parameters of a lambda to the <em>current</em> binding of a variable when the lambda is created.  For example:</p>\n\n<pre><code>funcs = [ lambda i=i: i for i in range(10)]\n</code></pre>\n\n<p>This returns a list of functions that return 0,1,2,3... respectively.  If the behaviour is changed, they will instead bind <code>i</code> to the <em>call-time</em> value of i, so you would get a list of functions that all returned <code>9</code>.</p>\n\n<p>The only way to implement this otherwise would be to create a further closure with the i bound, ie:</p>\n\n<pre><code>def make_func(i): return lambda: i\nfuncs = [make_func(i) for i in range(10)]\n</code></pre>\n\n<p><strong>3. Introspection</strong></p>\n\n<p>Consider the code:</p>\n\n<pre><code>def foo(a='test', b=100, c=[]):\n   print a,b,c\n</code></pre>\n\n<p>We can get information about the arguments and defaults using the <code>inspect</code> module, which </p>\n\n<pre><code>&gt;&gt;&gt; inspect.getargspec(foo)\n(['a', 'b', 'c'], None, None, ('test', 100, []))\n</code></pre>\n\n<p>This information is very useful for things like document generation, metaprogramming, decorators etc.</p>\n\n<p>Now, suppose the behaviour of defaults could be changed so that this is the equivalent of:</p>\n\n<pre><code>_undefined = object()  # sentinel value\n\ndef foo(a=_undefined, b=_undefined, c=_undefined)\n    if a is _undefined: a='test'\n    if b is _undefined: b=100\n    if c is _undefined: c=[]\n</code></pre>\n\n<p>However, we've lost the ability to introspect, and see what the default arguments <em>are</em>.  Because the objects haven't been constructed, we can't ever get hold of them without actually calling the function.  The best we could do is to store off the source code and return that as a string.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1136611, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>the shortest answer would probably be \"definition is execution\", therefore the whole argument makes no strict sense. as a more contrived example, you may cite this:</p>\n\n<pre><code>def a(): return []\n\ndef b(x=a()):\n    print x\n</code></pre>\n\n<p>hopefully it's enough to show that not executing the default argument expressions at the execution time of the def statement isn't easy or doesn't make sense, or both.</p>\n\n<p>i agree it's a gotcha when you try to use default constructors, though.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1137164, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>It may be true that:</p>\n\n<ol>\n<li>Someone is using every language/library feature, and</li>\n<li>Switching the behavior here would be ill-advised, but</li>\n</ol>\n\n<p>it is entirely consistent to hold to both of the features above and still make another point:</p>\n\n<ol>\n<li>It is a confusing feature and it is unfortunate in Python.</li>\n</ol>\n\n<p>The other answers, or at least some of them either make points 1 and 2 but not 3, or make point 3 and downplay points 1 and 2. <strong>But all three are true.</strong></p>\n\n<p>It may be true that switching horses in midstream here would be asking for significant breakage, and that there could be more problems created by changing Python to intuitively handle Stefano's opening snippet. And it may be true that someone who knew Python internals well could explain a minefield of consequences. <em>However,</em></p>\n\n<p>The existing behavior is not Pythonic, and Python is successful because very little about the language violates the principle of least astonishment anywhere <em>near</em> this badly. It is a real problem, whether or not it would be wise to uproot it. It is a design flaw. If you understand the language much better by trying to trace out the behavior, I can say that C++ does all of this and more; you learn a lot by navigating, for instance, subtle pointer errors. But this is not Pythonic: people who care about Python enough to persevere in the face of this behavior are people who are drawn to the language because Python has far fewer surprises than other language. Dabblers and the curious become Pythonistas when they are astonished at how little time it takes to get something working--not because of a design fl--I mean, hidden logic puzzle--that cuts against the intuitions of programmers who are drawn to Python because it <strong>Just Works</strong>.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1139730, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>Actually, this is not a design flaw, and it is not because of internals, or performance.<br />\nIt comes simply from the fact that functions in Python are first-class objects, and not only a piece of code.</p>\n\n<p>As soon as you get to think into this way, then it completely makes sense: a function is an object being evaluated on its definition; default parameters are kind of \"member data\" and therefore their state may change from one call to the other - exactly as in any other object.</p>\n\n<p>In any case, Effbot has a very nice explanation of the reasons for this behavior in <a href=\"http://effbot.org/zone/default-values.htm\">Default Parameter Values in Python</a>.<br />\nI found it very clear, and I really suggest reading it for a better knowledge of how function objects work.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 1145781, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>This actually has nothing to do with default values, other than that it often comes up as an unexpected behaviour when you write functions with mutable default values.</p>\n\n<pre><code>&gt;&gt;&gt; def foo(a):\n    a.append(5)\n    print a\n\n&gt;&gt;&gt; a  = [5]\n&gt;&gt;&gt; foo(a)\n[5, 5]\n&gt;&gt;&gt; foo(a)\n[5, 5, 5]\n&gt;&gt;&gt; foo(a)\n[5, 5, 5, 5]\n&gt;&gt;&gt; foo(a)\n[5, 5, 5, 5, 5]\n</code></pre>\n\n<p>No default values in sight in this code, but you get exactly the same problem.</p>\n\n<p>The problem is that <code>foo</code> is <em>modifying</em> a mutable variable passed in from the caller, when the caller doesn't expect this. Code like this would be fine if the function was called something like <code>append_5</code>; then the caller would be calling the function in order to modify the value they pass in, and the behaviour would be expected. But such a function would be very unlikely to take a default argument, and probably wouldn't return the list (since the caller already has a reference to that list; the one it just passed in).</p>\n\n<p>Your original <code>foo</code>, with a default argument, shouldn't be modifying <code>a</code> whether it was explicitly passed in or got the default value. Your code should leave mutable arguments alone unless it is clear from the context/name/documentation that the arguments are supposed to be modified. Using mutable values passed in as arguments as local temporaries is an extremely bad idea, whether we're in Python or not and whether there are default arguments involved or not.</p>\n\n<p>If you need to destructively manipulate a local temporary in the course of computing something, and you need to start your manipulation from an argument value, you need to make a copy.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 6092808, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>The solutions here are:</p>\n\n<ol>\n<li>Use <code>None</code> as your default value (or a nonce <code>object</code>), and switch on that to create your values at runtime; or</li>\n<li>Use a <code>lambda</code> as your default parameter, and call it within a try block to get the default value (this is the sort of thing that lambda abstraction is for).</li>\n</ol>\n\n<p>The second option is nice because users of the function can pass in a callable, which may be already existing (such as a <code>type</code>)</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 9791799, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>This behavior is not surprising if you take the following into consideration:</p>\n\n<ol>\n<li>The behavior of read-only class attributes upon assignment attempts, and that</li>\n<li>Functions are objects (explained well in the accepted answer). </li>\n</ol>\n\n<p>The role of <strong>(2)</strong> has been covered extensively in this thread. <strong>(1)</strong> is likely the astonishment causing factor, as this behavior is not \"intuitive\" when coming from other languages.</p>\n\n<p><strong>(1)</strong> is described in the Python <a href=\"http://docs.python.org/tutorial/classes.html\">tutorial on classes</a>. In an attempt to assign a value to a read-only class attribute:</p>\n\n<blockquote>\n  <p>...all variables found outside of the innermost scope are\n  read-only (<strong><em>an attempt to write to such a variable will simply create a\n  new local variable in the innermost scope, leaving the identically\n  named outer variable unchanged</em></strong>).</p>\n</blockquote>\n\n<p>Look back to the original example and consider the above points:</p>\n\n<pre><code>def foo(a=[]):\n    a.append(5)\n    return a\n</code></pre>\n\n<p>Here <code>foo</code> is an object and <code>a</code> is an attribute of <code>foo</code> (available at <code>foo.func_defs[0]</code>). Since <code>a</code> is a list, <code>a</code> is mutable and is thus a read-write attribute of <code>foo</code>. It is initialized to the empty list as specified by the signature when the function is instantiated, and is available for reading and writing as long as the function object exists. </p>\n\n<p>Calling <code>foo</code> without overriding a default uses that default's value from <code>foo.func_defs</code>. In this case, <code>foo.func_defs[0]</code> is used for <code>a</code> within function object's code scope. Changes to <code>a</code> change <code>foo.func_defs[0]</code>, which is part of the <code>foo</code> object and persists between execution of the code in <code>foo</code>.</p>\n\n<p>Now, compare this to the example from the documentation on <a href=\"http://docs.python.org/tutorial/controlflow.html#default-argument-values\">emulating the default argument behavior of other languages</a>, such that the function signature defaults are used every time the function is executed:</p>\n\n<pre><code>def foo(a, L=None):\n    if L is None:\n        L = []\n    L.append(a)\n    return L\n</code></pre>\n\n<p>Taking <strong>(1)</strong> and <strong>(2)</strong> into account, one can see why this accomplishes the the desired behavior: </p>\n\n<ul>\n<li>When the <code>foo</code> function object is instantiated, <code>foo.func_defs[0]</code> is set to <code>None</code>, an immutable object.</li>\n<li>When the function is executed with defaults (with no parameter specified for <code>L</code> in the function call), <code>foo.func_defs[0]</code> (<code>None</code>) is available in the local scope as <code>L</code>.</li>\n<li>Upon <code>L = []</code>, the assignment cannot succeed at <code>foo.func_defs[0]</code>, because that attribute is read-only. </li>\n<li>Per <strong>(1)</strong>, <strong><em>a new local variable also named <code>L</code> is created in the local scope</em></strong> and used for the remainder of the function call. <code>foo.func_defs[0]</code> thus remains unchanged for future invocations of <code>foo</code>.</li>\n</ul>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 10304917, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<pre><code>&gt;&gt;&gt; def a():\n&gt;&gt;&gt;    print \"a executed\"\n&gt;&gt;&gt;    return []\n&gt;&gt;&gt; x =a()\na executed\n&gt;&gt;&gt; def b(m=[]):\n&gt;&gt;&gt;    m.append(5)\n&gt;&gt;&gt;    print m\n&gt;&gt;&gt; b(x)\n[5]\n&gt;&gt;&gt; b(x)\n[5, 5]\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 11334749, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>AFAICS no one has yet posted the relevant part of the <a href=\"http://docs.python.org/reference/compound_stmts.html#function-definitions\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong>Default parameter values are evaluated when the function definition is executed.</strong> This means that the expression is evaluated once, when the function is defined, and that the same \u201cpre-computed\u201d value is used for each call. This is especially important to understand when a default parameter is a mutable object, such as a list or a dictionary: if the function modifies the object (e.g. by appending an item to a list), the default value is in effect modified. This is generally not what was intended. A way around this is to use None as the default, and explicitly test for it in the body of the function [...]</p>\n</blockquote>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 11416002, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>1)  The so-called problem of \"Mutable Default Argument\" is in general a special example demonstrating that:<br>\n\"All functions with this problem <strong>suffer also from similar side effect problem on the actual parameter</strong>,\"<br>\nThat is against the rules of functional programming, usually undesiderable and should be fixed both together.</p>\n\n<p>Example:</p>\n\n<pre><code>def foo(a=[]):                 # the same problematic function\n    a.append(5)\n    return a\n\n&gt;&gt;&gt; somevar = [1, 2]           # an example without a default parameter\n&gt;&gt;&gt; foo(somevar)\n[1, 2, 5]\n&gt;&gt;&gt; somevar\n[1, 2, 5]                      # usually expected [1, 2]\n</code></pre>\n\n<p><strong>Solution</strong>:  a <strong>copy</strong><br>\nAn absolutely safe solution is to <strong><code>copy</code></strong> or <strong><code>deepcopy</code></strong> the input object first and then to do whatever with the copy.</p>\n\n<pre><code>def foo(a=[]):\n    a = a[:]     # a copy\n    a.append(5)\n    return a     # or everything safe by one line: \"return a + [5]\"\n</code></pre>\n\n<p>Many builtin mutable types have a copy method like <code>some_dict.copy()</code> or <code>some_set.copy()</code> or can be copied easy like <code>somelist[:]</code> or <code>list(some_list)</code>. Every object can be also copied by <code>copy.copy(any_object)</code> or more thorough by <code>copy.deepcopy()</code> (the latter useful if the mutable object is composed from mutable objects). Some objects are fundamentally based on side effects like \"file\" object and can not be meaningfully reproduced by copy. <a href=\"http://effbot.org/pyfaq/how-do-i-copy-an-object-in-python.htm\">copying</a></p>\n\n<p>Example problem for <a href=\"http://stackoverflow.com/q/13484107/448474\">a similar SO question</a></p>\n\n<pre><code>class Test(object):            # the original problematic class\n  def __init__(self, var1=[]):\n    self._var1 = var1\n\nsomevar = [1, 2]               # an example without a default parameter\nt1 = Test(somevar)\nt2 = Test(somevar)\nt1._var1.append([1])\nprint somevar                  # [1, 2, [1]] but usually expected [1, 2]\nprint t2._var1                 # [1, 2, [1]] but usually expected [1, 2]\n</code></pre>\n\n<p>It shouldn't be neither saved in any <em>public</em> attribute of an instance returned by this function. (Assuming that <em>private</em> attributes of instance should not be modified from outside of this class or subclasses by convention. i.e. <code>_var1</code> is a private attribute )</p>\n\n<p>Conclusion:<br>\nInput parameters objects shouldn't be modified in place (mutated) nor they should not be binded into an object returned by the function. (If we prefere programming without side effects which is strongly recommended. see <a href=\"http://en.wikipedia.org/wiki/Side_effect_%28computer_science%29\">Wiki about \"side effect\"</a> (The first two paragraphs are relevent in this context.)\n.)</p>\n\n<p>2)<br>\nOnly if the side effect on the actual parameter is required but unwanted on the default parameter then the useful solution is <code>def ...(var1=None):</code> <code>if var1 is None:</code> <code>var1 = []</code> <a href=\"http://effbot.org/zone/default-values.htm#what-to-do-instead\">More..</a></p>\n\n<p>3) In some cases is <a href=\"http://effbot.org/zone/default-values.htm#valid-uses-for-mutable-defaults\">the mutable behavior of default parameters useful</a>.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 13518071, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>You can get round this by replacing the object (and therefore the tie with the scope):</p>\n\n<pre><code>def foo(a=[]):\n    a = list(a)\n    a.append(5)\n    return a\n</code></pre>\n\n<p>Ugly, but it works.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 14336301, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>A simple workaround using None</p>\n\n<pre><code>&gt;&gt;&gt; def bar(b, data=None):\n...     data = data or []\n...     data.append(b)\n...     return data\n... \n&gt;&gt;&gt; bar(3)\n[3]\n&gt;&gt;&gt; bar(3)\n[3]\n&gt;&gt;&gt; bar(3)\n[3]\n&gt;&gt;&gt; bar(3, [34])\n[34, 3]\n&gt;&gt;&gt; bar(3, [34])\n[34, 3]\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 15133978, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>This \"bug\" gave me a lot of overtime work hours! But I'm beginning to see a potential use of it (but I would have liked it to be at the execution time, still)</p>\n\n<p>I'm gonna give you what I see as a useful example.</p>\n\n<pre><code>def example(errors=[]):\n    # statements\n    # Something went wrong\n    mistake = True\n    if mistake:\n        tryToFixIt(errors)\n        # Didn't work.. let's try again\n        tryToFixItAnotherway(errors)\n        # This time it worked\n    return errors\n\ndef tryToFixIt(err):\n    err.append('Attempt to fix it')\n\ndef tryToFixItAnotherway(err):\n    err.append('Attempt to fix it by another way')\n\ndef main():\n    for item in range(2):\n        errors = example()\n    print '\\n'.join(errors)\n\nmain()\n</code></pre>\n\n<p>prints the following</p>\n\n<pre><code>Attempt to fix it\nAttempt to fix it by another way\nAttempt to fix it\nAttempt to fix it by another way\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 17782210, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>I think the answer to this question lies in how python pass data to parameter (pass by value or by reference), not mutability or how python handle the \"def\" statement.</p>\n\n<p>A brief introduction. First, there are two type of data types in python, one is simple elementary data type, like numbers, and another data type is objects. Second, when passing data to parameters, python pass elementary data type by value, i.e., make a local copy of the value to a local variable, but pass object by reference, i.e., pointers to the object.</p>\n\n<p>Admitting the above two points, let's explain what happened to the python code. It's only because of passing by reference for objects, but has nothing to do with mutable/immutable, or arguably the fact that \"def\" statement is executed only once when it is defined.</p>\n\n<p>[] is an object, so python pass the reference of [] to <code>a</code>, i.e., <code>a</code> is only a pointer to [] which lies in memory as an object. There is only one copy of [] with, however, many references to it. For the first foo(), the list [] is changed to <a href=\"http://effbot.org/zone/default-values.htm\">1</a> by append method. But Note that there is only one copy of the list object and this object now becomes <a href=\"http://effbot.org/zone/default-values.htm\">1</a>. When running the second foo(), what effbot webpage says (items is not evaluated any more) is wrong. <code>a</code> is evaluated to be the list object, although now the content of the object is <a href=\"http://effbot.org/zone/default-values.htm\">1</a>. This is the effect of passing by reference! The result of foo(3) can be easily derived in the same way.</p>\n\n<p>To further validate my answer, let's take a look at two additional codes.</p>\n\n<p>====== No. 2 ========</p>\n\n<pre><code>def foo(x, items=None):\n    if items is None:\n        items = []\n    items.append(x)\n    return items\n\nfoo(1)  #return [1]\nfoo(2)  #return [2]\nfoo(3)  #return [3]\n</code></pre>\n\n<p><code>[]</code> is an object, so is <code>None</code> (the former is mutable while the latter is immutable. But the mutability has nothing to do with the question). None is somewhere in the space but we know it's there and there is only one copy of None there. So every time foo is invoked, items is evaluated (as opposed to some answer that it is only evaluated once) to be None, to be clear, the reference (or the address) of None. Then in the foo, item is changed to [], i.e., points to another object which has a different address. </p>\n\n<p>====== No. 3 =======</p>\n\n<pre><code>def foo(x, items=[]):\n    items.append(x)\n    return items\n\nfoo(1)    # returns [1]\nfoo(2,[]) # returns [2]\nfoo(3)    # returns [1,3]\n</code></pre>\n\n<p>The invocation of foo(1) make items point to a list object [] with an address, say, 11111111. the content of the list is changed to <a href=\"http://effbot.org/zone/default-values.htm\">1</a> in the foo function in the sequel, but the address is not changed, still 11111111. Then foo(2,[]) is coming. Although the [] in foo(2,[]) has the same content as the default parameter [] when calling foo(1), their address are different! Since we provide the parameter explicitly, <code>items</code> has to take the address of this new <code>[]</code>, say 2222222, and return it after making some change. Now foo(3) is executed. since only <code>x</code> is provided, items has to take its default value again. What's the default value? It is set when defining the foo function: the list object located in 11111111. So the items is evaluated to be the address 11111111 having an element 1. The list located at 2222222 also contains one element 2, but it is not pointed by items any more. Consequently, An append of 3 will make <code>items</code> [1,3]. </p>\n\n<p>From the above explanations, we can see that the <a href=\"http://effbot.org/zone/default-values.htm\">effbot</a> webpage recommended in the accepted answer failed to give a relevant answer to this question. What is more, I think a point in the effbot webpage is wrong. I think the code regarding the UI.Button is correct:</p>\n\n<pre><code>for i in range(10):\n    def callback():\n        print \"clicked button\", i\n    UI.Button(\"button %s\" % i, callback)\n</code></pre>\n\n<p>Each button can hold a distinct callback function which will display different value of <code>i</code>. I can provide an example to show this:</p>\n\n<pre><code>x=[]\nfor i in range(10):\n    def callback():\n        print(i)\n    x.append(callback) \n</code></pre>\n\n<p>If we execute <code>x[7]()</code> we'll get 7 as expected, and <code>x[9]()</code> will gives 9, another value of <code>i</code>.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 18372696, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>When we do this:</p>\n\n<pre><code>def foo(a=[]):\n    ...\n</code></pre>\n\n<p>... we assign the argument <code>a</code> to an <em>unnamed</em> list, if the caller does not pass the value of a.</p>\n\n<p>To make things simpler for this discussion, let's temporarily give the unnamed list a name. How about <code>pavlo</code> ?</p>\n\n<pre><code>def foo(a=pavlo):\n   ...\n</code></pre>\n\n<p>At any time, if the caller doesn't tell us what <code>a</code> is, we reuse <code>pavlo</code>.</p>\n\n<p>If <code>pavlo</code> is mutable (modifiable), and <code>foo</code> ends up modifying it, an effect we notice the next time <code>foo</code> is called without specifying <code>a</code>.</p>\n\n<p>So this is what you see (Remember, <code>pavlo</code> is initialized to []):</p>\n\n<pre><code> &gt;&gt;&gt; foo()\n [5]\n</code></pre>\n\n<p>Now, <code>pavlo</code> is [5].</p>\n\n<p>Calling <code>foo()</code> again modifies <code>pavlo</code> again:</p>\n\n<pre><code>&gt;&gt;&gt; foo()\n[5, 5]\n</code></pre>\n\n<p>Specifying <code>a</code> when calling <code>foo()</code> ensures <code>pavlo</code> is not touched.</p>\n\n<pre><code>&gt;&gt;&gt; ivan = [1, 2, 3, 4]\n&gt;&gt;&gt; foo(a=ivan)\n[1, 2, 3, 4, 5]\n&gt;&gt;&gt; ivan\n[1, 2, 3, 4, 5]\n</code></pre>\n\n<p>So, <code>pavlo</code> is still <code>[5, 5]</code>.</p>\n\n<pre><code>&gt;&gt;&gt; foo()\n[5, 5, 5]\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 25797695, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>I sometimes exploit this behavior as an alternative to the following pattern:</p>\n\n<pre><code>singleton = None\n\ndef use_singleton():\n    global singleton\n\n    if singleton is None:\n        singleton = _make_singleton()\n\n    return singleton.use_me()\n</code></pre>\n\n<p>If <code>singleton</code> is only used by <code>use_singleton</code>, I like the following pattern as a replacement:</p>\n\n<pre><code># _make_singleton() is called only once when the def is executed\ndef use_singleton(singleton=_make_singleton()):\n    return singleton.use_me()\n</code></pre>\n\n<p>I've used this for instantiating client classes that access external resources, and also for creating dicts or lists for memoization.</p>\n\n<p>Since I don't think this pattern is well known, I do put a short comment in to guard against future misunderstandings.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 28354667, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>Already busy topic, but from what I read here, the following helped me realizing how it's working internally:</p>\n\n<pre><code>def bar(a=[]):\n     print id(a)\n     a = a + [1]\n     print id(a)\n     return a\n\n&gt;&gt;&gt; bar()\n4484370232\n4484524224\n[1]\n&gt;&gt;&gt; bar()\n4484370232\n4484524152\n[1]\n&gt;&gt;&gt; bar()\n4484370232 # Never change, this is 'class property' of the function\n4484523720 # Always a new object \n[1]\n&gt;&gt;&gt; id(bar.func_defaults[0])\n4484370232\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 29290566, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<h1>5 points in defense of Python</h1>\n\n<ol>\n<li><p><strong>Simplicity</strong>: The behavior is simple in the following sense:\nMost people fall into this trap only once, not several times.</p></li>\n<li><p><strong>Consistency</strong>: Python <em>always</em> passes objects, not names.\nThe default parameter is, obviously, part of the function \nheading (not the function body). It therefore ought to be evaluated\nat module load time (and only at module load time, unless nested), not\nat function call time.</p></li>\n<li><p><strong>Usefulness</strong>: As Frederik Lundh points out in his explanation\nof <a href=\"http://effbot.org/zone/default-values.htm#valid-uses-for-mutable-defaults\" rel=\"nofollow\">\"Default Parameter Values in Python\"</a>, the\ncurrent behavior can be quite useful for advanced programming.\n(Use sparingly.)</p></li>\n<li><p><strong>Sufficient documentation</strong>: In the most basic Python documentation,\nthe tutorial, the issue is loudly announced as\nan <strong>\"Important warning\"</strong> in the <em>first</em> subsection of Section\n<a href=\"https://docs.python.org/3/tutorial/controlflow.html#default-argument-values\" rel=\"nofollow\">\"More on Defining Functions\"</a>.\nThe warning even uses boldface,\nwhich is rarely applied outside of headings.\nRTFM: Read the fine manual.</p></li>\n<li><p><strong>Meta-learning</strong>: Falling into the trap is actually a very\nhelpful moment (at least if you are a reflective learner),\nbecause you will subsequently better understand the point \n\"Consistency\" above and that will\nteach you a great deal about Python.</p></li>\n</ol>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 29344819, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>A very subtle issue being pointed out here. Thanks for all the insights.</p>\n\n<p>I ran into a similar problem and found a fix for this.</p>\n\n<p><strong>It's always safe to clean the vessel before we start cooking</strong></p>\n\n<p><em>safe version:</em>  </p>\n\n<pre><code>def foo(bird=[]):  \n    del bird[:]  #clean it\n    bird.append('parrot')  \n    return bird  \n\n&gt;&gt;&gt;&gt; foo()       #1st call\n    ['parrot']\n&gt;&gt;&gt;&gt; foo()       #2nd call\n    ['parrot']\n&gt;&gt;&gt;&gt; foo()       #3rd call\n    ['parrot']\n</code></pre>\n\n<p>Now, independent of the number of times you call, this will work as \"expected\"</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 30177062, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>Just change the function to be:</p>\n\n<pre><code>def notastonishinganymore(a = [])'''The name is just a joke :)''':\n    del a[:]\n    a.append(5)\n    return a\n</code></pre>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 30447095, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<p>I am going to demonstrate an alternative structure to pass a default list value to a function (it works equally well with dictionaries).  </p>\n\n<p>As others have extensively commented, the list parameter is bound to the function when it is defined as opposed to when it is executed.  Because lists and dictionaries are mutable, any alteration to this parameter will affect other calls to this function.  As a result, subsequent calls to the function will receive this shared list which may have been altered by any other calls to the function.  Worse yet, two parameters are using this function's shared parameter at the same time oblivious to the changes made by the other.</p>\n\n<p><strong>Wrong Method (probably...)</strong>:</p>\n\n<pre><code>def foo(list_arg=[5]):\n    return list_arg\n\na = foo()\na.append(6)\n&gt;&gt;&gt; a\n[5, 6]\n\nb = foo()\nb.append(7)\n# The value of 6 appended to variable 'a' is now part of the list held by 'b'.\n&gt;&gt;&gt; b\n[5, 6, 7]  \n\n# Although 'a' is expecting to receive 6 (the last element it appended to the list),\n# it actually receives the last element appended to the shared list.\n# It thus receives the value 7 previously appended by 'b'.\n&gt;&gt;&gt; a.pop()             \n7\n</code></pre>\n\n<p>You can verify that they are one and the same object by using <code>id</code>:</p>\n\n<pre><code>&gt;&gt;&gt; id(a)\n5347866528\n\n&gt;&gt;&gt; id(b)\n5347866528\n</code></pre>\n\n<p>Per Brett Slatkin's \"Effective Python: 59 Specific Ways to Write Better Python\", <em>Item 20: Use <code>None</code> and Docstrings to specify dynamic default arguments</em> (p. 48)</p>\n\n<blockquote>\n  <p>The convention for achieving the desired result in Python is to\n  provide a default value of <code>None</code> and to document the actual behaviour\n  in the docstring.</p>\n</blockquote>\n\n<p>This implementation ensures that each call to the function either receives the default list or else the list passed to the function.</p>\n\n<p><strong>Preferred Method</strong>:</p>\n\n<pre><code>def foo(list_arg=None):\n   \"\"\"\n   :param list_arg:  A list of input values. \n                     If none provided, used a list with a default value of 5.\n   \"\"\"\n   if not list_arg:\n       list_arg = [5]\n   return list_arg\n\na = foo()\na.append(6)\n&gt;&gt;&gt; a\n[5, 6]\n\nb = foo()\nb.append(7)\n&gt;&gt;&gt; b\n[5, 7]\n\nc = foo([10])\nc.append(11)\n&gt;&gt;&gt; c\n[10, 11]\n</code></pre>\n\n<p>There may be legitimate use cases for the 'Wrong Method' whereby the programmer intended the default list parameter to be shared, but this is more likely the exception than the rule.</p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 32535706, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<h2>Why don't you introspect?</h2>\n\n<p>I'm actually <em>really</em> surprised no one has performed the insightfull introspection offered by Python (<code>2</code> and <code>3</code> certainly apply) on callables. </p>\n\n<p>Given a simple little function <code>func</code> defined as:</p>\n\n<pre><code>&gt;&gt;&gt; def func(a = []):\n...    a.append(5)\n</code></pre>\n\n<p>When Python encounters it, the first thing it will do is compile it in order to create a <code>code</code> object for this function. While this compilation step is done <em>Python <strong>stores</strong> the <code>list</code> reference in the function object itself</em>, as the top answer mentioned, the list <code>a</code> can now be considered a <em>member</em> of the function <code>func</code>.</p>\n\n<p>Let's do some introspection, a before and after and examine the actual list get expanded <strong>inside</strong> the function object. I'm using <code>Python 3.x</code> even though for Python 2 the same applies (<code>__defaults__</code> is present in 2 if I'm not mistaken, if it isn't <code>func_defaults</code> definitely is).</p>\n\n<h3>Function Before Execution:</h3>\n\n<pre><code>&gt;&gt;&gt; def func(a = []):\n...     a.append(5)\n...     \n</code></pre>\n\n<p>After Python executes this definition it will take any default parameters specified (<code>a = []</code> here) and <a href=\"https://docs.python.org/3/reference/datamodel.html#the-standard-type-hierarchy\" rel=\"nofollow\">cram them in the <code>__defaults__</code> attribute for the function object</a> (relevant section: Callables):     </p>\n\n<pre><code>&gt;&gt;&gt; func.__defaults__\n([],)\n</code></pre>\n\n<p>Ok, so an empty list as the single entry in <code>__defaults__</code>, just as expected. </p>\n\n<h3>Function After Execution:</h3>\n\n<p>Let's now execute this function:</p>\n\n<pre><code>&gt;&gt;&gt; func()\n</code></pre>\n\n<p>Now, let's see those <code>__defaults__</code> again: </p>\n\n<pre><code>&gt;&gt;&gt; func.__defaults__\n([5],)\n</code></pre>\n\n<p><em>Astonished?</em> The value inside the object changes! Consecutive calls to the function will now simply append to that embedded <code>list</code> object:</p>\n\n<pre><code>&gt;&gt;&gt; func(); func(); func()\n&gt;&gt;&gt; func.__defaults__\n([5, 5, 5, 5],)\n</code></pre>\n\n<p>So, there you have it, the reason why this <em>flaw</em> (ehem) happens is because default arguments are part of the function object. There's nothing weird going on here, it's all just a bit surprising.</p>\n\n<hr>\n\n<p>To further verify that the list in <code>__defaults__</code> is the same as that used in the function <code>func</code> you can just change your function to return the <code>id</code> of the list <code>a</code> used inside the function body. Then, compare it to the list in <code>__defaults__</code> (position <code>[0]</code> in <code>__defaults__</code>) and you'll see how these are indeed refering to the same list instance:</p>\n\n<pre><code>&gt;&gt;&gt; def func(a = []): \n...     a.append(5)\n...     return id(a)\n&gt;&gt;&gt;\n&gt;&gt;&gt; id(func.__defaults__[0]) == func()\nTrue\n</code></pre>\n\n<p>All with the power of introspection! </p>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 34172768, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}, {"body": "<h1>Python: The Mutable Default Argument</h1>\n\n<p>Default arguments get evaluated at the time the function is compiled into a function object. When used by the function, multiple times by that function, they are and remain the same object. </p>\n\n<p>When they are mutable, when mutated (for example, by adding an element to it) they remain mutated on consecutive calls.</p>\n\n<p>They stay mutated because they are the same object each time.</p>\n\n<h2>Demonstration</h2>\n\n<p>Here's a demonstration - you can verify that they are the same object each time they are referenced by </p>\n\n<ul>\n<li>seeing that the list is created before the function has finished compiling to a function object,</li>\n<li>observing that the id is the same each time the list is referenced,</li>\n<li>observing that the list stays changed when the function that uses it is called a second time,</li>\n<li>observing the order in which the output is printed from the source (which I conveniently numbered for you):</li>\n</ul>\n\n<p><code>example.py</code></p>\n\n<pre><code>print('1. Global scope being evaluated')\n\ndef create_list():\n    '''noisily create a list for usage as a kwarg'''\n    l = []\n    print('3. list being created and returned, id: ' + str(id(l)))\n    return l\n\nprint('2. example_function about to be compiled to an object')\n\ndef example_function(default_kwarg1=create_list()):\n    print('appending \"a\" in default default_kwarg1')\n    default_kwarg1.append(\"a\")\n    print('list with id: ' + str(id(default_kwarg1)) + \n          ' - is now: ' + repr(default_kwarg1))\n\nprint('4. example_function compiled: ' + repr(example_function))\n\n\nif __name__ == '__main__':\n    print('5. calling example_function twice!:')\n    example_function()\n    example_function()\n</code></pre>\n\n<p>and running it with <code>python example.py</code>:</p>\n\n<pre><code>1. Global scope being evaluated\n2. example_function about to be compiled to an object\n3. list being created and returned, id: 140502758808032\n4. example_function compiled: &lt;function example_function at 0x7fc9590905f0&gt;\n5. calling example_function twice!:\nappending \"a\" in default default_kwarg1\nlist with id: 140502758808032 - is now: ['a']\nappending \"a\" in default default_kwarg1\nlist with id: 140502758808032 - is now: ['a', 'a']\n</code></pre>\n\n<h2>Does this violate the principle of \"Least Astonishment\"?</h2>\n\n<p>This order of execution is frequently confusing to new users of Python. If you understand the Python execution model, then it becomes quite expected. </p>\n\n<h2>The usual instruction to new Python users:</h2>\n\n<p>But this is why the usual instruction to new users is to create their default arguments like this instead:</p>\n\n<pre><code>def example_function_2(default_kwarg=None):\n    if default_kwarg is None:\n        default_kwarg = []\n</code></pre>\n\n<p>This uses the None singleton as a sentinel object to tell the function whether or not we've gotten an argument other than the default. If we get no argument, then we actually want to use a new empty list, <code>[]</code>, as the default.</p>\n\n<p>As the <a href=\"https://docs.python.org/tutorial/controlflow.html#default-argument-values\" rel=\"nofollow\">tutorial section on control flow</a> says:</p>\n\n<blockquote>\n  <p>If you don\u2019t want the default to be shared between subsequent calls,\n  you can write the function like this instead:</p>\n\n<pre><code>def f(a, L=None):\n    if L is None:\n        L = []\n    L.append(a)\n    return L\n</code></pre>\n</blockquote>\n", "title": "&quot;Least Astonishment&quot; in Python: The Mutable Default Argument", "answer_id": 36968932, "question_id": 1132941, "tags": ["python", "language-design", "least-astonishment"]}], "question_id": 1132941}, {"body": "<p>I have an object, <code>x</code>. I'd like to copy it as object <code>y</code>, such that changes to <code>y</code> do not modify <code>x</code>. I realized that copying objects derived from built-in JavaScript objects will result in extra, unwanted properties. This isn't a problem, since I'm copying one of my own, literal-constructed objects.</p>\n\n<p>How do I correctly clone a JavaScript object?</p>\n", "title": "How do I correctly clone a JavaScript object?", "tags": ["javascript"], "answer_count": 42, "link": "http://stackoverflow.com/questions/728360/how-do-i-correctly-clone-a-javascript-object", "answers": [{"body": "<p>From this article: <a href=\"http://my.opera.com/GreyWyvern/blog/show.dml/1725165\">How to copy arrays and objects in Javascript</a> by Brian Huisman:</p>\n\n<pre><code>Object.prototype.clone = function() {\n  var newObj = (this instanceof Array) ? [] : {};\n  for (var i in this) {\n    if (i == 'clone') continue;\n    if (this[i] &amp;&amp; typeof this[i] == \"object\") {\n      newObj[i] = this[i].clone();\n    } else newObj[i] = this[i]\n  } return newObj;\n};\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 728395, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Here is a function you can use. </p>\n\n<pre><code>function clone(obj) {\n    if(obj == null || typeof(obj) != 'object')\n        return obj;    \n    var temp = new obj.constructor(); \n    for(var key in obj)\n        temp[key] = clone(obj[key]);    \n    return temp;\n}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 728400, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>If there are no circular dependencies in your object, I suggest using one of the other answers or <a href=\"http://stackoverflow.com/questions/122102/what-is-the-most-efficent-way-to-clone-a-javascript-object/122704#122704\">jQuery's copy methods</a>, as they all seem quite effective.</p>\n\n<p>If there are circular dependencies (i.e., two sub-objects link to each other), you are kind of screwed as there is (from a theoretical perspective) <a href=\"http://stackoverflow.com/questions/597588/how-do-you-clone-an-array-of-objects-in-javascript/597726#597726\">no way to solve this issue elegantly</a>.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 728401, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Using <a href=\"http://prototypejs.org\" rel=\"nofollow\">Prototype</a> framework:  </p>\n\n<pre><code>var y = Object.clone(x);\n</code></pre>\n\n<p>Considering <a href=\"http://www.prototypejs.org/api/object/clone\" rel=\"nofollow\">clone</a> implementation:  </p>\n\n<pre><code>...\nObject.extend = function(destination, source) {\n  for (var property in source)\n    destination[property] = source[property];\n  return destination;\n};\n...\nclone: function(object) {\n    return Object.extend({ }, object);\n  }\n...\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 728409, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>From the <a href=\"http://developer.apple.com/DOCUMENTATION/ScriptingAutomation/Conceptual/JSCodingGuide/OOJavaScript/OOJavaScript.html#//apple%5Fref/doc/uid/TP40006539-SW3\" rel=\"nofollow\">Apple JavaScript Coding Guidelines</a>:</p>\n\n<pre><code>// Create an inner object with a variable x whose default\n// value is 3.\nfunction innerObj()\n{\n        this.x = 3;\n}\ninnerObj.prototype.clone = function() {\n    var temp = new innerObj();\n    for (myvar in this) {\n        // this object does not contain any objects, so\n        // use the lightweight copy code.\n        temp[myvar] = this[myvar];\n    }\n    return temp;\n}\n\n// Create an outer object with a variable y whose default\n// value is 77.\nfunction outerObj()\n{\n        // The outer object contains an inner object.  Allocate it here.\n        this.inner = new innerObj();\n        this.y = 77;\n}\nouterObj.prototype.clone = function() {\n    var temp = new outerObj();\n    for (myvar in this) {\n        if (this[myvar].clone) {\n            // This variable contains an object with a\n            // clone operator.  Call it to create a copy.\n            temp[myvar] = this[myvar].clone();\n        } else {\n            // This variable contains a scalar value,\n            // a string value, or an object with no\n            // clone function.  Assign it directly.\n            temp[myvar] = this[myvar];\n        }\n    }\n    return temp;\n}\n\n// Allocate an outer object and assign non-default values to variables in\n// both the outer and inner objects.\nouter = new outerObj;\nouter.inner.x = 4;\nouter.y = 16;\n\n// Clone the outer object (which, in turn, clones the inner object).\nnewouter = outer.clone();\n\n// Verify that both values were copied.\nalert('inner x is '+newouter.inner.x); // prints 4\nalert('y is '+newouter.y); // prints 16\n</code></pre>\n\n<p>Steve</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 728469, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>To do this for any object in JavaScript will not be simple or straightforward. You will run into the problem of erroneously picking up attributes from the object's prototype that should be left in the prototype and not copied to the new instance. If, for instance, you are adding a <code>clone</code> method to <code>Object.prototype</code>, as some answers depict, you will need to explicitly skip that attribute. But what if there are other additional methods added to <code>Object.prototype</code>, or other intermediate prototypes, that you don't know about? In that case, you will copy attributes you shouldn't, so you need to detect unforeseen, non-local attributes with the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Object/hasOwnProperty\"><code>hasOwnProperty</code></a> method.</p>\n\n<p>In addition to non-enumerable attributes, you'll encounter a tougher problem when you try to copy objects that have hidden properties. For example, <code>prototype</code> is a hidden property of a function. Also, an object's prototype is referenced with the attribute <code>__proto__</code>, which is also hidden, and will not be copied by a for/in loop iterating over the source object's attributes. I think <code>__proto__</code> might be specific to Firefox's JavaScript interpreter and it may be something different in other browsers, but you get the picture. Not everything is enumerable. You can copy a hidden attribute if you know its name, but I don't know of any way to discover it automatically.</p>\n\n<p>Yet another snag in the quest for an elegant solution is the problem of setting up the prototype inheritance correctly. If your source object's prototype is <code>Object</code>, then simply creating a new general object with <code>{}</code> will work, but if the source's prototype is some descendant of <code>Object</code>, then you are going to be missing the additional members from that prototype which you skipped using the <code>hasOwnProperty</code> filter, or which were in the prototype, but weren't enumerable in the first place. One solution might be to call the source object's <code>constructor</code> property to get the initial copy object and then copy over the attributes, but then you still will not get non-enumerable attributes. For example, a <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date\"><code>Date</code></a> object stores its data as a hidden member:</p>\n\n<pre><code>function clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor();\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n    return copy;\n}\n\nvar d1 = new Date();\n\n/* Wait for 5 seconds. */\nvar start = (new Date()).getTime();\nwhile ((new Date()).getTime() - start &lt; 5000);\n\n\nvar d2 = clone(d1);\nalert(\"d1 = \" + d1.toString() + \"\\nd2 = \" + d2.toString());\n</code></pre>\n\n<p>The date string for <code>d1</code> will be 5 seconds behind that of <code>d2</code>. A way to make one <code>Date</code> the same as another is by calling the <code>setTime</code> method, but that is specific to the <code>Date</code> class. I don't think there is a bullet-proof general solution to this problem, though I would be happy to be wrong!</p>\n\n<p>When I had to implement general deep copying I ended up compromising by assuming that I would only need to copy a plain <code>Object</code>, <code>Array</code>, <code>Date</code>, <code>String</code>, <code>Number</code>, or <code>Boolean</code>. The last 3 types are immutable, so I could perform a shallow copy and not worry about it changing. I further assumed that any elements contained in <code>Object</code> or <code>Array</code> would also be one of the 6 simple types in that list. This can be accomplished with code like the following:</p>\n\n<pre><code>function clone(obj) {\n    var copy;\n\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i &lt; len; i++) {\n            copy[i] = clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n</code></pre>\n\n<p>The above function will work adequately for the 6 simple types I mentioned, as long as the data in the objects and arrays form a tree structure. That is, there isn't more than one reference to the same data in the object. For example:</p>\n\n<pre><code>// This would be cloneable:\nvar tree = {\n    \"left\"  : { \"left\" : null, \"right\" : null, \"data\" : 3 },\n    \"right\" : null,\n    \"data\"  : 8\n};\n\n// This would kind-of work, but you would get 2 copies of the \n// inner node instead of 2 references to the same copy\nvar directedAcylicGraph = {\n    \"left\"  : { \"left\" : null, \"right\" : null, \"data\" : 3 },\n    \"data\"  : 8\n};\ndirectedAcyclicGraph[\"right\"] = directedAcyclicGraph[\"left\"];\n\n// Cloning this would cause a stack overflow due to infinite recursion:\nvar cylicGraph = {\n    \"left\"  : { \"left\" : null, \"right\" : null, \"data\" : 3 },\n    \"data\"  : 8\n};\ncylicGraph[\"right\"] = cylicGraph;\n</code></pre>\n\n<p>It will not be able to handle any JavaScript object, but it may be sufficient for many purposes as long as you don't assume that it will just work for anything you throw at it.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 728694, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>One particular \"un-elegant\" solution is to use JSON encoding to make deep copies of objects that do not have member methods. The methodology is to JSON encode your target object, then by decoding it, you get the copy you are looking for.  You can decode as many times as you want to make as many copies as you need.</p>\n\n<p>Of course, functions do not belong in JSON, so this only works for objects without member methods.</p>\n\n<p>This methodology was perfect for my use case, since I'm storing JSON blobs in a key-value store, and when they are exposed as objects in a JavaScript API, each object actually contains a copy of the original state of the object so we can calculate the delta after the caller has mutated the exposed object.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 1646301, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>With jQuery, you can <strong>shallow copy</strong> with <a href=\"http://api.jquery.com/jQuery.extend\">extend</a>:</p>\n\n<pre><code>var copiedObject = jQuery.extend({}, originalObject)\n</code></pre>\n\n<p>subsequent changes to the copiedObject will not affect the originalObject, and vice versa.</p>\n\n<p>Or to make a <strong>deep copy</strong>:</p>\n\n<pre><code>var copiedObject = jQuery.extend(true, {}, originalObject)\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 5164215, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>A.Levy's answer is almost complete, here is my little contribution: <strong>there is a way how to handle recursive references</strong>, see this line</p>\n\n<p><code>if(this[attr]==this) copy[attr] = copy;</code></p>\n\n<p>If the object is XML DOM element, we must use <strong>cloneNode</strong> instead</p>\n\n<p><code>if(this.cloneNode) return this.cloneNode(true);</code></p>\n\n<p>Inspired by A.Levy's exhaustive study and Calvin's prototyping approach, I offer this solution:</p>\n\n<pre><code>Object.prototype.clone = function() {\n  if(this.cloneNode) return this.cloneNode(true);\n  var copy = this instanceof Array ? [] : {};\n  for(var attr in this) {\n    if(typeof this[attr] == \"function\" || this[attr]==null || !this[attr].clone)\n      copy[attr] = this[attr];\n    else if(this[attr]==this) copy[attr] = copy;\n    else copy[attr] = this[attr].clone();\n  }\n  return copy;\n}\n\nDate.prototype.clone = function() {\n  var copy = new Date();\n  copy.setTime(this.getTime());\n  return copy;\n}\n\nNumber.prototype.clone = \nBoolean.prototype.clone =\nString.prototype.clone = function() {\n  return this;\n}\n</code></pre>\n\n<p>See also Andy Burke's note in the answers.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 9023088, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>There are many answers, but none that mentions <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create\">Object.create</a> from ECMAScript 5, which admittedly does not give you an exact copy, but sets the source as the prototype of the new object.</p>\n\n<p>Thus, this is not an exact answer to the question, but it is a one-line solution and thus elegant. And it works best for 2 cases:</p>\n\n<ol>\n<li>Where such inheritance is useful (duh!)</li>\n<li>Where the source object won't be modified, thus making the relation between the 2 objects a non issue.</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>var foo = { a : 1 };\nvar bar = Object.create(foo);\nfoo.a; // 1\nbar.a; // 1\nfoo.a = 2;\nbar.a; // 2 - prototype changed\nbar.a = 3;\nfoo.a; // Still 2, since setting bar.a makes it an \"own\" property\n</code></pre>\n\n<p>Why do I consider this solution to be superior? It's native, thus no looping, no recursion. However, older browsers will need a polyfill.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 9772788, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Jan Turo\u0148's answer above is very close, and may be the best to use in a browser due to compatibility issues, but it will potentially cause some strange enumeration issues.  For instance, executing:</p>\n\n<pre><code>for ( var i in someArray ) { ... }\n</code></pre>\n\n<p>Will assign the clone() method to i after iterating through the elements of the array.  Here's an adaptation that avoids the enumeration and works with node.js:</p>\n\n<pre><code>Object.defineProperty( Object.prototype, \"clone\", {\n    value: function() {\n        if ( this.cloneNode )\n        {\n            return this.cloneNode( true );\n        }\n\n        var copy = this instanceof Array ? [] : {};\n        for( var attr in this )\n        {\n            if ( typeof this[ attr ] == \"function\" || this[ attr ] == null || !this[ attr ].clone )\n            {\n                copy[ attr ] = this[ attr ];\n            }\n            else if ( this[ attr ] == this )\n            {\n                copy[ attr ] = copy;\n            }\n            else\n            {\n                copy[ attr ] = this[ attr ].clone();\n            }\n        }\n        return copy;\n    }\n});\n\nObject.defineProperty( Date.prototype, \"clone\", {\n    value: function() {\n        var copy = new Date();\n        copy.setTime( this.getTime() );\n        return copy;\n    }\n});\n\nObject.defineProperty( Number.prototype, \"clone\", { value: function() { return this; } } );\nObject.defineProperty( Boolean.prototype, \"clone\", { value: function() { return this; } } );\nObject.defineProperty( String.prototype, \"clone\", { value: function() { return this; } } );\n</code></pre>\n\n<p>This avoids making the clone() method enumerable because defineProperty() defaults enumerable to false.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 9937764, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>You can clone an object and remove any reference from the previous one using a single line of code. Simply do:</p>\n\n<pre><code>var obj1 = { text: 'moo1' };\nvar obj2 = Object.create(obj1); // Creates a new clone without references\n\nobj2.text = 'moo2'; // Only updates obj2's text property\n\nconsole.log(obj1, obj2); // Outputs: obj1: {text:'moo1'}, obj2: {text:'moo2'}\n</code></pre>\n\n<p>For browsers / engines that do not currently support Object.create you can use this polyfill:</p>\n\n<pre><code>// Polyfill Object.create if it does not exist\nif (!Object.create) {\n    Object.create = function (o) {\n        var F = function () {};\n        F.prototype = o;\n        return new F();\n    };\n}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 10766780, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>I just wanted to add to all the <code>Object.create</code> solutions in this post, that this does not work in the desired way with nodejs. </p>\n\n<p>In Firefox the result of</p>\n\n<pre><code>var a = {\"test\":\"test\"};\nvar b = Object.create(a);\nconsole.log(b);\u00b4\n</code></pre>\n\n<p>is </p>\n\n<p><code>{test:\"test\"}</code>.</p>\n\n<p>In nodejs it is </p>\n\n<pre><code>{}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 10869215, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>If you do not use functions within your object, a very simple one liner can be the following:</p>\n\n<pre><code>var cloneOfA = JSON.parse(JSON.stringify(a));\n</code></pre>\n\n<p>This works for all kind of objects containing objects, arrays, strings, booleans and numbers.</p>\n\n<p>See also <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/The_structured_clone_algorithm\">this article about the structured clone algorithm of browsers</a> which is used when posting messages to and from a worker. It also contains a function for deep cloning.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 10869248, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>If you're okay with a shallow copy, the underscore.js library has a <a href=\"http://underscorejs.org/#clone\">clone</a> method.</p>\n\n<pre><code>y = _.clone(x);\n</code></pre>\n\n<p>or you can extend it like</p>\n\n<pre><code>copiedObject = _.extend({},originalObject);\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 11024936, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>One thing is certain... there is no elegant way. My contribution here is this link\n<a href=\"http://oranlooney.com/deep-copy-javascript/\" rel=\"nofollow\">http://oranlooney.com/deep-copy-javascript/</a></p>\n\n<p>I think this library is the most comprehensive and elegant solution. It is particularly focused on the prototype chain of the cloned objects. It includes a mechanism to easy describe custom cloning behavior for particular classes. The author explains that most of the time the default cloning mechanism which is provided works fine.</p>\n\n<p>It also clones functions and handles cycles or multiple references.</p>\n\n<p>I have recently suggested the author a solution to optimize the mechanism which handles cycles, from O(n^2) to O(n).</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 11370933, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>This is an adaptation of A. Levy's code to also handle the cloning of functions and multiple/cyclic references - what this means is that if two properties in the tree which is cloned are references of the same object, the cloned object tree will have these properties point to one and the same clone of the referenced object. This also solves the case of cyclic dependencies which, if left unhandled, leads to an infinite loop. The complexity of the algorithm is O(n)</p>\n\n<pre><code>function clone(obj){\n    var clonedObjectsArray = [];\n    var originalObjectsArray = []; //used to remove the unique ids when finished\n    var next_objid = 0;\n\n    function objectId(obj) {\n        if (obj == null) return null;\n        if (obj.__obj_id == undefined){\n            obj.__obj_id = next_objid++;\n            originalObjectsArray[obj.__obj_id] = obj;\n        }\n        return obj.__obj_id;\n    }\n\n    function cloneRecursive(obj) {\n        if (null == obj || typeof obj == \"string\" || typeof obj == \"number\" || typeof obj == \"boolean\") return obj;\n\n        // Handle Date\n        if (obj instanceof Date) {\n            var copy = new Date();\n            copy.setTime(obj.getTime());\n            return copy;\n        }\n\n        // Handle Array\n        if (obj instanceof Array) {\n            var copy = [];\n            for (var i = 0; i &lt; obj.length; ++i) {\n                copy[i] = cloneRecursive(obj[i]);\n            }\n            return copy;\n        }\n\n        // Handle Object\n        if (obj instanceof Object) {\n            if (clonedObjectsArray[objectId(obj)] != undefined)\n                return clonedObjectsArray[objectId(obj)];\n\n            var copy;\n            if (obj instanceof Function)//Handle Function\n                copy = function(){return obj.apply(this, arguments);};\n            else\n                copy = {};\n\n            clonedObjectsArray[objectId(obj)] = copy;\n\n            for (var attr in obj)\n                if (attr != \"__obj_id\" &amp;&amp; obj.hasOwnProperty(attr))\n                    copy[attr] = cloneRecursive(obj[attr]);                 \n\n            return copy;\n        }       \n\n\n        throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n    }\n    var cloneObj = cloneRecursive(obj);\n\n\n\n    //remove the unique ids\n    for (var i = 0; i &lt; originalObjectsArray.length; i++)\n    {\n        delete originalObjectsArray[i].__obj_id;\n    };\n\n    return cloneObj;\n}\n</code></pre>\n\n<p>Some quick tests</p>\n\n<pre><code>var auxobj = {\n    prop1 : \"prop1 aux val\", \n    prop2 : [\"prop2 item1\", \"prop2 item2\"]\n    };\n\nvar obj = new Object();\nobj.prop1 = \"prop1_value\";\nobj.prop2 = [auxobj, auxobj, \"some extra val\", undefined];\nobj.nr = 3465;\nobj.bool = true;\n\nobj.f1 = function (){\n    this.prop1 = \"prop1 val changed by f1\";\n};\n\nobjclone = clone(obj);\n\n//some tests i've made\nconsole.log(\"test number, boolean and string cloning: \" + (objclone.prop1 == obj.prop1 &amp;&amp; objclone.nr == obj.nr &amp;&amp; objclone.bool == obj.bool));\n\nobjclone.f1();\nconsole.log(\"test function cloning 1: \" + (objclone.prop1 == 'prop1 val changed by f1'));\nobjclone.f1.prop = 'some prop';\nconsole.log(\"test function cloning 2: \" + (obj.f1.prop == undefined));\n\nobjclone.prop2[0].prop1 = \"prop1 aux val NEW\";\nconsole.log(\"test multiple references cloning 1: \" + (objclone.prop2[1].prop1 == objclone.prop2[0].prop1));\nconsole.log(\"test multiple references cloning 2: \" + (objclone.prop2[1].prop1 != obj.prop2[0].prop1));\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 11462081, "question_id": 728360, "tags": ["javascript"]}, {"body": "<pre><code>function clone(src, deep) {\n\n    var toString = Object.prototype.toString;\n    if(!src &amp;&amp; typeof src != \"object\"){\n        //any non-object ( Boolean, String, Number ), null, undefined, NaN\n        return src;\n    }\n\n    //Honor native/custom clone methods\n    if(src.clone &amp;&amp; toString.call(src.clone) == \"[object Function]\"){\n        return src.clone(deep);\n    }\n\n    //DOM Elements\n    if(src.nodeType &amp;&amp; toString.call(src.cloneNode) == \"[object Function]\"){\n        return src.cloneNode(deep);\n    }\n\n    //Date\n    if(toString.call(src) == \"[object Date]\"){\n        return new Date(src.getTime());\n    }\n\n    //RegExp\n    if(toString.call(src) == \"[object RegExp]\"){\n        return new RegExp(src);\n    }\n\n    //Function\n    if(toString.call(src) == \"[object Function]\"){\n        //Wrap in another method to make sure == is not true;\n        //Note: Huge performance issue due to closures, comment this :)\n        return (function(){\n            src.apply(this, arguments);\n        });\n\n    }\n\n    var ret, index;\n    //Array\n    if(toString.call(src) == \"[object Array]\"){\n        //[].slice(0) would soft clone\n        ret = src.slice();\n        if(deep){\n            index = ret.length;\n            while(index--){\n                ret[index] = clone(ret[index], true);\n            }\n        }\n    }\n    //Object\n    else {\n        ret = src.constructor ? new src.constructor() : {};\n        for (var prop in src) {\n            ret[prop] = deep\n                ? clone(src[prop], true)\n                : src[prop];\n        }\n    }\n\n    return ret;\n};\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 11621004, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Since <a href=\"http://stackoverflow.com/users/49695/mindeavor\">mindeavor</a> stated that the object to be cloned is a 'literal-constructed' object, a solution might be to simply <em>generate</em> the object multiple times rather than cloning an instance of the object:</p>\n\n<pre><code>function createMyObject()\n{\n    var myObject =\n    {\n        ...\n    };\n    return myObject;\n}\n\nvar myObjectInstance1 = createMyObject();\nvar myObjectInstance2 = createMyObject();\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 13612285, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Using Lodash: </p>\n\n<pre><code>var y = _.clone(x, true);\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 13850856, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>In my code I frequently define a function (_) to handle copies so that I can pass \"by value\" to functions. This code creates a deep copy but maintains inheritance. It also keeps track of sub-copies so that self-referential objects can be copied without an infinite loop. Feel free to use it.</p>\n\n<p>It might not be the most elegant, but it hasn't failed me yet.</p>\n\n<pre><code>_ = function(oReferance) {\n  var aReferances = new Array();\n  var getPrototypeOf = function(oObject) {\n    if(typeof(Object.getPrototypeOf)!==\"undefined\") return Object.getPrototypeOf(oObject);\n    var oTest = new Object();\n    if(typeof(oObject.__proto__)!==\"undefined\"&amp;&amp;typeof(oTest.__proto__)!==\"undefined\"&amp;&amp;oTest.__proto__===Object.prototype) return oObject.__proto__;\n    if(typeof(oObject.constructor)!==\"undefined\"&amp;&amp;typeof(oTest.constructor)!==\"undefined\"&amp;&amp;oTest.constructor===Object&amp;&amp;typeof(oObject.constructor.prototype)!==\"undefined\") return oObject.constructor.prototype;\n    return Object.prototype;\n  };\n  var recursiveCopy = function(oSource) {\n    if(typeof(oSource)!==\"object\") return oSource;\n    if(oSource===null) return null;\n    for(var i=0;i&lt;aReferances.length;i++) if(aReferances[i][0]===oSource) return aReferances[i][1];\n    var Copy = new Function();\n    Copy.prototype = getPrototypeOf(oSource);\n    var oCopy = new Copy();\n    aReferances.push([oSource,oCopy]);\n    for(sPropertyName in oSource) if(oSource.hasOwnProperty(sPropertyName)) oCopy[sPropertyName] = recursiveCopy(oSource[sPropertyName]);\n    return oCopy;\n  };\n  return recursiveCopy(oReferance);\n};\n\n// Examples:\nWigit = function(){};\nWigit.prototype.bInThePrototype = true;\nA = new Wigit();\nA.nCoolNumber = 7;\nB = _(A);\nB.nCoolNumber = 8; // A.nCoolNumber is still 7\nB.bInThePrototype // true\nB instanceof Wigit // true\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 14201852, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>You don't get much more elegant than this in pure JS:</p>\n\n<pre><code>function copy(variable)\n{\n    var newVariable= {};\n    for (var i in variable)\n        newVariable[i] = variable[i];\n\n    return newVariable;\n}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 15911908, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Consult <a href=\"http://www.w3.org/html/wg/drafts/html/master/infrastructure.html#safe-passing-of-structured-data\" rel=\"nofollow\">http://www.w3.org/html/wg/drafts/html/master/infrastructure.html#safe-passing-of-structured-data</a> for the W3C's \"Safe passing of structured data\" algorithm, intended to be implemented by browsers for passing data to eg web workers. However, it has some limitations, in that it does not handle functions. See <a href=\"https://developer.mozilla.org/en-US/docs/DOM/The_structured_clone_algorithm\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/The_structured_clone_algorithm</a> for more information, including an alternative algorithm in JS which gets you part of the way there.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 16028032, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>My favorite &amp; elegant JS objects <strong>clone</strong> solution is</p>\n\n<pre><code>function CloneObject() {}\nfunction cloneObject(o) {\n   CloneObject.prototype = o;\n   return new CloneObject();\n}\n</code></pre>\n\n<p>Use <code>cloneObject(object)</code> to get a clone of JS object.</p>\n\n<p>Unlike many <strong>copy</strong> solutions this clone keeps prototype relationship in cloned object.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 16404343, "question_id": 728360, "tags": ["javascript"]}, {"body": "<pre><code>//\n// creates 'clone' method on context object\n//\n//  var \n//     clon = Object.clone( anyValue );\n//\n!((function (propertyName, definition) {\n    this[propertyName] = definition();\n}).call(\n    Object,\n    \"clone\",\n    function () {\n        function isfn(fn) {\n            return typeof fn === \"function\";\n        }\n\n        function isobj(o) {\n            return o === Object(o);\n        }\n\n        function isarray(o) {\n            return Object.prototype.toString.call(o) === \"[object Array]\";\n        }\n\n        function fnclon(fn) {\n            return function () {\n                fn.apply(this, arguments);\n            };\n        }\n\n        function owns(obj, p) {\n            return obj.hasOwnProperty(p);\n        }\n\n        function isemptyobj(obj) {\n            for (var p in obj) {\n                return false;\n            }\n            return true;\n        }\n\n        function isObject(o) {\n            return Object.prototype.toString.call(o) === \"[object Object]\";\n        }\n        return function (input) {\n            if (isfn(input)) {\n                return fnclon(input);\n            } else if (isobj(input)) {\n                var cloned = {};\n                for (var p in input) {\n                    owns(Object.prototype, p)\n                    || (\n                        isfn(input[p])\n                        &amp;&amp; ( cloned[p] = function () { return input[p].apply(input, arguments); } )\n                        || ( cloned[p] = input[p] )\n                    );\n                }\n                if (isarray(input)) {\n                    cloned.length = input.length;\n                    \"concat every filter forEach indexOf join lastIndexOf map pop push reduce reduceRight reverse shift slice some sort splice toLocaleString toString unshift\"\n                    .split(\" \")\n                    .forEach(\n                      function (methodName) {\n                        isfn( Array.prototype[methodName] )\n                        &amp;&amp; (\n                            cloned[methodName] =\n                            function () {\n                                return Array.prototype[methodName].apply(cloned, arguments);\n                            }\n                        );\n                      }\n                    );\n                }\n                return isemptyobj(cloned)\n                       ? (\n                          isObject(input)\n                          ? cloned\n                          : input\n                        )\n                       : cloned;\n            } else {\n                return input;\n            }\n        };\n    }\n));\n//\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 17899651, "question_id": 728360, "tags": ["javascript"]}, {"body": "<pre><code>function clone(obj)\n{\n    var cloneObj = Object.create(obj);\n\n    return cloneObj;\n}\n</code></pre>\n\n<p>In Javascript objects individually inherit another object (Prototypal inheritance). Object.create(obj) returns an object that is a sub-object or child object of obj. In the above function it will effectively return a copy of the object.</p>\n\n<p>However, This is a very odd way to clone because I am not using inheritance for its real purpose.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 18543953, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>I came to this page due to the same question but I'm neither using JQuery and none of the clone-Methods worked for my own objects.</p>\n\n<p>I'm aware my answer isn't related too strong to this question because it's a different approach. Instead of using clone-functions I use a create function. It worked for me for the following (unfortunately restricting) purposes:</p>\n\n<ol>\n<li>I use mostly JSP-generated Javascript</li>\n<li>I know in the beginning which Object must be generated (In my case it's Information from a Database which gets fetched once and needs to be deployed more often in the JS.</li>\n</ol>\n\n<p>First I defined my Objects like this:</p>\n\n<pre><code>var obj= new Object();\nobj.Type='Row';\nobj.ID=1;\nobj.Value='Blah blah';\n</code></pre>\n\n<p>Now I moved everything like:</p>\n\n<pre><code>function getObjSelektor(id_nummer,selected){\nvar obj = document.createElement(\"select\");\nobj.setAttribute(\"id\",\"Selektor_\"+id_nummer);\nobj.setAttribute(\"name\",\"Selektor\");\nobj.setAttribute(\"size\",\"1\");\n\nvar obj_opt_1 = document.createElement(\"option\");\nobj_opt_1.setAttribute(\"value\",\"1\");\nif(1==selected)\n    posopval_opt_1.setAttribute(\"selected\",\"selected\");\nobj_opt_1.innerHTML=\"Blah blah\";\nobj.appendChild(obj_opt_1);\n\nvar obj_opt_2 = document.createElement(\"option\");\nobj_opt_2.setAttribute(\"value\",\"2\");\nif(2==selected)\n    obj_opt_2.setAttribute(\"selected\",\"selected\");\nobj_opt_2.innerHTML=\"2nd Row\";\nobj.appendChild(obj_opt_2);\n\n...\n\nreturn obj;\n}\n</code></pre>\n\n<p>And call the function in the regular code:</p>\n\n<pre><code>myDiv.getObjSelektor(getObjSelektor(anotherObject.ID));\n</code></pre>\n\n<p>As said this is a different approach which solved my issue for my purposes. </p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 18674283, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>If you got an Object with Functions you can do it with JSONfn, see <a href=\"http://www.eslinstructor.net/jsonfn/\" rel=\"nofollow\">http://www.eslinstructor.net/jsonfn/</a>.</p>\n\n<pre><code>var obj= {\n    name:'Marvin',\n    getName :  function(){\n      return this.name;\n    }\n}\nvar cobj = JSONfn.parse(JSONfn.stringify(obj));\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 18998064, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>You can use functional closure to gain all the benefits of a deep copy, without a deep copy. It's a very different paradigm, but works well. Instead of trying to copy an existing object, just use a function to instantiate a new object when you need one.</p>\n\n<p>First, create an function that returns an object</p>\n\n<pre><code>function template() {\n  return {\n    values: [1, 2, 3],\n    nest: {x: {a: \"a\", b: \"b\"}, y: 100}\n  };\n}\n</code></pre>\n\n<p>Then create a simple shallow copy function</p>\n\n<pre><code>function copy(a, b) {\n  Object.keys(b).forEach(function(key) {\n    a[key] = b[key];\n  });\n}\n</code></pre>\n\n<p>Create a new object, and copy the template's properties onto it</p>\n\n<pre><code>var newObject = {}; \ncopy(newObject, template());\n</code></pre>\n\n<p>But the above copy step is not necessary. All you need to do is this:</p>\n\n<pre><code>var newObject = template();\n</code></pre>\n\n<p>Now that you have a new object, test to see what its properties are:</p>\n\n<pre><code>console.log(Object.keys(newObject));\n</code></pre>\n\n<p>This displays:</p>\n\n<pre><code>[\"values\", \"nest\"]\n</code></pre>\n\n<p>Yes, those are the newObject's own properties, not references to properties on another object.\nLet's just check:</p>\n\n<pre><code>console.log(newObject.nest.x.b);\n</code></pre>\n\n<p>This displays:</p>\n\n<pre><code>\"b\"\n</code></pre>\n\n<p>The newObject has acquired all of the template object's properties, but is free of any dependency chain.</p>\n\n<p><a href=\"http://jsbin.com/ISUTIpoC/1/edit?js,console\" rel=\"nofollow\">http://jsbin.com/ISUTIpoC/1/edit?js,console</a></p>\n\n<p>I added this example to encourage some debate, so please add some comments :)</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 21173669, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>The problem with copying an object that, eventually, may point at itself, can be solved with a simple check. Add this check, every time there is a copy action. It may be <strong>slow</strong>, but it <em>should</em> work.</p>\n\n<p>I use a <strong>toType()</strong> function to return the object type, explicitly. I also have my own <strong>copyObj()</strong> function, which is rather similar in logic, which answers all three Object(), Array(), and Date() cases.</p>\n\n<p>I run it in NodeJS.</p>\n\n<p><strong>NOT TESTED, YET.</strong></p>\n\n<pre><code>// Returns true, if one of the parent's children is the target.\n// This is useful, for avoiding copyObj() through an infinite loop!\nfunction isChild(target, parent) {\n  if (toType(parent) == '[object Object]') {\n    for (var name in parent) {\n      var curProperty = parent[name];\n\n      // Direct child.\n      if (curProperty = target) return true;\n\n      // Check if target is a child of this property, and so on, recursively.\n      if (toType(curProperty) == '[object Object]' || toType(curProperty) == '[object Array]') {\n        if (isChild(target, curProperty)) return true;\n      }\n    }\n  } else if (toType(parent) == '[object Array]') {\n    for (var i=0; i &lt; parent.length; i++) {\n      var curItem = parent[i];\n\n      // Direct child.\n      if (curItem = target) return true;\n\n      // Check if target is a child of this property, and so on, recursively.\n      if (toType(curItem) == '[object Object]' || toType(curItem) == '[object Array]') {\n        if (isChild(target, curItem)) return true;\n      }\n    }\n  }\n\n  return false;     // Not the target.\n}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 21657856, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>There are several issues with most solutions on the internet. So I decided to make a follow-up, which includes, why the accepted answer shouldn't be accepted.</p>\n\n<h2>starting situation</h2>\n\n<p>I want to <strong>deep-copy</strong> a Javascript <code>Object</code> with all of its children and their children and so on. But since I'm not kind of a normal developer, my <code>Object</code> has <em>normal</em> <code>properties</code>, <code>circular structures</code> and even <code>nested objects</code>.</p>\n\n<p>So let's create a <code>circular structure</code> and a <code>nested object</code> first.</p>\n\n<pre><code>function Circ() {\n    this.me = this;\n}\n\nfunction Nested(y) {\n    this.y = y;\n}\n</code></pre>\n\n<p>Let's bring everything together in an <code>Object</code> named <code>a</code>.</p>\n\n<pre><code>var a = {\n    x: 'a',\n    circ: new Circ(),\n    nested: new Nested('a')\n};\n</code></pre>\n\n<p>Next we want to copy <code>a</code> into a variable named <code>b</code> and mutate it.</p>\n\n<pre><code>var b = a;\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>You know what happened here, because if not you wouldn't even landed on this great question.</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nb --&gt; Object {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n</code></pre>\n\n<p>Now let's find a solution.</p>\n\n<h2>JSON</h2>\n\n<p>The first attempt I tried was using <code>JSON</code>.</p>\n\n<pre><code>var b = JSON.parse( JSON.stringify( a ) );\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>Don't waste too much time on it, you'll get <code>TypeError: Converting circular structure to JSON</code>.</p>\n\n<h2>Recursive copy <em>(the accepted \"answer\")</em></h2>\n\n<p>Let's have a look at the accepted answer.</p>\n\n<pre><code>function cloneSO(obj) {\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        var copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        var copy = [];\n        for (var i = 0, len = obj.length; i &lt; len; i++) {\n            copy[i] = cloneSO(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        var copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = cloneSO(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}\n</code></pre>\n\n<p>Looks good, heh? It's a recursive copy of the object and handles other types as well, like <code>Date</code>, but that wasn't a requirement.</p>\n\n<pre><code>var b = cloneSO(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>Recursion and <code>circular structures</code> doesn't work well together... <code>RangeError: Maximum call stack size exceeded</code></p>\n\n<h2>native solution</h2>\n\n<p>After arguing with my co-worker, my boss asked us what happend, and he found a simple <em>solution</em> after some googling. It's called <code>Object.create</code>.</p>\n\n<pre><code>var b = Object.create(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>This solution was added to Javascript some time ago and even handles <code>circular structure</code>.</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"a\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nb --&gt; Object {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n</code></pre>\n\n<p>... and you see, it didn't work with the nested structure inside.</p>\n\n<h2>polyfill for the native solution</h2>\n\n<p>There's a polyfill for <code>Object.create</code> in older browser just like the IE 8. It's something like recommended by Mozilla, and of course it's not perfect and results in the same problem as the <em>native solution</em>.</p>\n\n<pre><code>function F() {};\nfunction clonePF(o) {\n    F.prototype = o;\n    return new F();\n}\n\nvar b = clonePF(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>I've put <code>F</code> outside the scope so we can have a look at what <code>instanceof</code> tells us.</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"a\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nb --&gt; F {\n    x: \"b\",\n    circ: Circ {\n        me: Circ { ... }\n    },\n    nested: Nested {\n        y: \"b\"\n    }\n}\n\nconsole.log(typeof a, typeof b);\n\na --&gt; object\nb --&gt; object\n\nconsole.log(a instanceof Object, b instanceof Object);\n\na --&gt; true\nb --&gt; true\n\nconsole.log(a instanceof F, b instanceof F);\n\na --&gt; false\nb --&gt; true\n</code></pre>\n\n<p>Same problem as the <em>native solution</em>, but a little bit worse output.</p>\n\n<h2>the better (but not perfect) solution</h2>\n\n<p>When digging around, I found a similiar question (<a href=\"http://stackoverflow.com/questions/10728412/in-javascript-when-performing-a-deep-copy-how-do-i-avoid-a-cycle-due-to-a-pro\">In Javascript, when performing a deep copy, how do I avoid a cycle, due to a property being &quot;this&quot;?</a>) to this one, but with a way better solution.</p>\n\n<pre><code>function cloneDR(o) {\n    const gdcc = \"__getDeepCircularCopy__\";\n    if (o !== Object(o)) {\n        return o; // primitive value\n    }\n\n    var set = gdcc in o,\n        cache = o[gdcc],\n        result;\n    if (set &amp;&amp; typeof cache == \"function\") {\n        return cache();\n    }\n    // else\n    o[gdcc] = function() { return result; }; // overwrite\n    if (o instanceof Array) {\n        result = [];\n        for (var i=0; i&lt;o.length; i++) {\n            result[i] = cloneDR(o[i]);\n        }\n    } else {\n        result = {};\n        for (var prop in o)\n            if (prop != gdcc)\n                result[prop] = cloneDR(o[prop]);\n            else if (set)\n                result[prop] = cloneDR(cache);\n    }\n    if (set) {\n        o[gdcc] = cache; // reset\n    } else {\n        delete o[gdcc]; // unset again\n    }\n    return result;\n}\n\nvar b = cloneDR(a);\n\nb.x = 'b';\nb.nested.y = 'b';\n</code></pre>\n\n<p>And let's have a look at the output...</p>\n\n<pre><code>console.log(a, b);\n\na --&gt; Object {\n    x: \"a\",\n    circ: Object {\n        me: Object { ... }\n    },\n    nested: Object {\n        y: \"a\"\n    }\n}\n\nb --&gt; Object {\n    x: \"b\",\n    circ: Object {\n        me: Object { ... }\n    },\n    nested: Object {\n        y: \"b\"\n    }\n}\n\nconsole.log(typeof a, typeof b);\n\na --&gt; object\nb --&gt; object\n\nconsole.log(a instanceof Object, b instanceof Object);\n\na --&gt; true\nb --&gt; true\n\nconsole.log(a instanceof F, b instanceof F);\n\na --&gt; false\nb --&gt; false\n</code></pre>\n\n<p>The requirements are matched, but there are still some smaller issues, including changing the <code>instance</code> of <code>nested</code> and<code>circ</code> to <code>Object</code>.</p>\n\n<blockquote>\n  <p>The structure of trees that share a leaf won't be copied, they will become two independent leafes:</p>\n</blockquote>\n\n<pre><code>        [Object]                     [Object]\n         /    \\                       /    \\\n        /      \\                     /      \\\n      |/_      _\\|                 |/_      _\\|  \n  [Object]    [Object]   ===&gt;  [Object]    [Object]\n       \\        /                 |           |\n        \\      /                  |           |\n        _\\|  |/_                 \\|/         \\|/\n        [Object]               [Object]    [Object]\n</code></pre>\n\n<h2>conclusion</h2>\n\n<p>The last solution using recursion and a cache, may not be the best, but it's a <strong>real</strong> deep-copy of the object. It handles simple <code>properties</code>, <code>circular structures</code> and <code>nested object</code>, but it will mess up the instance of them while cloning.</p>\n\n<p><a href=\"http://jsfiddle.net/einfallstoll/N4mr2/\">http://jsfiddle.net/einfallstoll/N4mr2/</a></p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 24648941, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>For those using AngularJS, there is also direct method for cloning or extending of the objects in this library.</p>\n\n<pre><code>var destination = angular.copy(source);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>angular.copy(source, destination);\n</code></pre>\n\n<p>More in angular.copy <a href=\"https://docs.angularjs.org/api/ng/function/angular.copy\">documentation</a>...</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 25651922, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>I've tried this in the case of a scalar object and it works for me:</p>\n\n<pre><code>function binder(i) {\n  return function () {\n    return i;\n  };\n}\n\na=1;\nb=binder(a)(); // copy value of a into b\n\nalert(++a); // 2\nalert(b); // still 1\n</code></pre>\n\n<p>Regards.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 26616528, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>I've written my own implementation. Not sure if it counts as a better solution:</p>\n\n<pre><code>/*\n    a function for deep cloning objects that contains other nested objects and circular structures.\n    objects are stored in a 3D array, according to their length (number of properties) and their depth in the original object.\n                                    index (z)\n                                         |\n                                         |\n                                         |\n                                         |\n                                         |\n                                         |                      depth (x)\n                                         |_ _ _ _ _ _ _ _ _ _ _ _\n                                        /_/_/_/_/_/_/_/_/_/\n                                       /_/_/_/_/_/_/_/_/_/\n                                      /_/_/_/_/_/_/...../\n                                     /................./\n                                    /.....            /\n                                   /                 /\n                                  /------------------\n            object length (y)    /\n*/\n</code></pre>\n\n<p>Following is the implementation:</p>\n\n<pre><code>function deepClone(obj) {\n    var depth = -1;\n    var arr = [];\n    return clone(obj, arr, depth);\n}\n\n/**\n *\n * @param obj source object\n * @param arr 3D array to store the references to objects\n * @param depth depth of the current object relative to the passed 'obj'\n * @returns {*}\n */\nfunction clone(obj, arr, depth){\n    if (typeof obj !== \"object\") {\n        return obj;\n    }\n\n    var length = Object.keys(obj).length; // native method to get the number of properties in 'obj'\n\n    var result = Object.create(Object.getPrototypeOf(obj)); // inherit the prototype of the original object\n    if(result instanceof Array){\n        result.length = length;\n    }\n\n    depth++; // depth is increased because we entered an object here\n\n    arr[depth] = []; // this is the x-axis, each index here is the depth\n    arr[depth][length] = []; // this is the y-axis, each index is the length of the object (aka number of props)\n    // start the depth at current and go down, cyclic structures won't form on depths more than the current one\n    for(var x = depth; x &gt;= 0; x--){\n        // loop only if the array at this depth and length already have elements\n        if(arr[x][length]){\n            for(var index = 0; index &lt; arr[x][length].length; index++){\n                if(obj === arr[x][length][index]){\n                    return obj;\n                }\n            }\n        }\n    }\n\n    arr[depth][length].push(obj); // store the object in the array at the current depth and length\n    for (var prop in obj) {\n        if (obj.hasOwnProperty(prop)) result[prop] = clone(obj[prop], arr, depth);\n    }\n\n    return result;\n}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 26877692, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Clone an object based on a 'template'. What do you do if you don't want an exact copy, but you do want the robustness of some kind of reliable clone operation but you only want bits cloned or you want to make sure you can control the existence or format of each attribute value cloned?</p>\n\n<p>I am contributing this because it's useful for us and we created it because we could not find something similar. You can use it to clone an object based on a 'template' object which specifies what attributes of the object I want to clone, and the template allows for functions to transform those attributes into something different if they don't exist on the source object or however you want to handle the clone. If it's not useful I am sure someone can delete this answer.</p>\n\n<pre><code>   function isFunction(functionToCheck) {\n       var getType = {};\n       return functionToCheck &amp;&amp; getType.toString.call(functionToCheck) === '[object Function]';\n   }\n\n   function cloneObjectByTemplate(obj, tpl, cloneConstructor) {\n       if (typeof cloneConstructor === \"undefined\") {\n           cloneConstructor = false;\n       }\n       if (obj == null || typeof (obj) != 'object') return obj;\n\n       //if we have an array, work through it's contents and apply the template to each item...\n       if (Array.isArray(obj)) {\n           var ret = [];\n           for (var i = 0; i &lt; obj.length; i++) {\n               ret.push(cloneObjectByTemplate(obj[i], tpl, cloneConstructor));\n           }\n           return ret;\n       }\n\n       //otherwise we have an object...\n       //var temp:any = {}; // obj.constructor(); // we can't call obj.constructor because typescript defines this, so if we are dealing with a typescript object it might reset values.\n       var temp = cloneConstructor ? new obj.constructor() : {};\n\n       for (var key in tpl) {\n           //if we are provided with a function to determine the value of this property, call it...\n           if (isFunction(tpl[key])) {\n               temp[key] = tpl[key](obj); //assign the result of the function call, passing in the value\n           } else {\n               //if our object has this property...\n               if (obj[key] != undefined) {\n                   if (Array.isArray(obj[key])) {\n                       temp[key] = [];\n                       for (var i = 0; i &lt; obj[key].length; i++) {\n                           temp[key].push(cloneObjectByTemplate(obj[key][i], tpl[key], cloneConstructor));\n                       }\n                   } else {\n                       temp[key] = cloneObjectByTemplate(obj[key], tpl[key], cloneConstructor);\n                   }\n               }\n           }\n       }\n\n       return temp;\n   }\n</code></pre>\n\n<p>A simple way to call it would be like this:</p>\n\n<pre><code>var source = {\n       a: \"whatever\",\n       b: {\n           x: \"yeah\",\n           y: \"haha\"\n       }\n   };\n   var template = {\n       a: true, //we want to clone \"a\"\n       b: {\n           x: true //we want to clone \"b.x\" too\n       }\n   }; \n   var destination = cloneObjectByTemplate(source, template);\n</code></pre>\n\n<p>If you wanted to use a function to make sure an attribute is returned or to make sure it's a particular type, use a template like this. Instead of using { ID: true } we are providing a function which still just copies the ID attribute of the source object but it makes sure that it's a number even if it does not exist on the source object.</p>\n\n<pre><code> var template = {\n    ID: function (srcObj) {\n        if(srcObj.ID == undefined){ return -1; }\n        return parseInt(srcObj.ID.toString());\n    }\n}\n</code></pre>\n\n<p>Arrays will clone fine but if you want to you can have your own function handle those individual attributes too, and do something special like this:</p>\n\n<pre><code> var template = {\n    tags: function (srcObj) {\n        var tags = [];\n        if (process.tags != undefined) {\n            for (var i = 0; i &lt; process.tags.length; i++) {\n\n                tags.push(cloneObjectByTemplate(\n                  srcObj.tags[i],\n                  { a : true, b : true } //another template for each item in the array\n                );\n            }\n        }\n        return tags;\n    }\n }\n</code></pre>\n\n<p>So in the above, our template just copies the 'tags' attribute of the source object if it exists, (it's assumed to be an array), and for each element in that array the clone function is called to individually clone it based on a second template which just copies the 'a' and 'b' attributes of each of those tag elements. </p>\n\n<p>If you are taking objects in and out of node and you want to control which attributes of those objects are cloned then this is a great way of controlling that in node.js and the code works in the browser too.</p>\n\n<p>Here is an example of it's use: <a href=\"http://jsfiddle.net/hjchyLt1/\" rel=\"nofollow\">http://jsfiddle.net/hjchyLt1/</a></p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 28244753, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>In ECMAScript 6 there is <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\">Object.assign</a> method, which copies values of all enumerable own properties from one object to another. For example:</p>\n\n<pre><code>var x = {myProp: \"value\"};\nvar y = Object.assign({}, x); \n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 30042948, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Interested in cloning simple objects :</p>\n\n<p>JSON.parse(JSON.stringify(json_original));</p>\n\n<p>Source : <a href=\"http://stackoverflow.com/questions/18359093/how-to-copy-javascript-object-to-new-variable-not-by-reference?answertab=votes#tab-top\">How to copy JavaScript object to new variable NOT by reference?</a></p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 32245385, "question_id": 728360, "tags": ["javascript"]}, {"body": "<h1>An elegant way to clone a Javascript object in one line of code</h1>\n\n<p>An <code>Object.assign</code> method is part of the ECMAScript 2015 (ES6) standard and does exactly what you need.</p>\n\n<pre><code>var clone = Object.assign({}, obj);\n</code></pre>\n\n<blockquote>\n  <p>The Object.assign() method is used to copy the values of all enumerable own properties from one or more source objects to a target object.</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\">Read more...</a></p>\n\n<p>The <strong>polyfill</strong> to support older browsers:</p>\n\n<pre><code>if (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(target) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object');\n      }\n\n      var to = Object(target);\n      for (var i = 1; i &lt; arguments.length; i++) {\n        var nextSource = arguments[i];\n        if (nextSource === undefined || nextSource === null) {\n          continue;\n        }\n        nextSource = Object(nextSource);\n\n        var keysArray = Object.keys(nextSource);\n        for (var nextIndex = 0, len = keysArray.length; nextIndex &lt; len; nextIndex++) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined &amp;&amp; desc.enumerable) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n      return to;\n    }\n  });\n}\n</code></pre>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 34294740, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>You can simply use a <a href=\"https://github.com/sebmarkbage/ecmascript-rest-spread/blob/master/Spread.md\" rel=\"nofollow\">spread property</a> to copy an object without references. But be careful (see comments), the 'copy' is just on the lowest object/array level. Nested properties are still references!</p>\n\n<pre><code>x = {abc: 'def'}\ny = {...x}\n</code></pre>\n\n<p>JavaScript actually does not support deep clones natively. Use an utility function. For example Ramda:</p>\n\n<blockquote>\n  <p><a href=\"http://ramdajs.com/docs/#clone\" rel=\"nofollow\">http://ramdajs.com/docs/#clone</a></p>\n</blockquote>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 36603421, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>To handle circular objects that that <code>JSON.stringify</code> can't handle, you can bring in a library called <a href=\"https://github.com/jsog/jsog\" rel=\"nofollow\">JSOG</a>, that serializes and deserializes arbitrary graphs into JSON format. </p>\n\n<pre><code>var clone = JSOG.parse(JSOG.stringify(original));\n</code></pre>\n\n<p>It might also be interesting to try patching JSOG for cloning with this trick (don't have time at the moment, but if someone wants to give it a shot...):</p>\n\n<p>Serialize a simple function : </p>\n\n<pre><code>foo.f = function(a) { return a }\nvar stringForm = foo.f.toString() // \"function (a) { return a }\"\n</code></pre>\n\n<p>Deserialize a function :</p>\n\n<pre><code>eval(\"foo.f = \" + stringForm)\n</code></pre>\n\n<p>Some conventions (probably in the name of the property) to identify functions vs regular strings would be needed (<code>@func_f</code> perhaps). </p>\n\n<p>Of course if the function calls a second function the second function will need to exist just as it would for the original.</p>\n\n<p>The above however is quite dangerous if you are to accept the serialized form from an untrusted source, but then accepting any function in any form from an untrusted source would be dangerous, so if you're interested in cloning functions trust must have already been established (or you're already intent on writing a security flaw!).</p>\n\n<p><strong>Disclaimer:</strong> I have not tested the speed of JSOG stringify/parse vs JSON stringify/parse, but It does work on the simple (circular) objects I tested it with.</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 38318360, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>Use deepcopy from npm.  Works in both the browser and in node as an npm module...</p>\n\n<p><a href=\"https://www.npmjs.com/package/deepcopy\" rel=\"nofollow\">https://www.npmjs.com/package/deepcopy</a></p>\n\n<p>let a = deepcopy(b)</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 38795991, "question_id": 728360, "tags": ["javascript"]}, {"body": "<p>I think, that <strong>recurrence with caching</strong> is the best what we can do it here without libraries.</p>\n\n<p>And underestimated <strong>WeakMap</strong> comes to the problem of cycles, wherein storing  pairs of references to old and new object can help us to recreate pretty easily whole tree.</p>\n\n<p>I prevented deep cloning of the DOM elements, probably you don't want to clone entire page :)</p>\n\n<pre><code>function deepCopy(object) {\n    const cache = new WeakMap(); // Map of old - new references\n\n    function copy(obj) {\n        if (typeof obj !== 'object' ||\n            obj === null ||\n            obj instanceof HTMLElement\n        )\n            return obj; // primitive value or HTMLElement\n\n        if (obj instanceof Date) \n            return new Date().setTime(obj.getTime());\n\n        if (obj instanceof RegExp) \n            return new RegExp(obj.source, obj.flags);\n\n        if (cache.has(obj)) \n            return cache.get(obj);\n\n        const result = obj instanceof Array ? [] : {};\n\n        cache.set(obj, result); // store reference to object before the recursive starts\n\n        if (obj instanceof Array) {\n            for(const o of obj) {\n                 result.push(copy(o));\n            }\n            return result;\n        }\n\n        const keys = Object.keys(obj); \n\n        for (const key of keys)\n            result[key] = copy(obj[key]);\n\n        return result;\n    }\n\n    return copy(object);\n}\n</code></pre>\n\n<p>Some tests:</p>\n\n<pre><code>// #1\nconst obj1 = { };\nconst obj2 = { };\nobj1.obj2 = obj2;\nobj2.obj1 = obj1; // Trivial circular reference\n\nvar copy = deepCopy(obj1);\ncopy == obj1 // false\ncopy.obj2 === obj1.obj2 // false\ncopy.obj2.obj1.obj2 // and so on - no error (correctly cloned).\n\n// #2\nconst obj = { x: 0 }\nconst clone = deepCopy({ a: obj, b: obj });\nclone.a == clone.b // true\n\n// #3\nconst arr = [];\narr[0] = arr; // A little bit weird but who cares\nclone = deepCopy(arr)\nclone == arr // false;\nclone[0][0][0][0] == clone // true;\n</code></pre>\n\n<p>NOTE: I'm using constants, for of loop, => operator and WeakMaps to create more essential code. This syntax (ES6) is supported by today's browsers</p>\n", "title": "How do I correctly clone a JavaScript object?", "answer_id": 39029912, "question_id": 728360, "tags": ["javascript"]}], "question_id": 728360}, {"body": "<p>How do I check if a particular key exists in a JavaScript object or array?</p>\n\n<p>If a key doesn't exist, and I try to access it, will it return false? Or throw an error?</p>\n", "title": "Checking if a key exists in a JavaScript object?", "tags": ["javascript", "arrays", "object"], "answer_count": 9, "link": "http://stackoverflow.com/questions/1098040/checking-if-a-key-exists-in-a-javascript-object", "answers": [{"body": "<p>It will return <code>undefined</code>.</p>\n\n<pre><code>var aa = {hello: \"world\"};\nalert( aa[\"hello\"] );      // popup box with \"world\"\nalert( aa[\"goodbye\"] );    // popup box with \"undefined\"\n</code></pre>\n\n<p><code>undefined</code> is a special constant value.  So you can say, e.g.</p>\n\n<pre><code>// note the three equal signs so that null won't be equal to undefined\nif( aa[\"goodbye\"] === undefined ) {\n    // do something\n}\n</code></pre>\n\n<p>This is probably the best way to check for missing keys.  However, as is pointed out in a comment below, it's theoretically possible that you'd want to have the actual value be <code>undefined</code>.  I've never needed to do this and can't think of a reason offhand why I'd ever want to, but just for the sake of completeness, you can use the <code>in</code> operator</p>\n\n<pre><code>// this works even if you have {\"goodbye\": undefined}\nif( \"goodbye\" in aa ) {\n    // do something\n}\n</code></pre>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 1098067, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<p>Checking for undefined-ness is not an accurate way of testing whether a key exists. What if the key exists but the value is actually <code>undefined</code>?</p>\n\n<pre><code>var obj = { key: undefined };\nobj[\"key\"] != undefined // false, but the key exists!\n</code></pre>\n\n<p>You should instead use the <code>in</code> operator:</p>\n\n<pre><code>\"key\" in obj // true, regardless of the actual value\n</code></pre>\n\n<p>If you want to check if a key doesn't exist, remember to use parenthesis:</p>\n\n<pre><code>!(\"key\" in obj) // true if \"key\" doesn't exist in object\n!\"key\" in obj   // ERROR!  Equivalent to \"false in obj\"\n</code></pre>\n\n<p>Or, if you want to particularly test for properties of the object instance (and not inherited properties), use <code>hasOwnProperty</code>:</p>\n\n<pre><code>obj.hasOwnProperty(\"key\") // true\n</code></pre>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 1098955, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<pre><code>\"key\" in obj\n</code></pre>\n\n<p>Is likely testing only object attribute values that are very different from array keys</p>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 16219225, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<p>Three ways to check if a property is present in a javascript object:</p>\n\n<ol>\n<li><strong>!!obj.theProperty</strong><br>\nWill convert value to bool. returns TRUE for all but the 'false' value</li>\n<li><strong>'theProperty' in obj</strong><br>\nWill return true if the property exists, no matter its value (even empty)</li>\n<li><strong>obj.hasOwnProperty('theProperty')</strong><br>\nDoes not check the prototype chain. (since all objects have the 'toString' method, 1 and 2 will return true on it, while 3 can return false on it.)</li>\n</ol>\n\n<p>Reference: </p>\n\n<blockquote>\n  <p><a href=\"http://book.mixu.net/node/ch5.html\">http://book.mixu.net/node/ch5.html</a></p>\n</blockquote>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 19925216, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<h1>quick answer</h1>\n\n<blockquote>\n  <p>How do I check if a particular key exists in a JavaScript object or array?\n  If a key doesn't exist and I try to access it, will it return false? Or throw an error?</p>\n</blockquote>\n\n<p>Accessing directly a missing property using (associative) array style or object style will return an <em>undefined</em> constant.</p>\n\n<h2>The slow and reliable <em>in</em> operator and <em>hasOwnProperty</em> method</h2>\n\n<p>As people have already mentioned here, you could have an object with a property associated with an \"undefined\" constant. </p>\n\n<pre><code> var bizzareObj = {valid_key:  undefined};\n</code></pre>\n\n<p>In that case, you will have to use <em>hasOwnProperty</em> or <em>in</em> operator to know if the key is really there. But, <em>but at what price?</em></p>\n\n<p>so, I tell you...</p>\n\n<p><em>in</em> operator and <em>hasOwnProperty</em> are \"methods\" that use Property Descriptor mechanism in Javascript (similar to Java reflection in the Java language).</p>\n\n<p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.10\">http://www.ecma-international.org/ecma-262/5.1/#sec-8.10</a></p>\n\n<blockquote>\n  <p>The Property Descriptor type is used to explain the manipulation and reification of named property attributes. Values of the Property Descriptor type are records composed of named fields where each field\u2019s name is an attribute name and its value is a corresponding attribute value as specified in 8.6.1. In addition, any field may be present or absent.</p>\n</blockquote>\n\n<p>On the other hand, calling an object method or key will use Javascript [[Get]] mechanism. That is far way faster!</p>\n\n<h2>benchmark</h2>\n\n<p><a href=\"http://jsperf.com/checking-if-a-key-exists-in-a-javascript-array\">http://jsperf.com/checking-if-a-key-exists-in-a-javascript-array</a></p>\n\n<p><img src=\"http://oi61.tinypic.com/qxscxf.jpg\" alt=\"Comparing key access in JS\">.</p>\n\nUsing <em>in</em> operator\n\n<pre><code>var result = \"Impression\" in array;\n</code></pre>\n\n<p>The result was </p>\n\n<pre><code>12,931,832 \u00b10.21% ops/sec      92% slower \n</code></pre>\n\nUsing hasOwnProperty\n\n<pre><code>var result = array.hasOwnProperty(\"Impression\")\n</code></pre>\n\n<p>The result was</p>\n\n<pre><code>16,021,758 \u00b10.45% ops/sec     91% slower\n</code></pre>\n\nAccessing elements directly (brackets style)\n\n<pre><code>var result = array[\"Impression\"] === undefined\n</code></pre>\n\n<p>The result was</p>\n\n<pre><code>168,270,439 \u00b10.13 ops/sec     0.02% slower \n</code></pre>\n\nAccessing elements directly (object style)\n\n<pre><code>var result = array.Impression  === undefined;\n</code></pre>\n\n<p>The result was</p>\n\n<pre><code>168,303,172 \u00b10.20%     fastest\n</code></pre>\n\n<h2>EDIT: What is the reason to assign to a property the <code>undefined</code> value?</h2>\n\n<p>That question puzzles me. In Javascript, there are at least two references for absent objects to avoid problems like this: <code>null</code> and <code>undefined</code>. </p>\n\n<p><code>null</code> is the primitive value that represents the intentional absence of any object value, or in short terms, the <strong>confirmed</strong> lack of value. On the other hand, <code>undefined</code> is unknown value (not defined). If there is a property that will be used later with a <em>proper</em> value consider use <code>null</code> reference instead of <code>undefined</code> because in the initial moment the property is <strong>confirmed</strong> to lack a value.</p>\n\n<p>Compare: </p>\n\n<pre><code>var a = {1: null}; \nconsole.log(a[1] === undefined); // output: false. I know the value at position 1 of a[] is absent and this was by design, i.e.:  the value is defined. \nconsole.log(a[0] === undefined); // output: true. I cannot say anything about a[0] value. In this case, the key 0 was not in a[].\n</code></pre>\n\n<h2>Final Advise</h2>\n\n<p>Avoid objects with <code>undefined</code> values. Check directly whenever possible and use <code>null</code> to initialize property values. Otherwise, use the slow <code>in</code> operator or <code>hasOwnProperty()</code> method.</p>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 22074727, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<p>If you are using <a href=\"http://underscorejs.org/\">underscore.js</a> library then object/array operations become simple. </p>\n\n<p>In your case _.has method can be used. Example:</p>\n\n<pre><code>yourArray = {age: \"10\"}\n\n_.has(yourArray, \"age\")\n</code></pre>\n\n<p>returns <strong>true</strong> </p>\n\n<p>But,</p>\n\n<pre><code>_.has(yourArray, \"invalidKey\")\n</code></pre>\n\n<p>returns <strong>false</strong></p>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 23941557, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<p>The <a href=\"http://stackoverflow.com/a/1098955/1619432\">accepted answer</a> refers to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\">Object</a>. Beware using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\"><code>in</code> operator</a> on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\">Array</a> to find data instead of keys:</p>\n\n<pre><code>(\"true\" in [\"true\", \"false\"])\n// -&gt; false (Because the keys of the above Array are actually 0 and 1)\n</code></pre>\n\n<p>To test existing elements in an Array: <a href=\"http://stackoverflow.com/questions/143847/best-way-to-find-an-item-in-a-javascript-array\">Best way to find if an item is in a JavaScript array?</a></p>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 31161724, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<h1>Here's a helper function I find quite useful</h1>\n\n<p>This <code>keyExists(key, search)</code> can be used to easily lookup a key within  objects or arrays! </p>\n\n<p>Just pass it the key you want to find, and search obj (the object or array) you want to find it in.</p>\n\n<pre><code>function keyExists(key, search) {\n    if (!search || (search.constructor !== Array &amp;&amp; search.constructor !== Object)) {\n        return false;\n    }\n    for (var i = 0; i &lt; search.length; i++) {\n        if (search[i] === key) {\n            return true;\n        }\n    }\n    return key in search;\n}\n</code></pre>\n\n<h1>How to use it:</h1>\n\n<h3>Searching for keys in Arrays</h3>\n\n<pre><code>keyExists('apple', ['apple', 'banana', 'orange']); // true\nkeyExists('fruit', ['apple', 'banana', 'orange']); // false\n</code></pre>\n\n<p>Searching for keys in Objects</p>\n\n<pre><code>keyExists('age', {'name': 'Bill', 'age': 29 }); // true\nkeyExists('title', {'name': 'Jason', 'age': 29 }); // false\n</code></pre>\n\n<p>It's been pretty reliable and works well cross-browser.</p>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 35814415, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}, {"body": "<p><strong>Answer:</strong></p>\n\n<pre><code>if (\"key\" in myObj)\n{\n    console.log(\"key exists!\");\n}\nelse\n{\n    console.log(\"key doesn't exist!\");\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The <code>in</code> operator will check if the key exists in the object. If you checked if the value was undefined: <code>if (myObj[\"key\"] === 'undefined')</code>, you could run into problems because a key could possibly exist in your object with the <code>undefined</code> value.</p>\n\n<p>For that reason, it is much better practice to first use the <code>in</code> operator and then compare the value that is inside the key once you already know it exists.</p>\n", "title": "Checking if a key exists in a JavaScript object?", "answer_id": 37957545, "question_id": 1098040, "tags": ["javascript", "arrays", "object"]}], "question_id": 1098040}, {"body": "<p>I'm not that into dynamic programming languages, but I've written my fair share of JavaScript code. I never really got my head around this prototype-based programming, does any one know how this works? </p>\n\n<pre><code>var obj = new Object(); // not a functional object\nobj.prototype.test = function() { alert('Hello?'); }; // this is wrong!\n\nfunction MyObject() {} // a first class functional object\nMyObject.prototype.test = function() { alert('OK'); } // OK\n</code></pre>\n\n<p>I remember a lot discussion I had with people a while back (I'm not exactly sure what I'm doing) but as I understand it, there's no concept of a class. It's just an object, and instances of those objects are clones of the original, right?</p>\n\n<p>But what is the exact purpose of this <code>.prototype</code> property in JavaScript? How does it relate to instantiating objects?</p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>These <a href=\"http://ejohn.org/apps/learn/#64\">slides</a> really helped a lot to understand this topic.</p>\n", "title": "How does JavaScript .prototype work?", "tags": ["javascript", "dynamic-languages", "prototype-oriented"], "answer_count": 17, "link": "http://stackoverflow.com/questions/572897/how-does-javascript-prototype-work", "answers": [{"body": "<p><code>prototype</code> allows you to make classes. if you do not use <code>prototype</code> then it becomes a static.</p>\n\n<p>Here is a short example.</p>\n\n<pre><code>var obj = new Object();\nobj.test = function() { alert('Hello?'); };\n</code></pre>\n\n<p>In the above case, you have static funcation call test. This function can be accessed only by obj.test where you can imagine obj to be a class.</p>\n\n<p>where as in the below code</p>\n\n<pre><code>function obj()\n{\n}\n\nobj.prototype.test = function() { alert('Hello?'); };\nvar obj2 = new obj();\nobj2.test();\n</code></pre>\n\n<p>The obj has become a class which can now be instantiated. Multiple instances of obj can exist and they all have the <code>test</code> function.</p>\n\n<p>The above is my understanding. I am making it a community wiki, so people can correct me if I am wrong.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 572904, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<blockquote>\n  <p>what is the exact purpose of this \".prototype\" property?</p>\n</blockquote>\n\n<p>The interface to standard classes become extensible. For example, you are using the <code>Array</code> class and you also need to add a custom serializer for all your array objects. Would you spend time coding up a subclass, or use composition or ... The prototype property solves this by letting the users control the exact set of members/methods available to a class.</p>\n\n<p>Think of prototypes as an extra vtable-pointer. When some members are missing from the original class, the prototype is looked up at runtime.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 572905, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>Javascript doesn't have inheritance in the usual sense, but it has the prototype chain.</p>\n\n<h2>prototype chain</h2>\n\n<p>If a member of an object can't be found in the object it looks for it in the prototype chain. The chain consists of other objects. The prototype of a given instance can be accessed with the <code>__proto__</code> variable. Every object has one, as there is no difference between classes and instances in javascript.</p>\n\n<p>The advantage of adding a function / variable to the prototype is that it has to be in the memory only once, not for every instance.</p>\n\n<p>It's also useful for inheritance, because the prototype chain can consist of many other objects.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 572913, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>Every JavaScript object has an internal property called <em>[[Prototype]]</em>. If you look up a property via <code>obj.propName</code> or <code>obj['propName']</code> and the object does not have such a property - which can be checked via <code>obj.hasOwnProperty('propName')</code> - the runtime looks up the property in the object referenced by [[Prototype]] instead. If the prototype-object also doesn't have such a property, its prototype is checked in turn, thus walking the original object's <em>prototype-chain</em> until a match is found or its end is reached.</p>\n\n<p>Some JavaScript implementations allow direct access to the [[Prototype]] property, eg via a non-standard property named <code>__proto__</code>. In general, it's only possible to set an object's prototype during object creation: If you create a new object via <code>new Func()</code>, the object's [[Prototype]] property will be set to the object referenced by <code>Func.prototype</code>.</p>\n\n<p>This allows to simulate classes in JavaScript, although JavaScript's inheritance system is - as we have seen - prototypical, and not class-based:</p>\n\n<p>Just think of constructor functions as classes and the properties of the prototype (ie of the object referenced by the constructor function's <code>prototype</code> property) as shared members, ie members which are the same for each instance. In class-based systems, methods are implemented the same way for each instance, so methods are normally added to the prototype, whereas an object's fields are instance-specific and therefore added to the object itself during construction.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 572996, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>When a constructor creates an object, that object implicitly references the constructor\u2019s \u201cprototype\u201d property for the purpose of resolving property references. The constructor\u2019s \u201cprototype\u201d property can be referenced by the program expression constructor.prototype, and properties added to an object\u2019s prototype are shared, through inheritance, by all objects sharing the prototype.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 2209489, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>In a language implementing classical inheritance like Java, C# or C++ you start by creating a class--a blueprint for your objects--and then you can create new objects from that class or you can extend the class, defining a new class that augments the original class.</p>\n\n<p>In JavaScript you first create an object (there is no concept of class), then you can augment your own object or create new objects from it. It's not difficult, but a little foreign and hard to metabolize for somebody used to the classical way.</p>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Define a functional object to hold persons in JavaScript\r\nvar Person = function(name) {\r\n  this.name = name;\r\n};\r\n\r\n//Add dynamically to the already defined object a new getter\r\nPerson.prototype.getName = function() {\r\n  return this.name;\r\n};\r\n\r\n//Create a new object of type Person\r\nvar john = new Person(\"John\");\r\n\r\n//Try the getter\r\nalert(john.getName());\r\n\r\n//If now I modify person, also John gets the updates\r\nPerson.prototype.sayMyName = function() {\r\n  alert('Hello, my name is ' + this.getName());\r\n};\r\n\r\n//Call the new method on john\r\njohn.sayMyName();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Until now I've been extending the base object, now I create another object and then inheriting from Person.</p>\n\n<pre><code>//Create a new object of type Customer by defining its constructor. It's not \n//related to Person for now.\nvar Customer = function(name) {\n    this.name = name;\n};\n\n//Now I link the objects and to do so, we link the prototype of Customer to \n//a new instance of Person. The prototype is the base that will be used to \n//construct all new instances and also, will modify dynamically all already \n//constructed objects because in JavaScript objects retain a pointer to the \n//prototype\nCustomer.prototype = new Person();     \n\n//Now I can call the methods of Person on the Customer, let's try, first \n//I need to create a Customer.\nvar myCustomer = new Customer('Dream Inc.');\nmyCustomer.sayMyName();\n\n//If I add new methods to Person, they will be added to Customer, but if I\n//add new methods to Customer they won't be added to Person. Example:\nCustomer.prototype.setAmountDue = function(amountDue) {\n    this.amountDue = amountDue;\n};\nCustomer.prototype.getAmountDue = function() {\n    return this.amountDue;\n};\n\n//Let's try:       \nmyCustomer.setAmountDue(2000);\nalert(myCustomer.getAmountDue());\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var Person = function (name) {\r\n    this.name = name;\r\n};\r\nPerson.prototype.getName = function () {\r\n    return this.name;\r\n};\r\nvar john = new Person(\"John\");\r\nalert(john.getName());\r\nPerson.prototype.sayMyName = function () {\r\n    alert('Hello, my name is ' + this.getName());\r\n};\r\njohn.sayMyName();\r\nvar Customer = function (name) {\r\n    this.name = name;\r\n};\r\nCustomer.prototype = new Person();\r\n\r\nvar myCustomer = new Customer('Dream Inc.');\r\nmyCustomer.sayMyName();\r\nCustomer.prototype.setAmountDue = function (amountDue) {\r\n    this.amountDue = amountDue;\r\n};\r\nCustomer.prototype.getAmountDue = function () {\r\n    return this.amountDue;\r\n};\r\nmyCustomer.setAmountDue(2000);\r\nalert(myCustomer.getAmountDue());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>While as said I can't call setAmountDue(), getAmountDue() on a Person.</p>\n\n<pre><code>//The following statement generates an error.\njohn.setAmountDue(1000);\n</code></pre>\n", "title": "How does JavaScript .prototype work?", "answer_id": 4778408, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>After reading this thread, I feel confused with JavaScript Prototype Chain, then I found these charts </p>\n\n<p><a href=\"http://iwiki.readthedocs.org/en/latest/javascript/js_core.html#inheritance\">http://iwiki.readthedocs.org/en/latest/javascript/js_core.html#inheritance</a>\n<img src=\"http://i.stack.imgur.com/rcGmc.png\" alt=\"*[[protytype]]* and &lt;code&gt;prototype&lt;/code&gt; property of function objects\"></p>\n\n<p><em>it's a clear chart to show JavaScript Inheritance by Prototype Chain</em></p>\n\n<p>and </p>\n\n<p><a href=\"http://www.javascriptbank.com/javascript/article/JavaScript_Classical_Inheritance/\">http://www.javascriptbank.com/javascript/article/JavaScript_Classical_Inheritance/</a></p>\n\n<p><em>this one contains a example with code and several nice diagrams.</em></p>\n\n<blockquote>\n  <p>prototype chain ultimately falls back to Object.prototype. </p>\n  \n  <p>prototype chain can be technically extended as long as you want, each time by setting the prototype of the subclass equal to an object of the parent class.</p>\n</blockquote>\n\n<p>Hope it's also helpful for you to understand JavaScript Prototype Chain.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 13267099, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>Every object has an internal property, [[Prototype]], linking it to another object:</p>\n\n<pre><code>object [[Prototype]] -&gt; anotherObject\n</code></pre>\n\n<p>Some environments expose that property as <code>__proto__</code>:</p>\n\n<pre><code>anObject.__proto__ === anotherObject\n</code></pre>\n\n<p>You create the [[Prototype]] link when creating an object:</p>\n\n<pre><code>var object = Object.create( anotherObject )\n// imagine:\n// object.__proto__ = anotherObject\n</code></pre>\n\n<p>In traditional javascript, the linked object is the <code>prototype</code> property of a function:</p>\n\n<pre><code>object [[Prototype]] -&gt; aFunction.prototype\n</code></pre>\n\n<p>and you create the [[Prototype]] link with <code>new</code> (but this isn't obvious):</p>\n\n<pre><code>var object = new aFunction;\n// imagine:\n// object.__proto__ = aFunction.prototype;\n</code></pre>\n\n<p>Remember:</p>\n\n<ul>\n<li>Every object has a link, [[Prototype]], sometimes exposed as <code>__proto__</code>.</li>\n<li>Every function has a <code>prototype</code> property. It may be a <strong>source</strong> of values shared with other objects, or it may go unused.</li>\n</ul>\n", "title": "How does JavaScript .prototype work?", "answer_id": 17177624, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>I found it helpful to explain the \"prototype chain\" as recursive convention when <code>obj_n.prop_X</code> is being referenced:</p>\n\n<p>if <code>obj_n.prop_X</code> doesn't exist, check <code>obj_n+1.prop_X</code> where <code>obj_n+1 = obj_n.[[prototype]]</code></p>\n\n<p>If the <code>prop_X</code> is finally found in the k-th prototype object then</p>\n\n<p><code>obj_1.prop_X = obj_1.[[prototype]].[[prototype]]..(k-times)..[[prototype]].prop_X</code></p>\n\n<p>You can find a graph of the relation of Javascript objects by their properties here:</p>\n\n<p> <img src=\"http://i.stack.imgur.com/2tGyY.jpg\" alt=\"js objects graph\"> </p>\n\n<p><a href=\"http://jsobjects.org\">http://jsobjects.org</a></p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 19483767, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p><em>I play a role as a JavaScript teacher and the prototype concept has always been a controversial topic to cover when I teach. It took me a while to come up with a good method to clarify the concept, and now in this text I'm gonna be trying to explain How does JavaScript .prototype work.</em></p>\n\n<hr>\n\n<p>This is a very simple prototype based object model that would be considered as a sample during the explanation, with no comment yet:</p>\n\n<pre><code>function Person(name){\n    this.name = name;\n}\nPerson.prototype.getName = function(){\n    console.log(this.name);\n}\nvar person = new Person(\"George\");\n</code></pre>\n\n<hr>\n\n<p>There are some crucial points that we have to consider before going through the prototype concept.</p>\n\n<h1>1- How JavaScript functions actually work:</h1>\n\n<p>To take the first step we have to figure out, how JavaScript functions actually work , as a class like function using <strong><code>this</code></strong> keyword in it or just as a regular function with its arguments, what it does and what it returns.</p>\n\n<p>Let's say we want to create a <code>Person</code> object model. but in this step I'm gonna be trying to <strong>do the same exact thing without using <code>prototype</code> and <code>new</code> keyword</strong>.</p>\n\n<p>So in this step <strong><code>functions</code></strong>, <strong><code>objects</code></strong> and <strong><code>this</code></strong> keyword, are all we have.</p>\n\n<p>The first question would be <strong>how <code>this</code> keyword could be useful without using <code>new</code> keyword</strong>.</p>\n\n<p>So to answer that let's say we have an empty object, and two functions like:</p>\n\n<pre><code>var person = {};\nfunction Person(name){  this.name = name;  }\n\nfunction getName(){\n    console.log(this.name);\n}\n</code></pre>\n\n<p>and now <strong>without using <code>new</code> keyword</strong> how we could use these functions. So JavaScript has 3 different ways to do that:</p>\n\n<h2>a. first way is just to call the function as a regular function:</h2>\n\n<pre><code>Person(\"George\");\ngetName();//would print the \"George\" in the console\n</code></pre>\n\n<p>in this case, this would be the current context object, which is usually is the global  <code>window</code> object in the browser or <code>GLOBAL</code> in <code>Node.js</code>. It means we would have, window.name in browser or GLOBAL.name in Node.js, with \"George\" as its value.</p>\n\n<h2>b. We can <strong>attach</strong> them to an object, as its properties</h2>\n\n<p>-<strong>The easiest way</strong> to do this is modifying the empty <code>person</code> object, like:</p>\n\n<pre><code>person.Person = Person;\nperson.getName = getName;\n</code></pre>\n\n<p>this way we can call them like:</p>\n\n<pre><code>person.Person(\"George\");\nperson.getName();// --&gt;\"George\"\n</code></pre>\n\n<p>and now the <code>person</code> object is like:</p>\n\n<pre><code>Object {Person: function, getName: function, name: \"George\"}\n</code></pre>\n\n<hr>\n\n<p>-<strong>The other way to attach a property</strong> to an object is using the <code>prototype</code> of that object that can be find in any JavaScript object with the name of <code>__proto__</code>, and I have tried to explain it a bit on the summary part. So we could get the similar result by doing:</p>\n\n<pre><code>person.__proto__.Person = Person;\nperson.__proto__.getName = getName;\n</code></pre>\n\n<p><strong>But</strong> this way what we actually are doing is modifying the <code>Object.prototype</code>, because whenever we create a JavaScript object using literals (<code>{ ... }</code>), it gets created based on <code>Object.prototype</code>, which means it gets attached to the newly created object as an attribute named <strong><code>__proto__</code></strong> , so if we change it, as we have done on our previous code snippet, all the JavaScript objects would get changed, not a good practice. So what could be the better practice now:</p>\n\n<pre><code>person.__proto__ = {\n    Person: Person,\n    getName: getName\n};\n</code></pre>\n\n<p>and now other objects are in peace, but it still doesn't seem to be a good practice. So we have still one more solutions, but to use this solution we should get back to that line of code where <code>person</code> object got created (<code>var person = {};</code>) then change it like:</p>\n\n<pre><code>var propertiesObject = {\n    Person: Person,\n    getName: getName\n};\nvar person = Object.create(propertiesObject);\n</code></pre>\n\n<p>what it does is creating a new JavaScript <code>Object</code> and attach the <code>propertiesObject</code> to the <code>__proto__</code> attribute. So to make sure you can do:</p>\n\n<pre><code>console.log(person.__proto__===propertiesObject); //true\n</code></pre>\n\n<p>But the tricky point here is you have access to all the properties defined in <code>__proto__</code> on the first level of the <code>person</code> object(read the summary part for more detail).</p>\n\n<hr>\n\n<p>as you see using any of these two way <code>this</code> would exactly point to the <code>person</code> object.</p>\n\n<h2>c. JavaScript has another way to provide the function with <code>this</code>, which is using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\">call</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\">apply</a> to invoke the function.</h2>\n\n<blockquote>\n  <p>The apply() method calls a function with a given this value and\n  arguments provided as an array (or an array-like object).</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The call() method calls a function with a given this value and\n  arguments provided individually.</p>\n</blockquote>\n\n<p>this way which is my favorite, we can easily call our functions like:</p>\n\n<pre><code>Person.call(person, \"George\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//apply is more useful when params count is not fixed\nPerson.apply(person, [\"George\"]);\n\ngetName.call(person);   \ngetName.apply(person);\n</code></pre>\n\n<p>these 3 methods are the important initial steps to figure out the .prototype functionality.</p>\n\n<hr>\n\n<h1>2- How does the <code>new</code> keyword works?</h1>\n\n<p>this is the second step to understand the <code>.prototype</code> functionality.this is what I use to simulate the process:</p>\n\n<pre><code>function Person(name){  this.name = name;  }\nmy_person_prototype = { getName: function(){ console.log(this.name); } };\n</code></pre>\n\n<p>in this part I'm gonna be trying to take all the steps which JavaScript takes, without using the <code>new</code> keyword and <code>prototype</code>, when you use <code>new</code> keyword. so when we do <code>new Person(\"George\")</code>, <code>Person</code> function serves as a constructor, These are what JavaScript does, one by one:</p>\n\n<h2>a. first of all it makes an empty object, basically an empty hash like:</h2>\n\n<pre><code>var newObject = {};\n</code></pre>\n\n<h2>b. the next step that JavaScript takes is to <strong>attach</strong> the all prototype objects to the newly created object</h2>\n\n<p>we have <code>my_person_prototype</code> here similar to the prototype object.</p>\n\n<pre><code>for(var key in my_person_prototype){\n    newObject[key] = my_person_prototype[key];\n}\n</code></pre>\n\n<p>It is not the way that JavaScript actually attaches the properties that are defined in the prototype. The actual way is related to the prototype chain concept.</p>\n\n<hr>\n\n<h2>a. &amp; b. Instead of these two steps you can have the exact same result by doing:</h2>\n\n<pre><code>var newObject = Object.create(my_person_prototype);\n//here you can check out the __proto__ attribute\nconsole.log(newObject.__proto__ === my_person_prototype); //true\n//and also check if you have access to your desired properties\nconsole.log(typeof newObject.getName);//\"function\"\n</code></pre>\n\n<p>now we can call the <code>getName</code> function in our <code>my_person_prototype</code>:</p>\n\n<pre><code>newObject.getName();\n</code></pre>\n\n<h2>c. then it gives that object to the constructor,</h2>\n\n<p>we can do this with our sample like:</p>\n\n<pre><code>Person.call(newObject, \"George\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Person.apply(newObject, [\"George\"]);\n</code></pre>\n\n<p>then the constructor can do whatever it wants, because <strong>this</strong> inside of that constructor is the object that was just created.</p>\n\n<p>now the end result before simulating the other steps:\n    Object {name: \"George\"}</p>\n\n<hr>\n\n<h2>Summary:</h2>\n\n<p>Basically, when you use the <strong>new</strong> keyword on a function, you are calling on that and that function serves as a constructor, so when you say:</p>\n\n<pre><code>new FunctionName()\n</code></pre>\n\n<p>JavaScript internally makes an object, an empty hash and then it gives that object to the constructor, then the constructor can do whatever it wants, because <strong>this</strong> inside of that constructor is the object that was just created and then it gives you that object of course if you haven't used the return statement in your function or if you've put a <code>return undefined;</code> at the end of your function body.</p>\n\n<p>So when JavaScript goes to look up a property on an object, the first thing it does, is it looks it up on that object. And then there is a secret property <strong><code>[[prototype]]</code></strong> which we usually have it like <strong><code>__proto__</code></strong> and that property is what JavaScript looks at next. And when it looks through the <strong><code>__proto__</code></strong>, as far as it is again another JavaScript object, it has its own <strong><code>__proto__</code></strong> attribute, it goes up and up until it gets to the point where the next <strong><code>__proto__</code></strong> is null. The point is the only object in JavaScript that its <strong><code>__proto__</code></strong> attribute is null is <code>Object.prototype</code> object:</p>\n\n<pre><code>console.log(Object.prototype.__proto__===null);//true\n</code></pre>\n\n<p>and that's how inheritance works in JavaScript.</p>\n\n<p><img src=\"http://i.stack.imgur.com/JnpBV.png\" alt=\"The prototype chain\"></p>\n\n<p>In other words, when you have a prototype property on a function and you call a new on that, after JavaScript finishes looking at that newly created object for properties, it will go look at the function's <code>.prototype</code> and also it is possible that this object has its own internal prototype. and so on.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 21763808, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p><strong>0)</strong> Two different things can be called \"prototype\":</p>\n\n<ul>\n<li><p>the prototype property, as in <code>obj.prototype</code></p></li>\n<li><p>the prototype internal property, denoted as <code>[[Prototype]]</code> <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.2\">in ES5</a>.</p>\n\n<p>It can be retrieved via the ES5 <code>Object.getPrototypeOf()</code>.</p>\n\n<p>Firefox makes it accessible through the <code>__proto__</code> property as an extension. <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-additional-ecmascript-features-for-web-browsers\">ES6 now mentions</a> some optional requirements for <code>__proto__</code>.</p></li>\n</ul>\n\n<hr>\n\n<p><strong>1)</strong> Those concepts exist to answer the question:</p>\n\n<blockquote>\n  <p>When I do <code>obj.property</code>, where does JS look for <code>.property</code>?</p>\n</blockquote>\n\n<p>Note that inheritance affects that.</p>\n\n<hr>\n\n<p><strong>2)</strong></p>\n\n<ul>\n<li><code>__proto__</code> is used for the dot <code>.</code> property lookup as in <code>obj.property</code>. </li>\n<li><code>.prototype</code> is <em>not</em> used for lookup directly, only indirectly as it determines <code>__proto__</code> at object creation with <code>new</code>.</li>\n</ul>\n\n<p>Lookup order is:</p>\n\n<ul>\n<li><code>obj</code> properties added with <code>obj.p = ...</code> or <code>Object.defineProperty(obj, ...)</code></li>\n<li>properties of <code>obj.__proto__</code></li>\n<li>properties of <code>obj.__proto__.__proto__</code>, and so on</li>\n<li>if some <code>__proto__</code> is <code>null</code>, return <code>undefined</code>.</li>\n</ul>\n\n<p>This is the so-called <em>prototype chain</em>.</p>\n\n<p>You can avoid <code>.</code> lookup with <code>obj.hasOwnProperty('key')</code> and <code>Object.getOwnPropertyNames(f)</code></p>\n\n<hr>\n\n<p><strong>3)</strong> There are two main ways to set <code>obj.__proto__</code>:</p>\n\n<ul>\n<li><p><code>new</code>:</p>\n\n<pre><code>var F = function() {}\nvar f = new F()\n</code></pre>\n\n<p>then <code>new</code> has set:</p>\n\n<pre><code>f.__proto__ === F.prototype\n</code></pre>\n\n<p><em>This</em> is where <code>.prototype</code> gets used.</p></li>\n<li><p><code>Object.create</code>:</p>\n\n<pre><code> f = Object.create(proto)\n</code></pre>\n\n<p>sets:</p>\n\n<pre><code>f.__proto__ === proto\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p><strong>4)</strong> The code:</p>\n\n<pre><code>var F = function() {}\nvar f = new F()\n</code></pre>\n\n<p>Corresponds to the following diagram:</p>\n\n<pre><code>(Function)       (  F  )                                      (f)\n |  ^             | | ^                                        |\n |  |             | | |                                        |\n |  |             | | +-------------------------+              |\n |  |constructor  | |                           |              |\n |  |             | +--------------+            |              |\n |  |             |                |            |              |\n |  |             |                |            |              |\n |[[Prototype]]   |[[Prototype]]   |prototype   |constructor   |[[Prototype]]\n |  |             |                |            |              |\n |  |             |                |            |              |\n |  |             |                | +----------+              |\n |  |             |                | |                         |\n |  |             |                | | +-----------------------+\n |  |             |                | | |\n v  |             v                v | v\n(Function.prototype)              (F.prototype)\n |                                 |\n |                                 |\n |[[Prototype]]                    |[[Prototype]]\n |                                 |\n |                                 |\n | +-------------------------------+\n | |\n v v\n(Object.prototype)\n | | ^\n | | |\n | | +---------------------------+\n | |                             |\n | +--------------+              |\n |                |              |\n |                |              |\n |[[Prototype]]   |constructor   |prototype\n |                |              |\n |                |              |\n |                | -------------+\n |                | |\n v                v |\n(null)           (Object)\n</code></pre>\n\n<p>This diagram shows many language predefined object nodes: <code>null</code>, <code>Object</code>, <code>Object.prototype</code>, <code>Function</code> and <code>Function.prototype</code>. Our 2 lines of code only created <code>f</code>, <code>F</code> and <code>F.prototype</code>.</p>\n\n<hr>\n\n<p><strong>5)</strong> <code>.constructor</code> normally comes from <code>F.prototype</code> through the <code>.</code> lookup:</p>\n\n<pre><code>f.constructor === F\n!f.hasOwnProperty('constructor')\nObject.getPrototypeOf(f) === F.prototype\nF.prototype.hasOwnProperty('constructor')\nF.prototype.constructor === f.constructor\n</code></pre>\n\n<p>When we write <code>f.constructor</code>, JavaScript does the <code>.</code> lookup as:</p>\n\n<ul>\n<li><code>f</code> does not have <code>.constructor</code></li>\n<li><code>f.__proto__ === F.prototype</code> has <code>.constructor === F</code>, so take it</li>\n</ul>\n\n<p>The result <code>f.constructor == F</code> is intuitively correct, since <code>F</code> is used to construct <code>f</code>, e.g. set fields, much like in classic OOP languages. </p>\n\n<hr>\n\n<p><strong>6)</strong> If you modify <code>prototype</code>, you add new properties to all objects that have it as <code>[[Prototype]]</code> because of the <code>.</code> lookup, even if they were created before changing the prototype.</p>\n\n<pre><code>f = new F()\nF.prototype.a = 1\nf.a === 1\n</code></pre>\n\n<p>You could also set <code>prototype</code> to any object:</p>\n\n<pre><code>f = new F()\nF.prototype = {a:1}\nf.a === 1\n</code></pre>\n\n<p>But that wouldn't be cool because then:</p>\n\n<pre><code>f.constructor === Object\n</code></pre>\n\n<p>and not <code>F</code> as conventional. This happens because on the <code>.</code> lookup for <code>constructor</code>:</p>\n\n<ul>\n<li><code>g</code> does not have <code>.constructor</code></li>\n<li><code>g.__proto__ === {a:1}</code> is a <code>new Object</code> and does not have <code>.constructor</code> either</li>\n<li><code>g.__proto__.__proto__</code> is <code>Object.prototype</code>, which has <code>.constructor === Object</code>. So JavaScript takes it.</li>\n</ul>\n", "title": "How does JavaScript .prototype work?", "answer_id": 23877420, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>Let me tell you my understanding of prototypes. I am not going to compare the inheritance here with other languages. I wish people would stop comparing languages, and just understand the language as itself. Understanding prototypes and prototypal inheritance is so simple, as I will show you below.</p>\n\n<p>Prototype is like a model, based on which you create a product. The crucial point to understand is that when you create an object using another object as it's prototype, the link between the prototype and the product is ever-lasting. For instance:</p>\n\n<pre><code>var model = {x:2};\nvar product = Object.create(model);\nmodel.y = 5;\nproduct.y\n=&gt;5\n</code></pre>\n\n<p>Every object contains an internal property called the [[prototype]], which can be accessed by the <code>Object.getPrototypeOf()</code> function. <code>Object.create(model)</code> creates a new object and sets it's [[prototype]] property to the object <strong>model</strong>. Hence when you do <code>Object.getPrototypeOf(product)</code>, you will get the object <strong>model</strong>.</p>\n\n<p>Properties in the <strong>product</strong> are handled in the following way:</p>\n\n<ul>\n<li>When a property is accessed to just read it's value, its looked up in the scope chain. The search for the variable starts from the <strong>product</strong> upwards to it's prototype. If such a variable is found in the search, the search is stopped right there, and the value is returned. If such a variable cannot be found in the scope chain, undefined is returned.</li>\n<li>When a property is written(altered), then the property is always written on the <strong>product</strong> object. If the <strong>product</strong> does not have such a property already, it is implicitly created and written.</li>\n</ul>\n\n<p>Such a linking of objects using the prototype property is called prototypal inheritance. There, it is so simple, agree?</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 26830003, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>Another attempt to explain <a href=\"https://github.com/rus0000/jsinheritance\" rel=\"nofollow\">JavaScript prototype-based inheritance</a> with better pictures</p>\n\n<p><a href=\"https://github.com/rus0000/jsinheritance\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/6gEKe.png\" alt=\"Simple objects inheritanse\"></a></p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 33323493, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>This article is long. But I am sure it will clear most of your queries \nregarding the \"prototypical\" nature of JavaScript Inheritance. And even more. Please read the complete article.</p>\n\n<p>JavaScript basically has two kinds of data types</p>\n\n<ul>\n<li><strong><em>Non objects</em></strong> </li>\n<li><strong><em>Objects</em></strong></li>\n</ul>\n\n<p><strong><em>Non objects</em></strong></p>\n\n<p>Following are the <strong><em>Non object</em></strong> data types</p>\n\n<ul>\n<li><strong>string</strong></li>\n<li><strong>number (including NaN and Infinity)</strong></li>\n<li><strong>boolean values(true,false)</strong> </li>\n<li><strong>undefined</strong></li>\n</ul>\n\n<p>These data types return following when you use the <strong>typeof</strong> operator </p>\n\n<p><strong>typeof</strong> <em>\"string literal\"</em> (or a variable containing string literal)  === <strong>'string'</strong></p>\n\n<p><strong>typeof</strong> <em>5</em> (or any numeric literal or a variable containing numeric literal or <strong><em>NaN or Infynity</em></strong>)  === <strong>'number'</strong></p>\n\n<p><strong>typeof</strong> <em>true</em> (or <em>false</em> or a variable containing <em>true</em> or <em>false</em>)  === <strong>'boolean'</strong></p>\n\n<p><strong>typeof</strong> <em>undefined</em> (or an undefined variable or a variable containing <em>undefined</em>) === <strong>'undefined'</strong></p>\n\n<p>The <strong>string</strong>,<strong>number</strong> and <strong>boolean</strong> data types can be represented both as <strong>Objects</strong> and <strong>Non objects</strong>.When they are represented as objects their typeof is always === 'object'. We shall come back to this once we understand the object data types.</p>\n\n<p><strong><em>Objects</em></strong></p>\n\n<p>The object datatypes can be further divided into two types</p>\n\n<ol>\n<li><strong>Function type objects</strong></li>\n<li><strong>Non Function type objects</strong></li>\n</ol>\n\n<p>The <strong>Function type objects</strong> are the ones that return the string <strong>'function'</strong> with <strong>typeof</strong> operator. \nAll the user defined functions and all the JavaScript built in objects that can create new objects by using new operator fall into this category. For eg.</p>\n\n<ul>\n<li><strong>Object</strong></li>\n<li><strong>String</strong> </li>\n<li><strong>Number</strong>  </li>\n<li><strong>Boolean</strong></li>\n<li><strong>Array</strong> </li>\n<li><strong>Typed Arrays</strong></li>\n<li><strong>RegExp</strong></li>\n<li><strong>Function</strong> </li>\n<li>All the other built in objects that can create new objects by using new operator</li>\n<li><em>function</em> <strong>UserDefinedFunction</strong>(){ /*user defined code */ }</li>\n</ul>\n\n<p>So,\n<strong>typeof(Object)</strong> === <strong>typeof(String)</strong> === <strong>typeof(Number)</strong> === <strong>typeof(Boolean)</strong> === <strong>typeof(Array)</strong>  === <strong>typeof(RegExp)</strong> === <strong>typeof(Function)</strong>  === <strong>typeof(UserDefinedFunction)</strong> === <strong>'function'</strong></p>\n\n<p>All the <strong><em>Function type objects</em></strong> are actually instances of the built in JavaScript object <strong>Function</strong> (including the <strong>Function</strong> object i.e it is recursively defined). It is as if the these objects have been defined in the following way</p>\n\n<pre><code>var Object= new Function ([native code for object Object])\nvar String= new Function ([native code for object String])\nvar Number= new Function ([native code for object Number])\nvar Boolean= new Function ([native code for object Boolean])\nvar Array= new Function ([native code for object Array])\nvar RegExp= new Function ([native code for object RegExp])\nvar Function= new Function ([native code  for object Function])\nvar UserDefinedFunction= new Function (\"user defined code\")\n</code></pre>\n\n<p>As mentioned, the <strong><em>Function type objects</em></strong> can further create new objects using the <strong>new operator</strong>. For e.g an object of type <strong>Object</strong>, <strong>String</strong>, <strong>Number</strong>, <strong>Boolean</strong>, <strong>Array</strong>, <strong>RegExp</strong>  Or <strong>UserDefinedFunction</strong> can be created by using</p>\n\n<pre><code>var a=new Object() or var a=Object() or var a={} //Create object of type Object\nvar a=new String() //Create object of type String\nvar a=new Number() //Create object of type Number\nvar a=new Boolean() //Create object of type Boolean\nvar a=new Array() or var a=Array() or var a=[]  //Create object of type Array\nvar a=new RegExp() or var a=RegExp() //Create object of type RegExp\nvar a=new UserDefinedFunction() \n</code></pre>\n\n<p>The objects thus created are all <strong><em>Non Function type objects</em></strong> and return their <strong>typeof</strong>===<strong>'object'</strong>. In all these cases the object \"a\" cannot further create \nobjects using operator new. So the following is wrong</p>\n\n<pre><code>var b=new a() //error. a is not typeof==='function'\n</code></pre>\n\n<p>The built in object <strong>Math</strong> is <strong>typeof</strong>===<strong>'object'</strong>. Hence a new object of type Math cannot be created by new operator.</p>\n\n<pre><code>var b=new Math() //error. Math is not typeof==='function'\n</code></pre>\n\n<p>Also notice that <strong>Object</strong>,<strong>Array</strong> and <strong>RegExp</strong> functions can create a new object without even using <strong>operator new</strong>. However the follwing ones don't.</p>\n\n<pre><code>var a=String() // Create a new Non Object string. returns a typeof==='string' \nvar a=Number() // Create a new Non Object Number. returns a typeof==='number'\nvar a=Boolean() //Create a new Non Object Boolean. returns a typeof==='boolean'\n</code></pre>\n\n<p>The user defined functions are special case. </p>\n\n<pre><code>var a=UserDefinedFunction() //may or may not create an object of type UserDefinedFunction() based on how it is defined.\n</code></pre>\n\n<p>Since the <strong><em>Function type objects</em></strong> can create new objects they are also called <strong><em>Constructors</em></strong>.</p>\n\n<p>Every <strong>Constructor/Function</strong> (whether built in or user defined) when defined automatically has a property called <strong>\"prototype\"</strong> whose value by default is set as an object. This object itself has a property called <strong>\"constructor\"</strong> which by default references back the <strong>Constructor/Function</strong> .</p>\n\n<p>For example when we define a function</p>\n\n<pre><code>function UserDefinedFunction()\n{\n}\n</code></pre>\n\n<p>following automatically happens</p>\n\n<pre><code>UserDefinedFunction.prototype={constructor:UserDefinedFunction}\n</code></pre>\n\n<p>This <strong>\"prototype\" property</strong> is only present in the <strong>Function type objects</strong> \n(and never in <strong>Non Function type objects</strong>). </p>\n\n<p>This is because <strong>when a new object is created (using new operator)it inherits all properties and methods from Constructor function's current prototype object i.e. an</strong> <strong><em>internal reference</em></strong> <strong>is created in the newly created object that references the object referenced by Constructor function's current prototype object.</strong></p>\n\n<p>This <strong>\"internal reference\"</strong> that is created in the object for referencing inherited properties is known as the <strong>object's prototype</strong> (which references the object referenced by Constructor's <strong>\"prototype\"</strong> property but is different from it). For any object (Function or Non Function) this can be retrieved using <strong>Object.getPrototypeOf()</strong> method. Using this method one can trace the prototype chain of an object. </p>\n\n<p>Also, <strong>every object that is created</strong> (<strong>Function type</strong> or <strong>Non Function type</strong>) has a <strong>\"constructor\"</strong> property which is inherited from the object referenced by prototype  property of the Constructor function. By default this <strong>\"constructor\"</strong> property references the <strong>Constructor function</strong> that created it (if the <strong>Constructor Function's</strong> default \"prototype\" is not changed). </p>\n\n<p>For all <strong><em>Function type objects</em></strong> the constructor function is always\n<strong><em>function Function(){}</em></strong></p>\n\n<p>For <strong><em>Non Function type objects</em></strong> (e.g Javascript Built in  Math object) the constructor function is the function that created it.\nFor <strong>Math</strong> object it is <strong><em>function Object(){}</em></strong>. </p>\n\n<p>All the concept explained above can be a little daunting to understand without any supporting code. Please go through the following code line by line to understand the concept. Try to execute it to have a better understanding.</p>\n\n<pre><code>function UserDefinedFunction()\n{ \n\n} \n\n/* creating the above function automatically does the following as mentioned earlier\n\nUserDefinedFunction.prototype={constructor:UserDefinedFunction}\n\n*/\n\n\nvar newObj_1=new UserDefinedFunction()\n\nalert(Object.getPrototypeOf(newObj_1)===UserDefinedFunction.prototype)  //Displays true\n\nalert(newObj_1.constructor) //Displays function UserDefinedFunction\n\n//Create a new property in UserDefinedFunction.prototype object\n\nUserDefinedFunction.prototype.TestProperty=\"test\"\n\nalert(newObj_1.TestProperty) //Displays \"test\"\n\nalert(Object.getPrototypeOf(newObj_1).TestProperty)// Displays \"test\"\n\n//Create a new Object\n\nvar objA = {\n        property1 : \"Property1\",\n        constructor:Array\n\n}\n\n\n//assign a new object to UserDefinedFunction.prototype\nUserDefinedFunction.prototype=objA\n\nalert(Object.getPrototypeOf(newObj_1)===UserDefinedFunction.prototype)  //Displays false. The object referenced by UserDefinedFunction.prototype has changed\n\n//The internal reference does not change\nalert(newObj_1.constructor) // This shall still Display function UserDefinedFunction\n\nalert(newObj_1.TestProperty) //This shall still Display \"test\" \n\nalert(Object.getPrototypeOf(newObj_1).TestProperty) //This shall still Display \"test\"\n\n\n//Create another object of type UserDefinedFunction\nvar newObj_2= new UserDefinedFunction();\n\nalert(Object.getPrototypeOf(newObj_2)===objA) //Displays true.\n\nalert(newObj_2.constructor) //Displays function Array()\n\nalert(newObj_2.property1) //Displays \"Property1\"\n\nalert(Object.getPrototypeOf(newObj_2).property1) //Displays \"Property1\"\n\n//Create a new property in objA\nobjA.property2=\"property2\"\n\nalert(objA.property2) //Displays \"Property2\"\n\nalert(UserDefinedFunction.prototype.property2) //Displays \"Property2\"\n\nalert(newObj_2.property2) // Displays Property2\n\nalert(Object.getPrototypeOf(newObj_2).property2) //Displays  \"Property2\"\n</code></pre>\n\n<p>The prototype chain of every object ultimately traces back to Object.prototype (which itself does not have any prototype object) .\nFollowing code can be used for tracing the prototype chain of an object</p>\n\n<pre><code>var o=Starting object;\n\ndo {\n    alert(o + \"\\n\" + Object.getOwnPropertyNames(o))\n\n}while(o=Object.getPrototypeOf(o))\n</code></pre>\n\n<p>The prototype chain for various objects work out as follows.</p>\n\n<ul>\n<li>Every Function object (including built in Function object)->\nFunction.prototype -> Object.prototype -> null   </li>\n<li>Simple Objects (created By new Object() or {} including built in Math  object)->   Object.prototype -> null</li>\n<li>Object created with new or Object.create -> One or More prototype chains -> Object.prototype -> null</li>\n</ul>\n\n<p>For creating an object without any prototype use the following:</p>\n\n<pre><code>var o=Object.create(null)\nalert(Object.getPrototypeOf(o)) //Displays null\n</code></pre>\n\n<p>One might think that setting the prototype property of the Constructor to null shall create an object with a null prototype. However in such cases the newly created object's prototype is set to Object.prototype and its constructor is set to function Object. This is demonstrated by the following code</p>\n\n<pre><code>function UserDefinedFunction(){}\nUserDefinedFunction.prototype=null// Can be set to any non object value (number,string,undefined etc.)\n\nvar o=new UserDefinedFunction()\nalert(Object.getPrototypeOf(o)==Object.prototype)   //Displays true\nalert(o.constructor)    //Displays Function Object\n</code></pre>\n\n<p>Following in the summary of this article</p>\n\n<ul>\n<li>There are two types of objects <strong>Function types</strong> and <strong>Non Function types</strong></li>\n<li><p>Only <strong>Function type objects</strong> can create a new object using the <strong>operator new</strong>. The objects thus created are <strong>Non Function type</strong> objects. The <strong>Non Function type objects</strong> cannot further create an object using <strong>operator new</strong>.</p></li>\n<li><p>All <strong>Function type objects</strong> by default have a <strong>\"prototype\"</strong> property. This <strong>\"prototype\"</strong> property references an object that has a <strong>\"constructor\"</strong> property that by default references the <strong>Function type object</strong> itself.  </p></li>\n<li><p>All objects (<strong>Function type</strong> and <strong>Non Function type</strong>) have a \"constructor\" property that by default references the <strong>Function type object</strong>/<strong>Constructor</strong> that created it.</p></li>\n<li><p>Every object that gets created internally references the object referenced by\n<strong>\"prototype\"</strong> property of the Constructor that created it. This object is known as the created <strong><em>object's prototype</em></strong> (which is different from Function type objects \"prototype\" property which it references) . This way the created object can directly access the methods and properties defined in object referenced by the Constructor's \"prototype\" property (at the time of object creation).</p></li>\n<li><p>An <strong>object's prototype</strong> (and hence its inherited property names) can be retrieved using the <strong>Object.getPrototypeOf()</strong>   method. In fact this method \ncan be used for navigating the entire prototype chain of the object.</p></li>\n<li><p>The prototype chain of every object ultimately traces back to Object.prototype (Unless the object is created using Object.create(null) in which case the object has no prototype).</p></li>\n<li><p><strong>typeof(new Array())==='object'</strong> is by design of language and not a mistake as pointed by <a href=\"http://javascript.crockford.com/survey.html\">Douglas Crockford</a>  </p></li>\n<li><p>Setting the prototype property of the Constructor to null(or undefined,number,true,false,string) shall not create an object with a null prototype. In such cases the newly created object's prototype is set to Object.prototype and its constructor is set to function Object. </p></li>\n</ul>\n\n<p>Hope this helps.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 33523979, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p><a href=\"https://www.youtube.com/watch?v=PMfcsYzj-9M\">The Definitive Guide to Object-Oriented JavaScript</a> - a very concise and clear ~30min video explanation of the asked question (Prototypal Inheritance topic begins from <a href=\"https://youtu.be/PMfcsYzj-9M?t=344\">5:45</a>, although I'd rather listen to the whole video). The author of this video also made JavaScript object visualizer website <a href=\"http://www.objectplayground.com/\">http://www.objectplayground.com/</a>.<a href=\"http://i.stack.imgur.com/Vf4qR.jpg\"><img src=\"http://i.stack.imgur.com/Vf4qR.jpg\" alt=\"enter image description here\"></a>\n<a href=\"http://i.stack.imgur.com/xcRpT.jpg\"><img src=\"http://i.stack.imgur.com/xcRpT.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 35485350, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>Consider the following <code>keyValueStore</code> object :</p>\n\n<pre><code>var keyValueStore = (function() {\n    var count = 0;\n    var kvs = function() {\n        count++;\n        this.data = {};\n        this.get = function(key) { return this.data[key]; };\n        this.set = function(key, value) { this.data[key] = value; };\n        this.delete = function(key) { delete this.data[key]; };\n        this.getLength = function() {\n            var l = 0;\n            for (p in this.data) l++;\n            return l;\n        }\n    };\n\n    return  { // Singleton public properties\n        'create' : function() { return new kvs(); },\n        'count' : function() { return count; }\n    };\n})();\n</code></pre>\n\n<p>I can create a new instance of this object by doing this :</p>\n\n<pre><code>kvs = keyValueStore.create();\n</code></pre>\n\n<p>Each instance of this object would have the following public properties :</p>\n\n<ul>\n<li><code>data</code></li>\n<li><code>get</code> </li>\n<li><code>set</code></li>\n<li><code>delete</code></li>\n<li><code>getLength</code></li>\n</ul>\n\n<p>Now, suppose we create 100 instances of this <code>keyValueStore</code> object. Even though <code>get</code>, <code>set</code>, <code>delete</code>, <code>getLength</code> will do the exact same thing for each of these 100 instances, every instance has its own copy of this function.</p>\n\n<p>Now, imagine if you could have just a single <code>get</code>, <code>set</code>, <code>delete</code> and <code>getLength</code> copy, and each instance would reference that same function. This would be better for performance and require less memory.</p>\n\n<p>That's where prototypes come in. A prototype is a \"blueprint\" of properties that is inherited but not copied by instances. So this means that it exists only once in memory for all instances of an object and is shared by all of those instances.</p>\n\n<p>Now, consider the <code>keyValueStore</code> object again. I could rewrite it like this :</p>\n\n<pre><code>var keyValueStore = (function() {\n    var count = 0;\n    var kvs = function() {\n        count++;\n        this.data = {};\n    };\n\n    kvs.prototype = {\n        'get' : function(key) { return this.data[key]; },\n        'set' : function(key, value) { this.data[key] = value; },\n        'delete' : function(key) { delete this.data[key]; },\n        'getLength' : function() {\n            var l = 0;\n            for (p in this.data) l++;\n            return l;\n        }\n    };\n\n    return  {\n        'create' : function() { return new kvs(); },\n        'count' : function() { return count; }\n    };\n})();\n</code></pre>\n\n<p>This does EXACTLY the same as the previous version of the <code>keyValueStore</code> object, except that all of its methods are now put in a prototype. What this means, is that all of the 100 instances now share these four methods instead of each having their own copy.</p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 35948308, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}, {"body": "<p>The concept of <code>prototypal</code> inheritance is one of the most complicated for many developers. Let's try to understand the root of problem to understand <code>prototypal inheritance</code> better. Let's start with a <code>plain</code> function. </p>\n\n<p><a href=\"http://i.stack.imgur.com/BsHT0.png\"><img src=\"http://i.stack.imgur.com/BsHT0.png\" alt=\"enter image description here\"></a></p>\n\n<p>If we use a <code>new</code> operator on the <code>Tree function</code>, we call it as a <code>constructor</code> function. </p>\n\n<p><a href=\"http://i.stack.imgur.com/cU6Qh.png\"><img src=\"http://i.stack.imgur.com/cU6Qh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Every <code>JavaScript</code> function has a <code>prototype</code>. When you log the <code>Tree.prototype</code>, you get...</p>\n\n<p><a href=\"http://i.stack.imgur.com/Xop8c.png\"><img src=\"http://i.stack.imgur.com/Xop8c.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you look at the above <code>console.log()</code> output, you could a see a constructor property on <code>Tree.prototype</code> and a <code>__proto__</code> property too. The <code>__proto__</code> represents the <code>prototype</code> that this <code>function</code> is based off, and since this is just a plain <code>JavaScript function</code> with no <code>inheritance</code> set up yet, it refers to the <code>Object prototype</code> which is something just built in to JavaScript...</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype</a></p>\n\n<p>This has things like <code>.toString, .toValue, .hasOwnProperty</code> etc...</p>\n\n<p><code>__proto__</code> which was brought my mozilla is deprecated and is replaced by <code>Object.getPrototypeOf</code> method to get the <code>object's prototype</code>. </p>\n\n<p><a href=\"http://i.stack.imgur.com/GtcJO.png\"><img src=\"http://i.stack.imgur.com/GtcJO.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>Object.getPrototypeOf(Tree.prototype); // Object {} \n</code></pre>\n\n<p>Let's add a method to our <code>Tree</code> <code>prototype</code>. </p>\n\n<p><a href=\"http://i.stack.imgur.com/BsHT0.png\"><img src=\"http://i.stack.imgur.com/BsHT0.png\" alt=\"enter image description here\"></a></p>\n\n<p>We have modified the <code>Root</code> and added a <code>function</code> branch to it. </p>\n\n<p><a href=\"http://i.stack.imgur.com/cU6Qh.png\"><img src=\"http://i.stack.imgur.com/cU6Qh.png\" alt=\"enter image description here\"></a></p>\n\n<p>That means when you create an <code>instance</code> of <code>Tree</code>, you can call it's <code>branch</code> method.</p>\n\n<p><a href=\"http://i.stack.imgur.com/Xop8c.png\"><img src=\"http://i.stack.imgur.com/Xop8c.png\" alt=\"enter image description here\"></a></p>\n\n<p>We can also add <code>primitives</code> or <code>objects</code> to our <code>Prototype</code>. </p>\n\n<p><a href=\"http://i.stack.imgur.com/GtcJO.png\"><img src=\"http://i.stack.imgur.com/GtcJO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let's add a <code>child-tree</code> to our <code>Tree</code>. </p>\n\n<p><a href=\"http://i.stack.imgur.com/ggFON.png\"><img src=\"http://i.stack.imgur.com/ggFON.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here the <code>Child</code> inherits its <code>prototype</code> from Tree, what we are doing here is using <code>Object.create()</code> method to create a new object based off what you pass, here it is <code>Tree.prototype</code>. In this case what we're doing is setting the prototype of Child to a new object that looks identical to the <code>Tree</code> prototype. Next we are setting the <code>Child's constructor to Child</code>, if we don't it would point to <code>Tree()</code>. </p>\n\n<p><a href=\"http://i.stack.imgur.com/yiZcY.png\"><img src=\"http://i.stack.imgur.com/yiZcY.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>Child</code> now has its own <code>prototype</code>, its <code>__proto__</code> points to <code>Tree</code> and <code>Tree's prototype</code> points to base <code>Object</code>. </p>\n\n<pre><code>Child  \n|\n \\\n  \\\n   Tree.prototype\n   - branch\n   |\n   |\n    \\\n     \\\n      Object.prototype\n      -toString\n      -valueOf\n      -etc., etc.\n</code></pre>\n\n<p>Now you create an <code>instance</code> of <code>Child</code> and call <code>branch</code> which is originally available in <code>Tree</code>. We haven't actually defined our <code>branch</code> on the <code>Child prototype</code>. BUT, in the <code>Root prototype</code> which Child inherits from. </p>\n\n<p><a href=\"http://i.stack.imgur.com/k6BNb.png\"><img src=\"http://i.stack.imgur.com/k6BNb.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>In JS everything is not an object, everything can act like an object.</strong></p>\n\n<p><code>Javascript</code> has primitives like <code>strings, number, booleans, undefined, null.</code> They are not <code>object(i.e reference types)</code>, but certainly can act like an <code>object</code>. Let's look at an example here.</p>\n\n<p><a href=\"http://i.stack.imgur.com/WVjiv.png\"><img src=\"http://i.stack.imgur.com/WVjiv.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the first line of this listing, a <code>primitive</code> string value is assigned to name. The second line treats name like an <code>object</code> and calls <code>charAt(0)</code> using dot notation.</p>\n\n<p>This is what happens behind the scenes:\n// what the <code>JavaScript</code> engine does</p>\n\n<p><a href=\"http://i.stack.imgur.com/l6MHc.png\"><img src=\"http://i.stack.imgur.com/l6MHc.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>String object</code> exists only for one statement before it\u2019s destroyed (a process called <code>autoboxing</code>). Let's again get back to our <code>prototypal</code> <code>inheritance</code>. </p>\n\n<ul>\n<li><code>Javascript</code> supports inheritance via <code>delegation</code> based on\n<code>prototypes</code>.</li>\n<li>Each <code>Function</code> has a <code>prototype</code> property, which refers to another\nobject.</li>\n<li><code>properties/functions</code> are looked from the <code>object</code> itself or via\n<code>prototype</code> chain if it does not exist</li>\n</ul>\n\n<p>A <code>prototype</code> in JS is an object which <code>yields</code> you to the parent of another <code>object</code>. <strong>[ie.. delegation]</strong> <code>Delegation</code> means that if you are unable to do something, you\u2019ll tell someone else to do it for you.</p>\n\n<p><a href=\"http://i.stack.imgur.com/W0NUA.png\"><img src=\"http://i.stack.imgur.com/W0NUA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://jsfiddle.net/say0tzpL/1/\">https://jsfiddle.net/say0tzpL/1/</a></p>\n\n<p>If you look up the above fiddle, dog has access to <code>toString</code> method, but its not available in it, but available via the prototype chain which delegates to <code>Object.prototype</code></p>\n\n<p><a href=\"http://i.stack.imgur.com/lWILf.png\"><img src=\"http://i.stack.imgur.com/lWILf.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you look at the below one, we are trying to access the <code>call</code> method which is available in every <code>function</code>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/iF4RN.png\"><img src=\"http://i.stack.imgur.com/iF4RN.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://jsfiddle.net/rknffckc/\">https://jsfiddle.net/rknffckc/</a></p>\n\n<p>If you look up the above fiddle, <code>Profile</code> Function has access to <code>call</code> method, but its not available in it, but available via the prototype chain which delegates to <code>Function.prototype</code></p>\n\n<p><a href=\"http://i.stack.imgur.com/Mijkj.png\"><img src=\"http://i.stack.imgur.com/Mijkj.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note:</strong> <code>prototype</code> is a property of the function constructor, whereas <code>__proto__</code> is a property of the objects constructed from the function constructor. Every function comes with a <code>prototype</code> property whose value is an empty <code>object</code>. When we create an instance of the function, we get an internal property <code>[[Prototype]]</code> or <code>__proto__</code> whose reference is the prototype of the Function <code>constructor</code>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/HvzDP.png\"><img src=\"http://i.stack.imgur.com/HvzDP.png\" alt=\"enter image description here\"></a></p>\n\n<p>The above diagram looks bit complicated, but brings out the whole picture on how <code>prototype chaining</code> works. Let's walk through this slowly:</p>\n\n<p>There are two instance <code>b1</code> and <code>b2</code>, whose constructor is <code>Bar</code> and parent is Foo and has two methods from prototype chain <code>identify</code> and <code>speak</code> via <code>Bar</code> and <code>Foo</code></p>\n\n<p><a href=\"http://i.stack.imgur.com/EllEL.png\"><img src=\"http://i.stack.imgur.com/EllEL.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://jsfiddle.net/kbp7jr7n/\">https://jsfiddle.net/kbp7jr7n/</a></p>\n\n<p>If you look up the code above, we have <code>Foo</code> constructor who has the method <code>identify()</code> and <code>Bar</code> constructor which has <code>speak</code> method. We create two <code>Bar</code> instance <code>b1</code> and <code>b2</code> whose parent type is <code>Foo</code>. Now while calling <code>speak</code> method of <code>Bar</code>, we are able to identify the who is calling the speak via <code>prototype</code> chain. </p>\n\n<p><a href=\"http://i.stack.imgur.com/V7fH7.png\"><img src=\"http://i.stack.imgur.com/V7fH7.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>Bar</code> now has all the methods of <code>Foo</code> which are defined in its <code>prototype</code>. Let's dig further in understanding the <code>Object.prototype</code> and <code>Function.prototype</code> and how they are related. If you look up the constructor of <code>Foo</code>, <code>Bar</code> and <code>Object</code> are <code>Function constructor</code>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/wzzRu.png\"><img src=\"http://i.stack.imgur.com/wzzRu.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>prototype</code> of <code>Bar</code> is <code>Foo</code>, <code>prototype</code> of <code>Foo</code> is <code>Object</code> and if you look closely the <code>prototype</code> of <code>Foo</code> is related to <code>Object.prototype</code>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/wEOxo.png\"><img src=\"http://i.stack.imgur.com/wEOxo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before we close this down, let's just wrap with a small piece of code here to <strong>summarize everything above</strong>. We are using <code>instanceof</code> operator here to check whether an <code>object</code> has in its <code>prototype</code> chain the <code>prototype</code> property of a <code>constructor</code> which below summarizes the entire big diagram. </p>\n\n<p><a href=\"http://i.stack.imgur.com/n84uV.png\"><img src=\"http://i.stack.imgur.com/n84uV.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope this add's some information, I know this kinda could be big to grasp... in simple words its <strong>it's just objects linked to objects!!!!</strong> </p>\n", "title": "How does JavaScript .prototype work?", "answer_id": 38174603, "question_id": 572897, "tags": ["javascript", "dynamic-languages", "prototype-oriented"]}], "question_id": 572897}, {"body": "<p>How do I write a switch statement in Ruby?</p>\n", "title": "How to write a switch statement in Ruby", "tags": ["ruby", "switch-statement", "conditional"], "answer_count": 18, "link": "http://stackoverflow.com/questions/948135/how-to-write-a-switch-statement-in-ruby", "answers": [{"body": "<p>It is done by <a href=\"http://www.techotopia.com/index.php/The_Ruby_case_Statement\">case</a> in Ruby. Also see <a href=\"http://en.wikipedia.org/wiki/Switch_statement#Ruby\">this article on Wikipedia</a>.</p>\n\n<p>Quoted:</p>\n\n<pre><code>case n\nwhen 0\n  puts 'You typed zero'\nwhen 1, 9\n  puts 'n is a perfect square'\nwhen 2\n  puts 'n is a prime number'\n  puts 'n is an even number'\nwhen 3, 5, 7\n  puts 'n is a prime number'\nwhen 4, 6, 8\n  puts 'n is an even number'\nelse\n  puts 'Only single-digit numbers are allowed'\nend\n</code></pre>\n\n<p>Another example:</p>\n\n<pre><code>score = 70\n\nresult = case score\n   when 0..40 then \"Fail\"\n   when 41..60 then \"Pass\"\n   when 61..70 then \"Pass with Merit\"\n   when 71..100 then \"Pass with Distinction\"\n   else \"Invalid Score\"\nend\n\nputs result\n</code></pre>\n\n<p>On around page 123 (I am using Kindle) of <em>The Ruby Programming Lanugage</em> (1st Edition, O'Reilly), it says the <code>then</code> keyword following the <code>when</code> clauses can be replaced with a newline or semicolon (just like in the <code>if then else</code> syntax). (Ruby 1.8 also allows a colon in place of <code>then</code>... But this syntax is no longer allowed in Ruby 1.9.)</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 948142, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Ruby uses the <a href=\"http://ruby-doc.com/docs/ProgrammingRuby/html/tut_expressions.html#S5\"><code>case</code> expression</a> instead.</p>\n\n<pre><code>puts case a\nwhen 1..5\n  \"It's between 1 and 5\"\nwhen 6\n  \"It's 6\"\nwhen String\n  \"You passed a string\"\nelse\n  \"You gave me #{a} -- I have no idea what to do with that.\"\nend\n</code></pre>\n\n<p>The comparison is done by comparing the object in the when-clause with the object in the case-clause using the <code>===</code> operator. That is, it does <code>1..5 === a</code> and <code>String === a</code>, not <code>a === 1..5</code>. This allows for the sophisticated semantics you see above, where you can use ranges and classes and all sorts of things rather than just testing for equality.</p>\n\n<p>You can check more of the same from <a class='doc-link' href=\"http://stackoverflow.com/documentation/ruby/640/control-flow/3506/case-statement#t=201607220817347592243\">Ruby <code>case</code> SO Documentation</a></p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 948157, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p><code>case...when</code> behaves a bit unexpectedly when handling classes. This is due to the fact that it uses the <code>===</code> operator.</p>\n\n<p>That operator works as expected with literals, but not with classes:</p>\n\n<pre><code>1 === 1           # =&gt; true\nFixnum === Fixnum # =&gt; false\n</code></pre>\n\n<p>This means that if you want to do a <code>case ... when</code> over an object's class, this will not work:</p>\n\n<pre><code>obj = 'hello'\ncase obj.class\nwhen String\n  print('It is a string')\nwhen Fixnum\n  print('It is a number')\nelse\n  print('It is not a string')\nend\n</code></pre>\n\n<p>Will print \"It is not a string\".</p>\n\n<p>Fortunately, this is easily solved. The <code>===</code> operator has been defined so that it returns <code>true</code> if you use it with a class and supply an instance of that class as the second operand:</p>\n\n<pre><code>Fixnum === 1 # =&gt; true\n</code></pre>\n\n<p>In short, the code above can be fixed by removing the <code>.class</code>:</p>\n\n<pre><code>obj = 'hello'\ncase obj  # was case obj.class\nwhen String\n  print('It is a string')\nwhen Fixnum\n  print('It is a number')\nelse\n  print('It is not a string')\nend\n</code></pre>\n\n<p>I hit this problem today while looking for an answer, and this was the first appearing page, so I figured it would be useful to others in my same situation.</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 5694333, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<h1>    case...when</h1>\n\n<p>To add more examples to <a href=\"http://stackoverflow.com/a/948157/471214\">Chuck's answer</a>:</p>\n\n<p><strong>With parameter:</strong></p>\n\n<pre><code>case a\nwhen 1\n  puts \"Single value\"\nwhen 2, 3\n  puts \"One of comma-separated values\"\nwhen 4..6\n  puts \"One of 4, 5, 6\"\nwhen 7...9\n  puts \"One of 7, 8, but not 9\"\nelse\n  puts \"Any other thing\"\nend\n</code></pre>\n\n<p><strong>Without parameter:</strong></p>\n\n<pre><code>case\nwhen b &lt; 3\n  puts \"Little than 3\"\nwhen b == 3\n  puts \"Equal to 3\"\nwhen (1..10) === b\n  puts \"Something in closed range of [1..10]\"\nend\n</code></pre>\n\n<p>Please, be aware of <a href=\"http://stackoverflow.com/a/5694333/471214\">the issue</a> that kikito warns.</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 11345195, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>You can use regular expressions, such as finding a type of string:</p>\n\n<pre><code>case foo\nwhen /^(true|false)$/\n   puts \"Given string is boolean\"\nwhen /^[0-9]+$/ \n   puts \"Given string is integer\"\nwhen /^[0-9\\.]+$/\n   puts \"Given string is float\"\nelse\n   puts \"Given string is probably string\"\nend\n</code></pre>\n\n<p>Ruby's <code>case</code> will use the equality operand <code>===</code> for this (thanks @JimDeville). Additional information is available at \"<a href=\"http://www.tutorialspoint.com/ruby/ruby_operators.htm\">Ruby Operators</a>\". This also can be done using @mmdemirbas example (without parameter), only this approach is cleaner for these types of cases.</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 12914530, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>In Ruby 2.0, you can also use lambdas in <code>case</code> statements, as follows:</p>\n\n<pre><code>is_even = -&gt;(x) { x % 2 == 0 }\n\ncase number\nwhen 0 then puts 'zero'\nwhen is_even then puts 'even'\nelse puts 'odd'\nend\n</code></pre>\n\n<p>You can also create your own comparators easily using a Struct with a custom <code>===</code></p>\n\n<pre><code>Moddable = Struct.new(:n) do\n  def ===(numeric)\n    numeric % n == 0\n  end\nend\n\nmod4 = Moddable.new(4)\nmod3 = Moddable.new(3)\n\ncase number\nwhen mod4 then puts 'multiple of 4'\nwhen mod3 then puts 'multiple of 3'\nend\n</code></pre>\n\n<p>(Example taken from \"<a href=\"http://stackoverflow.com/questions/16662295/can-procs-be-used-with-case-statements-in-ruby-2-0\">Can procs be used with case statements in Ruby 2.0?</a>\".)</p>\n\n<p>Or, with a complete class:</p>\n\n<pre><code>class Vehicle\n  def ===(another_vehicle)\n    self.number_of_wheels == another_vehicle.number_of_wheels\n  end\nend\n\nfour_wheeler = Vehicle.new 4\ntwo_wheeler = Vehicle.new 2\n\ncase vehicle\nwhen two_wheeler\n  puts 'two wheeler'\nwhen four_wheeler\n  puts 'four wheeler'\nend\n</code></pre>\n\n<p>(Example taken from \"<a href=\"http://www.skorks.com/2009/08/how-a-ruby-case-statement-works-and-what-you-can-do-with-it/\">How A Ruby Case Statement Works And What You Can Do With It</a>\".)</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 17983076, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Lots of great answers but I thought I would add one factoid.. If you are attempting to compare objects (Classes) make sure you have a space ship method (not a joke) or understand how they are being compared</p>\n\n<p>Here is a good discussion on the topic\n<a href=\"http://www.skorks.com/2009/09/ruby-equality-and-object-comparison/\" rel=\"nofollow\">http://www.skorks.com/2009/09/ruby-equality-and-object-comparison/</a></p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 18089662, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Since <code>switch case</code> always returns a single object, we can directly print its result:</p>\n\n<pre><code>puts case a\n     when 0\n        \"It's zero\"\n     when 1\n        \"It's one\"\n     end\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 19783800, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Many programming languages, especially those derived from C, have support for the so-called <a href=\"http://en.wikipedia.org/wiki/Switch_statement#Fallthrough\">Switch Fallthrough</a>. I was searching for the best way to do the same in Ruby and thought it might be useful to others:</p>\n\n<p>In C-like languages fallthrough typically looks like this:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>switch (expression) {\n    case 'a':\n    case 'b':\n    case 'c':\n        // Do something for a, b or c\n        break;\n    case 'd':\n    case 'e':\n        // Do something else for d or e\n        break;\n}\n</code></pre>\n\n<p>In Ruby, the same can be achieved in the following way:</p>\n\n<pre><code>case expression\nwhen 'a', 'b', 'c'\n  # Do something for a, b or c\nwhen 'd', 'e'\n  # Do something else for d or e\nend\n</code></pre>\n\n<p>This is not strictly equivalent, because it's not possible to let <code>'a'</code> execute a block of code before falling through to <code>'b'</code> or <code>'c'</code>, but for the most part I find it similar enough to be useful in the same way.</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 20441220, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Multi-value when and no-value case:</p>\n\n<pre><code>print \"Enter your grade: \"\ngrade = gets.chomp\ncase grade\nwhen \"A\", \"B\"\n  puts 'You pretty smart!'\nwhen \"C\", \"D\"\n  puts 'You pretty dumb!!'\nelse\n  puts \"You can't even use a computer!\"\nend\n</code></pre>\n\n<p>And a <a href=\"http://en.wikipedia.org/wiki/Regular_expression\">regular expression</a> solution here:</p>\n\n<pre><code>print \"Enter a string: \"\nsome_string = gets.chomp\ncase\nwhen some_string.match(/\\d/)\n  puts 'String has numbers'\nwhen some_string.match(/[a-zA-Z]/)\n  puts 'String has letters'\nelse\n  puts 'String has no numbers or letters'\nend\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 21233188, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>If you are eager to know how to use an OR condition in a Ruby switch case:</p>\n\n<p>So, in a <code>case</code> statement, a <code>,</code> is the equivalent of <code>||</code> in an <code>if</code> statement.</p>\n\n<pre><code>case car\n   when 'Maruti', 'Hyundai'\n      # Code here\nend\n</code></pre>\n\n<p><a href=\"http://www.skorks.com/2009/08/how-a-ruby-case-statement-works-and-what-you-can-do-with-it/\">Many other things you can do with a Ruby case statement</a></p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 24546727, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>I've started to use:</p>\n\n<pre><code>a = \"secondcase\"\n\nvar_name = case a\n  when \"firstcase\" then \"foo\"\n  when \"secondcase\" then \"bar\"\nend\n\nputs var_name\n&gt;&gt; \"bar\"\n</code></pre>\n\n<p>It helps compact code in some cases.</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 24620053, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Depending on your case, you could prefer to use a hash of methods.</p>\n\n<p>If there is a long list of when's and each of them has a concrete value to compare with (not an interval), it will be more effective to declare a hash of methods and then to call the relevant method from the hash like that.</p>\n\n<pre><code># Define the hash\nmenu = {a: :menu1, b: :menu2, c: :menu2, d: :menu3}\n\n# Define the methods\ndef menu1\n  puts 'menu 1'\nend\n\ndef menu2\n  puts 'menu 2'\nend\n\ndef menu3\n  puts 'menu3'\nend\n\n# Let's say we case by selected_menu = :a\nselected_menu = :a\n\n# Then just call the relevant method from the hash\nsend(menu[selected_menu])\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 25915911, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>It's called <code>case</code> and it works like you would expect, plus lots more fun stuff courtesy of <code>===</code> which implements the tests.</p>\n\n<pre><code>case 5\n  when 5\n    puts 'yes'\n  else\n    puts 'else'\nend\n</code></pre>\n\n<p>Now for some fun:</p>\n\n<pre><code>case 5 # every selector below would fire (if first)\n  when 3..7    # OK, this is nice\n  when 3,4,5,6 # also nice\n  when Fixnum  # or\n  when Integer # or\n  when Numeric # or\n  when Comparable # (?!) or\n  when Object  # (duhh) or\n  when Kernel  # (?!) or\n  when BasicObject # (enough already)\n    ...\nend\n</code></pre>\n\n<p>And it turns out you can generally replace an if/else chain with <code>case</code> by leaving out the value and just writing expressions where the first match is what you want.</p>\n\n<pre><code>case\n  when x.nil?\n    ...\n  when (x.match /'^fn'/)\n    ...\n  when (x.include? 'substring')\n    ...\n  when x.gusb('o', 'z') == 'fnzrq'\n    ...\n  when Time.now.tuesday?\n    ...\nend\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 35233112, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<pre><code>puts \"Recommend me a language to learn?\"\ninput = gets.chomp.downcase.to_s\n\ncase input\nwhen 'ruby'\n    puts \"Learn Ruby\"\nwhen 'python'\n    puts \"Learn Python\"\nwhen 'java'\n    puts \"Learn Java\"\nwhen 'php'\n    puts \"Learn PHP\"\nelse\n    \"Go to Sleep!\"\nend\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 35954569, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>You can do like this in more natural way,</p>\n\n<pre><code>case expression\nwhen condtion1\n   function\nwhen condition2\n   function\nelse\n   function\nend\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 37456498, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>As stated in many of the above answers, the === operator is used under the hood on case/when statements. </p>\n\n<p>Here is a few extra information about that operator.</p>\n\n<h2>Case equality operator: ===</h2>\n\n<p>Many of Ruby's built-in classes, such as String, Range, and Regexp, provide their own implementations of the === operator, also known as case-equality, triple equals or threequals. Because it's implemented differently in each class, it will behave differently depending on the type of object it was called on. Generally, it returns true if the object on the right \"belongs to\" or \"is a member of\" the object on the left. For instance, it can be used to test if an object is an instance of a class (or one of its subclasses).</p>\n\n<pre><code>String === \"zen\"  # Output: =&gt; true\nRange === (1..2)   # Output: =&gt; true\nArray === [1,2,3]   # Output: =&gt; true\nInteger === 2   # Output: =&gt; true\n</code></pre>\n\n<p>The same result can be achieved with other methods which are probably best suited for the job, such as is_a? and instance_of?.</p>\n\n<h3>Range Implementation of ===</h3>\n\n<p>When the === operator is called on a range object, it returns true if the value on the right falls within the range on the left.</p>\n\n<pre><code>(1..4) === 3  # Output: =&gt; true\n(1..4) === 2.345 # Output: =&gt; true\n(1..4) === 6  # Output: =&gt; false\n\n(\"a\"..\"d\") === \"c\" # Output: =&gt; true\n(\"a\"..\"d\") === \"e\" # Output: =&gt; false\n</code></pre>\n\n<p>Remember that the === operator invokes the === method of the left-hand object. So (1..4) === 3 is equivalent to (1..4).=== 3. In other words, the class of the left-hand operand will define which implementation of the === method will be called, so the operand positions are not interchangeable. </p>\n\n<h3>Regexp Implementation of ===</h3>\n\n<p>Returns true if the string on the right matches the regular expression on the left.\n    /zen/ === \"practice zazen today\"  # Output: => true\n    # is similar to\n    \"practice zazen today\"=~ /zen/</p>\n\n<p>The only relevant difference between the two examples above is that, when there is a match, === returns true and =~ returns an integer, which is a truthy value in Ruby. We will get back to this soon.</p>\n", "title": "How to write a switch statement in Ruby", "answer_id": 38228649, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}, {"body": "<p>Ruby uses the <code>case</code> for writing switch statements.</p>\n\n<p>As per the <a href=\"http://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-case\" rel=\"nofollow\">Ruby Docs</a>:</p>\n\n<blockquote>\n  <p>Case statements consist of an optional condition, which is in the\n  position of an argument to <code>case</code>, and zero or more <code>when</code> clauses.\n  The first <code>when</code> clause to match the condition (or to evaluate to\n  Boolean truth, if the condition is null) \u201cwins\u201d, and its code stanza\n  is executed. The value of the case statement is the value of the\n  successful <code>when</code> clause, or <code>nil</code> if there is no such clause.</p>\n  \n  <p>A case statement can end with an <code>else</code> clause. Each <code>when</code> a\n  statement can have multiple candidate values, separated by commas.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>case x\nwhen 1,2,3\n  puts \"1, 2, or 3\"\nwhen 10\n  puts \"10\"\nelse\n  puts \"Some other number\"\nend\n</code></pre>\n\n<p>Shorter version:</p>\n\n<pre><code>case x\nwhen 1,2,3 then puts \"1, 2, or 3\"\nwhen 10 then puts \"10\"\nelse puts \"Some other number\"\nend\n</code></pre>\n\n<hr>\n\n<p>And as this blog by <a href=\"http://blog.honeybadger.io/rubys-case-statement-advanced-techniques/\" rel=\"nofollow\">Honeybadger</a> describes Ruby Case;</p>\n\n<p>Can be used with <a href=\"http://ruby-doc.org/core-2.2.0/Range.html\" rel=\"nofollow\">Ranges</a>:</p>\n\n<pre><code>case 5\nwhen (1..10)\n  puts \"case statements match inclusion in a range\"\nend\n\n## =&gt; \"case statements match inclusion in a range\"\n</code></pre>\n\n<p>Can be used with <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow\">Regex</a>:</p>\n\n<pre><code>case \"FOOBAR\"\nwhen /BAR$/\n  puts \"they can match regular expressions!\"\nend\n\n## =&gt; \"they can match regular expressions!\"\n</code></pre>\n\n<p>Can be used with <a href=\"https://rubymonk.com/learning/books/4-ruby-primer-ascent/chapters/18-blocks/lessons/64-blocks-procs-lambdas\" rel=\"nofollow\">Procs and Lambdas</a>:</p>\n\n<pre><code>case 40\nwhen -&gt; (n) { n.to_s == \"40\" }\n  puts \"lambdas!\"\nend\n\n## =&gt; \"lambdas\"\n</code></pre>\n\n<p>Also, can be used with your own match classes:</p>\n\n<pre><code>class Success\n  def self.===(item)\n    item.status &gt;= 200 &amp;&amp; item.status &lt; 300\n  end\nend\n\nclass Empty\n  def self.===(item)\n    item.response_size == 0\n  end\nend\n\ncase http_response\nwhen Empty\n  puts \"response was empty\"\nwhen Success\n  puts \"response was a success\"\nend\n</code></pre>\n", "title": "How to write a switch statement in Ruby", "answer_id": 38445037, "question_id": 948135, "tags": ["ruby", "switch-statement", "conditional"]}], "question_id": 948135}, {"body": "<p>Does anyone know how to access the index itself for a list like this:</p>\n\n<pre><code>ints = [8, 23, 45, 12, 78]\n</code></pre>\n\n<p>When I loop through it using a for loop, how do I access the loop index, from 1 to 5 in this case?</p>\n", "title": "Accessing the index in Python for loops", "tags": ["python", "loops", "list"], "answer_count": 13, "link": "http://stackoverflow.com/questions/522563/accessing-the-index-in-python-for-loops", "answers": [{"body": "<pre><code>for i in range(len(ints)):\n   print i, ints[i]\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 522569, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>Old fashioned way:</p>\n\n<pre><code>for ix in range(len(ints)):\n    print ints[ix]\n</code></pre>\n\n<p>List comprehension:</p>\n\n<pre><code>[ (ix, ints[ix]) for ix in range(len(ints))]\n\n&gt;&gt;&gt; ints\n[1, 2, 3, 4, 5]\n&gt;&gt;&gt; for ix in range(len(ints)): print ints[ix]\n... \n1\n2\n3\n4\n5\n&gt;&gt;&gt; [ (ix, ints[ix]) for ix in range(len(ints))]\n[(0, 1), (1, 2), (2, 3), (3, 4), (4, 5)]\n&gt;&gt;&gt; lc = [ (ix, ints[ix]) for ix in range(len(ints))]\n&gt;&gt;&gt; for tup in lc:\n...     print tup\n... \n(0, 1)\n(1, 2)\n(2, 3)\n(3, 4)\n(4, 5)\n&gt;&gt;&gt;\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 522576, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>Using additional state variable, such as index variable (which you would normally use in languages such as C or PHP), is considered non-pythonic.</p>\n\n<p>The better option is to use the builtin function <a href=\"https://docs.python.org/3/library/functions.html#enumerate\"><code>enumerate()</code></a>, available in both Python 2 and 3:</p>\n\n<pre><code>for idx, val in enumerate(ints):\n    print(idx, val)\n</code></pre>\n\n<p>Check out <a href=\"https://www.python.org/dev/peps/pep-0279/\">PEP 279</a> for more.</p>\n", "title": "Accessing the index in Python for loops", "answer_id": 522578, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>According to this discussion: <a href=\"http://bytes.com/topic/python/answers/464012-objects-list-index\" rel=\"nofollow\">http://bytes.com/topic/python/answers/464012-objects-list-index</a></p>\n\n<p>Loop counter iteration</p>\n\n<p>The current idiom for looping over the indices makes use of the built-in 'range' function:</p>\n\n<pre><code>for i in range(len(sequence)):\n    # work with index i\n</code></pre>\n\n<p>Looping over both elements and indices can be achieved either by the old idiom or by using the new 'zip' built-in function[2]:</p>\n\n<pre><code>for i in range(len(sequence)):\n    e = sequence[i]\n    # work with index i and element e\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for i, e in zip(range(len(sequence)), sequence):\n    # work with index i and element e\n</code></pre>\n\n<p>via <a href=\"http://www.python.org/dev/peps/pep-0212/\" rel=\"nofollow\">http://www.python.org/dev/peps/pep-0212/</a></p>\n", "title": "Accessing the index in Python for loops", "answer_id": 10459739, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>I don't know if the following is pythonic or not, but it uses the Python function <code>enumerate</code> and prints the enumerator and the value.</p>\n\n<pre><code>int_list = [8, 23, 45, 12, 78]\nfor index in enumerate(int_list):\n   print index\n(0, 8)\n(1, 23)\n(2, 45)\n(3, 12)\n(4, 78)\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 19642174, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>Its pretty simple to start it from <code>1</code> other than <code>0</code>.</p>\n\n<pre><code>for index in enumerate(iterable, start=1):\n   print index\n</code></pre>\n\n<h2>Note</h2>\n\n<p>Important hint, though a little misleading, since <code>index</code> will be a <code>tuple</code> <code>(idx, item)</code> here.\nGood to go. </p>\n", "title": "Accessing the index in Python for loops", "answer_id": 23886515, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>The better way to get the index of each element of the sequence:</p>\n\n<pre><code>for indx , value in enumerate(arraySquence):\n    print (indx , value )\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 26350953, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<blockquote>\n  <h1>Using a for loop, how do I access the loop index, from 1 to 5 in this case?</h1>\n</blockquote>\n\n<p>Use <code>enumerate</code>:</p>\n\n<pre><code>for index, item in enumerate(items):\n    print(index, item)\n</code></pre>\n\n<p>And note that indexes start at zero, so you would get 0 to 4 with this. If you want the count, I explain that below.</p>\n\n<h1>Unidiomatic control flow</h1>\n\n<p>What you are asking for is the Pythonic equivalent of the following, which is the algorithm most programmers of lower-level languages would use:</p>\n\n<blockquote>\n<pre><code>index = 0            # Python's indexing starts at zero\nfor item in items:   # Python's for loops are a \"for each\" loop \n    print(index, item)\n    index += 1\n</code></pre>\n</blockquote>\n\n<p>Or in languages that do not have a for-each loop:</p>\n\n<blockquote>\n<pre><code>index = 0\nwhile index &lt; len(items):\n    print(index, items[index])\n    index += 1\n</code></pre>\n</blockquote>\n\n<p>or sometimes more commonly (but unidiomatically) found in Python:</p>\n\n<blockquote>\n<pre><code>for index in range(len(items)):\n    print(index, items[index])\n</code></pre>\n</blockquote>\n\n<h1>Use the Enumerate Function</h1>\n\n<p>Python's <a href=\"https://docs.python.org/2/library/functions.html#enumerate\"><code>enumerate</code> function</a> reduces the visual clutter by hiding the accounting for the indexes, and encapsulating the iterable into another iterable (an <code>enumerate</code> object) that yields a two-item tuple of the index and the item that the original iterable would provide. That looks like this:</p>\n\n<pre><code>for index, item in enumerate(items, start=0):   # default is zero\n    print(index, item)\n</code></pre>\n\n<p>This code sample is fairly well the <a href=\"http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#index-item-2-enumerate\">canonical</a> example of the difference between code that is idiomatic of Python and code that is not. Idiomatic code is sophisticated (but not complicated) Python, written in the way that it was intended to be used. Idiomatic code is expected by the designers of the language, which means that usually this code is not just more readable, but also more efficient.</p>\n\n<h2>Getting a count</h2>\n\n<p>Even if you don't need indexes as you go, but you need a count of the iterations (sometimes desirable) you can start with <code>1</code> and the final number will be your count.</p>\n\n<pre><code>for count, item in enumerate(items, start=1):   # default is zero\n    print(item)\n\nprint('there were {0} items printed'.format(count))\n</code></pre>\n\n<p>The count seems to be more what you intend to ask for (as opposed to index) when you said you wanted from 1 to 5.</p>\n\n<hr>\n\n<h2>Breaking it down - a step by step explanation</h2>\n\n<p>To break these examples down, say we have a list of items that we want to iterate over with an index:</p>\n\n<pre><code>items = ['a', 'b', 'c', 'd', 'e']\n</code></pre>\n\n<p>Now we pass this iterable to enumerate, creating an enumerate object:</p>\n\n<pre><code>enumerate_object = enumerate(items) # the enumerate object\n</code></pre>\n\n<p>We can pull the first item out of this iterable that we would get in a loop with the <code>next</code> function:</p>\n\n<pre><code>iteration = next(enumerate_object) # first iteration from enumerate\nprint(iteration)\n</code></pre>\n\n<p>And we see we get a tuple of <code>0</code>, the first index, and <code>'a'</code>, the first item:</p>\n\n<pre><code>(0, 'a')\n</code></pre>\n\n<p>we can use what is referred to as \"<a href=\"https://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences\">sequence unpacking</a>\" to extract the elements from this two-tuple:</p>\n\n<pre><code>index, item = iteration\n#   0,  'a' = (0, 'a') # essentially this.\n</code></pre>\n\n<p>and when we inspect <code>index</code>, we find it refers to the first index, 0, and <code>item</code> refers to the first item, <code>'a'</code>.</p>\n\n<pre><code>&gt;&gt;&gt; print(index)\n0\n&gt;&gt;&gt; print(item)\na\n</code></pre>\n\n<h1>Conclusion</h1>\n\n<ul>\n<li>Python indexes start at zero</li>\n<li>To get these indexes from an iterable as you iterate over it, use the enumerate function</li>\n<li>Using enumerate in the idiomatic way (along with tuple unpacking) creates code that is more readable and maintainable:</li>\n</ul>\n\n<p>So do this:</p>\n\n<pre><code>for index, item in enumerate(items, start=0):   # Python indexes start at zero\n    print(index, item)\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 28072982, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<pre><code>ints = [9, 23, 45, 12, 78]\nints.extend([1,2,3,4,5,6,7,8])\nfor idx, val in enumerate(ints):\n    print(idx,val)\n</code></pre>\n\n<p>This way you can extend a list. Extend means you can add multiple values at a time.</p>\n\n<p>To append this list you have to write the code given below:</p>\n\n<pre><code>ints = [9, 23, 45, 12, 78]\nints.append([1])\nfor idx, val in enumerate(ints):\n    print(idx,val)\n</code></pre>\n\n<p>This way you can add a single value at a time. If you write <code>ints.append([1])</code> so this will create a sub list for this element.</p>\n", "title": "Accessing the index in Python for loops", "answer_id": 28350332, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>First of all, the indexes will be from 0 to 4. Programming languages start counting from 0; don't forget that or you will come across an index out of bounds exception. All you need in the for loop is a variable counting from 0 to 4 like so:</p>\n\n<pre><code>for x in range(0, 5):\n</code></pre>\n\n<p>Keep in mind that I wrote 0 to 5 because the loop stops one number before the max. :)</p>\n\n<p>To get the value of an index use</p>\n\n<pre><code>list[index]\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 30441272, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>You can do it with this code:</p>\n\n<pre><code>ints = [8, 23, 45, 12, 78]\nindex = 0\n\nfor value in (ints):\n    index +=1\n    print index, value\n</code></pre>\n\n<p>Use this code if you need to reset the index value at the end of the loop:</p>\n\n<pre><code>ints = [8, 23, 45, 12, 78]\nindex = 0\n\nfor value in (ints):\n    index +=1\n    print index, value\n    if index &gt;= len(ints)-1:\n        index = 0\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 30441543, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>May be cleaner sometimes:</p>\n\n<pre><code>index_i = 0\nfor i in R\n    ...\n    index_i += 1\n</code></pre>\n", "title": "Accessing the index in Python for loops", "answer_id": 33332541, "question_id": 522563, "tags": ["python", "loops", "list"]}, {"body": "<p>Fastest way to access indexes of list within loop in <strong>python 2.7</strong> is to use <a href=\"https://docs.python.org/2/library/functions.html#range\" rel=\"nofollow\">range method</a> for small lists and <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">enumerate method</a> for medium and huge size lists.</p>\n\n<p>Please see <strong>different approaches</strong> which can be used to iterate over list and access index value and <strong>their performance metrics</strong> ( which i suppese would be useful for you) in code samples below:  </p>\n\n<pre><code>from timeit import timeit\n\n# using range\ndef range_loop(iterable):\n    for i in range(len(iterable)):\n        1 + iterable[i]\n\n# using xrange\ndef xrange_loop(iterable):\n    for i in xrange(len(iterable)):\n        1 + iterable[i]\n\n# using enumerate\ndef enumerate_loop(iterable):\n    for i, val in enumerate(iterable):\n        1 + val\n\n# manual indexing\ndef manual_indexing_loop(iterable):\n    index = 0\n    for item in iterable:\n        1 + item\n        index += 1\n</code></pre>\n\n<p>See performance metrics for each method below:</p>\n\n<pre><code>from timeit import timeit\n\n\ndef measure(l, number=10000):\nprint \"Measure speed for list with %d items\" % len(l)\nprint \"xrange: \", timeit(lambda :xrange_loop(l), number=number)\nprint \"range: \", timeit(lambda :range_loop(l), number=number)\nprint \"enumerate: \", timeit(lambda :enumerate_loop(l), number=number)\nprint \"manual_indexing: \", timeit(lambda :manual_indexing_loop(l), number=number)\n\nmeasure(range(1000))\n# Measure speed for list with 1000 items\n# xrange:  0.758321046829\n# range:  0.701184988022\n# enumerate:  0.724966049194\n# manual_indexing:  0.894635915756\n\nmeasure(range(10000))\n# Measure speed for list with 100000 items\n# xrange:  81.4756360054\n# range:  75.0172479153\n# enumerate:  74.687623024\n# manual_indexing:  91.6308541298\n\nmeasure(range(10000000), number=100)\n# Measure speed for list with 10000000 items\n# xrange:  82.267786026\n# range:  84.0493988991\n# enumerate:  78.0344707966\n# manual_indexing:  95.0491430759 \n</code></pre>\n\n<p>As result using <code>range</code> method  is the fastest one up to list with 1000 items. For list with size > 10 000 items <code>enumerate</code> is the winner.</p>\n\n<p>Adding some use full links below:</p>\n\n<ul>\n<li><p><a href=\"http://stackoverflow.com/questions/94935/what-is-the-difference-between-range-and-xrange-functions-in-python-2-x\">What is the difference between range and xrange functions in Python 2.X?</a></p></li>\n<li><p><a href=\"http://stackoverflow.com/questions/4852944/what-is-faster-for-loop-using-enumerate-or-for-loop-using-xrange-in-python\">What is faster for loop using enumerate or for loop using xrange in Python?</a></p></li>\n<li><p><a href=\"http://stackoverflow.com/questions/11990105/rangelenlist-or-enumeratelist\">range(len(list)) or enumerate(list)?</a></p></li>\n</ul>\n", "title": "Accessing the index in Python for loops", "answer_id": 38764000, "question_id": 522563, "tags": ["python", "loops", "list"]}], "question_id": 522563}, {"body": "<p>What do <code>atomic</code> and <code>nonatomic</code> mean in property declarations?</p>\n\n<pre><code>@property(nonatomic, retain) UITextField *userName;\n@property(atomic, retain) UITextField *userName;\n@property(retain) UITextField *userName;\n</code></pre>\n\n<p>What is the operational difference between these three?</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"], "answer_count": 23, "link": "http://stackoverflow.com/questions/588866/whats-the-difference-between-the-atomic-and-nonatomic-attributes", "answers": [{"body": "<h2><strong>Atomic :</strong></h2>\n\n<p>Atomic guarantees that access to the property will be performed in an atomic manner. E.g. it always return a fully initialised objects, any get/set of a property on one thread must complete before another can access it.</p>\n\n<p>If you imagine the following function occurring on two threads at once you can see why the results would not be pretty.</p>\n\n<pre><code>-(void) setName:(NSString*)string\n{\n  if (name)\n  {\n    [name release]; \n    // what happens if the second thread jumps in now !?\n    // name may be deleted, but our 'name' variable is still set!\n    name = nil;\n  }\n\n  ...\n}\n</code></pre>\n\n<p><strong>Pros :</strong>\nReturn of fully initialised objects each time makes it best choice in case of multi-threading.</p>\n\n<p><strong>Cons :</strong>\nPerformance hit, makes execution a little slower</p>\n\n<h2><strong>Non-Atomic :</strong></h2>\n\n<p>Unlike Atomic, it doesn't ensure fully initialised object return each time.</p>\n\n<p><strong>Pros :</strong>\nExtremely fast execution.</p>\n\n<p><strong>Cons :</strong>\nChances of garbage value in case of multi-threading.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 588885, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Easiest answer first: There's no difference between your second two examples. By default, property accessors are atomic.</p>\n\n<p>Atomic accessors in a non garbage collected environment (i.e. when using retain/release/autorelease) will use a lock to ensure that another thread doesn't interfere with the correct setting/getting of the value.</p>\n\n<p>See the \"<a href=\"http://www.scribd.com/doc/121014348/89/Performance-and-Threading\">Performance and Threading</a>\" section of Apple's Objective-C 2.0 documentation for some more information and for other considerations when creating multi-threaded apps.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 588922, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>This is explained in Apple's <a href=\"http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocProperties.html\">documentation</a>, but below are some examples of what is actually happening. Note that there is no \"atomic\" keyword, if you do not specify \"nonatomic\" then the property is atomic, but specifying \"atomic\" explicitly will result in an error.</p>\n\n<pre><code>//@property(nonatomic, retain) UITextField *userName;\n//Generates roughly\n\n- (UITextField *) userName {\n    return userName;\n}\n\n- (void) setUserName:(UITextField *)userName_ {\n    [userName_ retain];\n    [userName release];\n    userName = userName_;\n}\n</code></pre>\n\n<p>Now, the atomic variant is a bit more complicated:</p>\n\n<pre><code>//@property(retain) UITextField *userName;\n//Generates roughly\n\n- (UITextField *) userName {\n    UITextField *retval = nil;\n    @synchronized(self) {\n        retval = [[userName retain] autorelease];\n    }\n    return retval;\n}\n\n- (void) setUserName:(UITextField *)userName_ {\n    @synchronized(self) {\n      [userName release];\n      userName = [userName_ retain];\n    }\n}\n</code></pre>\n\n<p>Basically, the atomic version has to take a lock in order to guarantee thread safety, and also is bumping the ref count on the object (and the autorelease count to balance it) so that the object is guaranteed to exist for the caller, otherwise there is a potential race condition if another thread is setting the value, causing the ref count to drop to 0.</p>\n\n<p>There are actually a large number of different variants of how these things work depending on whether the properties are scalar values or objects, and how retain, copy, readonly, nonatomic, etc interact. In general the property synthesizers just know how to do the \"right thing\" for all combinations.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 589348, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>The last two are identical; \"atomic\" is the default behavior (<strike>note that it is not actually a keyword; it is specified only by the absence of <code>nonatomic</code></strike> -- <code>atomic</code> was added as a keyword in recent versions of llvm/clang).</p>\n\n<p>Assuming that you are @synthesizing the method implementations, atomic vs. non-atomic changes the generated code.  If you are writing your own setter/getters, atomic/nonatomic/retain/assign/copy are merely advisory.  (Note:  @synthesize is now the default behavior in recent versions of LLVM.  There is also no need to declare instance variables;  they will be synthesized automatically, too, and will have an <code>_</code> prepended to their name to prevent accidental direct access).</p>\n\n<p>With \"atomic\", the synthesized setter/getter will ensure that a <em>whole</em> value is always returned from the getter or set by the setter, regardless of setter activity on any other thread.   That is, if thread A is in the middle of the getter while thread B calls the setter, an actual viable value -- an autoreleased object, most likely -- will be returned to the caller in A.</p>\n\n<p>In <code>nonatomic</code>, no such guarantees are made.   Thus, <code>nonatomic</code> is considerably faster than \"atomic\".</p>\n\n<p>What \"atomic\" does <strong>not</strong> do is make any guarantees about thread safety.  If thread A is calling the getter simultaneously with thread B and C calling the setter with different values, thread A may get any one of the three values returned -- the one prior to any setters being called or either of the values passed into the setters in B and C.  Likewise, the object may end up with the value from B or C, no way to tell.</p>\n\n<p>Ensuring data integrity -- one of the primary challenges of multi-threaded programming -- is achieved by other means.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 589392, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p><strong>There is no such keyword \"atomic\"</strong></p>\n\n<pre><code>@property(atomic, retain) UITextField *userName;\n</code></pre>\n\n<p>We can use the above like</p>\n\n<pre><code>@property(retain) UITextField *userName;\n</code></pre>\n\n<p>See Stack Overflow question <em><a href=\"http://stackoverflow.com/questions/8036604\">I am getting issues if I use @property(atomic,retain)NSString *myString</a></em>.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 8046405, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>The best way to understand the difference is using the following example. </p>\n\n<p>Suppose there is an atomic string property called \"name\", and if you call <code>[self setName:@\"A\"]</code> from thread A, call <code>[self setName:@\"B\"]</code> from thread B, and call <code>[self name]</code> from thread C, then all operations on different threads will be performed serially which means if one thread is executing a setter or getter, then other threads will wait.</p>\n\n<p>This makes property \"name\" read/write safe, but if another thread, D, calls <code>[name release]</code> simultaneously then this operation might produce a crash because there is no setter/getter call involved here. Which means an object is read/write safe (ATOMIC), but not thread-safe as another threads can simultaneously send any type of messages to the object. The developer should ensure thread-safety for such objects.</p>\n\n<p>If the property \"name\" was nonatomic, then all threads in above example - A,B, C and D will execute simultaneously producing any unpredictable result. In case of atomic, either one of A, B or C will execute first, but D can still execute in parallel.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 9084987, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>I found a pretty well put explanation of atomic and non-atomic properties <a href=\"http://archive.atomicmpc.com.au/forums.asp?s=2&amp;c=10&amp;t=4594\">here</a>. Here's some relevant text from the same:</p>\n\n<blockquote>\n  <p>'atomic' means it cannot be broken down. \n  In OS/programming terms an atomic function call is one that cannot be interrupted - the entire function must be executed, and not swapped out of the CPU by the OS's usual context switching until it's complete. Just in case you didn't know: since the CPU can only do one thing at a time, the OS rotates access to the CPU to all running processes in little time-slices, to give the <em>illusion</em> of multitasking. The CPU scheduler can (and does) interrupt a process at any point in its execution - even in mid function call. So for actions like updating shared counter variables where two processes could try to update the variable at the same time, they must be executed 'atomically', i.e., each update action has to finish in its entirety before any other process can be swapped onto the CPU.</p>\n  \n  <p>So I'd be guessing that atomic in this case means the attribute reader methods cannot be interrupted - in effect meaning that the variable(s) being read by the method cannot change their value half way through because some other thread/call/function gets swapped onto the CPU.</p>\n</blockquote>\n\n<p>Because the <code>atomic</code> variables can not be interrupted, the value contained by them at any point is (thread-lock) guaranteed to be <strong>uncorrupted</strong>, although, ensuring this thread lock makes access to them slower. <code>non-atomic</code> variables, on the other hand, make no such guarantee but do offer the luxury of quicker access. To sum it up, go with <code>non-atomic</code> when you know your variables won't be accessed by multiple threads simultaneously and speed things up.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 9425761, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<h3>Atomic</h3>\n\n<ul>\n<li>is the default behavior</li>\n<li>will ensure the present process is completed by the CPU, before another process accesses the variable</li>\n<li>is not fast, as it ensures the process is completed entirely</li>\n</ul>\n\n<h3>Non-Atomic</h3>\n\n<ul>\n<li>is NOT the default behavior</li>\n<li>faster (for synthesized code, that is, for variables created using @property and @synthesize)</li>\n<li>not thread-safe</li>\n<li>may result in unexpected behavior, when two different process access the same variable at the same time</li>\n</ul>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 10753201, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>The syntax and semantics are already well-defined by other excellent answers to this question. Because <em>execution</em> and <em>performance</em> are not detailed well, I will add my answer.</p>\n\n<blockquote>\n  <p>What is the functional difference between these 3?</p>\n</blockquote>\n\n<p>I'd always considered atomic as a default quite curious. At the abstraction level we work at, using atomic properties for a class as a vehicle to achieve 100% thread-safety is a corner case. For truly correct multithreaded programs, intervention by the programmer is almost certainly a requirement. Meanwhile, performance characteristics and execution have not\u00a0yet been detailed in depth. Having written some heavily multithreaded programs over the years, I had been declaring my properties as <code>nonatomic</code> the entire time because atomic was not sensible for any purpose. During discussion of the details of atomic and nonatomic properties <a href=\"http://stackoverflow.com/questions/12010211/use-of-atomic-properties-in-objective-c-any-side-effects\">this question</a>, I did some profiling encountered some curious results.</p>\n\n<p><strong>Execution</strong></p>\n\n<p>Ok. The first thing I would like to clear up is that the locking implementation is implementation-defined and abstracted. Louis uses <code>@synchronized(self)</code> in his example -- I have seen this as a common source of confusion. The implementation does not <em>actually</em> use <code>@synchronized(self)</code>; it uses object level <em>spin locks</em>. Louis's illustration is good for a high-level illustration using constructs we are all familiar with, but it's important to know it does not use <code>@synchronized(self)</code>.</p>\n\n<p>Another difference is that atomic properties will retain/release cycle your objects within the getter.</p>\n\n<p><strong>Performance</strong></p>\n\n<p>Here's the interesting part: Performance using atomic property accesses in <strong>uncontested</strong> (e.g. single-threaded) cases can be really very fast in some cases. In less than ideal cases, use of atomic accesses can cost more than 20 times the overhead of <code>nonatomic</code>. While the <strong>Contested</strong> case using 7 threads was 44 times slower for the three-byte struct (2.2&nbsp;GHz <a href=\"https://en.wikipedia.org/wiki/Intel_Core#Core_i7\">Core&nbsp;i7</a> Quad Core, x86_64). The three-byte struct is an example of a very slow property.</p>\n\n<p>Interesting side note: User-defined accessors of the three-byte struct were 52 times faster than the synthesized atomic accessors; or 84% the speed of synthesized nonatomic accessors.</p>\n\n<p>Objects in contested cases can also exceed 50 times.</p>\n\n<p>Due to the number of optimizations and variations in implementations, it's quite difficult to measure real-world impacts in these contexts. You might often hear something like \"Trust it, unless you profile and find it is a problem\". Due to the abstraction level, it's actually quite difficult to measure actual impact. Gleaning actual costs from profiles can be very time consuming, and due to abstractions, quite inaccurate. As well, ARC vs MRC can make a big difference.</p>\n\n<p>So let's step back, <em>not</em> focussing on the implementation of property accesses, we'll include the usual suspects like <code>objc_msgSend</code>, and examine some real-world high-level results for many calls to a <code>NSString</code> getter in <em>uncontested</em> cases (values in seconds):</p>\n\n<ul>\n<li>MRC | nonatomic | manually implemented getters: 2</li>\n<li>MRC | nonatomic | synthesized getter: 7</li>\n<li>MRC | atomic | synthesized getter: 47</li>\n<li>ARC | nonatomic | synthesized getter: 38 (note: ARC's adding ref count cycling here)</li>\n<li>ARC | atomic | synthesized getter: 47</li>\n</ul>\n\n<p>As you have probably guessed, reference count activity/cycling is a significant contributor with atomics and under ARC. You would also see greater differences in contested cases.</p>\n\n<p>Although I pay close attention to performance, I still say <strong>Semantics First!</strong>. Meanwhile, performance is a low priority for many projects. However, knowing execution details and costs of technologies you use certainly doesn't hurt. You should use the right technology for your needs, purposes, and abilities. Hopefully this will save you a few hours of comparisons, and help you make a better informed decision when designing your programs.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 12017579, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Atomic means only one thread accesses the variable (static type). Atomic is thread-safe, but it is slow.</p>\n\n<p>Nonatomic means multiple threads access the variable (dynamic type). Nonatomic is thread-unsafe, but it is fast.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 13511632, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>After reading so many articles, Stack&nbsp;Overflow posts and making demo applications to check variable property attributes, I decided to put all the attributes information together:</p>\n\n<ol>\n<li><code>atomic</code>             // Default</li>\n<li><code>nonatomic</code></li>\n<li><code>strong = retain</code>        // Default</li>\n<li><code>weak = unsafe_unretained</code></li>\n<li><code>retain</code></li>\n<li><code>assign</code>             // Default</li>\n<li><code>unsafe_unretained</code></li>\n<li><code>copy</code></li>\n<li><code>readonly</code></li>\n<li><code>readwrite</code>                 // Default</li>\n</ol>\n\n<p>In the article <em><a href=\"http://rdcworld-iphone.blogspot.in/2012/12/variable-property-attributes-or.html\"><strong>Variable property attributes or modifiers in iOS</strong></a></em> you can find all the above-mentioned attributes, and that will definitely help you.</p>\n\n<ol>\n<li><p><strong><code>atomic</code></strong></p>\n\n<ul>\n<li><code>atomic</code> means only one thread access the variable (static type).</li>\n<li><code>atomic</code> is thread safe.</li>\n<li>But it is slow in performance</li>\n<li><code>atomic</code> is the default behavior</li>\n<li>Atomic accessors in a non garbage collected environment (i.e. when using retain/release/autorelease) will use a lock to ensure that another thread doesn't interfere with the correct setting/getting of the value.</li>\n<li>It is not actually a keyword. <br/> <br/></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>    @property (retain) NSString *name;\n\n    @synthesize name;\n</code></pre></li>\n<li><p><strong><code>nonatomic</code></strong></p>\n\n<ul>\n<li><code>nonatomic</code> means multiple thread access the variable (dynamic type).</li>\n<li><code>nonatomic</code> is thread-unsafe.</li>\n<li>But it is fast in performance</li>\n<li><code>nonatomic</code> is NOT default behavior. We need to add the <code>nonatomic</code> keyword in the property attribute.</li>\n<li>It may result in unexpected behavior, when two different process (threads) access the same variable at the same time. <br/> <br/></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>    @property (nonatomic, retain) NSString *name;\n\n    @synthesize name;\n</code></pre></li>\n</ol>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 15541474, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p><strong>Atomic</strong>     = thread safety</p>\n\n<p><strong>Non-atomic</strong> = No thread safety</p>\n\n<h2>Thread safety:</h2>\n\n<p>Instance variables are thread-safe if they behave correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.</p>\n\n<h2>In our context:</h2>\n\n<p>If a thread changes the value of the instance the changed value is available to all the threads, and only one thread can change the value at a time.</p>\n\n<h2>Where to use <code>atomic</code>:</h2>\n\n<p>if the instance variable is gonna be accessed in a multithreaded environment.</p>\n\n<h2>Implication of <code>atomic</code>:</h2>\n\n<p>Not as fast as <code>nonatomic</code> because <code>nonatomic</code> doesn't require any watchdog work on that from runtime .</p>\n\n<h2>Where to use <code>nonatomic</code>:</h2>\n\n<p>If the instance variable is not gonna be changed by multiple threads you can use it. It improves the performance.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 17571453, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>The <strong>default</strong> is <code>atomic</code>, this means it does cost you performance whenever you use the property, but it is thread safe. What Objective-C does, is set a lock, so only the actual thread may access the variable, as long as the setter/getter is executed. </p>\n\n<p>Example with MRC of a property with an ivar _internal:</p>\n\n<pre><code>[_internal lock]; //lock\nid result = [[value retain] autorelease];\n[_internal unlock];\nreturn result;\n</code></pre>\n\n<p>So these last two are the same:</p>\n\n<pre><code>@property(atomic, retain) UITextField *userName;\n\n@property(retain) UITextField *userName; // defaults to atomic\n</code></pre>\n\n<p>On the other hand does <code>nonatomic</code> add nothing to your code. So it is only thread safe if you code security mechanism yourself.</p>\n\n<pre><code>@property(nonatomic, retain) UITextField *userName;\n</code></pre>\n\n<p><em>The keywords doesn't have to be written as first property attribute at all.</em></p>\n\n<p><strong>Don't forget, this doesn't mean that the property as a whole is thread-safe. Only the method call of the setter/getter is. But if you use a setter and after that a getter at the same time with 2 different threads, it could be broken too!</strong></p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 19047613, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>If you are using your property in multi-threaded code then you would be able to see the difference between nonatomic and atomic attributes. Nonatomic is faster than atomic and atomic is thread-safe, not nonatomic.</p>\n\n<p>Vijayendra Tripathi has already given an example for a multi-threaded environment.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 25285533, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p><strong>Atomic</strong> means only one thread accesses the variable (static type).</p>\n\n<ul>\n<li>Atomic is thread-safe.</li>\n<li>But it is slow in performance</li>\n<li>Atomic is the default behavior</li>\n<li>Atomic accessors in a non-garbage collected environment (i.e. when\nusing retain/release/autorelease) will use a lock to ensure that\nanother thread doesn't interfere with the correct setting/getting of\nthe value.</li>\n<li>it is not actually a keyword.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>@property (retain) NSString *name;\n\n@synthesize name;\n</code></pre>\n\n<p><strong>Nonatomic</strong> means multiple thread access the variable (dynamic type).</p>\n\n<ul>\n<li>Nonatomic is thread unsafe.</li>\n<li>But it is fast in performance</li>\n<li>Nonatomic is NOT default behavior, we need to add nonatomic keyword in\nthe property attribute.</li>\n<li>It may result in unexpected behavior, when two different processes\n(threads) access the same variable at the same time.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>@property (nonatomic, retain) NSString *name;\n@synthesize name;\n</code></pre>\n\n<p>Explain:</p>\n\n<p>Suppose there is an atomic string property called \"name\", and if you call [self setName:@\"A\"] from thread A,</p>\n\n<p>Call [self setName:@\"B\"] from thread B, and call [self name] from thread C, then all operations on a different thread will be performed serially which means if one thread is executing setter or getter, then other threads will wait. This makes property \"name\" read/write safe, but if another thread D calls [name release] simultaneously then this operation might produce a crash, because there is no setter/getter call involved here. Which means an object is read/write safe (ATOMIC), but not thread-safe as another threads can simultaneously send any type of messages to the object. The developer should ensure thread-safety for such objects.</p>\n\n<p>If the property \"name\" was nonatomic, then all threads in above example - A,B, C and D will execute simultaneously producing any unpredictable result. In case of atomic, Either one of A, B or C will execute first, but D can still execute in parallel. -  <a href=\"http://huntmyideas.weebly.com/blog/best-tutorials-properties-in-objective-c#sthash.kUE5flwJ.dpuf\" rel=\"nofollow\">See more at:</a></p>\n\n<p>Now we have some more and great explanations:</p>\n\n<p>Atomic and non-atomic refers to whether the setters/getters for a property will atomically read and write values to the property. When the atomic keyword is used on a property, any access to it will be \u201csynchronized\u201d. Therefore a call to the getter will be guaranteed to return a valid value, however this does come with a small performance penalty. Hence in some situations nonatomic is used to provide faster access to a property, but there is a chance of a race condition causing the property to be nil under rare circumstances (when a value is being set from another thread and the old value was released from memory, but the new value hasn\u2019t yet been fully assigned to the location in memory for the property).</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 29180687, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Before discussing about the attributes of @property, you should know what is the use of @property.\n@property offers a way to define the information that a class is intended to encapsulate. If you declare an object/variable using @property, then that object/variable will be accessible to other classes importing its class.\nIf you declare an object using @property in the header file, then you have to synthesize it using @synthesize in the implementation file.</p>\n\n<p>Example:</p>\n\n<p>.h class</p>\n\n<pre><code>@interface ExampleClass : NSObject\n   @property (nonatomic, retain) NSString *name;\n@end\n</code></pre>\n\n<p>.m class</p>\n\n<pre><code>@implementation ExampleClass\n   @synthesize name;\n@end\n</code></pre>\n\n<p>Now the compiler will synthesize accessor methods for name.</p>\n\n<pre><code>ExampleClass *newObject=[[ExampleClass alloc]init];\nNSString *name1=[newObject name]; // get 'name'\n[obj setName:@\u201cTiger\u201d];\n</code></pre>\n\n<p>List of attributes of @property :\natomic.\nnonatomic.\nretain.\ncopy.\nreadonly.\nreadwrite.\nassign.\nstrong.</p>\n\n<p>atomic : It is the default behaviour. If an object is declared as atomic then it becomes thread-safe. Thread-safe means, at a time only one thread of a particular instance of that class can have the control over that object.</p>\n\n<p>Example : </p>\n\n<pre><code>@property NSString *name; //by default atomic\n@property (atomic)NSString *name; // explicitly declared atomic\n</code></pre>\n\n<p>nonatomic: It is not thread-safe. You can use the nonatomic property attribute to specify that synthesized accessors simply set or return a value directly, with no guarantees about what happens if that same value is accessed simultaneously from different threads. For this reason, it\u2019s faster to access a nonatomic property than an atomic one.\n<code>@property (nonatomic)NSString *name;</code></p>\n\n<p>retain: is required when the attribute is a pointer to an object.The setter method will increase retain count of the object, so that it will occupy memory in autorelease pool.\n<code>@property (retain)NSString *name;</code></p>\n\n<p>copy: If you use copy, you can't use retain. Using copy instance of the class will contain its own copy.\nEven if a mutable string is set and subsequently changed, the instance captures whatever value it has at the time it is set. No setter and getter methods will be synthesized.</p>\n\n<pre><code>@property (copy) NSString *name;\n\nNSMutableString *nameString = [NSMutableString stringWithString:@\"Liza\"];    \nxyzObj.name = nameString;    \n[nameString appendString:@\"Pizza\"];\n</code></pre>\n\n<p>readonly: If you don't want to allow the property to be changed via setter method, you can declare the property readonly.\n<code>@property (readonly) NSString *name;</code></p>\n\n<p>readwrite: is the default behaviour. You don't need to specify readwrite attribute explicitly.</p>\n\n<p><code>@property (readwrite) NSString *name;</code></p>\n\n<p>assign: will generate a setter which assigns the value to the instance variable directly, rather than copying or retaining it. This is best for primitive types like NSInteger and CGFloat, or objects you don't directly own, such as delegates.</p>\n\n<p><code>@property (assign) NSInteger year;</code></p>\n\n<p>strong: is a replacement for retain.\n<code>@property (nonatomic, strong) AVPlayer *player;</code></p>\n\n<p>unsafe_unretained: There are a few classes in Cocoa and Cocoa Touch that don\u2019t yet support weak references, which means you can\u2019t declare a weak property or weak local variable to keep track of them. These classes include NSTextView, NSFont and NSColorSpace,etc. If you need to use a weak reference to one of these classes, you must use an unsafe reference.\nAn unsafe reference is similar to a weak reference in that it doesn\u2019t keep its related object alive, but it won\u2019t be set to nil if the destination object is deallocated.</p>\n\n<p><code>@property (unsafe_unretained) NSObject *unsafeProperty;</code></p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 30907093, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Atomic is <strong>thread safe</strong>, it is <strong>slow</strong> and it <strong>well-assures (not guaranteed)</strong> that only the locked value is provided no matter how many threads are attempting access over the same zone. When using atomic, a piece of code written inside this function becomes the part of the critical section, to which only one thread can execute at a time.</p>\n\n<p>It only assures the thread safety; it does not guarantee that. <strong>What I mean is you hire an expert driver for you car, still it doesn't guarantees car won't meet an accident. However, probability remains the slightest.</strong></p>\n\n<p>Atomic - it can't be broken down, so the result is expected. With nonatomic - when another thread access the memory zone it can modify it, so the result is unexpected.</p>\n\n<p><strong>In atomic, variables are localized so that each thread has its own private copy. These variables retain their values across subroutine and other code boundaries, and are thread-safe since they are local to each thread, even though the code which accesses them might be reentrant.</strong></p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 31265385, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>The atomic property ensures to retain a fully initialised value irrespective of how many threads are doing getter &amp; setter on it. </p>\n\n<p>The nonatomic property specifies that synthesized accessors simply set or return a value directly, with no guarantees about what happens if that same value is accessed simultaneously from different threads.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 33306422, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Atomic means only one thread can access the variable at a time (static type). Atomic is thread-safe, but it is slow.</p>\n\n<p>Nonatomic means multiple threads can access the variable at same time (dynamic type). Nonatomic is thread-unsafe, but it is fast.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 35125932, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>If you are using atomic, it means the thread will be safe and read-only. If you are using nonatomic, it means the multiple threads access the variable and is thread unsafe, but it is executed fast, done a read and write operations; this is a dynamic type.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 35380574, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Before you begin: You must know that every object in memory needs to be dealloced from memory for a new write to happen. You can't just simply write on top of something as you do on paper. You have to first erase(dealloc) it and then you can write onto it. If at the moment that the erase is done and nothing <strong>has yet</strong> been wrote and you try to read it could be very problematic! Atomic and nonatomic act differently about this situation.</p>\n\n<p>Read <a href=\"http://stackoverflow.com/questions/21098494/atomic-properties-vs-thread-safe-in-objective-c\">this</a> question and then read Bbum's answer. In addition then read this summary.</p>\n\n<p><strong>Atomic will ALWAYS guarantee:</strong></p>\n\n<ul>\n<li>if two different people want to read and write at the same time, your paper won't just burn! --> Your application will never crash, even in a race condition.</li>\n<li>if one person is trying to write and has only wrote 4 of the 8 letters to written, then no can read in the middle, the reading can only be done when all 8 letters is written --> No read(get) will happen on 'a thread that is still writing', i.e. if there are 8 bytes to bytes to be written, and only 4 bytes are written\u2014\u2014up to that moment, you are not allowed to read from it. But since I said I won't crash then it would read from the value of an autoreleased object.</li>\n<li>If <strong>before</strong> writing you <strong>have</strong> erased that which was previously written on paper and then someone wants to read you <em>can</em> still read. How? You will be reading from something similar to Mac OS Trash bin ( as Trash bin is not still 100% erased...it's in a limbo) ---> If ThreadA is to read while ThreadB has already dealloced to write, you would could either get value from the final fully written value by ThreadB or get something from autorelease pool.</li>\n</ul>\n\n<blockquote>\n  <p>Retain counts are the way in which memory is managed in Objective-C.\n  When you create an object, it has a retain count of 1. When you send\n  an object a retain message, its retain count is incremented by 1. When\n  you send an object a release message, its retain count is decremented\n  by 1. When you send an object a <strong>autorelease message</strong>, its retain count\n  is decremented by 1 at some stage in the future. If an object\u02bcs retain\n  count is reduced to 0, it is deallocated.</p>\n</blockquote>\n\n<ul>\n<li>Atomic <strong>doesn't</strong> guarantee thread safety, though its useful for achieving thread safety. Thread Safety is relative to how you write your code/ which thread queue you are reading/writing from.</li>\n</ul>\n\n<p><strong>nonatomic</strong>:</p>\n\n<ul>\n<li>Since there is no such thing like Mac OS Trash Bin, then nobody is cares whether or not you always get a value (--> potentially this could lead to a crash), nor anybody cares if someone tries to read halfway through you writing (although halfway writing in memory is very different from halfway writing on paper, on memory it could give you a crazy stupid value from before, while on paper you only see half of what's been wrote) --> Doesn't guarantee to not crash, because it doesn't use autorelease mechanism.</li>\n<li>Doesn't guarantee full written values to be read!</li>\n</ul>\n\n<p>Overall they are different in 2 aspects:  </p>\n\n<ul>\n<li><p>crashing or not because of having or not having autorelease pool.  </p></li>\n<li><p>allowing to be read right in the middle of a 'not yet finished write' or not allowing and only allowing to read when the value is <em>fully</em> written.</p></li>\n</ul>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 36920240, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<p>Atomic: Ensure thread-safety by locking the thread using NSLOCK.</p>\n\n<p>Non atomic: Doesn't ensure thread-safety as there is no thread-locking mechanism.</p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 38094759, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}, {"body": "<blockquote>\n  <p>atomic (default)</p>\n  \n  <p>Atomic is the default: if you don\u2019t type anything, your property is\n  atomic. An atomic property is guaranteed that if you try to read from\n  it, you will get back a valid value. It does not make any guarantees\n  about what that value might be, but you will get back good data, not\n  just junk memory. What this allows you to do is if you have multiple\n  threads or multiple processes pointing at a single variable, one\n  thread can read and another thread can write. If they hit at the same\n  time, the reader thread is guaranteed to get one of the two values:\n  either before the change or after the change. What atomic does not\n  give you is any sort of guarantee about which of those values you\n  might get. Atomic is really commonly confused with being thread-safe,\n  and that is not correct. You need to guarantee your thread safety\n  other ways. However, atomic will guarantee that if you try to read,\n  you get back some kind of value.</p>\n  \n  <p>nonatomic</p>\n  \n  <p>On the flip side, non-atomic, as you can probably guess, just means,\n  \u201cdon\u2019t do that atomic stuff.\u201d What you lose is that guarantee that you\n  always get back something. If you try to read in the middle of a\n  write, you could get back garbage data. But, on the other hand, you go\n  a little bit faster. Because atomic properties have to do some magic\n  to guarantee that you will get back a value, they are a bit slower. If\n  it is a property that you are accessing a lot, you may want to drop\n  down to nonatomic to make sure that you are not incurring that speed\n  penalty.</p>\n</blockquote>\n\n<p>See more here: <a href=\"https://realm.io/news/tmi-objective-c-property-attributes/\" rel=\"nofollow\">https://realm.io/news/tmi-objective-c-property-attributes/</a></p>\n", "title": "What&#39;s the difference between the atomic and nonatomic attributes?", "answer_id": 38538920, "question_id": 588866, "tags": ["ios", "objective-c", "properties", "atomic", "nonatomic"]}], "question_id": 588866}, {"body": "<p>The Python documentation seems unclear about whether parameters are passed by reference or value, and the following code produces the unchanged value 'Original'</p>\n\n<pre><code>class PassByReference:\n    def __init__(self):\n        self.variable = 'Original'\n        self.Change(self.variable)\n        print self.variable\n\n    def Change(self, var):\n        var = 'Changed'\n</code></pre>\n\n<p>Is there something I can do to pass the variable by actual reference?</p>\n", "title": "How do I pass a variable by reference?", "tags": ["python", "reference", "pass-by-reference", "argument-passing"], "answer_count": 20, "link": "http://stackoverflow.com/questions/986006/how-do-i-pass-a-variable-by-reference", "answers": [{"body": "<p>In this case the variable titled <code>var</code> in the method <code>Change</code> is assigned a reference to <code>self.variable</code>, and you immediately assign a string to <code>var</code>. It's no longer pointing to <code>self.variable</code>. The following code snippet shows what would happen if you modify the data structure pointed to by <code>var</code> and <code>self.variable</code>, in this case a list:</p>\n\n<pre><code>&gt;&gt;&gt; class PassByReference:\n...     def __init__(self):\n...         self.variable = ['Original']\n...         self.change(self.variable)\n...         print self.variable\n...         \n...     def change(self, var):\n...         var.append('Changed')\n... \n&gt;&gt;&gt; q = PassByReference()\n['Original', 'Changed']\n&gt;&gt;&gt;\n</code></pre>\n\n<p>I'm sure someone else could clarify this further.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 986044, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Arguments are <a href=\"http://docs.python.org/3/faq/programming.html#how-do-i-write-a-function-with-output-parameters-call-by-reference\">passed by assignment</a>. The rationale behind this is twofold:</p>\n\n<ol>\n<li>the parameter passed in is actually a <em>reference</em> to an object (but the reference is passed by value)</li>\n<li>some data types are mutable, but others aren't</li>\n</ol>\n\n<p>So:</p>\n\n<ul>\n<li><p>If you pass a <em>mutable</em> object into a method, the method gets a reference to that same object and you can mutate it to your heart's delight, but if you rebind the reference in the method, the outer scope will know nothing about it, and after you're done, the outer reference will still point at the original object. </p></li>\n<li><p>If you pass an <em>immutable</em> object to a method, you still can't rebind the outer reference, and you can't even mutate the object.</p></li>\n</ul>\n\n<p>To make it even more clear, let's have some examples. </p>\n\n<h2>List - a mutable type</h2>\n\n<p><strong>Let's try to modify the list that was passed to a method:</strong></p>\n\n<pre><code>def try_to_change_list_contents(the_list):\n    print 'got', the_list\n    the_list.append('four')\n    print 'changed to', the_list\n\nouter_list = ['one', 'two', 'three']\n\nprint 'before, outer_list =', outer_list\ntry_to_change_list_contents(outer_list)\nprint 'after, outer_list =', outer_list\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>before, outer_list = ['one', 'two', 'three']\ngot ['one', 'two', 'three']\nchanged to ['one', 'two', 'three', 'four']\nafter, outer_list = ['one', 'two', 'three', 'four']\n</code></pre>\n\n<p>Since the parameter passed in is a reference to <code>outer_list</code>, not a copy of it, we can use the mutating list methods to change it and have the changes reflected in the outer scope.</p>\n\n<p><strong>Now let's see what happens when we try to change the reference that was passed in as a parameter:</strong></p>\n\n<pre><code>def try_to_change_list_reference(the_list):\n    print 'got', the_list\n    the_list = ['and', 'we', 'can', 'not', 'lie']\n    print 'set to', the_list\n\nouter_list = ['we', 'like', 'proper', 'English']\n\nprint 'before, outer_list =', outer_list\ntry_to_change_list_reference(outer_list)\nprint 'after, outer_list =', outer_list\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>before, outer_list = ['we', 'like', 'proper', 'English']\ngot ['we', 'like', 'proper', 'English']\nset to ['and', 'we', 'can', 'not', 'lie']\nafter, outer_list = ['we', 'like', 'proper', 'English']\n</code></pre>\n\n<p>Since the <code>the_list</code> parameter was passed by value, assigning a new list to it had no effect that the code outside the method could see. The <code>the_list</code> was a copy of the <code>outer_list</code> reference, and we had <code>the_list</code> point to a new list, but there was no way to change where <code>outer_list</code> pointed.</p>\n\n<h2>String - an immutable type</h2>\n\n<p><strong>It's immutable, so there's nothing we can do to change the contents of the string</strong></p>\n\n<p><strong>Now, let's try to change the reference</strong></p>\n\n<pre><code>def try_to_change_string_reference(the_string):\n    print 'got', the_string\n    the_string = 'In a kingdom by the sea'\n    print 'set to', the_string\n\nouter_string = 'It was many and many a year ago'\n\nprint 'before, outer_string =', outer_string\ntry_to_change_string_reference(outer_string)\nprint 'after, outer_string =', outer_string\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>before, outer_string = It was many and many a year ago\ngot It was many and many a year ago\nset to In a kingdom by the sea\nafter, outer_string = It was many and many a year ago\n</code></pre>\n\n<p>Again, since the <code>the_string</code> parameter was passed by value, assigning a new string to it had no effect that the code outside the method could see. The <code>the_string</code> was a copy of the <code>outer_string</code> reference, and we had <code>the_string</code> point to a new string, but there was no way to change where <code>outer_string</code> pointed.</p>\n\n<p>I hope this clears things up a little.</p>\n\n<p><strong>EDIT:</strong> It's been noted that this doesn't answer the question that @David originally asked, \"Is there something I can do to pass the variable by actual reference?\". Let's work on that.</p>\n\n<h2>How do we get around this?</h2>\n\n<p>As @Andrea's answer shows, you could return the new value. This doesn't change the way things are passed in, but does let you get the information you want back out:</p>\n\n<pre><code>def return_a_whole_new_string(the_string):\n    new_string = something_to_do_with_the_old_string(the_string)\n    return new_string\n\n# then you could call it like\nmy_string = return_a_whole_new_string(my_string)\n</code></pre>\n\n<p>If you really wanted to avoid using a return value, you could create a class to hold your value and pass it into the function or use an existing class, like a list:</p>\n\n<pre><code>def use_a_wrapper_to_simulate_pass_by_reference(stuff_to_change):\n    new_string = something_to_do_with_the_old_string(stuff_to_change[0])\n    stuff_to_change[0] = new_string\n\n# then you could call it like\nwrapper = [my_string]\nuse_a_wrapper_to_simulate_pass_by_reference(wrapper)\n\ndo_something_with(wrapper[0])\n</code></pre>\n\n<p>Although this seems a little cumbersome.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 986145, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>You got some really good answers here.</p>\n\n<pre><code>x = [ 2, 4, 4, 5, 5 ]\nprint x  # 2, 4, 4, 5, 5\n\ndef go( li ) :\n  li = [ 5, 6, 7, 8 ]  # re-assigning what li POINTS TO, does not\n  # change the value of the ORIGINAL variable x\n\ngo( x ) \nprint x  # 2, 4, 4, 5, 5  [ STILL! ]\n\n\nraw_input( 'press any key to continue' )\n</code></pre>\n", "title": "How do I pass a variable by reference?", "answer_id": 986335, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Think of stuff being passed <strong>by assignment</strong> instead of by reference/by value. That way, it is allways clear, what is happening as long as you understand what happens during normal assignment.</p>\n\n<p>So, when passing a list to a function/method, the list is assigned to the parameter name. Appending to the list will result in the list being modified. Reassigning the list <em>inside</em> the function will not change the original list, since:</p>\n\n<pre><code>a = [1, 2, 3]\nb = a\nb.append(4)\nb = ['a', 'b']\nprint a, b      # prints [1, 2, 3, 4] ['a', 'b']\n</code></pre>\n\n<p>Since immutable types cannot be modified, they <em>seem</em> like being passed by value - passing an int into a function means assigning the int to the functions parameter. You can only ever reassign that, but it won't change the originial variables value.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 986339, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>It is neither pass-by-value or pass-by-reference - it is call-by-object. See this, by Fredrik Lundh: </p>\n\n<p><a href=\"http://effbot.org/zone/call-by-object.htm\">http://effbot.org/zone/call-by-object.htm</a></p>\n\n<p>Here is a significant quote:</p>\n\n<blockquote>\n  <p>\"...variables [names] are <em>not</em> objects; they cannot be denoted by other variables or referred to by objects.\"</p>\n</blockquote>\n\n<p>In your example, when the <code>Change</code> method is called--a <a href=\"http://docs.python.org/2/tutorial/classes.html#python-scopes-and-namespaces\">namespace</a> is created for it; and <code>var</code> becomes a name, within that namespace, for the string object <code>'Original'</code>. That object then has a name in two namespaces. Next, <code>var = 'Changed'</code> binds <code>var</code> to a new string object, and thus the method's namespace forgets about <code>'Original'</code>. Finally, that namespace is forgotten, and the string <code>'Changed'</code> along with it.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 986495, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>(edit - Blair has updated his enormously popular answer so that it is now accurate)</p>\n\n<p>I think it is important to note that the current post with the most votes (by Blair Conrad), while being correct with respect to its result, is misleading and is borderline incorrect based on its definitions.  While there are many languages (like C) that allow the user to either pass by reference or pass by value, Python is not one of them.</p>\n\n<p>David Cournapeau's answer points to the real answer and explains why the behavior in Blair Conrad's post seems to be correct while the definitions are not.</p>\n\n<p>To the extent that Python is pass by value, all languages are pass by value since some piece of data (be it a \"value\" or a \"reference\") must be sent. However, that does not mean that Python is pass by value in the sense that a C programmer would think of it.</p>\n\n<p>If you want the behavior, Blair Conrad's answer is fine.  But if you want to know the nuts and bolts of why Python is neither pass by value or pass by reference, read David Cournapeau's answer.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 3127336, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>A simple trick I normally use is to just wrap it in a list:</p>\n\n<pre><code>def Change(self, var):\n    var[0] = 'Changed'\n\nvariable = ['Original']\nself.Change(variable)      \nprint variable[0]\n</code></pre>\n\n<p>(Yeah I know this can be inconvenient, but sometimes it is simple enough to do this.)</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 6963425, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>The problem comes from a misunderstanding of what variables are in Python. If you're used to most traditional languages, you have a mental model of what happens in the following sequence:</p>\n\n<pre><code>a = 1\na = 2\n</code></pre>\n\n<p>You believe that <code>a</code> is a memory location that stores the value <code>1</code>, then is updated to store the value <code>2</code>. That's not how things work in Python. Rather, <code>a</code> starts as a reference to an object with the value <code>1</code>, then gets reassigned as a reference to an object with the value <code>2</code>. Those two objects may continue to coexist even though <code>a</code> doesn't refer to the first one anymore; in fact they may be shared by any number of other references within the program.</p>\n\n<p>When you call a function with a parameter, a new reference is created that refers to the object passed in. This is separate from the reference that was used in the function call, so there's no way to update that reference and make it refer to a new object. In your example:</p>\n\n<pre><code>    self.variable = 'Original'\n    self.Change(self.variable)\n\ndef Change(self, var):\n    var = 'Changed'\n</code></pre>\n\n<p><code>self.variable</code> is a reference to the string object <code>'Original'</code>. When you call <code>Change</code> you create a second reference <code>var</code> to the object. Inside the function you reassign the reference <code>var</code> to a different string object <code>'Changed'</code>, but the reference <code>self.variable</code> is separate and does not change.</p>\n\n<p>The only way around this is to pass a mutable object. Because both references refer to the same object, any changes to the object are reflected in both places.</p>\n\n<pre><code>    self.variable = ['Original']\n    self.Change(self.variable)\n\ndef Change(self, var):\n    var[0] = 'Changed'\n</code></pre>\n", "title": "How do I pass a variable by reference?", "answer_id": 8140747, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Technically, <strong>Python always uses pass by reference values</strong>. I am going to repeat <a href=\"http://stackoverflow.com/a/12438316/1346705\">my other answer</a> to support my statement.</p>\n\n<p>Python always uses pass-by-reference values. There isn't any exception. Any variable assignment means copying the reference value. No exception. Any variable is the name bound to the reference value. Always.</p>\n\n<p>You can think about a reference value as the address of the target object. The address is automatically dereferenced when used. This way, working with the reference value, it seems you work directly with the target object. But there always is a reference in between, one step more to jump to the target.</p>\n\n<p>Here is the example that proves that Python uses passing by reference:</p>\n\n<p><img src=\"http://i.stack.imgur.com/uzXcP.png\" alt=\"Illustrated example of passing the argument\"></p>\n\n<p>If the argument was passed by value, the outer <code>lst</code> could not be modified. The green are the target objects (the black is the value stored inside, the red is the object type), the yellow is the memory with the reference value inside -- drawn as the arrow. The blue solid arrow is the reference value that was passed to the function (via the dashed blue arrow path). The ugly dark yellow is the internal dictionary. (It actually could be drawn also as a green ellipse. The colour and the shape only says it is internal.)</p>\n\n<p>You can use the <a href=\"http://docs.python.org/3.3/library/functions.html#id\"><code>id()</code></a> built-in function to learn what the reference value is (that is, the address of the target object).</p>\n\n<p>In compiled languages, a variable is a memory space that is able to capture the value of the type. In Python, a variable is a name (captured internally as a string) bound to the reference variable that holds the reference value to the target object. The name of the variable is the key in the internal dictionary, the value part of that dictionary item stores the reference value to the target.</p>\n\n<p>Reference values are hidden in Python. There isn't any explicit user type for storing the reference value. However, you can use a list element (or element in any other suitable container type) as the reference variable, because all containers do store the elements also as references to the target objects. In other words, elements are actually not contained inside the container -- only the references to elements are.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 12440140, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Here is the simple (I hope) explanation of the concept <code>pass by object</code> used in Python.<br>\nWhenever you pass an object to the function, the object itself is passed (object in Python is actually what you'd call a value in other programming languages) not the reference to this object. In other words, when you call:</p>\n\n<pre><code>def change_me(list):\n   list = [1, 2, 3]\n\nmy_list = [0, 1]\nchange_me(my_list)\n</code></pre>\n\n<p>The actual object - [0, 1] (which would be called a value in other programming languages) is being passed. So in fact the function <code>change_me</code> will try to do something like:</p>\n\n<pre><code>[0, 1] = [1, 2, 3]\n</code></pre>\n\n<p>which obviously will not change the object passed to the function. If the function looked like this:</p>\n\n<pre><code>def change_me(list):\n   list.append(2)\n</code></pre>\n\n<p>Then the call would result in:</p>\n\n<pre><code>[0, 1].append(2)\n</code></pre>\n\n<p>which obviously will change the object. <a href=\"http://stackoverflow.com/a/534509/831531\">This answer</a> explains it well.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 12686527, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Effbot (aka Fredrik Lundh) has described Python's variable passing style as call-by-object:  <a href=\"http://effbot.org/zone/call-by-object.htm\">http://effbot.org/zone/call-by-object.htm</a></p>\n\n<p>Objects are allocated on the heap and pointers to them can be passed around anywhere.  </p>\n\n<ul>\n<li><p>When you make an assignment such as <code>x = 1000</code>, a dictionary entry is created that maps the string \"x\" in the current namespace to a pointer to the integer object containing one thousand.   </p></li>\n<li><p>When you update \"x\" with <code>x = 2000</code>, a new integer object is created and the dictionary is updated to point at the new object.  The old one thousand object is unchanged (and may or may not be alive depending on whether anything else refers to the object).</p></li>\n<li><p>When you do a new assignment such as <code>y = x</code>, a new dictionary entry \"y\" is created that points to the same object as the entry for \"x\".</p></li>\n<li><p>Objects like strings and integers are <em>immutable</em>.  This simply means that there are no methods that can change the object after it has been created.  For example, once the integer object one-thousand is created, it will never change.  Math is done by creating new integer objects.</p></li>\n<li><p>Objects like lists are <em>mutable</em>.  This means that the contents of the object can be changed by anything pointing to the object.  For example, <code>x = []; y = x; x.append(10); print y</code> will print <code>[10]</code>.  The empty list was created.  Both \"x\" and \"y\" point to the same list.  The <em>append</em> method mutates (updates) the list object (like adding a record to a database) and the result is visible to both \"x\" and \"y\" (just as a database update would be visible to every connection to that database).</p></li>\n</ul>\n\n<p>Hope that clarifies the issue for you. </p>\n", "title": "How do I pass a variable by reference?", "answer_id": 15697476, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>As you can state you need to have a mutable object, but let me suggest you to check over the global variables as they can help you or even solve this kind of issue!</p>\n\n<p><a href=\"http://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python\" rel=\"nofollow\">http://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python</a></p>\n\n<p>example:</p>\n\n<pre><code>&gt;&gt;&gt; def x(y):\n...     global z\n...     z = y\n...\n\n&gt;&gt;&gt; x\n&lt;function x at 0x00000000020E1730&gt;\n&gt;&gt;&gt; y\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'y' is not defined\n&gt;&gt;&gt; z\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'z' is not defined\n\n&gt;&gt;&gt; x(2)\n&gt;&gt;&gt; x\n&lt;function x at 0x00000000020E1730&gt;\n&gt;&gt;&gt; y\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'y' is not defined\n&gt;&gt;&gt; z\n2\n</code></pre>\n", "title": "How do I pass a variable by reference?", "answer_id": 21684541, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>The key to understanding parameter passing is to stop thinking about \"variables\". <strong>There are no variables in Python.</strong></p>\n\n<ol>\n<li>Python has names and objects.</li>\n<li>Assignment binds a name to an object.</li>\n<li>Passing an argument into a function also binds a name (the parameter name of the function) to an object.</li>\n</ol>\n\n<p>That is all there is to it. Mutability is irrelevant for this question.</p>\n\n<p>Example: </p>\n\n<pre><code>a = 1\n</code></pre>\n\n<p>This binds the name <code>a</code> to an object of type integer that holds the value 1.</p>\n\n<pre><code>b = x\n</code></pre>\n\n<p>This binds the name <code>b</code> to the same object that the name <code>x</code> is currently bound to.\nAfterwards, the name <code>b</code> has nothing to do with the name <code>x</code> any more.</p>\n\n<p>See sections 3.1 and 4.1 in the Python 3 language reference.</p>\n\n<hr>\n\n<p>So in the code shown in the question, the statement <code>self.Change(self.variable)</code> binds the name <code>var</code> (in the scope of function <code>Change</code>) to the object that holds the value <code>'Original'</code> and the assignment <code>var = 'Changed'</code> (in the body of function <code>Change</code>) assigns that same name again: to some other object (that happens to hold a string as well but could have been something else entirely).</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 21700609, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>I found the other answers rather long and complicated, so I created this simple diagram to explain the way Python treats variables and parameters.\n<a href=\"http://i.stack.imgur.com/FdaCu.png\"><img src=\"http://i.stack.imgur.com/FdaCu.png\" alt=\"enter image description here\"></a></p>\n", "title": "How do I pass a variable by reference?", "answer_id": 25670170, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>A lot of insights in answers here, but i think an additional point is not clearly mentioned here explicitly.   Quoting from python documentation <a href=\"https://docs.python.org/2/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python\">https://docs.python.org/2/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python</a>  </p>\n\n<p>\"In Python, variables that are only referenced inside a function are implicitly global. If a variable is assigned a new value anywhere within the function\u2019s body, it\u2019s assumed to be a local. If a variable is ever assigned a new value inside the function, the variable is implicitly local, and you need to explicitly declare it as \u2018global\u2019.\nThough a bit surprising at first, a moment\u2019s consideration explains this. On one hand, requiring global for assigned variables provides a bar against unintended side-effects. On the other hand, if global was required for all global references, you\u2019d be using global all the time. You\u2019d have to declare as global every reference to a built-in function or to a component of an imported module. This clutter would defeat the usefulness of the global declaration for identifying side-effects.\"</p>\n\n<p>Even when passing a mutable object to a function this still applies. And to me clearly explains the reason for the difference in behavior between assigning to the object and operating on the object in the function.</p>\n\n<pre><code>def test(l):\n    print \"Received\", l , id(l)\n    l = [0, 0, 0]\n    print \"Changed to\", l, id(l)  # New local object created, breaking link to global l\n\nl= [1,2,3]\nprint \"Original\", l, id(l)\ntest(l)\nprint \"After\", l, id(l)\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>Original [1, 2, 3] 4454645632\nReceived [1, 2, 3] 4454645632\nChanged to [0, 0, 0] 4474591928\nAfter [1, 2, 3] 4454645632\n</code></pre>\n\n<p>The assignment to an global variable that is not declared global therefore creates a new local object and breaks the link to the original object.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 25810863, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Python\u2019s pass-by-assignment scheme isn\u2019t quite the same as C++\u2019s reference parameters option, but it turns out to be very similar to the argument-passing model of the C language (and others) in practice:</p>\n\n<ul>\n<li>Immutable arguments are effectively passed \u201c<strong>by value</strong>.\u201d Objects such as integers and strings are passed by object reference instead of by copying, but because you can\u2019t change immutable objects in place anyhow, the effect is much like making a copy.</li>\n<li>Mutable arguments are effectively passed \u201c<strong>by pointer</strong>.\u201d Objects such as lists\nand dictionaries are also passed by object reference, which is similar to the way C\npasses arrays as pointers\u2014mutable objects can be changed in place in the function,\nmuch like C arrays.</li>\n</ul>\n", "title": "How do I pass a variable by reference?", "answer_id": 29293411, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>Aside from all the great explanations on how this stuff works in Python, I don't see a simple suggestion for the problem. As you seem to do create objects and instances, the pythonic way of handling instance variables and changing them is the following:</p>\n\n<pre><code>class PassByReference:\n    def __init__(self):\n        self.variable = 'Original'\n        self.Change()\n        print self.variable\n\n    def Change(self):\n        self.variable = 'Changed'\n</code></pre>\n\n<p>In instance methods, you normally refer to <code>self</code> to access instance attributes. It is normal to set instance attributes in <code>__init__</code> and read or change them in instance methods. That is also why you pass <code>self</code> als the first argument to <code>def Change</code>.</p>\n\n<p>Another solution would be to create a static method like this:</p>\n\n<pre><code>class PassByReference:\n    def __init__(self):\n        self.variable = 'Original'\n        self.variable = PassByReference.Change(self.variable)\n        print self.variable\n\n    @staticmethod\n    def Change(var):\n        var = 'Changed'\n        return var\n</code></pre>\n", "title": "How do I pass a variable by reference?", "answer_id": 35260424, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>There is a little trick to pass an object by reference, even though the language doesn't make it possible. It works in Java too, it's the list with one item. ;-)</p>\n\n<pre><code>class PassByReference:\n    def __init__(self, name):\n        self.name = name\n\ndef changeRef(ref):\n    ref[0] = PassByReference('Michael')\n\nobj = PassByReference('Peter')\nprint obj.name\n\np = [obj] # A pointer to obj! ;-)\nchangeRef(p)\n\nprint p[0].name # p-&gt;name\n</code></pre>\n\n<p>It's an ugly hack, but it works. ;-P</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 36775894, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>I used the following method to quickly convert a couple of Fortran codes to Python.  True, it's not pass by reference as the original question was posed, but is a simple work around in some cases.</p>\n\n<pre><code>a=0\nb=0\nc=0\ndef myfunc(a,b,c):\n    a=1\n    b=2\n    c=3\n    return a,b,c\n\na,b,c = myfunc(a,b,c)\nprint a,b,c\n</code></pre>\n", "title": "How do I pass a variable by reference?", "answer_id": 38834546, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}, {"body": "<p>While pass by reference is nothing that fits well into python and should be rarely used there are some workarounds that actually can work to get the object currently assigned to a local variable or even reassign a local variable from inside of a called function.</p>\n\n<p>The basic idea is to have a function that can do that access and can be passed as object into other functions or stored in a class.</p>\n\n<p>One way is to use <code>global</code> (for global variables) or <code>nonlocal</code> (for local variables in a function) in a wrapper function.</p>\n\n<pre><code>def change(wrapper):\n    wrapper(7)\n\nx = 5\ndef setter(val):\n    global x\n    x = val\nprint(x)\n</code></pre>\n\n<p>The same idea works for reading and <code>del</code>eting a variable.</p>\n\n<p>For just reading there is even a shorter way of just using <code>lambda: x</code> which returns a callable that when called returns the current value of x. This is somewhat like \"call by name\" used in languages in the distant past.</p>\n\n<p>Passing 3 wrappers to access a variable is a bit unwieldy so those can be wrapped into a class that has a proxy attribute:</p>\n\n<pre><code>class ByRef:\n    def __init__(self, r, w, d):\n        self._read = r\n        self._write = w\n        self._delete = d\n    def set(self, val):\n        self._write(val)\n    def get(self):\n        return self._read()\n    def remove(self):\n        self._delete()\n    wrapped = property(get, set, remove)\n\n# left as an exercise for the reader: define set, get, remove as local functions using global / nonlocal\nr = ByRef(get, set, remove)\nr.wrapped = 15\n</code></pre>\n\n<p>Pythons \"reflection\" support makes it possible to get a object that is capable of reassigning a name/variable in a given scope without defining functions explicitly in that scope:</p>\n\n<pre><code>class ByRef:\n    def __init__(self, locs, name):\n        self._locs = locs\n        self._name = name\n    def set(self, val):\n        self._locs[self._name] = val\n    def get(self):\n        return self._locs[self._name]\n    def remove(self):\n        del self._locs[self._name]\n    wrapped = property(get, set, remove)\n\ndef change(x):\n    x.wrapped = 7\n\ndef test_me():\n    x = 6\n    print(x)\n    change(ByRef(locals(), \"x\"))\n    print(x)\n</code></pre>\n\n<p>Here the <code>ByRef</code> class wraps a dictionary access. So attribute access to <code>wrapped</code> is translated to a item access in the passed dictionary. By passing the result of the builtin <code>locals</code> and the name of a local variable this ends up accessing a local variable. The python documentation as of 3.5 advises that changing the dictionary might not work but it seems to work for me.</p>\n", "title": "How do I pass a variable by reference?", "answer_id": 39054982, "question_id": 986006, "tags": ["python", "reference", "pass-by-reference", "argument-passing"]}], "question_id": 986006}, {"body": "<pre><code>var funcs = [];\nfor (var i = 0; i &lt; 3; i++) {          // let's create 3 functions\n    funcs[i] = function() {            // and store them in funcs\n        console.log(\"My value: \" + i); // each should log its value.\n    };\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        // and now let's run each one to see\n}\n</code></pre>\n\n<p>It outputs this:</p>\n\n<blockquote>\n  <p>My value: 3<br>\n  My value: 3<br>\n  My value: 3</p>\n</blockquote>\n\n<p>Whereas I'd like it to output:</p>\n\n<blockquote>\n  <p>My value: 0<br>\n  My value: 1<br>\n  My value: 2</p>\n</blockquote>\n\n<p>What's the solution to this basic problem?</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "tags": ["javascript", "loops", "closures"], "answer_count": 23, "link": "http://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example", "answers": [{"body": "<p>Try:</p>\n\n<pre><code>var funcs = [];\n\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = (function(index) {\n        return function() {\n            console.log(\"My value: \" + index);\n        };\n    }(i));\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();\n}\n</code></pre>\n\n<p><strong>Edit</strong> (2014):</p>\n\n<p>Personally I think @Aust's <a href=\"http://stackoverflow.com/a/19323214/918959\">more recent answer about using <code>.bind</code></a> is the best way to do this kind of thing now. There's also lo-dash/underscore's <code>_.partial</code> when you don't need or want to mess with <code>bind</code>'s <code>thisArg</code>.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 750495, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Well, the problem is that the variable <code>i</code>, within each of your anonymous functions, is bound to the same variable outside of the function.</p>\n\n<p>What you want to do is bind the variable within each function to a separate, unchanging value outside of the function:</p>\n\n<pre><code>var funcs = [];\n\nfunction createfunc(i) {\n    return function() { console.log(\"My value: \" + i); };\n}\n\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = createfunc(i);\n}\n\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        // and now let's run each one to see\n}\n</code></pre>\n\n<p>Since there is no block scope in JavaScript - only function scope - by wrapping the function creation in a new function, you ensure that the value of \"i\" remains as you intended.</p>\n\n<hr>\n\n<p><strong>Update:</strong> with the relatively widespread availability of the <code>Array.prototype.forEach</code> function (in 2015), it's worth noting that in those situations involving iteration primarily over an array of values, <code>.forEach()</code> provides a clean, natural way to get a distinct closure for every iteration. That is, assuming you've got some sort of array containing values (DOM references, objects, whatever), and the problem arises of setting up callbacks specific to each element, you can do this:</p>\n\n<pre><code>var someArray = [ /* whatever */ ];\n// ...\nsomeArray.forEach(function(arrayElement) {\n  // ... code code code for this one element\n  someAsynchronousFunction(arrayElement, function() {\n    arrayElement.doSomething();\n  });\n});\n</code></pre>\n\n<p>The idea is that each invocation of the callback function used with the <code>.forEach</code> loop will be its own closure. The parameter passed in to that handler is the array element specific to that particular step of the iteration. If it's used in an asynchronous callback, it won't collide with any of the other callbacks established at other steps of the iteration.</p>\n\n<p>If you happen to be working in jQuery, the <code>$.each()</code> function gives you a similar capability.</p>\n\n<p><strong>Update 2:</strong>\nECMAScript 6 (ES6), the newest version of JavaScript, is now starting to be implemented in many evergreen browsers and backend systems. There are also transpilers like <a href=\"http://babeljs.io/\">Babel</a> that will convert ES6 to ES5 to allow usage of new features on older systems.</p>\n\n<p>ES6 introduces new <code>let</code> and <code>const</code> keywords that are scoped differently than <code>var</code>-based variables. For example, in a loop with a <code>let</code>-based index, each iteration through the loop will have a new value of <code>i</code> where each value is scoped inside the loop, so your code would work as you expect. There are many resources, but I'd recommend <a href=\"http://www.2ality.com/2015/02/es6-scoping.html\">2ality's block-scoping post</a> as a great source of information.</p>\n\n<pre><code>for (let i = 0; i &lt; 3; i++) {\n    funcs[i] = function() {\n        console.log(\"My value: \" + i);\n    };\n}\n</code></pre>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 750506, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>so the reason your original example did not work is that all the closures you created in the loop referenced the same frame. in effect having 3 methods on one object with only a single 'i' variable. they all printed out the same value</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 750507, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>What you need to understand is the scope of the variables in javascript is based on the function. This is an important difference than say c# where you have block scope, and just copying the variable to one inside the for will work.</p>\n\n<p>Wrapping it in a function that evaluates returning the function like apphacker's answer will do the trick, as the variable now has the function scope.</p>\n\n<p>There is also a let keyword instead of var, that would allow using the block scope rule. In that case defining a variable inside the for would do the trick. That said, the let keyword isn't a practical solution because of compatibility.</p>\n\n<pre><code>var funcs = {};\nfor (var i = 0; i &lt; 3; i++) {\n    let index = i;          //add this\n    funcs[i] = function() {            \n        console.log(\"My value: \" + index); //change to the copy\n    };\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        \n}\n</code></pre>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 750519, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Another way of saying it is that the <em>i</em> in your function is bound at the time of executing the function, not the time of creating the function.</p>\n\n<p>When you create the closure, <em>i</em> is a reference to the variable defined in the outside scope, not a copy of it as it was when you created the closure. It will be evaluated at the time of execution.</p>\n\n<p>Most of the other answers provide ways to work around by creating another variable that won't change value on you.</p>\n\n<p>Just thought I'd add an explanation for clarity. For a solution, personally I'd go with Harto's since it is the most self explanatory way of doing it from the answers here. Any of the code posted will work, but I'd opt for a closure factory over having to write a pile of comments to explain why I'm declaring a new variable(Freddy and 1800's) or have weird embedded closure syntax(apphacker).</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 750560, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Here's another variation on the technique, similar to Bjorn's (apphacker), which lets you assign the variable value inside the function rather than passing it as a parameter, which might be clearer sometimes:</p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n    funcs[i] = (function() {\n        var index = i;\n        return function() {\n            console.log(\"My value: \" + index);\n        }\n    })();\n}\n</code></pre>\n\n<p>Note that whatever technique you use, the <code>index</code> variable becomes a sort of static variable, bound to the returned copy of the inner function. I.e., changes to its value are preserved between calls. It can be very handy.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 11842261, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>This describes the common mistake with using closures in JavaScript.</p>\n\n<h2>A function defines a new environment</h2>\n\n<p>Consider:</p>\n\n<pre><code>function makeCounter()\n{\n  var obj = {counter: 0};\n  return {\n    inc: function(){obj.counter ++;},\n    get: function(){return obj.counter;}\n  };\n}\n\ncounter1 = makeCounter();\ncounter2 = makeCounter();\n\ncounter1.inc();\n\nalert(counter1.get()); // returns 1\nalert(counter2.get()); // returns 0\n</code></pre>\n\n<p>For each time <code>makeCounter</code> is invoked, <code>{counter: 0}</code> results in a new object being created. Also, a new copy of <code>obj</code> \nis created as well to reference the new object. Thus, <code>counter1</code> and <code>counter2</code> are independent of each other.</p>\n\n<h2>Closures in loops</h2>\n\n<p>Using a closure in a loop is tricky.</p>\n\n<p>Consider: </p>\n\n<pre><code>var counters = [];\n\nfunction makeCounters(num)\n{\n  for (var i = 0; i &lt; num; i++)\n  {\n    var obj = {counter: 0};\n    counters[i] = {\n      inc: function(){obj.counter++;},\n      get: function(){return obj.counter;}\n    }; \n  }\n}\n\nmakeCounters(2);\n\ncounters[0].inc();\n\nalert(counters[0].get()); // returns 1\nalert(counters[1].get()); // returns 1\n</code></pre>\n\n<p>Notice that <code>counters[0]</code> and <code>counters[1]</code> are <em>not</em> independent. In fact, they operate on the same <code>obj</code>!</p>\n\n<p>This is because there is only one copy of <code>obj</code> shared across all iterations of the loop, perhaps for performance reasons.\nEven though <code>{counter: 0}</code> creates a new object in each iteration, the same copy of <code>obj</code> will just get updated with a\nreference to the newest object.</p>\n\n<p>Solution is to use another helper function:</p>\n\n<pre><code>function makeHelper(obj)\n{\n  return {\n    inc: function(){obj.counter++;},\n    get: function(){return obj.counter;}\n  }; \n}\n\nfunction makeCounters(num)\n{\n  for (var i = 0; i &lt; num; i++)\n  {\n    var obj = {counter: 0};\n    counters[i] = makeHelper(obj);\n  }\n}\n</code></pre>\n\n<p>This works because local variables in the function scope directly, as well as function argument variables, are allocated \nnew copies upon entry.</p>\n\n<p>For a detailed discussion, please see <a href=\"https://gist.github.com/lucastan/5420969\">JavaScript closure pitfalls and usage</a></p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 16119015, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>With ES6 starting to be widely supported, the best answer to this question is changing.  ES6 provides the <code>let</code> and <code>const</code> keywords for this exact circumstance.  Instead of messing around with closures, we can just use <code>let</code> to set a loop scope variable like this:</p>\n\n<pre><code>var funcs = [];\nfor (let i = 0; i &lt; 3; i++) {          \n    funcs[i] = function() {            \n      console.log(\"My value: \" + i); \n    };\n}\n</code></pre>\n\n<p><code>val</code> will then point to an object that is specific to that particular turn of the loop, and will return the correct value without the additional closure notation.  This obviously significantly simplifies this problem.</p>\n\n<p><code>const</code> is similar to <code>let</code> with the additional restriction that the variable name can't be rebound to a new reference after initial assignment.</p>\n\n<p>Browser support is coming along, and <code>const</code>/<code>let</code> are currently supported in Firefox, Edge and Chrome.  It  will be supported in Safari 10 as well.  It also is now supported in Node, and you can use it anywhere by taking advantage of build tools like Babel.  You can see a working example here: <a href=\"http://jsfiddle.net/ben336/rbU4t/2/\">http://jsfiddle.net/ben336/rbU4t/2/</a></p>\n\n<p>Docs here:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const\">const</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let\">let</a></li>\n</ul>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 16661498, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>The most simple solution would be</p>\n\n<p>instead of using this</p>\n\n<pre><code>var funcs = [];\nfor(var i =0; i&lt;3; i++){\n    funcs[i] = function(){\n        alert(i);\n    }\n}\n\nfor(var j =0; j&lt;3; j++){\n    funcs[j]();\n}\n</code></pre>\n\n<p>which which alters \"2\", for 3 times. This is because anonymous functions created in for loop, shares same closure, and in that closure, the value of i is the same. Use this to prevent shared closure,</p>\n\n<pre><code>var funcs = [];\nfor(var new_i =0; new_i&lt;3; new_i++){\n    (function(i){\n        funcs[i] = function(){\n            alert(i);\n        }\n    })(new_i);\n}\n\nfor(var j =0; j&lt;3; j++){\n    funcs[j]();\n}\n</code></pre>\n\n<p>The idea behind this is, encapsulating the entire body of the for loop with a <a href=\"https://en.wikipedia.org/wiki/Immediately-invoked_function_expression\" rel=\"nofollow\">IIFE</a> (Immediately-Invoked Function Expression) and passing \"new_i\" as a parameter and capturing it as \"i\". Since the anonymous function is executed immediately, the \"i\" value is different for each function defined inside anonymous function. This solution seems to fit any such problem, since it will require minimum changes to original code suffering from this issue. In fact this is by design, it should not be an issue at all!</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 17299889, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<h2>try this shorter one</h2>\n\n<ul>\n<li><p>no array</p></li>\n<li><p>no extra for loop</p></li>\n</ul>\n\n<p><br/></p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n    createfunc(i)();\n}\n\nfunction createfunc(i) {\n    return function(){console.log(\"My value: \" + i);};\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/7P6EN/\">http://jsfiddle.net/7P6EN/</a></p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 18897287, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Another way that hasn't been mentioned yet is the use of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\"><code>Function.prototype.bind</code></a></p>\n\n<pre><code>var funcs = {};\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = function(x) {\n        console.log('My value: ' + x);\n    }.bind(this, i);\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/PjweJ/2/\"><strong>jsFiddle</strong></a></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As pointed out by @squint and @mekdev, you get better performance by creating the function outside the loop first and then binding the results within the loop.</p>\n\n<pre><code>function log(x) {\n    console.log('My value: ' + x);\n}\n\nvar funcs = [];\n\nfor (var i = 0; i &lt; 3; i++) {\n    funcs[i] = log.bind(this, i);\n}\n\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/PjweJ/58/\"><strong>jsFiddle</strong></a></p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 19323214, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Using an <a href=\"http://en.wikipedia.org/wiki/Immediately-invoked_function_expression\">Immediately-Invoked Function Expression</a>, the simplest and most readable way to enclose an index variable:</p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n\n    (function(index) {\n        console.log('iterator: ' + index);\n        //now you can also loop an ajax call here \n        //without losing track of the iterator value: $.ajax({});\n    })(i);\n\n}\n</code></pre>\n\n<p>This sends the iterator <code>i</code> into the anonymous function of which we define as <code>index</code>.  This creates a closure, where the variable <code>i</code> gets saved for later use in any asynchronous functionality within the IIFE.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 19324832, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>The main issue with the code shown by the OP is that <code>i</code> is never read until the second loop. To demonstrate, imagine seeing an error inside of the code</p>\n\n<pre><code>funcs[i] = function() {            // and store them in funcs\n    throw new Error(\"test\");\n    console.log(\"My value: \" + i); // each should log its value.\n};\n</code></pre>\n\n<p>The error actually does not occur until <code>funcs[someIndex]</code> is executed <code>()</code>. Using this same logic, it should be apparent that the value of <code>i</code> is also not collected until this point either. Once the original loop finishes, <code>i++</code> brings <code>i</code> to the value of <code>3</code> which results in the condition <code>i &lt; 3</code> failing and the loop ending. At this point, <code>i</code> is <code>3</code> and so when <code>funcs[someIndex]()</code> is used, and <code>i</code> is evaluated, it is 3 - every time.</p>\n\n<p>To get past this, you must evaluate <code>i</code> as it is encountered. Note that this has already happened in the form of <code>funcs[i]</code> (where there are 3 unique indexes). There are several ways to capture this value. One is to pass it in as a parameter to a function which is shown in several ways already here. </p>\n\n<p>Another option is to construct a function object which will be able to close over the variable. That can be accomplished thusly</p>\n\n<p><em><strong><a href=\"http://jsfiddle.net/QcUjH/\"><code>jsFiddle Demo</code></a></em></strong></p>\n\n<pre><code>funcs[i] = new function() {   \n    var closedVariable = i;\n    return function(){\n        console.log(\"My value: \" + closedVariable); \n    };\n};\n</code></pre>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 22211322, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Here's a simple solution that uses <code>forEach</code> (works back to IE9):</p>\n\n<pre><code>var funcs = {};\n[0,1,2].forEach(function(i) {          // let's create 3 functions\n    funcs[i] = function() {            // and store them in funcs\n        console.log(\"My value: \" + i); // each should log its value.\n    };\n})\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        // and now let's run each one to see\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<blockquote>\n<pre><code>My value: 0\nMy value: 1\nMy value: 2\n</code></pre>\n</blockquote>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 23439993, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>After reading through various solutions provided, I'd like to add that the reason those solutions work is to rely on the concept of <strong>scope chain</strong>. In short, each function definition forms a scope mainly consisting of all the local variables declared by <code>var</code> and its <code>arguments</code>. When a function gets executed, it evaluates variables by searching the <strong>scope chain</strong>. If a variable can be found in a certain point of the chain it will stop searching and use it, otherwise it continues until the global scope which belongs to <code>window</code>.</p>\n\n<p>In your initial code:</p>\n\n<pre><code>funcs = {};\nfor (var i = 0; i &lt; 3; i++) {          // assume 'for' is not contained in any function\n  funcs[i] = function() {              // function inner's scope contains nothing\n    console.log(\"My value: \" + i);    \n  };\n}\nconsole.log(window.i)                  // test value 'i', print 3\n</code></pre>\n\n<p>When <code>funcs</code> gets executed, the scope chain will be <code>function inner -&gt; global</code>. Since the variable <code>i</code> cannot be found in <code>function inner</code> (neither declared using <code>var</code> nor passed as arguments), it continues to search. So the value of <code>i</code> is eventually evaluated as the one that belongs to the global which is <code>window.i</code>.</p>\n\n<p>By wrapping it in an outer function either explicitly define a helper function like <a href=\"http://stackoverflow.com/a/750506\">harto</a> did or use an anonymous function like <a href=\"http://stackoverflow.com/a/750495\">Bjorn</a> did:</p>\n\n<pre><code>funcs = {};\nfunction createfunc(i) {              // function outer's scope contains 'i'\n  return function() {                 // function inner, closure created\n   console.log(\"My value: \" + i);\n  };\n}\nfor (var i = 0; i &lt; 3; i++) {\n  funcs[i] = createfunc(i);\n}\n</code></pre>\n\n<p>when <code>funcs</code> gets executed, now the scope chain will be <code>function inner -&gt; function outer</code>. This time <code>i</code> can be found in the outer function which is the value of argument (this value is correctly bound in the <code>for</code> loop). It won't use the value of <code>window.i</code></p>\n\n<p>You can read this: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures</a>.\nIt includes the common mistake in creating closure in the loop as what we have here, as well as why we need closure and the performance consideration.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 24739133, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>I'm surprised no one yet have suggested using the forEach function to better avoid (re)using local variables. In fact, I'm not using <code>for(var i ...)</code> at all anymore for this reason.</p>\n\n<pre><code>[0,2,3].forEach(function(i){ console.log('My value:', i); });\n// My value: 0\n// My value: 2\n// My value: 3\n</code></pre>\n\n<p>// edited to use forEach instead of map.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 27390031, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p><strong>Try it:</strong></p>\n\n<pre><code>var func=[]; \n\nfor(var i=0; i&lt;3; i++){\n  func[i]=function createfunc(i){\n       return function(){console.log(\"I am : \" +i);\n         };\n  }(i);\n\n}\n\nfor(var j=0; j&lt;3; j++){\n  func[j]();\n}\n</code></pre>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 28965894, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>Bit late to the party, but I was exploring this issue today and noticed that many of the answers don't completely address how Javascript treats scopes, which is essentially what this boils down to.</p>\n\n<p>So as many others mentioned, the problem is that the inner function is referencing the same <code>i</code> variable. So why don't we just create a new local variable each iteration, and have the inner function reference that instead?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//overwrite console.log() so you can see the console output\r\nconsole.log = function(msg) {document.body.innerHTML += '&lt;p&gt;' + msg + '&lt;/p&gt;';};\r\n\r\nvar funcs = {};\r\nfor (var i = 0; i &lt; 3; i++) {\r\n    var ilocal = i; //create a new local variable\r\n    funcs[i] = function() {\r\n        console.log(\"My value: \" + ilocal); //each should reference its own local variable\r\n    };\r\n}\r\nfor (var j = 0; j &lt; 3; j++) {\r\n    funcs[j]();\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Just like before, where each inner function outputted the last value assigned to <code>i</code>, now each inner function just outputs the last value assigned to <code>ilocal</code>. But shouldn't each iteration have it's own <code>ilocal</code>?</p>\n\n<p>Turns out, that's the issue. Each iteration is sharing the same scope, so every iteration after the first is just overwriting <code>ilocal</code>. From <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/block#No_block_scope\">MDN</a>:</p>\n\n<blockquote>\n  <p>Important: JavaScript does not have block scope. Variables introduced with a block are scoped to the containing function or script, and the effects of setting them persist beyond the block itself. In other words, block statements do not introduce a scope. Although \"standalone\" blocks are valid syntax, you do not want to use standalone blocks in JavaScript, because they don't do what you think they do, if you think they do anything like such blocks in C or Java.</p>\n</blockquote>\n\n<p>Reiterated for emphasis:</p>\n\n<blockquote>\n  <h2>JavaScript does not have block scope. Variables introduced with a block are scoped to the containing function or script</h2>\n</blockquote>\n\n<p>We can see this by checking <code>ilocal</code> before we declare it in each iteration:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//overwrite console.log() so you can see the console output\r\nconsole.log = function(msg) {document.body.innerHTML += '&lt;p&gt;' + msg + '&lt;/p&gt;';};\r\n\r\nvar funcs = {};\r\nfor (var i = 0; i &lt; 3; i++) {\r\n  console.log(ilocal);\r\n  var ilocal = i;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is exactly why this bug is so tricky. Even though you are redeclaring a variable, Javascript won't throw an error, and JSLint won't even throw a warning. This is also why the best way to solve this is with a closure, which is essentially the idea that in Javascript, inner functions have access to outer variables because inner scopes \"enclose\" outer scopes.</p>\n\n<p><img src=\"http://i.stack.imgur.com/60fH9.png\" alt=\"Closures\"></p>\n\n<p>This also means that inner functions \"hold onto\" outer variables and keep them alive, even if the outer function returns. To utilize this, we create and call a wrapper function purely to make a new scope, declare <code>ilocal</code> in the new scope, and return the inner function that uses <code>ilocal</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//overwrite console.log() so you can see the console output\r\nconsole.log = function(msg) {document.body.innerHTML += '&lt;p&gt;' + msg + '&lt;/p&gt;';};\r\n\r\nvar funcs = {};\r\nfor (var i = 0; i &lt; 3; i++) {\r\n    funcs[i] = (function() { //create a new scope using a wrapper function\r\n        var ilocal = i; //capture i into a local var\r\n        return function() { //return the inner function\r\n            console.log(\"My value: \" + ilocal);\r\n        };\r\n    })(); //remember to run the wrapper function\r\n}\r\nfor (var j = 0; j &lt; 3; j++) {\r\n    funcs[j]();\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Creating the inner function inside a wrapper function gives the inner function a private environment that only it can access, a \"closure\". Thus, every time we call the wrapper function we create a new inner function with it's own separate environment, ensuring that the <code>ilocal</code> variables don't collide and overwrite each other. A few minor optimizations gives the final answer that many other SO users gave:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//overwrite console.log() so you can see the console output\r\nconsole.log = function(msg) {document.body.innerHTML += '&lt;p&gt;' + msg + '&lt;/p&gt;';};\r\n\r\nvar funcs = {};\r\nfor (var i = 0; i &lt; 3; i++) {\r\n    funcs[i] = wrapper(i);\r\n}\r\nfor (var j = 0; j &lt; 3; j++) {\r\n    funcs[j]();\r\n}\r\n//creates a separate environment for the inner function\r\nfunction wrapper(ilocal) {\r\n    return function() { //return the inner function\r\n        console.log(\"My value: \" + ilocal);\r\n    };\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 29558498, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>This is a problem often encountered with asynchronous code, the variable <code>i</code> is mutable and at the time at which the function call is made the code using <code>i</code> will be executed and <code>i</code> will have mutated to it's last value.. thus meaning all functions created withing the loop will create a closure and <code>i</code> will be equal to 3 (the upper bound + 1 of the <code>for</code> loop.</p>\n\n<p>A workaround to this, is to create a function that will hold the value of <code>i</code> for each iteration and force a copy <code>i</code> (as it is a primitive, think of it as a snapshot if it helps you).</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 30088851, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>You could use a declarative module for lists of data such as <a href=\"https://github.com/runefs/query-js\" rel=\"nofollow\">query-js</a>(*). In these situations I personally find a declarative approach less surprising</p>\n\n<pre><code>var funcs = Query.range(0,3).each(function(i){\n     return  function() {\n        console.log(\"My value: \" + i);\n    };\n});\n</code></pre>\n\n<p>You could then use your second loop and get the expected result or you could do </p>\n\n<pre><code>funcs.iterate(function(f){ f(); });\n</code></pre>\n\n<p>(*) I'm the author of query-js and therefor biased towards using it, so don't take my words as a recommendation for said library only for the declarative approach :)</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 30891034, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>I prefer to use <code>forEach</code> function, which has its own closure with creating a pseudo range:</p>\n\n<pre><code>var funcs = [];\n\nnew Array(3).fill(0).forEach(function (_, i) { // creating a range\n    funcs[i] = function() {            \n        // now i is safely incapsulated \n        console.log(\"My value: \" + i);\n    };\n});\n\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j](); // 0, 1, 2\n}\n</code></pre>\n\n<p>That looks uglier than ranges in other languages, but IMHO less monstrous than other solutions.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 34336741, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>We can use ECMA6 let key word to achieve desired result. It will create a new scope for each iteration.</p>\n\n<pre><code>var funcs = [];\nfor (let i = 0; i &lt; 3; i++) {        //It will create new scope each time\n    funcs[i] = function() {            \n        console.log(\"My value: \" + i); \n    };\n}\nfor (var j = 0; j &lt; 3; j++) {\n    funcs[j]();                        \n}\n</code></pre>\n\n<blockquote>\n  <p>It will give output: <br/>\n  My value: 0<br/>\n  My value: 1\n  My value: 2<br/></p>\n</blockquote>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 37023485, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}, {"body": "<p>And yet another solution: instead of creating another loop, just bind the <code>this</code> to the return function.</p>\n\n<pre><code>var funcs = [];\n\nfunction createFunc(i) {\n  return function () {\n    console.log('My value: ' + i);\n  }.call(this);\n}\n\nfor (var i = 1; i &lt;= 5; i++) {\n  funcs[i] = createFunc(i);\n}\n</code></pre>\n\n<p>By binding this, solves the problem as well.</p>\n", "title": "JavaScript closure inside loops \u2013 simple practical example", "answer_id": 37049830, "question_id": 750486, "tags": ["javascript", "loops", "closures"]}], "question_id": 750486}, {"body": "<p>I would like a JavaScript function to have optional arguments which I set a default on, which gets used if the value isn't defined.  In Ruby you can do it like this:</p>\n\n<pre><code>def read_file(file, delete_after = false)\n  # code\nend\n</code></pre>\n\n<p>Does this work in JavaScript?</p>\n\n<pre><code>function read_file(file, delete_after = false) {\n  // Code\n}\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "tags": ["javascript", "function", "arguments", "default"], "answer_count": 11, "link": "http://stackoverflow.com/questions/894860/set-a-default-parameter-value-for-a-javascript-function", "answers": [{"body": "<pre><code>function read_file(file, delete_after) {\n    delete_after = delete_after || \"my default here\";\n    //rest of code\n}\n</code></pre>\n\n<p>This assigns to <code>delete_after</code> the value of <code>delete_after</code> if it is not a <em>falsey</em> value otherwise it assigns the string <code>\"my default here\"</code>. For more detail, check out <a href=\"http://javascript.crockford.com/survey.html\">Doug Crockford's survey of the language and check out the section on Operators</a>.</p>\n\n<p>This approach does not work if you want to pass in a <em>falsey</em> value i.e. <code>false</code>, <code>null</code>, <code>undefined</code>, <code>0</code> or <code>\"\"</code>. If you require <em>falsey</em> values to be passed in you would need to use the method in <a href=\"http://stackoverflow.com/questions/894860/how-do-i-make-a-default-value-for-a-parameter-to-a-javascript-function/894877#894877\">Tom Ritter's answer</a>.</p>\n\n<p>When dealing with a number of parameters to a function, it is often useful to allow the consumer to pass the parameter arguments in an object and then <em>merge</em> these values with an object that contains the default values for the function</p>\n\n<pre><code>function read_file(values) {\n    values = merge({ \n        delete_after : \"my default here\"\n    }, values || {});\n\n    // rest of code\n}\n\n// simple implementation based on $.extend() from jQuery\nfunction merge() {\n    var obj, name, copy,\n        target = arguments[0] || {},\n        i = 1,\n        length = arguments.length;\n\n    for (; i &lt; length; i++) {\n        if ((obj = arguments[i]) != null) {\n            for (name in obj) {\n                copy = obj[name];\n\n                if (target === copy) {\n                    continue;\n                }\n                else if (copy !== undefined) {\n                    target[name] = copy;\n                }\n            }\n        }\n    }\n\n    return target;\n};\n</code></pre>\n\n<p>to use</p>\n\n<pre><code>// will use the default delete_after value\nread_file({ file: \"my file\" }); \n\n// will override default delete_after value\nread_file({ file: \"my file\", delete_after: \"my value\" }); \n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 894871, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>From ES6/ES2015, default parameters is in the language specification.</p>\n\n<pre><code>function read_file(file, delete_after = false) {\n  // Code\n}\n</code></pre>\n\n<p>just works.</p>\n\n<p>Reference: <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/default_parameters\">Default Parameters - MDN</a></p>\n\n<blockquote>\n  <p>Default function parameters allow formal parameters to be initialized with default values if <strong>no value</strong> or <strong>undefined</strong> is passed.</p>\n</blockquote>\n\n<p><strong>Pre ES2015</strong>,</p>\n\n<p>There are a lot of ways, but this is my preferred method - it lets you pass in anything you want, including false or null. (<code>typeof null == \"object\"</code>)</p>\n\n<pre><code> function foo(a, b)\n {\n   a = typeof a !== 'undefined' ? a : 42;\n   b = typeof b !== 'undefined' ? b : 'default_b';\n   ...\n }\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 894877, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>I find something simple like this to be much more concise and readable personally.</p>\n\n<pre><code>function pick(arg, def) {\n   return (typeof arg == 'undefined' ? def : arg);\n}\n\nfunction myFunc(x) {\n  x = pick(x, 'my default');\n}\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 894929, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>In ECMAScript 6 you will actually be able to write exactly what you have:</p>\n\n<pre><code>function read_file(file, delete_after = false) {\n  // Code\n}\n</code></pre>\n\n<p>This will set <code>delete_after</code> to <code>false</code> if it s not present or <code>undefined</code>. You can use ES6 features like this one today with transpilers such as <a href=\"http://babeljs.io/\">Babel</a>.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters\">See the MDN article for more information</a>. </p>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 30533409, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>As an update...with ECMAScript 6 you can <strong>FINALLY</strong> set default values in function parameter declarations like so:</p>\n\n<pre><code>function f (x, y = 7, z = 42) {\n  return x + y + z\n}\n\nf(1) === 50\n</code></pre>\n\n<p>As referenced by - <a href=\"http://es6-features.org/#DefaultParameterValues\">http://es6-features.org/#DefaultParameterValues</a></p>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 32974789, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>Just use an explicit comparison with undefined.</p>\n\n<pre><code>function read_file(file, delete_after)\n{\n    if(delete_after === undefined) { delete_after = false; }\n}\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 33730389, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>that solution is work for me in js:</p>\n\n<pre><code>function read_file(file, delete_after) {\n    delete_after = delete_after || false;\n    // Code\n}\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 33734301, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>being a long time C++ developer (Rookie to web development :)), when I first came across this situation, I did the parameter assignment in the function definition, like it is mentioned in the question, as follows. </p>\n\n<pre><code>function myfunc(a,b=10)\n</code></pre>\n\n<p>But beware that it doesn't work consistently across browsers. For me it worked on chrome on my desktop, but did not work on chrome on android.\nSafer option, as many have mentioned above is -</p>\n\n<pre><code>    function myfunc(a,b)\n    {\n    if (typeof(b)==='undefined') b = 10;\n......\n    }\n</code></pre>\n\n<p>Intention for this answer is not to repeat the same solutions, what others have already mentioned, but to inform that parameter assignment in the function definition may work on some browsers, but don't rely on it.</p>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 37315621, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>Yes, This will work in Javascript. You can also do that:</p>\n\n<pre><code>function func(a=10,b=20)\n{\n    alert (a+' and '+b);\n}\n\nfunc(); // Result: 10 and 20\n\nfunc(12); // Result: 12 and 20\n\nfunc(22,25); // Result: 22 and 25\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 38457944, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>ECMA 6  more examples : </p>\n\n<p><a href=\"https://leanpub.com/understandinges6/read#leanpub-auto-functions-with-default-parameter-values\" rel=\"nofollow\">https://leanpub.com/understandinges6/read#leanpub-auto-functions-with-default-parameter-values</a></p>\n\n<pre><code>function getValue() {\n    return 5;\n}\n\nfunction add(first, second = getValue()) {\n    return first + second;\n}\n\nconsole.log(add(1, 1));     // 2\nconsole.log(add(1));        // 6\n\n\nlet value = 5;\n\nfunction getValue() {\n    return value++;\n}\n\nfunction add(first, second = getValue()) {\n    return first + second;\n}\n\nconsole.log(add(1, 1));     // 2\nconsole.log(add(1));        // 6\nconsole.log(add(1));        // 7\n\n\nfunction add(first, second = first) {\n    return first + second;\n}\n\nconsole.log(add(1, 1));     // 2\nconsole.log(add(1));        // 2\n</code></pre>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 38715207, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}, {"body": "<p>To anyone interested in having there code work in Microsoft Edge, do not use defaults in function parameters. </p>\n\n<pre><code>function read_file(file, delete_after = false) {\n    #code\n}\n</code></pre>\n\n<p>In that example Edge will throw an error \"Expecting ')'\"    </p>\n\n<p>To get around this use</p>\n\n<pre><code>function read_file(file, delete_after) {\nif(delete_after == undefined)\n  {\n    delete_after = false;\n  }\n  #code\n}\n</code></pre>\n\n<p>As of Aug 08 2016 this is still an issue</p>\n", "title": "Set a default parameter value for a JavaScript function", "answer_id": 38746956, "question_id": 894860, "tags": ["javascript", "function", "arguments", "default"]}], "question_id": 894860}, {"body": "<p>How can I get a drop-down list selected text in jQuery, not using the selected value?</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"], "answer_count": 24, "link": "http://stackoverflow.com/questions/1643227/get-selected-text-from-a-drop-down-list-select-box-using-jquery", "answers": [{"body": "<p>Try this:</p>\n\n<pre><code>$(\"#myselect :selected\").text();\n</code></pre>\n\n<p>For an ASP.NET dropdown you can use the following selector:</p>\n\n<pre><code>$(\"[id*='MyDropDownId'] :selected\")\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 1643241, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code>$(\"#yourdropdownid option:selected\").text();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 1643247, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code>var someName = \"Test\";\n\n$(\"#&lt;%= ddltest.ClientID %&gt;\").each(function () {\n    $('option', this).each(function () {\n        if ($(this).text().toLowerCase() == someName) {\n            $(this).attr('selected', 'selected')\n        };\n    });\n});\n</code></pre>\n\n<p>That will help you to get right direction. Above code is fully tested if you need further help let me know.</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 3880607, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code>$(\"option:selected\", $(\"#TipoRecorde\")).text()\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 7082706, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p><code>$(\"#DropDownID\").val()</code>  will give the selected index value.</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 8119455, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>If you already have the dropdownlist available in a variable, this is what works for me:</p>\n\n<pre><code>$(\"option:selected\", myVar).text()\n</code></pre>\n\n<p>The other answers on this question helped me, but ultimately the jQuery forum thread <em><a href=\"http://forum.jquery.com/topic/this-option-selected-attr-rel-option-selected-is-not-working-in-ie\">$(this + \"option:selected\").attr(\"rel\") option selected is not working in IE</a></em> helped the most.</p>\n\n<p>Update: fixed the above link</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 9138615, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>The answers posted here, for example,</p>\n\n<pre><code>$('#yourdropdownid option:selected').text();\n</code></pre>\n\n<p>didn't work for me, but this did:</p>\n\n<pre><code>$('#yourdropdownid').find('option:selected').text();\n</code></pre>\n\n<p>It is possibly an older version of jQuery.</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 9769502, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>For the text of the selected item, use:</p>\n\n<pre><code>$('select[name=\"thegivenname\"] option:selected').text();\n</code></pre>\n\n<p>For the value of the selected item, use:</p>\n\n<pre><code>$('select[name=\"thegivenname\"] option:selected').val();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 14512681, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code>$(\"select[id=yourDropdownid] option:selected\").text()\n</code></pre>\n\n<p>This works fine</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 16166543, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>This works for me:</p>\n\n<pre><code>$('#yourdropdownid').find('option:selected').text();\n</code></pre>\n\n<p><a href=\"http://en.wikipedia.org/wiki/JQuery\">jQuery</a> version: 1.9.1</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 18998929, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>For those who are using <a href=\"http://en.wikipedia.org/wiki/Microsoft_SharePoint\">SharePoint</a> lists and don't want to use the long generated id, this will work: </p>\n\n<pre><code>var e = $('select[title=\"IntenalFieldName\"] option:selected').text();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 19799526, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code> $(\"#selectID option:selected\").text();\n</code></pre>\n\n<p>Instead of <code>#selectID</code> you can use any jQuery selector, like <code>.selectClass</code> using class.</p>\n\n<p>As mentioned in the documentation <a href=\"http://api.jquery.com/selected-selector/\">here</a>.</p>\n\n<p><em>The :selected selector works for &lt;option> elements. It does not work for checkboxes or radio inputs; use <code>:checked</code> for them.</em></p>\n\n<p><strong>.text()</strong> As per the documentation <a href=\"http://api.jquery.com/text/\">here</a>.</p>\n\n<p><em>Get the combined text contents of each element in the set of matched elements, including their descendants.</em></p>\n\n<p>So you can take text from any HTML element using the <code>.text()</code> method.</p>\n\n<p>Refer the documentation for a deeper explanation.</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 21459196, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code>$(\"#dropdownID\").change(function(){\n  alert($('option:selected', $(this)).text());\n});\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 21494690, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>Use:</p>\n\n<pre><code>('#yourdropdownid').find(':selected').text();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 25062595, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>Various ways</p>\n\n<pre><code>1. $(\"#myselect option:selected\").text();\n\n2. $(\"#myselect :selected\").text();\n\n3. $(\"#myselect\").children(\":selected\").text();\n\n4. $(\"#myselect\").find(\":selected\").text();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 25108386, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>In sibling case   </p>\n\n<pre><code>&lt;a class=\"uibutton confirm addClient\" href=\"javascript:void(0);\"&gt;ADD Client&lt;/a&gt;\n&lt;input type=\"text\" placeholder=\"Enter client name\" style=\"margin: 5px;float: right\" class=\"clientsearch large\" /&gt;\n&lt;select class=\"mychzn-select clientList\"&gt;\n  &lt;option value=\"\"&gt;Select Client name....&lt;/option&gt;\n  &lt;option value=\"1\"&gt;abc&lt;/option&gt;\n&lt;/select&gt;\n\n\n /*jQuery*/\n $(this).siblings('select').children(':selected').text()\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 27310171, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<pre><code>$('#id').find('option:selected').text();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 29576346, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>Please use this</p>\n\n<pre><code>var listbox = document.getElementById(\"yourdropdownid\");\nvar selIndex = listbox.selectedIndex;\nvar selValue = listbox.options[selIndex].value;\nvar selText = listbox.options[selIndex].text;   \n</code></pre>\n\n<p>Then Please alert \"selValue\" and \"selText\". You get your selected dropdown value and text</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 30239794, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>This work for me:</p>\n\n<pre><code>$(\"#city :selected\").text();\n</code></pre>\n\n<p>I'm using jQuery 1.10.2</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 31306879, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>This works in my case</p>\n\n<pre><code>$(document).on(\"change\", \"#dropdownid\", function() {\n    alert($(this).find(\"option:selected\").text());\n});\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 32008697, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>the following worked for me:</p>\n\n<pre><code>$.trim($('#dropdownId option:selected').html())\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 32623000, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>Select Text and selected value on dropdown/select change event in jQuery</p>\n\n<pre><code>$(\"#yourdropdownid\").change(function() {\n    console.log($(\"option:selected\", this).text()); //text\n    console.log($(this).val()); //value\n})\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 33796009, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p>For getting selected value use </p>\n\n<pre><code>$('#dropDownId').val();\n</code></pre>\n\n<p>and for getting selected item text use this line:</p>\n\n<pre><code>$(\"#dropDownId option:selected\").text();\n</code></pre>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 34961622, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}, {"body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function () {\r\n  alert('.val() = ' + $('#selectnumber').val() + '  AND  html() = ' + $('#selectnumber option:selected').html() + '  AND .text() = ' + $('#selectnumber option:selected').text());\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n  &lt;head runat=\"server\"&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;form id=\"form1\" runat=\"server\"&gt;\r\n      &lt;div&gt;\r\n        &lt;select id=\"selectnumber\"&gt;\r\n          &lt;option value=\"1\"&gt;one&lt;/option&gt;\r\n          &lt;option value=\"2\"&gt;two&lt;/option&gt;\r\n          &lt;option value=\"3\"&gt;three&lt;/option&gt;\r\n          &lt;option value=\"4\"&gt;four&lt;/option&gt;\r\n        &lt;/select&gt;\r\n\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"http://i.stack.imgur.com/gjUBz.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/gjUBz.png\" alt=\"Click to see OutPut Screen\"></a></p>\n\n<p>Thanks... :)</p>\n", "title": "Get selected text from a drop-down list (select box) using jQuery", "answer_id": 38856615, "question_id": 1643227, "tags": ["javascript", "jquery", "drop-down-menu", "jquery-selectors"]}], "question_id": 1643227}, {"body": "<p>I saw some code that seems to use an operator I don't recognize, in the form of two exclamation points, like so: <code>!!</code>. Can someone please tell me what this operator does?</p>\n\n<p>The context in which I saw this was,</p>\n\n<pre><code>this.vertical = vertical !== undefined ? !!vertical : this.vertical;\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "tags": ["javascript", "operators"], "answer_count": 26, "link": "http://stackoverflow.com/questions/784929/what-is-the-not-not-operator-in-javascript", "answers": [{"body": "<p>Coerces <code>oObject</code> to boolean. If it was falsey (e.g. 0, <code>null</code>, <code>undefined</code>, etc.), it will be <code>false</code>, otherwise, <code>true</code>.</p>\n\n<pre><code>!oObject  //Inverted boolean\n!!oObject //Non inverted boolean so true boolean representation\n</code></pre>\n\n<p>So <code>!!</code> is not an operator, it's just the <code>!</code> operator twice.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 784946, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It's just the logical NOT operator, twice - it's used to convert something to boolean, e.g.:</p>\n\n<pre><code>true === !!10\n\nfalse === !!0\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 784950, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It seems that the <code>!!</code> operator results in a double negation.</p>\n\n<pre><code>var foo = \"Hello World!\";\n\n!foo // Result: false\n!!foo // Result: true\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 784956, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>I suspect this is a leftover from C++ where people override the ! operator but not the bool operator.</p>\n\n<p>So to get a negative(or positive) answer in that case you would first need to use the ! operator to get a boolean, but if you wanted to check the positive case would use !!.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 784989, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p><code>!!</code> converts the value to the right of it to its equivalent boolean value. (Think poor man's way of \"type-casting\"). Its <em>intent</em> is usually to convey to the reader that the code does not care <em>what</em> value is in the variable, but what it's <a href=\"http://11heavens.com/falsy-and-truthy-in-javascript\">\"truth\" value</a> is.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1406609, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It converts the suffix to a Boolean value. </p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1406611, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It's a horribly obscure way to do a type conversion.</p>\n\n<p><code>!</code> is <em>NOT</em>.  So <code>!true</code> is <code>false</code>, and <code>!false</code> is <code>true</code>. <code>!0</code> is <code>true</code>, and <code>!1</code> is <code>false</code>.</p>\n\n<p>So you're converting a value to a boolean, then inverting it, then inverting it again.</p>\n\n<pre><code>// Maximum Obscurity:\nval.enabled = !!userId;\n\n// Partial Obscurity:\nval.enabled = (userId != 0) ? true : false;\n\n// And finally, much easier to understand:\nval.enabled = (userId != 0);\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1406618, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It's a double <code>not</code> operation.  The first <code>!</code> converts the value to boolean and inverts its logical value.  The second <code>!</code> inverts the logical value back.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1406619, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>! is \"boolean not\", which essentially typecasts the value of \"enable\" to its boolean opposite. The second ! flips this value. So, <code>!!enable</code> means \"not not enable,\" giving you the value of <code>enable</code> as a boolean.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1406621, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p><code>!!foo</code> applies the unary not operator twice and is used to cast to boolean type similar to the use of unary plus <code>+foo</code> to cast to number and concatenating an empty string <code>''+foo</code> to cast to string.</p>\n\n<p>Instead of these hacks, you can also use the constructor functions corresponding to the primitive types (<em>without</em> using <code>new</code>) to explicitly cast values, ie</p>\n\n<pre><code>Boolean(foo) === !!foo\nNumber(foo)  === +foo\nString(foo)  === ''+foo\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1407769, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It's not a single operator, it's two.  It's equivalent to the following and is a quick way to cast a value to boolean. </p>\n\n<pre><code>val.enabled = !(!enable);\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 1407785, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>Double boolean negation. Often used to check if value is not undefined.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 4339463, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>It simulates the behavior of the <code>Boolean()</code> casting function.\nThe first <code>NOT</code> returns a Boolean value no matter what operand it is given. The second <code>NOT</code> negates that <code>Boolean</code> value and so gives the <code>true</code> Boolean value of a variable. The end result is the same as using the <code>Boolean()</code> function on a value.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 5404809, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>This is a really handy way to check for undefined, \"undefined\", null, \"null\", \"\"</p>\n\n<pre><code>if (!!var1 &amp;&amp; !!var2 &amp;&amp; !!var3 &amp;&amp; !!var4 ){\n   //... some code here\n}\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 10297723, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p><code>!!expr</code> returns a Boolean value (<code>true</code> or <code>false</code>) depending on the <em>truthiness</em> of the expression. It makes more sense when used on non-boolean types. Consider these examples, especially the 3rd example and onward:</p>\n\n<pre><code>          !!false === false\n           !!true === true\n\n              !!0 === false\n!!parseInt(\"foo\") === false // NaN is falsy\n              !!1 === true\n             !!-1 === true  // -1 is truthy\n\n             !!\"\" === false // empty string is falsy\n          !!\"foo\" === true  // non-empty string is truthy\n        !!\"false\" === true  // ...even if it contains a falsy value\n\n     !!window.foo === false // undefined is falsy\n           !!null === false // null is falsy\n\n             !!{} === true  // an (empty) object is truthy\n             !![] === true  // an (empty) array is truthy; PHP programmers beware!\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 10597474, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p><strong>Brew some tea:</strong></p>\n\n<p><code>!!</code> is not an operator. It is the double-use of <code>!</code> -- which is the logical \"not\" operator. </p>\n\n<hr>\n\n<p><strong>In theory:</strong></p>\n\n<p><strong><code>!</code></strong> determines the \"truth\" of what a value is not:</p>\n\n<ul>\n<li><p>The truth is that <code>false</code> is not <code>true</code> (that's why <code>!false</code> results\nin <strong><code>true</code></strong>)</p></li>\n<li><p>The truth is that <code>true</code> is not <code>false</code> (that's why <code>!true</code> results\nin <strong><code>false</code></strong>)</p></li>\n</ul>\n\n<hr>\n\n<p><strong><code>!!</code></strong> determines the \"truth\" of what a value is <em>not</em> not:</p>\n\n<ul>\n<li><p>The truth is that <code>true</code> is not <em>not</em> <code>true</code> (that's why <code>!!true</code> results in <strong><code>true</code></strong>)</p></li>\n<li><p>The truth is that <code>false</code> is not <em>not</em> <code>false</code> (that's why <code>!!false</code> results in <strong><code>false</code></strong>)</p></li>\n</ul>\n\n<hr>\n\n<p>What we wish to determine in the comparison is the \"truth\" <em>about</em> the value of a reference, not the <em>value of</em> the reference itself. There is a use-case where we might want to know the truth about a value, even if we expect the value to be <em><code>false</code></em> (or falsey), or if we expect the value not to be typeof <code>boolean</code>. </p>\n\n<hr>\n\n<p><strong>In practice:</strong></p>\n\n<p>Consider a concise function which detects feature functionality (and in this case, platform compatibility) by way of <strong><a href=\"http://en.wikipedia.org/wiki/Type_system#Dynamic_typing\">dynamic typing</a></strong> (aka \"duck typing\"). We want to write a function that returns <code>true</code> if a user's browser supports the HTML5 <code>&lt;audio&gt;</code> element, but we don't want the function to throw an error if <code>&lt;audio&gt;</code> is undefined; and we don't want to use <code>try ... catch</code> to handle any possible errors (because they're gross); <em>and also</em> we don't want to use a check inside the function that won't consistently reveal the truth about the feature (for example, <code>document.createElement('audio')</code> will still create an element called <code>&lt;audio&gt;</code> even if HTML5 <code>&lt;audio&gt;</code> is not supported). </p>\n\n<hr>\n\n<p>Here are the three approaches:</p>\n\n<pre><code>// this won't tell us anything about HTML5 `&lt;audio&gt;` as a feature\nvar foo = function(tag, atr) { return document.createElement(tag)[atr]; }\n\n// this won't return true if the feature is detected (although it works just fine)\nvar bar = function(tag, atr) { return !document.createElement(tag)[atr]; }\n\n// this is the concise, feature-detecting solution we want\nvar baz = function(tag, atr) { return !!document.createElement(tag)[atr]; }\n\nfoo('audio', 'preload'); // returns \"auto\"\nbar('audio', 'preload'); // returns false\nbaz('audio', 'preload'); // returns true\n</code></pre>\n\n<p>Each function accepts an argument for a <code>&lt;tag&gt;</code> and an <code>attribute</code> to look for, but they each return different values based on what the comparisons determine. </p>\n\n<p><strong>But wait, there's more!</strong></p>\n\n<p>Some of you probably noticed that in this specific example, one could simply check for a property using the slightly <strong><a href=\"http://jsperf.com/hasownproperty-vs-comparison\">more performant</a></strong> means of checking if the object in question <em>has</em> a property. There are two ways to do this:</p>\n\n<pre><code>// the native `hasOwnProperty` method\nvar qux = function(tag, atr) { return document.createElement(tag).hasOwnProperty(atr); }\n\n// the `in` operator\nvar quux = function(tag, atr) { return atr in document.createElement(tag); }\n\nqux('audio', 'preload');  // returns true\nquux('audio', 'preload'); // returns true\n</code></pre>\n\n<p><strong>We digress...</strong></p>\n\n<p>However rare these situations may be, there may exist a few scenarios where the most concise, most performant, and thus most preferred means of getting <code>true</code> from a non-boolean, possibly undefined value is indeed by using <code>!!</code>. Hopefully this ridiculously clears it up.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 15035152, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>The <code>!!</code> construct is a simple way of turning any JavaScript expression into\nits Boolean equivalent. </p>\n\n<p>For example: <code>!!\"he shot me down\" === true</code> and <code>!!0 === false</code>.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 22952812, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>Tons of great answers here, but if you've read down this far, this helped me to 'get it'. Open the console on Chrome (etc), and start typing:</p>\n\n<pre><code>!(!(1))\n!(!(0))\n!(!('truthy')) \n!(!(null))\n!(!(''))\n!(!(undefined))\n!(!(new Object())\n!(!({}))\nwoo = 'hoo'\n!(!(woo))\n...etc, etc, until the light goes on ;)\n</code></pre>\n\n<p>Naturally, these are all the same as merely typing !!someThing, but the added parentheses might help make it more understandable.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 23269812, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<pre><code>a = 1;\nalert(!a) // -&gt; false : a is not not defined\nalert(!!a) // -&gt; true : a is not not defined\n</code></pre>\n\n<p>For <code>!a</code>, it checks whether <code>a</code> is <strong>NOT</strong> defined, while <code>!!a</code> checks if the variable is defined.</p>\n\n<p><code>!!a</code> is the same as <code>!(!a)</code>. If <code>a</code> is defined, <code>a</code> is <code>true</code>, <code>!a</code> is <code>false</code>, and <code>!!a</code> is <code>true</code>.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 24463307, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>here is a piece of code from angular js </p>\n\n<pre><code>var requestAnimationFrame = $window.requestAnimationFrame ||\n                                $window.webkitRequestAnimationFrame ||\n                                $window.mozRequestAnimationFrame;\n\n var rafSupported = !!requestAnimationFrame;\n</code></pre>\n\n<p>their intention is to set rafSupported to true or false based on the availability of function in requestAnimationFrame </p>\n\n<p>it can be achieved by checking in following way in general:</p>\n\n<pre><code>if(typeof  requestAnimationFrame === 'function')\nrafSupported =true;\nelse\nrafSupported =false;\n</code></pre>\n\n<p>the short way could be using !!</p>\n\n<pre><code>rafSupported = !!requestAnimationFrame ;\n</code></pre>\n\n<p>so if requestAnimationFrame was assigned a function\n then\n!requestAnimationFrame would be false and one more ! of it would be true</p>\n\n<p>if requestAnimationFrame was assinged undefined then\n!requestAnimationFrame would be true and one more ! of it would be false</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 28849664, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>So many answers doing half the work. Yes, <code>!!X</code> could be read as \"the truthiness of X [represented as a boolean]\". But <code>!!</code> isn't, practically speaking, so important for figuring out whether a single variable is (or even if many variables are) truthy or falsy. <code>!!myVar === true</code> is the same as just <code>myVar</code>. Comparing <code>!!X</code> to a \"real\" boolean isn't really useful.</p>\n\n<p>What you gain with <code>!!</code> is the ability to check the truthiness of multiple variables <em>against each other</em> in a repeatable, standardized (and JSLint friendly) fashion.</p>\n\n<h3>Simply casting :(</h3>\n\n<p>That is...</p>\n\n<ul>\n<li><code>0 === false</code> is <code>false</code>. </li>\n<li><code>!!0 === false</code> is <code>true</code>.</li>\n</ul>\n\n<p>The above's not so useful. <code>if (!0)</code> gives you the same results as <code>if (!!0 === false)</code>. I can't think of a good case for casting a variable to boolean and then comparing to a \"true\" boolean.</p>\n\n<p>See \"== and !=\" from <a href=\"http://old.jslint.com/lint.html\">JSLint's directions</a> (note: Crockford is moving his site around a bit; that link is liable to die at some point) for a little on why:</p>\n\n<blockquote>\n  <p>The == and != operators do type coercion before comparing. This is bad because it causes ' \\t\\r\\n' == 0 to be true. This can mask type errors. JSLint cannot reliably determine if == is being used correctly, so it is best to not use == and != at all and to always use the more reliable === and !== operators instead.</p>\n  \n  <p>If you only care that a value is truthy or falsy, then use the short form. Instead of<br>\n  <code>(foo != 0)</code></p>\n  \n  <p>just say<br>\n  <code>(foo)</code></p>\n  \n  <p>and instead of<br>\n  <code>(foo == 0)</code></p>\n  \n  <p>say<br>\n  <code>(!foo)</code></p>\n</blockquote>\n\n<p>Note that there are some <a href=\"http://stackoverflow.com/a/3619813/1028230\">unintuitive cases</a> where a boolean will be cast to a number (<code>true</code> is cast to <code>1</code> and <code>false</code> to <code>0</code>) when comparing a boolean to a number. In this case, <code>!!</code> might be mentally useful. Though, again, <strong>these are cases where you're comparing a non-boolean to a hard-typed boolean, which is, imo, a serious mistake.</strong> <code>if (-1)</code> is still the way to go here.</p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551               Original                \u2551    Equivalent     \u2551  Result   \u2551\n\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256c\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256c\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563\n\u2551 if (-1 == true) console.log(\"spam\")   \u2551 if (-1 == 1)      \u2551 undefined \u2551\n\u2551 if (-1 == false) console.log(\"spam\")  \u2551 if (-1 == 0)      \u2551 undefined \u2551\n\u2551   Order doesn't matter...             \u2551                   \u2551           \u2551\n\u2551 if (true == -1) console.log(\"spam\")   \u2551 if (1 == -1)      \u2551 undefined \u2551\n\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256c\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256c\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563\n\u2551 if (!!-1 == true) console.log(\"spam\") \u2551 if (true == true) \u2551 spam      \u2551 better\n\u2560\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256c\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256c\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2563\n\u2551 if (-1) console.log(\"spam\")           \u2551 if (truthy)       \u2551 spam      \u2551 still best\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n\n<p>And things get even crazier depending on your engine. WScript, for instance, wins the prize.</p>\n\n<pre><code>function test()\n{\n    return (1 === 1);\n}\nWScript.echo(test());\n</code></pre>\n\n<p>Because of <a href=\"http://stackoverflow.com/a/14462348/1028230\">some historical Windows jive</a>, that'll output -1 in a message box! Try it in a cmd.exe prompt and see! But <code>WScript.echo(-1 == test())</code> still gives you 0, or WScript's <code>false</code>. <a href=\"https://www.google.com/search?q=look+away+I%27m+hideous\">Look away. It's hideous.</a></p>\n\n<h3>Comparing truthiness :)</h3>\n\n<p>But what if I have two values I need to check for equal truthi/falsi-ness?</p>\n\n<p>Pretend we have <code>myVar1 = 0;</code> and <code>myVar2 = undefined;</code>.</p>\n\n<ul>\n<li><code>myVar1 === myVar2</code> is <code>0 === undefined</code> and is obviously false.</li>\n<li><code>!!myVar1 === !!myVar2</code> is <code>!!0 === !!undefined</code> and is true! Same truthiness! (In this case, both \"have a truthiness of falsy\".)</li>\n</ul>\n\n<p>So the only place you'd really need to use \"boolean-cast variables\" would be if you had a situation where you're checking if both variables have the <em>same</em> truthiness, right? That is, <b>use <code>!!</code> if you need to see if two vars are <em>both truthy or both falsy</em> (or not), that is, <em>of equal</em> (or not) <em>truthiness</em>.</b></p>\n\n<p>I can't think of a great, non-contrived use case for that offhand. Maybe you have \"linked\" fields in a form? </p>\n\n<pre><code>if (!!customerInput.spouseName !== !!customerInput.spouseAge ) {\n    errorObjects.spouse = \"Please either enter a valid name AND age \" \n        + \"for your spouse or leave all spouse fields blank.\";\n}\n</code></pre>\n\n<p>So now if you have a truthy for both <em>or</em> a falsy for both spouse name and age, you can continue. Otherwise you've only got one field with a value (or a very early arranged marriage) and need to create an extra error on your <code>errorObjects</code> collection.</p>\n\n<p>Or, admittedly, in some cases, you gain increased readability, as in the <code>q</code> lib <a href=\"https://github.com/kriskowal/q/blob/v1/q.js#L72\">here</a>:</p>\n\n<pre><code>try {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n</code></pre>\n\n<p>We're not interested in <code>e.stack</code> when we deal with <code>hasStacks</code> later. We just want to lossily retain truthiness. </p>\n\n<p>That said, operationally, we could have left out the <code>!!</code> and had the same thing happen. <a href=\"https://github.com/kriskowal/q/blob/v1/q.js#L362\">One example</a>:</p>\n\n<pre><code>if (hasStacks &amp;&amp;\n    promise.stack &amp;&amp;...\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 29951409, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>Some operators in JavaScript perform implicit type conversions, and are sometimes\nused for type conversion.</p>\n\n<p>The unary <code>!</code> operator converts its operand to a boolean and negates it.</p>\n\n<p>This fact lead to the following idiom that you can see in your source code:</p>\n\n<pre><code>!!x // Same as Boolean(x). Note double exclamation mark\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 31155099, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p><code>!!x</code> is shorthand for <code>Boolean(x)</code></p>\n\n<p>The first bang forces the js engine to run <code>Boolean(x)</code> but also has the side effect of inverting the value.  So the second bang undoes the side effect.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 34088840, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>The <code>if</code> and <code>while</code> statements and the <code>?</code> operator use truth values to determine which branch of code to run. For example, zero and NaN numbers and the empty string are false, but other numbers and strings are true. Objects are true, but the undefined value and <code>null</code> are both false.</p>\n\n<p>The double negation operator <code>!!</code> calculates the truth value of a value. It's actually two operators, where <code>!!x</code> means <code>!(!x)</code>, and behaves as follows:</p>\n\n<ul>\n<li>If <code>x</code> is a false value, <code>!x</code> is <code>true</code>, and <code>!!x</code> is <code>false</code>.</li>\n<li>If <code>x</code> is a true value, <code>!x</code> is <code>false</code>, and <code>!!x</code> is <code>true</code>.</li>\n</ul>\n\n<p>When used at the top level of a Boolean context (<code>if</code>, <code>while</code>, or <code>?</code>), the <code>!!</code> operator is behaviorally a no-op. For example, <code>if (x)</code> and <code>if (!!x)</code> mean the same thing.</p>\n\n<h2>Practical uses</h2>\n\n<p>However it has several practical uses.</p>\n\n<p>One use is to lossily compress an object to its truth value, so that your code isn't holding a reference to a big object and keeping it alive. Assigning <code>!!some_big_object</code> to a variable instead of <code>some_big_object</code> lets go of it for the garbage collector. This is useful for cases that produce either an object or a false value such as <code>null</code> or the undefined value, such as browser feature detection.</p>\n\n<p>Another use, which I mentioned in an <a href=\"https://stackoverflow.com/a/35525827/2738262\">answer about C's corresponding <code>!!</code> operator</a>, is with \"lint\" tools that look for common typos and print diagnostics. For example, in both C and JavaScript, a few common typos for Boolean operations produce other behaviors whose output isn't quite as Boolean:</p>\n\n<ul>\n<li><code>if (a = b)</code> is assignment followed by use of the truth value of <code>b</code>; <code>if (a == b)</code> is an equality comparison.</li>\n<li><code>if (a &amp; b)</code> is a bitwise AND; <code>if (a &amp;&amp; b)</code> is a logical AND. <code>2 &amp; 5</code> is <code>0</code> (a false value); <code>2 &amp;&amp; 5</code> is true.</li>\n</ul>\n\n<p>The <code>!!</code> operator reassures the lint tool that what you wrote is what you meant: do this operation, then take the truth value of the result.</p>\n\n<p>A third use is to produce logical XOR and logical XNOR. In both C and JavaScript, <code>a &amp;&amp; b</code> performs a logical AND (true if both sides are true), and <code>a &amp; b</code> performs a bitwise AND. <code>a || b</code> performs a logical OR (true if at least one are true), and <code>a | b</code> performs a bitwise OR. There's a bitwise XOR (exclusive OR) as <code>a ^ b</code>, but there's no built-in operator for logical XOR (true if exactly one side is true). You might, for example, want to allow the user to enter text in exactly one of two fields. What you can do is convert each to a truth value and compare them: <code>!!x !== !!y</code>.</p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 35828265, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>I think worth mentioning is, that a condition combined with logical AND/OR will not return a boolean value but last success or first fail in case of &amp;&amp; and \nfirst success or last fail in case of || of condition chain.</p>\n\n<pre><code>res = (1 &amp;&amp; 2); // res is 2\nres = (true &amp;&amp; alert) // res is function alert()\nres = ('foo' || alert) // res is 'foo'\n</code></pre>\n\n<p>In order to cast the condition to a true boolean literal we can use the double negation:</p>\n\n<pre><code>res = !!(1 &amp;&amp; 2); // res is true\nres = !!(true &amp;&amp; alert) // res is true\nres = !!('foo' || alert) // res is true\n</code></pre>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 37434155, "question_id": 784929, "tags": ["javascript", "operators"]}, {"body": "<p>Use logical not operator two times<br>\n<strong>it means !true= false<br>\n and  !!true = true</strong></p>\n", "title": "What is the !! (not not) operator in JavaScript?", "answer_id": 38393760, "question_id": 784929, "tags": ["javascript", "operators"]}], "question_id": 784929}, {"body": "<pre><code>$input.disabled = true;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$input.disabled = \"disabled\";\n</code></pre>\n\n<p>Which is the standard way? And, conversely, how do you enable a disabled input?</p>\n", "title": "Disable/enable an input with jQuery?", "tags": ["javascript", "jquery", "html-input"], "answer_count": 8, "link": "http://stackoverflow.com/questions/1414365/disable-enable-an-input-with-jquery", "answers": [{"body": "<h2>jQuery 1.6+</h2>\n\n<p>To change the <code>disabled</code> property you should use the <a href=\"http://api.jquery.com/prop\"><code>.prop()</code></a> function.</p>\n\n<pre><code>$(\"input\").prop('disabled', true);\n$(\"input\").prop('disabled', false);\n</code></pre>\n\n<h2>jQuery 1.5 and below</h2>\n\n<p>The <code>.prop()</code> function doesn't exist, but <a href=\"http://api.jquery.com/attr\"><code>.attr()</code></a> does similar:</p>\n\n<p>Set the disabled attribute.</p>\n\n<pre><code>$(\"input\").attr('disabled','disabled');\n</code></pre>\n\n<p>To enable again, the proper method is to use <a href=\"//api.jquery.com/removeAttr\"><code>.removeAttr()</code></a></p>\n\n<pre><code>$(\"input\").removeAttr('disabled');\n</code></pre>\n\n<h2>In any version of jQuery</h2>\n\n<p>You can always rely on the actual DOM object and is probably a little faster than the other two options if you are only dealing with one element:</p>\n\n<pre><code>// assuming an event handler thus 'this'\nthis.disabled = true;\n</code></pre>\n\n<p>The advantage to using the <code>.prop()</code> or <code>.attr()</code> methods is that you can set the property for a bunch of selected items.</p>\n\n<hr>\n\n<p><strong>Note:</strong> In 1.6 there is a <a href=\"//api.jquery.com/removeProp\"><code>.removeProp()</code></a> method that sounds a lot like <code>removeAttr()</code>, but it <strong>SHOULD NOT BE USED</strong> on native properties like <code>'disabled'</code>  Excerpt from the documentation:</p>\n\n<blockquote>\n  <p>Note: Do not use this method to remove native properties such as checked, disabled, or selected. This will remove the property completely and, once removed, cannot be added again to element. Use .prop() to set these properties to false instead.</p>\n</blockquote>\n\n<p>In fact, I doubt there are many legitimate uses for this method, boolean props are done in such a way that you should set them to false instead of \"removing\" them like their \"attribute\" counterparts in 1.5</p>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 1414366, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<p>Just for the sake of new conventions &amp;&amp; making it adaptable going forward (unless things change drastically with ECMA6(????):</p>\n\n<pre><code>$(document).on('event_name', '#your_id', function() {\n    $(this).removeAttr('disabled');\n});\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$(document).off('event_name', '#your_id', function() {\n    $(this).attr('disabled','disabled');   \n});\n</code></pre>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 11540723, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<pre><code>    // Disable #x\n    $( \"#x\" ).prop( \"disabled\", true );\n    // Enable #x\n    $( \"#x\" ).prop( \"disabled\", false );\n</code></pre>\n\n<p>Sometimes you need to disable/enable the form element like input or textarea. Jquery helps you to easily make this with setting disabled attribute to \"disabled\".\nFor e.g.:</p>\n\n<pre><code>  //To disable \n  $('.someElement').attr('disabled', 'disabled');\n</code></pre>\n\n<p>To enable disabled element you need to remove \"disabled\" attribute from this element or empty it's string. For e.g:</p>\n\n<pre><code>//To enable \n$('.someElement').removeAttr('disabled');\n\n// OR you can set attr to \"\" \n$('.someElement').attr('disabled', '');\n</code></pre>\n\n<p>refer :<a href=\"http://garmoncheg.blogspot.fr/2011/07/how-to-disableenable-element-with.html\">http://garmoncheg.blogspot.fr/2011/07/how-to-disableenable-element-with.html</a></p>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 22909754, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<pre><code>$(\"input\")[0].disabled = true;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(\"input\")[0].disabled = false;\n</code></pre>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 25701485, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<p>If you just want to invert the current state (like a toggle button behaviour):</p>\n\n<pre><code>$(\"input\").prop('disabled', ! $(\"input\").prop('disabled') );\n</code></pre>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 25812796, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<p>You can put this somewhere global in your code:</p>\n\n<pre><code>$.prototype.enable = function () {\n    $.each(this, function (index, el) {\n        $(el).removeAttr('disabled');\n    });\n}\n\n$.prototype.disable = function () {\n    $.each(this, function (index, el) {\n        $(el).attr('disabled', 'disabled');\n    });\n}\n</code></pre>\n\n<p>And then you can write stuff like:</p>\n\n<pre><code>$(\".myInputs\").enable();\n$(\"#otherInput\").disable();\n</code></pre>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 26440383, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<pre><code>&lt;html&gt;\n&lt;body&gt;\n\nName: &lt;input type=\"text\" id=\"myText\"&gt;\n\n\n\n&lt;button onclick=\"disable()\"&gt;Disable Text field&lt;/button&gt;\n&lt;button onclick=\"enable()\"&gt;Enable Text field&lt;/button&gt;\n\n&lt;script&gt;\nfunction disable() {\n    document.getElementById(\"myText\").disabled = true;\n}\nfunction enable() {\n    document.getElementById(\"myText\").disabled = false;\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 32796123, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}, {"body": "<p>In Jquery mobile.</p>\n\n<p>For Disable</p>\n\n<pre><code>    $('#someselectElement').selectmenu().selectmenu('disable').selectmenu('refresh', true);\n    $('#someTextElement').textinput().textinput('disable');\n</code></pre>\n\n<p>For Enable</p>\n\n<pre><code>    $('#someselectElement').selectmenu().selectmenu('enable').selectmenu('refresh', true);\n    $('#someTextElement').textinput('enable');\n</code></pre>\n", "title": "Disable/enable an input with jQuery?", "answer_id": 37810362, "question_id": 1414365, "tags": ["javascript", "jquery", "html-input"]}], "question_id": 1414365}, {"body": "<p>I have a project in which I have to change the mode of files with <code>chmod</code> to 777 while developing, but which should not change in the main repo. </p>\n\n<p>Git picks up on <code>chmod -R 777 .</code> and marks all files as changed. Is there a way to make Git ignore mode changes that have been made to files?</p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "tags": ["git", "ignore", "chmod"], "answer_count": 9, "link": "http://stackoverflow.com/questions/1580596/how-do-i-make-git-ignore-file-mode-chmod-changes", "answers": [{"body": "<p>Try:</p>\n\n<pre><code>git config core.fileMode false\n</code></pre>\n\n<p>From <a href=\"http://kernel.org/pub/software/scm/git/docs/v1.7.10.1/git-config.html\">git-config(1)</a>:</p>\n\n<blockquote>\n<pre><code>   core.fileMode\n       If false, the executable bit differences between the index and the\n       working copy are ignored; useful on broken filesystems like FAT.\n       See git-update-index(1). True by default.\n</code></pre>\n</blockquote>\n\n<p>The <code>-c</code> flag can be used to set this option for one-off commands:</p>\n\n<pre><code>git -c core.fileMode=false diff\n</code></pre>\n\n<p>And the <code>--global</code> flag will make it be the default behavior for the logged in user.</p>\n\n<pre><code>git config --global core.fileMode false\n</code></pre>\n\n<h2>Warning</h2>\n\n<p><code>core.fileMode</code> is not the best practice and should be used carefully. This setting only cover the executable bit of mode and never the read/write bits. In many cases you think you need this settings because you did something like <code>chmod -R 777</code>, making all your files executable. But in most projects <strong>most files don't need and should not be executable for security reasons</strong>.</p>\n\n<p>The proper way to solve this kind of situation is to handle folder and file permission separately, with something like:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>find . -t d -exec chmod a+rwx \\; # Make folders traversable and read/write\nfind . -t f -exec chmod a+rw \\;  # Make files read/write\n</code></pre>\n\n<p>If you do that, you'll never need to use <code>core.fileMode</code>, except in very rare environment.</p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 1580644, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>Adding to <a href=\"http://stackoverflow.com/questions/1580596/how-do-i-make-git-ignore-mode-changes-chmod/1580644#1580644\">Greg Hewgill answer</a> (of using <code>core.fileMode</code> config variable):</p>\n\n<p>You can use <code>--chmod=(-|+)x</code> option of <a href=\"http://www.kernel.org/pub/software/scm/git/docs/git-update-index.html\">git update-index</a> (low-level version of \"git add\") to change execute permissions in the index, from where it would be picked up if you use \"git commit\" (and not \"git commit -a\").</p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 1580680, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>undo mode change in working tree:</p>\n\n<pre><code>git diff --summary | grep --color 'mode change 100755 =&gt; 100644' | cut -d' ' -f7- | xargs -d'\\n' chmod +x\ngit diff --summary | grep --color 'mode change 100644 =&gt; 100755' | cut -d' ' -f7- | xargs -d'\\n' chmod -x\n</code></pre>\n\n<p>Or in mingw-git</p>\n\n<pre><code>git diff --summary | grep  'mode change 100755 =&gt; 100644' | cut -d' ' -f7- | xargs -e'\\n' chmod +x\ngit diff --summary | grep  'mode change 100644 =&gt; 100755' | cut -d' ' -f7- | xargs -e'\\n' chmod -x\n</code></pre>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 2083563, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>If you want to set this option for all of your repos, use the <code>--global</code> option.</p>\n\n<pre><code>git config --global core.filemode false\n</code></pre>\n\n<p>If this does not work you are probably using a newer version of git so try the <code>--add</code> option.</p>\n\n<pre><code>git config --add --global core.filemode false\n</code></pre>\n\n<p>If you run it without the --global option and your working directory is not a repo, you'll get</p>\n\n<pre><code>error: could not lock config file .git/config: No such file or directory\n</code></pre>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 10258697, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>If you want to set filemode to false in config files recursively (including submodules) :\n<code>find -name config | xargs sed -i -e 's/filemode = true/filemode = false/'</code></p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 17676436, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>If</p>\n\n<pre><code>git config --global core.filemode false\n</code></pre>\n\n<p>does not work for you, do it manually:</p>\n\n<pre><code>cd into yourLovelyProject folder\n</code></pre>\n\n<p>cd into .git folder:</p>\n\n<pre><code>cd .git\n</code></pre>\n\n<p>edit the config file:</p>\n\n<pre><code>nano config\n</code></pre>\n\n<p>change true to false</p>\n\n<pre><code>[core]\n        repositoryformatversion = 0\n        filemode = true\n</code></pre>\n\n<p>-></p>\n\n<pre><code>[core]\n        repositoryformatversion = 0\n        filemode = false\n</code></pre>\n\n<p>save, exit, go to upper folder:</p>\n\n<pre><code>cd ..\n</code></pre>\n\n<p>reinit the git</p>\n\n<pre><code>git init\n</code></pre>\n\n<p>you are done!</p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 18081177, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>You can configure it globally:</p>\n\n<p><code>git config --global core.filemode false</code></p>\n\n<p>If the above doesn't work for you, the reason might be your local configuration overrides the global configuration. </p>\n\n<p>Remove your local configuration to make the global configuration take effect:</p>\n\n<p><code>git config --unset core.filemode</code></p>\n\n<p>Alternatively, you could change your local configuration to the right value:</p>\n\n<p><code>git config core.filemode false</code></p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 28063344, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>By definining the following alias (in ~/.gitconfig) you can easily temporarily disable the fileMode per git command:</p>\n\n<pre><code>nfm = \"!f(){ git -c core.fileMode=false $@; };f\"\n</code></pre>\n\n<p>When this alias is prefixed to the git command, the file mode changes won't show up with commands that would otherwise show them. For example:</p>\n\n<pre><code>git nfm status\n</code></pre>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 31613841, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}, {"body": "<p>If you have used <strong>chmod</strong> command already then check the difference of file, It shows previous file mode and current file mode such as:</p>\n\n<p>new mode : 755</p>\n\n<p>old mode : 644</p>\n\n<p>set old mode of all files using below command</p>\n\n<p><strong><code>sudo chmod 644 .</code></strong></p>\n\n<p>now set core.fileMode to false in config file either using command or manually.</p>\n\n<pre><code>git config core.fileMode false\n</code></pre>\n\n<p>then apply chmod command to change the permissions of all files such as </p>\n\n<pre><code>sudo chmod 755 .\n</code></pre>\n\n<p>and again set core.fileMode to true.</p>\n\n<pre><code>git config core.fileMode true\n</code></pre>\n\n<p>For best practises don't Keep core.fileMode false always.</p>\n", "title": "How do I make Git ignore file mode (chmod) changes?", "answer_id": 33096731, "question_id": 1580596, "tags": ["git", "ignore", "chmod"]}], "question_id": 1580596}, {"body": "<p>I want to merge two branches that have been separated for a while and wanted to know which files have been modified.</p>\n\n<p>Came across this link: <a href=\"http://linux.yyz.us/git-howto.html\">http://linux.yyz.us/git-howto.html</a> which was quite useful.</p>\n\n<p>The tools to compare branches I've come across are:</p>\n\n<ul>\n<li><code>git diff master..branch</code></li>\n<li><code>git log master..branch</code></li>\n<li><code>git shortlog master..branch</code></li>\n</ul>\n\n<p>Was wondering if there's something like \"git status master..branch\" to only see those files that are different between the two branches.</p>\n\n<p>Without creating a new tool, I think this is the closest you can get to do that now (which of course will show repeats if a file was modified more than once):</p>\n\n<ul>\n<li><code>git diff master..branch | grep \"^diff\"</code></li>\n</ul>\n\n<p>Was wondering if there's something I missed...</p>\n", "title": "Showing which files have changed between two revisions", "tags": ["git", "branch", "git-branch", "git-diff"], "answer_count": 11, "link": "http://stackoverflow.com/questions/822811/showing-which-files-have-changed-between-two-revisions", "answers": [{"body": "<p>Note that git makes it easy to just try out the merge and back away from any problems if you don't like the result. It might be easier than looking for potential problems in advance.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 822843, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>Try</p>\n\n<pre><code>$ git diff --name-status master..branchName\n</code></pre>\n\n<p>That should do what you need, if I understand you correctly.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 822859, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>Try</p>\n\n<pre><code>$ git diff --stat --color master..branchName\n</code></pre>\n\n<p>This will give you more info about each change, while still using the same number of lines.</p>\n\n<p>You can also flip the branches to get an even clearer picture of the difference if you were to merge the other way: </p>\n\n<pre><code>$ git diff --stat --color branchName..master\n</code></pre>\n", "title": "Showing which files have changed between two revisions", "answer_id": 4949604, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>Also keep in mind that git has cheap and easy branching. If I think a merge could be problematic I create a branch for the merge. So if <code>master</code> has the changes I want to merge in and <code>ba</code> is my branch that needs the code from master I might do the following:</p>\n\n<pre><code>git checkout ba\ngit checkout -b ba-merge\ngit merge master\n.... review new code and fix conflicts....\ngit commit\ngit checkout ba\ngit merge ba-merge\ngit branch -d ba-merge\ngit merge master\n</code></pre>\n\n<p>End result is that I got to try out the merge on a throw-away branch before screwing with my branch. If I get my self tangled up I can just delete the <code>ba-merge</code> branch and start over.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 12830863, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>If anyone is trying to generate a diff file from two branches : </p>\n\n<pre><code>git diff master..otherbranch &gt; myDiffFile.diff\n</code></pre>\n", "title": "Showing which files have changed between two revisions", "answer_id": 15789529, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>If you are using <a href=\"http://www.jetbrains.com/idea/\">IntelliJ IDEA</a>, you can also compare any branch with your current working branch. See <a href=\"http://www.jetbrains.com/idea/webhelp/merging-deleting-and-comparing-branches.html#d288093e3827\">http://www.jetbrains.com/idea/webhelp/merging-deleting-and-comparing-branches.html#d288093e3827</a> for more info. This is available in the <a href=\"http://www.jetbrains.com/idea/features/editions_comparison_matrix.html\">free edition</a> as well.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 16955951, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>There is also a GUI based method.</p>\n\n<p>You can use <strong>gitk</strong>. </p>\n\n<ol>\n<li><p>Run:</p>\n\n<pre><code>$ gitk --all\n</code></pre></li>\n<li><p>Right click on a commit of a branch and select <em>Mark this commit</em> in the pop-up menu. </p></li>\n<li>Right click on a commit of another branch and select <em>Diff this -> marked commit</em> or <em>Diff marked commit -> this</em>. </li>\n</ol>\n\n<p>Then there will be a changed files list in the right bottom panel and diff details in the left bottom panel.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 17102037, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>One more option, using meld in this case:</p>\n\n<pre><code>git difftool -d master otherbranch\n</code></pre>\n\n<p>This allows not only to see the differences between files, but also provides a easy way to point and click into a specific file.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 23270231, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>When working collaboratively, or on multiple features at once, it's common that the upstream or even your master contains work that is not included in your branch, and will incorrectly appear in basic diffs.</p>\n\n<p>If your Upstream may have moved, you should do this:</p>\n\n<pre><code>git fetch\ngit diff origin/master...\n</code></pre>\n\n<p>Just using git diff master can include, or fail to include, relevant changes.</p>\n", "title": "Showing which files have changed between two revisions", "answer_id": 29224490, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>And if you are looking for changes only among certain file(s), then:</p>\n\n<pre><code>git diff branch1 branch2 -- myfile1.js myfile2.js\n</code></pre>\n\n<p>branch1 is optional and your current branch (the branch you are on) will be considered by default if branch1 is not provided.\ne.g:</p>\n\n<pre><code>git diff master -- controller/index.js\n</code></pre>\n", "title": "Showing which files have changed between two revisions", "answer_id": 37254806, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}, {"body": "<p>Just additional info to <a href=\"http://stackoverflow.com/a/822859/3037171\">JasonSmith</a>'s answer:</p>\n\n<p>I checked out my branch with this command:</p>\n\n<p><code>$ git clone -b branchName http://repository_url</code></p>\n\n<p>However, suggested <code>git diff</code> command was failing:</p>\n\n<pre><code>$ git diff --name-status master..branchName\nfatal: ambiguous argument 'master..branchName': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]'\n</code></pre>\n\n<p>I investigated branches following <a href=\"http://stackoverflow.com/a/72156/3037171\">this thread</a>:</p>\n\n<pre><code>$ git branch\n* branchName\n$ git branch -a\n* branchName\n  remotes/origin/HEAD -&gt; origin/master\n  remotes/origin/master\n  remotes/origin/branchName\n</code></pre>\n\n<p>And it was finally solved by comparing to <code>remotes/origin/master</code> instead of simply <code>master</code>:</p>\n\n<pre><code>$ git diff --name-status remotes/origin/master..push\n. . .\n. . .\n. . .\n</code></pre>\n", "title": "Showing which files have changed between two revisions", "answer_id": 37593578, "question_id": 822811, "tags": ["git", "branch", "git-branch", "git-diff"]}], "question_id": 822811}, {"body": "<p>I want to select all the elements that have the two classes <code>a</code> and <code>b</code>.</p>\n\n<pre><code>&lt;element class=\"a b\"&gt;\n</code></pre>\n\n<p>So, only the elements that have <em>both</em> classes.</p>\n\n<p>When I use <code>$(\".a, .b\")</code> it gives me the union, but I want the intersection.</p>\n", "title": "How can I select an element with multiple classes?", "tags": ["jquery", "jquery-selectors"], "answer_count": 8, "link": "http://stackoverflow.com/questions/1041344/how-can-i-select-an-element-with-multiple-classes", "answers": [{"body": "<p>If you want an intersection, just write the selectors together <strong>without spaces</strong> in between. </p>\n\n<pre><code>$('.a.b')\n</code></pre>\n\n<p>So for an element that has an ID of <code>a</code> with classes <code>b</code> and <code>c</code>, you would write:</p>\n\n<pre><code>$('#a.b.c')\n</code></pre>\n", "title": "How can I select an element with multiple classes?", "answer_id": 1041352, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<p>You can do this using the filter function:</p>\n\n<pre><code>$(\".a\").filter(\".b\")\n</code></pre>\n", "title": "How can I select an element with multiple classes?", "answer_id": 1041364, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<p>Just mention another case with element:</p>\n\n<p>E.g. <code>&lt;div id=\"title1\" class=\"A B C\"&gt;</code></p>\n\n<p>Just type: <code>$(\"div#title1.A.B.C\")</code></p>\n", "title": "How can I select an element with multiple classes?", "answer_id": 13882404, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<p>for the case</p>\n\n<pre><code>&lt;element class=\"a\"&gt;\n  &lt;element class=\"b c\"&gt;\n  &lt;/element&gt;\n&lt;/element&gt;\n</code></pre>\n\n<p>you would need to put a space in between <code>.a</code> and <code>.b.c</code></p>\n\n<pre><code>$('.a .b.c')\n</code></pre>\n", "title": "How can I select an element with multiple classes?", "answer_id": 15624173, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<pre><code>&lt;div class=\"a\"&gt;a\n    &lt;div class=\"b\"&gt;b&lt;/div&gt;\n    &lt;div class=\"c\"&gt;c&lt;/div&gt;\n   &lt;div class=\"d\"&gt;d&lt;/div&gt;\n&lt;/div&gt;\n\n$('.a .b , .a .c').css('border', '2px solid yellow');\n//selects b and c\n</code></pre>\n", "title": "How can I select an element with multiple classes?", "answer_id": 16099306, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<p>Vanilla JavaScript solution:-</p>\n\n<p><code>document.querySelectorAll('.a.b')</code></p>\n", "title": "How can I select an element with multiple classes?", "answer_id": 28221519, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<p>For better performance you can use</p>\n\n<pre><code>$('div.a.b')\n</code></pre>\n\n<p>This will look only through the div elements instead of stepping through all the html elements that you have on your page.</p>\n", "title": "How can I select an element with multiple classes?", "answer_id": 32816184, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}, {"body": "<p>The problem you're having, is that you are using a <code>Group Selector</code>, whereas you should be using a <code>Multiples selector</code>! To be more specific, you're using <code>$('.a, .b')</code> whereas you should be using <code>$('.a.b')</code>.</p>\n\n<p>For more information, see the overview of the different ways to combine selectors herebelow!</p>\n\n<hr>\n\n<h2>Group Selector : \",\"</h2>\n\n<p>Select all <code>&lt;h1&gt;</code> elements AND all <code>&lt;p&gt;</code> elements AND all <code>&lt;a&gt;</code> elements :</p>\n\n<pre><code>$('div, p, a')\n</code></pre>\n\n<h2>Multiples selector : \"\" (no character)</h2>\n\n<p>Select all <code>&lt;input&gt;</code> elements of <code>type</code> <code>text</code>, with classes <code>code</code> and <code>red</code> :</p>\n\n<pre><code>$('input[type=\"text\"].code.red')\n</code></pre>\n\n<h2>Descendant Selector : \" \" (space)</h2>\n\n<p>Select all <code>&lt;i&gt;</code> elements inside <code>&lt;p&gt;</code> elements: </p>\n\n<pre><code>$('p i')\n</code></pre>\n\n<h2>Child Selector : \">\"</h2>\n\n<p>Select all <code>&lt;ul&gt;</code> elements that are immediate children of a <code>&lt;li&gt;</code> element:</p>\n\n<pre><code>$('li &gt; ul')\n</code></pre>\n\n<h2>Adjacent Sibling Selector : \"+\"</h2>\n\n<p>Select all <code>&lt;a&gt;</code> elements that are placed immediately after <code>&lt;h2&gt;</code> elements:</p>\n\n<pre><code>$('h2 + a')\n</code></pre>\n\n<h2>General Sibling Selector : \"~\"</h2>\n\n<p>Select all <code>&lt;span&gt;</code> elements that are siblings of <code>&lt;div&gt;</code> elements: </p>\n\n<pre><code>$('div ~ span')\n</code></pre>\n", "title": "How can I select an element with multiple classes?", "answer_id": 34911808, "question_id": 1041344, "tags": ["jquery", "jquery-selectors"]}], "question_id": 1041344}, {"body": "<p>I am using a <code>ListView</code> to display some images and captions associated with those images. I am getting the images from the Internet. Is there a way to lazy load the images so while the text displays, the UI is not locked up and images are displayed as they are downloaded? </p>\n\n<p>The number of images is not fixed.</p>\n", "title": "Lazy load of images in ListView", "tags": ["android", "image", "url", "android-listview", "universal-image-loader"], "answer_count": 36, "link": "http://stackoverflow.com/questions/541966/lazy-load-of-images-in-listview", "answers": [{"body": "<p>The way I do it is by launching a thread to download the images in the background and hand it a callback for each list item.  When an image is finished downloading it calls the callback which updates the view for the list item.  </p>\n\n<p>This method doesn't work very well when you're recycling views however.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 543018, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Here's what I created to hold the images that my app is currently displaying. Please note that the \"Log\" object in use here is my custom wrapper around the final Log class inside Android.</p>\n\n<pre><code>package com.wilson.android.library;\n\n/*\n Licensed to the Apache Software Foundation (ASF) under one\nor more contributor license agreements.  See the NOTICE file\ndistributed with this work for additional information\nregarding copyright ownership.  The ASF licenses this file\nto you under the Apache License, Version 2.0 (the\n\"License\"); you may not use this file except in compliance\nwith the License.  You may obtain a copy of the License at\n\nhttp://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing,\nsoftware distributed under the License is distributed on an\n\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, either express or implied.  See the License for the\nspecific language governing permissions and limitations\nunder the License.\n*/\nimport java.io.IOException;\n\npublic class DrawableManager {\n    private final Map&lt;String, Drawable&gt; drawableMap;\n\n    public DrawableManager() {\n        drawableMap = new HashMap&lt;String, Drawable&gt;();\n    }\n\n    public Drawable fetchDrawable(String urlString) {\n        if (drawableMap.containsKey(urlString)) {\n            return drawableMap.get(urlString);\n        }\n\n        Log.d(this.getClass().getSimpleName(), \"image url:\" + urlString);\n        try {\n            InputStream is = fetch(urlString);\n            Drawable drawable = Drawable.createFromStream(is, \"src\");\n\n\n            if (drawable != null) {\n                drawableMap.put(urlString, drawable);\n                Log.d(this.getClass().getSimpleName(), \"got a thumbnail drawable: \" + drawable.getBounds() + \", \"\n                        + drawable.getIntrinsicHeight() + \",\" + drawable.getIntrinsicWidth() + \", \"\n                        + drawable.getMinimumHeight() + \",\" + drawable.getMinimumWidth());\n            } else {\n              Log.w(this.getClass().getSimpleName(), \"could not get thumbnail\");\n            }\n\n            return drawable;\n        } catch (MalformedURLException e) {\n            Log.e(this.getClass().getSimpleName(), \"fetchDrawable failed\", e);\n            return null;\n        } catch (IOException e) {\n            Log.e(this.getClass().getSimpleName(), \"fetchDrawable failed\", e);\n            return null;\n        }\n    }\n\n    public void fetchDrawableOnThread(final String urlString, final ImageView imageView) {\n        if (drawableMap.containsKey(urlString)) {\n            imageView.setImageDrawable(drawableMap.get(urlString));\n        }\n\n        final Handler handler = new Handler() {\n            @Override\n            public void handleMessage(Message message) {\n                imageView.setImageDrawable((Drawable) message.obj);\n            }\n        };\n\n        Thread thread = new Thread() {\n            @Override\n            public void run() {\n                //TODO : set imageView to a \"pending\" image\n                Drawable drawable = fetchDrawable(urlString);\n                Message message = handler.obtainMessage(1, drawable);\n                handler.sendMessage(message);\n            }\n        };\n        thread.start();\n    }\n\n    private InputStream fetch(String urlString) throws MalformedURLException, IOException {\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpGet request = new HttpGet(urlString);\n        HttpResponse response = httpClient.execute(request);\n        return response.getEntity().getContent();\n    }\n}\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 559781, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p><strong>Update: Note that this answer is pretty ineffective now. The Garbage Collector acts aggressively on SoftReference and WeakReference, so this code is NOT suitable for new apps.</strong>  (Instead, try libraries like <a href=\"https://github.com/nostra13/Android-Universal-Image-Loader\">Universal Image Loader</a> suggested in other answers.)</p>\n\n<p>Thanks to James for the code, and Bao-Long for the suggestion of using SoftReference. I implemented the SoftReference changes on James' code. Unfortunately SoftReferences caused my images to be garbage collected too quickly. In my case it was fine without the SoftReference stuff, because my list size is limited and my images are small.</p>\n\n<p>There's a discussion from a year ago regarding the SoftReferences on google groups: <a href=\"http://groups.google.com/group/android-developers/browse_thread/thread/ebabb0dadf38acc1\">link to thread</a>. As a solution to the too-early garbage collection, they suggest the possibility of manually setting the VM heap size using dalvik.system.VMRuntime.setMinimumHeapSize(), which is not very attractive to me.</p>\n\n<pre><code>public DrawableManager() {\n    drawableMap = new HashMap&lt;String, SoftReference&lt;Drawable&gt;&gt;();\n}\n\npublic Drawable fetchDrawable(String urlString) {\n    SoftReference&lt;Drawable&gt; drawableRef = drawableMap.get(urlString);\n    if (drawableRef != null) {\n        Drawable drawable = drawableRef.get();\n        if (drawable != null)\n            return drawable;\n        // Reference has expired so remove the key from drawableMap\n        drawableMap.remove(urlString);\n    }\n\n    if (Constants.LOGGING) Log.d(this.getClass().getSimpleName(), \"image url:\" + urlString);\n    try {\n        InputStream is = fetch(urlString);\n        Drawable drawable = Drawable.createFromStream(is, \"src\");\n        drawableRef = new SoftReference&lt;Drawable&gt;(drawable);\n        drawableMap.put(urlString, drawableRef);\n        if (Constants.LOGGING) Log.d(this.getClass().getSimpleName(), \"got a thumbnail drawable: \" + drawable.getBounds() + \", \"\n                + drawable.getIntrinsicHeight() + \",\" + drawable.getIntrinsicWidth() + \", \"\n                + drawable.getMinimumHeight() + \",\" + drawable.getMinimumWidth());\n        return drawableRef.get();\n    } catch (MalformedURLException e) {\n        if (Constants.LOGGING) Log.e(this.getClass().getSimpleName(), \"fetchDrawable failed\", e);\n        return null;\n    } catch (IOException e) {\n        if (Constants.LOGGING) Log.e(this.getClass().getSimpleName(), \"fetchDrawable failed\", e);\n        return null;\n    }\n}\n\npublic void fetchDrawableOnThread(final String urlString, final ImageView imageView) {\n    SoftReference&lt;Drawable&gt; drawableRef = drawableMap.get(urlString);\n    if (drawableRef != null) {\n        Drawable drawable = drawableRef.get();\n        if (drawable != null) {\n            imageView.setImageDrawable(drawableRef.get());\n            return;\n        }\n        // Reference has expired so remove the key from drawableMap\n        drawableMap.remove(urlString);\n    }\n\n    final Handler handler = new Handler() {\n        @Override\n        public void handleMessage(Message message) {\n            imageView.setImageDrawable((Drawable) message.obj);\n        }\n    };\n\n    Thread thread = new Thread() {\n        @Override\n        public void run() {\n            //TODO : set imageView to a \"pending\" image\n            Drawable drawable = fetchDrawable(urlString);\n            Message message = handler.obtainMessage(1, drawable);\n            handler.sendMessage(message);\n        }\n    };\n    thread.start();\n}\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 2773496, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I made <a href=\"https://github.com/thest1/LazyList\">a simple demo of a lazy list</a> (located at GitHub) with images. It may be helpful to somebody. It downloads images in the background thread. Images are being cached on an SD card and in memory. The cache implementation is very simple and is just enough for the demo. I decode images with inSampleSize to reduce memory consumption. I also try to handle recycled views correctly.</p>\n\n<p><img src=\"https://i.stack.imgur.com/1NvdB.png\" alt=\"Alt text\"></p>\n", "title": "Lazy load of images in ListView", "answer_id": 3068012, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p><a href=\"http://android-developers.blogspot.com/2010/07/multithreading-for-performance.html\">Multithreading For Performance</a>, a tutorial by Gilles Debunne.</p>\n\n<p>This is from the Android Developers Blog. The suggested code uses:</p>\n\n<ul>\n<li><code>AsyncTasks</code>.</li>\n<li>A hard, limited size, <code>FIFO cache</code>.</li>\n<li>A soft, easily <code>garbage collect</code>-ed cache.</li>\n<li>A <em>placeholder</em> <code>Drawable</code> while you download.</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/xdEVJ.png\" alt=\"enter image description here\"></p>\n", "title": "Lazy load of images in ListView", "answer_id": 3466952, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I've written a tutorial that explains how to do lazy-loading of images in a listview. I go into some detail about the issues of recycling and concurrency. I also use a fixed thread pool to prevent spawning a lot of threads.</p>\n\n<p><a href=\"http://negativeprobability.blogspot.com/2011/08/lazy-loading-of-images-in-listview.html\">Lazy loading of images in Listview Tutorial</a></p>\n", "title": "Lazy load of images in ListView", "answer_id": 7214688, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>High performance loader - after examining the methods suggested here,\nI used <a href=\"http://negativeprobability.blogspot.com/2011/08/lazy-loading-of-images-in-listview.html\">Ben's solution</a> with some changes - </p>\n\n<ol>\n<li><p>I realized that working with drawables is faster that with bitmaps so I uses drawables instead</p></li>\n<li><p>Using SoftReference is great, but it makes the cached image to be deleted too often, so I added a Linked list that holds images references, preventing from the image to be deleted, until it reached a predefined size</p></li>\n<li><p>To open the InputStream I used java.net.URLConnection which allows me to use web cache (you need to set a response cache first, but that's another story)</p></li>\n</ol>\n\n<p>My code:</p>\n\n<pre><code>import java.util.Map; \nimport java.util.HashMap; \nimport java.util.LinkedList; \nimport java.util.Collections; \nimport java.util.WeakHashMap; \nimport java.lang.ref.SoftReference; \nimport java.util.concurrent.Executors; \nimport java.util.concurrent.ExecutorService; \nimport android.graphics.drawable.Drawable;\nimport android.widget.ImageView;\nimport android.os.Handler;\nimport android.os.Message;\nimport java.io.InputStream;\nimport java.net.MalformedURLException; \nimport java.io.IOException; \nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class DrawableBackgroundDownloader {    \n\nprivate final Map&lt;String, SoftReference&lt;Drawable&gt;&gt; mCache = new HashMap&lt;String, SoftReference&lt;Drawable&gt;&gt;();   \nprivate final LinkedList &lt;Drawable&gt; mChacheController = new LinkedList &lt;Drawable&gt; ();\nprivate ExecutorService mThreadPool;  \nprivate final Map&lt;ImageView, String&gt; mImageViews = Collections.synchronizedMap(new WeakHashMap&lt;ImageView, String&gt;());  \n\npublic static int MAX_CACHE_SIZE = 80; \npublic int THREAD_POOL_SIZE = 3;\n\n/**\n * Constructor\n */\npublic DrawableBackgroundDownloader() {  \n    mThreadPool = Executors.newFixedThreadPool(THREAD_POOL_SIZE);  \n}  \n\n\n/**\n * Clears all instance data and stops running threads\n */\npublic void Reset() {\n    ExecutorService oldThreadPool = mThreadPool;\n    mThreadPool = Executors.newFixedThreadPool(THREAD_POOL_SIZE);\n    oldThreadPool.shutdownNow();\n\n    mChacheController.clear();\n    mCache.clear();\n    mImageViews.clear();\n}  \n\npublic void loadDrawable(final String url, final ImageView imageView,Drawable placeholder) {  \n    mImageViews.put(imageView, url);  \n    Drawable drawable = getDrawableFromCache(url);  \n\n    // check in UI thread, so no concurrency issues  \n    if (drawable != null) {  \n        //Log.d(null, \"Item loaded from mCache: \" + url);  \n        imageView.setImageDrawable(drawable);  \n    } else {  \n        imageView.setImageDrawable(placeholder);  \n        queueJob(url, imageView, placeholder);  \n    }  \n} \n\n\nprivate Drawable getDrawableFromCache(String url) {  \n    if (mCache.containsKey(url)) {  \n        return mCache.get(url).get();  \n    }  \n\n    return null;  \n}\n\nprivate synchronized void putDrawableInCache(String url,Drawable drawable) {  \n    int chacheControllerSize = mChacheController.size();\n    if (chacheControllerSize &gt; MAX_CACHE_SIZE) \n        mChacheController.subList(0, MAX_CACHE_SIZE/2).clear();\n\n    mChacheController.addLast(drawable);\n    mCache.put(url, new SoftReference&lt;Drawable&gt;(drawable));\n\n}  \n\nprivate void queueJob(final String url, final ImageView imageView,final Drawable placeholder) {  \n    /* Create handler in UI thread. */  \n    final Handler handler = new Handler() {  \n        @Override  \n        public void handleMessage(Message msg) {  \n            String tag = mImageViews.get(imageView);  \n            if (tag != null &amp;&amp; tag.equals(url)) {\n                if (imageView.isShown())\n                    if (msg.obj != null) {\n                        imageView.setImageDrawable((Drawable) msg.obj);  \n                    } else {  \n                        imageView.setImageDrawable(placeholder);  \n                        //Log.d(null, \"fail \" + url);  \n                    } \n            }  \n        }  \n    };  \n\n    mThreadPool.submit(new Runnable() {  \n        @Override  \n        public void run() {  \n            final Drawable bmp = downloadDrawable(url);\n            // if the view is not visible anymore, the image will be ready for next time in cache\n            if (imageView.isShown())\n            {\n                Message message = Message.obtain();  \n                message.obj = bmp;\n                //Log.d(null, \"Item downloaded: \" + url);  \n\n                handler.sendMessage(message);\n            }\n        }  \n    });  \n}  \n\n\n\nprivate Drawable downloadDrawable(String url) {  \n    try {  \n        InputStream is = getInputStream(url);\n\n        Drawable drawable = Drawable.createFromStream(is, url);\n        putDrawableInCache(url,drawable);  \n        return drawable;  \n\n    } catch (MalformedURLException e) {  \n        e.printStackTrace();  \n    } catch (IOException e) {  \n        e.printStackTrace();  \n    }  \n\n    return null;  \n}  \n\n\nprivate InputStream getInputStream(String urlString) throws MalformedURLException, IOException {\n    URL url = new URL(urlString);\n    URLConnection connection;\n    connection = url.openConnection();\n    connection.setUseCaches(true); \n    connection.connect();\n    InputStream response = connection.getInputStream();\n\n    return response;\n}\n}\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 7861011, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I just want to add one more good example, <em><a href=\"http://developer.android.com/resources/samples/XmlAdapters/index.html\">XML Adapters</a></em>. As it's is used by Google and I am also using the same logic to avoid an OutOfMemory error. </p>\n\n<p>Basically <a href=\"http://developer.android.com/resources/samples/XmlAdapters/src/com/example/android/xmladapters/ImageDownloader.html\">this ImageDownloader</a> is your answer (as it covers most of your requirements). Some you can also implement in that.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 8503340, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I recommend open source instrument <strong><a href=\"https://github.com/nostra13/Android-Universal-Image-Loader\">Universal Image Loader</a></strong>. It is originally based on Fedor Vlasov's project <strong>LazyList</strong> and has been vastly improved since then.</p>\n\n<ul>\n<li>Multithread image loading</li>\n<li>Possibility of wide tuning ImageLoader's configuration (thread executors, downlaoder, decoder, memory and disc cache, display image options, and others)</li>\n<li>Possibility of image caching in memory and/or on device's file sysytem (or SD card)</li>\n<li>Possibility to \"listen\" loading process</li>\n<li>Possibility to customize every display image call with separated options</li>\n<li>Widget support</li>\n<li>Android 2.0+ support</li>\n</ul>\n\n<p><a href=\"https://github.com/nostra13/Android-Universal-Image-Loader\"><img src=\"https://i.stack.imgur.com/QzOIL.png\" alt=\"\"></a></p>\n", "title": "Lazy load of images in ListView", "answer_id": 8562313, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Have a look at <a href=\"https://github.com/applidium/Shutterbug\">Shutterbug</a>, Applidium's lightweight SDWebImage (a nice library on iOS) port to Android.\nIt supports asynchronous caching, stores failed URLs, handles concurrency well, and helpful subclasses are included.</p>\n\n<p>Pull requests (and bug reports) are welcome, too!</p>\n", "title": "Lazy load of images in ListView", "answer_id": 12915019, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I think this issue is very popular among Android developers, and there are plenty of such libraries that claims to resolve this issue, but only a few of them seems to be on the mark. <a href=\"http://code.google.com/p/android-query/\">AQuery</a> is one such library, but it is better than most of them in all aspects and is worth trying for.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 13826316, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I have followed this Android Training and I think it does an excellent job at downloading images without blocking the main UI.  It also handles caching and dealing with scrolling through many images: <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\">Loading Large Bitmaps Efficiently</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/zqoX2.jpg\" width=\"350\" /></p>\n", "title": "Lazy load of images in ListView", "answer_id": 14062638, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Novoda also has a great <a href=\"http://androidimageloader.com/\">lazy image loading library</a> and many apps like Songkick, Podio, SecretDJ and ImageSearch use their library.</p>\n\n<p>Their library is hosted <a href=\"https://github.com/novoda/ImageLoader\">here</a> on Github and they have a pretty active <a href=\"https://github.com/novoda/ImageLoader/issues\">issues tracker</a> as well. Their project seems to be pretty active too, with over 300+ commits at the time of writing this reply.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 14292671, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Well, image loading time from the Internet has many solutions. You may also use the library <a href=\"https://code.google.com/p/android-query/wiki/ImageLoading\">Android-Query</a>. It will give you all the required activity. Make sure what you want to do and read the library wiki page. And solve the image loading restriction.</p>\n\n<p>This is my code:</p>\n\n<pre><code>@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View v = convertView;\n    if (v == null) {\n        LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        v = vi.inflate(R.layout.row, null);\n    }\n\n    ImageView imageview = (ImageView) v.findViewById(R.id.icon);\n    AQuery aq = new AQuery(convertView);\n\n    String imageUrl = \"http://www.vikispot.com/z/images/vikispot/android-w.png\";\n\n    aq.id(imageview).progress(this).image(imageUrl, true, true, 0, 0, new BitmapAjaxCallback() {\n        @Override\n        public void callback(String url, ImageView iv, Bitmap bm, AjaxStatus status) {\n            iv.setImageBitmap(bm);\n        }\n    ));\n\n    return v;\n}\n</code></pre>\n\n<p>It should be solve your lazy loading problem.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 14827292, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Check my fork of <a href=\"https://github.com/nicolasjafelle/LazyList\" rel=\"nofollow\">LazyList</a>. Basically, I improve the LazyList by delaying the call of the ImageView and create two methods:</p>\n\n<ol>\n<li>When you need to put something like \"Loading image...\"</li>\n<li>When you need to show the downloaded image.</li>\n</ol>\n\n<p>I also improved the ImageLoader by implementing a <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">singleton</a> in this object.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 14844000, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p><a href=\"http://droidparts.org\" rel=\"nofollow\">DroidParts</a> has <a href=\"https://github.com/yanchenko/droidparts/blob/master/droidparts/src/org/droidparts/net/image/ImageFetcher.java\" rel=\"nofollow\">ImageFetcher</a> that requires zero configuration to get started.</p>\n\n<ul>\n<li>Uses a disk &amp; in-memory <a href=\"https://en.wikipedia.org/wiki/Cache_algorithms#Examples\" rel=\"nofollow\">Least Recently Used</a> (LRU) cache.</li>\n<li>Efficiently decodes images.</li>\n<li>Supports modifying bitmaps in background thread.</li>\n<li>Has simple cross-fade.</li>\n<li>Has image loading progress callback.</li>\n</ul>\n\n<p>Clone <a href=\"https://github.com/yanchenko/droidparts/tree/master/droidparts-samples/DroidPartsGram\" rel=\"nofollow\">DroidPartsGram</a> for an example:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DegXF.png\" alt=\"Enter image description here\"></p>\n", "title": "Lazy load of images in ListView", "answer_id": 16396081, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I have been using NetworkImageView from the new Android Volley Library <code>com.android.volley.toolbox.NetworkImageView</code>, and it seems to be working pretty well. Apparently, this is the same view that is used in <a href=\"http://en.wikipedia.org/wiki/Google_Play\">Google Play</a> and other new Google applications. Definitely worth checking out.</p>\n\n<ul>\n<li><p><a href=\"http://blogs.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial\">Google I/O 2013 volley image cache tutorial</a></p></li>\n<li><p><a href=\"https://developers.google.com/events/io/sessions/325304728\">Developers Google events</a></p></li>\n</ul>\n", "title": "Lazy load of images in ListView", "answer_id": 17090817, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<pre><code>public class ImageDownloader {\n\nMap&lt;String, Bitmap&gt; imageCache;\n\npublic ImageDownloader() {\n    imageCache = new HashMap&lt;String, Bitmap&gt;();\n\n}\n\n// download function\npublic void download(String url, ImageView imageView) {\n    if (cancelPotentialDownload(url, imageView)) {\n\n        // Caching code right here\n        String filename = String.valueOf(url.hashCode());\n        File f = new File(getCacheDirectory(imageView.getContext()),\n                filename);\n\n        // Is the bitmap in our memory cache?\n        Bitmap bitmap = null;\n\n        bitmap = (Bitmap) imageCache.get(f.getPath());\n\n        if (bitmap == null) {\n\n            bitmap = BitmapFactory.decodeFile(f.getPath());\n\n            if (bitmap != null) {\n                imageCache.put(f.getPath(), bitmap);\n            }\n\n        }\n        // No? download it\n        if (bitmap == null) {\n            try {\n                BitmapDownloaderTask task = new BitmapDownloaderTask(\n                        imageView);\n                DownloadedDrawable downloadedDrawable = new DownloadedDrawable(\n                        task);\n                imageView.setImageDrawable(downloadedDrawable);\n                task.execute(url);\n            } catch (Exception e) {\n                Log.e(\"Error==&gt;\", e.toString());\n            }\n\n        } else {\n            // Yes? set the image\n            imageView.setImageBitmap(bitmap);\n        }\n    }\n}\n\n// cancel a download (internal only)\nprivate static boolean cancelPotentialDownload(String url,\n        ImageView imageView) {\n    BitmapDownloaderTask bitmapDownloaderTask = getBitmapDownloaderTask(imageView);\n\n    if (bitmapDownloaderTask != null) {\n        String bitmapUrl = bitmapDownloaderTask.url;\n        if ((bitmapUrl == null) || (!bitmapUrl.equals(url))) {\n            bitmapDownloaderTask.cancel(true);\n        } else {\n            // The same URL is already being downloaded.\n            return false;\n        }\n    }\n    return true;\n}\n\n// gets an existing download if one exists for the imageview\nprivate static BitmapDownloaderTask getBitmapDownloaderTask(\n        ImageView imageView) {\n    if (imageView != null) {\n        Drawable drawable = imageView.getDrawable();\n        if (drawable instanceof DownloadedDrawable) {\n            DownloadedDrawable downloadedDrawable = (DownloadedDrawable) drawable;\n            return downloadedDrawable.getBitmapDownloaderTask();\n        }\n    }\n    return null;\n}\n\n// our caching functions\n// Find the dir to save cached images\nprivate static File getCacheDirectory(Context context) {\n    String sdState = android.os.Environment.getExternalStorageState();\n    File cacheDir;\n\n    if (sdState.equals(android.os.Environment.MEDIA_MOUNTED)) {\n        File sdDir = android.os.Environment.getExternalStorageDirectory();\n\n        // TODO : Change your diretcory here\n        cacheDir = new File(sdDir, \"data/ToDo/images\");\n    } else\n        cacheDir = context.getCacheDir();\n\n    if (!cacheDir.exists())\n        cacheDir.mkdirs();\n    return cacheDir;\n}\n\nprivate void writeFile(Bitmap bmp, File f) {\n    FileOutputStream out = null;\n\n    try {\n        out = new FileOutputStream(f);\n        bmp.compress(Bitmap.CompressFormat.PNG, 80, out);\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (out != null)\n                out.close();\n        } catch (Exception ex) {\n        }\n    }\n}\n\n// download asynctask\npublic class BitmapDownloaderTask extends AsyncTask&lt;String, Void, Bitmap&gt; {\n    private String url;\n    private final WeakReference&lt;ImageView&gt; imageViewReference;\n\n    public BitmapDownloaderTask(ImageView imageView) {\n        imageViewReference = new WeakReference&lt;ImageView&gt;(imageView);\n    }\n\n    @Override\n    // Actual download method, run in the task thread\n    protected Bitmap doInBackground(String... params) {\n        // params comes from the execute() call: params[0] is the url.\n        url = (String) params[0];\n        return downloadBitmap(params[0]);\n    }\n\n    @Override\n    // Once the image is downloaded, associates it to the imageView\n    protected void onPostExecute(Bitmap bitmap) {\n        if (isCancelled()) {\n            bitmap = null;\n        }\n\n        if (imageViewReference != null) {\n            ImageView imageView = imageViewReference.get();\n            BitmapDownloaderTask bitmapDownloaderTask = getBitmapDownloaderTask(imageView);\n            // Change bitmap only if this process is still associated with\n            // it\n            if (this == bitmapDownloaderTask) {\n                imageView.setImageBitmap(bitmap);\n\n                // cache the image\n\n                String filename = String.valueOf(url.hashCode());\n                File f = new File(\n                        getCacheDirectory(imageView.getContext()), filename);\n\n                imageCache.put(f.getPath(), bitmap);\n\n                writeFile(bitmap, f);\n            }\n        }\n    }\n\n}\n\nstatic class DownloadedDrawable extends ColorDrawable {\n    private final WeakReference&lt;BitmapDownloaderTask&gt; bitmapDownloaderTaskReference;\n\n    public DownloadedDrawable(BitmapDownloaderTask bitmapDownloaderTask) {\n        super(Color.WHITE);\n        bitmapDownloaderTaskReference = new WeakReference&lt;BitmapDownloaderTask&gt;(\n                bitmapDownloaderTask);\n    }\n\n    public BitmapDownloaderTask getBitmapDownloaderTask() {\n        return bitmapDownloaderTaskReference.get();\n    }\n}\n\n// the actual download code\nstatic Bitmap downloadBitmap(String url) {\n    HttpParams params = new BasicHttpParams();\n    params.setParameter(CoreProtocolPNames.PROTOCOL_VERSION,\n            HttpVersion.HTTP_1_1);\n    HttpClient client = new DefaultHttpClient(params);\n    final HttpGet getRequest = new HttpGet(url);\n\n    try {\n        HttpResponse response = client.execute(getRequest);\n        final int statusCode = response.getStatusLine().getStatusCode();\n        if (statusCode != HttpStatus.SC_OK) {\n            Log.w(\"ImageDownloader\", \"Error \" + statusCode\n                    + \" while retrieving bitmap from \" + url);\n            return null;\n        }\n\n        final HttpEntity entity = response.getEntity();\n        if (entity != null) {\n            InputStream inputStream = null;\n            try {\n                inputStream = entity.getContent();\n                final Bitmap bitmap = BitmapFactory\n                        .decodeStream(inputStream);\n                return bitmap;\n            } finally {\n                if (inputStream != null) {\n                    inputStream.close();\n                }\n                entity.consumeContent();\n            }\n        }\n    } catch (Exception e) {\n        // Could provide a more explicit error message for IOException or\n        // IllegalStateException\n        getRequest.abort();\n        Log.w(\"ImageDownloader\", \"Error while retrieving bitmap from \"\n                + url + e.toString());\n    } finally {\n        if (client != null) {\n            // client.close();\n        }\n    }\n    return null;\n }\n}\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 17716992, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I had this issue and implemented lruCache. I believe you need API 12 and above or use the compatiblity v4 library. lurCache is fast memory, but it also has a budget, so if you're worried about that you can use a diskcache... It's all described in <em><a href=\"http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html\" rel=\"nofollow\">Caching Bitmaps</a></em>.</p>\n\n<p>I'll now provide my implementation which is a <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">singleton</a> I call from anywhere like this:</p>\n\n<pre><code>//Where the first is a string and the other is a imageview to load.\n\nDownloadImageTask.getInstance().loadBitmap(avatarURL, iv_avatar);\n</code></pre>\n\n<p>Here's the ideal code to cache and then call the above in getView of an adapter when retrieving the web image:</p>\n\n<pre><code>public class DownloadImageTask {\n\n    private LruCache&lt;String, Bitmap&gt; mMemoryCache;\n\n    /* Create a singleton class to call this from multiple classes */\n\n    private static DownloadImageTask instance = null;\n\n    public static DownloadImageTask getInstance() {\n        if (instance == null) {\n            instance = new DownloadImageTask();\n        }\n        return instance;\n    }\n\n    //Lock the constructor from public instances\n    private DownloadImageTask() {\n\n        // Get max available VM memory, exceeding this amount will throw an\n        // OutOfMemory exception. Stored in kilobytes as LruCache takes an\n        // int in its constructor.\n        final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n\n        // Use 1/8th of the available memory for this memory cache.\n        final int cacheSize = maxMemory / 8;\n\n        mMemoryCache = new LruCache&lt;String, Bitmap&gt;(cacheSize) {\n            @Override\n            protected int sizeOf(String key, Bitmap bitmap) {\n                // The cache size will be measured in kilobytes rather than\n                // number of items.\n                return bitmap.getByteCount() / 1024;\n            }\n        };\n    }\n\n    public void loadBitmap(String avatarURL, ImageView imageView) {\n        final String imageKey = String.valueOf(avatarURL);\n\n        final Bitmap bitmap = getBitmapFromMemCache(imageKey);\n        if (bitmap != null) {\n            imageView.setImageBitmap(bitmap);\n        } else {\n            imageView.setImageResource(R.drawable.ic_launcher);\n\n            new DownloadImageTaskViaWeb(imageView).execute(avatarURL);\n        }\n    }\n\n    private void addBitmapToMemoryCache(String key, Bitmap bitmap) {\n        if (getBitmapFromMemCache(key) == null) {\n            mMemoryCache.put(key, bitmap);\n        }\n    }\n\n    private Bitmap getBitmapFromMemCache(String key) {\n        return mMemoryCache.get(key);\n    }\n\n    /* A background process that opens a http stream and decodes a web image. */\n\n    class DownloadImageTaskViaWeb extends AsyncTask&lt;String, Void, Bitmap&gt; {\n        ImageView bmImage;\n\n        public DownloadImageTaskViaWeb(ImageView bmImage) {\n            this.bmImage = bmImage;\n        }\n\n        protected Bitmap doInBackground(String... urls) {\n\n            String urldisplay = urls[0];\n            Bitmap mIcon = null;\n            try {\n                InputStream in = new java.net.URL(urldisplay).openStream();\n                mIcon = BitmapFactory.decodeStream(in);\n\n            } \n            catch (Exception e) {\n                Log.e(\"Error\", e.getMessage());\n                e.printStackTrace();\n            }\n\n            addBitmapToMemoryCache(String.valueOf(urldisplay), mIcon);\n\n            return mIcon;\n        }\n\n        /* After decoding we update the view on the main UI. */\n        protected void onPostExecute(Bitmap result) {\n            bmImage.setImageBitmap(result);\n        }\n    }\n}\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 17775153, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I can recommend a different way that works like a charm: Android Query.</p>\n\n<p>You can download that <a href=\"http://en.wikipedia.org/wiki/JAR_%28file_format%29\" rel=\"nofollow\">JAR</a> file from <a href=\"http://code.google.com/p/android-query/downloads/list\" rel=\"nofollow\">here</a></p>\n\n<pre><code>AQuery androidAQuery = new AQuery(this);\n</code></pre>\n\n<p>As an example:</p>\n\n<pre><code>androidAQuery.id(YOUR IMAGEVIEW).image(YOUR IMAGE TO LOAD, true, true, getDeviceWidth(), ANY DEFAULT IMAGE YOU WANT TO SHOW);\n</code></pre>\n\n<p>It's very fast and accurate, and using this you can find many more features like animation when loading, getting a bitmap (if needed), etc.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 17917897, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I use <a href=\"http://bit.ly/droidQuery\" rel=\"nofollow\">droidQuery</a>. There are two mechanisms for loading an image from a URL. The first (shorthand) is simply:</p>\n\n<pre><code>$.with(myView).image(url);\n</code></pre>\n\n<p>This can be added into an <code>ArrayAdapter</code>'s <code>getView(...)</code> method very easily.</p>\n\n<hr>\n\n<p>The longhand method will give a lot more control, and has options not even discussed here (such as cacheing and callbacks), but a basic implementation that specifies the output size as 200px x 200px can be found here:</p>\n\n<pre><code>$.ajax(new AjaxOptions().url(url)\n    .type(\"GET\")\n    .dataType(\"image\")\n    .imageWidth(200).imageHeight(200)\n    .success(new Function() {\n        @Override\n        public void invoke($ droidQuery, Object... params) {\n            myImageView.setImageBitmap((Bitmap) params[0]);\n        }\n    })\n    .error(new Function() {\n        @Override\n        public void invoke($ droidQuery, Object... params) {\n            AjaxError e = (AjaxError) params[0];\n            Log.e(\"$\", \"Error \" + e.status + \": \" + e.error);\n        }\n    })\n);\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 18281334, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>You can try the <strong><em>Aquery</em> Android</strong> library for lazy loading image and listview... The below code may help you..... <a href=\"http://code.google.com/p/android-query/downloads/detail?name=android-query-full.0.25.10.jar\" rel=\"nofollow\">download library from here</a>.</p>\n\n<pre><code>AQuery aq = new AQuery(mContext);\naq.id(R.id.image1).image(\"http://data.whicdn.com/images/63995806/original.jpg\");\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 18592615, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>This is a common problem on Android that has been solved in many ways by many people.  In my opinion the best solution I've seen is the relatively new library called <a href=\"http://square.github.io/picasso/\">Picasso</a>.  Here are the highlights:</p>\n\n<ul>\n<li>Open source, but headed up by <code>Jake Wharton</code> of <a href=\"http://actionbarsherlock.com/\">ActionBarSherlock</a> fame.</li>\n<li>Asynchronously load images from network or app resources with one line of code</li>\n<li>Automatic <code>ListView</code> detection</li>\n<li>Automatic disk and memory caching</li>\n<li>Can do custom transformations</li>\n<li>Lots of configurable options</li>\n<li>Super simple API</li>\n<li>Frequently updated</li>\n</ul>\n", "title": "Lazy load of images in ListView", "answer_id": 19392742, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Give <a href=\"https://code.google.com/p/android-query/wiki/ImageLoading\" rel=\"nofollow\">Aquery</a> a try. It has amazingly simple methods to load and cache images asynchronously.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 20611648, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p><a href=\"https://github.com/koush/UrlImageViewHelper\" rel=\"nofollow\">URLImageViewHelper</a> is an amazing library that helps you to do that. </p>\n", "title": "Lazy load of images in ListView", "answer_id": 21373668, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p><strong>Picasso</strong> </p>\n\n<p>Use Jake Wharton's  Picasso Library. \n(A Perfect ImageLoading Library form the developer of ActionBarSherlock)</p>\n\n<p>A powerful image downloading and caching library for Android.</p>\n\n<p>Images add much-needed context and visual flair to Android applications. Picasso allows for hassle-free image loading in your application\u2014often in one line of code!</p>\n\n<pre><code>Picasso.with(context).load(\"http://i.imgur.com/DvpvklR.png\").into(imageView);\n</code></pre>\n\n<p>Many common pitfalls of image loading on Android are handled automatically by Picasso:</p>\n\n<p>Handling ImageView recycling and download cancellation in an adapter.\nComplex image transformations with minimal memory use.\nAutomatic memory and disk caching.</p>\n\n<p><a href=\"http://square.github.io/picasso/\">Picasso Jake Wharton's Library</a></p>\n\n<p><strong>Glide</strong></p>\n\n<p>Glide is a fast and efficient open source media management framework for Android that wraps media decoding, memory and disk caching, and resource pooling into a simple and easy to use interface.</p>\n\n<p>Glide supports fetching, decoding, and displaying video stills, images, and animated GIFs. Glide includes a flexible api that allows developers to plug in to almost any network stack. By default Glide uses a custom HttpUrlConnection based stack, but also includes utility libraries plug in to Google's Volley project or Square's OkHttp library instead.</p>\n\n<pre><code>Glide.with(this).load(\"http://goo.gl/h8qOq7\").into(imageView);\n</code></pre>\n\n<p>Glide's primary focus is on making scrolling any kind of a list of images as smooth and fast as possible, but Glide is also effective for almost any case where you need to fetch, resize, and display a remote image.</p>\n\n<p><a href=\"https://github.com/bumptech/glide\">Glide Image Loading Library</a></p>\n\n<p><strong>Fresco by Facebook</strong> </p>\n\n<p>Fresco is a powerful system for displaying images in Android applications.</p>\n\n<p>Fresco takes care of image loading and display, so you don't have to. It will load images from the network, local storage, or local resources, and display a placeholder until the image has arrived. It has two levels of cache; one in memory and another in internal storage.</p>\n\n<p><a href=\"https://github.com/facebook/fresco\">Fresco Github</a></p>\n\n<p>In Android 4.x and lower, Fresco puts images in a special region of Android memory. This lets your application run faster - and suffer the dreaded OutOfMemoryError much less often.</p>\n\n<p><a href=\"http://frescolib.org/docs/index.html#_\">Fresco Documentation</a></p>\n", "title": "Lazy load of images in ListView", "answer_id": 22862991, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p><a href=\"http://square.github.io/picasso/\"><strong>Picasso</strong></a> allows for hassle-free image loading in your application\u2014often in one line of code!</p>\n\n<pre><code>Picasso.with(context).load(\"http://i.imgur.com/DvpvklR.png\").into(imageView);\n</code></pre>\n\n<p>Many common pitfalls of image loading on Android are handled automatically by <a href=\"http://square.github.io/picasso/\"><strong>Picasso</strong></a>:</p>\n\n<ul>\n<li><em>Handling ImageView recycling and download cancelation in an adapter.</em></li>\n<li><em>Complex image transformations with minimal memory use.</em></li>\n<li><em>Automatic memory and disk caching.</em></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/ILaaN.png\" alt=\"enter image description here\"></p>\n", "title": "Lazy load of images in ListView", "answer_id": 23798872, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Some answers have already mentioned using various image libraries like Universal Image Loader and androidimageloader etc. This is an old quesion but for anyone still looking for something like this, there are <a href=\"http://www.appance.com/category/android/?tag=image-caching\" rel=\"nofollow\">several such libraries</a> for image loading/caching.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 24104597, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Another way to do it, is through your adapter in a thread in your getView() method :</p>\n\n<pre><code>Thread pics_thread = new Thread(new Runnable() {\n    @Override\n    public void run() {\n        Bitmap bitmap = getPicture(url);\n        if(bitmap != null) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    holder.imageview.setImageBitmap(bitmap);            \n                    adapter.notifyDataSetChanged();\n                }                       \n            });             \n        }       \n    }                       \n});\n\npics_thread.start();\n</code></pre>\n\n<p>of course, you should always cache your images to avoid extra operations, you could put your images in a HashMap array, check if the image exists in the array, if not, proceed with the thread or else load the image from you HashMap array. Also always check that you are not leaking memory, bitmaps and drawables are often heavy on memory. It is up to you to optimize your code.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 24339989, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Just a quick tip for someone who is in indecision regarding what library to use for lazy-loading images:</p>\n\n<p>There are four basic ways.</p>\n\n<ol>\n<li><p>DIY => Not the best solution but for a few images and if you want to go without the hassle of using others libraries</p></li>\n<li><p>Volley's Lazy Loading library => From guys at android. It is nice and everything but is poorly documented and hence is a problem to use.</p></li>\n<li><p>Picasso: A simple solution that just works, you can even specify the exact image size you want to bring in. It is very simple to use but might not be very \"performant\" for apps that has to deal with humongous amounts of images.</p></li>\n<li><p>UIL: The best way to lazy load images. You can cache images(you need permission of course), initialize the loader once, then have your work done. The most mature asynchronous image loading library I have ever seen so far.</p></li>\n</ol>\n", "title": "Lazy load of images in ListView", "answer_id": 25104563, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>You must try this Universal Loader is best.\nI am using this after done many RnD on lazy loading .</p>\n\n<p><a href=\"https://github.com/nostra13/Android-Universal-Image-Loader\">Universal Image Loader</a></p>\n\n<p><strong>Features</strong></p>\n\n<ul>\n<li>Multithread image loading (async or sync)</li>\n<li>Wide customization of ImageLoader's configuration (thread executors, downloader, decoder, memory and disk cache, display image options, etc.)</li>\n<li>Many customization options for every display image call (stub images, caching switch, decoding options, Bitmap processing and displaying, etc.)</li>\n<li>Image caching in memory and/or on disk (device's file system or SD card)</li>\n<li>Listening loading process (including downloading progress)</li>\n</ul>\n\n<p>Android 2.0+ support</p>\n\n<p><img src=\"http://i.stack.imgur.com/iFKcR.png\" alt=\"enter image description here\"></p>\n", "title": "Lazy load of images in ListView", "answer_id": 28344352, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>All above code have their own worth but with my personal experience just give a try with Picasso.</p>\n\n<p><strong>Picasso</strong>  is a library specifically for this purpose, in-fact it will manage cache and all other network operations automatically.You will have to add library in your project and just write a single line of code to load image from remote URL.</p>\n\n<p>Please visit here : <a href=\"http://code.tutsplus.com/tutorials/android-sdk-working-with-picasso--cms-22149\" rel=\"nofollow\">http://code.tutsplus.com/tutorials/android-sdk-working-with-picasso--cms-22149</a> </p>\n", "title": "Lazy load of images in ListView", "answer_id": 31322938, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>I found the <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow\">Glide</a> as better option than Picasso.\nI was using picasso to load around 32 two images of size around 200-500KB each and I was always getting OOM. But the Glide solved my all OOM issues.</p>\n", "title": "Lazy load of images in ListView", "answer_id": 34059465, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>use below class to download and load images in listview.It caches every images once download. Also loads images ad lazy loading.</p>\n\n<pre><code>package com.fudiyoxpress.images;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.WeakHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.Handler;\nimport android.widget.ImageView;\n\nimport com.fudiyoxpress.R;\nimport com.fudiyoxpress.config.Config;\nimport com.fudiyoxpress.twitter.ScaleBitmap;\n\npublic class ImageLoader {\n\n    // Initialize MemoryCache\n    MemoryCache memoryCache = new MemoryCache();\n\n    FileCache fileCache;\n\n    Context C;\n\n    // Create Map (collection) to store image and image url in key value pair\n    private Map&lt;ImageView, String&gt; imageViews = Collections\n            .synchronizedMap(new WeakHashMap&lt;ImageView, String&gt;());\n    ExecutorService executorService;\n\n    // handler to display images in UI thread\n    Handler handler = new Handler();\n\n    public ImageLoader(Context context) {\n\n        C = context;\n        fileCache = new FileCache(context);\n\n        // Creates a thread pool that reuses a fixed number of\n        // threads operating off a shared unbounded queue.\n        executorService = Executors.newFixedThreadPool(5);\n\n    }\n\n    // default image show in list (Before online image download)\n    final int stub_id = R.drawable.restlogoplaceholder;\n\n    public void DisplayImage(String url, ImageView imageView, Context context,\n            boolean header_flag) {\n\n        Bitmap largeIcon = BitmapFactory.decodeResource(context.getResources(),\n                R.drawable.restlogoplaceholder);\n        header_flag = false;\n        // Store image and url in Map\n        imageViews.put(imageView, url);\n\n        // Check image is stored in MemoryCache Map or not (see\n        // MemoryCache.java)\n        Bitmap bitmap = memoryCache.get(url);\n\n        if (bitmap != null) {\n            // if image is stored in MemoryCache Map then\n            // Show image in listview row\n            Bitmap b = ScaleBitmap\n                    .getScaledBitmap(context, bitmap, header_flag);\n            imageView.setImageBitmap(b);\n\n        } else {\n            // queue Photo to download from url\n            queuePhoto(url, imageView, header_flag);\n\n            // Before downloading image show default image\n            imageView.setImageBitmap(ScaleBitmap.getScaledBitmap(context,\n                    largeIcon, header_flag));\n\n        }\n    }\n\n\n\n    private void queuePhoto(String url, ImageView imageView, boolean header_flag) {\n        // Store image and url in PhotoToLoad object\n        PhotoToLoad p = new PhotoToLoad(url, imageView, header_flag);\n\n        // pass PhotoToLoad object to PhotosLoader runnable class\n        // and submit PhotosLoader runnable to executers to run runnable\n        // Submits a PhotosLoader runnable task for execution\n\n        executorService.submit(new PhotosLoader(p));\n    }\n\n    // Task for the queue\n    private class PhotoToLoad {\n        public String url;\n        public ImageView imageView;\n        public boolean b;\n\n        public PhotoToLoad(String u, ImageView i, boolean header_flag) {\n            url = u;\n            imageView = i;\n            b = header_flag;\n        }\n    }\n\n    class PhotosLoader implements Runnable {\n        PhotoToLoad photoToLoad;\n\n        PhotosLoader(PhotoToLoad photoToLoad) {\n            this.photoToLoad = photoToLoad;\n        }\n\n        @Override\n        public void run() {\n            try {\n                // Check if image already downloaded\n                if (imageViewReused(photoToLoad))\n                    return;\n                // download image from web url\n                Bitmap bmp = getBitmap(photoToLoad.url);\n\n                // set image data in Memory Cache\n                memoryCache.put(photoToLoad.url, bmp);\n\n                if (imageViewReused(photoToLoad))\n                    return;\n\n                // Get bitmap to display\n                BitmapDisplayer bd = new BitmapDisplayer(bmp, photoToLoad);\n\n                // Causes the Runnable bd (BitmapDisplayer) to be added to the\n                // message queue.\n                // The runnable will be run on the thread to which this handler\n                // is attached.\n                // BitmapDisplayer run method will call\n                handler.post(bd);\n\n            } catch (Throwable th) {\n                // th.printStackTrace();\n            }\n        }\n    }\n\n    private Bitmap getBitmap(String url) {\n        File f = fileCache.getFile(url);\n\n        // from SD cache\n        // CHECK : if trying to decode file which not exist in cache return null\n        Bitmap b = decodeFile(f);\n        if (b != null)\n            return b;\n\n        // Download image file from web\n        try {\n\n            // // download the image\n            Bitmap bitmap = null;\n\n            URL imageURL = null;\n            try {\n\n                imageURL = new URL(Config.WEB_URL + \"/ServeBlob?id=\" + url);\n\n                HttpURLConnection connection = (HttpURLConnection) imageURL\n                        .openConnection();\n                connection.setDoInput(true);\n                connection.connect();\n                // if(!(new File(imageURL.toString())).exists())\n                // {\n                // imageURL=new URL(\"\");\n                // }\n                InputStream inputStream = connection.getInputStream();\n\n                // Constructs a new FileOutputStream that writes to\n                // file\n                // if file not exist then it will create file\n                OutputStream os = new FileOutputStream(f);\n\n                // See Utils class CopyStream method\n                // It will each pixel from input stream and\n                // write pixels to output stream (file)\n                Utils.CopyStream(inputStream, os);\n\n                os.close();\n\n                BitmapFactory.Options options = new BitmapFactory.Options();\n                options.inSampleSize = 8;\n\n                bitmap = BitmapFactory.decodeStream(inputStream, null, options);\n\n            } catch (IOException e) {\n\n                // e.printStackTrace();\n            }\n\n            // Now file created and going to resize file with defined height\n            // Decodes image and scales it to reduce memory consumption\n            bitmap = decodeFile(f);\n\n            return bitmap;\n\n        } catch (Throwable ex) {\n            ex.printStackTrace();\n            if (ex instanceof OutOfMemoryError)\n                memoryCache.clear();\n            return null;\n        }\n    }\n\n    // Decodes image and scales it to reduce memory consumption\n    private Bitmap decodeFile(File f) {\n\n        try {\n\n            // Decode image size\n            BitmapFactory.Options o = new BitmapFactory.Options();\n            o.inJustDecodeBounds = true;\n            FileInputStream stream1 = new FileInputStream(f);\n            BitmapFactory.decodeStream(stream1, null, o);\n            stream1.close();\n\n            // Find the correct scale value. It should be the power of 2.\n\n            // Set width/height of recreated image\n            final int REQUIRED_SIZE = 85;\n\n            int width_tmp = o.outWidth, height_tmp = o.outHeight;\n            int scale = 1;\n            while (true) {\n                if (width_tmp / 2 &lt; REQUIRED_SIZE\n                        || height_tmp / 2 &lt; REQUIRED_SIZE)\n                    break;\n                width_tmp /= 2;\n                height_tmp /= 2;\n                scale *= 2;\n            }\n\n            // decode with current scale values\n            BitmapFactory.Options o2 = new BitmapFactory.Options();\n            o2.inSampleSize = scale;\n            FileInputStream stream2 = new FileInputStream(f);\n            Bitmap bitmap = BitmapFactory.decodeStream(stream2, null, o2);\n            stream2.close();\n            return bitmap;\n\n        } catch (FileNotFoundException e) {\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    boolean imageViewReused(PhotoToLoad photoToLoad) {\n\n        String tag = imageViews.get(photoToLoad.imageView);\n        // Check url is already exist in imageViews MAP\n        if (tag == null || !tag.equals(photoToLoad.url))\n            return true;\n        return false;\n    }\n\n    // Used to display bitmap in the UI thread\n    class BitmapDisplayer implements Runnable {\n        Bitmap bitmap;\n        PhotoToLoad photoToLoad;\n\n        public BitmapDisplayer(Bitmap b, PhotoToLoad p) {\n            bitmap = b;\n            photoToLoad = p;\n        }\n\n        public void run() {\n            if (imageViewReused(photoToLoad))\n                return;\n\n            // Show bitmap on UI\n            if (bitmap != null) {\n                photoToLoad.imageView.setImageBitmap(ScaleBitmap\n                        .getScaledBitmap(C, bitmap, photoToLoad.b));\n            } else {\n\n            }\n            // photoToLoad.imageView.setImageResource(stub_id);\n\n        }\n    }\n\n    public void clearCache() {\n        // Clear cache directory downloaded images and stored data in maps\n        memoryCache.clear();\n        fileCache.clear();\n    }\n\n}\n\n\n\n\npackage com.fudiyoxpress.images;\n\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport android.graphics.Bitmap;\nimport android.util.Log;\n\npublic class MemoryCache {\n\n    private static final String TAG = \"MemoryCache\";\n\n    //Last argument true for LRU ordering\n    private Map&lt;String, Bitmap&gt; cache = Collections.synchronizedMap(\n            new LinkedHashMap&lt;String, Bitmap&gt;(10,1.5f,true));\n\n   //current allocated size\n    private long size=0; \n\n    //max memory cache folder used to download images in bytes\n    private long limit = 1000000; \n\n    public MemoryCache(){\n\n        //use 25% of available heap size\n        setLimit(Runtime.getRuntime().maxMemory()/4);\n    }\n\n    public void setLimit(long new_limit){\n\n        limit=new_limit;\n        Log.i(TAG, \"MemoryCache will use up to \"+limit/1024./1024.+\"MB\");\n    }\n\n    public Bitmap get(String id){\n        try{\n            if(!cache.containsKey(id))\n                return null;\n            //NullPointerException sometimes happen here http://code.google.com/p/osmdroid/issues/detail?id=78 \n            return cache.get(id);\n        }catch(NullPointerException ex){\n            ex.printStackTrace();\n            return null;\n        }\n    }\n\n    public void put(String id, Bitmap bitmap){\n        try{\n            if(cache.containsKey(id))\n                size-=getSizeInBytes(cache.get(id));\n            cache.put(id, bitmap);\n            size+=getSizeInBytes(bitmap);\n            checkSize();\n        }catch(Throwable th){\n            th.printStackTrace();\n        }\n    }\n\n    private void checkSize() {\n        Log.i(TAG, \"cache size=\"+size+\" length=\"+cache.size());\n        if(size&gt;limit){\n            Iterator&lt;Entry&lt;String, Bitmap&gt;&gt; iter=cache.entrySet().iterator();//least recently accessed item will be the first one iterated  \n            while(iter.hasNext()){\n                Entry&lt;String, Bitmap&gt; entry=iter.next();\n                size-=getSizeInBytes(entry.getValue());\n                iter.remove();\n                if(size&lt;=limit)\n                    break;\n            }\n            Log.i(TAG, \"Clean cache. New size \"+cache.size());\n        }\n    }\n\n    public void clear() {\n        try{\n            //NullPointerException sometimes happen here http://code.google.com/p/osmdroid/issues/detail?id=78 \n            cache.clear();\n            size=0;\n        }catch(NullPointerException ex){\n            ex.printStackTrace();\n        }\n    }\n\n    long getSizeInBytes(Bitmap bitmap) {\n        if(bitmap==null)\n            return 0;\n        return bitmap.getRowBytes() * bitmap.getHeight();\n    }\n}\n\n\n\n\npackage com.fudiyoxpress.images;\n\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class Utils {\n    public static void CopyStream(InputStream is, OutputStream os)\n    {\n        final int buffer_size=1024;\n        try\n        {\n\n            byte[] bytes=new byte[buffer_size];\n            for(;;)\n            {\n              //Read byte from input stream\n\n              int count=is.read(bytes, 0, buffer_size);\n              if(count==-1)\n                  break;\n\n              //Write byte from output stream\n              os.write(bytes, 0, count);\n            }\n        }\n        catch(Exception ex){}\n    }\n}\n</code></pre>\n", "title": "Lazy load of images in ListView", "answer_id": 34061650, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>You can use some third party library such as Picaso or Volley For effective lazy loading. You can also create your own by implementing the below</p>\n\n<ol>\n<li><p>Implement Code For downloading the image from the url</p></li>\n<li><p>Implement Caching mechanism for storing and retrieving image(Use LruCache of android for cacheing) </p></li>\n</ol>\n", "title": "Lazy load of images in ListView", "answer_id": 34873683, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}, {"body": "<p>Except load the data cache asynchronously, you may require the UI cache</p>\n\n<p>Except the the loading visible item data, you may require to load the approximity-visible item data</p>\n\n<p>Example:\nSuppose the listview visible item is [6,7,8,9,10], you may require to load [6,7,8,9,10] AND pre-load the item [1, 2, 3, 4, 5] &amp; [11, 12, 13, 14, 15], because user probably scroll to the pre-page or post-page    </p>\n", "title": "Lazy load of images in ListView", "answer_id": 37816686, "question_id": 541966, "tags": ["android", "image", "url", "android-listview", "universal-image-loader"]}], "question_id": 541966}, {"body": "<p>In <a href=\"http://stackoverflow.com/questions/571945/getting-a-stack-overflow-exception-when-declaring-a-large-array\">this question</a>, someone suggested in a comment that I should <strong><em>not</em></strong> cast the results of <code>malloc</code>, <em>i.e</em>:</p>\n\n<pre><code>int *sieve = malloc(sizeof(int)*length);\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>int *sieve = (int *)malloc(sizeof(int)*length);\n</code></pre>\n\n<p>Why would this be the case?</p>\n", "title": "Do I cast the result of malloc?", "tags": ["c", "malloc", "casting"], "answer_count": 24, "link": "http://stackoverflow.com/questions/605845/do-i-cast-the-result-of-malloc", "answers": [{"body": "<p>In C you get an implicit conversion from <code>void*</code> to any other (data) pointer.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 605854, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>In C, you don't need to cast the return value of <code>malloc</code>. The pointer to void returned by <code>malloc</code> is automagically converted to the correct type. However, if you want your code to compile with a C++ compiler, a cast is needed. A preferred alternative among the community is to use the following:</p>\n\n<pre><code>int *sieve = malloc(sizeof *sieve * length);\n</code></pre>\n\n<p>which additionally frees you from having to worry about changing the right-hand side of the expression if ever you change the type of <code>sieve</code>.</p>\n\n<p>Casts are bad, as people have pointed out. Specially pointer casts. </p>\n", "title": "Do I cast the result of malloc?", "answer_id": 605856, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p><strong>No</strong>; you <em>don't</em> cast the result, since:</p>\n\n<ul>\n<li>It is unnecessary, as <code>void *</code> is automatically and safely promoted to any other pointer type in this case.</li>\n<li>It can hide an error, if you forgot to include <code>&lt;stdlib.h&gt;</code>. This can cause crashes (or, worse, <em>not</em> cause a crash until way later in some totally different part of the code). Consider what happens if pointers and integers are differently sized; then you're hiding a warning by casting and might lose bits of your returned address.</li>\n<li>It adds clutter to the code, casts are not very easy to read (especially if the pointer type is long).</li>\n<li>It makes you repeat yourself, which is generally bad.</li>\n</ul>\n\n<p>As a clarification, note that I said \"you don't cast\", not \"you don't <em>need</em> to cast\". In my opinion, it's a failure to include the cast, even if you got it right. There are simply no benefits to doing it, but a bunch of potential risks, and including the cast indicates that you don't know about the risks.</p>\n\n<p>Also note, as commentators point out, that the above talks about straight C, not C++. I very firmly believe in C and C++ as separate languages.</p>\n\n<p>To add further, your code needlessly repeats the type information (<code>int</code>) which can cause errors. It's better to dereference the pointer being used to store the return value, to \"lock\" the two together:</p>\n\n<pre><code>int *sieve = malloc(length * sizeof *sieve);\n</code></pre>\n\n<p>This also moves the <code>length</code> to the front for increased visibility, and drops the redundant parentheses with <code>sizeof</code>; they <em>are only needed</em> when the argument is a type name. Many people seem to not know (or ignore) this, which makes their code more verbose. Remember: <code>sizeof</code> is not a function! :) </p>\n", "title": "Do I cast the result of malloc?", "answer_id": 605858, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>In C you can implicitly convert a void pointer to any other kind of pointer, so a cast is not necessary. Using one may suggest to the casual observer that there is some reason why one is needed, which may be misleading.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 605862, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>As other stated, it is not needed for C, but for C++. If you think you are going to compile your C code with a C++ compiler, for which reasons ever, you can use a macro instead, like:</p>\n\n<pre><code>#ifdef __cplusplus\n# define NEW(type, count) ((type *)calloc(count, sizeof(type)))\n#else\n# define NEW(type, count) (calloc(count, sizeof(type)))\n#endif\n</code></pre>\n\n<p>That way you can still write it in a very compact way:</p>\n\n<pre><code>int *sieve = NEW(int, 1);\n</code></pre>\n\n<p>and it will compile for C and C++.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 605994, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>It is not mandatory to cast the results of <code>malloc</code>, since it returns <code>void*</code> , and a <code>void*</code> can be pointed to any datatype. </p>\n", "title": "Do I cast the result of malloc?", "answer_id": 14762179, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>You <strong>do</strong> cast, because:</p>\n\n<ul>\n<li>It makes your code <strong>more portable</strong> between C and C++, and as SO experience shows, a great many programmers claim they are writing in C when they are really writing in C++ (or C plus local compiler extensions).</li>\n<li>Failing to do so <strong>can hide an error</strong>: note all the SO examples of confusing when to write <code>type *</code> versus <code>type **</code>.</li>\n<li>The idea that it keeps you from noticing you failed to <code>#include</code> an appropriate header file is rather <strong>stupendously stupid</strong>. It's the same as saying \"don't worry about the fact you failed to ask the compiler to complain about not seeing prototypes -- that pesky stdlib.h is the REAL important thing to remember!\"</li>\n<li>It forces an <strong>extra cognitive cross-check</strong>. It puts the (alleged) desired type right next to the arithmetic you're doing for the raw size of that variable. I bet you could do an SO study that shows that <code>malloc()</code> bugs are caught much faster when there's a cast. As with assertions, annotations that reveal intent decrease bugs. </li>\n<li>Repeating yourself in a way that the machine can check is often a <strong>great</strong> idea. In fact, that's what an assertion is, and this use of cast is an assertion. Assertions are still the most general technique we have for getting code correct, since Turing came up with the idea so many years ago.</li>\n</ul>\n", "title": "Do I cast the result of malloc?", "answer_id": 14879184, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>The returned type is void*, which can be cast to the desired type of data pointer in order to be dereferenceable.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 16241328, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>Casting the value returned by <code>malloc()</code> is not necessary now, but I'd like to add one point that seems no one has pointed out:</p>\n\n<p>In the ancient days, that is, before <strong>ANSI C</strong> provides the <code>void *</code> as the generic type of pointers, <code>char *</code> is the type for such usage. In that case, the cast can shut down the compiler warnings.</p>\n\n<p>Reference: <a href=\"http://c-faq.com/malloc/cast.html\">C FAQ</a></p>\n", "title": "Do I cast the result of malloc?", "answer_id": 17012303, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>Please do yourself a favor and more importantly a favor for the next person who will maintain your code, and provide as much information as possible about the data type of a program's variables.</p>\n\n<p>Thus, <code>cast</code> the returned pointer from <code>malloc</code>.  In the following code the compiler can be assured that sieve is in fact being assigned a point to an integer(s).</p>\n\n<pre><code>    int *sieve = (int *) malloc(sizeof(int) * length);\n</code></pre>\n\n<p>This reduces the chance for a human error when/if the data type for sieve is changed.</p>\n\n<p>I would be interested in knowing if there are any \"pure\" C compilers that would flag this statement as being in error.  If so, let me know, so that I can avoid them as their lack of type checking will increase the overall expense of maintaining software.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 18036707, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>It depends on the programming language and compiler. If you use <code>malloc</code> in C there is no need to type cast it, as it will automatically type cast, However if your using C++ then you should type cast because <code>malloc</code> will return a <code>void*</code> type.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 22455329, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>You don't cast the result of malloc, because doing so adds pointless clutter to your code. </p>\n\n<p>The most common reason why people cast the result of malloc is because they are unsure about how the C language works. That's a warning sign: if you don't know how a particular language mechanism works, then <em>don't</em> take a guess. Look it up or ask on Stack Overflow.</p>\n\n<p>Some comments:</p>\n\n<ul>\n<li><p>A void pointer can be converted to/from any other pointer type without an explicit cast (C11 6.3.2.3).</p></li>\n<li><p>C++ will however not allow an implicit cast between <code>void*</code> and another pointer type. So in C++, the cast would have been correct. But if you program in C++, you should use <code>new</code> and not malloc(). And you should never compile C code using a C++ compiler.</p>\n\n<p>If you need to support both C and C++ with the same source code, use compiler switches to mark the differences. Do not attempt to sate both language standards with the same code, because they are not compatible. </p></li>\n<li><p>If a C compiler cannot find a function because you forgot to include the header, you will get a compiler/linker error about that. So if you forgot to include <code>&lt;stdlib.h&gt;</code> that's no biggie, you won't be able to build your program. </p></li>\n<li><p>On ancient compilers that follow a version of the standard which is more than 25 years old, forgetting to include <code>&lt;stdlib.h&gt;</code> would result in dangerous behavior. Because in that ancient standard, functions without a visible prototype implicitly converted the return type to <code>int</code>. Casting the result from malloc explicitly would then hide away this bug.</p>\n\n<p>But that is really a non-issue. You aren't using a 25 years old computer, so why would you use a 25 years old compiler?</p></li>\n</ul>\n", "title": "Do I cast the result of malloc?", "answer_id": 22538350, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>Just adding my experience, studying computer engineering I see that the two or three professors that I have seen writing in C always cast malloc, however the one I asked (with an immense CV and understanding of C) told me that it is absolutely unnecessary but only used to be absolutely specific, and to get the students into the mentality of being absolutely specific. Essentially casting will not change anything in how it works, it does exactly what it says, allocates memory, and casting does not effect it, you get the same memory, and even if you cast it to something else by mistake (and somehow evade compiler errors) C will access it the same way.</p>\n\n<p><strong>Edit:</strong> Casting has a certain point. When you use array notation, the code generated has to know how many memory places it has to advance to reach the beginning of the next element, this is achieved through casting. This way you know that for a double you go 8 bytes ahead while for an int you go 4, and so on. Thus it has no effect if you use pointer notation, in array notation it becomes necessary.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 22720432, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>A void pointer is a generic pointer and C supports implicit conversion from a void pointer type to other types, so there is no need of explicitly typecasting it.</p>\n\n<p>However, if you want the same code work perfectly compatible on a C++ platform, which does not support implicit conversion, you need to do the typecasting, so it all depends on usability.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 24720210, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>The best thing to do when programming in C whenever it is possible:</p>\n\n<ol>\n<li>Make your program compile through a C compiler with all warnings turned on <code>-Wall</code> and fix all errors and warnings</li>\n<li>Make sure there are no variables declared as <code>auto</code></li>\n<li>Then compile it using a C++ compiler with <code>-Wall</code> and <code>-std=c++11</code>. Fix all errors and warnings.</li>\n<li>Now compile using the C compiler again. Your program should now compile without any warning and contain fewer bugs.</li>\n</ol>\n\n<p>This procedure lets you take advantage of C++ strict type checking, thus reducing the number of bugs. In particular, this procedure forces you to include <code>stdlib.h</code>or you will get</p>\n\n<blockquote>\n  <p><code>malloc</code> was not declared within this scope</p>\n</blockquote>\n\n<p>and also forces you to cast the result of <code>malloc</code> or you will get</p>\n\n<blockquote>\n  <p>invalid conversion from <code>void*</code> to <code>T*</code></p>\n</blockquote>\n\n<p>or what ever your target type is.</p>\n\n<p>The only benefits from writing in C instead of C++ I can find are</p>\n\n<ol>\n<li>C has a well specified ABI</li>\n<li>C++ may generate more code [exceptions, RTTI, templates, <em>runtime</em> polymorphism]</li>\n</ol>\n\n<p>Notice that the second cons should in the ideal case disappear when using the subset common to C together with the <em>static</em> polymorphic feature.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 30806757, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>The concept behind void pointer is that it can be casted to any data type that is why malloc returns void. Also you must be aware of automatic typecasting. So it is not mandatory to cast the pointer though you must do it. It helps in keeping the code clean and helps debugging</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 31692193, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>In the C language, a void pointer can be assigned to any pointer, which is why you should not use a type cast. If you want \"type safe\" allocation, I can recommend the following macro functions, which I always use in my C projects:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#define NEW_ARRAY(ptr, n) (ptr) = malloc((n) * sizeof *(ptr))\n#define NEW(ptr) NEW_ARRAY((ptr), 1)\n</code></pre>\n\n<p>With these in place you can simply say</p>\n\n<pre><code>NEW_ARRAY(sieve, length);\n</code></pre>\n\n<p>For non-dynamic arrays, the third must-have function macro is</p>\n\n<pre><code>#define LEN(arr) (sizeof (arr) / sizeof (arr)[0])\n</code></pre>\n\n<p>which makes array loops safer and more convenient:</p>\n\n<pre><code>int i, a[100];\n\nfor (i = 0; i &lt; LEN(a); i++) {\n   ...\n}\n</code></pre>\n", "title": "Do I cast the result of malloc?", "answer_id": 32397391, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>Casting is only for C++ not C.In case you are using a C++ compiler you better change it to C compiler.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 32506607, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>Adding to all the information here; this is what <a href=\"http://www.gnu.org/software/libc/manual/html_node/Basic-Allocation.html\">The GNU C Library Reference</a> manual says: </p>\n\n<blockquote>\n  <p>You can store the result of <code>malloc</code> into any pointer variable without a\n  cast, because ISO C automatically converts the type <code>void *</code> to another\n  type of pointer when necessary. But the cast is necessary in contexts\n  other than assignment operators or if you might want your code to run\n  in traditional C.</p>\n</blockquote>\n\n<p>And indeed the <a href=\"http://www.compsci.hunter.cuny.edu/~sweiss/resources/c11standard.pdf\">ISO C11 standard</a> (p347) says so: </p>\n\n<blockquote>\n  <p>The pointer returned if the allocation succeeds is suitably aligned so\n  that it may be assigned to a pointer to any type of object with a\n  fundamental alignment requirement and then used to access such an\n  object or an array of such objects in the space allocated (until the\n  space is explicitly deallocated)</p>\n</blockquote>\n", "title": "Do I cast the result of malloc?", "answer_id": 33044300, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>From the <a href=\"https://en.wikipedia.org/wiki/C_dynamic_memory_allocation#Advantages_to_casting\">Wikipedia</a></p>\n\n<blockquote>\n  <p><strong>Advantages to casting</strong></p>\n  \n  <ul>\n  <li><p>Including the cast may allow a C program or function to compile as C++.</p></li>\n  <li><p>The cast allows for pre-1989 versions of malloc that originally returned a char *.</p></li>\n  <li><p>Casting can help the developer identify inconsistencies in type sizing should the destination pointer type change, particularly if the pointer is declared far from the malloc() call (although modern compilers and static analysers can warn on such behaviour without requiring the cast).</p></li>\n  </ul>\n  \n  <p><strong>Disadvantages to casting</strong></p>\n  \n  <ul>\n  <li><p>Under the ANSI C standard, the cast is redundant.</p></li>\n  <li><p>Adding the cast may mask failure to include the header <em>stdlib.h</em>, in\n  which the prototype for malloc is found. In the absence of a\n  prototype for malloc, the standard requires that the C compiler\n  assume malloc returns an int. If there is no cast, a warning is\n  issued when this integer is assigned to the pointer; however, with\n  the cast, this warning is not produced, hiding a bug. On certain\n  architectures and data models (such as LP64 on 64-bit systems, where\n  long and pointers are 64-bit and int is 32-bit), this error can\n  actually result in undefined behaviour, as the implicitly declared\n  malloc returns a 32-bit value whereas the actually defined function\n  returns a 64-bit value. Depending on calling conventions and memory\n  layout, this may result in stack smashing. This issue is less likely\n  to go unnoticed in modern compilers, as they uniformly produce\n  warnings that an undeclared function has been used, so a warning will\n  still appear. For example, GCC's default behaviour is to show a\n  warning that reads \"incompatible implicit declaration of built-in\n  function\" regardless of whether the cast is present or not.</p></li>\n  <li><p>If the type of the pointer is changed at its declaration, one may\n  also need to change all lines where malloc is called and cast.</p></li>\n  </ul>\n</blockquote>\n\n<p>Although <strong>malloc without cast is preferred method and most experienced programmers choose it</strong>, you should use whichever you like having  aware of the issues.</p>\n\n<p>i.e: If you need to compile C program as C++(Although those are separate language) you should use <code>malloc</code> with cast. </p>\n", "title": "Do I cast the result of malloc?", "answer_id": 33047365, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>People used to GCC and Clang are spoiled.  It's not all that good out there.</p>\n\n<p>I have been pretty horrified over the years by the staggeringly aged compilers I've been required to use.  Often companies and managers adopt an ultra-conservative approach to changing compilers and will not even <em>test</em> if a new compiler ( with better standards compliance and code optimization ) will work in their system.  The practical reality for working developers is that when you're coding you need to cover your bases and, unfortunately, casting mallocs is a good habit if you cannot control what compiler may be applied to your code.</p>\n\n<p>I would also suggest that many organizations apply a coding standard of their own and that <em>that</em> should be the method people follow if it is defined.  In the absence of explicit guidance I tend to go for most likely to compile everywhere, rather than slavish adherence to a standard.</p>\n\n<p>The argument that it's not necessary under current standards is quite valid.  But that argument omits the practicalities of the real world.  We do not code in a world ruled exclusively by the standard of the day, but by the practicalities of what I like to call \"local management's reality field\".  And that's bent and twisted more than space time ever was. :-)</p>\n\n<p>YMMV.</p>\n\n<p>I tend to think of casting malloc as a defensive operation.  Not pretty, not perfect, but generally safe.  ( Honestly, if you've not included stdlib.h then you've <em>way</em> more problems than casting malloc ! ).</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 34094068, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>I put in the cast simply to show disapproval of the ugly hole in the type system, which allows code such as the following snippet to compile without diagnostics, even though no casts are used to bring about the bad conversion:</p>\n\n<pre><code>double d;\nvoid *p = &amp;d;\nint *q = p;\n</code></pre>\n\n<p>I wish that didn't exist (and it doesn't in C++) and so I cast. It represents my taste, and my programming politics. I'm not only casting a pointer, but effectively, casting a ballot, and <a href=\"http://dilbert.com/strip/1994-02-03\" rel=\"nofollow\">casting out demons of stupidity</a>. If I can't <em>actually</em> <a href=\"http://dilbert.com/strip/1994-02-02\" rel=\"nofollow\">cast out stupidity</a>, then at least let me express the wish to do so with a gesture of protest.</p>\n\n<p>In fact, a good practice is to wrap <code>malloc</code> (and friends) with functions that return <code>unsigned char *</code>, and basically never to use <code>void *</code> in your code.  If you need a generic pointer-to-any-object, use a <code>char *</code> or <code>unsigned char *</code>, and have casts in both directions. The one relaxation that can be indulged, perhaps, is using functions like <code>memset</code> and <code>memcpy</code> without casts.</p>\n\n<p>On the topic of casting and C++ compatibility, if you write your code so that it compiles as both C and C++ (in which case you <em>have to</em> cast the return value of <code>malloc</code> when assigning it to something other than <code>void *</code>), you can do a very helpful thing for yourself: you can use macros for casting which translate to C++ style casts when compiling as C++, but reduce to a C cast when compiling as C:</p>\n\n<pre><code>/* In a header somewhere */\n#ifdef __cplusplus\n#define strip_qual(TYPE, EXPR) (const_cast&lt;TYPE&gt;(EXPR))\n#define convert(TYPE, EXPR) (static_cast&lt;TYPE&gt;(EXPR))\n#define coerce(TYPE, EXPR) (reinterpret_cast&lt;TYPE&gt;(EXPR))\n#else\n#define strip_qual(TYPE, EXPR) ((TYPE) (EXPR))\n#define convert(TYPE, EXPR) ((TYPE) (EXPR))\n#define coerce(TYPE, EXPR) ((TYPE) (EXPR))\n#endif\n</code></pre>\n\n<p>If you adhere to these macros, then a simple <code>grep</code> search of your code base for these identifiers will show you where all your casts are, so you can review whether any of them are incorrect.</p>\n\n<p>Then, going forward, if you regularly compile the code with C++, it will enforce the use of an appropriate cast. For instance, if you use <code>strip_qual</code> just to remove a <code>const</code> or <code>volatile</code>, but the program changes in such a way that a type conversion is now involved, you will get a diagnostic, and you will have to use a combination of casts to get the desired conversion.</p>\n\n<p>To help you adhere to these macros, the the GNU C++ (not C!) compiler has a beautiful feature: an optional diagnostic which is produced for all occurrences of C style casts.</p>\n\n<pre>\n     -Wold-style-cast (C++ and Objective-C++ only)\n         Warn if an old-style (C-style) cast to a non-void type is used\n         within a C++ program.  The new-style casts (dynamic_cast,\n         static_cast, reinterpret_cast, and const_cast) are less vulnerable\n         to unintended effects and much easier to search for.\n</pre>\n\n<p>If your C code compiles as C++, you can use this <code>-Wold-style-cast</code> option to find out all occurrences of the <code>(type)</code> casting syntax that may creep into the code, and follow up on these diagnostics by replacing it with an appropriate choice from among the above macros (or a combination, if necessary).</p>\n\n<p>This treatment of conversions is the single largest standalone technical justification for working in a \"Clean C\": the combined C and C++ dialect, which in turn technically justifies casting the return value of <code>malloc</code>.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 36297486, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>I prefer to do the cast, but not manually. My favorite is using <code>g_new</code> and <code>g_new0</code> macros from glib. If glib is not used, I would add similar macros. Those macros reduce code duplication without compromising type safety. If you get the type wrong, you would get an implicit cast between non-void pointers, which would cause a warning (error in C++). If you forget to include the header that defines <code>g_new</code> and <code>g_new0</code>, you would get an error. <code>g_new</code> and <code>g_new0</code> both take the same arguments, unlike <code>malloc</code> that takes less arguments than <code>calloc</code>. Just add <code>0</code> to get zero-initialized memory. The code can be compiled with a C++ compiler without changes.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 38093082, "question_id": 605845, "tags": ["c", "malloc", "casting"]}, {"body": "<p>A void pointer is a generic pointer and C supports implicit conversion from a void pointer type to other types, so there is no need of explicitly typecasting it.</p>\n\n<p>However, if you want the same code work perfectly compatible on a C++ platform, which does not support implicit conversion, you need to do the typecasting, so it all depends on usability.</p>\n", "title": "Do I cast the result of malloc?", "answer_id": 38434562, "question_id": 605845, "tags": ["c", "malloc", "casting"]}], "question_id": 605845}, {"body": "<p>How do I reset my local branch to be just like the branch on the remote repository?</p>\n\n<p>I did:</p>\n\n<pre><code>git reset --hard HEAD\n</code></pre>\n\n<p>But when I run a <code>git status</code>,</p>\n\n<pre><code>On branch master\nChanges to be committed:\n  (use \"git reset HEAD &lt;file&gt;...\" to unstage)\n      modified:   java/com/mycompany/TestContacts.java\n      modified:   java/com/mycompany/TestParser.java\n</code></pre>\n\n<p>Can you please tell me why I have these 'modified'? I haven't touched these files? If I did, I want to remove those.</p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "tags": ["git", "undo"], "answer_count": 14, "link": "http://stackoverflow.com/questions/1628088/reset-local-repository-branch-to-be-just-like-remote-repository-head", "answers": [{"body": "<p><code>git reset --hard HEAD</code> actually only resets to the last committed state. In this case HEAD refers to the HEAD of your branch. </p>\n\n<p>If you have several commits, this won't work..</p>\n\n<p>What you probably want to do, is reset to the head of origin or whatever you remote repository is called. I'd probably just do something like </p>\n\n<pre><code>git reset --hard origin/HEAD\n</code></pre>\n\n<p>Be careful though. Hard resets cannot easily be undone. It is better to do as Dan suggests, and branch off a copy of your changes before resetting. </p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 1628235, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>Setting your branch to exactly match the remote branch can be done in two steps:</p>\n\n<pre><code>git fetch origin\ngit reset --hard origin/master\n</code></pre>\n\n<p>If you want to save your current branch's state before doing this (just in case), you can do:</p>\n\n<pre><code>git commit -a -m \"Saving my work, just in case\"\ngit branch my-saved-work\n</code></pre>\n\n<p>Now your work is saved on the branch \"my-saved-work\" in case you decide you want it back (or want to look at it later or diff it against your updated branch).</p>\n\n<p>Note that the first example assumes that the remote repo's name is \"origin\" and that the branch named \"master\" in the remote repo matches the currently checked-out branch in your local repo.</p>\n\n<p>BTW, this situation that you're in looks an awful lot like a common case where a push has been done into the currently checked out branch of a non-bare repository. Did you recently push into your local repo? If not, then no worries -- something else must have caused these files to unexpectedly end up modified. Otherwise, you should be aware that it's not recommended to push into a non-bare repository (and not into the currently checked-out branch, in particular).</p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 1628334, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>If you want to go back to the <code>HEAD</code> state for both the working directory and the index, then you should <code>git reset --hard HEAD</code>, rather than to <code>HEAD^</code>. (This may have been a typo, just like the single versus double dash for <code>--hard</code>.)</p>\n\n<p>As for your specific question as to why those files appear in the status as modified, it looks like perhaps you did a soft reset instead of a hard reset.  This will cause the files that were changed in the <code>HEAD</code> commit to appear as if they were staged, which is likely what you are seeing here.</p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 1628405, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>Here is a script that automates what the most popular answer suggests ...\nSee <a href=\"http://stackoverflow.com/a/13308579/1497139\">http://stackoverflow.com/a/13308579/1497139</a> for an improved version that supports branches</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\n# reset the current repository\n# WF 2012-10-15\n# see http://stackoverflow.com/questions/1628088/how-to-reset-my-local-repository-to-be-just-like-the-remote-repository-head\ntimestamp=`date \"+%Y-%m-%d-%H_%M_%S\"`\ngit commit -a -m \"auto commit at $timestamp\"\nif [ $? -eq 0 ]\nthen\n  git branch \"auto-save-at-$timestamp\" \nfi\ngit fetch origin\ngit reset --hard origin/master\n</code></pre>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 12892133, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>This is something I face regularly, &amp; I've generalised the script Wolfgang provided above to work with any branch</p>\n\n<p>I also added an \"are you sure\" prompt, &amp; some feedback output</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\n# reset the current repository\n# WF 2012-10-15\n# AT 2012-11-09\n# see http://stackoverflow.com/questions/1628088/how-to-reset-my-local-repository-to-be-just-like-the-remote-repository-head\ntimestamp=`date \"+%Y-%m-%d-%H_%M_%S\"`\nbranchname=`git rev-parse --symbolic-full-name --abbrev-ref HEAD`\nread -p \"Reset branch $branchname to origin (y/n)? \"\n[ \"$REPLY\" != \"y\" ] || \necho \"about to auto-commit any changes\"\ngit commit -a -m \"auto commit at $timestamp\"\nif [ $? -eq 0 ]\nthen\n  echo \"Creating backup auto-save branch: auto-save-$branchname-at-$timestamp\"\n  git branch \"auto-save-$branchname-at-$timestamp\" \nfi\necho \"now resetting to origin/$branchname\"\ngit fetch origin\ngit reset --hard origin/$branchname\n</code></pre>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 13308579, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>I did:</p>\n\n<pre><code>git branch -D master\ngit checkout master\n</code></pre>\n\n<p>to totally reset branch</p>\n\n<hr>\n\n<p>note, you should checkout to another branch to be able to delete required branch</p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 23648583, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>If you had a problem as me, that you have already commited some changes, but now, for any reason you want to get rid of it, the quickest way is to use <code>git reset</code> like this:</p>\n\n<pre><code>git reset --hard HEAD~2\n</code></pre>\n\n<p>I had 2 not needed commits, hence the number 2. You can change it to your own number of commits to reset.</p>\n\n<p>So answering your question - if you're 5 commits ahead of remote repository HEAD, you should run this command:</p>\n\n<pre><code>git reset --hard HEAD~5\n</code></pre>\n\n<p>Notice that you will lose the changes you've made, so be carefull!</p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 24236329, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>If you don't mind saving your local changes, yet still want to update your repository to match origin/HEAD, you can simply stash your local changes and then pull:</p>\n\n<pre><code>git stash\ngit pull\n</code></pre>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 25767183, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>If you want the current changes to be used later then stash the changes other wise you can use these two commands,</p>\n\n<pre><code>git fetch --all\ngit reset --hard origin/master\n</code></pre>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 26733726, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>I needed to do (the solution in the accepted answer):</p>\n\n<pre><code>git fetch origin\ngit reset --hard origin/master\n</code></pre>\n\n<p>Followed by:</p>\n\n<pre><code>git clean -f\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/questions/61212/remove-local-untracked-files-from-my-current-git-branch\">to remove local files</a></p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 27664932, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>First, reset to the previously fetched <code>HEAD</code> of the corresponding upstream branch:</p>\n\n<pre><code>git reset --hard @{upstream}\n</code></pre>\n\n<p>The advantage of specifying <code>@{upstream}</code> or its abbreviated form <code>@{u}</code> is that the name of the remote repo and branch don't have to be explicitly specified.</p>\n\n<p>Next, get the latest changes:</p>\n\n<pre><code>git pull\n</code></pre>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 28441119, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>All of the above suggests are right, but often to <em>really</em> reset your project, you also need to remove even files that are in your .gitignore.</p>\n\n<p>To get the moral equivalent of erasing your project directory and re-cloning from the remote is:</p>\n\n<pre><code>git fetch\ngit reset --hard\ngit clean -x -d -f\n</code></pre>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 31594643, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p><strong>The question mixes two issues here:</strong></p>\n\n<ol>\n<li>how to reset a local branch to the point where the remote is</li>\n<li>how to clear your staging area (and possibly the working directory), so that <code>git status</code> says <code>nothing to commit, working directory clean.</code></li>\n</ol>\n\n<p><strong>The one-stop-answer is:</strong></p>\n\n<ol>\n<li><code>git fetch --prune</code> <sub><sup>(optional) Updates the local snapshot of the remote repo. Further commands are local only.</sup></sub><br>\n<code>git reset --hard @{upstream}</code><sub><sup>Puts the local branch pointer to where the snapshot of the remote is, as well as set the index and the working directory to the files of that commit.</sup></sub></li>\n<li><code>git clean -d --force</code> <sub><sup>Removes untracked files and directories which hinder git to say \u201cworking directory clean\u201d.</sup></sub></li>\n</ol>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 35109320, "question_id": 1628088, "tags": ["git", "undo"]}, {"body": "<p>Previous answers assume that the branch to be reset is the current branch (checked out). In comments, OP <em>hap497</em> clarified that the branch is indeed checked out, but this is not explicitly required by the original question. Since there is at least one \"duplicate\" question, <a href=\"http://stackoverflow.com/questions/27385949/reset-branch-completely-to-repository-state\">Reset branch completely to repository state</a>, which does not assume that the branch is checked out, here's an alternative:</p>\n\n<p>If branch \"mybranch\" is <strong>not</strong> currently checked out, to reset it to remote branch \"myremote/mybranch\"'s head, you can use this <a href=\"http://schacon.github.io/git/git.html#_low_level_commands_plumbing\" rel=\"nofollow\">low-level</a> command:</p>\n\n<pre><code>git update-ref refs/heads/mybranch myremote/mybranch\n</code></pre>\n\n<p>This method leaves the checked out branch as it is, and the working tree untouched. It simply moves mybranch's head to another commit, whatever is given as the second argument. This is especially helpful if multiple branches need to be updated to new remote heads.</p>\n\n<p>Use caution when doing this, though, and use <code>gitk</code> or a similar tool to double check source and destination. If you accidentally do this on the current branch (and git will not keep you from this), you may become confused, because the new branch content does not match the working tree, which did not change (to fix, update the branch again, to where it was before).</p>\n", "title": "Reset local repository branch to be just like remote repository HEAD", "answer_id": 38030955, "question_id": 1628088, "tags": ["git", "undo"]}], "question_id": 1628088}, {"body": "<p>What is the difference between <code>decimal</code>, <code>float</code> and <code>double</code> in .NET?</p>\n\n<p>When would someone use one of these?</p>\n", "title": "Difference between decimal, float and double in .NET?", "tags": [".net", "floating-point", "double", "decimal"], "answer_count": 15, "link": "http://stackoverflow.com/questions/618535/difference-between-decimal-float-and-double-in-net", "answers": [{"body": "<p>Precision is the main difference. </p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/b1e65aza(VS.80).aspx\">Float</a> - 7 digits (32 bit)</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/678hzkk9(VS.71).aspx\">Double</a>-15-16 digits (64 bit)</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/364x0z75(VS.80).aspx\">Decimal</a> -28-29 significant digits (128 bit)</p>\n\n<p>Decimals have much higher precision and are usually used within financial applications that require a high degree of accuracy. Decimals are much slower (up to 20X times in some tests) than a double/float. </p>\n\n<p>Decimals and Floats/Doubles cannot be compared without a cast whereas Floats and Doubles can. Decimals also allow the encoding or trailing zeros.</p>\n\n<pre><code>float flt = 1F/3;\ndouble dbl = 1D/3;\ndecimal dcm = 1M/3;\nConsole.WriteLine(\"float: {0} double: {1} decimal: {2}\", flt, dbl, dcm);\n</code></pre>\n\n<p>Result : </p>\n\n<pre><code>float: 0.3333333  \ndouble: 0.333333333333333  \ndecimal: 0.3333333333333333333333333333\n</code></pre>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 618542, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p><code>float</code> and <code>double</code> are <a href=\"http://csharpindepth.com/Articles/General/FloatingPoint.aspx\">floating <em>binary</em> point types</a>. In other words, they represent a number like this:</p>\n\n<pre><code>10001.10010110011\n</code></pre>\n\n<p>The binary number and the location of the binary point are both encoded within the value.</p>\n\n<p><code>decimal</code> is a <a href=\"http://csharpindepth.com/Articles/General/Decimal.aspx\">floating <em>decimal</em> point type</a>. In other words, they represent a number like this:</p>\n\n<pre><code>12345.65789\n</code></pre>\n\n<p>Again, the number and the location of the <em>decimal</em> point are both encoded within the value \u2013 that's what makes <code>decimal</code> still a floating point type instead of a fixed point type.</p>\n\n<p>The important thing to note is that humans are used to representing non-integers in a decimal form, and expect exact results in decimal representations; not all decimal numbers are exactly representable in binary floating point \u2013 0.1, for example \u2013 so if you use a binary floating point value you'll actually get an approximation to 0.1. You'll still get approximations when using a floating decimal point as well \u2013 the result of dividing 1 by 3 can't be exactly represented, for example.</p>\n\n<p>As for what to use when:</p>\n\n<ul>\n<li><p>For values which are \"naturally exact decimals\" it's good to use decimal. This is usually suitable for any concepts invented by humans: financial values are the most obvious example, but there are others too. Consider the score given to divers or ice skaters, for example.</p></li>\n<li><p>For values which are more artefacts of nature which can't really be measured <em>exactly</em> anyway, <code>float</code>/<code>double</code> are more appropriate. For example, scientific data would usually be represented in this form. Here, the original values won't be \"decimally accurate\" to start with, so it's not important for the expected results to maintain the \"decimal accuracy\". Floating binary point types are much faster to work with than decimals.</p></li>\n</ul>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 618596, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<ol>\n<li>Double and float can be divided by integer zero without an exception at both compilation and run time.</li>\n<li>Decimal cannot be divided by integer zero. Compilation will always fail if you do that.</li>\n</ol>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 3360252, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>The Decimal structure is strictly geared to financial calculations requiring accuracy, which are relatively intolerant of rounding.  Decimals are not adequate for scientific applications, however, for several reasons:</p>\n\n<ul>\n<li>A certain loss of precision is acceptable in many scientific calculations because of the practical limits of the physical problem or artifact being measured.  Loss of precision is not acceptable in finance.</li>\n<li>Decimal is much (much) slower than float and double for most operations, primarily because floating point operations are done in binary, whereas Decimal stuff is done in base 10 (i.e. floats and doubles are handled by the FPU hardware, such as MMX/SSE, whereas decimals are calculated in software).</li>\n<li>Decimal has an unacceptably smaller value range than double, despite the fact that it supports more digits of precision. Therefore, Decimal can't be used to represent many scientific values.</li>\n</ul>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 5650441, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p><code>float</code> 7 digits of precision </p>\n\n<p><code>double</code> has about 15 digits of precision</p>\n\n<p><code>decimal</code> has about 28 digits of precision</p>\n\n<p>If you need better accuracy, use double instead of float.\nIn modern CPUs both data types have almost the same performance. The only benifit of using float is they take up less space. Practically matters only if you have got many of them.</p>\n\n<p>I found this is interesting. <a href=\"http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 7224889, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>This has been an interesting thread of me, as today, we've just had a nasty little bug, concerning \"decimal\" having less precision than a \"float\".</p>\n\n<p>In our C# code, we are reading numeric values from an Excel spreadsheet, converting them into a <em>decimal</em>, then sending this <em>decimal</em> back to a Service, to save into a <em>SQL Server</em> database.</p>\n\n<pre><code>Microsoft.Office.Interop.Excel.Range cell = ...\nobject cellValue = cell.Value2;\nif (cellValue != null)\n{\n    decimal value = 0;\n    Decimal.TryParse(cellValue.ToString(), out value);\n}\n</code></pre>\n\n<p>Now, for <em>almost all</em> of our Excel values, this worked beautifully.  But for some, very small Excel values, using \"<strong>decimal.TryParse</strong>\" lost the value completely.  One such example:</p>\n\n<ul>\n<li><p>cellValue = <strong>0.00006317592</strong></p></li>\n<li><p><em>Decimal.TryParse(cellValue.ToString(), out value);</em> would return <strong>0</strong></p></li>\n</ul>\n\n<p>The solution, bizarrely, was to convert the Excel values into a <em>double</em> first, and then into a <em>decimal</em>.</p>\n\n<pre><code>Microsoft.Office.Interop.Excel.Range cell = ...\nobject cellValue = cell.Value2;\nif (cellValue != null)\n{\n    double valueDouble = 0;\n    double.TryParse(cellValue.ToString(), out valueDouble);\n    decimal value = (decimal)valueDouble;\n    ...\n}\n</code></pre>\n\n<p>Even though <em>double</em> has less precision than a <em>decimal</em>, this actually ensured small numbers would still be recognised.  For some reason, \"<strong>double.TryParse</strong>\" was actually able to retrieve such small numbers, whereas \"<strong>decimal.TryParse</strong>\" would set them to zero.</p>\n\n<p>Odd.  Very odd.  </p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 10171572, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>Integers, as was mentioned, are whole numbers. They can't store the point something, like .7, .42, and .007. If you need to store numbers that are not whole numbers, you need a different type of variable. You can use the double type, or the float type. You set these types of variables up in exactly the same way: instead of using the word int, you type double, or float. Like this:</p>\n\n<pre><code>float myFloat;\ndouble myDouble;\n</code></pre>\n\n<p>(Float is short for \"floating point\", and just means a number with a point something on the end.)</p>\n\n<p>The difference between the two is in the size of the numbers that they can hold. For float, you can have up to 7 digits in your number. For doubles, you can have up to 16 digits. To be more precise, here's the official size:</p>\n\n<pre><code>float:  1.5 \u00d7 10^-45  to 3.4 \u00d7 10^38  \ndouble: 5.0 \u00d7 10^-324 to 1.7 \u00d7 10^308\n</code></pre>\n\n<p>Float is a 32-bit number and double is a 64-bit number.</p>\n\n<p>Double click your new button to get at the code. Add the following three lines to your button code:</p>\n\n<pre><code>double myDouble;\nmyDouble = 0.007;\nMessageBox.Show(myDouble.ToString());\n</code></pre>\n\n<p>Halt your program and return to the coding window. Change this line:</p>\n\n<pre><code>myDouble = 0.007;\nmyDouble = 12345678.1234567;\n</code></pre>\n\n<p>Run your programme and click your double button. The message box correctly displays the number. Add another number on the end, though, and C# will again round up or down. The moral is, if you want accuracy, careful of rounding!</p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 10701720, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p><img src=\"http://i.stack.imgur.com/PnZ2a.png\" alt=\"enter image description here\"></p>\n\n<p>for more information you can go to source of this picture:</p>\n\n<p><a href=\"http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/921a8ffc-9829-4145-bdc9-a96c1ec174a5\">http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/921a8ffc-9829-4145-bdc9-a96c1ec174a5</a></p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 16984608, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>float   ~ \u00b11.5 x 10-45 to \u00b13.4 x 1038 --------7 figures<br/>\ndouble  ~ \u00b15.0 x 10-324 to \u00b11.7 x 10308 ------15 or 16 figures<br/>\ndecimal ~ \u00b11.0 x 10-28 to \u00b17.9 x 1028 --------28 or 29 figures<br/></p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 20876624, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>For applications such as games and embedded systems where memory and performance are both critical, float is usually the numeric type of choice as it is faster and half the size of a double. Integers used to be the weapon of choice, but floating point performance has overtaken integer in modern processors. Decimal is right out!</p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 23700141, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>The Decimal, Double, and Float variable types are different in the way that they store the values. Precision is the main difference where float is a single precision (32 bit) floating point data type, double is a double precision (64 bit) floating point data type and decimal is a 128-bit floating point data type.</p>\n\n<p>Float - 32 bit (7 digits)</p>\n\n<p>Double - 64 bit (15-16 digits)</p>\n\n<p>Decimal - 128 bit (28-29 significant digits)</p>\n\n<p>More about...<a href=\"http://net-informations.com/q/faq/float.html\" rel=\"nofollow\">the difference between Decimal, Float and Double</a></p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 26116049, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>The main difference between each of these is the precision.</p>\n\n<p><code>float</code> is a <code>32-bit</code> number, <code>double</code> is a <code>64-bit</code> number and <code>decimal</code> is a <code>128-bit</code> number.</p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 27592599, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>No one has mentioned that</p>\n\n<blockquote>\n  <p>In default settings, Floats (System.Single) and doubles (System.Double) will never use\n  overflow checking while Decimal (System.Decimal) will always use\n  overflow checking.</p>\n</blockquote>\n\n<p>I mean </p>\n\n<pre><code>decimal myNumber = decimal.MaxValue;\nmyNumber += 1;\n</code></pre>\n\n<p>throws <strong>OverflowException</strong>.</p>\n\n<p>But these do not:</p>\n\n<pre><code>float myNumber = float.MaxValue;\nmyNumber += 1;\n</code></pre>\n\n<p>&amp;</p>\n\n<pre><code>double myNumber = double.MaxValue;\nmyNumber += 1;\n</code></pre>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 27742824, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>I won't reiterate tons of good (and some bad) information already answered in other answers and comments, but I will answer your followup question with a tip:</p>\n\n<blockquote>\n  <p><em>When would someone use one of these?</em></p>\n</blockquote>\n\n<p>Use decimal for <strong>counted</strong> values</p>\n\n<p>Use float/double for <strong>measured</strong> values</p>\n\n<p>Some examples:</p>\n\n<ul>\n<li><p>money (do we count money or measure money?)</p></li>\n<li><p>distance (do we count distance or measure distance? *)</p></li>\n<li><p>scores (do we count scores or measure scores?)</p></li>\n</ul>\n\n<p>We always count money and should never measure it. We usually measure distance. We often count scores.</p>\n\n<p>* In some cases, what I would call <em>nominal distance</em>, we may indeed want to 'count' distance. For example, maybe we are dealing with country signs that show distances to cities, and we know that those distances never have more than one decimal digit (xxx.x km).</p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 36797608, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}, {"body": "<p>The Decimal, Double, and Float variable types are different in the way that they store the values. Precision is the main difference where float is a single precision (32 bit) floating point data type, double is a double precision (64 bit) floating point data type and decimal is a 128-bit floating point data type.</p>\n\n<p>Float - 32 bit (7 digits)</p>\n\n<p>Double - 64 bit (15-16 digits)</p>\n\n<p>Decimal - 128 bit (28-29 significant digits)</p>\n\n<p>The main difference is Floats and Doubles are binary floating point types and a Decimal will store the value as a floating decimal point type. So Decimals have much higher precision and are usually used within monetary (financial) or scientific calculation applications that require a high degree of accuracy. But in performance wise Decimals are slower than double and float types.</p>\n\n<p>Decimal can 100% accurately represent any number within the precision of the decimal format, whereas Float and Double, cannot accurately represent all numbers, even numbers that are within their respective formats precision.</p>\n\n<p><strong>Decimal</strong></p>\n\n<p>In case of financial applications, or scientific calculations, it is better to use Decimal types because it gives you a high level of accuracy and easy to avoid rounding errors</p>\n\n<p><strong>Double</strong></p>\n\n<p>Double Types are probably the most normally used data type for real values, except handling money.</p>\n\n<p><strong>Float</strong></p>\n\n<p>It is used mostly in graphic libraries because very high demands for processing powers, also used situations that can endure rounding errors.</p>\n", "title": "Difference between decimal, float and double in .NET?", "answer_id": 37903975, "question_id": 618535, "tags": [".net", "floating-point", "double", "decimal"]}], "question_id": 618535}, {"body": "<p>I want to package my project in a single executable JAR for distribution.</p>\n\n<p>How can I make Maven package all dependency JARs into my JAR?</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"], "answer_count": 29, "link": "http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven", "answers": [{"body": "\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>and you run it with</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>mvn clean compile assembly:single\n</code></pre>\n\n<p><em>Compile goal should be added before assembly:single or otherwise the code on your own project is not included.</em></p>\n\n<p>See more details in comments.</p>\n\n<hr>\n\n<p>Commonly this goal is tied to a build phase to execute automatically. This ensures the JAR is built when executing <code>mvn install</code> or performing a deployment/release.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n    &lt;descriptorRefs&gt;\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n    &lt;/descriptorRefs&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n      &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;single&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 574650, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Taking Unanswered's answer and reformatting it, we have:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Next, I would recommend making this a natural part of your build, rather than something to call explicitly.  To make this a integral part of your build, add this plugin to your <code>pom.xml</code> and bind it to the <code>package</code> lifecycle event.  However, a gotcha is that you need to call the <code>assembly:single</code> goal if putting this in your pom.xml, while you would call 'assembly:assembly' if executing it manually from the command line.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n              &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                  &lt;archive&gt;\n                      &lt;manifest&gt;\n                          &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                          &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                      &lt;/manifest&gt;\n                  &lt;/archive&gt;\n                  &lt;descriptorRefs&gt;\n                      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                  &lt;/descriptorRefs&gt;\n              &lt;/configuration&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;id&gt;make-my-jar-with-dependencies&lt;/id&gt;\n                      &lt;phase&gt;package&lt;/phase&gt;\n                      &lt;goals&gt;\n                          &lt;goal&gt;single&lt;/goal&gt;\n                      &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;/plugin&gt;\n      [...]\n      &lt;/plugins&gt;\n    [...]\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 589111, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Another option if you really want to repackage the other JARs contents inside your single resultant JAR is the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\">Maven Assembly plugin</a>.  It unpacks and then repacks everything into a directory via <code>&lt;unpack&gt;true&lt;/unpack&gt;</code>. Then you'd have a second pass that built it into one massive JAR.</p>\n\n<p><a href=\"http://code.google.com/p/onejar-maven-plugin/\">Another option is the OneJar plugin</a>.  This performs the above repackaging actions all in one step.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 634989, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Ken Liu has it right in my opinion. The maven dependency plugin allows you to expand all the dependencies, which you can then treat as resources. This allows you to include them in the <em>main</em> artifact. The use of the assembly plugin creates a secondary artifact which can be difficult to modify - in my case I wanted to add custom manifest entries. My pom ended up as:</p>\n\n<pre><code>&lt;project&gt;\n ...\n &lt;build&gt;\n  &lt;plugins&gt;\n   &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n     &lt;execution&gt;\n      &lt;id&gt;unpack-dependencies&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n       &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n      &lt;/goals&gt;\n     &lt;/execution&gt;\n    &lt;/executions&gt;\n   &lt;/plugin&gt;\n  &lt;/plugins&gt;\n  ...\n  &lt;resources&gt;\n   &lt;resource&gt;\n    &lt;directory&gt;${basedir}/target/dependency&lt;/directory&gt;\n    &lt;targetPath&gt;/&lt;/targetPath&gt;\n   &lt;/resource&gt;\n  &lt;/resources&gt;\n &lt;/build&gt;\n ...\n&lt;/project&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 1399739, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>You can use maven-dependency-plugin, but the question was how to create an executable JAR. To do that requires the following alteration to Matthew Franglen's response (btw, using the dependency plugin takes longer to build when starting from a clean target):</p>\n\n<pre><code>&lt;build&gt;\n\t&lt;plugins&gt;\n\t\t&lt;plugin&gt;\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n\t\t\t&lt;configuration&gt;\n\t\t\t\t&lt;archive&gt;\n\t\t\t\t\t&lt;manifest&gt;\n\t\t\t\t\t\t&lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n\t\t\t\t\t&lt;/manifest&gt;\n\t\t\t\t&lt;/archive&gt;\n\t\t\t&lt;/configuration&gt;\n\t\t&lt;/plugin&gt;\n\t\t&lt;plugin&gt;\n\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n\t\t\t&lt;executions&gt;\n\t\t\t\t&lt;execution&gt;\n\t\t\t\t\t&lt;id&gt;unpack-dependencies&lt;/id&gt;\n\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\n\t\t\t\t\t&lt;goals&gt;\n\t\t\t\t\t\t&lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n\t\t\t\t\t&lt;/goals&gt;\n\t\t\t\t&lt;/execution&gt;\n\t\t\t&lt;/executions&gt;\n\t\t&lt;/plugin&gt;\n\t&lt;/plugins&gt;\n\t&lt;resources&gt;\n\t\t&lt;resource&gt;\n\t\t\t&lt;directory&gt;${basedir}/target/dependency&lt;/directory&gt;\n\t\t&lt;/resource&gt;\n\t&lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 1559850, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>I won't answer directly the question as other have already done that before, but I really wonder if it's a good idea to embed all the dependencies in the project's jar itself.</p>\n\n<p>I see the point (ease of deployment / usage) but it depends of the use case of your poject (and there may be alternatives (see below)).</p>\n\n<p>If you use it fully standalone, why not.</p>\n\n<p>But if you use your project in other contexts (like in a webapp, or dropped in a folder where other jars are sitting), you may have jar duplicates in your classpath (the ones in the folder, the one in the jars). Maybe not a bid deal but i usually avoid this.</p>\n\n<p>A good alternative :</p>\n\n<ul>\n<li>deploy your application as a .zip / .war : the archive contains your project's jar and all dependent jars ;</li>\n<li>use a dynamic classloader mechanism (see Spring, or you can easily do this yourself) to have a single entry point of your project (a single class to start - see the Manifest mechanism on another answer), which will add (dynamically) to the current classpath all the other needed jars.</li>\n</ul>\n\n<p>Like this, with in the end just a manifest and a \"special dynamic classloader main\", you can start your project with :</p>\n\n<pre><code>java -jar ProjectMainJar.jar com.stackoverflow.projectName.MainDynamicClassLoaderClass\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 1970326, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>it should be like that</p>\n\n<pre><code>    &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                        &lt;execution&gt;\n                                &lt;id&gt;unpack-dependencies&lt;/id&gt;\n                                &lt;phase&gt;generate-resources&lt;/phase&gt;\n                                &lt;goals&gt;\n                                        &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n                                &lt;/goals&gt;\n                        &lt;/execution&gt;\n                &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>unpacking have to be in generate-resources phase because, if in package phase, will not be included as resources.\nTry clean package and you'll see</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 2387907, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>If you want if from command Line itself . Just run the below command from the project path </p>\n\n<p>mvn assembly:assembly</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 3706174, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Use the maven-shade-plugin to package all dependencies into one uber-jar. It can also be used to build an executable jar by specifying the main class. After trying to use maven-assembly and maven-jar , I found that this plugin best suited my needs. </p>\n\n<p>I found this plugin particularly useful as it merges content of specific files instead of overwriting them. This is needed when there are resource files that are have the same name across the jars and the plugin tries to package all the resource files</p>\n\n<p>See example below </p>\n\n<pre><code>      &lt;plugins&gt;\n    &lt;!-- This plugin provides the capability to package the artifact in an uber-jar, including its dependencies and to shade - i.e. rename - the packages of some of the dependencies. --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;artifactSet&gt;\n                        &lt;!-- signed jars--&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;bouncycastle:bcprov-jdk15&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/artifactSet&gt;\n\n                         &lt;transformers&gt;\n                            &lt;transformer\n                                implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                &lt;!-- Main class --&gt;\n                                &lt;mainClass&gt;com.main.MyMainClass&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                            &lt;!-- Use resource transformers to prevent file overwrites --&gt;\n                            &lt;transformer \n                                 implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                &lt;resource&gt;properties.properties&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer\n                                implementation=\"org.apache.maven.plugins.shade.resource.XmlAppendingTransformer\"&gt;\n                                &lt;resource&gt;applicationContext.xml&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer\n                                implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                &lt;resource&gt;META-INF/cxf/cxf.extension&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer\n                                implementation=\"org.apache.maven.plugins.shade.resource.XmlAppendingTransformer\"&gt;\n                                &lt;resource&gt;META-INF/cxf/bus-extensions.xml&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                     &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 3770791, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>You can use the dependency-plugin to generate all dependencies in a separate directory before the package phase and then include that in the classpath of the manifest:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                &lt;mainClass&gt;theMainClass&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Alternatively use <code>${project.build.directory}/classes/lib</code> as OutputDirectory to integrate all jar-files into the main jar, but then you will need to add custom classloading code to load the jars.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 4323501, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Use <a href=\"http://onejar-maven-plugin.googlecode.com/svn/mavensite/usage.html\" rel=\"nofollow\">onejar plugin</a> to build it as one executable jar file which packages all the dependancy jars in it. That solved my problem which was similar to this. When assembly plugin was used, it unpacked all the dependancy jars into source folder and repackage them as a jar, it had over written all the similar implementations I had inside my code which were having the same class names. onejar is an easy solution in here.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 4965256, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Problem with locating shared assembly file with maven-assembly-plugin-2.2.1?</p>\n\n<p>Try using descriptorId configuration parameter instead of descriptors/descriptor or descriptorRefs/descriptorRef parameters.</p>\n\n<p>Neither of them do what you need: look for the file on classpath.\nOf course you need adding the package where the shared assembly resides on maven-assembly-plugin's classpath (see below).\nIf you're using Maven 2.x (not Maven 3.x), you may need adding this dependency in top-most parent pom.xml in pluginManagement section.</p>\n\n<p>See <a href=\"http://svn.apache.org/repos/asf/maven/plugins/tags/maven-assembly-plugin-2.2.1\" rel=\"nofollow\">this</a> for more details.</p>\n\n<p>Class: org.apache.maven.plugin.assembly.io.DefaultAssemblyReader</p>\n\n<p>Example:</p>\n\n<pre><code>        &lt;!-- Use the assembly plugin to create a zip file of all our dependencies. --&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;descriptorId&gt;assembly-zip-for-wid&lt;/descriptorId&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;cz.ness.ct.ip.assemblies&lt;/groupId&gt;\n                    &lt;artifactId&gt;TEST_SharedAssemblyDescriptor&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 5289121, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>You can add the following to your <strong>pom.xml</strong>:</p>\n\n<pre><code>&lt;build&gt;\n&lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;1.6&lt;/source&gt;\n      &lt;target&gt;1.6&lt;/target&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n          &lt;mainClass&gt;com.mycompany.package.MainClass&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;mainClass&gt;com.mycompany.package.MainClass&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;make-my-jar-with-dependencies&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Afterwards you have to switch via the console to the directory, where the pom.xml is located. Then you have to execute <strong>mvn assembly:single</strong> and then your executable JAR file with dependencies will be hopefully build. You can check it when switching to the output (target) directory with <strong>cd ./target</strong> and starting your jar with a command similiar to <strong>java -jar mavenproject1-1.0-SNAPSHOT-jar-with-dependencies.jar</strong>. </p>\n\n<p>I tested this with <strong>Apache Maven 3.0.3</strong>.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 7052423, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>You could combine the <code>maven-shade-plugin</code> and <code>maven-jar-plugin</code>.</p>\n\n<ul>\n<li>The <code>maven-shade-plugin</code> packs your classes and all dependencies in a single jar file.</li>\n<li>Configure the <code>maven-jar-plugin</code> to specify the main class of your executable jar (see <a href=\"http://maven.apache.org/shared/maven-archiver/examples/classpath.html\">Set Up The Classpath</a>, chapter \"Make The Jar Executable\").</li>\n</ul>\n\n<p>Example POM configuration for <code>maven-jar-plugin</code>:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;com.example.MyMainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Finally create the executable jar by invoking:</p>\n\n<pre><code>mvn clean package shade:shade\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 8279014, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Long used the <strong>maven assembly plugin</strong>, but I could not find a solution to the problem with <a href=\"http://stackoverflow.com/questions/2596655/how-do-i-surpress-maven-assembly-plugin-skipping-files-that-are-already-added-o\"><code>\"already added, skipping\"</code></a>. Now, I'm using another plugin - <a href=\"http://code.google.com/p/onejar-maven-plugin/\"><strong>onejar-maven-plugin</strong></a>. Example below (<code>mvn package</code> build jar):</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.dstovall&lt;/groupId&gt;\n    &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.company.MainClass&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;one-jar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You need to add repository for that plugin:</p>\n\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;onejar-maven-plugin.googlecode.com&lt;/id&gt;\n        &lt;url&gt;http://onejar-maven-plugin.googlecode.com/svn/mavenrepo&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 9692010, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>The maven-assembly-plugin worked great for me.\nI spent hours with the maven-dependency-plugin and couldn't make it work. The main reason was that I had to define in the configuration section explicitly the artifact items which should be included as it is described in the <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/usage.html\" rel=\"nofollow\">documentation</a>. \nThere is an example there for the cases when you want to use it like: <code>mvn dependency:copy</code>, where there are not included any artifactItems but it doesn't work.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 16742511, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Something that have worked for me was:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;unpack-dependencies&lt;/id&gt;\n        &lt;phase&gt;prepare-package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n\n\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;unpack-dependencies&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n          &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n          &lt;mainClass&gt;SimpleKeyLogger&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>I had extraordinary case because my dependency was system one:</p>\n\n<pre><code>&lt;dependency&gt;\n  ..\n  &lt;scope&gt;system&lt;/scope&gt;\n  &lt;systemPath&gt;${project.basedir}/lib/myjar.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have changed the code provided by @user189057 with changes:\n1) maven-dependency-plugin is executed in \"prepare-package\" phase\n2) I am extracting unpacked classess directly to \"target/classes\"</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 18986754, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>You can also use this plug-in, it is pretty good and I use it for packaging my jars <a href=\"http://sonatype.github.io/jarjar-maven-plugin/\" rel=\"nofollow\">http://sonatype.github.io/jarjar-maven-plugin/</a></p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 21433134, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>I blogged about some different ways to do this.</p>\n\n<p>See <a href=\"http://jinahya.wordpress.com/2014/05/22/executable-jar-with-apache-maven/\">Executable Jar with Apache Maven</a> (WordPress)</p>\n\n<p>or <a href=\"https://github.com/jinahya/executable-jar-with-maven-example\">executable-jar-with-maven-example</a> (GitHub)</p>\n\n<h2>Notes</h2>\n\n<p>Those pros and cons are provided by <a href=\"http://stackoverflow.com/users/363573/stephan\">Stephan</a>.</p>\n\n<hr>\n\n<h2>For Manual Deployment</h2>\n\n<ul>\n<li>Pros</li>\n<li>Cons\n\n<ul>\n<li>Dependencies are out of the final jar.</li>\n</ul></li>\n</ul>\n\n<h3>Copy Dependencies to a specific directory</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;copy-dependencies&lt;/id&gt;\n      &lt;phase&gt;prepare-package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;outputDirectory&gt;${project.build.directory}/${project.build.finalName}.lib&lt;/outputDirectory&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<h3>Make the Jar Executable and Classpath Aware</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;archive&gt;\n      &lt;manifest&gt;\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n        &lt;classpathPrefix&gt;${project.build.finalName}.lib/&lt;/classpathPrefix&gt;\n        &lt;mainClass&gt;${fully.qualified.main.class}&lt;/mainClass&gt;\n      &lt;/manifest&gt;\n    &lt;/archive&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>At this point the <code>jar</code> is actually executable with external classpath elements.</p>\n\n<pre><code>$ java -jar target/${project.build.finalName}.jar\n</code></pre>\n\n<h3>Make Deployable Archives</h3>\n\n<p>The <code>jar</code> file is only executable with the sibling <code>...lib/</code> directory. We need to make archives to deploy with the directory and its content.\n</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;antrun-archive&lt;/id&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;target&gt;\n          &lt;property name=\"final.name\" value=\"${project.build.directory}/${project.build.finalName}\"/&gt;\n          &lt;property name=\"archive.includes\" value=\"${project.build.finalName}.${project.packaging} ${project.build.finalName}.lib/*\"/&gt;\n          &lt;property name=\"tar.destfile\" value=\"${final.name}.tar\"/&gt;\n          &lt;zip basedir=\"${project.build.directory}\" destfile=\"${final.name}.zip\" includes=\"${archive.includes}\" /&gt;\n          &lt;tar basedir=\"${project.build.directory}\" destfile=\"${tar.destfile}\" includes=\"${archive.includes}\" /&gt;\n          &lt;gzip src=\"${tar.destfile}\" destfile=\"${tar.destfile}.gz\" /&gt;\n          &lt;bzip2 src=\"${tar.destfile}\" destfile=\"${tar.destfile}.bz2\" /&gt;\n        &lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Now you have <code>target/${project.build.finalName}.(zip|tar|tar.bz2|tar.gz)</code> which each contains the <code>jar</code> and <code>lib/*</code>.</p>\n\n<hr>\n\n<h2>Apache Maven Assembly Plugin</h2>\n\n<ul>\n<li>Pros</li>\n<li>Cons\n\n<ul>\n<li>No class relocation support (use maven-shade-plugin if class relocation is needed).</li>\n</ul></li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;single&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;${fully.qualified.main.class}&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You have <code>target/${project.bulid.finalName}-jar-with-dependencies.jar</code>.</p>\n\n<hr>\n\n<h2>Apache Maven Shade Plugin</h2>\n\n<ul>\n<li>Pros</li>\n<li>Cons</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n            &lt;mainClass&gt;${fully.qualified.main.class}&lt;/mainClass&gt;\n          &lt;/transformer&gt;\n        &lt;/transformers&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You have <code>target/${project.build.finalName}-shaded.jar</code>.</p>\n\n<hr>\n\n<h2>onejar-maven-plugin</h2>\n\n<ul>\n<li>Pros</li>\n<li>Cons\n\n<ul>\n<li>Not actively supported since 2012.</li>\n</ul></li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;!--groupId&gt;org.dstovall&lt;/groupId--&gt; &lt;!-- not available on the central --&gt;\n  &lt;groupId&gt;com.jolira&lt;/groupId&gt;\n  &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;configuration&gt;\n        &lt;mainClass&gt;${fully.qualified.main.class}&lt;/mainClass&gt;\n        &lt;attachToBuild&gt;true&lt;/attachToBuild&gt;\n        &lt;!-- https://code.google.com/p/onejar-maven-plugin/issues/detail?id=8 --&gt;\n        &lt;!--classifier&gt;onejar&lt;/classifier--&gt;\n        &lt;filename&gt;${project.build.finalName}-onejar.${project.packaging}&lt;/filename&gt;\n      &lt;/configuration&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;one-jar&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<hr>\n\n<h2>Spring Boot Maven Plugin</h2>\n\n<ul>\n<li>Pros</li>\n<li>Cons\n\n<ul>\n<li>Add potential unecessary Spring and Spring Boot related classes.</li>\n</ul></li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;classifier&gt;spring-boot&lt;/classifier&gt;\n        &lt;mainClass&gt;${fully.qualified.main.class}&lt;/mainClass&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You have <code>target/${project.bulid.finalName}-spring-boot.jar</code>.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 23986765, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>I tried the most up-voted answer here, and was able to get the jar runnable. But the program didn't run correctly. I do not know what the reason was. When I try to run from <code>Eclipse</code>, I get a different result but when I run the jar from command-line I get a different result (it crashes with a program-specific runtime error).</p>\n\n<p>I had a similar requirement as the OP just that I had too many (Maven) dependencies for my project. Fortunately, the only solution that worked for me was that using <code>Eclipse</code>. Very simple and very straightforward. This is not a solution to the OP but is a solution for someone who has a similar requirement but with many Maven dependencies,</p>\n\n<p>1) Just right-click on your project folder (in Eclipse) and select <code>Export</code></p>\n\n<p>2) Then select <code>Java</code> -> <code>Runnable Jar</code></p>\n\n<p>3) You will be asked to choose the location of the jar file</p>\n\n<p>4) Finally, select the class that has the Main method that you want to run and choose <code>Package dependencies with the Jar file</code> and click <code>Finish</code></p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 26308794, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Okay, so this is my solution. I know it's not using the pom.xml file. But I had the problem my programmme compiling and running on Netbeans but it failing when I tried Java -jar MyJarFile.jar. Now, I don't fully understand Maven and I think this why was having trouble getting Netbeans 8.0.2 to include my jar file in a library to put them into a jar file. I was thinking about how I used to use jar files with no Maven in Eclipse. </p>\n\n<p>It's Maven that can compile all the dependanices and plugins. Not Netbeans. (If you can get Netbeans and be able to use java .jar to do this please tell me how (^.^)v )</p>\n\n<p>[Solved - for Linux] by opening a terminal. </p>\n\n<p>Then</p>\n\n<pre><code>cd /MyRootDirectoryForMyProject\n</code></pre>\n\n<p>Next</p>\n\n<pre><code>mvn org.apache.maven.plugins:maven-compiler-plugin:compile\n</code></pre>\n\n<p>Next</p>\n\n<pre><code>mvn install\n</code></pre>\n\n<p>This will create jar file in the target directory.</p>\n\n<pre><code>MyJarFile-1.0-jar-with-dependencies.jar\n</code></pre>\n\n<p>Now</p>\n\n<pre><code>cd target\n</code></pre>\n\n<p>(You may need to run: <code>chmod +x MyJarFile-1.0-jar-with-dependencies.jar</code>)</p>\n\n<p>And finally</p>\n\n<pre><code>java -jar MyJarFile-1.0-jar-with-dependencies.jar\n</code></pre>\n\n<p>Please see </p>\n\n<p><a href=\"https://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException\" rel=\"nofollow\">https://cwiki.apache.org/confluence/display/MAVEN/LifecyclePhaseNotFoundException</a></p>\n\n<p>I'll post this solution in on a couple of other pages with a similar problem. Hopefully I can save somebody from a week of frustration.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 28490744, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>This is the best way i found:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n        &lt;mainClass&gt;com.myDomain.etc.MainClassName&lt;/mainClass&gt;\n        &lt;classpathPrefix&gt;dependency-jars/&lt;/classpathPrefix&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;copy-dependencies&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;outputDirectory&gt;\n               ${project.build.directory}/dependency-jars/\n            &lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>With this configuration, all dependencies will be located in <code>/dependency-jars</code>. My application has no <code>Main</code> class, just context ones, but one of my dependencies do have a <code>Main</code> class (<code>com.myDomain.etc.MainClassName</code>) that starts the JMX server, and receives a <code>start</code> or a <code>stop</code> parameter. So with this i was able to start my application like this:</p>\n\n<pre><code>java -jar ./lib/TestApp-1.0-SNAPSHOT.jar start\n</code></pre>\n\n<p>I wait it be useful for you all.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 28952832, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>This blog post shows another approach with combining the maven-jar and maven-assembly plugins. With the assembly configuration xml from the blog post it can also be controlled if dependencies will be expanded or just be collected in a folder and referenced by a classpath entry in the manifest:</p>\n\n<blockquote>\n  <p>The ideal solution is to include the jars in a lib folder and the manifest.mf file of the main jar include all the jars in classpath.</p>\n</blockquote>\n\n<p>And exactly that one is described here: <a href=\"https://caffebig.wordpress.com/2013/04/05/executable-jar-file-with-dependent-jars-using-maven/\" rel=\"nofollow\">https://caffebig.wordpress.com/2013/04/05/executable-jar-file-with-dependent-jars-using-maven/</a></p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 30486689, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>I went through every one of these responses looking to make a fat executable jar containing all dependencies and none of them worked right.  The answer is the shade plugin, its very easy and straightforward.</p>\n\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.3&lt;/version&gt;\n      &lt;executions&gt;\n         &lt;!-- Run shade goal on package phase --&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n             &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                &lt;mainClass&gt;path.to.MainClass&lt;/mainClass&gt;\n             &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n          &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>Be aware that your dependencies need to have a scope of compile or runtime for this to work properly.</p>\n\n<p><a href=\"http://www.mkyong.com/maven/create-a-fat-jar-file-maven-shade-plugin/\" rel=\"nofollow\">This example came from mkyong.com</a></p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 33880083, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>This could also be an option,You will be able to build your jar file</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;WordListDriver&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 33914333, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>I compared the tree plugins mentioned in this post. I generated 2 jars and a directory with all the jars. I compared the results and definitely the maven-shade-plugin is the best. My challenge was that I have multiple spring resources that needed to be merged, as well as jax-rs, and JDBC services. They were all merged properly by the shade plugin in comparison with the maven-assembly-plugin. In which case the spring will fail unless you copy them to your own resources folder and merge them manually one time. Both plugins output the correct dependency tree. I had multiple scopes like test,provide, compile, etc the test and provided were skipped by both plugins. They both produced the same manifest but I was able to consolidate licenses with the shade plugin using their transformer.\nWith the maven-dependency-plugin of course you don't have those problems because the jars are not extracted. But like some other have pointed you need to carry one extra file(s) to work properly.\nHere is a snip of the pom.xml</p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;includeScope&gt;compile&lt;/includeScope&gt;\n                        &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt;\n                        &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                        &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;com.rbccm.itf.cdd.poller.landingzone.LandingZonePoller&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-my-jar-with-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\n                &lt;keepDependenciesWithProvidedScope&gt;false&lt;/keepDependenciesWithProvidedScope&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/services/javax.ws.rs.ext.Providers&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/spring.tooling&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"/&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ApacheLicenseResourceTransformer\"&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 35609830, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>Please check this answer with pictorial demo <a href=\"http://stackoverflow.com/a/35359756/5678086\">http://stackoverflow.com/a/35359756/5678086</a> for creating full pack with all dependencies </p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 35771799, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>For anyone looking for options to exclude specific dependencies from the uber-jar, this is a solution that worked for me:</p>\n\n<pre><code>&lt;project...&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt; &lt;=============\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;...&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>So it's not a configuration of the mvn-assembly-plugin but a property of the dependency.</p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 36998853, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}, {"body": "<p>To resolve this issue we will use Maven Assembly Plugin that will create the JAR together with its dependency JARs into a single executable JAR file. Just add below plugin configuration in your pom.xml file.</p>\n\n<pre><code>&lt;build&gt;\n   &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n               &lt;archive&gt;\n                  &lt;manifest&gt;\n                     &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                     &lt;mainClass&gt;com.your.package.MainClass&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n               &lt;/archive&gt;\n               &lt;descriptorRefs&gt;\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n               &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n               &lt;execution&gt;\n                  &lt;id&gt;make-my-jar-with-dependencies&lt;/id&gt;\n                  &lt;phase&gt;package&lt;/phase&gt;\n                  &lt;goals&gt;\n                     &lt;goal&gt;single&lt;/goal&gt;\n                  &lt;/goals&gt;\n               &lt;/execution&gt;\n            &lt;/executions&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>After doing this don\u2019t forget to run MAVEN tool with this command mvn clean compile assembly:single</p>\n\n<p><a href=\"http://jkoder.com/maven-creating-a-jar-together-with-its-dependency-jars-into-a-single-executable-jar-file/\" rel=\"nofollow\">http://jkoder.com/maven-creating-a-jar-together-with-its-dependency-jars-into-a-single-executable-jar-file/</a></p>\n", "title": "How can I create an executable JAR with dependencies using Maven?", "answer_id": 39268946, "question_id": 574594, "tags": ["java", "maven-2", "build-process", "build-automation", "executable-jar"]}], "question_id": 574594}, {"body": "<p>I want to create a list of options for testing purposes. At first, I did this:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = new ArrayList&lt;String&gt;();\nplaces.add(\"Buenos Aires\");\nplaces.add(\"C\u00f3rdoba\");\nplaces.add(\"La Plata\");\n</code></pre>\n\n<p>Then I refactored the code as follows:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = new ArrayList&lt;String&gt;(\n    Arrays.asList(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\"));\n</code></pre>\n\n<p>Is there a better way to do this?</p>\n", "title": "Initialization of an ArrayList in one line", "tags": ["java", "collections", "arraylist", "initialization"], "answer_count": 23, "link": "http://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line", "answers": [{"body": "<p>Actually, probably the \"best\" way to initialize the <code>ArrayList</code> is the method you wrote, as it does not need to create a new <code>List</code> in any way:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"A\");\nlist.add(\"B\");\nlist.add(\"C\");\n</code></pre>\n\n<p>The catch is that there is quite a bit of typing required to refer to that <code>list</code> instance.</p>\n\n<p>There are alternatives, such as making an anonymous inner class with an instance initializer (also known as an \"double brace initialization\"):</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;() {{\n    add(\"A\");\n    add(\"B\");\n    add(\"C\");\n}};\n</code></pre>\n\n<p>However, I'm not too fond of that method because what you end up with is a subclass of <code>ArrayList</code> which has an instance initializer, and that class is created just to create one object -- that just seems like a little bit overkill to me.</p>\n\n<p>What would have been nice was if the <a href=\"http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/001193.html\">Collection Literals proposal</a> for <a href=\"http://openjdk.java.net/projects/coin\">Project Coin</a> was accepted (it was slated to be introduced in Java 7, but it's not likely to be part of Java 8 either.):</p>\n\n<pre><code>List&lt;String&gt; list = [\"A\", \"B\", \"C\"];\n</code></pre>\n\n<p>Unfortunately it won't help you here, as it will initialize an immutable <code>List</code> rather than an <code>ArrayList</code>, and furthermore, it's not available yet, if it ever will be.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 1005083, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>It would be simpler if you were to just declare it as a <code>List</code> - does it have to be an ArrayList?</p>\n\n<pre><code>List&lt;String&gt; places = Arrays.asList(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n\n<p>Or if you have only one element:</p>\n\n<pre><code>List&lt;String&gt; places = Collections.singletonList(\"Buenos Aires\");\n</code></pre>\n\n<p>This would mean that <code>places</code> is <strong>immutable</strong> (trying to change it will cause an <code>UnsupportedOperationException</code> exception to be thrown).</p>\n\n<p>To make a mutable list that is a concrete <code>ArrayList</code> you can create an <code>ArrayList</code> from the immutable list:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = new ArrayList&lt;&gt;(Arrays.asList(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\"));\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 1005089, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>You could create a factory method:</p>\n\n<pre><code>public static ArrayList&lt;String&gt; createArrayList(String ... elements) {\n  ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(); \n  for (String element : elements) {\n    list.add(element);\n  }\n  return list;\n}\n\n....\n\nArrayList&lt;String&gt; places = createArrayList(\n  \"S\u00e3o Paulo\", \"Rio de Janeiro\", \"Bras\u00edlia\"); \n</code></pre>\n\n<p>But it's not much better than your first refactoring.</p>\n\n<p><b>UPDATE:</b> for greater flexibility, it can be generic:</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; createArrayList(T ... elements) { \n  ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;();  \n  for (T element : elements) { \n    list.add(element); \n  } \n  return list; \n} \n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 2762159, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<pre><code>import com.google.common.collect.ImmutableList;\n\n....\n\nList&lt;String&gt; places = ImmutableList.of(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 2819065, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<h1>The simple answer</h1>\n\n<p>In most cases just use</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"foo\", \"bar\", \"baz\");\n</code></pre>\n\n<p>This will give you a <code>List</code> backed by the array, so it cannot change length, which is fine in most cases.</p>\n\n<hr>\n\n<h1>The shorter answer</h1>\n\n<p>You can make it even shorter with a static import:</p>\n\n<pre><code>List&lt;String&gt; strings = asList(\"foo\", \"bar\", \"baz\");\n</code></pre>\n\n<p>This also requires the static import:</p>\n\n<pre><code>import static java.util.Arrays.asList;\n</code></pre>\n\n<p>Which any modern IDE will suggest and automatically do for you.\nFor example in IntelliJ IDEA you press <code>Alt+Enter</code> and select <code>Static import method...</code>.</p>\n\n<hr>\n\n<h1>If you <em>really</em> need an <code>ArrayList</code></h1>\n\n<p>If you must for some reason have an <code>ArrayList</code>, e.g. if you need a <code>List</code> that can change length, use</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;(asList(\"foo\", \"bar\", \"baz\"));\n</code></pre>\n\n<hr>\n\n<h1>Program to interfaces, not to implementations</h1>\n\n<p>You said you've declared the list as an <code>ArrayList</code> in your code, but you should not do that unless you're using some member of <code>ArrayList</code> that's not in <code>List</code>, for example <code>ArrayList.ensureCapacity()</code>. Which is pretty much never.</p>\n\n<p>Usually you should just declare variables by the most general interface that you are going to use (e.g. <code>Iterable</code>, <code>Collection</code>, or <code>List</code>), and initialize them with the specific implementation (e.g. <code>ArrayList</code>, <code>LinkedList</code> or <code>Arrays.asList()</code>).</p>\n\n<p>For example:</p>\n\n<pre><code>Iterable&lt;String&gt; strings = createSpecificList();   // If you just need to iterate\nCollection&lt;String&gt; strings = createSpecificList(); // If you also need .size() or .stream()\nList&lt;String&gt; strings = createSpecificList();       // If you also need .get(index)\n\n// Don't declare a specific list implementation\n// unless you're sure you need it:\nSpecificListImpl&lt;String&gt; strings = createSpecificList();\n</code></pre>\n\n<hr>\n\n<p>Program to interfaces, not to implementations, otherwise you will find that you have to change in more than one place when you want to use another implementation.</p>\n\n<p>Another example would be always declaring variable an <code>InputStream</code> even though it is usually a <code>FileInputStream</code> or a <code>BufferedInputStream</code>, because one day soon you or somebody else will want to use some other kind of <code>InputStream</code>.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 3676539, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>if you need a simple list of size 1:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;(Collections.singletonList(\"A\"));\n</code></pre>\n\n<p>if you need a list of several objects:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nCollections.addAll(strings,\"A\",\"B\",\"C\",\"D\");\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 7238739, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>In Java, you can't do</p>\n\n<pre><code>ArrayList&lt;String&gt; places = new ArrayList&lt;String&gt;( Arrays.asList(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\"));\n</code></pre>\n\n<p>As was pointed out, you'd need to do a double brace initialization:</p>\n\n<pre><code>List&lt;String&gt; places = new ArrayList&lt;String&gt;() {{ add(\"x\"); add(\"y\"); }};\n</code></pre>\n\n<p>But this may force you into adding an annotation <code>@SuppressWarnings(\"serial\")</code> or generate a serial UUID which is annoying. Also most code formatters will unwrap that into multiple statements/lines.</p>\n\n<p>Alternatively you can do</p>\n\n<pre><code>List&lt;String&gt; places = Arrays.asList(new String[] {\"x\", \"y\" });\n</code></pre>\n\n<p>but then you may want to do a <code>@SuppressWarnings(\"unchecked\")</code>.</p>\n\n<p>Also according to javadoc you should be able to do this:</p>\n\n<pre><code>List&lt;String&gt; stooges = Arrays.asList(\"Larry\", \"Moe\", \"Curly\");\n</code></pre>\n\n<p>But I'm not able to get it to compile with JDK 1.6.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 9268535, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<pre><code>public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n    return new ArrayList&lt;T&gt;(a);\n}\n</code></pre>\n\n<p>This is the implementation of <code>Arrays.asList</code>, so you could go with</p>\n\n<pre><code>ArrayList&lt;String&gt; arr = (ArrayList&lt;String&gt;) Arrays.asList(\"1\", \"2\");\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 11741122, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Actually it's possible to do it one line:</p>\n\n<pre><code>Arrays.asList(new MyClass[] {new MyClass(\"arg1\"), new MyClass(\"arg2\")})\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 16883254, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>(Should be a comment, but too long, so new reply).  As others have mentioned, the Arrays.asList method is fixed size, but that's not the only issue with it.  It also doesn't handle inheritance very well.  For instance, suppose you have the following:</p>\n\n<pre><code>class A{}\nclass B extends A{}\n\npublic List&lt;A&gt; getAList(){\n return Arrays.asList(new B());\n}\n</code></pre>\n\n<p>The above results in a compiler error, because <code>List&lt;B&gt;</code>(which is what is returned by Arrays.asList) is not a subclass of <code>List&lt;A&gt;</code>, even though you can add Objects of type B to a <code>List&lt;A&gt;</code> object.  To get around this, you need to do something like:</p>\n\n<pre><code>new ArrayList&lt;A&gt;(Arrays.&lt;A&gt;asList(b1, b2, b3))\n</code></pre>\n\n<p>This is probably the best way to go about doing this, esp. if you need an unbounded list or need to use inheritance.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 16954474, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Like <a href=\"http://stackoverflow.com/a/1005089/1031312\">Tom said</a>:</p>\n\n<pre><code>List&lt;String&gt; places = Arrays.asList(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n\n<p>But since you complained of wanting an ArrayList, you should firstly know that ArrayList is a subclass of List and you could simply add this line:</p>\n\n<pre><code>ArrayList&lt;String&gt; myPlaces = new ArrayList(places);\n</code></pre>\n\n<p>Although, that might make you complain of 'performance'.</p>\n\n<p>In that case it doesn't make sense to me, why, since your list is predefined it wasn't defined as an array (since the size is known at time of initialisation). And if that's an option for you:</p>\n\n<pre><code>String[] places = {\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\"};\n</code></pre>\n\n<p>In case you don't care of the minor performance differences then you can also copy an array to an ArrayList very simply:</p>\n\n<pre><code>ArrayList&lt;String&gt; myPlaces = new ArrayList(Arrays.asList(places));\n</code></pre>\n\n<p>Okay, but in future you need a bit more than just the place name, you need a country code too. Assuming this is still a predefined list which will never change during run-time, then it's fitting to use an <code>enum</code> set, which would require re-compilation if the list needed to be changed in the future.</p>\n\n<pre><code>enum Places {BUENOS_AIRES, CORDOBA, LA_PLATA}\n</code></pre>\n\n<p>would become:</p>\n\n<pre><code>enum Places {\n    BUENOS_AIRES(\"Buenos Aires\",123),\n    CORDOBA(\"C\u00f3rdoba\",456),\n    LA_PLATA(\"La Plata\",789);\n\n    String name;\n    int code;\n    Places(String name, int code) {\n      this.name=name;\n      this.code=code;\n    }\n}\n</code></pre>\n\n<p>Enum's have a static <code>values</code> method that returns an array containing all of the values of the enum in the order they are declared, e.g.:</p>\n\n<pre><code>for (Places p:Places.values()) {\n    System.out.printf(\"The place %s has code %d%n\",\n                  p.name, p.code);\n}\n</code></pre>\n\n<p>In that case I guess you wouldn't need your ArrayList.</p>\n\n<p>P.S. <a href=\"http://stackoverflow.com/a/7238739/1031312\">Randyaa demonstrated</a> another nice way using the static utility method <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Collections.html\" rel=\"nofollow\">Collections.addAll</a>.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 17153770, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>With GUAVA you can write:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = Lists.newArrayList(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\"));\n</code></pre>\n\n<p>In Guava there also other useful static constructors, you can read about them <a href=\"http://code.google.com/p/guava-libraries/wiki/CollectionUtilitiesExplained\">here</a> </p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 17925308, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Simply use as follows.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {{\n            add(\"A\");\n            add(\"B\");\n            add(\"C\");\n           }};\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 18931164, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Collection literals didn't make it into Java 8, but it is possible to use the Stream API to initialize a list in one rather long line:</p>\n\n<pre><code>List&lt;String&gt; places = Stream.of(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\").collect(Collectors.toList());\n</code></pre>\n\n<p>If you need to ensure that your <code>List</code> is an <code>ArrayList</code>:</p>\n\n<pre><code>ArrayList&lt;String&gt; places = Stream.of(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\").collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 22850794, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<pre><code>List&lt;String&gt; names = Arrays.asList(\"2\",\"@2234\",\"21\",\"11\");\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 24349372, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>For me Arrays.asList() is the best and convenient one. I always like to initialize that way.\nIf you are a beginner into Java Collections then I would like you to refer <a href=\"http://www.gitarani.com/classified.htm?classifiedId=3011\" rel=\"nofollow\">ArrayList initialization</a></p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 27339963, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>About the most compact way to do this is:</p>\n\n<pre><code>Double array[] = { 1.0, 2.0, 3.0};\nList&lt;Double&gt; list = Arrays.asList(array);\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 27483301, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> (formerly <a href=\"https://github.com/goldmansachs/gs-collections\" rel=\"nofollow\">GS Collections</a>), you can write the following:</p>\n\n<pre><code>List&lt;String&gt; list = Lists.mutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n\n<p>You can also be more specific about the types and whether they are Mutable or Immutable.</p>\n\n<pre><code>MutableList&lt;String&gt; mList = Lists.mutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nImmutableList&lt;String&gt; iList = Lists.immutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n\n<p>You can also do the same with Sets and Bags:</p>\n\n<pre><code>Set&lt;String&gt; set = Sets.mutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nMutableSet&lt;String&gt; mSet = Sets.mutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nImmutableSet&lt;String&gt; iSet = Sets.immutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n\nBag&lt;String&gt; bag = Bags.mutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nMutableBag&lt;String&gt; mBag = Bags.mutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nImmutableBag&lt;String&gt; iBag = Bags.immutable.with(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 28183168, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<pre><code>Collections.singletonList(messageBody)\n</code></pre>\n\n<p>If you'd need to have a list of <strong>one item</strong>!</p>\n\n<p><em>Collections</em> is from <em>java.util</em> package.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 29429576, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>In Apple WebObjects Foundation framework you can do this.</p>\n\n<pre><code>NSArray&lt;String&gt; places1 = new NSArray&lt;String&gt;(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nNSMutableArray&lt;String&gt; places2 = new NSMutableArray&lt;String&gt;(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\nList&lt;String&gt; places3 = new NSMutableArray&lt;String&gt;(\"Buenos Aires\", \"C\u00f3rdoba\", \"La Plata\");\n</code></pre>\n\n<p>The WebObjects Foundation framework was ported from Objective-C to Java more than a decade ago and was updated after Java 5 added support for generics... I wonder why something similar was not implemented in Java Collections classes.</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 36848675, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Try with this code line:</p>\n\n<pre><code>Collections.singletonList(provider)\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 37255450, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Best way to do it :</p>\n\n<pre><code>package main_package;\n\nimport java.util.ArrayList;\n\n\npublic class Stackkkk {\n    public static void main(String[] args) {\n        ArrayList&lt;Object&gt; list=new ArrayList&lt;Object&gt;();\n        add(list,\"1\",\"2\",\"3\",\"4\",\"5\",\"6\");\n        System.out.println(\"I added \"+list.size()+\" element in one line\");\n    }\n\n    public static void add(ArrayList&lt;Object&gt; list,Object...objects){\n        for(Object object:objects)\n            list.add(object);\n    }\n}\n</code></pre>\n\n<p>just create a function that can have as many elements as you want and call it to add them in one line</p>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 38424597, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}, {"body": "<p>Yes with the help of Arrays you can initialize array list in one line,</p>\n\n<pre><code>List&lt;String&gt; strlist= Arrays.asList(\"aaa\", \"bbb\", \"ccc\");\n</code></pre>\n", "title": "Initialization of an ArrayList in one line", "answer_id": 39463036, "question_id": 1005073, "tags": ["java", "collections", "arraylist", "initialization"]}], "question_id": 1005073}, {"body": "<p>I created some custom elements, and I want to programmatically place them to the upper right corner (<code>n</code> pixels from the top edge and <code>m</code> pixels from the right edge). Therefore I need to get the screen width and screen height and then set position:</p>\n\n<pre><code>int px = screenWidth - m;\nint py = screenHeight - n;\n</code></pre>\n\n<p>How do I get <code>screenWidth</code> and <code>screenHeight</code> in the main Activity?</p>\n", "title": "Get screen dimensions in pixels", "tags": ["android", "layout", "screen", "pixel", "dimensions"], "answer_count": 31, "link": "http://stackoverflow.com/questions/1016896/get-screen-dimensions-in-pixels", "answers": [{"body": "<p>First get view (eg. by <code>findViewById()</code>) and then you can use <a href=\"http://developer.android.com/reference/android/view/View.html#getWidth%28%29\" rel=\"nofollow\"><strong>getWidth()</strong></a> on the view itself.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 1016935, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>If you want the display dimensions in pixels you can use <a href=\"http://developer.android.com/reference/android/view/Display.html#getSize%28android.graphics.Point%29\"><code>getSize</code></a>:</p>\n\n<pre><code>Display display = getWindowManager().getDefaultDisplay();\nPoint size = new Point();\ndisplay.getSize(size);\nint width = size.x;\nint height = size.y;\n</code></pre>\n\n<p>If you're not in an <code>Activity</code> you can get the default <code>Display</code> via <code>WINDOW_SERVICE</code>:</p>\n\n<pre><code>WindowManager wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\nDisplay display = wm.getDefaultDisplay();\n</code></pre>\n\n<p>Before <code>getSize</code> was introduced (in API level 13), you could use the <code>getWidth</code> and <code>getHeight</code> methods that are now deprecated:</p>\n\n<pre><code>Display display = getWindowManager().getDefaultDisplay(); \nint width = display.getWidth();  // deprecated\nint height = display.getHeight();  // deprecated\n</code></pre>\n\n<p>For the use case you're describing however, a margin/padding in the layout seems more appropriate.</p>\n\n<p><strong>22 October 2015</strong></p>\n\n<p>Another ways is: <a href=\"http://developer.android.com/reference/android/util/DisplayMetrics.html\">DisplayMetrics</a></p>\n\n<blockquote>\n  <p>A structure describing general information about a display, such as its size, density, and font scaling. To access the DisplayMetrics members, initialize an object like this:</p>\n</blockquote>\n\n<pre><code>DisplayMetrics metrics = new DisplayMetrics();\ngetWindowManager().getDefaultDisplay().getMetrics(metrics);\n</code></pre>\n\n<p>We can use <code>widthPixels</code> to get information for: </p>\n\n<blockquote>\n  <p>\"The absolute width of the display in pixels.\"</p>\n</blockquote>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>Log.d(\"ApplicationTagName\", \"Display width in px is \" + metrics.widthPixels);\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 1016941, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>One way is:</p>\n\n<pre><code>Display display = getWindowManager().getDefaultDisplay(); \nint width = display.getWidth();\nint height = display.getHeight();\n</code></pre>\n\n<p>It is deprecated, and you should try the following code instead. The first two lines of code gives you the DisplayMetrics objecs. This objects contains the fields like heightPixels,widthPixels.</p>\n\n<pre><code>DisplayMetrics metrics = new DisplayMetrics();\ngetWindowManager().getDefaultDisplay().getMetrics(metrics);\n\nint height = metrics.heightPixels;\nint width = metrics.widthPixels;\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 4847027, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>It may not answer your question, but it could be useful to know (I was looking for it myself when I came to this question) that if you need a View's dimension but your code is being executed when its layout has not been laid out yet (for example in <code>onCreate()</code> ) you can setup a <code>ViewTreeObserver.OnGlobalLayoutListener</code> with <code>View.getViewTreeObserver().addOnGlobalLayoutListener()</code> and put the relevant code that needs the view's dimension there. The listener's callback will be called when the layout will have been laid out.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 5573121, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>For dynamically scaling using XML there is an attribute called \"android:layout_weight\" </p>\n\n<p>The below example, modified from synic's response on <a href=\"http://stackoverflow.com/questions/2581481/assign-width-to-half-available-screen-width-declaratively\">this thread</a>, shows a button that takes up 75% of the screen (weight = .25) and a text view taking up the remaining 25% of the screen (weight = .75).</p>\n\n<pre><code>&lt;LinearLayout android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;Button android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\".25\"\n        android:text=\"somebutton\"&gt;\n\n    &lt;TextView android:layout_width=\"fill_parent\"\n        android:layout_height=\"Wrap_content\"\n        android:layout_weight=\".75\"&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 8600041, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>I found this did the trick.</p>\n\n<pre><code>Rect dim = new Rect();\ngetWindowVisibleDisplayFrame(dim);\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 8763439, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Just adding to Francesco's answer. The other observer that is more apt, if you want to find out the location in window or location in screen is\n<a href=\"http://developer.android.com/reference/android/view/ViewTreeObserver.OnPreDrawListener.html\">ViewTreeObserver.OnPreDrawListener()</a></p>\n\n<p>This also can be used to find other attributes of a view that is mostly unknown at onCreate() time e.g. the scrolled position, the scaled position.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 9733343, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Using the following code in Activity.</p>\n\n<pre><code>DisplayMetrics metrics = new DisplayMetrics();\ngetWindowManager().getDefaultDisplay().getMetrics(metrics);\nint height = metrics.heightPixels;\nint wwidth = metrics.widthPixels;\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 9772463, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Find width and height of the screen:</p>\n\n<pre><code>width = getWindowManager().getDefaultDisplay().getWidth();\nheight = getWindowManager().getDefaultDisplay().getHeight();\n</code></pre>\n\n<p>Using this, we can get the latest and above SDK 13.</p>\n\n<pre><code>// New width and height\nint version = android.os.Build.VERSION.SDK_INT;\nLog.i(\"\", \" name == \"+ version);\nDisplay display = getWindowManager().getDefaultDisplay();\nint width;\nif (version &gt;= 13) {\n    Point size = new Point();\n    display.getSize(size);\n    width = size.x;\n    Log.i(\"width\", \"if =&gt;\" +width);\n}\nelse {\n    width = display.getWidth();\n    Log.i(\"width\", \"else =&gt;\" +width);\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 11077005, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<pre><code>public class AndroidScreenActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        DisplayMetrics dm = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(dm);\n        String str_ScreenSize = \"The Android Screen is: \"\n                                   + dm.widthPixels\n                                   + \" x \"\n                                   + dm.heightPixels;\n\n        TextView mScreenSize = (TextView) findViewById(R.id.strScreenSize);\n        mScreenSize.setText(str_ScreenSize);\n    }\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 11226010, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>(2012 answer, may be out of date) If you want to support pre Honeycomb, you will need to put in backward compatibility prior to API 13. Something like:</p>\n\n<pre><code>int measuredWidth = 0;\nint measuredHeight = 0;\nWindowManager w = getWindowManager();\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    Point size = new Point();\n    w.getDefaultDisplay().getSize(size);\n    measuredWidth = size.x;\n    measuredHeight = size.y;\n} else {\n    Display d = w.getDefaultDisplay();\n    measuredWidth = d.getWidth();\n    measuredHeight = d.getHeight();\n}\n</code></pre>\n\n<p>Of course the deprecated methods will eventually be taken out of the the most recent SDKs, but while we still rely on most of our users having Android 2.1, 2.2 and 2.3, this is what we are left with.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 11623621, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>I have two functions, one for sending the context and the other getting height and width in pixels:</p>\n\n<pre><code>public static int getWidth(Context mContext){\n    int width=0;\n    WindowManager wm = (WindowManager) mContext.getSystemService(Context.WINDOW_SERVICE);\n    Display display = wm.getDefaultDisplay();\n    if(Build.VERSION.SDK_INT&gt;12){\n        Point size = new Point();\n        display.getSize(size);\n        width = size.x;\n    }\n    else{\n        width = display.getWidth();  // Deprecated\n    }\n    return width;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static int getHeight(Context mContext){\n    int height=0;\n    WindowManager wm = (WindowManager) mContext.getSystemService(Context.WINDOW_SERVICE);\n    Display display = wm.getDefaultDisplay();\n    if(Build.VERSION.SDK_INT&gt;12){\n        Point size = new Point();\n        display.getSize(size);\n        height = size.y;\n    }\n    else{\n        height = display.getHeight();  // Deprecated\n    }\n    return height;\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 12936941, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>First load the XML file and then write this code:</p>\n\n<pre><code>setContentView(R.layout.main);      \nDisplay display = getWindowManager().getDefaultDisplay();\nfinal int width = (display.getWidth());\nfinal int height = (display.getHeight());\n</code></pre>\n\n<p>Show width and height according your screen resolution.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 13913159, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>There is a non-deprecated way to do this using DisplayMetrics (API 1), that avoids the try/catch messiness:</p>\n\n<pre><code> // initialize the DisplayMetrics object\n DisplayMetrics deviceDisplayMetrics = new DisplayMetrics();\n\n // populate the DisplayMetrics object with the display characteristics\n getWindowManager().getDefaultDisplay().getMetrics(deviceDisplayMetrics);\n\n // get the width and height\n screenWidth = deviceDisplayMetrics.widthPixels;\n screenHeight = deviceDisplayMetrics.heightPixels;\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 13954704, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>This is the code I use for the task:</p>\n\n<pre><code>// `activity` is an instance of Activity class.\nDisplay display = activity.getWindowManager().getDefaultDisplay();\nPoint screen = new Point();\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    display.getSize(screen);\n} else {            \n    screen.x = display.getWidth();\n    screen.y = display.getHeight();\n}\n</code></pre>\n\n<p>Seems clean enough and yet, takes care of the deprecation.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 14056281, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Need to say, that if you are not in <code>Activity</code>, but in <code>View</code> (or have variable of <code>View</code> type in your scope), there is not need to use <code>WINDOW_SERVICE</code>. Then you can use at least two ways.</p>\n\n<p>First:</p>\n\n<pre><code>DisplayMetrics dm = yourView.getContext().getResources().getDisplayMetrics();\n</code></pre>\n\n<p>Second:</p>\n\n<pre><code>DisplayMetrics dm = new DisplayMetrics();\nyourView.getDisplay().getMetrics(dm);\n</code></pre>\n\n<p>All this methods we call here is not deprecated.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 15444877, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>I have tried all possible \"solutions\" unsuccessfully and I noticed that Elliott Hughes' \"Dalvik Explorer\" app always shows correct dimension on any Android device/OS version. I ended up looking at his open source project that can be found here: <a href=\"https://code.google.com/p/enh/\">https://code.google.com/p/enh/</a></p>\n\n<p>Here's all the relevant code:</p>\n\n<pre><code>WindowManager w = activity.getWindowManager();\nDisplay d = w.getDefaultDisplay();\nDisplayMetrics metrics = new DisplayMetrics();\nd.getMetrics(metrics);\n// since SDK_INT = 1;\nwidthPixels = metrics.widthPixels;\nheightPixels = metrics.heightPixels;\ntry {\n    // used when 17 &gt; SDK_INT &gt;= 14; includes window decorations (statusbar bar/menu bar)\n    widthPixels = (Integer) Display.class.getMethod(\"getRawWidth\").invoke(d);\n    heightPixels = (Integer) Display.class.getMethod(\"getRawHeight\").invoke(d);\n} catch (Exception ignored) {\n}\ntry {\n    // used when SDK_INT &gt;= 17; includes window decorations (statusbar bar/menu bar)\n    Point realSize = new Point();\n    Display.class.getMethod(\"getRealSize\", Point.class).invoke(d, realSize);\n    widthPixels = realSize.x;\n    heightPixels = realSize.y;\n} catch (Exception ignored) {\n}\n</code></pre>\n\n<p>EDIT: slightly improved version (avoid firing exceptions on non-supported OS version):</p>\n\n<pre><code>WindowManager w = activity.getWindowManager();\nDisplay d = w.getDefaultDisplay();\nDisplayMetrics metrics = new DisplayMetrics();\nd.getMetrics(metrics);\n// since SDK_INT = 1;\nwidthPixels = metrics.widthPixels;\nheightPixels = metrics.heightPixels;\n// includes window decorations (statusbar bar/menu bar)\nif (Build.VERSION.SDK_INT &gt;= 14 &amp;&amp; Build.VERSION.SDK_INT &lt; 17)\ntry {\n    widthPixels = (Integer) Display.class.getMethod(\"getRawWidth\").invoke(d);\n    heightPixels = (Integer) Display.class.getMethod(\"getRawHeight\").invoke(d);\n} catch (Exception ignored) {\n}\n// includes window decorations (statusbar bar/menu bar)\nif (Build.VERSION.SDK_INT &gt;= 17)\ntry {\n    Point realSize = new Point();\n    Display.class.getMethod(\"getRealSize\", Point.class).invoke(d, realSize);\n    widthPixels = realSize.x;\n    heightPixels = realSize.y;\n} catch (Exception ignored) {\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 15699681, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>I would wrap the getSize code like this:</p>\n\n<pre><code>@SuppressLint(\"NewApi\")\npublic static Point getScreenSize(Activity a) {\n    Point size = new Point();\n    Display d = a.getWindowManager().getDefaultDisplay();\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n        d.getSize(size);\n    } else {\n        size.x = d.getWidth();\n        size.y = d.getHeight();\n    }\n    return size;\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 16131766, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Isn't this a much better solution? <a href=\"http://developer.android.com/reference/android/util/DisplayMetrics.html\">DisplayMetrics</a> comes with everything you need and works from API 1.</p>\n\n<pre><code>public void getScreenInfo(){\n    DisplayMetrics metrics = new DisplayMetrics();\n    getActivity().getWindowManager().getDefaultDisplay().getMetrics(metrics);\n\n    heightPixels = metrics.heightPixels;\n    widthPixels = metrics.widthPixels;\n    density = metrics.density;\n    densityDpi = metrics.densityDpi;\n}\n</code></pre>\n\n<p>You can also get the actual display (including screen decors, such as Status Bar or software navigation bar) using <a href=\"http://developer.android.com/reference/android/view/Display.html#getRealMetrics%28android.util.DisplayMetrics%29\">getRealMetrics</a>, but this works on 17+ only.</p>\n\n<p>Am I missing something?</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 16511635, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>There are times when you need to know the precise dimensions of the available space for a layout when in an activity's onCreate.\nAfter some thought I worked out this way of doing it.</p>\n\n<pre><code>public class MainActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        startActivityForResult(new Intent(this, Measure.class), 1);\n        // Return without setting the layout, that will be done in onActivityResult.\n    }\n\n    @Override\n    protected void onActivityResult (int requestCode, int resultCode, Intent data) {\n        // Probably can never happen, but just in case.\n        if (resultCode == RESULT_CANCELED) {\n            finish();\n            return;\n        }\n        int width = data.getIntExtra(\"Width\", -1);\n        // Width is now set to the precise available width, and a layout can now be created.            ...\n    }\n}\n\npublic final class Measure extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n       // Create a LinearLayout with a MeasureFrameLayout in it.\n        // Just putting a subclass of LinearLayout in works fine, but to future proof things, I do it this way.\n        LinearLayout linearLayout = new LinearLayout(this);\n        LinearLayout.LayoutParams matchParent = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\n        MeasureFrameLayout measureFrameLayout = new MeasureFrameLayout(this);\n        measureFrameLayout.setLayoutParams(matchParent);\n        linearLayout.addView(measureFrameLayout);\n        this.addContentView(linearLayout, matchParent);\n        // measureFrameLayout will now request this second activity to finish, sending back the width.\n    }\n\n    class MeasureFrameLayout extends FrameLayout {\n        boolean finished = false;\n        public MeasureFrameLayout(Context context) {\n            super(context);\n        }\n\n        @SuppressLint(\"DrawAllocation\")\n        @Override\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n            super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n            if (finished) {\n                return;\n            }\n            finished = true;\n            // Send the width back as the result.\n            Intent data = new Intent().putExtra(\"Width\", MeasureSpec.getSize(widthMeasureSpec));\n            Measure.this.setResult(Activity.RESULT_OK, data);\n            // Tell this activity to finish, so the result is passed back.\n            Measure.this.finish();\n        }\n    }\n}\n</code></pre>\n\n<p>If for some reason you don't want to add another activity to the Android manifest, you can do it this way:</p>\n\n<pre><code>public class MainActivity extends Activity {\n    static Activity measuringActivity;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        Bundle extras = getIntent().getExtras();\n        if (extras == null) {\n            extras = new Bundle();\n        }\n        int width = extras.getInt(\"Width\", -2);\n        if (width == -2) {\n            // First time in, just start another copy of this activity.\n            extras.putInt(\"Width\", -1);\n            startActivityForResult(new Intent(this, MainActivity.class).putExtras(extras), 1);\n            // Return without setting the layout, that will be done in onActivityResult.\n            return;\n        }\n        if (width == -1) {\n            // Second time in, here is where the measurement takes place.\n            // Create a LinearLayout with a MeasureFrameLayout in it.\n            // Just putting a subclass of LinearLayout in works fine, but to future proof things, I do it this way.\n            LinearLayout linearLayout = new LinearLayout(measuringActivity = this);\n            LinearLayout.LayoutParams matchParent = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);\n            MeasureFrameLayout measureFrameLayout = new MeasureFrameLayout(this);\n            measureFrameLayout.setLayoutParams(matchParent);\n            linearLayout.addView(measureFrameLayout);\n            this.addContentView(linearLayout, matchParent);\n            // measureFrameLayout will now request this second activity to finish, sending back the width.\n        }\n    }\n\n    @Override\n    protected void onActivityResult (int requestCode, int resultCode, Intent data) {\n        // Probably can never happen, but just in case.\n        if (resultCode == RESULT_CANCELED) {\n            finish();\n            return;\n        }\n        int width = data.getIntExtra(\"Width\", -3);\n        // Width is now set to the precise available width, and a layout can now be created. \n        ...\n    }\n\nclass MeasureFrameLayout extends FrameLayout {\n    boolean finished = false;\n    public MeasureFrameLayout(Context context) {\n        super(context);\n    }\n\n    @SuppressLint(\"DrawAllocation\")\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n        if (finished) {\n            return;\n        }\n        finished = true;\n        // Send the width back as the result.\n        Intent data = new Intent().putExtra(\"Width\", MeasureSpec.getSize(widthMeasureSpec));\n        MainActivity.measuringActivity.setResult(Activity.RESULT_OK, data);\n        // Tell the (second) activity to finish.\n        MainActivity.measuringActivity.finish();\n    }\n}    \n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 16691531, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>If you don't want the overhead of WindowManagers, Points, or Displays, you can grab the height and width attributes of the topmost View item in your XML, provided its height and width are set to match_parent. (This is true so long as your layout takes up the entire screen.)</p>\n\n<p>For example, if your XML starts with something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/entireLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n</code></pre>\n\n<p>Then <code>findViewById(R.id.entireLayout).getWidth()</code> will return the screen's width and <code>findViewById(R.id.entireLayout).getHeight()</code> will return the screen's height.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 17327869, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>This is not an answer for the OP, as he wanted the display dimensions in real pixels. I wanted the dimensions in \"device-independent-pixels\", and putting together answers from here <a href=\"http://stackoverflow.com/a/17880012/253938\">http://stackoverflow.com/a/17880012/253938</a> and here <a href=\"http://stackoverflow.com/a/6656774/253938\">http://stackoverflow.com/a/6656774/253938</a> I came up with this:</p>\n\n<pre><code>    DisplayMetrics displayMetrics = Resources.getSystem().getDisplayMetrics();\n    int dpHeight = (int)(displayMetrics.heightPixels / displayMetrics.density + 0.5);\n    int dpWidth = (int)(displayMetrics.widthPixels / displayMetrics.density + 0.5);\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 18282566, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>For accessing the height of the status bar for Android devices, we prefer a programmatic way to get it:</p>\n\n<h3>Sample code</h3>\n\n<pre><code>int resId = getResources().getIdentifier(\"status_bar_height\", \"dimen\", \"android\");\nif (resId &gt; 0) {\n    result = getResources().getDimensionPixelSize(resId);\n}\n</code></pre>\n\n<p>The variable <code>result</code> gives the height in the pixel.</p>\n\n<h3>For quick access</h3>\n\n<p><img src=\"http://i.stack.imgur.com/1HxlM.png\" alt=\"Enter image description here\"></p>\n\n<p>For more information about height of <code>Title bar</code>, <code>Navigation bar</code> and <code>Content View</code>, kindly look on <em><a href=\"http://www.emirweb.com/ScreenDeviceStatistics.php\">Android Device Screen Sizes</a></em>.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 18466470, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>For who is searching for <em>usable screen dimension</em> without <strong>Status Bar</strong> and <strong>Action Bar</strong> (also thanks to Swapnil's answer):</p>\n\n<pre><code>DisplayMetrics dm = getResources().getDisplayMetrics();\nfloat screen_w = dm.widthPixels;\nfloat screen_h = dm.heightPixels;\n\nint resId = getResources().getIdentifier(\"status_bar_height\", \"dimen\", \"android\");\nif (resId &gt; 0) {\n    screen_h -= getResources().getDimensionPixelSize(resId);\n}\n\nTypedValue typedValue = new TypedValue();\nif(getTheme().resolveAttribute(android.R.attr.actionBarSize, typedValue, true)){\n    screen_h -= getResources().getDimensionPixelSize(typedValue.resourceId);\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 18694821, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>I have a splash screen activity with a LinearLayout (match_parent) as a root view.\nThis is the code in the onCreate of that activity. I use these measures in all other activities of the app.</p>\n\n<pre><code>int displayWidth = getRawDisplayWidthPreHoneycomb();\n    int rawDisplayHeight = getRawDisplayHeightPreHoneycomb();\n    int usableDisplayHeight = rawDisplayHeight - getStatusBarHeight();\n    pf.setScreenParameters(displayWidth, usableDisplayHeight);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n        LinearLayout myView = (LinearLayout) findViewById(R.id.splash_view);\n        myView.addOnLayoutChangeListener(new OnLayoutChangeListener() {\n            @Override\n            public void onLayoutChange(View v, int left, int top, int right, int bottom, int oldLeft, int oldTop, int oldRight, int oldBottom) {\n                if (left == 0 &amp;&amp; top == 0 &amp;&amp; right == 0 &amp;&amp; bottom == 0) {\n                    return;\n                }\n                int displayWidth = Math.min(right, bottom);\n                int usableDisplayHeight = Math.max(right, bottom);\n                pf.setScreenParameters(displayWidth, usableDisplayHeight);\n            }\n        });\n    }\n\nprivate int getRawDisplayWidthPreHoneycomb() {\n    WindowManager windowManager = getWindowManager();\n    Display display = windowManager.getDefaultDisplay();\n    DisplayMetrics displayMetrics = new DisplayMetrics();\n    display.getMetrics(displayMetrics);\n\n    int widthPixels = displayMetrics.widthPixels;\n    int heightPixels = displayMetrics.heightPixels;\n\n    return Math.min(widthPixels, heightPixels);\n}\n\nprivate int getRawDisplayHeightPreHoneycomb() {\n    WindowManager w = getWindowManager();\n    Display d = w.getDefaultDisplay();\n    DisplayMetrics metrics = new DisplayMetrics();\n    d.getMetrics(metrics);\n\n    int widthPixels = metrics.widthPixels;\n    int heightPixels = metrics.heightPixels;\n\n    return Math.max(widthPixels, heightPixels);\n}\n\npublic int getStatusBarHeight() {\n    int statusBarHeight = 0;\n\n    int resourceId = getResources().getIdentifier(\"status_bar_height\", \"dimen\", \"android\");\n    if (resourceId &gt; 0) {\n        statusBarHeight = getResources().getDimensionPixelSize(resourceId);\n    }\n\n    return statusBarHeight;\n}\n</code></pre>\n\n<p>This results in a height and width of the usable display, excluding any type of bars (status bar, navigation bar), for all API versions and different type of devices (phones and tablets).</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 19746176, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Follow the methods below:</p>\n\n<pre><code>public static int getWidthScreen(Context context) {\n    return getDisplayMetrics(context).widthPixels;\n}\n\npublic static int getHeightScreen(Context context) {\n    return getDisplayMetrics(context).heightPixels;\n}\n\nprivate static DisplayMetrics getDisplayMetrics(Context context) {\n    DisplayMetrics displayMetrics = new DisplayMetrics();\n    WindowManager wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\n    wm.getDefaultDisplay().getMetrics(displayMetrics);\n    return displayMetrics;\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 19841367, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<pre><code>DisplayMetrics dimension = new DisplayMetrics();\ngetWindowManager().getDefaultDisplay().getMetrics(dimension);\nint w = dimension.widthPixels;\nint h = dimension.heightPixels;\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 20655654, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p><strong>Simple function compatible with lower versions as well.</strong></p>\n\n<pre><code>/**\n * @return screen size int[width, height]\n *\n * */\npublic int[] getScreenSize(){\n    Point size = new Point();\n    WindowManager w = getWindowManager();\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2){\n        w.getDefaultDisplay().getSize(size);\n        return new int[]{size.x, size.y};\n    }else{\n        Display d = w.getDefaultDisplay();\n        //noinspection deprecation\n        return new int[]{d.getWidth(), d.getHeight()};\n    }\n}\n</code></pre>\n\n<p><strong>To use:</strong></p>\n\n<pre><code>int width = getScreenSize()[0];\nint height = getScreenSize()[1];\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 24168871, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<pre><code>DisplayMetrics dm = getResources().getDisplayMetrics();\nfloat fwidth = dm.density * dm.widthPixels;\nfloat fheight = dm.density * dm.heightPixels;\n</code></pre>\n\n<p>If <code>getSize</code> gets you an error due to your minSDKVersion and you don't want to use deprecated methods (<code>getWidth</code> &amp; <code>getHeight</code>), the <code>getMetrics</code> solution was originally posted on 2011 by Balaji.K... And Nik added a comment explaining <code>getDisplayMetrics</code> also considers the status bar size.</p>\n\n<p>Some other comments refer to multiply by the scale (<strong>density</strong>) in order to get the precise float value of the dimensions. Tested in Android v2.2 (API 8) and v4.0 with good results and <strong>no errors/warnings</strong>.</p>\n", "title": "Get screen dimensions in pixels", "answer_id": 25621575, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>Simplest way:   </p>\n\n<pre><code> int screenHeight = getResources().getDisplayMetrics().heightPixels;\n int screenWidth = getResources().getDisplayMetrics().widthPixels; \n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 27147132, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}, {"body": "<p>This function returns the approximate screen size in inches.</p>\n\n<pre><code>public double getScreenSize()\n{\n        DisplayMetrics dm = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(dm);\n        int width=dm.widthPixels;\n        int height=dm.heightPixels;\n        int dens=dm.densityDpi;\n        double wi=(double)width/(double)dens;\n        double hi=(double)height/(double)dens;\n        double x = Math.pow(wi,2);\n        double y = Math.pow(hi,2);\n        double screenInches = Math.sqrt(x+y);\n        return screenInches;\n}\n</code></pre>\n", "title": "Get screen dimensions in pixels", "answer_id": 34604799, "question_id": 1016896, "tags": ["android", "layout", "screen", "pixel", "dimensions"]}], "question_id": 1016896}, {"body": "<p>I need to match all of these opening tags:</p>\n\n<pre><code>&lt;p&gt;\n&lt;a href=\"foo\"&gt;\n</code></pre>\n\n<p>But not these:</p>\n\n<pre><code>&lt;br /&gt;\n&lt;hr class=\"foo\" /&gt;\n</code></pre>\n\n<p>I came up with this and wanted to make sure I've got it right. I am only capturing the <code>a-z</code>.</p>\n\n<pre><code>&lt;([a-z]+) *[^/]*?&gt;\n</code></pre>\n\n<p>I believe it says:</p>\n\n<ul>\n<li>Find a less-than, then</li>\n<li>Find (and capture) a-z one or more times, then</li>\n<li>Find zero or more spaces, then</li>\n<li>Find any character zero or more times, greedy, except <code>/</code>, then</li>\n<li>Find a greater-than</li>\n</ul>\n\n<p>Do I have that right? And more importantly, what do you think?</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "tags": ["html", "regex", "xhtml"], "answer_count": 35, "link": "http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags", "answers": [{"body": "<p>You want the first <code>&gt;</code> not preceded by a <code>/</code>.  Look <a href=\"http://www.regular-expressions.info/lookaround.html\">here</a> for details on how to do that.  It's referred to as negative lookbehind.</p>\n\n<p>However, a na\u00efve implementation of that will end up matching <code>&lt;bar/&gt;&lt;/foo&gt;</code> in this example document</p>\n\n<pre><code>&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;\n</code></pre>\n\n<p>Can you provide a little more information on the problem you're trying to solve?  Are you iterating through tags programatically?</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1732382, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Try:</p>\n\n<pre><code>&lt;([^\\s]+)(\\s[^&gt;]*?)?(?&lt;!/)&gt;\n</code></pre>\n\n<p>It is similar to yours, but the last <code>&gt;</code> must not be after a slash, and also accepts <code>h1</code>.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1732395, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>You can't parse [X]HTML with regex. Because HTML can't be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The &lt;center> cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n\u200berves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege\u033f\u0314\u0309x-based HTML parsers are the cancer that is killing StackOverflow <i>it is too late it is too late we cannot be saved</i> the trangession of a chi\u0361ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) <i>dear lord help us how can anyone survive this scourge</i> using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes <i>using rege</i>x as a tool to process HTML establishes a brea<i>ch between this world</i> and the dread realm of c\u0352\u036ao\u035b\u036brrupt entities (like SGML entities, but <i>more corrupt) a mere glimp</i>se of the world of reg\u200b<b>ex parsers for HTML will ins</b>\u200btantly transport a p<i>rogrammer's consciousness i</i>nto a w<i>orl</i>d of ceaseless screaming, he comes<strike>, the pestilent sl</strike>ithy regex-infection wil\u200b<b>l devour your HT</b>\u200bML parser, application and existence for all time like Visual Basic only worse <i>he comes he com</i>es <i>do not fi</i>\u200bght h<b>e com\u0321e\u0336s, \u0315h\u0335i</b>\u200bs un\u0328ho\u035ely radian\u0341ce\u0341 de<i>stro\u0489ying all enli\u030d\u0344\u0302\u0344ghtenment, HTML tags <b>lea\u0360ki\u0327n\u0358g fr\u0336o\u0328m \u0321yo\u200b\u035fur eye\u0362s\u0338 \u031bl\u0315ik\u034fe liq</b>\u200buid p</i>ain, the song of re\u0338gular exp\u200bre<strike>ssion parsing </strike>will exti<i>\u200bnguish the voices of mor\u200b<b>tal man from the sp</b>\u200bhere I can see it can you see \u0332\u035a\u0316\u0354\u0319i\u0302\u0341\u0329t\u0301\u030b\u0340\u0332\u034e\u0329\u0331\u0354 it is beautiful t\u200b</i>he f<code>inal snuf</code>fing o<i>f the lie\u200b<b>s of Man ALL IS LOS\u0301\u030f\u0344\u0356\u0329\u0347\u0317\u032aT A</b></i><b>LL I\u200bS L</b>OST th<i>e pon\u0337y he come</i>s he c\u0336\u032eom<strike>es he co</strike><b><strike>me</strike>s t<i>he</i> ich\u200b</b>or permeat<i>es al</i>l MY FAC<i>E MY FACE \u1d52h god n<b>o NO NOO\u033c</b></i><b>O\u200bO N</b>\u0398 stop t<i>he an\u200b*\u0351\u033e\u033e\u0336\u200b\u0305\u036b\u034f\u0319\u0324g\u035b\u0346\u033e\u036b\u0311\u0346\u0347\u032bl\u030d\u036b\u0365\u0368\u0356\u0349\u0317\u0329\u0333\u031f</i>e\u0305\u0320s<code> \u034ea\u0327\u0348\u0356r\u033d\u033e\u0344\u0352\u0351e</code> n<b>\u200bot re\u0300\u0311\u0367\u030ca\u0368l\u0303\u0364\u0342\u033e\u0306\u0318\u031d\u0319 ZA\u0360\u0321\u034a\u035dLG\u038c IS\u036e\u0302\u0489\u032f\u0348\u0355\u0339\u0318\u0331 T</b>O\u0345\u0347\u0339\u033a\u019d\u0334\u0233\u0333 TH\u0318<b>E\u0344\u0309\u0356 \u0360P\u032f\u034d\u032dO\u031a\u200bN\u0310Y\u0321 H\u0368\u034a\u033d\u0305\u033e\u030e\u0321\u0338\u032a\u032fE\u033e\u035b\u036a\u0344\u0300\u0301\u0327\u0358\u032c\u0329 \u0367\u033e\u036c\u0327\u0336\u0328\u0331\u0339\u032d\u032fC\u036d\u030f\u0365\u036e\u035f\u0337\u0319\u0332\u031d\u0356O\u036e\u034f\u032e\u032a\u031d\u034dM\u034a\u0312\u031a\u036a\u0369\u036c\u031a\u035c\u0332\u0316E\u0311\u0369\u034c\u035d\u0334\u031f\u031f\u0359\u031e</b>S\u036f\u033f\u0314\u0328\u0340\u0325\u0345\u032b\u034e\u032d</p>\n\n<hr>\n\n<p>Have you tried using an XML parser instead?</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>Moderator's Note</strong></p>\n  \n  <p>This post is locked to prevent inappropriate edits to its content. The post looks exactly as it is supposed to look - there are no problems with its content. Please do not flag it for our attention.</p>\n</blockquote>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1732454, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I suggest using <a href=\"http://querypath.org/\">QueryPath</a> for parsing XML and HTML in PHP.  It's basically much the same syntax as jQuery, only it's on the server side.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1732595, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>While it is true that asking regexes to parse <em>arbitrary</em> HTML is like asking Paris Hilton to write an operating system, it's sometimes appropriate to parse a <em>limited, known</em> set of HTML.  </p>\n\n<p>If you have a small set of HTML pages that you want to scrape data from and then stuff into a database, regexes might work fine.  For example, I recently wanted to get the names, parties, and districts of Australian federal Representatives, which I got off of the Parliament's web site.  This was a limited, one-time job.  </p>\n\n<p>Regexes worked just fine for me, and were very fast to set up.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1733489, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>The W3C explains parsing in a pseudo regexp form:<br>\n<a href=\"http://www.w3.org/TR/REC-xml-names/#ns-using\">W3C Link</a>  </p>\n\n<p>Follow the var links for <code>QName</code>, <code>S</code>, and <code>Attribute</code> to get a clearer picture.<br>\nBased on that you can create a pretty good regexp to handle things like stripping tags.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1736770, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p><strong>Disclaimer</strong>: use a parser if you have the option. That said...</p>\n\n<p>This is the regex I use (!) to match HTML tags:</p>\n\n<pre><code>&lt;(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\"&gt;])+&gt;\n</code></pre>\n\n<p>It may not be perfect, but I ran this code through a <em>lot</em> of HTML. Note that it even catches strange things like <code>&lt;a name=\"badgenerator\"\"&gt;</code>, which show up on the web.</p>\n\n<p>I guess to make it not match self contained tags, you'd either want to use <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732395#1732395\">Kobi</a>'s negative look-behind:</p>\n\n<pre><code>&lt;(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\"&gt;])+(?&lt;!/\\s*)&gt;\n</code></pre>\n\n<p>or just combine if and if not.</p>\n\n<p><strong>To downvoters:</strong> This is working code from an actual product. I doubt anyone reading this page will get the impression that it is socially acceptable to use regexes on HTML. </p>\n\n<p><strong>Caveat</strong>: I should note that this regex still breaks down in the presence of CDATA blocks, comments, and script and style elements. Good news is, you can get rid of those using a regex...  </p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1736801, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<pre><code>&lt;?php\n$selfClosing = explode(',', 'area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed');\n\n$html = '\n&lt;p&gt;&lt;a href=\"#\"&gt;foo&lt;/a&gt;&lt;/p&gt;\n&lt;hr/&gt;\n&lt;br/&gt;\n&lt;div&gt;name&lt;/div&gt;';\n\n$dom = new DOMDocument();\n$dom-&gt;loadHTML($html);\n$els = $dom-&gt;getElementsByTagName('*');\nforeach ( $els as $el ) {\n    $nodeName = strtolower($el-&gt;nodeName);\n    if ( !in_array( $nodeName, $selfClosing ) ) {\n        var_dump( $nodeName );\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>string(4) \"html\"\nstring(4) \"body\"\nstring(1) \"p\"\nstring(1) \"a\"\nstring(3) \"div\"\n</code></pre>\n\n<p>Basically just define the element node names that are self closing, load the whole html string into a DOM library, grab all elements, loop through and filter out ones which aren't self closing and operate on them.</p>\n\n<p>I'm sure you already know by now that you shouldn't use regex for this purpose.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1737662, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>It seems to me you're trying to match tags without a \"/\" at the end. Try this:</p>\n\n<pre><code>&lt;([a-zA-Z][a-zA-Z0-9]*)[^&gt;]*(?&lt;!/)&gt;\n</code></pre>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1738126, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I used a open source tool called <a href=\"http://htmlparser.sourceforge.net/\">HTMLParser</a> before. It's designed to parse HTML in various ways and serves the purpose quite well. It can parse HTML as different treenode and you can easily use its API to get attributes out of the node. Check it out and see if this can help you.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1744002, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>If you need this for PHP:</p>\n\n<p>The <a href=\"http://www.php.net/manual/en/function.dom-import-simplexml.php\">PHP DOM</a> <a href=\"http://php.net/manual/en/class.domdocument.php\">functions</a> won't work properly unless it is properly formatted XML. No matter how much better their use is for the rest of mankind.</p>\n\n<p><a href=\"http://simplehtmldom.sourceforge.net/\">simplehtmldom</a> is good, but I found it a bit buggy, and it is is quite memory heavy [Will crash on large pages.]</p>\n\n<p>I have never used <a href=\"http://querypath.org/\">querypath</a>, so can't comment on its usefulness. </p>\n\n<p>Another one to try is my <a href=\"http://github.com/siteroller/domparser\">DOMParser</a> which is very light on resources and I've been using happily for a while. Simple to learn &amp; powerful.</p>\n\n<p>For Python and Java, similar links were posted.</p>\n\n<p>For the downvoters - I only wrote my class when the XML parsers proved unable to withstand real use. Religious downvoting just prevents useful answers from being posted - keep things within perspective of the question, please.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1744154, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I don't know your exact need for this, but if you are also using .NET, couldn't you use <a href=\"http://www.codeplex.com/htmlagilitypack\">Html Agility Pack</a>?</p>\n\n<p>Excerpt:</p>\n\n<blockquote>\n  <p><em>It is a .NET code library that allows\n  you to parse \"out of the web\" HTML\n  files. The parser is very tolerant\n  with \"real world\" malformed HTML.</em></p>\n</blockquote>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1745488, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Whenever I need to quickly extract something from an HTML document, I use Tidy to convert it to XML and then use XPath or XSLT to get what I need.\nIn your case, something like this: </p>\n\n<pre><code>//p/a[@href='foo']\n</code></pre>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1756533, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I think the flaw here is that HTML is a <a href=\"http://en.wikipedia.org/wiki/Context-free_grammar\">Chomsky Type 2 grammar (context free grammar)</a> and RegEx is a <a href=\"http://en.wikipedia.org/wiki/Regular_grammar\">Chomsky Type 3 grammar (regular grammar)</a>. Since a Type 2 grammar is fundamentally more complex than a Type 3 grammar (see the <a href=\"http://en.wikipedia.org/wiki/Chomsky_hierarchy\">Chomsky hierarchy</a>), you can't possibly  make this work. But many will try, some will claim success and others will find the fault and totally mess you up.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1758162, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I recently wrote an HTML sanitizer in Java. It is based on a mixed approach of regular expressions and Java code. Personally I hate regular expressions and its folly (readability, maintainability, etc.), but if you reduce the scope of its applications it may fit your needs. Anyway, my sanitizer uses a white list for HTML tags and a black list for some style attributes.</p>\n\n<p>For your convenience I have set up a playground so you can test if the code matches your requirements: <a href=\"http://patapage.com/applications/pataPage/site/test/testSanitize.jsp\">playground and Java code</a>. Your feedback will be appreciated.</p>\n\n<p>There is a small article describing this work on my blog: <a href=\"http://roberto.open-lab.com\">http://roberto.open-lab.com</a></p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 1879462, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>While the answers that you can't parse HTML with regexes are correct, they don't apply here. The OP just wants to parse one HTML tag with regexes, and that is something that can be done with a regular expression.</p>\n\n<p>The suggested regex is wrong, though:</p>\n\n<pre><code>&lt;([a-z]+) *[^/]*?&gt;\n</code></pre>\n\n<p>If you add something to the regex, by backtracking it can be forced to match silly things like <code>&lt;a &gt;&gt;</code>, <code>[^/]</code> is too permissive. Also note that <code>&lt;space&gt;*[^/]*</code> is redundant, because the <code>[^/]*</code> can also match spaces.</p>\n\n<p>My suggestion would be</p>\n\n<pre><code>&lt;([a-z]+)[^&gt;]*(?&lt;!/)&gt;\n</code></pre>\n\n<p>Where <code>(?&lt;! ... )</code> is (in Perl regexes) the negative look-behind. It reads \"a &lt;, then a word, then anything that's not a >, the last of which may not be a /, followed by >\".</p>\n\n<p>Note that this allows things like <code>&lt;a/ &gt;</code> (just like the original regex), so if you want something more restrictive, you need to build a regex to match attribute pairs separated by spaces.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 2146912, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>As many people have already pointed out, HTML is not a regular language which can make it very difficult to parse. My solution to this is to turn it into a regular language using a tidy program and then to use an XML parser to consume the results. There are a lot of good options for this. My program is written using Java with the <a href=\"http://jtidy.sourceforge.net/\">jtidy</a> library to turn the HTML into XML and then Jaxen to xpath into the result.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 2201251, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Although it's not suitable and effective to use regular expressions for that purpose sometimes regular expressions provide quick solutions for simple match problems and in my view it's not that horrbile to use regular expressions for trivial works. </p>\n\n<p>There is a <a href=\"http://blog.stevenlevithan.com/archives/match-innermost-html-element\">definitive blog post</a> about matching innermost HTML elements written by Steven Levithan.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 2226652, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>In shell, you can parse <a href=\"https://en.wikipedia.org/wiki/HTML\">HTML</a> using:</p>\n\n<ul>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Sed\">sed</a> though:</p>\n\n<ol>\n<li><a href=\"http://sed.sourceforge.net/grabbag/scripts/turing.sed\">Turing.sed</a></li>\n<li>Write HTML parser (homework)</li>\n<li>???</li>\n<li>Profit!</li>\n</ol></li>\n<li><p><code>hxselect</code> from <a href=\"http://www.w3.org/Tools/HTML-XML-utils/README\"><code>html-xml-utils</code></a> package</p></li>\n<li><p><code>vim</code>/<code>ex</code> (which can easily <a href=\"http://vi.stackexchange.com/q/780/467\">jump between html tags</a>), for example:</p>\n\n<ul>\n<li><p>removing style tag with inner code:</p>\n\n<pre><code>$ curl -s http://example.com/ | ex -s +'/&lt;style.*/norm nvatd' +%p -cq! /dev/stdin\n</code></pre></li>\n</ul></li>\n<li><p><code>grep</code>, for example:</p>\n\n<ul>\n<li><p>extracting outer html of H1:</p>\n\n<pre><code>$ curl -s http://example.com/ | grep -o '&lt;h1&gt;.*&lt;/h1&gt;'\n&lt;h1&gt;Example Domain&lt;/h1&gt;\n</code></pre></li>\n<li><p>extracting the body:</p>\n\n<pre><code>$ curl -s http://example.com/ | tr '\\n' ' ' | grep -o '&lt;body&gt;.*&lt;/body&gt;'\n&lt;body&gt; &lt;div&gt; &lt;h1&gt;Example Domain&lt;/h1&gt; ...\n</code></pre></li>\n</ul></li>\n<li><p><code>html2text</code> to plain text parsing:</p>\n\n<ul>\n<li><p>like <a href=\"http://stackoverflow.com/a/33054370/55075\">parsing tables</a>:</p>\n\n<pre><code>$ html2text foo.txt | column -ts'|'\n</code></pre></li>\n</ul></li>\n<li><p>using <code>xpath</code> (<code>XML::XPath</code> perl module), see <a href=\"http://stackoverflow.com/a/6855461/55075\">example here</a></p></li>\n<li><p>perl or Python (see <a href=\"http://unix.stackexchange.com/a/64747/21471\">@Gilles example</a>)</p></li>\n<li><p>for parsing multiple files at once, see: <a href=\"http://unix.stackexchange.com/q/6389/21471\">How to parse hundred html source code files in shell?</a></p></li>\n</ul>\n\n<hr>\n\n<p>Related (why you shouldn't use regex match):</p>\n\n<ul>\n<li><a href=\"https://blog.codinghorror.com/if-you-like-regular-expressions-so-much-why-dont-you-marry-them/\">If You Like Regular Expressions So Much, Why Don't You Marry Them?</a></li>\n<li><a href=\"https://blog.codinghorror.com/regular-expressions-now-you-have-two-problems/\">Regular Expressions: Now You Have Two Problems</a></li>\n<li><a href=\"http://danlec.com/blog/hacking-stackoverflow-com-s-html-sanitizer\">Hacking stackoverflow.com's HTML sanitizer</a></li>\n</ul>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 2263520, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>This may do:</p>\n\n<pre><code>&lt;.*?[^/]&gt;\n</code></pre>\n\n<p>Or without the ending tags:</p>\n\n<pre><code>&lt;[^/].*?[^/]&gt;\n</code></pre>\n\n<p>What's with the flame wars on HTML parsers? HTML parsers must parse (and rebuild!) the entire document before it can categorize your search. Regular expressions may be a faster / elegant in certain circumstances. My 2 cents...</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 2696690, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>There are some nice regexes for replacing HTML with BBCode <a href=\"http://www.garyshood.com/htmltobb/source.txt\">here</a>. For all you nay-sayers, note that he's not trying to fully parse HTML, just to sanitize it. He can probably afford to kill off tags that his simple \"parser\" can't understand.</p>\n\n<p>For example:</p>\n\n<pre><code>$store =~ s/http:/http:\\/\\//gi;\n$store =~ s/https:/https:\\/\\//gi;\n$baseurl = $store;\n\nif (!$query-&gt;param(\"ascii\")) {\n    $html =~ s/\\s\\s+/\\n/gi;\n    $html =~ s/&lt;pre(.*?)&gt;(.*?)&lt;\\/pre&gt;/\\[code]$2\\[\\/code]/sgmi;\n}\n\n$html =~ s/\\n//gi;\n$html =~ s/\\r\\r//gi;\n$html =~ s/$baseurl//gi;\n$html =~ s/&lt;h[1-7](.*?)&gt;(.*?)&lt;\\/h[1-7]&gt;/\\n\\[b]$2\\[\\/b]\\n/sgmi;\n$html =~ s/&lt;p&gt;/\\n\\n/gi;\n$html =~ s/&lt;br(.*?)&gt;/\\n/gi;\n$html =~ s/&lt;textarea(.*?)&gt;(.*?)&lt;\\/textarea&gt;/\\[code]$2\\[\\/code]/sgmi;\n$html =~ s/&lt;b&gt;(.*?)&lt;\\/b&gt;/\\[b]$1\\[\\/b]/gi;\n$html =~ s/&lt;i&gt;(.*?)&lt;\\/i&gt;/\\[i]$1\\[\\/i]/gi;\n$html =~ s/&lt;u&gt;(.*?)&lt;\\/u&gt;/\\[u]$1\\[\\/u]/gi;\n$html =~ s/&lt;em&gt;(.*?)&lt;\\/em&gt;/\\[i]$1\\[\\/i]/gi;\n$html =~ s/&lt;strong&gt;(.*?)&lt;\\/strong&gt;/\\[b]$1\\[\\/b]/gi;\n$html =~ s/&lt;cite&gt;(.*?)&lt;\\/cite&gt;/\\[i]$1\\[\\/i]/gi;\n$html =~ s/&lt;font color=\"(.*?)\"&gt;(.*?)&lt;\\/font&gt;/\\[color=$1]$2\\[\\/color]/sgmi;\n$html =~ s/&lt;font color=(.*?)&gt;(.*?)&lt;\\/font&gt;/\\[color=$1]$2\\[\\/color]/sgmi;\n$html =~ s/&lt;link(.*?)&gt;//gi;\n$html =~ s/&lt;li(.*?)&gt;(.*?)&lt;\\/li&gt;/\\[\\*]$2/gi;\n$html =~ s/&lt;ul(.*?)&gt;/\\[list]/gi;\n$html =~ s/&lt;\\/ul&gt;/\\[\\/list]/gi;\n$html =~ s/&lt;div&gt;/\\n/gi;\n$html =~ s/&lt;\\/div&gt;/\\n/gi;\n$html =~ s/&lt;td(.*?)&gt;/ /gi;\n$html =~ s/&lt;tr(.*?)&gt;/\\n/gi;\n\n$html =~ s/&lt;img(.*?)src=\"(.*?)\"(.*?)&gt;/\\[img]$baseurl\\/$2\\[\\/img]/gi;\n$html =~ s/&lt;a(.*?)href=\"(.*?)\"(.*?)&gt;(.*?)&lt;\\/a&gt;/\\[url=$baseurl\\/$2]$4\\[\\/url]/gi;\n$html =~ s/\\[url=$baseurl\\/http:\\/\\/(.*?)](.*?)\\[\\/url]/\\[url=http:\\/\\/$1]$2\\[\\/url]/gi;\n$html =~ s/\\[img]$baseurl\\/http:\\/\\/(.*?)\\[\\/img]/\\[img]http:\\/\\/$1\\[\\/img]/gi;\n\n$html =~ s/&lt;head&gt;(.*?)&lt;\\/head&gt;//sgmi;\n$html =~ s/&lt;object&gt;(.*?)&lt;\\/object&gt;//sgmi;\n$html =~ s/&lt;script(.*?)&gt;(.*?)&lt;\\/script&gt;//sgmi;\n$html =~ s/&lt;style(.*?)&gt;(.*?)&lt;\\/style&gt;//sgmi;\n$html =~ s/&lt;title&gt;(.*?)&lt;\\/title&gt;//sgmi;\n$html =~ s/&lt;!--(.*?)--&gt;/\\n/sgmi;\n\n$html =~ s/\\/\\//\\//gi;\n$html =~ s/http:\\//http:\\/\\//gi;\n$html =~ s/https:\\//https:\\/\\//gi;\n\n$html =~ s/&lt;(?:[^&gt;'\"]*|(['\"]).*?\\1)*&gt;//gsi;\n$html =~ s/\\r\\r//gi;\n$html =~ s/\\[img]\\//\\[img]/gi;\n$html =~ s/\\[url=\\//\\[url=/gi;\n</code></pre>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 2708960, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>About the question of the RegExp methods to parse (x)HTML, the answer to all of the ones who spoke about some limits is: you have not been trained enough to rule the force of this powerful weapon, since <strong>NOBODY</strong> here spoke about <strong>recursion</strong>.</p>\n\n<p>A RegExp-agnostic colleague notified me this discussion, which is not certainly the first on the web about this old and hot topic.</p>\n\n<p>After reading some posts, the first thing I did was looking for the \"?R\" string in this thread. The second was to search about \"recursion\".<br>\nNo, holy cow, no match found.<br>\nSince nobody mentioned the main mechanism a parser is built onto, I was soon aware that nobody got the point.</p>\n\n<p>If an (x)HTML parser needs recursion, a RegExp parser without recursion is not enough for the purpose. It's a simple construct.</p>\n\n<p>The <strong>black art of RegExp is hard to master</strong>, so maybe there are further possibilities we left out while trying and testing our personal solution to capture the whole web in one hand... Well, I am sure about it :)</p>\n\n<p>Here's the magic pattern:</p>\n\n<pre><code>$pattern = \"/&lt;([\\w]+)([^&gt;]*?)(([\\s]*\\/&gt;)|(&gt;((([^&lt;]*?|&lt;\\!\\-\\-.*?\\-\\-&gt;)|(?R))*)&lt;\\/\\\\1[\\s]*&gt;))/s\";\n</code></pre>\n\n<p>Just try it.<br>\nIt's written as a PHP string, so the \"s\" modifier makes classes include newlines.<br />\nHere's a <strong>sample note on the PHP manual</strong> I wrote on January: <a href=\"http://php.net/manual/en/regexp.reference.recursive.php\">Reference</a></p>\n\n<p>(Take care, in that note I wrongly used the \"m\" modifier; it should be erased, notwithstanding it is discarded by the RegExp engine, since no ^ or $ anchorage was used).</p>\n\n<p>Now, we could speak about the limits of this method from a more informed point of view:</p>\n\n<ol>\n<li>according to the specific implementation of the RegExp engine, recursion may have a limit in the <strong>number of nested patterns parsed</strong>, but it depends on the language used</li>\n<li>although corrupted (x)HTML does not drive into severe errors, it is not <em>sanitized</em>.</li>\n</ol>\n\n<p>Anyhow it is only a RegExp pattern, but it discloses the possibility to develop of a lot of powerful implementations.<br>\nI wrote this pattern to power the <em>recursive descent parser</em> of a template engine I built in my framework, and performances are really great, both in execution times or in memory usage (nothing to do with other template engines which use the same syntax).</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 3180176, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Here is a <a href=\"http://kingdesk.com/projects/php-parser/\">PHP based parser</a> that parses HTML using  some ungodly regex. As the author of this project, I can tell you it is possible to parse HTML with regex, but not efficient. If you need a server-side solution (as I did for my <a href=\"http://wordpress.org/extend/plugins/wp-typography/\">wp-Typography WordPress plugin</a>), this works.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 3274138, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>If you only want the tag names it should be possible to do this via regex.</p>\n\n<pre><code>&lt;([a-zA-Z]+)(?:[^&gt;]*[^/] *)?&gt; \n</code></pre>\n\n<p>should do what you need. But I think the solution of \"moritz\" is already fine. I didn't see it in the beginning.</p>\n\n<p>For all downvoters: In some cases it just makes sense to use regex, because it can be the easiest and quickest solution. I agree that in general you should not parse HTML with regex. But regex can be a very powerful tool when you have a subset of HTML where you know the format and you just want to extract some values. I did that hundreds of times and almost always achieved what I wanted.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 4265601, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>The OP doesn't seem to say what he needs to do with the tags. For example, does he need to extract inner text, or just examine the tags?</p>\n\n<p>I'm firmly in the camp that says RegEx is not the be-all, end-all text parser. I've written a large amount of text-parsing code including <a href=\"http://www.blackbeltcoder.com/Articles/strings/parsing-html-tags-in-c\">this code to parse HTML tags</a>.</p>\n\n<p>While it's true I'm not all that great with RegEx, I consider regular expressions just too rigid and hard to maintain for this sort of parsing.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 5210512, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>There are people that will tell you that the Earth is round (or perhaps that the Earth is an oblate spheroid, if they want to use strange words). They are lying. </p>\n\n<p>There are people that will tell you that Regular Expressions shouldn't be recursive. They are limiting you. They need to subjugate you, and they do it by keeping you in ignorance.</p>\n\n<p>You can live in their reality or take the red pill.</p>\n\n<p>Like the Lord Marshal (is he a relative of the Marshal .NET class?), I have seen the <strike>Underverse</strike> Stack Based Regex-Verse and returned with <strike>powers</strike> knowledge you can't imagine. Yes, I think there were an Old One or two protecting them, but they were watching football on the TV, so it wasn't difficult.</p>\n\n<p>I think the XML case is quite simple. The RegEx (in the .NET syntax), deflated and coded in base64 to make it easier to comprehend by your feeble mind, should be something like this: </p>\n\n<pre><code>7L0HYBxJliUmL23Ke39K9UrX4HShCIBgEyTYkEAQ7MGIzeaS7B1pRyMpqyqBymVWZV1mFkDM7Z28\n995777333nvvvfe6O51OJ/ff/z9cZmQBbPbOStrJniGAqsgfP358Hz8itn6Po9/3eIue3+Px7/3F\n86enJ8+/fHn64ujx7/t7vFuUd/Dx65fHJ6dHW9/7fd/t7fy+73Ye0v+f0v+Pv//JnTvureM3b169\nOP7i9Ogyr5uiWt746u+BBqc/8dXx86PP7tzU9mfQ9tWrL18d3UGnW/z7nZ9htH/y9NXrsy9fvPjq\ni5/46ss3p4z+x3e8b452f9/x93a2HxIkH44PpgeFyPD6lMAEHUdbcn8ffTP9fdTrz/8rBPCe05Iv\np9WsWF788Obl9MXJl0/PXnwONLozY747+t7x9k9l2z/4vv4kqo1//993+/vf2kC5HtwNcxXH4aOf\nLRw2z9/v8WEz2LTZcpaV1TL/4c3h66ex2Xv95vjF0+PnX744PbrOm59ZVhso5UHYME/dfj768H7e\nYy5uQUydDAH9+/4eR11wHbqdfPnFF6cv3ogq/V23t++4z4620A13cSzd7O1s/77rpw+ePft916c7\nO/jj2bNnT7e/t/397//M9+ibA/7s6ZNnz76PP0/kT2rz/Ts/s/0NArvziYxVEZWxbm93xsrUfnlm\nrASN7Hf93u/97vvf+2Lx/e89L7+/FSXiz4Bkd/hF5mVq9Yik7fcncft9350QCu+efkr/P6BfntEv\nz+iX9c4eBrFz7wEwpB9P+d9n9MfuM3yzt7Nzss0/nuJfbra3e4BvZFR7z07pj3s7O7uWJM8eCkme\nnuCPp88MfW6kDeH7+26PSTX8vu+ePAAiO4LVp4zIPWC1t7O/8/+pMX3rzo2KhL7+8s23T1/RhP0e\nvyvm8HbsdmPXYDVhtpdnAzJ1k1jeufOtUAM8ffP06Zcnb36fl6dPXh2f/F6nRvruyHfMd9rgJp0Y\ngvsRx/6/ZUzfCtX4e5hTndGzp5jQo9e/z+s3p1/czAUMlts+P3tz+uo4tISd745uJxvb3/v4ZlWs\nmrjfd9SG/swGPD/6+nh+9MF4brTBRmh1Tl5+9eT52ckt5oR0xldPzp7GR8pfuXf5PWJv4nJIwvbH\nW3c+GY3vPvrs9zj8Xb/147/n7/b7/+52DD2gsSH8zGDvH9+i9/fu/PftTfTXYf5hB+9H7P1BeG52\nMTtu4S2cTAjDizevv3ry+vSNb8N+3+/1po2anj4/hZsGt3TY4GmjYbEKDJ62/pHB+3/LmL62wdsU\n1J18+eINzTJr3dMvXr75fX7m+MXvY9XxF2e/9+nTgPu2bgwh5U0f7u/74y9Pnh6/OX4PlA2UlwTn\nxenJG8L996VhbP3++PCrV68QkrjveITxr2TIt+lL+f3k22fPn/6I6f/fMqZvqXN/K4Xps6sazUGZ\nGeQlar49xEvajzI35VRevDl78/sc/b7f6jkG8Va/x52N4L9lBe/kZSh1hr9fPj19+ebbR4AifyuY\n12efv5CgGh9TroR6Pj2l748iYxYgN8Z7pr0HzRLg66FnRvcjUft/45i+pRP08vTV6TOe2N/9jv37\nR9P0/5YxbXQDeK5E9R12XdDA/4zop+/9Ht/65PtsDVlBBUqko986WsDoWqvbPD2gH/T01DAC1NVn\n3/uZ0feZ+T77fd/GVMkA4KjeMcg6RcvQLRl8HyPaWVStdv17PwHV0bOB9xUh7rfMp5Zu3icBJp25\nD6f0NhayHyfI3HXHY6YYCw7Pz17fEFhQKzS6ZWChrX+kUf7fMqavHViEPPKjCf1/y5hukcyPTvjP\nmHQCppRDN4nbVFPaT8+ekpV5/TP8g/79mVPo77PT1/LL7/MzL7548+XvdfritflFY00fxIsvSQPS\nmvctdYZpbt7vxKRfj3018OvC/hEf/79lTBvM3debWj+b8KO0wP+3OeM2aYHumuCAGonmCrxw9cVX\nX1C2d4P+uSU7eoBUMzI3/f9udjbYl/el04dI7s8fan8dWRjm6gFx+NrKeFP+WX0CxBdPT58df/X8\nDaWLX53+xFdnr06f/szv++NnX7x8fnb6NAhIwsbPkPS7iSUQAFETvP2Tx8+/Og0Xt/yBvDn9vd/c\netno8S+81QKXptq/ffzKZFZ+4e/743e8zxino+8RX37/k595h5/H28+y7fPv490hQdJ349E+txB3\nzPZ5J/jsR8bs/y1j2hh/2fkayOqEmYcej0cXUWMN7QrqBwjDrVZRfyQM3xjj/EgYvo4wfLTZrnVS\nebdKq0XSZJvzajKQDUv1/P3NwbEP7cN5+Odivv9/ysPfhHfkOP6b9Fl+91v7LD9aCvp/+Zi+7lLQ\nj0zwNzYFP+/Y6r1NcFeDbfBIo8rug3zS3/3WPumPlN3/y8f0I2X3cz4FP+/Y6htSdr2I42fEuSPX\n/ewpL4e9/n1evzn94hb+Plpw2+dnbyh79zx0CsPvbq0lb+UQ/h7xvqPq/Gc24PnR18fzVrp8I57d\nmehj7ebk5VdPnp+d3GJOSP189eTsaXyk/JV7l98j4SAZgRxtf7x155PR+O6jz36Pw9/1Wz/+e/5u\nv//vbsfQAxobws8M9v7xLXp/785/395ED4nO1wx5fsTeH4LnRva+eYY8rpZUBFb/j/jfm8XAvfEj\n4/b/ljF1F9B/jx5PhAkp1nu/+y3n+kdZp/93jWmjJ/M11TG++VEG6puZn593PPejoOyHMQU/79jq\nGwrKfpSB+tmcwZ93XPkjZffDmIKfd2z1DSm7bmCoPPmjBNT74XkrVf71I/Sf6wTU7XJA4RB+lIC6\nmW1+xN5GWw1/683C5rnj/m364cmr45Pf6/SN9H4Us4LISn355vjN2ZcvtDGT6fHvapJcMISmxc0K\nMAD4IyP6/5Yx/SwkP360FvD1VTH191mURr/HUY+2P3I9boPnz7Ju/pHrcWPnP3I9/r/L3sN0v52z\n0fEgNrgbL8/Evfh9fw/q5Xf93u/97vvf+2Lx/e89L7+/Fe3iZ37f34P5h178kTfx/5YxfUs8vY26\n7/d4/OWbb5++ogn7PX5XzOHtOP3GrsHmqobOVO/8Hh1Gk/TPl198QS6w+rLb23fcZ0fMaTfjsv29\n7Zul7me2v0FgRoYVURnf9nZEkDD+H2VDf8hjeq8xff1s6GbButNLacEtefHm9VdPXp++CRTw7/v9\nr6vW8b9eJ0+/PIHzs1HHdyKE/x9L4Y+s2f+PJPX/1dbsJn3wrY6wiqv85vjVm9Pnp+DgN8efM5va\nj794+eb36Xz3mAf5+58+f3r68s230dRvJcxKn/l//oh3f+7H9K2O0r05PXf85s2rH83f/1vGdAvd\nw+qBFqsoWvzspozD77EpXYeZ7yzdfxy0ec+l+8e/8FbR84+Wd78xbvn/qQQMz/J7L++GPB7N0MQa\n2vTMBwjDrVI0PxKGb4xxfiQMX0cYPuq/Fbx2C1sU8yEF+F34iNsx1xOGa9t6l/yX70uqmxu+qBGm\nAxlxWwVS11O97ULqlsFIUvUnT4/fHIuL//3f9/t9J39Y9m8W/Tuc296yUeX/b0PiHwUeP1801Y8C\nj/9vz9+PAo8f+Vq35Jb/n0rAz7Kv9aPA40fC8P+RMf3sC8PP08DjR1L3DXHoj6SuIz/CCghZNZb8\nfb/Hf/2+37tjvuBY9vu3jmRvxNeGgQAuaAF6Pwj8/+e66M8/7rwpRNj6uVwXZRl52k0n3FVl95Q+\n+fz0KSu73/dtkGDYdvZgSP5uskadrtViRKyal2IKAiQfiW+FI+tET/9/Txj9SFf8SFf8rOuKzagx\n+r/vD34mUADO1P4/AQAA//8=\n</code></pre>\n\n<p>The options to set is <code>RegexOptions.ExplicitCapture</code>. The capture group you are looking for is <code>ELEMENTNAME</code>. If the capture group <code>ERROR</code> is not empty then there was a parsing error and the Regex stopped.</p>\n\n<p>If you have problems reconverting it to a human readable regex, this should help:</p>\n\n<pre class=\"lang-csharp prettyprint-override\"><code>static string FromBase64(string str)\n{\n    byte[] byteArray = Convert.FromBase64String(str);\n\n    using (var msIn = new MemoryStream(byteArray))\n    using (var msOut = new MemoryStream()) {\n        using (var ds = new DeflateStream(msIn, CompressionMode.Decompress)) {\n            ds.CopyTo(msOut);\n        }\n\n        return Encoding.UTF8.GetString(msOut.ToArray());\n    }\n}\n</code></pre>\n\n<p>If you are unsure, no, I'm NOT kidding (but perhaps I'm lying). It WILL work. I've built tons of unit tests to test it, and I have even used (part of) the <a href=\"http://www.w3.org/XML/Test/\">conformance tests</a>. It's a tokenizer, not a full blown parser, so it will only split the XML in its component tokens. It won't parse/integrate DTDs.</p>\n\n<p>Oh... if you want the source code of the regex, with some auxiliary methods:</p>\n\n<p><a href=\"http://snipt.net/xanatos/regex-to-tokenize-an-xml\">regex to tokenize an xml</a> or <a href=\"http://pastebin.com/HUmPzP5M\">the full plain regex</a> </p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 5233151, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Don't listen to these guys. You actually <strong>can</strong> parse context-free grammars with regex if you break the task into smaller pieces. You can generate the correct pattern with a script that does each of these in order: </p>\n\n<ol>\n<li>Solve the Halting Problem.</li>\n<li>Square a circle (simulate the \"ruler and compass\" method for this).</li>\n<li>Work out the Traveling Salesman Problem in O(log n). It needs to be fast or the generator will hang.</li>\n<li>The pattern will be pretty big, so make sure you have an algorithm that losslessly compresses random data.</li>\n<li>Almost there - just divide the whole thing by zero. Easy-peasy.</li>\n</ol>\n\n<p>I haven't figured out the last part yet, but I know I'm getting close. My code keeps throwing <code>CthulhuRlyehWgahnaglFhtagnException</code>s lately, so I'm going to port it to VB 6 and use <code>On Error Resume Next</code>. I'll update with the code once I investigate this strange door that just opened in the wall. Hmm.</p>\n\n<p>P.S. Pierre de Fermat also figured out how to do it, but the margin he was writing in wasn't big enough for the code.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 5236278, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I like to parse HTML with regular expressions. I don't attempt to parse idiot HTML that is deliberately broken. This code is my main parser (Perl edition):</p>\n\n<pre><code>$_ = join \"\",&lt;STDIN&gt;; tr/\\n\\r \\t/ /s; s/&lt;/\\n&lt;/g; s/&gt;/&gt;\\n/g; s/\\n ?\\n/\\n/g;\ns/^ ?\\n//s; s/ $//s; print\n</code></pre>\n\n<p>It's called htmlsplit, splits the HTML into lines, with one tag or chunk of text on each line.  The lines can then be processed further with other text tools and scripts, such as <a href=\"http://en.wikipedia.org/wiki/Grep\">grep</a>, <a href=\"http://en.wikipedia.org/wiki/Sed\">sed</a>, Perl, etc. I'm not even joking :) Enjoy.</p>\n\n<p>It is simple enough to rejig my slurp-everything-first Perl script into a nice streaming thing, if you wish to process enormous web pages. But it's not really necessary.</p>\n\n<p>I bet I will get downvoted for this.</p>\n\n<p><a href=\"http://sam.nipl.net/code/nipl-tools/bin/htmlsplit\">HTML Split</a></p>\n\n<hr/>\n\n<p>Against my expectation this got some upvotes, so I'll suggest some better regular expressions:</p>\n\n<pre><code>/(&lt;.*?&gt;|[^&lt;]+)\\s*/g    # get tags and text\n/(\\w+)=\"(.*?)\"/g       # get attibutes\n</code></pre>\n\n<p>They are good for XML / XHTML.</p>\n\n<p>With minor variations, it can cope with messy HTML... or convert the HTML -> XHTML first.</p>\n\n<hr/>\n\n<p>The best way to write regular expressions is in the <a href=\"http://en.wikipedia.org/wiki/Lex_%28software%29\">Lex</a> / <a href=\"http://en.wikipedia.org/wiki/Yacc\">Yacc</a> style, not as opaque one-liners or commented multi-line monstrosities. I didn't do that here, yet; these ones barely need it.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 6653839, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Here's the solution:</p>\n\n<pre><code>&lt;?php\n// here's the pattern:\n$pattern = '/&lt;(\\w+)(\\s+(\\w+)\\s*\\=\\s*(\\'|\")(.*?)\\\\4\\s*)*\\s*(\\/&gt;|&gt;)/';\n\n// a string to parse:\n$string = 'Hello, try clicking &lt;a href=\"#paragraph\"&gt;here&lt;/a&gt;\n    &lt;br/&gt;and check out.&lt;hr /&gt;\n    &lt;h2&gt;title&lt;/h2&gt;\n    &lt;a name =\"paragraph\" rel= \"I\\'m an anchor\"&gt;&lt;/a&gt;\n    Fine, &lt;span title=\\'highlight the \"punch\"\\'&gt;thanks&lt;span&gt;.\n    &lt;div class = \"clear\"&gt;&lt;/div&gt;\n    &lt;br&gt;';\n\n// let's get the occurrences:\npreg_match_all($pattern, $string, $matches, PREG_PATTERN_ORDER);\n\n// print the result:\nprint_r($matches[0]);\n?&gt;\n</code></pre>\n\n<p>To test it deeply, I entered in the string auto-closing tags like:</p>\n\n<ol>\n<li>&lt;hr /&gt;</li>\n<li>&lt;br/&gt;</li>\n<li>&lt;br&gt;</li>\n</ol>\n\n<p>I also entered tags with:</p>\n\n<ol>\n<li>one attribute</li>\n<li>more than one attribute</li>\n<li>attributes which value is bound either into <strong>single quotes</strong> or into <strong>double quotes</strong></li>\n<li>attributes containing single quotes when the delimiter is a double quote and vice versa</li>\n<li>\"unpretty\" attributes with a space before the \"=\" symbol, after it and both before and after it.</li>\n</ol>\n\n<p>Should you find something which does not work in the proof of concept above, I am available in analysing the code to improve my skills.</p>\n\n<p><strong>&lt;EDIT&gt;</strong>\nI forgot that the question from the user was to avoid the parsing of self-closing tags.\nIn this case the pattern is simpler, turning into this:</p>\n\n<pre><code>$pattern = '/&lt;(\\w+)(\\s+(\\w+)\\s*\\=\\s*(\\'|\")(.*?)\\\\4\\s*)*\\s*&gt;/';\n</code></pre>\n\n<p>The user @ridgerunner noticed that the pattern does not allow <strong>unquoted attributes</strong> or <strong>attributes with no value</strong>. In this case a fine tuning brings us the following pattern:</p>\n\n<pre><code>$pattern = '/&lt;(\\w+)(\\s+(\\w+)(\\s*\\=\\s*(\\'|\"|)(.*?)\\\\5\\s*)?)*\\s*&gt;/';\n</code></pre>\n\n<p><strong>&lt;/EDIT&gt;</strong></p>\n\n<h1>Understanding the pattern</h1>\n\n<p>If someone is interested in learning more about the pattern, I provide some line:</p>\n\n<ol>\n<li>the first sub-expression (\\w+) matches the tagname</li>\n<li>the second sub-expression contains the pattern of an attribute. It is composed by:\n<ol>\n<li>one or more whitespaces \\s+</li>\n<li>the name of the attribute (\\w+)</li>\n<li>zero or more whitespaces \\s* (it is possible or not, leaving blanks here)</li>\n<li>the \"=\" symbol</li>\n<li>again, zero or more whitespaces</li>\n<li>the delimiter of the attribute value, a single or double quote ('|\"). In the pattern, the single quote is escaped because it coincides with the PHP string delimiter. This sub-expression is captured with the parentheses so it can be referenced again to parse the closure of the attribute, that's why it is very important.</li>\n<li>the value of the attribute, matched by <em>almost</em> anything: (.*?); in this specific syntax, using the <strong>greedy match</strong> (the question mark after the asterisk) the RegExp engine enables a \"look-ahead\"-like operator, which matches anything but what follows this sub-expression</li>\n<li>here comes the fun: the \\4 part is a <strong>backreference operator</strong>, which refers to a sub-expression defined before in the pattern, in this case I am referring to the fourth sub-expression, which is the first attribute delimiter found</li>\n<li>zero or more whitespaces \\s*</li>\n<li>the attribute sub-expression ends here, with the specification of zero or more possible occurrences, given by the asterisk.</li>\n</ol></li>\n<li>Then, since a tag may end with a whitespace before the \"&gt;\" symbol, zero or more whitespaces are matched with the \\s* subpattern.</li>\n<li>The tag to match may end with a simple \"&gt;\" symbol, or a possible XHTML closure, which makes use of the slash before it: (/>|>). The slash is of course escaped, since it coincides with the regular expression delimiter.</li>\n</ol>\n\n<p>Small tip: to better analyse this code it is necessary looking at the source code generated, since I did not provide any HTML special characters escaping.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 6817767, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>I agree that the right tool to parse XML and <em>especially HTML</em> is a parser and not a regular expression engine.  However, like others have pointed out, sometimes using a regex is quicker, easier, and gets the job done if you know the data format.</p>\n\n<p>Microsoft actually has a section of <a href=\"http://msdn.microsoft.com/en-us/library/gg578045.aspx\">Best Practices for Regular Expressions in the .NET Framework</a> and specifically talks about <a href=\"http://msdn.microsoft.com/en-us/library/gg578045.aspx#InputSource\">Consider[ing] the Input Source</a>.</p>\n\n<p>Regular Expressions do have limitations, but have you considered the following?</p>\n\n<p>The .NET framework is unique when it comes to regular expressions in that it supports <a href=\"http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition\">Balancing Group Definitions</a>.</p>\n\n<ul>\n<li>See <a href=\"http://weblogs.asp.net/whaggard/archive/2005/02/20/377025.aspx\">Matching Balanced Constructs with .NET Regular Expressions</a></li>\n<li>See <a href=\"http://blogs.msdn.com/bclteam/archive/2005/03/15/396452.aspx\">.NET Regular Expressions: Regex and Balanced Matching</a></li>\n<li>See Microsoft's docs on <a href=\"http://msdn.microsoft.com/en-us/library/bs2twtah.aspx#balancing_group_definition\">Balancing Group Definitions</a></li>\n</ul>\n\n<p>For this reason, I believe you CAN parse XML using regular expressions.  Note however, that it <strong>must be valid XML</strong> (<em>browsers are very forgiving of HTML and allow bad XML syntax inside HTML</em>).  This is possible since the \"Balancing Group Definition\" will allow the regular expression engine to act as a PDA.</p>\n\n<p>Quote from article 1 cited above:</p>\n\n<blockquote>\n  <p><strong>.NET Regular Expression Engine</strong></p>\n  \n  <p>As described above properly balanced constructs cannot be described by\n  a regular expression. However, the .NET regular expression engine\n  provides a few constructs that allow balanced constructs to be\n  recognized. </p>\n  \n  <ul>\n  <li><code>(?&lt;group&gt;)</code> - pushes the captured result on the capture stack with\n  the name group.</li>\n  <li><code>(?&lt;-group&gt;)</code> - pops the top most capture with the name group off the\n  capture stack.</li>\n  <li><code>(?(group)yes|no)</code> - matches the yes part if there exists a group\n  with the name group otherwise matches no part.</li>\n  </ul>\n  \n  <p>These constructs allow for a .NET regular expression to emulate a\n  restricted PDA by essentially allowing simple versions of the stack\n  operations: push, pop and empty. The simple operations are pretty much\n  equivalent to increment, decrement and compare to zero respectively.\n  This allows for the .NET regular expression engine to recognize a\n  subset of the context-free languages, in particular the ones that only\n  require a simple counter. This in turn allows for the non-traditional\n  .NET regular expressions to recognize individual properly balanced\n  constructs.</p>\n</blockquote>\n\n<p>Consider the following regular expression:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(?=&lt;ul\\s+id=\"matchMe\"\\s+type=\"square\"\\s*&gt;)\n(?&gt;\n   &lt;!-- .*? --&gt;                  |\n   &lt;[^&gt;]*/&gt;                      |\n   (?&lt;opentag&gt;&lt;(?!/)[^&gt;]*[^/]&gt;)  |\n   (?&lt;-opentag&gt;&lt;/[^&gt;]*[^/]&gt;)     |\n   [^&lt;&gt;]*\n)*\n(?(opentag)(?!))\n</code></pre>\n\n<p>Use the flags:</p>\n\n<ul>\n<li>Singleline</li>\n<li>IgnorePatternWhitespace (not necessary if you collapse regex and remove all whitespace)</li>\n<li>IgnoreCase (not necessary)</li>\n</ul>\n\n<h2>Regular Expression Explained (inline)</h2>\n\n<pre class=\"lang-none prettyprint-override\"><code>(?=&lt;ul\\s+id=\"matchMe\"\\s+type=\"square\"\\s*&gt;) # match start with &lt;ul id=\"matchMe\"...\n(?&gt;                                        # atomic group / don't backtrack (faster)\n   &lt;!-- .*? --&gt;                 |          # match xml / html comment\n   &lt;[^&gt;]*/&gt;                     |          # self closing tag\n   (?&lt;opentag&gt;&lt;(?!/)[^&gt;]*[^/]&gt;) |          # push opening xml tag\n   (?&lt;-opentag&gt;&lt;/[^&gt;]*[^/]&gt;)    |          # pop closing xml tag\n   [^&lt;&gt;]*                                  # something between tags\n)*                                         # match as many xml tags as possible\n(?(opentag)(?!))                           # ensure no 'opentag' groups are on stack\n</code></pre>\n\n<p>You can try this at <a href=\"http://derekslager.com/blog/posts/2007/09/a-better-dotnet-regular-expression-tester.ashx\">A Better .NET Regular Expression Tester</a>.</p>\n\n<p>I used the sample source of:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;div&gt;\n   &lt;br /&gt;\n   &lt;ul id=\"matchMe\" type=\"square\"&gt;\n      &lt;li&gt;stuff...&lt;/li&gt;\n      &lt;li&gt;more stuff&lt;/li&gt;\n      &lt;li&gt;\n          &lt;div&gt;\n               &lt;span&gt;still more&lt;/span&gt;\n               &lt;ul&gt;\n                    &lt;li&gt;Another &amp;gt;ul&amp;lt;, oh my!&lt;/li&gt;\n                    &lt;li&gt;...&lt;/li&gt;\n               &lt;/ul&gt;\n          &lt;/div&gt;\n      &lt;/li&gt;\n   &lt;/ul&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This found the match:</p>\n\n<pre><code>   &lt;ul id=\"matchMe\" type=\"square\"&gt;\n      &lt;li&gt;stuff...&lt;/li&gt;\n      &lt;li&gt;more stuff&lt;/li&gt;\n      &lt;li&gt;\n          &lt;div&gt;\n               &lt;span&gt;still more&lt;/span&gt;\n               &lt;ul&gt;\n                    &lt;li&gt;Another &amp;gt;ul&amp;lt;, oh my!&lt;/li&gt;\n                    &lt;li&gt;...&lt;/li&gt;\n               &lt;/ul&gt;\n          &lt;/div&gt;\n      &lt;/li&gt;\n   &lt;/ul&gt;\n</code></pre>\n\n<p>although it actually came out like this:</p>\n\n<pre><code>&lt;ul id=\"matchMe\" type=\"square\"&gt;           &lt;li&gt;stuff...&lt;/li&gt;           &lt;li&gt;more stuff&lt;/li&gt;           &lt;li&gt;               &lt;div&gt;                    &lt;span&gt;still more&lt;/span&gt;                    &lt;ul&gt;                         &lt;li&gt;Another &amp;gt;ul&amp;lt;, oh my!&lt;/li&gt;                         &lt;li&gt;...&lt;/li&gt;                    &lt;/ul&gt;               &lt;/div&gt;           &lt;/li&gt;        &lt;/ul&gt;\n</code></pre>\n\n<p>Lastly, I really enjoyed Jeff Atwood's article:  <a href=\"http://www.codinghorror.com/blog/2009/11/parsing-html-the-cthulhu-way.html\">Parsing Html The Cthulhu Way</a>.  Funny enough, it cites the answer to this question that currently has over 4k votes.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 7564061, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<pre><code>&lt;\\s*(\\w+)[^/&gt;]*&gt;\n</code></pre>\n\n<p>The parts explained:</p>\n\n<p><code>&lt;</code>: starting character</p>\n\n<p><code>\\s*</code>: it may have whitespaces before tag name (ugly but possible).</p>\n\n<p><code>(\\w+)</code>: tags can contain letters and numbers (h1). Well, <code>\\w</code> also matches '_', but it does not hurt I guess. If curious use ([a-zA-Z0-9]+) instead.</p>\n\n<p><code>[^/&gt;]*</code>: anything except <code>&gt;</code> and <code>/</code> until closing <code>&gt;</code></p>\n\n<p><code>&gt;</code>: closing <code>&gt;</code></p>\n\n<h3>UNRELATED</h3>\n\n<p>And to fellows who underestimate regular expressions saying they are only as powerful as regular languages:</p>\n\n<p>a<sup>n</sup>ba<sup>n</sup>ba<sup>n</sup> which is not regular and not even context free, can be matched with <code>^(a+)b\\1b\\1$</code></p>\n\n<p>Backreferencing <a href=\"http://en.wiktionary.org/wiki/FTW\">FTW</a>!</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 10535487, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>Sun Tzu, an ancient Chinese strategist, general, and philosopher, said:</p>\n\n<blockquote>\n  <p>It is said that if you know your enemies and know yourself, you can win a hundred battles without a single loss.\n  If you only know yourself, but not your opponent, you may win or may lose.\n  If you know neither yourself nor your enemy, you will always endanger yourself.</p>\n</blockquote>\n\n<p>In this case your enemy is HTML and you are either yourself or regex.  You might even be Perl with irregular regex. Know HTML.  Know yourself.</p>\n\n<p>I have composed a haiku describing the nature of HTML.</p>\n\n<pre><code>HTML has\ncomplexity exceeding\nregular language.\n</code></pre>\n\n<p>I have also composed a haiku describing the nature of regex in Perl.</p>\n\n<pre><code>The regex you seek\nis defined within the phrase\n&lt;([a-zA-Z]+)(?:[^&gt;]*[^/]*)?&gt;\n</code></pre>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 10633717, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p><strong>I think this might work</strong></p>\n\n<pre><code>&lt;[a-z][^&lt;&gt;]*(?:(?:[^/]\\s*)|(?:\\s*[^/]))&gt;\n</code></pre>\n\n<p>And that could be tested <a href=\"http://regexr.com?312s9\">here</a>.</p>\n\n<hr>\n\n<h2>As per <a href=\"http://www.w3schools.com/xml/xml_elements.asp\">w3schools</a>...</h2>\n\n<h2>XML Naming Rules</h2>\n\n<p>XML elements must follow these naming rules:</p>\n\n<ul>\n<li>Names can contain letters, numbers, and other characters</li>\n<li>Names cannot start with a number or punctuation character</li>\n<li>Names cannot start with the letters xml (or XML, or Xml, etc)</li>\n<li>Names cannot contain spaces</li>\n<li>Any name can be used, no words are reserved.</li>\n</ul>\n\n<hr>\n\n<p>And the pattern I used is going to adhere these rules.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 10766648, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>It's true that when programming it's usually best to use dedicated parsers and APIs instead of regular expressions when dealing with HTML, especially if accuracy is paramount (e.g., if your processing might have security implications). However, I don\u2019t ascribe to a dogmatic view that XML-style markup should never be processed with regular expressions. There are cases when regular expressions are a great tool for the job, such as when making one-time edits in a text editor, fixing broken XML files, or dealing with file formats that look like but aren\u2019t quite XML. There are some issues to be aware of, but they're not insurmountable or even necessarily relevant.</p>\n\n<p>A simple regex like <code>&lt;([^&gt;\"']|\"[^\"]*\"|'[^']*')*&gt;</code> is usually good enough, in cases such as those I just mentioned. It's a naive solution, all things considered, but it does correctly allow unencoded <code>&gt;</code> symbols in attribute values. If you're looking for, e.g., a <code>table</code> tag, you could adapt it as <code>&lt;/?table\\b([^&gt;\"']|\"[^\"]*\"|'[^']*')*&gt;</code>.</p>\n\n<p>Just to give a sense of what a more \"advanced\" HTML regex would look like, the following does a fairly respectable job of emulating real-world browser behavior and the HTML5 parsing algorithm:</p>\n\n<pre><code>&lt;/?([A-Za-z][^\\s&gt;/]*)(?:=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s&gt;]+)|[^&gt;])*(?:&gt;|$)\n</code></pre>\n\n<p>The following matches a fairly strict definition of XML tags (although it doesn't account for the full set of Unicode characters allowed in XML names):</p>\n\n<pre><code>&lt;(?:([_:A-Z][-.:\\w]*)(?:\\s+[_:A-Z][-.:\\w]*\\s*=\\s*(?:\"[^\"]*\"|'[^']*'))*\\s*/?|/([_:A-Z][-.:\\w]*)\\s*)&gt;\n</code></pre>\n\n<p>Granted, these don't account for surrounding context and a few edge cases, but even such things could be dealt with if you really wanted to (e.g., by searching between the matches of another regex).</p>\n\n<p>At the end of the day, use the most appropriate tool for the job, even in the cases when that tool happens to be a regex.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 10791453, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}, {"body": "<p>If you're simply trying to find those tags (without ambitions of parsing) try this regular expression:</p>\n\n<pre><code>/&lt;[^/]*?&gt;/g\n</code></pre>\n\n<p>I wrote it in 30 seconds, and tested here:\n<a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow\">http://gskinner.com/RegExr/</a></p>\n\n<p>It matches the types of tags you mentioned, while ignoring the types you said you wanted to ignore.</p>\n", "title": "RegEx match open tags except XHTML self-contained tags", "answer_id": 10844758, "question_id": 1732348, "tags": ["html", "regex", "xhtml"]}], "question_id": 1732348}, {"body": "<p>What is the difference between <code>__str__</code> and <code>__repr__</code> in Python?</p>\n", "title": "Difference between __str__ and __repr__ in Python", "tags": ["python"], "answer_count": 13, "link": "http://stackoverflow.com/questions/1436703/difference-between-str-and-repr-in-python", "answers": [{"body": "<p>From <a href=\"http://pyref.infogami.com/%5F%5Fstr%5F%5F\" rel=\"nofollow\">http://pyref.infogami.com/%5F%5Fstr%5F%5F</a> by effbot:</p>\n\n<p><code>__str__</code> \"computes the \"informal\" string representation of an object. This differs from <code>__repr__</code> in that it does not have to be a valid Python expression: a more convenient or concise representation may be used instead.\"</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 1436706, "question_id": 1436703, "tags": ["python"]}, {"body": "<p><strong><code>__repr__</code></strong>: representation of python object usually eval will convert it back to that object</p>\n\n<p><strong><code>__str__</code></strong>: is whatever you think is that object in text form</p>\n\n<p>e.g.</p>\n\n<pre><code>&gt;&gt;&gt; s=\"\"\"w'o\"w\"\"\"\n&gt;&gt;&gt; repr(s)\n'\\'w\\\\\\'o\"w\\''\n&gt;&gt;&gt; str(s)\n'w\\'o\"w'\n&gt;&gt;&gt; eval(str(s))==s\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;string&gt;\", line 1\n    w'o\"w\n       ^\nSyntaxError: EOL while scanning single-quoted string\n&gt;&gt;&gt; eval(repr(s))==s\nTrue\n</code></pre>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 1436721, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>Unless you specifically act to ensure otherwise, most classes don't have helpful results for either:</p>\n\n<pre><code>&gt;&gt;&gt; class Sic(object): pass\n... \n&gt;&gt;&gt; print str(Sic())\n&lt;__main__.Sic object at 0x8b7d0&gt;\n&gt;&gt;&gt; print repr(Sic())\n&lt;__main__.Sic object at 0x8b7d0&gt;\n&gt;&gt;&gt;\n</code></pre>\n\n<p>As you see -- no difference, and no info beyond the class and object's <code>id</code>.  If you only override one of the two...:</p>\n\n<pre><code>&gt;&gt;&gt; class Sic(object): \n...   def __repr__(object): return 'foo'\n... \n&gt;&gt;&gt; print str(Sic())\nfoo\n&gt;&gt;&gt; print repr(Sic())\nfoo\n&gt;&gt;&gt; class Sic(object):\n...   def __str__(object): return 'foo'\n... \n&gt;&gt;&gt; print str(Sic())\nfoo\n&gt;&gt;&gt; print repr(Sic())\n&lt;__main__.Sic object at 0x2617f0&gt;\n&gt;&gt;&gt;\n</code></pre>\n\n<p>as you see, if you override <code>__repr__</code>, that's ALSO used for <code>__str__</code>, but not vice versa.</p>\n\n<p>Other crucial tidbits to know: <code>__str__</code> on a built-on container uses the <code>__repr__</code>, NOT the <code>__str__</code>, for the items it contains. And, despite the words on the subject found in typical docs, hardly anybody bothers making the <code>__repr__</code> of objects be a string that <code>eval</code> may use to build an equal object (it's just too hard, AND not knowing how the relevant module was actually imported makes it actually flat out impossible).</p>\n\n<p>So, my advice: focus on making <code>__str__</code> reasonably human-readable, and <code>__repr__</code> as unambiguous as you possibly can, even if that interferes with the fuzzy unattainable goal of making <code>__repr__</code>'s returned value acceptable as input to <code>__eval__</code>!</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 1436756, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>My rule of thumb:  <code>__repr__</code> is for developers, <code>__str__</code> is for customers.</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 1438297, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>Alex summarized well but, surprisingly, was too succinct.</p>\n\n<p>First, let me reiterate the main points in Alex\u2019s post:</p>\n\n<ul>\n<li>The default implementation is useless (it\u2019s hard to think of one which wouldn\u2019t be, but yeah)</li>\n<li><code>__repr__</code> goal is to be unambiguous</li>\n<li><code>__str__</code> goal is to be readable</li>\n<li>Container\u2019s <code>__str__</code> uses contained objects\u2019 <code>__repr__</code></li>\n</ul>\n\n<p><strong>Default implementation is useless</strong></p>\n\n<p>This is mostly a surprise because Python\u2019s defaults tend to be fairly useful. However, in this case, having a default for <code>__repr__</code> which would act like:</p>\n\n<pre><code>return \"%s(%r)\" % (self.__class__, self.__dict__)\n</code></pre>\n\n<p>would have been too dangerous (for example, too easy to get into infinite recursion if objects reference each other). So Python cops out. Note that there is one default which is true: if <code>__repr__</code> is defined, and <code>__str__</code> is not, the object will behave as though <code>__str__=__repr__</code>.</p>\n\n<p>This means, in simple terms: almost every object you implement should have a functional <code>__repr__</code> that\u2019s usable for understanding the object. Implementing <code>__str__</code> is optional: do that if you need a \u201cpretty print\u201d functionality (for example, used by a report generator).</p>\n\n<p><strong>The goal of <code>__repr__</code> is to be unambiguous</strong></p>\n\n<p>Let me come right out and say it \u2014 I do not believe in debuggers. I don\u2019t really know how to use any debugger, and have never used one seriously. Furthermore, I believe that the big fault in debuggers is their basic nature \u2014 most failures I debug happened a long long time ago, in a galaxy far far away. This means that I do believe, with religious fervor, in logging. Logging is the lifeblood of any decent fire-and-forget server system. Python makes it easy to log: with maybe some project specific wrappers, all you need is a</p>\n\n<pre><code>log(INFO, \"I am in the weird function and a is\", a, \"and b is\", b, \"but I got a null C \u2014 using default\", default_c)\n</code></pre>\n\n<p>But you have to do the last step \u2014 make sure every object you implement has a useful repr, so code like that can just work. This is why the \u201ceval\u201d thing comes up: if you have enough information so <code>eval(repr(c))==c</code>, that means you know everything there is to know about <code>c</code>. If that\u2019s easy enough, at least in a fuzzy way, do it. If not, make sure you have enough information about <code>c</code> anyway. I usually use an eval-like format: <code>\"MyClass(this=%r,that=%r)\" % (self.this,self.that)</code>. It does not mean that you can actually construct MyClass, or that those are the right constructor arguments \u2014 but it is a useful form to express \u201cthis is everything you need to know about this instance\u201d.</p>\n\n<p>Note: I used <code>%r</code> above, not <code>%s</code>. You always want to use <code>repr()</code> [or <code>%r</code> formatting character, equivalently] inside <code>__repr__</code> implementation, or you\u2019re defeating the goal of repr. You want to be able to differentiate <code>MyClass(3)</code> and <code>MyClass(\"3\")</code>.</p>\n\n<p><strong>The goal of <code>__str__</code> is to be readable</strong></p>\n\n<p>Specifically, it is not intended to be unambiguous \u2014 notice that <code>str(3)==str(\"3\")</code>. Likewise, if you implement an IP abstraction, having the str of it look like 192.168.1.1 is just fine. When implementing a date/time abstraction, the str can be \"2010/4/12 15:35:22\", etc. The goal is to represent it in a way that a user, not a programmer, would want to read it. Chop off useless digits, pretend to be some other class \u2014 as long is it supports readability, it is an improvement.</p>\n\n<p><strong>Container\u2019s <code>__str__</code> uses contained objects\u2019 <code>__repr__</code></strong></p>\n\n<p>This seems surprising, doesn\u2019t it? It is a little, but how readable would</p>\n\n<pre><code>[moshe is, 3, hello\nworld, this is a list, oh I don't know, containing just 4 elements]\n</code></pre>\n\n<p>be? Not very. Specifically, the strings in a container would find it way too easy to disturb its string representation. In the face of ambiguity, remember, Python resists the temptation to guess. If you want the above behavior when you\u2019re printing a list, just</p>\n\n<pre><code>print \"[\"+\", \".join(l)+\"]\"\n</code></pre>\n\n<p>(you can probably also figure out what to do about dictionaries.</p>\n\n<p><strong>Summary</strong></p>\n\n<p>Implement <code>__repr__</code> for any class you implement. This should be second nature. Implement <code>__str__</code> if you think it would be useful to have a string version which errs on the side of more readability in favor of more ambiguity.</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 2626364, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>In all honesty, <code>eval(repr(obj))</code> is never used. If you find yourself using it, you should stop, because <code>eval</code> is dangerous, and strings are a very inefficient way to serialize your objects (use <code>pickle</code> instead). </p>\n\n<p>Therefore, I would recommend setting <code>__repr__ = __str__</code>. The reason is that <code>str(list)</code> calls <code>repr</code> on the elements (I consider this to be one of the biggest design flaws of Python that was not addressed by Python 3). An actual <code>repr</code> will probably not be very helpful as the output of <code>print [your, objects]</code>. </p>\n\n<p>To qualify this, in my experience, the most useful use case of the <code>repr</code> function is to put a string inside another string (using string formatting). This way, you don't have to worry about escaping quotes or anything. But note that there is no <code>eval</code> happening here. </p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 13395755, "question_id": 1436703, "tags": ["python"]}, {"body": "<blockquote>\n  <p>In short, the goal of <code>__repr__</code> is to be unambiguous and <code>__str__</code> is to be\n  readable.</p>\n</blockquote>\n\n<p>Here is a good example:</p>\n\n<pre><code>&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; today = datetime.datetime.now()\n&gt;&gt;&gt; str(today)\n'2012-03-14 09:21:58.130922'\n&gt;&gt;&gt; repr(today)\n'datetime.datetime(2012, 3, 14, 9, 21, 58, 130922)'\n</code></pre>\n\n<p>Read this documentation for repr:</p>\n\n<blockquote>\n  <p><code>repr(object)</code></p>\n  \n  <p>Return a string containing a printable representation of an object. This is the same value yielded by conversions (reverse\n  quotes). It is sometimes useful to be able to access this operation as\n  an ordinary function. For many types, this function makes an attempt\n  to return a string that would yield an object with the same value when\n  passed to <code>eval()</code>, otherwise the representation is a string enclosed in\n  angle brackets that contains the name of the type of the object\n  together with additional information often including the name and\n  address of the object. A class can control what this function returns\n  for its instances by defining a <code>__repr__()</code> method.</p>\n</blockquote>\n\n<p>Here is the documentation for str:</p>\n\n<blockquote>\n  <p><code>str(object='')</code></p>\n  \n  <p>Return a string containing a nicely printable\n  representation of an object. For strings, this returns the string\n  itself. The difference with <code>repr(object)</code> is that <code>str(object)</code> does not\n  always attempt to return a string that is acceptable to <code>eval()</code>; its\n  goal is to return a printable string. If no argument is given, returns\n  the empty string, <code>''</code>.</p>\n</blockquote>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 19597196, "question_id": 1436703, "tags": ["python"]}, {"body": "<blockquote>\n  <h1>What is the difference between <code>__str__</code> and <code>__repr__</code> in Python?</h1>\n</blockquote>\n\n<p><code>__str__</code> (read as \"dunder (double-underscore) string\") and <code>__repr__</code> (read as \"dunder-repper\" (for \"representation\")) are both special methods that return strings based on the state of the object. </p>\n\n<p><code>__repr__</code> provides backup behavior if <code>__str__</code> is missing. </p>\n\n<p>So one should first write a <code>__repr__</code> that allows you to reinstantiate an equivalent object from the string it returns e.g. using <code>eval</code> or by typing it in character-for-character in a Python shell. </p>\n\n<p>At any time later, one can write a <code>__str__</code> for a user-readable string representation of the instance, when one believes it to be necessary.</p>\n\n<h1><code>__str__</code></h1>\n\n<p>If you print an object, or pass it to <code>format</code>, <code>str.format</code>, or <code>str</code>, then if a <code>__str__</code> method is defined, that method will be called, otherwise, <code>__repr__</code> will be used. </p>\n\n<h1><code>__repr__</code></h1>\n\n<p>The <code>__repr__</code> method is called by the builtin function <code>repr</code> and is what is echoed on your python shell when it evaluates an expression that returns an object. </p>\n\n<p>Since it provides a backup for <code>__str__</code>, if you can only write one, start with <code>__repr__</code></p>\n\n<p>Here's the builtin help on <code>repr</code>:</p>\n\n<pre><code>repr(...)\n    repr(object) -&gt; string\n\n    Return the canonical string representation of the object.\n    For most object types, eval(repr(object)) == object.\n</code></pre>\n\n<p>That is, for most objects, if you type in what is printed by <code>repr</code>, you should be able to create an equivalent object. <em>But this is not the default implementation.</em></p>\n\n<h1>Default Implementation of <code>__repr__</code></h1>\n\n<p>The default object <code>__repr__</code> is (<a href=\"https://hg.python.org/cpython/file/2.7/Objects/object.c#l377\">C Python source</a>) something like:</p>\n\n<pre><code>def __repr__(self):\n    return '&lt;{0}.{1} object at {2}&gt;'.format(\n      self.__module__, type(self).__name__, hex(id(self)))\n</code></pre>\n\n<p>That means by default you'll print the module the object is from, the class name, and the hexadecimal representation of its location in memory - for example:</p>\n\n<pre><code>&lt;__main__.Foo object at 0x7f80665abdd0&gt;\n</code></pre>\n\n<p>This information isn't very useful, but there's no way to derive how one might accurately create a canonical representation of any given instance, and it's better than nothing, at least telling us how we might uniquely identify it in memory.</p>\n\n<h1>How can <code>__repr__</code> be useful?</h1>\n\n<p>Let's look at how useful it can be, using the Python shell and <code>datetime</code> objects. First we need to import the <code>datetime</code> module:</p>\n\n<pre><code>import datetime\n</code></pre>\n\n<p>If we call <code>datetime.now</code> in the shell, we'll see everything we need to recreate an equivalent datetime object. This is created by the datetime <code>__repr__</code>:</p>\n\n<pre><code>&gt;&gt;&gt; datetime.datetime.now()\ndatetime.datetime(2015, 1, 24, 20, 5, 36, 491180)\n</code></pre>\n\n<p>If we print a datetime object, we see a nice human readable (in fact, ISO) format. This is implemented by datetime's <code>__str__</code>:</p>\n\n<pre><code>&gt;&gt;&gt; print(datetime.datetime.now())\n2015-01-24 20:05:44.977951\n</code></pre>\n\n<p>It is a simple matter to recreate the object we lost because we didn't assign it to a variable by copying and pasting from the <code>__repr__</code> output, and then printing it, and we get it in the same human readable output as the other object:</p>\n\n<pre><code>&gt;&gt;&gt; the_past = datetime.datetime(2015, 1, 24, 20, 5, 36, 491180)\n&gt;&gt;&gt; print(the_past)\n2015-01-24 20:05:36.491180\n</code></pre>\n\n<h1>How do I implement them?</h1>\n\n<p>As you're developing, you'll want to be able to reproduce objects in the same state, if possible. This, for example, is how the datetime object defines <code>__repr__</code> (<a href=\"https://hg.python.org/cpython/file/3.4/Lib/datetime.py#l1570\">Python source</a>). It is fairly complex, because of all of the attributes needed to reproduce such an object:</p>\n\n<pre><code>def __repr__(self):\n    \"\"\"Convert to formal string, for repr().\"\"\"\n    L = [self._year, self._month, self._day, # These are never zero\n         self._hour, self._minute, self._second, self._microsecond]\n    if L[-1] == 0:\n        del L[-1]\n    if L[-1] == 0:\n        del L[-1]\n    s = \", \".join(map(str, L))\n    s = \"%s(%s)\" % ('datetime.' + self.__class__.__name__, s)\n    if self._tzinfo is not None:\n        assert s[-1:] == \")\"\n        s = s[:-1] + \", tzinfo=%r\" % self._tzinfo + \")\"\n    return s\n</code></pre>\n\n<p>If you want your object to have a more human readable representation, you can implement <code>__str__</code> next. Here's how the datetime object (<a href=\"https://hg.python.org/cpython/file/3.4/Lib/datetime.py#l1585\">Python source</a>) implements <code>__str__</code>, which it easily does because it already has a function to display it in ISO format:</p>\n\n<pre><code>def __str__(self):\n    \"Convert to string, for str().\"\n    return self.isoformat(sep=' ')\n</code></pre>\n\n<h1>Conclusion</h1>\n\n<p>Define <code>__repr__</code> for objects you write so you and other developers have a reproducible example when using it as you develop. Define <code>__str__</code> when you need a human readable string representation of it. </p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 28132458, "question_id": 1436703, "tags": ["python"]}, {"body": "<pre><code>&gt;&gt;&gt; print(decimal.Decimal(23) / decimal.Decimal(\"1.05\"))\n21.90476190476190476190476190\n&gt;&gt;&gt; decimal.Decimal(23) / decimal.Decimal(\"1.05\")\nDecimal('21.90476190476190476190476190')\n</code></pre>\n\n<p>When print() is called on the result of decimal.Decimal(23) / deci- mal.Decimal(\"1.05\") the raw number is printed; this output is in <strong>string form</strong> which can be achieved with __str __(). If we simply enter the expression we get a decimal.Decimal output\u2014this output is in <strong>representational form</strong> which can be achieved with __repr __(). All Python objects have two output forms. String form is designed to be human-readable. Representational form is designed to produce output that if fed to a Python interpreter would (when possible) re- produce the represented object</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 31427937, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>Excellent answers are already cover the difference between <code>__str__</code> and <code>__repr__</code>, which for me boils down to the former being readable even by an end user, and the latter being as useful as possible to developers. Given that, I find that the default implementation of <code>__repr__</code> often fails to achieve this goal because it <em>omits</em> information useful to developers.</p>\n\n<p>For this reason, if I have a simple enough <code>__str__</code>, I generally just try to get the best of both worlds with something like:</p>\n\n<pre><code>def __repr__(self):\n    return '{0} ({1})'.format(object.__repr__(self), str(self))\n</code></pre>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 33421226, "question_id": 1436703, "tags": ["python"]}, {"body": "<blockquote>\n  <p>One important thing to keep in mind is that container's <code>__str__</code> uses contained objects' <code>__repr__</code>.</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; from decimal import Decimal\n&gt;&gt;&gt; print (Decimal('52'), datetime.now())\n(Decimal('52'), datetime.datetime(2015, 11, 16, 10, 51, 26, 185000))\n&gt;&gt;&gt; str((Decimal('52'), datetime.now()))\n\"(Decimal('52'), datetime.datetime(2015, 11, 16, 10, 52, 22, 176000))\"\n</code></pre>\n\n<p><em>Python favors unambiguity over readability</em>, the <code>__str__</code> call of a <code>tuple</code> calls the contained objects' <code>__repr__</code>, the <em>\"formal\"</em> representation of an object. Although the formal representation is harder to read than an informal one, it is unambiguous and more robust against bugs.</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 33727876, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>To put it simply:</p>\n\n<p><code>__str__</code> is used in to show a string representation of your object <strong>to be read easily</strong> by others.</p>\n\n<p><code>__repr__</code> is used to show a string representation of <strong>the</strong> object.</p>\n\n<p>Let's say I want to create a <code>Fraction</code> class where the string representation of a fraction is '(1/2)' and the object (Fraction class) is to be represented as 'Fraction (1,2)'</p>\n\n<p>So we can create a simple Fraction class:</p>\n\n<pre><code>class Fraction:\n    def __init__(self, num, den):\n        self.__num = num\n        self.__den = den\n\n    def __str__(self):\n        return '(' + str(self.__num) + '/' + str(self.__den) + ')'\n\n    def __repr__(self):\n        return 'Fraction (' + str(self.__num) + ',' + str(self.__den) + ')'\n\n\n\nf = Fraction(1,2)\nprint('I want to represent the Fraction STRING as ' + str(f)) # (1/2)\nprint('I want to represent the Fraction OBJECT as ', repr(f)) # Fraction (1,2)\n</code></pre>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 34734815, "question_id": 1436703, "tags": ["python"]}, {"body": "<p>Apart from all the answers given, I would like to add few points :-</p>\n\n<p>1) <code>__str__()</code> is invoked when you use object with print statement. In case, if <code>__str__</code> is missing, then print invokes <code>__repr__()</code> of object.</p>\n\n<p>2) <code>__repr__()</code> is invoked when you simply write object's name on interactive python console and press enter.</p>\n\n<p>3) <code>__str__()</code> of containers, when invoked will execute <code>__repr__()</code> method of its contained elements.</p>\n", "title": "Difference between __str__ and __repr__ in Python", "answer_id": 39382137, "question_id": 1436703, "tags": ["python"]}], "question_id": 1436703}, {"body": "<p>I'm trying to understand <code>super()</code>. From the looks of it, both child classes can be created just fine. I'm curious as to what difference there actually is between the following child classes:</p>\n\n<pre><code>class Base(object):\n    def __init__(self):\n        print \"Base created\"\n\nclass ChildA(Base):\n    def __init__(self):\n        Base.__init__(self)\n\nclass ChildB(Base):\n    def __init__(self):\n        super(ChildB, self).__init__()\n\nChildA() \nChildB()\n</code></pre>\n", "title": "Understanding Python super() with __init__() methods", "tags": ["python", "inheritance", "super"], "answer_count": 7, "link": "http://stackoverflow.com/questions/576169/understanding-python-super-with-init-methods", "answers": [{"body": "<p>There isn't, really. <code>super()</code> looks at the next class in the MRO (method resolution order, accessed with <code>cls.__mro__</code>) to call the methods. Just calling the base <code>__init__</code> calls the base <code>__init__</code>. As it happens, the MRO has exactly one item-- the base. So you're really doing the exact same thing, but in a nicer way with <code>super()</code> (particularly if you get into multiple inheritance later).</p>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 576179, "question_id": 576169, "tags": ["python", "inheritance", "super"]}, {"body": "<p><code>super()</code> lets you avoid referring to the base class explicitly, which can be nice. But the main advantage comes with multiple inheritance, where all sorts of <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=236275\">fun stuff</a> can happen. See the <a href=\"https://docs.python.org/2/library/functions.html#super\">standard docs on super</a> if you haven't already.</p>\n\n<p>Note that the syntax changed in Python 3.0: you can just say <code>super().__init__()</code> instead of <code>super(ChildB, self).__init__()</code> which IMO is quite a bit nicer.</p>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 576183, "question_id": 576169, "tags": ["python", "inheritance", "super"]}, {"body": "<p>Just a heads up... with Python 2.7, and I believe ever since <code>super()</code> was introduced in version 2.2, you can only call <a href=\"http://docs.python.org/library/functions.html#super\"><code>super()</code></a> if one of the parents inherit from a class that eventually inherits <code>object</code> (<a href=\"http://docs.python.org/glossary.html#term-new-style-class\">new-style classes</a>).</p>\n\n<p>Personally, as for python 2.7 code, I'm going to continue using <code>BaseClassName.__init__(self, args)</code> until I actually get the advantage of using <code>super()</code>.</p>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 10759155, "question_id": 576169, "tags": ["python", "inheritance", "super"]}, {"body": "<p>Super has no side effects</p>\n\n<pre><code>Base = ChildB\n\nBase()\n</code></pre>\n\n<p>works as expected</p>\n\n<pre><code>Base = ChildA\n\nBase()\n</code></pre>\n\n<p>gets into infinite recursion.</p>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 13595092, "question_id": 576169, "tags": ["python", "inheritance", "super"]}, {"body": "<p>It's been noted that in Python 3.0+ you can use</p>\n\n<p><code>super().__init__()</code> </p>\n\n<p>to make your call, which is concise and does not require you to reference the parent OR class names explicitly, which can be handy. I just want to add that for Python 2.7 or under, you can achieve the same name-insensitive approach by writing <code>self.__class__</code> instead of the class name, i.e.</p>\n\n<p><code>super(self.__class__, self).__init__()</code></p>\n\n<p>This unfortunately does not necessarily work if you want to inherit the constructor from the superclass. For example:</p>\n\n<pre><code>class Polygon(object):\n    def __init__(self, id):\n        self.id = id\n\nclass Rectangle(Polygon):\n    def __init__(self, id, width, height):\n        super(self.__class__, self).__init__(id)\n        self.shape = (width, height)\n\nclass Square(Rectangle):\n    pass\n</code></pre>\n\n<p>Here I have a class <code>Square</code>, which is a sub-class of <code>Rectangle</code>. Say I don't want to write a separate constructor for <code>Square</code> because the constructor for <code>Rectangle</code> is good enough, but for whatever reason I want to implement a Square so I can reimplement some other method.</p>\n\n<p>When I create a <code>Square</code> using <code>mSquare = Square('a', 10,10)</code>, Python calls the constructor for <code>Rectangle</code> because I haven't given <code>Square</code> its own constructor. However, in the constructor for <code>Rectangle</code>, the call <code>super(self.__class__,self)</code> is going to return the superclass of <code>mSquare</code>, so it calls the constructor for <code>Rectangle</code> again. This is how the infinite loop happens, as was mentioned by @S_C. In this case, when I run <code>super(...).__init__()</code> I am calling the constructor for <code>Rectangle</code> but since I give it no arguments, I will get an error.</p>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 19257335, "question_id": 576169, "tags": ["python", "inheritance", "super"]}, {"body": "<blockquote>\n  <h1>\"What difference is there actually in this code?:\"</h1>\n</blockquote>\n\n<pre><code>class ChildA(Base):\n    def __init__(self):\n        Base.__init__(self)\n\nclass ChildB(Base):\n    def __init__(self):\n        super(ChildB, self).__init__()\n</code></pre>\n\n<p>The primary difference in this code is that you get a layer of indirection in the <code>__init__</code> with <code>super</code>, which references the parent class.</p>\n\n<p>In <code>ChildA</code>, which doesn't use <code>super</code>, if you want to swap <code>Base</code> for another base, you'll need to change the reference to <code>Base</code> in the <code>__init__</code> as well as any other methods that have this usage. Whereas in <code>ChildB</code> you only need to swap the parent class once e.g.:</p>\n\n<pre><code>class ChildB(DifferentBase):\n    def __init__(self):\n        super(ChildB, self).__init__()\n</code></pre>\n\n<p>This means that the use of <code>super</code> can make your code more maintainable when you have child classes referencing methods of their parents directly, most likely because they have overridden those methods themselves.</p>\n\n<p>Another mostly hidden difference is that <code>super</code> is returning a proxy object to handle the delegated call to <code>__init__</code>, and is passing <code>self</code> as an implied first argument to the <code>__init__</code> call (you may have wondered why it appears to be missing).</p>\n\n<p>This proxy object actually means that users of your code will be able to insert other classes in the method resolution order. </p>\n\n<p>I illustrate this difference in an answer at the <a href=\"http://stackoverflow.com/a/33469090/541136\">canonical question, How to use 'super' in Python?</a>, which demonstrates <strong>dependency injection</strong> and <strong>cooperative multiple inheritance</strong>.</p>\n\n<h2>If Python didn't have <code>super</code></h2>\n\n<p>Here's code that's actually closely equivalent to <code>super</code> (how it's implemented in C, minus some checking and fallback behavior, and translated to Python):</p>\n\n<pre><code>class ChildB(Base):\n    def __init__(self):\n        mro = type(self).mro()             # Get the Method Resolution Order.\n        check_next = mro.index(ChildB) + 1 # Start looking after *this* class.\n        while check_next &lt; len(mro):\n            next_class = mro[check_next]\n            if '__init__' in next_class.__dict__:\n                next_class.__init__(self)\n                break\n            check_next += 1\n</code></pre>\n\n<p>Written a little more like native Python:</p>\n\n<pre><code>class ChildB(Base):\n    def __init__(self):\n        mro = type(self).mro()\n        for next_class in mro[mro.index(ChildB) + 1:]: # slice to end\n            if hasattr(next_class, '__init__'):\n                next_class.__init__(self)\n                break\n</code></pre>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 27134600, "question_id": 576169, "tags": ["python", "inheritance", "super"]}, {"body": "<p>The main difference is that <code>ChildA.__init__</code> will unconditionally call <code>Base.__init__</code> whereas <code>ChildB.__init__</code> will call <code>__init__</code> is <strong>whatever class happens to be <code>ChildB</code> ancestor in <code>self</code>'s line of ancestors</strong>\n(which may differ from what you expect). </p>\n\n<p>If you add a <code>ClassC</code> that uses multiple inheritance: </p>\n\n<pre><code>class Mixin(Base):\n  def __init__(self):\n    print \"Mixin stuff\"\n    super(Mixin, self).__init__()\n\nclass ChildC(ChildB, Mixin):  # Mixin is now between ChildB and Base\n  pass\n\nChildC()\nhelp(ChildC) # shows that the the Method Resolution Order is ChildC-&gt;ChildB-&gt;Mixin-&gt;Base\n</code></pre>\n\n<p>then <strong><code>Base</code> is no longer the parent of <code>ChildB</code></strong> for <code>ChildC</code> instances. Now <code>super(ChildB, self)</code> will point to <code>Mixin</code> if <code>self</code> is a <code>ChildC</code> instance.</p>\n\n<p>You have inserted <code>Mixin</code> in between <code>ChildB</code> and <code>Base</code>. And you can take advantage of it with <code>super()</code></p>\n\n<p>So if you are designed your classes so that they can be used in a Cooperative Multiple Inheritance scenario, you use <code>super</code> because you don't really know who is going to be the ancestor at runtime. </p>\n\n<p>The <a href=\"https://rhettinger.wordpress.com/2011/05/26/super-considered-super/\">super considered super post</a> and <a href=\"https://youtu.be/EiOglTERPEo\">pycon 2015 accompanying video</a> explain this pretty well.  </p>\n", "title": "Understanding Python super() with __init__() methods", "answer_id": 32688823, "question_id": 576169, "tags": ["python", "inheritance", "super"]}], "question_id": 576169}, {"body": "<p>How can I determine what version of PowerShell is installed on a computer, and indeed if it is installed at all?</p>\n", "title": "Determine installed PowerShell version", "tags": ["powershell"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1825585/determine-installed-powershell-version", "answers": [{"body": "<p>To determine if PowerShell is installed, you can check the registry for the existence of </p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\Software\\Microsoft\\PowerShell\\1\\Install\n</code></pre>\n\n<p>and</p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\PowerShell\\3\n</code></pre>\n\n<p>and, if it exists, whether the value is 1 (for installed), as detailed in the blog post <em><a href=\"http://myitforum.com/cs2/blogs/yli628/archive/2007/08/16/check-if-powershell-installed-and-version.aspx\">Check if PowerShell installed and version</a></em>.</p>\n\n<p>To determine the version of PowerShell that is installed, you can check the registry keys </p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\PowerShell\\1\\PowerShellEngine\\PowerShellVersion\n</code></pre>\n\n<p>and</p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\PowerShell\\3\\PowerShellEngine\\PowerShellVersion\n</code></pre>\n\n<p>To determine the version of PowerShell that is installed from a .ps1 script, you can use the following one-liner, as detailed on PowerShell.com in <em><a href=\"http://powershell.com/cs/blogs/tips/archive/2009/09/11/which-powershell-version-am-i-running.aspx\">Which PowerShell Version Am I Running</a></em>.</p>\n\n<pre><code>$isV2 = test-path variable:\\psversiontable\n</code></pre>\n\n<p>The same site also gives a function to return the version:</p>\n\n<pre><code>function Get-PSVersion {\n    if (test-path variable:psversiontable) {$psversiontable.psversion} else {[version]\"1.0.0.0\"}\n}\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 1825604, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>To check if PowerShell is installed use:</p>\n\n<pre><code>HKLM\\Software\\Microsoft\\PowerShell\\1 Install ( = 1 )\n</code></pre>\n\n<p>To check if RC2 or RTM is installed use:</p>\n\n<pre><code>HKLM\\Software\\Microsoft\\PowerShell\\1 PID (=89393-100-0001260-00301) -- For RC2\nHKLM\\Software\\Microsoft\\PowerShell\\1 PID (=89393-100-0001260-04309) -- For RTM\n</code></pre>\n\n<p>Source: <a href=\"http://www.myitforum.com/articles/40/view.asp?id=10618\" rel=\"nofollow\">this website</a>.</p>\n", "title": "Determine installed PowerShell version", "answer_id": 1825606, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Use <code>$PSVersionTable.PSVersion</code> to determine the engine\nversion. If the variable does not exist, it is safe to\nassume the engine is version 1.0.</p>\n\n<p>Note that <code>$Host.Version</code> and <code>(Get-Host).Version</code> are not reliable - they reflect\nthe version of the host only, not the engine. PowerGUI,\nPowerShellPLUS, etc. are all hosting applications, and\nthey will set the host's version to reflect their product\nversion, which is entirely correct.</p>\n\n<pre><code>PS C:\\&gt; $PSVersionTable.PSVersion\n\nMajor  Minor  Build  Revision\n-----  -----  -----  --------\n4      0      -1     -1\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 1825807, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>You can look at the built in variable, $psversiontable. If it doesn't exist, you have V1. If it does exist, it will give you all the info you need.</p>\n\n<pre><code>1 &gt;  $psversiontable\n\nName                           Value                                           \n----                           -----                                           \nCLRVersion                     2.0.50727.4927                                  \nBuildVersion                   6.1.7600.16385                                  \nPSVersion                      2.0                                             \nWSManStackVersion              2.0                                             \nPSCompatibleVersions           {1.0, 2.0}                                      \nSerializationVersion           1.1.0.1                                         \nPSRemotingProtocolVersion      2.1\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 1826596, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>I would use either <strong><a href=\"https://technet.microsoft.com/en-us/library/hh849946.aspx\">Get-Host</a></strong> or <strong>$PSVersionTable</strong>.  As Andy Schneider points out, $PSVersionTable doesn't work in version 1; it was introduced in version 2.</p>\n\n<pre><code>get-host\n\nName             : ConsoleHost\nVersion          : 2.0\nInstanceId       : d730016e-2875-4b57-9cd6-d32c8b71e18a\nUI               : System.Management.Automation.Internal.Host.InternalHostUserInterface\nCurrentCulture   : en-GB\nCurrentUICulture : en-US\nPrivateData      : Microsoft.PowerShell.ConsoleHost+ConsoleColorProxy\nIsRunspacePushed : False\nRunspace         : System.Management.Automation.Runspaces.LocalRunspace\n\n$PSVersionTable\n\nName                           Value\n----                           -----\nCLRVersion                     2.0.50727.4200\nBuildVersion                   6.0.6002.18111\nPSVersion                      2.0\nWSManStackVersion              2.0\nPSCompatibleVersions           {1.0, 2.0}\nSerializationVersion           1.1.0.1\nPSRemotingProtocolVersion      2.1\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 2092948, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>You can also call the \"host\" command from the PowerShell commandline. It should give you the value of the <code>$host</code> variable.</p>\n", "title": "Determine installed PowerShell version", "answer_id": 5495925, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>If you just want to check to make sure you have a major version number, you can get just that number in the variable <code>$host.version.major</code>:</p>\n\n<pre><code>if (2 -ge $host.version.major) { \"Make it so!\" } else { \"Full Stop!\" }\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 12408228, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p><code>$host.version</code> is just plain wrong/unreliable. This gives you the version of the hosting executable (powershell.exe, powergui.exe, powershell_ise.exe, powershellplus.exe etc) and <strong>not</strong> the version of the engine itself.</p>\n\n<p>The engine version is contained in <code>$psversiontable.psversion</code>. For PowerShell 1.0, this variable does not exist, so obviously if this variable is not available it is entirely safe to assume the engine is 1.0, obviously.</p>\n", "title": "Determine installed PowerShell version", "answer_id": 16069960, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Try it with following command:</p>\n\n<pre><code>Get-Host\n</code></pre>\n\n<p>Seen <a href=\"http://social.technet.microsoft.com/Forums/en-US/winserverpowershell/thread/c3453085-af45-46d2-ae3a-174b99e21554/\">here</a></p>\n", "title": "Determine installed PowerShell version", "answer_id": 16464363, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p><a href=\"https://blogs.msdn.com/b/powershell/archive/2009/06/25/detection-logic-poweshell-installation.aspx?Redirected=true\">Microsoft's recommended forward compatible method for checking if PowerShell is installed and determining the installed version</a> is to look at two specific registry keys. I've reproduced the details here in case the link breaks.</p>\n\n<p>According to the linked page:</p>\n\n<blockquote>\n  <p>Depending on any other registry key(s), or version of PowerShell.exe or the location of PowerShell.exe is not guaranteed to work in the long term.</p>\n</blockquote>\n\n<p>To check if <strong>any version</strong> of PowerShell is installed, check for the following value in the registry:</p>\n\n<ul>\n<li>Key Location: <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\PowerShell\\1</code></li>\n<li>Value Name: Install</li>\n<li>Value Type: REG_DWORD</li>\n<li>Value Data: 0x00000001 (1</li>\n</ul>\n\n<p>To check <strong>whether version 1.0 or 2.0</strong> of PowerShell is installed, check for the following value in the registry:</p>\n\n<ul>\n<li>Key Location: <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\PowerShell\\1\\PowerShellEngine</code></li>\n<li>Value Name: PowerShellVersion</li>\n<li>Value Type: REG_SZ</li>\n<li>Value Data: &lt;1.0 | 2.0></li>\n</ul>\n", "title": "Determine installed PowerShell version", "answer_id": 17142839, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>The easiest way to forget this page and never return to it is to learn the Get-Variable: </p>\n\n<pre><code>Get-Variable | where {$_.Name -Like '*version*'} | %{$_[0].Value}\n</code></pre>\n\n<p>There is no need to remember every variable. \"Something about version\" is enough.</p>\n", "title": "Determine installed PowerShell version", "answer_id": 21634009, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>You can verify that Windows PowerShell version installed by completing the following check:</p>\n\n<ol>\n<li>Click Start, click All Programs, click Accessories, click Windows PowerShell, and then click Windows PowerShell.</li>\n<li><p>In the Windows PowerShell console, type the following command at the command prompt and then press ENTER:</p>\n\n<p>Get-Host | Select-Object Version</p></li>\n</ol>\n\n<p>You will see output that looks like this:</p>\n\n<pre><code>Version\n-------\n3.0\n</code></pre>\n\n<p><a href=\"http://www.myerrorsandmysolutions.com/how-to-verify-the-windows-powershell-version-installed/\">http://www.myerrorsandmysolutions.com/how-to-verify-the-windows-powershell-version-installed/</a></p>\n", "title": "Determine installed PowerShell version", "answer_id": 22298977, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Since the most helpful answer didn't address the <em>if exists</em> portion, I thought I'd give one take on it via a quick-and-dirty solution. It relies on PowerShell being in the path <a href=\"http://en.wikipedia.org/wiki/Environment_variable\" rel=\"nofollow\">environment variable</a> which is likely what you want. (Hat tip to the top answer as I didn't know that.) Paste this into a <em>text</em> file and name it</p>\n\n<blockquote>\n  <p>Test Powershell Version.cmd</p>\n</blockquote>\n\n<p>or similar.</p>\n\n<pre><code>@echo off\necho Checking powershell version...\ndel \"%temp%\\PSVers.txt\" 2&gt;nul\npowershell -command \"[string]$PSVersionTable.PSVersion.Major +'.'+ [string]$PSVersionTable.PSVersion.Minor | Out-File ([string](cat env:\\temp) + '\\PSVers.txt')\" 2&gt;nul\nif errorlevel 1 (\n echo Powershell is not installed. Please install it from download.Microsoft.com; thanks.\n) else (\n echo You have installed Powershell version:\n type \"%temp%\\PSVers.txt\"\n del \"%temp%\\PSVers.txt\" 2&gt;nul\n)\ntimeout 15\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 22493422, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Use the <a href=\"http://technet.microsoft.com/en-us/library/hh849946.aspx\" rel=\"nofollow\">Get-Host</a> command. The second line of the result is the version.</p>\n", "title": "Determine installed PowerShell version", "answer_id": 25418629, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>I found the easiest way to check if installed was to:</p>\n\n<ul>\n<li>run a command prompt (Start, Run, <code>cmd</code>, then OK)</li>\n<li>type <code>powershell</code> then hit return.  You should then get the PowerShell <code>PS</code> prompt:</li>\n</ul>\n\n<p></p>\n\n<pre><code>C:\\Users\\MyUser&gt;powershell\n\nWindows PowerShell\nCopyright (C) 2009 Microsoft Corporation. All rights reserved.\n\nPS C:\\Users\\MyUser&gt;\n</code></pre>\n\n<p>You can then check the version from the PowerShell prompt by typing <code>$PSVersionTable.PSVersion</code>:</p>\n\n<pre><code>PS C:\\Users\\MyUser&gt; $PSVersionTable.PSVersion\n\nMajor  Minor  Build  Revision\n-----  -----  -----  --------\n2      0      -1     -1\n\nPS C:\\Users\\MyUser&gt;\n</code></pre>\n\n<p>Type <code>exit</code> if you want to go back to the command prompt (<code>exit</code> again if you want to also close the command prompt).</p>\n\n<p>To run scripts, see <a href=\"http://ss64.com/ps/syntax-run.html\">http://ss64.com/ps/syntax-run.html</a>.</p>\n", "title": "Determine installed PowerShell version", "answer_id": 26732774, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Use <a href=\"http://technet.microsoft.com/en-us/library/hh849946.aspx\" rel=\"nofollow\">Get-Host</a> to get the details for the PowerShell version:</p>\n\n<pre><code>PS C:\\Users\\ashash001c&gt; Get-Host\n\nName             : ConsoleHost\nVersion          : 2.0\nInstanceId       : ##################################\nUI               : System.Management.Automation.Internal.Host.InternalHostUserI\n                   nterface\nCurrentCulture   : en-US\nCurrentUICulture : en-US\nPrivateData      : Microsoft.PowerShell.ConsoleHost+ConsoleColorProxy\nIsRunspacePushed : False\nRunspace         : System.Management.Automation.Runspaces.LocalRunspace\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 27697389, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<pre><code>Get-PSSnapin |grep PSVersion |cut -d\" \" -f 5\n</code></pre>\n\n<blockquote>\n  <p>5.0.10240.16384</p>\n</blockquote>\n\n<hr>\n\n<p>If you just want the <code>major</code> version number you can use (only available on ps2 =>):</p>\n\n<pre><code>$PSVersionTable.PSVersion.Major\n</code></pre>\n\n<blockquote>\n  <p>5</p>\n</blockquote>\n", "title": "Determine installed PowerShell version", "answer_id": 32155180, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Try ;)\n<code>((Get-Host).Version).Major</code></p>\n", "title": "Determine installed PowerShell version", "answer_id": 32222828, "question_id": 1825585, "tags": ["powershell"]}, {"body": "<p>Extending the answer with a select operator:</p>\n\n<pre><code>Get-Host | select {$_.Version}\n</code></pre>\n", "title": "Determine installed PowerShell version", "answer_id": 34985895, "question_id": 1825585, "tags": ["powershell"]}], "question_id": 1825585}, {"body": "<p>Why won't <code>vertical-align: middle</code> work?  And yet, <code>vertical-align: top</code> <em>does</em> work.</p>\n\n<pre><code>&lt;div&gt;\n   &lt;img style=\"width:30px;height:30px\"&gt;\n   &lt;span style=\"vertical-align:middle\"&gt;Doesn't work.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n", "title": "Vertically align text next to an image?", "tags": ["css", "vertical-alignment"], "answer_count": 17, "link": "http://stackoverflow.com/questions/489340/vertically-align-text-next-to-an-image", "answers": [{"body": "<p>Because you have to set the <code>line-height</code> to the height of the div for this to work</p>\n", "title": "Vertically align text next to an image?", "answer_id": 489365, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>You probably want this:</p>\n\n<pre><code>&lt;div&gt;\n   &lt;img style=\"width:30px; height:30px;\"&gt;\n   &lt;span style=\"vertical-align:50%; line-height:30px;\"&gt;Didn't work.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>As others have suggested, try <code>vertical-align</code> on the image:</p>\n\n<pre><code>&lt;div&gt;\n   &lt;img style=\"width:30px; height:30px; vertical-align:middle;\"&gt;\n   &lt;span&gt;Didn't work.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS isn't annoying.  You just don't read <a href=\"http://www.w3.org/TR/CSS2/visudet.html#line-height\" rel=\"nofollow\">the documentation</a>.  ;P</p>\n", "title": "Vertically align text next to an image?", "answer_id": 489389, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Actually, in this case it's quite simple: apply the vertical align to the image. Since it's all in one line, it's really the image you want aligned, not the text.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- moved \"vertical-align:middle\" style from span to img --&gt;\r\n&lt;div&gt;\r\n  &lt;img style=\"vertical-align:middle\" src=\"https://placehold.it/60x60\"&gt;\r\n  &lt;span style=\"\"&gt;Works.&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Tested in FF3.</p>\n", "title": "Vertically align text next to an image?", "answer_id": 489394, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Here are some simple techniques for vertical-align:</p>\n\n<h2>One-line vertical-align:middle</h2>\n\n<p>This one is easy: set the line-height of the text element to equal that of the container</p>\n\n<pre><code>&lt;div&gt;\n  &lt;img style=\"width:30px; height:30px;\"&gt;\n  &lt;span style=\"line-height:30px;\"&gt;Doesn't work.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>Multiple-lines vertical-align:bottom</h2>\n\n<p>Absolutely position an inner div relative to its container</p>\n\n<pre><code>&lt;div style=\"position:relative;width:30px;height:60px;\"&gt;\n  &lt;div style=\"position:absolute;bottom:0\"&gt;This is positioned on the bottom&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>Multiple-lines vertical-align:middle</h2>\n\n<pre><code>&lt;div style=\"display:table;width:30px;height:60px;\"&gt;\n  &lt;div style=\"display:table-cell;height:30px;\"&gt;This is positioned in the middle&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>If you must support ancient versions of IE &lt;= 7</h2>\n\n<p>In order to get this to work correctly across the board, you'll have to hack the CSS a bit. Luckily, there is an IE bug that works in our favor. Setting <code>top:50%</code> on the container and <code>top:-50%</code> on the inner div, you can achieve the same result. We can combine the two using another feature IE doesn't support: advanced CSS selectors.</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n  #container {\n    width: 30px;\n    height: 60px;\n    position: relative;\n  }\n  #wrapper &gt; #container {\n    display: table;\n    position: static;\n  }\n  #container div {\n    position: absolute;\n    top: 50%;\n  }\n  #container div div {\n    position: relative;\n    top: -50%;\n  }\n  #container &gt; div {\n    display: table-cell;\n    vertical-align: middle;\n    position: static;\n  }\n&lt;/style&gt;\n\n&lt;div id=\"wrapper\"&gt;\n  &lt;div id=\"container\"&gt;\n    &lt;div&gt;&lt;div&gt;&lt;p&gt;Works in everything!&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 489528, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>For the record, alignment \"commands\" shouldn't work on a SPAN, because it is an <strong>in-line</strong> tag, not a <strong>block-level</strong> tag.  Things like alignment, margin, padding, etc won't work on an in-line tag because the point of inline is not to disrupt the text flow.</p>\n\n<p>CSS divides HTML tags up into two groups: in-line and block-level.  Search \"css block vs inline\" and a great article shows up...</p>\n\n<p><a href=\"http://www.webdesignfromscratch.com/html-css/css-block-and-inline/\">http://www.webdesignfromscratch.com/html-css/css-block-and-inline/</a></p>\n\n<p>(Understanding core CSS principles is a key to it not being quite so annoying)</p>\n", "title": "Vertically align text next to an image?", "answer_id": 8183097, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Basically, you'll have to get down to CSS3.</p>\n\n<pre><code>-moz-box-align: center;\n-webkit-box-align: center;\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 8315731, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Another thing you can do is set the text's <code>line-height</code> to the size of the images within the <code>&lt;div&gt;</code>. Then set the images to <code>vertical-align: middle;</code></p>\n\n<p>That's seriously the easiest way.</p>\n", "title": "Vertically align text next to an image?", "answer_id": 8837027, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<pre><code>background:url(../images/red_bullet.jpg) left 3px no-repeat;\n</code></pre>\n\n<p>I generally use 3px in place of <code>top</code>. By increasing/decreasing that value, the image can be changed to the required height.</p>\n", "title": "Vertically align text next to an image?", "answer_id": 10136785, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>This code works in IE as well as FF:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;img style=\"width:auto; height:auto;vertical-align: middle;\"&gt;\n  &lt;span&gt;It does work on all browsers&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 11295912, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>On a button in jQuery mobile, for instance, you can tweak it a bit by applying this style to the image:</p>\n\n<pre><code>.btn-image {\n    vertical-align:middle;\n    margin:0 0 3px 0;\n}\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 13052322, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Use <code>line-height:30px</code> for the span so that text is align with the image:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;img style=\"width:30px; height:30px;\"&gt;\n  &lt;span style=\"line-height:30px;\"&gt;Doesn't work.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 16660027, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>The technique used in the accepted answer works only for single-lined text (<a href=\"http://jsfiddle.net/danield770/ULzcX/6/\">demo</a>), but not multi-line text (<a href=\"http://jsfiddle.net/danield770/ULzcX/7/\">demo</a>) - as noted there.</p>\n\n<p>If anyone needs to vertically center multi-lined text to an image, here are a few ways\n(Methods 1 and 2 inspired by <a href=\"http://css-tricks.com/centering-in-the-unknown/\">this CSS-tricks article</a>)</p>\n\n<h2>Method #1: CSS tables (<strong><a href=\"http://jsfiddle.net/danield770/ULzcX/5/\">FIDDLE</a></strong>) (IE8+ (<a href=\"http://caniuse.com/css-table\">caniuse</a>))</h2>\n\n<p>CSS:</p>\n\n<pre><code>div\n{\n    display:table;\n}\nspan\n{\n    vertical-align: middle;\n    display: table-cell;\n}\n</code></pre>\n\n<h2>Method #2: Pseudo element on container (<strong><a href=\"http://jsfiddle.net/danield770/ULzcX/8/\">FIDDLE</a></strong>) (IE8+)</h2>\n\n<p>CSS:</p>\n\n<pre><code>div {\n   height: 200px; /* height of image */\n}\n\ndiv:before {\n  content: '';\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n  margin-right: -0.25em; /* Adjusts for spacing */\n}\n\nimg\n{\n    position:absolute;\n}\n\nspan {\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 200px;  /* width of image */\n}\n</code></pre>\n\n<h2>Method #3: Flexbox (<strong><a href=\"http://jsfiddle.net/danield770/ULzcX/4/\">FIDDLE</a></strong>) (<a href=\"http://caniuse.com/flexbox\">caniuse</a>)</h2>\n\n<p><strong>CSS</strong> (The above fiddle contains vendor prefixes):</p>\n\n<pre><code>div {   \n    display: flex; \n    align-items: center;    \n}\nimg\n{\n    min-width: 200px; /* width of image */\n}\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 20766734, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Multiline solution:</p>\n\n<p><a href=\"http://jsfiddle.net/zH58L/6/\" rel=\"nofollow\">http://jsfiddle.net/zH58L/6/</a></p>\n\n<pre><code>&lt;div style=\"display:table;width:30px;height:160px;\"&gt;\n    &lt;img style=\"display:table-cell;width:30px;height:60px;padding:50px\" src='...' /&gt;\n    &lt;div style=\"display:table-cell;height:30px;vertical-align:middle\"&gt;\n      Multiline text centered vertically\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- note: img (height + 2x padding) must be equal to root div height --&gt;\n</code></pre>\n\n<p>Works in all browers and ie9+</p>\n", "title": "Vertically align text next to an image?", "answer_id": 21990414, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Change your <code>div</code> into a flex container:</p>\n\n<pre><code>div {display:flex;}\n</code></pre>\n\n<p><br>\nNow there are two methods to center the alignments for all the content:</p>\n\n<p><strong>Method 1:</strong></p>\n\n<pre><code>div {align-items:center;}\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/Mori/35oh5dfL/\">DEMO</a></strong>  </p>\n\n<hr>\n\n<p><strong>Method 2:</strong></p>\n\n<pre><code>div * {margin-top:auto; margin-bottom:auto;}\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/Mori/Qtng7/\">DEMO</a></strong>  </p>\n\n<hr>\n\n<p>Try different width and height values on the <code>img</code> and different font size values on the <code>span</code> and you'll see they always remain in the middle of the container.</p>\n", "title": "Vertically align text next to an image?", "answer_id": 22603786, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>You have to apply <code>vertical-align: middle</code> to both elements to have it been centered perfectly.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;img style=\"vertical-align:middle\" src=\"http://lorempixel.com/60/60/\"&gt;\r\n  &lt;span style=\"vertical-align:middle\"&gt;Perfectly centered&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The <a href=\"http://stackoverflow.com/a/489394/3323185\">accepted answer</a> does center the icon around half of the x-height of the text next to it (as defined in the <a href=\"http://www.w3.org/TR/CSS2/visudet.html#propdef-vertical-align\">CSS specs</a>). Which might be good enough but can look a little bit off, if the text has ascenders or descenders standing out just at top or bottom:</p>\n\n<p><img src=\"http://i.stack.imgur.com/V0WZM.png\" alt=\"centered icon comparison\"></p>\n\n<p>On the left, the text is not aligned, on the right it is as shown above. A live demo can be found in this <a href=\"http://christopheraue.net/2014/03/05/vertical-align/#centering-an-icon\">article about vertical-align</a>.</p>\n\n<p><strong>Has anyone talked about why <code>vertical-align: top</code> works in the scenario?</strong> The image in the question is probably taller than the text and thus defines the top edge of the line box. <code>vertical-align: top</code> on the span element then just positions it at the top of the line box. </p>\n\n<p>The main difference in behavior between <code>vertical-align: middle</code> and <code>top</code> is that the first moves elements relative to the box's baseline (which is placed wherever needed to fulfill all vertical alignments and thus feels rather <em>unpredictable</em>) and the second relative to the outer bounds of the line box (which is more tangible).</p>\n", "title": "Vertically align text next to an image?", "answer_id": 25788111, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p>Haven't seen a solution with <code>margin</code> in any of these answers yet, so here is my solution to this problem.</p>\n\n<p><strong><a href=\"https://jsfiddle.net/Fleuv/3npn9x5b/\" rel=\"nofollow\">This solution</a> only works if you know the width of your image.</strong></p>\n\n<h2>The HTML</h2>\n\n<pre><code>&lt;div&gt;\n    &lt;img src=\"https://placehold.it/80x80\"&gt;\n    &lt;span&gt;This is my very long text what should align. This is my very long text what should align.&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>The CSS</h2>\n\n<pre><code>div {\n  overflow:hidden;\n}\nimg {\n   width:80px\n   margin-right:20px;\n   display:inline-block;\n   vertical-align:middle;\n}\nspan {\n   width:100%;\n   margin-right:-100px;\n   padding-right:100px;\n   display:inline-block;\n   vertical-align:middle;\n   box-sizing:border-box;\n   -moz-box-sizing:border-box;\n   -webkit-box-sizing:border-box;\n}\n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 36529084, "question_id": 489340, "tags": ["css", "vertical-alignment"]}, {"body": "<p><strong>HTML</strong></p>\n\n<pre><code>&lt;img src=\"-text.png\" alt=\"\"&gt;\n&lt;span&gt;Secure checkout with bank grade encryption &lt;/span&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>img{ \nheight:30px;\nvertical-align:middle;\n} \n</code></pre>\n", "title": "Vertically align text next to an image?", "answer_id": 39373421, "question_id": 489340, "tags": ["css", "vertical-alignment"]}], "question_id": 489340}, {"body": "<p>I have created an unordered list, and I am appending and removing list items using jQuery.. I feel the bullets in the unordered list are bothersome, so I want to remove them. Is it possible to have a list without bullets?</p>\n", "title": "Need an unordered list without any bullets", "tags": ["html", "css"], "answer_count": 19, "link": "http://stackoverflow.com/questions/1027354/need-an-unordered-list-without-any-bullets", "answers": [{"body": "<p>You can remove bullets by setting the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type\"><code>list-style-type</code></a> to <code>none</code> on the CSS for the <code>&lt;ul&gt;</code> element, for example</p>\n\n<pre><code>ul\n{\n    list-style-type: none;\n}\n</code></pre>\n\n<p>You might also want to add <code>padding:0; margin:0;</code> to that, if you want to remove indentation as well.</p>\n\n<p>See <a href=\"http://css.maxdesign.com.au/listutorial/index.htm\">Listutorial</a> for a great walkthrough of list formatting techniques.</p>\n", "title": "Need an unordered list without any bullets", "answer_id": 1027367, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>You need to use <code>list-style: none;</code></p>\n\n<pre><code>&lt;ul style=\"list-style: none;\"&gt;&lt;li&gt; ...\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 1027370, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>Use the following CSS:</p>\n\n<pre><code>ul {\n  list-style-type: none\n}\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 1027371, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>in css...</p>\n\n<pre><code>ul {\n   list-style:none;\n}\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 1027372, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>in css , style ,</p>\n\n<pre><code> list-style-type: none;\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 1027377, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>You would have to add a style to the <code>&lt;ul&gt;</code> element like the following:</p>\n\n<pre><code>&lt;ul style=\"list-style: none; \"&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    ...\n    &lt;li&gt;Item&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>That will remove the bullets. You could also add the CSS in a stylesheet like the examples above.</p>\n", "title": "Need an unordered list without any bullets", "answer_id": 1027381, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>Small refinement to the above: To make longer lines more readable if they spill over to additional screen lines:</p>\n\n<pre><code>ul, li {list-style-type: none;}\n\nli {padding-left: 2em; text-indent: -2em;}\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 13795750, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>In case you want to keep things simple without resorting to css, I just put a <code>&amp;nbsp;</code> in my code lines.\nI.e. <code>&lt;table&gt;&lt;/table&gt;</code>\nYeah it leaves a few spaces but thats no bad thing.</p>\n", "title": "Need an unordered list without any bullets", "answer_id": 15430400, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>If you're using Bootstrap, it has an \"unstyled\" class:</p>\n\n<blockquote>\n  <p>Remove the default list-style and left padding on list items (immediate children only).</p>\n</blockquote>\n\n<h3>Bootstrap 2:</h3>\n\n<pre><code>&lt;ul class=\"unstyled\"&gt;\n   &lt;li&gt;...&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<h3>Bootstrap 3:</h3>\n\n<pre><code>&lt;ul class=\"list-unstyled\"&gt;\n   &lt;li&gt;...&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><a href=\"http://twitter.github.io/bootstrap/base-css.html#typography\">http://twitter.github.io/bootstrap/base-css.html#typography</a></p>\n", "title": "Need an unordered list without any bullets", "answer_id": 17596978, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>I used list-style on both the ul and the li to remove the bullets.  I wanted to replace the bullets with a custom character, in this case a 'dash', that gives a nice effect.  So using this markup:</p>\n\n<pre><code>&lt;ul class=\"dashed-list\"&gt;\n  &lt;li&gt;text&lt;/li&gt;\n  &lt;li&gt;text&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>with this css:</p>\n\n<pre><code>ul.dashed-list\n{\n    list-style: none outside none;\n}\n\nul.dashed-list li:before {\n    content: \"\\2014\";\n    float: left;\n    margin: 0 0 0 -27px;\n    padding: 0;\n}\n\nul.dashed-list li {\n    list-style-type: none;\n}\n</code></pre>\n\n<p>gives a nicely indented effect that works when the text wraps</p>\n", "title": "Need an unordered list without any bullets", "answer_id": 18841519, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>If you're unable to make it works at the <code>&lt;ul&gt;</code> level, you might need to place the <code>list-style-type: none;</code> at the <code>&lt;li&gt;</code> level:</p>\n\n<pre><code>&lt;ul&gt;\n&lt;li style=\"list-style-type: none;\"&gt;Item 1&lt;/li&gt;\n&lt;li style=\"list-style-type: none;\"&gt;Item 2&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>You can create a CSS class to avoid this repetition:</p>\n\n<pre><code>&lt;style&gt;\nul.no-bullets li \n{\nlist-style-type: none;\n}\n&lt;/style&gt;\n\n&lt;ul class=\"no-bullets\"&gt;\n&lt;li&gt;Item 1&lt;/li&gt;\n&lt;li&gt;Item 2&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>EDIT: When necessary, use <code>!important</code>:</p>\n\n<pre><code>&lt;style&gt;\nul.no-bullets li \n{\nlist-style-type: none !important;\n}\n&lt;/style&gt;\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 19242489, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>CSS CODE</p>\n\n<pre><code>ul\n{\nlist-style-type: none;\n}\n</code></pre>\n\n<p>HTML CODE</p>\n\n<pre><code>&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item One&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item Two&lt;/a&gt;&lt;/li&gt;   \n&lt;/ul&gt;\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 19242597, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p><strong>Native:</strong></p>\n\n<pre><code>ul { list-style-type: none; }\n</code></pre>\n\n<p><strong>Bootstrap:</strong></p>\n\n<pre><code>&lt;ul class=\"list-unstyled list-group\"&gt;\n    &lt;li class=\"list-group-item\"&gt;...&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Note:\nIf you're using list-groups, then there is no need for list-unstyled.</p>\n", "title": "Need an unordered list without any bullets", "answer_id": 23665389, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>You can try this:</p>\n\n<pre><code>  ul{\n  list-style:none !important;\n  list-style-type:none !important;}\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 25827089, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>CSS:</p>\n\n<pre><code>.liststyle {\n    list-style-type: none;\n}\n</code></pre>\n\n<p>HTML: </p>\n\n<pre><code>&lt;ul class=\"liststyle\"&gt;\n    &lt;li&gt;Test&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 33075838, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p><strong><em>Try this-</em></strong></p>\n\n<pre><code>list-style-type: none;\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 33841142, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>You can remove the <strong>\"bullets\"</strong> by setting the <strong>\"list-style-type: none;\"</strong> Like</p>\n\n<pre><code>ul\n{\n    list-style-type: none;\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>&lt;ul class=\"menu custompozition4\"  style=\"list-style-type: none;\"&gt;\n    &lt;li class=\"item-507\"&gt;&lt;a href=#\"&gt;Strategic Recruitment Solutions&lt;/a&gt;\n    &lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 36740587, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>You can remove <strong>bullets</strong> by using the following <strong><em>CSS</em></strong>:</p>\n\n<pre><code>    ul {\n         list-style: none; //or list-style-type:none; \n       }\n</code></pre>\n\n<p>You may even add your custom list style like:</p>\n\n<pre><code>li:before {\n            content: '\u2714';\n            color:red;\n          }\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 38583173, "question_id": 1027354, "tags": ["html", "css"]}, {"body": "<p>This orders list vertically without bullet points. In just one line!</p>\n\n<pre><code> li{\n        display: block;\n    }\n</code></pre>\n", "title": "Need an unordered list without any bullets", "answer_id": 39306139, "question_id": 1027354, "tags": ["html", "css"]}], "question_id": 1027354}, {"body": "<p>I need a good explanation (references are a plus) on Python's slice notation. </p>\n\n<p>To me, this notation needs a bit of picking up. </p>\n\n<p>It looks extremely powerful, but I haven't quite got my head around it.</p>\n", "title": "Explain Python&#39;s slice notation", "tags": ["python", "list", "slice"], "answer_count": 21, "link": "http://stackoverflow.com/questions/509211/explain-pythons-slice-notation", "answers": [{"body": "<p>It's pretty simple really:</p>\n\n<pre><code>a[start:end] # items start through end-1\na[start:]    # items start through the rest of the array\na[:end]      # items from the beginning through end-1\na[:]         # a copy of the whole array\n</code></pre>\n\n<p>There is also the <code>step</code> value, which can be used with any of the above:</p>\n\n<pre><code>a[start:end:step] # start through not past end, by step\n</code></pre>\n\n<p>The key point to remember is that the <code>:end</code> value represents the first value that is <em>not</em> in the selected slice. So, the difference beween <code>end</code> and <code>start</code> is the number of elements selected (if <code>step</code> is 1, the default).</p>\n\n<p>The other feature is that <code>start</code> or <code>end</code> may be a <em>negative</em> number, which means it counts from the end of the array instead of the beginning. So:</p>\n\n<pre><code>a[-1]    # last item in the array\na[-2:]   # last two items in the array\na[:-2]   # everything except the last two items\n</code></pre>\n\n<p>Python is kind to the programmer if there are fewer items than you ask for. For example, if you ask for <code>a[:-2]</code> and <code>a</code> only contains one element, you get an empty list instead of an error. Sometimes you would prefer the error, so you have to be aware that this may happen.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 509295, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>The tutorial talks about it:</p>\n\n<p><a href=\"http://docs.python.org/tutorial/introduction.html#strings\">http://docs.python.org/tutorial/introduction.html#strings</a></p>\n\n<p>(Scroll down a bit until you get to the part about slicing.)  </p>\n\n<p>The ASCII art diagram is helpful too for remembering how slices work:</p>\n\n<pre><code> +---+---+---+---+---+\n | H | e | l | p | A |\n +---+---+---+---+---+\n 0   1   2   3   4   5\n-5  -4  -3  -2  -1\n</code></pre>\n\n<blockquote>\n  <p>\"One way to remember how slices work\n  is to think of the indices as pointing\n  <em>between</em> characters, with the left edge of the first character numbered\n  0.\"</p>\n</blockquote>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 509297, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>Enumerating the possibilities allowed by the grammar:</p>\n\n<pre><code>&gt;&gt;&gt; seq[:]                # [seq[0],   seq[1],          ..., seq[-1]    ]\n&gt;&gt;&gt; seq[low:]             # [seq[low], seq[low+1],      ..., seq[-1]    ]\n&gt;&gt;&gt; seq[:high]            # [seq[0],   seq[1],          ..., seq[high-1]]\n&gt;&gt;&gt; seq[low:high]         # [seq[low], seq[low+1],      ..., seq[high-1]]\n&gt;&gt;&gt; seq[::stride]         # [seq[0],   seq[stride],     ..., seq[-1]    ]\n&gt;&gt;&gt; seq[low::stride]      # [seq[low], seq[low+stride], ..., seq[-1]    ]\n&gt;&gt;&gt; seq[:high:stride]     # [seq[0],   seq[stride],     ..., seq[high-1]]\n&gt;&gt;&gt; seq[low:high:stride]  # [seq[low], seq[low+stride], ..., seq[high-1]]\n</code></pre>\n\n<p>Of course, if <code>(high-low)%stride != 0</code>, then the end point will be a little lower than <code>high-1</code>.</p>\n\n<p>Extended slicing (with commas and ellipses) are mostly used only by special data structures (like Numpy); the basic sequences don't support them.</p>\n\n<pre><code>&gt;&gt;&gt; class slicee:\n...     def __getitem__(self, item):\n...         return `item`\n...\n&gt;&gt;&gt; slicee()[0, 1:2, ::5, ...]\n'(0, slice(1, 2, None), slice(None, None, 5), Ellipsis)'\n</code></pre>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 509377, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>And a couple of things that weren't immediately obvious to me when I first saw the slicing syntax:</p>\n\n<pre><code>&gt;&gt;&gt; x = [1,2,3,4,5,6]\n&gt;&gt;&gt; x[::-1]\n[6,5,4,3,2,1]\n</code></pre>\n\n<p>Easy way to reverse sequences!</p>\n\n<p>And if you wanted, for some reason, every second item in the reversed sequence:</p>\n\n<pre><code>&gt;&gt;&gt; x = [1,2,3,4,5,6]\n&gt;&gt;&gt; x[::-2]\n[6,4,2]\n</code></pre>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 509415, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>I use the \"an index points between elements\" method of thinking about it myself, but one way of describing it which sometimes helps others get it is this:</p>\n\n<pre><code>mylist[X:Y]\n</code></pre>\n\n<p>X is the index of the first element you want.<br />\nY is the index of the first element you <em>don't</em> want.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 522212, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>After using it a bit I realise that the simplest description is that it is exactly the same as the arguments in a for loop...</p>\n\n<pre><code>(from:to:step)\n</code></pre>\n\n<p>any of them are optional</p>\n\n<pre><code>(:to:step)\n(from::step)\n(from:to)\n</code></pre>\n\n<p>then the negative indexing just needs you to add the length of the string to the negative indices to understand it.</p>\n\n<p>This works for me anyway...</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 567094, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>The answers above don't discuss slice assignment:</p>\n\n<pre><code>&gt;&gt;&gt; r=[1,2,3,4]\n&gt;&gt;&gt; r[1:1]\n[]\n&gt;&gt;&gt; r[1:1]=[9,8]\n&gt;&gt;&gt; r\n[1, 9, 8, 2, 3, 4]\n&gt;&gt;&gt; r[1:1]=['blah']\n&gt;&gt;&gt; r\n[1, 'blah', 9, 8, 2, 3, 4]\n</code></pre>\n\n<p>This may also clarify the difference between slicing and indexing.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 4729334, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>Found this great table at <a href=\"http://wiki.python.org/moin/MovingToPythonFromOtherLanguages\">http://wiki.python.org/moin/MovingToPythonFromOtherLanguages</a></p>\n\n<pre><code>Python indexes and slices for a six-element list.\nIndexes enumerate the elements, slices enumerate the spaces between the elements.\n\nIndex from rear:    -6  -5  -4  -3  -2  -1      a=[0,1,2,3,4,5]    a[1:]==[1,2,3,4,5]\nIndex from front:    0   1   2   3   4   5      len(a)==6          a[:5]==[0,1,2,3,4]\n                   +---+---+---+---+---+---+    a[0]==0            a[:-2]==[0,1,2,3]\n                   | a | b | c | d | e | f |    a[5]==5            a[1:2]==[1]\n                   +---+---+---+---+---+---+    a[-1]==5           a[1:-1]==[1,2,3,4]\nSlice from front:  :   1   2   3   4   5   :    a[-2]==4\nSlice from rear:   :  -5  -4  -3  -2  -1   :\n                                                b=a[:]\n                                                b==[0,1,2,3,4,5] (shallow copy of a)</code></pre>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 7315935, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>This is just for some extra info...\nConsider the list below </p>\n\n<pre><code>&gt;&gt;&gt; l=[12,23,345,456,67,7,945,467]\n</code></pre>\n\n<p>Few other tricks for reversing the list:</p>\n\n<pre><code>&gt;&gt;&gt; l[len(l):-len(l)-1:-1]\n[467, 945, 7, 67, 456, 345, 23, 12]\n\n&gt;&gt;&gt; l[:-len(l)-1:-1]\n[467, 945, 7, 67, 456, 345, 23, 12]\n\n&gt;&gt;&gt; l[len(l)::-1]\n[467, 945, 7, 67, 456, 345, 23, 12]\n\n&gt;&gt;&gt; l[::-1]\n[467, 945, 7, 67, 456, 345, 23, 12]\n\n&gt;&gt;&gt; l[-1:-len(l)-1:-1]\n[467, 945, 7, 67, 456, 345, 23, 12]\n</code></pre>\n\n<p>See abc's answer above</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 9827284, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>I find it easier to remember how it's works, then I can figure out any specific start/stop/step combination.</p>\n\n<p>It's instructive to understand <code>range()</code> first:</p>\n\n<pre><code>def range(start=0, stop, step=1):  # illegal syntax, but that's the effect\n    i = start\n    while (i &lt; stop if step &gt; 0 else i &gt; stop):\n        yield i\n        i += step\n</code></pre>\n\n<p>Begin from <code>start</code>, increment by <code>step</code>, do not reach <code>stop</code>.  Very simple.</p>\n\n<p>The thing to remember about negative step is that <code>stop</code> is always the excluded end, whether it's higher or lower. If you want same slice in opposite order, it's much cleaner to do the reversal separately: e.g. <code>'abcde'[1:-2][::-1]</code> slices off one char from left, two from right, then reverses. (See also <a href=\"http://www.python.org/dev/peps/pep-0322/\"><code>reversed()</code></a>.)</p>\n\n<p>Sequence slicing is same, except it first normalizes negative indexes, and can never go outside the sequence:</p>\n\n<pre><code>def this_is_how_slicing_works(seq, start=None, stop=None, step=1):\n    if start is None:\n        start = (0 if step &gt; 0 else len(seq)-1)\n    elif start &lt; 0:\n        start += len(seq)\n    if stop is None:\n        stop = (len(seq) if step &gt; 0 else -1)  # really -1, not last element\n    elif stop &lt; 0:\n        stop += len(seq)\n    for i in range(start, stop, step):\n        if 0 &lt;= i &lt; len(seq):\n            yield seq[i]\n</code></pre>\n\n<p>Don't worry about the <code>is None</code> details - just remember that omitting <code>start</code> and/or <code>stop</code> always does the right thing to give you the whole sequence.</p>\n\n<p>Normalizing negative indexes first allows start and/or stop to be counted from the end independently: <code>'abcde'[1:-2] == 'abcde'[1:3] == 'bc'</code> despite <code>range(1,-2) == []</code>.\nThe normalization is sometimes thought of as \"modulo the length\" but note it adds the length just once: e.g. <code>'abcde'[-53:42]</code> is just the whole string.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 9923354, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>In python 2.7</p>\n\n<p>Slicing in python</p>\n\n<pre><code>[a:b:c] \n\nlen = length of string, tuple or list\n\nc -- default is  +1. sign of c indicates forward or backward, absolute value of c indicates steps. Default is forward with step size 1. Positive means forward, negative means backward.\n\na --  when c is positive or blank, default is 0. when c is negative, default is -1.\n\nb --  when c is positive or blank, default is len. when c is negative, default is -(len+1).\n</code></pre>\n\n<p>Understanding index assignment is very important.</p>\n\n<pre><code>In forward direction, starts at 0 and ends at len-1\n\nIn backward direction, starts at -1 and ends at -len\n</code></pre>\n\n<p>when you say [a:b:c] you are saying depending on sign of c (forward or backward), start at a and end at b ( excluding element at bth index). Use the indexing rule above and remember you will only find elements in this range </p>\n\n<pre><code>-len, -len+1, -len+2, ..., 0, 1, 2,3,4 , len -1\n</code></pre>\n\n<p>but this range continues in both directions infinitely</p>\n\n<pre><code>...,-len -2 ,-len-1,-len, -len+1, -len+2, ..., 0, 1, 2,3,4 , len -1, len, len +1, len+2 , ....\n</code></pre>\n\n<p>e.g.   </p>\n\n<pre><code>             0    1    2   3    4   5   6   7   8   9   10   11         \n             a    s    t   r    i   n   g    \n    -9  -8  -7   -6   -5  -4   -3  -2  -1        \n</code></pre>\n\n<p>if your choice of a , b and c allows overlap with the range above as you traverse using rules for a,b,c above you will either get a list with elements (touched during traversal) or you will get an empty list.</p>\n\n<p>One last thing: if a and b are equal , then also you get an empty list</p>\n\n<pre><code>&gt;&gt;&gt; l1\n[2, 3, 4]\n\n&gt;&gt;&gt; l1[:]\n[2, 3, 4]\n\n&gt;&gt;&gt; l1[::-1] # a default is -1 , b default is -(len+1)\n[4, 3, 2]\n\n&gt;&gt;&gt; l1[:-4:-1] # a default is -1\n[4, 3, 2]\n\n&gt;&gt;&gt; l1[:-3:-1] # a default is -1 \n[4, 3]\n\n&gt;&gt;&gt; l1[::] # c default is +1, so a default is 0, b default is len\n[2, 3, 4]\n\n&gt;&gt;&gt; l1[::-1] # c is -1 , so a default is -1 and b default is -(len+1)\n[4, 3, 2]\n\n\n&gt;&gt;&gt; l1[-100:-200:-1] # interesting\n[]\n\n&gt;&gt;&gt; l1[-1:-200:-1] # interesting\n[4, 3, 2]\n\n\n&gt;&gt;&gt; l1[-1:-1:1]\n[]\n\n\n&gt;&gt;&gt; l1[-1:5:1] # interesting\n[4]\n\n\n&gt;&gt;&gt; l1[1:-7:1]\n[]\n\n&gt;&gt;&gt; l1[1:-7:-1] # interesting\n[3, 2]\n</code></pre>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 13005464, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<pre><code>index:\n      ------------&gt;\n  0   1   2   3   4\n+---+---+---+---+---+\n| a | b | c | d | e |\n+---+---+---+---+---+\n  0  -4  -3  -2  -1\n      &lt;------------\n\nslice:\n    &lt;---------------|\n|---------------&gt;   \n:   1   2   3   4   :\n+---+---+---+---+---+\n| a | b | c | d | e |\n+---+---+---+---+---+\n:  -4  -3  -2  -1   :\n|---------------&gt;   \n    &lt;---------------|\n</code></pre>\n\n<p>hope this will help you to model the list in Python</p>\n\n<p>reference:<a href=\"http://wiki.python.org/moin/MovingToPythonFromOtherLanguages\">http://wiki.python.org/moin/MovingToPythonFromOtherLanguages</a></p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 14682039, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>You can also use slice assignment to remove one or more elements from a list:</p>\n\n<pre><code>r = [1, 'blah', 9, 8, 2, 3, 4]\n&gt;&gt;&gt; r[1:4] = []\n&gt;&gt;&gt; r\n[1, 2, 3, 4]\n</code></pre>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 15824717, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>Python slicing notation:</p>\n\n<pre><code>a[start:end:step]\n</code></pre>\n\n<ul>\n<li>For <code>start</code> and <code>end</code>, negative values are interpreted as being relative to the end of the sequence.</li>\n<li>Positive indices for <code>end</code> indicate the position <em>after</em> the last element to be included.</li>\n<li>Blank values are defaulted as follows: <code>[+0:-0:1]</code>.</li>\n<li>Using a negative step reverses the interpretation of <code>start</code> and <code>end</code></li>\n</ul>\n\n<p>The notation extends to (numpy) matrices and multidimensional arrays.  For example, to slice entire columns you can use:</p>\n\n<pre><code>m[::,0:2:] ## slice the first two columns\n</code></pre>\n\n<p>Slices hold references, not copies, of the array elements.  If you want to make a separate copy an array, you can use <a href=\"http://stackoverflow.com/questions/6532881/how-to-make-a-copy-of-a-2d-array-in-python\"><code>deepcopy()</code></a>.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 16267103, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>To get a certain piece of an iterable (like a list), here is an example:</p>\n\n<pre><code>variable[number1:number2]\n</code></pre>\n\n<p>In this example, a positive number for number 1 is how many components you take off the front. A negative number is the exact opposite, how many you keep from the end. A positive number for number 2 indicates how many components you intend to keep from the beginning, and a negative is how many you intend to take off from the end. This is somewhat counter intuitive, but you are correct in supposing that list slicing is extremely useful.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 20136130, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>As a general rule, writing code with a lot of hardcoded index values leads to a readability\nand maintenance mess. For example, if you come back to the code a year later, you\u2019ll\nlook at it and wonder what you were thinking when you wrote it. The solution shown\nis simply a way of more clearly stating what your code is actually doing.\nIn general, the built-in slice() creates a slice object that can be used anywhere a slice\nis allowed. For example:</p>\n\n<pre><code>&gt;&gt;&gt; items = [0, 1, 2, 3, 4, 5, 6]\n&gt;&gt;&gt; a = slice(2, 4)\n&gt;&gt;&gt; items[2:4]\n[2, 3]\n&gt;&gt;&gt; items[a]\n[2, 3]\n&gt;&gt;&gt; items[a] = [10,11]\n&gt;&gt;&gt; items\n[0, 1, 10, 11, 4, 5, 6]\n&gt;&gt;&gt; del items[a]\n&gt;&gt;&gt; items\n[0, 1, 4, 5, 6]\n</code></pre>\n\n<p>If you have a slice instance s, you can get more information about it by looking at its\ns.start, s.stop, and s.step attributes, respectively. For example:</p>\n\n<blockquote>\n<pre><code>&gt;&gt;&gt; a = slice(10, 50, 2)\n&gt;&gt;&gt; a.start\n10\n&gt;&gt;&gt; a.stop\n50\n&gt;&gt;&gt; a.step\n2\n&gt;&gt;&gt;\n</code></pre>\n</blockquote>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 20443928, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>If you prefer a video and voiceover instead, the guy in <a href=\"http://youtu.be/tKTZoB2Vjuk?t=42m34s\" rel=\"nofollow\">the Google Python course (click here)</a> talks about slice syntax and some of its practical uses, starting from the time index 42:34; the link will take you to that point.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 24546555, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<blockquote>\n  <h1>Explain Python's slice notation</h1>\n</blockquote>\n\n<p>In short, the colons (<code>:</code>) in subscript notation (<code>subscriptable[subscriptarg]</code>) make slice notation - which has the optional arguments, <code>start</code>, <code>stop</code>, <code>step</code>:</p>\n\n<pre><code>sliceable[start:stop:step]\n</code></pre>\n\n<p>Python slicing is a computationally fast way to methodically access parts of your data. In my opinion, to be even an intermediate Python programmer, it's one aspect of the language that it is necessary to be familiar with.</p>\n\n<h1>Important Definitions</h1>\n\n<p>To begin with, let's define a few terms:</p>\n\n<blockquote>\n  <p><strong>start:</strong> the beginning index of the slice, it will include the element at this index unless it is the same as <em>stop</em>, defaults to 0, i.e. the first index. If it's negative, it means to start <code>n</code> items from the end.</p>\n  \n  <p><strong>stop:</strong> the ending index of the slice, it does <em>not</em> include the element at this index, defaults to length of the sequence being sliced, that is, up to and including the end.</p>\n  \n  <p><strong>step:</strong> the amount by which the index increases, defaults to 1. If it's negative, you're slicing over the iterable in reverse.</p>\n</blockquote>\n\n<h1>How Indexing Works</h1>\n\n<p>You can make any of these positive or negative numbers. The meaning of the positive numbers is straightforward, but for negative numbers, just like indexes in Python, you count backwards from the end for the <em>start</em> and <em>stop</em>, and for the <em>step</em>, you simply decrement your index. This example is <a href=\"https://docs.python.org/2/tutorial/introduction.html\">from the documentation's tutorial</a>, but I've modified it slightly to indicate which item in a sequence each index references:</p>\n\n<pre><code> +---+---+---+---+---+---+\n | P | y | t | h | o | n |\n +---+---+---+---+---+---+\n   0   1   2   3   4   5 \n  -6  -5  -4  -3  -2  -1\n</code></pre>\n\n<h1>How Slicing Works</h1>\n\n<p>To use slice notation with a sequence that supports it, you must include at least one colon in the square brackets that follow the sequence (which actually <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__getitem__\">implement the <code>__getitem__</code> method of the sequence, according to the Python data model</a>.)</p>\n\n<p>Slice notation works like this:</p>\n\n<pre><code>sequence[start:stop:step]\n</code></pre>\n\n<p>And recall that there are defaults for <em>start</em>, <em>stop</em>, and <em>step</em>, so to access the defaults, simply leave out the argument, <code>n</code> in the notation.\nSlice notation to get the every other elements from nine elements from a list (or any other sequence that supports it, like a string) would look like this:</p>\n\n<pre><code>my_list[-9:]\n</code></pre>\n\n<p>When I see this, I read the part in the brackets as \"9th from the end, to the end.\" (Actually, I abbreviate it mentally as \"-9, on\")</p>\n\n<h1>Explanation:</h1>\n\n<p>The full notation is </p>\n\n<pre><code>my_list[-9:None:None]\n</code></pre>\n\n<p>and to substitute the defaults (actually when <code>step</code> is negative, <code>stop</code>'s default is <code>-len(my_list)-1</code>), so <code>None</code> for stop really just means it goes to whichever end step takes it to):</p>\n\n<pre><code>my_list[-9:len(my_list):1]\n</code></pre>\n\n<p>But the <strong>colon</strong>, <code>:</code>,  is what tells Python you're giving it a slice and not a regular index. That's why the idiomatic way of making a shallow copy of lists in Python 2 is</p>\n\n<pre><code>list_copy = sequence[:]\n</code></pre>\n\n<p>And clearing them is with:</p>\n\n<pre><code>del my_list[:]\n</code></pre>\n\n<p>(Python 3 gets a <code>list.copy</code> and <code>list.clear</code> method.)</p>\n\n<h1>Give your slices a descriptive name!</h1>\n\n<p>You may find it useful to separate forming the slice from passing it to the <code>list.__getitem__</code> method (<a href=\"https://docs.python.org/2/reference/datamodel.html#object.__getitem__\">that's what the square brackets do</a>). Even if you're not new to it, it keeps your code more readable so that others that may have to read your code can more readily understand what you're doing.</p>\n\n<p>However, you can't just assign some integers separated by colons to a variable. You need to use the slice object:</p>\n\n<pre><code>last_nine_slice = slice(-9, None)\n</code></pre>\n\n<p>The second argument, <code>None</code>, is required, so that the first argument is interpreted as the <code>start</code> argument <a href=\"https://docs.python.org/2/library/functions.html#slice\">otherwise it would be the <code>stop</code> argument</a>. </p>\n\n<p>You can then pass the slice object to your sequence:</p>\n\n<pre><code>&gt;&gt;&gt; list(range(100))[last_nine_slice]\n[91, 92, 93, 94, 95, 96, 97, 98, 99]\n</code></pre>\n\n<h1>Memory Considerations:</h1>\n\n<p>Since slices of Python lists create new objects in memory, another important function to be aware of is <code>itertools.islice</code>. Typically you'll want to iterate over a slice, not just have it created statically in memory. <code>islice</code> is perfect for this. A caveat, it doesn't support negative arguments to <code>start</code>, <code>stop</code>, or <code>step</code>, so if that's an issue you may need to calculate indices or reverse the iterable in advance.</p>\n\n<pre><code>&gt;&gt;&gt; length = 100\n&gt;&gt;&gt; last_nine_iter = itertools.islice(list(range(length)), length-9, None, 1)\n&gt;&gt;&gt; list_last_nine = list(last_nine)\n&gt;&gt;&gt; list_last_nine\n[91, 92, 93, 94, 95, 96, 97, 98, 99]\n</code></pre>\n\n<p>The fact that list slices make a copy is a feature of lists themselves. If you're slicing advanced objects like a Pandas DataFrame, it may return a view on the original, and not a copy. </p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 24713353, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<pre><code>#!/usr/bin/env python\n\ndef slicegraphical(s, lista):\n\n    if len(s) &gt; 9:\n        print \"\"\"Enter a string of maximum 9 characters,\n    so the printig would looki nice\"\"\"\n        return 0;\n    # print \" \",\n    print '  '+'+---' * len(s) +'+'\n    print ' ',\n    for letter in s:\n        print '| {}'.format(letter),\n    print '|'\n    print \" \",; print '+---' * len(s) +'+'\n\n    print \" \",\n    for letter in range(len(s) +1):\n        print '{}  '.format(letter),\n    print \"\"\n    for letter in range(-1*(len(s)), 0):\n        print ' {}'.format(letter),\n    print ''\n    print ''\n\n\n    for triada in lista:\n        if len(triada) == 3:\n            if triada[0]==None and triada[1] == None and triada[2] == None:\n                # 000\n                print s+'[   :   :   ]' +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] == None and triada[1] == None and triada[2] != None:\n                # 001\n                print s+'[   :   :{0:2d} ]'.format(triada[2], '','') +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] == None and triada[1] != None and triada[2] == None:\n                # 010\n                print s+'[   :{0:2d} :   ]'.format(triada[1]) +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] == None and triada[1] != None and triada[2] != None:\n                # 011\n                print s+'[   :{0:2d} :{1:2d} ]'.format(triada[1], triada[2]) +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] != None and triada[1] == None and triada[2] == None:\n                # 100\n                print s+'[{0:2d} :   :   ]'.format(triada[0]) +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] != None and triada[1] == None and triada[2] != None:\n                # 101\n                print s+'[{0:2d} :   :{1:2d} ]'.format(triada[0], triada[2]) +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] != None and triada[1] != None and triada[2] == None:\n                # 110\n                print s+'[{0:2d} :{1:2d} :   ]'.format(triada[0], triada[1]) +' = ', s[triada[0]:triada[1]:triada[2]]\n            elif triada[0] != None and triada[1] != None and triada[2] != None:\n                # 111\n                print s+'[{0:2d} :{1:2d} :{2:2d} ]'.format(triada[0], triada[1], triada[2]) +' = ', s[triada[0]:triada[1]:triada[2]]\n\n        elif len(triada) == 2:\n            if triada[0] == None and triada[1] == None:\n                # 00\n                print s+'[   :   ]    ' + ' = ', s[triada[0]:triada[1]]\n            elif triada[0] == None and triada[1] != None:\n                # 01\n                print s+'[   :{0:2d} ]    '.format(triada[1]) + ' = ', s[triada[0]:triada[1]]\n            elif triada[0] != None and triada[1] == None:\n                # 10\n                print s+'[{0:2d} :   ]    '.format(triada[0]) + ' = ', s[triada[0]:triada[1]]\n            elif triada[0] != None and triada[1] != None:\n                # 11\n                print s+'[{0:2d} :{1:2d} ]    '.format(triada[0],triada[1]) + ' = ', s[triada[0]:triada[1]]\n\n        elif len(triada) == 1:\n            print s+'[{0:2d} ]        '.format(triada[0]) + ' = ', s[triada[0]]\n\n\nif __name__ == '__main__':\n    # Change \"s\" to what ever string you like, make it 9 characters for\n    # better representation.\n    s = 'COMPUTERS'\n\n    # add to this list different lists to experement with indexes\n    # to represent ex. s[::], use s[None, None,None], otherwise you get an error\n    # for s[2:] use s[2:None]\n\n    lista = [[4,7],[2,5,2],[-5,1,-1],[4],[-4,-6,-1], [2,-3,1],[2,-3,-1], [None,None,-1],[-5,None],[-5,0,-1],[-5,None,-1],[-1,1,-2]]\n\n    slicegraphical(s, lista)\n</code></pre>\n\n<p>You can run this script and experiment with it, below is some samples that I got from the script.</p>\n\n<pre><code>  +---+---+---+---+---+---+---+---+---+\n  | C | O | M | P | U | T | E | R | S |\n  +---+---+---+---+---+---+---+---+---+\n  0   1   2   3   4   5   6   7   8   9   \n -9  -8  -7  -6  -5  -4  -3  -2  -1 \n\nCOMPUTERS[ 4 : 7 ]     =  UTE\nCOMPUTERS[ 2 : 5 : 2 ] =  MU\nCOMPUTERS[-5 : 1 :-1 ] =  UPM\nCOMPUTERS[ 4 ]         =  U\nCOMPUTERS[-4 :-6 :-1 ] =  TU\nCOMPUTERS[ 2 :-3 : 1 ] =  MPUT\nCOMPUTERS[ 2 :-3 :-1 ] =  \nCOMPUTERS[   :   :-1 ] =  SRETUPMOC\nCOMPUTERS[-5 :   ]     =  UTERS\nCOMPUTERS[-5 : 0 :-1 ] =  UPMO\nCOMPUTERS[-5 :   :-1 ] =  UPMOC\nCOMPUTERS[-1 : 1 :-2 ] =  SEUM\n[Finished in 0.9s]\n</code></pre>\n\n<p>When using a negative step, notice that the answer is shifted to the right by 1.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 26442691, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>This is how I teach slices to newbies:</p>\n\n<p><strong>Understanding difference between indexing and slicing:</strong></p>\n\n<p>Wiki Python has this amazing picture which clearly distinguishes indexing and slicing.</p>\n\n<p><img src=\"http://i.stack.imgur.com/o99aU.png\" alt=\"enter image description here\"></p>\n\n<p>It is a list with 6 elements in it. To understand slicing better, consider that list as a set of six boxes placed together. Each box has an alphabet in it.</p>\n\n<p>Indexing is like dealing with the contents of box. You can check contents of any box. But You can't check contents of multiple boxes at once. You can even replace contents of the box. But You can't place 2 balls in 1 box or replace 2 balls at a time.</p>\n\n<pre><code>In [122]: alpha = ['a', 'b', 'c', 'd', 'e', 'f']\n\nIn [123]: alpha\nOut[123]: ['a', 'b', 'c', 'd', 'e', 'f']\n\nIn [124]: alpha[0]\nOut[124]: 'a'\n\nIn [127]: alpha[0] = 'A'\n\nIn [128]: alpha\nOut[128]: ['A', 'b', 'c', 'd', 'e', 'f']\n\nIn [129]: alpha[0,1]\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-129-c7eb16585371&gt; in &lt;module&gt;()\n----&gt; 1 alpha[0,1]\n\nTypeError: list indices must be integers, not tuple\n</code></pre>\n\n<p>Slicing is like dealing with boxes itself. You can pickup first box and place it on another table. To pickup the box all You need to know is the position of beginning  &amp; ending of the box.</p>\n\n<p>You can even pickup first 3 boxes or last 2 boxes or all boxes between 1 &amp; 4. So, You can pick any set of boxes if You know beginning &amp; ending. This positions are called start &amp; stop positions.</p>\n\n<p>The interesting thing is that You can replace multiple boxes at once. Also You can place multiple boxes where ever You like.</p>\n\n<pre><code>In [130]: alpha[0:1]\nOut[130]: ['A']\n\nIn [131]: alpha[0:1] = 'a'\n\nIn [132]: alpha\nOut[132]: ['a', 'b', 'c', 'd', 'e', 'f']\n\nIn [133]: alpha[0:2] = ['A', 'B']\n\nIn [134]: alpha\nOut[134]: ['A', 'B', 'c', 'd', 'e', 'f']\n\nIn [135]: alpha[2:2] = ['x', 'xx']\n\nIn [136]: alpha\nOut[136]: ['A', 'B', 'x', 'xx', 'c', 'd', 'e', 'f']\n</code></pre>\n\n<p><strong>Slicing With Step:</strong></p>\n\n<p>Till now You have picked boxes continuously. But some times You need to pickup discretely. For example You can pickup every second box. You can even pickup every third box from the end. This value is called step size. This represents the gap between Your successive pickups. The step size should be positive if You are picking boxes from the beginning to end and vice versa.</p>\n\n<pre><code>In [137]: alpha = ['a', 'b', 'c', 'd', 'e', 'f']\n\nIn [142]: alpha[1:5:2] \nOut[142]: ['b', 'd']\n\nIn [143]: alpha[-1:-5:-2]\nOut[143]: ['f', 'd']\n\nIn [144]: alpha[1:5:-2]\nOut[144]: []\n\nIn [145]: alpha[-1:-5:2]      \nOut[145]: []\n</code></pre>\n\n<p><strong>How Python Figures Out Missing Parameters:</strong></p>\n\n<p>When slicing if You leave out any parameter, Python tries to figure it out automatically.</p>\n\n<p>If You check source code of CPython, You will find a function called PySlice_GetIndicesEx which figures out indices to a slice for any given parameters. Here is the logical equivalent code in Python.</p>\n\n<p>This function takes a Python object &amp; optional parameters for slicing and returns start, stop, step &amp; slice length for the requested slice.</p>\n\n<pre><code>def py_slice_get_indices_ex(obj, start=None, stop=None, step=None):\n\n    length = len(obj)\n\n    if step is None:\n        step = 1\n    if step == 0:\n        raise Exception(\"Step cannot be zero.\")\n\n    if start is None:\n        start = 0 if step &gt; 0 else length - 1\n    else:\n        if start &lt; 0:\n            start += length\n        if start &lt; 0:\n            start = 0 if step &gt; 0 else -1\n        if start &gt;= length:\n            start = length if step &gt; 0 else length - 1\n\n    if stop is None:\n        stop = length if step &gt; 0 else -1\n    else:\n        if stop &lt; 0:\n            stop += length\n        if stop &lt; 0:\n            stop = 0 if step &gt; 0 else -1\n        if stop &gt;= length:\n            stop = length if step &gt; 0 else length - 1\n\n    if (step &lt; 0 and stop &gt;= start) or (step &gt; 0 and start &gt;= stop):\n        slice_length = 0\n    elif step &lt; 0:\n        slice_length = (stop - start + 1)/(step) + 1\n    else:\n        slice_length = (stop - start - 1)/(step) + 1\n\n    return (start, stop, step, slice_length)\n</code></pre>\n\n<p>This is the intelligence that is present behind slices. Since Python has inbuilt function called slice, You can pass some parameters &amp; check how smartly it calculates missing parameters.</p>\n\n<pre><code>In [21]: alpha = ['a', 'b', 'c', 'd', 'e', 'f']\n\nIn [22]: s = slice(None, None, None)\n\nIn [23]: s\nOut[23]: slice(None, None, None)\n\nIn [24]: s.indices(len(alpha)) \nOut[24]: (0, 6, 1)\n\nIn [25]: range(*s.indices(len(alpha)))\nOut[25]: [0, 1, 2, 3, 4, 5]\n\nIn [26]: s = slice(None, None, -1) \n\nIn [27]: range(*s.indices(len(alpha)))\nOut[27]: [5, 4, 3, 2, 1, 0]\n\nIn [28]: s = slice(None, 3, -1)        \n\nIn [29]: range(*s.indices(len(alpha)))\nOut[29]: [5, 4]\n</code></pre>\n\n<p><strong>Note:</strong> This post is originally written in my blog <a href=\"http://www.avilpage.com/2015/03/a-slice-of-python-intelligence-behind.html\">http://www.avilpage.com/2015/03/a-slice-of-python-intelligence-behind.html</a></p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 29237560, "question_id": 509211, "tags": ["python", "list", "slice"]}, {"body": "<p>My brain seems happy to accept that <code>lst[start:end]</code> contains the <code>start</code>-th item. I might even say that it is a 'natural assumption'.</p>\n\n<p>But occasionally a doubt creeps in and my brain asks for reassurance that it does not contain the <code>end</code>-th element.</p>\n\n<p>In these moments I rely on this simple theorem:</p>\n\n<pre><code>for any n,    lst = lst[:n] + lst[n:]\n</code></pre>\n\n<p>This pretty property tells me that <code>lst[start:end]</code> does not contain the <code>end</code>-th item because it is in <code>lst[end:]</code>.</p>\n\n<p>Note that this theorem is true for any <code>n</code> at all. For example, you can check that</p>\n\n<pre><code>lst = range(10)\nlst[:-42] + lst[-42:] == lst\n</code></pre>\n\n<p>returns <code>True</code>.</p>\n", "title": "Explain Python&#39;s slice notation", "answer_id": 37455246, "question_id": 509211, "tags": ["python", "list", "slice"]}], "question_id": 509211}, {"body": "<p>Using jQuery, how can I <strong>cancel/abort an Ajax request</strong> that I have not yet received the response from?</p>\n", "title": "Abort Ajax requests using jQuery", "tags": ["javascript", "jquery", "ajax"], "answer_count": 17, "link": "http://stackoverflow.com/questions/446594/abort-ajax-requests-using-jquery", "answers": [{"body": "<p>You can't recall the request but you can set a timeout value after which the response will be ignored.  See this <a href=\"http://docs.jquery.com/Ajax/jQuery.ajax#options\">page</a> for jquery AJAX options.  I believe that your error callback will be called if the timeout period is exceeded.  There is already a default timeout on every AJAX request.</p>\n\n<p>You can also use the <a href=\"https://developer.mozilla.org/en/DOM/XMLHttpRequest#abort%28%29\">abort()</a> method on the request object but, while it will cause the client to stop listening for the event, it <strike>may</strike> probably will not stop the server from processing it.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 446622, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>It's an <strong>asynchronous</strong> request, meaning once it's sent it's out there.</p>\n\n<p>In case your server is starting a very expensive operation due to the AJAX request, the best you can do is open your server to listen for cancel requests, and send a separate AJAX request notifying the server to stop whatever it's doing.</p>\n\n<p>Otherwise, simply ignore the AJAX response.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 446625, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>Most of the jQuery Ajax methods return an XMLHttpRequest (or the equivalent) object, so you can just use <code>abort()</code>.</p>\n\n<p>See the documentation:</p>\n\n<ul>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms535920%28VS.85%29.aspx\">abort Method</a> (<a href=\"http://en.wikipedia.org/wiki/Microsoft_Developer_Network\">MSDN</a>). Cancels the current HTTP request.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/abort\">abort()</a> (<a href=\"http://en.wikipedia.org/wiki/Mozilla_Developer_Network\">MDN</a>). If the request has been sent already, this method will abort the request.</li>\n</ul>\n\n\n\n<pre><code>var xhr = $.ajax({\n    type: \"POST\",\n    url: \"some.php\",\n    data: \"name=John&amp;location=Boston\",\n    success: function(msg){\n       alert( \"Data Saved: \" + msg );\n    }\n});\n\n//kill the request\nxhr.abort()\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nAs of jQuery 1.5 the returned object is a wrapper for the native XMLHttpRequest object called jqXHR. This object appears to expose all of the native properties and methods so the above example still works. See <em><a href=\"http://api.jquery.com/jQuery.ajax/#jqXHR\">The jqXHR Object</a></em> (jQuery API documentation).</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 446626, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p><a href=\"http://stackoverflow.com/questions/446594/kill-ajax-requests-using-javascript-using-jquery/446626#446626\">meouw's solution</a> is correct, but if you're are interested in more control then you could try the <a href=\"http://archive.plugins.jquery.com/project/AjaxManager\">Ajax Manager plugin</a> for jQuery.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 447256, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>Save the calls you make in an array, then call xhr.abort() on each.</p>\n\n<p>HUGE CAVEAT: You can abort a request, but that's only the client side. The server side could still be processing the request. If you are using something like PHP or ASP with session data, the session data is locked until the ajax has finished. So, to allow the user to continue browsing the website, you have to call <strong>session_write_close</strong>(). This saves the session and unlocks it so that other pages waiting to continue will proceed. Without this, several pages can be waiting for the lock to be removed.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 9906646, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>We just had to work around this problem and tested three different solution approaches.</p>\n\n<ol>\n<li>does cancel the request as suggested by @meouw</li>\n<li>execute all request but only processes the result of the last submit</li>\n<li>prevents new requests as long as another one is still pending</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;AJAX Test&lt;/title&gt;\n    &lt;script src=\"http://code.jquery.com/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var Ajax1 = {\n            call: function () {\n                if (typeof this.xhr !== 'undefined')\n                    this.xhr.abort();\n                this.xhr = $.ajax({\n                    url: 'your/long/running/request/path',\n                    type: 'GET',\n                    success: function (data) {\n                        //process response\n                    }\n                });\n            }\n        };\n        var Ajax2 = {\n            counter: 0,\n            call: function () {\n                var self = this,\n                    seq = ++this.counter;\n                $.ajax({\n                    url: 'your/long/running/request/path',\n                    type: 'GET',\n                    success: function (data) {\n                        if (seq === self.counter) {\n                            //process response\n                        }\n                    }\n                });\n            }\n        };\n        var Ajax3 = {\n            active: false,\n            call: function () {\n                if (this.active === false) {\n                    this.active = true;\n                    var self = this;\n                    $.ajax({\n                        url: 'your/long/running/request/path',\n                        type: 'GET',\n                        success: function (data) {\n                            //process response\n                        },\n                        complete: function () {\n                            self.active = false;\n                        }\n                    });\n                }\n            }\n        };\n        $(function () {\n            $('#button').click(function (e) {\n                Ajax3.call();\n            });\n        })\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;input id=\"button\" type=\"button\" value=\"click\" /&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>In our case we decided to use approach #3 as it produces less load for the server. But I am not 100% sure if jQuery guarantees the call of the .complete()-method, this could produce a deadlock situation. In our tests we could not reproduce such a situation.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 15249947, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>I had the problem of polling and once the page was closed the poll continued so in my cause  a user would miss an update as a mysql value was being set for the next 50 seconds after page closing, even though I killed the ajax request, I figured away around, using $_SESSION to set a var won't update in the poll its self until its ended and a new one has started, so what I did was set a value in my database as 0 = offpage , while I'm polling I query that row and return false; when it's 0 as querying in polling will get you current values obviously...</p>\n\n<p>I hope this helped </p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 17858386, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>Just use ajax.abort() for example you could abort any pending ajax request before sending another one like this</p>\n\n<pre><code>//check for existing ajax request\nif(ajax){ \n ajax.abort();\n }\n//then you make another ajax request\n$.ajax(\n //your code here\n  );\n</code></pre>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 19854256, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>I was doing a live search solution and needed to cancel pending requests that may have taken longer than the latest/most current request. </p>\n\n<p>In my case I used something like this:</p>\n\n<pre><code>//On document ready\nvar ajax_inprocess = false;\n\n$(document).ajaxStart(function() {\najax_inprocess = true;\n});\n\n$(document).ajaxStop(function() {\najax_inprocess = false;\n});\n\n//Snippet from live search function\nif (ajax_inprocess == true)\n{\n    request.abort();\n}\n//Call for new request \n</code></pre>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 20378269, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>AJAX requests may not complete in the order they were started. Instead of aborting, you can choose to <em>ignore</em> all AJAX responses except for the most recent one:</p>\n\n<ul>\n<li>Create a counter</li>\n<li>Increment the counter when you initiate AJAX request</li>\n<li>Use the current value of counter to \"stamp\" the request</li>\n<li>In the success callback compare the stamp with the counter to check if it was the most recent request</li>\n</ul>\n\n<p>Rough outline of code:</p>\n\n<pre><code>var xhrCount = 0;\nfunction sendXHR() {\n    // sequence number for the current invocation of function\n    var seqNumber = ++xhrCount;\n    $.post(\"/echo/json/\", { delay: Math.floor(Math.random() * 5) }, function() {\n        // this works because of the way closures work\n        if (seqNumber === xhrCount) {\n            console.log(\"Process the response\");\n        } else {\n            console.log(\"Ignore the response\");\n        }\n    });\n}\nsendXHR();\nsendXHR();\nsendXHR();\n// AJAX requests complete in any order but only the last \n// one will trigger \"Process the response\" message\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/vyy3mn9x/\">Demo on jsFiddle</a></p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 21204387, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>As many people on the thread have noted, just because the request is aborted on the client-side, the server will still process the request. This creates unnecessary load on the server because it's doing work that we've quit listening to on the front-end.</p>\n\n<p>The problem I was trying to solve (that others may run in to as well) is that when the user entered information in an input field, I wanted to fire off a request for a Google Instant type of feel.</p>\n\n<p>To avoid firing unnecessary requests and to maintain the snappiness of the front-end, I did the following:</p>\n\n<pre><code>var xhrQueue = [];\nvar xhrCount = 0;\n\n$('#search_q').keyup(function(){\n\n    xhrQueue.push(xhrCount);\n\n    setTimeout(function(){\n\n        xhrCount = ++xhrCount;\n\n        if (xhrCount === xhrQueue.length) {\n            // Fire Your XHR //\n        }\n\n    }, 150);\n\n});\n</code></pre>\n\n<p>This will essentially send one request every 150ms (a variable that you can customize for your own needs). If you're having trouble understanding what exactly is happening here, log <code>xhrCount</code> and <code>xhrQueue</code> to the console just before the if block.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 21535160, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>It is always best practice to do something like this.</p>\n\n<pre><code>var $request;\nif ($request != null){ \n    $request.abort();\n    $request = null;\n}\n\n$request = $.ajax({\n    type : \"POST\", //TODO: Must be changed to POST\n    url : \"yourfile.php\",\n    data : \"data\"\n    }).done(function(msg) {\n        alert(msg);\n    });\n</code></pre>\n\n<p>But it is much better if you check an if statement to check whether the ajax request is null or not.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 26378766, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>Just call xhr.<strong>abort()</strong> whether it's jquery ajax object or native XMLHTTPRequest object.</p>\n\n<p>example:</p>\n\n<pre><code>//jQuery ajax\n$(document).ready(\n    var xhr = $.get('/server');\n    setTimeout(function(){xhr.abort();}, 2000);\n);\n\n//native XMLHTTPRequest\nvar xhr = new XMLHttpRequest();\nxhr.open('GET','/server',true);\nxhr.send();\nsetTimeout(function(){xhr.abort();}, 2000);\n</code></pre>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 30502256, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>there is no reliable way to do it, and I would not even try it, once the request is on the go; the <em>only</em> way to react reasonably is to <em>ignore</em> the response.</p>\n\n<p>in most cases, it may happen in situations like: a user clicks too often on a button triggering many consecutive XHR, here you have many options, either block the button till XHR is returned, or dont even trigger new XHR while another is running hinting the user to lean back - or discard any pending XHR response but the recent.</p>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 30899851, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>The following snippet shows initiating as well as aborting an Ajax request:</p>\n\n<pre><code>function libAjax(){\n  var req;\n  function start(){\n\n  req =    $.ajax({\n              url: '1.php',\n              success: function(data){\n                console.log(data)\n              }\n            });\n\n  }\n\n  function stop(){\n    req.abort();\n  }\n\n  return {start:start,stop:stop}\n}\n\nvar obj = libAjax();\n\n $(\".go\").click(function(){\n\n\n  obj.start();\n\n\n })\n\n\n\n $(\".stop\").click(function(){\n\n  obj.stop();\n\n\n })\n\n&lt;input type=\"button\" class=\"go\" value=\"GO!\" &gt;\n   &lt;input type=\"button\" class=\"stop\" value=\"STOP!\" &gt;\n</code></pre>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 34592395, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<p>I have shared a <a href=\"http://jsfiddle.net/e3ok3s6e/\" rel=\"nofollow\">demo</a> that demonstrates how to cancel an AJAX request-- if data is not returned from the server within a predefined wait time.</p>\n\n<p><strong>HTML :</strong></p>\n\n<pre><code>&lt;div id=\"info\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS CODE:</strong></p>\n\n<pre><code>var isDataReceived= false, waitTime= 1000; \n$(function() {\n    // Ajax request sent.\n     var xhr= $.ajax({\n      url: 'http://api.joind.in/v2.1/talks/10889',\n      data: {\n         format: 'json'\n      },     \n      dataType: 'jsonp',\n      success: function(data) {      \n        isDataReceived= true;\n        $('#info').text(data.talks[0].talk_title);        \n      },\n      type: 'GET'\n   });\n   // Cancel ajax request if data is not loaded within 1sec.\n   setTimeout(function(){\n     if(!isDataReceived)\n     xhr.abort();     \n   },waitTime);   \n});\n</code></pre>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 35355402, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}, {"body": "<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"handlername\",\n    data: \"paramerers\",\n    success: function(msg){\n       alert( \"Result: \" + msg );\n    },\n    error: function() {\n                    alert(\"Error Message\");\n                    },\n    datatype : JSON,\n   async: false,\n   cache: false\n});\n</code></pre>\n", "title": "Abort Ajax requests using jQuery", "answer_id": 39161670, "question_id": 446594, "tags": ["javascript", "jquery", "ajax"]}], "question_id": 446594}, {"body": "<p>The <code>new</code> keyword in JavaScript can be quite confusing when it is first encountered, as people tend to think that JavaScript is not an object-oriented programming language.</p>\n\n<ul>\n<li>What is it?</li>\n<li>What problems does it solve?</li>\n<li>When is it appropriate and when not?</li>\n</ul>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "tags": ["javascript", "new-operator"], "answer_count": 12, "link": "http://stackoverflow.com/questions/1646698/what-is-the-new-keyword-in-javascript", "answers": [{"body": "<blockquote>\n  <p>so it's probably not for creating\n  instances of object</p>\n</blockquote>\n\n<p>It's used exactly for that. You define a function constructor like so:</p>\n\n<pre><code>function Person(name) {\n    this.name = name;\n}\n\nvar john = new Person('John');\n</code></pre>\n\n<p>However the extra benefit that ECMAScript has is you can extend with the <code>.prototype</code> property, so we can do something like...</p>\n\n<pre><code>Person.prototype.getName = function() { return this.name; }\n</code></pre>\n\n<p>All objects created from this constructor will now have a <code>getName</code> because of the prototype chain that they have access to.</p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 1646706, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>JavaScript <em>is</em> an object-oriented programming language and it's used exactly for creating instances. It's prototype-based, rather than class-based, but that does not mean that it is not object-oriented.</p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 1646723, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>Javascript is a dynamic programming language which supports the object oriented programming paradigm, and it use used for creating new instances of object.</p>\n\n<p>Classes are not necessary for objects - Javascript is a <a href=\"http://en.wikipedia.org/wiki/Prototype-based_programming\" rel=\"nofollow\">prototype based</a> language.</p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 1646724, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>The <code>new</code> keyword creates instances of objects using functions as a constructor. For instance:</p>\n\n<pre><code>var Foo = function() {};\nFoo.prototype.bar = 'bar';\n\nvar foo = new Foo();\nfoo instanceof Foo; // true\n</code></pre>\n\n<p>Instances inherit from the <code>prototype</code> of the constructor function. So given the example above...</p>\n\n<pre><code>foo.bar; // 'bar'\n</code></pre>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 1646727, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>The <code>new</code> keyword is for creating new object instances. And yes, javascript is a dynamic programming language, which supports the object oriented programming paradigm. The convention about the object naming is, always use capital letter for objects that are supposed to be instantiated by the new keyword.</p>\n\n<pre><code>obj = new Element();\n</code></pre>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 1646731, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>Suppose you have this function:</p>\n\n<pre><code>var Foo = function(){\n  this.A = 1;\n  this.B = 2;\n};\n</code></pre>\n\n<p>If you call this as a standalone function like so:</p>\n\n<pre><code>Foo();\n</code></pre>\n\n<p>Executing this function will add two properties to the <code>window</code> object (<code>A</code> and <code>B</code>). It adds it to the <code>window</code> because <code>window</code> is the object that called the function when you execute it like that, and <code>this</code> in a function is the object that called the function. In Javascript at least. </p>\n\n<p>Now, call it like this with <code>new</code>:</p>\n\n<pre><code>var bar = new Foo();\n</code></pre>\n\n<p>What happens when you add <code>new</code> to a function call is that a new object is created (just <code>var bar = new Object()</code>) and that the <code>this</code> within the function points to the new <code>Object</code> you just created, instead of to the object that called the function. So <code>bar</code> is now an object with the properties <code>A</code> and <code>B</code>. Any function can be a constructor, it just doesn't always make sense. </p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 1646957, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>It does 5 things:</p>\n\n<ol>\n<li>It creates a new object.  The type of this object, is simply <em>object</em>.</li>\n<li>It sets this new object's internal, inaccessible, <em>[[prototype]]</em> (i.e. <strong>__proto__</strong>) property to be the constructor function's external, accessible, <em>prototype</em> object (every function object automatically has a <em>prototype</em> property).</li>\n<li>It makes the <code>this</code> variable point to the newly created object.</li>\n<li>It executes the constructor function, using the newly created object whenever <code>this</code> is mentioned.</li>\n<li>It returns the newly created object, unless the constructor function returns a non-<code>null</code> object reference. In this case, that object reference is returned instead.</li>\n</ol>\n\n<p>Note: <em>constructor function</em> refers the function after the <code>new</code> keyword, as in </p>\n\n<pre><code>new ConstructorFunction(arg1, arg2)\n</code></pre>\n\n<p>Once this is done, if an undefined property of the new object is requested, the script will check the object's <em>[[prototype]]</em> object for the property instead. This is how you can get something similar to traditional class inheritance in JavaScript. </p>\n\n<p>The most difficult part about this is point number 2.  Every object (including functions) has this internal property called <em>[[prototype]]</em>. It can <em>only</em> be set at object creation time, either with <em>new</em>, with <em>Object.create</em>, or based on the literal (functions default to Function.prototype, numbers to Number.prototype, etc.). It can only be read with <em>Object.getPrototypeOf(someObject)</em>. There is <em>no</em> other way to set or read this value.</p>\n\n<p>Functions, in addition to the hidden <em>[[prototype]]</em> property, also have a property called <em>prototype</em>, and it is this that you can access, and modify, to provide inherited properties and methods for the objects you make.</p>\n\n<hr>\n\n<p>Here is an example:</p>\n\n<pre><code>ObjMaker = function() {this.a = 'first';};\n// ObjMaker is just a function, there's nothing special about it that makes \n// it a constructor.\n\nObjMaker.prototype.b = 'second';\n// like all functions, ObjMaker has an accessible prototype property that \n// we can alter. I just added a property called 'b' to it. Like \n// all objects, ObjMaker also has an inaccessible [[prototype]] property\n// that we can't do anything with\n\nobj1 = new ObjMaker();\n// 3 things just happened.\n// A new, empty object was created called obj1.  At first obj1 was the same\n// as {}. The [[prototype]] property of obj1 was then set to the current\n// object value of the ObjMaker.prototype (if ObjMaker.prototype is later\n// assigned a new object value, obj1's [[prototype]] will not change, but you\n// can alter the properties of ObjMaker.prototype to add to both the\n// prototype and [[prototype]]). The ObjMaker function was executed, with\n// obj1 in place of this... so obj1.a was set to 'first'.\n\nobj1.a;\n// returns 'first'\nobj1.b;\n// obj1 doesn't have a property called 'b', so JavaScript checks \n// its [[prototype]]. Its [[prototype]] is the same as ObjMaker.prototype\n// ObjMaker.prototype has a property called 'b' with value 'second'\n// returns 'second'\n</code></pre>\n\n<p>It's like class inheritance because now, any objects you make using <code>new ObjMaker()</code> will also appear to have inherited the 'b' property.</p>\n\n<p>If you want something like a subclass, then you do this:</p>\n\n<pre><code>SubObjMaker = function () {};\nSubObjMaker.prototype = new ObjMaker(); // note: this pattern is deprecated!\n// Because we used 'new', the [[prototype]] property of SubObjMaker.prototype\n// is now set to the object value of ObjMaker.prototype.\n// The modern way to do this is with Object.create(), which was added in ECMAScript 5:\n// SubObjMaker.prototype = Object.create(ObjMaker.prototype);\n\nSubObjMaker.prototype.c = 'third';  \nobj2 = new SubObjMaker();\n// [[prototype]] property of obj2 is now set to SubObjMaker.prototype\n// Remember that the [[prototype]] property of SubObjMaker.prototype\n// is ObjMaker.prototype. So now obj2 has a prototype chain!\n// obj2 ---&gt; SubObjMaker.prototype ---&gt; ObjMaker.prototype\n\nobj2.c;\n// returns 'third', from SubObjMaker.prototype\n\nobj2.b;\n// returns 'second', from ObjMaker.prototype\n\nobj2.a;\n// returns 'first', from SubObjMaker.prototype, because SubObjMaker.prototype \n// was created with the ObjMaker function, which assigned a for us\n</code></pre>\n\n<hr>\n\n<p>I read a ton of rubbish on this subject before finally finding <a href=\"http://joost.zeekat.nl/constructors-considered-mildly-confusing.html\">this page</a>, where this is explained very well with nice diagrams.</p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 3658673, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>In addition to Daniel Howard's answer, here is what <code>new</code> does (or at least seems to do):</p>\n\n<pre><code>function New(func) {\n    var res = {};\n    if (func.prototype !== null) {\n        res.__proto__ = func.prototype;\n    }\n    var ret = func.apply(res, Array.prototype.slice.call(arguments, 1));\n    if ((typeof ret === \"object\" || typeof ret === \"function\") &amp;&amp; ret !== null) {\n        return ret;\n    }\n    return res;\n}\n</code></pre>\n\n<p>While</p>\n\n<pre><code>var obj = New(A, 1, 2);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>var obj = new A(1, 2);\n</code></pre>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 17225654, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<pre><code>Creating a function\n    function MyConstructor() {}\n        - MyConstructor = function(){}\n        - MyConstructor.__proto__ = Function.prototype\n        - MyConstructor.prototype = {}\n            * This object will \"not\" have all properties defined in the constructor. Constructor is a function, thats it. The constructor function will not be run till a \"new\" operator is encountered.\n            * This is the object that will be assigned to &lt;all objects of this class&gt;.__proto__. So adding anything to it will also add the same functionality to all objects.\n        - MyConstructor.prototype.__proto__ = Object.prototype (internally {}.__proto__ = Object.prototype)\n        - MyConstructor.prototype.constructor = MyConstructor\n            * whenever the prototype property is created, automatically constructor property is created which points back to the function.\n\nCreating an object\n    var myobject = new MyConstructor();\n        - myobject = {} // object is type of MyConstructor\n        - myobject.__proto__ = MyConstructor.prototype (this property can only be set at the time on object creation)\n        * Executes the constructor function, using the newly created object (myobject) whenever \"this\" is mentioned.\n        - myObject.constructor = MyConstructor;\n\nUsing instanceOf\n    myobject instanceof MyConstructor  // true\n        - checks the prototype property of the MyConstructor and checks it agains the {Prototype} chain of the myobject. Since myobject.__proto__ = MyConstructor.prototype, hence it will return true.\n\nRemember:\n    - Object.prototype.constructor = Object (class/function/object)\n    - Function.prototype.__proto__ = Object.prototype\n    - Constructors have their own {Prototype} chain completely separate from the prototype chain of objects they initialize.\n    - Any user-defined function in javascript automatically gets a prototype property which in turn has a constructor property that refers back to the function.\n    - Any user-defined function in javascript can be called as a constructor by prepending new to the call. This will pass a new \"this\" object to the function and its {Prototype} property will be set to the prototype property of the function.\n\nExample:\n    function MyConstructor() {}\n    var myobject = new MyConstructor();\n    MyConstructor.prototype = {}; // this line breaks the prototype chain.\n\n    console.log(myobject instanceof MyConstructor); // prints \"false\". Why? See below.\n        - instanceof always Checks the prototype chain of myobject.\n        - myobject.__proto__ points to old MyConstructor.prototype object.\n        - Old MyConstructor.prototype has __proto__ pointing to Object.prototype.\n        - So anywhere in the prototype chain of myobject, MyConstructor has not come. Hence false.\n    console.log(myobject.constructor == MyConstructor) // prints \"true\"\n        - myobject.__proto__ points to old MyConstructor.prototype object.\n        - Old MyConstructor.prototype.constructor points to MyConstructor.\n        - hence myobject.constructor will be pointing to MyConstructor.\n    console.log(myobject instanceof Object); //prints \"true\"\n        - myobject.__proto__ points to old MyConstructor.prototype object.\n        - old MyConstructor.prototype.__proto__ = Object.prototype\n        - hence myObject prototype chain has Object in its list\n\nTo implement inheritance\n    To implement classical inheritance, you have to leverage the prototype chains. Since properties and methods are searched on an object's __proto__, if you want it to inherit from another object you have to modify the prototype of its class (you can't modify __proto__).\n    1   function Animal(){\n    2       this.alive = true;\n    3   }\n    4   function Dog(){\n    5       this.legs = 4;\n    6       this.hasTail = true;\n    7   }\n    8   Dog.prototype = new Animal();\n    9   var tommy = new Dog();\n\n    Line 1-3\n        - Animal = function()\n        - Animal.__proto__ = Function.prototype\n        - Animal.prototype = {} // type of Object\n        - Animal.prototype.__proto__ = Object.prototype\n        - Animal.prototype.constructor = Animal\n    Line 4-7\n        - Dog = function()\n        - Dog.__proto__ = Function.prototype\n        - Dog.prototype = {} // type of Object\n        - Dog.prototype.__proto__ = Object.prototype\n        - Dog.prototype.constructor = Dog\n    Line 8\n        - Dog.prototype = {} // object of type Animal\n        - Dog.prototype.__proto__ = Animal.prototype\n            * Now if you add any property to Animal.prototype, then Animal and Dog objects will also get access to that property.\n            * very important line. This only does inheritance. But since we can't directly assign __proto__, we have to use \"new\" operator.\n                - what if browser allows us to directly execute the above line instead of Line 8?\n\n                    * this will also create the inheritance properly but the below step where constructor function of Animal() is run with Dog.prototype replacing keyword \"this\" in all places will not run (which happens automatically when new keyword is used). Hence Dog.prototype will not get properties already defined in Animal constructor function.\n\n                    * Although any new property that we are going to add to Animal.prototype will be visible to all instances of Animal and Dogs. So to get values already defined inside Animal class, we need to use new keyword so that the constructor function is run and copies the values (like isalive which is statically defined inside the constructor function Animal() to child class's Dog.prototype).\n\n                    * Note that the statically defined properties of base class (E.g. isalive) are \"copied\" to child class (Dog.prototype) and not referred to. So all child classes have a seperate instance of those statically defined properties (like isalive) inside each child class prototype property. Only the new properties that you are going to define in Animal.prototype will be shared among the child Objects since all child class prototype property refer to the same object Animal.prototype. But the base class's statically defined properties will be copied to the child class \"prototype\" property.\n\n                    * Also note that running such a line and directly manipulating the __proto__ property is not recommended/allowed in most browsers.\n\n                    # So we can conclude that Animal.prototype can be used to enhance behaviour of Animal class so that all objects will get value of it.\n                    # Using the new Keyword is the recommended way of creating inheritance and creating objects in Javascript.\n            * Since \"new\" operator is encountered, we have to run the constructor function Animal() with Dog.prototype replacing keyword \"this\" in all places. So all properties of Animal are copied onto Dog.prototype.\n        - Dog.prototype.alive = true;\n            * notice Animal.prototype doesn't have any properties like alive, etc.\n                E.g. Animal.prototype.alive === undefined   // true\n            * Also note that the alive property is copied to the Dog.prototype and not referred (and hence not shared) to as would be a property which will be added to Animal.prototype in future (which will be shared).\n        - Dog.prototype will also have a property \"constructor\" since __proto__ refers to Animal.prototype and Animal.prototype.constructor = Animal\n            * notice after execution of line 4-7, Dog.prototype.constructor = Dog, but after line 8, because of using new keyword, Dog.prototype.constructor = Animal.\n            * So to avoid this kind of consufion, we should write one more line after line 7, Dog.prototype.constructor = Dog;, to correct the behaviour, else the objects of Dog like tommy will still be of type Animal (based on tommy.constructor).\n            * Another trick we can use is to put the following line instead of line 8, Dog.prototype.__proto__ = Animal.prototype. This approach has been covered above. But the assumption is that Animal shouldn't have any statically defined properties, else they won't be copied (since we didn't use the \"new\" keyword).\n    Line 9\n        - tommy = {} // type of Dog\n        - tommy.__proto__ = Dog.prototype (which is an object of type Animal {\"alive\":true})\n            * remember statically defined property \"alive\" was copied to Dog.prototype\n\n        * since Dog.prototype has \"alive\" and tommy.__proto__ refers to Dog.prototype, tommy will also have \"alive\"\n        - tommy.alive = true\n\n        * Executes the constructor function, using the newly created object (tommy) whenever \"this\" is mentioned.\n        - tommy.legs = 4;\n        - tommy.hasTail = true;\n        - tommy.constructor = Animal\n            * since tommy.__proto__ refers to Dog.prototype whose property __proto__ refers to Animal.prototype which has constructor property.\n\nNow if you execute following line\n    Animal.prototype.hasHair = true;\nthen tommy.__proto__ refers to Dog.prototype. Since \"hasHair\" not found in Dog.prototype so we will find it in Dog.prototype.__proto__ which referrs to Animal.prototype which has it.\nSo, tommy.hasHair will be true.\n</code></pre>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 23011356, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>Well JavaScript per si can differ greatly from platform to platform as it is always an implementation of the original specification EcmaScript.</p>\n\n<p>In any case, independently of the implementation all JavaScript implementations that follow the EcmaScript specification right, will give you an Object Oriented Language. According to the ES standard:</p>\n\n<blockquote>\n  <p>ECMAScript  is  an  object-oriented  programming  language  for \n  performing  computations and  manipulating computational  objects \n  within  a  host  environment.</p>\n</blockquote>\n\n<p>So now that we have agreed that JavaScript is an implementation of EcmaScript and therefore it is an object-oriented language. The definition of the <code>new</code> operation in any Object-oriented language, says that such keyword is used to create an object instance from a class of a certain type (including anonymous types, in cases like C#).</p>\n\n<p>In EcmaScript we don't use classes, as you can read from the specs:</p>\n\n<blockquote>\n  <p>ECMAScript does not use classes such as those in C++, Smalltalk, or Java. Instead objects may be created in various ways including via\n  a literal notation or via constructors which create objects and then execute code that initializes all or part of them by assigning initial\n  values to their properties. Each constructor is a function that has a\n  property named \u2015\n      prototype \u2016 that is used to implement prototype - based inheritance and shared properties. Objects   are   created   by<br>\n  using   constructors   in new expressions;   for   example, new\n  Date(2009,11) creates a new Date object. Invoking a constructor\n  without using new has consequences that depend  on  the  constructor. \n  For  example, Date() produces  a  string  representation  of  the \n  current  date  and time rather than an object.</p>\n</blockquote>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 30226631, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<p>sometimes code is easier than words:</p>\n\n<pre><code>var func1 = function (x) { this.x = x; }                    // used with 'new' only\nvar func2 = function (x) { var z={}; z.x = x; return z; }   // used both ways\nfunc1.prototype.y = 11;\nfunc2.prototype.y = 12;\n\nA1 = new func1(1);      // has A1.x  AND  A1.y\nA2 =     func1(1);      // undefined ('this' refers to 'window')\nB1 = new func2(2);      // has B1.x  ONLY\nB2 =     func2(2);      // has B2.x  ONLY\n</code></pre>\n\n<p>for me, as long as I not prototype, I use style of func2 as it gives me a bit more flexibility inside and outside the function.</p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 30272938, "question_id": 1646698, "tags": ["javascript", "new-operator"]}, {"body": "<h3>For beginners to understand it better</h3>\n\n<p>try out the following code in console.</p>\n\n<pre><code>function Foo() { \n    return this; \n}\n\nvar a = Foo();       //returns window object\nvar b = new Foo();   //returns empty object of foo\n\na instanceof Window  // true\na instanceof Foo     // false\n\nb instanceof Window  // false\nb instanceof Foo     // true\n</code></pre>\n\n<p>Now you can read the community wiki answer :)</p>\n", "title": "What is the &#39;new&#39; keyword in JavaScript?", "answer_id": 30478240, "question_id": 1646698, "tags": ["javascript", "new-operator"]}], "question_id": 1646698}, {"body": "<p>I've been told by others on numerous occasions that my teacher's advice of  exercising <code>using namespace std</code> in code was wrong. Hence, we should use <code>std::cout</code> and <code>std::cin</code>.</p>\n\n<p>Why is <code>using namespace std</code> considered bad practice? Is it really that inefficient or risk declaring ambiguous variables (variables that share the same name as a function in <code>std</code> namespace)? Or, does this impact performance?</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "tags": ["c++", "namespaces", "std", "c++-faq"], "answer_count": 31, "link": "http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice", "answers": [{"body": "<p>Another reason is surprise.</p>\n\n<p>If I see <code>cout &lt;&lt; blah</code>, instead of <code>std::cout &lt;&lt; blah</code></p>\n\n<p>I think what is this 'cout'? Is it the normal cout? Is it something special?</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452737, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>This is not related to performance at all. But consider this: you are using two libraries called Foo and Bar:</p>\n\n<pre><code>using namespace foo;\nusing namespace bar;\n</code></pre>\n\n<p>Everything works fine, you can call <code>Blah()</code> from Foo and <code>Quux()</code> from Bar without problems. But one day you upgrade to a new version of Foo 2.0, which now offers a function called <code>Quux()</code>. Now you've got a conflict: Both Foo 2.0 and Bar import <code>Quux()</code> into your global namespace. This is going to take some effort to fix, especially if the function parameters happen to match.</p>\n\n<p>If you had used <code>foo::Blah()</code> and <code>bar::Quux()</code>, then the introduction of <code>foo::Quux()</code> would have been a non-event.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452738, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>It's all about managing complexity. Using the namespace will pull things in that you don't want, and thus possibly make it harder to debug (I say possibly). Using std:: all over the place is harder to read (more text and all that).</p>\n\n<p>Horses for courses - manage your complexity how you best can and feel able.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452741, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>It depends on where it is located. If it is a common header, then you are diminishing the value of the namespace by merging it into the global namespace. Keep in mind, this could be a neat way of making module globals.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452747, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>Consider</p>\n\n<pre><code>// myHeader.h\n#include &lt;sstream&gt;\nusing namespace std;\n\n\n// someoneElses.cpp/h\n#include \"myHeader.h\"\n\nclass stringstream {  // uh oh\n};\n</code></pre>\n\n<p>Note that this is a simple example, if you have files with 20 includes and other imports you'll have a ton of dependencies to go through to figure out the problem.  The worse thing about it is that you can get unrelated errors in other modules depending on the definitions that conflict.</p>\n\n<p>It's not horrible but you'll save yourself headaches by not using it in header files or the global namespace.  It's probably alright to do it in very limited scopes but I've never had a problem typing the extra 5 characters to clarify where my functions are coming from.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452750, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I think it's bad to put it in the header files of your classes: because then you would be forcing anyone who wants to use your classes (by including your header files) to also be 'using' (i.e. seeing everything in) those other namespaces.</p>\n\n<p>However, you may feel free to put a using statement in your (private) *.cpp files.</p>\n\n<hr>\n\n<p>Beware that some people disagree with my saying \"feel free\" like this -- because although a using statement in a cpp file is <em>better</em> than in a header (because it doesn't affect people who include your header file), they think it's still not <em>good</em> (because depending on the code it could make the implementation of the class more difficult to maintain). <a href=\"https://isocpp.org/wiki/faq/coding-standards#using-namespace-std\">This FAQ topic</a> says,</p>\n\n<blockquote>\n  <p>The using-directive exists for legacy C++ code and to ease the transition to namespaces, but you probably shouldn\u2019t use it on a regular basis, at least not in your new C++ code.</p>\n</blockquote>\n\n<p>It suggests two alternatives:</p>\n\n<ul>\n<li><p>A using declaration:</p>\n\n<pre><code>using std::cout; // a using-declaration lets you use cout without qualification\ncout &lt;&lt; \"Values:\";\n</code></pre></li>\n<li><p>Get over it and just type std::</p>\n\n<pre><code>std::cout &lt;&lt; \"Values:\";\n</code></pre></li>\n</ul>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452759, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>If you import the right header files you suddenly have names like <a href=\"http://en.cppreference.com/w/cpp/io/manip/hex\"><code>hex</code></a>, <a href=\"http://en.cppreference.com/w/cpp/io/manip/left\"><code>left</code></a>, <a href=\"http://en.cppreference.com/w/cpp/utility/functional/plus\"><code>plus</code></a> or <a href=\"http://en.cppreference.com/w/cpp/algorithm/count\"><code>count</code></a> in your global scope. This might be surprising if you are not aware that <code>std::</code> contains these names. If you also try to use these names locally it can lead to quite some confusion.</p>\n\n<p>If all the standard stuff is in its own namespace you don't have to worry about name collisions with your code or other libraries.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452763, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I do not think it is necessarily bad practice under all conditions, but you need to be careful when you use it.  If you're writing a library, you probably should use the scope resolution operators with the namespace to keep your library from butting heads with other libraries.  For application level code, I don't see anything wrong with it.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452785, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<ol>\n<li><p>you need to be able to read code written by people who have different style and best practices opinions than you.</p></li>\n<li><p>If you're only using cout, nobody gets confused.  But when you have lots of namespaces flying around and you see this class and you aren't exactly sure what it does, having the namespace explicit acts as a comment of sorts.  You can see at first glance, 'oh, this is a filesystem operation' or 'thats doing network stuff'.</p></li>\n</ol>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1452849, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I agree with everything <a href=\"http://stackoverflow.com/questions/1452721/1452738#1452738\">Greg wrote</a>, but I'd like to add: <strong><em>It can even get worse than Greg said!</em></strong></p>\n\n<p>Library Foo 2.0 could <strong><em>introduce a function</em></strong>, <code>Quux()</code>, that is <strong><em>an unambiguously better match</em></strong> for some of your calls to <code>Quux()</code> than the <code>bar::Quux()</code> your code called for years. Then your <strong><em>code still compiles</em></strong>, but <strong><em>it silently calls the wrong function</em></strong> and does god-knows-what. That's about as bad as things can get.</p>\n\n<p>Keep in mind that the <code>std</code> namespace has tons of identifiers, many of which are <em>very</em> common ones (think <code>list</code>, <code>sort</code>, <code>string</code>, <code>iterator</code>, etc.) which are very likely to appear in other code, too.</p>\n\n<p>If you consider this unlikely: <strong><em>There was <a href=\"http://stackoverflow.com/a/2712125/140719\">a question asked</a></em></strong> here on Stack&nbsp;Overflow where pretty much exactly this happened (wrong function called due to omitted <code>std::</code> prefix) about half a year after I gave this answer. <strong><em><a href=\"http://stackoverflow.com/questions/13402789/\">Here</a> is another</em></strong>, more recent <strong><em>example</em></strong> of such a question.\nSo <strong><em>this is a real problem</em></strong>.</p>\n\n<hr>\n\n<p>Here's one more data point: Many, many years ago, I also used to find it annoying having to prefix everything from the standard library with <code>std::</code>. Then I worked in a project where it was decided at the start that both <code>using</code> directives and declarations are banned except for function scopes. Guess what? It took most of us very few weeks to get to used to write the prefix and after a few more weeks most of us even agreed that it actually made the code <em>more readable</em>. (There's a reason for that: <strong><em>Whether you like shorter or longer prose is subjective, but the prefixes objectively add clarity to the code.</em></strong> Not only the compiler, but you, too, find it easier to see which identifier is referred to.)</p>\n\n<p>In a decade, that project grew to have several million lines of code. Since these discussions come up again and again, I once was curious how often the (allowed) function-scope <code>using</code> actually was used in the project. I grep'd the sources for it and only found one or two dozen places where it was used. To me this indicates that, <strong><em>once tried, developers didn't find <code>std::</code> painful enough</em></strong> to employ using directives even once every 100&nbsp;kLoC <em>even where it was allowed to be used</em>.</p>\n\n<hr>\n\n<p>Bottom line: Explicitly prefixing everything doesn't do any harm, takes very little getting used to, and has objective advantages. In particular, it makes the code easier to interpret by the compiler and by human readers \u2014 and that should probably be the main goal when writing code.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1453605, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I also consider it a bad practice. Why? Just one day I thought that function of a namespace is to divide stuff so I shouldn't spoil it with throwing everything into one global bag.\nHowever, if I often use 'cout' and 'cin', I write: <code>using std::cout; using std::cin;</code> in cpp file (never in header file as it propagates with <code>#include</code>). I think that noone sane will ever name a stream <code>cout</code> or <code>cin</code>. ;)</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1453630, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>One shouldn't use using directive at global scope, especially in headers. However there are situations where it is appropriate even in a header file:</p>\n\n<pre><code>template &lt;typename FloatType&gt; inline\nFloatType compute_something(FloatType x)\n{\n    using namespace std; //no problem since scope is limited\n    return exp(x) * (sin(x) - cos(x * 2) + sin(x * 3) - cos(x * 4));\n}\n</code></pre>\n\n<p>This is better than explicit qualification (<code>std::sin</code>, <code>std::cos</code>...)\nbecause it is shorter and has the ability to work with user defined floating point types (via Argument Dependent Lookup).</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 1455227, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I recently ran into a complaint about <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2010\">Visual&nbsp;Studio&nbsp;2010</a>. It turned out that pretty much all the source files had these two lines:</p>\n\n<pre><code>using namespace std;\nusing namespace boost;\n</code></pre>\n\n<p>A lot of <a href=\"http://en.wikipedia.org/wiki/Boost_%28C%2B%2B_libraries%29\">Boost</a> features are going into the C++0x standard, and Visual&nbsp;Studio&nbsp;2010 has a lot of C++0x features, so suddenly these programs were not compiling.</p>\n\n<p>Therefore, avoiding <code>using namespace X;</code> is a form of future-proofing, a way of making sure a change to the libraries and/or header files in use is not going to break a program.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 4045605, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>Experienced programmers use whatever solves their problems and avoid whatever creates new problems. Thus they avoid header-file-level using-directives for obvious reason.</p>\n\n<p>And they try to avoid full qualification of names inside their source files. A minor point is that it's not elegant to write more code when less code suffice <em>without good reason</em>. A major point is turning off ADL.</p>\n\n<p>What are these <em>good reasons</em>? Sometimes you explicitly want turning off ADL. Sometimes you want to disambiguate.</p>\n\n<p>So the following are OK:</p>\n\n<ol>\n<li>Function-level using-directives and using-declarations inside functions' implementations</li>\n<li>Source-file-level using-declarations inside source files</li>\n<li>(Sometimes) source-file-level using-directives</li>\n</ol>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 5469623, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<h1>Do not use it globally</h1>\n\n<p>It is considered \"bad\" only when <strong>used globally</strong>. Because</p>\n\n<ul>\n<li>you clutter the namespace you are programming in.</li>\n<li>readers will have difficulty seeing where a particular identifier comes from, when you use many <code>using namespace xyz</code>.</li>\n<li>whatever is true for <em>other</em> readers of your source code is even more true for the most frequent reader of it: yourself. Come back in a year or two and take a look...</li>\n<li>if you only talk about <code>using namespace std</code> you might not be aware of all the stuff you grab -- and when you add another <code>#include</code> or move to a new C++-revision you might get name conflicts you were not aware of</li>\n</ul>\n\n<h1>You may use it locally</h1>\n\n<p>Go ahead and use it locally (almost) freely. This, of course, prevents you from repetition of <code>std::</code> -- and repetition is also bad.</p>\n\n<h1>An idiom for using it locally</h1>\n\n<p>In C++03 there was an idiom -- boilerplate code -- for implementing a <code>swap</code> function for you classes. It was suggested that you actually use a local <code>using namespace std</code> -- or at least <code>using std::swap</code>:</p>\n\n<pre><code>class Thing {\n    int    value_;\n    Child  child_;\npublic:\n    // ...\n    friend void swap(Thing &amp;a, Thing &amp;b);\n};\nvoid swap(Thing &amp;a, Thing &amp;b) {\n    using namespace std;      // make `std::swap` available\n    // swap all members\n    swap(a.value_, b.value_); // `std::stwap(int, int)`\n    swap(a.child_, b.child_); // `swap(Child&amp;,Child&amp;)` or `std::swap(...)`\n}\n</code></pre>\n\n<p>This does the following magic</p>\n\n<ul>\n<li>the compiler will choose the <code>std::swap</code> for <code>value_</code>, i.e. <code>void std::swap(int, int)</code></li>\n<li>If you have an overload <code>void swap(Child&amp;, Child&amp;)</code> implemented the compiler will choose it</li>\n<li>If you do <em>not</em> have that overload the compiler will use <code>void std::swap(Child&amp;,Child&amp;)</code> and try its best swapping these.</li>\n</ul>\n\n<p>With C++11 there is no reason to use this pattern anymore. The implementation of <code>std::swap</code> was changed to find a potential overload and choose it.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 14395960, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>Yes, the namespace is important. Once in my project, I needed to import one var declaration into my source code, but when compiling it, it conflicted with another third-party library.</p>\n\n<p>At the end, I had to work around around it by some other means and make the code less clear.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 15892912, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>With unqualified imported identifiers you need external search tools like <em>grep</em> to find out where identifiers are declared. This makes reasoning about program correctness harder.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 15951281, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>\"Why is 'using namespace std;' considered a bad practice in C++?\"</p>\n\n<p>I put it the other way around: Why is typing 5 extra chars is considered cumbersome by some?</p>\n\n<p>Consider e.g. writing a piece of numerical software, why would I even consider polluting my global namespace by cutting general \"std::vector\" down to \"vector\" when \"vector\" is one of the problem domain's most important concepts?</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 16525556, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>To answer your question I look at it this way practically:  a lot of programmers (not all) invoke namespace std.  Therefore one should be in the habit of NOT using things that impinge or use the same names as what is in the namespace std.  That is a great deal granted, but not so much compared to the number of possible coherent words and pseudonyms that can be come up with strictly speaking.</p>\n\n<p>I mean really... saying \"don't rely on this being present\" is just setting you up to rely on it NOT being present.  You are constantly going to have issues borrowing code snippets and constantly repairing them.  Just keep your user-defined and borrowed stuff in limited scope as they should be and be VERY sparing with globals (honestly globals should almost always be a last resort for purposes of \"compile now, sanity later\"). Truly I think it is bad advice from your teacher because using std will work for both \"cout\" and \"std::cout\" but NOT using std will only work for \"std::cout\".  You will not always be fortunate enough to write all your own code.</p>\n\n<p>NOTE: Don't focus too much on efficiency issues until you actually learn a little about how compilers work.  With a little experience coding you don't have to learn that much about them before you realize how much they are able to generalize good code into something something simple.  Every bit as simple as if you wrote the whole thing in C.  Good code is only as complex as it needs to be.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 17352642, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I agree that it should not be used globally, but it's not so evil to to use locally, like in a <code>namespace</code>. Here's an example from <em>\"The C++ Programming Language\"</em> :</p>\n\n<pre><code>namespace My_lib {\n\n    using namespace His_lib; // everything from His_lib\n    using namespace Her_lib; // everything from Her_lib\n\n    using His_lib::String; // resolve potential clash in favor of His_lib\n    using Her_lib::Vector; // resolve potential clash in favor of Her_lib\n\n}\n</code></pre>\n\n<p>In this example, we resolved potential name clashes and ambiguities arising from their composition.</p>\n\n<p>Names explicitly declared there (including names declared by using-declarations like <code>His_lib::String</code>) take priority over names made accessible in another scope by a using-directive (<code>using namespace Her_lib</code>). </p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 18507477, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I think using <strong>locally</strong> or <strong>globally</strong> should depend on the application.</p>\n\n<p>Because, \n    when we use the library locally, sometimes code going to be a real mess. Readability is going to low.</p>\n\n<p>so, we should use libraries locally when only there is a possibility for conflicts.</p>\n\n<p>I am not more experiences person. So, let me know if I am wrong.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 18843160, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>Using many namespaces at the same time is obviously a recipe for disaster, but using JUST namespace <code>std</code> and only namespace <code>std</code> is not that big of a deal in my opinion because redefinition can only occur by your own code... </p>\n\n<p>So just consider them functions as reserved names like \"int\" or \"class\" and that is it.</p>\n\n<p>People should stop being so anal about it. Your teacher was right all along. Just use ONE namespace; that is the whole point of using namespaces the first place. You are not supposed to use more than one at the same time. Unless it is your own. So again, redefinition will not happen.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 19877456, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>It's nice to see code and know what it does. If I see \"std::cout\" I know: That's the cout stream of the std library. If I see \"cout\" then I don't know. It <em>could</em> be the cout stream of the std library. Or there could be an \"int cout = 0;\" ten lines higher in the same function. Or a static variable named cout in that file. It could be anything. </p>\n\n<p>Now take a million line code base, which isn't particularly big, and you're searching for a bug, which means you know there is one line in this one million lines that doesn't do what it is supposed to do. \"cout &lt;&lt; 1;\" could read a static int named cout, shift it to the left by one bit, and throw away the result. Looking for a bug, I'd have to check that. Can you see how I really really prefer to see \"std::cout\"? </p>\n\n<p>It's one of these things that seem a really good idea if you are a teacher and never had to write and maintain any code for a living. I love seeing code where (1) I know what it does and (2) I'm confident that the person writing it knew what it does. </p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 22386211, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I agree with others - it is asking for name clashes, ambiguities and then the fact is it is less explicit. While I can see the use of using ... my personal preference is to limit it. I would also strongly consider what some others pointed out:</p>\n\n<p>If you want to find a function name that might be a fairly common name, but you only want to find it in std namespace (or the reverse: you want to change all calls that are NOT in namespace std, namespace X, ...), then how do you propose to do this? You could write a program to do it but wouldn't it be better to spend time working on your project itself rather than writing a program to maintain your project?</p>\n\n<p>Personally I actually don't mind the std:: prefix. I like the look more than not. I don't know if that is because it is explicit and says to me \"this isn't my code... I am using the standard library\" or if it is something else, but I think it looks nicer. This might be odd given that I only recently got in to C++ (used and still do C and other languages for much longer and C is my favourite language of all time, right above assembly).</p>\n\n<p>There is one other thing although it is somewhat related to the above and what others point out. While this might be bad practise, I sometimes reserve std::name for standard library version and name for program-specific implementation. Yes indeed this could bite you and bite you hard but it all comes down to that I started this project from scratch and I'm the only programmer for it. Example: I overload std::string and call it string. I have helpful additions. I did it in part because of my C and Unix (+ Linux) tendency towards lower-case names.</p>\n\n<p>Besides that, you can have namespace aliases. Here is an example of where it is useful that might not have been referred to (I didn't read all the responses and I'm having to rush off for a while in a moment). I use the C++11 standard and specifically with libstdc++. Well check this. It doesn't have complete std::regex support. Sure it compiles but it throws an exception along the lines of it being an error on the programmer's end. But it is lack of implementation. So here's how I solved it. Install boost's regex, link in boost's regex. Then, I do the following so that when libstdc++ has it implemented entirely, I need only remove this block and the code remains the same:</p>\n\n<pre><code>namespace std\n{\n    using boost::regex;\n    using boost::regex_error;\n    using boost::regex_replace;\n    using boost::regex_search;\n    using boost::regex_match;\n    using boost::smatch;\n    namespace regex_constants = boost::regex_constants;  \n}\n</code></pre>\n\n<p>I won't argue on whether that is a bad idea or not. I will however argue that it keeps it clean for MY project and at the same time makes it specific: True I have to use boost BUT I'm using it like the libstdc++ will eventually have it. Yes, starting your own project and starting with a standard (...) at the very beginning goes a very long way with helping maintenance, development and everything involved with the project!</p>\n\n<p>Edit: Now that I have time, just to clarify something. I don't actually think it is a good idea to use a name of a class/whatever in the STL deliberately and more specifically in place of. string is the exception (ignore the first, above, or second here, pun if you must) for me as I didn't like the idea of 'String'. As it is, I am still very biased towards C and biased against C++. Sparing details, much of what I work on fits C more (but it was a good exercise and a good way to make myself a. learn another language and b. try not be less biased against object/classes/etc which is maybe better stated as: less closed-minded, less arrogant, more accepting.). But what IS useful is what some already suggested: I do indeed use list (it is fairly generic, is it not ?), sort (same thing) to name two that would cause a name clash if I were to do \"using namespace std;\" and so to that end I prefer being specific, in control and knowing that if I intend it to be the standard use then I will have to specify it. Put simply: no assuming allowed.</p>\n\n<p>And as for making boost's regex part of std. I do that for future integration and - again, I admit fully this is bias - I don't think it is as ugly as boost::regex:: ... Indeed that is another thing for me. There's many things in C++ that I still have yet to come to fully accept in looks and methods (another example: variadic templates versus var args [though I admit variadic templates are very very useful!]). Even those that I do accept it was difficult AND I still have issues with them.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 26345624, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>Short version: don't use global using declarations or directives in header files. Feel free to use them in implementation files. Here's what Herb Sutter and Andrei Alexandrescu have to say about this issue in <a href=\"http://rads.stackoverflow.com/amzn/click/0321113586\">C++ Coding Standards</a> (bolding for emphasis is mine):</p>\n\n<blockquote>\n  <h2>Summary</h2>\n  \n  <p>Namespace usings are for your convenience, not for you to inflict on others: Never write a using declaration or a using directive before an #include directive.</p>\n  \n  <p>Corollary: In header files, don\u2019t write namespace-level using directives or using declarations; instead, explicitly namespace-qualify all names. (The second rule follows from the first, because headers can never know what other header #includes might appear after them.)</p>\n  \n  <h2>Discussion</h2>\n  \n  <p>In short: You can and should use namespace using declarations and directives liberally in your implementation files after #include directives and feel good about it. <strong>Despite repeated assertions to the contrary, namespace using declarations and directives are not evil and they do not defeat the purpose of namespaces. Rather, they are what make namespaces usable</strong>.</p>\n</blockquote>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 26722134, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>An example where using namespace std throws complilation error because of the ambiguity of count, which is also a function in algorithm library.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint count = 1;\nint main() {\n    cout&lt;&lt;count&lt;&lt;endl;\n}\n</code></pre>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 27718061, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>I agree with the others here, but would like to address the concerns regarding readability - you can avoid all of that by simply using typedefs at the top of your file, function or class declaration. </p>\n\n<p>I usually use it in my class declaration as methods in a class tend to deal with similar data types (the members) and a typedef is an opportunity to assign a name that is meaningful in the context of the class. This actually aids readability in the definitions of the class methods.</p>\n\n<pre><code>//header\nclass File\n{\n   typedef std::vector&lt;std::string&gt; Lines;\n   Lines ReadLines();\n}\n</code></pre>\n\n<p>and in the implementation:</p>\n\n<pre><code>//cpp\nLines File::ReadLines()\n{\n    Lines lines;\n    //get them...\n    return lines;\n}\n</code></pre>\n\n<p>as opposed to:</p>\n\n<pre><code>//cpp\nvector&lt;string&gt; File::ReadLines()\n{\n    vector&lt;string&gt; lines;\n    //get them...\n    return lines;\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>//cpp\nstd::vector&lt;std::string&gt; File::ReadLines()\n{\n    std::vector&lt;std::string&gt; lines;\n    //get them...\n    return lines;\n}\n</code></pre>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 28467315, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>A namespace is a named scope. Namespaces are used to group related declarations and to keep separate\nitems separate. For example, two separately developed libraries may use the same name to refer to different\nitems, but a user can still use both:</p>\n\n<pre><code>namespace Mylib{\n    template&lt;class T&gt; class Stack{ /* ... */ };\n    / / ...\n}\nnamespace Yourlib{\n    class Stack{ /* ... */ };\n    / / ...\n}\nvoid f(int max) {\n    Mylib: :Stack&lt;int&gt; s1(max) ; / / use my stack\n    Yourlib: :Stack s2(max) ; / / use your stack\n    / / ...\n}\n</code></pre>\n\n<p>Repeating a namespace name can be a distraction for both readers and writers. Consequently, it is possible\nto state that names from a particular namespace are available without explicit qualification. For example:</p>\n\n<pre><code>void f(int max) {\n    using namespace Mylib; / / make names from Mylib accessible\n    Stack&lt;int&gt; s1(max) ; / / use my stack\n    Yourlib: :Stack s2(max) ; / / use your stack\n    / / ...\n}\n</code></pre>\n\n<p>Namespaces provide a powerful tool for the management of different libraries and of different versions of\n    code. In particular, they offer the programmer alternatives of how explicit to make a reference to a nonlocal\n    name.</p>\n\n<p>Source : An Overview of the C++ Programming Language\nby Bjarne Stroustrup</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 29457507, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>Here is an example showing how <code>using namespace std;</code> can lead to name clash problems:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/23158548/unable-to-define-a-global-variable-in-c\">Unable to define a global variable in c++</a></p>\n\n<p>In the example a very generic algorithm name (<code>std::count</code>) name clashes with a very reasonable variable name (<code>count</code>).</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 38951354, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>From my experiences, if you have multiple libraries that uses say, <code>cout</code>, but for a different purpose you may use the wrong <code>cout</code>. </p>\n\n<p>For example, if I type in, <code>using namespace std;</code> and <code>using namespace otherlib;</code> and type just cout (which happens to be in both), rather than <code>std::cout</code> (or <code>'otherlib::cout'</code>), you might use the wrong one, and get errors, it's much more effective and efficient to use <code>std::cout</code>.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 39059422, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}, {"body": "<p>A concrete example to clarify the concern.  Imagine you have a situation where you have 2 libraries foo and bar (each with their own namespace):</p>\n\n<pre><code>namespace foo {\n    void a(float) { /* does something */ }\n}\n\nnamespace bar {\n    ...\n}\n</code></pre>\n\n<p>Now let's say you use foo and bar together in your own program as follows:</p>\n\n<pre><code>using namespace foo;\nusing namespace bar;\n\nvoid main() {\n    a(42);\n}\n</code></pre>\n\n<p>At this point everything is fine.  When you run your program it 'does something'.  But later you update bar and let's say it has changed to be like:</p>\n\n<pre><code>namespace bar {\n    void a(float) { /* does something completely different */ }\n}\n</code></pre>\n\n<p>At this point you'll get a compiler error:</p>\n\n<pre><code>using namespace foo;\nusing namespace bar;\n\nvoid main() {\n    a(42);  // error: call to 'a' is ambiguous, should be foo::a(42)\n}\n</code></pre>\n\n<p>So you'll need to do some maintenance to clarify which 'a' you meant (i.e. <code>foo::a</code>).  That's probably undesirable, but fortunately it is pretty easy (just add <code>foo::</code> in front of all calls to <code>a</code> that the compiler marks as ambiguous).</p>\n\n<p>But imagine an alternative scenario where bar changed instead to look like this instead:</p>\n\n<pre><code>namespace bar {\n    void a(int) { /* does something completely different */ }\n}\n</code></pre>\n\n<p>At this point your call to <code>a(42)</code> suddenly binds to <code>bar::a</code> instead of <code>foo::a</code> and instead of doing 'something' it does 'something completely different'.  No compiler warning or anything.  Your program just silently starts doing something complete different than before.</p>\n\n<p>When you use a namespace you're risking a scenario like this, which is why people are uncomfortable using namespaces.  The more things in a namespace the greater the risk of conflict, so people might be even more uncomfortable using namespace std (due to the number of things in that namespace) than other namespaces.</p>\n", "title": "Why is &quot;using namespace std&quot; considered bad practice?", "answer_id": 39299987, "question_id": 1452721, "tags": ["c++", "namespaces", "std", "c++-faq"]}], "question_id": 1452721}, {"body": "<p>As a long-time <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_SourceSafe\">Visual SourceSafe</a> user (and hater) I was discussing switching to <a href=\"http://en.wikipedia.org/wiki/Apache_Subversion\">SVN</a> with a colleague; he suggested using <a href=\"http://en.wikipedia.org/wiki/Git_%28software%29\">Git</a> instead. Since, apparently, it can be used as peer-to-peer without a central server (we just have a 3-developer team). </p>\n\n<p>I have not been able to find anything about tools that integrate Git with Visual Studio, though - does such a thing exist? </p>\n\n<p>What technologies are available for using Git with Visual Studio? And what do I need to know about how they differ before I begin?</p>\n", "title": "Using Git with Visual Studio", "tags": ["visual-studio", "git"], "answer_count": 16, "link": "http://stackoverflow.com/questions/507343/using-git-with-visual-studio", "answers": [{"body": "<p>I use Git with Visual Studio for my port of Protocol Buffers to C#. I don't use the GUI - I just keep a command line open as well as Visual Studio.</p>\n\n<p>For the most part it's fine - the only problem is when you want to rename a file. Both Git and Visual Studio would rather that <em>they</em> were the one to rename it. I think that renaming it in Visual Studio is the way to go though - just be careful what you do at the Git side afterwards. Although this has been a bit of a pain in the past, I've heard that it actually should be pretty seamless on the Git side, because it can notice that the contents will be mostly the same. (Not entirely the same, usually - you tend to rename a file when you're renaming the class, IME.)</p>\n\n<p>But basically - yes, it works fine. I'm a Git newbie, but I can get it to do everything I need it to. Make sure you have a git ignore file for bin and obj, and *.user.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 507369, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>In Jan 2013, Microsoft <a href=\"http://blogs.msdn.com/b/bharry/archive/2013/01/30/git-init-vs.aspx\">announced</a> that they are adding full Git support into all their ALM products. They have <a href=\"http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c\">published a plugin</a> for Visual Studio 2012 that adds Git source control integration.</p>\n\n<p>Alternatively, there is a project called <a href=\"http://code.google.com/p/gitextensions/\">Git Extensions</a> that includes add-ins for Visual Studio 2005, 2008, 2010 and 2012, as well as Windows Explorer integration. It's regularly updated and having used it on a couple of projects, I've found it very useful.</p>\n\n<p>Another option is <a href=\"http://gitscc.codeplex.com/\">Git Source Control Provider</a>.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 507453, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>I find that Git, working on whole trees as it does, benefits less from IDE integration than source control tools that are either file based or follow a checkout-edit-commit pattern. Of course there are instances when it can be nice to click on a button to do some history examination, but I don't miss that very much.</p>\n\n<p>The real must-do is to get your .gitignore file full of the things that shouldn't be in a shared repository. Mine generally contain (amongst other stuff) the following:</p>\n\n<pre><code>*.vcproj.*.user\n*.ncb\n*.aps\n*.suo\n</code></pre>\n\n<p>but this is heavily C++ biased with little or no use of any class wizard style functionality.</p>\n\n<p>My usage pattern is something like the following.</p>\n\n<ol>\n<li><p>Code, code, code in Visual Studio.</p></li>\n<li><p>When happy (sensible intermediate point to commit code, switch to Git, stage changes and review diffs. If anything's obviously wrong switch back to Visual Studio and fix, otherwise commit.</p></li>\n</ol>\n\n<p>Any merge, branch, rebase or other fancy SCM stuff is easy to do in Git from the command prompt. Visual Studio is normally fairly happy with things changing under it, although it can sometimes need to reload some projects if you've altered the project files significantly.</p>\n\n<p>I find that the usefulness of Git outweighs any minor inconvenience of not having full IDE integration but it is, to some extent, a matter of taste.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 507468, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>I've looked into this a bit at work (both with Subversion and Git). Visual Studio actually has a source control integration API to allow you to integrate third-party source control solutions into Visual Studio. However, most folks don't bother with it for a couple of reasons.</p>\n\n<p>The first is that the API pretty much assumes you are using a locked-checkout workflow. There are a lot of hooks in it that are either way expensive to implement, or just flat out make no sense when you are using the more modern edit-merge workflow.</p>\n\n<p>The second (which is related) is that when you are using the edit-merge workflow that both Subversion and Git encourage, you don't really <em>need</em> Visual Studio integration. The main killer thing about SourceSafe's integration with Visual Studio is that you (and the editor) can tell at a glance which files you own, which must be checked out before you can edit, and which you cannot check out even if you want to. Then it can help you do whatever revision-control voodoo you need to do when you want to edit a file. None of that is even part of a typical Git workflow. </p>\n\n<p>When you are using Git (or SVN typically), your revision-control interactions all take place either before your development session, or after it (once you have everything working and tested). At that point it really isn't too much of a pain to use a different tool. You aren't constantly having to switch back and forth.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 507487, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>As mantioned by Jon Rimmer, you can use GitExtensions. GitExtensions does work in Visual Studio 2005 and Visual Studio 2008, it also does work in Visual Studio 2010 if you manually copy and config the .Addin file. </p>\n", "title": "Using Git with Visual Studio", "answer_id": 524031, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>Also don't miss TortoiseGit... \n  <a href=\"https://tortoisegit.org/\">https://tortoisegit.org/</a></p>\n", "title": "Using Git with Visual Studio", "answer_id": 908547, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>The newest release of <a href=\"http://sourceforge.net/projects/gitextensions/\" rel=\"nofollow\">Git Extensions</a> supports <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2010\" rel=\"nofollow\">Visual&nbsp;Studio&nbsp;2010</a> now (along with <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2008\" rel=\"nofollow\">Visual&nbsp;Studio&nbsp;2008</a> and <a href=\"http://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2005\" rel=\"nofollow\">Visual&nbsp;Studio&nbsp;2005</a>).</p>\n\n<p>I found it to be fairly easy to use with Visual&nbsp;Studio&nbsp;2008 and the interface seems to be the same in Visual&nbsp;Studio&nbsp;2010.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 2145865, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p><a href=\"http://gitscc.codeplex.com\" rel=\"nofollow\">Git Source Control Provider</a> is new plug-in that integrates Git with Visual Studio.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 2946224, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p><a href=\"http://code.google.com/p/tortoisegit/\">TortoiseGit</a> has matured and I recommend it especially if you have used TortoiseSVN.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 6175416, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>The simplest solution that actually works quite well is to add the TortoiseGit commands as external tools. </p>\n\n<p><a href=\"http://stackoverflow.com/questions/6169851/solution-to-adding-a-git-tortoisegit-toolbar-to-visual-studio\">Solution to adding a Git (TortoiseGit) toolbar to Visual Studio</a></p>\n", "title": "Using Git with Visual Studio", "answer_id": 7248167, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>There's a <a href=\"http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c\" rel=\"nofollow\">Visual Studio Tools for Git</a> by Microsoft. It only supports Visual&nbsp;Studio&nbsp;2012 (update 2) though.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 14610140, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>Microsoft announced <a href=\"http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c\" rel=\"nofollow\">Git for Visual studio 2012</a> (update 2) recently. I have not played around with it yet, but <a href=\"http://channel9.msdn.com/posts/GitForVisualStudioTFS\" rel=\"nofollow\">this video</a> looks promising.</p>\n\n<p>Here is a quick <a href=\"http://blogs.msdn.com/b/visualstudioalm/archive/2013/01/30/getting-started-with-git-in-visual-studio-and-team-foundation-service.aspx\" rel=\"nofollow\">tutorial</a> on how to use Git from Visual&nbsp;Studio&nbsp;2012.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 14615604, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>As of 2013-02-11, <a href=\"http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c\" rel=\"nofollow\">the Microsoft Git plugin for Visual&nbsp;Studio&nbsp;2012 should work with the Express version as well</a>.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 14988970, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>Visual Studio 2013 natively supports Git.</p>\n\n<p>See the <a href=\"http://blogs.msdn.com/b/visualstudioalm/archive/2013/06/26/visual-studio-2013-preview-version-control-tfbuild.aspx\">official announcement</a>.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 19888635, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>Currently there are 2 options for Git Source Control in Visual Studio (2010 and 12):</p>\n\n<ol>\n<li><a href=\"http://visualstudiogallery.msdn.microsoft.com/63a7e40d-4d71-4fbb-a23b-d262124b8f4c\">Git Source Control Provider</a> </li>\n<li><a href=\"http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c\">Microsoft Git Provider</a></li>\n</ol>\n\n<p>I have tried both and have found 1st one to be more mature, and has more features. For instance it plays nicely with both tortoise git and git extensions, and even exposed their features.</p>\n\n<p><strong>Note</strong>: Whichever extension you use, make sure that you enable it from <code>Tools -&gt; Options -&gt; Source control -&gt; Plugin Selection</code> for it to work.</p>\n", "title": "Using Git with Visual Studio", "answer_id": 20144030, "question_id": 507343, "tags": ["visual-studio", "git"]}, {"body": "<p>The Git support done by Microsoft in Visual Studio is just good enough for basic work (commit/fetch/merge and push). My advice is just to avoid it...</p>\n\n<p>I highly prefer <a href=\"http://code.google.com/p/gitextensions/\" rel=\"nofollow\">GitExtensions</a> (or in less proportion <a href=\"http://sourcetreeapp.com/\" rel=\"nofollow\">SourceTree</a>). Because seeing the <a href=\"http://stackoverflow.com/questions/26395521/git-dag-vs-tree\">DAG</a> is for me really important to understand how Git works. And you are a lot more aware of what the other contributors to your project have done!</p>\n\n<p>In Visual Studio, you can't quickly see the diff between files or commit, nor (add to the index) and commit only part of modifications. Browse your history is not good either... All that ending in a painful experience!</p>\n\n<p>And, for example, GitExtensions is bundled with interesting plugins: background fetch, GitFlow,... and now, <a href=\"http://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow\">continuous integration</a>!</p>\n\n<p>For the users of <a href=\"https://en.wikipedia.org/wiki/Microsoft_Visual_Studio#Visual_Studio_2015\" rel=\"nofollow\">Visual&nbsp;Studio&nbsp;2015</a>, Git is taking shape if you install the GitHub extension. But an external tool is still better ;-)</p>\n", "title": "Using Git with Visual Studio", "answer_id": 20475396, "question_id": 507343, "tags": ["visual-studio", "git"]}], "question_id": 507343}, {"body": "<p>How would I write the equivalent of C#'s <a href=\"http://msdn.microsoft.com/en-us/library/baketfxw.aspx\"><code>String.StartsWith</code></a> in JavaScript?</p>\n\n<pre><code>var haystack = 'hello world';\nvar needle = 'he';\n\n//haystack.startsWith(needle) == true\n</code></pre>\n\n<p>Note: This is an old question, and as pointed out in the comments ECMAScript 2015 (ES6) introduced the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\"><code>.startsWith</code></a> method. However, at the time of writing this update (2015) <a href=\"http://kangax.github.io/compat-table/es6/#test-String.prototype_methods_String.prototype.startsWith\">browser support is far from complete</a>.</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "tags": ["javascript", "string", "startswith"], "answer_count": 17, "link": "http://stackoverflow.com/questions/646628/how-to-check-if-a-string-startswith-another-string", "answers": [{"body": "<pre><code>data.substring(0, input.length) === input\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 646631, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>You can use ECMAScript 6's <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\"><code>String.prototype.startsWith()</code></a> method, but it's <a href=\"http://kangax.github.io/compat-table/es6/#test-String.prototype_methods_String.prototype.startsWith\">not yet supported in all browsers</a>. You'll want to use a shim/polyfill to add it on browsers that don't support it. Creating an implementation that complies with <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-string.prototype.startswith\">all the details laid out in the spec</a> is a little complicated, and the version defined in this answer won't do; if you want a faithful shim, use either:</p>\n\n<ul>\n<li><a href=\"https://github.com/mathiasbynens/String.prototype.startsWith\">Matthias Bynens's <code>String.prototype.startsWith</code> shim</a>, or</li>\n<li>The <a href=\"https://github.com/paulmillr/es6-shim\">es6-shim</a>, which shims as much of the ES6 spec as possible, including <code>String.prototype.startsWith</code>.</li>\n</ul>\n\n<p>Once you've shimmed the method (or if you're only supporting browsers and JavaScript engines that already have it), you can use it like this:</p>\n\n<pre><code>\"Hello World!\".startsWith(\"He\"); // true\n\nvar haystack = \"Hello world\";\nvar prefix = 'orl';\nhaystack.startsWith(prefix); // false\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 646643, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Here is a minor improvement to CMS's solution:</p>\n\n<pre><code>if(!String.prototype.startsWith){\n    String.prototype.startsWith = function (str) {\n        return !this.indexOf(str);\n    }\n}\n\n\"Hello World!\".startsWith(\"He\"); // true\n\n var data = \"Hello world\";\n var input = 'He';\n data.startsWith(input); // true\n</code></pre>\n\n<p>Checking whether the function already exists in case a future browser implements it in native code or if it is implemented by another library. For example, the Prototype Library implements this function already.</p>\n\n<p>Using <code>!</code> is slightly faster and more concise than <code>=== 0</code> though not as readable.</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 913741, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Another alternative with <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf\"><code>.lastIndexOf</code></a>:</p>\n\n<pre><code>haystack.lastIndexOf(needle, 0) === 0\n</code></pre>\n\n<p>This looks backwards through <code>haystack</code> for an occurrence of <code>needle</code> starting from index <code>0</code> of <code>haystack</code>. In other words, it only checks if <code>haystack</code> starts with <code>needle</code>.</p>\n\n<p>In principle, this should have performance advantages over some other approaches:</p>\n\n<ul>\n<li>It doesn't search the entire <code>haystack</code>.</li>\n<li>It doesn't create a new temporary string and then immediately discard it.</li>\n</ul>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 4579228, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Without a helper function, just using regex's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test\"><code>.test</code></a> method:</p>\n\n<pre><code>/^He/.test('Hello world')\n</code></pre>\n\n<p>To do this with a dynamic string rather than a hardcoded one (assuming that the string will not contain any regexp control characters):</p>\n\n<pre><code>new RegExp('^' + needle).test(haystack)\n</code></pre>\n\n<p>You should check out <a href=\"http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\">Is there a RegExp.escape function in Javascript?</a> if the possibility exists that regexp control characters appear in the string.</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 4589808, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Also check out <a href=\"https://github.com/edtsech/underscore.string\">underscore.string.js</a>. It comes with a bunch of useful string testing and manipulation methods, including a <code>startsWith</code> method. From the docs:</p>\n\n<blockquote>\n  <p><strong>startsWith</strong> <code>_.startsWith(string, starts)</code></p>\n  \n  <p>This method checks whether <code>string</code> starts with <code>starts</code>.</p>\n\n<pre><code>_(\"image.gif\").startsWith(\"image\")\n=&gt; true\n</code></pre>\n</blockquote>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 6191886, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<pre><code>var str = 'hol';\nvar data = 'hola mundo';\nif (data.length &gt;= str.length &amp;&amp; data.substring(0, str.length) == str)\n    return true;\nelse\n    return false;\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 10450449, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>If you are working with <code>startsWith()</code> and <code>endsWith()</code> then you have to be careful about leading spaces. Were is the complete example:</p>\n\n<pre><code>var Str1 = \" Your String Value Here.!! \"; // Starts With &amp; Ends With leading Spaces\nvar Str2 = Str1.trim();   // Removes All Spaces by using Trim() function Something like this --&gt; \"Your String Value Here.!!\"\n\nif (Str2.startsWith(\"Your\"))  // returns TRUE\nif (Str2.endsWith(\"Here.!!\")) // returns TRUE\n\nif (Str1.startsWith(\"Your\"))  // returns FALSE due to the leading spaces\u2026\nif (Str1.endsWith(\"Here.!!\")) // returns FALSE due to trailing spaces\u2026\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 12995460, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>You can also return all members of an array that start with a string by creating your own prototype / extension to the the array prototype, aka</p>\n\n<pre><code>Array.prototype.mySearch = function (target) {\n    if (typeof String.prototype.startsWith != 'function') {\n        String.prototype.startsWith = function (str){\n        return this.slice(0, str.length) == str;\n      };\n    }\n    var retValues = [];\n    for (var i = 0; i &lt; this.length; i++) {\n        if (this[i].startsWith(target)) { retValues.push(this[i]); }\n    }\n    return retValues;\n};\n</code></pre>\n\n<p>And to use it:</p>\n\n<pre><code>var myArray = ['Hello', 'Helium', 'Hideout', 'Hamster'];\nvar myResult = myArray.mySearch('Hel');\n// result -&gt; Hello, Helium\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 17756064, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>I just learned about this string library:</p>\n\n<p><a href=\"http://stringjs.com/\" rel=\"nofollow\">http://stringjs.com/</a></p>\n\n<p>Include the js file and then use the <code>S</code> variable like this:</p>\n\n<pre><code>S('hi there').endsWith('hi there')\n</code></pre>\n\n<p>It can also be used in NodeJS by installing it:</p>\n\n<pre><code>npm install string\n</code></pre>\n\n<p>Then requiring it as the <code>S</code> variable:</p>\n\n<pre><code>var S = require('string');\n</code></pre>\n\n<p>The web page also has links to alternate string libraries, if this one doesn't take your fancy.</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 23361938, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>I recently asked myself the same question.<br>\nThere are multiple possible solutions, here are 3 valid ones:</p>\n\n<ul>\n<li><code>s.indexOf(starter) === 0</code></li>\n<li><code>s.substr(0,starter.length) === starter</code></li>\n<li><code>s.lastIndexOf(starter, 0) === 0</code> (added after seeing Mark Byers's <a href=\"http://stackoverflow.com/a/4579228/2279260\">answer</a>)</li>\n<li><p>using a loop:</p>\n\n<pre><code>function startsWith(s,starter) {\n  for (var i = 0,cur_c; i &lt; starter.length; i++) {\n    cur_c = starter[i];\n    if (s[i] !== starter[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n</code></pre></li>\n</ul>\n\n<p>I haven't come across the last solution which makes uses of a loop.<br>\nSurprisingly this solution outperforms the first 3 by a significant margin.<br>\nHere is the jsperf test I performed to reach this conclusion: <a href=\"http://jsperf.com/startswith2/2\">http://jsperf.com/startswith2/2</a></p>\n\n<p>Peace</p>\n\n<p>ps: ecmascript 6 (harmony) introduces a native <code>startsWith</code> method for strings.<br>\nJust think how much time would have been saved if they had thought of including this much needed method in the initial version itself.</p>\n\n<p><strong>Update</strong></p>\n\n<p>As Steve pointed out (the first comment on this answer), the above custom function will throw an error if the given <em>prefix</em> is shorter than the whole string. He has fixed that and added a loop optimization which can be viewed at <a href=\"http://jsperf.com/startswith2/4\">http://jsperf.com/startswith2/4</a>.</p>\n\n<p>Note that there are 2 loop optimizations which Steve included, the first of the two showed better performance, thus I will post that code below:</p>\n\n<pre><code>function startsWith2(str, prefix) {\n  if (str.length &lt; prefix.length)\n    return false;\n  for (var i = prefix.length - 1; (i &gt;= 0) &amp;&amp; (str[i] === prefix[i]); --i)\n    continue;\n  return i &lt; 0;\n}\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 23709550, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>The best performant solution is to stop using library calls and just recognize that you're working with two arrays. A hand-rolled implementation is both short and also faster than every other solution I've seen here.</p>\n\n<pre><code>function startsWith2(str, prefix) {\n    if (str.length &lt; prefix.length)\n        return false;\n    for (var i = prefix.length - 1; (i &gt;= 0) &amp;&amp; (str[i] === prefix[i]); --i)\n        continue;\n    return i &lt; 0;\n}\n</code></pre>\n\n<p>For performance comparisons (success and failure), see <a href=\"http://jsperf.com/startswith2/4\" rel=\"nofollow\">http://jsperf.com/startswith2/4</a>. (Make sure you check for later versions that may have trumped mine.)</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 24748653, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Based on the answers here, this is the version I am now using, as it seems to give the best performance based on JSPerf testing (and is functionally complete as far as I can tell).</p>\n\n<pre><code>if(typeof String.prototype.startsWith != 'function'){\n    String.prototype.startsWith = function(str){\n        if(str == null) return false;\n        var i = str.length;\n        if(this.length &lt; i) return false;\n        for(--i; (i &gt;= 0) &amp;&amp; (this[i] === str[i]); --i) continue;\n        return i &lt; 0;\n    }\n}\n</code></pre>\n\n<p>This was based on startsWith2 from here: <a href=\"http://jsperf.com/startswith2/6\" rel=\"nofollow\">http://jsperf.com/startswith2/6</a>. I added a small tweak for a tiny performance improvement, and have since also added a check for the comparison string being null or undefined, and converted it to add to the String prototype using the technique in CMS's answer.</p>\n\n<p>Note that this implementation doesn't support the \"position\" parameter which is mentioned in this <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\" rel=\"nofollow\">Mozilla Developer Network</a> page, but that doesn't seem to be part of the ECMAScript proposal anyway.</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 26020859, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>I was looking for performance so I ran the functions through jsperf. I tested the functions against subject and search strings of various sizes and it appears that all methods exhibit different performance of different inputs; the general pattern is that performance degrades as length of search string increases.</p>\n\n<p>The overall winner turns out to be the <code>substr(ing)</code> method.</p>\n\n<p><a href=\"https://jsperf.com/javascript-string-startswith\" rel=\"nofollow\">https://jsperf.com/javascript-string-startswith</a></p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 33328575, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Since this is so popular I think it is worth pointing out that there is an implementation for this method in ECMA 6 and in preparation for that one should use the 'official' polyfill in order to prevent future problems and tears.</p>\n\n<p>Luckily the experts at Mozilla provide us with one:</p>\n\n<p><a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\" rel=\"nofollow\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith</a></p>\n\n<pre><code>if (!String.prototype.startsWith) {\n    String.prototype.startsWith = function(searchString, position) {\n        position = position || 0;\n        return this.indexOf(searchString, position) === position;\n    };\n}\n</code></pre>\n\n<p>Please note that this has the advantage of getting gracefully ignored on transition to ECMA 6.</p>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 34610744, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>I just wanted to add my opinion about this.</p>\n\n<p>I think we can just use like this:</p>\n\n<pre><code>var haystack = 'hello world';\nvar needle = 'he';\n\nif (haystack.indexOf(needle) == 0) {\n  // Code if string starts with this substring\n}\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 35365431, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}, {"body": "<p>Best solution:</p>\n\n<pre><code>function startsWith(str, word) {\n    return str.lastIndexOf(word, 0) === 0;\n}\n\nstartsWith(\"aaa\", \"a\")\ntrue\nstartsWith(\"aaa\", \"ab\")\nfalse\nstartsWith(\"abc\", \"abc\")\ntrue\nstartsWith(\"abc\", \"c\")\nfalse\nstartsWith(\"abc\", \"a\")\ntrue\nstartsWith(\"abc\", \"ba\")\nfalse\nstartsWith(\"abc\", \"ab\")\ntrue\n</code></pre>\n\n<p>And here is <strong>endsWith</strong> if you need that too: </p>\n\n<pre><code>function endsWith(str, word) {\n    return str.indexOf(word, str.length - word.length) !== -1;\n}\n</code></pre>\n", "title": "How to check if a string &quot;StartsWith&quot; another string?", "answer_id": 36876507, "question_id": 646628, "tags": ["javascript", "string", "startswith"]}], "question_id": 646628}, {"body": "<p>I have a <code>String[]</code> with values like so:</p>\n\n<pre><code>public static final String[] VALUES = new String[] {\"AB\",\"BC\",\"CD\",\"AE\"};\n</code></pre>\n\n<p>Given <code>String s</code>, is there a good way of testing whether <code>VALUES</code> contains <code>s</code>?</p>\n", "title": "How can I test if an array contains a certain value?", "tags": ["java", "arrays"], "answer_count": 23, "link": "http://stackoverflow.com/questions/1128723/how-can-i-test-if-an-array-contains-a-certain-value", "answers": [{"body": "<pre><code>Arrays.asList(yourArray).contains(yourValue)\n</code></pre>\n\n<p>Warning: this doesn't work for arrays of primitives (see the comments).</p>\n\n<hr>\n\n<h2>Since <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a></h2>\n\n<p>You can now use a <code>Stream</code> to check whether an array of <code>int</code>, <code>double</code> or <code>long</code> contains a value (by respectively using a <code>IntStream</code>, <code>DoubleStream</code> or <code>LongStream</code>)</p>\n\n<h2>Example</h2>\n\n<pre><code>int[] a = {1,2,3,4};\nboolean contains = IntStream.of(a).anyMatch(x -&gt; x == 4);\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 1128728, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>You can use the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Arrays.html\">Arrays class</a> to perform a binary search for the value. If your array is not sorted, you will have to use the sort functions in the same class to sort the array, then search through it.</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 1128729, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>If the array is not sorted, you will have to iterate over everything and make a call to equals on each.</p>\n\n<p>If the array is sorted, you can do a binary search, there's one in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\">Arrays</a> class.</p>\n\n<p>Generally speaking, if you are going to do a lot of membership checks, you may want to store everything in a Set, not in an array. </p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 1128732, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Just to clear the code up to start with. We have (corrected):</p>\n\n<pre><code>public static final String[] VALUES = new String[] {\"AB\",\"BC\",\"CD\",\"AE\"};\n</code></pre>\n\n<p>This is a mutable static which FindBugs will tell you is very naughty. It should be private:</p>\n\n<pre><code>private static final String[] VALUES = new String[] {\"AB\",\"BC\",\"CD\",\"AE\"};\n</code></pre>\n\n<p>(Note, you can actually drop the <code>new String[];</code> bit.)</p>\n\n<p>So, reference arrays are bad, and in particular here we want a set:</p>\n\n<pre><code>private static final Set&lt;String&gt; VALUES = new HashSet&lt;String&gt;(Arrays.asList(\n     new String[] {\"AB\",\"BC\",\"CD\",\"AE\"}\n));\n</code></pre>\n\n<p>(Paranoid people, such as myself, may feel more at ease if this was wrapped in <code>Collections.unmodifiableSet</code> - it could even be made public.)</p>\n\n<p>\"Given String s, is there a good way of testing whether VALUES contains s?\"</p>\n\n<pre><code>VALUES.contains(s)\n</code></pre>\n\n<p>O(1).</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 1128899, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>ObStupidAnswer (but I think there's a lesson in here somewhere):</p>\n\n<pre><code>enum Values {\n    AB, BC, CD, AE\n}\n\ntry {\n    Values.valueOf(s);\n    return true;\n} catch (IllegalArgumentException exc) {\n    return false;\n}\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 1128913, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>For what its worth I ran a test comparing the 3 suggestions for speed. I generated random integers, converted them to a String and added them to an array. I then searched for the highest possible number/string, which would be a worst case scenario for the asList().contains().</p>\n\n<p>When using a 10K array size the results where:</p>\n\n<pre>\nSort & Search   : 15\nBinary Search   : 0\nasList.contains : 0\n</pre>\n\n<p>When using a 100K array the results where:</p>\n\n<pre>\nSort & Search   : 156\nBinary Search   : 0\nasList.contains : 32\n</pre>\n\n<p>So if the array is created in sorted order the binary search is the fastest, otherwise the asList().contains would be the way to go. If you have many searches, then it may be worthwhile to sort the array so you can use the binary search. It all depends on your application.  </p>\n\n<p>I would think those are the results most people would expect. Here is the test code:</p>\n\n<pre><code>import java.util.*;\n\npublic class Test\n{\n    public static void main(String args[])\n    {\n    \tlong start = 0;\n    \tint size = 100000;\n    \tString[] strings = new String[size];\n    \tRandom random = new Random();\n\n\n    \tfor (int i = 0; i &lt; size; i++)\n    \t\tstrings[i] = \"\" + random.nextInt( size );\n\n    \tstart = System.currentTimeMillis();\n    \tArrays.sort(strings);\n    \tSystem.out.println(Arrays.binarySearch(strings, \"\" + (size - 1) ));\n    \tSystem.out.println(\"Sort &amp; Search : \" + (System.currentTimeMillis() - start));\n\n    \tstart = System.currentTimeMillis();\n    \tSystem.out.println(Arrays.binarySearch(strings, \"\" + (size - 1) ));\n    \tSystem.out.println(\"Search        : \" + (System.currentTimeMillis() - start));\n\n    \tstart = System.currentTimeMillis();\n    \tSystem.out.println(Arrays.asList(strings).contains( \"\" + (size - 1) ));\n    \tSystem.out.println(\"Contains      : \" + (System.currentTimeMillis() - start));\n    }\n}\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 1128939, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Actually , if you use HashSet as Tom Hawtin proposed you don`t need to worry about sorting and your speed is the same as with Binary Search on a presorted array, probably even faster.</p>\n\n<p>It all depends on how your code is set up, obviously, but from where I stand, the order would be:</p>\n\n<p>On an UNsorted array:</p>\n\n<ol>\n<li>HashSet</li>\n<li>asList</li>\n<li>sort &amp; Binary</li>\n</ol>\n\n<p>On a sorted array:</p>\n\n<ol>\n<li>HashSet</li>\n<li>Binary</li>\n<li>asList</li>\n</ol>\n\n<p>So either way, HashSet ftw</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 3019862, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Instead of using the quick array initialsation syntax to you could just initialise it as a List straight away in a similar manner using the Arrays.asList method e.g.:</p>\n\n<pre><code>public static final List&lt;String&gt; STRINGS = Arrays.asList(\"firstString\", \"secondString\" ...., \"lastString\");\n</code></pre>\n\n<p>Then you can do (like above): <code>STRINGS.contains(\"the string you want to find\");</code></p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 4747988, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>You can use <code>ArrayUtils.contains</code> from <a href=\"https://commons.apache.org/proper/commons-lang/\">Apache Commons Lang</a></p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ArrayUtils.html#contains(java.lang.Object[],%20java.lang.Object)\"><code>public static boolean contains(Object[] array, Object objectToFind)</code></a></p>\n\n<p>Note that this method returns <code>false</code> if the passed array is <code>null</code>.</p>\n\n<p>There are also methods available for primitive arrays of all kinds.</p>\n\n<h3>Example:</h3>\n\n<pre><code>String[] fieldsToInclude = { \"id\", \"name\", \"location\" };\n\nif ( ArrayUtils.contains( fieldsToInclude, \"id\" ) ) {\n    // Do some stuff.\n}\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 6188194, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>If you have the google collections library, Tom's answer can be simplified a lot by using ImmutableSet (http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableSet.html)</p>\n\n<p>This really removes a lot of clutter from the initialization proposed</p>\n\n<pre><code>private static final Set&lt;String&gt; VALUES =  ImmutableSet.of(\"AB\",\"BC\",\"CD\",\"AE\");\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 12496604, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>I'm surprised no one suggested to just simply implement it by hand:</p>\n\n<pre><code>public static &lt;T&gt; boolean contains(final T[] array, final T v) {\n    for (final T e : array)\n        if (e == v || v != null &amp;&amp; v.equals(e))\n            return true;\n\n    return false;\n}\n</code></pre>\n\n<p><strong>Improvement:</strong></p>\n\n<p>The <code>v != null</code> condition is constant inside the method, it always evaluates to the same boolean value during the method call. So if the input <code>array</code> is big, it is more efficient to evaluate this condition only once and we can use a simplified/faster condition inside the <code>for</code> loop based on the result. The improved <code>contains()</code> method:</p>\n\n<pre><code>public static &lt;T&gt; boolean contains2(final T[] array, final T v) {\n    if (v == null) {\n        for (final T e : array)\n            if (e == null)\n                return true;\n    } else {\n        for (final T e : array)\n            if (e == v || v.equals(e))\n                return true;\n    }\n\n    return false;\n}\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 12635769, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<ol>\n<li><p>For arrays of limited length use the following (as given by <strong>camickr</strong>).  This is slow for repeated checks, especially for longer arrays (linear search).  </p>\n\n<pre><code> Arrays.asList(...).contains(...)\n</code></pre></li>\n<li><p>For fast performance if you repeatedly check against a larger set of elements</p>\n\n<ul>\n<li><p>An array is the wrong structure.  Use a <strong><code>TreeSet</code></strong> and add each element to it.  It sorts elements and has a fast <code>exist()</code> method (binary search).</p></li>\n<li><p><strong>If the elements implement <code>Comparable</code> &amp; you want the <code>TreeSet</code> sorted accordingly:</strong></p>\n\n<p><code>ElementClass.compareTo()</code> method must be compatable with <code>ElementClass.equals()</code>: see <a href=\"http://stackoverflow.com/questions/15795058/triads-not-showing-up-to-fight-java-set-missing-an-item/16453349#16453349\">Triads not showing up to fight? (Java Set missing an item)</a> </p>\n\n<pre><code>TreeSet myElements = new TreeSet();\n\n// Do this for each element (implementing *Comparable*)\nmyElements.add(nextElement);\n\n// *Alternatively*, if an array is forceably provided from other code:\nmyElements.addAll(Arrays.asList(myArray));\n</code></pre></li>\n<li><p><strong>Otherwise, use your own <code>Comparator</code>:</strong></p>\n\n<pre><code>class MyComparator implements Comparator&lt;ElementClass&gt; {\n     int compareTo(ElementClass element1; ElementClass element2) {\n          // Your comparison of elements\n          // Should be consistent with object equality\n     }\n\n     boolean equals(Object otherComparator) {\n          // Your equality of comparators\n     }\n}\n\n\n// construct TreeSet with the comparator\nTreeSet myElements = new TreeSet(new MyComparator());\n\n// Do this for each element (implementing *Comparable*)\nmyElements.add(nextElement);\n</code></pre></li>\n<li><p><strong>The payoff: check existence of some element:</strong></p>\n\n<pre><code>// Fast binary search through sorted elements (performance ~ log(size)):\nboolean containsElement = myElements.exists(someElement);\n</code></pre></li>\n</ul></li>\n</ol>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 16644694, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Use <code>Array.BinarySearch(array,obj)</code> for finding the given object in array or not.\nEx:</p>\n\n<p><code>if (Array.BinarySearch(str, i) &gt; -1)</code> -->true --exists</p>\n\n<p>false --not exists</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 16829850, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p><strong>Try This:</strong></p>\n\n<pre><code>ArrayList&lt;Integer&gt; arrlist = new ArrayList&lt;Integer&gt;(8);\n\n      // use add() method to add elements in the list\n      arrlist.add(20);\n      arrlist.add(25);\n      arrlist.add(10);\n      arrlist.add(15);\n\nboolean retval = arrlist.contains(10);\n    if (retval == true) {\n        System.out.println(\"10 is contained in the list\");\n       }\n      else {\n        System.out.println(\"10 is not contained in the list\");\n       }\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 20437529, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>With Java 8 you can create a stream and check if any entries in the stream matches <code>\"s\"</code>:</p>\n\n<pre><code>String[] values = {\"AB\",\"BC\",\"CD\",\"AE\"};\nboolean sInArray = Arrays.stream(values).anyMatch(\"s\"::equals);\n</code></pre>\n\n<p>Or as a generic method:</p>\n\n<pre><code>public static &lt;T&gt; boolean arrayContains(T[] array, T value) {\n    return Arrays.stream(array).anyMatch(value::equals);\n}\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 22382449, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Using a simple loop is the most efficient way of doing this. </p>\n\n<pre><code>boolean useLoop(String[] arr, String targetValue) {\n    for(String s: arr){\n        if(s.equals(targetValue))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Courtesy to <a href=\"http://www.programcreek.com/2014/04/check-if-array-contains-a-value-java/\" rel=\"nofollow\">Programcreek</a></p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 22921782, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p><a href=\"http://www.programcreek.com/2014/04/check-if-array-contains-a-value-java/\">Four Different Ways to Check If an Array Contains a Value</a></p>\n\n<p>1) Using List:</p>\n\n<pre><code>public static boolean useList(String[] arr, String targetValue) {\n    return Arrays.asList(arr).contains(targetValue);\n}\n</code></pre>\n\n<p>2) Using Set:</p>\n\n<pre><code>public static boolean useSet(String[] arr, String targetValue) {\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;(Arrays.asList(arr));\n    return set.contains(targetValue);\n}\n</code></pre>\n\n<p>3) Using a simple loop:</p>\n\n<pre><code>public static boolean useLoop(String[] arr, String targetValue) {\n    for(String s: arr){\n        if(s.equals(targetValue))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>4) Using Arrays.binarySearch():</p>\n\n<p>The code below is wrong, it is listed here for completeness. binarySearch() can ONLY be used on sorted arrays. You will find the result is weird below. This is the best option when array is sorted.</p>\n\n<pre><code>public static boolean binarySearch(String[] arr, String targetValue) {  \n            int a =  Arrays.binarySearch(arr, targetValue);\n            if(a &gt; 0)\n                return true;\n            else\n                return false;\n        }\n</code></pre>\n\n<blockquote>\n  <p>Quick Example:-</p>\n</blockquote>\n\n<pre><code>String testValue=\"test\";\nString newValueNotInList=\"newValue\";\nString[] valueArray = { \"this\", \"is\", \"java\" , \"test\" };\nArrays.asList(valueArray).contains(testValue); \\\\returns true\nArrays.asList(valueArray).contains(newValueNotInList); \\\\returns false\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 23526351, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>check this</p>\n\n<pre><code>   String[] VALUES = new String[] {\"AB\",\"BC\",\"CD\",\"AE\"};\n   String s;\n\n   for(int i=0; i&lt; VALUES.length ; i++)\n      {\n\n         if ( VALUES[i].equals(s) )\n          { \n           // do your stuff\n           } \n        else{    \n           //do your stuff\n            }\n       } \n</code></pre>\n\n<p>Thank You</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 24057535, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Developers often do:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;String&gt;(Arrays.asList(arr));\nreturn set.contains(targetValue);\n</code></pre>\n\n<p>The above code works, but there is no need to convert a list to set first. Converting a list to a set requires extra time. It can as simple as:</p>\n\n<pre><code>Arrays.asList(arr).contains(targetValue);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>   for(String s: arr){\n        if(s.equals(targetValue))\n            return true;\n    }\n\nreturn false;\n</code></pre>\n\n<p>The first one is more readable than the second one.</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 24402575, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>I am very late to join this discussion, but since my approach in solving this problem, when I faced it a few years ago, was a bit different than the other answers already posted here, I am posting that solution I used at that time, over here, in case anyone finds it usefull: (The <code>contains()</code> method is <code>ArrayUtils.in()</code> in this code.)</p>\n\n<p><i>ObjectUtils.java</i></p>\n\n<pre><code>public class ObjectUtils{\n\n/**\n * A null safe method to detect if two objects are equal.\n * @param object1\n * @param object2\n * @return true if either both objects are null, or equal, else returns false.\n */\npublic static boolean equals(Object object1,Object object2){\n    return object1==null?object2==null:object1.equals(object2);\n}\n\n}\n</code></pre>\n\n<p><i>ArrayUtils.java</i></p>\n\n<pre><code>public class ArrayUtils{\n/**\n * Find the index of of an object is in given array, starting from given inclusive index.\n * @param ts  Array to be searched in.\n * @param t  Object to be searched.\n * @param start  The index from where the search must start. \n * @return Index of the given object in the array if it is there, else -1. \n */\npublic static &lt;T&gt; int indexOf(final T[] ts, final T t, int start){\n    for(int i = start; i &lt; ts.length;++i)\n        if(ObjectUtils.equals(ts[i],t))\n            return i;\n    return -1;\n}\n\n/**\n * Find the index of of an object is in given array, starting from 0;\n * @param ts  Array to be searched in.\n * @param t  Object to be searched.\n * @return  indexOf(ts,t,0)\n */\npublic static &lt;T&gt; int indexOf(final T[] ts, final T t){\n    return indexOf(ts, t, 0);\n}\n\n/**\n * Detect if the given object is in the given array.\n * @param ts  Array to be searched in.\n * @param t  Object to be searched.\n * @return  If indexOf(ts,t) is greater than -1.\n */\npublic static &lt;T&gt; boolean in(final T[] ts, final T t){\n    return indexOf(ts, t) &gt; -1 ;\n}\n\n}\n</code></pre>\n\n<p>As you can see in the code above, that there are other utility methods <code>ObjectUtils.equals()</code> and <code>ArrayUtils.indexOf()</code>, that were used at other places as well.</p>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 24911743, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>One possible solution would be:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\n    public class ArrayContainsElement {\n      public static final List&lt;String&gt; VALUES = Arrays.asList(\"AB\", \"BC\", \"CD\", \"AE\");\n\n      public static void main(String args[]) {\n\n          if (VALUES.contains(\"AB\")) {\n              System.out.println(\"Contains\");\n          } else {\n              System.out.println(\"Not contains\");\n          }\n      }\n    }\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 27474534, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>In <strong>Java 8</strong> use Streams.</p>\n\n<pre><code>List&lt;String&gt; myList =\nArrays.asList(\"a1\", \"a2\", \"b1\", \"c2\", \"c1\");\n\nmyList\n.stream()\n.filter(s -&gt; s.startsWith(\"c\"))\n.map(String::toUpperCase)\n.sorted()\n.forEach(System.out::println);\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 29912069, "question_id": 1128723, "tags": ["java", "arrays"]}, {"body": "<p>Arrays.asList => then applying the contains() method will always work, but a search algorithm is much better, since first you have to convert the Array to a list, then calling the contains method, double the steps, see what I mean?</p>\n\n<pre><code>public boolean findString(String[] strings, String desired){\n   for(String s : strings){\n       if (desired.equals(s)){\n           return true;\n       }\n   }\n   return false; //if we get here\u2026 there is no desired String, return false.\n}\n</code></pre>\n", "title": "How can I test if an array contains a certain value?", "answer_id": 29958235, "question_id": 1128723, "tags": ["java", "arrays"]}], "question_id": 1128723}, {"body": "<p>In JavaScript 1.7, the <code>let</code> keyword was added.   I've heard it described as a \"local\" variable, but I'm still not quite sure how it behaves differently than the <code>var</code> keyword.</p>\n\n<p>What are the differences?   When should <code>let</code> be used over <code>var</code>? </p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "tags": ["javascript", "keyword", "cross-browser"], "answer_count": 18, "link": "http://stackoverflow.com/questions/762011/let-keyword-vs-var-keyword-in-javascript", "answers": [{"body": "<p>Right now you should almost never use <code>let</code>, because you usually can't count on it being fully supported yet in the wild.</p>\n\n<p>I know that's not the kind of answer you were looking for, but it's probably the most important consideration.  If you have a limited deployment where you know everyone gets 1.7, then you're a lucky fellow.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 762015, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>Here's an <a href=\"https://developer.mozilla.org/en/New_in_JavaScript_1.7#Block_scope_with_let\">explanation of the <code>let</code> keyword</a> with some examples.</p>\n\n<blockquote>\n  <p>let works very much like var. The main difference is that the scope of a var variable is the entire enclosing function</p>\n</blockquote>\n\n<p><a href=\"http://en.wikipedia.org/wiki/JavaScript#Version_history\">This table</a> on Wikipedia shows which browsers support Javascript 1.7.</p>\n\n<p>Note that only Mozilla and Chrome browsers support it. IE, Safari, and potentially others don't.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 762018, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>There are some subtle differences -- <code>let</code> scoping behaves more like variable scoping does in more or less any other languages. </p>\n\n<p>e.g. It scopes to the enclosing block, They don't exist before they're declared, etc.</p>\n\n<p>However it's worth noting that <code>let</code> is only a part of newer Javascript implementations and has varying degrees of <a href=\"http://caniuse.com/#search=let\">browser support</a>.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 762297, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>The difference is scoping. <code>var</code> is scoped to the nearest function block and <code>let</code> is scoped to the nearest <em>enclosing</em> block (both are global if outside any block), which can be smaller than a function block. </p>\n\n<p>Also, variables declared with <code>let</code> are not visible <em>before they are declared</em> in their enclosing block.</p>\n\n<p><strong>Demo:</strong> <sub><sub><sub><a href=\"http://jsfiddle.net/ThinkingStiff/tcCp5/\"><img src=\"http://i.stack.imgur.com/NI3c4.png\" alt=\"jsFiddle\"></a></sub></sub></sub> (Firefox Only in 2012; Wide support, except Safari 9 and Opera Mini in aug 2016)</p>\n\n<h3>Global:</h3>\n\n<p>They are identical when used like this outside a function block.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let me = 'go'; //globally scoped\nvar i = 'able'; //globally scoped\n</code></pre>\n\n<h3>Function:</h3>\n\n<p>They are identical when used like this in a function block.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function ingWithinEstablishedParameters() {\n    let terOfRecommendation = 'awesome worker!'; //function block scoped\n    var sityCheerleading = 'go!'; //function block scoped\n}\n</code></pre>\n\n<h3>Block:</h3>\n\n<p>Here is the difference. <code>let</code> is only visible in the <code>for()</code> loop and <code>var</code> is visible to the whole function.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function allyIlliterate() {\n    //tuce is *not* visible out here\n\n    for( let tuce = 0; tuce &lt; 5; tuce++ ) {\n        //tuce is only visible in here (and in the for() parentheses)\n    }\n\n    //tuce is *not* visible out here\n}\n\nfunction byE40() {\n    //nish *is* visible out here\n\n    for( var nish = 0; nish &lt; 5; nish++ ) {\n        //nish is visible to the whole function\n    }\n\n    //nish *is* visible out here\n}\n</code></pre>\n\n<h3>Additionally (Deprecated):</h3>\n\n<p><s><code>let</code> can also be used to create its own enclosing block.</s></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function conjunctionJunctionWhatsYour() {\n    //sNotGetCrazy is *not* visible out here\n\n    let( sNotGetCrazy = 'now' ) {\n        //sNotGetCrazy is only visible in here\n    };\n\n    //sNotGetCrazy is *not* visible out here\n}\n</code></pre>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 11444416, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>Here's an interesting example to add on to what others have already written. Suppose you want to make an array of functions, <code>adderFunctions</code>, where each function takes a single Number argument and returns the sum of the argument and the function's index in the array. Trying to generate <code>adderFunctions</code> with a loop using the <code>var</code> keyword causes problems:</p>\n\n<pre><code>var adderFunctions = [];\n\nfor (var i = 0; i &lt; 1000; i++) {\n  adderFunctions[i] = function(x) {\n    return x + i;\n  };\n}\n\nvar result = adderFunctions[12](8);\n\nconsole.log(result === 20); // =&gt; false\nconsole.log(result === 1007); // =&gt; true\nconsole.log(i); // =&gt; 999\n</code></pre>\n\n<p>The process above doesn't generate the desired array of functions because <code>i</code>'s scope extends beyond the <code>for</code> block. Now, try the same using the Harmony (ECMAScript 6) spec and the <code>let</code> keyword:</p>\n\n<pre><code>const adderFunctions = [];\n\nfor (let i = 0; i &lt; 1000; i++) {\n  adderFunctions[i] = x =&gt; x + i;\n}\n\nconst result = adderFunctions[12](8);\n\nconsole.log(result === 20); // =&gt; true\nconsole.log(i); // =&gt; ReferenceError: i is not defined\n</code></pre>\n\n<p>This time, <code>i</code>'s scope is limited to the <code>for</code> block and <code>adderFunctions</code> contains the desired function at each index.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 25355080, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>Here is an example for the difference between the two (support just started for chrome):\n<img src=\"http://i.stack.imgur.com/dqNYW.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see the <code>var j</code> variable is still having a value outside of the for loop scope, but the <code>let i</code> variable is undefined outside of the for loop scope.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 28897059, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p><code>let</code> can also be used to avoid problems with closures. It binds fresh value rather than keeping an old reference as shown in examples below.</p>\n\n<p><a href=\"http://jsfiddle.net/rmXcF/5/\"><strong>DEMO</strong></a></p>\n\n<pre><code>for(var i = 1; i &lt; 6; i++) {\n  document.getElementById('my-element' + i)\n    .addEventListener('click', function() { alert(i) })\n}\n</code></pre>\n\n<p>Code above demonstrates a classic JavaScript closure problem. Reference to the <code>i</code> object is being stored in the click handler closure, rather than the actual value of <code>i</code>.</p>\n\n<p>Every single click handler will refer to the same object because there\u2019s only one counter object which holds 6 so you get six on each click.</p>\n\n<p>General workaround is to wrap this in an anonymous function and pass <code>i</code> as argument. Such issues can also be avoided now by using <code>let</code> instead <code>var</code> as shown in code below.</p>\n\n<p><a href=\"http://jsfiddle.net/rmXcF/4/\"><strong>DEMO</strong></a> (Tested in chrome Only)</p>\n\n<pre><code>'use strict';\n\nfor(let i = 1; i &lt; 6; i++) {\n  document.getElementById('my-element' + i)\n    .addEventListener('click', function() { alert(i) })\n}\n</code></pre>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 30479554, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>The accepted answer is missing a point:</p>\n\n<pre><code>{\n  let a = 123;\n};\n\nconsole.log(a); // ReferenceError: a is not defined\n</code></pre>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 30606474, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>It also appears that, at least in VS 2015, Typescript 1.5, \"var\" allows multiple declarations of the same variable name in a block, and \"let\" doesn't.\nThis won't generate a compile error:\n        var x = 1;\n        var x = 2;\nThis will:\n        let x = 1;\n        let x = 2;</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 31931350, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>May the following two functions , show the difference :</p>\n\n<pre><code>function varTest() {\n  var x = 31;\n  if (true) {\n    var x = 71;  // same variable!\n    console.log(x);  // 71\n  }\n  console.log(x);  // 71\n}\n\nfunction letTest() {\n  let x = 31;\n  if (true) {\n    let x = 71;  // different variable\n    console.log(x);  // 71\n  }\n  console.log(x);  // 31\n}\n</code></pre>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 34326063, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<ul>\n<li><p><strong>Variable Not Hoisting</strong></p>\n\n<p><code>let</code> will <strong>not hoist</strong> to the entire scope of the block they appear in. By contrast, <code>var</code> could hoist as below.</p>\n\n<pre><code>{\n   console.log(cc); // undefined. Caused by hoisting\n   var cc = 23;\n}\n\n{\n   console.log(bb); // ReferenceError: bb is not defined\n   let bb = 23;\n}\n</code></pre></li>\n<li><p><strong>Garbage Collection</strong></p>\n\n<p>Block scope of <code>let</code> is useful relates to closures and garbage collection to reclaim memory. Consider,</p>\n\n<pre><code>function process(data) {\n    //...\n}\n\nvar hugeData = { .. };\n\nprocess(hugeData);\n\nvar btn = document.getElementById(\"mybutton\");\nbtn.addEventListener( \"click\", function click(evt){\n    //....\n});\n</code></pre>\n\n<p>The <code>click</code> handler callback does not need the <code>hugeData</code> variable at all. Theoretically, after <code>process(..)</code> runs, the huge data structure <code>hugeData</code> could be garbage collected. However, it's possible that some JS engine will still have to keep this huge structure, since the <code>click</code> function has a closure over the entire scope.</p>\n\n<p>However, the block scope can make this huge data structure to garbage collected.</p>\n\n<pre><code>function process(data) {\n    //...\n}\n\n{ // anything declared inside this block can be garbage collected\n    let hugeData = { .. };\n    process(hugeData);\n}\n\nvar btn = document.getElementById(\"mybutton\");\nbtn.addEventListener( \"click\", function click(evt){\n    //....\n});\n</code></pre></li>\n<li><p><strong><code>let</code> loops</strong></p>\n\n<p><code>let</code> in the loop can <strong>re-binds it</strong> to each iteration of the loop, making sure to re-assign it the value from the end of the previous loop iteration. Consider,</p>\n\n<pre><code>// print '5' 5 times\nfor (var i = 0; i &lt; 5; ++i) {\n    setTimeout(function () {\n        console.log(i);\n    }, 1000);  \n}\n</code></pre>\n\n<p>However, replace <code>var</code> with <code>let</code></p>\n\n<pre><code>// print 1, 2, 3, 4, 5. now\nfor (let i = 0; i &lt; 5; ++i) {\n    setTimeout(function () {\n        console.log(i);\n    }, 1000);  \n}\n</code></pre>\n\n<p>Because <code>let</code> create a new lexical environment with those names for a) the initialiser expression b) each iteration (previosly to evaluating the increment expression), more details are <a href=\"http://stackoverflow.com/a/30900289/3011380\">here</a>.</p></li>\n</ul>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 34839890, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>Previously there were only two scopes in javascript i.e. functional and global. With '<code>let</code>' keyword Js has now introduced <code>block-level</code> variables.</p>\n\n<p>To have a complete understanding of 'let' keyword this link will help-\n<a href=\"http://www.codingeek.com/tutorials/javascript/es6-let-keyword-to-declare-variable-in-javascript/\" rel=\"nofollow\">http://www.codingeek.com/tutorials/javascript/es6-let-keyword-to-declare-variable-in-javascript/</a></p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 35272718, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<h3>What's the difference between <code>let</code> and <code>var</code>?</h3>\n\n<ul>\n<li>A variable defined using a <code>var</code> statement is known throughout <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function\"><strong>the function</strong></a> it is defined in, from the moment it is defined onward.</li>\n<li>A variable defined using a <code>let</code> statement is only known in <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/block\"><strong>the block</strong></a> it is defined in, from the moment it is defined onward.</li>\n</ul>\n\n<p>To understand the difference, consider the following code :</p>\n\n<pre><code>function loop(arr) {\n    // i IS NOT known here\n    // j IS NOT known here\n\n    for( var i = 0; i &lt; arr.length; i++ ) {\n        // i IS known here\n    }\n\n    // i IS known here\n    // j IS NOT known here\n\n    for( let j = 0; j &lt; arr.length; j++ ) {\n        // j IS known here\n    }\n\n    // i IS known here\n    // j IS NOT known here\n}\n</code></pre>\n\n<p>Here, we can see that our variable <code>j</code> is only known in the first for loop, but not before and after. Yet, our variable <code>i</code> is known in the entire function from the moment it is defined onward.</p>\n\n<hr>\n\n<h3>Is it safe to use <code>let</code> today?</h3>\n\n<p>Some people would argue that in the future we'll ONLY use let statements and that var statements will become obsolete. JS guru <a href=\"https://twitter.com/getify\"><strong>Kyle Simpson</strong></a> wrote <a href=\"https://davidwalsh.name/for-and-against-let\"><strong>a very elaborate article on why that's not the case</strong></a>.</p>\n\n<p>Today, however, that is definitely not the case. In fact, we need actually to ask ourselves whether it's safe to use the <code>let</code> statement. The answer to that question depends on your environment :</p>\n\n<ul>\n<li><p>If you're writing server-side JavaScript code (<a href=\"https://nodejs.org/en/\"><strong>Node.js</strong></a>), you can safely use the <code>let</code> statement.</p></li>\n<li><p>If you're writing client-side JavaScript code and use a transpiler (like <a href=\"https://github.com/google/traceur-compiler\"><strong>Traceur</strong></a>), you can safely use the <code>let</code> statement, however your code is likely to be anything but optimal with respect to performance.</p></li>\n<li><p>If you're writing client-side JavaScript code and don't use a transpiler, you need to consider browser support.</p>\n\n<p>Today, Feb 23 2016, these are some browsers that either don't support <code>let</code> or have only partial support :</p>\n\n<ul>\n<li><strong>Internet explorer 10</strong> and below (no support)</li>\n<li><strong>Firefox 43</strong> and below (no support)</li>\n<li><strong>Safari 9</strong> and below (no support)</li>\n<li><strong>Opera Mini 8</strong> and below (no support)</li>\n<li><strong>Android browser 4</strong> and below (no support)</li>\n<li><strong>Opera 36</strong> and below (partial support)</li>\n<li><strong>Chome 51</strong> and below (partial support)</li>\n</ul></li>\n</ul>\n\n<p><a href=\"http://i.stack.imgur.com/FVsEQ.png\"><img src=\"http://i.stack.imgur.com/FVsEQ.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h3>How to keep track of browser support</h3>\n\n<p>For an up-to-date overview of which browsers support the <code>let</code> statement at the time of your reading this answer, see <a href=\"http://caniuse.com/#search=let\"><strong>this <code>Can I Use</code> page</strong></a>.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 35585468, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>ECMAScript 6 added one more keyword to declare variable other the \"const\" other than \"let\".\nPrimary goal of introduction of \"let\" and \"const\" over \"var\" is to have block scoping instead of traditional lexical scoping.\n<a href=\"https://medium.com/@charan4u/ecmascript-6-beginner-guide-part-3-block-level-bindings-2b3cd5c5d408#.ev9gwp2jb\" rel=\"nofollow\">This article explains very briefly difference between \"var\" and \"let\" and it also covers the discussion on \"const\"</a>.</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 37322132, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>\"Let\" is more local, as in, it can only exist within a certain enclosed function, similar to \"byval\" in visual basic/visual studios, where the variable can only be used within the specific subroutine.</p>\n\n<p>Here's an example: </p>\n\n<pre><code>function frozen()\n{//I do not own this song. Disney owns all copyright to this song.\nlet it= 'go';}\n\nfunction cantholditbackanymore()\n{var sity = 'show';}\n</code></pre>\n\n<p>outside of these functions, \"it\" cannot be accessed. It is literally let go. :3\nOn the other hand I can still go access the Varsity Show. You get what I mean? :)</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 37602745, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>Now I think there is better scoping of variable to block of statement using let.</p>\n\n<pre><code>function printnums()\n{\n    // i is not accessible here\n    for(let i = 0; i &lt;10; i+=)\n    {\n       console.log(i);\n    }\n    // i is not accessible here\n\n    // j is accessible here\n    for(var j = 0; j &lt;10; j++)\n    {\n       console.log(j);\n    }\n    // j is accessible here\n}\n</code></pre>\n\n<p>I think people will start using let here after so that they will have similar scoping in javascript like other languages Java, C#.. etc.</p>\n\n<p>People with not clear understanding about scoping in JavaScript use to make mistake earlier.</p>\n\n<p>hoisting is not supported using let.</p>\n\n<p>With this approach errors present in javascript are getting removed. </p>\n\n<p>Refer following link to understand it better - \n<a href=\"https://hacks.mozilla.org/2015/07/es6-in-depth-let-and-const/\" rel=\"nofollow\">https://hacks.mozilla.org/2015/07/es6-in-depth-let-and-const/</a></p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 38140498, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>let is interesting because it allows us to do something like this:</p>\n\n<pre><code>(() =&gt; {\n    var count = 0;\n\n    for (let i = 0; i &lt; 2; ++i) {\n        for (let i = 0; i &lt; 2; ++i) {\n            for (let i = 0; i &lt; 2; ++i) {\n                console.log(count++);\n            }\n        }\n    }\n})();\n</code></pre>\n\n<p>Which results in counting [0, 7].</p>\n\n<p>Whereas </p>\n\n<pre><code>(() =&gt; {\n    var count = 0;\n\n    for (var i = 0; i &lt; 2; ++i) {\n        for (var i = 0; i &lt; 2; ++i) {\n            for (var i = 0; i &lt; 2; ++i) {\n                console.log(count++);\n            }\n        }\n    }\n})();\n</code></pre>\n\n<p>Only counts [0, 1]</p>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 38257233, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}, {"body": "<p>some hack with let </p>\n\n<p>1.</p>\n\n<pre><code>let statistics = [16, 170, 10];\n            let [age, height, grade] = statistics;\n\n            console.log(height)\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>      let x = 120,\n        y = 12;\n        [x, y] = [y, x];\n        console.log(`x: ${x} y: ${y}`);\n</code></pre>\n\n<p>3.</p>\n\n<pre><code> let node = {\n                    type: \"Identifier\",\n                    name: \"foo\"\n                };\n\n            let { type, name, value } = node;\n\n            console.log(type);      // \"Identifier\"\n            console.log(name);      // \"foo\"\n            console.log(value);     // undefined\n\n\nlet node = {\n        type: \"Identifier\"\n    };\n\nlet { type: localType, name: localName = \"bar\" } = node;\n\nconsole.log(localType);     // \"Identifier\"\nconsole.log(localName);     // \"bar\"\n</code></pre>\n\n<p>Getter and setter with let</p>\n\n<pre><code>let jar = {\nnumberOfCookies: 10,\nget cookies() {\nreturn this.numberOfCookies;\n},\nset cookies(value) {\nthis.numberOfCookies = value;\n}\n};\n\nconsole.log(jar.cookies)\njar.cookies = 7;\n\n\nconsole.log(jar.cookies)\n</code></pre>\n", "title": "&quot;let&quot; keyword vs &quot;var&quot; keyword in Javascript", "answer_id": 38510931, "question_id": 762011, "tags": ["javascript", "keyword", "cross-browser"]}], "question_id": 762011}, {"body": "<p>I'm looking for a good JavaScript equivalent of the C/PHP <code>printf()</code> or for C#/Java programmers, <code>String.Format()</code> (<code>IFormatProvider</code> for .NET).</p>\n\n<p>My basic requirement is a thousand separator format for numbers for now, but something that handles lots of combinations (including dates) would be good.</p>\n\n<p>I realize Microsoft's <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a> library provides a version of <code>String.Format()</code>, but we don't want the entire overhead of that framework.</p>\n", "title": "JavaScript equivalent to printf/string.format", "tags": ["javascript", "printf", "string.format"], "answer_count": 42, "link": "http://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format", "answers": [{"body": "<p>Try <a href=\"https://github.com/alexei/sprintf.js\">sprintf() for JavaScript</a>.</p>\n\n<hr>\n\n<p><strong>Update</strong>\u00a0\u00a0\u00a0\u00a0Ok, if you really want to do a simple format method on your own, don\u2019t do the replacements successively but do them simultaneously.</p>\n\n<p>Because most of the other proposals that are mentioned fail when a replace string of previous replacement does also contain a format sequence like this:</p>\n\n<pre><code>\"{0}{1}\".format(\"{1}\", \"{0}\")\n</code></pre>\n\n<p>Normally you would expect the output to be <code>{1}{0}</code> but the actual output is <code>{1}{1}</code>. So do a simultaneously replacement instead like in <a href=\"http://stackoverflow.com/questions/610406/javascript-printf-string-format/4673436#4673436\">fearphage\u2019s suggestion</a>.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 610415, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>There is \"sprintf\" for JavaScript which you can find at <a href=\"http://www.webtoolkit.info/javascript-sprintf.html\" rel=\"nofollow\">http://www.webtoolkit.info/javascript-sprintf.html</a>.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 610418, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I'll add my own discoveries which I've found since I asked:</p>\n\n<ul>\n<li><a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript%5Fequivalent%5Ffor%5Fphps%5Fnumber%5Fformat/\">number_format (for thousand seperator/currency formatting)</a></li>\n<li><a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript%5Fequivalent%5Ffor%5Fphps%5Fsprintf/\">sprintf (same author as above)</a></li>\n</ul>\n\n<p>Sadly it seems sprintf doesn't handle thousand seperator formatting like .NET's string format.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 610452, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>If you are looking to handle the thousands separator, you should really use toLocaleString() from the JavaScript <a href=\"http://www.hunlock.com/blogs/The_Complete_Javascript_Number_Reference\" rel=\"nofollow\">Number</a> class since it will format the string for the user's region.</p>\n\n<p>The JavaScript <a href=\"http://www.hunlock.com/blogs/Javascript_Dates-The_Complete_Reference\" rel=\"nofollow\">Date</a> class can format localized dates and times.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 610480, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I use a small library called <a href=\"http://www.masterdata.se/r/string%5Fformat%5Ffor%5Fjavascript/\">String.format for JavaScript</a> which supports most of the format string capabilities (including format of numbers and dates), and uses the .NET syntax. The script itself is smaller than 4 kB, so it doesn't create much of overhead.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 1483111, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I use this simple function:</p>\n\n<pre><code>String.prototype.format = function() {\n    var formatted = this;\n    for( var arg in arguments ) {\n        formatted = formatted.replace(\"{\" + arg + \"}\", arguments[arg]);\n    }\n    return formatted;\n};\n</code></pre>\n\n<p>That's very similar to string.format:</p>\n\n<pre><code>\"{0} is dead, but {1} is alive!\".format(\"ASP\", \"ASP.NET\")\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 3492815, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>+1 Zippo with the exception that the function body needs to be as below or otherwise it appends the current string on every iteration:</p>\n\n<pre><code>String.prototype.format = function() {\n    var formatted = this;\n    for (var arg in arguments) {\n        formatted = formatted.replace(\"{\" + arg + \"}\", arguments[arg]);\n    }\n    return formatted;\n};\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 3620861, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>JavaScript programmers can use String.prototype.sprintf at <a href=\"http://code.google.com/p/jsxt/source/browse/trunk/js/String.js\">http://code.google.com/p/jsxt/source/browse/trunk/js/String.js</a>. Below is example:</p>\n\n<pre><code>var d = new Date();\nvar dateStr = '%02d:%02d:%02d'.sprintf(\n    d.getHours(), \n    d.getMinutes(), \n    d.getSeconds());\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 3932473, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>jsxt, Zippo</p>\n\n<p>This option fits better.</p>\n\n<pre><code>String.prototype.format = function() {\n    var formatted = this;\n    for (var i = 0; i &lt; arguments.length; i++) {\n        var regexp = new RegExp('\\\\{'+i+'\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[i]);\n    }\n    return formatted;\n};\n</code></pre>\n\n<p>With this option I can replace strings like these:</p>\n\n<pre><code>'The {0} is dead. Don\\'t code {0}. Code {1} that is open source!'.format('ASP', 'PHP');\n</code></pre>\n\n<p>With your code the second {0} wouldn't be replaced. ;)</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 4256130, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>Building on the previously suggested solutions:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// First, checks if it isn't implemented yet.\nif (!String.prototype.format) {\n  String.prototype.format = function() {\n    var args = arguments;\n    return this.replace(/{(\\d+)}/g, function(match, number) { \n      return typeof args[number] != 'undefined'\n        ? args[number]\n        : match\n      ;\n    });\n  };\n}\n</code></pre>\n\n<p><code>\"{0} is dead, but {1} is alive! {0} {2}\".format(\"ASP\", \"ASP.NET\")</code></p>\n\n<p>outputs</p>\n\n<blockquote>\n  <p>ASP is dead, but ASP.NET is alive! ASP {2}</p>\n</blockquote>\n\n<hr>\n\n<p>If you prefer not to modify <code>String</code>'s prototype:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (!String.format) {\n  String.format = function(format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return format.replace(/{(\\d+)}/g, function(match, number) { \n      return typeof args[number] != 'undefined'\n        ? args[number] \n        : match\n      ;\n    });\n  };\n}\n</code></pre>\n\n<p>Gives you the much more familiar:</p>\n\n<p><code>String.format('{0} is dead, but {1} is alive! {0} {2}', 'ASP', 'ASP.NET');</code></p>\n\n<p>with the same result:</p>\n\n<blockquote>\n  <p>ASP is dead, but ASP.NET is alive! ASP {2}</p>\n</blockquote>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 4673436, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>Here's a <em>minimal</em> implementation of sprintf in JavaScript: it only does \"%s\" and \"%d\", but I have left space for it to be extended. It is useless to the OP, but other people who stumble across this thread coming from Google might benefit from it.</p>\n\n<pre><code>function sprintf() {\n    var args = arguments,\n    string = args[0],\n    i = 1;\n    return string.replace(/%((%)|s|d)/g, function (m) {\n        // m is the matched format, e.g. %s, %d\n        var val = null;\n        if (m[2]) {\n            val = m[2];\n        } else {\n            val = args[i];\n            // A switch statement so that the formatter can be extended. Default is %s\n            switch (m) {\n                case '%d':\n                    val = parseFloat(val);\n                    if (isNaN(val)) {\n                        val = 0;\n                    }\n                    break;\n            }\n            i++;\n        }\n        return val;\n    });\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>alert(sprintf('Latitude: %s, Longitude: %s, Count: %d', 41.847, -87.661, 'two'));\n// Expected output: Latitude: 41.847, Longitude: -87.661, Count: 0\n</code></pre>\n\n<p>In contrast with similar solutions in previous replies, this one does all substitutions <em>in one go</em>, so it will not replace parts of previously replaced values.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 4795914, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>The <a href=\"http://phpjs.org/\" rel=\"nofollow\">PHPJS project</a> has written JavaScript implementations for many of PHP's functions. Since PHP's <code>sprintf()</code> function is basically the same as C's <code>printf()</code>, <a href=\"http://phpjs.org/functions/sprintf\" rel=\"nofollow\">their JavaScript implementation of it</a> should satisfy your needs.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 5676693, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p><code>arg</code> function: </p>\n\n<pre><code>/**\n * Qt stil arg()\n * var scr = \"&lt;div id='%1' class='%2'&gt;&lt;/div&gt;\".arg(\"mydiv\").arg(\"mydivClass\");\n */\nString.prototype.arg = function() {\n    var signIndex = this.indexOf(\"%\");\n    var result = this;\n    if (signIndex &gt; -1 &amp;&amp; arguments.length &gt; 0) {\n        var argNumber = this.charAt(signIndex + 1);\n        var _arg = \"%\"+argNumber;\n        var argCount = this.split(_arg);\n        for (var itemIndex = 0; itemIndex &lt; argCount.length; itemIndex++) {\n            result = result.replace(_arg, arguments[0]);\n        }\n    }\n    return result;\n}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 6333148, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>There is also <code>Globalize.format</code> in the <a href=\"https://github.com/jquery/globalize\" rel=\"nofollow\">jQuery Globalize</a> project, the official globalization service for jQuery UI. IT's nice when you need culture-aware formatting. </p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 6762288, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<h1>Number Formatting in JavaScript</h1>\n\n<p>I got to this question page hoping to find how to <strong>format numbers</strong> in JavaScript, without introducing yet another library.  Here's what I've found:</p>\n\n<h2>Rounding floating-point numbers</h2>\n\n<p>The equivalent of <code>sprintf(\"%.2f\", num)</code> in JavaScript seems to be <code>num.toFixed(2)</code>, which formats <code>num</code> to 2 decimal places, with rounding (but see @ars265's comment about <code>Math.round</code> below).</p>\n\n<pre><code>12.345.toFixed(2); // returns \"12.35\" (rounding!)\n12.3.toFixed(2); // returns \"12.30\" (zero padding)\n</code></pre>\n\n<h2>Exponential form</h2>\n\n<p>The equivalent of <code>sprintf(\"%.2e\", num)</code> is <code>num.toExponential(2)</code>.  </p>\n\n<pre><code>33333 .toExponential(2); // \"3.33e+4\"\n//   ^ Note the space, which keeps the . from being a decimal point.\n//     Leaving out the space is a syntax error :-(\n</code></pre>\n\n<h2>Hexadecimal and other bases</h2>\n\n<p>To print numbers in base B, try <code>num.toString(B)</code>.  JavaScript supports automatic conversion to and from bases 2 through 36 (in addition, some browsers have <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.btoa\">limited support for base64 encoding</a>).</p>\n\n<pre><code>3735928559 .toString(16); // to base 16: \"deadbeef\"\nparseInt(\"deadbeef\", 16); // from base 16: 3735928559\n</code></pre>\n\n<h2>Reference Pages</h2>\n\n<p><a href=\"http://www.mredkj.com/javascript/numberFormat.html\">Quick tutorial on JS number formatting</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed\">Mozilla reference page for toFixed()</a> (with links to toPrecision(), toExponential(), toLocaleString(), ...)</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 7041351, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>Very elegant:</p>\n\n<pre><code>String.prototype.format = function (){\n    var args = arguments;\n    return this.replace(/\\{\\{|\\}\\}|\\{(\\d+)\\}/g, function (curlyBrack, index) {\n        return ((curlyBrack == \"{{\") ? \"{\" : ((curlyBrack == \"}}\") ? \"}\" : args[index]));\n    });\n};\n\n// Usage:\n\"{0}{1}\".format(\"{1}\", \"{0}\")\n</code></pre>\n\n<p>Credit goes to <del><a href=\"http://technoblogia.net/2011/11/08/%D7%98%D7%99%D7%A4-%D7%A4%D7%95%D7%A0%D7%A7%D7%A6%D7%99%D7%99%D7%AA-%D7%A2%D7%96%D7%A8-%D7%91-javascript-%D7%9C%D7%A2%D7%99%D7%A6%D7%95%D7%91-%D7%9E%D7%97%D7%A8%D7%95%D7%96%D7%95%D7%AA/\">(broken link)</a></del> <a href=\"https://gist.github.com/0i0/1519811\">https://gist.github.com/0i0/1519811</a></p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 8463429, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I have a slightly longer formatter for JavaScript <a href=\"https://github.com/tracker1/core-js/blob/master/js-extensions/100-String.format.js\" rel=\"nofollow\">here</a>...  </p>\n\n<p>You can do formatting several ways:</p>\n\n<ul>\n<li><code>String.format(input, args0, arg1, ...)</code></li>\n<li><code>String.format(input, obj)</code></li>\n<li><code>\"literal\".format(arg0, arg1, ...)</code></li>\n<li><code>\"literal\".format(obj)</code></li>\n</ul>\n\n<p>Also, if you have say a ObjectBase.prototype.format (such as with <a href=\"http://www.datejs.com/\" rel=\"nofollow\">DateJS</a>) it will use that.</p>\n\n<p>Examples...</p>\n\n<pre><code>var input = \"numbered args ({0}-{1}-{2}-{3})\";\nconsole.log(String.format(input, \"first\", 2, new Date()));\n//Outputs \"numbered args (first-2-Thu May 31 2012...Time)-{3})\"\n\nconsole.log(input.format(\"first\", 2, new Date()));\n//Outputs \"numbered args(first-2-Thu May 31 2012...Time)-{3})\"\n\nconsole.log(input.format(\n    \"object properties ({first}-{second}-{third:yyyy-MM-dd}-{fourth})\"\n    ,{\n        'first':'first'\n        ,'second':2\n        ,'third':new Date() //assumes Date.prototype.format method\n    }\n));\n//Outputs \"object properties (first-2-2012-05-31-{3})\"\n</code></pre>\n\n<p>I've also aliased with .asFormat and have some detection in place in case there's already a string.format (such as with MS Ajax Toolkit (I hate that library).</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 10845593, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>This one works with {0}, {1} and {}.</p>\n\n<pre><code>String.prototype.format = function format()\n{                                                                                                               \n  var msg = this;\n  for(var i in arguments)\n    msg = msg.replace(/\\{\\}/,arguments[i]).replace(new RegExp('\\\\{'+i+'\\\\}','g'),arguments[i]);\n  return msg;\n}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 12652478, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I did not see the <code>String.format</code> variant:</p>\n\n<pre><code>String.format = function (string) {\n    var args = Array.prototype.slice.call(arguments, 1, arguments.length);\n    return string.replace(/{(\\d+)}/g, function (match, number) {\n        return typeof args[number] != \"undefined\" ? args[number] : match;\n    });\n};\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 12814548, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>One very slightly different version, the one I prefer (this one uses {xxx} tokens rather than {0} numbered arguments, this is much more self-documenting and suits localization much better):</p>\n\n<pre><code>String.prototype.format = function(tokens) {\n  var formatted = this;\n  for (var token in tokens)\n    if (tokens.hasOwnProperty(token))\n      formatted = formatted.replace(RegExp(\"{\" + token + \"}\", \"g\"), tokens[token]);\n  return formatted;\n};\n</code></pre>\n\n<p>A variation would be:</p>\n\n<pre><code>  var formatted = l(this);\n</code></pre>\n\n<p>that calls an l() localization function first.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 12843412, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I want to share my solution for the 'problem'. I haven't re-invented the wheel but tries to find a solution based on what JavaScript already does. The advantage is, that you get all implicit conversions for free. Setting the prototype property $ of String gives a very nice and compact syntax (see examples below). It is maybe not the most efficient way, but in most cases dealing with output it does not have to be super optimized.</p>\n\n<pre><code>String.form = function(str, arr) {\n    var i = -1;\n    function callback(exp, p0, p1, p2, p3, p4) {\n        if (exp=='%%') return '%';\n        if (arr[++i]===undefined) return undefined;\n        var exp  = p2 ? parseInt(p2.substr(1)) : undefined;\n        var base = p3 ? parseInt(p3.substr(1)) : undefined;\n        var val;\n        switch (p4) {\n            case 's': val = arr[i]; break;\n            case 'c': val = arr[i][0]; break;\n            case 'f': val = parseFloat(arr[i]).toFixed(exp); break;\n            case 'p': val = parseFloat(arr[i]).toPrecision(exp); break;\n            case 'e': val = parseFloat(arr[i]).toExponential(exp); break;\n            case 'x': val = parseInt(arr[i]).toString(base?base:16); break;\n            case 'd': val = parseFloat(parseInt(arr[i], base?base:10).toPrecision(exp)).toFixed(0); break;\n        }\n        val = typeof(val)=='object' ? JSON.stringify(val) : val.toString(base);\n        var sz = parseInt(p1); /* padding size */\n        var ch = p1 &amp;&amp; p1[0]=='0' ? '0' : ' '; /* isnull? */\n        while (val.length&lt;sz) val = p0 !== undefined ? val+ch : ch+val; /* isminus? */\n       return val;\n    }\n    var regex = /%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd])/g;\n    return str.replace(regex, callback);\n}\n\nString.prototype.$ = function() {\n    return String.form(this, Array.prototype.slice.call(arguments));\n}\n</code></pre>\n\n<p>Here are a few examples:</p>\n\n<pre><code>String.format(\"%s %s\", [ \"This is a string\", 11 ]))\nconsole.out(\"%s %s\".$(\"This is a string\", 11))\nvar arr = [ \"12.3\", 13.6 ]; console.out(\"Array: %s\".$(arr));\nvar obj = { test:\"test\", id:12 }; console.out(\"Object: %s\".$(obj));\nconsole.out(\"%c\", \"Test\");\nconsole.out(\"%5d\".$(12)); // '   12'\nconsole.out(\"%05d\".$(12)); // '00012'\nconsole.out(\"%-5d\".$(12)); // '12   '\nconsole.out(\"%5.2d\".$(123)); // '  120'\nconsole.out(\"%5.2f\".$(1.1)); // ' 1.10'\nconsole.out(\"%10.2e\".$(1.1)); // '   1.10e+0'\nconsole.out(\"%5.3p\".$(1.12345)); // ' 1.12'\nconsole.out(\"%5x\".$(45054)); // ' affe'\nconsole.out(\"%20#2x\".$(\"45054\")); // '    1010111111111110'\nconsole.out(\"%6#2d\".$(\"111\")); // '     7'\nconsole.out(\"%6#16d\".$(\"affe\")); // ' 45054'\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 13439711, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>You can use this function</p>\n\n<pre><code>            String.prototype.format = function (args) {\n            var str = this;\n            return str.replace(String.prototype.format.regex, function(item) {\n                var intVal = parseInt(item.substring(1, item.length - 1));\n                var replace;\n                if (intVal &gt;= 0) {\n                    replace = args[intVal];\n                } else if (intVal === -1) {\n                    replace = \"{\";\n                } else if (intVal === -2) {\n                    replace = \"}\";\n                } else {\n                    replace = \"\";\n                }\n                return replace;\n            });\n        };\n        String.prototype.format.regex = new RegExp(\"{-?[0-9]+}\", \"g\");\n\n        // Sample usage.\n        var str = \"She {1} {0}{2} by the {0}{3}. {-1}^_^{-2}\";\n        str = str.format([\"sea\", \"sells\", \"shells\", \"shore\"]);\n        alert(str);\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 13697768, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>For use with jQuery.ajax() success functions.  Pass only a single argument and string replace with the properties of that object as {propertyName}:</p>\n\n<pre><code>String.prototype.format = function () {\n    var formatted = this;\n    for (var prop in arguments[0]) {\n        var regexp = new RegExp('\\\\{' + prop + '\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[0][prop]);\n    }\n    return formatted;\n};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var userInfo = (\"Email: {Email} - Phone: {Phone}\").format({ Email: \"someone@somewhere.com\", Phone: \"123-123-1234\" });\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 14640439, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>With sprintf.js in place - one can make a nifty little format-thingy </p>\n\n<pre><code>String.prototype.format = function(){\n    var _args = arguments \n    Array.prototype.unshift.apply(_args,[this])\n    return sprintf.apply(undefined,_args)\n}   \n// this gives you:\n\"{%1$s}{%2$s}\".format(\"1\", \"0\")\n// {1}{0}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 15209456, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>Adding to <code>zippoxer</code>'s answer, I use this function:</p>\n\n<pre><code>String.prototype.format = function(){\n    var a = this, b;\n    for(b in arguments){\n        a = a.replace(/%[a-z]/,arguments[b]);\n    }\n    return a; // Make chainable\n};\n\nvar s = 'Hello %s The magic number is %d.';\ns.format('world!', 12); // Hello World! The magic number is 12.\n</code></pre>\n\n<p>I also have a non-prototype version which I use more often for its Java-like syntax:</p>\n\n<pre><code>function format(){\n    var a,b,c;\n    a = arguments[0];\n    b = [];\n    for(c = 1; c &lt; arguments.length; c++){\n        b.push(arguments[c]);\n    }\n    for(c in b){\n        a = a.replace(/%[a-z]/,b[c]);\n    }\n    return a;\n};\nformat('%d ducks, 55 %s', 12, 'cats'); // 12 ducks, 55 cats\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 15327425, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p><a href=\"http://www.bobjs.com\" rel=\"nofollow\">bobjs</a> can do this:</p>\n\n<pre><code>var sFormat = \"My name is {0} and I am {1} years old.\"; \nvar result = bob.string.formatString(sFormat, \"Bob\", 29); \nconsole.log(result); \n//output: \n//========== \n// My name is Bob and I am 29 years old. \n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 15746133, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<pre><code>String.prototype.repeat = function(n) { \n    return new Array(++n).join(this); \n};\n\nString.prototype.pad = function(requiredLength, paddingStr, paddingType) {    \n    var n = requiredLength - this.length; \n\n    if (n) {\n        paddingType = paddingType ? paddingType.toLowerCase() : '';\n        paddingStr = paddingStr || ' ';\n        paddingStr = paddingStr.repeat( Math.ceil(n / paddingStr.length) ).substr(0, n);\n\n        if (paddingType == 'both') {\n            n /= 2;\n            return paddingStr.substr( 0, Math.ceil(n) ) + this + paddingStr.substr( 0, Math.floor(n) );\n        }   \n\n        if (paddingType == 'left') {\n            return paddingStr + this;\n        }\n\n        return this + paddingStr;\n    } \n\n    return this; \n}; \n\n// \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u0435\u043d printf\n// '\u041f\u0440\u0438\u0432\u0435\u0442, %s!'.format('\u043c\u0438\u0440') -&gt; \"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440!\"\n// '%.1s.%.1s. %s'.format('\u0418\u0432\u0430\u043d', '\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447', '\u0418\u0432\u0430\u043d\u043e\u0432') -&gt; \"\u0418.\u0418. \u0418\u0432\u0430\u043d\u043e\u0432\"\nString.prototype.format = function() {\n    var i = 0, \n        params = arguments;\n\n    return this.replace(/%(?:%|(?:(|[+-]+)(|0|'.+?)([1-9]\\d*)?(?:\\.([1-9]\\d*))?)?(s|d|f))/g, function(match, sign, padding, width, precision, type) {\n        if (match == '%%') { \n            return '%'; \n        }\n\n        var v = params[i++];\n\n        if (type == 'd') { \n            v = Math.round(v); \n        }\n        else if (type == 'f') {\n            v = v.toFixed(precision ? precision : 6);\n        }\n\n        if (/\\+/.test(sign) &amp;&amp; v &gt; 0) {\n            v = '+' + v;\n        }\n\n        v += '';\n\n        if (type != 'f' &amp;&amp; precision) {\n            v = v.substr(0, precision);\n        }\n\n        if (width) {\n            v = v.pad(width, padding == '' ? ' ' : padding[0] == \"'\" ? padding.substr(1) : padding, /-/.test(sign) ? 'right' : 'left'); \n        }\n\n        return v;\n    });\n};\n\n// this.name = '\u0412\u0430\u0441\u044f';\n// console.log( '\u041f\u0440\u0438\u0432\u0435\u0442, ${name}!'.template(this) );\n// \"\u041f\u0440\u0438\u0432\u0435\u0442, \u0412\u0430\u0441\u044f!\"\nString.prototype.template = function(context) {\n    return this.replace(/\\$\\{(.*?)\\}/g, function(match, name) {\n        return context[name];\n    });\n};\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 16200403, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>This is an implementation of <a href=\"http://stackoverflow.com/a/4673436/1258486\">http://stackoverflow.com/a/4673436/1258486</a> for CoffeeScript.</p>\n\n<p><a href=\"https://gist.github.com/eces/5669361\" rel=\"nofollow\">https://gist.github.com/eces/5669361</a></p>\n\n<pre><code>if String.prototype.format is undefined\n  String.prototype.format = () -&gt;\n    _arguments = arguments\n    this.replace /{(\\d+)}/g, (match, number) -&gt;\n      if typeof _arguments[number] isnt 'undefined' then _arguments[number] else match\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 16811507, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I needed a function which could format a price (given in cents) in a way preferred by the user, and the tricky part is that the format is specified by the user -- and I do not expect my users to understand printf-like syntax, or regexps, etc.\nMy solution is somewhat similar to that used in Basic, so the user just marks with # places for digits, for example:</p>\n\n<pre><code>simple_format(1234567,\"$ ###,###,###.##\")\n\"$ 12,345.67\"\nsimple_format(1234567,\"### ### ###,## pln\")\n\"12 345,67 pln\"\n</code></pre>\n\n<p>I believe this is quite easy to understand by user, and quite easy to implement:</p>\n\n<pre><code>function simple_format(integer,format){\n  var text = \"\";\n  for(var i=format.length;i--;){\n    if(format[i]=='#'){\n      text = (integer%10) + text;\n      integer=Math.floor(integer/10);\n      if(integer==0){\n        return format.substr(0,i).replace(/#(.*#)?/,\"\")+text;\n      }\n    }else{\n      text = format[i] + text;\n    }\n  }\n  return text;\n}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 18001537, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>It's funny because Stack&nbsp;Overflow actually has their own formatting function for the <code>String</code> prototype called <code>formatUnicorn</code>. Try it! Go into the console and type something like:</p>\n\n<pre><code>\"Hello, {name}, are you feeling {adjective}?\".formatUnicorn({name:\"Gabriel\", adjective: \"OK\"});\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/jYeIc.png\" alt=\"Firebug\"></p>\n\n<p>You get this output:</p>\n\n<p><code>Hello, Gabriel, are you feeling OK?</code></p>\n\n<p>You can use objects, arrays, and strings as arguments! I got its code and reworked it to produce a new version of <code>String.prototype.format</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (!String.prototype.format) {\n    String.prototype.format = function() {\n        var str = this.toString();\n        if (!arguments.length)\n            return str;\n        var args = typeof arguments[0],\n            args = ((\"string\" == args || \"number\" == args) ? arguments : arguments[0]);\n        for (arg in args)\n            str = str.replace(RegExp(\"\\\\{\" + arg + \"\\\\}\", \"gi\"), args[arg]);\n        return str;\n    }\n}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 18234317, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I use this one:</p>\n\n<pre><code>String.prototype.format = function() {\n    var newStr = this, i = 0;\n    while (/%s/.test(newStr))\n        newStr = newStr.replace(\"%s\", arguments[i++])\n\n    return newStr;\n}\n</code></pre>\n\n<p>Then I call it:</p>\n\n<pre><code>\"&lt;h1&gt;%s&lt;/h1&gt;&lt;p&gt;%s&lt;/p&gt;\".format(\"Header\", \"Just a test!\");\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 22688912, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>For <a href=\"http://en.wikipedia.org/wiki/Node.js\">Node.js</a> users there is <a href=\"http://nodejs.org/api/util.html#util_util_format_format\"><code>util.format</code></a> which has printf-like functionality:</p>\n\n<pre><code>util.format(\"%s world\", \"Hello\")\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 23087471, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I have a solution very close to Peter's, but it deals with number and object case.</p>\n\n<pre><code>if (!String.prototype.format) {\n  String.prototype.format = function() {\n    var args;\n    args = arguments;\n    if (args.length === 1 &amp;&amp; args[0] !== null &amp;&amp; typeof args[0] === 'object') {\n      args = args[0];\n    }\n    return this.replace(/{([^}]*)}/g, function(match, key) {\n      return (typeof args[key] !== \"undefined\" ? args[key] : match);\n    });\n  };\n}\n</code></pre>\n\n<p>Maybe it could be even better to deal with the all deeps cases, but for my needs this is just fine.</p>\n\n<pre><code>\"This is an example from {name}\".format({name:\"Blaine\"});\n\"This is an example from {0}\".format(\"Blaine\");\n</code></pre>\n\n<p>PS: This function is very cool if you are using translations in templates frameworks like <a href=\"http://en.wikipedia.org/wiki/AngularJS\" rel=\"nofollow\">AngularJS</a>:</p>\n\n<pre><code>&lt;h1&gt; {{('hello-message'|translate).format(user)}} &lt;h1&gt;\n&lt;h1&gt; {{('hello-by-name'|translate).format( user ? user.name : 'You' )}} &lt;h1&gt;\n</code></pre>\n\n<p>Where the en.json is something like</p>\n\n<pre><code>{\n    \"hello-message\": \"Hello {name}, welcome.\",\n    \"hello-by-name\": \"Hello {0}, welcome.\"\n}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 23518647, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I didn't see <a href=\"https://www.npmjs.org/package/pyformat\" rel=\"nofollow\">pyformat</a> in the list so I thought I'd throw it in:</p>\n\n<pre><code>console.log(pyformat( 'The {} {} jumped over the {}'\n                , ['brown' ,'fox' ,'foobar']\n                ))\nconsole.log(pyformat('The {0} {1} jumped over the {1}'\n                , ['brown' ,'fox' ,'foobar']\n                ))\nconsole.log(pyformat('The {color} {animal} jumped over the {thing}'\n                , [] ,{color: 'brown' ,animal: 'fox' ,thing: 'foobaz'}\n                ))\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 24942977, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I started porting the <code>Java</code> <code>String.format</code> (actually new Formatter().format()) to javascript. The initial version is available at: </p>\n\n<p><a href=\"https://github.com/RobAu/javascript.string.format\" rel=\"nofollow\">https://github.com/RobAu/javascript.string.format</a></p>\n\n<p>You can simple add the javscript and call <code>StringFormat.format(\"%.2f\", [2.4]);</code> etc.</p>\n\n<p>Please note it is NOT finished yet, but feedback is welcome :) </p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 27890891, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>Just in case someone needs a function to prevent polluting global scope, here is the function that does the same:</p>\n\n<pre><code>  function _format (str, arr) {\n    return str.replace(/{(\\d+)}/g, function (match, number) {\n      return typeof arr[number] != 'undefined' ? arr[number] : match;\n    });\n  };\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 28041517, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>For those who like <a href=\"http://nodejs.org\">Node.JS</a> and its <a href=\"http://nodejs.org/api/util.html#util_util_format_format\"><code>util.format</code></a> feature, I've just extracted it out into its vanilla JavaScript form (with only functions that util.format uses):</p>\n\n<pre><code>exports = {};\n\nfunction isString(arg) {\n    return typeof arg === 'string';\n}\nfunction isNull(arg) {\n    return arg === null;\n}\nfunction isObject(arg) {\n    return typeof arg === 'object' &amp;&amp; arg !== null;\n}\nfunction isBoolean(arg) {\n    return typeof arg === 'boolean';\n}\nfunction isUndefined(arg) {\n    return arg === void 0;\n}\nfunction stylizeNoColor(str, styleType) {\n    return str;\n}\nfunction stylizeWithColor(str, styleType) {\n    var style = inspect.styles[styleType];\n\n    if (style) {\n        return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n            '\\u001b[' + inspect.colors[style][3] + 'm';\n    } else {\n        return str;\n    }\n}\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\nfunction isNumber(arg) {\n    return typeof arg === 'number';\n}\nfunction isSymbol(arg) {\n    return typeof arg === 'symbol';\n}\nfunction formatPrimitive(ctx, value) {\n    if (isUndefined(value))\n        return ctx.stylize('undefined', 'undefined');\n    if (isString(value)) {\n        var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                .replace(/'/g, \"\\\\'\")\n                .replace(/\\\\\"/g, '\"') + '\\'';\n        return ctx.stylize(simple, 'string');\n    }\n    if (isNumber(value)) {\n        // Format -0 as '-0'. Strict equality won't distinguish 0 from -0,\n        // so instead we use the fact that 1 / -0 &lt; 0 whereas 1 / 0 &gt; 0 .\n        if (value === 0 &amp;&amp; 1 / value &lt; 0)\n            return ctx.stylize('-0', 'number');\n        return ctx.stylize('' + value, 'number');\n    }\n    if (isBoolean(value))\n        return ctx.stylize('' + value, 'boolean');\n    // For some reason typeof null is \"object\", so special case here.\n    if (isNull(value))\n        return ctx.stylize('null', 'null');\n    // es6 symbol primitive\n    if (isSymbol(value))\n        return ctx.stylize(value.toString(), 'symbol');\n}\nfunction arrayToHash(array) {\n    var hash = {};\n\n    array.forEach(function (val, idx) {\n        hash[val] = true;\n    });\n\n    return hash;\n}\nfunction objectToString(o) {\n    return Object.prototype.toString.call(o);\n}\nfunction isDate(d) {\n    return isObject(d) &amp;&amp; objectToString(d) === '[object Date]';\n}\nfunction isError(e) {\n    return isObject(e) &amp;&amp;\n        (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nfunction isRegExp(re) {\n    return isObject(re) &amp;&amp; objectToString(re) === '[object RegExp]';\n}\nfunction formatError(value) {\n    return '[' + Error.prototype.toString.call(value) + ']';\n}\nfunction formatPrimitiveNoColor(ctx, value) {\n    var stylize = ctx.stylize;\n    ctx.stylize = stylizeNoColor;\n    var str = formatPrimitive(ctx, value);\n    ctx.stylize = stylize;\n    return str;\n}\nfunction isArray(ar) {\n    return Array.isArray(ar);\n}\nfunction hasOwnProperty(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n    var name, str, desc;\n    desc = Object.getOwnPropertyDescriptor(value, key) || {value: value[key]};\n    if (desc.get) {\n        if (desc.set) {\n            str = ctx.stylize('[Getter/Setter]', 'special');\n        } else {\n            str = ctx.stylize('[Getter]', 'special');\n        }\n    } else {\n        if (desc.set) {\n            str = ctx.stylize('[Setter]', 'special');\n        }\n    }\n    if (!hasOwnProperty(visibleKeys, key)) {\n        name = '[' + key + ']';\n    }\n    if (!str) {\n        if (ctx.seen.indexOf(desc.value) &lt; 0) {\n            if (isNull(recurseTimes)) {\n                str = formatValue(ctx, desc.value, null);\n            } else {\n                str = formatValue(ctx, desc.value, recurseTimes - 1);\n            }\n            if (str.indexOf('\\n') &gt; -1) {\n                if (array) {\n                    str = str.split('\\n').map(function (line) {\n                        return '  ' + line;\n                    }).join('\\n').substr(2);\n                } else {\n                    str = '\\n' + str.split('\\n').map(function (line) {\n                        return '   ' + line;\n                    }).join('\\n');\n                }\n            }\n        } else {\n            str = ctx.stylize('[Circular]', 'special');\n        }\n    }\n    if (isUndefined(name)) {\n        if (array &amp;&amp; key.match(/^\\d+$/)) {\n            return str;\n        }\n        name = JSON.stringify('' + key);\n        if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n            name = name.substr(1, name.length - 2);\n            name = ctx.stylize(name, 'name');\n        } else {\n            name = name.replace(/'/g, \"\\\\'\")\n                .replace(/\\\\\"/g, '\"')\n                .replace(/(^\"|\"$)/g, \"'\")\n                .replace(/\\\\\\\\/g, '\\\\');\n            name = ctx.stylize(name, 'string');\n        }\n    }\n\n    return name + ': ' + str;\n}\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n    var output = [];\n    for (var i = 0, l = value.length; i &lt; l; ++i) {\n        if (hasOwnProperty(value, String(i))) {\n            output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n                String(i), true));\n        } else {\n            output.push('');\n        }\n    }\n    keys.forEach(function (key) {\n        if (!key.match(/^\\d+$/)) {\n            output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n                key, true));\n        }\n    });\n    return output;\n}\nfunction reduceToSingleString(output, base, braces) {\n    var length = output.reduce(function (prev, cur) {\n        return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n    }, 0);\n\n    if (length &gt; 60) {\n        return braces[0] +\n            (base === '' ? '' : base + '\\n ') +\n            ' ' +\n            output.join(',\\n  ') +\n            ' ' +\n            braces[1];\n    }\n\n    return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\nfunction formatValue(ctx, value, recurseTimes) {\n    // Provide a hook for user-specified inspect functions.\n    // Check that value is an object with an inspect function on it\n    if (ctx.customInspect &amp;&amp;\n        value &amp;&amp;\n        isFunction(value.inspect) &amp;&amp;\n            // Filter out the util module, it's inspect function is special\n        value.inspect !== exports.inspect &amp;&amp;\n            // Also filter out any prototype objects using the circular check.\n        !(value.constructor &amp;&amp; value.constructor.prototype === value)) {\n        var ret = value.inspect(recurseTimes, ctx);\n        if (!isString(ret)) {\n            ret = formatValue(ctx, ret, recurseTimes);\n        }\n        return ret;\n    }\n\n    // Primitive types cannot have properties\n    var primitive = formatPrimitive(ctx, value);\n    if (primitive) {\n        return primitive;\n    }\n\n    // Look up the keys of the object.\n    var keys = Object.keys(value);\n    var visibleKeys = arrayToHash(keys);\n\n    if (ctx.showHidden) {\n        keys = Object.getOwnPropertyNames(value);\n    }\n\n    // This could be a boxed primitive (new String(), etc.), check valueOf()\n    // NOTE: Avoid calling `valueOf` on `Date` instance because it will return\n    // a number which, when object has some additional user-stored `keys`,\n    // will be printed out.\n    var formatted;\n    var raw = value;\n    try {\n        // the .valueOf() call can fail for a multitude of reasons\n        if (!isDate(value))\n            raw = value.valueOf();\n    } catch (e) {\n        // ignore...\n    }\n\n    if (isString(raw)) {\n        // for boxed Strings, we have to remove the 0-n indexed entries,\n        // since they just noisey up the output and are redundant\n        keys = keys.filter(function (key) {\n            return !(key &gt;= 0 &amp;&amp; key &lt; raw.length);\n        });\n    }\n\n    // Some type of object without properties can be shortcutted.\n    if (keys.length === 0) {\n        if (isFunction(value)) {\n            var name = value.name ? ': ' + value.name : '';\n            return ctx.stylize('[Function' + name + ']', 'special');\n        }\n        if (isRegExp(value)) {\n            return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n        }\n        if (isDate(value)) {\n            return ctx.stylize(Date.prototype.toString.call(value), 'date');\n        }\n        if (isError(value)) {\n            return formatError(value);\n        }\n        // now check the `raw` value to handle boxed primitives\n        if (isString(raw)) {\n            formatted = formatPrimitiveNoColor(ctx, raw);\n            return ctx.stylize('[String: ' + formatted + ']', 'string');\n        }\n        if (isNumber(raw)) {\n            formatted = formatPrimitiveNoColor(ctx, raw);\n            return ctx.stylize('[Number: ' + formatted + ']', 'number');\n        }\n        if (isBoolean(raw)) {\n            formatted = formatPrimitiveNoColor(ctx, raw);\n            return ctx.stylize('[Boolean: ' + formatted + ']', 'boolean');\n        }\n    }\n\n    var base = '', array = false, braces = ['{', '}'];\n\n    // Make Array say that they are Array\n    if (isArray(value)) {\n        array = true;\n        braces = ['[', ']'];\n    }\n\n    // Make functions say that they are functions\n    if (isFunction(value)) {\n        var n = value.name ? ': ' + value.name : '';\n        base = ' [Function' + n + ']';\n    }\n\n    // Make RegExps say that they are RegExps\n    if (isRegExp(value)) {\n        base = ' ' + RegExp.prototype.toString.call(value);\n    }\n\n    // Make dates with properties first say the date\n    if (isDate(value)) {\n        base = ' ' + Date.prototype.toUTCString.call(value);\n    }\n\n    // Make error with message first say the error\n    if (isError(value)) {\n        base = ' ' + formatError(value);\n    }\n\n    // Make boxed primitive Strings look like such\n    if (isString(raw)) {\n        formatted = formatPrimitiveNoColor(ctx, raw);\n        base = ' ' + '[String: ' + formatted + ']';\n    }\n\n    // Make boxed primitive Numbers look like such\n    if (isNumber(raw)) {\n        formatted = formatPrimitiveNoColor(ctx, raw);\n        base = ' ' + '[Number: ' + formatted + ']';\n    }\n\n    // Make boxed primitive Booleans look like such\n    if (isBoolean(raw)) {\n        formatted = formatPrimitiveNoColor(ctx, raw);\n        base = ' ' + '[Boolean: ' + formatted + ']';\n    }\n\n    if (keys.length === 0 &amp;&amp; (!array || value.length === 0)) {\n        return braces[0] + base + braces[1];\n    }\n\n    if (recurseTimes &lt; 0) {\n        if (isRegExp(value)) {\n            return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n        } else {\n            return ctx.stylize('[Object]', 'special');\n        }\n    }\n\n    ctx.seen.push(value);\n\n    var output;\n    if (array) {\n        output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n    } else {\n        output = keys.map(function (key) {\n            return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n        });\n    }\n\n    ctx.seen.pop();\n\n    return reduceToSingleString(output, base, braces);\n}\nfunction inspect(obj, opts) {\n    // default options\n    var ctx = {\n        seen: [],\n        stylize: stylizeNoColor\n    };\n    // legacy...\n    if (arguments.length &gt;= 3) ctx.depth = arguments[2];\n    if (arguments.length &gt;= 4) ctx.colors = arguments[3];\n    if (isBoolean(opts)) {\n        // legacy...\n        ctx.showHidden = opts;\n    } else if (opts) {\n        // got an \"options\" object\n        exports._extend(ctx, opts);\n    }\n    // set default options\n    if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n    if (isUndefined(ctx.depth)) ctx.depth = 2;\n    if (isUndefined(ctx.colors)) ctx.colors = false;\n    if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n    if (ctx.colors) ctx.stylize = stylizeWithColor;\n    return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n    'bold': [1, 22],\n    'italic': [3, 23],\n    'underline': [4, 24],\n    'inverse': [7, 27],\n    'white': [37, 39],\n    'grey': [90, 39],\n    'black': [30, 39],\n    'blue': [34, 39],\n    'cyan': [36, 39],\n    'green': [32, 39],\n    'magenta': [35, 39],\n    'red': [31, 39],\n    'yellow': [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n    'special': 'cyan',\n    'number': 'yellow',\n    'boolean': 'yellow',\n    'undefined': 'grey',\n    'null': 'bold',\n    'string': 'green',\n    'symbol': 'green',\n    'date': 'magenta',\n    // \"name\": intentionally not styling\n    'regexp': 'red'\n};\n\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function (f) {\n    if (!isString(f)) {\n        var objects = [];\n        for (var j = 0; j &lt; arguments.length; j++) {\n            objects.push(inspect(arguments[j]));\n        }\n        return objects.join(' ');\n    }\n\n    var i = 1;\n    var args = arguments;\n    var len = args.length;\n    var str = String(f).replace(formatRegExp, function (x) {\n        if (x === '%%') return '%';\n        if (i &gt;= len) return x;\n        switch (x) {\n            case '%s':\n                return String(args[i++]);\n            case '%d':\n                return Number(args[i++]);\n            case '%j':\n                try {\n                    return JSON.stringify(args[i++]);\n                } catch (_) {\n                    return '[Circular]';\n                }\n            default:\n                return x;\n        }\n    });\n    for (var x = args[i]; i &lt; len; x = args[++i]) {\n        if (isNull(x) || !isObject(x)) {\n            str += ' ' + x;\n        } else {\n            str += ' ' + inspect(x);\n        }\n    }\n    return str;\n};\n</code></pre>\n\n<p>Harvested from: <a href=\"https://github.com/joyent/node/blob/master/lib/util.js\">https://github.com/joyent/node/blob/master/lib/util.js</a></p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 28103202, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>I'm surprised no one used <code>reduce</code>, this is a native JavaScript way of doing things, is very concise and powerful.</p>\n\n<pre><code>var _r=function(p,c){return p.replace(/%s/,c);}\n\nvar x = [\"a\", \"b\", \"c\"].reduce(_r, \"[%s], [%s] and [%s]\"); // [a], [b] and [c]\n\nvar y = [1, 2, 3].reduce(_r, \"%s+%s=%s\"); // 1+2=3\n\nvar z = [\"cool\", 1337, \"stuff\"].reduce(_r, \"%s %s %s\"); // cool 1337 stuff\n</code></pre>\n\n<p>Edit: here is a function that you can insert anywhere to do replace.</p>\n\n<pre><code>function interpolate(theString, argumentArray) {\n    var regex = /%s/;\n    var _r=function(p,c){return p.replace(regex,c);}\n    return argumentArray.reduce(_r, theString);\n}\n\ninterpolate(\"%s, %s and %s\", [\"Me\", \"myself\", \"I\"]); // \"Me, myself and I\"\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 31007976, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>From ES6 on you could use <strong>template strings</strong>:</p>\n\n<pre><code>let soMany = 10;\nconsole.log(`This is ${soMany} times easier!`);\n// \"This is 10 times easier!\n</code></pre>\n\n<p>Be aware that template strings are <strong>surrounded by backticks</strong> ` instead of (single) quotes.</p>\n\n<p>For further information:</p>\n\n<p><a href=\"https://developers.google.com/web/updates/2015/01/ES6-Template-Strings\" rel=\"nofollow\">https://developers.google.com/web/updates/2015/01/ES6-Template-Strings</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings</a></p>\n\n<p><em>Note:\nCheck the mozilla-site to find a list of supported browsers.</em></p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 32202320, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>For basic formatting: </p>\n\n<pre><code>var template = jQuery.validator.format(\"{0} is not a valid value\");\nvar result = template(\"abc\");\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 34158202, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<pre><code>/**\n * Format string by replacing placeholders with value from element with\n * corresponsing index in `replacementArray`.\n * Replaces are made simultaneously, so that replacement values like\n * '{1}' will not mess up the function.\n *\n * Example 1:\n * ('{2} {1} {0}', ['three', 'two' ,'one']) -&gt; 'one two three'\n *\n * Example 2:\n * ('{0}{1}', ['{1}', '{0}']) -&gt; '{1}{0}'\n */\nfunction stringFormat(formatString, replacementArray) {\n    return formatString.replace(\n        /\\{(\\d+)\\}/g, // Matches placeholders, e.g. '{1}'\n        function formatStringReplacer(match, placeholderIndex) {\n            // Convert String to Number\n            placeholderIndex = Number(placeholderIndex);\n\n            // Make sure that index is within replacement array bounds\n            if (placeholderIndex &lt; 0 ||\n                placeholderIndex &gt; replacementArray.length - 1\n            ) {\n                return placeholderIndex;\n            }\n\n            // Replace placeholder with value from replacement array\n            return replacementArray[placeholderIndex];\n        }\n    );\n}\n</code></pre>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 34571216, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}, {"body": "<p>This is not an exact duplicate of <code>sprintf</code>; however, it is similar and more powerful: <a href=\"https://github.com/anywhichway/stringformatter\" rel=\"nofollow\">https://github.com/anywhichway/stringformatter</a></p>\n\n<p>Format expressions using this library take the form of embedded Javascript objects, e.g.</p>\n\n<pre><code>format(\"I have {number: {currency: \"$\", precision:2}}.\",50.2); \n</code></pre>\n\n<p>will return <code>\"I have $50.20.\"</code>.</p>\n", "title": "JavaScript equivalent to printf/string.format", "answer_id": 34976934, "question_id": 610406, "tags": ["javascript", "printf", "string.format"]}], "question_id": 610406}, {"body": "<p>What is the scope of variables in javascript? Do they have the same scope inside as opposed to outside a function? Or does it even matter? Also, where are the variables stored if they are defined globally?</p>\n", "title": "What is the scope of variables in JavaScript?", "tags": ["javascript", "variables", "scope"], "answer_count": 19, "link": "http://stackoverflow.com/questions/500431/what-is-the-scope-of-variables-in-javascript", "answers": [{"body": "<p>Variables declared globally have a global scope. Variables declared within a function are scoped to that function, and shadow global variables of the same name.</p>\n\n<p>(I'm sure there are many subtleties that real JavaScript programmers will be able to point out in other answers. In particular I came across <a href=\"http://www.digital-web.com/articles/scope_in_javascript/\">this page</a> about what exactly <code>this</code> means at any time. Hopefully <a href=\"http://bowles.byethost3.com/javascript/section6/lesson6.htm#part4\">this more introductory link</a> is enough to get you started though.)</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 500435, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>Javascript uses scope chains to establish the scope for a given function. There is typically one global scope, and each function defined has its own nested scope. Any function defined within another function has a local scope which is linked to the outer function. It's always the position in the source that defines the scope.</p>\n\n<p>An element in the scope chain is basically a Map with a pointer to its parent scope.</p>\n\n<p>When resolving a variable, javascript starts at the innermost scope and searches outwards.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 500438, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>Here's an example:</p>\n\n<pre><code>&lt;script&gt;\n\nvar globalVariable = 7; //==window.globalVariable\n\nfunction aGlobal( param ) { //==window.aGlobal(); \n                            //param is only accessible in this function\n  var scopedToFunction = {\n    //can't be accessed outside of this function\n\n    nested : 3 //accessible by: scopedToFunction.nested\n  };\n\n  anotherGlobal = {\n    //global because there's no `var`\n  }; \n\n}\n\n&lt;/script&gt;\n</code></pre>\n\n<p>You'll want to investigate closures, and how to use them to make <a href=\"http://www.crockford.com/javascript/private.html\">private members</a>.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 500446, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>I think about the best I can do is give you a bunch of examples to study.\nJavascript programmers are practically ranked by how well they understand scope.\nIt can at times be quite counter-intuitive.</p>\n\n<ol>\n<li><p><strong>A globally-scoped variable</strong></p>\n\n<pre><code>var a = 1;\n\n// global scope\nfunction one() {\n  alert(a); // alerts '1'\n}\n</code></pre></li>\n<li><p><strong>Local scope</strong></p>\n\n<pre><code>var a = 1;\n\nfunction two(a) {\n  alert(a); // alerts the given argument, not the global value of '1'\n}\n\n// local scope again\nfunction three() {\n  var a = 3;\n  alert(a); // alerts '3'\n}\n</code></pre></li>\n<li><p><strong>Intermediate</strong>: <em>No such thing as block scope in JavaScript</em> (ES5; ES6 introduces <code>let</code>)</p>\n\n<pre><code>var a = 1;\n\nfunction four() {\n  if (true) {\n    var a = 4;\n  }\n\n  alert(a); // alerts '4', not the global value of '1'\n}\n</code></pre></li>\n<li><p><strong>Intermediate</strong>: <em>Object properties</em></p>\n\n<pre><code>var a = 1;\n\nfunction five() {\n  this.a = 5;\n}\n\nalert(new five().a); // alerts '5'\n</code></pre></li>\n<li><p><strong>Advanced</strong>: <em>Closure</em></p>\n\n<pre><code>var a = 1;\n\nvar six = (function() {\n  var a = 6;\n\n  return function() {\n    // JavaScript \"closure\" means I have access to 'a' in here,\n    // because it is defined in the function in which I was defined.\n    alert(a); // alerts '6'\n  };\n})();\n</code></pre></li>\n<li><p><strong>Advanced</strong>: <em>Prototype-based scope resolution</em></p>\n\n<pre><code>var a = 1;\n\nfunction seven() {\n  this.a = 7;\n}\n\n// [object].prototype.property loses to\n// [object].property in the lookup chain. For example...\n\n// Won't get reached, because 'a' is set in the constructor above.\nseven.prototype.a = -1;\n\n// Will get reached, even though 'b' is NOT set in the constructor.\nseven.prototype.b = 8;\n\nalert(new seven().a); // alerts '7'\nalert(new seven().b); // alerts '8'\n</code></pre>\n\n<hr></li>\n<li><p><strong>Global+Local</strong>: <em>An extra complex Case</em></p>\n\n<pre><code>var x = 5;\n\n(function () {\n    console.log(x);\n    var x = 10;\n    console.log(x); \n})();\n</code></pre>\n\n<p>This will print out <code>undefined</code> and <code>10</code> rather than <code>5</code> and <code>10</code> since JavaScript always moves variable declarations (not initializations) to the top of the scope, making the code equivalent to:</p>\n\n<pre><code>var x = 5;\n\n(function () {\n    var x;\n    console.log(x);\n    x = 10;\n    console.log(x); \n})();\n</code></pre></li>\n<li><p><strong>Catch clause-scoped variable</strong></p>\n\n<pre><code>var e = 5;\nconsole.log(e);\ntry {\n    throw 6;\n} catch (e) {\n    console.log(e);\n}\nconsole.log(e);\n</code></pre>\n\n<p>This will print out <code>5</code>, <code>6</code>, <code>5</code>. Inside the catch clause <code>e</code> shadows global and local variables. But this special scope is only for the caught variable. If you write <code>var f;</code> inside the catch clause, then it's exactly the same as if you had defined it before or after the try-catch block.</p></li>\n</ol>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 500459, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>In \"Javascript 1.7\" (Mozilla's extension to Javascript) one can also declare block-scope variables with <a href=\"https://developer.mozilla.org/en/New_in_JavaScript_1.7#section_11\"><code>let</code> statement</a>:</p>\n\n<pre><code> var a = 4;\n let (a = 3) {\n   alert(a); // 3\n }\n alert(a);   // 4\n</code></pre>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 2584356, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>The key, as I understand it, is that Javascript has function level scoping vs the more common C block scoping.</p>\n\n<p><a href=\"http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting\">Here is a good article on the subject.</a></p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 10605984, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>I found that many people new to JavaScript have trouble understanding that inheritance is available by default in the language and that function scope is the only scope, so far. I provided an extension to a beautifier I wrote at the end of last year called JSPretty. The feature colors function scope in the code and always associates a color to all variables declared in that scope. Closure is visually demonstrated when a variable with a color from one scope is used in a different scope.</p>\n\n<p>Try the feature at:</p>\n\n<ul>\n<li><a href=\"http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope\">http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope</a></li>\n</ul>\n\n<p>See a demo at:</p>\n\n<ul>\n<li><a href=\"http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope&amp;s=http://prettydiff.com/lib/markup_beauty.js\">http://prettydiff.com/jspretty.xhtml?c=white&amp;jsscope&amp;s=http://prettydiff.com/lib/markup_beauty.js</a></li>\n</ul>\n\n<p>View the code at:</p>\n\n<ul>\n<li><a href=\"http://prettydiff.com/lib/jspretty.js\">http://prettydiff.com/lib/jspretty.js</a></li>\n<li><a href=\"https://github.com/austincheney/Pretty-Diff/blob/master/lib/jspretty.js\">https://github.com/austincheney/Pretty-Diff/blob/master/lib/jspretty.js</a></li>\n</ul>\n\n<p>Currently the feature offers support for a depth of 16 nested functions, but currently does not color global variables.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 15554279, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>Try this curious example. In the example below if a were a numeric initialized at 0, you'd see 0 and then 1. Except a is an object and javascript will pass f1 a pointer of a rather than a copy of it. The result is that you get the same alert both times.</p>\n\n<pre><code>var a = new Date();\nfunction f1(b)\n{\n    b.setDate(b.getDate()+1);\n    alert(b.getDate());\n}\nf1(a);\nalert(a.getDate());\n</code></pre>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 18164607, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>1) There is a global scope, a function scope, and the with and catch scopes. There is no 'block' level scope in general for variable's -- the with and the catch statements add names to their blocks.</p>\n\n<p>2) Scopes are nested by functions all the way to the global scope.</p>\n\n<p>3) Properties are resolved by going through the prototype chain.  The with statement brings object property names into the lexical scope defined by the with block.</p>\n\n<p>EDIT: ECMAAScript 6 (Harmony) is spec'ed to support let, and I know chrome allows a 'harmony' flag, so perhaps it does support it..</p>\n\n<p>Let would be a support for block level scoping, but you have to use the keyword to make it happen.</p>\n\n<p>EDIT: Based on Benjamin's pointing out of the with and catch statements in the comments, I've edited the post, and added more.  Both the with and the catch statements introduce variables into their respective blocks, and that <em>is</em> a block scope. These variables are aliased to the properties of the objects passed into them.</p>\n\n<pre><code> //chrome (v8)\n\n var a = { 'test1':'test1val' }\n test1   // error not defined\n with (a) { var test1 = 'replaced' }\n test1   // undefined\n a       // a.test1 = 'replaced'\n</code></pre>\n\n<p>EDIT: Clarifying example:</p>\n\n<p>test1 is scoped to the with block, but is aliased to a.test1.  'Var test1' creates a new variable test1 in the upper lexical context (function, or global), unless it is a property of a -- which it is. </p>\n\n<p>Yikes!  Be careful using 'with' -- just like var is a noop if the variable is already defined in the function, it is also a noop with respect to names imported from the object!  A little heads up on the name already being defined would make this much safer.  I personally will never use with because of this.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 19579213, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<h2>Global Scope :</h2>\n\n<p>Global variables are exactly like global stars (Jackie Chan, Nelson Mandela). You can access them (get or set the value), from any part of your application. Global functions are like global events (New Year, Christmas). You can execute (call) them from any part of your application.</p>\n\n<pre><code>//global variable\nvar a = 2;\n\n//global function\nfunction b(){\n   console.log(a);  //access global variable\n}\n</code></pre>\n\n<h2>Local Scope :</h2>\n\n<p>If you are in the USA, you may know Kim Kardashian, infamous celebrity ( she somehow manages to make the tabloids). But people outside of the USA will not recognize her. She is a local star, bound to her territory.</p>\n\n<p>Local variables are like local stars. You can only access them (get or set the value) inside the scope. A local function is like local events - you can execute only (celebrate) inside that scope. If you want to access them from outside of the scope, you will get a reference error</p>\n\n<pre><code>function b(){\n   var d = 21; //local variable\n   console.log(d);\n\n   function dog(){  console.log(a); }\n     dog(); //execute local function\n}\n\n console.log(d); //ReferenceError: dddddd is not defined    \n</code></pre>\n\n<hr>\n\n<p><a href=\"http://www.thatjsdude.com/jsConcepts/concepts/scope.html\" rel=\"nofollow\">Check this article for in-depth understanding of scope</a> </p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 24388896, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>JavaScript have only two type of scope : </p>\n\n<ol>\n<li><strong>Global Scope</strong> : Global is nothing but a window level scope.Here, variable present throughout the application.</li>\n<li><strong>Functional Scope</strong> : Variable declared within a function with <code>var</code> keyword has functional scope.</li>\n</ol>\n\n<p><em>Whenever a function is called, a variable scope object is created (and included in scope chain) which is followed by variables in JavaScript.</em></p>\n\n<pre><code>        a = \"global\";\n         function outer(){ \n              b = \"local\";\n              console.log(a+b); //\"globallocal\"\n         }\nouter();\n</code></pre>\n\n<p>Scope chain -->  </p>\n\n<ol>\n<li>Window level - <code>a</code> and <code>outer</code> function are at top level in scope chain.</li>\n<li>when outer function called a new <code>variable scope object</code>(and included in scope chain) added with variable <code>b</code> inside it.</li>\n</ol>\n\n<p>Now when a variable <code>a</code> required it first searches for nearest variable scope and if variable is not there than it move's to next object of variable scope chain.which is in this case is window level.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 25963672, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>run the code. hope this will give an idea about scoping </p>\n\n<pre><code>Name = 'global data';\ndocument.Name = 'current document data';\n(function(window,document){\nvar Name = 'local data';\nvar myObj = {\n    Name: 'object data',\n    f: function(){\n        alert(this.Name);\n    }\n};\n\nmyObj.newFun = function(){\n    alert(this.Name);\n}\n\nfunction testFun(){\n    alert(\"Window Scope : \" + window.Name + \n          \"\\nLocal Scope : \" + Name + \n          \"\\nObject Scope : \" + this.Name + \n          \"\\nCurrent document Scope : \" + document.Name\n         );\n}\n\n\ntestFun.call(myObj);\n})(window,document);\n</code></pre>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 26438460, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>Global: variable declared outside of a function</p>\n\n<p>Local: variable declared inside a function, and can only be called in that scope</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 27758781, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>There are only function scopes in JS. Not block scopes!\nYou can see what is hoisting too.</p>\n\n<pre><code>var global_variable = \"global_variable\";\nvar hoisting_variable = \"global_hoist\";\n\n// Global variables printed\nconsole.log(\"global_scope: - global_variable: \" + global_variable);\nconsole.log(\"global_scope: - hoisting_variable: \" + hoisting_variable);\n\nif (true) {\n    // The variable block will be global, on true condition.\n    var block = \"block\";\n}\nconsole.log(\"global_scope: - block: \" + block);\n\nfunction local_function() {\n    var local_variable = \"local_variable\";\n    console.log(\"local_scope: - local_variable: \" + local_variable);\n    console.log(\"local_scope: - global_variable: \" + global_variable);\n    console.log(\"local_scope: - block: \" + block);\n    // The hoisting_variable is undefined at the moment.\n    console.log(\"local_scope: - hoisting_variable: \" + hoisting_variable);\n\n    var hoisting_variable = \"local_hoist\";\n    // The hoisting_variable is now set as a local one.\n    console.log(\"local_scope: - hoisting_variable: \" + hoisting_variable);\n}\n\nlocal_function();\n\n// No variable in a separate function is visible into the global scope.\nconsole.log(\"global_scope: - local_variable: \" + local_variable);\n</code></pre>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 31360202, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>The idea of scoping in JavaScript when originally designed by <a href=\"https://en.wikipedia.org/wiki/Brendan_Eich\">Brendan Eich</a> came from the <a href=\"https://en.wikipedia.org/wiki/HyperCard\">HyperCard</a> scripting language <a href=\"https://en.wikipedia.org/wiki/HyperTalk\">HyperTalk</a>. </p>\n\n<p>In this language, the displays were done similar to a stack of index cards. There was a master card referred to as the background. It was transparent and can be seen as the bottom card. Any content on this base card was shared with cards placed on top of it. Each card placed on top had its own content which took precedence over the previous card, but still had access to the prior cards if desired.</p>\n\n<p>This is exactly how the JavaScript scoping system is designed. It just has different names. The cards in JavaScript are known as <strong><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-10.3\">Execution Contexts<sup>ECMA</sup></a></strong>. Each one of these contexts contains three main parts. A variable environment, a lexical environment, and a this binding. Going back to the cards reference, the lexical environment contains all of the content from prior cards lower in the stack. The current context is at the top of the stack and any content declared there will be stored in the variable environment. The variable environment will take precedence in the case of naming collisions.</p>\n\n<p>The this binding will point to the containing object. Sometimes scopes or execution contexts change without the containing object changing, such as in a declared function where the containing object may be <code>window</code> or a constructor function.</p>\n\n<p>These execution contexts are created any time control is transferred. Control is transferred when code begins to execute, and this is primarily done from function execution. </p>\n\n<p>So that is the technical explanation. In practice, it is important to remember that in JavaScript</p>\n\n<ul>\n<li>Scopes are technically \"Execution Contexts\"</li>\n<li>Contexts form a stack of environments where variables are stored</li>\n<li>The top of the stack takes precedence (the bottom being the global context)</li>\n<li>Each function creates an execution context (but not always a new this binding)</li>\n</ul>\n\n<p>Applying this to one of the previous examples (5. \"Closure\") on this page, it is possible to follow the stack of execution contexts. In this example there are three contexts in the stack. They are defined by the outer context, the context in the immediately invoked function called by var six, and the context in the returned function inside of var six's immediately invoked function.</p>\n\n<p><em>i</em>) The outer context. It has a variable environment of a = 1<br>\n <em>ii</em>) The IIFE context, it has a lexical environment of a = 1, but a variable environment of a = 6 which takes precedence in the stack<br>\n <em>iii</em>) The returned function context, it has a lexical environment of a = 6 and that is the value referenced in the alert when called.</p>\n\n<p><a href=\"http://i.stack.imgur.com/v45hL.png\"><img src=\"http://i.stack.imgur.com/v45hL.png\" alt=\"enter image description here\"></a></p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 32573386, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>There are two types of scopes in JavaScript. </p>\n\n<ol>\n<li><p><strong>Global scope</strong>: variable which is announced in global scope can be used anywhere in the program very smoothly. For example: </p>\n\n<pre><code>var carName = \" BMW\";\n\n// code here can use carName\n\nfunction myFunction() {\n     // code here can use carName \n}\n</code></pre></li>\n<li><p><strong>Functional scope or Local scope</strong>: variable declared in this scope can be used in its own function only. For example:</p>\n\n<pre><code>// code here can not use carName\nfunction myFunction() {\n   var carName = \"BMW\";\n   // code here can use carName\n}\n</code></pre></li>\n</ol>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 32875339, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>There are ALMOST only two types of JavaScript scopes:</p>\n\n<ul>\n<li>the scope of each var declaration is associated with the most immediately enclosing function</li>\n<li>if there is no enclosing function for a var declaration, it is global scope</li>\n</ul>\n\n<p>So, any blocks other than functions do not create a new scope. That explains why for-loops overwrite outer scoped variables:</p>\n\n<pre><code>var i = 10, v = 10;\nfor (var i = 0; i &lt; 5; i++) { var v = 5; }\nconsole.log(i, v);\n// output 5 5\n</code></pre>\n\n<p>Using functions instead:</p>\n\n<pre><code>var i = 10, v = 10;\n$.each([0, 1, 2, 3, 4], function(i) { var v = 5; });\nconsole.log(i,v);\n// output 10 10\n</code></pre>\n\n<p>In the first example, there was no block scope, so the initially declared variables were overwritten. In the second example, there was a new scope due to the function, so the initially declared variables were SHADOWED, and not overwritten.</p>\n\n<p>That's almost all you need to know in terms of JavaScript scoping, except:</p>\n\n<ul>\n<li>try/catch introduce new scope ONLY for the exception variable itself, other variables do not have new scope</li>\n<li>with-clause apparently is another exception, but using with-clause it highly discouraged (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with</a>)</li>\n</ul>\n\n<p>So you can see JavaScript scoping is actually extremely simple, albeit not always intuitive. A few things to be aware of:</p>\n\n<ul>\n<li>var declarations are hoisted to the top of the scope. This means no matter where the var declaration happens, to the compiler it is as if the var itself happens at the top</li>\n<li>multiple var declarations within the same scope are combined</li>\n</ul>\n\n<p>So this code:</p>\n\n<pre><code>var i = 1;\nfunction abc() {\n  i = 2;\n  var i = 3;\n}\nconsole.log(i);     // outputs 1\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>var i = 1;\nfunction abc() {\n  var i;     // var declaration moved to the top of the scope\n  i = 2;\n  i = 3;     // the assignment stays where it is\n}\nconsole.log(i);\n</code></pre>\n\n<p>This may seem counter intuitive, but it makes sense from the perspective of a imperative language designer.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 33419378, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<h1>Old school JavaScript</h1>\n\n<p>Traditionally, JavaScript really only has two types of scope : </p>\n\n<ol>\n<li><strong>Global Scope</strong> : Variables are known throughout the application, from the moment they are declared onwards</li>\n<li><strong>Functional Scope</strong> : Variables are known within <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function\"><strong>the function</strong></a> they are declared in, from the moment they are declared onwards</li>\n</ol>\n\n<p>I will not elaborate on this, since there are already many other answers explaining the difference.</p>\n\n<hr>\n\n<h1>Modern JavaScript</h1>\n\n<p>The most recent JavaScript specs now also allow a third scope :</p>\n\n<ol start=\"3\">\n<li><strong>Block Scope</strong> : Variables are known within <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/block\"><strong>the block</strong></a> they are declared in, from the moment they are declared onwards</li>\n</ol>\n\n<hr>\n\n<h3>How do I create block scope variables?</h3>\n\n<p>Traditionally, you create your variables like this :</p>\n\n<pre><code>var myVariable = \"Some text\";\n</code></pre>\n\n<p>Block scope variables are created like this :</p>\n\n<pre><code>let myVariable = \"Some text\";\n</code></pre>\n\n<hr>\n\n<h3>So what is the difference between functional scope and block scope?</h3>\n\n<p>To understand the difference between functional scope and block scope, consider the following code :</p>\n\n<pre><code>// i IS NOT known here\n// j IS NOT known here\n\nfunction loop(arr) {\n    // i IS NOT known here\n    // j IS NOT known here\n\n    for( var i = 0; i &lt; arr.length; i++ ) {\n        // i IS known here\n        // j IS NOT known here\n    };\n\n    // i IS known here\n    // j IS NOT known here\n\n    for( let j = 0; j &lt; arr.length; j++ ) {\n        // i IS known here\n        // j IS known here\n    };\n\n    // i IS known here\n    // j IS NOT known here\n}\n\n// i IS NOT known here\n// j IS NOT known here\n</code></pre>\n\n<p>Here, we can see that our variable <code>j</code> is only known in the first for loop, but not before and after. Yet, our variable <code>i</code> is known in the entire function from the moment it is defined onward.</p>\n\n<hr>\n\n<h3>Is it safe to use block scope variables today?</h3>\n\n<p>Whether or not it is safe to use today, depends on your environment :</p>\n\n<ul>\n<li><p>If you're writing server-side JavaScript code (<a href=\"https://nodejs.org/en/\"><strong>Node.js</strong></a>), you can safely use the <code>let</code> statement.</p></li>\n<li><p>If you're writing client-side JavaScript code and use a transpiler (like <a href=\"https://github.com/google/traceur-compiler\"><strong>Traceur</strong></a>), you can safely use the <code>let</code> statement, however your code is likely to be anything but optimal with respect to performance.</p></li>\n<li><p>If you're writing client-side JavaScript code and don't use a transpiler, you need to consider browser support.</p>\n\n<p>Today, Feb 23 2016, these are some browsers that either don't support <code>let</code> or have only partial support :</p>\n\n<ul>\n<li><strong>Internet explorer 10</strong> and below (no support)</li>\n<li><strong>Firefox 43</strong> and below (no support)</li>\n<li><strong>Safari 9</strong> and below (no support)</li>\n<li><strong>Opera Mini 8</strong> and below (no support)</li>\n<li><strong>Android browser 4</strong> and below (no support)</li>\n<li><strong>Opera 36</strong> and below (partial support)</li>\n<li><strong>Chome 51</strong> and below (partial support)</li>\n</ul></li>\n</ul>\n\n<p><a href=\"http://i.stack.imgur.com/FVsEQ.png\"><img src=\"http://i.stack.imgur.com/FVsEQ.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h3>How to keep track of browser support</h3>\n\n<p>For an up-to-date overview of which browsers support the <code>let</code> statement at the time of your reading this answer, see <a href=\"http://caniuse.com/#search=let\"><strong>this <code>Can I Use</code> page</strong></a>.</p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 35585773, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}, {"body": "<p>Just to add to the other answers, scope is a look-up list of all the declared identifiers (variables), and enforces a strict set of rules as to how these are accessible to currently executing code.  This look-up may be for the purposes of assigning to the variable, which is an LHS (lefthand-side) reference, or it may be for the purposes of retrieving its value, which is an RHS (righthand-side) reference. These look-ups are what the JavaScript engine is doing internally when it's compiling and executing the code.</p>\n\n<p>So from this perspective, I think that a picture would help that I found in the Scopes and Closures ebook by Kyle Simpson:</p>\n\n<p><a href=\"http://i.stack.imgur.com/0kqpZ.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/0kqpZ.png\" alt=\"image\"></a></p>\n\n<p>Quoting from his ebook:</p>\n\n<blockquote>\n  <p>The building represents our program\u2019s nested scope ruleset. The first\n  floor of the building represents your currently executing scope,\n  wherever you are. The top level of the building is the global scope.\n  You resolve LHS and RHS references by looking on your current floor,\n  and if you don\u2019t find it, taking the elevator to the next floor,\n  looking there, then the next, and so on. Once you get to the top floor\n  (the global scope), you either find what you\u2019re looking for, or you\n  don\u2019t. But you have to stop regardless.</p>\n</blockquote>\n\n<p>One thing of note that is worth mentioning, \"Scope look-up stops once it finds the first match\".</p>\n\n<p>This idea of \"scope levels\" explains why \"this\" can be changed with a newly created scope, if it's being looked up in a nested function.\nHere is a link that goes into all these details, <a href=\"https://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/\" rel=\"nofollow\">Everything you wanted to know about javascript scope</a> </p>\n", "title": "What is the scope of variables in JavaScript?", "answer_id": 36310432, "question_id": 500431, "tags": ["javascript", "variables", "scope"]}], "question_id": 500431}, {"body": "<pre class=\"lang-js prettyprint-override\"><code>0.1 + 0.2 == 0.3\n-&gt; false\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>0.1 + 0.2\n-&gt; 0.30000000000000004\n</code></pre>\n\n<p>Any ideas why this happens?</p>\n", "title": "Is floating point math broken?", "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"], "answer_count": 27, "link": "http://stackoverflow.com/questions/588004/is-floating-point-math-broken", "answers": [{"body": "<p>Binary <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\">floating point</a> math is like this.  In most programming languages, it is based on the <a href=\"https://en.wikipedia.org/wiki/IEEE_754#Basic_formats\">IEEE 754 standard</a>. JavaScript uses 64-bit floating point representation, which is the same as Java's <code>double</code>.  The crux of the problem is that numbers are represented in this format as a whole number times a power of two; rational numbers (such as <code>0.1</code>, which is <code>1/10</code>) whose denominator is not a power of two cannot be exactly represented.</p>\n\n<p>For <code>0.1</code> in the standard <code>binary64</code> format, the representation can be written exactly as</p>\n\n<ul>\n<li><code>0.1000000000000000055511151231257827021181583404541015625</code> in decimal, or</li>\n<li><code>0x1.999999999999ap-4</code> in <a href=\"http://www.exploringbinary.com/hexadecimal-floating-point-constants/\">C99 hexfloat notation</a>.</li>\n</ul>\n\n<p>In contrast, the rational number <code>0.1</code>, which is <code>1/10</code>, can be written exactly as</p>\n\n<ul>\n<li><code>0.1</code> in decimal, or</li>\n<li><code>0x1.99999999999999...p-4</code> in an analogue of C99 hexfloat notation, where the <code>...</code> represents an unending sequence of 9's.</li>\n</ul>\n\n<p>The constants <code>0.2</code> and <code>0.3</code> in your program will also be approximations to their true values.  It happens that the closest <code>double</code> to <code>0.2</code> is larger than the rational number <code>0.2</code> but that the closest <code>double</code> to <code>0.3</code> is smaller than the rational number <code>0.3</code>.  The sum of <code>0.1</code> and <code>0.2</code> winds up being larger than the rational number <code>0.3</code> and hence disagreeing with the constant in your code.</p>\n\n<p>A fairly comprehensive treatment of floating-point arithmetic issues is <a href=\"http://download.oracle.com/docs/cd/E19957-01/806-3568/ncg_goldberg.html\"><em>What Every Computer Scientist Should Know About Floating-Point Arithmetic</em></a>. For an easier-to-digest explanation, see <a href=\"http://floating-point-gui.de\">floating-point-gui.de</a>.</p>\n", "title": "Is floating point math broken?", "answer_id": 588014, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Floating point rounding errors. 0.1 cannot be represented as accurately in base-2 as in base-10 due to the missing prime factor of 5. Just as 1/3 takes an infinite number of digits to represent in decimal, but is \"0.1\" in base-3, 0.1 takes an infinite number of digits in base-2 where it does not in base-10. And computers don't have an infinite amount of memory.</p>\n", "title": "Is floating point math broken?", "answer_id": 588019, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Floating point rounding error.  From <a href=\"http://docs.sun.com/source/806-3568/ncg_goldberg.html\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>:</p>\n\n<blockquote>\n  <p>Squeezing infinitely many real numbers into a finite number of bits requires an approximate representation. Although there are infinitely many integers, in most programs the result of integer computations can be stored in 32 bits. In contrast, given any fixed number of bits, most calculations with real numbers will produce quantities that cannot be exactly represented using that many bits. Therefore the result of a floating-point calculation must often be rounded in order to fit back into its finite representation. This rounding error is the characteristic feature of floating-point computation.</p>\n</blockquote>\n", "title": "Is floating point math broken?", "answer_id": 588027, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>When you convert .1 or 1/10 to base 2 (binary) you get a repeating pattern after the decimal point, just like trying to represent 1/3 in base 10.  The value is not exact, and therefore you can't do exact math with it using normal floating point methods.</p>\n", "title": "Is floating point math broken?", "answer_id": 588029, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>In addition to the other correct answers, you may want to consider scaling your values to avoid problems with floating-point arithmetic. </p>\n\n<p>For example: </p>\n\n<pre><code>var result = 1.0 + 2.0;     // result === 3.0 returns true\n</code></pre>\n\n<p>... instead of:</p>\n\n<pre><code>var result = 0.1 + 0.2;     // result === 0.3 returns false\n</code></pre>\n\n<p>The expression <code>0.1 + 0.2 === 0.3</code> returns <code>false</code> in JavaScript, but fortunately integer arithmetic in floating-point is exact, so decimal representation errors can be avoided by scaling.</p>\n\n<p>As a practical example, to avoid floating-point problems where accuracy is paramount, it is recommended<sup>1</sup> to handle money as an integer representing the number of cents: <code>2550</code> cents instead of <code>25.50</code> dollars. </p>\n\n<hr>\n\n<p><sup>1</sup> Douglas Crockford: <a href=\"http://books.google.com/books?id=PXa2bby0oQ0C&amp;pg=PA105&amp;dq=douglas+crockford+javascript+good+parts+dollar+values+can+be+converted&amp;rview=1&amp;cd=1#v=onepage&amp;q=&amp;f=false\"><strong>JavaScript: The Good Parts</strong>: Appendix A - Awful Parts (page 105)</a>.</p>\n", "title": "Is floating point math broken?", "answer_id": 2607316, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<blockquote>\n  <p>All numbers in JavaScript are represented in binary as <a href=\"http://en.wikipedia.org/wiki/IEEE-754\">IEEE-754 Doubles</a>, which provides an accuracy to about 14 or 15 significant digits. Because they are <a href=\"http://en.wikipedia.org/wiki/Floating_point_numbers\">floating point numbers</a>, they do not always exactly represent real numbers, including fractions.</p>\n</blockquote>\n\n<p><a href=\"http://en.wikipedia.org/wiki/JavaScript_syntax#Number\">JavaScript syntax: Number</a></p>\n", "title": "Is floating point math broken?", "answer_id": 2607451, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>A solution to tidy up the unsightly overflow</p>\n\n<pre><code>function strip(number) {\n    return (parseFloat(number.toPrecision(12)));\n}\n</code></pre>\n\n<p>Using 'toPrecision(12)' leaves trailing zeros which 'parseFloat()' removes. Assume it is accurate to plus/minus one on the least significant digit.</p>\n", "title": "Is floating point math broken?", "answer_id": 3644354, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>My workaround:</p>\n\n<pre><code>function add(a, b, precision) {\n    var x = Math.pow(10, precision || 2);\n    return (Math.round(a * x) + Math.round(b * x)) / x;\n}\n</code></pre>\n\n<p><em>precision</em> refers to the number of digits you want to preserve after the decimal point during addition.</p>\n", "title": "Is floating point math broken?", "answer_id": 8633598, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Did you try the duct tape solution?</p>\n\n<p>Try to determine when errors occur and fix them with short if statements, it's not pretty but for some problems it is the only solution and this is one of them.</p>\n\n<pre><code> if( (n * 0.1) &lt; 100.0 ) { return n * 0.1 - 0.000000000000001 ;}\n                    else { return n * 0.1 + 0.000000000000001 ;}    \n</code></pre>\n\n<p>I had the same problem in a scientific simulation project in c#, and I can tell you that if you ignore the butterfly effect it's gonna turn to a big fat dragon and bite you in the a**</p>\n", "title": "Is floating point math broken?", "answer_id": 11754137, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<h1><strong>A Hardware Designer's Perspective</strong></h1>\n\n<p>I believe I should add a hardware designer\u2019s perspective to this since I design and build floating point hardware. Knowing the origin of the error may help in understanding what is happening in the software, and ultimately, I hope this helps explain the reasons for why floating point errors happen, and seem to accumulate over time.</p>\n\n<h2>1. Overview</h2>\n\n<p>From an engineering perspective, most floating point operations will have some element of error since the hardware that does the floating point computations is only required to have an error of less than one half of one unit in the last place. Therefore, much hardware will stop at a precision that's only necessary to yield an error of less than one half of one unit in the last place for a <em>single operation</em> which is especially problematic in floating point division. What constitutes a single operation depends upon how many operands the unit takes. For most, it is two, but some units take 3 or more operands. Because of this, there is no guarantee that repeated operations will result in a desirable error since the errors add up over time.</p>\n\n<h2>2. Standards</h2>\n\n<p>Most processors follow the <a href=\"http://en.wikipedia.org/wiki/IEEE_754-2008\">IEEE-754</a> standard but some use denormalized, or different standards\n. For example, there is a denormalized mode in IEEE-754 which allows representation of very small floating point numbers at the expense of precision. The following however, will cover the normalized mode of IEEE-754 which is the typical mode of operation.</p>\n\n<p>In the IEEE-754 standard, hardware designers are allowed any value of error/epsilon as long as it's less than one half of one unit in the last place, and the result only has to be less than one half of one unit in the last place for one operation. This explains why when there are repeated operations, the errors add up. For IEEE-754 double precision, this is the 54th bit, since 53 bits are used to represent the numeric part (normalized), also called the mantissa, of the floating point number (e.g. the 5.3 in 5.3e5). The next sections go into more detail on the causes of hardware error on various floating point operations.</p>\n\n<h2>3. Cause of Rounding Error in Division</h2>\n\n<p>The main cause of the error in floating point division, are the division algorithms used to calculate the quotient. Most computer systems calculate division using multiplication by an inverse, mainly in <code>Z=X/Y</code>, <code>Z = X * (1/Y)</code>.  Division is computed iteratively i.e. each cycle computes some bits of the quotient until the desired precision is reached, which for IEEE-754 is anything with an error of less than one unit in the last place. The table of reciprocals of Y (1/Y) is known as the quotient selection table (QST) in slow division, and the size in bits of the quotient selection table is usually the width of the radix, or number of bits of the quotient computed in each iteration,  plus a few guard bits. For the IEEE-754 standard, double precision (64-bit), it would be the size of the radix of the divider, plus a few guard bits k, where <code>k&gt;=2</code>. So for example, a typical Quotient Selection Table for a divider that computes 2 bits of the quotient at a time (radix 4) would be <code>2+2= 4</code> bits (plus a few optional bits). </p>\n\n<p><strong>3.1 Division Rounding Error: Approximation of Reciprocal</strong></p>\n\n<p>What reciprocals are in the quotient selection table depend on the <a href=\"http://en.wikipedia.org/wiki/Division_%28digital%29\">division method</a>: slow division such as SRT division, or fast division such as Goldschmidt division; each entry is modified according to the division algorithm in an attempt to yield the lowest possible error. In any case though, all reciprocals are <em>approximations</em> of the actual reciprocal, and introduce some element of error. Both slow division and fast division methods calculate the quotient iteratively, i.e. some number of bits of the quotient are calculated each step, then the result is subtracted from the dividend, and the divider repeats the steps until the error is less than one half of one unit in the last place. Slow division methods calculate a fixed number of digits of the quotient in each step and are usually less expensive to build, and fast division methods calculate a variable number of digits per step and are usually more expensive to build. The most important part of the division methods is that most of them rely upon repeated multiplication by an <em>approximation</em> of a reciprocal, so they are prone to error.</p>\n\n<h2>4. Rounding Errors in Other Operations: Truncation</h2>\n\n<p>Another cause of the rounding errors in all operations are the different modes of truncation of the final answer that IEEE-754 allows. There's truncate, round-towards-zero, <a href=\"http://en.wikipedia.org/wiki/Floating_point#Rounding_modes\">round-to-nearest (default),</a> round-down, and round-up. All methods introduce an element of error of less than one half of one unit in the last place for a single operation. Over time and repeated operations, truncation also adds cumulatively to the resultant error. This truncation error, is especially problematic in exponentiation, which involves some form of repeated multiplication.</p>\n\n<h2>5. Repeated Operations</h2>\n\n<p>Since the hardware that does the floating point calculations only needs to yield a result with an error of less than one half of one unit in the last place for a single operation, the error will grow over repeated operations if not watched. This is the reason that in computations that require a bounded error, mathematicians use methods such as using the round-to-nearest <a href=\"http://en.wikipedia.org/wiki/Floating_point#Rounding_modes\">even digit in the last place</a> of IEEE-754, because over time, the errors are more likely to cancel each other out, and <a href=\"http://en.wikipedia.org/wiki/Interval_arithmetic\">Interval Arithmetic</a> combined with variations of the <a href=\"http://en.wikipedia.org/wiki/IEEE_754-2008#Rounding_rules\">IEEE 754 rounding modes</a> to predict rounding errors, and correct them. Because of its low relative error compared to other rounding modes, round to nearest even digit (in the last place), is the default rounding mode of IEEE-754.</p>\n\n<p>Note that the default rounding mode, round-to-nearest <a href=\"http://en.wikipedia.org/wiki/Floating_point#Rounding_modes\">even digit in the last place</a>, guarantees an error of less than one half of one unit in the last place for one operation. Using the truncation, round-up, and round down alone may result in an error that is greater than one half of one unit in the last place, but less than one unit in the last place, so these modes are not recommended unless they are used in Interval Arithmetic. </p>\n\n<h2>6. Summary</h2>\n\n<p>In short, the fundamental reason for the errors in floating point operations is a combination of the truncation in hardware, and the truncation of a reciprocal in the case of division. Since the IEEE-754 standard only requires an error of less than one half of one unit in the last place for a single operation, the floating point errors over repeated operations will add up unless corrected.</p>\n", "title": "Is floating point math broken?", "answer_id": 16082201, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>I found a solution you can use this function to parse floats correctly \nalso you can set your own precision</p>\n\n<pre><code>function getFloat(int) {\n    var num = new Number(int);\n    return parseFloat(num.toPrecision(2));\n}\n</code></pre>\n", "title": "Is floating point math broken?", "answer_id": 19336084, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Those weird numbers appear because computers use binary(base 2) number system for calculation purposes, while we use decimal(base 10).</p>\n\n<p>There are a majority of fractional numbers that cannot be represented precisely either in binary or in decimal or both. Result - A rounded up (but precise) number results.</p>\n", "title": "Is floating point math broken?", "answer_id": 19365074, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>For those reading through this thread looking to get precision to a specific number of decimal places and not numbers, instead of <strong>num.toPrecision(2)</strong> you can use <strong>num.toFixed(2)</strong>.</p>\n", "title": "Is floating point math broken?", "answer_id": 25811403, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>A lot of good answers was been posted. But short answer is that not all decimal numbers are the binary representation of floating point numbers. For example, the number \"0.2\" will be represented as \"0.200000003\" in single precision in IEEE754 float point standart.</p>\n", "title": "Is floating point math broken?", "answer_id": 26205949, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p><em>Most answers here address this question in very dry, technical terms. I'd like to address this in terms that normal human beings can understand.</em></p>\n\n<p>Imagine that you are trying to slice up pizzas. You have a robotic pizza cutter that can cut pizza slices <em>exactly</em> in half. It can halve a whole pizza, or it can halve an existing slice, but in any case, the halving is always exact.</p>\n\n<p>That pizza cutter has very fine movements, and if you start with a whole pizza, then halve that, and continue halving the smallest slice each time, you can do the halving <em>53 times</em> before the slice is too small for even its high-precision abilities. At that point, you can no longer halve that very thin slice, but must either include or exclude it as is.</p>\n\n<p>Now, how would you piece all the slices in such a way that would add up to one-tenth (0.1) or one-fifth (0.2) of a pizza? Really think about it, and try working it out. You can even try to use a real pizza, if you have a mythical precision pizza cutter at hand. :-)</p>\n\n<hr>\n\n<p>Most experienced programmers, of course, know the real answer, which is that there is no way to piece together an <em>exact</em> tenth or fifth of the pizza using those slices, no matter how finely you slice them. You can do a pretty good approximation, and if you add up the approximation of 0.1 with the approximation of 0.2, you get a pretty good approximation of 0.3, but it's still just that, an approximation.</p>\n\n<p>For double-precision numbers (which is the precision that allows you to halve your pizza 53 times), the numbers immediately less and greater than 0.1 are 0.09999999999999999167332731531132594682276248931884765625 and 0.1000000000000000055511151231257827021181583404541015625. The latter is quite a bit closer to 0.1 than the former, so a numeric parser will, given an input of 0.1, favour the latter.</p>\n\n<p>(The difference between those two numbers is the \"smallest slice\" that we must decide to either include, which introduces an upward bias, or exclude, which introduces a downward bias. The technical term for that smallest slice is an <a href=\"https://en.wikipedia.org/wiki/Unit_in_the_last_place\">ulp</a>.)</p>\n\n<p>In the case of 0.2, the numbers are all the same, just scaled up by a factor of 2. Again, we favour the value that's slightly higher than 0.2.</p>\n\n<p>Notice that in both cases, the approximations for 0.1 and 0.2 have a slight upward bias. If we add enough of these biases in, they will push the number further and further away from what we want, and in fact, in the case of 0.1 + 0.2, the bias is high enough that the resulting number is no longer the closest number to 0.3.</p>\n\n<p>In particular, 0.1 + 0.2 is really 0.1000000000000000055511151231257827021181583404541015625 + 0.200000000000000011102230246251565404236316680908203125 = 0.3000000000000000444089209850062616169452667236328125, whereas the number closest to 0.3 is actually 0.299999999999999988897769753748434595763683319091796875.</p>\n\n<hr>\n\n<p>P.S. Some programming languages also provide pizza cutters that can <a href=\"https://en.wikipedia.org/wiki/Decimal_floating_point\">split slices into exact tenths</a>. Although such pizza cutters are uncommon, if you do have access to one, you should use it when it's important to be able to get exactly one-tenth or one-fifth of a slice.</p>\n\n<p><a href=\"http://qr.ae/mDcAq\"><em>(Originally posted on Quora.)</em></a></p>\n", "title": "Is floating point math broken?", "answer_id": 27030789, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Some statistics related to this famous double precision question. I used this <a href=\"http://chalkias.net/examples/DecimalErrors.java\" rel=\"nofollow\">code</a>.</p>\n\n<p>When adding all values (a+b) using a step of 0.1 (from 0.1 to 100) we have <strong>~15% chance of precision error</strong>.\nHere are some examples (for full .txt results <a href=\"http://chalkias.net/examples/doubleAddAccuracy.txt\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>0.1 + 0.2 = 0.30000000000000004\n0.1 + 0.7 = 0.7999999999999999\n...\n1.7 + 1.9 = 3.5999999999999996\n1.7 + 2.2 = 3.9000000000000004\n...\n3.2 + 3.6 = 6.800000000000001\n3.2 + 4.4 = 7.6000000000000005\n</code></pre>\n\n<p>When subtracting all values (a-b where a>b) using a step of 0.1 (from 100 to 0.1) we have <strong>~34% chance of precision error</strong>.\nHere are some examples (for full .txt results <a href=\"http://chalkias.net/examples/doubleSubtractAccuracy.txt\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>0.6 - 0.2 = 0.39999999999999997\n0.5 - 0.4 = 0.09999999999999998\n...\n2.1 - 0.2 = 1.9000000000000001\n2.0 - 1.9 = 0.10000000000000009\n...\n100 - 99.9 = 0.09999999999999432\n100 - 99.8 = 0.20000000000000284\n</code></pre>\n\n<p>*I was surprised with these 15% and 34%.. they are huge, so always use BigDecimal when precision is of big importance. With 2 decimal digits (step 0.01) the situation worsens a bit more (18% and 36%).</p>\n", "title": "Is floating point math broken?", "answer_id": 27754719, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p><em>My answer is quite long, so I've split it into three sections. Since the question is about floating point mathematics, I've put the emphasis on what the machine actually does. I've also made it specific to double (64 bit) precision, but the argument applies equally to any floating point arithmetic.</em></p>\n\n<p><strong>Preamble</strong></p>\n\n<p>A <a href=\"http://en.wikipedia.org/wiki/Double-precision_floating-point_format754\">IEEE 754 double-precision binary floating-point format (binary64)</a> number represents a number of the form</p>\n\n<blockquote>\n  <p>value = (-1)^s * (1.m<sub>51</sub>m<sub>50</sub>...m<sub>2</sub>m<sub>1</sub>m<sub>0</sub>)<sub>2</sub> * 2<sup>e-1023</sup></p>\n</blockquote>\n\n<p>in 64 bits:</p>\n\n<ul>\n<li>The first bit is the <a href=\"http://en.wikipedia.org/wiki/Sign_bit\">sign bit</a>: <code>1</code> if the number is negative, <code>0</code> otherwise<sup>1</sup>.</li>\n<li>The next 12 bits are the <a href=\"http://en.wikipedia.org/wiki/Exponentiation\">exponent</a>, which is <a href=\"http://en.wikipedia.org/wiki/Offset_binary\">offset</a> by 1023. In other words, after reading the exponent bits from a double-precision number, 1023 must be subtracted to obtain the power of two.</li>\n<li>The remaining 52 bits are the <a href=\"http://en.wikipedia.org/wiki/Significand\">significand</a> (or mantissa). In the mantissa, an 'implied' <code>1.</code> is always<sup>2</sup> omitted since the most significant bit of any binary value is <code>1</code>.</li>\n</ul>\n\n<p><sup>1</sup> - IEEE 754 allows for the concept of a <a href=\"http://en.wikipedia.org/wiki/Signed_zero\">signed zero</a> - <code>+0</code> and <code>-0</code> are treated differently: <code>1 / (+0)</code> is positive infinity; <code>1 / (-0)</code> is negative infinity. For zero values, the mantissa and exponent bits are all zero. Note: zero values (+0 and -0) are explicitly not classed as denormal<sup>2</sup>.</p>\n\n<p><sup>2</sup> - This is not the case for <a href=\"http://en.wikipedia.org/wiki/Denormal_number\">denormal numbers</a>, which have an offset exponent of zero (and an implied <code>0.</code>). The range of denormal double precision numbers is d<sub>min</sub> \u2264 |x| \u2264 d<sub>max</sub>, where d<sub>min</sub> (the smallest representable nonzero number) is 2<sup>-1023 - 51</sup> (\u2248 4.94 * 10<sup>-324</sup>) and d<sub>max</sub> (the largest denormal number, for which the mantissa consists entirely of <code>1</code>s) is 2<sup>-1023 + 1</sup> - 2<sup>-1023 - 51</sup> (\u2248 2.225 * 10<sup>-308</sup>).</p>\n\n<hr>\n\n<p><strong>Turning a double precision number to binary</strong></p>\n\n<p>Many online converters exist to convert a double precision floating point number to binary (e.g. at <a href=\"http://www.binaryconvert.com/convert_double.html\">binaryconvert.com</a>), but here is some sample C# code to obtain the IEEE 754 representation for a double precision number (I separate the three parts with colons (<code>:</code>):</p>\n\n<pre><code>public static string BinaryRepresentation(double value)\n{\n    long valueInLongType = BitConverter.DoubleToInt64Bits(value);\n    string bits = Convert.ToString(valueInLongType, 2);\n    string leadingZeros = new string('0', 64 - bits.Length);\n    string binaryRepresentation = leadingZeros + bits;\n\n    string sign = binaryRepresentation[0].ToString();\n    string exponent = binaryRepresentation.Substring(1, 11);\n    string mantissa = binaryRepresentation.Substring(12);\n\n    return string.Format(\"{0}:{1}:{2}\", sign, exponent, mantissa);\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Getting to the point: the original question</strong></p>\n\n<p>(Skip to the bottom for the TL;DR version)</p>\n\n<p>@CatoJohnston (the question asker) asked why 0.1 + 0.2 != 0.3.</p>\n\n<p>Written in binary (with colons separating the three parts), the IEEE 754 representations of the values are:</p>\n\n<pre><code>0.1 =&gt; 0:01111111011:1001100110011001100110011001100110011001100110011010\n0.2 =&gt; 0:01111111100:1001100110011001100110011001100110011001100110011010\n</code></pre>\n\n<p>Note that the mantissa is composed of recurring digits of <code>0011</code>. This is <strong>key</strong> to why there is any error to the calculations - 0.1, 0.2 and 0.3 cannot be represented in binary <strong>precisely</strong> in a <em>finite</em> number of binary bits any more than 1/9, 1/3 or 1/7 can be represented precisely in <em>decimal digits</em>.</p>\n\n<p>Converting the exponents to decimal, removing the offset, and re-adding the implied <code>1</code> (in square brackets), 0.1 and 0.2 are:</p>\n\n<pre><code>0.1 = 2^-4 * [1].1001100110011001100110011001100110011001100110011010\n0.2 = 2^-3 * [1].1001100110011001100110011001100110011001100110011010\n</code></pre>\n\n<p>To add two numbers, the exponent needs to be the same, i.e.:</p>\n\n<pre><code>0.1 = 2^-3 *  0.1100110011001100110011001100110011001100110011001101(0)\n0.2 = 2^-3 *  1.1001100110011001100110011001100110011001100110011010\nsum = 2^-3 * 10.0110011001100110011001100110011001100110011001100111\n</code></pre>\n\n<p>Since the sum is not of the form 2<sup>n</sup> * 1.{bbb} we increase the exponent by one and shift the decimal (<em>binary</em>) point to get:</p>\n\n<pre><code>sum = 2^-2 * 1.0011001100110011001100110011001100110011001100110011(1)\n</code></pre>\n\n<p>There are now 53 bits in the mantissa (the 53rd is in square brackets in the line above). The default <a href=\"https://en.wikipedia.org/wiki/IEEE_754-1985#Rounding_floating-point_numbers\">rounding mode</a> for IEEE 754 is '<em>Round to Nearest</em>' - i.e. if a number <em>x</em> falls between two values <em>a</em> and <em>b</em>, the value where the least significant bit is zero is chosen.</p>\n\n<pre><code>a = 2^-2 * 1.0011001100110011001100110011001100110011001100110011\nx = 2^-2 * 1.0011001100110011001100110011001100110011001100110011(1)\nb = 2^-2 * 1.0011001100110011001100110011001100110011001100110100\n</code></pre>\n\n<p>Note that <em>a</em> and <em>b</em> differ only in the last bit; <code>...0011</code> + <code>1</code> = <code>...0100</code>. In this case, the value with the least significant bit of zero is <em>b</em>, so the sum is:</p>\n\n<pre><code>sum = 2^-2 * 1.0011001100110011001100110011001100110011001100110100\n</code></pre>\n\n<p><strong>TL;DR</strong></p>\n\n<p>Writing <code>0.1 + 0.2</code> in a IEEE 754 binary representation (with colons separating the three parts) and comparing it to <code>0.3</code>, this is (I've put the distinct bits in square brackets):</p>\n\n<pre><code>0.1 + 0.2 =&gt; 0:01111111101:0011001100110011001100110011001100110011001100110[100]\n0.3       =&gt; 0:01111111101:0011001100110011001100110011001100110011001100110[011]\n</code></pre>\n\n<p>Converted back to decimal, these values are:</p>\n\n<pre><code>0.1 + 0.2 =&gt; 0.300000000000000044408920985006...\n0.3       =&gt; 0.299999999999999988897769753748...\n</code></pre>\n\n<p>The difference is exactly 2<sup>-54</sup>, which is ~5.5511151231258 \u00d7 10<sup>-17</sup> - insignificant (for many applications) when compared to the original values.</p>\n\n<p>Comparing the last few bits of a floating point number is inherently dangerous, as anyone who reads the famous \"<a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>\" (which covers all the major parts of this answer) will know.</p>\n\n<p>Most calculators use additional <a href=\"http://en.m.wikipedia.org/wiki/Guard_digit\">guard digits</a> to get around this problem, which is how <code>0.1 + 0.2</code> would give <code>0.3</code>: the final few bits are rounded.</p>\n", "title": "Is floating point math broken?", "answer_id": 28679423, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>To cut a long story short...</p>\n\n<p>For those who are using JAVA and having problems like that: <strong>Use <code>BigDecimal</code> class.</strong> </p>\n", "title": "Is floating point math broken?", "answer_id": 29132823, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Took from PHP doc:\n<a href=\"http://php.net/manual/en/language.types.float.php#language.types.float.comparison\" rel=\"nofollow\">http://php.net/manual/en/language.types.float.php#language.types.float.comparison</a></p>\n\n<blockquote>\n  <p>To test floating point values for equality, an upper bound on the\n  relative error due to rounding is used. This value is known as the\n  machine epsilon, or unit roundoff, and is the smallest acceptable\n  difference in calculations.</p>\n  \n  <p>$a and $b are equal to 5 digits of precision.</p>\n</blockquote>\n\n<pre><code>&lt;?php\n$a = 1.23456789;\n$b = 1.23456780;\n$epsilon = 0.00001;\n\nif(abs($a-$b) &lt; $epsilon) {\n    echo \"true\";\n}\n</code></pre>\n", "title": "Is floating point math broken?", "answer_id": 31111774, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p><a href=\"http://jsfiddle.net/ozbob/y4rak722/5/\" rel=\"nofollow\">http://jsfiddle.net/ozbob/y4rak722/5/</a></p>\n\n<pre><code>var foo = 0.1;\nvar bar = 0.2;\nfunction add(foo, bar, precision){\n    return parseFloat((foo + bar).toFixed(precision));\n}\n</code></pre>\n\n<p>kudos shared with to @Funkodebat</p>\n", "title": "Is floating point math broken?", "answer_id": 31282880, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Given that nobody has mentioned this...</p>\n\n<p>Some high level languages such as Python and Java come with tools to overcome binary floating point limitations. For example:</p>\n\n<ul>\n<li><p>Python's <a href=\"https://docs.python.org/dev/library/decimal.html\" rel=\"nofollow\"><code>decimal</code> module</a> and Java's <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow\"><code>BigDecimal</code> class</a>, that represent numbers internally with decimal notation (as opposed to binary notation). Both have limited precision, so they are still error prone, however they solve most common problems with binary floating point arithmetic.</p>\n\n<p>Decimals are very nice when dealing with money: ten cents plus twenty cents are always exactly thirty cents:</p>\n\n<pre><code>&gt;&gt;&gt; 0.1 + 0.2 == 0.3\nFalse\n&gt;&gt;&gt; Decimal('0.1') + Decimal('0.2') == Decimal('0.3')\nTrue\n</code></pre>\n\n<p>Python's <code>decimal</code> module is based on <a href=\"https://en.wikipedia.org/wiki/IEEE_854-1987\" rel=\"nofollow\">IEEE standard 854-1987</a>.</p></li>\n<li><p>Python's <a href=\"https://docs.python.org/dev/library/fractions.html\" rel=\"nofollow\"><code>fractions</code> module</a> and Apache Common's <a href=\"https://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/fraction/BigFraction.html\" rel=\"nofollow\"><code>BigFraction</code> class</a>. Both represent rational numbers as <code>(numerator, denominator)</code> pairs and they may give more accurate results than decimal floating point arithmetic.</p></li>\n</ul>\n\n<p>Neither of these solutions is perfect (especially if we look at performances, or if we require a very high precision), but still they solve a great number of problems with binary floating point arithmetic.</p>\n", "title": "Is floating point math broken?", "answer_id": 32143465, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>The kind of floating-point math that can be implemented in a digital computer necessarily uses an approximation of the real numbers and operations on them. (The <em>standard</em> version runs to over fifty pages of documentation and has a committee to deal with its errata and further refinement.)</p>\n\n<p>This approximation is a mixture of approximations of different kinds, each of which can either be ignored or carefully accounted for due to its specific manner of deviation from exactitude. It also involves a number of explicit exceptional cases at both the hardware and software levels that most people walk right past while pretending not to notice.</p>\n\n<p>If you need infinite precision (using the number \u03c0, for example, instead of one of its many shorter stand-ins), you should write or use a symbolic math program instead.</p>\n\n<p>But if you're okay with the idea that sometimes floating-point math is fuzzy in value and logic and errors can accumulate quickly, and you can write your requirements and tests to allow for that, then your code can frequently get by with what's in your FPU.</p>\n", "title": "Is floating point math broken?", "answer_id": 32952757, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Many of this question's numerous duplicates ask about the effects of floating point rounding on specific numbers. In practice, it is easier to get a feeling for how it works by looking at exact results of calculations of interest rather than by just reading about it. Some languages provide ways of doing that - such as converting a <code>float</code> or <code>double</code> to <code>BigDecimal</code> in Java.</p>\n\n<p>Since this is a language-agnostic question, it needs language-agnostic tools, such as a <a href=\"http://www.exploringbinary.com/floating-point-converter/\" rel=\"nofollow\">Decimal to Floating-Point Converter</a>.</p>\n\n<p>Applying it to the numbers in the question, treated as doubles: </p>\n\n<p>0.1 converts to 0.1000000000000000055511151231257827021181583404541015625, </p>\n\n<p>0.2 converts to 0.200000000000000011102230246251565404236316680908203125, </p>\n\n<p>0.3 converts to 0.299999999999999988897769753748434595763683319091796875, and </p>\n\n<p>0.30000000000000004 converts to 0.3000000000000000444089209850062616169452667236328125.</p>\n\n<p>Adding the first two numbers manually or in a decimal calculator such as <a href=\"https://www.mathsisfun.com/calculator-precision.html\" rel=\"nofollow\">Full Precision Calculator</a>, shows the exact sum of the actual inputs is 0.3000000000000000166533453693773481063544750213623046875. </p>\n\n<p>If it were rounded down to the equivalent of 0.3 the rounding error would be 0.0000000000000000277555756156289135105907917022705078125. Rounding up to the equivalent of 0.30000000000000004 also gives rounding error 0.0000000000000000277555756156289135105907917022705078125. The round-to-even tie breaker applies.</p>\n\n<p>Returning to the floating point converter, the raw hexadecimal for 0.30000000000000004 is 3fd3333333333334, which ends in an even digit and therefore is the correct result.</p>\n", "title": "Is floating point math broken?", "answer_id": 34394391, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<h3>No, not broken, but most decimal fractions must be approximated</h3>\n\n<blockquote>\n  <p><em>Summary</em></p>\n</blockquote>\n\n<p>Floating point arithmetic <em>is</em> exact, unfortunately, it doesn't match up well with our usual base-10 number representation, so it turns out we are often giving it input that is slightly off from what we wrote.</p>\n\n<p>Even simple numbers like 0.01, 0.02, 0.03, 0.04 ... 0.24 are not representable exactly as binary fractions, even if you had thousands of bits of precision in the mantissa, even if you had millions. If you count off in 0.01 increments, not until you get to 0.25 will you get the first fraction (in this sequence) representable in base<sub>10</sub> and base<sub>2</sub>. But if you tried that using FP, your 0.01 would have been slightly off, so the only way to add 25 of them up to a nice exact 0.25 would have required a long chain of causality involving guard bits and rounding. It's hard to predict so we throw up our hands and say <em>\"FP is inexact\".</em></p>\n\n<p>We constantly give the FP hardware something that seems simple in base 10 but is a repeating fraction in base 2.</p>\n\n<blockquote>\n  <p><em>How did this happen?</em></p>\n</blockquote>\n\n<p>When we write in decimal, every fraction is a rational number of the form </p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <em>x / (2<sup>n</sup> + 5<sup>n</sup>).</em></p>\n\n<p>In binary, we only get the <em>2<sup>n</sup></em> term, that is:</p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <em>x / 2<sup>n</sup></em></p>\n\n<p>So in decimal, we can't represent <sup>1</sup>/<sub>3</sub>. Because base 10 includes 2 as a prime factor, every number we can write as a binary fraction <em>also</em> can be written as a base 10 fraction. However, hardly anything we write as a base<sub>10</sub> fraction is representable in binary. In the range from 0.01, 0.02, 0.03 ... 0.99, only <em>three</em> numbers can be represented in our FP format: 0.25, 0.50, and 0.75, because they are 1/4, 1/2, and 3/4, all numbers with a prime factor using only the 2<sup>n</sup> term.</p>\n\n<p>In base<sub>10</sub> we can't represent <sup>1</sup>/<sub>3</sub>. But in binary, we can't do <sup>1</sup>/<sub>10</sub> <em>or</em> <sup>1</sup>/<sub>3</sub>.</p>\n\n<p>So while every binary fraction can be written in decimal, the reverse is not true. And in fact most decimal fractions repeat in binary.</p>\n\n<blockquote>\n  <p><em>Dealing with it</em></p>\n</blockquote>\n\n<p>Developers are usually instructed to do <em>&lt; epsilon</em> comparisons, better advice might be to round to integral values (in the C library: round() and roundf(), i.e., stay in the FP format) and then compare. Rounding to a specific decimal fraction length solves most problems with output.</p>\n\n<p>Also, on real number-crunching problems (the problems that FP was invented for on early, frightfully expensive computers) the physical constants of the universe and all other measurements are only known to a relatively small number of significant figures, so the entire problem space was \"inexact\" anyway. FP \"accuracy\" isn't a problem in this kind of application.</p>\n\n<p>The whole issue really arises when people try to use FP for bean counting. It does work for that, but only if you stick to integral values, which kind of defeats the point of using it. <em>This is why we have all those decimal fraction software libraries.</em></p>\n\n<p>I love the Pizza answer by <a href=\"http://stackoverflow.com/users/13/chris-jester-young\">Chris</a>, because it describes the actual problem, not just the usual handwaving about \"inaccuracy\". If FP were simply \"inaccurate\", we could <em>fix</em> that and would have done it decades ago. The reason we haven't is because the FP format is compact and fast and it's the best way to crunch a lot of numbers. Also, it's a legacy from the space age and arms race and early attempts to solve big problems with very slow computers using small memory systems. (Sometimes, individual <em>magnetic cores</em> for 1-bit storage, but that's <a href=\"https://en.wikipedia.org/wiki/Magnetic-core_memory\" rel=\"nofollow\">another story.</a>)</p>\n\n<blockquote>\n  <p>Conclusion</p>\n</blockquote>\n\n<p>If you are just counting beans at a bank, software solutions that use decimal string representations in the first place work perfectly well. But you can't do quantum chromodynamics or aerodynamics that way.</p>\n", "title": "Is floating point math broken?", "answer_id": 35166029, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>I'm extremely late to the party, but let's see if I can add anything useful.</p>\n\n<p>Floating point numbers stored in the computer consist of two parts, an integer and an exponent that the base is taken to and multiplied by the integer part.</p>\n\n<p>If the computer were working in base 10, <code>0.1</code> would be <code>1 x 10\u207b\u00b9</code>, <code>0.2</code> would be <code>2 x 10\u207b\u00b9</code>, and <code>0.3</code> would be <code>3 x 10\u207b\u00b9</code>. Integer math is easy and exact, so adding <code>0.1 + 0.2</code> will obviously result in <code>0.3</code>.</p>\n\n<p>Computers don't usually work in base 10, they work in base 2. You can still get exact results for some values, for example <code>0.5</code> is <code>1 x 2\u207b\u00b9</code> and <code>0.25</code> is <code>1 x 2\u207b\u00b2</code>, and adding them results in <code>3 x 2\u207b\u00b2</code>, or <code>0.75</code>. Exactly.</p>\n\n<p>The problem comes with numbers that can be represented exactly in base 10, but not in base 2. Those numbers need to be rounded to their closest equivalent. Assuming the very common IEEE 64-bit floating point format, the closest number to <code>0.1</code> is <code>900719925474099 x 2\u207b\u2075\u00b3</code>, and the closest number to <code>0.2</code> is <code>1801439850948199 x 2\u207b\u2075\u00b3</code>; adding them together results in <code>2702159776422298 x 2\u207b\u2075\u00b3</code>, or an exact decimal value of <code>0.3000000000000000444089209850062616169452667236328125</code>. Floating point numbers are generally rounded for display.</p>\n", "title": "Is floating point math broken?", "answer_id": 36027429, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Can i just add; people always assume this to be a computer problem, but if you count with your hands (base 10), you can't get <code>(1/3+1/3=2/3)=true</code> unless you have infinity to add 0.333... to 0.333... so just as with the 0.1 problem in base 2, you truncate it to 0.333 + 0.333 = 0.666 and probably round it to 0.667 which would be also be technically inaccurate. Count in ternary, and thirds are not a problem though - maybe some race with 15 fingers on each hand would ask why your decimal math was broken..</p>\n", "title": "Is floating point math broken?", "answer_id": 36074188, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}, {"body": "<p>Almost everyone has explained and answered correctly with different points of view on why this happens. If you ever need to actually work with decimals with Javascript and not fall into this issues, you can use Big.js module: <a href=\"https://github.com/MikeMcl/big.js\" rel=\"nofollow\">https://github.com/MikeMcl/big.js</a>. It allows you to perform operations with \narbitrary-precision decimal arithmetic.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var Big = require('big.js');\nx = Big(.1);\nconsole.log(x.plus(.2).toString());\n</code></pre>\n\n<p>The result returns <code>0.3</code></p>\n", "title": "Is floating point math broken?", "answer_id": 38206122, "question_id": 588004, "tags": ["math", "language-agnostic", "floating-point", "floating-accuracy"]}], "question_id": 588004}, {"body": "<p>From what time I've spent with threads in Java, I've found these two ways to write threads:</p>\n\n<p>With <code>implements Runnable</code>:</p>\n\n<pre><code>public class MyRunnable implements Runnable {\n    public void run() {\n        //Code\n    }\n}\n//Started with a \"new Thread(new MyRunnable()).start()\" call\n</code></pre>\n\n<p>Or, with <code>extends Thread</code>:</p>\n\n<pre><code>public class MyThread extends Thread {\n    public MyThread() {\n        super(\"MyThread\");\n    }\n    public void run() {\n        //Code\n    }\n}\n//Started with a \"new MyThread().start()\" call\n</code></pre>\n\n<p>Is there any significant difference in these two blocks of code ?</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "tags": ["java", "multithreading", "java-threads"], "answer_count": 34, "link": "http://stackoverflow.com/questions/541487/implements-runnable-vs-extends-thread", "answers": [{"body": "<p>I'm not an expert, but I can think of one reason to implement Runnable instead of extend Thread: Java only supports single inheritance, so you can only extend one class.</p>\n\n<p>Edit: This originally said \"Implementing an interface requires less resources.\" as well, but you need to create a new Thread instance either way, so this was wrong.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 541500, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Yes: implements <code>Runnable</code> is the preferred way to do it, IMO. You're not really specialising the thread's behaviour.  You're just giving it something to run. That means <a href=\"http://en.wikipedia.org/wiki/Object_composition\">composition</a> is the <em>philosophically</em> \"purer\" way to go.</p>\n\n<p>In <em>practical</em> terms, it means you can implement <code>Runnable</code> and extend from another class as well.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 541506, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Instantiating an interface gives a cleaner separation between your code and the implementation of threads, so I'd prefer to implement Runnable in this case.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 541507, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p><strong>tl;dr: implements Runnable is better.  However, the caveat is important</strong></p>\n\n<p>In general, I would recommend using something like <code>Runnable</code> rather than <code>Thread</code> because it allows you to keep your work only loosely coupled with your choice of concurrency.  For example, if you use a <code>Runnable</code> and decide later on that this doesn't in fact require it's own <code>Thread</code>, you can just call threadA.run().</p>\n\n<p><strong>Caveat:</strong> Around here, I strongly discourage the use of raw Threads.  I much prefer the use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\">Callables</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html\">FutureTasks</a> (From the javadoc: \"A cancellable asynchronous computation\").  The integration of timeouts, proper cancelling and the thread pooling of the modern concurrency support are all much more useful to me than piles of raw Threads.</p>\n\n<p><strong>Follow-up:</strong> there is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html#FutureTask-java.lang.Runnable-V-\"><code>FutureTask</code> constructor</a> that allows you to use Runnables (if that's what you are most comfortable with) and still get the benefit of the modern concurrency tools.  To quote the javadoc:</p>\n\n<p>If you don't need a particular result, consider using constructions of the form: </p>\n\n<pre><code>Future&lt;?&gt; f = new FutureTask&lt;Object&gt;(runnable, null)\n</code></pre>\n\n<p>So, if we replace their <code>runnable</code> with your <code>threadA</code>, we get the following:</p>\n\n<pre><code>new FutureTask&lt;Object&gt;(threadA, null)\n</code></pre>\n\n<p>Another option that allows you to stay closer to Runnables is a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\">ThreadPoolExecutor</a>.  You can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#execute%28java.lang.Runnable%29\">execute</a> method to pass in a Runnable to execute \"the given task sometime in the future.\"</p>\n\n<p>If you'd like to try using a thread pool, the code fragment above would become something like the following (using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool%28%29\">Executors.newCachedThreadPool()</a> factory method):</p>\n\n<pre><code>ExecutorService es = Executors.newCachedThreadPool();\nes.execute(new ThreadA());\n</code></pre>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 541527, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>You should implement Runnable, but if you are running on Java 5 or higher, you should not start it with <code>new Thread</code> but use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow\">ExecutorService</a> instead. For details see: <a href=\"http://stackoverflow.com/questions/125333/how-to-implement-simple-threading-in-java\">How to implement simple threading in Java</a>.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 541551, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>One thing that I'm surprised hasn't been mentioned yet is that implementing Runnable makes your class more flexible.</p>\n\n<p>If you extend thread then the action you're doing is always going to be in a thread.  However, if you implement Runnable it doesn't have to be.  You can run it in a thread, or pass it to some kind of executor service, or just pass it around as a task within a single threaded application (maybe to be run at a later time, but within the same thread).  The options are a lot more open if you just use Runnable than if you bind yourself to Thread.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 541583, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Separating the Thread class from the Runnable implementation also avoids potential synchronization problems between the thread and the run() method. A separate Runnable generally gives greater flexibility in the way that runnable code is referenced and executed.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 2399784, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Moral of the story:</p>\n\n<p><em>Inherit only if you want to override some behavior.</em></p>\n\n<p>Or rather it should be read as:</p>\n\n<p><em>Inherit less, interface more.</em></p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 2426408, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Runnable because: </p>\n\n<ul>\n<li>Leaves more flexibility for the\nRunnable implementation to extend\nanother class </li>\n<li>Separates the code from\nexecution</li>\n<li>Allows you to run your\nrunnable from a Thread Pool, the\nevent thread, or in any other way in\nthe future.</li>\n</ul>\n\n<p>Even if you don't need any of this now, you may in the future. Since there is no benefit to overriding Thread, Runnable is a better solution.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 2786210, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>I would say there is a third way:</p>\n\n<pre><code>public class Something {\n\n    public void justAnotherMethod() { ... }\n\n}\n\nnew Thread(new Runnable() {\n   public void run() {\n    instanceOfSomething.justAnotherMethod();\n   }\n}).start();\n</code></pre>\n\n<p>Maybe this is influenced a bit by my recent heavy usage of Javascript and Actionscript 3, but this way your class doesn't need to implement a pretty vague interface like <code>Runnable</code>.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 4019116, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Yes,\nIf you call ThreadA call , then  not need to call the start method and run method is call after call the ThreadA class only.\nBut If use the ThreadB call then need to necessary the start thread for call run method.\nIf you have any more help, reply me.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 9043937, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>I find it is most useful to use Runnable for all the reasons mentioned, but sometimes I like to extend Thread so I can create my own thread stopping method and call it directly on the thread I have created.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 10963798, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Java does not support multiple inheritence so if you extends Thread class then no other class will be extended. </p>\n\n<p>For Example: If you create an applet then it must extends Applet class so here the only way to create thread is by implementing Runnable interface</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 10963921, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Everyone here seems to think that implementing Runnable is the way to go and I don't really disagree with them but there is also a case for extending Thread in my opinion, in fact you have sort of demonstrated it in your code.</p>\n\n<p>If you implement Runnable then the class that implements Runnable has no control over the thread name, it is the calling code that can set the thread name, like so:</p>\n\n<pre><code>new Thread(myRunnable,\"WhateverNameiFeelLike\");\n</code></pre>\n\n<p>but if you extend Thread then you get to manage this within the class itself (just like in your example you name the thread 'ThreadB').  In this case you:</p>\n\n<p>A) might give it a more useful name for debugging purposes </p>\n\n<p>B) are forcing that that name be used for all instances of that class (unless you ignore the fact that it is a thread and do the above with it as if it is a Runnable but we are talking about convention here in any case so can ignore that possibility I feel).</p>\n\n<p>You might even for example take a stack trace of its creation and use that as the thread name.  This might seem odd but depending on how your code is structured it can be very useful for debugging purposes.</p>\n\n<p>This might seem like a small thing but where you have a very complex application with a lot of threads and all of a sudden things 'have stopped' (either for reasons of deadlock or possibly because of a flaw in a network protocol which would be less obvious - or other endless reasons) then getting a stack dump from Java where all the threads are called 'Thread-1','Thread-2','Thread-3' is not always very useful (it depends on how your threads are structured and whether you can usefully tell which is which just by their stack trace - not always possible if you are using groups of multiple threads all running the same code).</p>\n\n<p>Having said that you could of course also do the above in a generic way by creating an extension of the thread class which sets its name to a stack trace of its creation call and then use that with your Runnable implementations instead of the standard java Thread class (see below) but in addition to the stack trace there might be more context specific information that would be useful in the thread name for debugging (a reference to one of many queues or sockets it could processing for example in which case you might prefer to extend Thread specifically for that case so that you can have the compiler force you (or others using your libraries) to pass in certain info (e.g. the queue/socket in question) for use in the name).</p>\n\n<p>Here's an example of the generic thread with the calling stack trace as its name:</p>\n\n<pre><code>public class DebuggableThread extends Thread {\n    private static String getStackTrace(String name) {\n        Throwable t= new Throwable(\"DebuggableThread-\"+name);\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PrintStream ps = new PrintStream(os);\n        t.printStackTrace(ps);\n        return os.toString();\n    }\n\n    public DebuggableThread(String name) {\n        super(getStackTrace(name));\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(new Thread());\n        System.out.println(new DebuggableThread(\"MainTest\"));\n    }\n}\n</code></pre>\n\n<p>and here's a sample of the output comparing the two names:</p>\n\n<pre><code>Thread[Thread-1,5,main]\nThread[java.lang.Throwable: DebuggableThread-MainTest\n    at DebuggableThread.getStackTrace(DebuggableThread.java:6)\n    at DebuggableThread.&lt;init&gt;(DebuggableThread.java:14)\n    at DebuggableThread.main(DebuggableThread.java:19)\n,5,main]\n</code></pre>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 11110781, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>This maybe isn't an answer but anyway; there is one more way to create threads:</p>\n\n<pre><code>Thread t = new Thread() {\n    public void run() {\n        // Code here\n    }\n}\n</code></pre>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 11364937, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p><code>Runnable</code> is an interface, while <code>Thread</code> is a class which implements this interface. From a design point of view, there should be a clean separation between how a task is defined and between how it is executed. The former is the responsibility of a <code>Runnalbe</code> implementation, and the latter is job of the <code>Thread</code> class. In most of the cases implementing <code>Runnable</code> is the right way to follow.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 12020863, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Well so many good Answers, i want to add more on this, This will help to understand <code>Extending v/s Implementing  Thread_</code><br>Extends binds two class files very closely and can cause some pretty hard to deal with code.</p>\n\n<p>Both approaches do the same job but there have been some differences.<br>\n<em>The most common difference is</em> </p>\n\n<ol>\n<li>When you extends Thread class, after that you can\u2019t extend any other class which you required. (As you know, Java does not allow inheriting more than one class).</li>\n<li>When you implements Runnable, you can save a space for your class to extend any other class in future or now.</li>\n</ol>\n\n<p><em>However, one <strong>significant difference</strong> between implementing Runnable and extending Thread is that<br></em> <code>by extending Thread, each of your threads has a unique object associated with it, whereas implementing Runnable, many threads can share the same object instance.</code></p>\n\n<p><strong>The following example helps you to understand more clearly_</strong></p>\n\n<pre><code>//Implement Runnable Interface...\n class ImplementsRunnable implements Runnable {\n\nprivate int counter = 0;\n\npublic void run() {\n    counter++;\n    System.out.println(\"ImplementsRunnable : Counter : \" + counter);\n }\n}\n\n//Extend Thread class...\nclass ExtendsThread extends Thread {\n\nprivate int counter = 0;\n\npublic void run() {\n    counter++;\n    System.out.println(\"ExtendsThread : Counter : \" + counter);\n }\n}\n\n//Use above classes here in main to understand the differences more clearly...\npublic class ThreadVsRunnable {\n\npublic static void main(String args[]) throws Exception {\n    // Multiple threads share the same object.\n    ImplementsRunnable rc = new ImplementsRunnable();\n    Thread t1 = new Thread(rc);\n    t1.start();\n    Thread.sleep(1000); // Waiting for 1 second before starting next thread\n    Thread t2 = new Thread(rc);\n    t2.start();\n    Thread.sleep(1000); // Waiting for 1 second before starting next thread\n    Thread t3 = new Thread(rc);\n    t3.start();\n\n    // Creating new instance for every thread access.\n    ExtendsThread tc1 = new ExtendsThread();\n    tc1.start();\n    Thread.sleep(1000); // Waiting for 1 second before starting next thread\n    ExtendsThread tc2 = new ExtendsThread();\n    tc2.start();\n    Thread.sleep(1000); // Waiting for 1 second before starting next thread\n    ExtendsThread tc3 = new ExtendsThread();\n    tc3.start();\n }\n}\n</code></pre>\n\n<p><strong>Output of the above program.</strong></p>\n\n<pre><code>ImplementsRunnable : Counter : 1\nImplementsRunnable : Counter : 2\nImplementsRunnable : Counter : 3\nExtendsThread : Counter : 1\nExtendsThread : Counter : 1\nExtendsThread : Counter : 1\n</code></pre>\n\n<p>In the Runnable interface approach, only one instance of a class is being created and it has been shared by different threads. So the value of counter is incremented for each and every thread access.</p>\n\n<p>Whereas, Thread class approach, you must have to create separate instance for every thread access. Hence different memory is allocated for every class instances and each has separate counter, the value remains same, which means no increment will happen because none of the object reference is same.</p>\n\n<p><strong>When to use Runnable?</strong><br>\nUse Runnable interface when you want to access the same resource from the group of threads. Avoid using Thread class here, because multiple objects creation consumes more memory and it becomes a big performance overhead.</p>\n\n<pre><code>A class that implements Runnable is not a thread and just a class. For a Runnable to become a Thread, You need to create an instance of Thread and passing itself in as the target.\n</code></pre>\n\n<p>In most cases, the Runnable interface should be used if you are only planning to override the run() method and no other Thread methods. This is important because classes should not be subclassed unless the programmer intends on modifying or enhancing the fundamental behavior of the class.</p>\n\n<p>When there is a need to extend a superclass, implementing the Runnable interface is more appropriate than using the Thread class. Because we can extend another class while implementing Runnable interface to make a thread.<br></p>\n\n<p>I hope this will help! </p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 15226278, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>That's the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow\">S</a> of <a href=\"http://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"nofollow\">SOLID</a>: Single responsibility. </p>\n\n<p>A <em>thread</em> embodies the <strong>running context</strong> (as in execution context: stack frame, thread id, etc.) of the <em>asynchronous execution</em> of a piece of code. That <em>piece of code</em> ideally should be the same implementation, whether <em>synchronous</em> or <em>asynchronous</em>.</p>\n\n<p>If you bundle them together in one implementation, you give the resulting object two <em>unrelated</em> causes of change:</p>\n\n<ol>\n<li>thread handling in your application (ie. querying and modifying the execution context)</li>\n<li>algorithm implemented by the piece of code (the runnable part)</li>\n</ol>\n\n<p>If the language you use supports partial classes or multiple inheritance, then you can segregate each cause in its own super class, but it boils down to the same as composing the two objects, since their feature sets don't overlap. That's for the theory. </p>\n\n<p>In practice, generally speaking, a programme does not need to carry more complexity than necessary. If you have one thread working on a specific task, without ever changing that task, there is probably no point in making the tasks separate classes, and your code remains simpler.  </p>\n\n<p>In the context of <em>Java</em>, since the facility is <strong>already there</strong>, it is probably easier to start directly with stand alone <code>Runnable</code> classes, and pass their instances to <code>Thread</code> (or <code>Executor</code>) instances. Once <em>used</em> to that pattern, it is not harder to use (or even read) than the simple runnable thread case.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 15474258, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>If you want to implements or extends any other class then <code>Runnable</code> interface is most preferable other wise if you do not want any other class to extend or implement then <code>Thread</code> class is preferable </p>\n\n<p><strong>The most common difference is</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/vLRdp.gif\" alt=\"enter image description here\"></p>\n\n<p>When you <code>extends Thread</code> class, after that you can\u2019t extend any other class which you required. (As you know, Java does not allow inheriting more than one class).</p>\n\n<p>When you <code>implements Runnable</code>, you can save a space for your class to extend any other class in future or now.</p>\n\n<ul>\n<li><p>Java doesn't support multiple inheritance, which means you can only extend one class in Java so once you extended Thread class you lost your chance and can not extend or inherit another class in Java.</p></li>\n<li><p>In Object oriented programming extending a class generally means adding new functionality, modifying or improving behaviors. If we are not making any modification on Thread then use Runnable interface instead.</p></li>\n<li><p>Runnable interface represent a Task which can be executed by either plain Thread or Executors or any other means. so logical separation of Task as Runnable than Thread is good design decision.</p></li>\n<li><p>Separating task as Runnable means we can reuse the task and also has liberty to execute it from different means. since you can not restart a Thread once it completes. again Runnable vs Thread for task, Runnable is winner.</p></li>\n<li><p>Java designer recognizes this and that's why Executors accept Runnable as Task and they have worker thread which executes those task.</p></li>\n<li><p>Inheriting all Thread methods are additional overhead just for representing a Task which can be done easily with Runnable.</p></li>\n</ul>\n\n<p>Courtesy from <a href=\"http://javarevisited.blogspot.com/2012/01/difference-thread-vs-runnable-interface.html\">javarevisited.blogspot.com</a></p>\n\n<p>These were some of notable difference between Thread and Runnable in Java, if you know any other differences on Thread vs Runnable than please share it via comments. I personally use Runnable over Thread for this scenario and recommends to use Runnable or Callable interface based on your requirement.</p>\n\n<p><strong>However, the significant difference is.</strong></p>\n\n<p>When you <code>extends Thread</code> class, each of your thread creates unique object and associate with it.\nWhen you <code>implements Runnable</code>, it shares the same object to multiple threads.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 16495477, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>One reason you'd want to implement an interface rather than extend a base class is that you are already extending some other class. You can only extend one class, but you can implement any number of interfaces.</p>\n\n<p>If you extend Thread, you're basically preventing your logic to be executed by any other thread than 'this'. If you only want <em>some</em> thread to execute your logic, it's better to just implement Runnable.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 17864833, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>if you use runnable you can save the space to extend to any of your other class.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 19020435, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Can we re-visit the basic reason we wanted our class to behave as a <code>Thread</code>?\nThere is no reason at all, we just wanted to execute a task, most likely in an asynchronous mode, which precisely means that the execution of the task must branch from our main thread and the main thread if finishes early, may or may not wait for the branched path(task).</p>\n\n<p>If this is the whole purpose, then where do I see the need of a specialized Thread. This can be accomplished by picking up a RAW Thread from the System's Thread Pool and assigning it our task (may be an instance of our class) and that is it.</p>\n\n<p>So let us obey the OOPs concept and write a class of the type we need. There are many ways to do things, doing it in the right way matters. </p>\n\n<p>We need a task, so write a task definition which can be run on a Thread. So use Runnable.</p>\n\n<p>Always remember <code>implements</code> is specially used to impart a behaviour and <code>extends</code> is used to impart a feature/property.</p>\n\n<p>We do not want the thread's property, instead we want our class to behave as a task which can be run.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 20136329, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>This is discussed in Oracle's <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html\">Defining and Starting a Thread</a> tutorial:</p>\n\n<blockquote>\n  <p>Which of these idioms should you use? The first idiom, which employs a\n  Runnable object, is more general, because the Runnable object can\n  subclass a class other than Thread. The second idiom is easier to use\n  in simple applications, but is limited by the fact that your task\n  class must be a descendant of Thread. This lesson focuses on the first\n  approach, which separates the Runnable task from the Thread object\n  that executes the task. Not only is this approach more flexible, but\n  it is applicable to the high-level thread management APIs covered\n  later.</p>\n</blockquote>\n\n<p>In other words, implementing <code>Runnable</code> will work in scenarios where your class extends a class other than <code>Thread</code>. Java does not support multiple inheritance. Also, extending <code>Thread</code> will not be possible when using some of the high-level thread management APIs. The only scenario where extending <code>Thread</code> is preferable is in a small application that won't be subject to updates in future. It is almost always better to implement <code>Runnable</code> as it is more flexible as your project grows. A design change won't have a major impact as you can implement many interfaces in java, but only extend one class.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 21264101, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Since this is a very popular topic and the good answers are spread all over and dealt with in great depth, I felt it is justifiable to compile the good answers from the others into a more concise form, so newcomers have an easy overview upfront:</p>\n\n<ol>\n<li><p>You usually extend a class to add or modify functionality. So, <em>if you don't want</em> to <strong>overwrite</strong> any <strong>Thread behavior</strong>, then use Runnable.</p></li>\n<li><p>In the same light, <em>if you don't need</em> to <strong>inherit</strong> thread methods, you can do without that <strong>overhead</strong> by using Runnable.</p></li>\n<li><p><strong>Single inheritance</strong>: If you extend Thread you cannot extend from any other class, so if that is what you need to do, you have to use Runnable.</p></li>\n<li><p>It is good design to separate domain logic from technical means, in that sense it is better to have a Runnable task <strong>isolating</strong> your <strong>task from</strong> your <strong>runner</strong>.</p></li>\n<li><p>You can <strong>execute</strong> the same Runnable <strong>object multiple times</strong>, a Thread object, however, can only be started once. (Maybe the reason, why Executors do accept Runnables, but not Threads.)</p></li>\n<li><p>If you develop your task as Runnable, you have <strong>all flexibility how to use it now and in the future</strong>. You can have it run concurrently via Executors but also via Thread. And you still could also use/call it non-concurrently within the same thread just as any other ordinary type/object. </p></li>\n<li><p>This makes it also easier to <strong>separate</strong> task-logic and concurrency <strong>aspects in</strong> your <strong>unit tests</strong>.</p></li>\n<li><p>If you are interested in this question, you might be also interested in the <a href=\"http://stackoverflow.com/questions/141284/the-difference-between-the-runnable-and-callable-interfaces-in-java\">difference between Callable and Runnable</a>.</p></li>\n</ol>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 21749501, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Difference between Thread and runnable\n.If  we are creating Thread using Thread class then Number of thread equal to number of object we created  .\nIf we are creating thread  by implementing the runnable interface then we can use single object for creating multiple thread.So single object is shared by multiple Thread.So it will take less memory</p>\n\n<p>So depending upon the requirement if our data is not senstive. So It can be shared between multiple Thread we can used Runnable interface.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 22190019, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Simple way to say is:\nIf you implement interface that means you are implementing all methods of it and if you extending the class you are inheriting method of your choice... \nIn this case,there is <strong>only a one method named Run()</strong> so <strong>better to implement Runnable interface..</strong></p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 24279390, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>With the release of Java 8, there is now a third option.</p>\n\n<p><code>Runnable</code> is a <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8\">functional interface</a>, which means that instances of it can be created with lambda expressions or method references.</p>\n\n<p>Your example can be replaced with:</p>\n\n<pre><code>new Thread(() -&gt; { /* Code here */ }).start()\n</code></pre>\n\n<p>or if you want to use an <code>ExecutorService</code> and a method reference:</p>\n\n<pre><code>executor.execute(runner::run)\n</code></pre>\n\n<p>These are not only much shorter than your examples, but also come with many of the advantages stated in other answers of using <code>Runnable</code> over <code>Thread</code>, such as single responsibility and using composition because you're not specializing the thread's behaviour. This way also avoids creating an extra class if all you need is a <code>Runnable</code> as you do in your examples.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 25014151, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Adding my two cents here -\n<strong>Always whenever possible use <code>implements Runnable</code> . Below are two caveats on why you should not use \n<code>extends Thread</code>s</strong></p>\n\n<ol>\n<li><p>Ideally you should never extend the Thread class; the <code>Thread</code> class should be made <code>final</code>.\nAt least its methods like <code>thread.getId()</code>. \nSee <a href=\"http://jsr166-concurrency.10961.n7.nabble.com/RRWL-with-bad-Thread-getId-implementations-tc9754.html\" rel=\"nofollow\">this</a> discussion for a bug related to extending <code>Thread</code>s. </p></li>\n<li><p>Those who like to solve puzzles can see another side effect of extending Thread. The below code \nwill print unreachable code when nobody is notifying them.</p></li>\n</ol>\n\n<p>Please see  <a href=\"http://pastebin.com/BjKNNs2G\" rel=\"nofollow\">http://pastebin.com/BjKNNs2G</a>. </p>\n\n<pre><code>public class WaitPuzzle {\n\n    public static void main(String[] args) throws InterruptedException {\n        DoNothing doNothing = new DoNothing();\n        new WaitForever(doNothing).start();\n        new WaitForever(doNothing).start();\n        new WaitForever(doNothing).start();\n        Thread.sleep(100);\n        doNothing.start();\n        while(true) {\n            Thread.sleep(10);\n        }\n    }\n\n\n    static class WaitForever extends  Thread {\n\n        private DoNothing doNothing;\n\n        public WaitForever(DoNothing doNothing) {\n            this.doNothing =  doNothing;\n        }\n\n        @Override\n        public void run() {\n            synchronized (doNothing) {\n                try {\n                    doNothing.wait(); // will wait forever here as nobody notifies here\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(\"Unreachable Code\");\n            }\n        }\n    }\n\n    static class DoNothing extends Thread {\n\n        @Override\n        public void run() {\n            System.out.println(\"Do Nothing \");\n        }\n    } \n}\n</code></pre>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 27750341, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>One difference between implementing Runnable and extending Thread is that by extending Thread, each of your threads has a unique object associated with it, whereas implementing Runnable, many threads can share the same object instance.</p>\n\n<p>A class that implements Runnable is not a thread and just a class. For a Runnable to be executed by a Thread, you need to create an instance of Thread and pass the Runnable instance in as the target.</p>\n\n<p>In most cases, the Runnable interface should be used if you are only planning to override the run() method and no other Thread methods. This is important because classes should not be subclassed unless the programmer intends on modifying or enhancing the fundamental behavior of the class.</p>\n\n<p>When there is a need to extend a superclass, implementing the Runnable interface is more appropriate than using the Thread class. Because we can extend another class while implementing Runnable interface to make a thread. But if we just extend the Thread class we can't inherit from any other class.</p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 28599310, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Actually, It is not wise to compare <code>Runnable</code> and <code>Thread</code> with each other.  </p>\n\n<p>This two have a dependency and relationship in multi-threading just like <code>Wheel and Engine</code> relationship of motor vehicle.</p>\n\n<p>I would say, there is only one way for multi-threading with two steps. Let me make my point.</p>\n\n<p><strong>Runnable:</strong><br>\nWhen implementing <code>interface Runnable</code> it means you are creating something which is <code>run able</code> in a different thread. Now creating something which can run inside a thread (runnable inside a thread), doesn't mean to creating a Thread.<br>\nSo the class <code>MyRunnable</code> is nothing but a ordinary class with a <code>void run</code> method.\nAnd it's objects will be some ordinary objects with only a method <code>run</code> which will execute normally when called.  (unless we pass the object in a thread).</p>\n\n<p><strong>Thread:</strong><br>\n<code>class Thread</code>, I would say A very special class with the capability of starting a new Thread which actually enables multi-threading through its <code>start()</code> method.</p>\n\n<p><strong>Why not wise to compare?</strong><br>\nBecause we need both of them for multi-threading.   </p>\n\n<p>For Multi-threading we need two things:  </p>\n\n<ul>\n<li>Something that can run inside a Thread (Runnable).   </li>\n<li>Something That can start a new Thread (Thread).</li>\n</ul>\n\n<p>So technically and theoretically  both of them is necessary to start a thread, one will <strong>run</strong> and one will <strong>make it run</strong> (Like <strong><code>Wheel and Engine</code></strong> of motor vehicle).</p>\n\n<p>That's why you can not start a thread with <code>MyRunnable</code> you need to pass it to a instance of <code>Thread</code>.</p>\n\n<p><strong>But</strong> it is possible to create and run a thread only using <code>class Thread</code> because Class <code>Thread</code> implements <code>Runnable</code> so we all know <code>Thread</code> also is a <code>Runnable</code> inside.</p>\n\n<p><strong>Finally <code>Thread</code> and <code>Runnable</code> are complement to each other for multithreading  not competitor or replacement.</strong></p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 30192904, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>Thread holds behaviour which is not intended to be accessed;</p>\n\n<ul>\n<li>it's synchronized lock is used for join etc.</li>\n<li>it has methods you can access by accident.</li>\n</ul>\n\n<p>however if you sub-class Thread have to consider more Thread is implemented.</p>\n\n<pre><code>public class ThreadMain {\n    public int getId() {\n        return 12345678;\n    }\n\n    public String getName() {\n        return \"Hello World\";\n    }\n\n    public String getState() {\n        return \"testing\";\n    }\n\n    public void example() {\n        new Thread() {\n            @Override\n            public void run() {\n                System.out.println(\"id: \"+getId()+\", name: \"+getName()+\", state: \"+getState());\n            }\n        }.start();\n    }\n\n    public static void main(String[] args) {\n        new ThreadMain().example();\n    }\n}\n</code></pre>\n\n<p>If you run this you might expect</p>\n\n<pre><code>id: 12345678, name: Hello World, state: testing\n</code></pre>\n\n<p>however, you are not calling the methods you think you are because you are using the method in <code>Thread</code> not <code>ThreadMain</code> and instead you see something like</p>\n\n<pre><code>id: 11, name: Thread-0, state: RUNNABLE\n</code></pre>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 31640214, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>The simplest explanation would be by implementing <code>Runnable</code> we can assign the same object to multiple threads and each <code>Thread</code> shares the same object states and behavior. </p>\n\n<p>For example, suppose there are two threads, thread1 puts an integer in an array and thread2 takes integers from the array when the array is filled up. Notice that in order for thread2 to work it needs to know the state of array, whether thread1 has filled it up or not. </p>\n\n<p>Implementing <code>Runnable</code> lets you to have this flexibility to share the object whereas <code>extends Thread</code> makes you to create new objects for each threads therefore any update that is done by thread1 is lost to thread2.    </p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 32005221, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>If I am not wrong, it's more or less similar to </p>\n\n<p><a href=\"http://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class/33957698#33957698\">What is the difference between an interface and abstract class?</a></p>\n\n<p>extends establishes \"<strong>Is A</strong>\" relation &amp; interface provides \"<strong>Has a</strong>\" capability.</p>\n\n<p>Prefer <strong><em>implements Runnable</em></strong> :</p>\n\n<ol>\n<li>If you don't have to extend Thread class and modify Thread API default implementation</li>\n<li>If you are executing a fire and forget command</li>\n<li>If You are already extending another class</li>\n</ol>\n\n<p>Prefer \"<strong><em>extends Thread</em></strong>\" :</p>\n\n<ol>\n<li>If you have to override any of these <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow\">Thread</a> methods as listed in oracle documentation page</li>\n</ol>\n\n<p>Generally you don't need to override Thread behaviour. So <strong>implements Runnable</strong> is preferred for most of the times. </p>\n\n<p>On a different note, using advanced <code>ExecutorService</code> or <code>ThreadPoolExecutorService</code> API provides more flexibility and control.</p>\n\n<p>Have a look at this SE Question:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/26938210/executorservice-vs-casual-thread-spawner/34923574#34923574\">ExecutorService vs Casual Thread Spawner</a></p>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 35378242, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}, {"body": "<p>The best way for most worker threads is to have the threading completely encapsuled in the worker class so that nothing can interfere from the outside and cause unwanted and invalid thread/class states.</p>\n\n<p>I've just posted an example, so I'll also share this with you:</p>\n\n<pre><code>/**\n * This worker can only run once\n * @author JayC667\n */\npublic class ProperThreading {\n\n    private final Thread        mThread         = new Thread(() -&gt; runWorkingLoop());   // if you want worker to be able to run multiple times, move initialisation into startThread()\n    private volatile boolean    mThreadStarted  = false;\n    private volatile boolean    mStopRequested  = false;\n\n    private final long          mLoopSleepTime;\n\n    public ProperThreading(final long pLoopSleepTime /* pass more arguments here, store in members */ ) {\n        mLoopSleepTime = pLoopSleepTime;\n    }\n\n    public synchronized void startThread() {\n        if (mThreadStarted) throw new IllegalStateException(\"Worker Thread may only be started once and is already running!\");\n        mThreadStarted = true;\n        mThread.start();\n    }\n\n    private void runWorkingLoop() {\n        while (!mStopRequested /* &amp;&amp; other checks */ ) {\n            try {\n                // do the magic work here\n                Thread.sleep(mLoopSleepTime);\n\n            } catch (final InterruptedException e) {\n                break;\n            } catch (final Exception e) {\n                // do at least some basic handling here, you should NEVER ignore exception unless you know exactly what you're doing, and then it should be commented!\n            }\n        }\n    }\n\n    public synchronized void stopThread() {\n        if (!mThreadStarted) throw new IllegalStateException(\"Worker Thread is not even running yet!\");\n        mStopRequested = true;\n        mThread.interrupt();\n    }\n\n}\n</code></pre>\n", "title": "&quot;implements Runnable&quot; vs. &quot;extends Thread&quot;", "answer_id": 36822629, "question_id": 541487, "tags": ["java", "multithreading", "java-threads"]}], "question_id": 541487}, {"body": "<p>I have the following code in Ruby. I want to convert this code into JavaScript. what's the equivalent code in JS?</p>\n\n<pre><code>text = &lt;&lt;\"HERE\"\nThis\nIs\nA\nMultiline\nString\nHERE\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "tags": ["javascript", "string", "multiline", "heredoc"], "answer_count": 32, "link": "http://stackoverflow.com/questions/805107/creating-multiline-strings-in-javascript", "answers": [{"body": "<p>You can do this...</p>\n\n<pre><code>var string = 'This is\\n' +\n'a multiline\\n' + \n'string';\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 805111, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>Javascript doesn't have a here-document syntax. You can escape the literal newline, however, which comes close:</p>\n\n<pre><code>\"foo \\\nbar\"\n</code></pre>\n\n<hr>\n\n<h3>Update:</h3>\n\n<p>ECMAScript 6 (ES6) introduces a new type of literal, namely <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings\"><strong>template literals</strong></a>. They have many features, variable interpolation among others, but most importantly for this question, they can be multiline.</p>\n\n<p>A template literal is delimited by <em>backticks</em>:</p>\n\n<pre><code>var html = `\n  &lt;div&gt;\n    &lt;span&gt;Some HTML here&lt;/span&gt;\n  &lt;/div&gt;\n`;\n</code></pre>\n\n<p>(Note: I'm not advocating to use HTML in strings)</p>\n\n<p><a href=\"https://kangax.github.io/compat-table/es6/#template_strings\">Browser support is OK</a>, but you can use <a href=\"https://babeljs.io/\">transpilers</a> to be more compatible.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 805113, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>the pattern <code>text = &lt;&lt;\"HERE\" This Is A Multiline String HERE</code> is not available in js (I remember using it much in my good old Perl days).</p>\n\n<p>To keep oversight with complex or long multiline strings I sometimes use an array pattern:</p>\n\n<pre><code>var myString = \n   ['&lt;div id=\"someId\"&gt;',\n    'some content&lt;br /&gt;',\n    '&lt;a href=\"#someRef\"&gt;someRefTxt&lt;/a&gt;',\n    '&lt;/div&gt;'\n   ].join('\\n');\n</code></pre>\n\n<p>or the pattern anonymous already showed (escape newline), which can be an ugly block in your code:</p>\n\n<pre><code>    var myString = \n       '&lt;div id=\"someId\"&gt; \\\nsome content&lt;br /&gt; \\\n&lt;a href=\"#someRef\"&gt;someRefTxt&lt;/a&gt; \\\n&lt;/div&gt;';\n</code></pre>\n\n<p>Here's another weird but working 'trick'<sup><b>1</b></sup>:</p>\n\n<pre><code>var myString = (function () {/*\n   &lt;div id=\"someId\"&gt;\n     some content&lt;br /&gt;\n     &lt;a href=\"#someRef\"&gt;someRefTxt&lt;/a&gt;\n    &lt;/div&gt;        \n*/}).toString().match(/[^]*\\/\\*([^]*)\\*\\/\\}$/)[1];\n</code></pre>\n\n<p><em>external edit: <a href=\"http://jsfiddle.net/orwellophile/hna15vLw/2/\">jsfiddle</a></em></p>\n\n<p>[<b>addition 2015</b>]<br>\nES6 supports spanning strings over multiple lines using <a href=\"http://www.2ality.com/2011/09/quasi-literals.html\">template strings</a>:</p>\n\n<pre><code>let str = `This is a text\n    with multiple lines.\n    Escapes are interpreted,\n    \\n is a newline.`;\nlet str = String.raw`This is a text\n    with multiple lines.\n    Escapes are not interpreted,\n    \\n is not a newline.`;\n</code></pre>\n\n<p><sup><b>1</b></sup> Note: this will be lost after minifying/obfuscating your code</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 805755, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>This works in IE, Safari, Chrome and Firefox:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div class=\"crazy_idea\" thorn_in_my_side='&lt;table  border=\"0\"&gt;\n                        &lt;tr&gt;\n                            &lt;td &gt;&lt;span class=\"mlayouttablecellsdynamic\"&gt;PACKAGE price $65.00&lt;/span&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/table&gt;'&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n    alert($(\".crazy_idea\").attr(\"thorn_in_my_side\"));\n&lt;/script&gt;\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 4258535, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>You <em>can</em> have multiline strings in pure JavaScript.</p>\n\n<p>This method is based on the serialization of functions, which is <a href=\"http://es5.github.io/#x15.3.4.2\">defined to be implementation-dependent</a>. It does work in the most browsers (see below), but there's no guarantee that it will still work in the future, so do not rely on it.</p>\n\n<p>Using the following function:</p>\n\n<pre><code>function hereDoc(f) {\n  return f.toString().\n      replace(/^[^\\/]+\\/\\*!?/, '').\n      replace(/\\*\\/[^\\/]+$/, '');\n}\n</code></pre>\n\n<p>You can have here-documents like this:</p>\n\n<pre><code>var tennysonQuote = hereDoc(function() {/*!\n  Theirs not to make reply,\n  Theirs not to reason why,\n  Theirs but to do and die\n*/});\n</code></pre>\n\n<p>The method has successfully been tested in the following browsers (not mentioned = not tested):</p>\n\n<ul>\n<li>IE 4 - 10</li>\n<li>Opera 9.50 - 12 (not in 9-)</li>\n<li>Safari 4 - 6 (not in 3-)</li>\n<li>Chrome 1 - 45</li>\n<li>Firefox 17 - 21 (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString#Notes\">not in 16-</a>)</li>\n<li>Rekonq 0.7.0 - 0.8.0</li>\n<li><em>Not supported in Konqueror 4.7.4</em></li>\n</ul>\n\n<p>Be careful with your minifier, though. It tends to remove comments. For the <a href=\"http://www.julienlecomte.net/yuicompressor/README\">YUI compressor</a>, a comment starting with <code>/*!</code> (like the one I used) will be preserved. </p>\n\n<p>I think a <em>real</em> solution would be to use <a href=\"http://coffeescript.org/#strings\">CoffeeScript</a>.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 5571069, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>to sum up, I have tried 2 approaches listed here in user javascript programming (Opera 11.01):</p>\n\n<ul>\n<li>this one didn't work: <a href=\"http://stackoverflow.com/questions/805107/multiline-strings-in-javascript/805111#805111\">Multiline strings in Javascript</a></li>\n<li>this worked fairly well, I have also figured out how to make it look good in Notepad++ source view: <a href=\"http://stackoverflow.com/questions/805107/multiline-strings-in-javascript/5571069#5571069\">Multiline strings in Javascript</a></li>\n</ul>\n\n<p>So I recommend the working approach for Opera user JS users. Unlike what the author was saying: </p>\n\n<blockquote>\n  <p>It doesn't work on firefox or opera; only on IE, chrome and safari. </p>\n</blockquote>\n\n<p>It DOES work in Opera 11. At least in user JS scripts. Too bad I can't comment on individual answers or upvote the answer, I'd do it immediately. If possible, someone with higher privileges please do it for me.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 6072388, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<h2>Update</h2>\n\n<p>With ES6/Babel, you can now create multi-line strings simply by using backticks:</p>\n\n<pre><code>var htmlString = `Say hello to \nmulti-line\nstrings!`;\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://google.github.io/styleguide/javascriptguide.xml?showone=Multiline_string_literals#Multiline_string_literals\">Google's JavaScript style guide</a> recommends to use string concatenation instead of escaping newlines:</p>\n  \n  <p><strong>Do not do this:</strong></p>\n  \n  <p><code>var myString = 'A rather long string of English text, an error message \\\n                  actually that just keeps going and going -- an error \\\n                  message to make the Energizer bunny blush (right through \\\n                  those Schwarzenegger shades)! Where was I? Oh yes, \\\n                  you\\'ve got an error and all the extraneous whitespace is \\\n                  just gravy.  Have a nice day.';</code></p>\n  \n  <p>The whitespace at the beginning of each line can't be safely stripped at compile time; whitespace after the slash will result in tricky errors; and while most script engines support this, it is not part of ECMAScript.</p>\n  \n  <p><strong>Use string concatenation instead:</strong></p>\n  \n  <p><code>var myString = 'A rather long string of English text, an error message ' +\n      'actually that just keeps going and going -- an error ' +\n      'message to make the Energizer bunny blush (right through ' +\n      'those Schwarzenegger shades)! Where was I? Oh yes, ' +\n      'you\\'ve got an error and all the extraneous whitespace is ' +\n      'just gravy.  Have a nice day.';</code></p>\n</blockquote>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 6247331, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I like this syntax and indendation:</p>\n\n<pre><code>string = 'my long string...\\n'\n       + 'continue here\\n'\n       + 'and here.';\n</code></pre>\n\n<p>(but actually can't be considered as multiline string)</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 8495489, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I'm surprised I didn't see this, because it works everywhere I've tested it and is very useful for e.g. templates:</p>\n\n<pre><code>&lt;script type=\"bogus\" id=\"multi\"&gt;\n    My\n    multiline\n    string\n&lt;/script&gt;\n&lt;script&gt;\n    alert($('#multi').html());\n&lt;/script&gt;\n</code></pre>\n\n<p>Does anybody know of an environment where there is HTML but it doesn't work?</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 8717821, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I solved this by outputting a div, making it hidden, and calling the div id by jQuery when i needed it.</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;div id=\"UniqueID\" style=\"display:none;\"&gt;\n     Strings\n     On\n     Multiple\n     Lines\n     Here\n&lt;/div&gt;\n</code></pre>\n\n<p>Then when i need to get the string, i just use the following jQuery:</p>\n\n<pre><code>$('#UniqueID').html();\n</code></pre>\n\n<p>Which returns my text on multiple lines. If i call </p>\n\n<pre><code>alert($('#UniqueID').html();\n</code></pre>\n\n<p>I get:</p>\n\n<p><img src=\"http://i.stack.imgur.com/vIVFc.png\" alt=\"enter image description here\"></p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 12007670, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>Using script tags:</p>\n\n<ul>\n<li>add a <code>&lt;script&gt;...&lt;/script&gt;</code> block containing your multiline text into <code>head</code> tag;</li>\n<li><p>get your multiline text as is... (watch out for text encoding: UTF-8, ASCII)</p>\n\n<pre><code>&lt;script&gt;\n\n    // pure javascript\n    var text = document.getElementById(\"mySoapMessage\").innerHTML ;\n\n    // using JQuery's document ready for safety\n    $(document).ready(function() {\n\n        var text = $(\"#mySoapMessage\").html(); \n\n    });\n\n&lt;/script&gt;\n\n&lt;script id=\"mySoapMessage\"&gt;\n\n    &lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:typ=\"...\"&gt;\n       &lt;soapenv:Header/&gt;\n       &lt;soapenv:Body&gt;\n          &lt;typ:getConvocadosElement&gt;\n             ...\n          &lt;/typ:getConvocadosElement&gt;\n       &lt;/soapenv:Body&gt;\n    &lt;/soapenv:Envelope&gt;\n\n    &lt;!-- this comment will be present on your string --&gt;\n    //uh-oh, javascript comments...  SOAP request will fail \n\n\n&lt;/script&gt;\n</code></pre></li>\n</ul>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 12097933, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>Just tried the Anonymous answer and found there's a little trick here, it doesn't work if there's a space after backslash <code>\\</code> <br />\nSo the following solution doesn't work -</p>\n\n<pre><code>var x = { test:'&lt;?xml version=\"1.0\"?&gt;\\ &lt;-- One space here\n            &lt;?mso-application progid=\"Excel.Sheet\"?&gt;' \n};\n</code></pre>\n\n<p>But when space is removed it works - </p>\n\n<pre><code>var x = { test:'&lt;?xml version=\"1.0\"?&gt;\\&lt;-- No space here now\n          &lt;?mso-application progid=\"Excel.Sheet\"?&gt;' \n};\n\nalert(x.test);\u200b\n</code></pre>\n\n<p>Hope it helps !!</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 13529824, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I think this workaround should work in IE, Chrome, Firefox, Safari, Opera -</p>\n\n<p><strong>Using jQuery</strong> :</p>\n\n<pre><code>&lt;xmp id=\"unique_id\" style=\"display:none;\"&gt;\n  Some plain text\n  Both type of quotes :  \" ' \" And  ' \" '\n  JS Code : alert(\"Hello World\");\n  HTML Code : &lt;div class=\"some_class\"&gt;&lt;/div&gt;\n&lt;/xmp&gt;\n&lt;script&gt;\n   alert($('#unique_id').html());\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Using Pure Javascript :</strong></p>\n\n<pre><code>&lt;xmp id=\"unique_id\" style=\"display:none;\"&gt;\n  Some plain text\n  Both type of quotes :  \" ' \" And  ' \" '\n  JS Code : alert(\"Hello World\");\n  HTML Code : &lt;div class=\"some_class\"&gt;&lt;/div&gt;\n&lt;/xmp&gt;\n&lt;script&gt;\n   alert(document.getElementById('unique_id').innerHTML);\n&lt;/script&gt;\n</code></pre>\n\n<p>Cheers!!</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 14561933, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p><strong>Downvoters</strong>: This code is supplied for information only. </p>\n\n<p>This has been tested in Fx 19 and Chrome 24 on Mac  </p>\n\n<p><a href=\"http://jsfiddle.net/mplungjan/pMSc8/\">DEMO</a></p>\n\n<pre><code>var new_comment; /*&lt;&lt;&lt;EOF \n    &lt;li class=\"photobooth-comment\"&gt;\n       &lt;span class=\"username\"&gt;\n          &lt;a href=\"#\"&gt;You&lt;/a&gt;\n       &lt;/span&gt;\n       &lt;span class=\"comment-text\"&gt;\n          $text\n       &lt;/span&gt;\n       &lt;span class=\"comment-time\"&gt;\n          2d\n       &lt;/span&gt;\n    &lt;/li&gt;\nEOF*/\n// note the script tag here is hardcoded as the FIRST tag \nnew_comment=document.currentScript.innerHTML.split(\"EOF\")[1]; \nalert(new_comment.replace('$text','Here goes some text'));\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 14919898, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>It's not extremely elegant but it's clean enough for me:</p>\n\n<pre><code>var myString = \"First line\" + \"\\n\";\nvar myString = myString + \"Second line\" + \"\\n\";\nvar myString = myString + \"Third line\" + \"\\n\";\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 14948475, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>This is one fairly economical approach, at least in terms of the source code:</p>\n\n<pre><code>function s() {\n    var args = [],index;\n    for (index = 0; index&lt; arguments.length; index++) {\n        args.push (arguments [index]);\n    }\n    return args.join (\"\\n\");\n}\nconsole.log (s (\n    \"This is the first line\",\n    \"and this is the second\",\n    \"finally a third\"\n));\n\nfunction s() {return arguments.join (\"\\n\")} \n</code></pre>\n\n<p>would be nicer of course if the \"arguments\" property were a proper array.</p>\n\n<p>A second version might use \"\" to do the join for cases when you want to control the line breaks in a very long string.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 15267630, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I came up with this very jimmy rigged method of a multi lined string. Since converting a function into a string also returns any comments inside the function you can use the comments as your string using a multilined comment /**/. You just have to trim off the ends and you have your string.</p>\n\n<pre><code>var myString = function(){/*\n    This is some\n    awesome multi-lined\n    string using a comment \n    inside a function \n    returned as a string.\n    Enjoy the jimmy rigged code.\n*/}.toString().slice(14,-3)\n\nalert(myString)\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 15558082, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I program this way:</p>\n\n<pre><code>sys = {\n    layout: null,\n    makeLayout: function (obCLS) {\n        this.layout = $('&lt;div /&gt;').addClass('editor').appendTo($(obCLS)).append(\n\n            /* Cargador */\n            /* @this.layout.find('&gt; div:nth-of-child(1)'); */\n            '&lt;div&gt;' +\n            '   &lt;p&gt;Seleccione la imagen que desea procesar.&lt;/p&gt;' +\n            '   &lt;input type=\"button\" value=\"Seleccionar\" class=\"btn btn-xlarge btn-success\" /&gt;' +\n            '   &lt;span&gt;&lt;/span&gt;' +\n            '&lt;/div&gt;' +\n\n            /* Cargador - Progreso */\n            /* @this.layout.find('&gt; div:nth-of-child(2)'); */\n            '&lt;div&gt;' +\n            '   &lt;div&gt;' +\n            '       &lt;div&gt;&lt;/div&gt;' +\n            '       &lt;div&gt;' +\n            '           &lt;div&gt;&lt;/div&gt;' +\n            '       &lt;/div&gt;' +\n            '   &lt;/div&gt;' +\n            '&lt;/div&gt;' +\n\n            /* Editor */\n            /* @this.layout.find('&gt; div:nth-of-child(3)');\n             * @sidebar = this.layout.find('&gt; div:nth-of-child(3) &gt; div &gt; div &gt; div:nth-of-type(1)');\n             * @body    = this.layout.find('&gt; div:nth-of-child(3) &gt; div &gt; div &gt; div:nth-of-type(2) &gt; div'); */\n            '&lt;div&gt;' +\n            '   &lt;div&gt;' +\n            '       &lt;div&gt;' +\n            '           &lt;div&gt;&lt;/div&gt;' +\n            '           &lt;div&gt;' +\n            '               &lt;div&gt;&lt;/div&gt;' +\n            '           &lt;/div&gt;' +\n            '       &lt;/div&gt;' +\n            '   &lt;/div&gt;' +\n            '&lt;/div&gt;'\n        );\n    }\n}\n\nsys.makeLayout('#div');\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 18021444, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>I think I discovered another way to do it inline without any invasive syntax on every line. Use Javascript's ability to convert a function to string and create a multiline comment with the <code>/**/</code> syntax then remove the \"function() {/*\\n\" and \"\\n*/}\".</p>\n\n<pre><code>var multiline = function(string) { return string.toString().replace(/(^[^\\n]*\\n)|(\\n\\*\\/\\})/g, \"\"); };\n\nconsole.log(multiline(function() {/*\nHello world!\nI'm a multiline string!\n\nTada!\n*/}));\n</code></pre>\n\n<p>The only pitfall I can see in this is the syntax highlighting.</p>\n\n<p>EDIT: Had I scrolled down a little more, I would have seen this answer doing exactly the same thing: <a href=\"http://stackoverflow.com/a/5571069/916553\">http://stackoverflow.com/a/5571069/916553</a></p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 18471537, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>My version of array-based join for string concat:</p>\n\n<pre><code>var c = []; //c stands for content\nc.push(\"&lt;div id='thisDiv' style='left:10px'&gt;&lt;/div&gt;\");\nc.push(\"&lt;div onclick='showDo(\\'something\\');'&gt;&lt;/div&gt;\");\n$(body).append(c.join('\\n'));\n</code></pre>\n\n<p>This has worked well for me, especially as I often insert values into the html constructed this way. But it has lots of limitations. Indentation would be nice. Not having to deal with nested quotation marks would be really nice, and just the bulkyness of it bothers me.</p>\n\n<p>Is the .push() to add to the array taking up a lot of time? See this related answer:</p>\n\n<p>(<a href=\"http://stackoverflow.com/questions/15649899/is-there-a-reason-javascript-developers-dont-use-array-push\">Is there a reason JavaScript developers don&#39;t use Array.push()?</a>) </p>\n\n<p>After looking at these (opposing) test runs, it looks like .push() is fine for string arrays which will not likely grow over 100 items - I will avoid it in favor of indexed adds for larger arrays.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 19352068, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>i found a more elegant solution, maybe a little non-topic related because it uses PHP, but im sure it will be useful and cuteness* for some of yours...</p>\n\n<p>this <strong>javascript code</strong> should stay inside script tags</p>\n\n<pre><code>var html=&lt;?php echo json_encode(\"\n\n        &lt;div class=container&gt;\n            &lt;div class=area1&gt;\n                xxx\n            &lt;/div&gt;\n            &lt;div class=area2&gt;\n                \".$someVar.\"\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\"); ?&gt;\n</code></pre>\n\n<p>in your <strong>output html</strong> you will see something like</p>\n\n<pre><code>var html=\"\\r\\n\\r\\n\\t\\t\\t&lt;div class=container&gt;\\r\\n\\t\\t\\t\\t&lt;div class=area1&gt;\\r\\n\\t\\t\\t\\t\\txxx\\r\\n\\t\\t\\t\\t&lt;\\/div&gt;\\r\\n\\t\\t\\t\\t&lt;div class=area2&gt;\\r\\n\\t\\t\\t\\t\\t44\\r\\n\\t\\t\\t\\t&lt;\\/div&gt;\\r\\n\\t\\t\\t&lt;\\/div&gt;\\r\\n\\r\\n\\t\\t\";  \n</code></pre>\n\n<p>&nbsp;</p>\n\n<hr>\n\n<p>and <em>et voil\u00e0!</em>, it gives you code readability in your file.</p>\n\n<p>pD: this sample uses json_encode() PHP function, but certainly there are function equivalents for ASP, Ruby and JSP langs.</p>\n\n<p>pD: however, this solution have his limitations too, one of them is you cannot use javascript variables inside the encapsulated code.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 19970452, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>My extension to <a href=\"http://stackoverflow.com/a/15558082/80404\">http://stackoverflow.com/a/15558082/80404</a>.\nIt expects comment in a form <code>/*! any multiline comment */</code> where symbol ! is used to prevent removing by minification (at least for YUI compressor)</p>\n\n<pre><code>Function.prototype.extractComment = function() {\n    var startComment = \"/*!\";\n    var endComment = \"*/\";\n    var str = this.toString();\n\n    var start = str.indexOf(startComment);\n    var end = str.lastIndexOf(endComment);\n\n    return str.slice(start + startComment.length, -(str.length - end));\n};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var tmpl = function() { /*!\n &lt;div class=\"navbar-collapse collapse\"&gt;\n    &lt;ul class=\"nav navbar-nav\"&gt;\n    &lt;/ul&gt;\n &lt;/div&gt;\n*/}.extractComment();\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 20525993, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>You can use <code>+=</code> to concatenate your string, seems like no one answered that, which will be readable, and also neat... something like this</p>\n\n<pre><code>var hello = 'hello' +\n            'world' +\n            'blah';\n</code></pre>\n\n<p>can be also written as</p>\n\n<pre><code>var hello = 'hello';\n    hello += ' world';\n    hello += ' blah';\n\nconsole.log(hello);\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 21204670, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p><strong>Updated for 2015</strong>: it's six years later now:  most people use a module loader, and the main module systems each have ways of loading templates. It's not inline, but the most common type of multiline string are templates, and <strong>templates should generally be kept out of JS anyway</strong>.</p>\n\n<h2>require.js: 'require text'.</h2>\n\n<p>Using <a href=\"https://github.com/requirejs/text\" rel=\"nofollow\">require.js 'text' plugin</a>, with a multiline template in <strong>template.html</strong></p>\n\n<pre><code>var template = require('text!template.html')\n</code></pre>\n\n<h2>NPM/browserify: the 'brfs' module</h2>\n\n<p>Browserify <a href=\"https://www.npmjs.com/package/brfs\" rel=\"nofollow\">uses a 'brfs' module</a> to load text files. This will actually build your template into your bundled HTML.</p>\n\n<pre><code>var fs = require(\"fs\");\nvar template = fs.readFileSync(template.html', 'utf8');\n</code></pre>\n\n<p>Easy. </p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 21675610, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>There's this library that makes it beautiful:</p>\n\n<p><a href=\"https://github.com/sindresorhus/multiline\">https://github.com/sindresorhus/multiline</a></p>\n\n<h3>Before</h3>\n\n<pre><code>var str = '' +\n'&lt;!doctype html&gt;' +\n'&lt;html&gt;' +\n'   &lt;body&gt;' +\n'       &lt;h1&gt;\u2764 unicorns&lt;/h1&gt;' +\n'   &lt;/body&gt;' +\n'&lt;/html&gt;' +\n'';\n</code></pre>\n\n<h3>After</h3>\n\n<pre><code>var str = multiline(function(){/*\n&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;h1&gt;\u2764 unicorns&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n*/});\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 23291912, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>There are multiple ways to achieve this</p>\n\n<p><strong>1. Slash concatenation</strong></p>\n\n<pre><code>  var MultiLine=  '1\\\n    2\\\n    3\\\n    4\\\n    5\\\n    6\\\n    7\\\n    8\\\n    9';\n</code></pre>\n\n<p><strong>2. regular concatenation</strong></p>\n\n<pre><code>var MultiLine = '1'\n+'2'\n+'3'\n+'4'\n+'5';\n</code></pre>\n\n<p><strong>3. Array Join concatenation</strong></p>\n\n<pre><code>var MultiLine = [\n'1',\n'2',\n'3',\n'4',\n'5'\n].join('');\n</code></pre>\n\n<p>Performance wise, <strong>Slash concatenation</strong> (first one) is the fastest.</p>\n\n<p><strong>Refer</strong> <a href=\"http://jsperf.com/zp-string-concatenation/6\">this test case</a> for more details regarding the performance </p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 23867090, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>If you happen to be running in Node only, you could use the fs module to read in the multi-line string from a file:</p>\n\n<pre><code>var diagram;\nvar fs = require('fs');\nfs.readFile( __dirname + '/diagram.txt', function (err, data) {\n  if (err) {\n    throw err; \n  }\n  diagram = data.toString();\n});\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 25734853, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>If you're willing to use the escaped newlines, they can be used <em>nicely</em>.  <strong>It looks like a document with a page border</strong>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/e51kg.png\" alt=\"enter image description here\"></p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 29927210, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>You can use <a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow\">TypeScript</a> (JavaScript SuperSet), it supports multiline strings, and transpiles back down to pure JavaScript without overhead:</p>\n\n<pre><code>var templates = {\n    myString: `this is\na multiline\nstring` \n}\n\nalert(templates.myString);\n</code></pre>\n\n<p>If you'd want to accomplish the same with plain JavaScript:</p>\n\n<pre><code>var templates = \n{\n myString: function(){/*\n    This is some\n    awesome multi-lined\n    string using a comment \n    inside a function \n    returned as a string.\n    Enjoy the jimmy rigged code.\n*/}.toString().slice(14,-3)\n\n}\nalert(templates.myString)\n</code></pre>\n\n<p>Note that the iPad/Safari does not support <code>'functionName.toString()'</code></p>\n\n<p>If you have a lot of legacy code, you can also use the plain JavaScript variant in TypeScript (for cleanup purposes):</p>\n\n<pre><code>interface externTemplates\n{\n    myString:string;\n}\n\ndeclare var templates:externTemplates;\n\nalert(templates.myString)\n</code></pre>\n\n<p>and you can use the multiline-string object from the plain JavaScript variant, where you put the templates into another file (which you can merge in the bundle).</p>\n\n<p>You can try TypeScript at<br />\n<a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow\">http://www.typescriptlang.org/Playground</a></p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 32698927, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>The equivalent in javascript is:</p>\n\n<pre><code>var text = `\nThis\nIs\nA\nMultiline\nString\n`;\n</code></pre>\n\n<p>Here's the <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components\">specification</a>. See browser support at the bottom of this <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings\">page</a>. Here are some <a href=\"https://developers.google.com/web/updates/2015/01/ES6-Template-Strings?hl=en#multiline-strings\">examples</a> too.</p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 33523770, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>ES6 allows you to use a backtick to specify a string on multiple lines.  It's called a Template Literal.  Like this:</p>\n\n<pre><code>var multilineString = `One line of text\n    second line of text\n    third line of text\n    fourth line of text`;\n</code></pre>\n\n<p>Using the backtick works in NodeJS, and it's supported by Chrome, Firefox, Edge, Safari, and Opera.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals</a></p>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 36268846, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}, {"body": "<p>Also do note that, when extending string over multiple lines using forward backslash at end of each line, any extra characters (mostly spaces, tabs and comments added by mistake) after forward backslash will cause unexpected character error, which i took an hour to find out</p>\n\n<pre><code>var string = \"line1\\  // comment, space or tabs here raise error\nline2\";\n</code></pre>\n", "title": "Creating multiline strings in JavaScript", "answer_id": 38360119, "question_id": 805107, "tags": ["javascript", "string", "multiline", "heredoc"]}], "question_id": 805107}, {"body": "<p>Is there any way I can modify the URL of the current page without reloading the page?</p>\n\n<p>I would like to access the portion <strong>before</strong> the # hash if possible.</p>\n\n<p>I only need to change the portion <strong>after</strong> the domain, so its not like I'm violating cross-domain policies.</p>\n\n<pre><code> window.location.href = \"www.mysite.com/page2.php\";  // sadly this reloads\n</code></pre>\n", "title": "Modify the URL without reloading the page", "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"], "answer_count": 19, "link": "http://stackoverflow.com/questions/824349/modify-the-url-without-reloading-the-page", "answers": [{"body": "<p><strong>NOTE: If you are working with an HTML5 browser then you should ignore this answer. This is now possible as can be seen in the other answers.</strong></p>\n\n<p>There is no way to modify the URL in the browser without reloading the page. The URL represents what the last loaded page was. If you change it (document.location) then it will reload the page.</p>\n\n<p>One obvious reason being, you write a site on www.mysite.com that looks like a bank login page. Then you change the browser url bar to say www.mybank.com. The user will be totally unaware that they are really looking at www.mysite.com.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 824356, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>Any changes of the loction (either <code>window.location</code> or <code>document.location</code>) will cause a request on that new URL, if you\u2019re not just changing the URL fragment. If you change the URL, you change the URL.</p>\n\n<p>Use server-side URL rewrite techniques like <a href=\"http://httpd.apache.org/docs/2.2/mod/mod%5Frewrite.html\">Apache\u2019s mod_rewrite</a> if you don\u2019t like the URLs you are currently using.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 824362, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>Assuming you're not trying to do something malicious, anything you'd like to do to your own URLs can be magicked into being with <a href=\"http://corz.org/serv/tricks/htaccess2.php\" rel=\"nofollow\">htaccess</a>.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 824629, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<pre><code>parent.location.hash = \"hello\";\n</code></pre>\n", "title": "Modify the URL without reloading the page", "answer_id": 860695, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>You can add anchor tags.  I use this on my site <a href=\"http://www.piano-chords.net/\">http://www.piano-chords.net/</a> so that I can track with google analytics what people are visiting on the page.  I just add an anchor tag and then the part of the page I want to track.</p>\n\n<pre><code>var trackCode = \"/#\" + urlencode($(\"myDiv\").text());\nwindow.location.href = \"http://www.piano-chords.net\" + trackCode;\npageTracker._trackPageview(trackCode);\n</code></pre>\n", "title": "Modify the URL without reloading the page", "answer_id": 1898107, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>This can now be done in Chrome, Safari, FF4+, and IE10pp4+!</p>\n\n<p>See this question's answer for more info:\n<a href=\"http://stackoverflow.com/questions/3338642/updating-address-bar-with-new-url-without-hash-or-reloading-the-page\">Updating address bar with new URL without hash or reloading the page</a></p>\n\n<p>Example:</p>\n\n<pre><code> function processAjaxData(response, urlPath){\n     document.getElementById(\"content\").innerHTML = response.html;\n     document.title = response.pageTitle;\n     window.history.pushState({\"html\":response.html,\"pageTitle\":response.pageTitle},\"\", urlPath);\n }\n</code></pre>\n\n<p>You can then use <code>window.onpopstate</code> to detect the back/forward button navigation:</p>\n\n<pre><code>window.onpopstate = function(e){\n    if(e.state){\n        document.getElementById(\"content\").innerHTML = e.state.html;\n        document.title = e.state.pageTitle;\n    }\n};\n</code></pre>\n\n<hr>\n\n<p>For a more in-depth look at manipulating browser history see <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history\">this MDN article</a>.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 3354511, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>HTML5 introduced the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_pushState()_method\"><code>history.pushState()</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_replaceState()_method\"><code>history.replaceState()</code></a> methods, which allow you to add and modify history entries, respectively.</p>\n\n<pre><code>window.history.pushState('page2', 'Title', '/page2.php');\n</code></pre>\n\n<p>Read more about this from <a href=\"https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history\">here</a></p>\n", "title": "Modify the URL without reloading the page", "answer_id": 3503206, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>If what you're trying to do is allow users to bookmark/share pages, and you don't need it to be exactly the right URL, and you're not using hash anchors for anything else, then you can do this in two parts; you use the location.hash discussed above, and then implement a check on the home page, to look for a URL with a hash anchor in it, and redirect you to the subsequent result.</p>\n\n<p>For instance:</p>\n\n<p>1) User is on www.site.com/section/page/4</p>\n\n<p>2) User does some action which changes the URL to www.site.com/#/section/page/6 (with the hash). Say you've loaded the correct content for page 6 into the page, so apart from the hash the user is not too disturbed.</p>\n\n<p>3) User passes this URL on to someone else, or bookmarks it</p>\n\n<p>4) Someone else, or the same user at a later date, goes to www.site.com/#/section/page/6</p>\n\n<p>5) Code on www.site.com/ redirects the user to www.site.com/section/page/6, using something like this: </p>\n\n<pre><code>if (window.location.hash.length &gt; 0) window.location = window.location.hash.substring(1);\n</code></pre>\n\n<p>Hope that makes sense! It's a useful approach for some situations. </p>\n", "title": "Modify the URL without reloading the page", "answer_id": 5715821, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>It's possible without using hashes, have a look to the <a href=\"http://www.asual.com/jquery/address/\" rel=\"nofollow\">asual jQuery Address plugin</a>:</p>\n\n<p>Example <a href=\"http://lab.laukstein.com/ajax-seo/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Note that it will use hashes in IE, there is no workaround for it.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 9340119, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>You can also use HTML5 <strong>replaceState</strong> if you want to change the url but don't want to add the entry to the browser history:</p>\n\n<pre><code>if (window.history.replaceState) {\n   //prevents browser from storing history with each change:\n   window.history.replaceState(statedata, title, url);\n}\n</code></pre>\n\n<p>This would 'break' the back button functionality. This may be required in some instances such as an image gallery (where you want the back button to return back to the gallery index page instead of moving back through each and every image you viewed) whilst giving each image its own unique url.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 13451971, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>The HTML5 replaceState is the answer, as already mentioned by Vivart and geo1701. However it is not supported in all browsers/versions.\n<a href=\"https://github.com/balupton/history.js\">History.js</a> wraps HTML5 state features and provides additional support for HTML4 browsers.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 13491954, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>As pointed out by Thomas Stjernegaard Jeppesen, you could use <a href=\"https://github.com/browserstate/history.js\" rel=\"nofollow\">History.js</a> to modify URL parameters whilst the user navigates through your Ajax links and apps. </p>\n\n<p>Almost an year has passed since that answer, and History.js grew and became more stable and cross-browser. Now it can be used to manage history states in HTML5-compliant as well as in many HTML4-only browsers. <a href=\"http://browserstate.github.io/history.js/demo/?state=1\" rel=\"nofollow\">In this demo</a> You can see an example of how it works (as well as being able to try its functionalities and limits. </p>\n\n<p>Should you need any help in how to use and implement this library, i suggest you to take a look at the source code of the demo page: you will see it's very easy to do.</p>\n\n<p>Finally, for a comprehensive explanation of what can be the issues about using hashes (and hashbangs), check out <a href=\"https://github.com/browserstate/history.js/wiki/Intelligent-State-Handling\" rel=\"nofollow\">this link</a> by Benjamin Lupton. </p>\n", "title": "Modify the URL without reloading the page", "answer_id": 18638299, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>Before HTML5 we can use:</p>\n\n<pre><code>parent.location.hash = \"hello\";\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>window.location.replace(\"http:www.example.com\");\n</code></pre>\n\n<p>This method will reload your page, but HTML5 introduced the <code>history.pushState(page, caption, replace_url)</code> that should not reload your page.</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 21328170, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p><strong>You can now do this in most \"modern\" browsers!</strong></p>\n\n<p>1) Here is the original article:-</p>\n\n<p><a href=\"http://spoiledmilk.com/blog/html5-changing-the-browser-url-without-refreshing-page/\" rel=\"nofollow\">HTML5: Changing the browser-URL without refreshing page.</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history\" rel=\"nofollow\">see the MDN docs.</a></p>\n\n<p>You can do this:</p>\n\n<pre><code>window.history.pushState(\"object or string\", \"Title\", \"/new-url\");\n</code></pre>\n", "title": "Modify the URL without reloading the page", "answer_id": 27740462, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>Here is my solution: (newUrl is your new url which you want to replace current one)</p>\n\n<pre><code>history.pushState({}, null, newUrl);\n</code></pre>\n", "title": "Modify the URL without reloading the page", "answer_id": 30764409, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>Use <code>history.pushState()</code>  from HTML 5 History API</p>\n\n<p>refer  link for more details\n<a href=\"http://diveintohtml5.info/history.html\" rel=\"nofollow\">HTML5 History API</a></p>\n", "title": "Modify the URL without reloading the page", "answer_id": 32024458, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>use iframe or div tags</p>\n\n<p>function load_page(page) {</p>\n\n<pre><code>    document.getElementById(\"iframe\").src = page;\n\n}\n</code></pre>\n", "title": "Modify the URL without reloading the page", "answer_id": 33315592, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>Below is the function to change the URL without reloading the page. It only support for HTML5</p>\n\n<pre><code>  function ChangeUrl(page, url) {\n        if (typeof (history.pushState) != \"undefined\") {\n            var obj = {Page: page, Url: url};\n            history.pushState(obj, obj.Page, obj.Url);\n        } else {\n            window.location.href = \"homePage\";\n            // alert(\"Browser does not support HTML5.\");\n        }\n    }\n\n  ChangeUrl('Page1', 'homePage');\n</code></pre>\n", "title": "Modify the URL without reloading the page", "answer_id": 33363087, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}, {"body": "<p>To build a complex url from existing one, a mix of <code>window.location</code> and <code>a</code> tag` can be very helpful</p>\n\n<p>Let's say we need redirect to \"/jobs\" of current url:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>url = document.createElement('a'); \r\nurl.href = window.location.href;\r\nurl.pathname = '/jobs';\r\nwindow.location.href = url.href; // redirects to http://stackoverflow.com/jobs</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Features:</p>\n\n<ul>\n<li>Simple</li>\n<li>Powerful from a box</li>\n<li>Cross browser</li>\n<li>Push state friendly</li>\n</ul>\n\n<p>For more features just call <code>url</code> in your chrome dev console.</p>\n\n<p>I hope it helped you</p>\n", "title": "Modify the URL without reloading the page", "answer_id": 35232151, "question_id": 824349, "tags": ["javascript", "html", "url", "url-rewriting", "friendly-url"]}], "question_id": 824349}, {"body": "<p>With the iPhone SDK:</p>\n\n<p>I have a <code>UIView</code> with <code>UITextFields</code> that brings up a keyboard.  I need it to be able to:</p>\n\n<ol>\n<li><p>Allow scrolling of the contents of the <code>UIScrollView</code> to see the other text fields once the keyboard is brought up</p></li>\n<li><p>Automatically \"jump\" (by scrolling up) or shortening</p></li>\n</ol>\n\n<p>I know that I need a <code>UIScrollView</code>.  I've tried changing the class of my <code>UIView</code> to a <code>UIScrollView</code> but I'm still unable to scroll the textboxes up or down.  </p>\n\n<p>Do I need both a UIView and a <code>UIScrollView</code>?  Does one go inside the other? [EDIT: I now know that you want a <code>UIView</code> inside of a <code>UIScrollView</code>, and the trick is to programatically set the content size of the <code>UIScrollView</code> to the frame size of the <code>UIView</code>.]</p>\n\n<p>Then what needs to be implemented in order to automatically scroll to the active text field?</p>\n\n<p>Ideally as much of the setup of the components as possible will be done in Interface Builder.  I'd like to only write code for what needs it.</p>\n\n<p>Note: the <code>UIView</code> (or <code>UIScrollView</code>) that I'm working with is brought up by a tabbar (<code>UITabBar</code>), which needs to function as normal.</p>\n\n<hr>\n\n<p>Edit: I am adding the scroll bar just for when the keyboard comes up.  Even though it's not needed, I feel like it provides a better interface because then the user can scroll and change textboxes, for example.  </p>\n\n<p>I've got it working where I change the frame size of the <code>UIScrollView</code> when the keyboard goes up and down.  I'm simply using: </p>\n\n<pre><code>-(void)textFieldDidBeginEditing:(UITextField *)textField { \n    //Keyboard becomes visible\n    scrollView.frame = CGRectMake(scrollView.frame.origin.x, \n                     scrollView.frame.origin.y, \nscrollView.frame.size.width,\nscrollView.frame.size.height - 215 + 50);   //resize\n}\n\n-(void)textFieldDidEndEditing:(UITextField *)textField {\n   //keyboard will hide\n    scrollView.frame = CGRectMake(scrollView.frame.origin.x, \n       scrollView.frame.origin.y, \n     scrollView.frame.size.width,\n      scrollView.frame.size.height + 215 - 50); //resize\n}\n</code></pre>\n\n<p>However this doesn't automatically \"move up\" or center the lower text fields in the visible area, which is what I would really like.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"], "answer_count": 72, "link": "http://stackoverflow.com/questions/1126726/how-to-make-a-uitextfield-move-up-when-keyboard-is-present", "answers": [{"body": "<ol>\n<li><p>You will only need a ScrollView if the contents you have now do not fit in the iPhone screen.\n(If you are adding the ScrollView as the superview of the components. just to make the TextField scroll up when keyboard comes up, then it's not needed.)</p></li>\n<li><p>For showing the textfields without being hidden by the keyboard, the standard way is to move up/down the view having textfields whenever the keyboard is shown.</p></li>\n</ol>\n\n<p>Here is some sample code:</p>\n\n<pre><code>#define kOFFSET_FOR_KEYBOARD 80.0\n\n-(void)keyboardWillShow {\n    // Animate the current view out of the way\n    if (self.view.frame.origin.y &gt;= 0)\n    {\n        [self setViewMovedUp:YES];\n    }\n    else if (self.view.frame.origin.y &lt; 0)\n    {\n        [self setViewMovedUp:NO];\n    }\n}\n\n-(void)keyboardWillHide {\n    if (self.view.frame.origin.y &gt;= 0)\n    {\n        [self setViewMovedUp:YES];\n    }\n    else if (self.view.frame.origin.y &lt; 0)\n    {\n        [self setViewMovedUp:NO];\n    }\n}\n\n-(void)textFieldDidBeginEditing:(UITextField *)sender\n{\n    if ([sender isEqual:mailTf])\n    {\n        //move the main view, so that the keyboard does not hide it.\n        if  (self.view.frame.origin.y &gt;= 0)\n        {\n            [self setViewMovedUp:YES];\n        }\n    }\n}\n\n//method to move the view up/down whenever the keyboard is shown/dismissed\n-(void)setViewMovedUp:(BOOL)movedUp\n{\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationDuration:0.3]; // if you want to slide up the view\n\n    CGRect rect = self.view.frame;\n    if (movedUp)\n    {\n        // 1. move the view's origin up so that the text field that will be hidden come above the keyboard \n        // 2. increase the size of the view so that the area behind the keyboard is covered up.\n        rect.origin.y -= kOFFSET_FOR_KEYBOARD;\n        rect.size.height += kOFFSET_FOR_KEYBOARD;\n    }\n    else\n    {\n        // revert back to the normal state.\n        rect.origin.y += kOFFSET_FOR_KEYBOARD;\n        rect.size.height -= kOFFSET_FOR_KEYBOARD;\n    }\n    self.view.frame = rect;\n\n    [UIView commitAnimations];\n}\n\n\n- (void)viewWillAppear:(BOOL)animated\n{\n    [super viewWillAppear:animated];\n    // register for keyboard notifications\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                         selector:@selector(keyboardWillShow)\n                                             name:UIKeyboardWillShowNotification\n                                           object:nil];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                         selector:@selector(keyboardWillHide)\n                                             name:UIKeyboardWillHideNotification\n                                           object:nil];\n}\n\n- (void)viewWillDisappear:(BOOL)animated\n{\n    [super viewWillDisappear:animated];\n    // unregister for keyboard notifications while not visible.\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                             name:UIKeyboardWillShowNotification\n                                           object:nil];\n\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                             name:UIKeyboardWillHideNotification\n                                           object:nil];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 1127025, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>One thing to consider is whether you ever want to use a <code>UITextField</code> on its own. I haven\u2019t come across any well-designed iPhone apps that actually use <code>UITextFields</code> outside of <code>UITableViewCells</code>.</p>\n\n<p>It will be some extra work, but I recommend you implement all data entry views a table views. Add a <code>UITextView</code> to your <code>UITableViewCells</code>.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 1152279, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>see <code>UICatalogView</code> examples of iphone live and loaded</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 1851803, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I'm not sure if moving the view up is the correct approach, I did it in a differente way, resizing the UIScrollView. I explained it in details on a little <a href=\"http://www.iphonesampleapps.com/2009/12/adjust-uitextfield-hidden-behind-keyboard-with-uiscrollview/\">article</a></p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 2037307, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>RPDP's code successfully moves the text field out of the way of the keyboard. But when you scroll to the top after using and dismissing the keyboard, the top has been scrolled up out of the view. This is true for the Simulator and the device. To read the content at the top of that view, one has to reload the view.</p>\n\n<p>Isn't his following code supposed to bring the view back down?</p>\n\n<pre><code>else\n{\n    // revert back to the normal state.\n    rect.origin.y += kOFFSET_FOR_KEYBOARD;\n    rect.size.height -= kOFFSET_FOR_KEYBOARD;\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 2209416, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>To bring back to original view state, add:</p>\n\n<pre><code>-(void)textFieldDidEndEditing:(UITextField *)sender\n\n{\n    //move the main view, so that the keyboard does not hide it.\n    if  (self.view.frame.origin.y &lt; 0)\n    {\n        [self setViewMovedUp:NO];\n    }\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 2238473, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Little fix that works for many UITextFields</p>\n\n<pre><code>#pragma mark UIKeyboard handling\n\n#define kMin 150\n\n-(void)textFieldDidBeginEditing:(UITextField *)sender\n{\n   if (currTextField) {\n      [currTextField release];\n   }\n   currTextField = [sender retain];\n   //move the main view, so that the keyboard does not hide it.\n   if (self.view.frame.origin.y + currTextField.frame.origin. y &gt;= kMin) {\n        [self setViewMovedUp:YES]; \n   }\n}\n\n\n\n//method to move the view up/down whenever the keyboard is shown/dismissed\n-(void)setViewMovedUp:(BOOL)movedUp\n{\n   [UIView beginAnimations:nil context:NULL];\n   [UIView setAnimationDuration:0.3]; // if you want to slide up the view\n\n   CGRect rect = self.view.frame;\n   if (movedUp)\n   {\n      // 1. move the view's origin up so that the text field that will be hidden come above the keyboard \n      // 2. increase the size of the view so that the area behind the keyboard is covered up.\n      rect.origin.y = kMin - currTextField.frame.origin.y ;\n   }\n   else\n   {\n      // revert back to the normal state.\n      rect.origin.y = 0;\n   }\n   self.view.frame = rect;\n\n   [UIView commitAnimations];\n}\n\n\n- (void)keyboardWillShow:(NSNotification *)notif\n{\n   //keyboard will be shown now. depending for which textfield is active, move up or move down the view appropriately\n\n   if ([currTextField isFirstResponder] &amp;&amp; currTextField.frame.origin.y + self.view.frame.origin.y &gt;= kMin)\n   {\n      [self setViewMovedUp:YES];\n   }\n   else if (![currTextField isFirstResponder] &amp;&amp; currTextField.frame.origin.y  + self.view.frame.origin.y &lt; kMin)\n   {\n      [self setViewMovedUp:NO];\n   }\n}\n\n- (void)keyboardWillHide:(NSNotification *)notif\n{\n   //keyboard will be shown now. depending for which textfield is active, move up or move down the view appropriately\n   if (self.view.frame.origin.y &lt; 0 ) {\n      [self setViewMovedUp:NO];\n   }\n\n}\n\n\n- (void)viewWillAppear:(BOOL)animated\n{\n   // register for keyboard notifications\n   [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow:) \n                                                name:UIKeyboardWillShowNotification object:self.view.window]; \n   [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) \n                                                name:UIKeyboardWillHideNotification object:self.view.window]; \n}\n\n- (void)viewWillDisappear:(BOOL)animated\n{\n   // unregister for keyboard notifications while not visible.\n   [[NSNotificationCenter defaultCenter] removeObserver:self name:UIKeyboardWillShowNotification object:nil]; \n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 2244025, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Here is the hack solution I came up with for a specific layout. This solution is similar to Matt Gallagher solution in that is scrolls a section into view. I am still new to iPhone development, and am not familiar with how the layouts work. Thus, this hack.</p>\n\n<p>My implementation needed to support scrolling when clicking in a field, and also scrolling when the user selects next on the keyboard.</p>\n\n<p>I had a UIView with a height of 775. The controls are spread out basically in groups of 3 over a large space. I ended up with the following IB layout.</p>\n\n<pre><code>UIView -&gt; UIScrollView -&gt; [UI Components]\n</code></pre>\n\n<p>Here comes the hack</p>\n\n<p>I set the UIScrollView height to 500 units larger then the actual layout (1250). I then created an array with the absolute positions I need to scroll to, and a simple function to get them based on the IB Tag number.</p>\n\n<pre><code>static NSInteger stepRange[] = {\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 140, 140, 140, 140, 140, 410\n};\n\nNSInteger getScrollPos(NSInteger i) {\n    if (i &lt; TXT_FIELD_INDEX_MIN || i &gt; TXT_FIELD_INDEX_MAX) {\n        return 0 ;\n    return stepRange[i] ;\n}\n</code></pre>\n\n<p>Now all you need to do is use the following two lines of code in textFieldDidBeginEditing and textFieldShouldReturn (the latter one if you are creating a next field navigation)</p>\n\n<pre><code>CGPoint point = CGPointMake(0, getScrollPos(textField.tag)) ;\n[self.scrollView setContentOffset:point animated:YES] ;\n</code></pre>\n\n<p>An example.</p>\n\n<pre><code>- (void) textFieldDidBeginEditing:(UITextField *)textField\n{\n    CGPoint point = CGPointMake(0, getScrollPos(textField.tag)) ;\n    [self.scrollView setContentOffset:point animated:YES] ;\n}\n\n\n- (BOOL)textFieldShouldReturn:(UITextField *)textField {\n\n    NSInteger nextTag = textField.tag + 1;\n    UIResponder* nextResponder = [textField.superview viewWithTag:nextTag];\n\n    if (nextResponder) {\n        [nextResponder becomeFirstResponder];\n        CGPoint point = CGPointMake(0, getScrollPos(nextTag)) ;\n        [self.scrollView setContentOffset:point animated:YES] ;\n    }\n    else{\n        [textField resignFirstResponder];\n    }\n\n    return YES ;\n}\n</code></pre>\n\n<p>This method does not 'scroll back' as other methods do. This was not a requirement. Again this was for a fairly 'tall' UIView, and I did not have days to learn the internal layout engines.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 2534621, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I was also having a lot of issue with a <code>UIScrollView</code> composing of multiple <code>UITextFields</code>, of which, one or more of them would get obscured by the keyboard when they are being edited.  </p>\n\n<p>Here are some things to consider if your <code>UIScrollView</code> is not properly scrolling.  </p>\n\n<p>1) Ensure that your contentSize is greater than the <code>UIScrollView</code> frame size.  The way to understand <code>UIScrollViews</code> is that the <code>UIScrollView</code> is like a viewing window on the content defined in the contentSize.  So when in order for the <code>UIScrollview</code> to scroll anywhere, the contentSize must be greater than the <code>UIScrollView</code>.  Else, there is no scrolling required as everything defined in the contentSize is already visible.  BTW, default contentSize = <code>CGSizeZero</code>.</p>\n\n<p>2) Now that you understand that the <code>UIScrollView</code> is really a window into your \"content\", the way to ensure that the keyboard is not obscuring your <code>UIScrollView's</code> viewing \"window\" would be to resize the <code>UIScrollView</code> so that when the keyboard is present, you have the <code>UIScrollView</code> window sized to just the original <code>UIScrollView</code> frame.size.height minus the height of the keyboard.  This will ensure that your window is only that small viewable area.</p>\n\n<p>3) Here's the catch:  When I first implemented this I figured I would have to get the <code>CGRect</code> of the edited textfield and call <code>UIScrollView's</code> scrollRecToVisible method.  I implemented the <code>UITextFieldDelegate</code> method <code>textFieldDidBeginEditing</code> with the call to the <code>scrollRecToVisible</code> method.  This actually worked with a strange side effect that the scrolling would <em>snap</em> the <code>UITextField</code> into position.  For the longest time I couldn't figure out what it was.  Then I commented out the <code>textFieldDidBeginEditing</code> Delegate method and it all work!!(???).  As it turned out, I believe the <code>UIScrollView</code> actually implicitly brings the currently edited <code>UITextField</code> into the viewable window implicitly.  My implementation of the <code>UITextFieldDelegate</code> method and subsequent call to the <code>scrollRecToVisible</code> was redundant and was the cause of the strange side effect.</p>\n\n<p>So here are the steps to properly scroll your <code>UITextField</code> in a <code>UIScrollView</code> into place when the keyboard appears.</p>\n\n<pre><code>// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.\n\n- (void)viewDidLoad \n{\n    [super viewDidLoad];\n\n    // register for keyboard notifications\n    [[NSNotificationCenter defaultCenter] addObserver:self \n                                             selector:@selector(keyboardWillShow:) \n                                                 name:UIKeyboardWillShowNotification \n                                               object:self.view.window];\n    // register for keyboard notifications\n    [[NSNotificationCenter defaultCenter] addObserver:self \n                                             selector:@selector(keyboardWillHide:) \n                                                 name:UIKeyboardWillHideNotification \n                                               object:self.view.window];\n    keyboardIsShown = NO;\n    //make contentSize bigger than your scrollSize (you will need to figure out for your own use case)\n    CGSize scrollContentSize = CGSizeMake(320, 345);\n    self.scrollView.contentSize = scrollContentSize;\n}\n\n- (void)keyboardWillHide:(NSNotification *)n\n{\n    NSDictionary* userInfo = [n userInfo];\n\n    // get the size of the keyboard\n    CGSize keyboardSize = [[userInfo objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n\n    // resize the scrollview\n    CGRect viewFrame = self.scrollView.frame;\n    // I'm also subtracting a constant kTabBarHeight because my UIScrollView was offset by the UITabBar so really only the portion of the keyboard that is leftover pass the UITabBar is obscuring my UIScrollView.\n    viewFrame.size.height += (keyboardSize.height - kTabBarHeight);\n\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationBeginsFromCurrentState:YES];\n    [self.scrollView setFrame:viewFrame];\n    [UIView commitAnimations];\n\n    keyboardIsShown = NO;\n}\n\n- (void)keyboardWillShow:(NSNotification *)n\n{\n    // This is an ivar I'm using to ensure that we do not do the frame size adjustment on the `UIScrollView` if the keyboard is already shown.  This can happen if the user, after fixing editing a `UITextField`, scrolls the resized `UIScrollView` to another `UITextField` and attempts to edit the next `UITextField`.  If we were to resize the `UIScrollView` again, it would be disastrous.  NOTE: The keyboard notification will fire even when the keyboard is already shown.\n    if (keyboardIsShown) {\n        return;\n    }\n\n    NSDictionary* userInfo = [n userInfo];\n\n    // get the size of the keyboard\n    CGSize keyboardSize = [[userInfo objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    // resize the noteView\n    CGRect viewFrame = self.scrollView.frame;\n    // I'm also subtracting a constant kTabBarHeight because my UIScrollView was offset by the UITabBar so really only the portion of the keyboard that is leftover pass the UITabBar is obscuring my UIScrollView.\n    viewFrame.size.height -= (keyboardSize.height - kTabBarHeight);\n\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationBeginsFromCurrentState:YES];\n    [self.scrollView setFrame:viewFrame];\n    [UIView commitAnimations];\n    keyboardIsShown = YES;\n}\n</code></pre>\n\n<ol>\n<li>Register for the keyboard notifications at <code>viewDidLoad</code></li>\n<li>Unregister for the keyboard nofitications at <code>viewDidUnload</code></li>\n<li>Ensure that the <code>contentSize</code> is set and greater than your <code>UIScrollView</code> at <code>viewDidLoad</code></li>\n<li><em>Shrink</em> the <code>UIScrollView</code> when the keyboard is present</li>\n<li><em>Revert back</em> the <code>UIScrollView</code> when the keyboard goes away.</li>\n<li>Use an ivar to detect if the keyboard is already shown on the screen since the keyboard notifications are sent each time a <code>UITextField</code> is tabbed even if the keyboard is already present to avoid <em>shrinking</em> the <code>UIScrollView</code> when it's already <em>shrunk</em></li>\n</ol>\n\n<p>One thing to note is that the <code>UIKeyboardWillShowNotification</code> will fire even when the keyboard is already on the screen when you tab on another <code>UITextField</code>.  I took care of this by using an ivar to avoid resizing the <code>UIScrollView</code> when the keyboard is already on the screen.  Inadvertently resizing the <code>UIScrollView</code> when the keyboard is already there would be disastrous!</p>\n\n<p>Hope this code saves some of you a lot of headache.   </p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 2703756, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p><a href=\"http://developer.apple.com/library/ios/#documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html\">This</a> document details a solution to this problem. Look at the source code under 'Moving Content That Is Located Under the Keyboard'. It's pretty straightforward.</p>\n\n<p>EDIT: Noticed there's a wee glitch in the example. You will probably want to listen for <code>UIKeyboardWillHideNotification</code> instead of <code>UIKeyboardDidHideNotification</code>. Otherwise the scroll view behind of the keyboard will be clipped for the duration of the keyboard closing animation.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 4042975, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>@user271753</p>\n\n<p>To get your view back to original add:</p>\n\n<pre><code>-(BOOL)textFieldShouldReturn:(UITextField *)textField{\n   [textField resignFirstResponder];\n   [self setViewMovedUp:NO];\n   return YES;\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 4050237, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I wanted to add a comment to Shiun's answer, but I apparently do not have enough rep points to add comments.  Perhaps someone with more points can add a comment with the info below, then I'll delete this answer...</p>\n\n<p>Shiun said \"As it turned out, I believe the UIScrollView actually implicitly brings the currently edited UITextField into the viewable window implicitly\"   This seems to be true for iOS 3.1.3, but not 3.2, 4.0, or 4.1.  I had to add an explicit scrollRectToVisible in order to make the UITextField visible on iOS >= 3.2.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 4112062, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>It's actually best just to use Apple's implementation, as provided in the <a href=\"http://developer.apple.com/library/ios/#documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html%23//apple_ref/doc/uid/TP40009542-CH5-SW7\">docs</a>. However, the code they provide is faulty. Replace the portion found in keyboardWasShown: just below the comments to the following:</p>\n\n<pre><code>NSDictionary* info = [aNotification userInfo];\nCGRect keyPadFrame=[[UIApplication sharedApplication].keyWindow convertRect:[[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue] fromView:self.view];\nCGSize kbSize =keyPadFrame.size;\nCGRect activeRect=[self.view convertRect:activeField.frame fromView:activeField.superview];\nCGRect aRect = self.view.bounds;\naRect.size.height -= (kbSize.height);\n\nCGPoint origin =  activeRect.origin;\norigin.y -= backScrollView.contentOffset.y;\nif (!CGRectContainsPoint(aRect, origin)) {\n    CGPoint scrollPoint = CGPointMake(0.0,CGRectGetMaxY(activeRect)-(aRect.size.height));\n    [backScrollView setContentOffset:scrollPoint animated:YES];\n}\n</code></pre>\n\n<p>The problems with Apple's code are these:\n(1) They always calculate if the point is within the view's frame, but it's a ScrollView, so it may already have scrolled and you need to account for that offset:</p>\n\n<pre><code>origin.y -= scrollView.contentOffset.y\n</code></pre>\n\n<p>(2) They shift the contentOffset by the height of the keyboard, but we want the opposite (we want to shift the contentOffset by the height that is visible on the screen, not what isn't):</p>\n\n<pre><code>activeField.frame.origin.y-(aRect.size.height)\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 4837510, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>When <code>UITextField</code> is in a <code>UITableViewCell</code> scrolling should be setup automatically.</p>\n\n<p>If it is not it is probably because of incorrect code/setup of the tableview.</p>\n\n<p>For example when i reloaded my long table with one <code>UITextField</code> at the bottom as follows,   </p>\n\n<pre><code>-(void) viewWillAppear:(BOOL)animated\n{\n   [self.tableview reloadData];\n}\n</code></pre>\n\n<p>then my textfield at the bottom was obscured by the keyboard which appeared when I clicked inside the textfield.</p>\n\n<p>To fix this I had to do this -</p>\n\n<pre><code>-(void) viewWillAppear:(BOOL)animated\n{\n    //add the following line to fix issue\n    [super viewWillAppear:animated];\n    [self.tableview reloadData];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 5240286, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I've put together a universal, drop-in <code>UIScrollView</code>, <code>UITableView</code> and even <code>UICollectionView</code> subclass that takes care of moving all text fields within it out of the way of the keyboard.</p>\n\n<p>When the keyboard is about to appear, the subclass will find the subview that's about to be edited, and adjust its frame and content offset to make sure that view is visible, with an animation to match the keyboard pop-up. When the keyboard disappears, it restores its prior size.</p>\n\n<p>It should work with basically any setup, either a <code>UITableView</code>-based interface, or one consisting of views placed manually.</p>\n\n<p>Here' tis: <a href=\"http://atastypixel.com/blog/a-drop-in-universal-solution-for-moving-text-fields-out-of-the-way-of-the-keyboard/\">solution for moving text fields out of the way of the keyboard</a></p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 5634481, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>In <code>textFieldDidBeginEditting</code> and in <code>textFieldDidEndEditing</code> call the function <code>[self animateTextField:textField up:YES]</code> like so: </p>\n\n<pre><code>-(void)textFieldDidBeginEditing:(UITextField *)textField \n{ \n    [self animateTextField:textField up:YES]; \n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField\n{\n    [self animateTextField:textField up:NO];\n}\n\n-(void)animateTextField:(UITextField*)textField up:(BOOL)up\n{\n    const int movementDistance = -130; // tweak as needed\n    const float movementDuration = 0.3f; // tweak as needed\n\n    int movement = (up ? movementDistance : -movementDistance); \n\n    [UIView beginAnimations: @\"animateTextField\" context: nil];\n    [UIView setAnimationBeginsFromCurrentState: YES];\n    [UIView setAnimationDuration: movementDuration];\n    self.view.frame = CGRectOffset(self.view.frame, 0, movement);\n    [UIView commitAnimations];\n}\n</code></pre>\n\n<p>I hope this code will help you. </p>\n\n<p>In Swift</p>\n\n<pre><code>func animateTextField(textField: UITextField, up: Bool) \n{\n     let movementDistance:CGFloat = -130\n     let movementDuration: Double = 0.3\n\n     var movement:CGFloat = 0\n     if up \n     {\n         movement = movementDistance\n     }\n     else \n     {\n         movement = -movementDistance\n     }\n     UIView.beginAnimations(\"animateTextField\", context: nil)\n     UIView.setAnimationBeginsFromCurrentState(true)\n     UIView.setAnimationDuration(movementDuration)\n     self.view.frame = CGRectOffset(self.view.frame, 0, movement)\n     UIView.commitAnimations()\n}\n\n\nfunc textFieldDidBeginEditing(textField: UITextField) \n{\n    self.animateTextField(textField, up:true)\n}\n\nfunc textFieldDidEndEditing(textField: UITextField) \n{\n    self.animateTextField(textField, up:false)\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 6908258, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>It doesn't require a scroll view to be able to move the view frame.  You can change the frame of a <code>viewcontroller's</code> view so that the entire view moves up just enough to put the firstresponder text field above the keyboard.  When I ran into this problem I created a subclass of <code>UIViewController</code> that does this.  It observes for the keyboard will appear notification and finds the first responder subview and (if needed) it animates the main view upward just enough so that the first responder is above the keyboard.  When the keyboard hides, it animates the view back where it was.</p>\n\n<p>To use this subclass make your custom view controller a subclass of <a href=\"https://github.com/progrmr/SDK_Utilities/blob/master/GM_Subclasses/GMKeyboardVC.m\">GMKeyboardVC</a> and it inherits this feature (just be sure if you implement <code>viewWillAppear</code> and <code>viewWillDisappear</code> they must call super).  The class is on <a href=\"https://github.com/progrmr/SDK_Utilities/tree/master/GM_Subclasses\">github</a>.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 7372464, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Been searching for a good tutorial for beginners on the subject, found the best tutorial <a href=\"http://www.mobisoftinfotech.com/blog/iphone/iphone-uitextfield-tutorial-handling-keyboard-interactions/\">here</a>.</p>\n\n<p>In the <code>MIScrollView.h</code> example at the bottom of the tutorial be sure to put a space at</p>\n\n<pre><code>@property (nonatomic, retain) id backgroundTapDelegate;\n</code></pre>\n\n<p>as you see.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 8694952, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>You need to add scrollview programatically with specific frame size. You have to add UIScrollViewDelegate in .h file. You have to enable scrollview for that you need to write following in     viewDidLoad().</p>\n\n<pre><code>scrollview.scrollEnabled=YES;\nscrollview.delegate=self;\n\nscrollview.frame = CGRectMake(x,y,width,height);\n//---set the content size of the scroll view--- \n\n[scrollview setContentSize:CGSizeMake(height,width)];\n</code></pre>\n\n<p>In this way you can add your x,y,width and height values.\nI think this will help you.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 8817960, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>A much, much more elegant solution is to use a <code>UIView</code> subclass (though this isn't always appropriate) and recalculate all your subviews on a parent's frame change (and be smart: only recalculate them if the new frame size has changed, i.e. use <code>CGRectEqualToRect</code> to compare the new frame when you override <code>setFrame</code> and BEFORE you call <code>[super setFrame:frame_]</code>).  The only catch to this is that the <code>UIViewController</code> you intend to use should probably listen to keyboard events (or, you could do it in the <code>UIView</code> itself, for handy encapsulation).  But only the <code>UIKeyboardWillShowNotification</code> and <code>UIKeyboardWillHideNotification</code>.  This is just so it will look smooth (if you wait for CG to call it, you will get a moment of choppiness).</p>\n\n<p>This has the advantage of building a <code>UIView</code> subclass that does the right thing, anyway.</p>\n\n<p>The naive implementation would be to override <code>drawRect:</code> (don't), a better one would be to just use <code>layoutSubviews</code> (and then in the <code>UIViewController</code>, or whatnot you can call [view <code>setNeedsLayout</code>] in a SINGLE method that is called for either show or hide).</p>\n\n<p>This solution gets away from hardcoding a keyboard offset (which will change if they are not in split, etc) and also means that your view could be a subview of many other views and still respond properly.</p>\n\n<p>Don't hardcode something like that unless there is no other solution.  The OS gives you enough info, if you've done things right, that you just need to redraw intelligently (based on your new <code>frame</code> size).  This is much cleaner and the way you <i>should</i> do things.  (There may be an even better approach, though.)</p>\n\n<p>Cheers.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 9067745, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Try this:</p>\n\n<pre><code>-(void)textFieldDidBeginEditing:(UITextField *)sender\n{\n    if ([sender isEqual:self.m_Sp_Contact])\n    {\n        [self.m_Scroller setContentOffset:CGPointMake(0, 105)animated:YES];          \n    }\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 11574867, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Please follow these steps ,it might be helpful.\nPut one view then put your textfield on that view and detect the event by delegate when your keyboard is coming up,at that time instant animate the view up(You can assign some position for that view also),then your view would be going up to that position.Do the same thing for animating the view down.</p>\n\n<p>Thanks</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 11646122, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>As per <a href=\"http://developer.apple.com/library/ios/#documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html#//apple_ref/doc/uid/TP40009542-CH5-SW7\">the docs</a>, as of iOS 3.0, the <code>UITableViewController</code> class automatically resizes and repositions its table view when there is in-line editing of text fields. I think it's not sufficient to put the text field inside a <code>UITableViewCell</code> as some have indicated.</p>\n\n<p>From <a href=\"http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/TableViewAndDataModel/TableViewAndDataModel.html#//apple_ref/doc/uid/TP40007451-CH5-SW7\">the docs</a>:</p>\n\n<blockquote>\n  <p>A table view controller supports inline editing of table view rows;\n  if, for example, rows have embedded text fields in editing mode, it\n  scrolls the row being edited above the virtual keyboard that is\n  displayed.</p>\n</blockquote>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 12719623, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>There so many solutions, but I've spend some hours before it start works. So, I put this code here (just paste to the project, any modifications needn't):</p>\n\n<pre><code>@interface RegistrationViewController : UIViewController &lt;UITextFieldDelegate&gt;{\n    UITextField* activeField;\n    UIScrollView *scrollView;\n}\n@end\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    scrollView = [[UIScrollView alloc] initWithFrame:self.view.frame];\n\n    //scrool view must be under main view - swap it\n    UIView* natView = self.view;\n    [self setView:scrollView];\n    [self.view addSubview:natView];\n\n    CGSize scrollViewContentSize = self.view.frame.size;\n    [scrollView setContentSize:scrollViewContentSize];\n\n    [self registerForKeyboardNotifications];\n}\n\n- (void)viewDidUnload {\n    activeField = nil;\n    scrollView = nil;\n    [self unregisterForKeyboardNotifications];\n    [super viewDidUnload];\n}\n\n- (void)registerForKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillShown:)\n                                                 name:UIKeyboardWillShowNotification object:nil];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillBeHidden:)\n                                                 name:UIKeyboardWillHideNotification object:nil];\n\n}\n\n-(void)unregisterForKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                    name:UIKeyboardWillShowNotification\n                                                  object:nil];\n    // unregister for keyboard notifications while not visible.\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                    name:UIKeyboardWillHideNotification\n                                                  object:nil];\n}\n\n- (void)keyboardWillShown:(NSNotification*)aNotification\n{\n    NSDictionary* info = [aNotification userInfo];\n    CGSize kbSize = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    CGRect frame = self.view.frame;\n    frame.size.height -= kbSize.height;\n    CGPoint fOrigin = activeField.frame.origin;\n    fOrigin.y -= scrollView.contentOffset.y;\n    fOrigin.y += activeField.frame.size.height;\n    if (!CGRectContainsPoint(frame, fOrigin) ) {\n        CGPoint scrollPoint = CGPointMake(0.0, activeField.frame.origin.y + activeField.frame.size.height - frame.size.height);\n        [scrollView setContentOffset:scrollPoint animated:YES];\n    }\n}\n\n- (void)keyboardWillBeHidden:(NSNotification*)aNotification\n{\n     [scrollView setContentOffset:CGPointZero animated:YES];\n}\n\n- (void)textFieldDidBeginEditing:(UITextField *)textField\n{\n    activeField = textField;\n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField\n{\n    activeField = nil;\n}\n\n-(BOOL) textFieldShouldReturn:(UITextField *)textField\n{\n    [textField resignFirstResponder];\n    return YES;\n}\n</code></pre>\n\n<p>P.S: I hope the code help somebody make desired effect quickly. \n(Xcode 4.5)</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 12855831, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Lots of answers here, but this works and is much shorter than most:</p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)sender\n{\n    UIScrollView *scrollView = (UIScrollView *)self.view; // assuming this method is pasted into the UIScrollView's controller\n    const double dontHardcodeTheKeyboardHeight = 162;\n    double textY = [sender convertPoint:CGPointMake(0, 0) toView:scrollView].y;\n    if (textY - scrollView.contentOffset.y + sender.frame.size.height &gt; self.view.frame.size.height - dontHardcodeTheKeyboardHeight)\n        [scrollView setContentOffset:CGPointMake(0.0, textY - 10) animated:YES];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 12868564, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p><strong>Just using TextFields:</strong></p>\n\n<p>1a) Using <code>Interface Builder</code>: Select All TextFields => Edit => Embed In => ScrollView</p>\n\n<p>1b) Manually embed TextFields in UIScrollView called scrollView</p>\n\n<p>2) Set <code>UITextFieldDelegate</code></p>\n\n<p>3) Set each <code>textField.delegate = self;</code> (or make connections in <code>Interface Builder</code>)</p>\n\n<p>4) <strong>Copy / Paste:</strong></p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)textField {\n    CGPoint scrollPoint = CGPointMake(0, textField.frame.origin.y);\n    [scrollView setContentOffset:scrollPoint animated:YES];\n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField {\n    [scrollView setContentOffset:CGPointZero animated:YES];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 13660572, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>You can do by using textfield delegate methods also. Check below code. It's working for me when placed textfield on scroll view.</p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)textField\n{\n     if(textField == answer)\n    {   \n         CGPoint cPoint = textField.frame.origin;\n         [scrollView setContentOffset:CGPointMake(0, cPoint.y - 100) animated:YES];\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Note:</strong> You have to change cPoint.y - 100 value according to your view.</p>\n</blockquote>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 13688667, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Here is a free library for keyboard handling <a href=\"http://www.codeproject.com/Tips/509810/Keyboard-Handling-in-iPhone-Applications\" rel=\"nofollow\">Keyboard-Handling-in-iPhone-Applications</a>. You need write just one line of code:</p>\n\n<pre><code>[AutoScroller addAutoScrollTo:scrollView];\n</code></pre>\n\n<p>This is awesome to handle keyboard in forms</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 13910027, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>There are already a lot of answers, but still none of the solutions above had all the fancy positioning stuff required for a \"perfect\" bug-free, backward compatible and flicker-free animation. (bug when animating frame/bounds and contentOffset together, different interface orientations, iPad split keyboard, ...)<br/>\nLet me share my solution: <br/>\n(assuming you have set up <code>UIKeyboardWill(Show|Hide)Notification</code>)</p>\n\n<pre><code>// Called when UIKeyboardWillShowNotification is sent\n- (void)keyboardWillShow:(NSNotification*)notification\n{\n    // if we have no view or are not visible in any window, we don't care\n    if (!self.isViewLoaded || !self.view.window) {\n        return;\n    }\n\n    NSDictionary *userInfo = [notification userInfo];\n\n    CGRect keyboardFrameInWindow;\n    [[userInfo objectForKey:UIKeyboardFrameEndUserInfoKey] getValue:&amp;keyboardFrameInWindow];\n\n    // the keyboard frame is specified in window-level coordinates. this calculates the frame as if it were a subview of our view, making it a sibling of the scroll view\n    CGRect keyboardFrameInView = [self.view convertRect:keyboardFrameInWindow fromView:nil];\n\n    CGRect scrollViewKeyboardIntersection = CGRectIntersection(_scrollView.frame, keyboardFrameInView);\n    UIEdgeInsets newContentInsets = UIEdgeInsetsMake(0, 0, scrollViewKeyboardIntersection.size.height, 0);\n\n    // this is an old animation method, but the only one that retains compaitiblity between parameters (duration, curve) and the values contained in the userInfo-Dictionary.\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationDuration:[[userInfo objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue]];\n    [UIView setAnimationCurve:[[userInfo objectForKey:UIKeyboardAnimationCurveUserInfoKey] intValue]];\n\n    _scrollView.contentInset = newContentInsets;\n    _scrollView.scrollIndicatorInsets = newContentInsets;\n\n    /*\n     * Depending on visual layout, _focusedControl should either be the input field (UITextField,..) or another element\n     * that should be visible, e.g. a purchase button below an amount text field\n     * it makes sense to set _focusedControl in delegates like -textFieldShouldBeginEditing: if you have multiple input fields\n     */\n    if (_focusedControl) {\n        CGRect controlFrameInScrollView = [_scrollView convertRect:_focusedControl.bounds fromView:_focusedControl]; // if the control is a deep in the hierarchy below the scroll view, this will calculate the frame as if it were a direct subview\n        controlFrameInScrollView = CGRectInset(controlFrameInScrollView, 0, -10); // replace 10 with any nice visual offset between control and keyboard or control and top of the scroll view.\n\n        CGFloat controlVisualOffsetToTopOfScrollview = controlFrameInScrollView.origin.y - _scrollView.contentOffset.y;\n        CGFloat controlVisualBottom = controlVisualOffsetToTopOfScrollview + controlFrameInScrollView.size.height;\n\n        // this is the visible part of the scroll view that is not hidden by the keyboard\n        CGFloat scrollViewVisibleHeight = _scrollView.frame.size.height - scrollViewKeyboardIntersection.size.height;\n\n        if (controlVisualBottom &gt; scrollViewVisibleHeight) { // check if the keyboard will hide the control in question\n            // scroll up until the control is in place\n            CGPoint newContentOffset = _scrollView.contentOffset;\n            newContentOffset.y += (controlVisualBottom - scrollViewVisibleHeight);\n\n            // make sure we don't set an impossible offset caused by the \"nice visual offset\"\n            // if a control is at the bottom of the scroll view, it will end up just above the keyboard to eliminate scrolling inconsistencies\n            newContentOffset.y = MIN(newContentOffset.y, _scrollView.contentSize.height - scrollViewVisibleHeight);\n\n            [_scrollView setContentOffset:newContentOffset animated:NO]; // animated:NO because we have created our own animation context around this code\n        } else if (controlFrameInScrollView.origin.y &lt; _scrollView.contentOffset.y) {\n            // if the control is not fully visible, make it so (useful if the user taps on a partially visible input field\n            CGPoint newContentOffset = _scrollView.contentOffset;\n            newContentOffset.y = controlFrameInScrollView.origin.y;\n\n            [_scrollView setContentOffset:newContentOffset animated:NO]; // animated:NO because we have created our own animation context around this code\n        }\n    }\n\n    [UIView commitAnimations];\n}\n\n\n// Called when the UIKeyboardWillHideNotification is sent\n- (void)keyboardWillHide:(NSNotification*)notification\n{\n    // if we have no view or are not visible in any window, we don't care\n    if (!self.isViewLoaded || !self.view.window) {\n        return;\n    }\n\n    NSDictionary *userInfo = notification.userInfo;\n\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationDuration:[[userInfo valueForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue]];\n    [UIView setAnimationCurve:[[userInfo valueForKey:UIKeyboardAnimationCurveUserInfoKey] intValue]];\n\n    // undo all that keyboardWillShow-magic\n    // the scroll view will adjust its contentOffset apropriately\n    _scrollView.contentInset = UIEdgeInsetsZero;\n    _scrollView.scrollIndicatorInsets = UIEdgeInsetsZero;\n\n    [UIView commitAnimations];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 15165548, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Please follow these steps. </p>\n\n<p>1) Declare following variable in .h file.</p>\n\n<pre><code>  {      \n         CGFloat animatedDistance;\n  }\n</code></pre>\n\n<p>2) Declare following constants in .m file.</p>\n\n<pre><code>  static const CGFloat KEYBOARD_ANIMATION_DURATION = 0.3;\n  static const CGFloat MINIMUM_SCROLL_FRACTION = 0.2;\n  static const CGFloat MAXIMUM_SCROLL_FRACTION = 0.8;\n  static const CGFloat PORTRAIT_KEYBOARD_HEIGHT = 216;\n  static const CGFloat LANDSCAPE_KEYBOARD_HEIGHT = 162;\n</code></pre>\n\n<p>3) Use UITextField delegate to move up/down keyboard.</p>\n\n<pre><code>  -(void) textFieldDidBeginEditing:(UITextField *)textField\n  { \n         if(UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)\n         {\n               CGRect textFieldRect = [self.view.window convertRect:textField.bounds fromView:textField];\n               CGRect viewRect = [self.view.window convertRect:self.view.bounds fromView:self.view];\n\n               CGFloat midline = textFieldRect.origin.y + 0.5 * textFieldRect.size.height;\n               CGFloat numerator =\n    midline - viewRect.origin.y\n    - MINIMUM_SCROLL_FRACTION * viewRect.size.height;\n               CGFloat denominator =\n    (MAXIMUM_SCROLL_FRACTION - MINIMUM_SCROLL_FRACTION)\n    * viewRect.size.height;\n               CGFloat heightFraction = numerator / denominator;\n\n               if (heightFraction &lt; 0.0)\n               {\n                     heightFraction = 0.0;\n               }\n               else if (heightFraction &gt; 1.0)\n               {\n                     heightFraction = 1.0;\n               }\n\n               UIInterfaceOrientation orientation =\n    [[UIApplication sharedApplication] statusBarOrientation];\n               if (orientation == UIInterfaceOrientationPortrait)\n               {\n                     animatedDistance = floor(PORTRAIT_KEYBOARD_HEIGHT * heightFraction);\n               }\n               else\n               {\n                     animatedDistance = floor(LANDSCAPE_KEYBOARD_HEIGHT * heightFraction);\n               }\n\n               CGRect viewFrame = self.view.frame;\n               viewFrame.origin.y -= animatedDistance;\n\n               [UIView beginAnimations:nil context:NULL];\n               [UIView setAnimationBeginsFromCurrentState:YES];\n               [UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];\n\n               [self.view setFrame:viewFrame];\n\n               [UIView commitAnimations];\n       }\n  }\n\n  -(void) textFieldDidEndEditing:(UITextField *)textField\n  {\n       if(UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPhone)\n       {\n             CGRect viewFrame = self.view.frame;\n             viewFrame.origin.y += animatedDistance;\n\n             [UIView beginAnimations:nil context:NULL];\n             [UIView setAnimationBeginsFromCurrentState:YES];\n             [UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];\n\n             [self.view setFrame:viewFrame];\n\n             [UIView commitAnimations];\n       }\n }\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 15757833, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>For <strong>Universal Solution</strong>, Here was my approach for implementing <a href=\"http://github.com/hackiftekhar/IQKeyboardManager\">IQKeyboardManager</a>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Gym7k.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Step1:-</strong> I Added global notifications of <code>UITextField</code>, <code>UITextView</code>, and <code>UIKeyboard</code> in a singleton class. I call it <a href=\"http://github.com/hackiftekhar/IQKeyboardManager\">IQKeyboardManager</a>.</p>\n\n<p><strong>Step2:-</strong> If found <code>UIKeyboardWillShowNotification</code>, <code>UITextFieldTextDidBeginEditingNotification</code> or <code>UITextViewTextDidBeginEditingNotification</code> notifications, I try to get <code>topMostViewController</code> instance from the <code>UIWindow.rootViewController</code> hierarchy. In order to properly uncover <code>UITextField</code>/<code>UITextView</code> on it, <code>topMostViewController.view</code>'s frame needs to be adjusted.</p>\n\n<p><strong>Step3:-</strong> I calculated expected move distance of <code>topMostViewController.view</code> with respect to first responded <code>UITextField</code>/<code>UITextView</code>.</p>\n\n<p><strong>Step4:-</strong> I moved <code>topMostViewController.view.frame</code> up/down according to the expected move distance.</p>\n\n<p><strong>Step5:-</strong> If found <code>UIKeyboardWillHideNotification</code>, <code>UITextFieldTextDidEndEditingNotification</code> or <code>UITextViewTextDidEndEditingNotification</code> notification, I again try to get <code>topMostViewController</code> instance from the <code>UIWindow.rootViewController</code> hierarchy.</p>\n\n<p><strong>Step6:-</strong> I calculated disturbed distance of <code>topMostViewController.view</code> which needs to be restored to it's original position.</p>\n\n<p><strong>Step7:-</strong> I restored <code>topMostViewController.view.frame</code> down according to the disturbed distance.</p>\n\n<p><strong>Step8:-</strong> I instantiated singleton <a href=\"http://github.com/hackiftekhar/IQKeyboardManager\">IQKeyboardManager</a> class instance on app load, so every <code>UITextField</code>/<code>UITextView</code> in the app will adjust automatically according to the expected move distance.</p>\n\n<p>That's all <a href=\"http://github.com/hackiftekhar/IQKeyboardManager\">IQKeyboardManager</a> do for you with <strong>NO LINE OF CODE</strong> really!! only need to drag and drop related source file to project. <a href=\"http://github.com/hackiftekhar/IQKeyboardManager\">IQKeyboardManager</a> also support <strong>Device Orientation</strong>, <strong>Automatic UIToolbar Management</strong>, <strong>KeybkeyboardDistanceFromTextField</strong> and much more than you think.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 17707278, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Just found this class:</p>\n\n<p><a href=\"https://github.com/OliverLetterer/SLScrollViewKeyboardSupport\" rel=\"nofollow\">https://github.com/OliverLetterer/SLScrollViewKeyboardSupport</a></p>\n\n<p>And so far it works very well on iPhone, including animations &amp; the correct offset.</p>\n\n<p>To use it, simply add to <code>viewDidLoad</code>:</p>\n\n<pre><code>self.support = [[SLScrollViewKeyboardSupport alloc] initWithScrollView:self.scrollView];\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 18349125, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<ul>\n<li>If the text field is not completely or partially hidden  then we should not change anything.</li>\n<li><p>We should calculate exact intersection area(keyboard's frame and textfield's frame) which is hidden and then we should change the view's frame.</p></li>\n<li><p>Here i am giving a complete example .</p>\n\n<p>Declaring 3 varible</p></li>\n</ul>\n\n<blockquote>\n  <p>#define PADDING 10</p>\n\n<pre><code>@interface PKViewController ()\n      @property (nonatomic, assign) CGRect originalViewFrame; //original view's frame\n      @property (nonatomic, strong) UITextField *activeTextField; // current text field\n      @property (nonatomic, assign) CGRect keyBoardRect; // covered area by keaboard\n     @end\n</code></pre>\n</blockquote>\n\n<p>Store original frame</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    _originalViewFrame = self.view.frame;\n}\n</code></pre>\n\n<p>Add your view controller as observer for keyboard notification</p>\n\n<pre><code>- (void)viewWillAppear:(BOOL)animated{\n    [super viewWillAppear:animated];\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWasShown:)\n                                                 name:UIKeyboardDidShowNotification\n                                               object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillHide:)\n                                                 name:UIKeyboardWillHideNotification\n                                               object:nil];\n}\n</code></pre>\n\n<p>Remove observer</p>\n\n<pre><code>- (void)viewWillDisappear:(BOOL)animated{\n    [super viewWillDisappear:animated];\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n}\n</code></pre>\n\n<p>Store the area covered by the keyboard when it appears and set it to CGRectZero when it disappear </p>\n\n<pre><code>- (void)keyboardWasShown:(NSNotification *)notification{\n    CGSize keyboardSize = [[[notification userInfo] objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n    _keyBoardRect = CGRectMake(0, _originalViewFrame.size.height - keyboardSize.height, keyboardSize.width, keyboardSize.height);\n    [self moveTextFieldUP];\n\n}\n- (void) keyboardWillHide:(NSNotification *)notification{\n    _keyBoardRect = CGRectZero;\n    [self setDefaultFrame];\n}\n</code></pre>\n\n<p>Store the active textfield </p>\n\n<pre><code>- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField {\n    _activeTextField = textField;\n//When keyboard is already present but the textfield is hidden. Case:When return key of  keyboard makes the next textfield as first responder\n    if (!CGRectIsEmpty(_keyBoardRect)) { \n        [self moveTextFieldUP];\n    }\n    return YES;\n}\n- (BOOL)textFieldShouldReturn:(UITextField *)textField{\n    [textField resignFirstResponder];\n    return YES;\n}\n</code></pre>\n\n<p>Now we should change the frame of the view</p>\n\n<pre><code>- (void)moveTextFieldUP{\n    CGRect virtualTextFieldRect = CGRectMake(0, self.view.frame.origin.y, _activeTextField.frame.size.width, _activeTextField.frame.origin.y+_activeTextField.frame.size.height);\n    if (CGRectIntersectsRect(_keyBoardRect, virtualTextFieldRect)) {\n        CGRect intersectRect = CGRectIntersection(_keyBoardRect, virtualTextFieldRect);\n        CGFloat newY = _originalViewFrame.origin.y - intersectRect.size.height;\n        CGFloat newHeight = _originalViewFrame.size.height + intersectRect.size.height;\n        CGRect newFrame = CGRectMake(0, newY-PADDING, _originalViewFrame.size.width, newHeight+PADDING);\n        [UIView animateWithDuration:0.3 animations:^{\n            [self.view setFrame:newFrame];\n        }];\n\n        NSLog(@\"Intersect\");\n    }\n}\n- (void)setDefaultFrame {\n    [UIView animateWithDuration:0.3 animations:^{\n        [self.view setFrame:_originalViewFrame];\n    }];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 19615444, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I recently found myself in a similar scenario when working on a messaging app. I created a custom UIView that sticks to the top of the keyboard and does most of what you need automatically</p>\n\n<p><a href=\"https://github.com/oseparovic/MessageComposerView\" rel=\"nofollow\">MessageComposerView</a></p>\n\n<p><img src=\"http://www.thegameengine.org/wp-content/uploads/2013/11/message_composer_quad_1.jpg\" alt=\"\"></p>\n\n<p>The idea behind this project was to create something that functioned similar to the iMessage composition view AKA:</p>\n\n<ul>\n<li>sticks to top of keyboard and moves to bottom of screen when keyboard dismissed</li>\n<li>handles changes in text</li>\n<li>handles rotations</li>\n</ul>\n\n<p>In order to resize/reconfigure your UIScrollView you'll want to use the following optional delegate method:</p>\n\n<p><code>- (void)messageComposerFrameDidChange:(CGRect)frame withAnimationDuration:(float)duration;</code></p>\n\n<p>It will be called whenever the frame is changed (resized, repositioned, rotated) and will also supply the animation duration. You can use this information to resize your UIScrollView's frame and content insets as needed.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 20012376, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>IF YOU ARE STILL STRUGGLING WITH THIS \u2014 READ MY POST</p>\n\n<p>I have come up with a solution today.\nI've read numerous posts and \"tutorials\" about this issue and NONE of them works in every case (most of them are copy-pastes of each other).\nEven Apple's officially proposed \"solution\" doesn't work, and more, it totally doesn't work in landscape mode.\nShame on Apple for not giving the devs means to beat such a common basic issue. Very unprofessional. Such an amazing framework (Cocoa) and such a nasty underrated issue.</p>\n\n<p>Now, my solution: make UIScrollView your root view and then put everything in it.\nThen subclass your view controller from this KeyboardAwareController class (you may want to redefine scrollView and keyboardPadding methods):</p>\n\n<p>//\n    //  KeyboardAwareController.h\n    //  Sociopathy\n    //\n    //  Created by Admin on 13.01.14.\n    //  Copyright (c) 2014 kuchumovn. All rights reserved.\n    //</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface KeyboardAwareController : UIViewController &lt;UITextFieldDelegate&gt;\n\n@end\n</code></pre>\n\n<p>//\n    //  KeyboardAwareController.m\n    //  Sociopathy\n    //\n    //  Created by Admin on 13.01.14.\n    //  Copyright (c) 2014 kuchumovn. All rights reserved.\n    //</p>\n\n<pre><code>#import \"KeyboardAwareController.h\"\n\n@interface KeyboardAwareController ()\n\n@end\n\n@implementation KeyboardAwareController\n{\n    CGPoint scrollPositionBeforeKeyboardAdjustments;\n\n    __weak UIScrollView* scrollView;\n\n    UITextField* activeField;\n}\n\n- (id) initWithCoder: (NSCoder*) decoder\n{\n    if (self = [super initWithCoder:decoder])\n    {\n        scrollPositionBeforeKeyboardAdjustments = CGPointZero;\n    }\n    return self;\n}\n\n- (void) viewDidLoad\n{\n    [super viewDidLoad];\n}\n\n- (UIScrollView*) scrollView\n{\n    return (UIScrollView*) self.view;\n}\n\n- (CGFloat) keyboardPadding\n{\n    return 5;\n}\n\n- (void) registerForKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillShow:)\n                                                 name:UIKeyboardWillShowNotification object:nil];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardDidShow:)\n                                                 name:UIKeyboardDidShowNotification object:nil];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillBeHidden:)\n                                                 name:UIKeyboardWillHideNotification object:nil];\n}\n\n- (void) deregisterFromKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                    name:UIKeyboardWillShowNotification\n                                                  object:nil];\n\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                    name:UIKeyboardDidShowNotification\n                                                  object:nil];\n\n    [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                    name:UIKeyboardWillHideNotification\n                                                  object:nil];\n}\n\n- (void) viewWillAppear: (BOOL) animated\n{\n    [super viewWillAppear:animated];\n\n    [self registerForKeyboardNotifications];\n}\n\n- (void) viewWillDisappear: (BOOL) animated\n{\n    [self deregisterFromKeyboardNotifications];\n\n    [super viewWillDisappear:animated];\n}\n\n- (void) keyboardWillShow: (NSNotification*) notification\n{\n    //NSLog(@\"keyboardWillShow\");\n\n    // force the animation from keyboardWillBeHidden: to end\n    scrollView.contentOffset = scrollPositionBeforeKeyboardAdjustments;\n\n    scrollPositionBeforeKeyboardAdjustments = CGPointZero;\n}\n\n// warning: i have no idea why this thing works and what does every line of this code mean\n// (but it works and there is no other solution on the internets whatsoever)\n// P.S. Shame on Apple for missing such a basic functionality from SDK (and many other basic features we have to hack and mess around with for days and nights)\n\n- (void) keyboardDidShow: (NSNotification*) notification\n{\n    //NSLog(@\"keyboardDidShow\");\n\n    UIWindow* window = [[[UIApplication sharedApplication] windows]objectAtIndex:0];\n    UIView* mainSubviewOfWindow = window.rootViewController.view;\n\n    CGRect keyboardFrameIncorrect = [[[notification userInfo] objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    CGRect keyboardFrame = [mainSubviewOfWindow convertRect:keyboardFrameIncorrect fromView:window];\n    CGSize keyboardSize = keyboardFrame.size;\n\n    CGRect visibleFrame = CGRectMake(0, 0, 0, 0);\n    visibleFrame.origin = self.scrollView.contentOffset;\n    visibleFrame.size = self.scrollView.bounds.size;\n\n    CGFloat paddedKeyboardHeight = keyboardSize.height + self.keyboardPadding;\n\n    //NSLog(@\"visibleFrame %@\", NSStringFromCGRect(visibleFrame));\n\n    visibleFrame.size.height -= paddedKeyboardHeight;\n\n    //NSLog(@\"visibleFrame after keyboard height %@\", NSStringFromCGRect(visibleFrame));\n\n    if (CGRectContainsPoint(visibleFrame, activeField.frame.origin))\n        return;\n\n    scrollPositionBeforeKeyboardAdjustments = scrollView.contentOffset;\n\n    UIEdgeInsets contentInsets = UIEdgeInsetsMake(0.0, 0.0, activeField.frame.origin.y - visibleFrame.size.height + activeField.frame.size.height, 0);\n\n    contentInsets = UIEdgeInsetsMake(0.0, 0.0, paddedKeyboardHeight, 0);\n\n    self.scrollView.contentInset = contentInsets;\n    self.scrollView.scrollIndicatorInsets = contentInsets;\n\n    CGSize scrollContentSize = self.scrollView.bounds.size;\n    scrollContentSize.height += paddedKeyboardHeight;\n    self.scrollView.contentSize = scrollContentSize;\n\n    //NSLog(@\"scrollView %@\", NSStringFromCGRect(scrollView.frame));\n    //NSLog(@\"activeField %@\", NSStringFromCGRect(activeField.frame));\n\n    //[scrollView scrollRectToVisible:activeField.frame animated:YES];\n\n    CGPoint scrollPoint = CGPointMake(0.0, activeField.frame.origin.y - visibleFrame.size.height + activeField.frame.size.height);\n\n    //NSLog(@\"scrollPoint %@\", NSStringFromCGPoint(scrollPoint));\n\n    [self.scrollView setContentOffset:scrollPoint animated:YES];\n}\n\n- (void) keyboardWillBeHidden: (NSNotification*) notification\n{\n    //NSLog(@\"keyboardWillBeHidden\");\n\n    UIEdgeInsets contentInsets = UIEdgeInsetsZero;\n\n    // this doesn't work when changing orientation while the keyboard is visible\n    // because when keyboardDidShow: will be called right after this method the contentOffset will still be equal to the old value\n    //[scrollView setContentOffset:scrollPositionBeforeKeyboardAdjustments animated:YES];\n\n    [UIView animateWithDuration:.25 animations:^\n    {\n        self.scrollView.contentInset = contentInsets;\n        self.scrollView.scrollIndicatorInsets = contentInsets;\n\n        // replacement for setContentOffset:animated:\n        self.scrollView.contentOffset = scrollPositionBeforeKeyboardAdjustments;\n    }];\n}\n\n- (void) textFieldDidBeginEditing: (UITextField*) textField\n{\n    activeField = textField;\n}\n\n- (void) textFieldDidEndEditing: (UITextField*) textField\n{\n    activeField = nil;\n}\n@end\n</code></pre>\n\n<p>If you have any questions, my project is hosted here on github:\n<a href=\"https://github.com/kuchumovn/sociopathy.ios\" rel=\"nofollow\">https://github.com/kuchumovn/sociopathy.ios</a></p>\n\n<p>I also took a screenshot for better explanation:\n<img src=\"http://i.stack.imgur.com/1gzgx.png\" alt=\"see the storyboard layout screenshot\"></p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 21096604, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I didn't see this possibility here, so i'm adding it, since I tried the methods in the answers but hours later discovered there is a <em>much</em> easier way in XCode 5 in iOS6/7:\nUse NSLayoutConstraints.</p>\n\n<p>See: <a href=\"http://stackoverflow.com/questions/12924649/autolayout-constraint-keyboard\">Autolayout Constraint - Keyboard</a></p>\n\n<p>Here is my code:</p>\n\n<p>.m file:</p>\n\n<pre><code>// Called when the UIKeyboardWillShowNotification is sent.\n- (void)keyboardWillBeShown:(NSNotification*)aNotification\n{\n    NSLog(@\"keyboardWillBeShown:\");\n    [self.PhoneNumberLabelOutlet setHidden:TRUE];\n    CGFloat heightOfLabel = self.PhoneNumberLabelOutlet.frame.size.height;\n    for( NSLayoutConstraint* thisConstraint in self.topElementsVerticalDistanceFromTopLayoutConstraint ) {\n        thisConstraint.constant -= heightOfLabel;\n    }\n\n    NSDictionary* info = [aNotification userInfo];\n    CGSize kbSize = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    CGFloat oldConstant = [self.SignInYConstraint constant];\n    self.SignInYConstraint.constant = oldConstant + kbSize.height;\n    [self.view setNeedsUpdateConstraints];\n\n    NSTimeInterval duration = [[info objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    [UIView animateWithDuration:duration animations:^{\n        [self.view layoutIfNeeded];\n    }];\n\n}\n</code></pre>\n\n<p>.h file:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface SignInViewController : UIViewController {\n\n    UITextField* _activeField;\n}\n\n\n\n\n- (void)signInCallback:(NSObject*)object;\n\n\n@property (weak, nonatomic) IBOutlet UILabel *PhoneNumberLabelOutlet;\n\n@property (weak, nonatomic) IBOutlet UIActivityIndicatorView *ActivityIndicatorOutlet;\n\n@property (weak, nonatomic) IBOutlet UITextField *UserIDTextfieldOutlet;\n\n@property (weak, nonatomic) IBOutlet UITextField *PasswordTextfieldOutlet;\n\n@property (weak, nonatomic) IBOutlet UIButton *SignInButton;\n\n@property (weak, nonatomic) IBOutlet NSLayoutConstraint *SignInYConstraint;\n\n@property (strong, nonatomic) IBOutletCollection(NSLayoutConstraint) NSArray *topElementsVerticalDistanceFromTopLayoutConstraint;\n\n@end\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 21184938, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I found @DK_ to be the solution I started using. However, there is the assumption that the scrollView covers the entire view. That was not the case for me. I only wanted a scrollView in case the keyboard covered the lower textfield on my login screen. So my content view was the same size as my scroll view, which was smaller than the main view.</p>\n\n<p>It also didn't account for landscapes, which is where I got into trouble to begin with. After playing around with it for several days, this is my <code>keyboardWasShown:</code> method.</p>\n\n<pre><code>- (void)keyboardWasShown:(NSNotification*)aNotification\n{\n    // A lot of the inspiration for this code came from http://stackoverflow.com/a/4837510/594602\n    CGFloat height = 0;\n    NSDictionary* info = [aNotification userInfo];\n\n    CGRect kbFrameRect = [[info objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    CGRect kbBoundsRect = [self.view convertRect:kbFrameRect fromView:nil]; // Convert frame from window to view coordinates.\n\n    CGRect scrollRect = scrollView.frame;\n    CGRect intersect = CGRectIntersection(kbBoundsRect, scrollRect);\n\n    if (!CGRectIsNull(intersect))\n    {\n        height = intersect.size.height;\n        UIEdgeInsets contentInsets = UIEdgeInsetsMake(0.0, 0.0, height, 0.0);\n        scrollView.contentInset = contentInsets;\n        scrollView.scrollIndicatorInsets = contentInsets;\n    }\n\n    // Figure out what the view rectangle is for the scrollView\n    CGPoint contentOffset = scrollView.contentOffset;\n    CGRect visibleRect = CGRectOffset(scrollRect, contentOffset.x, contentOffset.y);    // I'm not 100% sure if this is needed/right. My scrollView was always at the top in testing.\n    visibleRect.size.height -= height;\n    CGRect activeRect = activeField.frame;\n\n    if (!CGRectContainsRect(visibleRect, activeRect))\n    {\n        [self.scrollView scrollRectToVisible:activeField.frame animated:YES];\n    }\n}\n</code></pre>\n\n<p>I also had some difficulties getting to to work with auto layout. If I don't have the layouts done correctly, I don't get the scrolling I expected. One thing that made life much easier was to place all of the items that were to be scrolling into a single view, and placed that as the only item in the scroll view. I called that single view the \"content view\".</p>\n\n<p>I think the key part was that the content view had a set width and height. This allowed the scroll view to know exactly how much content it had to deal with. This goes a little backwards from usual layouts. Normally the views are trying to take as much room as possible. With the contents of a scroll view, you are trying to get the view to confine itself as much as possible. The content view allows you to put a stop to that. So I gave mine a height of 248, and used the standard screen width of 320 as my width.</p>\n\n<p>The layouts that eventually worked for me were these:</p>\n\n<ul>\n<li>Scroll View to super view: Basically I gave constraints to the top, left and right.\n<ul>\n<li><code>Horizontal Space - View - Scroll View</code> (0)</li>\n<li><code>Vertical Space - View - Scroll View</code> (0)</li>\n<li><code>Horizontal Space - Scroll View - View</code> (0)</li>\n</ul></li>\n<li>Scroll View height: I set the scroll view with a constant height. I don't know if this was truly necessary, but it got the bounds of the scroll view itself.\n<ul>\n<li><code>Height - (248) - Scroll View</code></li>\n</ul></li>\n<li>The content view to the scroll view: I gave constants to all sides, the top, left, bottom and right.\n<ul>\n<li><code>Vertical Space - View - Scroll View</code> (0)</li>\n<li><code>Vertical Space - Scroll View - View</code> (0)</li>\n<li><code>Horizontal Space - View - Scroll View</code> (0)</li>\n<li><code>Horizontal Space - Scroll View - View</code> (0)</li>\n</ul></li>\n<li>The dimensions of the content view. \n<ul>\n<li><code>Height - (248) - View</code></li>\n<li><code>Width - (320) - View</code></li>\n</ul></li>\n</ul>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 22108032, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>in (BOOL)textFieldShouldBeginEditing:(UITextField *)textField</p>\n\n<pre><code>if (textField.frame.origin.y &gt; self.view.frame.size.height - 216)\n    {\n        if (screenHeight&gt;500)\n            scrollView.contentSize = CGSizeMake(0.0, scrollView.contentSize.height + 100);\n        else\n            scrollView.contentSize = CGSizeMake(0.0, scrollView.contentSize.height + 216);\n        CGPoint scrollPoint = CGPointMake(0.0,(textField.frame.origin.y - (self.view.frame.size.height - 216 - textField.frame.size.height - 20)));\n        [scrollView setContentOffset:scrollPoint animated:YES];\n    }\n    [scrollView setScrollEnabled:YES];\n</code></pre>\n\n<p>when resigning keyBoard you need to write bellow code</p>\n\n<pre><code>scrollView.contentSize = CGSizeMake(0.0, 640);\nCGPoint scrollPoint = CGPointMake(0.0,0.0);\n[scrollView setContentOffset:scrollPoint animated:YES]; \n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 22113093, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>here is a UITextfield (and other similar fields) category that i made that will make the textfield avoid the keyboard, you should be able to drop this in your view controller as is and it should work. It moves the entire screen up so the current textfield is above the keyboard with animations</p>\n\n<pre><code>#import \"UIView+avoidKeyboard.h\"\n#import \"AppDelegate.h\"\n\n@implementation UIView (avoidKeyboard)\n\n- (void) becomeFirstResponder {\n\nif(self.isFirstResponder)\n    return;\n\n[super becomeFirstResponder];\n\nif ([self isKindOfClass:[UISearchBar class]] ||\n    [self isKindOfClass:[UITextField class]] ||\n    [self isKindOfClass:[UITextView class]])\n{\n    AppDelegate *appDelegate    = [UIApplication sharedApplication].delegate;\n\n    CGRect screenBounds         = appDelegate.window.frame;\n\n    CGFloat keyboardHeight;\n    CGFloat keyboardY;\n    CGFloat viewsLowestY;\n    CGPoint origin              = [self.superview convertPoint:self.frame.origin toView:appDelegate.window]; //get this views origin in terms of the main screens bounds\n\n    if(UIInterfaceOrientationIsPortrait([[UIApplication sharedApplication] statusBarOrientation])){ //the window.frame doesnt take its orientation into account so if its sideways we must use the x value of the origin instead of the y\n        keyboardHeight          = 216;\n        keyboardY               = screenBounds.size.height  - keyboardHeight; //find the keyboards y coord relative to how much the main window has moved up\n        viewsLowestY            = origin.y + self.frame.size.height; //find the lowest point of this view\n    }\n    else {\n        keyboardHeight          = 162;\n        keyboardY               = screenBounds.size.width  - keyboardHeight;\n        viewsLowestY            = origin.x + self.frame.size.height;\n    }\n\n    CGFloat difference          = viewsLowestY - keyboardY + 20; //find if this view overlaps with the keyboard with some padding\n\n    if (difference &gt; 0){ //move screen up if there is an overlap\n\n        [UIView animateWithDuration:0.3 delay:0.0 options:UIViewAnimationOptionBeginFromCurrentState animations:^{\n\n            CGRect frame = appDelegate.window.frame;\n\n            if(UIInterfaceOrientationIsPortrait([[UIApplication sharedApplication] statusBarOrientation])){\n                frame.origin.y -= difference;\n            }\n            else {\n                frame.origin.x -= difference;\n            }\n            appDelegate.window.frame = frame;\n        }\n        completion:nil];\n    }\n}\n}\n\n//look at appDelegate to see when the keyboard is hidden\n\n@end\n</code></pre>\n\n<p>In your appDelegate add this function</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardHides:) name:UIKeyboardWillHideNotification object:nil]; //add in didFinishLaunchingWithOptions\n\n...\n\n- (void)keyboardHides:(NSNotification *)notification\n{\n    [UIView animateWithDuration:0.3 animations:^{\n        [window setFrame: CGRectMake(0, 0, window.frame.size.width, window.frame.size.height)];\n    } completion:nil];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 22401013, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<pre><code>-(BOOL) textFieldShouldBeginEditing:(UITextField *)textField {\n\n  [self slideUp];\n   return YES;\n}\n\n-(BOOL) textFieldShouldEndEditing:(UITextField *)textField {\n\n    [self slideDown];\n   return YES;\n}\n\n#pragma mark - Slide Up and Down animation\n\n- (void) slideUp {\n    [UIView beginAnimations:nil context:nil];\n    layoutView.frame = CGRectMake(0.0, -70.0, layoutView.frame.size.width, layoutView.frame.size.height);\n\n    [UIView commitAnimations];\n}\n\n\n- (void) slideDown {\n    [UIView beginAnimations:nil context:nil];\n    [UIView setAnimationDelay: 0.01]; \n    layoutView.frame = CGRectMake(0.0, 0.0, layoutView.frame.size.width, layoutView.frame.size.height);\n    [UIView commitAnimations];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 23693019, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p><strong>Note</strong>: this answer assumes your textField is in a scrollView.</p>\n\n<p>I prefer to deal with this using scrollContentInset and scrollContentOffset instead of messing with the frames of my view.</p>\n\n<p>First let's listen for the keyboard notifications </p>\n\n<pre><code>//call this from viewWillAppear\n-(void)addKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillShow:)\n                                                 name:UIKeyboardWillShowNotification\n                                               object:nil];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillHide:)\n                                                 name:UIKeyboardWillHideNotification\n                                               object:nil];\n}\n//call this from viewWillDisappear\n-(void)removeKeyboardNotifications{\n    [[NSNotificationCenter default\n    Center] removeObserver:self name:UIKeyboardWillShowNotification object:nil];\n    [[NSNotificationCenter defaultCenter] removeObserver:self name:UIKeyboardWillHideNotification object:nil];\n}\n</code></pre>\n\n<p>Next step is to keep a property that represents the current first responder (UITextfield/ UITextVIew that currently has the keyboard).</p>\n\n<p>We use the delegate methods to set this property. If you're using another component, you will need something similar.</p>\n\n<p>Note that for textfield we set it in didBeginEditing and for textView in shouldBeginEditing. This is because textViewDidBeginEditing gets called after UIKeyboardWillShowNotification for some reason. </p>\n\n<pre><code>-(BOOL)textViewShouldBeginEditing:(UITextView * )textView{\n    self.currentFirstResponder = textView;\n    return YES;\n}\n\n-(void)textFieldDidBeginEditing:(UITextField *)textField{\n    self.currentFirstResponder = textField;\n}\n</code></pre>\n\n<p>Finally, here's  the magic</p>\n\n<pre><code>- (void)keyboardWillShow:(NSNotification*)aNotification{\n    NSDictionary* info = [aNotification userInfo];\n    CGRect kbFrame = [[info objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue];\n\n\n    /*if currentFirstResponder is overlayed by the keyboard, move it so it bottom ends where the keyboard begins*/\n    if(self.currentFirstResponder){\n\n        //keyboard origin in currentFirstResponderFrame\n        CGPoint keyboardOrigin = [self.currentFirstResponder convertPoint:kbFrame.origin fromView:nil];\n\n        float spaceBetweenFirstResponderAndKeyboard = abs(self.currentFirstResponder.frame.size.height-keyboardOrigin.y);\n\n        //only scroll the scrollview if keyboard overlays the first responder\n        if(spaceBetweenFirstResponderAndKeyboard&gt;0){\n            //if i call setContentOffset:animate:YES it behaves differently, not sure why\n            [UIView animateWithDuration:0.25 animations:^{\n                [self.scrollView setContentOffset:CGPointMake(0,self.scrollView.contentOffset.y+spaceBetweenFirstResponderAndKeyboard)];\n            }];\n        }\n    }\n\n    //set bottom inset to the keyboard height so you can still scroll the whole content\n\n    UIEdgeInsets contentInsets = UIEdgeInsetsMake(0.0, 0.0, kbFrame.size.height, 0.0);\n    _scrollView.contentInset = contentInsets;\n    _scrollView.scrollIndicatorInsets = contentInsets;\n\n}\n\n- (void)keyboardWillHide:(NSNotification*)aNotification{\n    UIEdgeInsets contentInsets = UIEdgeInsetsZero;\n    _scrollView.contentInset = contentInsets;\n    _scrollView.scrollIndicatorInsets = contentInsets;\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 24540120, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>There are many answers available telling the approach. I took the same approach but the implementation isn't good.</p>\n\n<p>Here is the <a href=\"https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html#//apple_ref/doc/uid/TP40009542-CH5-SW7\" rel=\"nofollow\">base Idea</a> . I made modifications to keyboardWasShown method.</p>\n\n<pre><code>{\n// Obtain keyboard Info\nNSDictionary* info = [notification userInfo];\nCGRect keyboardRect = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue];\nkeyboardRect = [self.view convertRect:keyboardRect fromView:nil];\n\n// Obtain ScrollView Info w.r.t. top View\nCGRect scrollViewRect = [self.view convertRect:self.scrollView.frame fromView:nil];\n\n// Depending upon your screen Ui, Scroll View's bottom edge might be at some offset from screen's bottom\n// Calculate the exact offset\nint scrollViewBottomOffset = self.view.frame.size.height - (scrollViewRect.origin.y + scrollViewRect.size.height);\nint heightToBeAdjusted = keyboardRect.size.height - scrollViewBottomOffset;\n\n\n// We may also need to consider the Insets if already present with ScrollView. Let's keep it simple for now\n// But we should store these, so that we can restore the Insets when Keyboard is gone\n// origInsets = self.scrollView.contentInset;\n\n// Set the new Insets for ScrollView\nUIEdgeInsets contentInsets = UIEdgeInsetsMake(0.0, 0.0, heightToBeAdjusted, 0.0);\nself.scrollView.contentInset = contentInsets;\nself.scrollView.scrollIndicatorInsets = contentInsets;\n\n// Visible frame (not overlapped by Keyboard)\nCGRect visibleFrame = self.view.frame;\nvisibleFrame.size.height -= keyboardRect.size.height;\n\n// Get the Rect for Textfield w.r.t self.view\nCGRect activeFieldFrame = self.activeField.frame;\nactiveFieldFrame = [self.view convertRect:activeFieldFrame fromView:self.scrollView];\n\n// Check if the TextField is Visible or not\nif (!CGRectContainsRect(visibleFrame, activeFieldFrame) ) {\n    // Scroll to make it visible but for scrolling use the activeField frame w.r.t. to scroll View\n    [self.scrollView scrollRectToVisible:self.activeField.frame animated:YES];\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And add this method to initialize the activeField</p>\n\n<pre><code>- (IBAction)textFieldDidBeginEditing:(UITextField *)sender\n{\nself.activeField = sender;\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 25148624, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p><a href=\"https://github.com/michaeltyson/TPKeyboardAvoiding\" rel=\"nofollow\">https://github.com/michaeltyson/TPKeyboardAvoiding</a>\n download this file and add custom class as this in your table view it will manage all things for you don't need to do any thing.\nit has many option you can check it out for other also ,this is all you need to avoid keyboard</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 25241840, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Here is my version using autolayout :</p>\n\n<p>The idea is just to embed your view containing textfields / text view in an UIScrollView, set a constraint from the bottom to it's superview, make an outlet and update it's constant according to keyboard height using notifications.\nThis is based on Apple example <a href=\"https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html\" rel=\"nofollow\">here</a>, and Apple technical note on UIScrollView using AutoLayout <a href=\"https://developer.apple.com/library/ios/technotes/tn2154/_index.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>1) Embed your View V in a UIScrollView S :\nIf you already set your constants and subviews, you can copy/paste your view and subviews in the ViewController's view, then embed it using Editor -> embed menu, and finally delete the copied views.)</p>\n\n<p>2) Set the following constraints :</p>\n\n<ul>\n<li>S to top layout guide : 0</li>\n<li>S to bottom layout guide : 0</li>\n<li>S leading to superview : 0</li>\n<li><p>S trailing to superview : 0</p></li>\n<li><p>V top space to superview : 0</p></li>\n<li>V bottom space to superview : 0</li>\n<li>V trailing space to superview : 0</li>\n<li><p>V leading space to superview : 0</p></li>\n<li><p>V equal width to S</p></li>\n<li><p>Latest bottom V subview to superview : 20</p></li>\n</ul>\n\n<p>3) Create an outlet from the latest constraint to your view controller</p>\n\n<p>4) Use the following code :</p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet NSLayoutConstraint *bottomSpaceToContentView;\n\n// ...\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    // ...\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWasShown:)\n                                                 name:UIKeyboardDidShowNotification object:nil];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillBeHidden:)\n                                                 name:UIKeyboardWillHideNotification object:nil];\n}\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n\n#pragma mark - Handle keyboard\n\n// Called when the UIKeyboardDidShowNotification is sent.\n- (void)keyboardWasShown:(NSNotification*)aNotification\n{\n    NSDictionary* info = [aNotification userInfo];\n    CGSize kbSize = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    self.bottomSpaceToContentView.constant = kBottomMargin + kbSize.height;\n    [self.view layoutIfNeeded];\n}\n\n// Called when the UIKeyboardWillHideNotification is sent\n- (void)keyboardWillBeHidden:(NSNotification*)aNotification\n{\n    self.bottomSpaceToContentView.constant = kBottomMargin;\n    [self.view layoutIfNeeded];\n}\n</code></pre>\n\n<p>And tadaaaaa, it works !</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 26282928, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p><strong>Easiest solution found</strong> </p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)textField\n{\n    [self animateTextField: textField up: YES];\n}\n\n\n- (void)textFieldDidEndEditing:(UITextField *)textField\n{\n    [self animateTextField: textField up: NO];\n}\n\n- (void) animateTextField: (UITextField*) textField up: (BOOL) up\n{\n    const int movementDistance = 80; // tweak as needed\n    const float movementDuration = 0.3f; // tweak as needed\n\n    int movement = (up ? -movementDistance : movementDistance);\n\n    [UIView beginAnimations: @\"anim\" context: nil];\n    [UIView setAnimationBeginsFromCurrentState: YES];\n    [UIView setAnimationDuration: movementDuration];\n    self.view.frame = CGRectOffset(self.view.frame, 0, movement);\n    [UIView commitAnimations];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 26561723, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>This is the solution using Swift.<br></p>\n\n<pre><code>import UIKit\n\nclass ExampleViewController: UIViewController, UITextFieldDelegate {\n\n    @IBOutlet var scrollView: UIScrollView!\n\n    @IBOutlet var textField1: UITextField!\n    @IBOutlet var textField2: UITextField!\n    @IBOutlet var textField3: UITextField!\n    @IBOutlet var textField4: UITextField!\n    @IBOutlet var textField5: UITextField!\n\n    var activeTextField: UITextField!\n\n    // MARK: - View\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        self.textField1.delegate = self\n        self.textField2.delegate = self\n        self.textField3.delegate = self\n        self.textField4.delegate = self\n        self.textField5.delegate = self\n    }\n\n    override func viewWillAppear(animated: Bool) {\n        super.viewWillAppear(animated)\n        self.registerForKeyboardNotifications()\n    }\n\n    override func viewWillDisappear(animated: Bool) {\n        super.viewWillDisappear(animated)\n        self.unregisterFromKeyboardNotifications()\n    }\n\n    // MARK: - Keyboard\n\n    // Call this method somewhere in your view controller setup code.\n    func registerForKeyboardNotifications() {\n        let center:  NSNotificationCenter = NSNotificationCenter.defaultCenter()\n        center.addObserver(self, selector: \"keyboardWasShown:\", name: UIKeyboardDidShowNotification, object: nil)\n        center.addObserver(self, selector: \"keyboardWillBeHidden:\", name: UIKeyboardWillHideNotification, object: nil)\n    }\n\n    func unregisterFromKeyboardNotifications () {\n        let center:  NSNotificationCenter = NSNotificationCenter.defaultCenter()\n        center.removeObserver(self, name: UIKeyboardDidShowNotification, object: nil)\n        center.removeObserver(self, name: UIKeyboardWillHideNotification, object: nil)\n    }\n\n    // Called when the UIKeyboardDidShowNotification is sent.\n    func keyboardWasShown (notification: NSNotification) {\n        let info : NSDictionary = notification.userInfo!\n        let kbSize = (info.objectForKey(UIKeyboardFrameBeginUserInfoKey)?.CGRectValue() as CGRect!).size\n\n        let contentInsets: UIEdgeInsets = UIEdgeInsetsMake(0.0, 0.0, kbSize.height, 0.0);\n        scrollView.contentInset = contentInsets;\n        scrollView.scrollIndicatorInsets = contentInsets;\n\n        // If active text field is hidden by keyboard, scroll it so it's visible\n        // Your app might not need or want this behavior.\n        var aRect = self.view.frame\n        aRect.size.height -= kbSize.height;\n        if (!CGRectContainsPoint(aRect, self.activeTextField.frame.origin) ) {\n            self.scrollView.scrollRectToVisible(self.activeTextField.frame, animated: true)\n        }\n    }\n\n    // Called when the UIKeyboardWillHideNotification is sent\n    func keyboardWillBeHidden (notification: NSNotification) {\n        let contentInsets = UIEdgeInsetsZero;\n        scrollView.contentInset = contentInsets;\n        scrollView.scrollIndicatorInsets = contentInsets;\n    }\n\n    // MARK: -  Text Field\n\n    func textFieldDidBeginEditing(textField: UITextField) {\n        self.activeTextField = textField\n    }\n\n    func textFieldDidEndEditing(textField: UITextField) {\n        self.activeTextField = nil\n    }\n\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 27523299, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>first of all, u better design ur page as no need to scroll ur view. if u have many textfields, u still dont have to use scrollview, it just make things complicated. u can just add a container uiview on the top of controller's original view then you put those textfields on this view. when keyboard shows of disappears, just move this container view with an animation.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 28083724, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>A simple solution extending the UIViewController</p>\n\n<p><a href=\"https://github.com/damienromito/VisibleFormViewController\" rel=\"nofollow\">https://github.com/damienromito/VisibleFormViewController</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/YmOPq.jpg\" alt=\"enter image description here\"></p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 28095998, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I use Swift and auto layout (but can't comment on the previous Swift answer); here's how I do it without a scroll view:</p>\n\n<p>I layout my form in IB with vertical constraints between the fields to separate them.  I add a vertical constraint from the topmost field to the container view, and create an outlet to that (topSpaceForFormConstraint in the code below).  All that's needed is to update this constraint, which I do in an animation block for a nice soft motion.  The height check is optional of course, in this case I needed to do it just for the smallest screen size.</p>\n\n<p>This can be called using any of the usual textFieldDidBeginEditing or keyboardWillShow methods.  </p>\n\n<pre><code>func setFormHeight(top: CGFloat)\n{\n    let height = UIScreen.mainScreen().bounds.size.height\n\n    // restore text input fields for iPhone 4/4s\n    if (height &lt; 568) {\n        UIView.animateWithDuration(0.2, delay: 0.0, options: nil, animations: {\n            self.topSpaceForFormConstraint.constant = top\n            self.view.layoutIfNeeded()\n            }, completion: nil)\n    }\n\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 28510112, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I've found this to be the best solution, follow the code below: </p>\n\n<p>Attach the below to your <code>Vertical Space - Bottom Layout Guide - TextField</code> constraint. </p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet NSLayoutConstraint *textViewBottomConst;\n</code></pre>\n\n<p>Second add observers for keyboard notifications.</p>\n\n<pre><code>- (void)observeKeyboard {\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow:) name:UIKeyboardWillShowNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];\n}\n</code></pre>\n\n<p>Add this to your <code>viewDidLoad</code> </p>\n\n<pre><code>[self observeKeyboard]; \n</code></pre>\n\n<p>Finally the methods that handles keyboard changes.</p>\n\n<pre><code>- (void)keyboardWillShow:(NSNotification *)notification {\n//THIS WILL MAKE SURE KEYBOARD DOESNT JUMP WHEN OPENING QUICKTYPE/EMOJI OR OTHER KEYBOARDS.\nkbHeight = 0;\nheight = 0;\nself.textViewBottomConst.constant = height;\nself.btnViewBottomConst.constant = height;\n\n    NSDictionary *info = [notification userInfo];\n    NSValue *kbFrame = [info objectForKey:UIKeyboardFrameEndUserInfoKey];\n\n    NSTimeInterval animationDuration = [[info objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    CGRect keyboardFrame = [kbFrame CGRectValue];\n\n    CGRect finalKeyboardFrame = [self.view convertRect:keyboardFrame fromView:self.view.window];\n\n    int kbHeight = finalKeyboardFrame.size.height;\n\n    int height = kbHeight + self.textViewBottomConst.constant;\n\n    self.textViewBottomConst.constant = height;\n\n    [UIView animateWithDuration:animationDuration animations:^{\n        [self.view layoutIfNeeded];\n    }];\n}\n\n- (void)keyboardWillHide:(NSNotification *)notification {\n    NSDictionary *info = [notification userInfo];\n\n    NSTimeInterval animationDuration = [[info objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n\n    self.textViewBottomConst.constant = 10;\n\n    [UIView animateWithDuration:animationDuration animations:^{\n        [self.view layoutIfNeeded];\n    }];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 28745136, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>This worked for me:</p>\n\n<pre><code>func setupKeyboardNotifications() {\n    NSNotificationCenter.defaultCenter().addObserver(self, selector: Selector(\"keyboardWasShown:\"), name: UIKeyboardDidShowNotification, object: nil)\n    NSNotificationCenter.defaultCenter().addObserver(self, selector: Selector(\"keyboardWillBeHidden:\"), name: UIKeyboardWillHideNotification, object: nil)\n}\n\nfunc keyboardWasShown(aNotification:NSNotification) {\n    let info = aNotification.userInfo\n    let infoNSValue = info![UIKeyboardFrameBeginUserInfoKey] as NSValue\n    let kbSize = infoNSValue.CGRectValue().size\n    UIView.beginAnimations(nil, context: nil)\n    UIView.setAnimationDuration(0.3)\n    var rect : CGRect = self.view.frame\n    rect.size.height -= kbSize.height\n\n    self.view.frame = rect\n    UIView.commitAnimations()\n}\n\nfunc keyboardWillBeHidden(aNotification:NSNotification) {\n    let info = aNotification.userInfo\n    let infoNSValue = info![UIKeyboardFrameBeginUserInfoKey] as NSValue\n    let kbSize = infoNSValue.CGRectValue().size\n    UIView.beginAnimations(nil, context: nil)\n    UIView.setAnimationDuration(0.3)\n    var rect : CGRect = self.view.frame\n    rect.size.height += kbSize.height\n    self.view.frame = rect\n    UIView.commitAnimations()\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 29477639, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<blockquote>\n  <p>For <strong>Swift</strong> Programmers :</p>\n</blockquote>\n\n<p>This will do everything for you, just put these in your view controller class and implement the <code>UITextFieldDelegate</code> to your view controller &amp; set the textField's delegate to <code>self</code> </p>\n\n<pre><code>textField.delegate = self // Setting delegate of your UITextField to self\n</code></pre>\n\n<p>Implement the delegate callback methods:</p>\n\n<pre><code>func textFieldDidBeginEditing(textField: UITextField) {\n    animateViewMoving(true, moveValue: 100)\n}\n\nfunc textFieldDidEndEditing(textField: UITextField) {\n    animateViewMoving(false, moveValue: 100)\n}\n\n// Lifting the view up\nfunc animateViewMoving (up:Bool, moveValue :CGFloat){\n    let movementDuration:NSTimeInterval = 0.3\n    let movement:CGFloat = ( up ? -moveValue : moveValue)\n    UIView.beginAnimations( \"animateView\", context: nil)\n    UIView.setAnimationBeginsFromCurrentState(true)\n    UIView.setAnimationDuration(movementDuration )\n    self.view.frame = CGRectOffset(self.view.frame, 0,  movement)\n    UIView.commitAnimations()\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 29966389, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I wrap everything in one class. Just call these lines of code when your viewcontroller is loaded:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    KeyboardInsetScrollView *injectView = [[KeyboardInsetScrollView alloc] init];\n    [injectView injectToView:self.view withRootView:self.view];\n}\n</code></pre>\n\n<p>Here is link of sample project:<br>\n<a href=\"https://github.com/caohuuloc/KeyboardInsetScrollView\" rel=\"nofollow\">https://github.com/caohuuloc/KeyboardInsetScrollView</a></p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 30070282, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>try this short trick...</p>\n\n<pre><code> - (void)textFieldDidBeginEditing:(UITextField *)textField\n    {\n        [self animateTextField: textField up: YES];\n    }\n\n    - (void)textFieldDidEndEditing:(UITextField *)textField\n    {\n        [self animateTextField: textField up: NO];\n    }\n\n    - (void) animateTextField: (UITextField*) textField up: (BOOL) up\n    {\n        const int movementDistance = textField.frame.origin.y / 2; // tweak as needed\n        const float movementDuration = 0.3f; // tweak as needed\n\n        int movement = (up ? -movementDistance : movementDistance);\n\n        [UIView beginAnimations: @\"anim\" context: nil];\n        [UIView setAnimationBeginsFromCurrentState: YES];\n        [UIView setAnimationDuration: movementDuration];\n        self.view.frame = CGRectOffset(self.view.frame, 0, movement);\n        [UIView commitAnimations];\n    }\n</code></pre>\n\n<p>Happy coding :)....</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 30169058, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Simple solution and with latest animation api. Changing the origin.y by 215, you can customize it to whichever value works for you.</p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)textField\n{\n    if (self.view.frame.origin.y &gt;= 0) {\n\n        [UIView animateWithDuration:0.5 animations:^{\n           self.view.frame = CGRectMake(self.view.frame.origin.x, self.view.frame.origin.y-215, self.view.frame.size.width, self.view.frame.size.height);\n       }];\n   }\n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField\n{\n    if (self.view.frame.origin.y &lt; 0) {\n        [UIView animateWithDuration:0.5 animations:^{\n           self.view.frame = CGRectMake(self.view.frame.origin.x, self.view.frame.origin.y+215, self.view.frame.size.width, self.view.frame.size.height);\n        }];\n\n    }\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 31572996, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<blockquote>\n  <p>Here <strong>I found the simplest solution to handle keypad.</strong></p>\n</blockquote>\n\n<p>You need to just copy-paste below sample code and change your textfield or any view which you want to move up.</p>\n\n<p><strong>Step-1</strong> </p>\n\n<blockquote>\n  <p>Just copy-paste below two method in your controller</p>\n</blockquote>\n\n<pre><code>- (void)registerForKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWasShown:)\n                                                 name:UIKeyboardDidShowNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillBeHidden:)\n                                                 name:UIKeyboardWillHideNotification object:nil];\n}\n\n- (void)deregisterFromKeyboardNotifications\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self name:UIKeyboardDidHideNotification object:nil];\n    [[NSNotificationCenter defaultCenter] removeObserver:self name:UIKeyboardWillHideNotification object:nil];\n}\n</code></pre>\n\n<p><strong>Step-2</strong> </p>\n\n<blockquote>\n  <p>register  &amp; deregister Keypad Notifications in <strong>viewWillAppear</strong> and\n  <strong>viewWillDisappear</strong> methods respectively.</p>\n</blockquote>\n\n<pre><code>- (void)viewWillAppear:(BOOL)animated\n{\n    [super viewWillAppear:animated];\n    [self registerForKeyboardNotifications];\n}\n\n- (void)viewWillDisappear:(BOOL)animated\n{\n    [self deregisterFromKeyboardNotifications];\n    [super viewWillDisappear:animated];\n}\n</code></pre>\n\n<p><strong>Step-3</strong> </p>\n\n<blockquote>\n  <p>Here comes the soul part, Just replace your textfield, and change\n  height how much you want to move upside.</p>\n</blockquote>\n\n<pre><code>- (void)keyboardWasShown:(NSNotification *)notification\n{\n    NSDictionary* info = [notification userInfo];\n    CGSize currentKeyboardSize = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    //you need replace your textfield instance here\n    CGPoint textFieldOrigin = self.tokenForPlaceField.frame.origin;\n    CGFloat textFieldHeight = self.tokenForPlaceField.frame.size.height;\n\n    CGRect visibleRect = self.view.frame;\n    visibleRect.size.height -= currentKeyboardSize.height;\n\n    if (!CGRectContainsPoint(visibleRect, textFieldOrigin))\n    {\n        //you can add yor desired height how much you want move keypad up, by replacing \"textFieldHeight\" below\n\n        CGPoint scrollPoint = CGPointMake(0.0, textFieldOrigin.y - visibleRect.size.height  + textFieldHeight); //replace textFieldHeight to currentKeyboardSize.height, if you want to move up with more height\n        [self.scrollView setContentOffset:scrollPoint animated:YES];\n    }\n}\n\n- (void)keyboardWillBeHidden:(NSNotification *)notification\n{\n    [self.scrollView setContentOffset:CGPointZero animated:YES];\n}\n</code></pre>\n\n<p><strong>Reference</strong>:\nwell, <a href=\"http://ios-blog.co.uk/tutorials/how-to-make-uitextfield-move-up-when-keyboard-is-present/\"><strong>Please appreciate this guy</strong></a>, who shared this beautiful code snip, clean solution.</p>\n\n<p>Hope this would be surly helpful someone out there.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 32102226, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<pre><code>Please add this lines in textfield delegate method to scroll up in iPad.    \n\n- (void)textFieldDidBeginEditing:(UITextField *)textField\n    {\n        activeTextfield = textField;\n    CGPoint pt;\n        CGRect rc = [textField bounds];\n        rc = [textField convertRect:rc toView:scrlView];\n        pt = rc.origin;\n        pt.x = 0;\n        pt.y -= 100;\n\n        [scrlView setContentOffset:pt animated:YES];\n\n        scrlView.contentSize = CGSizeMake(scrlView.frame.size.width, button.frame.origin.y+button.frame.size.height + 8 + 370);\n    }\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 32889276, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Use this third party you don't need to write even one line</p>\n\n<p><a href=\"https://github.com/hackiftekhar/IQKeyboardManager\">https://github.com/hackiftekhar/IQKeyboardManager</a></p>\n\n<p>download project and drag and drop IQKeyboardManager in your project.\nIf you find any issue please read README document.</p>\n\n<p>Guys really its remove headache to manage keyboard ..</p>\n\n<p>Thanks and best of luck!</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 33077957, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>It can be done <strong>easily &amp; automatically</strong> if that textfield is in a table's cell (even when the table.scrollable = NO).</p>\n\n<ul>\n<li><strong>NOTE</strong> that: the position and size of the table must be reasonable.\ne.g:\n\n<ul>\n<li>if the y position of table is 100 counted from the view's bottom, then the 300 height keyboard will overlap the whole table.</li>\n<li>if table's height = 10, and the textfield in it must be scrolled up 100 when keyboard appears in order to be visible, then that textfield will be out of the table's bound. </li>\n</ul></li>\n</ul>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 34671064, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Very lightweight solution could be using <a href=\"https://github.com/ratulSharker/Keyboard-Animator\" rel=\"nofollow\">KeyboardAnimator</a>. </p>\n\n<p>project got the sample implementation, documentation is still in progress...</p>\n\n<p><strong>Appropriate usage ::</strong> \nIt's have a specific implementation for UITextField &amp; UITextView</p>\n\n<p><strong>Limitation::</strong>\nIt's fully on objective-c, swift version will be available soon.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 34953578, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p><strong>Swift 2.0:</strong></p>\n\n<p>Add a UIScrollView and add textFields on the top of it. Make storyboard references to VC.</p>\n\n<pre><code>@IBOutlet weak var username: UITextField!\n@IBOutlet weak var password: UITextField!\n@IBOutlet weak var scrollView: UIScrollView!\n</code></pre>\n\n<p>Add these methods : UITextFieldDelegate  &amp; UIScrollViewDelegate.</p>\n\n<pre><code>//MARK:- TEXTFIELD METHODS\n    func textFieldShouldReturn(textField: UITextField) -&gt; Bool {\n\n        if(username.returnKeyType == UIReturnKeyType.Default) {\n            password.becomeFirstResponder()\n        }\n        textField.resignFirstResponder()\n        return true\n    }\n    func textFieldDidBeginEditing(textField: UITextField) {\n\n        dispatch_async(dispatch_get_main_queue()) {\n\n            let scrollPoint:CGPoint = CGPointMake(0,textField.frame.origin.y/4)\n            self.scrollView!.setContentOffset(scrollPoint, animated: true);\n        }\n    }\n    func textFieldShouldEndEditing(textField: UITextField) -&gt; Bool {\n\n        dispatch_async(dispatch_get_main_queue()) {\n          UIView.animateWithDuration(0, animations: { self.scrollView!.setContentOffset(CGPointZero,animated: true) })\n        }\n        return true\n    }\n    override func touchesBegan(touches: Set&lt;UITouch&gt;,\n        withEvent event: UIEvent?) {\n            self.view.endEditing(true)\n    }\n    func scrollViewWillBeginDragging(scrollView: UIScrollView) {\n        self.scrollView.scrollEnabled =  true\n\n        dispatch_async(dispatch_get_main_queue()) {\n            UIView.animateWithDuration(0, animations: { self.scrollView!.setContentOffset(CGPointZero,animated: true)\n\n            })\n        }\n    }\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 35427945, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>This will work Perfectly.The scroll view atmatically adjust by textfield position.i am sure you will feel good</p>\n\n<pre><code>static const CGFloat KEYBOARD_ANIMATION_DURATION = 0.25;\nstatic const CGFloat MINIMUM_SCROLL_FRACTION = 0.2;\nstatic const CGFloat MAXIMUM_SCROLL_FRACTION = 0.8;\nstatic const CGFloat PORTRAIT_KEYBOARD_HEIGHT = 216;\nstatic const CGFloat LANDSCAPE_KEYBOARD_HEIGHT = 162;\n@interface LoginVC ()\n{\n  CGFloat animatedDistance;\n   CGRect viewFrameKey;\n}\n\n //In ViewDidLoad\n   viewFrameKey=self.view.frame;\n\n\n\n- (void)textFieldDidBeginEditing:(UITextField *)textField\n{\nCGRect textFieldRect =\n[self.view.window convertRect:textField.bounds fromView:textField];\nCGRect viewRect =\n[self.view.window convertRect:self.view.bounds fromView:self.view];\nCGFloat midline = textFieldRect.origin.y + 0.5 * textFieldRect.size.height;\nCGFloat numerator =\nmidline - viewRect.origin.y\n- MINIMUM_SCROLL_FRACTION * viewRect.size.height;\nCGFloat denominator =\n(MAXIMUM_SCROLL_FRACTION - MINIMUM_SCROLL_FRACTION)\n* viewRect.size.height;\nCGFloat heightFraction = numerator / denominator;\nif (heightFraction &lt; 0.0)\n{\n    heightFraction = 0.0;\n}\nelse if (heightFraction &gt; 1.0)\n{\n    heightFraction = 1.0;\n}\nUIInterfaceOrientation orientation =\n[[UIApplication sharedApplication] statusBarOrientation];\nif (orientation == UIInterfaceOrientationPortrait ||\n    orientation == UIInterfaceOrientationPortraitUpsideDown)\n{\n    animatedDistance = floor(PORTRAIT_KEYBOARD_HEIGHT * heightFraction);\n}\nelse\n{\n    animatedDistance = floor(LANDSCAPE_KEYBOARD_HEIGHT * heightFraction);\n}\nCGRect viewFrame = self.view.frame;\nviewFrame.origin.y -= animatedDistance;\n\n[UIView beginAnimations:nil context:NULL];\n[UIView setAnimationBeginsFromCurrentState:YES];\n[UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];\n\n[self.view setFrame:viewFrame];\n\n[UIView commitAnimations];\n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField\n{\n[UIView beginAnimations:nil context:NULL];\n[UIView setAnimationBeginsFromCurrentState:YES];\n[UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];\n[self.view setFrame:viewFrameKey];\n[UIView commitAnimations];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 35599928, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I would like to extend the answer of @sumanthkodi.</p>\n\n<p>As some people have stated, his approach doesn't work in newer implementations, because the UIView fails to move when you are using <strong>constraints</strong>.</p>\n\n<p>I edited the code as follows (and ported to Swift 2.0) and hope that it helps some people:</p>\n\n<hr>\n\n<p>1) Reference the vertical constraint of the view you would like to move up:</p>\n\n<pre><code>@IBOutlet var viewConstraint: NSLayoutConstraint!\n</code></pre>\n\n<p>Make sure you reference this var in your storyboard with the constraint.</p>\n\n<p>2) Add the delegate and implement the listeners. This is the same implementation as before:</p>\n\n<pre><code>class YourViewController: UIViewController, UITextFieldDelegate {\n\n    ...\n\n    func textFieldDidBeginEditing(textField: UITextField) {\n        animateTextField(textField, up: true)\n    }\n\n    func textFieldDidEndEditing(textField: UITextField) {\n        animateTextField(textField, up: false)\n    }\n\n    ...\n\n}\n</code></pre>\n\n<p>3) Add your animation method <code>animateTextField</code> to <code>YourViewController</code> class. Set the temporary constraint value as needed.</p>\n\n<pre><code>func animateTextField(textfield: UITextField, up: Bool) {\n\n    let originalConstraint = 50\n    let temporaryConstraint = 0\n    let movementDuration = 0.3\n\n    let constraint = CGFloat(up ? temporaryConstraint : originalConstraint)\n\n    containerViewConstraint.constant = constraint\n    UIView.animateWithDuration(movementDuration) {\n        self.view.layoutIfNeeded()\n    }\n\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 35655185, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>I think that the best approach is to use protocol-oriented programming if you are using Swift.</p>\n\n<p>First of all you must create a <code>KeyboardCapable</code> protocol, that gives to any UIViewController conforming it the ability to register and unregister keyboard observers:</p>\n\n<pre><code>import Foundation\nimport UIKit\n\nprotocol KeyboardCapable: KeyboardAnimatable {\n    func keyboardWillShow(notification: NSNotification)\n    func keyboardWillHide(notification: NSNotification)\n}\n\nextension KeyboardCapable where Self: UIViewController {\n    func registerKeyboardNotifications() {\n        NSNotificationCenter.defaultCenter().addObserver(self, selector: Selector(\"keyboardWillShow:\"), name:UIKeyboardWillShowNotification, object: nil)\n        NSNotificationCenter.defaultCenter().addObserver(self, selector: Selector(\"keyboardWillHide:\"), name:UIKeyboardWillHideNotification, object: nil)\n    }\n\n    func unregisterKeyboardNotifications() {\n        NSNotificationCenter.defaultCenter().removeObserver(self, name: UIKeyboardWillShowNotification, object: nil)\n        NSNotificationCenter.defaultCenter().removeObserver(self, name: UIKeyboardWillHideNotification, object: nil)\n    }\n}\n</code></pre>\n\n<p>You've notice the extraneous <code>KeyboardAnimatable</code> keyword on the above piece of code. It's just the name of the next protocol we need to create:</p>\n\n<pre><code>import Foundation\nimport UIKit\n\nprotocol KeyboardAnimatable {\n\n}\n\nextension KeyboardAnimatable where Self: UIViewController {\n    func performKeyboardShowFullViewAnimation(withKeyboardHeight height: CGFloat, andDuration duration: NSTimeInterval) {\n        UIView.animateWithDuration(duration, animations: { () -&gt; Void in\n            self.view.frame = CGRectMake(view.frame.origin.x, -height, view.bounds.width, view.bounds.height)\n            }, completion: nil)\n    }\n\n    func performKeyboardHideFullViewAnimation(withDuration duration: NSTimeInterval) {\n        UIView.animateWithDuration(duration, animations: { () -&gt; Void in\n            self.view.frame = CGRectMake(view.frame.origin.x, 0.0, view.bounds.width, view.bounds.height)\n            }, completion: nil)\n    }\n}\n</code></pre>\n\n<p>This <code>KeyboardAnimatable</code> protocol, gives all UIViewController conforming it two methods that will animate the whole view up and down, respectively.</p>\n\n<p>Okay so if <code>KeyboardCapable</code> conforms to <code>KeyboardAnimatable</code>, all UIViewController conforming to <code>KeyboardCapable</code>, also conforms to <code>KeyboardAnimatable</code>. That's cool.</p>\n\n<p>Let's see a <code>UIViewController</code> conforming <code>KeyboardCapable</code>, and reacting to keyboard events:</p>\n\n<pre><code>import Foundation\nimport UIKit\n\nclass TransferConfirmViewController: UIViewController, KeyboardCapable {\n    //MARK: - LIFE CYCLE       \n    override func viewWillAppear(animated: Bool) {\n        super.viewWillAppear(animated)\n\n        registerKeyboardNotifications()\n    }\n\n    override func viewWillDisappear(animated: Bool) {\n        super.viewWillDisappear(animated)\n\n        unregisterKeyboardNotifications()\n    }\n\n    //MARK: - NOTIFICATIONS\n    //MARK: Keyboard\n    func keyboardWillShow(notification: NSNotification) {\n        let keyboardHeight = (notification.userInfo![UIKeyboardFrameEndUserInfoKey] as! NSValue).CGRectValue().height\n        let animationDuration = notification.userInfo![UIKeyboardAnimationDurationUserInfoKey] as! Double\n        performKeyboardShowFullViewAnimation(withKeyboardHeight: keyboardHeight, andDuration: animationDuration)\n    }\n\n    func keyboardWillHide(notification: NSNotification) {\n        let animationDuration = notification.userInfo![UIKeyboardAnimationDurationUserInfoKey] as! Double\n        performKeyboardHideFullViewAnimation(withDuration: animationDuration)\n    }\n}\n</code></pre>\n\n<p>Now your <code>UIViewController</code> will respond to keyboard events and will animate in consequence.</p>\n\n<p>Note: If you want a custom animation instead of push or pull the view, you must define custom methods on <code>KeyboardAnimatable</code> protocol or perform them on <code>KeyboardCapable</code> functions. It's up to you.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 36060406, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>This can be simply achieved with below lines of code using constraints</p>\n\n<pre><code>- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n        [[NSNotificationCenter defaultCenter] addObserver:self\n                                                 selector:@selector(keyboardWillShow:)\n                                                     name:UIKeyboardWillShowNotification\n                                                   object:nil];\n        [[NSNotificationCenter defaultCenter] addObserver:self\n                                                 selector:@selector(keyboardWillHide:)\n                                                     name:UIKeyboardWillHideNotification\n                                                   object:nil];\n}\n\n- (void)keyboardWillShow:(NSNotification *)notification {\n    [self adjustTextViewByKeyboardState:YES keyboardInfo:[notification userInfo]];\n}\n\n- (void)keyboardWillHide:(NSNotification *)notification {\n    [self adjustTextViewByKeyboardState:NO keyboardInfo:[notification userInfo]];\n}\n\n- (void)viewDidDisappear:(BOOL)animated {\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n    [super viewDidDisappear:animated];\n}\n\n- (void)adjustTextViewByKeyboardState:(BOOL)showKeyboard keyboardInfo:(NSDictionary *)info {\n    CGRect keyboardFrame = [[info objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    CGFloat height = keyboardFrame.size.height;\n    self.constraintToAdjust.constant = height;        UIViewAnimationCurve animationCurve = [info[UIKeyboardAnimationCurveUserInfoKey] unsignedIntegerValue];\n    UIViewAnimationOptions animationOptions = UIViewAnimationOptionBeginFromCurrentState;\n    if (animationCurve == UIViewAnimationCurveEaseIn) {\n        animationOptions |= UIViewAnimationOptionCurveEaseIn;\n    }\n    else if (animationCurve == UIViewAnimationCurveEaseInOut) {\n        animationOptions |= UIViewAnimationOptionCurveEaseInOut;\n    }\n    else if (animationCurve == UIViewAnimationCurveEaseOut) {\n        animationOptions |= UIViewAnimationOptionCurveEaseOut;\n    }\n    else if (animationCurve == UIViewAnimationCurveLinear) {\n        animationOptions |= UIViewAnimationOptionCurveLinear;\n    }\n    [UIView animateWithDuration:[[info objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue] delay:0 options:animationOptions animations:^{\n        [self.view layoutIfNeeded];\n    }                completion:nil];\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 36076242, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>This is offset calculation independent from device. Gets the overlapped height between keyboard and textfield:</p>\n\n<pre><code>func keyboardShown(notification: NSNotification) {\n    let info  = notification.userInfo!\n    let value: AnyObject = info[UIKeyboardFrameEndUserInfoKey]!\n\n    let rawFrame = value.CGRectValue\n    let keyboardFrame = view.convertRect(rawFrame, fromView: nil)\n\n    let screenHeight = UIScreen.mainScreen().bounds.size.height;\n    let Ylimit = screenHeight - keyboardFrame.size.height\n    let textboxOriginInSuperview:CGPoint = self.view.convertPoint(CGPointZero, fromCoordinateSpace: lastTextField!)\n\n    self.keyboardHeight = (textboxOriginInSuperview.y+self.lastTextField!.frame.size.height) - Ylimit\n\n    if(self.keyboardHeight&gt;0){\n        self.animateViewMoving(true, moveValue: keyboardHeight!)\n    }else{\n        keyboardHeight=0\n    }\n}\n</code></pre>\n\n<p>keyBoardHeight is the offset.</p>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 36151787, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>It is very simple just put following code in your class and customise if you needed .</p>\n\n<pre><code>-(void)textFieldDidBeginEditing:(UITextField *)textField {\n     //Show Keyboard\n     self.view.frame = CGRectMake(self.view.frame.origin.x,\n                              self.view.frame.origin.y-50,\n                              self.view.frame.size.width,\n                              self.view.frame.size.height);   \n}\n\n-(void)textFieldDidEndEditing:(UITextField *)textField {\n     // Hide keyboard\n     self.view.frame = CGRectMake(self.view.frame.origin.x,\n                              self.view.frame.origin.y+50,\n                              self.view.frame.size.width,\n                              self.view.frame.size.height); \n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 36302829, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>Though this thread has got enough answers, I would like to suggest a much simpler yet generalised way just like apple does by takes keypads's height into consideration which is greatly helpful when we are using custom toolbar on top of keyboard.\nthough apple's approach <a href=\"https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html\" rel=\"nofollow\">here</a> has got few issues.</p>\n\n<p>Here is my approach (Slightly modified apple's way) - </p>\n\n<pre><code>// Called when the UIKeyboardDidShowNotification is sent.\n- (void)keyboardWasShown:(NSNotification*)aNotification\n{\n    NSDictionary* info = [aNotification userInfo];\n    CGSize kbSize = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    UIEdgeInsets contentInsets = UIEdgeInsetsMake(0.0, 0.0, kbSize.height, 0.0);\n    self.scrollView.contentInset = contentInsets;\n    self.scrollView.scrollIndicatorInsets = contentInsets;\n}\n\n// Called when the UIKeyboardWillHideNotification is sent\n- (void)keyboardWillBeHidden:(NSNotification*)aNotification\n{\n    UIEdgeInsets contentInsets = UIEdgeInsetsZero;\n    self.scrollView.contentInset = contentInsets;\n    self.scrollView.scrollIndicatorInsets = contentInsets;\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 36814847, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<ol>\n<li>Download TPKeyBoardAvoiding From this link: <a href=\"https://github.com/michaeltyson/TPKeyboardAvoiding\" rel=\"nofollow\">https://github.com/michaeltyson/TPKeyboardAvoiding</a>. </li>\n<li>Expand the zipped folder and find TPKeyboardAvoiding folder.</li>\n<li>Select all .h and .m files and drop it to your project.Make sure copy items if needed is ticked.</li>\n<li>Drag and drop a UIScrollView to StoryBoard and associate with TPKeyboardAvoidingScrollView.</li>\n<li>Now you can add UI elements on the top of the scroll view. Note that this class detect the UI elements touches even after dragging the scrollView.</li>\n</ol>\n\n<p>On Your ViewController:</p>\n\n<pre><code>@IBOutlet weak var usernameTextfield: UITextField!\n@IBOutlet weak var passwordTextfield: UITextField!\n@IBOutlet weak var loginScrollView: UIScrollView!\n\n\noverride func viewWillAppear(animated: Bool) {\n        loginScrollView.scrollEnabled =  false\n    }\n</code></pre>\n\n<p>Add TextField Delegates.</p>\n\n<pre><code>//MARK:- TEXTFIELD METHODS\nfunc textFieldShouldReturn(textField: UITextField) -&gt; Bool\n{\n    if (usernameTextfield.resignFirstResponder())\n    {\n        passwordTextfield.becomeFirstResponder()\n    }\n    textField.resignFirstResponder();\n    loginScrollView!.setContentOffset(CGPoint.zero, animated: true);\n    loginScrollView.scrollEnabled =  false\n    return true\n}\nfunc textFieldDidBeginEditing(textField: UITextField)\n{\n    loginScrollView.scrollEnabled =  true\n\n    if (textField.tag  == 1 &amp;&amp; (device == \"iPhone\" || device == \"iPhone Simulator\" || device == \"iPod touch\"))\n    {\n        let scrollPoint:CGPoint = CGPointMake(0, passwordTextfield.frame.origin.y/6.4);\n        loginScrollView!.setContentOffset(scrollPoint, animated: true);\n\n    }\n    else if (textField.tag  == 2 &amp;&amp; (device == \"iPhone\" || device == \"iPhone Simulator\" || device == \"iPod touch\"))\n    {\n        let scrollPoint:CGPoint = CGPointMake(0, passwordTextfield.frame.origin.y/6.0);\n        loginScrollView!.setContentOffset(scrollPoint, animated: true);\n    }\n}\nfunc textFieldDidEndEditing(textField: UITextField)\n{\n    loginScrollView!.setContentOffset(CGPointZero,animated: true);\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 37523337, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>This piece of code will calculate how much need to move up based on the keyboard height and how deep the text field as gone. Remember to add delegate and inherit UITextFieldDelegate at your header.</p>\n\n<pre><code>- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event\n{\n    [_tbxUsername resignFirstResponder];\n    [_tbxPassword resignFirstResponder];\n}\n\n- (void)textFieldDidBeginEditing:(UITextField *) textField\n{\n    [self animateTextField:textField up:YES];\n}\n\n- (void)textFieldDidEndEditing:(UITextField *) textField\n{\n    [self animateTextField:textField up:NO];\n}\n\n- (void) animateTextField: (UITextField*) textField up: (BOOL) up\n{\n    int animatedDistance;\n    int moveUpValue = textField.frame.origin.y+ textField.frame.size.height;\n    UIInterfaceOrientation orientation =\n    [[UIApplication sharedApplication] statusBarOrientation];\n    if (orientation == UIInterfaceOrientationPortrait ||\n        orientation == UIInterfaceOrientationPortraitUpsideDown)\n    {\n\n        animatedDistance = 236-(460-moveUpValue-5);\n    }\n    else\n    {\n        animatedDistance = 182-(320-moveUpValue-5);\n    }\n\n    if(animatedDistance&gt;0)\n    {\n        const int movementDistance = animatedDistance;\n        const float movementDuration = 0.3f;\n        int movement = (up ? -movementDistance : movementDistance);\n        [UIView beginAnimations: nil context: nil];\n        [UIView setAnimationBeginsFromCurrentState: YES];\n        [UIView setAnimationDuration: movementDuration];\n        self.view.frame = CGRectOffset(self.view.frame, 0, movement);\n        [UIView commitAnimations];\n    }\n}\n</code></pre>\n\n<p>Delegate to add at ViewDidLoad</p>\n\n<pre><code>_tbxUsername.delegate = self;\n_tbxPassword.delegate = self;\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 38263170, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<p>A much simpler yet generalised way just like apple does by takes keypads's height into consideration which is greatly helpful when we are using custom toolbar on top of keyboard.\nthough apple's approach <a href=\"https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html\" rel=\"nofollow\">here</a> has got few issues.</p>\n\n<p>Here is my approach (Slightly modified apple's way) - </p>\n\n<pre><code>// UIKeyboardDidShowNotification\n- (void)keyboardWasShown:(NSNotification*)aNotification\n{\n    NSDictionary* info = [aNotification userInfo];\n    CGSize kbSize = [[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n\n    UIEdgeInsets contentInsets = UIEdgeInsetsMake(0.0, 0.0, kbSize.height, 0.0);\n    self.scrollView.contentInset = contentInsets;\n    self.scrollView.scrollIndicatorInsets = contentInsets;\n}\n\n// UIKeyboardWillHideNotification\n- (void)keyboardWillBeHidden:(NSNotification*)aNotification\n{\n    UIEdgeInsets contentInsets = UIEdgeInsetsZero;\n    self.scrollView.contentInset = contentInsets;\n    self.scrollView.scrollIndicatorInsets = contentInsets;\n}\n</code></pre>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 38424790, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}, {"body": "<ul>\n<li><p><strong>set Scrollview in view</strong> </p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)textField\n{\n CGPoint point;\n\nif(textField == txtEmail){\n  // -90 is for my you can change as per your postion\n  point = CGPointMake(0, textField.frame.origin.y - 90);\n}\nelse if (textField == txtContact){\n  point = CGPointMake(0, textField.frame.origin.y - 90);\n}\n\n[scrollV setContentOffset:point animated:YES];\n}\n</code></pre></li>\n</ul>\n", "title": "How to make a UITextField move up when keyboard is present?", "answer_id": 39361956, "question_id": 1126726, "tags": ["ios", "objective-c", "swift", "uitextfield", "uikeyboard"]}], "question_id": 1126726}, {"body": "<p>In a Unix shell, if I want to combine <code>stderr</code> and <code>stdout</code> into the <code>stdout</code> stream for further manipulation, I can append the following on the end of my command:</p>\n\n<pre><code>2&gt;&amp;1\n</code></pre>\n\n<p>So, if I want to use \"head\" on the output from g++, I can do something like this:</p>\n\n<pre><code>g++ lots_of_errors 2&gt;&amp;1 | head\n</code></pre>\n\n<p>so I can see only the first few errors. </p>\n\n<p>I always have trouble remembering this, and I constantly have to go look it up, and it is mainly because I don't fully understand the syntax of this particular trick.  Can someone break this up and explain character by character what \"2>&amp;1\"  means?</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "tags": ["bash", "shell", "unix", "redirect"], "answer_count": 14, "link": "http://stackoverflow.com/questions/818255/in-the-shell-what-does-21-mean", "answers": [{"body": "<p>The numbers refer to the file descriptors (fd).  </p>\n\n<ul>\n<li>Zero is <code>stdin</code>  </li>\n<li>One is <code>stdout</code> </li>\n<li>Two is <code>stderr</code></li>\n</ul>\n\n<p><code>2&gt;&amp;1</code> redirects fd 2 to 1.  </p>\n\n<p>This works for any number of file descriptors if the program uses them.</p>\n\n<p>You can look at <code>/usr/include/unistd.h</code> if you forget them:</p>\n\n<pre><code>/* Standard file descriptors.  */\n#define STDIN_FILENO    0   /* Standard input.  */\n#define STDOUT_FILENO   1   /* Standard output.  */\n#define STDERR_FILENO   2   /* Standard error output.  */\n</code></pre>\n\n<p>That said I have written C tools that use non-standard file descriptors for custom logging so you don't see it unless you redirect it to a file or something.</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 818261, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<pre><code>echo test &gt; afile.txt\n</code></pre>\n\n<p>..redirects stdout to <code>afile.txt</code>. This is the same as doing..</p>\n\n<pre><code>echo test 1&gt; afile.txt\n</code></pre>\n\n<p>To redirect stderr, you do..</p>\n\n<pre><code>echo test 2&gt; afile.txt\n</code></pre>\n\n<p><code>&gt;&amp;</code> is the syntax to redirect a stream to another file descriptor - 0 is stdin. 1 is stdout. 2 is stderr.</p>\n\n<p>You can redirect stdout to stderr by doing..</p>\n\n<pre><code>echo test 1&gt;&amp;2 # or echo test &gt;&amp;2\n</code></pre>\n\n<p>..or vice versa:</p>\n\n<pre><code>echo test 2&gt;&amp;1\n</code></pre>\n\n<p>So, in short.. <code>2&gt;</code> redirects stderr to an (unspecified) file, appending <code>&amp;1</code> redirects stderr to stdout</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 818265, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<ul>\n<li>2 is the default file descriptor for stderr.</li>\n<li>1 is the default file descriptor for stdout.</li>\n<li><code>&gt;&amp;</code> is shell syntax for \"fold the previous (first) file descriptor into the forthcoming (second) file descriptor.\"</li>\n</ul>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 818266, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>File descriptor 1 is the standard output (stdout).<br>\nFile descriptor 2 is the standard error (stderr).</p>\n\n<p>Here is one way to remember this construct (although it is not entirely accurate): at first, <code>2&gt;1</code> may look like a good way to redirect stderr to stdout. However, it will actually be interpreted as \"redirect stderr to a file named <code>1</code>\". <code>&amp;</code> indicates that what follows is a file descriptor and not a filename. So the construct becomes: <code>2&gt;&amp;1</code>.</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 818284, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>To answer your question: It takes any error output (normally sent to stderr) and writes it to standard output (stdout). </p>\n\n<p>This is helpful with, for example 'more' when you need paging for all output. Some programs like printing usage information into stderr.</p>\n\n<p>To help you remember</p>\n\n<ul>\n<li>1 = standard output (where programs print normal output)</li>\n<li>2 = standard error (where programs print errors)</li>\n</ul>\n\n<p>\"2>&amp;1\" simply points everything sent to stderr, to stdout instead.</p>\n\n<p>I also recommend reading <a href=\"http://www.cyberciti.biz/faq/redirecting-stderr-to-stdout/\">this post on error redirecting</a> where this subject is covered in full detail.</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 818312, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>That construct sends the standard error stream (<code>stderr</code>) to the <em>current</em> location of standard output (<code>stdout</code>) - this currency issue appears to have been neglected by the other answers.</p>\n\n<p>You can redirect any output handle to another by using this method but it's most often used to channel <code>stdout</code> and <code>stderr</code> streams into a single stream for processing.</p>\n\n<p>Some examples are:</p>\n\n<pre><code># Look for ERROR string in both stdout and stderr.\nfoo 2&gt;&amp;1 | grep ERROR\n\n# Run the less pager without stderr screwing up the output.\nfoo 2&gt;&amp;1 | less\n\n# Send stdout/err to file (with append) and terminal.\nfoo 2&gt;&amp;1 |tee /dev/tty &gt;&gt;outfile\n\n# Send stderr to normal location and stdout to file.\nfoo &gt;outfile1 2&gt;&amp;1 &gt;outfile2\n</code></pre>\n\n<p>Note that that last one will <em>not</em> direct <code>stderr</code> to <code>outfile2</code> - it redirects it to what <code>stdout</code> was when the argument was encountered (<code>outfile1</code>) and <em>then</em> redirects <code>stdout</code> to <code>outfile2</code>.</p>\n\n<p>This allows some pretty sophisticated trickery.</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 818368, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>People, always remember <em>paxdiablo</em>'s hint about the <strong>current</strong> location of the redirection target... It <strong>is</strong> important.</p>\n\n<p>My personal mnemonic for the <code>2&gt;&amp;1</code> operator is this:</p>\n\n<ul>\n<li>Think of <code>&amp;</code> as meaning <code>'and'</code> or <code>'add'</code> (the character is an <em>ampers</em>-<strong><em>and</em></strong>, isn't it?)</li>\n<li>So it becomes: <em>'redirect <code>2</code> (stderr) to where <code>1</code> (stdout) already/currently is and <strong>add</strong> both streams'</em>.</li>\n</ul>\n\n<p>The same mnemonic works for the other frequently used redirection too, <code>1&gt;&amp;2</code>:</p>\n\n<ul>\n<li>Think of <code>&amp;</code> meaning <code>and</code> or <code>add</code>... (you get the idea about the ampersand, yes?)</li>\n<li>So it becomes:  <em>'redirect <code>1</code> (stdout) to where <code>2</code> (stderr) already/currently is and <strong>add</strong> both streams'</em>.</li>\n</ul>\n\n<p>And always remember: you have to read chains of redirections 'from the end', from right to left (<strong>not</strong> from left to right).</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 11281312, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "\n\n<h2>Some tricks about redirection</h2>\n\n<p>Some syntax particularity about this may have important behaviours. There is some little samples about redirections, <code>STDERR</code>, <code>STDOUT</code> and arguments <strong>ordering</strong>.</p>\n\n<h3>1  - Overwritting or appending? </h3>\n\n<p>Symbole <code>&gt;</code> mean <em>redirection</em>.</p>\n\n<ul>\n<li><code>&gt;</code> mean <em>send to as a whole completed file</em>, overwriting target if exist (see <code>noclobber</code> bash feature at <em>#3</em> later).</li>\n<li><code>&gt;&gt;</code> mean <em>send in addition to</em> would append to target if exist.</li>\n</ul>\n\n<p>Any case, the file would be created if they not exist. </p>\n\n<h3>2  - The <em>shell command line</em> is order dependant!!</h3>\n\n<p>For testing this, we need <em>a simple command which will send something on both outputs</em>:</p>\n\n<pre><code>$ ls -ld /tmp /tnt\nls: cannot access /tnt: No such file or directory\ndrwxrwxrwt 118 root root 196608 Jan  7 11:49 /tmp\n\n$ ls -ld /tmp /tnt &gt;/dev/null\nls: cannot access /tnt: No such file or directory\n\n$ ls -ld /tmp /tnt 2&gt;/dev/null\ndrwxrwxrwt 118 root root 196608 Jan  7 11:49 /tmp\n</code></pre>\n\n<p>(Expecting you don't have a directory named <code>/tnt</code>, of course ;). Well, we have it!!</p>\n\n<p>So lets see:</p>\n\n<pre><code>$ ls -ld /tmp /tnt &gt;/dev/null\nls: cannot access /tnt: No such file or directory\n\n$ ls -ld /tmp /tnt &gt;/dev/null 2&gt;&amp;1\n\n$ ls -ld /tmp /tnt 2&gt;&amp;1 &gt;/dev/null\nls: cannot access /tnt: No such file or directory\n</code></pre>\n\n<p>The last command line dump <code>STDERR</code> to the console, it seem not to be the expected behaviour... But...</p>\n\n<p>If you want to make some <em>post filtering</em> about one ouput, the other or both:</p>\n\n<pre><code>$ ls -ld /tmp /tnt | sed 's/^.*$/&lt;-- &amp; ---&gt;/'\nls: cannot access /tnt: No such file or directory\n&lt;-- drwxrwxrwt 118 root root 196608 Jan  7 12:02 /tmp ---&gt;\n\n$ ls -ld /tmp /tnt 2&gt;&amp;1 | sed 's/^.*$/&lt;-- &amp; ---&gt;/'\n&lt;-- ls: cannot access /tnt: No such file or directory ---&gt;\n&lt;-- drwxrwxrwt 118 root root 196608 Jan  7 12:02 /tmp ---&gt;\n\n$ ls -ld /tmp /tnt &gt;/dev/null | sed 's/^.*$/&lt;-- &amp; ---&gt;/'\nls: cannot access /tnt: No such file or directory\n\n$ ls -ld /tmp /tnt &gt;/dev/null 2&gt;&amp;1 | sed 's/^.*$/&lt;-- &amp; ---&gt;/'\n\n$ ls -ld /tmp /tnt 2&gt;&amp;1 &gt;/dev/null | sed 's/^.*$/&lt;-- &amp; ---&gt;/'\n&lt;-- ls: cannot access /tnt: No such file or directory ---&gt;\n</code></pre>\n\n<p>Notice that the last command line in this paragraph is exactly same as in previous paraghaph, where I wrote <em>seem not to be the expected behaviour</em> (so, this could even be an expected behaviour).</p>\n\n<p>Well there is a little tricks about redirections, for\n<strong>doing different operation on both ouputs</strong>:</p>\n\n<pre><code>$ ( ls -ld /tmp /tnt | sed 's/^/O: /' &gt;&amp;9 ) 9&gt;&amp;2  2&gt;&amp;1  | sed 's/^/E: /'\nO: drwxrwxrwt 118 root root 196608 Jan  7 12:13 /tmp\nE: ls: cannot access /tnt: No such file or directory\n</code></pre>\n\n<p>Nota: <code>&amp;9</code> descriptor would occur spontaneously because of <code>) 9&gt;&amp;2</code>.</p>\n\n<p><strong>Addendum: nota!</strong> With new version of <a href=\"/questions/tagged/bash\" class=\"post-tag\" title=\"show questions tagged &#39;bash&#39;\" rel=\"tag\">bash</a> (<code>&gt;4.0</code>) there is a new feature and more sexy syntax for doing this kind of things:</p>\n\n<pre><code>$ ls -ld /tmp /tnt 2&gt; &gt;(sed 's/^/E: /') &gt; &gt;(sed 's/^/O: /')\nO: drwxrwxrwt 17 root root 28672 Nov  5 23:00 /tmp\nE: ls: cannot access /tnt: No such file or directory\n</code></pre>\n\n<p>And finaly for such a cascading output formatting:</p>\n\n<pre><code>$ ((ls -ld /tmp /tnt |sed 's/^/O: /' &gt;&amp;9 ) 2&gt;&amp;1 |sed 's/^/E: /') 9&gt;&amp;1| cat -n\n     1  O: drwxrwxrwt 118 root root 196608 Jan  7 12:29 /tmp\n     2  E: ls: cannot access /tnt: No such file or directory\n</code></pre>\n\n<p><strong>Addendum: nota!</strong> Same new syntax, in both ways:</p>\n\n<pre><code>$ cat -n &lt;(ls -ld /tmp /tnt 2&gt; &gt;(sed 's/^/E: /') &gt; &gt;(sed 's/^/O: /'))\n     1  O: drwxrwxrwt 17 root root 28672 Nov  5 23:00 /tmp\n     2  E: ls: cannot access /tnt: No such file or directory\n</code></pre>\n\n<p>Where <code>STDOUT</code> go through a specific filter, <code>STDERR</code> to another and finally both outputs merged go through a third command filter.</p>\n\n<h3>3 - A word about <code>noclobber</code> option and <code>&gt;|</code> syntax</h3>\n\n<p>That's about <strong>overwritting</strong>:</p>\n\n<p>While <code>set -o noclobber</code> instruct bash to <strong>not</strong> overwrite any existing file, the <code>&gt;|</code> syntax let you pass through this limitation:</p>\n\n<pre><code>$ testfile=$(mktemp /tmp/testNoClobberDate-XXXXXX)\n\n$ date &gt; $testfile ; cat $testfile\nMon Jan  7 13:18:15 CET 2013\n\n$ date &gt; $testfile ; cat $testfile\nMon Jan  7 13:18:19 CET 2013\n\n$ date &gt; $testfile ; cat $testfile\nMon Jan  7 13:18:21 CET 2013\n</code></pre>\n\n<p>File is overwritted each time, well now:</p>\n\n<pre><code>$ set -o noclobber\n\n$ date &gt; $testfile ; cat $testfile\nbash: /tmp/testNoClobberDate-WW1xi9: cannot overwrite existing file\nMon Jan  7 13:18:21 CET 2013\n\n$ date &gt; $testfile ; cat $testfile\nbash: /tmp/testNoClobberDate-WW1xi9: cannot overwrite existing file\nMon Jan  7 13:18:21 CET 2013\n</code></pre>\n\n<p>Pass through with <code>&gt;|</code>:</p>\n\n<pre><code>$ date &gt;| $testfile ; cat $testfile\nMon Jan  7 13:18:58 CET 2013\n\n$ date &gt;| $testfile ; cat $testfile\nMon Jan  7 13:19:01 CET 2013\n</code></pre>\n\n<p>Unsetting this option and/or inquiring if already set.</p>\n\n<pre><code>$ set -o | grep noclobber\nnoclobber           on\n\n$ set +o noclobber\n\n$ set -o | grep noclobber\nnoclobber           off\n\n$ date &gt; $testfile ; cat $testfile\nMon Jan  7 13:24:27 CET 2013\n\n$ rm $testfile\n</code></pre>\n\n<h3>4 - Last trick and more...</h3>\n\n<p>For redirecting <strong>both</strong> output from a given command, we see that a right syntax could be:</p>\n\n<pre><code>$ ls -ld /tmp /tnt &gt;/dev/null 2&gt;&amp;1\n</code></pre>\n\n<p>for this <em>special</em> case, there is a shortcut syntax: <code>&amp;&gt;</code> ... or <code>&gt;&amp;</code></p>\n\n<pre><code>$ ls -ld /tmp /tnt &amp;&gt;/dev/null \n\n$ ls -ld /tmp /tnt &gt;&amp;/dev/null \n</code></pre>\n\n<p>Nota: if <strong><code>2&gt;&amp;1</code></strong> exist, <strong><code>1&gt;&amp;2</code></strong> is a correct syntaxe too:</p>\n\n<pre><code>$ ls -ld /tmp /tnt 2&gt;/dev/null 1&gt;&amp;2\n</code></pre>\n\n<h3>4b- Now, I will let you think about:</h3>\n\n<pre><code>$ ls -ld /tmp /tnt 2&gt;&amp;1 1&gt;&amp;2  | sed -e s/^/++/\n++/bin/ls: cannot access /tnt: No such file or directory\n++drwxrwxrwt 193 root root 196608 Feb  9 11:08 /tmp/\n\n$ ls -ld /tmp /tnt 1&gt;&amp;2 2&gt;&amp;1  | sed -e s/^/++/\n/bin/ls: cannot access /tnt: No such file or directory\ndrwxrwxrwt 193 root root 196608 Feb  9 11:08 /tmp/\n</code></pre>\n\n<h3>4c- If you're interested in <em>more</em> informations</h3>\n\n<p>you could Read The Fine Manual by hitting:</p>\n\n<pre><code>man -Len -Pless\\ +/^REDIRECTION bash\n</code></pre>\n\n<p>in a <a href=\"/questions/tagged/bash\" class=\"post-tag\" title=\"show questions tagged &#39;bash&#39;\" rel=\"tag\">bash</a> console ;-)</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 16283739, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>2 is the Console standard error.</p>\n\n<p>1 is the Console standard output.</p>\n\n<p>This is the standard Unix, Windows also follows the POSIX.\nE.g. when you run</p>\n\n<pre><code>perl test.pl 2&gt;&amp;1\n</code></pre>\n\n<p>The standard error is redirected to standard output, so you can see both outputs together.</p>\n\n<pre><code>perl test.pl &gt; debug.log 2&gt;&amp;1\n</code></pre>\n\n<p>After execution, you can see all the output, including errors, in the debug.log.</p>\n\n<pre><code>perl test.pl 1&gt;out.log 2&gt;err.log\n</code></pre>\n\n<p>Then standard output goes to out.log, and standard error to err.log.</p>\n\n<p>I suggest you to try to understand these.</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 17737605, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>This  is just  like paasing the error to the stdout or terminal .\ni.e . cmd is not a command \n$cmd 2>filename\ncat filename\ncommand not found </p>\n\n<p>The error  sent to the file like that \n2>&amp;1\nerror sent to the terminal</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 19311451, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<blockquote>\n  <h2>Redirecting Input</h2>\n  \n  <p>Redirection of input causes the file whose name\n  results from the expansion of    word to be opened for reading on file\n  descriptor n,  or  the  standard  input    (file descriptor 0) if n is\n  not specified.</p>\n  \n  <p>The general format for redirecting input is:</p>\n\n<pre><code>      [n]&lt;word\n</code></pre>\n  \n  <h2>Redirecting Output</h2>\n  \n  <p>Redirection  of  output causes the file whose\n  name results from the expansion    of word to be opened for writing on\n  file descriptor n, or the standard output    (file  descriptor 1) if n\n  is not specified.  If the file does not exist it is    created; if it\n  does exist it is truncated to zero size.</p>\n  \n  <p>The general format for redirecting output is:</p>\n\n<pre><code>      [n]&gt;word\n</code></pre>\n  \n  <h2>Moving File Descriptors</h2>\n  \n  <p>Moving File Descriptors    The redirection operator</p>\n\n<pre><code>      [n]&lt;&amp;digit-\n</code></pre>\n  \n  <p>moves the file descriptor digit to file descriptor n, or the \n  standard  input    (file  descriptor  0)  if  n  is  not specified. \n  digit is closed after being    duplicated to n.</p>\n  \n  <p>Similarly, the redirection operator</p>\n\n<pre><code>      [n]&gt;&amp;digit-\n</code></pre>\n  \n  <p>moves the file descriptor digit to file descriptor n, or the\n  standard  output    (file descriptor 1) if n is not specified.</p>\n</blockquote>\n\n<h2>ref:</h2>\n\n<p><code>man bash</code><br>\ntype <code>/^REDIRECT</code> to locate to the <code>redirection</code> section , learn more..</p>\n\n<p>a online version here:<br>\n<a href=\"http://www.gnu.org/software/bash/manual/bashref.html#Redirections\" rel=\"nofollow\">http://www.gnu.org/software/bash/manual/bashref.html#Redirections</a></p>\n\n<h2>ps:</h2>\n\n<p>lots of time, <code>man</code> was the powerful tool to learn linux</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 30682069, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>From a programmer's point of view, it means precisely this:</p>\n\n<pre><code>dup2(1, 2);\n</code></pre>\n\n<p>See the <a href=\"http://linux.die.net/man/2/dup2\">man page</a>.</p>\n\n<p>Understanding that <code>2&gt;&amp;1</code> is a <em>copy</em> also explains why ...</p>\n\n<pre><code>command &gt;file 2&gt;&amp;1\n</code></pre>\n\n<p>... is not the same as ...</p>\n\n<pre><code>command 2&gt;&amp;1 &gt;file\n</code></pre>\n\n<p>The first will send both streams to <code>file</code>, whereas the second will send errors to <code>stdout</code>, and ordinary output into <code>file</code>.</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 34063316, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>0 for input, 1 for stdout and 2 for stderr.</p>\n\n<p><strong>One Tip</strong>:\n<code>somecmd &gt;1.txt 2&gt;&amp;1</code> is correct, while <code>somecmd 2&gt;&amp;1 &gt;1.txt</code> is totally <strong>wrong</strong> with no effect!</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 38564477, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}, {"body": "<p>Provided that <code>/foo</code> does not exist on your system and <code>/tmp</code> does\u2026</p>\n\n<pre><code>$ ls -l /tmp /foo\n</code></pre>\n\n<p>will print the contents of <code>/tmp</code> and print an error message for <code>/foo</code></p>\n\n<pre><code>$ ls -l /tmp /foo &gt; /dev/null\n</code></pre>\n\n<p>will send the contents of <code>/tmp</code> to <code>/dev/null</code> and print an error message for <code>/foo</code></p>\n\n<pre><code>$ ls -l /tmp /foo 1&gt; /dev/null\n</code></pre>\n\n<p>will do exactly the same (note the <strong>1</strong>)</p>\n\n<pre><code>$ ls -l /tmp /foo 2&gt; /dev/null\n</code></pre>\n\n<p>will print the contents of <code>/tmp</code> and send the error message to <code>/dev/null</code></p>\n\n<pre><code>$ ls -l /tmp /foo 1&gt; /dev/null 2&gt; /dev/null\n</code></pre>\n\n<p>will send both the listing as well as the error message to <code>/dev/null</code></p>\n\n<pre><code>$ ls -l /tmp /foo &gt; /dev/null 2&gt; &amp;1\n</code></pre>\n\n<p>is shorthand</p>\n", "title": "In the shell, what does &quot; 2&gt;&amp;1 &quot; mean?", "answer_id": 39280762, "question_id": 818255, "tags": ["bash", "shell", "unix", "redirect"]}], "question_id": 818255}, {"body": "<p>How do I center the text horizontally and vertically in a <code>TextView</code> in Android, so that it appears exactly in the middle of the <code>TextView</code>?</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "tags": ["android", "text", "center", "textview"], "answer_count": 32, "link": "http://stackoverflow.com/questions/432037/how-do-i-center-text-horizontally-and-vertically-in-a-textview-on-android", "answers": [{"body": "<p>I'm assuming you're using XML layout.</p>\n\n<pre><code>&lt;TextView  \n    android:layout_width=\"match_parent\" \n    android:layout_height=\"match_parent\" \n    android:gravity=\"center\"\n    android:text=\"@string/**yourtextstring**\"\n/&gt;\n</code></pre>\n\n<p>and as @stealthcopter commented \nin java: <code>.setGravity(Gravity.CENTER);</code></p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 432155, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>You can also set it up dynamically using:</p>\n\n<pre><code>textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 1775350, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<pre><code>android:gravity=\"center\" \n</code></pre>\n\n<p>This will do the trick</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 2225517, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>If you are using TableLayout make sure to set the gravity of the TableRows to center, too.\nOtherwise it will not work. At least it didn't work with me until I set the gravity of the TableRow to center.</p>\n\n<p>For example, like this:</p>\n\n<pre><code>&lt;TableRow android:id=\"@+id/tableRow2\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:gravity=\"center\"&gt;        \n    &lt;TextView android:text=\"@string/chf\" android:id=\"@+id/tv_chf\" android:layout_weight=\"2\" android:layout_height=\"wrap_content\" android:layout_width=\"fill_parent\" android:gravity=\"center\"&gt;&lt;/TextView&gt;        \n&lt;/TableRow&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 5991479, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<pre><code>android:layout_centerInParent=\"true\"\n</code></pre>\n\n<p>This works when used with a RelativeLayout where the layout's height &amp; width are set to wrap_content.</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 8088466, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>You need to set <strong>TextView Gravity</strong> (Center Horizontal &amp; Center Vertical) like this:</p>\n\n<pre><code>android:layout_centerHorizontal=\"true\"   \n</code></pre>\n\n<p>and        </p>\n\n<pre><code>android:layout_centerVertical=\"true\"\n</code></pre>\n\n<p>And dynamically using:</p>\n\n<pre><code>textview.setGravity(Gravity.CENTER);\ntextView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 10594391, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>If you are trying to center text on a TableRow in a TableLayout, here is how I achieved this:</p>\n\n<pre><code>&lt;TableRow android:id=\"@+id/rowName\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:padding=\"5dip\" &gt;\n    &lt;TextView android:id=\"@+id/lblSomeLabel\"\n              android:layout_width=\"fill_parent\"\n              android:layout_height=\"fill_parent\"\n              android:gravity=\"center\"\n              android:layout_width=\"0dp\"\n              android:layout_weight=\"100\"\n              android:text=\"Your Text Here\" /&gt;\n&lt;/TableRow&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 11488859, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>In my opinion, </p>\n\n<pre><code>android:gravity=\"center\"\n</code></pre>\n\n<p>is better than, </p>\n\n<pre><code>android:layout_centerInParent=\"true\"\n</code></pre>\n\n<p>which is better than,</p>\n\n<pre><code>android:layout_centerHorizontal=\"true\"\nandroid:layout_centerVertical=\"true\"\n</code></pre>\n\n<p>at least for formatting text.</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 11498093, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>In <code>RelativeLayout</code>, it will be nice with it.</p>\n\n<p>And another <code>Button</code> and anything else you can add.</p>\n\n<p>The following works nicely for me.</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:background=\"#ff314859\"\n    android:paddingLeft=\"16dp\"\n    android:paddingRight=\"16dp\"&gt;\n    &lt;TextView \n        android:id=\"@+id/txt_logo\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"your text here\"\n        android:textSize=\"30dp\"\n        android:gravity=\"center\"/&gt;\n\n        ...other button or anything else...\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 13485786, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>You can also use the combination:</p>\n\n<pre><code>android:gravity=\"left|center\"\n</code></pre>\n\n<p>Then, if textview width is more than \"fill_parent\" the text will still be aligned to left (not centered as with gravity set only to \"center\").</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 14113800, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>You can just set the gravity of your textview into CENTER.</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 15755620, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Simply, in your XML file, set the textview gravity to center:</p>\n\n<pre><code>&lt;TextView\n    android:gravity=\"center\" /&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 16404377, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Apply gravity:      </p>\n\n<pre><code>TextView txtView = (TextView) findViewById(R.id.txtView);\ntxtView.setGravity(Gravity.CENTER_HORIZONTAL);\n</code></pre>\n\n<p>For vertical:      </p>\n\n<pre><code>txtView.setGravity(Gravity.CENTER_VERTICAL);\n</code></pre>\n\n<p>In XML:</p>\n\n<pre><code>&lt;TextView      \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"fill_parent\" \n    android:gravity=\"center\"\n    android:text=\"@string/Hello_World\"        \n/&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 16828678, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Here is my answer that I had used in my app. It shows text in center of the screen.</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/txtSubject\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/subject\"\n    android:layout_margin=\"10dp\"\n    android:gravity=\"center\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 16894085, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>As many answers suggest above works fine.</p>\n\n<pre><code>android:gravity=\"center\"\n</code></pre>\n\n<p>If you want to center it just vertically:</p>\n\n<pre><code>android:gravity=\"center_vertical\"\n</code></pre>\n\n<p>or just horizontally:</p>\n\n<pre><code>android:gravity=\"center_horizontal\"\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 17477525, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>While using gravity works for TextView, there's an alternate method implemented in API level 17 - </p>\n\n<pre><code>textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n</code></pre>\n\n<p>Don't know the difference, but it works too. However only for API level 17 or higher.</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 18422999, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Use in the XML file.</p>\n\n<p><strong>Layout file</strong></p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:gravity=\"center\"\n    android:text=\"@string/stringtext\"/&gt;\n</code></pre>\n\n<p>or:</p>\n\n<p><strong>Use this inside the Java class</strong></p>\n\n<pre><code>TextView textView =(TextView)findViewById(R.id.texviewid);\ntextView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 19187146, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Use this  for relative layout </p>\n\n<pre><code>android:layout_centerInParent=\"true\"\n</code></pre>\n\n<p>and for other layout </p>\n\n<pre><code>android:gravity=\"center\" \n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 19316654, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<pre><code>&lt;TextView\nandroid:id=\"+@id/textView\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:gravity=\"center\"\n/&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 21881137, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Did you try this way?</p>\n\n<pre><code>&lt;TextView\nandroid:id=\"+@id/txtVw\"\nandroid:gravity=\"center\"\n/&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 22379370, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>There are two ways of doing this.</p>\n\n<p>The first in the XML code. You need to pay attention at the Gravity Attribute. You also can find this attribute in the Graphic Editor; it may be easier than the XML EDITOR.</p>\n\n<pre><code>&lt;TextView  \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"fill_parent\" \n    android:gravity=\"center_vertical|center_horizontal\"\n    android:text=\"Your Text\"\n/&gt;\n</code></pre>\n\n<p>For your specific scenario, the values of gravity will be: </p>\n\n<p>\"center_vertical|center_horizontal\"</p>\n\n<p>In the graphical editor you will find all the possible values, even see their results.</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 26424757, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>For Linear Layout:\nIn XML use something like this</p>\n\n<pre><code>&lt;TextView  \n    android:id=\"@+id/textView1\"\n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"fill_parent\" \n    android:gravity=\"center_vertical|center_horizontal\"\n    android:text=\"Your Text goes here\"\n/&gt;\n</code></pre>\n\n<p>To do this at run time use something like this in your activity</p>\n\n<pre><code>TextView textView1 =(TextView)findViewById(R.id.texView1);\ntextView1.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL);\n</code></pre>\n\n<p>For Relative Layout: in XML use some thing like this</p>\n\n<pre><code>&lt;TextView  \n    android:id=\"@+id/textView1\"\n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"fill_parent\" \n    android:layout_centerInParent=\"true\"\n    android:text=\"Your Text goes here\"\n/&gt;\n</code></pre>\n\n<p>To do this at run time use something like this in your activity</p>\n\n<pre><code>TextView textView1 =(TextView)findViewById(R.id.texView1);\nRelativeLayout.LayoutParams layoutParams = RelativeLayout.LayoutParams)textView1.getLayoutParams();\nlayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\ntextView1.setLayoutParams(layoutParams);\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 27751575, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>If you are using Relative Layout:</p>\n\n<pre><code>  &lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/stringname\"\n    android:layout_centerInParent=\"true\"/&gt;\n</code></pre>\n\n<p>If you are using LinearLayout</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/stringname\"\n    android:layout_gravity=\"center\"/&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 33717099, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Easiest way (which is surprisingly only mentioned in comments, hence why I am posting as an answer) is:</p>\n\n<pre><code>textview.setGravity(Gravity.CENTER)\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 34289531, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>If the TextView's height and width are wrap content then the text within the textview always be centered. But if the textview's width is match_parent then you have to do : </p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center\" \n        android:text=\"Hello..\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>For LinearLayout also the code is same :</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center\"\n        android:text=\"Hello..\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 34327777, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>The TextView's height and width are wrap content then the text within the textview always be centered, then make center in its parent layout by using:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\"\n        android:text=\"Hello..\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>For LinearLayout also the code is same :</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello..\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and pro-grammatically parent is RelativeLayout java code this at run time use something like this in your activity</p>\n\n<pre><code>TextView textView1 =(TextView)findViewById(R.id.texView1);\nRelativeLayout.LayoutParams layoutParams = RelativeLayout.LayoutParams)textView1.getLayoutParams();\nlayoutParams.addRule(RelativeLayout.CENTER_IN_PARENT, RelativeLayout.TRUE);\ntextView1.setLayoutParams(layoutParams);\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 35845355, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p><code>android:gravity=\"center_horizontal\"</code> for align text Center horizontally.\n<code>android:gravity=\"center_vertical\"</code> for align text Center vertically.\n<code>android:gravity=\"center\"</code> for align text Center both vertically and horizontally.</p>\n\n<pre><code>&lt;TextView\n        android:layout_width=\"match_parent\"\n        android:gravity=\"center_horizontal|center_vertical\"\n        android:layout_height=\"match_parent\" /&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 37344091, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Try this way, it will work</p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:gravity=\"center_horizontal|center_vertical\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textAlignment=\"center\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 37888099, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<pre><code>&lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"25dp\"\n        android:textStyle=\"bold\"\n        android:textAppearance=\"?android:attr/textAppearanceMedium\"\n        android:text=\"Tours\"\n        android:id=\"@+id/textView\" /&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 38473802, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>And for those wondering how to center it vertically in its TextView element while keeping it on the left (horizontally) :</p>\n\n<pre><code>android:gravity=\"center\"\nandroid:textAlignment=\"viewStart\"\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 39006775, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p>Set the gravity attribute in the layout file as\nandroid:gravity=\"center\"</p>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 39007223, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}, {"body": "<p><a href=\"http://i.stack.imgur.com/qOsHn.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/qOsHn.png\" alt=\"center text\"></a></p>\n\n<pre><code>&lt;TextView\n        android:id=\"@+id/failresults\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"3dp\"\n        android:gravity=\"center_vertical|center_horizontal\"\n        android:text=\"\"\n        android:textSize=\"12sp\" /&gt;\n</code></pre>\n", "title": "How do I center text horizontally and vertically in a TextView on Android?", "answer_id": 39320741, "question_id": 432037, "tags": ["android", "text", "center", "textview"]}], "question_id": 432037}], "quota_max": 300, "page_size": 100, "quota_remaining": 229, "page": 1}