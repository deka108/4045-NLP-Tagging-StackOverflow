{"has_more": true, "items": [{"body": "<p>I was looking at the new APIs introduced in <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_4.1.2F4.2_Jelly_Bean\">Android 4.2</a>.\nWhile looking at the <a href=\"http://developer.android.com/reference/android/os/UserManager.html\"><code>UserManager</code></a> class I came across the following method:</p>\n\n<blockquote>\n<pre><code>public boolean isUserAGoat()\n</code></pre>\n  \n  <p>Used to determine whether the user making this call is subject to teleportations.</p>\n  \n  <p>Returns whether the user making this call is a goat.</p>\n</blockquote>\n\n<p>How and when should this be used?</p>\n", "tags": ["java", "android", "usermanager"], "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_count": 11, "creation_date": 1352882041, "score": 2384, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat", "answers": [{"body": "<p>From their <strong><a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#433\">source</a></strong>, the method used to return <code>false</code> until it was changed in API 21.</p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n * @return whether the user making this call is a goat \n */\npublic boolean isUserAGoat() {\n    return false;\n}\n</code></pre>\n\n<p>It looks like the method has no real use for us as developers. Someone has previously stated that it might be an <strong><a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\">Easter egg</a></strong>.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>In API 21 the implementation was changed to check if there is an installed app with the package <code>com.coffeestainstudios.goatsimulator</code></p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");\n}\n</code></pre>\n\n<p>Here is the updated <strong><a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java\">source link</a></strong></p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13375461, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13375461#13375461", "tags": ["java", "android", "usermanager"]}, {"body": "<p>This appears to be an inside joke at Google. It's also featured in the Google Chrome task manager. It has no purpose, other than some engineers finding it amusing. Which is a purpose by itself, if you will.</p>\n\n<ol>\n<li>In Chrome, open the Task Manager with <kbd>Shift</kbd>+<kbd>Esc</kbd>. </li>\n<li>Right click to add the  <code>Goats Teleported</code> column.</li>\n<li>Wonder.</li>\n</ol>\n\n<p>There is even a huge Chromium bug report about <a href=\"http://code.google.com/p/chromium/issues/detail?id=31482\">too many teleported goats</a>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/1nwdC.png\" alt=\"chrome\">  </p>\n\n<p>The following Chromium <a href=\"http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\">source code snippet</a> is stolen from the <a href=\"http://news.ycombinator.com/item?id=4782574\">HN</a> comments.</p>\n\n<pre><code>int TaskManagerModel::GetGoatsTeleported(int index) const {\n  int seed = goat_salt_ * (index + 1);\n  return (seed &gt;&gt; 16) &amp; 255;\n}\n</code></pre>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13375746, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13375746#13375746", "tags": ["java", "android", "usermanager"]}, {"body": "<p>I don't know if this was \"the\" official use case but the following produces a warning in Java (that can further produce compile errors if mixed with <code>return</code> statements, leading to unreachable code):</p>\n\n<pre><code>while (1 == 2) { // note \"if\" is treate differently\n    System.out.println(\"Unreachable code\");\n}\n</code></pre>\n\n<p>However this is legal:</p>\n\n<pre><code>while (isUserAGoat()) {\n    System.out.println(\"Unreachable but determined at runtime, not at compile time\");\n}\n</code></pre>\n\n<p>So I often find myself writing a silly utility method for the quickest way to dummy out a code block, then in completing debugging find all calls to it, so provided the implementation doesn't change this can be used for that.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.21\">JLS</a> points out <code>if (false)</code> does not trigger \"unreachable code\" for the specific reason that this would break support for debug flags i.e. basically this use case (h/t @auselen). (<code>static final boolean DEBUG = false;</code> for instance). I replaced <code>while</code> for <code>if</code>, producing a more obscure use case. I <em>believe</em> you can trip up your IDE, like Eclipse, with this behavior, but this edit is 4 years into the future and I don't have an Eclipse environment to play with.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13381101, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13381101#13381101", "tags": ["java", "android", "usermanager"]}, {"body": "<p>There's a funny named method/constant/whatever in each version of Android. </p>\n\n<p>The only practical use I ever saw was in the Last Call for <a href=\"http://en.wikipedia.org/wiki/Google_I/O\">Google I/O</a> Contest where they asked what it was for a particular version, to see if contestants read the API diff report for each release. The contest had programming problems too, but generally some trivia that could be graded automatically first to get the number of submissions down to reasonable amounts that would be easier to check.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13383962, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13383962#13383962", "tags": ["java", "android", "usermanager"]}, {"body": "<p>Google has a serious liking for goats and goat based <a href=\"http://en.wikipedia.org/wiki/Easter_egg_%28media%29#Software\">Easter eggs</a>. There has even been <a href=\"http://stackoverflow.com/questions/3350892/graph-goat-teleportation-data-with-google-vis-api-via-chrome-extension\">previous Stack&nbsp;Overflow posts about it</a>. </p>\n\n<p>As has been mentioned in previous posts, it also exists within the Chrome task manager (<a href=\"http://src.chromium.org/viewvc/chrome/trunk/src/chrome/app/generated_resources.grd?r1=27169&amp;r2=27216\">it first appeared in the wild in 2009</a>):</p>\n\n<pre><code>&lt;message name=\"IDS_TASK_MANAGER_GOATS_TELEPORTED_COLUMN\" desc=\"The goats teleported column\"&gt;\n    Goats Teleported\n&lt;/message&gt;\n</code></pre>\n\n<p><a href=\"http://techie-buzz.com/featured/google-chrome-goats-teleported-easter-egg.html\">And then in Windows, Linux and Mac versions of Chrome early 2010</a>). The number of \"Goats Teleported\" is in fact <a href=\"http://git.chromium.org/gitweb/?p=chromium.git;a=blob;f=chrome/browser/task_manager/task_manager.cc;h=ad46354259ec8687c8665820f9f53bf89ccc715d;hb=HEAD#l599\">random</a>:</p>\n\n<pre><code> int TaskManagerModel::GetGoatsTeleported(int index) const {\n     int seed = goat_salt_ * (index + 1);\n     return (seed &gt;&gt; 16) &amp; 255;\n }\n</code></pre>\n\n<p>Other Google references to goats include:</p>\n\n<ul>\n<li><a href=\"http://googleblog.blogspot.co.uk/2009/05/mowing-with-goats.html\">Mowing with goats</a></li>\n<li><a href=\"http://googleblog.blogspot.co.uk/2010/04/goats-are-baaaahk.html\">The goats are baaaahk</a></li>\n</ul>\n\n<p>The earliest correlation of goats and Google belongs in the original \"Mowing with goats\" blog post, as far as I can tell.</p>\n\n<p>We can safely assume that it's merely an Easter egg and has no real-world use, except for returning <code>false</code>.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13395669, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13395669#13395669", "tags": ["java", "android", "usermanager"]}, {"body": "<p>There is a similar call, <code>isUserAMonkey()</code>, that returns true if the <a href=\"http://developer.android.com/tools/help/monkeyrunner_concepts.html\">MonkeyRunner tool</a> is being used. The SDK explanation is just as curious as this one. </p>\n\n<blockquote>\n<pre><code>public static boolean isUserAMonkey(){}     \n</code></pre>\n  \n  <p>Returns <code>true</code> if the user interface is currently being messed with by a monkey.</p>\n</blockquote>\n\n<p><a href=\"http://developer.android.com/reference/android/app/ActivityManager.html\">Here</a> is the source. </p>\n\n<p>I expect that this was added in anticipation of a new <a href=\"http://en.wikipedia.org/wiki/Software_development_kit\">SDK</a> tool named something with a goat and will <em>actually</em> be functional to test for the presence of that tool.  </p>\n\n<p>Also see a similar question, <strong><a href=\"http://stackoverflow.com/questions/7792123/strange-function-in-activitymanager-isuseramonkey-what-does-this-mean-what-i\">Strange function in ActivityManager: isUserAMonkey. What does this mean, what is its use?</a></strong>.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13424726, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13424726#13424726", "tags": ["java", "android", "usermanager"]}, {"body": "<p>Complementing the @djechlin <a href=\"http://stackoverflow.com/a/13381101/956397\">answer</a> (good answer by the way!), this function call could be <strong>also</strong> used as dummy code to hold a breakpoint in an IDE when you want to stop in some specific iteration or a particular recursive call, for example:</p>\n\n<p><img src=\"http://i.stack.imgur.com/mW1Lf.png\" alt=\"enter image description here\"></p>\n\n<p><code>isUserAGoat()</code> could be used instead of a dummy variable declaration that will be shown in the IDE as a warning and, in Eclipse particular case, will clog the breakpoint mark, making it difficult to enable/disable it. If the method is used as a convention, all the invocations could be later filtered by some script (during commit phase maybe?).</p>\n\n<p><img src=\"http://i.stack.imgur.com/MFIBa.png\" alt=\"enter image description here\"></p>\n\n<p>Google guys are heavy Eclipse users (they provide several of their projects as Eclipse plugins: Android SDK, GAE, etc), so the @djechlin answer and this complementary answer make a lot of sense (at least for me).</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 13498177, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13498177#13498177", "tags": ["java", "android", "usermanager"]}, {"body": "<p>In the discipline of speech recognition, users are divided into <em>goats</em> and <em>sheeps</em>. </p>\n\n<p>For instance here <strong><a href=\"http://books.google.de/books?id=QWJ7KVMQk0cC&amp;lpg=PR1&amp;dq=voice%20enabling%20web&amp;hl=de&amp;pg=PA89#v=onepage&amp;q=voice%20enabling%20web&amp;f=false\">on page 89</a></strong>.</p>\n\n<blockquote>\n  <p>Sheeps are people for whom speech recognition works exceptionally well, and goats are people for whom it works exceptionally poorly. Only the voice recognizer knows what separates them. People can't predict whose voice will be recognized easily and whose won't. The best policy is to design the interface so it can handle all kinds of voices in all kinds of environments</p>\n</blockquote>\n\n<p>Maybe, it is planned to mark Android users as goats in future to be able to configure the speech recognition engine for goat's needs. ;-)</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 16854187, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/16854187#16854187", "tags": ["java", "android", "usermanager"]}, {"body": "<p>Funny Easter Egg.<br/> \nIn Ubuntu version of Chrome, in Task Manager (<kbd>shift</kbd>+<kbd>esc</kbd>), with right-click you can add a sci-fi column that in italian version is \"Capre Teletrasportate\" (Teleported Goats).</p>\n\n<p>A funny theory about it is <a href=\"http://news.softpedia.com/news/Chrome-s-quot-Goats-Teleported-quot-Easter-Egg-Hints-at-a-Wonderful-Future-323197.shtml\" rel=\"nofollow\">here</a>.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 21600378, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/21600378#21600378", "tags": ["java", "android", "usermanager"]}, {"body": "<p>As of API 21 (the first Android 5.0/Lollipop SDK), this detects whether the <a href=\"https://play.google.com/store/apps/details?id=com.coffeestainstudios.goatsimulator&amp;hl=en\">Goat Simulator</a> app is installed:</p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");\n}\n</code></pre>\n\n<p>This should make it clear that <a href=\"http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/13381101#13381101\">djechlin's suggestion</a> of using it as a warning-free <code>if (false)</code> is a potentially disastrous strategy. What previously returned <code>false</code> for every device now returns a seemingly random value: if this was buried deep enough in your code it could take a <em>long</em> time to figure out where your new bugs are coming from.</p>\n\n<p>Bottom line: if you don't control the implementation of a method and decide to use it for purposes other than stated in the API documentation, you're heading for trouble.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 26462960, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/26462960#26462960", "tags": ["java", "android", "usermanager"]}, {"body": "<p>From their <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-5.0.0_r6/core/java/android/os/UserManager.java#433/\" rel=\"nofollow\">source</a>, the method used to return <code>false</code> until it was changed in API 21.</p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n * @return whether the user making this call is a goat \n */\npublic boolean isUserAGoat() {\n    return false;\n}\n</code></pre>\n\n<p>It looks like the method has no real use for us as developers. Someone has previously stated that it might be an <a href=\"https://en.wikipedia.org/wiki/Easter_egg_(media)\" rel=\"nofollow\">Easter egg</a></p>\n\n<p>In API 21 the implementation was changed to check if there is an installed app with the  com.coffeestainstudios.goatsimulator</p>\n\n<pre><code>/**\n * Used to determine whether the user making this call is subject to\n * teleportations.\n *\n * &lt;p&gt;As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can\n * now automatically identify goats using advanced goat recognition technology.&lt;/p&gt;\n *\n * @return Returns true if the user making this call is a goat.\n */\npublic boolean isUserAGoat() {\n    return mContext.getPackageManager()\n            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");\n}\n</code></pre>\n\n<p>There is a similar call,<code>isUserAMonkey()</code>, that returns true if the <a href=\"https://developer.android.com/studio/test/monkeyrunner/index.html\" rel=\"nofollow\">MonkeyRunner tool</a> is being used. The SDK explanation is just as curious as this one.</p>\n\n<pre><code>public static boolean isUserAMonkey(){}\n</code></pre>\n\n<p>Returns <code>true</code> if the user interface is currently being messed with by a monkey.\nI expect that this was added in anticipation of a new SDK tool named something with a goat and will actually be functional to test for the presence of that tool.</p>\n", "title": "Proper use cases for Android UserManager.isUserAGoat()?", "answer_id": 38504859, "link": "http://stackoverflow.com/questions/13375357/proper-use-cases-for-android-usermanager-isuseragoat/38504859#38504859", "tags": ["java", "android", "usermanager"]}], "question_id": 13375357}, {"body": "<p>Is it possible to construct a snippet of code in <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\">Java</a> that would make a hypothetical <code>java.lang.ChuckNorrisException</code> uncatchable?</p>\n\n<p>Thoughts that came to mind are using for example interceptors or <a href=\"http://en.wikipedia.org/wiki/Aspect-oriented_programming\">aspect-oriented programming</a>.</p>\n", "tags": ["java", "exception", "exception-handling", "aop"], "title": "Uncatchable ChuckNorrisException", "answer_count": 18, "creation_date": 1355504739, "score": 550, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception", "answers": [{"body": "<p>Any code can catch Throwable. So no, whatever exception you create is going to be a subclass of Throwable and will be subject to being caught. </p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13883239, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13883239#13883239", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>No. All exceptions in Java must subclass <code>java.lang.Throwable</code>, and although it may not be good practice, you can catch every type of exception like so:</p>\n\n<pre><code>try {\n    //Stuff\n} catch ( Throwable T ){\n    //Doesn't matter what it was, I caught it.\n}\n</code></pre>\n\n<p>See the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html\" rel=\"nofollow\" title=\"Throwable\">java.lang.Throwable</a> documentation for more information.</p>\n\n<p>If you're trying to avoid <a href=\"http://en.wikipedia.org/wiki/Exception_handling#Checked_exceptions\" rel=\"nofollow\">checked exceptions</a> (ones that must be explicitly handled) then you will want to subclass Error, or RuntimeException.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13883244, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13883244#13883244", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>With such an exception it would obviously be mandatory to use a <code>System.exit(Integer.MIN_VALUE);</code> from the constructor because this is what would happen if you threw such an exception ;)</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13883318, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13883318#13883318", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>Any exception you throw has to extend Throwable, so it can be always caught. So answer is no.</p>\n\n<p>If you want to make it difficult to handle, you can override methods <code>getCause(), getMessage()</code>, <code>getStackTrace()</code>, <code>toString()</code> to throw another <code>java.lang.ChuckNorrisException</code>.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13883349, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13883349#13883349", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>I haven't tried this, so I don't know if the <a href=\"http://en.wikipedia.org/wiki/Java_virtual_machine\">JVM</a> would restrict something like this, but maybe you could compile code which throws <code>ChuckNorrisException</code>, but at runtime provide a class definition of <code>ChuckNorrisException</code> which <em>does not extend Throwable</em>.</p>\n\n<p>UPDATE:</p>\n\n<p>It doesn't work. It generates a verifier error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.VerifyError: (class: TestThrow, method: ma\\\nin signature: ([Ljava/lang/String;)V) Can only throw Throwable objects\nCould not find the main class: TestThrow.  Program will exit.\n</code></pre>\n\n<p>UPDATE 2:</p>\n\n<p>Actually, you can get this to work if you disable the byte code verifier! (<code>-Xverify:none</code>)</p>\n\n<p>UPDATE 3:</p>\n\n<p>For those following from home, here is the full script:</p>\n\n<p>Create the following classes:</p>\n\n<pre><code>public class ChuckNorrisException\n    extends RuntimeException // &lt;- Comment out this line on second compilation\n{\n    public ChuckNorrisException() { }\n}\n\npublic class TestVillain {\n    public static void main(String[] args) {\n        try {\n            throw new ChuckNorrisException();\n        }\n        catch(Throwable t) {\n            System.out.println(\"Gotcha!\");\n        }\n        finally {\n            System.out.println(\"The end.\");\n        }\n    }\n}\n</code></pre>\n\n<p>Compile classes:</p>\n\n<pre><code>javac -cp . TestVillain.java ChuckNorrisException.java\n</code></pre>\n\n<p>Run:</p>\n\n<pre><code>java -cp . TestVillain\nGotcha!\nThe end.\n</code></pre>\n\n<p>Comment out \"extends RuntimeException\" and <em>recompile <code>ChuckNorrisException.java</code> only</em> :</p>\n\n<pre><code>javac -cp . ChuckNorrisException.java\n</code></pre>\n\n<p>Run:</p>\n\n<pre><code>java -cp . TestVillain\nException in thread \"main\" java.lang.VerifyError: (class: TestVillain, method: main signature: ([Ljava/lang/String;)V) Can only throw Throwable objects\nCould not find the main class: TestVillain.  Program will exit.\n</code></pre>\n\n<p>Run without verification:</p>\n\n<pre><code>java -Xverify:none -cp . TestVillain\nThe end.\nException in thread \"main\"\n</code></pre>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13883510, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13883510#13883510", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>In the constructor you could start a thread which repeatedly calls <code>originalThread.stop (ChuckNorisException.this)</code> </p>\n\n<p>The thread could catch the exception repeatedly but would keep throwing it until it dies.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13886113, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13886113#13886113", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>You can keep ChuckNorris internal or private and encapsulate him or swollow him...</p>\n\n<p><code>try { doChuckAction(); } catch(ChuckNorrisException cne) { /*do something else*/ }</code></p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13889356, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13889356#13889356", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>The only <code>ChuckNorrisException</code>s in Java should be <code>OutOfMemoryError</code> and <code>StackOverflowError</code>.</p>\n\n<p>You can actually \"catch\" them in the means that a <code>catch(OutOfMemoryError ex)</code> will execute in case the exception is thrown, but that block will automatically rethrow the exception to the caller.</p>\n\n<p>I don't think that <code>public class ChuckNorrisError extends Error</code> does the trick but you could give it a try. I found no documentation about extending <code>Error</code></p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13891979, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13891979#13891979", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>After having pondered this, I have successfully created an uncatchable exception. I chose to name it <code>JulesWinnfield</code>, however, rather than Chuck, because it is one mushroom-cloud-laying-mother-exception. Furthermore, it might not be exactly what you had in mind, but it certainly can't be caught. Observe:</p>\n\n<pre><code>public static class JulesWinnfield extends Exception\n{\n    JulesWinnfield()\n    {\n        System.err.println(\"Say 'What' again! I dare you! I double dare you!\");\n        System.exit(25-17); // And you shall know I am the LORD\n    }\n}\n\n\npublic static void main(String[] args)\n{       \n    try\n    {\n        throw new JulesWinnfield();\n    } \n    catch(JulesWinnfield jw)\n    {\n        System.out.println(\"There's a word for that Jules - a bum\");\n    }\n}\n</code></pre>\n\n<p><em>Et voila!</em> Uncaught exception.</p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>run:</p>\n  \n  <p>Say 'What' again! I dare you! I double dare you! </p>\n  \n  <p>Java Result: 8</p>\n  \n  <p>BUILD SUCCESSFUL (total time: 0 seconds)</p>\n</blockquote>\n\n<p>When I have a little more time, I'll see if I can't come up with something else, as well.</p>\n\n<p>Also, check this out:</p>\n\n<pre><code>public static class JulesWinnfield extends Exception\n{\n    JulesWinnfield() throws JulesWinnfield, VincentVega\n    {\n        throw new VincentVega();\n    }\n}\n\npublic static class VincentVega extends Exception\n{\n    VincentVega() throws JulesWinnfield, VincentVega\n    {\n        throw new JulesWinnfield();\n    }\n}\n\n\npublic static void main(String[] args) throws VincentVega\n{\n\n    try\n    {\n        throw new JulesWinnfield();\n    }\n    catch(JulesWinnfield jw)\n    {\n\n    }\n    catch(VincentVega vv)\n    {\n\n    }\n}\n</code></pre>\n\n<p>Causes a stack overflow - again, exceptions remain uncaught.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13892084, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13892084#13892084", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<pre><code>public class ChuckNorrisException extends Exception {\n    public ChuckNorrisException() {\n        System.exit(1);\n    }\n}\n</code></pre>\n\n<p>(Granted, <em>technically</em> this exception is never actually thrown, but a proper <code>ChuckNorrisException</code> can't be thrown -- it throws you first.)</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13895207, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13895207#13895207", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>Two fundamental problems with exception handling in Java are that it uses the type of an exception to indicate whether action should be taken based upon it, and that anything which takes action based upon an exception (i.e. \"catch\"es it) is presumed to resolve the underlying condition.  It would be useful to have a means by which an exception object could decide which handlers should execute, and whether the handlers that have executed so far have cleaned things up enough for the present method to satisfy its exit conditions.  While this could be used to make \"uncatchable\" exceptions, two bigger uses would be to (1) make exceptions which will only be considered handled when they're caught by code that actually knows how to deal with them, and (2) allow for sensible handling of exceptions which occur in a <code>finally</code> block (if a <code>FooException</code> during a <code>finally</code> block during the unwinding of a <code>BarException</code>, both exceptions should propagate up the call stack; both should be catchable, but unwinding should continue until both have been caught).  Unfortunately, I don't think there would be any way to make existing exception-handling code work that way without breaking things.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13897317, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13897317#13897317", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p><code>Is it possible to construct a snippet of code in java that would make a hypothetical java.lang.ChuckNorrisException uncatchable?</code></p>\n\n<p>Yes, and here's the answer: Design your <code>java.lang.ChuckNorrisException</code> such that it is not an instance of <code>java.lang.Throwable</code>. Why? An unthrowable object is uncatchable by definition because you can never catch something that can never be thrown.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13928874, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13928874#13928874", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>My answer is based on @jtahlborn's idea, but it's a fully working <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\">Java</a> program, that can be packaged into a <a href=\"http://en.wikipedia.org/wiki/JAR_%28file_format%29\">JAR</a> file and even deployed to your favorite application server as a part of a <a href=\"http://en.wikipedia.org/wiki/Web_application\">web application</a>.</p>\n\n<p>First of all, let's define <code>ChuckNorrisException</code> class so that it doesn't crash JVM from the beginning (Chuck really loves crashing JVMs BTW :)</p>\n\n<pre><code>package chuck;\n\nimport java.io.PrintStream;\nimport java.io.PrintWriter;\n\npublic class ChuckNorrisException extends Exception {\n\n    public ChuckNorrisException() {\n    }\n\n    @Override\n    public Throwable getCause() {\n        return null;\n    }\n\n    @Override\n    public String getMessage() {\n        return toString();\n    }\n\n    @Override\n    public void printStackTrace(PrintWriter s) {\n        super.printStackTrace(s);\n    }\n\n    @Override\n    public void printStackTrace(PrintStream s) {\n        super.printStackTrace(s);\n    }\n}\n</code></pre>\n\n<p>Now goes <code>Expendables</code> class to construct it:</p>\n\n<pre><code>package chuck;\n\nimport javassist.*;\n\npublic class Expendables {\n\n    private static Class clz;\n\n    public static ChuckNorrisException getChuck() {\n        try {\n            if (clz == null) {\n                ClassPool pool = ClassPool.getDefault();\n                CtClass cc = pool.get(\"chuck.ChuckNorrisException\");\n                cc.setSuperclass(pool.get(\"java.lang.Object\"));\n                clz = cc.toClass();\n            }\n            return (ChuckNorrisException)clz.newInstance();\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n\n<p>And finally the <code>Main</code> class to kick some butt:</p>\n\n<pre><code>package chuck;\n\npublic class Main {\n\n    public void roundhouseKick() throws Exception {\n        throw Expendables.getChuck();\n    }\n\n    public void foo() {\n        try {\n            roundhouseKick();\n        } catch (Throwable ex) {\n            System.out.println(\"Caught \" + ex.toString());\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            System.out.println(\"before\");\n            new Main().foo();\n            System.out.println(\"after\");\n        } finally {\n            System.out.println(\"finally\");\n        }\n    }\n}\n</code></pre>\n\n<p>Compile and run it with following command:</p>\n\n<pre><code>java -Xverify:none -cp .:&lt;path_to_javassist-3.9.0.GA.jar&gt; chuck.Main\n</code></pre>\n\n<p>You will get following output:</p>\n\n<pre><code>before\nfinally\n</code></pre>\n\n<p>No surprise - it's a roundhouse kick after all :)</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 13942854, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/13942854#13942854", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>A variant on the theme is the surprising fact that you can throw undeclared checked exceptions from Java code. Since it is not declared in the methods signature, the compiler won't let you catch the exception itself, though you can catch it as java.lang.Exception.</p>\n\n<p>Here's a helper class that lets you throw anything, declared or not:</p>\n\n<pre><code>public class SneakyThrow {\n  public static RuntimeException sneak(Throwable t) {\n    throw SneakyThrow.&lt;RuntimeException&gt; throwGivenThrowable(t);\n  }\n\n  private static &lt;T extends Throwable&gt; RuntimeException throwGivenThrowable(Throwable t) throws T {\n    throw (T) t;\n  }\n}\n</code></pre>\n\n<p>Now <code>throw SneakyThrow.sneak(new ChuckNorrisException());</code> does throw a ChuckNorrisException, but the compiler complains in</p>\n\n<pre><code>try {\n  throw SneakyThrow.sneak(new ChuckNorrisException());\n} catch (ChuckNorrisException e) {\n}\n</code></pre>\n\n<p>about catching an exception that is not thrown if ChuckNorrisException is a checked exception.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 14001288, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/14001288#14001288", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>Call System.exit(1) in the <code>finalize</code>, and just throw a copy of the exception from all the other methods, so that the program will exit.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 23146015, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/23146015#23146015", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>Actually the accepted answer is not so nice because Java needs to be run without verification, i.e. the code would not work under normal circumstances.</p>\n\n<p>AspectJ to the rescue for the <strong>real solution</strong>!</p>\n\n<p><strong>Exception class:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class ChuckNorrisException extends RuntimeException {\n    public ChuckNorrisException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<p><strong>Aspect:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport de.scrum_master.app.ChuckNorrisException;\n\npublic aspect ChuckNorrisAspect {\n    before(ChuckNorrisException chuck) : handler(*) &amp;&amp; args(chuck) {\n        System.out.println(\"Somebody is trying to catch Chuck Norris - LOL!\");\n        throw chuck;\n    }\n}\n</code></pre>\n\n<p><strong>Sample application:</strong></p>\n\n<pre><code>package de.scrum_master.app;\n\npublic class Application {\n    public static void main(String[] args) {\n        catchAllMethod();\n    }\n\n    private static void catchAllMethod() {\n        try {\n            exceptionThrowingMethod();\n        }\n        catch (Throwable t) {\n            System.out.println(\"Gotcha, \" + t.getClass().getSimpleName() + \"!\");\n        }\n    }\n\n    private static void exceptionThrowingMethod() {\n        throw new ChuckNorrisException(\"Catch me if you can!\");\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Somebody is trying to catch Chuck Norris - LOL!\nException in thread \"main\" de.scrum_master.app.ChuckNorrisException: Catch me if you can!\n    at de.scrum_master.app.Application.exceptionThrowingMethod(Application.java:18)\n    at de.scrum_master.app.Application.catchAllMethod(Application.java:10)\n    at de.scrum_master.app.Application.main(Application.java:5)\n</code></pre>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 23168980, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/23168980#23168980", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>It is easily possible to simulate a uncaught exception on the current thread. This will trigger the regular behavior of an uncaught exception, and thus gets the job done semantically. It will, however, not necessarily stop the current thread's execution, as no exception is actually thrown.</p>\n\n<pre><code>Throwable exception = /* ... */;\nThread currentThread = Thread.currentThread();\nThread.UncaughtExceptionHandler uncaughtExceptionHandler =\n    currentThread.getUncaughtExceptionHandler();\nuncaughtExceptionHandler.uncaughtException(currentThread, exception);\n// May be reachable, depending on the uncaught exception handler.\n</code></pre>\n\n<p>This is actually useful in (very rare) situations, for example when proper <code>Error</code> handling is required, but the method is invoked from a framework catching (and discarding) any <code>Throwable</code>.</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 34688397, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/34688397#34688397", "tags": ["java", "exception", "exception-handling", "aop"]}, {"body": "<p>Add a throw clause at the end. It's a big risk, because nobody throws Chuck Norris! =)</p>\n", "title": "Uncatchable ChuckNorrisException", "answer_id": 37731204, "link": "http://stackoverflow.com/questions/13883166/uncatchable-chucknorrisexception/37731204#37731204", "tags": ["java", "exception", "exception-handling", "aop"]}], "question_id": 13883166}, {"body": "<p>I am trying to get my first taste of Android development using Eclipse. I ran into this problem when trying to run Eclipse, having installed version 4.2 only minutes ago.</p>\n\n<p>After first trying to start Eclipse without any parameters to specify the Java VM, I got an error message saying it couldn't find a Java VM called javaw.exe inside the Eclipse folder, so I found where Java was installed and specified that location as the parameter in the shortcut's target. Now I get a different error, \"Java was started but returned exit code=13\".</p>\n\n<p>Similar questions seem to indicate that it's a 32-bit/64-bit conflict, but I'm 99% positive that I downloaded 64-bit versions of both Eclipse and Java (RE 7u5), which I chose because I have 64-bit Windows 7. </p>\n\n<ul>\n<li>If anyone knows how to confirm that my Eclipse and Java are 64-bit,\nthat'd be appreciated.</li>\n<li>If you think my problem is a different one, please help!</li>\n<li>Please speak as plainly as you can, as I am totally new to Eclipse\nand Java.</li>\n</ul>\n\n<blockquote>\n  <p>Shortcut Target: \"C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\eclipse.exe\" -vm \"C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\"</p>\n</blockquote>\n\n<p><strong>Full error code...:</strong></p>\n\n<pre><code>Java was started but returned exit code=13\nC:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n-Xms40m\n-Xmx512m\n-XX:MaxPermSize=256m\n-jar C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.30v20120522-1813.jar\n-os win32\n-ws win32\n-arch x86_64\n-showsplash C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\\\plugins\\org.eclipse.platform_4.2.0.v201206081400\\splash.bmp\n-launcher C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\eclipse.exe\n-name Eclipse\n--launcher.library C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\\\plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.200.v201205221813\\eclipse_1503.dll\n-startup C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.30v20120522-1813.jar\n--launcher.overrideVmargs\n-exitdata 1e30_5c\n-vm C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n-vmargs\n-Xms40m\n-Xmx512m\n-XX:MaxPermSize=256m\n-jar C:\\Program Files\\Eclipse-SDK-4.2-win32-x86_64\\eclipse\\\\plugins/org.eclipse.equinox.launcher_1.30v20120522-1813.jar\n</code></pre>\n", "tags": ["java", "android", "eclipse", "windows"], "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_count": 33, "creation_date": 1342131811, "score": 548, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13", "answers": [{"body": "<p>Your version of Eclipse is 64-bit, based on the paths and filenames.\nHowever, the version of Java that it's picking up is 32-bit, as indicated by where it is coming from, indicated on this line:</p>\n\n<pre><code>-vm C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n</code></pre>\n\n<p><code>Program Files (x86)</code> is the folder where 64-bit Windows places <strong>32-bit</strong> programs.</p>\n\n<p><code>Program Files</code> is the folder where 64-bit Windows places <strong>64-bit</strong> programs.</p>\n\n<p>This can happen when a system has more than one JVM installed, as is often the case on Windows 64-bit (for example, the JRE download page uses the bit-ness of the browser to determine what bit-ness download to offer you, and many people use(d) 32-bit browsers even though they run 64-bit Windows).</p>\n\n<p>The best way to fix this, assuming you do in fact have 64-bit JRE or JDK on your system, is to specify in <code>eclipse.ini</code> exactly which JVM you want it to use. The instructions are detailed in <a href=\"https://wiki.eclipse.org/Eclipse.ini\">the Eclipse wiki page</a>, but basically you have to specify the <code>-vm</code> option in the ini file - make sure to read the wiki page carefully as the format is very specific.</p>\n\n<p>Specifying the JVM path in <code>eclipse.ini</code> is strongly recommended because doing so isolates Eclipse from any potential changes to your system <code>PATH</code> that some program installers might make (I'm talking to you, Oracle!).</p>\n\n<p>Another option would be to download and use 32-bit Eclipse instead of 64-bit, but it's still strongly recommended to specify the path to the JVM in <code>eclipse.ini</code>.</p>\n\n<hr>\n\n<p><em>Left for historical reference</em>:</p>\n\n<p>To check your version of Java, run </p>\n\n<pre>\n  java -version \n</pre>\n\n<p>in a console (command prompt). On Windows 7 with 64-bit Java 6 I get:</p>\n\n<pre>\n  java version \"1.6.0_27\"\n  Java(TM) SE Runtime Environment (build 1.6.0_27-b07)\n  Java HotSpot(TM) 64-Bit Server VM (build 20.2-b06, mixed mode)\n</pre>\n\n<p>Note the 3rd line, which shows that this is a 64-bit version. </p>\n\n<p>On a 32-bit version you'll get something like:</p>\n\n<pre>\n  Java HotSpot(TM) Client VM (build 20.1-b02, mixed mode, sharing) \n</pre>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 11461676, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/11461676#11461676", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>It could be due to less memory. You can modify the eclipse.ini file to increase the memory. Something like this might help you : <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F\" rel=\"nofollow\">http://wiki.eclipse.org/FAQ_How_do_I_increase_the_heap_size_available_to_Eclipse%3F</a></p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 11461761, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/11461761#11461761", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>the solution is simple, put the \"eclipse\" folder on \"c:/Program Files\" if it does not work put it in \"c:/Program Files (x86)\"</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 13060451, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/13060451#13060451", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>The strangest fix ever. look at your eclipse path, and make sure you do not have strange characters (<code>like !,#,@</code>). worked for me.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 13701215, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/13701215#13701215", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had same issue <strong>Java was started but returned exit code=13</strong>. My solution was to create environment variable to Windows properties <em>variable name</em> = PATH <em>variable value</em> = <strong>C:\\Program Files\\Java\\jdk1.7.0_02\\bin</strong> not to <strong>C:\\Program Files (x86)\\Java\\jre7\\bin</strong>.</p>\n\n<p>Next i put line to eclipse.ini --> C:\\Program Files\\Java\\jdk1.7.0_02\\bin\\javaw.exe.</p>\n\n<p>That works for me.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 14476165, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/14476165#14476165", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>Make sure you don't have special characters (<code>%</code>, <code>$</code>, <code>#</code>, etc.) at Eclipse path.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 16770938, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/16770938#16770938", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had the same problem. i was using windows8 with 64 bit OS. I just changed the path to Program Files(*86) and then it started work.\nI put this line in eclipse.ini file like,</p>\n\n<pre><code>-vm\n C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n</code></pre>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 25174911, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/25174911#25174911", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I uninstalled java update 25, so that issue solved</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26480143, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26480143#26480143", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>This might happen if you have several versions of java in the same machine, to fix this i did the following:</p>\n\n<ol>\n<li>Checked current JAVA_HOME value, in Windows echo %JAVA_HOME%</li>\n<li>Accessed the route of javaw.exe</li>\n<li>Replaced the shortcuts pointing to java home location.</li>\n</ol>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26491116, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26491116#26491116", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>If you install a 64 bit Eclipse Version on a PC with a 32 bit JRE this is guarantee to occur. So the solution is quite straight forward: You need to sync them by updating either one. This shall happen when downloading oracle fusion middleware and the eclipse expects a 32 bit env while your JRE is 64 bit  and your JAVA home is pointing a 64 bit JDK.  </p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26524425, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26524425#26524425", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I found I had installed 32-bit Eclipse by mistake, and was trying to use it with a 64-bit JRE, which is why I got this error. To see whether you have 32 or 64 bit Eclipse installed, see this answer: <a href=\"http://stackoverflow.com/a/9578565/191761\">http://stackoverflow.com/a/9578565/191761</a></p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26591537, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26591537#26591537", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>If you have recently installed Java 8 and uninstalled Java 7, install JDK 8 and retry.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26655172, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26655172#26655172", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I got this error, and found that my PATH variable (on Windows) was probably changed. First in my PATH was this entry:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\javapath\n</code></pre>\n\n<p>..and eclipse ran <code>\"C:\\ProgramData\\Oracle\\Java\\javapath\\javaw\"</code> - which gave the error. I suspect that this is something that came along with an installation of Java 8.</p>\n\n<p>I have several java versions installed (6,7 and 8), so I removed that entry from the PATH and tried to restart Eclipse again, which worked fine.</p>\n\n<p><a href=\"https://java.com/en/download/help/path.xml\">Instructions on how to edit PATH variable</a></p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26709519, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26709519#26709519", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I have just solved the same issue upon setting up my Windows 8.1 PC. Exactly like @George Papatheodorou mentioned above (sorry I cannot add a comment), Eclipse and JRE must be both 64 bit or 32 bit.</p>\n\n<p>However, it seems for Windows 8/8.1 environment, you are going to get 32-bit JRE by default(and I do not know where to change that default for the download), as explained here: <a href=\"http://java.com/en/download/faq/win8_faq.xml\" rel=\"nofollow\">http://java.com/en/download/faq/win8_faq.xml</a></p>\n\n<p>I was using 64-bit Eclipse so there was a discrepancy. I then installed 32-bit Eclipse and everything works fine this time.</p>\n\n<p>So before bothering changing any environment variables, check your JRE and Eclipse version.</p>\n\n<p>UPDATE: of course you can use 64-bit JRE with 64-bit Eclipse. Just make sure they match because Windows 8.1 will give you 32-bit by default.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26784435, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26784435#26784435", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I was facing same Issue. I had installed version 8 and update 25 32 bit.\nTo fix install Java SE Development Kit 7 Update 71 (64 bit). Then through appwiz.cpl delete the other version i.e. Java Update 25. Done.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 26996874, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/26996874#26996874", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I tried some of above solutions, but not worked for me.</p>\n\n<p>finally I found another way, .......</p>\n\n<p>Go to <strong>Environment Variables</strong> ->  <strong>system variables</strong></p>\n\n<p>set <strong>C:\\Program Files\\Java\\jdk1.7.0_02\\bin\\javaw.exe</strong> to the path in the system variables.</p>\n\n<p>Try it, worked for me...</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27099115, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27099115#27099115", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>For me the solution was to go into (on Windows 8.1):</p>\n\n<pre><code>System &gt; Advanced system setting &gt; Environment Variables \n</code></pre>\n\n<p>Under 'System variables' in the 'Path' variable there was the following first:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\javapath;\n</code></pre>\n\n<p>I removed this and Eclipse worked again!</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27265585, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27265585#27265585", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p><img src=\"http://i.stack.imgur.com/MWRJ5.png\" alt=\"enter image description here\"></p>\n\n<p>The issue fixed by doing the following steps,</p>\n\n<ol>\n<li><p>The eclipse finds the JAVA executables from<br>\n'C:\\ProgramData\\Oracle\\Java\\javapath' </p></li>\n<li><p>The folder structure will contain shortcuts to the below executables,<br>\ni. java.exe<br>\nii. javaw.exe<br>\niii. javaws.exe </p></li>\n<li><p>For me the executable paths were pointing to my <strong>Program Files(x86)</strong> (home for 32 bit applications) folder location </p></li>\n<li><p>I corrected it to <strong>Program Files</strong> (which homes 64 bit applications) and the issue got resolved</p></li>\n</ol>\n\n<p>Please find the screenshot for the same.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27462141, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27462141#27462141", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had <code>x64</code> bit <code>JDK</code>. There was nothing in my <code>path settings</code>. So I installed <code>x86 JDK</code>. This solved my problem perfectly. Thanks all above.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27490683, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27490683#27490683", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I tried following solution:</p>\n\n<p>I created a shortcut of javaw.exe from path <strong>C:\\Program Files\\Java\\jdk1.7.0_71\\bin</strong></p>\n\n<p>and paste it into this path <strong>C:\\ProgramData\\Oracle\\Java\\javapath</strong></p>\n\n<p>After that launch Eclipse and it worked for me</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27544174, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27544174#27544174", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>If nothing works, then the last solution you can try is to completely uninstall java from your computer and then install it again, and make sure the path variables are set correctly.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27655008, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27655008#27655008", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had this issue.  I installed Java 8 update 25 via Chrome, and therafter attempting to start Eclipse gave the mentioned error.</p>\n\n<p>Uninstalled that update, and Eclipse works again.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 27808713, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/27808713#27808713", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had similar error after installing Java 8 on my Win 7, 64 bit system. Changing Environment variables etc did not help. So I tried to remove the Java Update 8 but that too did not help. What fixed my problem was downloading 64 bit version of Java 8 SDK. I hope this helps.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 28111567, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/28111567#28111567", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had the same issue after I upgrade my jdk from 1.7 to 1.8. I'm using eclipse luna. The error is gone after I degrade jdk to 1.7.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 28396802, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/28396802#28396802", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>The best answer here is too long. I cannot comment so i add my answer.\n1. Go here:\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>\n2. Download the latest sdk (of course for x64 if your computer is x64)\n3. install it\n4. now the party is finished, it's time to work with eclipse ;)</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 28427832, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/28427832#28427832", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>A clean reinstall of the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">Java JDK</a> did the trick in my case. Running <a href=\"https://projects.eclipse.org/releases/luna\">Eclipse Luna</a> like a charm now.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 28499951, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/28499951#28499951", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I had this message when I had forgot to install the JDK.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 28646547, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/28646547#28646547", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I also encountered the same issue. It turned out that the environment variable <strong>Path</strong> was pointing to an incorrect java version.</p>\n\n<p>Please check the environment variable and point it to correct java i.e For example: </p>\n\n<pre><code>c:\\Program Files (x86)\\Java\\jdk1.6.0_17\\bin\n</code></pre>\n\n<p>To check the environment variable go to:</p>\n\n<pre><code>Computer -&gt; properties -&gt; Advanced system settings -&gt; Advanced -&gt; Environment variables\n</code></pre>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 29027006, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/29027006#29027006", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>Adding vm argument to .ini file worked for me</p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.7.0_65\\bin\\javaw.exe\n</code></pre>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 29078519, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/29078519#29078519", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>It turned out I only had the 32bit Java Runtime installed. </p>\n\n<pre><code>C:\\Program Files (x86)\\Java\\jre1.8.0_45\\\n</code></pre>\n\n<p>All Eclipse really wanted was for me to install the 64bit Java Runtime. &lt;= SOLVED</p>\n\n<pre><code>Java SE Runtime Environment 8u45  jdk-8u45-windows-x64.exe\n</code></pre>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html</a></p>\n\n<p>Confirm your installation by checking you now have this folder</p>\n\n<pre><code>C:\\Program Files\\Java\\jre1.8.0_45\\\n</code></pre>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 30971509, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/30971509#30971509", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>This type of errors occur basically due to use of different versions of java with different version of eclipse.</p>\n\n<p>Suppose you are installing 64 bit jdk on your system then make sure you install 64 bit versioned eclipse with it.\nAnd if you are installing 32 bit jdk on your system then make sure you install 32 bit versioned eclipse with it.</p>\n\n<p>I had the similar problem.I have installed 32 bit jdk and was trying to use 64 bit eclipse.</p>\n\n<p>But when I installed 64 bit jdk on my system then eclipse started working without any problem.</p>\n\n<p>It is advised to better install 32 bit version java along with 32 bit version eclipse on a system with 32 bit configuration and similarly for 64 bit systems.\nThis helps to increase performance of the system.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 31641242, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/31641242#31641242", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>I've solved this issue by installing a JDK (v7 update 80) whereas I had only had the JRE installed before.</p>\n\n<p>Note: this was for IBM's RTC software (built on eclipse)</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 34935339, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/34935339#34935339", "tags": ["java", "android", "eclipse", "windows"]}, {"body": "<p>Top answer didn't work for me: I had no environment variables defining java path or no java in my path. However the path C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe was always present in the eclipse mars error popup in the -vm option even if I tried to override in the eclipse.ini.</p>\n\n<p>I workaround this by opening a command prompt, cd'ing the directory where the eclipse.exe was and:</p>\n\n<pre><code>C:\\EclipseMars&gt;mklink javaw.exe \"C:\\Program Files\\Java\\jdk1.7.0_79\\bin\"\nsymbolic link created for javaw.exe &lt;&lt;===&gt;&gt; C:\\Program Files\\Java\\jdk1.7.0_79\\bin\n</code></pre>\n\n<p>no changes to eclipse.ini were required.\nI did try to specify the -vm option of in eclipse.ini and it was taken into account but in the error popup a -vm option was present twice even if only one -vm was present in the eclipse.ini.\nIn my eclipse.ini I have no -vm option and just the simlink seems to have corrected it.</p>\n", "title": "Can&#39;t start Eclipse - Java was started but returned exit code=13", "answer_id": 37477815, "link": "http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13/37477815#37477815", "tags": ["java", "android", "eclipse", "windows"]}], "question_id": 11461607}, {"body": "<p>In my office, the mere mention of the word Xerces is enough to incite murderous rage from developers. A cursory glance at the other Xerces questions on SO seem to indicate that almost all Maven users are \"touched\" by this problem at some point.  Unfortunately, understanding the problem requires a bit of knowledge about the history of Xerces...</p>\n\n<h1>History</h1>\n\n<ul>\n<li><p>Xerces is the most widely used XML parser in the Java ecosystem.  Almost every library or framework written in Java uses Xerces in some capacity (transitively, if not directly).</p></li>\n<li><p>The Xerces jars included in the <a href=\"http://xerces.apache.org/mirrors.cgi#binary\">official binaries</a> are, to this day, not versioned.  For example, the Xerces 2.11.0 implementation jar is named <code>xercesImpl.jar</code> and not <code>xercesImpl-2.11.0.jar</code>.</p></li>\n<li><p>The Xerces team <a href=\"https://issues.apache.org/jira/browse/XERCESJ-1454?focusedCommentId=12881865&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3acomment-tabpanel#comment-12881865\">does not use Maven</a>, which means they do not\nupload an official release to <a href=\"http://search.maven.org/\">Maven Central</a>.</p></li>\n<li><p>Xerces used to be <a href=\"http://xerces.apache.org/xerces2-j/faq-general.html#faq-3\">released as a single jar</a> (<code>xerces.jar</code>), but was split into two jars, one containing the API (<code>xml-apis.jar</code>) and one containing the implementations of those APIs (<code>xercesImpl.jar</code>).  Many older Maven POMs still declare a dependency on <code>xerces.jar</code>.  At some point in the past, Xerces was also released as <code>xmlParserAPIs.jar</code>, which some older POMs also depend on.</p></li>\n<li><p>The versions assigned to the xml-apis and xercesImpl jars by those who deploy their jars to Maven repositories are often different.  For example, xml-apis might be given version 1.3.03 and xercesImpl might be given version 2.8.0, even though both are from Xerces 2.8.0.  This is because people often tag the xml-apis jar with the version of the specifications that it implements.  There is a very nice, but incomplete breakdown of this <a href=\"http://swordsystems.com/2011/06/29/xerces-and-xml-api-dependency-hell/\">here</a>.</p></li>\n<li><p>To complicate matters, Xerces is the XML parser used in the reference implementation of the Java API for XML Processing (JAXP), included in the JRE. The implementation classes are repackaged under the <code>com.sun.*</code> namespace, which makes it dangerous to access them directly, as they may not be available in some JREs.  However, not all of the Xerces functionality is exposed via the <code>java.*</code> and <code>javax.*</code> APIs; for example, there is no API that exposes Xerces serialization. </p></li>\n<li><p>Adding to the confusing mess, almost all servlet containers (JBoss, Jetty, Glassfish, Tomcat, etc.), ship with Xerces in one or more of their <code>/lib</code> folders.</p></li>\n</ul>\n\n<h1>Problems</h1>\n\n<h3>Conflict Resolution</h3>\n\n<p>For some -- or perhaps all -- of the reasons above, many\norganizations publish and consume custom builds of Xerces in their\nPOMs.  This is not really a problem if you have a small application and are only using Maven Central, but it quickly becomes an issue for enterprise software where Artifactory or Nexus is proxying multiple repositories (JBoss, Hibernate, etc.):\n<img src=\"http://i.stack.imgur.com/Fe9Xa.png\" alt=\"xml-apis proxied by Artifactory\"> </p>\n\n<p>For example, organization A might publish xml-apis as:  </p>\n\n<p><code>&lt;groupId&gt;org.apache.xerces&lt;/groupId&gt;</code><br/>\n<code>&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;</code><br/>\n<code>&lt;version&gt;2.9.1&lt;/version&gt;</code></p>\n\n<p>Meanwhile, organization B might publish the same jar as:</p>\n\n<p><code>&lt;groupId&gt;xml-apis&lt;/groupId&gt;</code><br/>\n<code>&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;</code><br/>\n<code>&lt;version&gt;1.3.04&lt;/version&gt;</code></p>\n\n<p>Although B's jar is a lower version than A's jar, Maven does not know\nthat they are the same artifact because they have different\n<code>groupId</code>s.  Thus, it cannot perform conflict resolution and both\njars will be included as resolved dependencies:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4X1ts.png\" alt=\"resolved dependencies with multiple xml-apis\"></p>\n\n<h3>Classloader Hell</h3>\n\n<p>As mentioned above, the JRE ships with Xerces in the JAXP RI.  While it would be nice to mark all Xerces Maven dependencies as <code>&lt;exclusion&gt;</code>s or as <code>&lt;provided&gt;</code>, the third-party code you depend on may or may not work with the version provided in JAXP of the JDK you're using.  In addition, you have the Xerces jars shipped in your servlet container to contend with. This leaves you with a number of choices: Do you delete the servlet version and hope that your container runs on the JAXP version? Is it better to leave the servlet version, and hope that your application frameworks run on the servlet version? If one or two of the unresolved conflicts outlined above manage to slip into your product (easy to happen in a large organization), you quickly find yourself in classloader hell, wondering which version of Xerces the classloader is picking at runtime and whether or not it will pick the same jar in Windows and Linux (probably not).</p>\n\n<h1>Solutions?</h1>\n\n<p>We've tried marking all Xerces Maven dependencies as <code>&lt;provided&gt;</code> or as an <code>&lt;exclusion&gt;</code>, but this is difficult to enforce (especially with a large team) given that the artifacts have so many aliases (xml-apis, xerces, xercesImpl, xmlParserAPIs, etc.).  Additionally, our third party libs/frameworks may not run on the JAXP version or the version provided by a servlet container.</p>\n\n<p><strong>How can we best address this problem with Maven?  Do we have to exercise such fine-grained control over our dependencies, and then rely on tiered classloading?  Is there some way to globally exclude all Xerces dependencies, and force all of our frameworks/libs to use the JAXP version?</strong></p>\n\n<hr>\n\n<p><strong>UPDATE</strong>: Joshua Spiewak has uploaded a patched version of the Xerces build scripts to <a href=\"https://issues.apache.org/jira/browse/XERCESJ-1454\">XERCESJ-1454</a> that allows for upload to Maven Central.  Vote/watch/contribute to this issue and let's fix this problem once and for all.</p>\n", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"], "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_count": 9, "creation_date": 1343334779, "score": 464, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven", "answers": [{"body": "<p>I guess there is one question you need to answer:</p>\n\n<p><strong>Does there exist a xerces*.jar that everything in your application can live with?</strong></p>\n\n<p>If not you are basically screwed and would have to use something like OSGI, which allows you to have different versions of a library loaded at the same time. Be warned that it basically replaces jar version issues with classloader issues ...</p>\n\n<p>If there exists such a version you could make your repository return that version for all kinds of dependencies. It's an ugly hack and would end up with the same xerces implementation in your classpath multiple times but better than having multiple different versions of xerces.</p>\n\n<p>You could exclude every dependency to xerces and add one to the version you want to use.</p>\n\n<p>I wonder if you can write some kind of version resolution strategy as a plugin for maven. This would probably the nicest solution but if at all feasible needs some research and coding.</p>\n\n<p>For the version contained in your runtime environment, you'll have to make sure it either gets removed from the application classpath or the application jars get considered first for classloading before the lib folder of the server get considered.</p>\n\n<p>So to wrap it up: It's a mess and that won't change.</p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 11677807, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/11677807#11677807", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>Frankly, pretty much everything that we've encountered works just fine w/ the JAXP version, so we <em>always</em> exclude xml-apis and xercesImpl.</p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 11678874, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/11678874#11678874", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>You could use the maven enforcer plugin with the banned dependency rule.  This would allow you to ban all the aliases that you don't want and allow only the one you do want.  These rules will fail the maven build of your project when violated.  Furthermore, if this rule applies to all projects in an enterprise you could put the plugin configuration in a corporate parent pom.</p>\n\n<p>see:</p>\n\n<ul>\n<li><a href=\"http://maven.apache.org/plugins/maven-enforcer-plugin/\">http://maven.apache.org/plugins/maven-enforcer-plugin/</a></li>\n<li><a href=\"http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html\">http://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html</a></li>\n</ul>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 11691896, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/11691896#11691896", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>There are 2.11.0 JARs <strong>(and source JARs!)</strong> of xerces in Maven Central since 20th February 2013! See <a href=\"http://search.maven.org/#artifactdetails|xerces|xercesImpl|2.11.0|jar\">Xerces in Maven Central</a>. I wonder why they haven't resolved <a href=\"https://issues.apache.org/jira/browse/XERCESJ-1454\">https://issues.apache.org/jira/browse/XERCESJ-1454</a>...</p>\n\n<p>I've used:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and all dependencies have resolved fine - even proper <code>xml-apis-1.4.01</code>!</p>\n\n<p>And what's most important (and what wasn't obvious in the past) - the JAR in Maven Central is <strong>the same JAR as in the official <code>Xerces-J-bin.2.11.0.zip</code> distribution</strong>.</p>\n\n<p>I couldn't however find <code>xml-schema-1.1-beta</code> version - it can't be a Maven <code>classifier</code>-ed version because of additional dependencies.</p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 15265458, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/15265458#15265458", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>What would help, except for excluding, is modular dependencies.</p>\n\n<p>With one flat classloading (standalone app), or <a href=\"https://community.jboss.org/wiki/JBossClassLoaderHistory\" rel=\"nofollow\">semi-hierarchical (JBoss AS/EAP 5.x)</a> this was a problem.</p>\n\n<p>But with modular frameworks like <a href=\"http://en.wikipedia.org/wiki/OSGi\" rel=\"nofollow\">OSGi</a> and <a href=\"http://planet.jboss.org/view/post.seam?post=modularized_java_with_jboss_modules\" rel=\"nofollow\">JBoss Modules</a>, this is not so much pain anymore. The libraries may use whichever library they want, independently.</p>\n\n<p>Of course, it's still most recommendable to stick with just a single implementation and version, but if there's no other way (using extra features from more libs), then modularizing might save you.</p>\n\n<p>A good example of JBoss Modules in action is, naturally, <a href=\"https://docs.jboss.org/author/display/MODULES/Module+descriptors\" rel=\"nofollow\">JBoss AS 7</a> / <a href=\"http://www.jboss.org/products/eap\" rel=\"nofollow\">EAP 6</a> / <a href=\"http://www.wildfly.org/\" rel=\"nofollow\">WildFly 8</a>, for which it was primarily developed.</p>\n\n<p>Example module definition:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module xmlns=\"urn:jboss:module:1.1\" name=\"org.jboss.msc\"&gt;\n    &lt;main-class name=\"org.jboss.msc.Version\"/&gt;\n    &lt;properties&gt;\n        &lt;property name=\"my.property\" value=\"foo\"/&gt;\n    &lt;/properties&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=\"jboss-msc-1.0.1.GA.jar\"/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=\"javax.api\"/&gt;\n        &lt;module name=\"org.jboss.logging\"/&gt;\n        &lt;module name=\"org.jboss.modules\"/&gt;\n        &lt;!-- Optional deps --&gt;\n        &lt;module name=\"javax.inject.api\" optional=\"true\"/&gt;\n        &lt;module name=\"org.jboss.threads\" optional=\"true\"/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>In comparison with OSGi, JBoss Modules is simpler and faster. While missing certain features, it's sufficient for most projects which are (mostly) under control of one vendor, and allow stunning fast boot (due to paralelized dependencies resolving).</p>\n\n<p><em>Note that there's a <a href=\"http://www.slideshare.net/mfrancis/java-8-modules-jigsaw-and-osgi-neil-bartlett\" rel=\"nofollow\">modularization effort underway for Java 8</a>, but AFAIK that's primarily to modularize the JRE itself, not sure whether it will be applicable to apps.</em></p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 17246926, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/17246926#17246926", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>I know this doesn't answer the question exactly, but for ppl coming in from google that happen to use Gradle for their dependency management:</p>\n\n<p>I managed to get rid of all xerces/Java8 issues with Gradle like this:</p>\n\n<pre><code>configurations {\n    all*.exclude group: 'xml-apis'\n    all*.exclude group: 'xerces'\n}\n</code></pre>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 29840656, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/29840656#29840656", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>There is another option that hasn't been explored here: declaring Xerces dependencies in Maven as <em>optional</em>:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;xerces&lt;/groupId&gt;\n   &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n   &lt;version&gt;...&lt;/version&gt;\n   &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Basically what this does is to force all dependents to declare <em>their</em> version of Xerces or their project won't compile. If they want to override this dependency, they are welcome to do so, but then they will own the potential problem.</p>\n\n<p>This creates a strong incentive for downstream projects to:</p>\n\n<ul>\n<li>Make an active decision. Do they go with the same version of Xerces or use something else?</li>\n<li>Actually test their parsing (e.g. through unit testing) and classloading as well as not to clutter up their classpath. </li>\n</ul>\n\n<p>Not all developers keep track of newly introduced dependencies (e.g. with <code>mvn dependency:tree</code>). This approach will immediately bring the matter to their attention.</p>\n\n<p>It works quite well at our organization. Before its introduction, we used to live in the same hell the OP is describing.</p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 32904715, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/32904715#32904715", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>Every maven project should stop depending on xerces,  they probably don't really. XML APIs and an Impl has been part of Java since 1.4. There is no need to depend on xerces or XML APIs, its like saying you depend on Java or Swing.  This is implicit.</p>\n\n<p>If I was boss of a maven repo I'd write a script to recursively remove xerces dependencies and write a read me that says this repo requires Java 1.4.</p>\n\n<p>Anything that actually breaks because it references Xerces directly via org.apache imports needs a code fix to bring it up to Java 1.4 level (and has done since 2002) or solution at JVM level via endorsed libs, not in maven.</p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 35223700, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/35223700#35223700", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}, {"body": "<p>I debugging first to help identify your level of XML hell. In my opinion, the first step is to add </p>\n\n<pre><code>-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\n-Djavax.xml.transform.TransformerFactory=com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\n-Djavax.xml.parsers.DocumentBuilderFactory=com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\n</code></pre>\n\n<p>to the command line. If that works, then start excluding libraries. If not, then add </p>\n\n<pre><code>-Djaxp.debug=1\n</code></pre>\n\n<p>to the command-line.</p>\n", "title": "Dealing with &quot;Xerces hell&quot; in Java/Maven?", "answer_id": 37814020, "link": "http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven/37814020#37814020", "tags": ["java", "maven", "classloader", "dependency-management", "xerces"]}], "question_id": 11677572}, {"body": "<p>The interviewer asked - Can we instantiate an abstract class? I said, No. He told me - Wrong, we can. </p>\n\n<p>I argued a bit on this. Then he told me to try this yourself at your home. </p>\n\n<pre><code>abstract class my {\n    public void mymethod() {\n        System.out.print(\"Abstract\");\n    }\n}\n\nclass poly {\n    public static void main(String a[]) {\n        my m = new my() {};\n        m.mymethod();\n    }\n}\n</code></pre>\n\n<p>Here, I'm creating instance of my class and calling method of abstract class. Can anyone please explain this to me? Was I really wrong during my interview?</p>\n", "tags": ["java", "oop", "class", "object", "abstract"], "title": "Interview: Can we instantiate abstract class?", "answer_count": 15, "creation_date": 1354464118, "score": 426, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class", "answers": [{"body": "<blockquote>\n  <p>Here, i'm creating instance of my class</p>\n</blockquote>\n\n<p>No, you are not creating the instance of your abstract class here. Rather you are creating an instance of an <em>anonymous subclass</em> of your abstract class. And then you are invoking the method on your <em>abstract class</em> reference pointing to <em>subclass object</em>.</p>\n\n<p>This behaviour is clearly listed in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9\">JLS - Section # 15.9.1</a>: -</p>\n\n<blockquote>\n  <p>If the class instance creation expression ends in a class body, then\n  the class being instantiated is an anonymous class. Then: </p>\n  \n  <ul>\n  <li>If T denotes a class, then an anonymous direct subclass of the class    named by T is declared. It is a compile-time error if the\n  class    denoted by T is a final class.</li>\n  <li>If T denotes an interface, then an anonymous direct subclass of    Object that implements the interface named by T is declared.</li>\n  <li>In either case, the body of the subclass is the ClassBody given in    the class instance creation expression.</li>\n  <li><strong>The class being instantiated is the anonymous subclass.</strong></li>\n  </ul>\n</blockquote>\n\n<p>Emphasis mine.</p>\n\n<p>Also, in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5\">JLS - Section # 12.5</a>, you can read about the <em>Object Creation Process</em>. I'll quote one statement from that here: -</p>\n\n<blockquote>\n  <p>Whenever a new class instance is created, memory space is allocated\n  for it with room for all the instance variables declared in the class\n  type and all the instance variables declared in each superclass of the\n  class type, including all the instance variables that may be hidden.</p>\n  \n  <p>Just before a reference to the newly created object is returned as the\n  result, the indicated constructor is processed to initialize the new\n  object using the following procedure:</p>\n</blockquote>\n\n<p>You can read about the complete procedure on the link I provided.</p>\n\n<hr>\n\n<p>To practically see that the class being instantiated is an <em>Anonymous SubClass</em>, you just need to compile both your classes. Suppose you put those classes in two different files:</p>\n\n<p><strong>My.java:</strong></p>\n\n<pre><code>abstract class My {\n    public void myMethod() {\n        System.out.print(\"Abstract\");\n    }\n}\n</code></pre>\n\n<p><strong>Poly.java:</strong></p>\n\n<pre><code>class Poly extends My {\n    public static void main(String a[]) {\n        My m = new My() {};\n        m.myMethod();\n    }\n}\n</code></pre>\n\n<p>Now, compile both your source files:</p>\n\n<pre><code>javac My.java Poly.java\n</code></pre>\n\n<p>Now in the directory where you compiled the source code, you will see the following class files:</p>\n\n<pre><code>My.class\nPoly$1.class  // Class file corresponding to anonymous subclass\nPoly.class\n</code></pre>\n\n<p>See that class - <code>Poly$1.class</code>. It's the class file created by the compiler corresponding to the anonymous subclass you instantiated using the below code:</p>\n\n<pre><code>new My() {};\n</code></pre>\n\n<p>So, it's clear that there is a different class being instantiated. It's just that, that class is given a name only after compilation by the compiler.</p>\n\n<p>In general, all the anonymous subclasses in your class will be named in this fashion:</p>\n\n<pre><code>Poly$1.class, Poly$2.class, Poly$3.class, ... so on\n</code></pre>\n\n<p>Those numbers denote the order in which those anonymous classes appear in the enclosing class.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 13671003, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/13671003#13671003", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>The above instantiates an anonymous inner class which is a subclass of the <code>my</code> abstract class. It's not strictly equivalent to instantiating the abstract class itself. OTOH, every subclass instance is an instance of all its superclasses and interfaces, so most abstract classes are indeed instanciated by instantiating one of their concrete subclass.</p>\n\n<p>If the interviewer just said \"wrong!\" without explaining, and gave this example as a unique counter-example, I think he doesn't know what he's talking about, though.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 13671010, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/13671010#13671010", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p><code>= my() {};</code> means that there's an anonymous implementation, not simple instantiation of an object, which should have been : <code>= my()</code>. You can never instantiate an abstract class.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 13671225, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/13671225#13671225", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>Abstract classes cannot be instantiated, but they can be subclassed. <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\">See This Link</a></p>\n\n<p>The best example is </p>\n\n<p>Although <strong>Calender class has a abstract method getInstance()</strong>, but when you say <code>Calendar calc=Calendar.getInstance();</code></p>\n\n<p><strong>calc is referring to the class instance of class GregorianCalendar as \"GregorianCalendar extends Calendar</strong> \" </p>\n\n<p>Infact <strong>annonymous inner type</strong>  <strong>allows you to create a no-name subclass of the abstract class</strong> and an instance of this.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 13680144, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/13680144#13680144", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>Just observations you could make:</p>\n\n<ol>\n<li>Why <code>poly</code> extends <code>my</code>? This is useless...</li>\n<li>What is the result of the compilation? Three files: <code>my.class</code>, <code>poly.class</code> and <code>poly$1.class</code></li>\n<li>If we can instantiate an abstract class like that, we can instantiate an interface too... weird...</li>\n</ol>\n\n<p><br/></p>\n\n<p><strong>Can we instantiate an abstract class?</strong></p>\n\n<p>No, we can't. What we can do is, create an anonymous class (that's the third file) and instantiate it.</p>\n\n<p><br/></p>\n\n<p><strong>What about a super class instantiation?</strong></p>\n\n<p>The abstract super class is not instantiated by <strong>us</strong> but by java.</p>\n\n<p><strong>EDIT: Ask him to test this</strong></p>\n\n<pre><code>public static final void main(final String[] args) {\n    final my m1 = new my() {\n    };\n    final my m2 = new my() {\n    };\n    System.out.println(m1 == m2);\n\n    System.out.println(m1.getClass().toString());\n    System.out.println(m2.getClass().toString());\n\n}\n</code></pre>\n\n<p>output is:</p>\n\n<pre><code>false\nclass my$1\nclass my$2\n</code></pre>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 13747775, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/13747775#13747775", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>You can simply answers, in just one line</p>\n\n<blockquote>\n  <p><strong>No</strong>, you can never instance Abstract Class </p>\n</blockquote>\n\n<p>But, interviewer still not agree, then you can tell him/her</p>\n\n<blockquote>\n  <p>all you can do is, you can create an Anonymous Class.</p>\n</blockquote>\n\n<p>And, according to Anonymous class, <strong>class declared and instantiate at the same place/line</strong> </p>\n\n<p>So, it might be possible that, interviewer would be interested to check your confidence level and how much you know about the OOPs . </p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 13756784, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/13756784#13756784", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>It is a well-established fact that <code>abstract class</code> can <strong>not</strong> be instantiated as everyone answered.</p>\n\n<p>When the program defines anonymous class, the compiler actually creates a new class with different name (has the pattern <code>EnclosedClassName$n</code> where <code>n</code> is the anonymous class number)</p>\n\n<p>So if you decompile this Java class you will find the code as below:</p>\n\n<p>my.class</p>\n\n<pre><code>abstract class my { \n    public void mymethod() \n    { \n        System.out.print(\"Abstract\"); \n    }\n} \n</code></pre>\n\n<p>poly$1.class (the generated class of the \"anonymous class\")</p>\n\n<pre><code>class poly$1 extends my \n{\n} \n</code></pre>\n\n<p>ploly.cass</p>\n\n<pre><code>public class poly extends my\n{\n    public static void main(String[] a)\n    {\n        my m = new poly.1(); // instance of poly.1 class NOT the abstract my class\n\n        m.mymethod();\n    }\n}\n</code></pre>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 14874984, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/14874984#14874984", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p><strong>Technical Answer</strong></p>\n\n<p>Abstract classes cannot be instantiated - this is by definition and design.</p>\n\n<p>From the JLS, Chapter 8. Classes:</p>\n\n<blockquote>\n  <p><em>A named class may be declared abstract (\u00a78.1.1.1) and must be declared\n  abstract if it is incompletely implemented; such a class cannot be\n  instantiated, but can be extended by subclasses.</em></p>\n</blockquote>\n\n<p>From JSE 6 java doc for Classes.newInstance():</p>\n\n<blockquote>\n  <p><em>InstantiationException - if this Class represents an abstract class, an interface, an array\n  class, a primitive type, or void; or if the class has no nullary constructor; or if the \n  instantiation fails for some other reason.</em></p>\n</blockquote>\n\n<p>You can, of course, instantiate a concrete subclass of an abstract class (including an anonymous subclass) and also carry out a typecast of an object reference to an abstract type.</p>\n\n<p><strong>A Different Angle On This - Teamplay &amp; Social Intelligence:</strong></p>\n\n<p>This sort of technical misunderstanding happens frequently in the real world when we deal with complex technologies and legalistic specifications.  </p>\n\n<p>\"People Skills\" can be more important here than \"Technical Skills\".  If competitively and aggressively trying to prove your side of the argument, then you could be theoretically right, but you could also do more damage in having a fight / damaging \"face\" / creating an enemy than it is worth.  Be reconciliatory and understanding in resolving your differences.  Who knows - maybe you're \"both right\" but working off slightly different meanings for terms??  </p>\n\n<p>Who knows - though not likely, it is possible the interviewer deliberately introduced a small conflict/misunderstanding to put you into a challenging situation and see how you behave emotionally and socially.  Be gracious and constructive with colleagues, follow advice from seniors, and follow through after the interview to resolve any challenge/misunderstanding - via email or phone call.  Shows you're motivated and detail-oriented.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 15469187, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/15469187#15469187", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>Extending a class doesn't mean that you are instantiating the class.  Actually in your case what you are doing is creating an instance of the subclass, \nI am pretty sure that Abstract classes are made to not allow initiating , SO I say no you can't instantiate a Abstract class. All you can do is to extend it or inherit it. </p>\n\n<p>You can't directly instantiate an Abstract class, But It doesn't mean that you can't get an instance of class(not actully an instace of  original abstract class) Indirectly , I mean you can not instaintite the orginial abstract class but you can create an Empty class and inherit it from Abstract class then Instantiated the dervied class , so you get access to all the methods and properties in Abstract class via the derived class instance</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 19754710, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/19754710#19754710", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p><strong>About Abstract Classes</strong></p>\n\n<p>can not create object of a abstract class</p>\n\n<p>can create variables (can behave like datatypes)</p>\n\n<p>if a child can not overide at least of one abstract method of the parent then child also becomes abstract</p>\n\n<p>Abstract classes are useless without child classes.</p>\n\n<p><strong>Purpose of a abstract class is to behave like baseses. ( note: In inheritance hierachy you will see abstract classes at the top )</strong></p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 20783430, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/20783430#20783430", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>No, you can't instantite an abstract class.We instantiate only anonymous class.In abstract class we declare abstract methods and define concrete methods only.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 20918243, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/20918243#20918243", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>It's impossible to instantiate an abstract class. \nWhat you realy can do, is implement some common methods in an abstract class and let others unimplemented (declaring them abstract) and let the concrete descenders implement them depending on theyr needs. \nThen you can make a factory, which returns an instance of this abstract class (actually his implementor). In the factory you then deside, which implementor to choose. This is known as factory design pattern:</p>\n\n<pre><code>   public abstract class AbstractGridManager {\n        private LifecicleAlgorithmIntrface lifecicleAlgorithm;\n        // ... more private fields\n\n        //Method implemented in concrete Manager implementors \n        abstract public Grid initGrid();\n\n        //Methods common to all implementors\n        public Grid calculateNextLifecicle(Grid grid){\n            return this.getLifecicleAlgorithm().calculateNextLifecicle(grid);\n        }\n\n        public LifecicleAlgorithmIntrface getLifecicleAlgorithm() {\n            return lifecicleAlgorithm;\n        }\n        public void setLifecicleAlgorithm(LifecicleAlgorithmIntrface lifecicleAlgorithm) {\n            this.lifecicleAlgorithm = lifecicleAlgorithm;\n        }\n        // ... more common logic and getters-setters pairs\n    }\n</code></pre>\n\n<p>The concrete implementor only needs to implement the methods declared as abstract but will have acces to the logic implemented in those classes in abstract class, which are not declared absract:</p>\n\n<pre><code>public class FileInputGridManager extends AbstractGridManager {\n\nprivate String filePath;\n\n//Method implemented in concrete Manager implementors \nabstract public Grid initGrid();\n\npublic Grid initGrid(String filePath) {\n    List&lt;Cell&gt; cells = new ArrayList&lt;&gt;();\n    char[] chars;\n    File file = new File(filePath); // for example foo.txt\n    // ... more logic\n    return grid;\n}\n}\n</code></pre>\n\n<p>Then finally the factory looks something like this:</p>\n\n<pre><code>public class GridManagerFactory {\n    public static AbstractGridManager getGridManager(LifecicleAlgorithmIntrface lifecicleAlgorithm, String... args){\n        AbstractGridManager manager = null;\n\n        // input from the command line\n        if(args.length == 2){\n            CommandLineGridManager clManager = new CommandLineGridManager();\n            clManager.setWidth(Integer.parseInt(args[0]));\n            clManager.setHeight(Integer.parseInt(args[1]));\n            // possibly more configuration logic\n            ...\n            manager = clManager;\n        } \n        // input from the file\n        else if(args.length == 1){\n            FileInputGridManager fiManager = new FileInputGridManager();\n            fiManager.setFilePath(args[0]);\n            // possibly more method calls from abstract class\n            ...\n            manager = fiManager ;\n        }\n        //... more possible concrete implementors\n        else{\n            manager = new CommandLineGridManager();\n        }\n        manager.setLifecicleAlgorithm(lifecicleAlgorithm);\n        return manager;\n    }\n}\n</code></pre>\n\n<p>The receiver of AbstractGridManager would call the methods on him and get the logic, implemented in the concrete descenders (and partually in the abstract class methods) without knowing what is the concrete implementation he got. This is also know like inversion of control or dependency injection </p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 24019964, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/24019964#24019964", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>The technical part has been well-covered in the other answers, and it mainly ends in:<br>\n \"He is wrong, he doesn't know stuff, ask him to join SO and get it all cleared :)\"  </p>\n\n<p>I would like to address the fact(which has been mentioned in other answers) that this might be a <a href=\"http://faze.ca/the-stress-interview-dealing-with-it/\">stress-question</a> and is an important tool for many interviewers to know more about you and how do you react to difficult and unusual situations. By giving you incorrect codes, he <em>probably</em> wanted to see if you argued back. To know whether you have the confidence to stand up against your seniors in situations similar to this.  </p>\n\n<p>P.S: I don't know why but I have a feeling that the interviewer has read this post.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 29484306, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/29484306#29484306", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p>No we can't create the object of abstract class but  create the reference variable of abstract class.The reference variable is used to refer to the objects of derived classes (Subclasses of Abstract class)</p>\n\n<p>Here is the example that illustrates this concept</p>\n\n<pre><code>abstract class Figure { \n\ndouble dim1; \n\ndouble dim2; \n\nFigure(double a, double b) { \n\ndim1 = a; \n\ndim2 = b; \n\n} \n\n// area is now an abstract method \n\nabstract double area(); \n\n}\n\n\nclass Rectangle extends Figure { \nRectangle(double a, double b) { \nsuper(a, b); \n} \n// override area for rectangle \ndouble area() { \nSystem.out.println(\"Inside Area for Rectangle.\"); \nreturn dim1 * dim2; \n} \n}\n\nclass Triangle extends Figure { \nTriangle(double a, double b) { \nsuper(a, b); \n} \n// override area for right triangle \ndouble area() { \nSystem.out.println(\"Inside Area for Triangle.\"); \nreturn dim1 * dim2 / 2; \n} \n}\n\nclass AbstractAreas { \npublic static void main(String args[]) { \n// Figure f = new Figure(10, 10); // illegal now \nRectangle r = new Rectangle(9, 5); \nTriangle t = new Triangle(10, 8); \nFigure figref; // this is OK, no object is created \nfigref = r; \nSystem.out.println(\"Area is \" + figref.area()); \nfigref = t; \nSystem.out.println(\"Area is \" + figref.area()); \n} \n}\n</code></pre>\n\n<p>Here we see that we can not create the object of  type Figure but we can create a reference variable of type Figure.Here we created a reference variable of type Figure and Figure Class reference variable is used to refer to the objects of  Class Rectangle and Triangle .</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 29781001, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/29781001#29781001", "tags": ["java", "oop", "class", "object", "abstract"]}, {"body": "<p><strong>You can said:</strong><br/> we can't instantiate an abstract class, but we can use <code>new</code> keyword to create an anonymous class instance by just adding <code>{}</code> as implement body at the the end of the abstract class.</p>\n", "title": "Interview: Can we instantiate abstract class?", "answer_id": 33916618, "link": "http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class/33916618#33916618", "tags": ["java", "oop", "class", "object", "abstract"]}], "question_id": 13670991}, {"body": "<p>Does anyone know how to implement a sliding menu like some of the top apps of today? </p>\n\n<p>Other Stack Overflow <a href=\"http://stackoverflow.com/questions/11328895/facebook-lide-slideout-menu-not-using-that-library\">questions</a> haven't had any answers on how to do this, so I'm trying to gather as much info to help out others. All the applications I mention below do a great job of implementing the slide menu.</p>\n\n<h2>1. Google Plus (as of 7/7/12)</h2>\n\n<p><img src=\"http://i.stack.imgur.com/Ue0LS.png\" alt=\"Google+ slide out menu screenshot\"></p>\n\n<p>You can only go from the first screen to the second screen by clicking the G+ logo in the upper left hand corner. Notice that the entire screen moves from it's position and get's nudged to the right side of the screen (including the action bar). To get back to the first screen you can either slide the right side back into focus or you can click the G+ icon again.</p>\n\n<h2>2. YouTube (as of 7/7/12)</h2>\n\n<p><img src=\"http://i.stack.imgur.com/rkGFB.png\" alt=\"YouTube slide out menu screenshot\"></p>\n\n<p>You can go from the first screen to second screen using two methods. Either click the YouTube logo in the upper left, or you can use a swipe gesture to move it to the right. This is already different from the G+ app. Secondly, you can see that the action bar stays put (Unlike G+). Lastly, to get the original screen back it works just like G+.</p>\n\n<h2>Apps</h2>\n\n<p>If you would like to experience what a beautiful slide menu looks and feels like download:</p>\n\n<ol>\n<li><a href=\"https://play.google.com/store/apps/details?id=fr.epicdream.beamy&amp;feature=nav_result#?t=W251bGwsMSwxLDMsImZyLmVwaWNkcmVhbS5iZWFteSJd\">Prixing</a></li>\n<li><a href=\"https://play.google.com/store/apps/details?id=com.evernote&amp;feature=nav_result#?t=W251bGwsMSwxLDMsImNvbS5ldmVybm90ZSJd\">Evernote</a></li>\n<li><a href=\"https://play.google.com/store/apps/details?id=com.spotify.mobile.android.ui&amp;feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5zcG90aWZ5Lm1vYmlsZS5hbmRyb2lkLnVpIl0.\">Spotify</a></li>\n</ol>\n", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"], "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_count": 8, "creation_date": 1341684704, "score": 362, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube", "answers": [{"body": "<h2>Edit #3:</h2>\n\n<p>The Navigation Drawer pattern is officially described in the Android documentation!</p>\n\n<p><img src=\"http://i.stack.imgur.com/Zz5EX.png\" alt=\"enter image description here\">\nCheck out the following links:</p>\n\n<ul>\n<li><em>Design docs</em> can be found <strong><a href=\"http://developer.android.com/design/patterns/navigation-drawer.html\">here</a></strong>.</li>\n<li><em>Developer docs</em> can be found <strong><a href=\"http://developer.android.com/training/implementing-navigation/nav-drawer.html\">here</a></strong>.</li>\n</ul>\n\n<hr>\n\n<h2>Edit #2:</h2>\n\n<p>Roman Nurik (an Android design engineer at Google) has confirmed that the recommended behavior is to not move the Action Bar when opening the drawer (like the YouTube app). See this <a href=\"https://plus.google.com/u/0/108238734975008671651/posts/6SPfDiML7MJ\">Google+ post</a>.</p>\n\n<hr>\n\n<h2>Edit #1:</h2>\n\n<p>I answered this question a while ago, but I'm back to re-emphasize that <strong>Prixing has the best fly-out menu out there... by far</strong>. It's absolutely beautiful, perfectly smooth, and it puts Facebook, Google+, and YouTube to shame. EverNote is pretty good too... but still not as perfect as Prixing. Check out <a href=\"http://android.cyrilmottier.com/?p=658\"><strong>this series of posts</strong></a> on how the flyout menu was implemented (from none other than the head developer at Prixing himself!).</p>\n\n<hr>\n\n<h2>Original Answer:</h2>\n\n<p>Adam Powell and Richard Fulcher talk about this at <a href=\"http://youtu.be/XwGHJJYBs0Q?t=49m47s\">49:47 - 52:50</a> in the Google I/O talk titled \"Navigation in Android\".</p>\n\n<p>To summarize their answer, as of the date of this posting the slide out navigation menu is <em>not</em> officially part of the Android application design standard. As you have probably discovered, there's currently no native support for this feature, but there was talk about making this an addition to an upcoming revision of the support package.</p>\n\n<p>With regards to the YouTube and G+ apps, it does seem odd that they behave differently. My best guess is that the reason the YouTube app fixes the position of the action bar is,</p>\n\n<ol>\n<li><p>One of the most important navigational options for users using the YouTube app is search, which is performed in the <code>SearchView</code> in the action bar. It would make sense to make the action bar static in this regard, since it would allow the user to <em>always</em> have the option to search for new videos.</p></li>\n<li><p>The G+ app uses a <code>ViewPager</code> to display its content, so making the pull out menu specific to the layout content (i.e. everything under the action bar) wouldn't make much sense. Swiping is supposed to provide a means of navigating between pages, not a means of global navigation. This might be why they decided to do it differently in the G+ app than they did in the YouTube app. </p>\n\n<p>On another note, check out the Google Play app for another version of the \"pull out menu\" (when you are at the left most page, swipe left and a pull out, \"half-page\" menu will appear).</p></li>\n</ol>\n\n<p>You're right in that this isn't very consistent behavior, but it doesn't seem like there is a 100% consensus within the Android team on how this behavior should be implemented yet. I wouldn't be surprised if in the future the apps are updated so that the navigation in both apps are identical (they seemed very keen on making navigation consistent across all Google-made apps in the talk).</p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 11379852, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/11379852#11379852", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>Just recently I forked a current Github project called \"RibbonMenu\" and edited it to fit my needs:</p>\n\n<p><a href=\"https://github.com/jaredsburrows/RibbonMenu\">https://github.com/jaredsburrows/RibbonMenu</a></p>\n\n<h3>What's the Purpose</h3>\n\n<ul>\n<li>Ease of Access: Allow easy access to a menu that slides in and out</li>\n<li>Ease of Implementation: Update the same screen using minimal amount of code</li>\n<li>Independency: Does not require support libraries such as ActionBarSherlock</li>\n<li>Customization: Easy to change colors and menus</li>\n</ul>\n\n<h3>What's New</h3>\n\n<ul>\n<li>Changed the sliding animation to match Facebook and Google+ apps</li>\n<li>Added standard ActionBar (you can chose to use ActionBarSherlock)</li>\n<li>Used menuitem to open the Menu</li>\n<li>Added ability to update ListView on main Activity</li>\n<li>Added 2 ListViews to the Menu, similiar to Facebook and Google+ apps</li>\n<li>Added a AutoCompleteTextView and a Button as well to show examples of implemenation</li>\n<li>Added method to allow users to hit the 'back button' to hide the menu when it is open</li>\n<li>Allows users to interact with background(main ListView) and the menu at the same time unlike the Facebook and Google+ apps!</li>\n</ul>\n\n<p>ActionBar with Menu out</p>\n\n<p><img src=\"http://i.stack.imgur.com/63ckm.png\" alt=\"ActionBar with Menu out\"></p>\n\n<p>ActionBar with Menu out and search selected</p>\n\n<p><img src=\"http://i.stack.imgur.com/0gEZF.png\" alt=\"ActionBar with Menu out and search selected\"></p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 13947171, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/13947171#13947171", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>Personally I like the navigation drawer in Google Drive official app. It just works and works great. I agree that the navigation drawer shouldn't move the action bar because is the key point to open and close the navigation drawer.</p>\n\n<p>If you are still trying to get that behaviour I recently create a project Called SherlockNavigationDrawer and as you may expect is the implementation of the Navigation Drawer with ActionBarSherlock and works for pre Honeycomb devices. Check it:</p>\n\n<p><a href=\"https://github.com/nicolasjafelle/SherlockNavigationDrawer\" rel=\"nofollow\">SherlockNavigationDrawer github</a></p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 16816469, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/16816469#16816469", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>This open source library absolutely needs to be an answer here!</p>\n\n<p><a href=\"https://github.com/jfeinstein10/SlidingMenu\">https://github.com/jfeinstein10/SlidingMenu</a></p>\n\n<p>And the associated <a href=\"https://play.google.com/store/apps/details?id=com.slidingmenu.example\">Play Store Demo</a></p>\n\n<p>Works great and is very extensible.</p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 17176056, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/17176056#17176056", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>If you guys looking for tutorial, android hive tutorial is quite good ! \n<a href=\"http://www.androidhive.info/2013/11/android-sliding-menu-using-navigation-drawer/\" rel=\"nofollow\">http://www.androidhive.info/2013/11/android-sliding-menu-using-navigation-drawer/</a></p>\n\n<p>Hope this will help beginner like me !</p>\n\n<p><img src=\"http://i.stack.imgur.com/JEkFM.png\" alt=\"enter image description here\"></p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 20402970, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/20402970#20402970", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>There are several libraries to implement a navigation drawer. Here is a <a href=\"http://www.appance.com/tag/navigation-drawer/\" rel=\"nofollow\">list</a>. </p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 22518666, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/22518666#22518666", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>There is a great implementation of Navigation Drawer that follows the Google Material Design Guidelines (and compatible down to API 10) - The MaterialDrawer library <a href=\"https://github.com/mikepenz/MaterialDrawer\" rel=\"nofollow\">(link to GitHub)</a>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/unBql.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/9s8Yz.png\" alt=\"enter image description here\"></p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 29894842, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/29894842#29894842", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}, {"body": "<p>I know this is an old question but the most up to date answer is to use the <a href=\"http://android-developers.blogspot.co.uk/2015/05/android-design-support-library.html\" rel=\"nofollow\">Android Support Design library</a> that will make your life easy.</p>\n", "title": "Navigation Drawer (Google+ vs. YouTube)", "answer_id": 31608842, "link": "http://stackoverflow.com/questions/11377472/navigation-drawer-google-vs-youtube/31608842#31608842", "tags": ["java", "android", "android-layout", "android-actionbar", "navigation-drawer"]}], "question_id": 11377472}, {"body": "<p>Take a look at the following two methods:</p>\n\n<pre><code>public static void foo() {\n    try {\n        foo();\n    } finally {\n        foo();\n    }\n}\n\npublic static void bar() {\n    bar();\n}\n</code></pre>\n\n<hr>\n\n<p>Running <code>bar()</code> clearly results in a <code>StackOverflowError</code>, but running <code>foo()</code> does not (the program just seems to run indefinitely). <em>Why is that?</em></p>\n", "tags": ["java", "recursion", "stack-overflow", "try-finally"], "title": "try-finally block prevents StackOverflowError", "answer_count": 5, "creation_date": 1347724159, "score": 303, "link": "http://stackoverflow.com/questions/12438786/try-finally-block-prevents-stackoverflowerror", "answers": [{"body": "<p>When you get an exception from the invocation of <code>foo()</code> inside the <code>try</code>, you call <code>foo()</code> from <code>finally</code> and start recursing again. When that causes another exception, you'll call <code>foo()</code> from another inner <code>finally()</code>, and so on almost <em>ad infinitum</em>.</p>\n", "title": "try-finally block prevents StackOverflowError", "answer_id": 12438819, "link": "http://stackoverflow.com/questions/12438786/try-finally-block-prevents-stackoverflowerror/12438819#12438819", "tags": ["java", "recursion", "stack-overflow", "try-finally"]}, {"body": "<p>Try running the following code:</p>\n\n<pre><code>    try {\n        throw new Exception(\"TEST!\");\n    } finally {\n        System.out.println(\"Finally\");\n    }\n</code></pre>\n\n<p>You will find that the finally block executes before throwing an Exception up to the level above it.  (Output:</p>\n\n<blockquote>\n  <p>Finally</p>\n  \n  <p>Exception in thread \"main\" java.lang.Exception: TEST!\n      at test.main(test.java:6)</p>\n</blockquote>\n\n<p>This makes sense, as finally is called right before exiting the method. This means, however, that once you get that first <code>StackOverflowError</code>, it will try to throw it, but the finally must execute first, so it runs <code>foo()</code> again, which gets another stack overflow, and as such runs finally again. This keeps happening forever, so the exception is never actually printed.</p>\n\n<p>In your bar method however, as soon as the exception occurs, it is just thrown straight up to the level above, and will be printed</p>\n", "title": "try-finally block prevents StackOverflowError", "answer_id": 12438836, "link": "http://stackoverflow.com/questions/12438786/try-finally-block-prevents-stackoverflowerror/12438836#12438836", "tags": ["java", "recursion", "stack-overflow", "try-finally"]}, {"body": "<p>Learn to trace your program:</p>\n\n<pre><code>public static void foo(int x) {\n    System.out.println(\"foo \" + x);\n    try {\n        foo(x+1);\n    } \n    finally {\n        System.out.println(\"Finally \" + x);\n        foo(x+1);\n    }\n}\n</code></pre>\n\n<p>This is the output I see:</p>\n\n<pre><code>[...]\nfoo 3439\nfoo 3440\nfoo 3441\nfoo 3442\nfoo 3443\nfoo 3444\nFinally 3443\nfoo 3444\nFinally 3442\nfoo 3443\nfoo 3444\nFinally 3443\nfoo 3444\nFinally 3441\nfoo 3442\nfoo 3443\nfoo 3444\n[...]\n</code></pre>\n\n<p>As you can see the StackOverFlow is thrown at some layers above, so you can do additional recursion steps till you hit another exception, and so on. This is an infinite \"loop\".</p>\n", "title": "try-finally block prevents StackOverflowError", "answer_id": 12438950, "link": "http://stackoverflow.com/questions/12438786/try-finally-block-prevents-stackoverflowerror/12438950#12438950", "tags": ["java", "recursion", "stack-overflow", "try-finally"]}, {"body": "<p>It doesn't run forever. Each stack overflow causes the code to move to the finally block. The problem is that it will take a really, really long time. The order of time is O(2^N) where N is the maximum stack depth.</p>\n\n<p>Imagine the maximum depth is 5</p>\n\n<pre><code>foo() calls\n    foo() calls\n       foo() calls\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n       finally\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n    finally calls\n       foo() calls\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n       finally\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\nfinally calls\n    foo() calls\n       foo() calls\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n       finally\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n    finally calls\n       foo() calls\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n       finally\n           foo() calls\n              foo() which fails to call foo()\n           finally calls\n              foo() which fails to call foo()\n</code></pre>\n\n<p>To work each level into the finally block take twice as long an the stack depth could be\n10,000 or more. If you can make 10,000,000 calls per second, this will take 10^3003 seconds or longer than the age of the universe.    </p>\n", "title": "try-finally block prevents StackOverflowError", "answer_id": 12439093, "link": "http://stackoverflow.com/questions/12438786/try-finally-block-prevents-stackoverflowerror/12439093#12439093", "tags": ["java", "recursion", "stack-overflow", "try-finally"]}, {"body": "<p>In effort to provide reasonable evidence that this WILL eventually terminate, I offer the following rather meaningless code. Note: Java is NOT my language, by any stretch of the most vivid imagination. I proffer this up only to support Peter's answer, which is <em>the</em> correct answer to the question.</p>\n\n<p>This attempts to simulate the conditions of what happens when an invoke can NOT happen because  it would introduce a stack overflow. It seems to me the hardest thing people are failing to grasp in that the invoke does not happen when it <em>cannot</em> happen.</p>\n\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        try\n        {   // invoke foo() with a simulated call depth\n            Main.foo(1,5);\n        }\n        catch(Exception ex)\n        {\n            System.out.println(ex.toString());\n        }\n    }\n\n    public static void foo(int n, int limit) throws Exception\n    {\n        try\n        {   // simulate a depth limited call stack\n            System.out.println(n + \" - Try\");\n            if (n &lt; limit)\n                foo(n+1,limit);\n            else\n                throw new Exception(\"StackOverflow@try(\"+n+\")\");\n        }\n        finally\n        {\n            System.out.println(n + \" - Finally\");\n            if (n &lt; limit)\n                foo(n+1,limit);\n            else\n                throw new Exception(\"StackOverflow@finally(\"+n+\")\");\n        }\n    }\n}\n</code></pre>\n\n<p>The output of this little pointless pile of goo is the following, and the actual exception caught may come as a surprise; Oh, and 32 try-calls (2^5), which is entirely expected:</p>\n\n<pre><code>1 - Try\n2 - Try\n3 - Try\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n3 - Finally\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n2 - Finally\n3 - Try\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n3 - Finally\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n1 - Finally\n2 - Try\n3 - Try\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n3 - Finally\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n2 - Finally\n3 - Try\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\n3 - Finally\n4 - Try\n5 - Try\n5 - Finally\n4 - Finally\n5 - Try\n5 - Finally\njava.lang.Exception: StackOverflow@finally(5)\n</code></pre>\n", "title": "try-finally block prevents StackOverflowError", "answer_id": 12444700, "link": "http://stackoverflow.com/questions/12438786/try-finally-block-prevents-stackoverflowerror/12444700#12444700", "tags": ["java", "recursion", "stack-overflow", "try-finally"]}], "question_id": 12438786}, {"body": "<p>How can Jackson be configured to ignore a field value during serialization if that field's value is null. </p>\n\n<p>For example:</p>\n\n<pre><code>public class SomeClass {\n   // what jackson annotation causes jackson to skip over this value if it is null but will \n   // serialize it otherwise \n   private String someValue; \n}\n</code></pre>\n", "tags": ["java", "jackson"], "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_count": 10, "creation_date": 1343817631, "score": 288, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null", "answers": [{"body": "<p>To suppress serializing properties with null values, you can <a href=\"http://fasterxml.github.com/jackson-annotations/javadoc/2.0.2/com/fasterxml/jackson/annotation/JsonInclude.Include.html\">configure the <code>ObjectMapper</code> directly</a>, or make use of the <a href=\"http://fasterxml.github.com/jackson-annotations/javadoc/2.0.2/com/fasterxml/jackson/annotation/JsonInclude.html\"><code>@JsonInclude</code></a> annotation:</p>\n\n<pre><code>mapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\nclass Foo\n{\n  String bar;\n}\n</code></pre>\n\n<p>A more complete example is available in <a href=\"http://stackoverflow.com/questions/11449211/how-to-prevent-null-values-inside-a-map-and-null-fields-inside-a-bean-from-getti/11464975#11464975\">my answer</a> to <a href=\"http://stackoverflow.com/questions/11449211/\">How to prevent null values inside a Map and null fields inside a bean from getting serialized through Jackson</a>.</p>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 11761975, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/11761975#11761975", "tags": ["java", "jackson"]}, {"body": "<p>You can use the following mapper configuration:</p>\n\n<pre><code>mapper.getSerializationConfig().setSerializationInclusion(Inclusion.NON_NULL);\n</code></pre>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 15745630, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/15745630#15745630", "tags": ["java", "jackson"]}, {"body": "<p>With Jackson > 1.9.11 use <code>@JsonSerialize</code> annotation to do that:</p>\n\n<p><code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_NULL)</code></p>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 17337373, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/17337373#17337373", "tags": ["java", "jackson"]}, {"body": "<p>Just to expand on the other answers - if you need to control the omission of null values on a per-field basis, annotate the field in question (or alternatively annotate the field's 'getter').</p>\n\n<p><strong>example -</strong> here only <code>fieldOne</code> will be ommitted from json if it is null. <code>fieldTwo</code> will always be included regardless of if it is null.</p>\n\n<pre><code>public class Foo {\n\n    @JsonInclude(JsonInclude.Include.NON_NULL) \n    private String fieldOne;\n\n    private String fieldTwo;\n}\n</code></pre>\n\n<p>To omit all null values in the class as a default, annotate the class. Per-field/getter annotations can still be used to override this default if necessary.</p>\n\n<p><strong>example -</strong> here <code>fieldOne</code> and <code>fieldTwo</code> will be ommitted from json if they are null, respectively, because this is the default set by the class annotation. <code>fieldThree</code> however will override the default and will always be included, because of the annotation on the field.</p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Foo {\n\n    private String fieldOne;\n\n    private String fieldTwo;\n\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    private String fieldThree;\n}\n</code></pre>\n\n<p><strong>UPDATED</strong> <em>to use Jackson 2 - for earlier versions of Jackson use</em></p>\n\n<pre><code>@JsonSerialize(include=JsonSerialize.Inclusion.ALWAYS) \n</code></pre>\n\n<p><em>instead of</em></p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n\n<p><em>If that's useful, please upvote ZiglioNZ's answer below, it pointed out the newer annotation long before this update!</em></p>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 17925746, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/17925746#17925746", "tags": ["java", "jackson"]}, {"body": "<p>Jackson 2.x:</p>\n\n<blockquote>\n  <p>@JsonInclude(JsonInclude.Include.NON_NULL)</p>\n</blockquote>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 21225339, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/21225339#21225339", "tags": ["java", "jackson"]}, {"body": "<p>Jackson 2.x+ use</p>\n\n<pre><code>mapper.getSerializationConfig().withSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 26067611, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/26067611#26067611", "tags": ["java", "jackson"]}, {"body": "<p>in my case  </p>\n\n<pre><code>@JsonInclude(Include.NON_EMPTY)\n</code></pre>\n\n<p>made it work.</p>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 29855562, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/29855562#29855562", "tags": ["java", "jackson"]}, {"body": "<p>For Jackson 2.5 use : </p>\n\n<pre><code>@JsonInclude(content=Include.NON_NULL)\n</code></pre>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 31505998, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/31505998#31505998", "tags": ["java", "jackson"]}, {"body": "<p>If you want to add this rule to all models in Jackson 2.6+ use:</p>\n\n<pre><code>mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 36901591, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/36901591#36901591", "tags": ["java", "jackson"]}, {"body": "<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n</code></pre>\n\n<p>should work.</p>\n\n<p><code>Include.NON_EMPTY</code> indicates that property is serialized if its value is not null and not empty.\n<code>Include.NON_NULL</code> indicates that property is serialized if its value is not null.</p>\n", "title": "How to tell Jackson to ignore a field during serialization if its value is null?", "answer_id": 36986422, "link": "http://stackoverflow.com/questions/11757487/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/36986422#36986422", "tags": ["java", "jackson"]}], "question_id": 11757487}, {"body": "<p>I've installed JDK 7u7 downloaded from oracle's website. But after installation, the terminal is still showing java version 6</p>\n\n<pre><code>$java -version\njava version \"1.6.0_35\"\nJava(TM) SE Runtime Environment (build 1.6.0_35-b10-428-11M3811)\nJava HotSpot(TM) 64-Bit Server VM (build 20.10-b01-428, mixed mode)\n</code></pre>\n\n<p>any idea why java 7 is not showing up?</p>\n\n<p><strong>Ans:\nOK, the problem has been resolved. Here is the answer:\nI found that my Terminal has a .bash_profile and the java home variable is set to 1.6</strong></p>\n\n<pre><code>export JAVA_HOME=\"/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home\"\n</code></pre>\n\n<p>So this is the line causing the problem every time I opened a new terminal window.\nSimply remove this line will solve the problem. You still need to follow what @aleroot said, but if that doesn't work for you, check the .bash_profile (or .bashrc) setting file to see if you've previously exported any java version.</p>\n", "tags": ["java", "osx", "java-7"], "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_count": 18, "creation_date": 1349506865, "score": 286, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6", "answers": [{"body": "<p>Because you need to enter in Java Preferences pane and flag only the JVM 7 in this way : </p>\n\n<p><img src=\"http://i.stack.imgur.com/UeSQB.png\" alt=\"Java Preferences\"></p>\n\n<p>To easily and quickly open the <strong>Java Preferences</strong> pane in Mac OS X you can simply call spotlight with <kbd>\u2318</kbd><strong>+</strong><kbd>SPACE</kbd> and type <em>System Preferences</em> it will show up in the last row of the window.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 12757565, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/12757565#12757565", "tags": ["java", "osx", "java-7"]}, {"body": "<p><a href=\"http://www.java.com/en/download/faq/java_mac.xml\">http://www.java.com/en/download/faq/java_mac.xml</a> is a nice place to understand, while Apple is stopping support to Java, why Java Preferences doesn't exist anymore and rely on System_Preferences => Java => Java if Java 7 from Oracle is installed.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 13090335, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/13090335#13090335", "tags": ["java", "osx", "java-7"]}, {"body": "<p>I had run into a similar issue with terminal not updating the java version to match the version installed on the mac.</p>\n\n<p>There was no issue with the JAVA_HOME environmental variable being set </p>\n\n<p>I have come up with a temporary and somewhat painful but working solution.</p>\n\n<p>In you .bash_profile add the line:</p>\n\n<pre><code>export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk1.7.0_11.jdk/Contents/Home\"\n</code></pre>\n\n<p>(This is the path on my machine but may be different on yours, make sure to get yours. The paths should match up to /Library/Java/JavaVirtualMachines/)</p>\n\n<p>the run <code>source ~/.bash_profile</code></p>\n\n<p>As I mentioned this is a temporary band-aid solution because the java home path is being hard-coded. There is really no way to set the path to get the latest as that is what Apple is supposedly doing for terminal already and the issue is that Apple's java_home environment variable is not getting updated.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 14840791, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/14840791#14840791", "tags": ["java", "osx", "java-7"]}, {"body": "<p>Hard-coding the JAVA_HOME path might not be the best idea. The <code>/usr/libexec/java_home</code> utility sill works for me on Mac OSX Lion 10.7.5 and JDK 1.7.0_13. According to its man page, it is meant to be used with Apple's old Java Preferences pane, but it appears to be working with the replacement provided by Oracle (Java Control Panel). For example running <code>/usr/libexec/java_home -V</code> lists all installed JDKs (both 1.6.* and 1.7.*) on my machine.</p>\n\n<p>So, as discussed in other threads (e.g. <a href=\"http://stackoverflow.com/questions/1348842/what-should-i-set-java-home-to-on-osx\">What should I set JAVA_HOME to on OSX</a>), I would still recommend adding the following line to your .bash_profile:</p>\n\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 14849086, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/14849086#14849086", "tags": ["java", "osx", "java-7"]}, {"body": "<p>Since i have not faced this issue , I am taking a hunch -- </p>\n\n<p>Can you please try this : </p>\n\n<p>Where does the soft link \"java_home\" point to : </p>\n\n<pre><code>ls -lrt /usr/libexec/java_home\n</code></pre>\n\n<p>Output : (Stunted)\n    lrwxr-xr-x java_home ->      /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java_home</p>\n\n<p>**ls -lrt /System/Library/Frameworks/JavaVM.framework/Versions\n    My MAC Produces the following : </p>\n\n<pre><code> lrwxr-xr-x CurrentJDK -&gt;\n /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents**\n\n lrwxr-xr-x   Current -&gt; A\n lrwxr-xr-x  1 root  wheel   10 Oct 18 14:39 1.6.0 -&gt; CurrentJDK\n lrwxr-xr-x  1 root  wheel   10 Oct 18 14:39 1.6 -&gt; CurrentJDK\n lrwxr-xr-x  1 root  wheel   10 Oct 18 14:39 1.5.0 -&gt; CurrentJDK\n lrwxr-xr-x  1 root  wheel   10 Oct 18 14:39 1.5 -&gt; CurrentJDK\n lrwxr-xr-x  1 root  wheel   10 Oct 18 14:39 1.4.2 -&gt; CurrentJDK\n lrwxr-xr-x  1 root  wheel   10 Oct 18 14:39 1.4 -&gt; CurrentJDK\n</code></pre>\n\n<p>Based on this , we might get a hint to proceed further ?</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 14856370, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/14856370#14856370", "tags": ["java", "osx", "java-7"]}, {"body": "<p>May I suggest you to have a look at the tool <a href=\"https://github.com/hikage/jenv\">Jenv</a></p>\n\n<p>This will allow you to switch at any time between your installed JVMs.</p>\n\n<p>Simply as:</p>\n\n<pre><code>jenv global oracle-1.7\n</code></pre>\n\n<p>then later for test purpose:</p>\n\n<pre><code>jenv global oracle-1.6\n</code></pre>\n\n<p>And you have much more commands available.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 14857231, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/14857231#14857231", "tags": ["java", "osx", "java-7"]}, {"body": "<p>Oracle's installer puts java inside the <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin</code>. And it doesn't overwrite <code>/usr/bin/java</code>. So, if you issue a</p>\n\n<pre><code>whereis java\n</code></pre>\n\n<p>in the terminal, it'll return /usr/bin/java. (which in turn points to <code>/System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/java</code>, which is Apple's 1.6 version).</p>\n\n<p>So, if you want to use the new java version, replace the <code>/usr/bin/java</code> symlink so that it points to <code>/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java</code> instead:</p>\n\n<pre><code>sudo rm /usr/bin/java\nsudo ln -s /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java /usr/bin\n</code></pre>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 14875241, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/14875241#14875241", "tags": ["java", "osx", "java-7"]}, {"body": "<p><code>vi ~/.bash_profile</code></p>\n\n<p>add </p>\n\n<p><code>export  JAVA_HOME=`/usr/libexec/java_home -v 1.7`</code></p>\n\n<p>This tells your <code>/usr/bin/java</code> link target to use the latest Java 7 Package installed in </p>\n\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n\n<p>So for JDK <code>1.7.0_17</code> <code>JAVA_HOME</code> would be:</p>\n\n<p><code>/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/Home</code></p>\n\n<p>Note: There were a lot of change in this area recently to move Mac OS X from Appels own System integrated Java packages to Oracle based Java Packages. The above solution is working fine as of Mac OS X 10.8.2 </p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 15306564, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/15306564#15306564", "tags": ["java", "osx", "java-7"]}, {"body": "<p>In my case, the issue was that Oracle was installing it to a different location than I was used to.</p>\n\n<p>Download from Oracle: <a href=\"http://java.com/en/download/mac_download.jsp?locale=en\">http://java.com/en/download/mac_download.jsp?locale=en</a></p>\n\n<ol>\n<li><p>Verify that it's installed properly by looking in System Prefs:</p>\n\n<ul>\n<li>Command-Space to open Spotlight, type 'System Preferences', hit enter. </li>\n<li>Click Java icon in bottom row. After the Java Control Panel opens, click 'Java' tab, 'View...', and verify that your install worked.  You can see a 'Path' there also, which you can sub into the commands below in case they are different than mine.</li>\n</ul></li>\n<li><p>Verify that the version is as you expect (sub in your path as needed):</p>\n\n<p>/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -version</p></li>\n<li><p>Create link from /usr/bin/java to your new install</p>\n\n<p>sudo ln -fs /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java /usr/bin/java</p></li>\n<li><p>Sanity check your version:</p>\n\n<p>java -version</p></li>\n</ol>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 17796324, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/17796324#17796324", "tags": ["java", "osx", "java-7"]}, {"body": "<p>Install the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\"><strong>JDK 7</strong></a> and this problem will solve itself. </p>\n\n<p>Be sure to get the Java Development Kit (JDK) which includes compilers and stuff like that, rather than just the Java Runtime Environment (JRE) .</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 18167436, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/18167436#18167436", "tags": ["java", "osx", "java-7"]}, {"body": "<p>It is happening because your .bash_profile is not reflecting changes.To reflect it, just use the following command</p>\n\n<p>$ source .bash_profile</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 22400196, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/22400196#22400196", "tags": ["java", "osx", "java-7"]}, {"body": "<p>I did </p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home`\n</code></pre>\n\n<p>and that fixed my Java 8 issue.</p>\n\n<p>before:</p>\n\n<pre><code>java version \"1.6.0_31\"\nJava(TM) SE Runtime Environment (build 1.6.0_31-b04)\nJava HotSpot(TM) 64-Bit Server VM (build 20.6-b01, mixed mode)\n</code></pre>\n\n<p>after:</p>\n\n<pre><code>java version \"1.8.0_05\"\nJava(TM) SE Runtime Environment (build 1.8.0_05-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.5-b02, mixed mode)\n</code></pre>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 24392861, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/24392861#24392861", "tags": ["java", "osx", "java-7"]}, {"body": "<p>This is nuts! How does Oracle provide an installer that doesn't install anything!?</p>\n\n<p>Anyways for me it was:</p>\n\n<pre><code>sudo rm /usr/bin/java\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home/jre/bin/java /usr/bin/java\n</code></pre>\n\n<p>where 1.8.0_31 is your installed java version...</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 28468278, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/28468278#28468278", "tags": ["java", "osx", "java-7"]}, {"body": "<p>i resolved this issue by re installing Yosemite and then cross check java version on terminal (java -version) and (javac -version) .It work perfectly now.It is not changing to java 7 as version 6 still present on (command + n) libray>java>javavirtualmachine>your javac current version.you need to address to java home .</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 30248743, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/30248743#30248743", "tags": ["java", "osx", "java-7"]}, {"body": "<p>I think you can try to install jdk not jre. By installing jdk, the java in /usr/bin/java will be replaced, and all library will work fine.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 31227179, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/31227179#31227179", "tags": ["java", "osx", "java-7"]}, {"body": "<p>The basic issue: <code>/usr/bin/java</code> is pointing to one provided by OSX itself initially (<code>/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java</code>)\nWe need to point this to the one downloaded by the JDK installer. The below steps are for OSX 10.10.4 Yosemite.</p>\n\n<ul>\n<li>Open System Preferences -> select Java. The Java window opens.</li>\n<li>Click on Java tab at the top. Click on 'View' button.</li>\n<li>The Java Runtime Environment Settings tab opens as below:\n<a href=\"http://i.stack.imgur.com/yddrR.png\"><img src=\"http://i.stack.imgur.com/yddrR.png\" alt=\"JRE Settings tab\"></a></li>\n<li>Double click on the <code>Path</code> item and copy the path (cmd+c). This is the latest one installed by the JDK installer/updater. In my case, the path was <code>/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java</code></li>\n<li>Open terminal. In this step, we are going to point (symbolic link, <code>ln -s</code> command) the system java binary to the latest one, which we discovered in the previous step. Run the below command:</li>\n</ul>\n\n<p><code>sudo ln -s /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java /usr/bin/java</code></p>\n\n<p>Thats it. To verify, you can just run\n<code>java -version</code>\non the terminal. It should output the latest version that you installed/updated to.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 33571909, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/33571909#33571909", "tags": ["java", "osx", "java-7"]}, {"body": "<p>Since El Capitan, it is difficult to delete the <code>/usr/bin/java</code> symlink, because of the introduction of the new \"rootless\" policy.</p>\n\n<p>Therefore, I simply added the path to the latest java version (in my case this is <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin</code>) to the <code>PATH</code> in my <code>.bashrc</code> file:</p>\n\n<pre><code># Use latest java version\nexport PATH=/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin:$PATH\n</code></pre>\n\n<p>Now the latest version is used, when I use <code>java</code> in the shell.</p>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 36061816, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/36061816#36061816", "tags": ["java", "osx", "java-7"]}, {"body": "<p>You can run this command to find the version of Java that's under /Library/Internet Plugins/:</p>\n\n<pre><code>defaults read /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Info.plist CFBundleVersion\n</code></pre>\n", "title": "Installed Java 7 on Mac OS X but Terminal is still using version 6", "answer_id": 36287962, "link": "http://stackoverflow.com/questions/12757558/installed-java-7-on-mac-os-x-but-terminal-is-still-using-version-6/36287962#36287962", "tags": ["java", "osx", "java-7"]}], "question_id": 12757558}, {"body": "<p>When running a JUnit test, using IntelliJ IDEA, I get</p>\n\n<p><img src=\"http://i.stack.imgur.com/C50eY.png\" alt=\"enter image description here\"></p>\n\n<p>How can I correct this?</p>\n\n<ul>\n<li>Using SDK 1.7</li>\n<li>Module language level is 1.7</li>\n</ul>\n\n<p>Maven build works fine. (That's why I believe this in IDEA configuration issue)</p>\n", "tags": ["java", "intellij-idea"], "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_count": 14, "creation_date": 1350320145, "score": 266, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7", "answers": [{"body": "<p>Most likely you have incorrect compiler options imported from Maven here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/1w1xM.png\" alt=\"enter image description here\"></p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 12900859, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/12900859#12900859", "tags": ["java", "intellij-idea"]}, {"body": "<p>I ran into this and the fix was to go to Project Settings > Modules > click on the particular module > Dependencies tab. I noticed the Module SDK was still set on 1.6, I changed it to 1.7 and it worked.</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 13852894, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/13852894#13852894", "tags": ["java", "intellij-idea"]}, {"body": "<p>I've found required options ('target bytecode version') in <em>settings > compiler > java compiler</em> in my case (intelij idea 12.1.3)</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 17122878, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/17122878#17122878", "tags": ["java", "intellij-idea"]}, {"body": "<p>From one moment to the other I also got this error without a clear reason. I changed all kinds of settings on the compiler/module etc. But in the end I just recreated the IntelliJ project by reimporting the Maven project and the issue was solved. I think this is a bug.</p>\n\n<p>IntelliJ 12 129.961</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 17760786, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/17760786#17760786", "tags": ["java", "intellij-idea"]}, {"body": "<p>check \n.idea/misc.xml\nsometimes you need to change languageLevel=\"JDK_1_X\" attribute manually</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 18413841, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/18413841#18413841", "tags": ["java", "intellij-idea"]}, {"body": "<p>Have you looked at your build configuration it should like that if you use maven 3 and JDK 7</p>\n\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;SpringApp&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        ...\n    &lt;/plugins&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 18428512, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/18428512#18428512", "tags": ["java", "intellij-idea"]}, {"body": "<h1>IntelliJ 15 &amp; 2016</h1>\n\n<p>Similar to that discussed below for IntelliJ 13 &amp; 14, but with an extra level in the Settings/Preferences panel: <em>Settings</em> > <em>Build, Execution, Deployment</em> > <em>Compiler</em> > <em>Java Compiler</em>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/mlaEJ.png\"><img src=\"http://i.stack.imgur.com/mlaEJ.png\" alt=\"enter image description here\"></a></p>\n\n<h1>IntelliJ 13 &amp; 14</h1>\n\n<p>In IntelliJ 13 and 14, check the <em>Settings > Compiler > Java Compiler</em> UI to ensure you're not targeting a different bytecode version in your module.</p>\n\n<p><img src=\"http://i.stack.imgur.com/5iI0X.png\" alt=\"enter image description here\"></p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 21209803, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/21209803#21209803", "tags": ["java", "intellij-idea"]}, {"body": "<p>I resolved bellow method</p>\n\n<p>File >> Project Structure >> Project >> Project Language Level\n --> do set proper version (ex: 1.5)</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 27438084, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/27438084#27438084", "tags": ["java", "intellij-idea"]}, {"body": "<p>I resolved it by setting the field blank:</p>\n\n<p>Settings > Compiler > Java Compiler > Project bytecode version</p>\n\n<p>Than IntelliJ uses the JDK default version.</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 27580089, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/27580089#27580089", "tags": ["java", "intellij-idea"]}, {"body": "<p>I've hit this after just minor upgrade from IntelliJ IDEA 14 to v14.1.\nFor me changing an edit of top/parent pom helped and then clicked re-import Maven (if it is not automatic).</p>\n\n<p>But it maybe just enough to Right Click on module(s)/aggregated/parent module and Maven -> Reimport.</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 29468170, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/29468170#29468170", "tags": ["java", "intellij-idea"]}, {"body": "<p>In <strong>IntelliJ IDEA 14.1</strong> the \"Target bytecode version\" is in a different place.</p>\n\n<p>The following change worked for me:</p>\n\n<p><strong>File > Settings... > Build, Execution, Deployment > Compiler > Java Compiler</strong> : change <strong>Target bytecode version</strong> from 1.5 to 1.8</p>\n\n<p><img src=\"http://i.stack.imgur.com/W4NaV.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/3qibL.png\" alt=\"enter image description here\"></p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 29502281, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/29502281#29502281", "tags": ["java", "intellij-idea"]}, {"body": "<p>Modify the compiler setting file of the project in the following path and change the 'target' to 1.7:</p>\n\n<blockquote>\n  <p>/project/.idea/compiler.xml</p>\n</blockquote>\n\n<pre><code>&lt;bytecodeTargetLevel&gt;\n  &lt;module name=\"project-name\" target=\"1.7\" /&gt;\n&lt;/bytecodeTargetLevel&gt;\n</code></pre>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 30711520, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/30711520#30711520", "tags": ["java", "intellij-idea"]}, {"body": "<p>If it is a Gradle project, in your build.gradle file, search for following settings:</p>\n\n<pre><code>sourceCompatibility = \"xx\"\ntargetCompatibility = \"xx\"\n</code></pre>\n\n<p>For all subrpojects, in your root build.gradle file, you may put:</p>\n\n<pre><code>subprojects { project -&gt;\n    sourceCompatibility = \"1.7\"\n    targetCompatibility = \"1.7\"\n}\n</code></pre>\n\n<p>Although you can manually set language levels in Idea > Settings, if it is a Gradle project, Idea automatically synchronizes module .iml files from Gradle settings ( tested with Idea 15+). So all your manual changes are overriden when gradle is refreshed. </p>\n\n<p>Based on <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow\">Gradle documentation</a>, if these are not set, then current JVM configuration is used. </p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 36561964, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/36561964#36561964", "tags": ["java", "intellij-idea"]}, {"body": "<p>I found another way to run into this error. You can get this if you have been re-organizing your directory structure, and one of your poms is pointing to the old parent which no-longer configures javac (because that configuration was moved to a middle level). If this happens the top level defaults to 1.5 and the misbehaving lower level pom inherits it.</p>\n\n<p>So another thing to check when you see this error is that your pom structure is matching your directory structure properly.</p>\n", "title": "IDEA: javac: source release 1.7 requires target release 1.7", "answer_id": 38019478, "link": "http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7/38019478#38019478", "tags": ["java", "intellij-idea"]}], "question_id": 12900373}, {"body": "<p>I wrote an Android application. Now, I want to make the device vibrate when a certain action occurs. How can I do this?</p>\n", "tags": ["java", "android", "vibrate", "android-vibration"], "title": "How to make an Android device vibrate?", "answer_count": 5, "creation_date": 1355913125, "score": 240, "link": "http://stackoverflow.com/questions/13950338/how-to-make-an-android-device-vibrate", "answers": [{"body": "<p>Try:</p>\n\n<pre><code> import android.os.Vibrator;\n ...\n Vibrator v = (Vibrator) this.context.getSystemService(Context.VIBRATOR_SERVICE);\n // Vibrate for 500 milliseconds\n v.vibrate(500);\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>Don't forget to include permission in AndroidManifest.xml file:  </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n", "title": "How to make an Android device vibrate?", "answer_id": 13950364, "link": "http://stackoverflow.com/questions/13950338/how-to-make-an-android-device-vibrate/13950364#13950364", "tags": ["java", "android", "vibrate", "android-vibration"]}, {"body": "<h1>Grant Vibration Permission</h1>\n\n<p>Before you start implementing any vibration code, you have to give your application the permission to vibrate:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n</code></pre>\n\n<p>Make sure to include this line in your AndroidManifest.xml file.</p>\n\n<h1>Import the Vibration Library</h1>\n\n<p>Most IDEs will do this for you, but here is the import statement if yours doesn't:</p>\n\n<pre><code> import android.os.Vibrator;\n</code></pre>\n\n<p>Make sure this in the activity where you want the vibration to occur.</p>\n\n<h1>How to Vibrate for a Given Time</h1>\n\n<p>In most circumstances, you'll be wanting to vibrate the device for a short, predetermined amount of time. You can achieve this by using the <code>vibrate(long milliseconds)</code> method. Here is a quick example:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Vibrate for 400 milliseconds\nv.vibrate(400);\n</code></pre>\n\n<p>That's it, simple!</p>\n\n<h1>How to Vibrate Indefinitely</h1>\n\n<p>It may be the case that you want the device to continue vibrating indefinitely. For this, we use the <code>vibrate(long[] pattern, int repeat)</code> method:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Start without a delay\n// Vibrate for 100 milliseconds\n// Sleep for 1000 milliseconds\nlong[] pattern = {0, 100, 1000};\n\n// The '0' here means to repeat indefinitely\n// '0' is actually the index at which the pattern keeps repeating from (the start)\n// To repeat the pattern from any other point, you could increase the index, e.g. '1'\nv.vibrate(pattern, 0);\n</code></pre>\n\n<p>When you're ready to stop the vibration, just call the <code>cancel()</code> method:</p>\n\n<pre><code>v.cancel();\n</code></pre>\n\n<h1>How to use Vibration Patterns</h1>\n\n<p>If you want a more bespoke vibration, you can attempt to create your own vibration patterns:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Start without a delay\n// Each element then alternates between vibrate, sleep, vibrate, sleep...\nlong[] pattern = {0, 100, 1000, 300, 200, 100, 500, 200, 100};\n\n// The '-1' here means to vibrate once, as '-1' is out of bounds in the pattern array\nv.vibrate(pattern, -1);\n</code></pre>\n\n<h1>More Complex Vibrations</h1>\n\n<p>There are multiple SDKs that offer a more comprehensive range of haptic feedback. One that I use for special effects is <a href=\"http://www2.immersion.com/developers/index.php?option=com_content&amp;view=category&amp;layout=blog&amp;id=119&amp;Itemid=592\">Immersion's Haptic Development Platform for Android</a>.</p>\n\n<h1>Troubleshooting</h1>\n\n<p>If your device won't vibrate, first make sure that it can vibrate:</p>\n\n<pre><code>// Get instance of Vibrator from current Context\nVibrator v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n\n// Output yes if can vibrate, no otherwise\nif (v.hasVibrator()) {\n    Log.v(\"Can Vibrate\", \"YES\");\n} else {\n    Log.v(\"Can Vibrate\", \"NO\");\n}\n</code></pre>\n\n<p>Secondly, please ensure that you've given your application the permission to vibrate! Refer back to the first point.</p>\n", "title": "How to make an Android device vibrate?", "answer_id": 17066803, "link": "http://stackoverflow.com/questions/13950338/how-to-make-an-android-device-vibrate/17066803#17066803", "tags": ["java", "android", "vibrate", "android-vibration"]}, {"body": "<p>I struggled understanding how to do this on my first implementation - make sure you have the following: </p>\n\n<p>1) Your device supports vibration (my Samsung tablet did not work so I kept re-checking the code - the original code worked perfectly on my CM Touchpad</p>\n\n<p>2) You have declared  above the application level in your AndroidManifest.xml file to give the code permission to run.</p>\n\n<p>3) Have imported both of the following in to your MainActivity.java with the other imports:\nimport android.content.Context;\nimport android.os.Vibrator;</p>\n\n<p>4) Call your vibration (discussed extensively in this thread already)  - I did it in a separate function and call this in the code at other points - depending on what you want to use to call the vibration you may need an image (<a href=\"http://stackoverflow.com/questions/4402740/android-long-click-on-a-button-perform-actions\">Android: long click on a button -&gt; perform actions</a>) or button listener, or a clickable object as defined in XML (<a href=\"http://stackoverflow.com/questions/4785544/clickable-image-android\">Clickable image - android</a>):</p>\n\n<pre><code> public void vibrate(int duration)\n {\n    Vibrator vibs = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n    vibs.vibrate(duration);    \n }\n</code></pre>\n", "title": "How to make an Android device vibrate?", "answer_id": 20441897, "link": "http://stackoverflow.com/questions/13950338/how-to-make-an-android-device-vibrate/20441897#20441897", "tags": ["java", "android", "vibrate", "android-vibration"]}, {"body": "<p>Above answers are perfect. However I wanted to vibrate my app exactly twice on button click and this small information is missing here, hence posting for future readers like me. :)</p>\n\n<p>We have to follow as mentioned above and the only change will be in the vibrate pattern as below,</p>\n\n<pre><code>long[] pattern = {0, 100, 1000, 300};\nv.vibrate(pattern, -1); //-1 is important\n</code></pre>\n\n<p>This will exactly vibrate twice. As we already know 0 is for delay, 100 says vibrate for 100MS for the first time, next comes delay of 1000MS and post that vibrate again for 300MS.</p>\n\n<p>One can go on and on mentioning delay and vibration alternatively (e.g. 0, 100, 1000, 300, 1000, 300 for 3 vibrations and so on..) but remember @Dave's word use it responsibly. :)</p>\n\n<p>Also note here that the repeat parameter is set to -1 which means the vibration will happen exactly as mentioned in the pattern. :)</p>\n", "title": "How to make an Android device vibrate?", "answer_id": 23566943, "link": "http://stackoverflow.com/questions/13950338/how-to-make-an-android-device-vibrate/23566943#23566943", "tags": ["java", "android", "vibrate", "android-vibration"]}, {"body": "<p>Above answer is very correct but I'm giving an easy step to do it:</p>\n\n<pre><code> private static final long[] THREE_CYCLES = new long[] { 100, 1000, 1000,  1000, 1000, 1000 };\n\n  public void longVibrate(View v) \n  {\n     vibrateMulti(THREE_CYCLES);\n  }\n</code></pre>\n\n<p>And then in your xml file: </p>\n\n<pre><code>&lt;button android:layout_height=\"wrap_content\" \n        android:layout_width =\"wrap_content\" \n        android:onclick      =\"longVibrate\" \n        android:text         =\"VibrateThrice\"&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>That's the <a href=\"http://programondaspot.blogspot.com/2015/06/simple-android-vibration-application.html\" rel=\"nofollow\">easiest</a> way.</p>\n", "title": "How to make an Android device vibrate?", "answer_id": 31151768, "link": "http://stackoverflow.com/questions/13950338/how-to-make-an-android-device-vibrate/31151768#31151768", "tags": ["java", "android", "vibrate", "android-vibration"]}], "question_id": 13950338}, {"body": "<p>What is the difference between:</p>\n\n<pre><code>@Entity\npublic class Company {\n\n    @OneToMany(cascade = CascadeType.ALL , fetch = FetchType.LAZY)\n    @JoinColumn(name = \"companyIdRef\", referencedColumnName = \"companyId\")\n    private List&lt;Branch&gt; branches;\n    ...\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Entity\npublic class Company {\n\n    @OneToMany(cascade = CascadeType.ALL , fetch = FetchType.LAZY,\n    mappedBy = \"companyIdRef\")\n    private List&lt;Branch&gt; branches;\n    ...\n}\n</code></pre>\n", "tags": ["java", "hibernate", "jpa", "orm"], "title": "JPA JoinColumn vs mappedBy", "answer_count": 4, "creation_date": 1344874649, "score": 224, "link": "http://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby", "answers": [{"body": "<p>The annotation <code>@JoinColumn</code> indicates that this entity is the <em>owner</em> of the relationship (that is: the corresponding table has a column with a foreign key to the referenced table), whereas the attribute <code>mappedBy</code> indicates that the entity in this side is the inverse of the relationship, and the owner resides in the \"other\" entity. This also means that you can access the other table from the class which you've annotated with \"mappedBy\" (fully bidirectional relationship).</p>\n\n<p>In particular, for the code in the question the correct annotations would look like this:</p>\n\n<pre><code>@Entity\npublic class Company {\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"company\")\n    private List&lt;Branch&gt; branches;\n}\n\n@Entity\npublic class Branch {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"companyId\")\n    private Company company;\n}\n</code></pre>\n", "title": "JPA JoinColumn vs mappedBy", "answer_id": 11938290, "link": "http://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby/11938290#11938290", "tags": ["java", "hibernate", "jpa", "orm"]}, {"body": "<p><strong><code>@JoinColumn</code> could be used on both sides of the relationship.</strong> The question was about using <code>@JoinColumn</code> on the <code>@OneToMany</code> side (rare case). And the point here is in <em>physical information duplication</em> (column name) along with <em>not optimized SQL query that will produce some additional UPDATE statements</em>.</p>\n\n<p>According to <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/\">documentation</a>:</p>\n\n<p>Since <strong>many to one are</strong> (almost) always the <strong>owner side</strong> of a bidirectional relationship in the JPA spec, the one to many association is annotated by @OneToMany(mappedBy=...)</p>\n\n<pre><code>@Entity\npublic class Troop {\n    @OneToMany(mappedBy=\"troop\")\n    public Set&lt;Soldier&gt; getSoldiers() {\n    ...\n}\n\n@Entity\npublic class Soldier {\n    @ManyToOne\n    @JoinColumn(name=\"troop_fk\")\n    public Troop getTroop() {\n    ...\n} \n</code></pre>\n\n<p>Troop has a bidirectional one to many relationship with Soldier through the troop property. You don't have to (must not) define any physical mapping in the mappedBy side.</p>\n\n<p>To map a bidirectional one to many, with the <strong>one-to-many side as the owning side</strong>, you have to remove the mappedBy element and set the many to one @JoinColumn as insertable and updatable to false. This solution is not optimized and will produce some additional UPDATE statements.</p>\n\n<pre><code>@Entity\npublic class Troop {\n    @OneToMany\n    @JoinColumn(name=\"troop_fk\") //we need to duplicate the physical information\n    public Set&lt;Soldier&gt; getSoldiers() {\n    ...\n}\n\n@Entity\npublic class Soldier {\n    @ManyToOne\n    @JoinColumn(name=\"troop_fk\", insertable=false, updatable=false)\n    public Troop getTroop() {\n    ...\n}\n</code></pre>\n", "title": "JPA JoinColumn vs mappedBy", "answer_id": 11939045, "link": "http://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby/11939045#11939045", "tags": ["java", "hibernate", "jpa", "orm"]}, {"body": "<p>The annotation <strong>mappedBy</strong> ideally should always be used in the Parent side (Company class) of the bi directional relationship, in this case it should be in Company class pointing to the member variable 'company' of the Child class (Branch class) </p>\n\n<p>The annotation <strong>@JoinColumn</strong> is used to specify a mapped column for joining an entity association, this annotation can be used in any class (Parent or Child) but it should ideally be used only in one side (either in parent class or in Child class not in both) here in this case i used it in the Child side (Branch class) of the bi directional relationship indicating the foreign key in the Branch class.</p>\n\n<p>below is the working example :</p>\n\n<p><strong>parent class , Company</strong></p>\n\n<pre><code>@Entity\npublic class Company {\n\n\n    private int companyId;\n    private String companyName;\n    private List&lt;Branch&gt; branches;\n\n    @Id\n    @GeneratedValue\n    @Column(name=\"COMPANY_ID\")\n    public int getCompanyId() {\n        return companyId;\n    }\n\n    public void setCompanyId(int companyId) {\n        this.companyId = companyId;\n    }\n\n    @Column(name=\"COMPANY_NAME\")\n    public String getCompanyName() {\n        return companyName;\n    }\n\n    public void setCompanyName(String companyName) {\n        this.companyName = companyName;\n    }\n\n    @OneToMany(fetch=FetchType.LAZY,cascade=CascadeType.ALL,mappedBy=\"company\")\n    public List&lt;Branch&gt; getBranches() {\n        return branches;\n    }\n\n    public void setBranches(List&lt;Branch&gt; branches) {\n        this.branches = branches;\n    }\n\n\n}\n</code></pre>\n\n<p><strong>child class, Branch</strong></p>\n\n<pre><code>@Entity\npublic class Branch {\n\n    private int branchId;\n    private String branchName;\n    private Company company;\n\n    @Id\n    @GeneratedValue\n    @Column(name=\"BRANCH_ID\")\n    public int getBranchId() {\n        return branchId;\n    }\n\n    public void setBranchId(int branchId) {\n        this.branchId = branchId;\n    }\n\n    @Column(name=\"BRANCH_NAME\")\n    public String getBranchName() {\n        return branchName;\n    }\n\n    public void setBranchName(String branchName) {\n        this.branchName = branchName;\n    }\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=\"COMPANY_ID\")\n    public Company getCompany() {\n        return company;\n    }\n\n    public void setCompany(Company company) {\n        this.company = company;\n    }\n\n\n}\n</code></pre>\n", "title": "JPA JoinColumn vs mappedBy", "answer_id": 26754244, "link": "http://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby/26754244#26754244", "tags": ["java", "hibernate", "jpa", "orm"]}, {"body": "<p>I'd just like to add that <code>@JoinColumn</code> does not always have to be related to the <em>physical information location</em> as <a href=\"http://stackoverflow.com/a/11939045/378151\">this</a> answer suggests.  You can combine <code>@JoinColumn</code> with <code>@OneToMany</code> even if the parent table has no table data pointing to the child table.</p>\n\n<p><strong><a href=\"http://stackoverflow.com/a/12041879/378151\">How to define unidirectional OneToMany relationship in JPA</a></strong></p>\n\n<p><strong><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Unidirectional_OneToMany.2C_No_Inverse_ManyToOne.2C_No_Join_Table_.28JPA_2.0_ONLY.29\">Unidirectional OneToMany, No Inverse ManyToOne, No Join Table</a></strong></p>\n\n<p>It seems to only be available in <code>JPA 2.x+</code> though.  It's useful for situations where you want the child class to just contain the ID of the parent, not a full on reference.</p>\n", "title": "JPA JoinColumn vs mappedBy", "answer_id": 32526725, "link": "http://stackoverflow.com/questions/11938253/jpa-joincolumn-vs-mappedby/32526725#32526725", "tags": ["java", "hibernate", "jpa", "orm"]}], "question_id": 11938253}, {"body": "<p>I understand this occurs with Java 7 when using varargs with a generic type;</p>\n\n<p>But my question is..</p>\n\n<p>What exactly does Eclipse mean when it says \"its use could potentially pollute the heap?\"</p>\n\n<p>And </p>\n\n<p>How does the new <code>@SafeVarargs</code> annotation prevent this?</p>\n", "tags": ["java", "eclipse", "generics", "varargs"], "title": "Potential heap pollution via varargs parameter", "answer_count": 4, "creation_date": 1347894252, "score": 210, "link": "http://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter", "answers": [{"body": "<p><code>@SafeVarargs</code> does not prevent it from happening, however it mandates that the compiler is stricter when compiling code that uses it. </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/SafeVarargs.html</a> explains this in futher detail.</p>\n\n<p>Heap pollution is when you get a <code>ClassCastException</code> when doing an operation on a generic interface and it contains another type than declared.</p>\n", "title": "Potential heap pollution via varargs parameter", "answer_id": 12462237, "link": "http://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter/12462237#12462237", "tags": ["java", "eclipse", "generics", "varargs"]}, {"body": "<p>Heap pollution is a technical term. It refers to references which have a type that is not a supertype of the object they point to.</p>\n\n<pre><code>List&lt;A&gt; listOfAs = new ArrayList&lt;&gt;();\nList&lt;B&gt; listOfBs = (List&lt;B&gt;)(Object)listOfAs; // points to a list of As\n</code></pre>\n\n<p>This can lead to \"unexplainable\" <code>ClassCastException</code>s.</p>\n\n<pre><code>// if the heap never gets polluted, this should never throw a CCE\nB b = listOfBs.get(0); \n</code></pre>\n\n<p><code>@SafeVarargs</code> does not prevent this at all. However, there are methods which provably will not pollute the heap, the compiler just can't prove it. Previously callers of such APIs would get annoying warnings that were completely pointless, but had to be suppressed at every call site. Now the API author can suppress it once at the declaration site.</p>\n\n<p>However, if the method actually is <em>not</em> safe, users will no longer be warned.</p>\n", "title": "Potential heap pollution via varargs parameter", "answer_id": 12462259, "link": "http://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter/12462259#12462259", "tags": ["java", "eclipse", "generics", "varargs"]}, {"body": "<p>When you use varargs, it can result in the creation of an <code>Object[]</code> to hold the arguments.</p>\n\n<p>Due to escape analysis, the JIT can optimise away this array creation. (One of the few times I have found it does so) Its not guaranteed to be optimised away, but I wouldn't worry about it unless you see its an issue in your memory profiler.</p>\n\n<p>AFAIK <code>@SafeVarargs</code> suppresses a warning by the compiler and doesn't change how the JIT behaves.</p>\n", "title": "Potential heap pollution via varargs parameter", "answer_id": 12462358, "link": "http://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter/12462358#12462358", "tags": ["java", "eclipse", "generics", "varargs"]}, {"body": "<p>When you declare</p>\n\n<p><code>public static &lt;T&gt; void foo(List&lt;T&gt;... bar)</code> the compiler converts it to</p>\n\n<p><code>public static &lt;T&gt; void foo(List&lt;T&gt;[] bar)</code> then to</p>\n\n<p><code>public static &lt;T&gt; void foo(List[] bar)</code></p>\n\n<p>The danger then arises that you'll mistakenly assign incorrect values into the list and the compiler will not trigger any error. For example, if <code>T</code> is a <code>String</code> then the following code will compile without error but will fail at runtime:</p>\n\n<pre><code>// First, strip away the array type (arrays allow this kind of upcasting)\nObject[] objectArray = bar;\n\n// Next, insert an element with an incorrect type into the array\nobjectArray[0] = Arrays.asList(new Integer(42));\n\n// Finally, try accessing the original array. A runtime error will occur\n// (ClassCastException due to a casting from Integer to String)\nT firstElement = bar[0].get(0);\n</code></pre>\n\n<p>If you reviewed the method to ensure that it doesn't contain such vulnerabilities then you can annotate it with <code>@SafeVarargs</code> to suppress the warning. For interfaces, use <code>@SuppressWarnings(\"unchecked\")</code>.</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/non-reifiable-varargs.html</a></li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution\">http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html#heap_pollution</a></li>\n</ul>\n", "title": "Potential heap pollution via varargs parameter", "answer_id": 16381390, "link": "http://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter/16381390#16381390", "tags": ["java", "eclipse", "generics", "varargs"]}], "question_id": 12462079}, {"body": "<p>Consider:</p>\n\n<pre><code>int[][] multD = new int[5][];\nmultD[0] = new int[10];\n</code></pre>\n\n<p>Is this how you create a two-dimensional array with 5 rows and 10 columns?</p>\n\n<p>I saw this code online, but the syntax didn't make sense.</p>\n", "tags": ["java", "multidimensional-array"], "title": "Syntax for creating a two-dimensional array", "answer_count": 10, "creation_date": 1346533969, "score": 206, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array", "answers": [{"body": "<p>The most common idiom to create a two-dimensional array with <strong>5</strong> rows and <strong>10</strong> columns is:</p>\n\n<pre><code>int[][] multD = new int[5][10];\n</code></pre>\n\n<p><sub>Alternatively, you could use the following, which is more similar to what you have, though you need to explicitly initialize each row:</sub></p>\n\n<pre><code>int[][] multD = new int[5][];\nfor (int i = 0; i &lt; 5; i++) {\n  multD[i] = new int[10];\n}\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 12231467, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/12231467#12231467", "tags": ["java", "multidimensional-array"]}, {"body": "<p>Try:</p>\n\n<pre><code>int[][] multD = new int[5][10];\n</code></pre>\n\n<p>Note that in your code only the first line of the 2D array is initialized to 0.\nLine 2 to 5 don't even exist. If you try to print them you'll get <code>null</code> for everyone of them.</p>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 12231469, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/12231469#12231469", "tags": ["java", "multidimensional-array"]}, {"body": "<p>Try the following:</p>\n\n<pre><code>int[][] multi = new int[5][10];\n</code></pre>\n\n<p>... which is a short hand for something like this:</p>\n\n<pre><code>int[][] multi = new int[5][];\nmulti[0] = new int[10];\nmulti[1] = new int[10];\nmulti[2] = new int[10];\nmulti[3] = new int[10];\nmulti[4] = new int[10];\n</code></pre>\n\n<p>Note that every element will be initialized to the default value for <code>int</code>, <code>0</code>, so the above are also equivalent to:</p>\n\n<pre><code>int[][] multi = new int[][]{\n  { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n  { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n  { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n  { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n  { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\n};\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 12231474, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/12231474#12231474", "tags": ["java", "multidimensional-array"]}, {"body": "<p>You can create them just the way others have mentioned. One more point to add: You can even create a skewed two-dimensional array with each row, not necessarily having the same number of collumns, like this:</p>\n\n<pre><code>int array[][] = new int[3][];\narray[0] = new int[3];\narray[1] = new int[2];\narray[2] = new int[5];\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 12231524, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/12231524#12231524", "tags": ["java", "multidimensional-array"]}, {"body": "<p>We can declare a two dimensional array and directly store elements at the time of its declaration as:</p>\n\n<pre><code>int marks[][]={{50,60,55,67,70},{62,65,70,70,81},{72,66,77,80,69}};\n</code></pre>\n\n<p>Here <em>int</em> represents integer type elements stored into the array and the array name is 'marks'. <em>int</em> is the datatype for all the elements represented inside the \"{\" and \"}\" braces because an array is a collection of elements having the same data type. </p>\n\n<p>Coming back to our statement written above: each row of elements should be written inside the curly braces. The rows and the elements in each row should be separated by a commas.</p>\n\n<p>Now observe the statement: you can get there are 3 rows and 5 columns, so the JVM creates 3 * 5 = 15 blocks of memory. These blocks can be individually referred ta as:</p>\n\n<pre><code>marks[0][0]  marks[0][1]  marks[0][2]  marks[0][3]  marks[0][4]\nmarks[1][0]  marks[1][1]  marks[1][2]  marks[1][3]  marks[1][4]\nmarks[2][0]  marks[2][1]  marks[2][2]  marks[2][3]  marks[2][4]\n</code></pre>\n\n<p><br>\nNOTE:<br>\nIf you want to store <em>n</em> elements then the array index starts from zero and ends at <em>n-1</em>.\nAnother way of creating a two dimensional array is by declaring the array first and then allotting memory for it by using new operator.</p>\n\n<pre><code>int marks[][];           // declare marks array\nmarks = new int[3][5];   // allocate memory for storing 15 elements\n</code></pre>\n\n<p>By combining the above two we can write:</p>\n\n<pre><code>int marks[][] = new int[3][5];\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 18052343, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/18052343#18052343", "tags": ["java", "multidimensional-array"]}, {"body": "<pre><code>int rows = 5;\nint cols = 10;\n\nint[] multD = new int[rows * cols];\n\nfor (int r = 0; r &lt; rows; r++)\n{\n  for (int c = 0; c &lt; cols; c++)\n  {\n     int index = r * cols + c;\n     multD[index] = index * 2;\n  }\n}\n</code></pre>\n\n<p>Enjoy!</p>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 24364764, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/24364764#24364764", "tags": ["java", "multidimensional-array"]}, {"body": "<p>In Java, a two-dimensional array can be declared as the same as a one-dimensional array. In a one-dimensional array you can write like</p>\n\n<pre><code>  int array[] = new int[5];\n</code></pre>\n\n<p>where int is a data type, array[] is an array declaration, and <code>new array</code> is an array with its objects with five indexes.</p>\n\n<p>Like that, you can write a two-dimensional array as the following.</p>\n\n<pre><code>  int array[][];\n  array = new int[3][4];\n</code></pre>\n\n<p>Here <code>array</code> is an int data type. I have firstly declared on a one-dimensional array of that types, then a 3 row and 4 column array is created.</p>\n\n<p>In your code</p>\n\n<pre><code>int[][] multD = new int[5][];\nmultD[0] = new int[10];\n</code></pre>\n\n<p>means that you have created a two-dimensional array, with five rows. In \nthe first row there are 10 columns. In Java you can select the column size for every row as you desire.</p>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 24391692, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/24391692#24391692", "tags": ["java", "multidimensional-array"]}, {"body": "<pre><code>int [][] twoDim = new int [5][5];\n\nint a = (twoDim.length);//5\nint b = (twoDim[0].length);//5\n\nfor(int i = 0; i &lt; a; i++){ // 1 2 3 4 5\n    for(int j = 0; j &lt;b; j++) { // 1 2 3 4 5\n        int x = (i+1)*(j+1);\n        twoDim[i][j] = x;\n        if (x&lt;10) {\n            System.out.print(\" \" + x + \" \");\n        } else {\n            System.out.print(x + \" \");\n        }\n    }//end of for J\n    System.out.println();\n}//end of for i\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 27061360, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/27061360#27061360", "tags": ["java", "multidimensional-array"]}, {"body": "<p>It is also possible to declare it the following way. It's not good design, but it works.</p>\n\n<pre><code>int[] twoDimIntArray[] = new int[5][10];\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 28106304, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/28106304#28106304", "tags": ["java", "multidimensional-array"]}, {"body": "<p>Try this Way:</p>\n\n<pre><code>int a[ ][ ] = { {1,2} , {3,4} };\n\nint b[ ] = {1,2,3,4};\n</code></pre>\n", "title": "Syntax for creating a two-dimensional array", "answer_id": 32859026, "link": "http://stackoverflow.com/questions/12231453/syntax-for-creating-a-two-dimensional-array/32859026#32859026", "tags": ["java", "multidimensional-array"]}], "question_id": 12231453}, {"body": "<p>How to verify that a method is <strong>not</strong> called on an object's dependency?</p>\n\n<p>For example:</p>\n\n<pre><code>public interface Dependency {\n    void someMethod();\n}\n\npublic class Foo {\n    public bar(final Dependency d) {\n        ...\n    }\n}\n</code></pre>\n\n<p>With the Foo test:\n<code>\n<pre>\n    public class FooTest {\n        @Test\n        public void dependencyIsNotCalled() {\n            final Foo foo = new Foo(...);\n            final Dependency dependency = mock(Dependency.class);\n            foo.bar(dependency);\n            <strong>// verify here that someMethod was not called??</strong>\n        }\n    }\n</pre></code></p>\n", "tags": ["java", "tdd", "mockito"], "title": "How to verify that a specific method was not called using Mockito?", "answer_count": 4, "creation_date": 1350056686, "score": 201, "link": "http://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito", "answers": [{"body": "<p>use the second argument on the <code>Mockito.verify</code> method, as in:</p>\n\n<p><code>verify(dependency, <strong>Mockito.times(0)</strong>).someMethod()</code></p>\n", "title": "How to verify that a specific method was not called using Mockito?", "answer_id": 12862662, "link": "http://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito/12862662#12862662", "tags": ["java", "tdd", "mockito"]}, {"body": "<p>Even more meaningful :</p>\n\n<pre><code>import static org.mockito.Mockito.*;\n\n// ...\n\nverify(dependency, never()).someMethod();\n</code></pre>\n\n<p>The documentation of this feature is there <a href=\"http://mockito.github.io/mockito/docs/current/org/mockito/Mockito.html#4\">\u00a74 \"Verifying exact number of invocations / at least x / never\"</a>, and the <code>never</code> javadoc is <a href=\"http://mockito.github.io/mockito/docs/current/org/mockito/Mockito.html#never()\">here</a>.</p>\n", "title": "How to verify that a specific method was not called using Mockito?", "answer_id": 12863072, "link": "http://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito/12863072#12863072", "tags": ["java", "tdd", "mockito"]}, {"body": "<p>As a more general pattern to follow, I tend to use an <code>@After</code> block in the test:</p>\n\n<pre><code>@After\npublic void after() {\n    verifyNoMoreInteractions(&lt;your mock1&gt;, &lt;your mock2&gt;...);\n}\n</code></pre>\n\n<p>Then the test is free to verify only what <em>should</em> be called.</p>\n\n<p>Also, I found that I often forgot to check for \"no interactions\", only to later discover that things were being called that shouldn't have been.</p>\n\n<p>So I find this pattern useful for catching all unexpected calls that haven't specifically been verified.</p>\n", "title": "How to verify that a specific method was not called using Mockito?", "answer_id": 28834881, "link": "http://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito/28834881#28834881", "tags": ["java", "tdd", "mockito"]}, {"body": "<p>Both the verifyNoMoreInteractions() and verifyZeroInteracions() method internally have the same implementation as:</p>\n\n<pre><code>public static transient void verifyNoMoreInteractions(Object mocks[])\n{\n    MOCKITO_CORE.verifyNoMoreInteractions(mocks);\n}\n\npublic static transient void verifyZeroInteractions(Object mocks[])\n{\n    MOCKITO_CORE.verifyNoMoreInteractions(mocks);\n}\n</code></pre>\n\n<p>so we can use any one of them on mock object or array of mock objects to check that no methods have been called using mock objects.</p>\n", "title": "How to verify that a specific method was not called using Mockito?", "answer_id": 36155012, "link": "http://stackoverflow.com/questions/12862659/how-to-verify-that-a-specific-method-was-not-called-using-mockito/36155012#36155012", "tags": ["java", "tdd", "mockito"]}], "question_id": 12862659}, {"body": "<p>I am using <code>Scanner</code> methods <code>nextInt()</code> and <code>nextLine()</code> for reading input. Basically, it looks like this:</p>\n\n<pre><code>System.out.println(\"enter numerical value\");    \nint option;\noption = input.nextInt();//read numerical value from input\nSystem.out.println(\"enter 1st string\"); \nString string1 = input.nextLine();//read 1st string (this is skipped)\nSystem.out.println(\"enter 2nd string\");\nString string2 = input.nextLine();//read 2nd string (this appears right after reading numerical value)\n</code></pre>\n\n<p>The problem is that after entering the numerical value, the first <code>input.nextLine()</code> is skipped and the second <code>input.nextLine()</code> is executed, so that my output looks like this:</p>\n\n<pre><code>Enter numerical value\n3//this is my input\nenter 1st string//the program is supposed to stop here and wait for my input, but is skipped\nenter 2nd string//and this line is executed and waits for my input\n</code></pre>\n\n<p>I tested my application and it looks like the problem lies in using <code>input.nextInt()</code>. If I delete it, then both <code>string1 = input.nextLine()</code> and <code>string2 = input.nextLine()</code> are executed as I want them to be.</p>\n", "tags": ["java", "java.util.scanner"], "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_count": 7, "creation_date": 1351355821, "score": 200, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo", "answers": [{"body": "<p>The problem is with the <strong>input.nextInt()</strong> command it only reads the int value. So when you continue reading with input.nextLine() you receive the \"\\n\" Enter key. So to skip this you have to add the <strong>input.nextLine()</strong>. Hope this should be clear now.</p>\n\n<p>Try it like that:</p>\n\n<pre><code>System.out.print(\"Insert a number: \");\nint number = input.nextInt();\ninput.nextLine(); // This line you have to add (It consumes the \\n character)\nSystem.out.print(\"Text1: \");\nString text1 = input.nextLine();\nSystem.out.print(\"Text2: \");\nString text2 = input.nextLine();\n</code></pre>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 7056782, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/7056782#7056782", "tags": ["java", "java.util.scanner"]}, {"body": "<p>It's because when you enter a number then press <kbd>Enter</kbd>, <code>input.nextInt()</code> consumes only the number, not the \"end of line\". When <code>input.nextLine()</code> executes, it consumes the \"end of line\" still in the buffer from the first input.</p>\n\n<p>Instead, use <code>input.nextLine()</code> immediately after <code>input.nextInt()</code></p>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 7056786, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/7056786#7056786", "tags": ["java", "java.util.scanner"]}, {"body": "<p>Thats because the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt%28%29\"><code>Scanner#nextInt</code></a> method does not consume the <em>last newline</em> character of your input, and thus that <em>newline</em> is consumed in the next call to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine%28%29\"><code>Scanner#nextLine</code></a></p>\n\n<p><strong>Workaround:</strong></p>\n\n<ul>\n<li><p>Either fire a blank <code>Scanner#nextLine</code> call after <code>Scanner#nextInt</code> to consume rest of that line including <em>newline</em> </p>\n\n<pre><code>int option = input.nextInt();\ninput.nextLine();  // Consume newline left-over\nString str1 = input.nextLine();\n</code></pre></li>\n<li><p>Or, it would be even better, if you read the input through <code>Scanner#nextLine</code> and convert your input to integer using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String)\"><code>Integer#parseInt(String)</code></a> method.</p>\n\n<pre><code>int option = 0;\ntry {\n    option = Integer.parseInt(input.nextLine());\n} catch (NumberFormatException e) {\n    e.printStackTrace();\n}\nString str1 = input.nextLine();\n</code></pre></li>\n</ul>\n\n<p>You will encounter the similar behaviour when you use <code>Scanner#nextLine</code> after <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next%28%29\"><code>Scanner#next()</code></a> or any <code>Scanner#nextFoo</code> method (except <code>nextLine</code> itself).</p>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 13102066, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/13102066#13102066", "tags": ["java", "java.util.scanner"]}, {"body": "<p>It does that because <code>input.nextInt();</code> doesn't capture the newline. you could do like the others proposed by adding an <code>input.nextLine();</code> underneath.<br>\nAlternatively you can do it C# style and parse a nextLine to an integer like so:  </p>\n\n<pre><code>int number = Integer.parseInt(input.nextLine()); \n</code></pre>\n\n<p>Doing this works just as well, and it saves you a line of code.</p>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 15046253, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/15046253#15046253", "tags": ["java", "java.util.scanner"]}, {"body": "<p>There seem to be many questions about this issue with <code>java.util.Scanner</code>. I think a more readable/idiomatic solution would be to call <code>scanner.skip(\"[\\r\\n]+\")</code> to drop any newline characters after calling <code>nextInt()</code>.</p>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 22593693, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/22593693#22593693", "tags": ["java", "java.util.scanner"]}, {"body": "<p>Instead of <code>input.nextLine()</code> use <code>input.next()</code>, that should solve the problem.</p>\n\n<p>Modified code:</p>\n\n<pre><code>public static Scanner input = new Scanner(System.in);\n\npublic static void main(String[] args)\n{\n    System.out.print(\"Insert a number: \");\n    int number = input.nextInt();\n    System.out.print(\"Text1: \");\n    String text1 = input.next();\n    System.out.print(\"Text2: \");\n    String text2 = input.next();\n}\n</code></pre>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 24907860, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/24907860#24907860", "tags": ["java", "java.util.scanner"]}, {"body": "<p>Why not use a new Scanner for every reading? Like below. With this approach you will not confront your problem.</p>\n\n<pre><code>int i = new Scanner(System.in).nextInt();\n</code></pre>\n", "title": "Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods", "answer_id": 29030658, "link": "http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo/29030658#29030658", "tags": ["java", "java.util.scanner"]}], "question_id": 13102045}, {"body": "<p>I am reading for SCJP and I have a question regarding this line:</p>\n\n<blockquote>\n  <p>Identifiers must start with a letter, a currency character ($), or a\n  connecting character such as the underscore ( _ ). Identifiers cannot\n  start with a number!</p>\n</blockquote>\n\n<p>It states that a valid identifier name can start with a connecting character <strong>such as</strong> underscore. I thought underscores were the only valid option? What other <em>connecting characters</em> are there?</p>\n", "tags": ["java", "identifier", "scjp"], "title": "Legal identifiers in Java", "answer_count": 7, "creation_date": 1343897666, "score": 189, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java", "answers": [{"body": "<p>iterate through the whole 65k chars and ask <code>Character.isJavaIdentifierStart(c)</code>.\nThe answer is : \"undertie\" decimal 8255</p>\n", "title": "Legal identifiers in Java", "answer_id": 11774137, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/11774137#11774137", "tags": ["java", "identifier", "scjp"]}, {"body": "<p>Here is a list of connecting characters. These are characters used to connect words.</p>\n\n<p><a href=\"http://www.fileformat.info/info/unicode/category/Pc/list.htm\">http://www.fileformat.info/info/unicode/category/Pc/list.htm</a></p>\n\n<pre><code>U+005F  LOW LINE    _   \nU+203F  UNDERTIE    \u203f   \nU+2040  CHARACTER TIE   \u2040   \nU+2054  INVERTED UNDERTIE   \u2054   \nU+FE33  PRESENTATION FORM FOR VERTICAL LOW LINE     \ufe33   \nU+FE34  PRESENTATION FORM FOR VERTICAL WAVY LOW LINE    \ufe34   \nU+FE4D  DASHED LOW LINE     \ufe4d   \nU+FE4E  CENTRELINE LOW LINE     \ufe4e   \nU+FE4F  WAVY LOW LINE   \ufe4f   \nU+FF3F  FULLWIDTH LOW LINE  \uff3f\n</code></pre>\n\n<p>This compiles on Java 7.</p>\n\n<pre><code>int _, \u203f, \u2040, \u2054, \ufe33, \ufe34, \ufe4d, \ufe4e, \ufe4f, \uff3f;\n</code></pre>\n\n<hr>\n\n<p>An example. In this case <code>tp</code> is the name of a column and the value for a given row.</p>\n\n<pre><code>Column&lt;Double&gt; \ufe34tp\ufe34 = table.getColumn(\"tp\", double.class);\n\ndouble tp = row.getDouble(\ufe34tp\ufe34);\n</code></pre>\n\n<hr>\n\n<p>The following</p>\n\n<pre><code>for (int i = Character.MIN_CODE_POINT; i &lt;= Character.MAX_CODE_POINT; i++)\n    if (Character.isJavaIdentifierStart(i) &amp;&amp; !Character.isAlphabetic(i))\n        System.out.print((char) i + \" \");\n}\n</code></pre>\n\n<p>prints</p>\n\n<p>$ _ \u00a2 \u00a3 \u00a4 \u00a5 \u060b \u09f2 \u09f3 \u09fb \u0af1 \u0bf9 \u0e3f \u17db \u203f \u2040 \u2054 \u20a0 \u20a1 \u20a2 \u20a3 \u20a4 \u20a5 \u20a6 \u20a7 \u20a8 \u20a9 \u20aa \u20ab \u20ac \u20ad \u20ae \u20af \u20b0 \u20b1 \u20b2 \u20b3 \u20b4 \u20b5 \u20b6 \u20b7 \u20b8 \u20b9 \ua838 \ufdfc \ufe33 \ufe34 \ufe4d \ufe4e \ufe4f \ufe69 \uff04 \uff3f \uffe0 \uffe1 \uffe5 \uffe6</p>\n", "title": "Legal identifiers in Java", "answer_id": 11774161, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/11774161#11774161", "tags": ["java", "identifier", "scjp"]}, {"body": "<p><a href=\"http://www.fileformat.info/info/unicode/category/Pc/list.htm\" rel=\"nofollow\">Here is a List</a> of connector Characters in Unicode. You will not find them on your keyboard.</p>\n\n<p>U+005F  LOW LINE    _<br>\nU+203F  UNDERTIE    \u203f<br>\nU+2040  CHARACTER TIE   \u2040<br>\nU+2054  INVERTED UNDERTIE   \u2054<br>\nU+FE33  PRESENTATION FORM FOR VERTICAL LOW LINE     \ufe33<br>\nU+FE34  PRESENTATION FORM FOR VERTICAL WAVY LOW LINE    \ufe34<br>\nU+FE4D  DASHED LOW LINE     \ufe4d<br>\nU+FE4E  CENTRELINE LOW LINE     \ufe4e<br>\nU+FE4F  WAVY LOW LINE   \ufe4f<br>\nU+FF3F  FULLWIDTH LOW LINE  \uff3f   </p>\n", "title": "Legal identifiers in Java", "answer_id": 11774167, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/11774167#11774167", "tags": ["java", "identifier", "scjp"]}, {"body": "<p>The definitive specification of a legal Java identifier can be found in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.8\">Java Language Specification</a>.</p>\n", "title": "Legal identifiers in Java", "answer_id": 11774170, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/11774170#11774170", "tags": ["java", "identifier", "scjp"]}, {"body": "<p>Identifiers are names of classes, interfaces, methods, variables and packages.</p>\n\n<p>Identifiers MUST start with </p>\n\n<pre><code> A - Z or a - z\n $ or _\n</code></pre>\n\n<p>Can also contain </p>\n\n<pre><code>  0 - 9\n</code></pre>\n\n<p>Cannot be </p>\n\n<pre><code>  null\n  true or false\n  a keyword\n</code></pre>\n\n<p>No limits on number of characters</p>\n\n<p>(I am not talking about additional Unicode characters)</p>\n\n<p><a href=\"http://choosejava.blogspot.in/2014/04/identifiers-in-java.html\" rel=\"nofollow\">Click here</a> for more</p>\n", "title": "Legal identifiers in Java", "answer_id": 23580431, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/23580431#23580431", "tags": ["java", "identifier", "scjp"]}, {"body": "<p>A connecting character is used to connect two characters.</p>\n\n<p>In Java, a connecting character is the one for which <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#getType%28int%29\" rel=\"nofollow\">Character.getType(int codePoint)</a>/<a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#getType%28char%29\" rel=\"nofollow\">Character.getType(char ch)</a> returns a value equal to <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#CONNECTOR_PUNCTUATION\" rel=\"nofollow\">Character.CONNECTOR_PUNCTUATION</a>.</p>\n\n<p>Note that in Java, the character information is based on Unicode standard which identifies connecting characters by assigning them the general category Pc, which is an alias for <a href=\"http://unicode.org/reports/tr44/#General_Category_Values\" rel=\"nofollow\">Connector_Punctuation</a>.</p>\n\n<p>The following code snippet,</p>\n\n<pre><code>for (int i = Character.MIN_CODE_POINT; i &lt;= Character.MAX_CODE_POINT; i++) {\n    if (Character.getType(i) == Character.CONNECTOR_PUNCTUATION\n            &amp;&amp; Character.isJavaIdentifierStart(i)) {\n        System.out.println(\"character: \" + String.valueOf(Character.toChars(i))\n                + \", codepoint: \" + i + \", hexcode: \" + Integer.toHexString(i));\n    }\n}\n</code></pre>\n\n<p>prints the connecting characters that can be used to start an identifer on jdk1.6.0_45</p>\n\n<pre><code>character: _, codepoint: 95, hexcode: 5f\ncharacter: \u203f, codepoint: 8255, hexcode: 203f\ncharacter: \u2040, codepoint: 8256, hexcode: 2040\ncharacter: \u2054, codepoint: 8276, hexcode: 2054\ncharacter: \u30fb, codepoint: 12539, hexcode: 30fb\ncharacter: \ufe33, codepoint: 65075, hexcode: fe33\ncharacter: \ufe34, codepoint: 65076, hexcode: fe34\ncharacter: \ufe4d, codepoint: 65101, hexcode: fe4d\ncharacter: \ufe4e, codepoint: 65102, hexcode: fe4e\ncharacter: \ufe4f, codepoint: 65103, hexcode: fe4f\ncharacter: \uff3f, codepoint: 65343, hexcode: ff3f\ncharacter: \uff65, codepoint: 65381, hexcode: ff65\n</code></pre>\n\n<p>The following compiles on jdk1.6.0_45,</p>\n\n<pre><code>int _, \u203f, \u2040, \u2054, \u30fb, \ufe33, \ufe34, \ufe4d, \ufe4e, \ufe4f, \uff3f, \uff65 = 0;\n</code></pre>\n\n<p>Apparently, the above declaration fails to compile on jdk1.7.0_80 &amp; jdk1.8.0_51 for the following two connecting characters (backward compatibility...oops!!!),</p>\n\n<pre><code>character: \u30fb, codepoint: 12539, hexcode: 30fb\ncharacter: \uff65, codepoint: 65381, hexcode: ff65\n</code></pre>\n\n<p>Anyway, details aside, <strong><em>the exam focuses only on the Basic Latin character set</em></strong>.</p>\n\n<p><em>Also, for legal identifers in Java, the spec is provided <a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/lexical.html#3.8\" rel=\"nofollow\">here</a>. Use the Character class APIs to get more details.</em></p>\n", "title": "Legal identifiers in Java", "answer_id": 32065830, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/32065830#32065830", "tags": ["java", "identifier", "scjp"]}, {"body": "<p>The list of characters you can use <strong>inside</strong> your identifiers (rather than just at the start) is <em>much</em> more fun:</p>\n\n<pre><code>for (int i = Character.MIN_CODE_POINT; i &lt;= Character.MAX_CODE_POINT; i++)\n    if (Character.isJavaIdentifierPart(i) &amp;&amp; !Character.isAlphabetic(i))\n        System.out.print((char) i + \" \");\n</code></pre>\n\n<p>The list is:</p>\n\n<pre><code>I wanted to post the output, but it's forbidden by the SO spam filter. That's how fun it is!\n</code></pre>\n\n<p>It includes most of the control characters! I mean bells and shit! You can make your source code ring the fn bell! Or use characters which will only be displayed sometimes, like the soft hyphen.</p>\n", "title": "Legal identifiers in Java", "answer_id": 37600805, "link": "http://stackoverflow.com/questions/11774099/legal-identifiers-in-java/37600805#37600805", "tags": ["java", "identifier", "scjp"]}], "question_id": 11774099}, {"body": "<p><img src=\"http://i.stack.imgur.com/T5DP4.jpg\" alt=\"Ok Button not clickable\"></p>\n\n<p>Hi, for some reason, the OK button is not clickable when I try to create an AVD. Does anyone know what I'm doing wrong?</p>\n\n<p>Thanks. </p>\n", "tags": ["java", "android"], "title": "Unable to create Android Virtual Device", "answer_count": 7, "creation_date": 1353483499, "score": 185, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device", "answers": [{"body": "<p>Simply because  CPU/ABI says \"No system images installed for this target\". You need to install a system image.</p>\n\n<p>In the Android SDK Manager check that you have installed \"ARM EABI v7a System Image\" (for each Android version from 4.0 and on you have to install a system image to be able to run a virtual device)</p>\n\n<p>In your case only ARM system image exsits (Android 4.2). If you were running an older version, Intel has provided System Images (Intel x86 ATOM). You can check on the internet to see the comparison in performance between both.</p>\n\n<p>In my case (see image below) I haven't installed a System Image for Android 4.2, whereas I have installed ARM and Intel System Images for 4.1.2</p>\n\n<p>As long as I don't install the 4.2 System Image I would have the same problem as you.</p>\n\n<p><strong>UPDATE</strong> : This recent article <a href=\"http://software.intel.com/en-us/articles/speeding-up-the-android-emulator-on-intel-architecture\">Speeding Up the Android Emaulator on Intel Architectures</a> explains how to use/install correctly the intel system images to speed up the emulator.</p>\n\n<p><strong>EDIT/FOLLOW UP</strong></p>\n\n<p>What I show in the picture is for Android 4.2, as it was the original question, but is true for every versions of Android.</p>\n\n<p>Of course (as @RedPlanet said), if you are developing for MIPS CPU devices you have to install the \"MIPS System Image\".</p>\n\n<p>Finally, as @SeanJA said, <strong>you have to restart eclipse</strong> to see the new installed images. But for me, I always restart a software which I updated to be sure it takes into account all the modifications, and I assume it is a good practice to do so.  </p>\n\n<p><img src=\"http://i.stack.imgur.com/GQal9.jpg\" alt=\"enter image description here\"></p>\n", "title": "Unable to create Android Virtual Device", "answer_id": 13488547, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/13488547#13488547", "tags": ["java", "android"]}, {"body": "<p>Had to restart the Eclipse after completing the installation of ARM EABI v7a system image.</p>\n", "title": "Unable to create Android Virtual Device", "answer_id": 15403931, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/15403931#15403931", "tags": ["java", "android"]}, {"body": "<p>This can happen when:</p>\n\n<ul>\n<li><p><strong>You have multiple copies of the Android SDK installed on your machine.</strong> \nYou may be updating the available images and devices for one\ncopy of the Android SDK, and trying to debug or run your application in another. </p>\n\n<p>If you're using Eclipse, take a look at your <strong>\"Preferences | Android\n| SDK Location</strong>\". Make sure it's the path you expect. If not, change\nthe path to point to where you think the Android SDK is installed.</p></li>\n<li><p>You don't have an Android device setup in your emulator as detailed in other answers on this page.</p></li>\n</ul>\n", "title": "Unable to create Android Virtual Device", "answer_id": 16363318, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/16363318#16363318", "tags": ["java", "android"]}, {"body": "<p>I had to move the folders inside a folder named \"default\" to the android-## folder so Eclipse could see the images.</p>\n", "title": "Unable to create Android Virtual Device", "answer_id": 22209910, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/22209910#22209910", "tags": ["java", "android"]}, {"body": "<p>I had the same problem while creating AVD with 4.2.2 images, I resolved it by doing the following :</p>\n\n<ol>\n<li><p>Check if there exist a \"default\" folder in adt-bundle-windows-x86_64-20131030\\sdk\\system-images\\android-17.</p></li>\n<li><p>If it exists then move the contents(downloaded system images) of the \"default\" folder to \nadt-bundle-windows-x86_64-20131030\\sdk\\system-images\\android-17.</p></li>\n</ol>\n\n<p>Hope this helps.  </p>\n", "title": "Unable to create Android Virtual Device", "answer_id": 22424071, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/22424071#22424071", "tags": ["java", "android"]}, {"body": "<p>There is a new possible error for this one related to the latest Android Wear technology.  I was trying to get an emulator started for the wear SDK in preparation for next week.  The API level only supports it in the latest build of 4.4.2 KitKat.</p>\n\n<p>So if you are using something such as the wearable, it starts the default off still in Eclipse as 2.3.3 Gingerbread.  Be sure that your target matches the lowest possible supported target.  For the wearables its the latest 19 KitKat.</p>\n", "title": "Unable to create Android Virtual Device", "answer_id": 24328106, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/24328106#24328106", "tags": ["java", "android"]}, {"body": "<p>For Ubuntu and running android-studio run to install the packages (these are not installed by default):</p>\n\n<pre><code>android update sdk\n</code></pre>\n", "title": "Unable to create Android Virtual Device", "answer_id": 26068763, "link": "http://stackoverflow.com/questions/13488419/unable-to-create-android-virtual-device/26068763#26068763", "tags": ["java", "android"]}], "question_id": 13488419}, {"body": "<p>I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?</p>\n", "tags": ["java", "android", "multithreading"], "title": "How to check if current thread is not main thread", "answer_count": 4, "creation_date": 1341914940, "score": 177, "link": "http://stackoverflow.com/questions/11411022/how-to-check-if-current-thread-is-not-main-thread", "answers": [{"body": "<pre><code>Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n\n<p>if this returns true, then you're on the UI thread!</p>\n", "title": "How to check if current thread is not main thread", "answer_id": 11411087, "link": "http://stackoverflow.com/questions/11411022/how-to-check-if-current-thread-is-not-main-thread/11411087#11411087", "tags": ["java", "android", "multithreading"]}, {"body": "<p>you can use below code  to know if current thread is UI/Main thread or not</p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p>or you can also use this </p>\n\n<pre><code>if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/a/8714032/519718\">Here is similar question</a></p>\n", "title": "How to check if current thread is not main thread", "answer_id": 11411116, "link": "http://stackoverflow.com/questions/11411022/how-to-check-if-current-thread-is-not-main-thread/11411116#11411116", "tags": ["java", "android", "multithreading"]}, {"body": "<p>you can verify it in android ddms logcat where process id will be same but thread id will be different.</p>\n", "title": "How to check if current thread is not main thread", "answer_id": 11411195, "link": "http://stackoverflow.com/questions/11411022/how-to-check-if-current-thread-is-not-main-thread/11411195#11411195", "tags": ["java", "android", "multithreading"]}, {"body": "<p>The best way is the clearest way: *</p>\n\n<pre><code>Thread.currentThread() == Looper.getMainLooper().getThread()\n</code></pre>\n\n<p>Or, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:</p>\n\n<pre><code>Looper.getMainLooper().isCurrentThread()\n</code></pre>\n\n<p>See the <a href=\"http://developer.android.com/reference/android/os/Looper.html\">Looper API</a>.  Note that calling <code>Looper.getMainLooper()</code> involves synchonization (see the <a href=\"https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\">source</a>).  You might want to avoid the overhead by storing the return value and reusing it.</p>\n\n<p>&nbsp;&nbsp;&nbsp;* <em>credit <a href=\"http://stackoverflow.com/a/3273018/2402790\">greg7gkb</a></em></p>\n", "title": "How to check if current thread is not main thread", "answer_id": 34052602, "link": "http://stackoverflow.com/questions/11411022/how-to-check-if-current-thread-is-not-main-thread/34052602#34052602", "tags": ["java", "android", "multithreading"]}], "question_id": 11411022}, {"body": "<p>I'm using IDEA 12 Leda on Mountain Lion. I wanted to increase the maximum memory that IDE can use. I set the VMOptions in Info.plist file to be\n<code>-Xmx2048m -ea -XX:+HeapDumpOnOutOfMemoryError -Xverify:none -Xbootclasspath/a:../lib/boot.jar</code></p>\n\n<p>When I open up IDEA, I still see the maximum memory to be 711m.</p>\n\n<p><code>jps -v</code> shows my VMOptions has been loaded but it's replaced by the following options.</p>\n\n<pre><code>29388  **-Xmx2048m** -ea -XX:+HeapDumpOnOutOfMemoryError -Xverify:none -Xbootclasspath/a:../lib/boot.jar -Xms128m **-Xmx800m** -XX:MaxPermSize=350m -XX:ReservedCodeCacheSize=64m -XX:+UseCodeCacheFlushing -XX:+UseCompressedOops -Didea.paths.selector=IdeaIC12 -Dsun.java2d.noddraw=true -Didea.max.intellisense.filesize=2500 -Didea.dynamic.classpath=false -Didea.jars.nocopy=false -Dsun.java2d.d3d=false -Dapple.awt.fullscreencapturealldisplays=false -Dapple.laf.useScreenMenuBar=true -Djava.endorsed.dirs= -Dswing.bufferPerWindow=false -Didea.fatal.error.notification=enabled -Didea.cycle.buffer.size=1024 -Didea.popup.weight=heavy -Didea.xdebug.key=-Xdebug -Dapple.awt.graphics.UseQuartz=true -Dsun.java2d.pmoffscreen=false -Didea.no.launcher=false -DCVS_PASSFILE=~/.cvspass -Didea.use.default.antialiasing.in.editor=false -Dcom.apple.mrj.application.live-resize=false -Didea.smooth.progress=false\n29392 Jps -Dapplication.home=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home -Xms8m\n</code></pre>\n\n<p>Where does <code>-Xmx800</code> come from? I need to remove it.</p>\n", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"], "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_count": 7, "creation_date": 1353994995, "score": 172, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac", "answers": [{"body": "<p>Since IDEA 15.0.4 you can use <code>Help</code> | <code>Edit Custom VM Options...</code>:</p>\n\n<p><a href=\"http://i.stack.imgur.com/U4WaX.png\"><img src=\"http://i.stack.imgur.com/U4WaX.png\" alt=\"Edit Custom VM Options\"></a></p>\n\n<p>This will automatically create a copy of the <code>.vmoptions</code> file in the config folder and open a dialog to edit it.</p>\n\n<hr>\n\n<p>IntelliJ IDEA 12 is a signed application, therefore changing options in <code>Info.plist</code> is no longer recommended, as the signature will not match and you will get issues depending on your system security settings (app will either not run, or firewall will complain on every start, or the app will not be able to use the system keystore to save passwords).</p>\n\n<p>As a result of addressing <a href=\"http://youtrack.jetbrains.com/issue/IDEA-94050\">IDEA-94050</a> a new way to supply JVM options was introduced in IDEA 12:</p>\n\n<blockquote>\n  <p>Now it can take VM options from\n  <code>~/Library/Preferences/&lt;appFolder&gt;/idea.vmoptions</code> and system properties\n  from <code>~/Library/Preferences/&lt;appFolder&gt;/idea.properties</code>.</p>\n</blockquote>\n\n<p>For example, to use <strong>-Xmx2048m</strong> option you should copy the original <code>.vmoptions</code> file from <code>/Applications/IntelliJ IDEA.app/bin/idea.vmoptions</code> to <code>~/Library/Preferences/IntelliJIdea12/idea.vmoptions</code>, then modify the <code>-Xmx</code> setting.</p>\n\n<p>The final file should look like:</p>\n\n<pre><code>-Xms128m\n-Xmx2048m\n-XX:MaxPermSize=350m\n-XX:ReservedCodeCacheSize=64m\n-XX:+UseCodeCacheFlushing\n-XX:+UseCompressedOops\n</code></pre>\n\n<p>Copying the original file is important, as options are <strong>not added</strong>, they are <strong>replaced</strong>.</p>\n\n<p>This way your custom options will be preserved between updates and application files will remain unmodified making signature checker happy.</p>\n\n<hr>\n\n<p><strong>Community Edition</strong>: <code>~/Library/Preferences/IdeaIC12/idea.vmoptions</code> file is used instead.</p>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 13581526, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/13581526#13581526", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}, {"body": "<p>On my machine this only works in <code>bin/idea.vmoptions</code>, adding the setting in <code>~/Library/Preferences/IntelliJIdea12/idea.vmoptions</code> causes the IDEA to hang during startup.</p>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 13601276, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/13601276#13601276", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}, {"body": "<p>It looks like IDEA solves this for you (like everything else).  When loading a large project and letting it thrash, it will open a dialog to up the memory settings.  Entering 2048 for Xmx and clicking \"Shutdown\", then restarting IDEA makes IDEA start up with more memory.  This seems to work well for Mac OS, though it never seems to persist for me on Windows (not sure about IDEA 12).</p>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 16115758, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/16115758#16115758", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}, {"body": "<p>Here is a link to the latest documentation as of today <a href=\"http://www.jetbrains.com/idea/webhelp/increasing-memory-heap.html\">http://www.jetbrains.com/idea/webhelp/increasing-memory-heap.html</a></p>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 17153643, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/17153643#17153643", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}, {"body": "<p>go to that path \"C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 12.1.4\\bin\\idea.exe.vmoptions\"\n and change size to -Xmx512m</p>\n\n<pre><code>  -Xms128m\n  -Xmx512m\n  -XX:MaxPermSize=250m\n  -XX:ReservedCodeCacheSize=64m\n  -XX:+UseCodeCacheFlushing\n  -ea\n  -Dsun.io.useCanonCaches=false\n  -Djava.net.preferIPv4Stack=true\n</code></pre>\n\n<p>hope its will work</p>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 17524784, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/17524784#17524784", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}, {"body": "<p>OSX 10.9, if you dont bother about signed application you might just change</p>\n\n<pre><code>/Applications/IntelliJ\\ IDEA\\ 12\\ CE.app/bin/idea.vmoptions\n</code></pre>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 19830140, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/19830140#19830140", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}, {"body": "<p>For IDEA 13 and OS X 10.9 Mavericks, the correct paths are:</p>\n\n<p>Original: /Applications/IntelliJ IDEA 13.app/Contents/bin/idea.vmoptions</p>\n\n<p>Copy to: ~/Library/Preferences/IntelliJIdea13/idea.vmoptions</p>\n", "title": "How to increase IDE memory limit in IntelliJ IDEA on Mac?", "answer_id": 26488366, "link": "http://stackoverflow.com/questions/13578062/how-to-increase-ide-memory-limit-in-intellij-idea-on-mac/26488366#26488366", "tags": ["java", "osx", "intellij-idea", "jvm-arguments"]}], "question_id": 13578062}, {"body": "<p>I can not initialize a List as in the following code:</p>\n\n<pre><code>List&lt;String&gt; supplierNames = new List&lt;String&gt;();\nsupplierNames.add(\"sup1\");\nsupplierNames.add(\"sup2\");\nsupplierNames.add(\"sup3\");\nSystem.out.println(supplierNames.get(1));\n</code></pre>\n\n<p>I face the following error:  </p>\n\n<blockquote>\n  <p>Cannot instantiate the type <code>List&lt;String&gt;</code></p>\n</blockquote>\n\n<p>How can I instantiate <code>List&lt;String&gt;</code>?</p>\n", "tags": ["java", "list"], "title": "How to initialize List&lt;String&gt; object in Java?", "answer_count": 8, "creation_date": 1352973669, "score": 164, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java", "answers": [{"body": "<p>You will need to use <code>ArrayList&lt;String&gt;</code> or such.</p>\n\n<p><code>List&lt;String&gt;</code> is an interface.</p>\n\n<p>Use this:  </p>\n\n<pre><code>import java.util.ArrayList;\n\n...\n\nList&lt;String&gt; supplierNames = new ArrayList&lt;String&gt;();\n</code></pre>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395126, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395126#13395126", "tags": ["java", "list"]}, {"body": "<p>List is an interface, and you can not initialize an interface. Instantiate an implementing class instead.</p>\n\n<p>Like:</p>\n\n<pre><code>List&lt;String&gt; abc = new ArrayList&lt;String&gt;();\nList&lt;String&gt; xyz = new LinkedList&lt;String&gt;();\n</code></pre>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395134, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395134#13395134", "tags": ["java", "list"]}, {"body": "<p>List is an INTERFACE, You cannot Initialize an Interface, this is correct:</p>\n\n<pre><code>List&lt;String&gt; supplierNames = new ArrayList&lt;String&gt;(); \nor\nList&lt;String&gt; supplierNames = new LinkedList&lt;String&gt;();\n</code></pre>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395145, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395145#13395145", "tags": ["java", "list"]}, {"body": "<p>Depending on what kind of List you want to use, something like</p>\n\n<pre><code>List&lt;String&gt; supplierNames = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>should get you going.</p>\n\n<p>List is the interface, ArrayList is one implementation of the List interface. More implementations that may better suit your needs can be found by reading the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"nofollow\">JavaDocs of the List interface</a>.</p>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395149, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395149#13395149", "tags": ["java", "list"]}, {"body": "<p>List is an Interface . You cant use List to initialize it.</p>\n\n<pre><code>  List&lt;String&gt; supplierNames = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>These are the some of List impelemented classes,</p>\n\n<pre><code>ArrayList, LinkedList, Vector\n</code></pre>\n\n<p>You could use any of this as per your requirement. These each classes have its own features.</p>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395156, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395156#13395156", "tags": ["java", "list"]}, {"body": "<p>List is just an interface, a definition of some generic list. You need to provide an implementation of this list interface. Two most common are:</p>\n\n<p><strong>ArrayList</strong> - a list implemented over an array</p>\n\n<pre><code>List&lt;String&gt; supplierNames = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p><strong>LinkedList</strong> - a list implemented like an interconnected chain of elements</p>\n\n<pre><code>List&lt;String&gt; supplierNames = new LinkedList&lt;String&gt;();\n</code></pre>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395219, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395219#13395219", "tags": ["java", "list"]}, {"body": "<p>If you check the <code>API</code> for <code>List</code> <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\">http://docs.oracle.com/javase/6/docs/api/java/util/List.html</a> you'll notice it says:</p>\n\n<pre><code>Interface List&lt;E&gt;\n</code></pre>\n\n<p>Being an <code>interface</code> means it cannot be instantiated (no <code>new List()</code> is possible).</p>\n\n<p>If you check that link, you'll find some <code>class</code>es that implement <code>List</code>:</p>\n\n<blockquote>\n  <p>All Known Implementing Classes:</p>\n  \n  <p><code>AbstractList</code>, <code>AbstractSequentialList</code>, <code>ArrayList</code>, <code>AttributeList</code>, <code>CopyOnWriteArrayList</code>, <code>LinkedList</code>, <code>RoleList</code>, <code>RoleUnresolvedList</code>, <code>Stack</code>, <code>Vector</code></p>\n</blockquote>\n\n<p>Those can be instantiated. Use their links to know more about them, I.E: to know which fits better your needs.</p>\n\n<p>The 3 most commonly used ones probably are:</p>\n\n<pre><code> List&lt;String&gt; supplierNames1 = new ArrayList&lt;String&gt;();\n List&lt;String&gt; supplierNames2 = new LinkedList&lt;String&gt;();\n List&lt;String&gt; supplierNames3 = new Vector&lt;String&gt;();\n</code></pre>\n\n<hr>\n\n<p>Bonus:<br>\nYou can also instantiate it with values, in an easier way, using the <code>Arrays</code> <code>class</code>, as follows:</p>\n\n<pre><code>List&lt;String&gt; supplierNames = Arrays.asList(\"sup1\", \"sup2\", \"sup3\");\nSystem.out.println(supplierNames.get(1));\n</code></pre>\n\n<p>But note you are not allowed to add more elements to that list, as it's <code>fixed-size</code>.</p>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 13395230, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/13395230#13395230", "tags": ["java", "list"]}, {"body": "<p>In most cases you want simple <code>ArrayList</code> - an implementation of <code>List</code></p>\n\n<p>Before JDK version 7</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>JDK 7 and later you can use the diamond operator</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Further informations are written here <a href=\"http://docs.oracle.com/javase/tutorial/collections\" rel=\"nofollow\">Oracle documentation - Collections</a></p>\n", "title": "How to initialize List&lt;String&gt; object in Java?", "answer_id": 32931815, "link": "http://stackoverflow.com/questions/13395114/how-to-initialize-liststring-object-in-java/32931815#32931815", "tags": ["java", "list"]}], "question_id": 13395114}, {"body": "<p>What is the difference between <strong>JVM</strong>, <strong>JDK</strong>, <strong>JRE</strong> &amp; <strong>OpenJDK</strong>?</p>\n\n<p>I was programming in Java and I encountered these phrases, what are the differences between them?</p>\n", "tags": ["java", "jvm", "openjdk"], "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_count": 17, "creation_date": 1342634171, "score": 157, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk", "answers": [{"body": "<ul>\n<li>JVM is Java Virtual Machine -- the JVM actually runs Java bytecode.</li>\n<li>JDK is Java Developer Kit -- the JDK is what you need to compile Java source code.</li>\n<li>JRE is Java Runtime Environment -- is what you need to run a Java program and contains a JVM, among other things.</li>\n</ul>\n\n<p>OpenJDK is a specific JDK implementation.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 11547497, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/11547497#11547497", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>JVM</strong> is the virtual machine Java code executes on</p>\n\n<p><strong>JRE</strong> is the environment (standard libraries and JVM) required to run Java applications</p>\n\n<p><strong>JDK</strong> is the JRE with developer tools and documentation</p>\n\n<p><strong>OpenJDK</strong> is an open-source version of the JDK, unlike the common JDK owned by Oracle</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 11547540, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/11547540#11547540", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>A <strong>Java virtual machine (JVM)</strong> is a virtual machine that can execute Java bytecode. It is the code execution component of the Java software platform.</p>\n\n<p>The <strong>Java Development Kit (JDK)</strong> is an Oracle Corporation product aimed at Java developers. Since the introduction of Java, it has been by far the most widely used Java Software Development Kit (SDK).</p>\n\n<p><strong>Java Runtime Environment</strong>, is also referred to as the Java Runtime, Runtime Environment</p>\n\n<p><strong>OpenJDK (Open Java Development Kit)</strong> is a free and open source implementation of the Java programming language. It is the result of an effort Sun Microsystems began in 2006. The implementation is licensed under the GNU General Public License (GPL) with a linking exception. </p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 11547559, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/11547559#11547559", "tags": ["java", "jvm", "openjdk"]}, {"body": "<h1>JVM</h1>\n\n<p>The <strong>Java Virtual machine</strong> (JVM) is the virtual machine that run the Java bytecodes. The JVM doesn't understand Java source code, that's why you compile your <code>*.java</code> files to obtain <code>*.class</code> files that contain the bytecodes understandable by the JVM. It's also the entity that allows Java to be a \"portable language\" (<em>write once, run anywhere</em>). Indeed there are specific implementations of the JVM for different systems (Windows, Linux, MacOS, <a href=\"http://en.wikipedia.org/wiki/List_of_Java_virtual_machines\">see the wikipedia list</a>..), the aim is that with the same bytecodes they all give the same results.</p>\n\n<h1>JDK and JRE</h1>\n\n<p>To explain the difference between JDK and JRE, the best is to read the <a href=\"http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140763.html\">Oracle documentation</a> and consult the diagram :</p>\n\n<blockquote>\n  <p><strong>Java Runtime Environment (JRE)</strong></p>\n  \n  <p>The Java Runtime Environment (JRE) provides the libraries, the Java Virtual Machine, and other components to run applets and applications written in the Java programming language. In addition, two key deployment technologies are part of the JRE: Java Plug-in, which enables applets to run in popular browsers; and Java Web Start, which deploys standalone applications over a network. It is also the foundation for the technologies in the Java 2 Platform, Enterprise Edition (J2EE) for enterprise software development and deployment. The JRE does not contain tools and utilities such as compilers or debuggers for developing applets and applications.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p><strong>Java Development Kit (JDK)</strong></p>\n  \n  <p>The JDK is a superset of the JRE, and contains everything that is in the JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications.</p>\n</blockquote>\n\n<p>Note that Oracle is not the only one to provide JDK.</p>\n\n<h1>OpenJDK</h1>\n\n<p>The <strong><a href=\"http://openjdk.java.net/faq/\">OpenJDK</a></strong> is the open-source implementation of the Java SE 7 JSR (<a href=\"http://www.jcp.org/en/jsr/detail?id=336\">JSR 336</a>).\nNow there is almost no difference between the Oracle JDK and the OpenJDK. Last year, Oracle took this decision :\n<a href=\"https://blogs.oracle.com/henrik/entry/moving_to_openjdk_as_the\">Moving to OpenJDK as the official Java SE 7 Reference Implementation</a> </p>\n\n<p>The differences are state in this <a href=\"https://blogs.oracle.com/henrik/entry/java_7_questions_answers\">blog</a> :</p>\n\n<blockquote>\n  <p>Q: What is the difference between the source code found in the OpenJDK repository, and the code you use to build the Oracle JDK?</p>\n  \n  <p>A: It is very close - our build process for Oracle JDK releases builds on OpenJDK 7 by adding just a couple of pieces, like the deployment code, which includes Oracle's implementation of the Java Plugin and Java WebStart, as well as some closed source third party components like a graphics rasterizer, some open source third party components, like Rhino, and a few bits and pieces here and there, like additional documentation or third party fonts. Moving forward, our intent is to open source all pieces of the Oracle JDK except those that we consider commercial features such as JRockit Mission Control (not yet available in Oracle JDK), and replace encumbered third party components with open source alternatives to achieve closer parity between the code bases.</p>\n</blockquote>\n\n<p>Depending on used version, VM can differ : <a href=\"https://gist.github.com/rednaxelafx/925323\">Correspondence between Sun/Oracle JDK, OpenJDK and HotSpot VM versions</a></p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 11580321, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/11580321#11580321", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>Another aspect worth mentioning:</p>\n\n<p><strong>JDK (java development kit)</strong> </p>\n\n<p>You will need it for development purposes like the name suggest.</p>\n\n<p>For example: a software company will have JDK install in their computer because they will need to develop new software which involves compiling and running their Java programs as well.</p>\n\n<p>So we can say that JDK = JRE + JVM.</p>\n\n<p><strong>JRE (java run-time environment)</strong></p>\n\n<p>It's needed to run Java programs. You can't compile Java programs with it . </p>\n\n<p>For example: a regular computer user who wants to run some online games then will need JRE in his system to run Java programs.</p>\n\n<p><strong>JVM (java virtual machine)</strong> </p>\n\n<p>As you might know it run the bytecodes. It make Java platform independent because it executes the <code>.class</code> file which you get after you compile the Java program regardless of whether you compile it on Windows, Mac or Linux.</p>\n\n<p><strong>Open JDK</strong></p>\n\n<p>Well, like I said above. Now JDK is made by different company, one of them which happens to be an open source and free for public use is OpenJDK, while some others are Oracle Corporation's JRockit JDK or IBM JDK.</p>\n\n<p>However they all might appear the same to general user.</p>\n\n<p><strong>Conclusion</strong> </p>\n\n<p>If you are a Java programmer you will need JDK in your system and this package will include JRE and JVM as well but if you are normal user who like to play online games then you will only need JRE and this package will not have JDK in it.</p>\n\n<p>In other words JDK is grandfather JRE is father and JVM is their son.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 16365953, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/16365953#16365953", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>JDK (Java Development Kit)</strong></p>\n\n<p>Java Developer Kit contains tools needed to develop the Java programs, and JRE to run the programs. The tools include compiler (javac.exe), Java application launcher (java.exe), Appletviewer, etc\u2026</p>\n\n<p>Compiler converts java code into byte code. Java application launcher opens a JRE, loads the class, and invokes its main method.</p>\n\n<p>You need JDK, if at all you want to write your own programs, and to compile them. For running java programs, JRE is sufficient.</p>\n\n<p>JRE is targeted for execution of Java files</p>\n\n<p><strong>i.e.</strong> JRE = JVM + Java Packages Classes(like util, math, lang, awt,swing etc)+runtime libraries.</p>\n\n<p>JDK is mainly targeted for java development. I.e. You can create a Java file (with the help of Java packages), compile a Java file and run a java file.</p>\n\n<p><strong>JRE (Java Runtime Environment)</strong></p>\n\n<p>Java Runtime Environment contains JVM, class libraries, and other supporting files. It does not contain any development tools such as compiler, debugger, etc. Actually JVM runs the program, and it uses the class libraries, and other supporting files provided in JRE. If you want to run any java program, you need to have JRE installed in the system</p>\n\n<p>The Java Virtual Machine provides a platform-independent way of executing code;\nThat mean compile once in any machine and run it any where(any machine).</p>\n\n<p><strong>JVM (Java Virtual Machine)</strong></p>\n\n<p>As we all aware when we compile a Java file, output is not an \u2018exe\u2019 but it\u2019s a \u2018.class\u2019 file. \u2018.class\u2019 file consists of Java byte codes which are understandable by JVM. Java Virtual Machine interprets the byte code into the machine code depending upon the underlying operating system and hardware combination. It is responsible for all the things like garbage collection, array bounds checking, etc\u2026 JVM is platform dependent.</p>\n\n<p>The JVM is called \u201cvirtual\u201d because it provides a machine interface that does not depend on the underlying operating system and machine hardware architecture. This independence from hardware and operating system is a cornerstone of the write-once run-anywhere value of Java programs.</p>\n\n<p>There are different JVM implementations are there. These may differ in things like performance, reliability, speed, etc. These implementations will differ in those areas where Java specification doesn\u2019t mention how to implement the features, like how the garbage collection process works is JVM dependent, Java spec doesn\u2019t define any specific way to do this.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 17100740, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/17100740#17100740", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>Simply:</strong></p>\n\n<p><strong>JDK</strong> (Java Development Kit) :</p>\n\n<ul>\n<li>contains tools needed to develop the Java programs.</li>\n<li>You need JDK, if at all you want to write your own programs, and to compile them. </li>\n<li>JDK is mainly targeted for java development.</li>\n</ul>\n\n<p><strong>JRE</strong> (Java Runtime Environment)</p>\n\n<p>Java Runtime Environment contains JVM, class libraries, and other supporting files.\nJRE is targeted for execution of Java files.</p>\n\n<p><strong>JVM</strong> (Java Virtual Machine)</p>\n\n<p>The JVM <strong>interprets the byte code into the machine code</strong> depending upon the underlying operating system and hardware combination. It is responsible for all the things like garbage collection, array bounds checking, etc\u2026 Java Virtual Machine provides a platform-independent way of executing code.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 17644817, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/17644817#17644817", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>JVM</strong> : this actually means the byte code interpreter .It is platform dependent. For eg: in      Windows platform the '<em>java.exe</em>' or '<em>javaw.exe</em>' precess is the jvm process.</p>\n\n<p><strong>JDK</strong> : is a toolkit containing necessary libraries and utilities to develop and execute java program/application</p>\n\n<p><strong>JRE</strong>: is the execution environment for a java application.ie, it only support runtime dependencies including jvm for compiled program. If we want to compile a java program we need jdk. </p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 19291699, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/19291699#19291699", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>Java Virtual Machine (JVM)</p>\n\n<p>When you download JRE and install on your machine you got all the code required to create JVM. Java Virtual Machine is get created when you run a java program using java command e.g. java HelloWorld. JVM is responsible for converting byte code into machine specific code and that's why you have different JVM for Windows, Linux or Solaris but one JAR can run on all this operating system. Java Virtual machine is at heart of Java programming language and provide several feature to Java programmer including Memory Management and Garbage Collection, Security and other system level services. Java Virtual Machine can be customized e.g we can specify starting memory or maximum memory of heap size located inside JVM at the time of JVM creation. If we supplied invalid argument to java command it may refuse to create Java Virtual Machine by saying \"failed to create Java virtual machine: invalid argument\". In short Java Virtual Machine or JVM is the one who provides Platform independence to Java.</p>\n\n<p>Java Development Kit (JDK)</p>\n\n<p>JDK is also loosely referred as JRE but its lot more than JRE and it provides all the tools and executable require to compile debug and execute Java Program. Just like JRE, JDK is also platform specific and you need to use separate installer for installing JDK on Linux and Windows. Current Version of JDK is 1.7 which is also referred as Java7 and it contains javac (java compiler) based on programming rules of Java7 and Java which can execute java7 code with new features like String in Switch, fork-join framework or Automatic Resource Management. When you install JDK, installation folder is often referred as JAVA_HOME. All binaries are located inside JAVA_HOME/bin which includes javac, java and other binaries and they must be in your system PATH in order to compile and execute Java programs. For details on Path see how to set PATH for Java in Windows and UNIX.</p>\n\n<p>Java Runtime Environment (JRE)</p>\n\n<p>Java is every where in browser, in mobile, in TV or in set-top boxes and if you are into Java programming language than you know that Java code which is bundled in JAR (Java archive) file require Java virtual machine JVM to execute it. Now JVM is an executable or program like any other program and you can install that into your machine. You have seen browser often suggesting download JRE to run a Java Applet downloaded from Internet. Various version of JRE are available in java.oracle.com and most of the user who just want to execute Java program inside browser or standalone downloads JRE. All browsers including Internet Explorer, Firefox and Chrome can work with JRE.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 23077352, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/23077352#23077352", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>Java is the language and includes a strict and strongly typed syntax with which you should be very familiar by now.</p>\n\n<p>Java 2 Platform, Standard Edition, also known as J2SE, referred to the platform and included the classes in the java.lang and java.io packages, among others. It was the building block that Java applications were built upon.</p>\n\n<p>A Java Virtual Machine, or JVM, is a software virtual machine that runs compiled Java code. Because compiled Java code is merely bytecode, the JVM is responsible for compiling that bytecode to machine code before running it. (This is often called the Just In Time Compiler or JIT Compiler.) The JVM also takes care of memory management so that application code doesn\u2019t have to.</p>\n\n<p>The Java Development Kit, or JDK, was and remains the piece of software Java developers use to create Java applications. It contains a Java language compiler, a documentation generator, tools for working with native code, and (typically) the Java source code for the platform to enable debugging platform classes.</p>\n\n<p>The Java Runtime Environment, or JRE, was and remains the piece of software end users download to run compiled Java applications. It includes a JVM but does not contain any of the development tools bundled in the JDK. The JDK, however, does contain a JRE.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 24786712, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/24786712#24786712", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>JVM</strong> Java Virtual Machine , actually executes the java bytecode.\nIt is the execution block on the JAVA platform. It converts the bytecode to the machine code.</p>\n\n<p><strong>JRE</strong> Java Runtime Environment , provides the minimum requirements for executing a Java application; it consists of the Java Virtual Machine (JVM), core classes, and supporting files.</p>\n\n<p><strong>JDK</strong> Java Development Kit, it has all the tools to develop your application software. It is as JRE+JVM</p>\n\n<p><strong>Open JDK</strong>  is a free and open source implementation of the Java Platform.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 26560139, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/26560139#26560139", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>In layman terms:- <em>JDK = JRE + Development/debugging tools</em>, where JDK is our complete package to work with Java, from creating compiling till running it.On the other hand JRE is just of running of code(Byte Code).</p>\n\n<p>Note:- Whether we are installing JDK or JRE, JVM would come bundled with both the packages and JVM is the part where JIT compiler converts the byte code into the machine specific code.</p>\n\n<p>Just read the article on <a href=\"http://www.ufthelp.com/2015/02/key-components-of-java.html\" rel=\"nofollow\">JDK,JRE ,JVM and JIT</a></p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 28458376, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/28458376#28458376", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>JVM</p>\n\n<p>JVM (Java Virtual Machine) is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.\nJVMs are available for many hardware and software platforms. </p>\n\n<p>JRE</p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime.</p>\n\n<p>JDK</p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools.</p>\n\n<p>Link :- <a href=\"http://www.javatpoint.com/difference-between-jdk-jre-and-jvm\" rel=\"nofollow\">http://www.javatpoint.com/difference-between-jdk-jre-and-jvm</a></p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 29766499, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/29766499#29766499", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>JDK</strong> - Compiles java to Byte Code. Consists of debuggers, Compilers etc</p>\n\n<pre><code>javac file.java // Is executed using JDK\n</code></pre>\n\n<p><strong>JVM</strong> - Executes the byte code. JVM is the one which makes java platform independent. But JVM varies for platforms  </p>\n\n<p><strong>JRE</strong> - JRE comprises of JVM along with java runtime libraries to execute java programs.</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 31751352, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/31751352#31751352", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p>In simple words :</p>\n\n<p>JVM : A specification which describes the the way/resources to run a java program. Actually executes the byte code and make java platform independent. In doing so, it is different for different platform. JVM for windows cannot work as JVM for UNIX.</p>\n\n<p>JRE : Implementation of JVM. (JVM + run time libraries)</p>\n\n<p>JDK : JRE + java compiler and other essential tools to build a java program from scratch</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 31846342, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/31846342#31846342", "tags": ["java", "jvm", "openjdk"]}, {"body": "<blockquote>\n  <p><strong><em>Java Runtime Environment (JRE)</em></strong><br>\n  Java is every where in browser, in mobile, in TV or in set-top boxes and if you are into Java programming language than you know that Java code which is bundled in JAR (Java archive) file require Java virtual machine JVM to execute it. Now JVM is an executable or program like any other program and you can install that into your machine. You have seen browser often suggesting download JRE to run a Java Applet downloaded from Internet. Various version of JRE are available in java.oracle.com and most of the user who just want to execute Java program inside browser or standalone downloads JRE. All browsers including Internet Explorer, Firefox and Chrome can work with JRE.</p>\n  \n  <p><strong><em>Java Virtual Machine (JVM)</em></strong><br>\n  When you download JRE and install on your machine you got all the code required to create JVM. Java Virtual Machine is get created when you run a java program using java command e.g. java HelloWorld. JVM is responsible for converting byte code into machine specific code and that's why you have different JVM for Windows, Linux or Solaris but one JAR can run on all this operating system. Java Virtual machine is at heart of Java programming language and provide several feature to Java programmer including Memory Management and Garbage Collection, Security and other system level services. Java Virtual Machine can be customized e.g we can specify starting memory or maximum memory of heap size located inside JVM at the time of JVM creation. If we supplied invalid argument to java command it may refuse to create Java Virtual Machine by saying \"failed to create Java virtual machine: invalid argument\". In short Java Virtual Machine or JVM is the one who provides Platform independence to Java.</p>\n  \n  <p><strong><em>Java Development Kit (JDK)</em></strong><br>\n  JDK is also loosely referred as JRE but its lot more than JRE and it provides all the tools and executable require to compile debug and execute Java Program. Just like JRE, JDK is also platform specific and you need to use separate installer for installing JDK on Linux and Windows. Current Version of JDK is 1.7 which is also referred as Java7 and it contains javac (java compiler) based on programming rules of Java7 and Java which can execute java7 code with new features like String in Switch, fork-join framework or Automatic Resource Management. When you install JDK, installation folder is often referred as JAVA_HOME. All binaries are located inside JAVA_HOME/bin which includes javac, java and other binaries and they must be in your system PATH in order to compile and execute Java programs. For details on Path see how to set PATH for Java in Windows and UNIX.</p>\n  \n  <p><strong>Difference between JRE, JDK and JVM</strong><br>\n  In short here are few differences between JRE, JDK and JVM:</p>\n  \n  <p>1)  JRE and JDK come as installer while JVM are bundled with them.<br>\n  2)  JRE only contain environment to execute java program but doesn\u2019t contain other tool for compiling java program.<br>\n  3)  JVM comes along with both JDK and JRE and created when you execute Java program by giving \u201cjava\u201d command.  </p>\n</blockquote>\n\n<p><a href=\"http://javarevisited.blogspot.in/2011/12/jre-jvm-jdk-jit-in-java-programming.html?m=1\" rel=\"nofollow\">Go through this Link for viewing comments on this description</a></p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 38035480, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/38035480#38035480", "tags": ["java", "jvm", "openjdk"]}, {"body": "<p><strong>JDK</strong>: The complete package which you need to write and run java code</p>\n\n<p><strong>OpenJDK</strong>: An independent implementation of JDK for making it much better</p>\n\n<p><strong>JVM</strong>: Converts Java code into bytecode and provides the specifications which tells how should a Java code be compiled, loaded, verified, checked for errors and executed.</p>\n\n<p><strong>JRE</strong>: Implementation of the JVM with which some Java libraries are used to Run the program</p>\n", "title": "What is the difference between JVM, JDK, JRE &amp; OpenJDK?", "answer_id": 39122531, "link": "http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk/39122531#39122531", "tags": ["java", "jvm", "openjdk"]}], "question_id": 11547458}, {"body": "<p>I'm trying to understand what makes the lock in concurrency so important if one can use <code>synchronized (this)</code>. In the dummy code below, I can do either:</p>\n\n<ol>\n<li>synchronized the entire method or synchronize the vulnerable area (synchronized(this){...})</li>\n<li>OR lock the vulnerable code area with a ReentrantLock .</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>private final ReentrantLock lock =  new ReentrantLock(); \n    private static List&lt;Integer&gt; ints;\n\n    public Integer getResult(String name) { \n        .\n        .\n        .\n        lock.lock();\n        try{\n            if (ints.size()==3) {\n                ints=null;\n                return -9;\n            }   \n\n            for (int x=0; x&lt;ints.size(); x++) {\n                System.out.println(\"[\"+name+\"] \"+x+\"/\"+ints.size()+\". values &gt;&gt;&gt;&gt;\"+ints.get(x));\n            }\n\n        }finally {\n            lock.unlock();\n        } \n        return random;\n}\n</code></pre>\n", "tags": ["java", "multithreading", "concurrency", "synchronize", "reentrantlock"], "title": "Why use a ReentrantLock if one can use synchronized(this)?", "answer_count": 5, "creation_date": 1344218919, "score": 157, "link": "http://stackoverflow.com/questions/11821801/why-use-a-reentrantlock-if-one-can-use-synchronizedthis", "answers": [{"body": "<p>ReentrantReadWriteLock is a specialized lock whereas synchornized(this) is a general purpose lock. They are similar but not quite the same.</p>\n\n<p>You are right in that you could use synchronized(this) instead of ReentrantReadWriteLock but the opposite is not always true.</p>\n\n<p>If you'd like to better understand what makes ReentrantReadWriteLock special look up some information about producer-consumer thread synchronization.</p>\n\n<p>In general you can remember that whole-method synchronization and general purpose synchronization (using the synchronized keyword) can be used in most applications without thinking <em>too much</em> about the semantics of the synchronization but if you need to squeeze performance out of your code you may need to explore other more fine-grained, or special-purpose synchronization mechanisms.</p>\n\n<p>By the way, using synchronized(this) - and in general locking using a public class instance - can be problematic because it opens up your code to potential dead-locks because somebody else not knowingly might try to lock against your object somewhere else in the program.</p>\n", "title": "Why use a ReentrantLock if one can use synchronized(this)?", "answer_id": 11821823, "link": "http://stackoverflow.com/questions/11821801/why-use-a-reentrantlock-if-one-can-use-synchronizedthis/11821823#11821823", "tags": ["java", "multithreading", "concurrency", "synchronize", "reentrantlock"]}, {"body": "<p>A <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\">ReentrantLock</a> is <em>unstructured</em>, unlike <code>synchronized</code> constructs -- i.e.  you don't need to use a block structure for locking and can even hold a lock across methods. An example:</p>\n\n<pre><code>private ReentrantLock lock;\n\npublic void foo() {\n  ...\n  lock.lock();\n  ...\n}\n\npublic void bar() {\n  ...\n  lock.unlock();\n  ...\n}\n</code></pre>\n\n<p>Such flow is impossible to represent via a single monitor in a <code>synchronized</code> construct.</p>\n\n<hr>\n\n<p>Aside from that, <code>ReentrantLock</code> supports <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#tryLock()\">lock polling</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#tryLock(long,%20java.util.concurrent.TimeUnit)\">interruptible lock waits that support time-out</a>. <code>ReentrantLock</code> also has support for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#ReentrantLock(boolean)\">configurable <em>fairness</em> policy</a>, allowing more flexible thread scheduling.</p>\n\n<blockquote>\n  <p>The constructor for this class accepts an optional <em>fairness</em> parameter. When set <code>true</code>, under contention, locks favor granting access to the longest-waiting thread. Otherwise this lock does not guarantee any particular access order. Programs using fair locks accessed by many threads may display lower overall throughput (i.e., are slower; often much slower) than those using the default setting, but have smaller variances in times to obtain locks and guarantee lack of starvation. Note however, that fairness of locks does not guarantee fairness of thread scheduling. Thus, one of many threads using a fair lock may obtain it multiple times in succession while other active threads are not progressing and not currently holding the lock. Also note that the untimed <code>tryLock</code> method does not honor the fairness setting. It will succeed if the lock is available even if other threads are waiting.</p>\n</blockquote>\n\n<hr>\n\n<p><code>ReentrantLock</code> <strong>may</strong> also be <a href=\"http://lycog.com/concurency/performance-reentrantlock-synchronized/\"><strong>more scalable</strong></a>, performing much better under higher contention. You can read more about this <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp10264/\">here</a>.</p>\n\n<p>This claim has been contested, however; see the following comment:</p>\n\n<blockquote>\n  <p>In the reentrant lock test, a new lock is created each time, thus there is no exclusive locking and the resulting data is invalid. Also, the IBM link offers no source code for the underlying benchmark so its impossible to characterize whether the test was even conducted correctly. </p>\n</blockquote>\n\n<hr>\n\n<p>When should you use <code>ReentrantLock</code>s? According to that developerWorks article...</p>\n\n<blockquote>\n  <p>The answer is pretty simple -- use it when you actually need something it provides that <code>synchronized</code> doesn't, like timed lock waits, interruptible lock waits, non-block-structured locks, multiple condition variables, or lock polling. <code>ReentrantLock</code> also has scalability benefits, and you should use it if you actually have a situation that exhibits high contention, but remember that the vast majority of <code>synchronized</code> blocks hardly ever exhibit any contention, let alone high contention. I would advise developing with synchronization until synchronization has proven to be inadequate, rather than simply assuming \"the performance will be better\" if you use <code>ReentrantLock</code>. Remember, these are advanced tools for advanced users. (And truly advanced users tend to prefer the simplest tools they can find until they're convinced the simple tools are inadequate.) As always, make it right first, and then worry about whether or not you have to make it faster.</p>\n</blockquote>\n", "title": "Why use a ReentrantLock if one can use synchronized(this)?", "answer_id": 11821900, "link": "http://stackoverflow.com/questions/11821801/why-use-a-reentrantlock-if-one-can-use-synchronizedthis/11821900#11821900", "tags": ["java", "multithreading", "concurrency", "synchronize", "reentrantlock"]}, {"body": "<p>A reentrant lock will allow the lock holder to enter blocks of code even after it has already obtained the lock by entering other blocks of code. A non-reentrant lock would have the lock holder block on itself as it would have to release the lock it obtained from another block of code to reobtain that same lock to enter the nested lock requiring block of code</p>\n\n<pre><code> public synchronized void functionOne() {\n\n // do something\n\n functionTwo();\n\n // do something else\n\n // redundant, but permitted...\n synchronized(this) {\n // do more stuff\n } \n }\n\n public synchronized void functionTwo() {\n // do even more stuff!\n }\n</code></pre>\n\n<h1>Extended capabilities of reentrant lock include :-</h1>\n\n<p>1) The ability to have more than one condition variable per monitor. Monitors that use the synchronized keyword can only have one. This means reentrant locks support more than one wait()/notify() queue.\n2) The ability to make the lock \"fair\". \"[fair] locks favor granting access to the longest-waiting thread. Otherwise this lock does not guarantee any particular access order.\" Synchronized blocks are unfair.\n3) The ability to check if the lock is being held.\n4) The ability to get the list of threads waiting on the lock.</p>\n\n<h1>Disadvantages of reentrant locks are :-</h1>\n\n<p>Need to add import statement.\nNeed to wrap lock acquisitions in a try/finally block. This makes it more ugly than the synchronized keyword.\nThe synchronized keyword can be put in method definitions which avoids the need for a block which reduces nesting.</p>\n\n<h1>When to use :-</h1>\n\n<ol>\n<li>ReentrantLock might be more apt to use if you need to implement a thread that traverses a linked list, locking the next node and then unlocking the current node.</li>\n<li>Synchronized keyword is apt in situation such as lock coarsening, provides adaptive spinning,biased locking and the potential for lock elision via escape analysis. Those optimizations aren't currently implemented for ReentrantLock.</li>\n</ol>\n\n<p>For more information visit: <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp10264/\">http://www.ibm.com/developerworks/java/library/j-jtp10264/</a></p>\n", "title": "Why use a ReentrantLock if one can use synchronized(this)?", "answer_id": 22061393, "link": "http://stackoverflow.com/questions/11821801/why-use-a-reentrantlock-if-one-can-use-synchronizedthis/22061393#22061393", "tags": ["java", "multithreading", "concurrency", "synchronize", "reentrantlock"]}, {"body": "<p>From oracle documentation page about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow\">ReentrantLock</a>:</p>\n\n<blockquote>\n  <p>A reentrant mutual exclusion Lock with the same basic behaviour and semantics as the implicit monitor lock accessed using synchronized methods and statements, but with extended capabilities.</p>\n</blockquote>\n\n<ol>\n<li><p>A <code>ReentrantLock</code> is owned by the thread last successfully locking, but not yet unlocking it.  A thread invoking lock will return, successfully acquiring the lock, when the lock is not owned by another thread. The method will return immediately if the current thread already owns the lock.</p></li>\n<li><p>The constructor for this class accepts an optional <code>fairness</code> parameter. When set true, under contention, <code>locks favor granting access to the longest-waiting thread</code>. Otherwise this lock does not guarantee any particular access order.</p></li>\n</ol>\n\n<p><code>ReentrantLock</code> key features as per this <a href=\"http://javarevisited.blogspot.com/2013/03/reentrantlock-example-in-java-synchronized-difference-vs-lock.html#ixzz3uIbhr77e\" rel=\"nofollow\">article</a></p>\n\n<ol>\n<li>Ability to lock interruptibly.</li>\n<li>Ability to timeout while waiting for lock.</li>\n<li>Power to create fair lock.</li>\n<li>API to get list of waiting thread for lock.</li>\n<li>Flexibility to try for lock without blocking.</li>\n</ol>\n\n<p>You can use  <code>ReentrantReadWriteLock.ReadLock, ReentrantReadWriteLock.WriteLock</code> to further acquire control on granular locking on read and write operations.</p>\n\n<p>Have a look at this <a href=\"http://winterbe.com/posts/2015/04/30/java8-concurrency-tutorial-synchronized-locks-examples/\" rel=\"nofollow\">article</a> by Benjamen on usage of different type of <code>ReentrantLocks</code> </p>\n", "title": "Why use a ReentrantLock if one can use synchronized(this)?", "answer_id": 36827191, "link": "http://stackoverflow.com/questions/11821801/why-use-a-reentrantlock-if-one-can-use-synchronizedthis/36827191#36827191", "tags": ["java", "multithreading", "concurrency", "synchronize", "reentrantlock"]}, {"body": "<p>You can use reentrant locks with a fairness policy  or timeout to avoid thread starvation.  You can apply a  thread fairness policy.   it will help avoid a thread waiting forever to get to your resources. </p>\n\n<pre><code>private final ReentrantLock lock = new ReentrantLock(true);\n//the param true turns on the fairness policy. \n</code></pre>\n\n<p>The \"fairness policy\" picks the next runnable thread to execute. It is based on priority, time since last run, blah blah</p>\n\n<p>also,\nSynchronize can block indefinitely if it cant escape the block. Reentrantlock can have timeout set.  </p>\n", "title": "Why use a ReentrantLock if one can use synchronized(this)?", "answer_id": 37900587, "link": "http://stackoverflow.com/questions/11821801/why-use-a-reentrantlock-if-one-can-use-synchronizedthis/37900587#37900587", "tags": ["java", "multithreading", "concurrency", "synchronize", "reentrantlock"]}], "question_id": 11821801}, {"body": "<p>I saw some method in java declared as:</p>\n\n<pre><code>void foo(@Nullable Object obj)\n{ ... }\n</code></pre>\n\n<p>What's the meaning of <code>@Nullable</code> here? Does it mean the input could be <code>null</code>? \nWithout the annotation, the input can still be null, so I guess that's not just it?</p>\n\n<p>Thanks</p>\n", "tags": ["java", "annotations"], "title": "@Nullable annotation usage", "answer_count": 3, "creation_date": 1356731647, "score": 148, "link": "http://stackoverflow.com/questions/14076296/nullable-annotation-usage", "answers": [{"body": "<p>It makes it clear that the method accepts null values, and that if you override the method, you should also accept null values.</p>\n\n<p>It also serves as a hint for code analyzers like <a href=\"http://findbugs.sourceforge.net/\">FindBugs</a>. For example, if such a method dereferences its argument without checking for null first, FindBugs will emit a warning.</p>\n", "title": "@Nullable annotation usage", "answer_id": 14076320, "link": "http://stackoverflow.com/questions/14076296/nullable-annotation-usage/14076320#14076320", "tags": ["java", "annotations"]}, {"body": "<p>This annotation is commonly used to eliminate <code>NullPointerExceptions</code>. <code>@Nullable</code> is often says that this parameter might be <code>null</code>. Good example of such behaviour can be found in <a href=\"http://code.google.com/p/google-guice/wiki/UseNullable\">Google Guice</a>. In this lightweight dependency injection framework you tell that this dependency might be <code>null</code>. If you would try to pass <code>null</code> and without annotation the framework would refuse to do it's job.</p>\n\n<p>What is more <code>@Nullable</code> might be used with <code>@NotNull</code> annotation. Here you can <a href=\"http://www.jetbrains.com/idea/documentation/howto.html\">find</a> some tips how to use them properly. Code inspection in IntelliJ checks the annotations and helps to debug the code.</p>\n", "title": "@Nullable annotation usage", "answer_id": 14076324, "link": "http://stackoverflow.com/questions/14076296/nullable-annotation-usage/14076324#14076324", "tags": ["java", "annotations"]}, {"body": "<p>Different tools may interpret the meaning of <code>@Nullable</code> differently. For example, the <a href=\"http://types.cs.washington.edu/checker-framework/\">Checker Framework</a> and <a href=\"http://findbugs.sourceforge.net/\">FindBugs</a> handle <code>@Nullable</code> <a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#findbugs-nullable\">differently</a>.</p>\n", "title": "@Nullable annotation usage", "answer_id": 14076610, "link": "http://stackoverflow.com/questions/14076296/nullable-annotation-usage/14076610#14076610", "tags": ["java", "annotations"]}], "question_id": 14076296}, {"body": "<p>In C#, C++ and Java, when you create a constructor taking parameters, the default parameterless one goes away. I have always just accepted this fact, but now I've started wondering why.</p>\n\n<p>What is the reason for this behavior? Is it just a \"safety measure/guess\" saying \"If you've created a constructor of your own, you <em>probably</em> don't want this implicit one hanging around\"?\nOr does it have a technical reason that makes it impossible for the compiler to add one once you have created a constructor yourself?</p>\n", "tags": ["c#", "java", "c++", "default-constructor"], "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_count": 10, "creation_date": 1343983084, "score": 147, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with", "answers": [{"body": "<p>There's no reason that the compiler couldn't add the constructor if you've added your own - the compiler could do pretty much whatever it wants!  However, you have to look at what makes most sense:</p>\n\n<ul>\n<li>If I haven't defined <em>any</em> constructor for a non-static class, I most likely want to be able to instantiate that class.  In order to allow that, the compiler <em>must</em> add a parameterless constructor, which will have no effect but to allow instantiation.  This means that I don't have to include an empty constructor in my code just to make it work.</li>\n<li>If I've defined a constructor of my own, especially one with parameters, then I most likely have logic of my own that must be executed on creating the class.  If the compiler were to create an empty, parameterless constructor in this case, it would allow someone to <em>skip</em> the logic that I had written, which might lead to my code breaking in all number of ways.  If I want a default empty constructor in this case, I need to say so explicitly.</li>\n</ul>\n\n<p>So, in each case, you can see that the behaviour of current compilers makes the most sense in terms of preserving the <em>likely intent</em> of the code.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11792280, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11792280#11792280", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>The default, parameterless constructor is added if you don't do anything yourself to take control over object creation. Once you've created a single constructor to take control, the compiler \"backs off\" and let you have the full control.</p>\n\n<p>If it wouldn't be this way, you would need some explicit way of disabling the default constructor if you only want objects to be constructable through a constructor with parameters.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11792283, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11792283#11792283", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>There's certainly no technical reason why the language <em>has</em> to be designed this way.</p>\n\n<p>There are four somewhat-realistic options that I can see:</p>\n\n<ol>\n<li>No default constructors at all</li>\n<li>The current scenario</li>\n<li><em>Always</em> providing a default constructor by default, but allowing it to be explicitly suppressed</li>\n<li>Always providing a default constructor <em>without</em> allowing it to be suppressed</li>\n</ol>\n\n<p>Option 1 is somewhat attractive, in that the more I code the less often I <em>really</em> want a parameterless constructor. Some day I should count just how often I <em>actually</em> end up using a default constructor...</p>\n\n<p>Option 2 I'm fine with.</p>\n\n<p>Option 3 goes against the flow of both Java and C#, for the rest of the language. There's never anything that you explicitly \"remove\", unless you count explicitly making things more private than they would be by default in Java.</p>\n\n<p>Option 4 is horrible - you <em>absolutely</em> want to be able to force construction with certain parameters. What would <code>new FileStream()</code> even mean?</p>\n\n<p>So basically, <em>if</em> you accept the premise that providing a default constructor makes sense at all, I believe it makes a lot of sense to suppress it as soon as you provide your own constructor.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11792284, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11792284#11792284", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>I think the question should be the other way around: Why don't you need to declare a default constructor if you haven't defined any other constructors?  </p>\n\n<p>A constructor is mandatory for non-static classes.<br>\nSo i think if you haven't defined any constructors, the generated default constructor is just a convenient feature of the C# compiler, also your class wouldn't be valid without a constructor. So nothing wrong with implicitly generating a constructor that does nothing. It certainly looks cleaner than having empty constructors all around.    </p>\n\n<p>If you have already defined a constructor, your class is valid, so why should the compiler assume you want a default constructor? What if you don't want one? Implement an attribute to tell the compiler to not generate that default constructor? I don't think that would be a good idea.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11792307, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11792307#11792307", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>It's a convenience function of the compiler.\nIf you define a Constructor with parameters but don't define a parameterless constructor, the possibility that you don't want to allow a parameterless constructor is much higher.</p>\n\n<p>This is the case for many objects that just don't make sense to initialize with an empty constructor.</p>\n\n<p>Otherwise you'd have to declare a private parameterless constructor for each class that you want to restrict.</p>\n\n<p>In my opinion it's not good style to allow a parameterless constructor for a class that needs parameters to function.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11792318, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11792318#11792318", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>Edit. Actually, while what I say in my first answer is valid, this is the real reason.:</p>\n\n<p>In the beginning there was C. C is not object-oriented (you can take an OO approach, but it doesn't help you or enforce anything).</p>\n\n<p>Then there was C With Classes, that was later renamed C++. C++ is object-oriented, and therefore encourages encapsulation, and ensuring an object's invariant - upon construction and at the beginning and end of any method, the object is in a valid state.</p>\n\n<p>The natural thing to do with this, is to enforce that a class must always have a constructor to ensure it starts in a valid state - if the constructor doesn't have to do anything to ensure this, then the empty constructor will document this fact.</p>\n\n<p>But a goal with C++ was to be compatible with C to the point that as much as possible, all valid C programs where also valid C++ programs (no longer as active a goal, and the evolution of C separate to C++ means it no longer holds).</p>\n\n<p>One effect of this was the duplication in functionality between <code>struct</code> and <code>class</code>. The former doing things the C way (everything public by default) and the latter doing things in a good OO way (everything private by default, developer actively makes public what they want public).</p>\n\n<p>Another is that in order for a C <code>struct</code>, which couldn't have a constructor because C doesn't have constructors, to be valid in C++, then there had to be a meaning for this to the C++ way of looking at it. And so, while not having a constructor would go against the OO practice of actively ensuring an invariant, C++ took this to mean that there was a default parameterless constructor that acted like it had an empty body.</p>\n\n<p>All C <code>structs</code> were now valid C++ <code>structs</code>, (which meant they were the same as C++ <code>classes</code> with everything - members and inheritance - public) treated from the outside as if it had a single, parameterless constructor.</p>\n\n<p>If however you did put a constructor in a <code>class</code> or <code>struct</code>, then you were doing things the C++/OO way rather than the C way, and there was no need for a default constructor.</p>\n\n<p>Since it served as a shorthand, people kept using it even when compatibility wasn't possible otherwise (it used other C++ features not in C).</p>\n\n<p>Hence when Java came along (based on C++ in many ways) and later C# (based on C++ and Java in different ways), they kept this approach as something coders may already be used to.</p>\n\n<p>Stroustrup writes about this in his <em>The C++ Programming Language</em> and even more so, with more focus upon the \"whys\" of the language in <em>The Design and Evolution of C++</em>.</p>\n\n<p>=== Original Answer ===</p>\n\n<p>Let's say this didn't happen.</p>\n\n<p>Let's say I don't want a parameterless constructor, because I can't put my class into a meaningful state without one. Indeed, this is something that can happen with <code>struct</code> in C# (but if you can't make meaningful use of an all-zeros-and-nulls <code>struct</code> in C# you're at best using a non-publicly-visible optimisation, and otherwise have a design flaw in using <code>struct</code>).</p>\n\n<p>To make my class able to protect its invariants, I need a special <code>removeDefaultConstructor</code> keyword. At the very least, I'd need to create a private parameterless constructor to make sure no calling code calls the default.</p>\n\n<p>Which complicates the language some more. Better not to do it.</p>\n\n<p>In all, it's best not to think of adding a constructor as removing the default, better to think of having no constructor at all as syntactic sugar for adding a parameterless constructor that doesn't do anything.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11799074, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11799074#11799074", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>The default constructor can be constructed only when the class doesn't have a constructor. Compilers are written in such a way as to provide this only as a backup mechanism.</p>\n\n<p>If you have a parameterized constructor, you may not want an object to be created using the default constructor. Had the compiler provided a default constructor, you would have had to write a no-arg constructor and make it private in order to prevent objects being created using no arguments.</p>\n\n<p>Also, there would be higher chances of you forgetting disabling, or 'privatising' the default constructor, and thereby causing a potential functional error hard to catch.</p>\n\n<p>And now you have to explicitly define a no-arg constructor if you'd like an object to be created either the default way or by passing parameters. This is strongly checked, and the compiler complains otherwise, thereby ensuring no loophole here.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 11802632, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/11802632#11802632", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p><strong>Premise</strong></p>\n\n<p>This behaviour can be seen as a natural extension of the <em>decision for classes to have a default public parameterless constructor</em>. Based on the question that's been asked we take this decision as a premise and assume that we are not questioning it in this instance.</p>\n\n<p><strong>Ways to Remove Default Constructor</strong></p>\n\n<p>It follows that there must be a way to remove the default public parameterless constructor. This removal could be accomplished in the following ways:</p>\n\n<ol>\n<li>Declare a non-public parameterless constructor</li>\n<li>Automatically remove the parameterless constructor when a constructor with parameters is declared</li>\n<li>Some keyword / attribute to indicate to the compiler to remove the parameterless constructor (awkward enough that it is easy to rule out)</li>\n</ol>\n\n<p><strong>Selecting the Best Solution</strong></p>\n\n<p>Now we ask ourselves: <em>If there is no parameterless constructor, what must it be replaced by?</em> and <em>Under what types of scenarios would we want to remove the default public parameterless constructor?</em></p>\n\n<p>Things start to fall in place. Firstly, it must either be replaced with a constructor with parameters, or with a non-public constructor. Secondly, the scenarios under which you do not want a parameterless constructor are:</p>\n\n<ol>\n<li>We do not want the class to be instantiated at all, or we want to control the visibility of the constructor: <em>declare a non-public constructor</em></li>\n<li>We want to force parameters to be provided on construction: <em>declare a constructor with parameters</em></li>\n</ol>\n\n<p><strong>Conclusion</strong></p>\n\n<p>There we have it -- exactly the two ways that C#, C++ and Java allow the removal of the default public parameterless constructor.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 12126629, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/12126629#12126629", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>Its because when you do not define a constructor the compiler automatically generates a constructor for you which does not take any arguments. When you want something more out of a constructor, you over-ride it. This is NOT function overloading. So the only constructor that the compiler sees now is your constructor which takes an argument. To counter this problem you can pass a default value if the constructor is passed with no value.</p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 12127861, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/12127861#12127861", "tags": ["c#", "java", "c++", "default-constructor"]}, {"body": "<p>I think this is handled by the compiler. If you open the <code>.net</code> assembly in <code>ILDASM</code> you will see the default constructor, even if it is not in the code. If you define a parameterized constructor the default constructor will not bee seen. </p>\n\n<p>Actually when you define the class (non static), the compiler provides this feature thinking that you will be just creating an instance. And if you want any specific operation to perform you surely will be having your own constructor. </p>\n", "title": "Why does the default parameterless constructor go away when you create one with parameters", "answer_id": 12146774, "link": "http://stackoverflow.com/questions/11792207/why-does-the-default-parameterless-constructor-go-away-when-you-create-one-with/12146774#12146774", "tags": ["c#", "java", "c++", "default-constructor"]}], "question_id": 11792207}, {"body": "<p>For the first time in my life I find myself in a position where I'm writing a Java API that will be open sourced. Hopefully to be included in many other projects.</p>\n\n<p>For logging I (and indeed the people I work with) have always used JUL (java.util.logging) and never had any issues with it. However now I need to understand in more detail what I should do for my API development. I've done some research on this and with the information I've got I just get more confused. Hence this post.</p>\n\n<p>Since I come from JUL I'm biased on that. My knowledge of the rest is not that big.</p>\n\n<p>From the research I've done I've come up with these reasons why people do not like JUL:</p>\n\n<ol>\n<li><p><em>\"I started developing in Java long before Sun released JUL and it was just easier for me to continue with logging-framework-X rather than to learn something new\"</em>. Hmm. I'm not kidding, this is actually what people say. With this argument we could all be doing COBOL. (however I can certainly relate to this being a lazy dude myself)</p></li>\n<li><p><em>\"I don't like the names of the logging levels in JUL\"</em>. Ok, seriously, this is just not enough of a reason to introduce a new dependency.</p></li>\n<li><p><em>\"I don't like the standard format of the output from JUL\"</em>. Hmm. This is just configuration. You do not even have to do anything code-wise. (true, back in old days you may have had to create your own Formatter class to get it right).</p></li>\n<li><p><em>\"I use other libraries that also use logging-framework-X so I thought it easier just to use that one\"</em>. This is a cyclic argument, isn't ? Why does 'everybody' use logging-framework-X and not JUL?</p></li>\n<li><p><em>\"Everybody else is using logging-framework-X\"</em>. This to me is just a special case of the above. Majority is not always right.</p></li>\n</ol>\n\n<p>So the real big question is <strong>why not JUL?</strong>. What is it I have missed ? The raison d'\u00eatre for logging facades (SLF4J, JCL) is that multiple logging implementations have existed historically and the reason for that really goes back to the era before JUL as I see it. If JUL was perfect then logging facades wouldn't exist, or what? Rather than embracing them shouldn't we question why they were necessary in the first place? (and see if those reasons still exist)</p>\n\n<p>Ok, my research so far has led to a couple of things that I can see may be <strong>real issues</strong> with JUL:</p>\n\n<ol>\n<li><p><strong>Performance</strong>. Some say that performance in SLF4J is superior to the rest. This seems to me to be a case of premature optimization. If you need to log hundreds of megabytes per second then I'm not sure you are on the right path anyway. JUL has also evolved and the tests you did on Java 1.4 may no longer be true. You can read about it <a href=\"http://jeremymanson.blogspot.dk/2009/04/faster-logging-with-faster-logger.html\">here</a> and this fix has made it into Java 7. Many also talk about the overhead of string concatenation in logging methods. However template based logging avoids this cost and it exist also in JUL. Personally I never really write template based logging. Too lazy for that. For example if I do this with JUL:</p>\n\n<pre><code>log.finest(\"Lookup request from username=\" + username \n   + \", valueX=\" + valueX\n   + \", valueY=\" + valueY));\n</code></pre>\n\n<p>my IDE will warn me and ask permission that it should change it to:</p>\n\n<pre><code>log.log(Level.FINEST, \"Lookup request from username={0}, valueX={1}, valueY={2}\", \n   new Object[]{username, valueX, valueY});\n</code></pre>\n\n<p>.. which I will of course accept. Permission granted ! Thank you for your help.</p>\n\n<p>So I don't actually write such statements myself, that is done by the IDE.</p>\n\n<p>In conclusion on the issue of performance I haven't found anything that would suggest that JUL's performance is not ok compared to the competition.</p></li>\n<li><p><strong>Configuration from classpath</strong>. Out-of-the-box JUL cannot load a configuration file from the classpath. It is a <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4958543\">few lines of code</a> to make it do so. I can see why this may be annoying but the solution is short and simple.</p></li>\n<li><p><strong>Availability of output handlers</strong>. JUL comes with 5 output handlers out-of-the-box: console, file stream, socket and memory. These can be extended or new ones can be written. This may for example be writing to UNIX/Linux Syslog and Windows Event Log. I have personally never had this requirement nor have I seen it used but I can certainly relate to why it may be a useful feature. Logback comes with an appender for Syslog for example. Still I would argue that</p>\n\n<ol>\n<li>99.5% of the needs for output destinations are covered by what is in JUL out-of-the-box.</li>\n<li>Special needs could be catered for by custom handlers on top of JUL rather than on top of something else. There's nothing to me that suggests that it takes more time to write a Syslog output handler for JUL than it does for another logging framework.</li>\n</ol></li>\n</ol>\n\n<p>I'm really concerned that there's something I've overlooked. The use of logging facades  and logging implementations other than JUL is so widespread that I have to come to the conclusion that it's me who just doesn't understand. That wouldn't be the first time, I'm afraid. :-)</p>\n\n<p>So what should I do with my API?  I want it to become successful.  I can of course just \"go with the flow\" and implement SLF4J (which seems the most popular these days) but for my own sake I still need to understand exactly what is wrong with the JUL of today that warrants all the fuzz?  Will I sabotage myself by choosing JUL for my library ?</p>\n\n<h2>Testing performance</h2>\n\n<p>(section added by nolan600 on 07-JUL-2012)</p>\n\n<p>There's a reference below from Ceki about SLF4J's parametrization being 10 times or more faster than JUL's. So I've started doing some simple tests. At first glance the claim is certainly correct. Here are the preliminary results (but read on!):</p>\n\n<ul>\n<li>Execution time SLF4J, backend Logback: 1515</li>\n<li>Execution time SLF4J, backend JUL: 12938</li>\n<li>Execution time JUL: 16911</li>\n</ul>\n\n<p>The numbers above are msecs so less is better. So 10 times performance difference is by first actually pretty close. My initial reaction: That is a lot !</p>\n\n<p>Here is the core of the test. As can be seen an integer and a string is construted in a loop which is then used in the log statement:</p>\n\n<pre><code>    for (int i = 0; i &lt; noOfExecutions; i++) {\n        for (char x=32; x&lt;88; x++) {\n            String someString = Character.toString(x);\n            // here we log \n        }\n    }\n</code></pre>\n\n<p>(I wanted the log statement to have both a primitive data type (in this case an int) and a more complex data type (in this case a String). Not sure it matters but there you have it.)</p>\n\n<p>The log statement for SLF4J:</p>\n\n<pre><code>logger.info(\"Logging {} and {} \", i, someString);\n</code></pre>\n\n<p>The log statement for JUL:</p>\n\n<pre><code>logger.log(Level.INFO, \"Logging {0} and {1}\", new Object[]{i, someString});\n</code></pre>\n\n<p>The JVM was 'warmed up' with the same test executed once before the actual measurement was done. Java 1.7.03 was used on Windows 7. Latest versions of SLF4J (v1.6.6) and Logback (v1.0.6) was used. Stdout and stderr was redirected to null device.</p>\n\n<p>However, careful now, it turns out JUL is spending most of its time in <code>getSourceClassName()</code> because JUL by default prints the source class name in the output, while Logback doesn't. So we are comparing apples and oranges. I have to do the test again and configure the logging implementations in a similar manner so that they actually output the same stuff. I do however suspect that SLF4J+Logback will still come out on top but far from the initial numbers as given above. Stay tuned.</p>\n\n<p>Btw: The test was first time I've actually worked with SLF4J or Logback. A pleasant experience. JUL is certainly a lot less welcoming when you are starting out.</p>\n\n<h2>Testing performance (part 2)</h2>\n\n<p>(section added by nolan600 on 08-JUL-2012)</p>\n\n<p>As it turns out it doesn't really matter for performance how you configure your pattern in JUL, i.e. whether or not it includes the source name or not. I tried with a very simple pattern:</p>\n\n<pre><code>java.util.logging.SimpleFormatter.format=\"%4$s: %5$s [%1$tc]%n\"\n</code></pre>\n\n<p>and that did not change the above timings at all. My profiler revealed that the logger still spent a lot of time in calls to <code>getSourceClassName()</code> even if this was not part of my pattern. The pattern doesn't matter.</p>\n\n<p>I'm therefore concluding on the issue of performance that at least for the tested template based log statement there seems to be roughly a factor of 10 in real performance difference between JUL (slow) and SLF4J+Logback (quick). Just like Ceki said.</p>\n\n<p>I can also see another thing namely that SLF4J's <code>getLogger()</code> call is a lot more expensive than JUL's ditto. (95 ms vs 0.3 ms if my profiler is accurate). This makes sense. SLF4J has to do some time on the binding of the underlying logging implementation. This doesn't scare me. These calls should be somewhat rare in the lifetime of an application. The fastness should be in the actual log calls.</p>\n\n<h1>Final conclusion</h1>\n\n<p>(section added by nolan600 on 08-JUL-2012)</p>\n\n<p>Thank you for all your answers. Contrary to what I initially thought I've ended up deciding to use SLF4J for my API. This is based on a number of things and your input:</p>\n\n<ol>\n<li><p>It gives flexibility to choose log implementation at deployment time.</p></li>\n<li><p>Issues with lack of flexibility of JUL's configuration when run inside an application server.</p></li>\n<li><p>SLF4J is certainly a lot faster as detailed above in particular if you couple it with Logback. Even if this was just a rough test I have reason to believe that a lot more effort has gone into optimization on SLF4J+Logback than on JUL.</p></li>\n<li><p>Documentation. The documentation for SLF4J is simply a lot more comprehensive and precise.</p></li>\n<li><p>Pattern flexibility. As I did the tests I set out to have JUL mimic the default pattern from Logback. This pattern includes the name of the thread. It turns out JUL cannot do this out of the box. Ok, I haven't missed it until now, but I don't think it is a thing that should be missing from a log framework. Period! </p></li>\n<li><p>Most (or many) Java projects today use Maven so adding a dependency is not that big a thing especially if that dependency is rather stable, i.e. doesn't constantly change its API. This seems to be true for SLF4J. Also the SLF4J jar and friends are small in size.</p></li>\n</ol>\n\n<p>So the strange thing that happened was that I actually got quite upset with JUL after having worked a bit with SLF4J. I still regret that it has to be this way with JUL. JUL is far from perfect but kind of does the job. Just not quite well enough. The same can be said about <code>Properties</code> as an example but we do not think about abstracting that so people can plug in their own configuration library and what have you. I think the reason is that <code>Properties</code> comes in just above the bar while the opposite is true for JUL of today ... and in the past it came in at zero because it didn't exist.</p>\n", "tags": ["java", "logging", "slf4j", "logback"], "title": "Why not use java.util.logging?", "answer_count": 4, "creation_date": 1341565667, "score": 144, "link": "http://stackoverflow.com/questions/11359187/why-not-use-java-util-logging", "answers": [{"body": "<ol>\n<li><p><code>java.util.logging</code> was introduced in Java 1.4. There were uses for logging before that, that's why many other logging APIs exist. Those APIs where used heavily before Java 1.4 and thus had a great marketshare that didn't just drop to 0 when 1.4 was release.</p></li>\n<li><p>JUL didn't start out all that great, many of the things you mentioned where a lot worse in 1.4 and only got better in 1.5 (and I guess in 6 as well, but I'm not too sure).</p></li>\n<li><p>JUL isn't well suited for multiple applications with different configurations in the same JVM (think multiple web applications that should not interact). Tomcat needs to jump through some hoops to get that working (effectively re-implementing JUL if I understood that correctly).</p></li>\n<li><p>You can't always influence what logging framework your libraries use. Therefore using SLF4J (which is actually just a very thin API layer above other libraries) helps keeping a somewhat consistent picture of the entire logging world (so you can decide the underlying logging framework while still having library logging in the same system).</p></li>\n<li><p>Libraries can't easily change. If a previous version of a library used to use logging-library-X it can't easily switch to logging-library-Y (for example JUL), even if the latter is clearly superious: any user of that library would need to learn the new logging framework and (at least) reconfigure their logging. That's a big no-no, especially when it brings no apparent gain to most people.</p></li>\n</ol>\n\n<p>Having said all that I think JUL is <em>at least</em> a valid alternative to other logging frameworks these days.</p>\n", "title": "Why not use java.util.logging?", "answer_id": 11359320, "link": "http://stackoverflow.com/questions/11359187/why-not-use-java-util-logging/11359320#11359320", "tags": ["java", "logging", "slf4j", "logback"]}, {"body": "<p>IMHO, the main advantage in using a logging facade like slf4j is that you let the end-user of the library choose which concrete logging implementation he wants, rather than imposing your choice to the end user. </p>\n\n<p>Maybe he has invested time and money in Log4j or LogBack (special formatters, appenders, etc.) and prefers continuing using Log4j or LogBack, rather than configuring jul. No problem: slf4j allows that. Is it a wise choice to use Log4j over jul? Maybe, maybe not. But you don't care. Let the end user choose what he prefers.</p>\n", "title": "Why not use java.util.logging?", "answer_id": 11359358, "link": "http://stackoverflow.com/questions/11359187/why-not-use-java-util-logging/11359358#11359358", "tags": ["java", "logging", "slf4j", "logback"]}, {"body": "<p><strong>Disclaimer</strong>: I am the founder of log4j, SLF4J and logback projects. </p>\n\n<p>There are objective reasons for preferring SLF4J. For one, it grants the end-user the liberty to choose the underlying logging framework. In addition, savvier users tend to prefer <a href=\"http://logback.qos.ch/reasonsToSwitch.html\">logback which offers capabilities beyond log4j</a>, with j.u.l falling way behind. Feature-wise j.u.l  may be sufficient for some users but for many others it just isn't. In a nutshell, if logging is important to you, you would want to use SLF4J with logback as the underlying implementation. If logging is unimportant, j.u.l is fine.</p>\n\n<p>However, as an oss developer, you need to take into account the preferences of your users and not just your own. It follows that you should adopt SLF4J not because <em>you</em> are convinced that SLF4J is better than j.u.l but because most Java developers currently (July 2012) prefer SLF4J as their logging API. If ultimately you decide not to care about popular opinion, consider the following facts:</p>\n\n<ol>\n<li>those who prefer j.u.l do so out of convenience because j.u.l is bundled with the JDK. To my knowledge there are no other objective arguments in favor of j.u.l.</li>\n<li>your own preference for j.u.l is just that, <em>a preference</em>.</li>\n</ol>\n\n<p>Thus, holding \"hard facts\" above public opinion, while seemingly brave, is a logical fallacy in this case.</p>\n\n<p>If still not convinced, <a href=\"http://stackoverflow.com/users/571407/jb-nizet\">JB Nizet</a> makes an additional and potent argument:</p>\n\n<blockquote>\n  <p>Except the end user could have already done this customization for his\n  own code, or another library that uses log4j or logback. j.u.l is\n  extensible, but having to extend logback, j.u.l, log4j and God only\n  knows which other logging framework because he uses four libraries that\n  use four different logging frameworks is cumbersome. By using SLF4J, you\n  allow him to configure the logging frameworks he wants, not the one\n  you have chosen. <strong>Remember that a typical project uses myriads of\n  libraries, and not just yours</strong>.</p>\n</blockquote>\n\n<p>If for whatever reason you hate the SLF4J API and using it will snuff the fun out of your work, then by all means go for j.u.l. After all, there are means to <a href=\"http://www.slf4j.org/legacy.html#jul-to-slf4j\">redirect j.u.l to SLF4J</a>.</p>\n\n<p>By the way, j.u.l parametrization is at least 10 times slower than SLF4J's which ends up making a noticeable difference.</p>\n", "title": "Why not use java.util.logging?", "answer_id": 11360517, "link": "http://stackoverflow.com/questions/11359187/why-not-use-java-util-logging/11360517#11360517", "tags": ["java", "logging", "slf4j", "logback"]}, {"body": "<p>I started, like you I suspect, using JUL because it was the easiest one to get going immediately. Over the years, however, I have come to wish I had spent a little more time choosing.</p>\n\n<p>My main issue now is that we have a substantial amount of 'library' code that is used in many applications and they all use JUL. Whenever I use these tools in a web-service type app the logging just disappears or goes somewhere unpredictable or strange.</p>\n\n<p>Our solution was to add a facade to the library code that meant that the library log calls did not change but were dynamically redirected to whatever logging mechanism is available. When included in a POJO tool they are directed to JUL but when deployed as a web-app they are redirected to LogBack.</p>\n\n<p>Our regret - of course - is that the library code does not use parameterised logging but this can now be retrofitted as and when needed.</p>\n\n<p>We used slf4j to build the facade.</p>\n", "title": "Why not use java.util.logging?", "answer_id": 11363369, "link": "http://stackoverflow.com/questions/11359187/why-not-use-java-util-logging/11363369#11363369", "tags": ["java", "logging", "slf4j", "logback"]}], "question_id": 11359187}, {"body": "<p>My pom file lists</p>\n\n<pre><code>&lt;project&gt;\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.12.4&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  ...\n</code></pre>\n\n<p>However upon <code>mvn clean install</code>, I get</p>\n\n<pre><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] Failure executing javac, but could not parse the error:\njavac: invalid target release: 1.7\nUsage: javac &lt;options&gt; &lt;source files&gt;\n</code></pre>\n\n<p><code>/usr/bin/java -version</code> is (<code>which java</code> points here)</p>\n\n<pre><code>java version \"1.7.0_10\"\nJava(TM) SE Runtime Environment (build 1.7.0_10-b18)\nJava HotSpot(TM) 64-Bit Server VM (build 23.6-b04, mixed mode)\n</code></pre>\n\n<p><code>javac</code> also points to the correct Java version</p>\n\n<pre><code>/usr/bin/javac -&gt; /Library/Java/JavaVirtualMachines/jdk1.7.0_10.jdk/Contents/Home/bin/javac\n</code></pre>\n\n<p>On this machine, I am using <code>zsh</code> (<code>echo $0</code> returns <code>-zsh</code>)</p>\n\n<p>In my <code>.zshrc</code>, I have defined:</p>\n\n<pre><code> 33 # HOME\n 34 JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_10.jdk/Contents/Home\n 35 SCALA_HOME=/Library/Scala/current\n 36 FORGE_HOME=~/tools/forge/\n 37 \n 38 # PATH\n 39 PATH=\"/Library/Frameworks/Python.framework/Versions/3.2/bin:${PATH}\"\n 40 PATH=${PATH}:${JAVA_HOME}/bin\n 41 PATH=${PATH}:/bin/\n 42 PATH=${PATH}:/sbin/\n 43 PATH=${PATH}:/usr/bin/\n 44 PATH=${PATH}:/usr/sbin/\n 45 PATH=${PATH}:/opt/local/bin/\n 46 PATH=${PATH}:/opt/local/sbin/\n 47 PATH=${PATH}:/usr/local/git/bin\n 48 PATH=${PATH}:/usr/local/git/sbin\n 49 PATH=${PATH}:/Applications/Xcode.app/Contents/Developer/usr/bin\n 50 PATH=${PATH}:${SCALA_HOME}/bin\n 51 PATH=${PATH}:${FORGE_HOME}/bin\n 52 \n 53 export PATH\n</code></pre>\n\n<p>When I am running <code>mvn clean install --debug</code> I see that in fact I use Java 6</p>\n\n<pre><code>  1 Apache Maven 3.0.3 (r1075438; 2011-02-28 11:31:09-0600)\n  2 Maven home: /usr/share/maven\n  3 Java version: 1.6.0_35, vendor: Apple Inc.\n  4 Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\n</code></pre>\n\n<p>Where could it be defined? I have source(d) my .zshrc multiple times.</p>\n", "tags": ["java", "maven"], "title": "Compiling Java 7 code via Maven", "answer_count": 18, "creation_date": 1356537926, "score": 138, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven", "answers": [{"body": "<p>Could you try a newer plugin; on the maven site:</p>\n\n<pre><code>&lt;version&gt;3.0&lt;/version&gt;\n</code></pre>\n\n<p>I saw the following too:</p>\n\n<pre><code>&lt;compilerVersion&gt;1.7&lt;/compilerVersion&gt;\n</code></pre>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 14043145, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/14043145#14043145", "tags": ["java", "maven"]}, {"body": "<p>try using a newer version of the maven compiler plugin:           </p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.7&lt;/source&gt;\n            &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>also, specifying source file encoding in maven is better done globally:</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p><strong>EDIT</strong>: As this answer is still getting attention i'd just like to point out that the latest values (as of latest edit) are 3.2 for maven compiler plugin and 1.8 for java, as questions about compiling java 8 code via maven are bound to appear soon :-)</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 14043153, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/14043153#14043153", "tags": ["java", "maven"]}, {"body": "<p>Check the <code>mvn</code> script in your maven installation to see how it's building the command. Perhaps you or someone else has hard-coded a <code>JAVA_HOME</code> in there and forgotten about it.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 14043545, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/14043545#14043545", "tags": ["java", "maven"]}, {"body": "<p>You have to check Maven version:</p>\n\n<pre><code>mvn -version\n</code></pre>\n\n<p>You will find the Java version which Maven uses for compilation. You may need to reset JAVA_HOME if needed.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 15657895, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/15657895#15657895", "tags": ["java", "maven"]}, {"body": "<p>{JAVA_1_4_HOME}/bin/javacyou can try also...</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;executable&gt;{JAVA_HOME_1_7}/bin/javac&lt;/executable&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 15896861, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/15896861#15896861", "tags": ["java", "maven"]}, {"body": "<p>Ok, I just solved this issue on my own too. It is more important your JAVA_HOME, if you don't have a lower or no version compared to source/target properties from the Maven plugin, you will get this error.</p>\n\n<p>Be sure to have a good version in your JAVA_HOME and have it included in your PATH.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 19101886, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/19101886#19101886", "tags": ["java", "maven"]}, {"body": "<p>I had the same problem and to solve this I follow this blog article: <a href=\"http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/</a></p>\n\n<pre><code>$ vim .bash_profile \n\nexport JAVA_HOME=$(/usr/libexec/java_home)\n\n$ source .bash_profile\n\n$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/1.7.0.jdk/Contents/Home\n</code></pre>\n\n<p>special tks to <a href=\"https://twitter.com/mkyong\" rel=\"nofollow\">@mkyong</a></p>\n\n<p>EDIT: Now I'm using: <a href=\"http://www.jenv.be/\" rel=\"nofollow\">jEnv</a> + <a href=\"http://sdkman.io/\" rel=\"nofollow\">sdkman</a></p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 20036174, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/20036174#20036174", "tags": ["java", "maven"]}, {"body": "<p>Try to change Java compiler settings in Properties in Eclipse-</p>\n\n<p>Goto: Preferences->Java->Compiler->Compiler Compliance Level-> 1.7\nApply\nOk</p>\n\n<p>Restart IDE.</p>\n\n<p>Confirm Compiler setting for project-\nGoto: Project Properties->Java Compiler-> Uncheck(Use Compliance from execution environment 'JavaSE-1.6' on the java Build path.) and select 1.7 from the dropdown. (Ignore if already 1.7)</p>\n\n<p>Restart IDE.</p>\n\n<p>If still the problem persist- Run individual test cases using command in terminal-</p>\n\n<pre><code>mvn -Dtest=&lt;test class name&gt; test\n</code></pre>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 22542662, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/22542662#22542662", "tags": ["java", "maven"]}, {"body": "<p>Not sure what the OS is in use here, but you can eliminate a lot of java version futzing un debian/ubuntu with update-java-alternatives to set the default jvm system wide.</p>\n\n<pre><code>#&gt; update-java-alternatives -l\njava-1.6.0-openjdk-amd64 1061 /usr/lib/jvm/java-1.6.0-openjdk-amd64\njava-1.7.0-openjdk-amd64 1071 /usr/lib/jvm/java-1.7.0-openjdk-amd64\njava-6-sun 63 /usr/lib/jvm/java-6-sun\njava-7-oracle 1073 /usr/lib/jvm/java-7-oracle\n</code></pre>\n\n<p>To set a new one, use:</p>\n\n<pre><code>#&gt; update-java-alternatives -s java-7-oracle\n</code></pre>\n\n<p>No need to set JAVA_HOME for most apps.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 22774361, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/22774361#22774361", "tags": ["java", "maven"]}, {"body": "<p>I had the same problem. I found that this is because the Maven script looks at the CurrentJDK link below and finds a 1.6 JDK. Even if you install the latest JDK this is not resolved. While you could just set JAVA_HOME in your $HOME/.bash_profile script I chose to fix the symbolic link instead as follows:</p>\n\n<pre><code>ls -l /System/Library/Frameworks/JavaVM.framework/Versions/\ntotal 64\nlrwxr-xr-x  1 root  wheel   10 30 Oct 16:18 1.4 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 30 Oct 16:18 1.4.2 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 30 Oct 16:18 1.5 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 30 Oct 16:18 1.5.0 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 30 Oct 16:18 1.6 -&gt; CurrentJDK\nlrwxr-xr-x  1 root  wheel   10 30 Oct 16:18 1.6.0 -&gt; CurrentJDK\ndrwxr-xr-x  9 root  wheel  306 11 Nov 21:20 A\nlrwxr-xr-x  1 root  wheel    1 30 Oct 16:18 Current -&gt; A\nlrwxr-xr-x  1 root  wheel   59 30 Oct 16:18 CurrentJDK -&gt; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents\n</code></pre>\n\n<p>Notice that CurrentJDK points at 1.6.0.jdk</p>\n\n<p>To fix it I ran the following commands (you should check your installed version and adapt accordingly).</p>\n\n<pre><code>sudo rm /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/ /System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK\n</code></pre>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 22848622, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/22848622#22848622", "tags": ["java", "maven"]}, {"body": "<p>Diagnostics:</p>\n\n<p>You can see which java version Maven uses by running \"mvn --version\"</p>\n\n<p>Solution for Debian:</p>\n\n<p>The mvn script sets the JAVA_HOME env variable internally by looking for javac (which javac). Therefore, if you have multiple java versions installed concurrently, e.g. JDK 6 and JDK 7 and use the Debian Alternatives system to choose between them, even though you changed the alternative for \"java\" to JDK 7, mvn will still use JDK 6. You have to change the alternative for \"javac\", too. E.g.:</p>\n\n<pre><code># update-alternatives --set javac /usr/lib/jvm/java-7-openjdk-amd64/bin/javac\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Actually, an even better solution is to use update-java-alternatives (e.g.)</p>\n\n<pre><code># update-java-alternatives -s java-1.7.0-openjdk-amd64\n</code></pre>\n\n<p>as detailed in <a href=\"https://wiki.debian.org/JavaPackage\" rel=\"nofollow\">https://wiki.debian.org/JavaPackage</a>, because this will change <em>all</em> the alternatives to various Java tools (there's a dozen or so).</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 23922747, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/23922747#23922747", "tags": ["java", "maven"]}, {"body": "<p>You might be specifying a wrong version of java.\njava -version(in your terminal) to check the version of java you are using.\nGo to <a href=\"http://maven.apache.org/plugins/maven-compiler-plugin/\" rel=\"nofollow\">maven-compile-plugin</a> for the latest maven compiler version\nYour plugin may appear like this if you are using java 6 and the latest version of maven compiler plugin is 3.1</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 25582355, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/25582355#25582355", "tags": ["java", "maven"]}, {"body": "<p>Please check you pom.xml for the below tags</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>it should point the required jdk version</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 25681015, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/25681015#25681015", "tags": ["java", "maven"]}, {"body": "<p>None of the previous answers completely solved my use case. </p>\n\n<p>Needed to remove the directory that was being built. Clean. And then re-install. Looks like a silent permissions issue.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 26308969, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/26308969#26308969", "tags": ["java", "maven"]}, {"body": "<p>right click on ur project in eclipse and open \"Run Configurations\"..check the jre version there.\nsome times this will not change by default in eclipse,after even changing the version in the buildpath.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 26339890, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/26339890#26339890", "tags": ["java", "maven"]}, {"body": "<p>I had this problem in IntelliJ IDEA 14 until I went into File menu --> Project Structure, changing project SDK to 1.7 and project language level to 7.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 30057903, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/30057903#30057903", "tags": ["java", "maven"]}, {"body": "<p>I had this problem when working with eclipse, I had to change the project's build path so that it refers to jre 7</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 35319524, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/35319524#35319524", "tags": ["java", "maven"]}, {"body": "<p>For a specific compilation that requires a (non-default <code>/etc/alternatives/java</code>) JVM, consider prefixing the <code>mvn</code> command with <code>JAVA_HOME</code> like this,</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64/ mvn package\n</code></pre>\n\n<p>Here we assume the default is Java 8, whereas for the specific project at hand we require Java 7.</p>\n", "title": "Compiling Java 7 code via Maven", "answer_id": 37744981, "link": "http://stackoverflow.com/questions/14043042/compiling-java-7-code-via-maven/37744981#37744981", "tags": ["java", "maven"]}], "question_id": 14043042}, {"body": "<p>I saw the line below in code for a DOM parser at <a href=\"http://www.mkyong.com/java/how-to-read-xml-file-in-java-dom-parser/\">this tutorial</a>.</p>\n\n<pre><code>doc.getDocumentElement().normalize();\n</code></pre>\n\n<p>Why do we do this normalization ?<br>\nI read the <a href=\"http://docs.oracle.com/javase/6/docs/api/org/w3c/dom/Node.html#normalize%28%29\">docs</a> but I could not understand a word.</p>\n\n<blockquote>\n  <p>Puts all Text nodes in the full depth of the sub-tree underneath this Node</p>\n</blockquote>\n\n<p>Okay, then can someone show me (preferably with a picture) what this tree looks like ?</p>\n\n<p>Can anyone explain me why normalization is needed?<br>\nWhat happens if we don't normalize ?</p>\n", "tags": ["java", "xml", "dom", "computer-science"], "title": "Normalization in DOM parsing with java - how does it work?", "answer_count": 3, "creation_date": 1355048512, "score": 136, "link": "http://stackoverflow.com/questions/13786607/normalization-in-dom-parsing-with-java-how-does-it-work", "answers": [{"body": "<p>The rest of the sentence is:</p>\n\n<blockquote>\n  <p>where only structure (e.g., elements, comments, processing instructions, CDATA sections, and entity references) separates Text nodes, i.e., there are neither adjacent Text nodes nor empty Text nodes.</p>\n</blockquote>\n\n<p>This basically means that the following XML element</p>\n\n<pre><code>&lt;foo&gt;hello \nwor\nld&lt;/foo&gt;\n</code></pre>\n\n<p>could be represented like this in a denormalized node:</p>\n\n<pre><code>Element foo\n    Text node: \"\"\n    Text node: \"Hello \"\n    Text node: \"wor\"\n    Text node: \"ld\"\n</code></pre>\n\n<p>When normalized, the node will look like this</p>\n\n<pre><code>Element foo\n    Text node: \"Hello world\"\n</code></pre>\n\n<p>And the same goes for attributes: <code>&lt;foo bar=\"Hello world\"/&gt;</code>, comments, etc.</p>\n", "title": "Normalization in DOM parsing with java - how does it work?", "answer_id": 13787629, "link": "http://stackoverflow.com/questions/13786607/normalization-in-dom-parsing-with-java-how-does-it-work/13787629#13787629", "tags": ["java", "xml", "dom", "computer-science"]}, {"body": "<p>As an extension to @JBNizet's answer for more technical users here's what implementation of <code>org.w3c.dom.Node</code> interface in <code>com.sun.org.apache.xerces.internal.dom.ParentNode</code> looks like, gives you the idea how it actually works. </p>\n\n<pre><code>public void normalize() {\n    // No need to normalize if already normalized.\n    if (isNormalized()) {\n        return;\n    }\n    if (needsSyncChildren()) {\n        synchronizeChildren();\n    }\n    ChildNode kid;\n    for (kid = firstChild; kid != null; kid = kid.nextSibling) {\n         kid.normalize();\n    }\n    isNormalized(true);\n}\n</code></pre>\n\n<p>It traverses all the nodes recursively and calls <code>kid.normalize()</code><br>\nThis mechanism is overridden in <code>org.apache.xerces.dom.ElementImpl</code> </p>\n\n<pre><code>public void normalize() {\n     // No need to normalize if already normalized.\n     if (isNormalized()) {\n         return;\n     }\n     if (needsSyncChildren()) {\n         synchronizeChildren();\n     }\n     ChildNode kid, next;\n     for (kid = firstChild; kid != null; kid = next) {\n         next = kid.nextSibling;\n\n         // If kid is a text node, we need to check for one of two\n         // conditions:\n         //   1) There is an adjacent text node\n         //   2) There is no adjacent text node, but kid is\n         //      an empty text node.\n         if ( kid.getNodeType() == Node.TEXT_NODE )\n         {\n             // If an adjacent text node, merge it with kid\n             if ( next!=null &amp;&amp; next.getNodeType() == Node.TEXT_NODE )\n             {\n                 ((Text)kid).appendData(next.getNodeValue());\n                 removeChild( next );\n                 next = kid; // Don't advance; there might be another.\n             }\n             else\n             {\n                 // If kid is empty, remove it\n                 if ( kid.getNodeValue() == null || kid.getNodeValue().length() == 0 ) {\n                     removeChild( kid );\n                 }\n             }\n         }\n\n         // Otherwise it might be an Element, which is handled recursively\n         else if (kid.getNodeType() == Node.ELEMENT_NODE) {\n             kid.normalize();\n         }\n     }\n\n     // We must also normalize all of the attributes\n     if ( attributes!=null )\n     {\n         for( int i=0; i&lt;attributes.getLength(); ++i )\n         {\n             Node attr = attributes.item(i);\n             attr.normalize();\n         }\n     }\n\n    // changed() will have occurred when the removeChild() was done,\n    // so does not have to be reissued.\n\n     isNormalized(true);\n } \n</code></pre>\n\n<p>Hope this saves you some time.</p>\n", "title": "Normalization in DOM parsing with java - how does it work?", "answer_id": 30908173, "link": "http://stackoverflow.com/questions/13786607/normalization-in-dom-parsing-with-java-how-does-it-work/30908173#30908173", "tags": ["java", "xml", "dom", "computer-science"]}, {"body": "<p>In simple, Normalisation is Reduction of Redundancies. <br>\n<strong>Examples of Redundancies:</strong><br>\na) white spaces outside of the root/document tags(...&lt;document>&lt;/document>...)<br>\nb) white spaces within start tag (&lt;...>) and end tag (&lt;/...>)<br>\nc) white spaces between attributes and their values (ie. spaces between <strong>key name</strong> and <strong>=\"</strong>) <br>\nd) superfluous namespace declarations<br>\ne) line breaks in text<br>\nf) comments etc...</p>\n", "title": "Normalization in DOM parsing with java - how does it work?", "answer_id": 38092999, "link": "http://stackoverflow.com/questions/13786607/normalization-in-dom-parsing-with-java-how-does-it-work/38092999#38092999", "tags": ["java", "xml", "dom", "computer-science"]}], "question_id": 13786607}, {"body": "<p>Specifically, why would it help to fix a PermGen OutOfMemoryError issue?</p>\n\n<p>Also, bonus points for an answer that points me to the documentation on JVM arguments...</p>\n", "tags": ["java", "jvm", "jvm-arguments"], "title": "What does -XX:MaxPermSize do?", "answer_count": 4, "creation_date": 1345829878, "score": 135, "link": "http://stackoverflow.com/questions/12114174/what-does-xxmaxpermsize-do", "answers": [{"body": "<p>The permanent space is where the classes, methods, internalized strings, and similar objects used by the VM are stored and never deallocated (hence the name).</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\">This Oracle article</a> succinctly presents the working and parameterization of the HotSpot GC and advises you to augment this space if you load many classes (this is typically the case for application servers and some IDE like Eclipse) :</p>\n\n<blockquote>\n  <p>The permanent generation does not have a noticeable impact on garbage\n  collector performance for most applications. However, some\n  applications dynamically generate and load many classes; for example,\n  some implementations of JavaServer Pages (JSP) pages. These\n  applications may need a larger permanent generation to hold the\n  additional classes. If so, the maximum permanent generation size can\n  be increased with the command-line option -XX:MaxPermSize=.</p>\n</blockquote>\n\n<p>Note that <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\">this other Oracle documentation</a> lists the other HotSpot arguments.</p>\n\n<p><strong>Update :</strong> Starting with Java 8, both the permgen space and this setting are gone. The memory model used for loaded classes and methods is different and isn't limited (with default settings). You should not see this error any more.</p>\n", "title": "What does -XX:MaxPermSize do?", "answer_id": 12114284, "link": "http://stackoverflow.com/questions/12114174/what-does-xxmaxpermsize-do/12114284#12114284", "tags": ["java", "jvm", "jvm-arguments"]}, {"body": "<p>-XX:PermSize -XX:MaxPermSize are used to set size for Permanent Generation. </p>\n\n<p>Permanent Generation: The Permanent Generation is where class files are kept. These are the result of compiled classes and jsp pages. If this space is full, it triggers a Full Garbage Collection. If the Full Garbage Collection cannot clean out old unreferenced classes and there is no room left to expand the Permanent Space, an Out\u2010of\u2010 Memory error (OOME) is thrown and the JVM will crash. </p>\n", "title": "What does -XX:MaxPermSize do?", "answer_id": 12905282, "link": "http://stackoverflow.com/questions/12114174/what-does-xxmaxpermsize-do/12905282#12905282", "tags": ["java", "jvm", "jvm-arguments"]}, {"body": "<p>In Java 8 that parameter is commonly used to print a warning message like this one:</p>\n\n<blockquote>\n  <p>Java HotSpot(TM) 64-Bit Server VM warning: ignoring option\n  MaxPermSize=512m; support was removed in 8.0</p>\n</blockquote>\n\n<p>The reason why you get this message in Java 8 is because Permgen has been replaced by Metaspace to address some of PermGen's drawbacks (as you were able to see for yourself, one of those drawbacks is that it had a fixed size).</p>\n\n<p>FYI: an article on Metaspace: <a href=\"http://java-latte.blogspot.in/2014/03/metaspace-in-java-8.html\">http://java-latte.blogspot.in/2014/03/metaspace-in-java-8.html</a></p>\n", "title": "What does -XX:MaxPermSize do?", "answer_id": 25474291, "link": "http://stackoverflow.com/questions/12114174/what-does-xxmaxpermsize-do/25474291#25474291", "tags": ["java", "jvm", "jvm-arguments"]}, {"body": "<p>The MaxPermSize is the maximum size for the permanent generation heap, a heap that holds the byte code of classes and is kept separated from the object heap containing the actual instances.</p>\n", "title": "What does -XX:MaxPermSize do?", "answer_id": 37025350, "link": "http://stackoverflow.com/questions/12114174/what-does-xxmaxpermsize-do/37025350#37025350", "tags": ["java", "jvm", "jvm-arguments"]}], "question_id": 12114174}, {"body": "<p>I found the maven-shade-plugin being used in someone's pom.xml. I've never used maven-shade-plugin before (and I'm a maven n00b) so I tried to understand the reason for using this and what it does. I looked at <a href=\"http://maven.apache.org/plugins/maven-shade-plugin\">the maven docs</a>, however I can't understand this statement: \"This plugin provides the capability to package the artifact in an uber-jar, including its dependencies and to shade - i.e. rename - the packages of some of the dependencies.\" The documentation on the page doesn't seem very newbie-friendly.</p>\n\n<p>What is an \"uber jar?\" Why would someone want to make one? What's the point of renaming the packages of the dependencies? I tried to go through the examples on the maven-shade-plugin apache page such as \"Selecting contents for Uber Jar,\" but I still can't understand what is being accomplished with \"shading.\"</p>\n\n<p>Any pointers to illustrative examples/use-cases (with an explanation of why shading was required in this case - what problem is it solving) would be appreciated. Lastly, when should I use the maven-shade-plugin?</p>\n", "tags": ["java", "maven", "jar", "maven-shade-plugin"], "title": "What is the maven-shade-plugin used for, and why would you want to relocate java packages?", "answer_count": 3, "creation_date": 1354171596, "score": 131, "link": "http://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java", "answers": [{"body": "<p>Uber JAR, in short, is a JAR containing everything.</p>\n\n<p>Normally in Maven, we rely on dependency management.  An artifact contains only the classes/resources of itself.  Maven will be responsible to find out all artifacts (JARs etc) that the project depending on when the project is built.</p>\n\n<p>An uber-jar is something that take all dependencies, and extract the content of the dependencies and put them with the classes/resources of the project itself, in one big JAR.  By having such uber-jar, it is easy for execution, because you will need only one big JAR instead of tons of small JARs to run your app.  It also ease distribution in some case.</p>\n\n<p>Just a side-note.  Avoid using uber-jar as Maven dependency, as it is ruining the dependency resolution feature of Maven.  Normally we create uber-jar only for the final artifact for actual deployment or for manual distribution, but not for putting to Maven repository.</p>\n\n<hr>\n\n<p>Update: I have just discovered I haven't answered one part of the question : \"What's the point of renaming the packages of the dependencies?\".  Here is some brief updates and hopefully will help people having similar question.</p>\n\n<p>Creating uber-jar for ease of deployment is one use case of shade plugin.  There are also other common use cases which involve package renaming.</p>\n\n<p>For example, I am developing <code>Foo</code> library, which depends on a specific version (e.g. 1.0) of <code>Bar</code> library.  Assuming I cannot make use of other version of <code>Bar</code> lib (because API change, or other technical issues, etc).  If I simply declare <code>Bar:1.0</code> as <code>Foo</code>'s dependency in Maven, it is possible to fall into a problem:  A <code>Qux</code> project is depending on <code>Foo</code>, and also <code>Bar:2.0</code> (and it cannot use <code>Bar:1.0</code> because <code>Qux</code> needs to use new feature in <code>Bar:2.0</code>).  Here is the dilemma: should <code>Qux</code> use <code>Bar:1.0</code> (which <code>Qux</code>'s code will not work) or <code>Bar:2.0</code> (which <code>Foo</code>'s code will not work)?</p>\n\n<p>In order to solve this problem, developer of <code>Foo</code> can choose to use shade plugin to rename its usage of <code>Bar</code>, so that all classes in <code>Bar:1.0</code> jar are embedded in <code>Foo</code> jar, and the package of the embedded <code>Bar</code> classes is changed from <code>com.bar</code> to <code>com.foo.bar</code>.  By doing so, <code>Qux</code> can safely depends on <code>Bar:2.0</code> because now <code>Foo</code> is no longer depending on <code>Bar</code>, and it is using is own copy of \"altered\" <code>Bar</code> located in another package.</p>\n", "title": "What is the maven-shade-plugin used for, and why would you want to relocate java packages?", "answer_id": 13620420, "link": "http://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java/13620420#13620420", "tags": ["java", "maven", "jar", "maven-shade-plugin"]}, {"body": "<p>I was wondering myself recently why elasticsearch shades and relocates a few (but not all) of its dependencies. Here's an explanation from the project's maintainer, <strong><a href=\"http://stackoverflow.com/users/275993/kimchy\">@kimchy</a></strong>:</p>\n\n<blockquote>\n  <p>The shading part is intentional, the shaded libraries we use in elasticsearch are for all intent and purpose part of elasticsearch, the version used is tied closely into what elasticsearch exposes and how it uses the library based on the internals of how the library works (and that changes between versions), netty and guava are great examples.</p>\n  \n  <p>Btw, I have no problem with actually providing several jars of elasticsearch, one with lucene not shaded, and one with Lucene shaded. Not sure how to do it with maven though. I don't want to provide a version that does not shade netty/jackson for example, because of the deep intimiate usage elasticsearch has with them (for example, using the upcoming bufferring improvement with any previous version of netty except for the current one will actually use more memory compared to using considerably less).</p>\n</blockquote>\n\n<p><i>-- <a href=\"https://github.com/elasticsearch/elasticsearch/issues/2091#issuecomment-7156766\">https://github.com/elasticsearch/elasticsearch/issues/2091#issuecomment-7156766</a></i></p>\n\n<p>And another here from <strong>drewr</strong>:</p>\n\n<blockquote>\n  <p>The shading is important to keep our dependencies (notably netty, lucene, guava) close to our code so that we can fix an issue even if the upstream provider lags behind. It's possible we will distributed modularized versions of the code, which would help with your particular issue (#2091 for example), but we can't simply remove the shaded dependencies at this time. You can build a local version of ES for your purposes until there's a better solution.</p>\n</blockquote>\n\n<p><i>-- <a href=\"https://github.com/elasticsearch/elasticsearch/pull/3244#issuecomment-20125452\">https://github.com/elasticsearch/elasticsearch/pull/3244#issuecomment-20125452</a></i></p>\n\n<p>So, that's one use case. As for an illustrative example, below is how maven-shade-plugin is used in elasticsearch's pom.xml (v0.90.5). The <code>artifactSet::include</code> lines instruct it what dependencies to pull into the uber JAR (basically, they are unzipped and and re-packaged alongside elasticsearch's own classes when the target elasticsearch jar is produced. (In case you didn't know this already, a JAR file is just a ZIP file that contains the program's classes, resources, etc., and some metadata. You can extract one to see how it's put together.)</p>\n\n<p>The <code>relocations::relocation</code> lines are similar, except that in each case they also apply the specified substitutions to the dependency's classes - in this case, bringing them under <code>org.elasticsearch.common</code>.</p>\n\n<p>Finally the <code>filters</code> section excludes some stuff from the target JAR that oughtn't be in there - such as JAR metadata, ant build files, text files, etc. that are packaged with some dependencies, but which don't belong in an uber JAR.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n            &lt;artifactSet&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;com.google.guava:guava&lt;/include&gt;\n                    &lt;include&gt;net.sf.trove4j:trove4j&lt;/include&gt;\n                    &lt;include&gt;org.mvel:mvel2&lt;/include&gt;\n                    &lt;include&gt;com.fasterxml.jackson.core:jackson-core&lt;/include&gt;\n                    &lt;include&gt;com.fasterxml.jackson.dataformat:jackson-dataformat-smile&lt;/include&gt;\n                    &lt;include&gt;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml&lt;/include&gt;\n                    &lt;include&gt;joda-time:joda-time&lt;/include&gt;\n                    &lt;include&gt;io.netty:netty&lt;/include&gt;\n                    &lt;include&gt;com.ning:compress-lzf&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/artifactSet&gt;\n            &lt;relocations&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;com.google.common&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;gnu.trove&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.trove&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;jsr166y&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.util.concurrent.jsr166y&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;jsr166e&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.util.concurrent.jsr166e&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;org.mvel2&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.mvel2&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.jackson&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;org.joda&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.joda&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;org.jboss.netty&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.netty&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n                &lt;relocation&gt;\n                    &lt;pattern&gt;com.ning.compress&lt;/pattern&gt;\n                    &lt;shadedPattern&gt;org.elasticsearch.common.compress&lt;/shadedPattern&gt;\n                &lt;/relocation&gt;\n            &lt;/relocations&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;META-INF/license/**&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/maven/**&lt;/exclude&gt;\n                        &lt;exclude&gt;LICENSE&lt;/exclude&gt;\n                        &lt;exclude&gt;NOTICE&lt;/exclude&gt;\n                        &lt;exclude&gt;/*.txt&lt;/exclude&gt;\n                        &lt;exclude&gt;build.properties&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n            &lt;/filters&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n", "title": "What is the maven-shade-plugin used for, and why would you want to relocate java packages?", "answer_id": 19386712, "link": "http://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java/19386712#19386712", "tags": ["java", "maven", "jar", "maven-shade-plugin"]}, {"body": "<hr>\n\n<h2>Small warning</h2>\n\n<p>Although that's not describe why one would like to use the maven-shade-plugin (since the selected answer describe it pretty well), I would like to note that I had problems with it. It changed the JAR (since that what it's doing) and it caused regression in my software.</p>\n\n<p>So, instead of using this (or the maven-jarjar-plugin), I've used JarJar's binary which seems to work without a problem.</p>\n\n<p>I'm posting here my solution since it took me some time to find a decent solution.</p>\n\n<hr>\n\n<h2>Downlaod JarJar's JAR file</h2>\n\n<p>You can download the jar from here:\n<a href=\"https://code.google.com/p/jarjar/\" rel=\"nofollow\">https://code.google.com/p/jarjar/</a>\nIn the left menu you've got a link to download it.</p>\n\n<hr>\n\n<h2>How to use JarJar in order to relocate classes of a JAR from one package to another</h2>\n\n<p>In this example we'll be changing the package from \"com.fasterxml.jackson\" to \"io.kuku.dependencies.com.fasterxml.jackson\".\n- The source JAR is called \"jackson-databind-2.6.4.jar\" and new modified (target) JAR is called \"kuku-jackson-databind-2.6.4.jar\".\n- The \"jarjar\" JAR file is in version 1.4</p>\n\n<ol>\n<li><p>Create a \"rules.txt\" file.  The contents of the file should be (watch the period before the '@' character):\nrule com.fasterxml.jackson.** io.kuku.dependencies.com.fasterxml.jackson.@1</p></li>\n<li><p>Run the following command:\njava -jar jarjar-1.4.jar process rules.txt jackson-databind-2.6.4.jar kuku-jackson-databind-2.6.4.jar</p></li>\n</ol>\n\n<hr>\n\n<h2>Installing the modified JARs to the local repository</h2>\n\n<p>In this case I'm installing 3 files located on \"c:\\my-jars\\\"  folder.</p>\n\n<p>mvn install:install-file -Dfile=C:\\my-jars\\kuku-jackson-annotations-2.6.4.jar -DgroupId=io.kuku.dependencies -DartifactId=kuku-jackson-annotations -Dversion=2.6.4 -Dpackaging=jar</p>\n\n<p>mvn install:install-file -Dfile=C:\\my-jars\\kuku-jackson-core-2.6.4.jar -DgroupId=io.kuku.dependencies -DartifactId=kuku-jackson-core -Dversion=2.6.4 -Dpackaging=jar</p>\n\n<p>mvn install:install-file -Dfile=C:\\my-jars\\kuku-jackson-databind-2.6.4.jar -DgroupId=io.kuku.dependencies -DartifactId=kuku-jackson-annotations -Dversion=2.6.4 -Dpackaging=jar</p>\n\n<hr>\n\n<h2>Using the modified JARs in the project's pom</h2>\n\n<p>In this example, this is the \"dependencies\" element in the projects pom:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- ================================================== --&gt;\n    &lt;!-- kuku JARs --&gt;\n    &lt;!-- ================================================== --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.kuku.dependencies&lt;/groupId&gt;\n        &lt;artifactId&gt;kuku-jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.kuku.dependencies&lt;/groupId&gt;\n        &lt;artifactId&gt;kuku-jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.kuku.dependencies&lt;/groupId&gt;\n        &lt;artifactId&gt;kuku-jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n", "title": "What is the maven-shade-plugin used for, and why would you want to relocate java packages?", "answer_id": 34768553, "link": "http://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java/34768553#34768553", "tags": ["java", "maven", "jar", "maven-shade-plugin"]}], "question_id": 13620281}, {"body": "<p>I have googled this to death but cannot find the answer anywhere.</p>\n\n<p>I have the following layout (virtually empty):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/set_layout\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:contentDescription=\"content desc\"\n    android:orientation=\"vertical\" &gt;\n\n    &lt;TextView android:id=\"@+id/text\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:text=\"Hello, I am a TextView\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>The Activity class contains the following:</p>\n\n<pre><code>public class TestActivity extends Activity {\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_test);   \n  }\n}\n</code></pre>\n\n<p>When i run this on my mobile device i get the following error:</p>\n\n<pre><code>SpannableStringBuilder\nSPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\n</code></pre>\n\n<p>I have tried this with and without the TextView and the error still remains, i must be doing something fundamentally wrong for such a basic layout to cause this. Does anyone have any ideas on how i can get this to load without the error?</p>\n\n<p>Thanks in advance....</p>\n", "tags": ["java", "android"], "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_count": 14, "creation_date": 1354459765, "score": 130, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length", "answers": [{"body": "<p>Looking at your code, I'm not sure why you're getting that error, but I had this same error but with EditText fields.</p>\n\n<p>Changing <code>android:inputType=\"text\"</code> (or any of the other inputType text variations) to <code>android:inputType=\"textNoSuggestions\"</code> (or <code>android:inputType=\"textEmailAddress|textNoSuggestions\"</code>, for example) fixed it for me.  </p>\n\n<p>You can also set this in Code with something like </p>\n\n<pre><code>mInputField.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS);\n</code></pre>\n\n<p>Looks like Android assumes by default that EditText fields will have suggestions.  When they don't, it errors.  Not 100% confident in that explanation, but the above mentioned changes fixed it for me.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/text/Spanned.html#SPAN_EXCLUSIVE_EXCLUSIVE\">http://developer.android.com/reference/android/text/Spanned.html#SPAN_EXCLUSIVE_EXCLUSIVE</a></p>\n\n<p>Hope this helps!</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 13696084, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/13696084#13696084", "tags": ["java", "android"]}, {"body": "<p>I have run into the same error entries in LogCat. In my case it's caused by the 3rd party keyboard I am using. When I change it back to Android keyboard, the error entry does not show up any more.</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 13986224, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/13986224#13986224", "tags": ["java", "android"]}, {"body": "<p>Try using the default Android keyboard it will disappear  </p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 14357300, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/14357300#14357300", "tags": ["java", "android"]}, {"body": "<p>I had the same warning and found that removing an unused @id got rid of the warning. For me it was obvious as the @id was associated with a growing list of textViews linked to a database, so there was a warning for each entry.</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 16022217, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/16022217#16022217", "tags": ["java", "android"]}, {"body": "<p>Because the error you're getting is <strong>not</strong> related to an <code>EditText</code>, then it's <strong>not</strong> related to your keyboard.</p>\n\n<p>The errors you are getting are not a result of your code; you probably are testing on a Samsung device that has Samsung's TouchWiz.</p>\n\n<p>I had the same errors, then I tested on a Nexus S (also by Samsung, but pure Android OS without TouchWiz) and I didn't get this error.</p>\n\n<p>So, in your case, just ignore these errors while testing on a device! :)</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 16398294, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/16398294#16398294", "tags": ["java", "android"]}, {"body": "<p>I have faced the same issue. I almost wasted almost couple of weeks to resolved this issue.\nFinally I had on doubt on myself and tried to create another project by copy and paste some startup files like SplashScreen &amp; LoginScreen.</p>\n\n<p>But with the same code still i was getting <strong>SPAN_EXCLUSIVE_EXCLUSIVE</strong>.</p>\n\n<p>Then i have removed the handler code from splash screen and tried again and Wow its working.\nI am not getting <strong>SPAN_EXCLUSIVE_EXCLUSIVE</strong> issue in <strong>logcat</strong>. </p>\n\n<p>I wondering, why it is? till the time did not get any other solution but by removing handler from splash screen it is working.</p>\n\n<p>Try and update here if it is resolved or not.</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 17568305, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/17568305#17568305", "tags": ["java", "android"]}, {"body": "<p>On your android phone go to:<br>\n<strong>settings -> application manager -> all -> samsung keyboard and then click on \"clear cache\"</strong><br>\n(delete all data collected by this application).</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 18195302, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/18195302#18195302", "tags": ["java", "android"]}, {"body": "<p>Make clear you have pass a value in your MainAcitivity for the following methods onCreateOptionsMenu and onCreate</p>\n\n<p>In some cases, the developer deletes the \"return  super.onCreateOptionsMenu(menu)\" statement  and changed to \"return  true\".</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 18229574, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/18229574#18229574", "tags": ["java", "android"]}, {"body": "<p>Check if you have any element such as button or text view duplicated (copied twice) in the screen where this encounters. I did this unnoticed and had to face the same issue.</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 21053559, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/21053559#21053559", "tags": ["java", "android"]}, {"body": "<p>Masood Moshref is right, this error occur because the option menu of Menu is not well prepared by lacking \"return super.onCreateOptionsMenu(menu)\" in onCreate() method.</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 21513103, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/21513103#21513103", "tags": ["java", "android"]}, {"body": "<p>To try to debug this error, first go to your android terminal / console and execute this command:</p>\n\n<pre><code>ps | grep THE_ERROR_PID_YOU_GET_(IT_IS_A_NUMBER)\n</code></pre>\n\n<p>then if the output comes out as your app... it is your app causing the error. Try to look for empty <code>Strings</code> that you pass into the <code>layout</code>.</p>\n\n<p>I had this exact same problem and it was my fault as I was passing an empty <code>String</code> into my layout. After changing the <code>\"\"</code> to <code>\" \"</code> this error went away.</p>\n\n<p>If you don't get your app from the console output, then it is something else causing it (probably, as others said, the android keyboard)</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 24635224, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/24635224#24635224", "tags": ["java", "android"]}, {"body": "<p>I ran into this problem too when I copied some text from the Internet. My solution is to trim the text/remove formatting before doing any further processing. </p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 26022300, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/26022300#26022300", "tags": ["java", "android"]}, {"body": "<p>I have also face this error in Logcat. For solve it that also take a 1 day but there is no any big error in our code as per we face.</p>\n\n<p>Solution: Add that activity in Manifest.xml file of an application.</p>\n\n<p>code:</p>\n\n<pre><code>&lt;activity android:name=\"com.example.youappname.activityname\" &gt; &lt;/activity&gt;\n</code></pre>\n\n<p>Add all the activities of app in Manifest like this.</p>\n\n<p>Try and solve error.</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 27705273, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/27705273#27705273", "tags": ["java", "android"]}, {"body": "<p>I had the same problem but with a listView.... i solved it because i was using a wrong R.id.listView that list View needed to have a value, in my case it was strings that i saved on listView2... so the right code was R.id.listView2</p>\n", "title": "Android - SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length", "answer_id": 29324530, "link": "http://stackoverflow.com/questions/13670374/android-span-exclusive-exclusive-spans-cannot-have-a-zero-length/29324530#29324530", "tags": ["java", "android"]}], "question_id": 13670374}, {"body": "<p>I use Eclipse. I have the following line of code:</p>\n\n<pre><code>wr.write(new sun.misc.BASE64Encoder().encode(buf));\n</code></pre>\n\n<p>Eclipse mark this line as error. I import the required libraries;</p>\n\n<pre><code>import sun.misc.BASE64Encoder;\nimport sun.misc.BASE64Decoder;\n</code></pre>\n\n<p>But again, both of them shown as errors. I found a similar post here: <a href=\"http://stackoverflow.com/questions/5549464/import-sun-misc-base64encoder-got-error-in-eclipse\">import sun.misc.BASE64Encoder got error in Eclipse</a></p>\n\n<p>I used the Apache Commons as the solution suggests by typing:</p>\n\n<pre><code>import org.apache.commons.*;\n</code></pre>\n\n<p>and importing the JAR files downloaded from: <a href=\"http://commons.apache.org/codec/\">http://commons.apache.org/codec/</a></p>\n\n<p>But the problem still exist. Eclipse showing the previously mentioned lines as errors. Please, advise. </p>\n", "tags": ["java", "base64"], "title": "Base64 Encoding in Java", "answer_count": 15, "creation_date": 1351434077, "score": 129, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java", "answers": [{"body": "<p>You need to change the import of your Class.</p>\n\n<p>probably somthing like this:</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n</code></pre>\n\n<p>And then change your Class to use the BASE64 class.</p>\n\n<p>here some example code:</p>\n\n<pre><code>byte[] encodedBytes = Base64.encodeBase64(\"Test\".getBytes());\nSystem.out.println(\"encodedBytes \" + new String(encodedBytes));\nbyte[] decodedBytes = Base64.decodeBase64(encodedBytes);\nSystem.out.println(\"decodedBytes \" + new String(decodedBytes));\n</code></pre>\n\n<p>Then read <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\">why you shouldn't use sun.* packages</a>.</p>\n", "title": "Base64 Encoding in Java", "answer_id": 13109632, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/13109632#13109632", "tags": ["java", "base64"]}, {"body": "<p>Eclipse gives you an error/warning because you are trying to use internal classes that are specific to a JDK vendor and not part of the public API. Jakarta Commons provides its own implementation of base64 codecs, which of course reside in a different package. Delete those imports and let Eclipse import the proper Commons classs for you.</p>\n", "title": "Base64 Encoding in Java", "answer_id": 13109644, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/13109644#13109644", "tags": ["java", "base64"]}, {"body": "<p>You can also convert using base64 encoding. To do this you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte%5B%5D%29\"><strong><code>javax.xml.bind.DatatypeConverter#printBase64Binary</code></strong></a> method</p>\n\n<p>For example:</p>\n\n<pre><code>byte[] salt = new byte[] { 50, 111, 8, 53, 86, 35, -19, -47 };\nSystem.out.println(DatatypeConverter.printBase64Binary(salt));\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 16854692, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/16854692#16854692", "tags": ["java", "base64"]}, {"body": "<p>To convert this you need Encoder &amp; Decoder which you will get from <a href=\"http://www.source-code.biz/base64coder/java/\">http://www.source-code.biz/base64coder/java/</a>. It is File <a href=\"http://www.source-code.biz/base64coder/java/Base64Coder.java.txt\">Base64Coder.java</a> you will need.</p>\n\n<p>Now to access this class as per your requirement you will need class below:</p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.InputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class Base64 {\n\n public static void main(String args[]) throws IOException {\n  /*\n   * if (args.length != 2) {System.out.println(\n   * \"Command line parameters: inputFileName outputFileName\");\n   * System.exit(9); } encodeFile(args[0], args[1]);\n   */\n  File sourceImage = new File(\"back3.png\");\n  File sourceImage64 = new File(\"back3.txt\");\n  File destImage = new File(\"back4.png\");\n  encodeFile(sourceImage, sourceImage64);\n  decodeFile(sourceImage64, destImage);\n }\n\n private static void encodeFile(File inputFile, File outputFile) throws IOException {\n  BufferedInputStream in = null;\n  BufferedWriter out = null;\n  try {\n   in = new BufferedInputStream(new FileInputStream(inputFile));\n   out = new BufferedWriter(new FileWriter(outputFile));\n   encodeStream(in, out);\n   out.flush();\n  } finally {\n   if (in != null)\n    in.close();\n   if (out != null)\n    out.close();\n  }\n }\n\n private static void encodeStream(InputStream in, BufferedWriter out) throws IOException {\n  int lineLength = 72;\n  byte[] buf = new byte[lineLength / 4 * 3];\n  while (true) {\n   int len = in.read(buf);\n   if (len &amp;lt;= 0)\n    break;\n   out.write(Base64Coder.encode(buf, 0, len));\n   out.newLine();\n  }\n }\n\n static String encodeArray(byte[] in) throws IOException {\n  StringBuffer out = new StringBuffer();\n  out.append(Base64Coder.encode(in, 0, in.length));\n  return out.toString();\n }\n\n static byte[] decodeArray(String in) throws IOException {\n  byte[] buf = Base64Coder.decodeLines(in);\n  return buf;\n }\n\n private static void decodeFile(File inputFile, File outputFile) throws IOException {\n  BufferedReader in = null;\n  BufferedOutputStream out = null;\n  try {\n   in = new BufferedReader(new FileReader(inputFile));\n   out = new BufferedOutputStream(new FileOutputStream(outputFile));\n   decodeStream(in, out);\n   out.flush();\n  } finally {\n   if (in != null)\n    in.close();\n   if (out != null)\n    out.close();\n  }\n }\n\n private static void decodeStream(BufferedReader in, OutputStream out) throws IOException {\n  while (true) {\n   String s = in.readLine();\n   if (s == null)\n    break;\n   byte[] buf = Base64Coder.decodeLines(s);\n   out.write(buf);\n  }\n }\n}\n</code></pre>\n\n<p>In Android you can convert your Bitmap to Base64 for Uploading to Server/Web Service.</p>\n\n<pre><code>Bitmap bmImage = //Data\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nbmImage.compress(Bitmap.CompressFormat.JPEG, 100, baos);\nbyte[] imageData = baos.toByteArray();\nString encodedImage = Base64.encodeArray(imageData);\n</code></pre>\n\n<p>This \u201cencodedImage\u201d is text representation of your Image. You can use this for either uploading purpose or for diplaying directly into HTML Page as below (<a href=\"http://dwij.co.in/java-base64-image-encoder/\">Reference</a>):</p>\n\n<pre><code>&lt;img alt=\"\" src=\"data:image/png;base64,&lt;?php echo $encodedImage; ?&gt;\" width=\"100px\" /&gt;\n&lt;img alt=\"\" src=\"data:image/png;base64,/9j/4AAQ...........1f/9k=\" width=\"100px\" /&gt;\n</code></pre>\n\n<p>Documentation: <a href=\"http://dwij.co.in/java-base64-image-encoder\">http://dwij.co.in/java-base64-image-encoder</a></p>\n", "title": "Base64 Encoding in Java", "answer_id": 16899776, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/16899776#16899776", "tags": ["java", "base64"]}, {"body": "<p>Use Java 8's never-too-late-to-join-in-the-fun class: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\"><code>java.util.Base64</code></a></p>\n", "title": "Base64 Encoding in Java", "answer_id": 22704819, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/22704819#22704819", "tags": ["java", "base64"]}, {"body": "<p>apache commons has nice implementation of base64. you can do this as simply as </p>\n\n<pre><code>// encrypt data on your side using BASE64\nbyte[]   bytesEncoded = Base64.encodeBase64(str .getBytes());\nSystem.out.println(\"ecncoded value is \" + new String(bytesEncoded ));\n\n// Decrypt data on other side, by processing encoded data\nbyte[] valueDecoded= Base64.decodeBase64(bytesEncoded );\nSystem.out.println(\"Decoded value is \" + new String(valueDecoded));\n</code></pre>\n\n<p>you can find more details about base64 encoding at <a href=\"http://faisalbhagat.blogspot.com/2014/06/base64-encoding-using-java-and.html\">http://faisalbhagat.blogspot.com/2014/06/base64-encoding-using-java-and.html</a></p>\n", "title": "Base64 Encoding in Java", "answer_id": 24080514, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/24080514#24080514", "tags": ["java", "base64"]}, {"body": "<p>In Java 8 it can be done as</p>\n\n<pre><code>Base64.getEncoder().encodeToString(string.getBytes(StandardCharsets.UTF_8))\n</code></pre>\n\n<p>Here is a short, self-contained complete example</p>\n\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\npublic class Temp {\n    public static void main(String... args) throws Exception {\n        final String s = \"old crow medicine show\";\n        final byte[] authBytes = s.getBytes(StandardCharsets.UTF_8);\n        final String encoded = Base64.getEncoder().encodeToString(authBytes);\n        System.out.println(s + \" =&gt; \" + encoded);\n    }\n}\n</code></pre>\n\n<p>gives output</p>\n\n<pre><code>old crow medicine show =&gt; b2xkIGNyb3cgbWVkaWNpbmUgc2hvdw==\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 26897706, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/26897706#26897706", "tags": ["java", "base64"]}, {"body": "<p><strong>Google Guava</strong> is a good choice to encode and decode base64 data:</p>\n\n<p><strong>POM config:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;artifactId&gt;guava&lt;/artifactId&gt;\n   &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n   &lt;version&gt;14.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Sample code:</strong></p>\n\n<pre><code>String inputContent = \"Hello Vi\u1ec7t Nam\";\nString base64String = BaseEncoding.base64().encode(inputContent.getBytes(\"UTF-8\"));\n//decode\nSystem.out.println(\"Base64:\" + base64String);//SGVsbG8gVmnhu4d0IE5hbQ==\nbyte[] contentInBytes = BaseEncoding.base64().decode(base64String);\nSystem.out.println(\"Source content: \" + new String(contentInBytes, \"UTF-8\"));//Hello Vi\u1ec7t Nam\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 28429519, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/28429519#28429519", "tags": ["java", "base64"]}, {"body": "<p>I tried with the following code snippet. It worked well. :-)</p>\n\n<pre><code>com.sun.org.apache.xml.internal.security.utils.Base64.encode(\"The string to encode goes here\");\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 28854512, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/28854512#28854512", "tags": ["java", "base64"]}, {"body": "<p>For java 6-7 best option is to borrow code from Android repository. It has no dependencies.</p>\n\n<p><a href=\"https://github.com/android/platform_frameworks_base/blob/master/core/java/android/util/Base64.java\" rel=\"nofollow\">https://github.com/android/platform_frameworks_base/blob/master/core/java/android/util/Base64.java</a></p>\n", "title": "Base64 Encoding in Java", "answer_id": 30813921, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/30813921#30813921", "tags": ["java", "base64"]}, {"body": "<p>Simple example with Java 8:</p>\n\n<pre><code>import java.util.Base64;\n\nString str = \"your string\";\nString encodedStr = Base64.getEncoder().encodeToString(str.getBytes(\"utf-8\"));\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 33724653, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/33724653#33724653", "tags": ["java", "base64"]}, {"body": "<p>In Java 7 I coded this method</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n\npublic static String toBase64(String data) {\n    return DatatypeConverter.printBase64Binary(data.getBytes());\n}\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 35994527, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/35994527#35994527", "tags": ["java", "base64"]}, {"body": "<p>If you are stuck to an earlier version of Java than 8 but already using <a href=\"https://aws.amazon.com/sdk-for-java/\" rel=\"nofollow\">AWS SDK for Java</a>, you can use <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/util/Base64.html\" rel=\"nofollow\">com.amazonaws.util.Base64</a>.</p>\n", "title": "Base64 Encoding in Java", "answer_id": 38917430, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/38917430#38917430", "tags": ["java", "base64"]}, {"body": "<p>If you are using Spring framework at least version 4.1, you can use <em>org.springframework.util.Base64Utils</em> class:</p>\n\n<p></p>\n\n<pre><code>byte[] raw = { 1, 2, 3 };\nString encoded = Base64Utils.encodeToString(raw);\nbyte[] decoded = Base64Utils.decodeFromString(encoded);\n</code></pre>\n\n<p>It will delegate to Java 8's Base64, Apache Commons Codec or JAXB DatatypeConverter, depending on what is available.</p>\n", "title": "Base64 Encoding in Java", "answer_id": 39038982, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/39038982#39038982", "tags": ["java", "base64"]}, {"body": "<p>On Android, use the static methods of the <a href=\"https://developer.android.com/reference/android/util/Base64.html\" rel=\"nofollow\">android.util.Base64</a> utility class.</p>\n\n<pre><code>byte[] encodedBytes = Base64.encode(\"Test\".getBytes());\nLog.d(\"tag\", \"encodedBytes \" + new String(encodedBytes));\nbyte[] decodedBytes = Base64.decode(encodedBytes);\nLog.d(\"tag\", \"decodedBytes \" + new String(decodedBytes));\n</code></pre>\n", "title": "Base64 Encoding in Java", "answer_id": 39106952, "link": "http://stackoverflow.com/questions/13109588/base64-encoding-in-java/39106952#39106952", "tags": ["java", "base64"]}], "question_id": 13109588}, {"body": "<p>I am trying to create 2 versions of an Android app (free/paid). I have an Android Library that contains files common to both. I created a new Android project and am trying to use the Library but get the error below:</p>\n\n<pre><code>Found 2 versions of android-support-v4.jar in the dependency list,\nbut not all the versions are identical (check is based on SHA-1 only at this time).\nAll versions of the libraries must be the same at this time.\nVersions found are:\nPath: /Users/Zaheer/Developer/App Free/libs/android-support-v4.jar\n    Length: 349252\n    SHA-1: 612846c9857077a039b533718f72db3bc041d389\nPath: /Users/Zaheer/Developer/App Library/libs/android-support-v4.jar\n    Length: 337562\n    SHA-1: 27c24d26e4c5d57976e6926367985548678e913c\n</code></pre>\n\n<p>Any ideas on how to resolve this? I've been playing with the build path to no success.</p>\n", "tags": ["java", "android", "jar"], "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_count": 14, "creation_date": 1345498675, "score": 129, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list", "answers": [{"body": "<blockquote>\n  <p>Any ideas on how to resolve this?</p>\n</blockquote>\n\n<p>Delete one.</p>\n\n<blockquote>\n  <p>I've been playing with the build path to no success.</p>\n</blockquote>\n\n<p>Step #1: Undo all that. If you are messing with the build path, on R16 or higher version of the ADT plugin for Eclipse, you're doing it wrong.</p>\n\n<p>Step #2: Pick one of those two versions of the JAR, or pick the one from the \"extras\" area of your SDK installation.</p>\n\n<p>Step #3: Put the right JAR in <code>App Library</code>.</p>\n\n<p>Step #4: Delete the one from <code>App Free</code>, since it will pick up that JAR from <code>App Library</code>.</p>\n\n<p>You are welcome to instead have the same actual JAR file in both spots (<code>App Free</code> and <code>App Library</code>), though that just takes up extra space for no reason.</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 12045627, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/12045627#12045627", "tags": ["java", "android", "jar"]}, {"body": "<ol>\n<li>Delete android-support-v4.jar from App Free</li>\n<li>Add the same file from App Library to App Free</li>\n</ol>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 13814052, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/13814052#13814052", "tags": ["java", "android", "jar"]}, {"body": "<p>Just copy the library from one of the projects to the other one. Maybe the timestamp needs to be the same on both. </p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 14267579, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/14267579#14267579", "tags": ["java", "android", "jar"]}, {"body": "<p>Use same jar while adding external jars in both library and project</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 19806615, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/19806615#19806615", "tags": ["java", "android", "jar"]}, {"body": "<p>There are some scenarios where you have multiple library projects having the the <code>android-support-v4.jar</code> in their <code>libs</code> and build paths and your project has a dependency towards both of them. Say for example in my case I have the following library projects in my workspace,</p>\n\n<ul>\n<li>libfacebook</li>\n<li>libsherlockactionbar</li>\n</ul>\n\n<p>Both these projects are independent and my <code>project.properties</code> looks like the following,</p>\n\n<pre><code># Project target.\ntarget=android-17\nandroid.library.reference.1=../libfacebook\nandroid.library.reference.2=../libsherlockactionbar\n</code></pre>\n\n<p>When I build my project, I get a jar mismatch problem having duplicate references to two copies of the same file. What I did to solve this issue is a bit of trickery. I created a new library project named <code>libcommons</code> as a parent to all the other <em>library</em> projects in my workspace, including <code>libfacebook</code> and <code>libsherlockactionbar</code>. Then I removed the support library from all other projects and kept only one copy inside <code>libcommons</code>'s <strong>libs</strong> folder. Then I have added <code>libcommons</code> as a reference to all my <em>other</em> library projects. Once cleaned my workspace, everything works like a charm.</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 20727305, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/20727305#20727305", "tags": ["java", "android", "jar"]}, {"body": "<p><strong>Resolution:</strong> </p>\n\n<ol>\n<li>Right click on 'free' project > Android Tools > Add Support Library. </li>\n<li>Do the same thing on 'paid' project.</li>\n<li>Clean all projects</li>\n</ol>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 22117838, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/22117838#22117838", "tags": ["java", "android", "jar"]}, {"body": "<p>Above solutions mostly solve the problem. after using these solutions and problem persists. Then </p>\n\n<blockquote>\n  <p>GO to project folder -> libs-> and delete \"android-support-v4.jar\"</p>\n</blockquote>\n\n<p>Hoping it would solve your problem as it solved my problem.</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 23822395, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/23822395#23822395", "tags": ["java", "android", "jar"]}, {"body": "<p>Check if there are irrelevant projects open for you, because that was the case for me, it seemed one of the JAR files was related to a different project, which I wasn't working with, so I just closed that project, did a clean build of the project I'm working on and didn't have the problem anymore! Hope this helps someone!</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 24189756, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/24189756#24189756", "tags": ["java", "android", "jar"]}, {"body": "<p>This is a more elegant fix than deleting and adding files!</p>\n\n<p>You just need to :</p>\n\n<ol>\n<li>Right Click the project App Free</li>\n<li>Go To \"Android Tools\" > \"Add Support Library\"</li>\n<li>Approve the permissions and let it update the library</li>\n<li>Repeat this process for the project App Library</li>\n</ol>\n\n<p>The Android Support Library will then be in sync (:</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 24609733, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/24609733#24609733", "tags": ["java", "android", "jar"]}, {"body": "<p>well.. it works for me:</p>\n\n<p>Go to </p>\n\n<blockquote>\n  <p>Project folder > libs</p>\n</blockquote>\n\n<p>then, delete \"android-support-v4.jar\"</p>\n\n<p>Then </p>\n\n<blockquote>\n  <p>project > Clean</p>\n</blockquote>\n\n<p>It will work!</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 25356354, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/25356354#25356354", "tags": ["java", "android", "jar"]}, {"body": "<p>You just need to have exactly the same android-support-v4.jar checksum on each of your projects.\nFor this, you can copy/past one of them in all of your conflicting projects / library.</p>\n\n<p>Nothing else to do, clean and enjoy :)</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 26650248, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/26650248#26650248", "tags": ["java", "android", "jar"]}, {"body": "<p>May be you open 2 project same time (both using android-support-v4.jar) . <code>I close 1 project and every thing ok</code></p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 26666343, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/26666343#26666343", "tags": ["java", "android", "jar"]}, {"body": "<h2>VERY SIMPLE SOLUTION</h2>\n\n<p>A very simple solution worked for my case, <strong>just copy the same (android-support-v4.jar) jar file to all the projects.</strong> There will be no more conflict.</p>\n\n<p>1 Copy the jar file android-support-v4.jar from libs folder of any one project.</p>\n\n<p>2 Delete the jar file android-support-v4.jar from second project's libs folder which is already existing.</p>\n\n<p>3 Paste the newly copied jar file of first project to libs folder of second project.</p>\n\n<p>The jar mismatch issue will be resolved by now.</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 27038182, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/27038182#27038182", "tags": ["java", "android", "jar"]}, {"body": "<p>I just had this issue, but instead of deleting the conflicting <strong>android-support-v4.jar</strong> I just renamed it to <strong>android-support-v4_PROJECT.jar</strong>, which removed the conflict. </p>\n\n<p>If you are wondering how to rename a file in Eclipse, you just need to highlight the file and press F2.</p>\n", "title": "Jar Mismatch Found 2 versions of android-support-v4.jar in the dependency list", "answer_id": 28651707, "link": "http://stackoverflow.com/questions/12045568/jar-mismatch-found-2-versions-of-android-support-v4-jar-in-the-dependency-list/28651707#28651707", "tags": ["java", "android", "jar"]}], "question_id": 12045568}, {"body": "<p>what is difference between <code>CrudRepository</code> and <code>JpaRepository</code> interfaces in Spring Data JPA, when see the examples in the web. I see them there used kind of interchangeably. What is the difference between them? Why would you want to use one over the other?</p>\n", "tags": ["java", "spring", "jpa", "spring-data", "spring-data-jpa"], "title": "What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA", "answer_count": 2, "creation_date": 1356291312, "score": 128, "link": "http://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring", "answers": [{"body": "<p><a href=\"http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\">JpaRepository</a> extends <a href=\"http://static.springsource.org/spring-data/data-commons/docs/1.2.0.M1/api/org/springframework/data/repository/PagingAndSortingRepository.html\">PagingAndSortingRepository</a> which in turn extends <a href=\"http://static.springsource.org/spring-data/data-commons/docs/1.2.1.RELEASE/api/org/springframework/data/repository/CrudRepository.html\">CrudRepository</a>. </p>\n\n<p>Their main functions are:</p>\n\n<ul>\n<li><a href=\"http://static.springsource.org/spring-data/data-commons/docs/1.2.1.RELEASE/api/org/springframework/data/repository/CrudRepository.html\">CrudRepository</a> mainly provides CRUD functions.</li>\n<li><a href=\"http://static.springsource.org/spring-data/data-commons/docs/1.2.0.M1/api/org/springframework/data/repository/PagingAndSortingRepository.html\">PagingAndSortingRepository</a> provide methods to do pagination and sorting records.</li>\n<li><a href=\"http://static.springsource.org/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\">JpaRepository</a> provides some JPA related method such as flushing the persistence context and delete record in a batch.</li>\n</ul>\n\n<p>Because of the inheritance mentioned above,  <code>JpaRepository</code> will have all the functions of <code>CrudRepository</code> and <code>PagingAndSortingRepository</code>. So if you don't need the repository to have the functions provided by <code>JpaRepository</code> and <code>PagingAndSortingRepository</code> , use <code>CrudRepository</code>. </p>\n", "title": "What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA", "answer_id": 14025100, "link": "http://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring/14025100#14025100", "tags": ["java", "spring", "jpa", "spring-data", "spring-data-jpa"]}, {"body": "<p>Ken's answer is basically right but I'd like to chime in on the \"why would you want to use one over the other?\" part of your question.</p>\n\n<h2>Basics</h2>\n\n<p>The base interface you choose for your repository has two main purposes. First, you allow the Spring Data repository infrastructure to find your interface and trigger the proxy creation so that you inject instances of the interface into clients. The second purpose is to pull in as much functionality as needed into the interface without having to declare extra methods.</p>\n\n<h2>The common interfaces</h2>\n\n<p>The Spring Data core library ships with two base interfaces that expose a dedicated set of functionalities:</p>\n\n<ul>\n<li><code>CrudRepository</code> - CRUD methods</li>\n<li><code>PagingAndSortingRepository</code> - methods for pagination and sorting (extends <code>CrudRepository</code>)</li>\n</ul>\n\n<h2>Store-specific interfaces</h2>\n\n<p>The individual store modules (e.g. for JPA or MongoDB) expose store-specific extensions of these base interfaces to allow access to store-specific functionality like flushing or dedicated batching that take some store specifics into account. An example for this is <code>deleteInBatch(\u2026)</code> of <code>JpaRepository</code> which is different from <code>delete(\u2026)</code> as it uses a query to delete the given entities which is more performant but comes with the side effect of not triggering the JPA-defined cascades (as the spec defines it).</p>\n\n<p>We generally recommend <em>not</em> to use these base interfaces as they expose the underlying persistence technology to the clients and thus tighten the coupling between them and the repository. Plus, you get a bit away from the original definition of a repository which is basically \"a collection of entities\". So if you can, stay with <code>PagingAndSortingRepository</code>.</p>\n\n<h2>Custom repository base interfaces</h2>\n\n<p>The downside of directly depending on one of the provided base interfaces is two-fold. Both of them might be considered as theoretical but I think they're important to be aware of:</p>\n\n<ol>\n<li><strong>Depending on a a Spring Data repository interface couples your repository interface to the library.</strong> I don't think this is a particular issue as you'll probably use abstractions like <code>Page</code> or <code>Pageable</code> in your code anyway. Spring Data is not any different from any other general purpose library like commons-lang or Guava. As long as it provides reasonable benefit, it's just fine.</li>\n<li><strong>By extending e.g. <code>CrudRepository</code>, you expose a complete set of persistence method at once.</strong> This is probably fine in most circumstances as well but you might run into situations where you'd like to gain more fine-grained control over the methods expose, e.g. to create a <code>ReadOnlyRepository</code> that doesn't include the <code>save(\u2026)</code> and <code>delete(\u2026)</code> methods of <code>CrudRepository</code>.</li>\n</ol>\n\n<p>The solution to both of these downsides is to craft your own base repository interface or even a set of them. In a lot of applications we've seen something like this:</p>\n\n<pre><code>interface ApplicationRepository&lt;T&gt; extends PagingAndSortingRepository&lt;T, Long&gt; { }\n\ninterface ReadOnlyRepository&lt;T&gt; extends Repository&lt;T, Long&gt; {\n\n  // Al finder methods go here\n}\n</code></pre>\n\n<p>The first repository interface is some general purpose base interface that actually only fixes point 1 but also ties the ID type to be <code>Long</code> for consistency. The second interface usually has all the <code>find\u2026(\u2026)</code> methods copied from <code>CrudRepository</code> and <code>PagingAndSortingRepository</code> but does not expose the manipulating ones. Read more on that approach in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition-tuning\">reference documentation</a>.</p>\n\n<h2>Summary - tl;dr</h2>\n\n<p>The repository abstraction allows you to pickt the base repository totally driven by you architectural and functional needs. Use the ones provided out of the box if they suit, craft your own repository base interfaces if necessary. Stay away from the store specific repository interfaces unless unavoidable.</p>\n", "title": "What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA", "answer_id": 20784007, "link": "http://stackoverflow.com/questions/14014086/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring/20784007#20784007", "tags": ["java", "spring", "jpa", "spring-data", "spring-data-jpa"]}], "question_id": 14014086}, {"body": "<p>According to the JLS, an <code>int</code> array should be filled by zeros just after initialization. However, I am faced with a situation where it is not. Such a behavior occurs first in JDK 7u4 and also occurs in all later updates (I use 64-bit implementation). The following code throws exception:</p>\n\n<pre><code>public static void main(String[] args) {\n        int[] a;\n        int n = 0;\n        for (int i = 0; i &lt; 100000000; ++i) {\n            a = new int[10];\n            for (int f : a)\n                if (f != 0)\n                  throw new RuntimeException(\"Array just after allocation: \"+ Arrays.toString(a));\n            Arrays.fill(a, 0);\n            for (int j = 0; j &lt; a.length; ++j)\n                a[j] = (n - j)*i;\n            for (int f : a)\n                n += f;\n        }\n        System.out.println(n);\n    }\n</code></pre>\n\n<p>The exception occurs after the JVM performs compilation of the code block and does not arise with <code>-Xint</code> flag. Additionally, the <code>Arrays.fill(...)</code> statement (as all other statements in this code) is necessary, and the exception does not occurs if it is absent. It is clear that this possible bug is bounded with some JVM optimization. Any ideas for the reason of such a behavior?</p>\n\n<p><em>Update:</em><br>\nI see this behavior on HotSpot 64-bit server VM, Java version from 1.7.0_04 to 1.7.0_10 on Gentoo Linux, Debian Linux (both kernel 3.0 version) and MacOS Lion. This error can always be reproduced with the code above. I did not test this problem with a 32-bit JDK or on Windows. I already sent a bug report to the Oracle (bug id 7196857) and it will appear in public Oracle bug database in few days.</p>\n\n<p><em>Update:</em><br>\nOracle published this bug at their public bug database: <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7196857\">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7196857</a> </p>\n", "tags": ["java", "arrays", "jvm", "initialization", "java-7"], "title": "Java: int array initializes with nonzero elements", "answer_count": 2, "creation_date": 1347019150, "score": 128, "link": "http://stackoverflow.com/questions/12317668/java-int-array-initializes-with-nonzero-elements", "answers": [{"body": "<p>I made some change in your code.\nIt's not a problem of Integer overflow. See the code, it throws an exception at runtime </p>\n\n<pre><code>    int[] a;\n    int n = 0;\n    for (int i = 0; i &lt; 100000000; ++i) {\n        a = new int[10];\n        for (int f : a) {\n            if (f != 0) {\n                throw new RuntimeException(\"Array just after allocation: \" + Arrays.toString(a));\n            }\n        }\n        for (int ii = 0, len = a.length; ii &lt; len; ii++)\n            a[ii] = 0;\n        for (int j = 0; j &lt; a.length; ++j)\n            a[j] = Integer.MAX_VALUE - 1;\n        for (int j = 0; j &lt; a.length; ++j)\n            n++;\n    }\n</code></pre>\n", "title": "Java: int array initializes with nonzero elements", "answer_id": 12337833, "link": "http://stackoverflow.com/questions/12317668/java-int-array-initializes-with-nonzero-elements/12337833#12337833", "tags": ["java", "arrays", "jvm", "initialization", "java-7"]}, {"body": "<p>Here we are faced with a bug in the JIT-compiler. Compiler determines that the allocated array is filled after allocation in <code>Arrays.fill(...)</code>, but the check for uses between the allocation and the fill is faulty. So, compiler performs an illegal optimization - it skips zeroing of allocated array.</p>\n\n<p>This bug is placed in Oracle bug tracker (<a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7196857\">bug id 7196857</a>). Unfortunately, I did not wait for any clarifications from Oracle about the following points. As I see, this bug is OS-specific: it absolutely reproducible on 64-bit Linux and Mac, but, as I see from comments, it reproduces not regularly on Windows (for similar versions of JDK). Additionally it would be nice to know when this bug will be fixed.</p>\n\n<p>There is only advice at the moment: do not use JDK1.7.0_04 or later if you depend on JLS for newly declared arrays.</p>\n\n<p><em>Update at October 5:</em></p>\n\n<p>In the new <a href=\"http://jdk7.java.net/download.html\">Build 10</a> of the JDK 7u10 (early access) released at October 04, 2012, this bug was fixed at least for Linux OS (I did not test for other). Thanks to @Makoto, who found that this bug is no longer available for public access in Oracle bug database. Unfortunately, I do not know for the reasons Oracle removed it from public access, but it is available in Google <a href=\"http://webcache.googleusercontent.com/search?q=cache%3aQ0V_rKQNw5sJ%3abugs.sun.com/bugdatabase/view_bug.do?bug_id=7196857%20&amp;cd=5&amp;hl=en&amp;ct=clnk\">cache</a>. Also, this bug has caught the attention of Redhat: the CVE identifiers <a href=\"https://access.redhat.com/security/cve/CVE-2012-4420\">CVE-2012-4420</a>  (<a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=856588\">bugzilla</a>) and <a href=\"https://access.redhat.com/security/cve/CVE-2012-4416\">CVE-2012-4416</a> (<a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=856124\">bugzilla</a>) were assigned to this flaw.</p>\n", "title": "Java: int array initializes with nonzero elements", "answer_id": 12375312, "link": "http://stackoverflow.com/questions/12317668/java-int-array-initializes-with-nonzero-elements/12375312#12375312", "tags": ["java", "arrays", "jvm", "initialization", "java-7"]}], "question_id": 12317668}, {"body": "<p>My question is how to generate this value in IDEA? I go to Settings -> Errors -> Serialization issues -> Serializable class without \u2018serialVersionUID\u2019 but it still dont show me the warning. My class PKladrBuilding parent implements <em>interface Serializable</em>.</p>\n\n<p>Part of the code: </p>\n\n<pre><code>public class PKladrBuilding extends PRQObject\n\npublic abstract class PRQObject extends PObject\n\npublic abstract class PObject implements Serializable\n</code></pre>\n", "tags": ["java", "serialization", "intellij-idea"], "title": "IntelliJ Idea generating serialVersionUID", "answer_count": 6, "creation_date": 1350382238, "score": 127, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid", "answers": [{"body": "<p>I am not sure if you have an old version of IntelliJ but If I go <code>File =&gt; Settings... =&gt; Inspections =&gt; Serialization issues =&gt;  Serializable class without 'serialVersionUID'</code> enabled, the class you provide give me warnings.</p>\n\n<p><img src=\"http://i.stack.imgur.com/lpmCC.png\" alt=\"enter image description here\"></p>\n\n<p>If I try the first class I see</p>\n\n<p><img src=\"http://i.stack.imgur.com/zb5lI.png\" alt=\"enter image description here\"></p>\n\n<p>BTW It didn't show me a warning until I added <code>{ }</code> to the end of each class to fix the compile error.</p>\n", "title": "IntelliJ Idea generating serialVersionUID", "answer_id": 12912420, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid/12912420#12912420", "tags": ["java", "serialization", "intellij-idea"]}, {"body": "<p>Install <strong><a href=\"http://plugins.jetbrains.com/plugin/?idea&amp;id=185\">GenerateSerialVersionUID</a></strong> plugin by Olivier Descout</p>\n\n<p>Go to: <code>File &gt; Settings &gt; Plugins &gt; Browse repositories &gt; GenerateSerialVersionUID</code></p>\n\n<p>Install the plugin and restart. </p>\n\n<p>Now you can generate the id from <code>Code &gt; Generate &gt; serialVersionUID</code>  or the shortcut.</p>\n", "title": "IntelliJ Idea generating serialVersionUID", "answer_id": 18341415, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid/18341415#18341415", "tags": ["java", "serialization", "intellij-idea"]}, {"body": "<p>In addition you can add live template that will do the work.\nTo do it press Ctrl+Alt+s -> \"Live Templates\" section -> other(or w/e you wish)\nAnd then create a new one with a definition like this:</p>\n\n<pre><code>private static final long serialVersionUID = 1L;\n$END$\n</code></pre>\n\n<p>Then select definition scope and save it as 'serial'\nNow you can type serial[tab] in class body.</p>\n", "title": "IntelliJ Idea generating serialVersionUID", "answer_id": 25912054, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid/25912054#25912054", "tags": ["java", "serialization", "intellij-idea"]}, {"body": "<p>In order to generate the value use </p>\n\n<pre><code>private static final long serialVersionUID = $randomLong$L;\n$END$\n</code></pre>\n\n<p>and provide the randomLong template variable with the following value:\ngroovyScript(\"new Random().nextLong().abs()\")</p>\n\n<p><a href=\"https://pharsfalvi.wordpress.com/2015/03/18/adding-serialversionuid-in-idea/\">https://pharsfalvi.wordpress.com/2015/03/18/adding-serialversionuid-in-idea/</a></p>\n", "title": "IntelliJ Idea generating serialVersionUID", "answer_id": 29119001, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid/29119001#29119001", "tags": ["java", "serialization", "intellij-idea"]}, {"body": "<p>If you want to add the absent serialVersionUID for a bunch of file, IntelliJ Idea may not work very well. I come up some simple script to fulfill this goal with ease:</p>\n\n<pre><code>base_dir=$(pwd)                                                                  \nsrc_dir=$base_dir/src/main/java                                                  \nic_api_cp=$base_dir/target/classes                                               \n\nwhile read f                                                                     \ndo                                                                               \n    clazz=${f//\\//.}                                                             \n    clazz=${clazz/%.java/}                                                       \n    seruidstr=$(serialver -classpath $ic_api_cp $clazz | cut -d ':' -f 2 | sed -e 's/^\\s\\+//')\n    perl -ni.bak -e \"print $_; printf qq{%s\\n}, q{    private $seruidstr} if /public class/\" $src_dir/$f\ndone\n</code></pre>\n\n<p>you save the this script, say add_serialVersionUID.sh to you ~/bin. Then you run it in the root directory of your Maven or Gradle project like:</p>\n\n<pre><code>add_serialVersionUID.sh &lt; myJavaToAmend.lst\n</code></pre>\n\n<p>This .lst includes the list of java files to add the serialVersionUID in the following format:</p>\n\n<pre><code>com/abc/ic/api/model/domain/item/BizOrderTransDO.java\ncom/abc/ic/api/model/domain/item/CardPassFeature.java\ncom/abc/ic/api/model/domain/item/CategoryFeature.java\ncom/abc/ic/api/model/domain/item/GoodsFeature.java\ncom/abc/ic/api/model/domain/item/ItemFeature.java\ncom/abc/ic/api/model/domain/item/ItemPicUrls.java\ncom/abc/ic/api/model/domain/item/ItemSkuDO.java\ncom/abc/ic/api/model/domain/serve/ServeCategoryFeature.java\ncom/abc/ic/api/model/domain/serve/ServeFeature.java\ncom/abc/ic/api/model/param/depot/DepotItemDTO.java\ncom/abc/ic/api/model/param/depot/DepotItemQueryDTO.java\ncom/abc/ic/api/model/param/depot/InDepotDTO.java\ncom/abc/ic/api/model/param/depot/OutDepotDTO.java\n</code></pre>\n\n<p>This script uses the JDK serialVer tool. It is ideal for situation when you want to amend a huge number of classes which had no serialVersionUID set in the first place while maintain the compatibility with the old classes.</p>\n", "title": "IntelliJ Idea generating serialVersionUID", "answer_id": 31088684, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid/31088684#31088684", "tags": ["java", "serialization", "intellij-idea"]}, {"body": "<p>I am using Android Studio 2.1 and I have better consistency of getting the lightbulb by clicking on the class Name and hover over it for a second.</p>\n", "title": "IntelliJ Idea generating serialVersionUID", "answer_id": 38045809, "link": "http://stackoverflow.com/questions/12912287/intellij-idea-generating-serialversionuid/38045809#38045809", "tags": ["java", "serialization", "intellij-idea"]}], "question_id": 12912287}, {"body": "<p>How can iterate over a <code>Set</code>/<code>HashSet</code> without this?</p>\n\n<pre><code>Iterator iter = set.iterator();\nwhile (iter.hasNext()) {\n    System.out.println(iter.next());\n}\n</code></pre>\n", "tags": ["java", "loops", "set", "hashset"], "title": "How to Iterate over a Set/HashSet without a Iterator?", "answer_count": 5, "creation_date": 1347871292, "score": 124, "link": "http://stackoverflow.com/questions/12455737/how-to-iterate-over-a-set-hashset-without-a-iterator", "answers": [{"body": "<p>You can use an <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\">enhanced for loop</a>:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n\n//populate set\n\nfor (String s : set) {\n    System.out.println(s);\n}\n</code></pre>\n\n<p>Or with Java 8:</p>\n\n<pre><code>set.forEach(System.out::println);\n</code></pre>\n", "title": "How to Iterate over a Set/HashSet without a Iterator?", "answer_id": 12455755, "link": "http://stackoverflow.com/questions/12455737/how-to-iterate-over-a-set-hashset-without-a-iterator/12455755#12455755", "tags": ["java", "loops", "set", "hashset"]}, {"body": "<p><strong>Converting your set into an array</strong>\nmay also help you for iterating over the elements:</p>\n\n<pre><code>Object[] array = set.toArray();\n\nfor(int i=0; i&lt;array.length; i++)\n   Object o = array[i]; // yielding elements, casting might be required.\n</code></pre>\n", "title": "How to Iterate over a Set/HashSet without a Iterator?", "answer_id": 12455800, "link": "http://stackoverflow.com/questions/12455737/how-to-iterate-over-a-set-hashset-without-a-iterator/12455800#12455800", "tags": ["java", "loops", "set", "hashset"]}, {"body": "<p>Enumeration(?):</p>\n\n<pre><code>Enumeration e = new Vector(set).elements();\nwhile (e.hasMoreElements())\n    {\n        System.out.println(e.nextElement());\n    }\n</code></pre>\n\n<p>Another way (java.util.Collections.enumeration()):</p>\n\n<pre><code>for (Enumeration e1 = Collections.enumeration(set); e1.hasMoreElements();)\n    {\n        System.out.println(e1.nextElement());\n    }\n</code></pre>\n\n<p>Java 8:</p>\n\n<pre><code>set.forEach(element -&gt; System.out.println(element));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>set.stream().forEach((elem) -&gt; {\n    System.out.println(elem);\n});\n</code></pre>\n", "title": "How to Iterate over a Set/HashSet without a Iterator?", "answer_id": 30914485, "link": "http://stackoverflow.com/questions/12455737/how-to-iterate-over-a-set-hashset-without-a-iterator/30914485#30914485", "tags": ["java", "loops", "set", "hashset"]}, {"body": "<p>To demonstrate, consider the following set, which holds different Person objects:</p>\n\n<pre><code>Set&lt;Person&gt; people = new HashSet&lt;Person&gt;();\npeople.add(new Person(\"Tharindu\", 10));\npeople.add(new Person(\"Martin\", 20));\npeople.add(new Person(\"Fowler\", 30));\n</code></pre>\n\n<blockquote>\n  <p>Person Model Class</p>\n</blockquote>\n\n<pre><code>public class Person {\n    private String name;\n    private int age;\n\n    public Person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    //TODO - getters,setters ,overridden toString &amp; compareTo methods\n\n}\n</code></pre>\n\n<ol>\n<li>The for statement has a form designed for iteration through Collections and arrays .This form is sometimes referred to as the enhanced for statement, and can be used to make your loops more compact and easy to read. </li>\n</ol>\n\n<blockquote>\n<pre><code>for(Person p:people){\n  System.out.println(p.getName());\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Java 8 - java.lang.Iterable.forEach(Consumer)</li>\n</ol>\n\n<blockquote>\n<pre><code>people.forEach(p -&gt; System.out.println(p.getName()));\n</code></pre>\n</blockquote>\n\n<pre><code>default void forEach(Consumer&lt;? super T&gt; action)\n\nPerforms the given action for each element of the Iterable until all elements have been processed or the action throws an exception. Unless otherwise specified by the implementing class, actions are performed in the order of iteration (if an iteration order is specified). Exceptions thrown by the action are relayed to the caller. Implementation Requirements:\n\nThe default implementation behaves as if: \n\nfor (T t : this)\n     action.accept(t);\n\nParameters: action - The action to be performed for each element\n\nThrows: NullPointerException - if the specified action is null\n\nSince: 1.8\n</code></pre>\n", "title": "How to Iterate over a Set/HashSet without a Iterator?", "answer_id": 31580636, "link": "http://stackoverflow.com/questions/12455737/how-to-iterate-over-a-set-hashset-without-a-iterator/31580636#31580636", "tags": ["java", "loops", "set", "hashset"]}, {"body": "<p>There are at least six additional ways to iterate over a set. The following are known to me:</p>\n\n<p><strong>Method 1</strong></p>\n\n<pre><code>// Obsolete Collection\nEnumeration e = new Vector(movies).elements();\nwhile (e.hasMoreElements()) {\n  System.out.println(e.nextElement());\n}\n</code></pre>\n\n<p><strong>Method 2</strong></p>\n\n<pre><code>for (String movie : movies) {\n  System.out.println(movie);\n}\n</code></pre>\n\n<p><strong>Method 3</strong></p>\n\n<pre><code>String[] movieArray = movies.toArray(new String[movies.size()]);\nfor (int i = 0; i &lt; movieArray.length; i++) {\n  System.out.println(movieArray[i]);\n}\n</code></pre>\n\n<p><strong>Method 4</strong></p>\n\n<pre><code>// Supported in Java 8 and above\nmovies.stream().forEach((movie) -&gt; {\n  System.out.println(movie);\n});\n</code></pre>\n\n<p><strong>Method 5</strong></p>\n\n<pre><code>// Supported in Java 8 and above\nmovies.stream().forEach(movie -&gt; System.out.println(movie));\n</code></pre>\n\n<p><strong>Method 6</strong></p>\n\n<pre><code>// Supported in Java 8 and above\nmovies.stream().forEach(System.out::println);\n</code></pre>\n\n<p>This is the <code>HashSet</code> which I used for my examples:</p>\n\n<pre><code>Set&lt;String&gt; movies = new HashSet&lt;&gt;();\nmovies.add(\"Avatar\");\nmovies.add(\"The Lord of the Rings\");\nmovies.add(\"Titanic\");\n</code></pre>\n", "title": "How to Iterate over a Set/HashSet without a Iterator?", "answer_id": 39156074, "link": "http://stackoverflow.com/questions/12455737/how-to-iterate-over-a-set-hashset-without-a-iterator/39156074#39156074", "tags": ["java", "loops", "set", "hashset"]}], "question_id": 12455737}, {"body": "<p>I have a bunch of .keystore files and need to find one with specific CN and alias. Is there a way to do it with keytool, jarsigner or some other tool? I found a way to check if specific keystore was used to sign a specific apk, but I also need to get the alias and certificate name in each of the files.</p>\n", "tags": ["java", "android", "keystore"], "title": "How to check certificate name and alias in keystore files?", "answer_count": 4, "creation_date": 1350297977, "score": 122, "link": "http://stackoverflow.com/questions/12893995/how-to-check-certificate-name-and-alias-in-keystore-files", "answers": [{"body": "<p>You can run the following command to list the content of your keystore file:</p>\n\n<pre><code>keytool -list -keystore .keystore\n</code></pre>\n\n<p>If you are looking for a specific alias, you can also specify it in the command:</p>\n\n<pre><code>keytool -list -keystore .keystore -alias foo\n</code></pre>\n\n<p>If the alias is not found, it will display an exception:</p>\n\n<blockquote>\n  <p>keytool error: java.lang.Exception: Alias  does not exist</p>\n</blockquote>\n", "title": "How to check certificate name and alias in keystore files?", "answer_id": 12894334, "link": "http://stackoverflow.com/questions/12893995/how-to-check-certificate-name-and-alias-in-keystore-files/12894334#12894334", "tags": ["java", "android", "keystore"]}, {"body": "<p>You can run from Java code.</p>\n\n<pre><code>try {\n\n        File file = new File(keystore location);\n        is = new FileInputStream(file);\n        KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n        String password = \"password\";\n        keystore.load(is, password.toCharArray());\n\n\n        Enumeration enumeration = keystore.aliases();\n        while(enumeration.hasMoreElements()) {\n            String alias = (String)enumeration.nextElement();\n            System.out.println(\"alias name: \" + alias);\n            Certificate certificate = keystore.getCertificate(alias);\n            System.out.println(certificate.toString());\n\n        }\n\n    } catch (java.security.cert.CertificateException e) {\n        e.printStackTrace();\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (KeyStoreException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }finally {\n        if(null != is)\n            try {\n                is.close();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n    }\n</code></pre>\n\n<p>Certificate class holds all information about the keystore.</p>\n\n<p><strong>UPDATE- OBTAIN PRIVATE KEY</strong></p>\n\n<pre><code>Key key = keyStore.getKey(alias, password.toCharArray());\nString encodedKey = new Base64Encoder().encode(key.getEncoded());\nSystem.out.println(\"key ? \" + encodedKey);\n</code></pre>\n\n<p>@prateek Hope this is what you looking for!</p>\n", "title": "How to check certificate name and alias in keystore files?", "answer_id": 12894711, "link": "http://stackoverflow.com/questions/12893995/how-to-check-certificate-name-and-alias-in-keystore-files/12894711#12894711", "tags": ["java", "android", "keystore"]}, {"body": "<p><a href=\"http://keystore-explorer.sourceforge.net/screenshots.php\">KeyStore Explorer</a>  open source visual tool to manage keystores.</p>\n", "title": "How to check certificate name and alias in keystore files?", "answer_id": 21856399, "link": "http://stackoverflow.com/questions/12893995/how-to-check-certificate-name-and-alias-in-keystore-files/21856399#21856399", "tags": ["java", "android", "keystore"]}, {"body": "<p>In order to get all the details I had to add the -v option to romaintaz answer:</p>\n\n<pre><code>keytool -v -list -keystore &lt;FileName&gt;.keystore\n</code></pre>\n", "title": "How to check certificate name and alias in keystore files?", "answer_id": 29698543, "link": "http://stackoverflow.com/questions/12893995/how-to-check-certificate-name-and-alias-in-keystore-files/29698543#29698543", "tags": ["java", "android", "keystore"]}], "question_id": 12893995}, {"body": "<p>I have put log4j to my buildpath, but I get the following message when I run my application:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (dao.hsqlmanager).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n\n<p>What do these warnings mean?  Whats the appender here?</p>\n", "tags": ["java", "eclipse", "log4j"], "title": "No appenders could be found for logger(log4j)?", "answer_count": 15, "creation_date": 1348237041, "score": 117, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j", "answers": [{"body": "<p>You use the <code>Logger</code> in your code to log a message. The <code>Appender</code> is a Object appended to a <code>Logger</code> to write the message to a specific target. There are <code>FileAppender</code> to write to text-files or the <code>ConsoleAppender</code> to write to the Console. You need to show your code of the Logger and Appender setup for more help.</p>\n\n<p>please read the <a href=\"http://logging.apache.org/log4j/1.2/manual.html\">tutorial</a> for a better understanding of the interaction of Logger and Appender.</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 12532419, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/12532419#12532419", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>This <a href=\"http://logging.apache.org/log4j/1.2/manual.html\">Short introduction to log4j</a> guide is a little bit old but still valid.</p>\n\n<p>That guide will give you some information about how to use loggers and appenders.</p>\n\n<hr>\n\n<p>Just to get you going you have two simple approaches you can take.</p>\n\n<p>First one is to just add this line to your main method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BasicConfigurator.configure();\n</code></pre>\n\n<p>Second approach is to add this standard <code>log4j.properties</code> (taken from the above mentioned guide) file to your classpath:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># Set root logger level to DEBUG and its only appender to A1.\nlog4j.rootLogger=DEBUG, A1\n\n# A1 is set to be a ConsoleAppender.\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\n\n# A1 uses PatternLayout.\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n</code></pre>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 12532442, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/12532442#12532442", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>I get the same error. Here the problem which leads to this error message:</p>\n\n<p>I create some objects which use the Logger before I configure the log4j:</p>\n\n<pre><code>Logger.getLogger(Lang.class.getName()).debug(\"Loading language: \" + filename);\n</code></pre>\n\n<p>Solution: \nConfigure the log4j at the beginning in the main method:</p>\n\n<pre><code>PropertyConfigurator.configure(xmlLog4JConfigFile); \n// or BasicConfigurator.configure(); if you dont have a config file\n</code></pre>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 18981872, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/18981872#18981872", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>It looks like you need to add the location of your <code>log4j.properties</code> file to the Classpath in Eclipse.</p>\n\n<p>Make sure your project is open in Eclipse, then click on the \"Run\" menu at the top of Eclipse and click on the following:</p>\n\n<ol>\n<li>Run</li>\n<li>Run Configurations</li>\n<li>Classpath (tab)</li>\n<li>User Entries</li>\n<li>Advanced (button on the right)</li>\n<li>Add Folders</li>\n<li>then navigate to the folder that contains your log4j.properties file</li>\n<li>Apply</li>\n<li>Run</li>\n</ol>\n\n<p>The error message should no longer appear.</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 21508296, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/21508296#21508296", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>Quick solution:</p>\n\n<ol>\n<li><p>add code to <strong>main function</strong>:</p>\n\n<pre><code>String log4jConfPath = \"/path/to/log4j.properties\";\nPropertyConfigurator.configure(log4jConfPath);\n</code></pre></li>\n<li><p>create a file named log4j.properties at <strong>/path/to</strong></p>\n\n<pre><code>log4j.rootLogger=INFO, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{2}: %m%n\n</code></pre></li>\n</ol>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 23214068, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/23214068#23214068", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>I ran into this issue when trying to build an executable jar with maven in intellij 12. It turned out that because the  java manifest file didn't include a class path the log4j properties file couldn't be found at the root level (where the jar file was executed from.) </p>\n\n<p>FYI I was getting the logger like this:</p>\n\n<pre><code>Logger log = LogManager.getLogger(MyClassIWantedToLogFrom.class);\n</code></pre>\n\n<p>And I was able to get it to work with a pom file that included this:</p>\n\n<pre><code>         &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2-beta-5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt; \n                        &lt;mainClass&gt;com.mycompany.mainPackage.mainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Class-Path&gt;.&lt;/Class-Path&gt; &lt;!-- need to add current directory to classpath properties files can be found --&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 24926853, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/24926853#24926853", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>As explained earlier there are 2 approaches </p>\n\n<p>First one is to just add this line to your main method:</p>\n\n<pre><code>BasicConfigurator.configure();\n</code></pre>\n\n<p>Second approach is to add this standard <strong>log4j.properties</strong> file to your classpath:</p>\n\n<p>While taking second approach you need to make sure you initialize the file properly,\nEg.</p>\n\n<pre><code>Properties props = new Properties();\nprops.load(new FileInputStream(\"log4j property file path\"));\nprops.setProperty(\"log4j.appender.File.File\", \"Folder where you want to store log files/\" + \"File Name\");\n</code></pre>\n\n<p>Make sure you create required folder to store log files.</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 27603966, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/27603966#27603966", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>This is just a warning.</p>\n\n<h3>Fixing</h3>\n\n<p>This occurs when the default configuration files <code>log4j.properties</code> and <code>log4j.xml</code> can not be found and the application performs no explicit configuration.</p>\n\n<p>To fix that, simply create/copy <code>log4j.properties</code> or <code>log4j.xml</code> into your a location on the <em>classpath</em> (usually the same as the jar files).</p>\n\n<p>Optionally set java option: <code>-Dlog4j.configuration=file:///path/to/log4j.properties</code>.</p>\n\n<blockquote>\n  <p><code>log4j</code> uses <code>Thread.getContextClassLoader().getResource()</code> to locate the default configuration files and does not directly check the file system. Knowing the appropriate location to place <code>log4j.properties</code> or <code>log4j.xml</code> requires understanding the search strategy of the class loader in use. <code>log4j</code> does not provide a default configuration since output to the console or to the file system may be prohibited in some environments.</p>\n</blockquote>\n\n<h3>Debugging</h3>\n\n<p>For debugging, you may try to use <code>-Dlog4j.debug=true</code> parameter.</p>\n\n<h3>Configuration of <code>log4j.properties</code></h3>\n\n<p>Sample configuration of <code>log4j.properties</code>:</p>\n\n<pre><code># Set root logger level to DEBUG and its only appender to A1.\nlog4j.rootLogger=DEBUG, A1\n\n# A1 is set to be a ConsoleAppender.\nlog4j.appender.A1=org.apache.log4j.ConsoleAppender\n\n# A1 uses PatternLayout.\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n\n\n# Print only messages of level WARN or above in the package com.foo.\nlog4j.logger.com.foo=WARN\n</code></pre>\n\n<p>Here is another configuration file that uses multiple appenders:</p>\n\n<pre><code>log4j.rootLogger=debug, stdout, R\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n\n# Pattern to output the caller's file name and line number.\nlog4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\n\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=example.log\n\nlog4j.appender.R.MaxFileSize=100KB\n# Keep one backup file\nlog4j.appender.R.MaxBackupIndex=1\n\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\n</code></pre>\n\n<h3>Apache Solr</h3>\n\n<p>If using <em>Solr</em>, copy <code>&lt;solr&gt;/example/resources/log4j.properties</code> into a location on the <em>classpath</em>.</p>\n\n<p>Sample configuration of <code>log4j.properties</code> from Solr goes like:</p>\n\n<pre><code>#  Logging level\nsolr.log=logs/\nlog4j.rootLogger=INFO, file, CONSOLE\n\nlog4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender\n\nlog4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout\nlog4j.appender.CONSOLE.layout.ConversionPattern=%-4r [%t] %-5p %c %x \\u2013 %m%n\n\n#- size rotation with log cleanup.\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.MaxFileSize=4MB\nlog4j.appender.file.MaxBackupIndex=9\n\n#- File to log to and log format\nlog4j.appender.file.File=${solr.log}/solr.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%-5p - %d{yyyy-MM-dd HH:mm:ss.SSS}; %C; %m\\n\n\nlog4j.logger.org.apache.zookeeper=WARN\nlog4j.logger.org.apache.hadoop=WARN\n\n# set to INFO to enable infostream log messages\nlog4j.logger.org.apache.solr.update.LoggingInfoStream=OFF\n</code></pre>\n\n<hr>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://logging.apache.org/log4j/1.2/manual.html#defaultInit\" rel=\"nofollow\">Short introduction to log4j: Default Initialization Procedure</a></li>\n<li><a href=\"http://logging.apache.org/log4j/1.2/faq.html#a3.5\" rel=\"nofollow\">Why can't log4j find my properties in a J2EE or WAR application?</a></li>\n</ul>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 29479001, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/29479001#29479001", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>Make sure your project is open in Eclipse, then click on the \"Run\" menu at the top of Eclipse and click on the following:</p>\n\n<ol>\n<li><p>Run</p></li>\n<li><p>Run Configurations</p></li>\n<li><p>Classpath (tab)</p></li>\n<li><p>User Entries</p></li>\n<li><p>add jar on the right </p></li>\n<li><p>add log4j jar file</p></li>\n<li><p>Apply</p></li>\n<li><p>Run</p></li>\n</ol>\n\n<p>The error message should no longer appear.</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 34729094, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/34729094#34729094", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>I think you should understand where the log4j jar file or the Java code looks for the log4j configuration files.</p>\n\n<p><code>src/main/resources/log4j.properties</code> is Eclipse path.\nPlace them in a proper location so that you don't have to hard code the absolute path  in code.</p>\n\n<p>Read my article and sample solution for that \n<a href=\"http://askyourquestions.info/2016/03/27/how-to-see-where-the-log-is-logger-in-slf4j/\" rel=\"nofollow\">http://askyourquestions.info/2016/03/27/how-to-see-where-the-log-is-logger-in-slf4j/</a></p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 36917868, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/36917868#36917868", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>In java eclipse copy your conf_ref to conf folder.</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 38479267, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/38479267#38479267", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>The reason can be lack of the word <code>static</code> in some:</p>\n\n<pre><code>final static Logger logging = Logger.getLogger(ProcessorTest.class);\n</code></pre>\n\n<p>If I make logger the instance field, I am getting exactly this very warning: </p>\n\n<pre><code>No appenders could be found for logger (org.apache.kafka.producer.Sender)\n</code></pre>\n\n<p>What is worse, the warning points not to <code>ProcessorTest</code>, where the mistake lives, but to an absolutely different class (Sender) as a source of problems. <em>That</em> class has correct set logger and need not any changes! We could look for the problem for ages!</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 38716769, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/38716769#38716769", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>Most of the answers here suggested that <code>log4j.properties</code> file should be placed in the right location(for maven project, it should be located in <code>src/main/resources</code>)</p>\n\n<p>But for me, the problem is that my <code>log4j.properties</code> is not correctly configured. Here's a sample that works for me, you can try it out first.</p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, stdout\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 38841004, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/38841004#38841004", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>My Eclipse installation could not find <code>log4j.properties</code> when running <em>JUnit</em> tests from Eclipse, even though the file was located at <code>src/test/resources</code>.</p>\n\n<p>The reason was that Eclipse (or the <em>m2e</em> connector) did not copy content from <code>src/test/resources</code> to the expected output folder <code>target/test-classes</code> - the root cause was that in the project's properties under <em>Java Build Path</em> -> <em>Source</em> tab -> <em>Source folders on build path</em> -> <em>src/test/resources</em>, somehow there was an <code>Excluded: **</code> entry. I removed that <em>excluded</em> entry.</p>\n\n<p>Alternatively, I could have manually copied <code>src/test/resources/log4j.properties</code> to <code>target/test-classes/log4j.properties</code>.</p>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 38981183, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/38981183#38981183", "tags": ["java", "eclipse", "log4j"]}, {"body": "<p>I faced the same problem when I use log4j2. My problem is caused by using wrong dependent library:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Instead, I should use:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>In my case, I have a log4j2.xml defined in my \"resources\" directory, and specified to use it by:</p>\n\n<pre><code>System.setProperty(\"log4j.configurationFile\", \"log4j2.xml\");\n</code></pre>\n", "title": "No appenders could be found for logger(log4j)?", "answer_id": 39249741, "link": "http://stackoverflow.com/questions/12532339/no-appenders-could-be-found-for-loggerlog4j/39249741#39249741", "tags": ["java", "eclipse", "log4j"]}], "question_id": 12532339}, {"body": "<p>I am not asking the question that is already asked here:\n<a href=\"http://stackoverflow.com/questions/5579744/what-is-the-difference-between-pathparam-and-queryparam\">What is the difference between @PathParam and @QueryParam</a></p>\n\n<p>This is a \"best practices\" or convention question.</p>\n\n<p>When would you use <code>@PathParam</code> vs <code>@QueryParam</code>.</p>\n\n<p>What I can think of that the decision might be using the two to differentiate the information pattern. Let me illustrate below my LTPO - less than perfect observation.</p>\n\n<p>PathParam use could be reserved for information category, which would fall nicely into a branch of an information tree. PathParam could be used to drill down to entity class hierarchy.</p>\n\n<p>Whereas, QueryParam could be reserved for specifying attributes to locate the instance of a class.</p>\n\n<p>For example,</p>\n\n<ul>\n<li><code>/Vehicle/Car?registration=123</code></li>\n<li><code>/House/Colonial?region=newengland</code></li>\n</ul>\n\n<p><code>/category?instance</code></p>\n\n<pre><code>@GET\n@Path(\"/employee/{dept}\")\nPatient getEmployee(@PathParam(\"dept\")Long dept, @QueryParam(\"id\")Long id) ;\n</code></pre>\n\n<p>vs <code>/category/instance</code></p>\n\n<pre><code>@GET\n@Path(\"/employee/{dept}/{id}\")\nPatient getEmployee(@PathParam(\"dept\")Long dept, @PathParam(\"id\")Long id) ;\n</code></pre>\n\n<p>vs <code>?category+instance</code></p>\n\n<pre><code>@GET\n@Path(\"/employee\")\nPatient getEmployee(@QueryParam(\"dept\")Long dept, @QueryParam(\"id\")Long id) ;\n</code></pre>\n\n<p>I don't think there is a standard convention of doing it. Is there? However, I would like to hear of how people use PathParam vs QueryParam to differentiate their information like I exemplified above. I would also love to hear the reason behind the practice.</p>\n", "tags": ["java", "rest", "jax-rs"], "title": "When to use @QueryParam vs @PathParam", "answer_count": 11, "creation_date": 1342657137, "score": 115, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam", "answers": [{"body": "<p>I personally used the approach of \"if it makes sense for the user to bookmark a URLwhich includes these parameters then use PathParam\".</p>\n\n<p>For instance, if the URL for a user profile includes some profile id parameter, since this can be bookmarked by the user and/or emailed around, I would include that profile id as a path parameter. Also, another considerent to this is that the page denoted by the URL which includes the path param doesn't change -- the user will set up his/her profile, save it, and then unlikely to change that much from there on; this means webcrawlers/search engines/browsers/etc can cache this page nicely based on the path. </p>\n\n<p>If a parameter passed in the URL is likely to change the page layout/content then I'd use that as a queryparam. For instance, if the profile URL supports a parameter which specifies whether to show the user email or not, I would consider that to be a query param. (I know, arguably, you could say that the <code>&amp;noemail=1</code> or whatever parameter it is can be used as a path param and generates 2 separate pages -- one with the email on it, one without it -- but logically that's not the case: it is still the same page with or without certain attributes shown.</p>\n\n<p>Hope this helps -- I appreciate the explanation might be a bit fuzzy :)</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 11552385, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/11552385#11552385", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>You can use query parameters for filtering and path parameters for grouping. The following link has good info on this <a href=\"http://stackoverflow.com/questions/6345769/when-to-use-pathparams-or-queryparams\">When to use pathParams or QueryParams</a></p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 11552449, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/11552449#11552449", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>This is what I do.</p>\n\n<p>If there is a scenario to retrieve a record based on id, for example you need to get the details of the employee whose id is 15, then you can have resource with @PathParam.</p>\n\n<pre><code>GET /employee/{id}\n</code></pre>\n\n<p>If there is a scenario where you need to get the details of all employees but only 10 at a time, you may use query param</p>\n\n<pre><code>GET /employee?start=1&amp;size=10\n</code></pre>\n\n<p>This says that starting employee id 1 get ten records.</p>\n\n<p>To summarize, use @PathParam for retrieval based on id. User @QueryParam for filter or if you have any fixed list of options that user can pass.</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 11552665, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/11552665#11552665", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>REST may not be a standard as such, but reading up on general REST documentation and blog posts should give you some guidelines for a good way to structure API URLs. Most rest APIs tend to only have resource names and resource IDs in the path. Such as:</p>\n\n<pre><code>/depatments/{dept}/employees/{id}\n</code></pre>\n\n<p>Some REST APIs use query strings for filtering, pagination and sorting, but Since REST isn't a strict standard I'd recommend checking some REST APIs out there such as <a href=\"http://developer.github.com/v3/repos/\">github</a> and <a href=\"http://api.stackoverflow.com/1.0/usage\">stackoverflow</a> and see what could work well for your use case. </p>\n\n<p>I'd recommend putting any required parameters in the path, and any optional parameters should certainly be query string parameters. Putting optional parameters in the URL will end up getting really messy when trying to write URL handlers that match different combinations. </p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 11569077, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/11569077#11569077", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>I think that if the parameter identifies a specific entity you should use a path variable. For example, to get all the post on my blog I request</p>\n\n<pre><code>GET: myserver.com/myblog/posts\n</code></pre>\n\n<p>to get the post with id = 123, I would request</p>\n\n<pre><code>GET: myserver.com/myblog/posts/123\n</code></pre>\n\n<p>but to get all filter my list of posts, and get all post since Jan 1, 2013, I would request</p>\n\n<pre><code>GET: myserver.com/myblog/posts?since=2013-01-01\n</code></pre>\n\n<p>In the first example \"posts\" identifies a specific entity (the entire collection of blog posts).  In the second example, \"123\" also represents a specific entity (a single blog post).  But in the last example, the parameter \"since=2013-01-01\" is a request to filter the posts collection not a specific entity.  Pagination and ordering would be another good example, i.e.</p>\n\n<pre><code>GET: myserver.com/myblog/posts?page=2&amp;order=backward\n</code></pre>\n\n<p>Hope that helps. :)</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 15789495, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/15789495#15789495", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>As theon noted, REST is not a standard. However, if you are looking to implement a standards based URI convention, you might consider the <a href=\"http://www.odata.org/documentation/odata-version-2-0/uri-conventions\" rel=\"nofollow\">oData URI convention</a>. Ver 4 has been <a href=\"http://www.odata.org/blog/status-updates-of-odata-libraries-that-support-odata-version-4-0/\" rel=\"nofollow\">approved as an OASIS standard</a> and libraries exists for oData for various languages including Java via <a href=\"http://olingo.incubator.apache.org/\" rel=\"nofollow\">Apache Olingo</a>. Don't let the fact that it's a spawn from Microsoft put you off since it's <a href=\"https://www.oasis-open.org/news/pr/oasis-approves-odata-4-0-standards-for-an-open-programmable-web\" rel=\"nofollow\">gained support from other industry player's as well</a>, which include Red Hat, Citrix, IBM, Blackberry, Drupal, Netflix Facebook and SAP</p>\n\n<p><a href=\"http://chriswoodruff.com/2012/05/24/the-great-ecosystem-of-the-open-data-protocol-odata/\" rel=\"nofollow\">More adopters are listed here</a></p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 23661003, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/23661003#23661003", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>The reason is actually very simple. When using a query parameter you can take in characters such as \"/\" and your client does not need to html encode them. There are other reasons but that is a simple example. As for when to use a path variable. I would say whenever you are dealing with ids or if the path variable is a direction for a query.</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 25530455, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/25530455#25530455", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>I am giving one exapmle to undersand when do we use <code>@Queryparam</code> and <code>@pathparam</code></p>\n\n<p>For example I am taking one resouce is <code>carResource</code> class</p>\n\n<p>If you want to make the inputs of your resouce method manadatory then use the param type as <code>@pathaparam</code>, if the inputs of your resource method should be optional then keep that param type as <code>@QueryParam</code> param</p>\n\n<pre><code>@Path(\"/car\")\nclass CarResource\n{\n    @Get\n    @produces(\"text/plain\")\n    @Path(\"/search/{carmodel}\")\n    public String getCarSearch(@PathParam(\"carmodel\")String model,@QueryParam(\"carcolor\")String color) {\n        //logic for getting cars based on carmodel and color\n            -----\n        return cars\n    }\n}\n</code></pre>\n\n<p>For this resouce pass the request</p>\n\n<pre><code>req uri ://address:2020/carWeb/car/search/swift?carcolor=red\n</code></pre>\n\n<p>If you give req like this the resouce will gives the based car model and color</p>\n\n<pre><code> req uri://address:2020/carWeb/car/search/swift\n</code></pre>\n\n<p>If you give req like this the resoce method will display only swift model based car</p>\n\n<pre><code>req://address:2020/carWeb/car/search?carcolor=red\n</code></pre>\n\n<p>If you give like this we will get ResourceNotFound exception because in the car resouce class I declared carmodel as <code>@pathPram</code> that is you must and should give the carmodel as reQ uri otherwise it will not pass the req to resouce but if you don't pass the color also it will pass the req to resource why because the color is <code>@quetyParam</code> it is optional in req.</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 27546627, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/27546627#27546627", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p>It's a very interesting question.</p>\n\n<p>You can use both of them, there's not any strict rule about this subject, but using URI path variables has some advantages:</p>\n\n<ul>\n<li><em>Cache</em>:\nMost of the web cache services on the internet don't cache GET request when they contains query parameters.\nThey do that because there are a lot of RPC systems using GET requests to change data in the server (fail!! Get must be a safe method)</li>\n</ul>\n\n<p>But if you use path variables, all of this services can cache your GET requests.</p>\n\n<ul>\n<li><em>Hierarchy</em>:\nThe path variables can represent hierarchy: \n/City/Street/Place</li>\n</ul>\n\n<p>It gives the user more information about the structure of the data.</p>\n\n<p>But if your data doesn't have any hierarchy relation you can still use Path variables, using comma or semi-colon:</p>\n\n<p>/City/longitude,latitude</p>\n\n<p>As a rule, use comma when the ordering of the parameters matter, use semi-colon when the ordering doesn't matter:</p>\n\n<p>/IconGenerator/red;blue;green</p>\n\n<p>Apart of those reasons, there are some cases when it's very common to use query string variables:</p>\n\n<ul>\n<li>When you need the browser to automatically put HTML form variables into the URI</li>\n<li>When you are dealing with algorithm. For example the google engine use query strings:</li>\n</ul>\n\n<p>http:// www.google.com/search?q=rest</p>\n\n<p>To sum up, there's not any strong reason to use one of this methods but whenever you can, use URI variables.</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 28495999, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/28495999#28495999", "tags": ["java", "rest", "jax-rs"]}, {"body": "<ol>\n<li>@QueryParam can be conveniently used with the Default Value annotation so that you can avoid a null pointer exception if no query parameter is passed.</li>\n</ol>\n\n<p>When you want to parse query parameters from a GET request, you can simply define respective parameter to the method that will handle the GET request  and annotate them with @QueryParam annotation</p>\n\n<ol start=\"2\">\n<li><p>@PathParam extracts the URI values and matches to @Path. And hence gets the input parameter. \n2.1 @PathParam can be more than one and is set to methods arguments</p>\n\n<p>@Path(\"/rest\")</p>\n\n<p>public class Abc {</p>\n\n<p>@GET</p>\n\n<p>@Path(\"/msg/{p0}/{p1}\")</p>\n\n<p>@Produces(\"text/plain\")</p>\n\n<p>public String add(@PathParam(\"p0\") Integer param1, @PathParam(\"p1\")  Integer param2 )\n{</p>\n\n<pre><code> return String.valueOf(param1+param2);\n</code></pre>\n\n<p>}\n} </p></li>\n</ol>\n\n<p>In the above example,</p>\n\n<p><a href=\"http://localhost:8080/Restr/rest/msg/\" rel=\"nofollow\">http://localhost:8080/Restr/rest/msg/</a>{p0}/{p1},</p>\n\n<p>p0 matches param1 and p1 matches param2. So for the URI</p>\n\n<p><a href=\"http://localhost:8080/Restr/rest/msg/4/6\" rel=\"nofollow\">http://localhost:8080/Restr/rest/msg/4/6</a>, </p>\n\n<p>we get the result 10. </p>\n\n<p>In REST Service, JAX-RS provides @QueryParam and @FormParam both for accepting data from HTTP request. An HTTP form can be submitted by different methods like GET and POST.</p>\n\n<p>@QueryParam : Accepts GET request and reads data from query string.</p>\n\n<p>@FormParam: Accepts POST request and fetches data from HTML form or any request of the media </p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 34923328, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/34923328#34923328", "tags": ["java", "rest", "jax-rs"]}, {"body": "<p><a href=\"https://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"nofollow\">From Wikipedia: Uniform Resource Locator</a></p>\n\n<p><strong>A path</strong>, which contains data, <em>usually organized in hierarchical form</em>, that appears as a sequence of segments separated by slashes.</p>\n\n<p><strong>An optional query</strong>, separated from the preceding part by a question mark (?), containing a query string of <em>non-hierarchical data</em>.</p>\n\n<p>\u2014 According with the conceptual design of the URL, we might implement a PathParam for hierarchical data/directives/locator components, or implement a QueryParam when the data are not hierarchical. This makes sense because paths are naturally ordered, whereas queries contain variables which may be ordered arbitrarily (unordered variable/value pairs).</p>\n\n<p>A previous commenter wrote,</p>\n\n<blockquote>\n  <p>I think that if the parameter identifies a specific entity you should use a path variable.</p>\n</blockquote>\n\n<p>Another wrote,</p>\n\n<blockquote>\n  <p>Use @PathParam for retrieval based on id. User @QueryParam for filter or if you have any fixed list of options that user can pass.</p>\n</blockquote>\n\n<p>Another,</p>\n\n<blockquote>\n  <p>I'd recommend putting any required parameters in the path, and any optional parameters should certainly be query string parameters.</p>\n</blockquote>\n\n<p>\u2014 However, one might implement a flexible, non-hierarchical system for identifying specific entities! One might have multiple unique indexes on an SQL table, and allow entities to be identified using any combination of fields that comprise a unique index! Different combinations (perhaps also ordered differently), might be used for links from various related entities (referrers). In this case, we might be dealing with non-hierarchical data, used to identify individual entities \u2014 or in other cases, might only specify certain variables/fields \u2014 certain components of unique indexes \u2014 and retrieve a list/set of records. In such cases, it might be easier, more logical and reasonable to implement the URLs as QueryParams!</p>\n\n<p>Could a long hexadecimal string dilute/diminish the value of keywords in the rest of the path? It might be worth <a href=\"http://webmasters.stackexchange.com/questions/51/why-is-it-preferable-to-use-paths-with-slashes-instead-of-query-string-variables\">considering the potential SEO implications of placing variables/values in the path, or in the query</a>, and the human-interface implications of whether we want users to be able to traverse/explore the hierarchy of URLs by editing the contents of the address bar. My 404 Not Found page uses SSI variables to automatically redirect broken URLs to their parent! Search robots might also traverse the path hierarchy.\nOn the other hand, personally, when I share URLs on social media, I manually strip out any private unique identifiers \u2014 typically by truncating the query from the URL, leaving only the path: in this case, there is some utility in placing unique identifiers in the path rather than in the query. Whether we want to facilitate the use of path components as a crude user-interface, perhaps depends on whether the data/components are human-readable or not. The question of human-readability relates somewhat to the question of hierarchy: often, data that may be expressed as human-readable keywords are also hierarchical; while hierarchical data may often be expressed as human-readable keywords. (Search engines themselves might be defined as augmenting the use of URLs as a user-interface.) Hierarchies of keywords or directives might not be strictly ordered, but they are usually close enough that we can cover alternative cases in the path, and <a href=\"https://support.google.com/webmasters/answer/139066?hl=en\" rel=\"nofollow\">label one option as the \"canonical\" case</a>.</p>\n\n<p>There are fundamentally several kinds of questions we might answer with the URL for each request:</p>\n\n<ol>\n<li>What kind of record/ thing are we requesting/ serving?</li>\n<li>Which one(s) are we interested in?</li>\n<li>How do we want to present the information/ records?</li>\n</ol>\n\n<p>Q1 is almost certainly best covered by the path, or by PathParams.\nQ3 (which is probably controlled via a set of arbitrarily ordered optional parameters and default values); is almost certainly best covered by QueryParams.\nQ2: It depends\u2026</p>\n", "title": "When to use @QueryParam vs @PathParam", "answer_id": 36751292, "link": "http://stackoverflow.com/questions/11552248/when-to-use-queryparam-vs-pathparam/36751292#36751292", "tags": ["java", "rest", "jax-rs"]}], "question_id": 11552248}, {"body": "<h2>To set Background:</h2>\n\n<pre><code>RelativeLayout layout =(RelativeLayout)findViewById(R.id.background);\nlayout.setBackgroundResource(R.drawable.ready);\n</code></pre>\n\n<p>Is the best way to do it?</p>\n", "tags": ["java", "android", "background", "drawable", "out-of-memory"], "title": "How set background drawable programmatically in Android", "answer_count": 6, "creation_date": 1348189516, "score": 113, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android", "answers": [{"body": "<p>Try this:</p>\n\n<pre><code>layout.setBackground(getResources().getDrawable(R.drawable.ready));\n</code></pre>\n\n<p>and for API 16&lt;:</p>\n\n<pre><code>layout.setBackgroundDrawable(getResources().getDrawable(R.drawable.ready));\n</code></pre>\n", "title": "How set background drawable programmatically in Android", "answer_id": 12523020, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android/12523020#12523020", "tags": ["java", "android", "background", "drawable", "out-of-memory"]}, {"body": "<p><code>layout.setBackgroundResource(R.drawable.ready);</code> is correct.<br>\nAnother way to achieve it is to use the following:</p>\n\n<pre><code>final int sdk = android.os.Build.VERSION.SDK_INT;\nif(sdk &lt; android.os.Build.VERSION_CODES.JELLY_BEAN) {\n    layout.setBackgroundDrawable( getResources().getDrawable(R.drawable.ready) );\n} else {\n    layout.setBackground( getResources().getDrawable(R.drawable.ready));\n}\n</code></pre>\n\n<p>But I think the problem occur because you are trying to load big images.<br> <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\">Here</a> is a good tutorial how to load large bitmaps.<br><br></p>\n\n<p><strong>UPDATE:<br> getDrawable(int ) deprecated in API level 22</strong> <br><br>\n<code>getDrawable(int )</code> is now deprecated in API level 22.\nYou should use the following code from the support library instead:</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.ready)\n</code></pre>\n\n<p>If you refer to the source code of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.0.1_r1/android/support/v4/content/ContextCompat.java#ContextCompat.getDrawable%28android.content.Context%2Cint%29\">ContextCompat.getDrawable</a>, it gives you something like this:</p>\n\n<pre><code>/**\n * Return a drawable object associated with a particular resource ID.\n * &lt;p&gt;\n * Starting in {@link android.os.Build.VERSION_CODES#LOLLIPOP}, the returned\n * drawable will be styled for the specified Context's theme.\n *\n * @param id The desired resource identifier, as generated by the aapt tool.\n *            This integer encodes the package, type, and resource entry.\n *            The value 0 is an invalid identifier.\n * @return Drawable An object that can be used to draw this resource.\n */\npublic static final Drawable getDrawable(Context context, int id) {\n    final int version = Build.VERSION.SDK_INT;\n    if (version &gt;= 21) {\n        return ContextCompatApi21.getDrawable(context, id);\n    } else {\n        return context.getResources().getDrawable(id);\n    }\n}\n</code></pre>\n\n<p>More details on <a href=\"http://developer.android.com/reference/android/support/v4/content/ContextCompat.html\">ContextCompat</a> <br></p>\n\n<p>As of API 22, you should use the <code>getDrawable(int, Theme)</code> method instead of getDrawable(int).</p>\n\n<p><strong>UPDATE:</strong><br>\nIf you are using the support v4 library, the following will be enough for all versions.</p>\n\n<pre><code>ContextCompat.getDrawable(context, R.drawable.ready)\n</code></pre>\n\n<p>You will need to add the following in your app build.gradle</p>\n\n<pre><code>compile 'com.android.support:support-v4:23.0.0' # or any version above\n</code></pre>\n", "title": "How set background drawable programmatically in Android", "answer_id": 12523109, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android/12523109#12523109", "tags": ["java", "android", "background", "drawable", "out-of-memory"]}, {"body": "<pre><code>RelativeLayout relativeLayout;  //declare this globally\n</code></pre>\n\n<p>now, inside any function like onCreate, onResume</p>\n\n<pre><code>relativeLayout = new RelativeLayout(this);  \nrelativeLayout.setBackgroundResource(R.drawable.view); //or whatever your image is\nsetContentView(relativeLayout); //you might be forgetting this\n</code></pre>\n", "title": "How set background drawable programmatically in Android", "answer_id": 20451890, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android/20451890#20451890", "tags": ["java", "android", "background", "drawable", "out-of-memory"]}, {"body": "<p>If your backgrounds are in the drawable folder right now try moving the images from drawable to drawable-nodpi folder in your project. This worked for me, seems that else the images are rescaled by them self..</p>\n", "title": "How set background drawable programmatically in Android", "answer_id": 23133481, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android/23133481#23133481", "tags": ["java", "android", "background", "drawable", "out-of-memory"]}, {"body": "<p>You can also set the background of any Image:</p>\n\n<pre><code>View v;\nDrawable image=(Drawable)getResources().getDrawable(R.drawable.img);\n(ImageView)v.setBackground(image);\n</code></pre>\n", "title": "How set background drawable programmatically in Android", "answer_id": 31677359, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android/31677359#31677359", "tags": ["java", "android", "background", "drawable", "out-of-memory"]}, {"body": "<p>I'm using a minSdkVersion 16 and targetSdkVersion 23\nThe following is working for me, it uses \nContextCompat.getDrawable(context, R.drawable.drawable);</p>\n\n<p>Instead of using:<br>\n<code>layout.setBackgroundResource(R.drawable.ready);</code></p>\n\n<p>Rather use:</p>\n\n<p><code>layout.setBackground(ContextCompat.getDrawable(this, R.drawable.ready));</code></p>\n\n<p><code>getActivity()</code> is used in a fragment, if calling from a activity use <code>this</code></p>\n", "title": "How set background drawable programmatically in Android", "answer_id": 36306332, "link": "http://stackoverflow.com/questions/12523005/how-set-background-drawable-programmatically-in-android/36306332#36306332", "tags": ["java", "android", "background", "drawable", "out-of-memory"]}], "question_id": 12523005}, {"body": "<p>Why in Java you're able to add Strings with the + operator, when String is a class?  In the<code>String.java</code> code I did not find any implementation for this operator. Does this concept violate object orientation?</p>\n", "tags": ["java", "string", "object"], "title": "How does the String class override the + operator?", "answer_count": 7, "creation_date": 1341904862, "score": 113, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator", "answers": [{"body": "<p>It is Java compiler feature which checks the operands of <code>+</code> operator. And based on the operands it generates the byte code:</p>\n\n<ul>\n<li>For String, it generates code to concat strings</li>\n<li>For Numbers, it generates code to add numbers.</li>\n</ul>\n\n<p><strong>This is what the Java spec says</strong>:</p>\n\n<blockquote>\n  <p>The operators + and <code>-</code> are called the additive operators.\n      AdditiveExpression:\n          MultiplicativeExpression\n          AdditiveExpression + MultiplicativeExpression\n          AdditiveExpression - MultiplicativeExpression</p>\n  \n  <p>The additive operators have the same precedence and are syntactically \n      left associative (they group left-to-right). <b>If the type of either \n      operand of a <code>+</code> operator is <code>String</code>, then the operation is string concatenation.</p>\n  \n  <p>Otherwise, the type of each of the operands of the <code>+</code> operator must be a type that \n      is convertible (\u00a75.1.8)to a primitive numeric type, or a compile-time error occurs.</b></p>\n  \n  <p>In every case, the type of each of the operands of the binary <code>-</code> operator must be\n      a type that is convertible (\u00a75.1.8) to a primitive numeric type, or a \n      compile-time error occurs.</p>\n</blockquote>\n", "title": "How does the String class override the + operator?", "answer_id": 11408473, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11408473#11408473", "tags": ["java", "string", "object"]}, {"body": "<p>The <code>+</code> operator is usually replaced by a <code>StringBuilder</code> at compile time. Check this <a href=\"http://stackoverflow.com/questions/4648607/stringbuilder-stringbuffer-vs-operator\">answer</a> for more details on that matter.</p>\n", "title": "How does the String class override the + operator?", "answer_id": 11408477, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11408477#11408477", "tags": ["java", "string", "object"]}, {"body": "<p>The Java language provides special support for the string concatenation operator (+) and for conversion of other objects to strings. String concatenation is implemented through the <code>StringBuilder</code>(or <code>StringBuffer</code>) class and its <code>append</code> method.</p>\n", "title": "How does the String class override the + operator?", "answer_id": 11408482, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11408482#11408482", "tags": ["java", "string", "object"]}, {"body": "<p>First of all (+) is overloaded not overridden </p>\n\n<blockquote>\n  <p>The Java language provides special support for the string\n  concatenation operator (+), which has been overloaded for Java Strings\n  objects.</p>\n</blockquote>\n\n<ol>\n<li><p>If left hand side operand is String it works as concatenation.</p></li>\n<li><p>If left hand side operand is Integer it works as addition operator</p></li>\n</ol>\n", "title": "How does the String class override the + operator?", "answer_id": 11408489, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11408489#11408489", "tags": ["java", "string", "object"]}, {"body": "<p>Let's look at the following simple expressions in Java</p>\n\n<pre><code>int x=15;\nString temp=\"x = \"+x;\n</code></pre>\n\n<p>The compiler converts <code>\"x = \"+x;</code> into a <code>StringBuilder</code> internally and uses <code>.append(int)</code> to \"add\" the integer to the string. </p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.11\">5.1.11. String Conversion</a></strong></p>\n\n<blockquote>\n  <p>Any type may be converted to type String by string conversion.</p>\n  \n  <p>A value x of primitive type T is first converted to a reference value\n  as if by giving it as an argument to an appropriate class instance\n  creation expression (\u00a715.9):</p>\n  \n  <ul>\n  <li>If T is boolean, then use new Boolean(x).</li>\n  <li>If T is char, then use new Character(x).</li>\n  <li>If T is byte, short, or int, then use new Integer(x).</li>\n  <li>If T is long, then use new Long(x).</li>\n  <li>If T is float, then use new Float(x).</li>\n  <li>If T is double, then use new Double(x).</li>\n  </ul>\n  \n  <p>This reference value is then converted to type String by string\n  conversion.</p>\n  \n  <p>Now only reference values need to be considered:</p>\n  \n  <ul>\n  <li>If the reference is null, it is converted to the string \"null\" (four    ASCII characters n, u, l, l).</li>\n  <li>Otherwise, the conversion is performed as if by an invocation of the    toString method of the referenced object with no arguments; but\n  if    the result of invoking the toString method is null, then the\n  string    \"null\" is used instead.</li>\n  </ul>\n  \n  <p><sup>The toString method is defined by the primordial class Object\n  (\u00a74.3.2). Many classes override it, notably Boolean, Character,\n  Integer, Long, Float, Double, and String.</p>\n  \n  <p>See \u00a75.4 for details of the string conversion context.</sup></p>\n</blockquote>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.1\">15.18.1.</a></strong></p>\n\n<blockquote>\n  <p><strong>Optimization of String Concatenation :</strong>\n  An implementation may choose to perform conversion and concatenation\n  in one step to avoid creating and then discarding an intermediate\n  String object. To increase the performance of repeated string\n  concatenation, a Java compiler may use the StringBuffer class or a\n  similar technique to reduce the number of intermediate String objects\n  that are created by evaluation of an expression.</p>\n  \n  <p>For primitive types, an implementation may also optimize away the\n  creation of a wrapper object by converting directly from a primitive\n  type to a string.</p>\n</blockquote>\n\n<p>The optimized version will not actually do a full wrapped String conversion first.</p>\n\n<p>This is a good illustration of an optimized version used by the compiler, albeit without the conversion of a primitive, where you can see the compiler changing things into a StringBuilder in the background:</p>\n\n<p><a href=\"http://caprazzi.net/posts/java-bytecode-string-concatenation-and-stringbuilder/\">http://caprazzi.net/posts/java-bytecode-string-concatenation-and-stringbuilder/</a></p>\n\n<hr>\n\n<p>This java code:</p>\n\n<pre><code>public static void main(String[] args) {\n    String cip = \"cip\";\n    String ciop = \"ciop\";\n    String plus = cip + ciop;\n    String build = new StringBuilder(cip).append(ciop).toString();\n}\n</code></pre>\n\n<p>Generates this - see how the two concatenation styles lead to the very same bytecode:</p>\n\n<pre><code> L0\n    LINENUMBER 23 L0\n    LDC \"cip\"\n    ASTORE 1\n   L1\n    LINENUMBER 24 L1\n    LDC \"ciop\"\n    ASTORE 2\n\n   // cip + ciop\n\n   L2\n    LINENUMBER 25 L2\n\n    NEW java/lang/StringBuilder\n    DUP\n    ALOAD 1\n    INVOKESTATIC java/lang/String.valueOf(Ljava/lang/Object;)Ljava/lang/String;\n    INVOKESPECIAL java/lang/StringBuilder.&lt;init&gt;(Ljava/lang/String;)V\n    ALOAD 2\n    INVOKEVIRTUAL java/lang/StringBuilder.append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    INVOKEVIRTUAL java/lang/StringBuilder.toString()Ljava/lang/String;\n\n    ASTORE 3\n\n    // new StringBuilder(cip).append(ciop).toString()\n\n   L3\n    LINENUMBER 26 L3\n\n    NEW java/lang/StringBuilder\n    DUP\n    ALOAD 1\n    INVOKESPECIAL java/lang/StringBuilder.&lt;init&gt;(Ljava/lang/String;)V\n    ALOAD 2\n    INVOKEVIRTUAL java/lang/StringBuilder.append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    INVOKEVIRTUAL java/lang/StringBuilder.toString()Ljava/lang/String;\n\n    ASTORE 4\n   L4\n    LINENUMBER 27 L4\n    RETURN\n</code></pre>\n\n<p>Looking at the example above and how the byte code based on the source code in the given example is generated, you will be able to notice that the compiler has internally transformed the following statement</p>\n\n<pre><code>cip+ciop; \n</code></pre>\n\n<p>into </p>\n\n<pre><code>new StringBuilder(cip).append(ciop).toString();\n</code></pre>\n\n<p>In other words, the operator <code>+</code> in string concatenation is effectively a shorthand for the more verbose <code>StringBuilder</code> idiom.</p>\n", "title": "How does the String class override the + operator?", "answer_id": 11408526, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11408526#11408526", "tags": ["java", "string", "object"]}, {"body": "<blockquote>\n  <p>How String class overrides + operator?</p>\n</blockquote>\n\n<p>It doesn't. The compiler does it. Strictly speaking, the compiler <em>overloads</em> the + operator for String operands.</p>\n", "title": "How does the String class override the + operator?", "answer_id": 11410755, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11410755#11410755", "tags": ["java", "string", "object"]}, {"body": "<p>The meaning of the <code>+</code> operator when applied to <code>String</code> is defined by the language, as everyone has written already. Since you don't seem to find this sufficiently convincing, consider this:</p>\n\n<p>Ints, floats and doubles all have different binary representations, and therefore adding two ints is a different operation, in terms of bit manipulation, than adding two floats: For ints you can add bit by bit, carrying a bit and checking for overflow; for floats you must deal with the mantissas and exponents separately. </p>\n\n<p>So, in principle, \"addition\" depends on the nature of the objects being \"added\". Java defines it for Strings as well as ints and floats (longs, doubles, ...)</p>\n", "title": "How does the String class override the + operator?", "answer_id": 11415778, "link": "http://stackoverflow.com/questions/11408427/how-does-the-string-class-override-the-operator/11415778#11415778", "tags": ["java", "string", "object"]}], "question_id": 11408427}, {"body": "<p><code>static</code> members (<code>static</code> fields or <code>static</code> methods) in Java are associated with their respective class rather than the objects of this class. The following code attempts to access a static field on a <code>null</code> reference.</p>\n\n<pre><code>public class Main\n{\n    private static final int value = 10;\n\n    public Main getNull()\n    {\n        return null;\n    }\n\n    public static void main(String[] args)\n    {\n        Main main=new Main();\n        System.out.println(\"value = \"+main.getNull().value);\n    }\n}\n</code></pre>\n\n<p>Although <code>main.getNull()</code> returns <code>null</code>, it works and displays <code>value = 10</code>. How does this code work?</p>\n", "tags": ["java", "static"], "title": "Static fields on a null reference in Java", "answer_count": 5, "creation_date": 1342789383, "score": 113, "link": "http://stackoverflow.com/questions/11579953/static-fields-on-a-null-reference-in-java", "answers": [{"body": "<p>Because, as you said, static fields are not associated with an instance.</p>\n\n<p>The ability to access static fields from an instance reference (as you are doing) is merely a syntactic sugar and has no additional meaning.<br>\nYour code compiles to </p>\n\n<pre><code>main.getNull(); \nMain.value\n</code></pre>\n", "title": "Static fields on a null reference in Java", "answer_id": 11579994, "link": "http://stackoverflow.com/questions/11579953/static-fields-on-a-null-reference-in-java/11579994#11579994", "tags": ["java", "static"]}, {"body": "<p>That behaviour is specified in the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#d5e24400\" rel=\"nofollow\">Java Language Specification</a>:</p>\n\n<blockquote>\n  <p>a null reference may be used to access a class (static) variable without causing an exception.</p>\n</blockquote>\n\n<p>In more details, a <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.11.1-200-A\" rel=\"nofollow\">static field evaluation</a>, such as <code>Primary.staticField</code> works as follows (emphasis mine) - in your case, <code>Primary = main.getNull()</code>:</p>\n\n<blockquote>\n  <ul>\n  <li>The Primary expression is evaluated, and <strong>the result is discarded</strong>. [...]</li>\n  <li>If the field is a non-blank final field, then <strong>the result is the value of the specified class variable in the class or interface that is the type of the Primary expression.</strong> [...]</li>\n  </ul>\n</blockquote>\n", "title": "Static fields on a null reference in Java", "answer_id": 11580005, "link": "http://stackoverflow.com/questions/11579953/static-fields-on-a-null-reference-in-java/11580005#11580005", "tags": ["java", "static"]}, {"body": "<ol>\n<li><p>Accessing a <code>static</code> member with the class name is legal, but its no\nwere written that one cannot access the <code>static</code> member using the\nobject reference variable. So it works over here.</p></li>\n<li><p>A <code>null</code> object reference variable is allowed to access a <code>static</code> class\nvariable without throwing an exception either at compile or run\ntime.</p></li>\n</ol>\n", "title": "Static fields on a null reference in Java", "answer_id": 11580063, "link": "http://stackoverflow.com/questions/11579953/static-fields-on-a-null-reference-in-java/11580063#11580063", "tags": ["java", "static"]}, {"body": "<p>When ever you access a static variable or method with objects at compile time it converted to Class name. eg:</p>\n\n<pre><code>Main main = null;\nSystem.out.println(main.value);\n</code></pre>\n\n<p>It will print the value of static variable value because at compile time It will be converted to </p>\n\n<pre><code>System.out.println(Main.value);\n</code></pre>\n\n<p>Proof:</p>\n\n<p>download decompiler and Decompile your .class file to .java file and you can see all static methods or variable referred object name is automatically replaced by class name. </p>\n", "title": "Static fields on a null reference in Java", "answer_id": 13969384, "link": "http://stackoverflow.com/questions/11579953/static-fields-on-a-null-reference-in-java/13969384#13969384", "tags": ["java", "static"]}, {"body": "<p>Static variable and method always belong to class. So when ever we create any object only non static variable and methods goes to heap along with object but static resides in method area with class. That's why when ever we try to access a static variable or method it converted to class name dot variable or method name.</p>\n\n<p>Please refer below link for more detail.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\">http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html</a></p>\n", "title": "Static fields on a null reference in Java", "answer_id": 14042091, "link": "http://stackoverflow.com/questions/11579953/static-fields-on-a-null-reference-in-java/14042091#14042091", "tags": ["java", "static"]}], "question_id": 11579953}, {"body": "<p>In Java 8 methods can be created as Lambda expressions and can be passed by reference (with a little work under the hood). There are plenty of examples online with lambdas being created and used with methods, but no examples of how to make a method taking a lambda as a parameter. What is the syntax for that?</p>\n\n<pre><code>MyClass.method((a, b) -&gt; a+b);\n\n\nclass MyClass{\n  //How do I define this method?\n  static int method(Lambda l){\n    return l(5, 10);\n  }\n}\n</code></pre>\n", "tags": ["java", "lambda", "java-8"], "title": "How do I define a method which takes a lambda as a parameter in Java 8?", "answer_count": 5, "creation_date": 1354104392, "score": 112, "link": "http://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8", "answers": [{"body": "<p>Lambdas are purely a call-site construct: the recipient of the lambda does not need to know that a Lambda is involved, instead it accepts an Interface with the appropriate method.</p>\n\n<p>In other words, you define or use a functional interface (i.e. an interface with a single method) that accepts and returns exactly what you want.</p>\n\n<p>For this Java 8 comes with a set of commonly-used interface types in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\"><code>java.util.function</code></a> (thanks to <a href=\"http://stackoverflow.com/users/1859863/maurice-naftalin\">Maurice Naftalin</a> for the hint about the JavaDoc).</p>\n\n<p>For this specific use case there's <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/IntBinaryOperator.html\"><code>java.util.function.IntBinaryOperator</code></a> with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/IntBinaryOperator.html#applyAsInt-int-int-\">a single <code>int applyAsInt(int left, int right)</code> method</a>, so you could write your <code>method</code> like this:</p>\n\n<pre><code>static int method(IntBinaryOperator op){\n    return op.applyAsInt(5, 10);\n}\n</code></pre>\n\n<p>But you can just as well define your own interface and use it like this:</p>\n\n<pre><code>public interface TwoArgIntOperator {\n    public int op(int a, int b);\n}\n\n//elsewhere:\nstatic int method(TwoArgIntOperator operator) {\n    return operator.op(5, 10);\n}\n</code></pre>\n\n<p>Using your own interface has the advantage that you can have names that more clearly indicate the intent.</p>\n", "title": "How do I define a method which takes a lambda as a parameter in Java 8?", "answer_id": 13604748, "link": "http://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8/13604748#13604748", "tags": ["java", "lambda", "java-8"]}, {"body": "<p>There's a public Web-accessible version of the Lambda-enabled Java 8 JavaDocs, linked from <a href=\"http://lambdafaq.org/lambda-resources\">http://lambdafaq.org/lambda-resources</a>.  (This should obviously be a comment on Joachim Sauer's answer, but I can't get into my SO account with the reputation points I need to add a comment.)  The lambdafaq site (I maintain it) answers this and a lot of other Java-lambda questions.</p>\n", "title": "How do I define a method which takes a lambda as a parameter in Java 8?", "answer_id": 13605634, "link": "http://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8/13605634#13605634", "tags": ["java", "lambda", "java-8"]}, {"body": "<p>To use Lambda expression you need to either create your own functional interface or use Java functional interface for operation that require two integer and return as value. <a href=\"http://download.java.net/jdk8/docs/api/java/util/function/IntBinaryOperator.html\">IntBinaryOperator</a></p>\n\n<p><strong>Using user defined functional interface</strong></p>\n\n<pre><code>interface TwoArgInterface {\n\n    public int operation(int a, int b);\n}\n\npublic class MyClass {\n\n    public static void main(String javalatte[]) {\n        // this is lambda expression\n        TwoArgInterface plusOperation = (a, b) -&gt; a + b;\n        System.out.println(\"Sum of 10,34 : \" + plusOperation.operation(10, 34));\n\n    }\n}\n</code></pre>\n\n<p><strong>Using Java functional interface</strong></p>\n\n<pre><code>import java.util.function.IntBinaryOperator;\n\npublic class MyClass1 {\n\n    static void main(String javalatte[]) {\n        // this is lambda expression\n        IntBinaryOperator plusOperation = (a, b) -&gt; a + b;\n        System.out.println(\"Sum of 10,34 : \" + plusOperation.applyAsInt(10, 34));\n\n    }\n}\n</code></pre>\n\n<p>Other example I have created is <a href=\"http://java-latte.blogspot.in/2014/02/lambda-examples-and-effectively-final.html\">here</a></p>\n", "title": "How do I define a method which takes a lambda as a parameter in Java 8?", "answer_id": 22510656, "link": "http://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8/22510656#22510656", "tags": ["java", "lambda", "java-8"]}, {"body": "<p><strong>For functions that do not have more than 2 parameters, you can pass them without defining your own interface. For example,</strong></p>\n\n<pre><code>class Klass {\n  static List&lt;String&gt; foo(Integer a, String b) { ... }\n}\n\nclass MyClass{\n\n  static List&lt;String&gt; method(BiFunction&lt;Integer, String, List&lt;String&gt;&gt; fn){\n    return fn.apply(5, \"FooBar\");\n  }\n}\n\nList&lt;String&gt; lStr = MyClass.method((a, b) -&gt; Klass.foo((Integer) a, (String) b));\n</code></pre>\n\n<p>In <strong><code>BiFunction&lt;Integer, String, List&lt;String&gt;&gt;</code></strong>, <code>Integer</code> and <code>String</code> are its parameters, and <code>List&lt;String&gt;</code> is its return type. </p>\n\n<p>For a function with only one parameter, you can use <strong><code>Function&lt;T, R&gt;</code></strong>, where <strong><code>T</code></strong> is its parameter type, and <strong><code>R</code></strong> is its return value type.  Refer to this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\">page</a> for all the interfaces that are already made available by Java.   </p>\n", "title": "How do I define a method which takes a lambda as a parameter in Java 8?", "answer_id": 30472555, "link": "http://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8/30472555#30472555", "tags": ["java", "lambda", "java-8"]}, {"body": "<p>Lambda expression can be passed as a argument.To pass a lambda expression as an argument the type of the parameter (which receives the lambda expression as an argument) must be of functional interface type.</p>\n\n<p>If there is a functional interface - </p>\n\n<pre><code>interface IMyFunc {\n   boolean test(int num);\n}\n</code></pre>\n\n<p>And there is a filter method which adds the int in the list only if it is greater than 5. Note here that filter method has funtional interface IMyFunc as one of the parameter. In that case lambda expression can be passed as an argument for the method parameter.</p>\n\n<pre><code>public class LambdaDemo {\n    public static List&lt;Integer&gt; filter(IMyFunc testNum, List&lt;Integer&gt; listItems) {\n        List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n        for(Integer item: listItems) {\n            if(testNum.test(item)) {\n                result.add(item);\n            }\n        }\n        return result;\n    }\n    public static void main(String[] args) {\n        List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;();\n        myList.add(1);\n        myList.add(4);\n        myList.add(6);\n        myList.add(7);\n        // calling filter method with a lambda expression\n        // as one of the param\n        Collection&lt;Integer&gt; values = filter(n -&gt; n &gt; 5, myList);\n\n        System.out.println(\"Filtered values \" + values);\n    }\n}\n</code></pre>\n\n<p>Source : <a href=\"http://netjs.blogspot.in/2015/06/method-reference-in-java-8.html\" rel=\"nofollow\">Method reference in Java 8</a></p>\n\n<p><a href=\"http://netjs.blogspot.com/2015/06/lambda-expression-as-method-parameter-java-8.html\" rel=\"nofollow\">http://netjs.blogspot.com/2015/06/lambda-expression-as-method-parameter-java-8.html</a></p>\n", "title": "How do I define a method which takes a lambda as a parameter in Java 8?", "answer_id": 31947904, "link": "http://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8/31947904#31947904", "tags": ["java", "lambda", "java-8"]}], "question_id": 13604703}, {"body": "<p>I declare an enum as : </p>\n\n<pre><code>     enum Sex {MALE,FEMALE};\n</code></pre>\n\n<p>And then, iterate enum as shown below :</p>\n\n<pre><code>    for(Sex v : Sex.values()){\n        System.out.println(\" values :\"+ v);\n    }\n</code></pre>\n\n<p>I checked the Java API but can't find the values() method? I'm curious as to where this method comes from? </p>\n\n<p>API link : \n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html\">https://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html</a></p>\n", "tags": ["java", "enums"], "title": "Where is the documentation for the values() method of Enum?", "answer_count": 3, "creation_date": 1354363026, "score": 110, "link": "http://stackoverflow.com/questions/13659217/where-is-the-documentation-for-the-values-method-of-enum", "answers": [{"body": "<p>You can't see this method in javadoc because it's added by the compiler.</p>\n\n<p>Documented in three places : </p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\">Enum Types</a>, <a href=\"http://docs.oracle.com/javase/tutorial/\">The Java Tutorials</a></li>\n</ul>\n\n<blockquote>\n  <p>The compiler automatically adds some special methods when it creates\n  an enum. For example, they have a static values method that returns an\n  array containing all of the values of the enum in the order they are\n  declared. This method is commonly used in combination with the\n  for-each construct to iterate over the values of an enum type.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)\"><code>Enum.valueOf</code></a> class<br />(The special implicit <code>values</code> method is mentioned in description of <code>valueOf</code> method)</li>\n</ul>\n\n<blockquote>\n  <p>All the constants of an enum type can be obtained by calling the implicit public static T[] values() method of that type.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9\">Enum Types, Section 8.9</a>, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/index.html\">Java Language Specification</a></li>\n</ul>\n\n<p>The <code>values</code> function simply list all values of the enumeration.</p>\n", "title": "Where is the documentation for the values() method of Enum?", "answer_id": 13659231, "link": "http://stackoverflow.com/questions/13659217/where-is-the-documentation-for-the-values-method-of-enum/13659231#13659231", "tags": ["java", "enums"]}, {"body": "<p>The method is implicitly defined (i.e. generated by the compiler).</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9.2\">JLS</a>:</p>\n\n<blockquote>\n  <p>In addition, if <code>E</code> is the name of an <code>enum</code> type, then that type has the following implicitly declared <code>static</code> methods:</p>\n\n<pre><code>/**\n* Returns an array containing the constants of this enum \n* type, in the order they're declared.  This method may be\n* used to iterate over the constants as follows:\n*\n*    for(E c : E.values())\n*        System.out.println(c);\n*\n* @return an array containing the constants of this enum \n* type, in the order they're declared\n*/\npublic static E[] values();\n\n/**\n* Returns the enum constant of this type with the specified\n* name.\n* The string must match exactly an identifier used to declare\n* an enum constant in this type.  (Extraneous whitespace \n* characters are not permitted.)\n* \n* @return the enum constant with the specified name\n* @throws IllegalArgumentException if this enum type has no\n* constant with the specified name\n*/\npublic static E valueOf(String name);\n</code></pre>\n</blockquote>\n", "title": "Where is the documentation for the values() method of Enum?", "answer_id": 13659244, "link": "http://stackoverflow.com/questions/13659217/where-is-the-documentation-for-the-values-method-of-enum/13659244#13659244", "tags": ["java", "enums"]}, {"body": "<p>Run this </p>\n\n<pre><code>    for (Method m : sex.class.getDeclaredMethods()) {\n        System.out.println(m);\n    }\n</code></pre>\n\n<p>you will see </p>\n\n<pre><code>public static test.Sex test.Sex.valueOf(java.lang.String)\npublic static test.Sex[] test.Sex.values()\n</code></pre>\n\n<p>These are all public methods that \"sex\" class has. They are not in the source code, javac.exe added them</p>\n\n<p>Notes: </p>\n\n<ol>\n<li><p>never use sex as a class name, it's difficult to read your code, we use Sex in Java</p></li>\n<li><p>when facing a Java puzzle like this one, I recommend to use a bytecode decompiler tool (I use Andrey Loskutov's bytecode outline Eclispe plugin). This will show all what's inside a class</p></li>\n</ol>\n", "title": "Where is the documentation for the values() method of Enum?", "answer_id": 13661805, "link": "http://stackoverflow.com/questions/13659217/where-is-the-documentation-for-the-values-method-of-enum/13661805#13661805", "tags": ["java", "enums"]}], "question_id": 13659217}, {"body": "<p>VisualVM has two separate tabs for sampling and profiling. Can someone help me figure out the difference between sampling and profiling in VisualVM ?</p>\n", "tags": ["java", "jvm", "heap"], "title": "Difference between sampling and profiling in jVisualvm", "answer_count": 1, "creation_date": 1345983992, "score": 109, "link": "http://stackoverflow.com/questions/12130107/difference-between-sampling-and-profiling-in-jvisualvm", "answers": [{"body": "<p><code>Sampling</code> means taking lots of thread dumps and analyzing stack traces.\nThis is usually faster, does not require runtime changes in your bytecode (which may break it), but is also less accurate.</p>\n\n<p><code>Profiling</code> means <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\">instrumenting</a> your classes and methods, so they \"report\" whenever they are run. This is more accurate, as it counts every invocation of instrumented method, not only those caught when the dump is done. However instrumentation means that the bytecode of your classes is changed, and this may break your program. Actually, for that reason, using profiling on large application servers (like JBoss, or WebLogic) often causes everything to die or hang.</p>\n", "title": "Difference between sampling and profiling in jVisualvm", "answer_id": 12130149, "link": "http://stackoverflow.com/questions/12130107/difference-between-sampling-and-profiling-in-jvisualvm/12130149#12130149", "tags": ["java", "jvm", "heap"]}], "question_id": 12130107}, {"body": "<p>I'm using Mockito 1.9.0.  I want mock the behaviour for a single method of a class in a JUnit test, so I have</p>\n\n<pre><code>final MyClass myClassSpy = Mockito.spy(myInstance);\nMockito.when(myClassSpy.method1()).thenReturn(myResults);\n</code></pre>\n\n<p>The problem is, in the second line, <code>myClassSpy.method1()</code> is actually getting called, resulting in an exception.  The only reason I'm using mocks is so that later, whenever <code>myClassSpy.method1()</code> is called, the real method won't be called and the <code>myResults</code> object will be returned.  </p>\n\n<p><code>MyClass</code> is an interface and <code>myInstance</code> is an implementation of that, if that matters.</p>\n\n<p>What do I need to do to correct this spying behaviour?</p>\n", "tags": ["java", "junit", "mockito"], "title": "Mockito: Trying to spy on method is calling the original method", "answer_count": 2, "creation_date": 1343075702, "score": 106, "link": "http://stackoverflow.com/questions/11620103/mockito-trying-to-spy-on-method-is-calling-the-original-method", "answers": [{"body": "<p>Let me quote <a href=\"http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#13\">the official documentation</a>:</p>\n\n<blockquote>\n  <h1>Important gotcha on spying real objects!</h1>\n  \n  <p>Sometimes it's impossible to use stub(Object) for stubbing spies. Example: </p>\n</blockquote>\n\n<pre><code>List list = new LinkedList();\nList spy = spy(list);\n\n//Impossible: real method is called so spy.get(0) throws IndexOutOfBoundsException (the list is yet empty)\nstub(spy.get(0)).toReturn(\"foo\");\n\n//You have to use doReturn() for stubbing\ndoReturn(\"foo\").when(spy).get(0);\n</code></pre>\n\n<p>In your case it goes something like:</p>\n\n<pre><code>doReturn(resulstIWant).when(myClassSpy).method1();\n</code></pre>\n", "title": "Mockito: Trying to spy on method is calling the original method", "answer_id": 11620196, "link": "http://stackoverflow.com/questions/11620103/mockito-trying-to-spy-on-method-is-calling-the-original-method/11620196#11620196", "tags": ["java", "junit", "mockito"]}, {"body": "<p>My case was different from the accepted answer. I was trying to mock a package-private method for an instance that did not live in that package</p>\n\n<pre><code>package common;\n\npublic class Animal\u00a0{\n  void packageProtected();\n}\n\npackage instances;\n\nclass Dog extends Animal { }\n</code></pre>\n\n<p>and the test classes</p>\n\n<pre><code>package common;\n\npublic abstract class AnimalTest&lt;T extends Animal&gt; {\n  @Before\n  setup(){\n    doNothing().when(getInstance()).packageProtected();\n  }\n\n  abstract T getInstance();\n}\n\npackage instances;\n\nclass DogTest extends AnimalTest&lt;Dog&gt; {\n  Dog getInstance(){\n    return spy(new Dog());\n  }\n\n  @Test\n  public void myTest(){}\n}\n</code></pre>\n\n<p>The compilation is correct, but when it tries to setup the test, it invokes the real method instead.</p>\n\n<p>Declaring the method <em>protected</em> or <em>public</em> fixes the issue, tho it's not a clean solution.</p>\n", "title": "Mockito: Trying to spy on method is calling the original method", "answer_id": 38718256, "link": "http://stackoverflow.com/questions/11620103/mockito-trying-to-spy-on-method-is-calling-the-original-method/38718256#38718256", "tags": ["java", "junit", "mockito"]}], "question_id": 11620103}, {"body": "<p>I have ListView that has some kind of events on it. Events are sorted by day, and I would like to have header with date on it for every day, and then events listen below.</p>\n\n<p>Here is how I populate that list:</p>\n\n<pre><code>ArrayList&lt;TwoText&gt; crs = new ArrayList&lt;TwoText&gt;();\n\ncrs.add(new TwoText(\"This will be header\", event.getDate()));\n\nfor (Event event : events) {\n    crs.add(new TwoText(event.getStartString() + \"-\" + event.getEndString(), event.getSubject()));\n}\n\narrayAdapter = new TwoTextArrayAdapter(this, R.layout.my_list_item, crs);\nlv1.setAdapter(arrayAdapter);\n</code></pre>\n\n<p>and this is how my class TwoText looks:</p>\n\n<pre><code>public class TwoText {\n    public String classID;\n    public String state;\n\n    public TwoText(String classID, String state) {\n        this.classID = classID;\n        this.state = state;\n    }\n}\n</code></pre>\n\n<p>and this is how my TwoTextArrayAdapter class looks:</p>\n\n<pre><code>import java.util.ArrayList;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\npublic class TwoTextArrayAdapter extends ArrayAdapter&lt;TwoText&gt; {\n\n    private ArrayList&lt;TwoText&gt; classes;\n    private Activity con;\n    TextView seperator;\n\n    public TwoTextArrayAdapter(Activity context, int textViewResourceId, ArrayList&lt;TwoText&gt; classes) {\n        super(context, textViewResourceId, classes);\n        this.con = context;\n        this.classes = classes;\n\n    }\n\n    @Override\n\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        View v = convertView;\n\n        if (v == null) {\n\n            LayoutInflater vi = (LayoutInflater) con.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n            v = vi.inflate(R.layout.my_list_item, null);\n\n        }\n\n        TwoText user = classes.get(position);\n\n        if (user != null) {\n\n            TextView content1 = (TextView) v.findViewById(R.id.list_content1);\n\n            TextView content2 = (TextView) v.findViewById(R.id.list_content2);\n\n            if (content1 != null) {\n\n                content1.setText(user.classID);\n            }   \n            if(content2 != null) {\n\n                content2.setText(user.state);\n            }\n        }\n        return v;\n    }\n}\n</code></pre>\n\n<p>and this is my_list_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\" &gt;\n\n    &lt;TextView\n        style=\"?android:attr/listSeparatorTextViewStyle\"\n        android:id=\"@+id/separator\"\n        android:text=\"Header\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#757678\"\n        android:textColor=\"#f5c227\" /&gt;\n\n    &lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"horizontal\" &gt;\n\n        &lt;TextView\n            android:id=\"@+id/list_content1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"5dip\"\n            android:clickable=\"false\"\n            android:gravity=\"center\"\n            android:longClickable=\"false\"\n            android:paddingBottom=\"1dip\"\n            android:paddingTop=\"1dip\"\n            android:text=\"sample\"\n            android:textColor=\"#ff7f1d\"\n            android:textSize=\"17dip\"\n            android:textStyle=\"bold\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/list_content2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_margin=\"5dip\"\n            android:clickable=\"false\"\n            android:gravity=\"center\"\n            android:linksClickable=\"false\"\n            android:longClickable=\"false\"\n            android:paddingBottom=\"1dip\"\n            android:paddingTop=\"1dip\"\n            android:text=\"sample\"\n            android:textColor=\"#6d6d6d\"\n            android:textSize=\"17dip\" /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>what I do at the moment is that I am adding header just as regular list object, but Id like it to be as header and in my case have a date on it.</p>\n\n<p>I have this code in my xml for header:</p>\n\n<pre><code>&lt;TextView\n        style=\"?android:attr/listSeparatorTextViewStyle\"\n        android:id=\"@+id/separator\"\n        android:text=\"Header\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#757678\"\n        android:textColor=\"#f5c227\" /&gt;\n</code></pre>\n\n<p>and I tried hiding it when it is unneccessary and showing it when neccessary but I just messed up rest of my code. I tried few more tutorials but they also had same effect.</p>\n\n<p>Could anyone guide me on how to do that easy way?</p>\n", "tags": ["java", "android", "listview", "header", "android-arrayadapter"], "title": "Android ListView headers", "answer_count": 3, "creation_date": 1354040713, "score": 105, "link": "http://stackoverflow.com/questions/13590627/android-listview-headers", "answers": [{"body": "<p>You probably are looking for an <a href=\"http://developer.android.com/reference/android/widget/ExpandableListView.html\">ExpandableListView</a> which has headers (groups) to separate items (childs).</p>\n\n<p>Nice tutorial on the subject: <a href=\"http://www.dreamincode.net/forums/topic/270612-how-to-get-started-with-expandablelistview/\">here</a>.</p>\n", "title": "Android ListView headers", "answer_id": 13590704, "link": "http://stackoverflow.com/questions/13590627/android-listview-headers/13590704#13590704", "tags": ["java", "android", "listview", "header", "android-arrayadapter"]}, {"body": "<p>Here's how I do it, the keys are <a href=\"http://developer.android.com/reference/android/widget/Adapter.html#getItemViewType%28int%29\">getItemViewType</a> and <a href=\"http://developer.android.com/reference/android/widget/Adapter.html#getViewTypeCount%28%29\">getViewTypeCount</a> in the <code>Adapter</code> class.  <code>getViewTypeCount</code> returns how many types of items we have in the list, in this case we have a header item and an event item, so two.  <code>getItemViewType</code> should return what type of <code>View</code> we have at the input <code>position</code>.</p>\n\n<p>Android will then take care of passing you the right type of <code>View</code> in <code>convertView</code> automatically.</p>\n\n<p>Here what the result of the code below looks like: <img src=\"http://i.stack.imgur.com/b528R.png\" alt=\"Example\"></p>\n\n<p>First we have an interface that our two list item types will implement</p>\n\n<pre><code>public interface Item {\n    public int getViewType();\n    public View getView(LayoutInflater inflater, View convertView);\n}\n</code></pre>\n\n<p>Then we have an adapter that takes a list of <code>Item</code></p>\n\n<pre><code>public class TwoTextArrayAdapter extends ArrayAdapter&lt;Item&gt; {\n    private LayoutInflater mInflater;\n\n    public enum RowType {\n        LIST_ITEM, HEADER_ITEM\n    }\n\n    public TwoTextArrayAdapter(Context context, List&lt;Item&gt; items) {\n        super(context, 0, items);\n        mInflater = LayoutInflater.from(context);\n    }\n\n    @Override\n    public int getViewTypeCount() {\n        return RowType.values().length;\n\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return getItem(position).getViewType();\n    }\n</code></pre>\n\n<blockquote>\n<pre><code>    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        return getItem(position).getView(mInflater, convertView);\n    }\n</code></pre>\n</blockquote>\n\n<p><strong>EDIT</strong>\n<strong>Better For Performance.. can be noticed when scrolling</strong></p>\n\n<pre><code>private static final int TYPE_ITEM = 0; private static final int TYPE_SEPARATOR = 1; public View getView(int position, View convertView, ViewGroup parent)  {\n    ViewHolder holder = null;\n    int rowType = getItemViewType(position);\n    View View;\n    if (convertView == null) {\n        holder = new ViewHolder();\n        switch (rowType) {\n            case TYPE_ITEM:\n                convertView = mInflater.inflate(R.layout.task_details_row, null);\n                holder.View=getItem(position).getView(mInflater, convertView);\n                break;\n            case TYPE_SEPARATOR:\n                convertView = mInflater.inflate(R.layout.task_detail_header, null);\n                holder.View=getItem(position).getView(mInflater, convertView);\n                break;\n        }\n        convertView.setTag(holder);\n    }\n    else\n    {\n        holder = (ViewHolder) convertView.getTag();\n    }\n    return convertView; } public static class ViewHolder {\n    public  View View; } }\n</code></pre>\n\n<p>Then we have classes the implement <code>Item</code> and inflate the correct layouts.  In your case you'll have something like a <code>Header</code> class and a <code>ListItem</code> class.</p>\n\n<pre><code>   public class Header implements Item {\n    private final String         name;\n\n    public Header(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public int getViewType() {\n        return RowType.HEADER_ITEM.ordinal();\n    }\n\n    @Override\n    public View getView(LayoutInflater inflater, View convertView) {\n        View view;\n        if (convertView == null) {\n            view = (View) inflater.inflate(R.layout.header, null);\n            // Do some initialization\n        } else {\n            view = convertView;\n        }\n\n        TextView text = (TextView) view.findViewById(R.id.separator);\n        text.setText(name);\n\n        return view;\n    }\n\n}\n</code></pre>\n\n<p>And then the <code>ListItem</code> class</p>\n\n<pre><code>    public class ListItem implements Item {\n    private final String         str1;\n    private final String         str2;\n\n    public ListItem(String text1, String text2) {\n        this.str1 = text1;\n        this.str2 = text2;\n    }\n\n    @Override\n    public int getViewType() {\n        return RowType.LIST_ITEM.ordinal();\n    }\n\n    @Override\n    public View getView(LayoutInflater inflater, View convertView) {\n        View view;\n        if (convertView == null) {\n            view = (View) inflater.inflate(R.layout.my_list_item, null);\n            // Do some initialization\n        } else {\n            view = convertView;\n        }\n\n        TextView text1 = (TextView) view.findViewById(R.id.list_content1);\n        TextView text2 = (TextView) view.findViewById(R.id.list_content2);\n        text1.setText(str1);\n        text2.setText(str2);\n\n        return view;\n    }\n\n}\n</code></pre>\n\n<p>And a simple <code>Activity</code> to display it</p>\n\n<pre><code>public class MainActivity extends ListActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        List&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\n        items.add(new Header(\"Header 1\"));\n        items.add(new ListItem(\"Text 1\", \"Rabble rabble\"));\n        items.add(new ListItem(\"Text 2\", \"Rabble rabble\"));\n        items.add(new ListItem(\"Text 3\", \"Rabble rabble\"));\n        items.add(new ListItem(\"Text 4\", \"Rabble rabble\"));\n        items.add(new Header(\"Header 2\"));\n        items.add(new ListItem(\"Text 5\", \"Rabble rabble\"));\n        items.add(new ListItem(\"Text 6\", \"Rabble rabble\"));\n        items.add(new ListItem(\"Text 7\", \"Rabble rabble\"));\n        items.add(new ListItem(\"Text 8\", \"Rabble rabble\"));\n\n        TwoTextArrayAdapter adapter = new TwoTextArrayAdapter(this, items);\n        setListAdapter(adapter);\n    }\n\n}\n</code></pre>\n\n<p>Layout for <code>R.layout.header</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\" &gt;\n\n    &lt;TextView\n        style=\"?android:attr/listSeparatorTextViewStyle\"\n        android:id=\"@+id/separator\"\n        android:text=\"Header\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#757678\"\n        android:textColor=\"#f5c227\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Layout for <code>R.layout.my_list_item</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/list_content1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_margin=\"5dip\"\n        android:clickable=\"false\"\n        android:gravity=\"center\"\n        android:longClickable=\"false\"\n        android:paddingBottom=\"1dip\"\n        android:paddingTop=\"1dip\"\n        android:text=\"sample\"\n        android:textColor=\"#ff7f1d\"\n        android:textSize=\"17dip\"\n        android:textStyle=\"bold\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/list_content2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_margin=\"5dip\"\n        android:clickable=\"false\"\n        android:gravity=\"center\"\n        android:linksClickable=\"false\"\n        android:longClickable=\"false\"\n        android:paddingBottom=\"1dip\"\n        android:paddingTop=\"1dip\"\n        android:text=\"sample\"\n        android:textColor=\"#6d6d6d\"\n        android:textSize=\"17dip\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Layout for <code>R.layout.activity_main.xml</code></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\" &gt;\n\n    &lt;ListView\n        android:id=\"@android:id/list\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>You can also get fancier and use <code>ViewHolders</code>, load stuff asynchronously, or whatever you like.</p>\n", "title": "Android ListView headers", "answer_id": 13634801, "link": "http://stackoverflow.com/questions/13590627/android-listview-headers/13634801#13634801", "tags": ["java", "android", "listview", "header", "android-arrayadapter"]}, {"body": "<p>As an alternative, there's a nice <a href=\"https://github.com/JaySoyer/Advanced-Adapters\" rel=\"nofollow\">3rd party library</a> designed just for this use case. Whereby you need to generate headers based on the data being stored in the adapter. They are called Rolodex adapters and are used with <code>ExpandableListViews</code>. They can easily be customized to behave like a normal list with headers.</p>\n\n<p>Using the OP's <code>Event</code> objects and knowing the headers are based on the <code>Date</code> associated with it...the code would look something like this:</p>\n\n<p><strong>The Activity</strong></p>\n\n<pre><code>    //There's no need to pre-compute what the headers are. Just pass in your List of objects. \n    EventDateAdapter adapter = new EventDateAdapter(this, mEvents);\n    mExpandableListView.setAdapter(adapter);\n</code></pre>\n\n<p><strong>The Adapter</strong></p>\n\n<pre><code>private class EventDateAdapter extends NFRolodexArrayAdapter&lt;Date, Event&gt; {\n\n    public EventDateAdapter(Context activity, Collection&lt;Event&gt; items) {\n        super(activity, items);\n    }\n\n    @Override\n    public Date createGroupFor(Event childItem) {\n        //This is how the adapter determines what the headers are and what child items belong to it\n        return (Date) childItem.getDate().clone();\n    }\n\n    @Override\n    public View getChildView(LayoutInflater inflater, int groupPosition, int childPosition,\n                             boolean isLastChild, View convertView, ViewGroup parent) {\n        //Inflate your view\n\n        //Gets the Event data for this view\n        Event event = getChild(groupPosition, childPosition);\n\n        //Fill view with event data\n    }\n\n    @Override\n    public View getGroupView(LayoutInflater inflater, int groupPosition, boolean isExpanded,\n                             View convertView, ViewGroup parent) {\n        //Inflate your header view\n\n        //Gets the Date for this view\n        Date date = getGroup(groupPosition);\n\n        //Fill view with date data\n    }\n\n    @Override\n    public boolean hasAutoExpandingGroups() {\n        //This forces our group views (headers) to always render expanded.\n        //Even attempting to programmatically collapse a group will not work.\n        return true;\n    }\n\n    @Override\n    public boolean isGroupSelectable(int groupPosition) {\n        //This prevents a user from seeing any touch feedback when a group (header) is clicked.\n        return false;\n    }\n}\n</code></pre>\n", "title": "Android ListView headers", "answer_id": 28490817, "link": "http://stackoverflow.com/questions/13590627/android-listview-headers/28490817#28490817", "tags": ["java", "android", "listview", "header", "android-arrayadapter"]}], "question_id": 13590627}, {"body": "<p>I would like to know what is the cleanest and best way to perform form validation of user inputs. I have seen some developers implement <a href=\"http://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/validation/Validator.html\"><code>org.springframework.validation.Validator</code></a>. A question about that: I saw it validates a class. Does the class have to be filled manually with the values from the user input, and then passed to the validator?</p>\n\n<p>I am confused about the cleanest and best way to validate the user input. I know about the traditional method of using <code>request.getParameter()</code> and then manually checking for <code>nulls</code>, but I don't want to do all the validation in my <code>Controller</code>. Some good advice on this area will be greatly appreciated. I am not using Hibernate in this application.</p>\n", "tags": ["java", "spring-mvc", "validation", "user-input"], "title": "Spring MVC: How to perform validation?", "answer_count": 5, "creation_date": 1346087093, "score": 104, "link": "http://stackoverflow.com/questions/12146298/spring-mvc-how-to-perform-validation", "answers": [{"body": "<p>There are two ways to validate user input: annotations and by inheriting Spring's Validator class. For simple cases, the annotations are nice. If you need complex validations (like cross-field validation, eg. \"verify email address\" field), or if your model is validated in multiple places in your application with different rules, or if you don't have the ability to modify your model object by placing annotations on it, Spring's inheritance-based Validator is the way to go. I'll show examples of both.</p>\n\n<p>The actual validation part is the same regardless of which type of validation you're using:</p>\n\n<pre><code>RequestMapping(value=\"fooPage\", method = RequestMethod.POST)\npublic String processSubmit(@Valid @ModelAttribute(\"foo\") Foo foo, BindingResult result, ModelMap m) {\n    if(result.hasErrors()) {\n        return \"fooPage\";\n    }\n    ...\n    return \"successPage\";\n}\n</code></pre>\n\n<p>If you are using annotations, your <code>Foo</code> class might look like:</p>\n\n<pre><code>public class Foo {\n\n    @NotNull\n    @Size(min = 1, max = 20)\n    private String name;\n\n    @NotNull\n    @Min(1)\n    @Max(110)\n    private Integer age;\n\n    // getters, setters\n}\n</code></pre>\n\n<p>Annotations above are <code>javax.validation.constraints</code> annotations. You can also use Hibernate's\n<code>org.hibernate.validator.constraints</code>, but it doesn't look like you are using Hibernate. </p>\n\n<p>Alternatively, if you implement Spring's Validator, you would create a class as follows:</p>\n\n<pre><code>public class FooValidator implements Validator {\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return Foo.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n\n        Foo foo = (Foo) target;\n\n        if(foo.getName() == null) {\n            errors.rejectValue(\"name\", \"name[emptyMessage]\");\n        }\n        else if(foo.getName().length() &lt; 1 || foo.getName().length() &gt; 20){\n            errors.rejectValue(\"name\", \"name[invalidLength]\");\n        }\n\n        if(foo.getAge() == null) {\n            errors.rejectValue(\"age\", \"age[emptyMessage]\");\n        }\n        else if(foo.getAge() &lt; 1 || foo.getAge() &gt; 110){\n            errors.rejectValue(\"age\", \"age[invalidAge]\");\n        }\n    }\n}\n</code></pre>\n\n<p>If using the above validator, you also have to bind the validator to the Spring controller (not necessary if using annotations):</p>\n\n<pre><code>@InitBinder(\"foo\")\nprotected void initBinder(WebDataBinder binder) {\n    binder.setValidator(new FooValidator());\n}\n</code></pre>\n\n<p>Also see <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/htmlsingle/spring-framework-reference.html#validation-mvc-triggering\">Spring docs</a>.</p>\n\n<p>Hope that helps.</p>\n\n<p><strong>Edit</strong> - I decided to write a <a href=\"http://codetutr.com/2013/05/28/spring-mvc-form-validation/\">tutorial on Spring MVC validation</a>. Hope it helps some people out.</p>\n", "title": "Spring MVC: How to perform validation?", "answer_id": 12148322, "link": "http://stackoverflow.com/questions/12146298/spring-mvc-how-to-perform-validation/12148322#12148322", "tags": ["java", "spring-mvc", "validation", "user-input"]}, {"body": "<p>With Spring MVC, there are 3 different ways to perform validation : using annotation, manually, or a mix of both. There is not a unique \"cleanest and best way\" to validate, but there is probably one that fits your project/problem/context better.</p>\n\n<p>Let's have a User :</p>\n\n<pre><code>public class User {\n\n    private String name;\n\n    ...\n\n}\n</code></pre>\n\n<p><strong>Method 1 :</strong> If you have Spring 3.x+ and simple validation to do, use <code>javax.validation.constraints</code> annotations (also known as JSR-303 annotations).</p>\n\n<pre><code>public class User {\n\n    @NotNull\n    private String name;\n\n    ...\n\n}\n</code></pre>\n\n<p>You will need a JSR-303 provider in your librairies, like <a href=\"http://www.hibernate.org/subprojects/validator.html\">Hibernate Validator</a> who is the reference implementation (this library has nothing to do with databases and relational mapping, it just does validation :-).</p>\n\n<p>Then in your controller you would have something like :</p>\n\n<pre><code>@RequestMapping(value=\"/user\", method=RequestMethod.POST)\npublic createUser(Model model, @Valid @ModelAttribute(\"user\") User user, BindingResult result){\n    if (result.hasErrors()){\n      // do something\n    }\n    else {\n      // do something else\n    }\n}\n</code></pre>\n\n<p>Notice the @Valid : if the user happens to have a null name, result.hasErrors() will be true.</p>\n\n<p><strong>Method 2 :</strong> If you have complex validation (like big business validation logic, conditional validation across multiple fields, etc.), or for some reason you cannot use method 1, use manual validation. It is a good practice to separate the controller\u2019s code from the validation logic. Don't create your validation class(es) from scratch, Spring provides a handy <code>org.springframework.validation.Validator</code> interface (since Spring 2).</p>\n\n<p>So let's say you have</p>\n\n<pre><code>public class User {\n\n    private String name;\n\n    private Integer birthYear;\n    private User responsibleUser;\n    ...\n\n}\n</code></pre>\n\n<p>and you want to do some \"complex\" validation like : if the user's age is under 18, responsibleUser must not be null and responsibleUser's age must be over 21.</p>\n\n<p>You will do something like this</p>\n\n<pre><code>public class UserValidator implements Validator {\n\n    @Override\n    public boolean supports(Class clazz) {\n      return User.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n      User user = (User) target;\n\n      if(user.getName() == null) {\n          errors.rejectValue(\"name\", \"your_error_code\");\n      }\n\n      // do \"complex\" validation here\n\n    }\n\n}\n</code></pre>\n\n<p>Then in your controller you would have :</p>\n\n<pre><code>@RequestMapping(value=\"/user\", method=RequestMethod.POST)\n    public createUser(Model model, @ModelAttribute(\"user\") User user, BindingResult result){\n        UserValidator userValidator = new UserValidator();\n        userValidator.validate(user, result);\n\n        if (result.hasErrors()){\n          // do something\n        }\n        else {\n          // do something else\n        }\n}\n</code></pre>\n\n<p>If there are validation errors, result.hasErrors() will be true.</p>\n\n<p>Note : You can also set the validator in a @InitBinder method of the controller, with \"binder.setValidator(...)\" (in which case a mix use of method 1 and 2 would not be possible, because you replace the default validator). Or you could instantiate it in the default constructor of the controller. Or have a @Component/@Service UserValidator that you inject (@Autowired) in your controller : very useful, because most validators are singletons +  unit test mocking becomes easier + your validator could call other Spring components.</p>\n\n<p><strong>Method 3 :</strong>\nWhy not using a combination of both methods? Validate the simple stuff, like the \"name\" attribute, with annotations (it is quick to do, concise and more readable). Keep the heavy validations for validators (when it would take hours to code custom complex validation annotations, or just when it is not possible to use annotations). I did this on a former project, it worked like a charm, quick &amp; easy.</p>\n\n<p><strong>Warning :</strong> you must not mistake <strong>validation handling</strong> for <strong>exception handling</strong>. <a href=\"http://stackoverflow.com/a/12661291/400545\">Read this post</a> to know when to use them.</p>\n\n<p>References :</p>\n\n<ul>\n<li><a href=\"http://web.archive.org/web/20120508030459/http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring\">A very interesting blog post about bean validation</a> (<a href=\"http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring/\">Original link</a> is dead)</li>\n<li><a href=\"http://alasdoo.com/2011/07/data-validation-conversion-basics-custom-error-messages-in-spring-mvc\">Another good blog post about validation</a></li>\n<li><a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\">Latest Spring documentation about validation</a></li>\n</ul>\n", "title": "Spring MVC: How to perform validation?", "answer_id": 12149331, "link": "http://stackoverflow.com/questions/12146298/spring-mvc-how-to-perform-validation/12149331#12149331", "tags": ["java", "spring-mvc", "validation", "user-input"]}, {"body": "<p>I would like to extend nice answer of Jerome Dalbert. I found very easy to write your own annotation validators in JSR-303 way. You are not limited to have \"one field\" validation. You can create your own annotation on type level and have complex validation (see examples below). I prefer this way because I don't need mix different types of validation (Spring and JSR-303) like Jerome do. Also this validators are \"Spring aware\" so you can use @Inject/@Autowire out of box.</p>\n\n<p><strong>Example of custom object validation:</strong></p>\n\n<pre><code>@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { YourCustomObjectValidator.class })\npublic @interface YourCustomObjectValid {\n\n    String message() default \"{YourCustomObjectValid.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class YourCustomObjectValidator implements ConstraintValidator&lt;YourCustomObjectValid, YourCustomObject&gt; {\n\n    @Override\n    public void initialize(YourCustomObjectValid constraintAnnotation) { }\n\n    @Override\n    public boolean isValid(YourCustomObject value, ConstraintValidatorContext context) {\n\n        // Validate your complex logic \n\n        // Mark field with error\n        ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\n        cvb.addNode(someField).addConstraintViolation();\n\n        return true;\n    }\n}\n\n@YourCustomObjectValid\npublic YourCustomObject {\n}\n</code></pre>\n\n<p><strong>Example of generic fields equality:</strong></p>\n\n<pre><code>import static java.lang.annotation.ElementType.ANNOTATION_TYPE;\nimport static java.lang.annotation.ElementType.TYPE;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { FieldsEqualityValidator.class })\npublic @interface FieldsEquality {\n\n    String message() default \"{FieldsEquality.message}\";\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    /**\n     * Name of the first field that will be compared.\n     * \n     * @return name\n     */\n    String firstFieldName();\n\n    /**\n     * Name of the second field that will be compared.\n     * \n     * @return name\n     */\n    String secondFieldName();\n\n    @Target({ TYPE, ANNOTATION_TYPE })\n    @Retention(RUNTIME)\n    public @interface List {\n        FieldsEquality[] value();\n    }\n}\n\n\n\n\nimport java.lang.reflect.Field;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.util.ReflectionUtils;\n\npublic class FieldsEqualityValidator implements ConstraintValidator&lt;FieldsEquality, Object&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\n\n    private String firstFieldName;\n    private String secondFieldName;\n\n    @Override\n    public void initialize(FieldsEquality constraintAnnotation) {\n        firstFieldName = constraintAnnotation.firstFieldName();\n        secondFieldName = constraintAnnotation.secondFieldName();\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        if (value == null)\n            return true;\n\n        try {\n            Class&lt;?&gt; clazz = value.getClass();\n\n            Field firstField = ReflectionUtils.findField(clazz, firstFieldName);\n            firstField.setAccessible(true);\n            Object first = firstField.get(value);\n\n            Field secondField = ReflectionUtils.findField(clazz, secondFieldName);\n            secondField.setAccessible(true);\n            Object second = secondField.get(value);\n\n            if (first != null &amp;&amp; second != null &amp;&amp; !first.equals(second)) {\n                    ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\n          cvb.addNode(firstFieldName).addConstraintViolation();\n\n          ConstraintViolationBuilder cvb = context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate());\n          cvb.addNode(someField).addConstraintViolation(secondFieldName);\n\n                return false;\n            }\n        } catch (Exception e) {\n            log.error(\"Cannot validate fileds equality in '\" + value + \"'!\", e);\n            return false;\n        }\n\n        return true;\n    }\n}\n\n@FieldsEquality(firstFieldName = \"password\", secondFieldName = \"confirmPassword\")\npublic class NewUserForm {\n\n    private String password;\n\n    private String confirmPassword;\n\n}\n</code></pre>\n", "title": "Spring MVC: How to perform validation?", "answer_id": 16480820, "link": "http://stackoverflow.com/questions/12146298/spring-mvc-how-to-perform-validation/16480820#16480820", "tags": ["java", "spring-mvc", "validation", "user-input"]}, {"body": "<p>Find complete example of Spring Mvc Validation</p>\n\n<pre><code>import org.springframework.validation.Errors;\nimport org.springframework.validation.ValidationUtils;\nimport org.springframework.validation.Validator;\nimport com.technicalkeeda.bean.Login;\n\npublic class LoginValidator implements Validator {\n    public boolean supports(Class aClass) {\n        return Login.class.equals(aClass);\n    }\n\n    public void validate(Object obj, Errors errors) {\n        Login login = (Login) obj;\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, \"userName\",\n                \"username.required\", \"Required field\");\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, \"userPassword\",\n                \"userpassword.required\", \"Required field\");\n    }\n}\n\n\npublic class LoginController extends SimpleFormController {\n    private LoginService loginService;\n\n    public LoginController() {\n        setCommandClass(Login.class);\n        setCommandName(\"login\");\n    }\n\n    public void setLoginService(LoginService loginService) {\n        this.loginService = loginService;\n    }\n\n    @Override\n    protected ModelAndView onSubmit(Object command) throws Exception {\n        Login login = (Login) command;\n        loginService.add(login);\n        return new ModelAndView(\"loginsucess\", \"login\", login);\n    }\n}\n</code></pre>\n", "title": "Spring MVC: How to perform validation?", "answer_id": 19960890, "link": "http://stackoverflow.com/questions/12146298/spring-mvc-how-to-perform-validation/19960890#19960890", "tags": ["java", "spring-mvc", "validation", "user-input"]}, {"body": "<p>If you have same error handling logic for different method handlers, then you would end up with lots of handlers with following code pattern:</p>\n\n<pre><code>if (validation.hasErrors()) {\n  // do error handling\n}\nelse {\n  // do the actual business logic\n}\n</code></pre>\n\n<p>Suppose you're creating RESTful services and want to return <code>400 Bad Request</code> along with error messages for every validation error case. Then, the error handling part would be same for every single REST endpoint that requires validation. Repeating that very same logic in every single handler is not so <strong>DRY</strong>ish!</p>\n\n<p>One way to solve this problem is to drop the immediate <code>BindingResult</code> after each <em>To-Be-Validated</em> bean. Now, your handler would be like this:</p>\n\n<pre><code>@RequestMapping(...)\npublic Something doStuff(@Valid Somebean bean) { \n    // do the actual business logic\n    // Just the else part!\n}\n</code></pre>\n\n<p>This way, if the bound bean was not valid, a <code>MethodArgumentNotValidException</code> will be thrown by Spring. You can define a <code>ControllerAdvice</code> that handles this exception with that same error handling logic:</p>\n\n<pre><code>@ControllerAdvice\npublic class ErrorHandlingControllerAdvice {\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public SomeErrorBean handleValidationError(MethodArgumentNotValidException ex) {\n        // do error handling\n        // Just the if part!\n    }\n}\n</code></pre>\n\n<p>You still can examine the underlying <code>BindingResult</code> using <code>getBindingResult</code> method of <code>MethodArgumentNotValidException</code>.</p>\n", "title": "Spring MVC: How to perform validation?", "answer_id": 36772985, "link": "http://stackoverflow.com/questions/12146298/spring-mvc-how-to-perform-validation/36772985#36772985", "tags": ["java", "spring-mvc", "validation", "user-input"]}], "question_id": 12146298}, {"body": "<p>I started using Eclipse Juno a few days ago after using older versions for years.</p>\n\n<p>There's one thing that's really bothering me: What do that percentages next to the methods in the auto-complete box mean?</p>\n\n<p><img src=\"http://i.stack.imgur.com/i7RKi.png\" alt=\"Screenshot of Percentages in Autocomplete Box\"></p>\n", "tags": ["java", "eclipse", "eclipse-juno"], "title": "Eclipse Autocomplete (percent sign, in Juno)", "answer_count": 1, "creation_date": 1342028313, "score": 104, "link": "http://stackoverflow.com/questions/11438307/eclipse-autocomplete-percent-sign-in-juno", "answers": [{"body": "<p>The percentage represents how likely the <a href=\"http://www.eclipse.org/recommenders/\"><strong>Eclipse Code Recommenders</strong></a> think it is that you are looking for a certain completion based on the context and maybe prior usage and other variables (there are \"5 Intelligent Code Completion Engines\"). It is not only the bare usage statistics. So a value might change from 13% to 95% between some lines, depending what you did in between.</p>\n\n<p>See <a href=\"http://www.eclipse.org/recommenders/documentation/usr.html#d0e32\">the docs for details</a>:</p>\n\n<blockquote>\n  <p>It assists developers by recommending him only those methods that are actually relevant for his task at hand. For instance, given that a developer just created a text widget makes it obvious for Code Recommenders which methods a developer wants to use next - even if the developer doesn't know it by himself.</p>\n</blockquote>\n", "title": "Eclipse Autocomplete (percent sign, in Juno)", "answer_id": 11438594, "link": "http://stackoverflow.com/questions/11438307/eclipse-autocomplete-percent-sign-in-juno/11438594#11438594", "tags": ["java", "eclipse", "eclipse-juno"]}], "question_id": 11438307}, {"body": "<p>I write jUnit test cases for 3 purposes:</p>\n\n<ol>\n<li>To ensure that my code satisfies all of the required functionality, under all (or most of) the input combinations/values.</li>\n<li>To ensure that I can change the implementation, and rely on JUnit test cases to tell me that all my functionality is still satisfied.</li>\n<li>As a documentation of all the use cases my code handles, and act as a spec for refactoring - should the code ever need to be rewritten. (Refactor the code, and if my jUnit tests fail - you probably missed some use case).</li>\n</ol>\n\n<p>I do not understand why or when <code>Mockito.verify()</code> should be used. When I see <code>verify()</code> being called, it is telling me that my jUnit is becoming aware of the implementation. (Thus changing my implementation would break my jUnits, even though my functionality was unaffected). </p>\n\n<p>I'm looking for:</p>\n\n<ol>\n<li><p>What should be the guidelines for appropriate usage of <code>Mockito.verify()</code>?</p></li>\n<li><p>Is it fundamentally correct for jUnits to be aware of, or tightly coupled to, the implementation of the class under test?</p></li>\n</ol>\n", "tags": ["java", "unit-testing", "junit", "mockito"], "title": "When to use Mockito.verify()?", "answer_count": 4, "creation_date": 1348269943, "score": 103, "link": "http://stackoverflow.com/questions/12539365/when-to-use-mockito-verify", "answers": [{"body": "<p>This is a fantastic question.  +1.</p>\n\n<p>If the contract of class A includes the fact that it calls method B of an object of type C, then you should test this by making a mock of type C, and verifying that method B has been called.</p>\n\n<p>This implies that the contract of class A has sufficient detail that it talks about type C (which might be an interface or a class).  So yes, we're talking about a level of specification that goes beyond just \"system requirements\", and goes some way to describing implementation.</p>\n\n<p>This is normal for unit tests.  When you are unit testing, you want to ensure that each unit is doing the \"right thing\", and that will usually include its interactions with other units.  \"Units\" here might mean classes, or larger subsets of your application.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I feel that this doesn't apply just to verification, but to stubbing as well.  As soon as you stub a method of a collaborator class, your unit test has become, in some sense, dependent on implementation.  It's kind of in the nature of unit tests to be so.  Since Mockito is as much about stubbing as it is about verification, the fact that you're using Mockito at all implies that you're going to run across this kind of dependency.</p>\n\n<p>In my experience, if I change the implementation of a class, I often have to change the implementation of its unit tests to match.  Typically, though, I won't have to change the inventory of what unit tests there <strong>are</strong> for the class; unless of course, the reason for the change was the existence of a condition that I failed to test earlier.</p>\n\n<p>So this is what unit tests are about.  A test that doesn't suffer from this kind of dependency on the way collaborator classes are used is really a sub-system test or an integration test.  Of course, these are frequently written with JUnit too, and frequently involve the use of mocking.  In my opinion, \"JUnit\" is a terrible name, for a product that lets us produce all different types of test.</p>\n", "title": "When to use Mockito.verify()?", "answer_id": 12539790, "link": "http://stackoverflow.com/questions/12539365/when-to-use-mockito-verify/12539790#12539790", "tags": ["java", "unit-testing", "junit", "mockito"]}, {"body": "<p>David's answer is of course correct but doesn't quite explain why you would want this. </p>\n\n<p>Basically, when unit testing you are testing a unit of functionality in isolation. You test whether the input produces the expected output. Sometimes, you have to test side effects as well. In a nutshell, verify allows you to do that.</p>\n\n<p>For example you have bit of business logic that is supposed to store things using a DAO. You could do this using an integration test that instantiates the DAO, hooks it up to the business logic and then pokes around in the database to see if the expected stuff got stored. That's not a unit test any more.</p>\n\n<p>Or, you could mock the DAO and verify that it gets called in the way you expect. With mockito you can verify that something is called, how often it is called, and even use matchers on the parameters to ensure it gets called in a particular way.</p>\n\n<p>The flip side of unit testing like this is indeed that you are tying the tests to the implementation which makes refactoring a bit harder. On the other hand, a good design smell is the amount of code it takes to exercise it properly. If your tests need to be very long, probably something is wrong with the design. So code with a lot of side effects/complex interactions that need to be tested is probably not a good thing to have.</p>\n", "title": "When to use Mockito.verify()?", "answer_id": 12551865, "link": "http://stackoverflow.com/questions/12539365/when-to-use-mockito-verify/12551865#12551865", "tags": ["java", "unit-testing", "junit", "mockito"]}, {"body": "<p>This is great question!\nI think the root cause of it is the following, we are using JUnit not only for unit testing. So the question should be splited up:</p>\n\n<ul>\n<li>Should I use Mockito.verify() in my <em>integration</em> (or any other higher-than-unit testing) testing?</li>\n<li>Should I use Mockito.verify() in my <strong>black-box</strong> unit-testing?</li>\n<li>Should I use Mockito.verify() in my <strong>white-box</strong> unit-testing?</li>\n</ul>\n\n<p>so if we will ignore higher-than-unit testing, the question can be rephrased \"<em>Using <strong>white-box</strong> unit-testing with Mockito.verify() creates great couple between unit test and my could implementation, can I make some <strong>\"grey-box\"</strong> unit-testing and what rules of thumb I should use for this</em>\".</p>\n\n<p>Now, let's go through all of this step-by-step.</p>\n\n<p>*- Should I use Mockito.verify() in my <em>integration</em> (or any other higher-than-unit testing) testing?*\nI think the answer is clearly no, moreover you shouldn't use mocks for this. Your test should be as close to real application as possible. You are testing complete use case, not isolated part of the application. </p>\n\n<p>*<strong><em>black-box</strong> vs <strong>white-box</strong> unit-testing</em>*\nIf you are using <strong>black-box</strong> approach what is you really doing, you supply (all equivalence classes) input, a <em>state</em>, and tests that you will receive expected output. In this approach using of mocks in general is justifies (you just mimic that they are doing the right thing; you don't want to test them), but calling Mockito.verify() is superfluous.</p>\n\n<p>If you are using <strong>white-box</strong> approach what is you really doing, you're testing the <em>behaviour</em> of your unit. In this approach calling to Mockito.verify() is essential, you should verify that your unit behaves as you're expecting to.</p>\n\n<p><strong>rules of thumbs for grey-box-testing</strong> \nThe problem with white-box testing is it creates a high coupling. One possible solution is to do grey-box-testing, not white-box-testing. This is sort of combination of black&amp;white box testing. You are really testing the <em>behaviour</em> of your unit like in white-box testing, but in general you make it implementation-agnostic <em>when possible</em>. When it is possible, you will just make a check like in black-box case, just asserts that output is what is your expected to be.  So, the essence of your question is when it is possible. </p>\n\n<p>This is really hard. I don't have a good example, but I can give you to examples. In the case that was mentioned above with equals() vs equalsIgnoreCase() you shouldn't call Mockito.verify(), just assert the output. If you couldn't do it, break down your code to the smaller unit, until you can do it. On the other hand, suppose you have some @Service and you are writting @Web-Service that is essentially wrapper upon your @Service - it delegates all calls to the @Service (and making some extra error handling). In this case calling to Mockito.verify() is essential, you shouldn't duplicate all of your checks that you did for the @Serive, verifying that you're calling to @Service with correct parammeter list is sufficient.</p>\n", "title": "When to use Mockito.verify()?", "answer_id": 12562433, "link": "http://stackoverflow.com/questions/12539365/when-to-use-mockito-verify/12562433#12562433", "tags": ["java", "unit-testing", "junit", "mockito"]}, {"body": "<p>I must say, that you are absolutely right from a classical approach's point of view:</p>\n\n<ul>\n<li>If you first <em>create (or change) business logic</em> of your application and then <em>cover it with (adopt) tests</em> (<em>Test-Last approach</em>), then it will be very painful and dangerous to let tests know anything about how your software works, other than checking inputs and outputs.</li>\n<li>If you are practicing a <a href=\"http://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow\"><em>Test-Driven approach</em></a>, then your tests are the <a href=\"http://www.jamesshore.com/Blog/Red-Green-Refactor.html\" rel=\"nofollow\">first to be written, to be changed and to reflect the use cases</a> of your software's functionality. <strong>The implementation depends on tests.</strong> That sometimes mean, that you want your software to be implemented in some particular way, e.g. rely on some other component's method or even call it a particular amount of times. That is where <a href=\"http://www.baeldung.com/mockito-verify\" rel=\"nofollow\">Mockito.verify()</a> comes in handy!</li>\n</ul>\n\n<p>It is important to remember, that there are no universal tools. The type of software, it's size, company goals and market situation, team skills and many other things influence the decision on which approach to use at your particular case.</p>\n", "title": "When to use Mockito.verify()?", "answer_id": 29349910, "link": "http://stackoverflow.com/questions/12539365/when-to-use-mockito-verify/29349910#29349910", "tags": ["java", "unit-testing", "junit", "mockito"]}], "question_id": 12539365}, {"body": "<p>The Java 7 <em>try-with-resources</em> syntax (also known as ARM block (<em>Automatic Resource Management</em>)) is nice, short and straightforward when using only one <code>AutoCloseable</code> resource. However, I am not sure what is the correct idiom when I need to declare multiple resources that are dependent on each other, for example a <code>FileWriter</code> and a <code>BufferedWriter</code> that wraps it. Of course, this question concerns any case when some <code>AutoCloseable</code> resources are wrapped, not only these two specific classes.</p>\n\n<p>I came up with the three following alternatives:</p>\n\n<h2>1)</h2>\n\n<p>The naive idiom I have seen is to declare only the top-level wrapper in the ARM-managed variable:</p>\n\n<pre><code>static void printToFile1(String text, File file) {\n    try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {\n        bw.write(text);\n    } catch (IOException ex) {\n        // handle ex\n    }\n}\n</code></pre>\n\n<p>This is nice and short, but it is broken. Because the underlying <code>FileWriter</code> is not declared in a variable, it will never be closed directly in the generated <code>finally</code> block. It will be closed only through the <code>close</code> method of the wrapping <code>BufferedWriter</code>. The problem is, that if an exception is thrown from the <code>bw</code>'s constructor, it's <code>close</code> will not be called and therefore the underlying <code>FileWriter</code> <strong>will not be closed</strong>.</p>\n\n<h2>2)</h2>\n\n<pre><code>static void printToFile2(String text, File file) {\n    try (FileWriter fw = new FileWriter(file);\n            BufferedWriter bw = new BufferedWriter(fw)) {\n        bw.write(text);\n    } catch (IOException ex) {\n        // handle ex\n    }\n}\n</code></pre>\n\n<p>Here, both the underlying and the wrapping resource are declared in the ARM-managed variables, so both of them will be certainly closed, so certainly that the underlying <code>fw.close()</code> <strong>will be called twice</strong>, first directly and for the second time through the wrapping <code>bw.close()</code>.</p>\n\n<p>This should not be a problem for these two specific classes that both implement <code>Closeable</code> (which is a subtype of <code>AutoCloseable</code>), whose contract states that multiple calls to <code>close</code> are permitted:</p>\n\n<blockquote>\n  <p>Closes this stream and releases any system resources associated with it. If the stream is already closed then invoking this method has no effect.</p>\n</blockquote>\n\n<p>However, in a general case, I can have resources that do implement only <code>AutoCloseable</code> (and not <code>Closeable</code>), which doesn't guarantee that the <code>close</code> can be called multiple times:</p>\n\n<blockquote>\n  <p>Note that unlike the close method of java.io.Closeable, this close method is not required to be idempotent. In other words, calling this close method more than once may have some visible side effect, unlike Closeable.close which is required to have no effect if called more than once. However, implementers of this interface are strongly encouraged to make their close methods idempotent.</p>\n</blockquote>\n\n<h2>3)</h2>\n\n<pre><code>static void printToFile3(String text, File file) {\n    try (FileWriter fw = new FileWriter(file)) {\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(text);\n    } catch (IOException ex) {\n        // handle ex\n    }\n}\n</code></pre>\n\n<p>This version should be theoretically correct, because only the <code>fw</code> represents a real resource that needs to be cleaned up. The <code>bw</code> does't itself hold any resource, it only delegates to the <code>fw</code>, so it should be sufficient to only close the underlying <code>fw</code>.</p>\n\n<p>On the other hand, the syntax is a bit irregular and also, Eclipse issues a warning, which I believe is a false alarm, but it is still a warning that one has to deal with:</p>\n\n<blockquote>\n  <p>Resource leak: 'bw' is never closed</p>\n</blockquote>\n\n<hr>\n\n<p>So, which approach to go for? Or have I missed some other idiom that is <em>the correct</em> one?</p>\n", "tags": ["java", "try-with-resources"], "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_count": 8, "creation_date": 1348408029, "score": 101, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc", "answers": [{"body": "<p><strong>Option 4</strong></p>\n\n<p>Change your resources to be Closeable, not AutoClosable if you can.  The fact that the constructors can be chained implies it isn't unheard of to close the resource twice.  (This was true before ARM too.)  More on this below.</p>\n\n<p><strong>Option 5</strong></p>\n\n<p>Don't use ARM and code very carefully to ensure close() isn't called twice!</p>\n\n<p><strong>Option 6</strong></p>\n\n<p>Don't use ARM and have your finally close() calls in a try/catch themselves.</p>\n\n<p><strong>Why I don't think this problem is unique to ARM</strong></p>\n\n<p>In all these examples, the finally close() calls should be in a catch block.  Left out for readability.</p>\n\n<p>No good because fw can be closed twice.  (which is fine for FileWriter but not in your hypothetial example):</p>\n\n<pre><code>FileWriter fw = null;\nBufferedWriter bw = null'\ntry {\n  fw = new FileWriter(file)) {\n  bw = new BufferedWriter(fw);\n  bw.write(text);\n} finally {\n  if ( fw != null ) fw.close();\n  if ( bw != null ) bw.close();\n}\n</code></pre>\n\n<p>No good because fw not closed if exception on constructing a BufferedWriter.  (again, can't happen, but in your hypothetical example):</p>\n\n<pre><code>FileWriter fw = null;\nBufferedWriter bw = null'\ntry {\n  fw = new FileWriter(file)) {\n  bw = new BufferedWriter(fw);\n  bw.write(text);\n} finally {\n  if ( bw != null ) bw.close();\n}\n</code></pre>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 12554785, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/12554785#12554785", "tags": ["java", "try-with-resources"]}, {"body": "<p>Since your resources are nested, your try-with clauses should also be:</p>\n\n<pre><code>try (FileWriter fw=new FileWriter(file)) {\n    try (BufferedWriter bw=new BufferedWriter(fw)) {\n        bw.write(text);\n    } catch (IOException ex) {\n        // handle ex\n    }\n} catch (IOException ex) {\n    // handle ex\n}\n</code></pre>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 12605251, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/12605251#12605251", "tags": ["java", "try-with-resources"]}, {"body": "<p>I would say don't use ARM and go on with Closeable. Use method like,</p>\n\n<pre><code>public void close(Closeable... closeables) {\n    for (Closeable closeable: closeables) {\n       try {\n           closeable.close();\n         } catch (IOException e) {\n           // you can't much for this\n          }\n    }\n\n}\n</code></pre>\n\n<p>Also you should consider calling close of <code>BufferedWriter</code> as it is not just delegating the close to <code>FileWriter</code> , but it does some cleanup like <code>flushBuffer</code>.</p>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 12619799, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/12619799#12619799", "tags": ["java", "try-with-resources"]}, {"body": "<p>Here's my take on the alternatives:</p>\n\n<h2>1)</h2>\n\n<pre><code>try (BufferedWriter bw = new BufferedWriter(new FileWriter(file))) {\n    bw.write(text);\n}\n</code></pre>\n\n<p>For me, the best thing coming to Java from traditional C++ 15 years ago was that you could trust your program. Even if things are in the muck and going wrong, which they often do, I want the rest of the code to be on best behaviour and smelling of roses. Indeed, the <code>BufferedWriter</code> might throw an exception here. Running out of memory wouldn't be unusual, for instance. For other decorators, do you know which of the <code>java.io</code> wrapper classes throw a checked exception from their constructors? I don't. Doesn't do code understandability much good if you rely upon that sort of obscure knowledge.</p>\n\n<p>Also there's the \"destruction\". If there is an error condition, then you probably don't want to be flushing rubbish to a file that needs deleting (code for that not shown). Although, of course, deleting the file is also another interesting operation to do as error handling.</p>\n\n<p>Generally you want <code>finally</code> blocks to be as short and reliable as possible. Adding flushes does not help this goal. For many releases some of the buffering classes in the JDK had a bug where an exception from <code>flush</code> within <code>close</code> caused <code>close</code> on the decorated object not be called. Whilst that has been fixed for some time, expect it from other implementations.</p>\n\n<h2>2)</h2>\n\n<pre><code>try (\n    FileWriter fw = new FileWriter(file);\n    BufferedWriter bw = new BufferedWriter(fw)\n) {\n    bw.write(text);\n}\n</code></pre>\n\n<p>We're still flushing in the implicit finally block (now with repeated <code>close</code> - this gets worse as you add more decorators), but the construction is safe and we have to implicit finally blocks so even a failed <code>flush</code> doesn't prevent resource release.</p>\n\n<h2>3)</h2>\n\n<pre><code>try (FileWriter fw = new FileWriter(file)) {\n    BufferedWriter bw = new BufferedWriter(fw);\n    bw.write(text);\n}\n</code></pre>\n\n<p>There's a bug here. Should be:</p>\n\n<pre><code>try (FileWriter fw = new FileWriter(file)) {\n    BufferedWriter bw = new BufferedWriter(fw);\n    bw.write(text);\n    bw.flush();\n}\n</code></pre>\n\n<p>Some poorly implemented decorators are in fact resource and will need to be closed reliably. Also some streams may need to be closed in a particular way (perhaps they are doing compression and need to write bits to finish off, and can't just flush everything.</p>\n\n<h2>Verdict</h2>\n\n<p>Although 3 is a technically superior solution, software development reasons make 2 the better choice. However, try-with-resource is still an inadequate fix and you should stick with the Execute Around idiom, which should have a clearer syntax with closures in Java SE 8.</p>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 12665271, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/12665271#12665271", "tags": ["java", "try-with-resources"]}, {"body": "<p>I just wanted to build on Jeanne Boyarsky's suggestion of not using ARM but making sure the FileWriter is always closed exactly once. Don't think there are any problems here...</p>\n\n<pre><code>FileWriter fw = null;\nBufferedWriter bw = null;\ntry {\n    fw = new FileWriter(file);\n    bw = new BufferedWriter(fw);\n    bw.write(text);\n} finally {\n    if (bw != null) bw.close();\n    else if (fw != null) fw.close();\n}\n</code></pre>\n\n<p>I guess since ARM is just syntactic sugar, we can't always use it to replace finally blocks. Just like we can't always use a for-each loop to do something that is possible with iterators.</p>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 12665318, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/12665318#12665318", "tags": ["java", "try-with-resources"]}, {"body": "<p>My solution is to do a \"extract method\" refactoring, as following:</p>\n\n<pre><code>static AutoCloseable writeFileWriter(FileWriter fw, String txt) throws IOException{\n    final BufferedWriter bw  = new BufferedWriter(fw);\n    bw.write(txt);\n    return new AutoCloseable(){\n\n        @Override\n        public void close() throws IOException {\n            bw.flush();\n        }\n\n    };\n}\n</code></pre>\n\n<p><code>printToFile</code> can be written either</p>\n\n<pre><code>static void printToFile(String text, File file) {\n    try (FileWriter fw = new FileWriter(file)) {\n        AutoCloseable w = writeFileWriter(fw, text);\n        w.close();\n    } catch (Exception ex) {\n        // handle ex\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>static void printToFile(String text, File file) {\n    try (FileWriter fw = new FileWriter(file);\n        AutoCloseable w = writeFileWriter(fw, text)){\n\n    } catch (Exception ex) {\n        // handle ex\n    }\n}\n</code></pre>\n\n<p>For class lib designers, I will suggest them extend the <code>AutoClosable</code> interface with an additional method to suppress the close. In this case we can then manually control the close behavior.</p>\n\n<p>For language designers, the lesson is that adding a new feature could mean adding a lot others. In this Java case, obviously ARM feature will work better with a resource ownership transfer mechanism. </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Originally the code above requires <code>@SuppressWarning</code> since the <code>BufferedWriter</code> inside the function requires <code>close()</code>.</p>\n\n<p>As suggested by a comment, if <code>flush()</code> to be called before close the writer, we need to do so before any <code>return</code> (implicit or explicit) statements inside the try block. There is currently no way to ensure the caller doing this I think, so this must be documented for <code>writeFileWriter</code>.</p>\n\n<p><strong>UPDATE AGAIN</strong></p>\n\n<p>The above update makes <code>@SuppressWarning</code> unnecessary since it require the function to return the resource to the caller, so itself does not necessary being closed. Unfortunately, this pull us back to the beginning of the situation: the warning is now moved back to the caller side.</p>\n\n<p>So to properly solve this, we need a customised <code>AutoClosable</code> that whenever it closes, the underline <code>BufferedWriter</code> shall be <code>flush()</code>ed. Actually, this shows us another way to bypass the warning, since the <code>BufferWriter</code> is never closed in either way.</p>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 16229988, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/16229988#16229988", "tags": ["java", "try-with-resources"]}, {"body": "<p>The first style is the one <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/try-with-resources.html\">suggested by Oracle</a>. <code>BufferedWriter</code> doesn't throw checked exceptions, so if any exception is thrown, the program is not expected to recover from it, making resource recover mostly moot.</p>\n\n<p>Mostly because it could happen in a thread, with the thread dieing but the program still continuing -- say, there was a temporary memory outage that wasn't long enough to seriously impair the rest of the program. It's a rather corner case, though, and if it happens often enough to make resource leak a problem, the try-with-resources is the least of your problems.</p>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 18496449, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/18496449#18496449", "tags": ["java", "try-with-resources"]}, {"body": "<p>To concur with earlier comments: simplest is <strong>(2)</strong> to use <code>Closeable</code> resources and declare them in order in the try-with-resources clause. If you only have AutoCloseable, you can wrap them in another (nested) class that just checks that <code>close</code> is only called once (Facade Pattern), e.g. by having <code>private bool isClosed;</code>. In practice even Oracle just <strong>(1)</strong> chains the constructors and doesn't correctly handle exceptions partway through the chain.</p>\n\n<p>Alternatively, you can manually create a chained resource, using a static factory method; this encapsulates the chain, and handle cleanup if it fails part-way:</p>\n\n<pre><code>static BufferedWriter createBufferedWriterFromFile(File file)\n  throws IOException {\n  // If constructor throws an exception, no resource acquired, so no release required.\n  FileWriter fileWriter = new FileWriter(file);\n  try {\n    return new BufferedWriter(fileWriter);  \n  } catch (IOException newBufferedWriterException) {\n    try {\n      fileWriter.close();\n    } catch (IOException closeException) {\n      // Exceptions in cleanup code are secondary to exceptions in primary code (body of try),\n      // as in try-with-resources.\n      newBufferedWriterException.addSuppressed(closeException);\n    }\n    throw newBufferedWriterException;\n  }\n}\n</code></pre>\n\n<p>The complexity comes from handling multiple exceptions; otherwise it's just \"close resources that you've acquired so far\". A common practice seems to be to first initialize the variable that holds the object that holds the resource to <code>null</code> (here <code>fileWriter</code>), and then include a null check in the cleanup, but that seems unnecessary: if the constructor fails, there's nothing to clean up, so we can just let that exception propagate, which simplifies the code a little.</p>\n\n<p>You could probably do this generically:</p>\n\n<pre><code>static &lt;T extends AutoCloseable, U extends AutoCloseable, V&gt;\n    T createChainedResource(V v) throws Exception {\n  // If constructor throws an exception, no resource acquired, so no release required.\n  U u = new U(v);\n  try {\n    return new T(u);  \n  } catch (Exception newTException) {\n    try {\n      u.close();\n    } catch (Exception closeException) {\n      // Exceptions in cleanup code are secondary to exceptions in primary code (body of try),\n      // as in try-with-resources.\n      newTException.addSuppressed(closeException);\n    }\n    throw newTException;\n  }\n}\n</code></pre>\n", "title": "Correct idiom for managing multiple chained resources in try-with-resources block?", "answer_id": 32302353, "link": "http://stackoverflow.com/questions/12552863/correct-idiom-for-managing-multiple-chained-resources-in-try-with-resources-bloc/32302353#32302353", "tags": ["java", "try-with-resources"]}], "question_id": 12552863}, {"body": "<p>I want to delete all files inside ABC directory.</p>\n\n<p>When I tried with <code>FileUtils.deleteDirectory(new File(\"C:/test/ABC/\"));</code> it also deletes folder ABC.</p>\n\n<p>Is there a one liner solution where I can delete files inside directory but not directory?</p>\n", "tags": ["java", "file-io", "apache-commons-io"], "title": "Delete all files in directory (but not directory) - one liner solution", "answer_count": 7, "creation_date": 1351861489, "score": 100, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution", "answers": [{"body": "<p>Do you mean like?</p>\n\n<pre><code>for(File file: dir.listFiles()) \n    if (!file.isDirectory()) \n        file.delete();\n</code></pre>\n\n<p>This will only delete files, not directories.</p>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 13195870, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/13195870#13195870", "tags": ["java", "file-io", "apache-commons-io"]}, {"body": "<pre><code>FileUtils.cleanDirectory(directory); \n</code></pre>\n\n<p>There is this method available in the same file. This will also recursively deletes all sub-folders and files under them.</p>\n\n<p>Docs: <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#cleanDirectory%28java.io.File%29\"><code>org.apache.commons.io.FileUtils.cleanDirectory</code></a></p>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 13195890, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/13195890#13195890", "tags": ["java", "file-io", "apache-commons-io"]}, {"body": "<p>Peter Lawrey's answer is great because it is simple and not depending on anything special, and it's the way you should do it. If you need something that removes subdirectories and their contents as well, use recursion:</p>\n\n<pre><code>void purgeDirectory(File dir) {\n    for (File file: dir.listFiles()) {\n        if (file.isDirectory()) purgeDirectory(file);\n        file.delete();\n    }\n}\n</code></pre>\n\n<p>To spare subdirectories and their contents (part of your question), modify as follows:</p>\n\n<pre><code>void purgeDirectoryButKeepSubDirectories(File dir) {\n    for (File file: dir.listFiles()) {\n        if (!file.isDirectory()) file.delete();\n    }\n}\n</code></pre>\n\n<p>Or, since you wanted a one-line solution:</p>\n\n<pre><code>    for (File file: dir.listFiles()) if (!file.isDirectory()) file.delete();\n</code></pre>\n\n<p>Using an external library for such a trivial task is not a good idea unless you need this library for something else anyway, in which case it is preferrable to use existing code. You appear to be using the Apache library anyway so use its <code>FileUtils.cleanDirectory()</code> method.</p>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 20043507, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/20043507#20043507", "tags": ["java", "file-io", "apache-commons-io"]}, {"body": "<pre><code>package com;\nimport java.io.File;\npublic class Delete {\n    public static void main(String[] args) {\n\n        String files; \n        File file = new File(\"D:\\\\del\\\\yc\\\\gh\");\n        File[] listOfFiles = file.listFiles(); \n        for (int i = 0; i &lt; listOfFiles.length; i++) \n        {\n            if (listOfFiles[i].isFile()) \n            {\n                files = listOfFiles[i].getName();\n                System.out.println(files);\n                if(!files.equalsIgnoreCase(\"Scan.pdf\"))\n                {\n                    boolean issuccess=new File(listOfFiles[i].toString()).delete();\n                    System.err.println(\"Deletion Success \"+issuccess);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you want to delete all files remove </p>\n\n<pre><code>if(!files.equalsIgnoreCase(\"Scan.pdf\"))\n</code></pre>\n\n<p>statement it will work.</p>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 21340066, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/21340066#21340066", "tags": ["java", "file-io", "apache-commons-io"]}, {"body": "<p>Or to use this in Java 8:</p>\n\n<pre><code>try {\n  Files.newDirectoryStream( directory ).forEach( file -&gt; {\n    try { Files.delete( file ); }\n    catch ( IOException e ) { throw new UncheckedIOException(e); }\n  } );\n}\ncatch ( IOException e ) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>It's a pity the exception handling is so bulky, otherwise it would be a one-liner ...</p>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 23817456, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/23817456#23817456", "tags": ["java", "file-io", "apache-commons-io"]}, {"body": "<pre><code>public class DeleteFile {\n    public static void main(String[] args) {\n        String path=\"D:\\test\"; \n        File file = new File(path);\n        File[] files = file.listFiles(); \n        for (File f:files) \n        {if (f.isFile() &amp;&amp; f.exists) \n            { f.delete();\nsystem.out.println(\"successfully deleted\");\n            }else{\nsystem.out.println(\"cant delete a file due to open or error\");\n} }  }}\n</code></pre>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 24206457, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/24206457#24206457", "tags": ["java", "file-io", "apache-commons-io"]}, {"body": "<p>For deleting all files from directory say \"C:\\Example\"</p>\n\n<pre><code>File file = new File(\"C:\\\\Example\");      \n   String[] myFiles;    \n       if(file.isDirectory()){\n           myFiles = file.list();\n           for (int i=0; i&lt;myFiles.length; i++) {\n               File myFile = new File(file, myFiles[i]); \n               myFile.delete();\n           }\n        }\n</code></pre>\n", "title": "Delete all files in directory (but not directory) - one liner solution", "answer_id": 34448620, "link": "http://stackoverflow.com/questions/13195797/delete-all-files-in-directory-but-not-directory-one-liner-solution/34448620#34448620", "tags": ["java", "file-io", "apache-commons-io"]}], "question_id": 13195797}, {"body": "<p>How to convert or cast hashmap to JSON object in Java, and again convert JSON object to JSON string?</p>\n", "tags": ["java", "json"], "title": "How to convert hashmap to JSON object in Java", "answer_count": 14, "creation_date": 1346143999, "score": 100, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java", "answers": [{"body": "<p>This is typically the work of a Json library, you should not try to do it yourself, see <a href=\"http://stackoverflow.com/questions/338586/a-better-java-json-library\">A better Java JSON library?</a> for examples of Json libraries, they shall all do what you are asking for (in particular <a href=\"http://www.json.org/java/\" rel=\"nofollow\">json.org</a>).</p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 12155854, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/12155854#12155854", "tags": ["java", "json"]}, {"body": "<p>You can use:</p>\n\n<pre><code>new JSONObject(map);\n</code></pre>\n\n<p><strong>Caution:</strong> This will only work for a <code>Map&lt;String, String&gt;!</code></p>\n\n<p>Other functions you can get from its documentation<br>\n<a href=\"http://stleary.github.io/JSON-java/index.html\">http://stleary.github.io/JSON-java/index.html</a></p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 12155874, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/12155874#12155874", "tags": ["java", "json"]}, {"body": "<p>Example using json </p>\n\n<pre><code>Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n    data.put( \"name\", \"Mars\" );\n    data.put( \"age\", 32 );\n    data.put( \"city\", \"NY\" );\n    JSONObject json = new JSONObject();\n    json.putAll( data );\n    System.out.printf( \"JSON: %s\", json.toString(2) );\n</code></pre>\n\n<p>output::</p>\n\n<pre><code>JSON: {\n  \"age\": 32,\n  \"name\": \"Mars\",\n  \"city\": \"NY\"\n}\n</code></pre>\n\n<p>You can also try to use Google's GSON.Google's GSON is the best library available to convert Java Objects into their JSON representation.</p>\n\n<p><a href=\"http://code.google.com/p/google-gson/\">http://code.google.com/p/google-gson/</a></p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 12155926, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/12155926#12155926", "tags": ["java", "json"]}, {"body": "<p>You can use XStream - it is really handy. See the examples <a href=\"http://xstream.codehaus.org/json-tutorial.html\" rel=\"nofollow\">here</a></p>\n\n<pre><code>package com.thoughtworks.xstream.json.test;\n\nimport com.thoughtworks.xstream.XStream;\nimport com.thoughtworks.xstream.io.json.JettisonMappedXmlDriver;\n\npublic class WriteTest {\n\n    public static void main(String[] args) {\n\n      HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n      map.add(\"1\", \"a\");\n      map.add(\"2\", \"b\");\n      XStream xstream = new XStream(new JettisonMappedXmlDriver());\n\n      System.out.println(xstream.toXML(map));       \n\n    }\n\n}\n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 12155969, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/12155969#12155969", "tags": ["java", "json"]}, {"body": "<p><a href=\"https://code.google.com/p/google-gson/\">Gson</a> can also be used to serialize arbitrarily complex objects. </p>\n\n<p>Here is how you use it: </p>\n\n<pre><code>Gson gson = new Gson(); \nString json = gson.toJson(myObject); \n</code></pre>\n\n<p><code>Gson</code> will automatically convert collections to <code>JSON</code> arrays. Gson can serialize private fields and automatically ignores transient fields.</p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 12156646, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/12156646#12156646", "tags": ["java", "json"]}, {"body": "<p>Late to the party but here is my <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow\">GSON</a> adhoc writer for serializing hashmap. I had to write map of key-value pairs as json string attributes, expect one specific to be integer type. I did not want to create custom JavaBean wrapper for this simple usecase. </p>\n\n<p>GSON JsonWriter class is easy to use serializer class containing few strongly typed writer.value() functions.</p>\n\n<pre><code>// write Map as JSON document to http servlet response\nMap&lt;String,String&gt; sd = DAO.getSD(123);\nres.setContentType(\"application/json; charset=UTF-8\");\nres.setCharacterEncoding(\"UTF-8\");\nJsonWriter writer = new JsonWriter(new OutputStreamWriter(res.getOutputStream(), \"UTF-8\"));\nwriter.beginObject();\nfor(String key : sd.keySet()) {\n    String val = sd.get(key);\n    writer.name(key);\n    if (key.equals(\"UniqueID\") &amp;&amp; val!=null)\n        writer.value(Long.parseLong(val));\n    else\n        writer.value(val);\n}\nwriter.endObject();\nwriter.close();\n</code></pre>\n\n<p>If none of the custom types be needed I could have just use toJson() function. gson-2.2.4.jar library is just under 190KB without any brutal dependencies. Easy to use on any custom servlet app or standalone application without big framework integrations.</p>\n\n<pre><code>Gson gson = new Gson(); \nString json = gson.toJson(myMap); \n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 18444414, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/18444414#18444414", "tags": ["java", "json"]}, {"body": "<p>If you are using <code>net.sf.json.JSONObject</code> then you won't find a <code>JSONObject(map)</code> constructor in it. You have to use the <code>public static JSONObject fromObject( Object object )</code> method. This method accepts JSON formatted strings, Maps, DynaBeans and JavaBeans.</p>\n\n<p><code>JSONObject jsonObject = JSONObject.fromObject(myMap);</code></p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 26039868, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/26039868#26039868", "tags": ["java", "json"]}, {"body": "<p><a href=\"https://github.com/javadev/underscore-java/tree/master/lodash-plugin\" rel=\"nofollow\">Underscore-lodash</a> library can convert hash map or array list to json and vice verse.</p>\n\n<p>Code example:</p>\n\n<pre><code>import com.github.underscore.lodash.$;\nimport java.util.*;\n\npublic class WriteTest {\n\n    @SuppressWarnings(\"unchecked\")\n    public static void main(String[] args) {\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        map.put(\"1\", \"a\");\n        map.put(\"2\", \"b\");\n\n        System.out.println($.toJson(map));\n        // {\n        //    \"1\": \"a\",\n        //    \"2\": \"b\"\n        // }\n    }\n\n}\n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 33703537, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/33703537#33703537", "tags": ["java", "json"]}, {"body": "<p>If you need use it in the code.</p>\n\n<pre><code>Gson gsone = new Gson();\nJsonObject res = gsone.toJsonTree(sqlParams).getAsJsonObject();\n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 34229596, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/34229596#34229596", "tags": ["java", "json"]}, {"body": "<p>In my case I didn't want any dependancies. Using Java 8 you can get JSON as a string this simple:</p>\n\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(\"key\", \"value\");\nmap.put(\"key2\", \"value2\");\nString json = \"{\"+map.entrySet().stream()\n    .map(e -&gt; \"\\\"\"+ e.getKey() + \"\\\"\" + \":\\\"\" + String.valueOf(e.getValue()) + \"\\\"\")\n    .collect(Collectors.joining(\", \"))+\"}\";\n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 36934134, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/36934134#36934134", "tags": ["java", "json"]}, {"body": "<p>I faced a similar problem when deserializing the Response from custom commands in selenium. The response was json, but selenium internally translates that into a java.util.HashMap[String, Object]</p>\n\n<p>If you are familiar with scala and use the play-API for JSON, you might benefit from this:</p>\n\n<pre><code>import play.api.libs.json.{JsValue, Json}\nimport scala.collection.JavaConversions.mapAsScalaMap\n\n\nobject JsonParser {\n\n  def parse(map: Map[String, Any]): JsValue = {\n    val values = for((key, value) &lt;- map) yield {\n      value match {\n        case m: java.util.Map[String, _] @unchecked =&gt; Json.obj(key -&gt; parse(m.toMap))\n        case m: Map[String, _] @unchecked =&gt; Json.obj(key -&gt; parse(m))\n        case int: Int =&gt; Json.obj(key -&gt; int)\n        case str: String =&gt; Json.obj(key -&gt; str)\n        case bool: Boolean =&gt; Json.obj(key -&gt; bool)\n      }\n    }\n\n    values.foldLeft(Json.obj())((temp, obj) =&gt; {\n      temp.deepMerge(obj)\n    })\n  }\n}\n</code></pre>\n\n<p>Small code description:</p>\n\n<p>The code recursively traverses through the HashMap until basic types (String, Integer, Boolean) are found. These basic types can be directly wrapped into a JsObject. When the recursion is unfolded, the deepmerge concatenates the created objects.</p>\n\n<p>'@unchecked' takes care of type erasure warnings.</p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 37817244, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/37817244#37817244", "tags": ["java", "json"]}, {"body": "<p>You can use <a href=\"https://github.com/google/gson\" rel=\"nofollow\">Gson</a>.\nThis library provides simple methods to convert Java objects to JSON objects and vice-versa. </p>\n\n<p>Example:</p>\n\n<pre><code>GsonBuilder gb = new GsonBuilder();\nGson gson = gb.serializeNulls().create();\ngson.toJson(object);\n</code></pre>\n\n<p>You can use a GsonBuilder when you need to set configuration options other than the default. In the above example, the conversion process will also serialize null attributes from object.</p>\n\n<p>However, this approach only works for non-generic types. For generic types you need to use toJson(object, Type).</p>\n\n<p>More information about Gson <a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"nofollow\">here</a>.</p>\n\n<p>Remember that the object must implement the <strong>Serializable</strong> interface.</p>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 39088981, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/39088981#39088981", "tags": ["java", "json"]}, {"body": "<p>If you use complex objects, you should apply <strong>enableComplexMapKeySerialization()</strong>, as stated in <a href=\"http://stackoverflow.com/a/24635655/2914140\">http://stackoverflow.com/a/24635655/2914140</a> and <a href=\"http://stackoverflow.com/a/26374888/2914140\">http://stackoverflow.com/a/26374888/2914140</a>.</p>\n\n<pre><code>Gson gson = new GsonBuilder().enableComplexMapKeySerialization().create();\nMap&lt;Point, String&gt; original = new LinkedHashMap&lt;Point, String&gt;();\noriginal.put(new Point(5, 6), \"a\");\noriginal.put(new Point(8, 8), \"b\");\nSystem.out.println(gson.toJson(original));\n</code></pre>\n\n<p>Output will be:</p>\n\n<pre><code>{\n \"(5,6)\": \"a\",\n \"(8,8)\": \"b\"\n}\n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 39227242, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/39227242#39227242", "tags": ["java", "json"]}, {"body": "<p>You can just enumerate the map and add the key-value pairs to the JSONObject</p>\n\n<p>Method : </p>\n\n<pre><code>private JSONObject getJsonFromMap(Map&lt;String, Object&gt; map) throws JSONException {\n    JSONObject jsonData = new JSONObject();\n    for (String key : map.keySet()) {\n        Object value = map.get(key);\n        if (value instanceof Map&lt;?, ?&gt;) {\n            value = getJsonFromMap((Map&lt;String, Object&gt;) value);\n        }\n        jsonData.put(key, value);\n    }\n    return jsonData;\n}\n</code></pre>\n", "title": "How to convert hashmap to JSON object in Java", "answer_id": 39246682, "link": "http://stackoverflow.com/questions/12155800/how-to-convert-hashmap-to-json-object-in-java/39246682#39246682", "tags": ["java", "json"]}], "question_id": 12155800}, {"body": "<p>What is the difference between <code>@RequestParam</code> and <code>@PathVariable</code> while handling special characters? <code>+</code> was accepted by <code>@RequestParam</code> as space. In case of <code>@PathVariable</code>, <code>+</code> was accepted as <code>+</code>.</p>\n", "tags": ["java", "spring", "spring-mvc"], "title": "@RequestParam vs @PathVariable", "answer_count": 2, "creation_date": 1354677903, "score": 99, "link": "http://stackoverflow.com/questions/13715811/requestparam-vs-pathvariable", "answers": [{"body": "<ul>\n<li><code>@PathVariable</code> is to obtain some placeholder from the uri (Spring call it an URI Template)\n\u2014 see <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#mvc-ann-requestmapping-uri-templates\">Spring Reference Chapter 16.3.2.2 URI Template Patterns</a></li>\n<li><code>@RequestParam</code> is to obtain an parameter \u2014 see <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#mvc-ann-requestparam\">Spring Reference Chapter 16.3.3.3 Binding request parameters to method parameters with @RequestParam</a></li>\n</ul>\n\n<p>If URL <code>http://localhost:8080/MyApp/user/1234/invoices?date=12-05-2013</code> gets the invoices for user 1234 on December 5th, 2013, the controller method would look like:</p>\n\n<pre><code>@RequestMapping(value=\"/user/{userId}/invoices\", method = RequestMethod.GET)\npublic List&lt;Invoice&gt; listUsersInvoices(\n            @PathVariable(\"userId\") int user,\n            @RequestParam(value = \"date\", required = false) Date dateOrNull) {\n  ...\n}\n</code></pre>\n\n<p>Also, request parameters can be optional, but path variables cannot--if they were, it would change the URL path hierarchy and introduce request mapping conflicts. For example, would <code>/user/invoices</code> provide the invoices for user <code>null</code> or details about a user with ID \"invoices\"?</p>\n", "title": "@RequestParam vs @PathVariable", "answer_id": 13718502, "link": "http://stackoverflow.com/questions/13715811/requestparam-vs-pathvariable/13718502#13718502", "tags": ["java", "spring", "spring-mvc"]}, {"body": "<p>it may be that the application/x-www-form-urlencoded midia type convert space to <strong>+</strong>, and the reciever will decode the data by converting the <strong>+</strong> to space.check the url for more info.<a href=\"http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1\" rel=\"nofollow\">http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1</a></p>\n", "title": "@RequestParam vs @PathVariable", "answer_id": 26051012, "link": "http://stackoverflow.com/questions/13715811/requestparam-vs-pathvariable/26051012#26051012", "tags": ["java", "spring", "spring-mvc"]}], "question_id": 13715811}, {"body": "<p>I have a user object that is sent to and from the server.  When I send out the user object I don't want to send the hashed password to the client.  So I added <code>@JsonIgnore</code> on the password property, but this also blocks it from being deserialized into the password which makes it hard to sign up users when they ain't got a password.</p>\n\n<p>How can I only get <code>@JsonIgnore</code> to apply to serialization and not deserialization?  I'm using Spring JSONView so I don't have a ton of control over the <code>ObjectMapper</code>.</p>\n\n<p>Things I've tried:</p>\n\n<ol>\n<li>Add <code>@JsonIgnore</code> to the property</li>\n<li>Add <code>@JsonIgnore</code> on the getter method only</li>\n</ol>\n", "tags": ["java", "spring", "annotations", "jackson"], "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_count": 7, "creation_date": 1348105774, "score": 98, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization", "answers": [{"body": "<p>Exactly how to do this depends on the version of Jackson that you're using. This changed around version <em>1.9</em>, before that, you could do this by adding <code>@JsonIgnore</code> to the getter.</p>\n\n<p>Which you've tried:</p>\n\n<blockquote>\n  <p>Add @JsonIgnore on the getter method only</p>\n</blockquote>\n\n<p>Do this, <em>and also</em> add a specific <code>@JsonProperty</code> annotation for your JSON \"password\" field name to the setter method for the password on your object.</p>\n\n<p>More recent versions of Jackson have added <code>READ_ONLY</code> and <code>WRITE_ONLY</code> annotation arguments for <code>JsonProperty</code>. So you could also do something like:</p>\n\n<pre><code>@JsonProperty(access = Access.WRITE_ONLY)\nprivate String password;\n</code></pre>\n\n<p>Docs can be found <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.Access.html\">here</a>.</p>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 12505165, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/12505165#12505165", "tags": ["java", "spring", "annotations", "jackson"]}, {"body": "<p>In order to accomplish this, all that we need is two annotations :</p>\n\n<ol>\n<li><code>@JsonIgnore</code></li>\n<li><code>@JsonProperty</code></li>\n</ol>\n\n<p>Use <code>@JsonIgnore</code> on class member and its getter.\nUse <code>@JsonProperty</code> on its setter.</p>\n\n<p>A sample illustration would help to do this :</p>\n\n<pre><code>class User{\n\n// More fields here\n @JsonIgnore\n private String password;\n\n @JsonIgnore\n public String getPassword() {\n    return password;\n }\n\n @JsonProperty\n public void setPassword(String password) {\n    this.password = password;\n }\n}\n</code></pre>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 27386343, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/27386343#27386343", "tags": ["java", "spring", "annotations", "jackson"]}, {"body": "<p>In my case I have Jackson automatically serializing/deserializing objects that I return from a Spring MVC controller (I am using @RestController with Spring 4.1.6). I had to use <code>com.fasterxml.jackson.annotation.JsonIgnore</code> instead of <code>org.codehaus.jackson.annotate.JsonIgnore</code>, otherwise it simply did nothing.</p>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 30984303, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/30984303#30984303", "tags": ["java", "spring", "annotations", "jackson"]}, {"body": "<p>Since version 2.6: a more intuitive way is to use the <code>com.fasterxml.jackson.annotation.JsonProperty</code> annotation on the field:</p>\n\n<pre><code>@JsonProperty(access = Access.WRITE_ONLY)\nprivate String myField;\n</code></pre>\n\n<p>Even if a getter exists, the field value is excluded from serialization.</p>\n\n<p>JavaDoc says:</p>\n\n<pre><code>/**\n * Access setting that means that the property may only be written (set)\n * for deserialization,\n * but will not be read (get) on serialization, that is, the value of the property\n * is not included in serialization.\n */\nWRITE_ONLY\n</code></pre>\n\n<p>In case you need it the other way around, just use <code>Access.READ_ONLY</code>.</p>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 34158302, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/34158302#34158302", "tags": ["java", "spring", "annotations", "jackson"]}, {"body": "<p>For future reference, <code>@JsonSetter</code> also works (and is actually more 'understandable').</p>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 34183063, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/34183063#34183063", "tags": ["java", "spring", "annotations", "jackson"]}, {"body": "<pre><code>\"user\": {\n        \"firstName\": \"Musa\",\n        \"lastName\": \"Aliyev\",\n        \"email\": \"klaudi2012@gmail.com\",\n        \"passwordIn\": \"98989898\", (or encoded version in front if we not using https)\n        \"country\": \"Azeribaijan\",\n        \"phone\": \"+994707702747\"\n    }\n</code></pre>\n\n<blockquote>\n  <hr>\n</blockquote>\n\n<pre><code>@CrossOrigin(methods=RequestMethod.POST)\n@RequestMapping(\"/public/register\")\npublic @ResponseBody MsgKit registerNewUsert(@RequestBody User u){\n\n        root.registerUser(u);\n\n    return new MsgKit(\"registered\");\n}  \n</code></pre>\n\n<blockquote>\n  <hr>\n</blockquote>\n\n<pre><code>@Service\n@Transactional\npublic class RootBsn {\n\n    @Autowired UserRepository userRepo;\n\n    public void registerUser(User u) throws Exception{\n\n        u.setPassword(u.getPasswordIn());\n        //Generate some salt and  setPassword (encoded -  salt+password)\n        User u=userRepo.save(u);\n\n        System.out.println(\"Registration information saved\");\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <hr>\n</blockquote>\n\n<pre><code>    @Entity        \n@JsonIgnoreProperties({\"recordDate\",\"modificationDate\",\"status\",\"createdBy\",\"modifiedBy\",\"salt\",\"password\"})\n                    public class User implements Serializable {\n                        private static final long serialVersionUID = 1L;\n\n                        @Id\n                        @GeneratedValue(strategy=GenerationType.AUTO)\n                        private Long id;\n\n                        private String country;\n\n                        @Column(name=\"CREATED_BY\")\n                        private String createdBy;\n\n                        private String email;\n\n                        @Column(name=\"FIRST_NAME\")\n                        private String firstName;\n\n                        @Column(name=\"LAST_LOGIN_DATE\")\n                        private Timestamp lastLoginDate;\n\n                        @Column(name=\"LAST_NAME\")\n                        private String lastName;\n\n                        @Column(name=\"MODIFICATION_DATE\")\n                        private Timestamp modificationDate;\n\n                        @Column(name=\"MODIFIED_BY\")\n                        private String modifiedBy;\n\n                        private String password;\n\n                        @Transient\n                        private String passwordIn;\n\n                        private String phone;\n\n                        @Column(name=\"RECORD_DATE\")\n                        private Timestamp recordDate;\n\n                        private String salt;\n\n                        private String status;\n\n                        @Column(name=\"USER_STATUS\")\n                        private String userStatus;\n\n                        public User() {\n                        }\n                // getters and setters\n                }\n</code></pre>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 36965995, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/36965995#36965995", "tags": ["java", "spring", "annotations", "jackson"]}, {"body": "<pre><code>@JsonProperty(access = Access.WRITE_ONLY)\nprivate String password;\n</code></pre>\n", "title": "Only using @JsonIgnore during serialization, but not deserialization", "answer_id": 38898629, "link": "http://stackoverflow.com/questions/12505141/only-using-jsonignore-during-serialization-but-not-deserialization/38898629#38898629", "tags": ["java", "spring", "annotations", "jackson"]}], "question_id": 12505141}, {"body": "<p>I am looking for the easiest and simplest way to bind and convert data in Spring MVC. If possible, without doing any xml configuration. </p>\n\n<p>So far I've been using <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#beans-beans-conversion-customeditor-registration\">PropertyEditors</a> like so :</p>\n\n<pre><code>public class CategoryEditor extends PropertyEditorSupport {\n\n    // Converts a String to a Category (when submitting form)\n    @Override\n    public void setAsText(String text) {\n        Category c = new Category(text);\n        this.setValue(c);\n    }\n\n    // Converts a Category to a String (when displaying form)\n    @Override\n    public String getAsText() {\n        Category c = (Category) this.getValue();\n        return c.getName();\n    }\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>...\npublic class MyController {\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(Category.class, new CategoryEditor());\n    }\n\n    ...\n\n}\n</code></pre>\n\n<p>It is simple : both conversion are defined in the same class, and the binding is straightforward. If I wanted to do a general binding across all my controllers, I could still add <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-webdatabinder\">3 lines in my xml config</a>.</p>\n\n<hr>\n\n<p>But Spring 3.x introduced a new way to do it, using <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#core-convert\">Converters</a> :</p>\n\n<blockquote>\n  <p>Within a Spring container, this system can be used as an alternative\n  to PropertyEditors</p>\n</blockquote>\n\n<p>So let's say I want to use Converters because it is \"the latest alternative\". I would have to create <strong>two</strong> converters :</p>\n\n<pre><code>public class StringToCategory implements Converter&lt;String, Category&gt; {\n\n    @Override\n    public Category convert(String source) {\n        Category c = new Category(source);\n        return c;\n    }\n\n}\n\npublic class CategoryToString implements Converter&lt;Category, String&gt; {\n\n    @Override\n    public String convert(Category source) {\n        return source.getName();\n    }\n\n}\n</code></pre>\n\n<p><strong>First drawback :</strong> I have to make two classes. Benefit : no need to cast thanks to genericity.</p>\n\n<p>Then, how do I simply data bind the converters ?  </p>\n\n<p><strong>Second drawback :</strong> I haven't found any simple way (annotations or other programmatic facilities) to do it in a controller : nothing like <code>someSpringObject.registerCustomConverter(...);</code>.</p>\n\n<p>The only ways I've found would be tedious, not simple, and only about general cross-controller binding :</p>\n\n<ul>\n<li><p><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#core-convert-Spring-config\">XML config</a> :</p>\n\n<pre><code>&lt;bean id=\"conversionService\"\n  class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;set&gt;\n            &lt;bean class=\"somepackage.StringToCategory\"/&gt;\n            &lt;bean class=\"somepackage.CategoryToString\"/&gt;\n        &lt;/set&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre></li>\n<li><p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-config-customize\">Java config</a> (<strong>only in Spring 3.1+</strong>) :</p>\n\n<pre><code>@EnableWebMvc\n@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    protected void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new StringToCategory());\n        registry.addConverter(new CategoryToString());\n    }\n\n}\n</code></pre></li>\n</ul>\n\n<p>With all these drawbacks, why using Converters ? Am I missing something ? Are there other tricks that I am not aware of ?</p>\n\n<p>I am tempted to go on using PropertyEditors... Binding is much easier and quicker.</p>\n", "tags": ["java", "spring", "data-binding", "spring-mvc", "type-conversion"], "title": "Spring MVC type conversion : PropertyEditor or Converter?", "answer_count": 3, "creation_date": 1348323062, "score": 98, "link": "http://stackoverflow.com/questions/12544479/spring-mvc-type-conversion-propertyeditor-or-converter", "answers": [{"body": "<p>The simplest (assuming that you are using a persistence framework), but not the perfect way is to implement a generic entity converter via <code>ConditionalGenericConverter</code> interface that will convert entities using their metadata.</p>\n\n<p>For example, if you are using JPA, this converter may look if the specified class has <code>@Entity</code> annotation, and use <code>@Id</code> annotated field to extract information and perform the lookup automatically using the supplied String value as an Id for lookup.</p>\n\n<pre><code>public interface ConditionalGenericConverter extends GenericConverter {\n    boolean matches(TypeDescriptor sourceType, TypeDescriptor targetType);\n}\n</code></pre>\n\n<p><code>ConditionalGenericConverter</code> is an \"ultimate weapon\" of Spring convertion API, but being implemented once it will be able to process most of entity convertions, saving developer time - it's a great relief when you just specify entity classes as parameters of your controller and never think about implementing a new converter(except for custom and non-entity types, of course).</p>\n", "title": "Spring MVC type conversion : PropertyEditor or Converter?", "answer_id": 12544999, "link": "http://stackoverflow.com/questions/12544479/spring-mvc-type-conversion-propertyeditor-or-converter/12544999#12544999", "tags": ["java", "spring", "data-binding", "spring-mvc", "type-conversion"]}, {"body": "<blockquote>\n  <p>With all these drawbacks, why using Converters ? Am I missing\n  something ? Are there other tricks that I am not aware of ?</p>\n</blockquote>\n\n<p>No, I think you have very comprehensively described both PropertyEditor and Converter, how each one is declared and registered. </p>\n\n<p>In my mind, PropertyEditors are limited in scope - they help convert String to a type, and this string typically comes from UI, and so registering a PropertyEditor using @InitBinder and using WebDataBinder makes sense. </p>\n\n<p>Converter on the other hand is more generic, it is intended for ANY conversion in the system - not just for UI related conversions(String to target type). For eg, Spring Integration uses a converter extensively for converting a message payload to a desired type.</p>\n\n<p>I think for UI related flows PropertyEditors are still appropriate especially for the case where you need to do something custom for a specific command property. For other cases, I would take the recommendation from Spring reference and write a converter instead(for eg, to convert from a Long id to an entity say, as a sample).</p>\n", "title": "Spring MVC type conversion : PropertyEditor or Converter?", "answer_id": 12547443, "link": "http://stackoverflow.com/questions/12544479/spring-mvc-type-conversion-propertyeditor-or-converter/12547443#12547443", "tags": ["java", "spring", "data-binding", "spring-mvc", "type-conversion"]}, {"body": "<ol>\n<li>For to/from String conversions use formatters (implement <strong><em>org.springframework.format.Formatter</em></strong>) instead of converters. It has <strong><em>print(...)</em></strong> and <strong><em>parse(...)</em></strong> methods, so you need only one class instead of two.\nTo register them, use <strong><em>FormattingConversionServiceFactoryBean</em></strong>, which can register both converters and formatters, instead of <em>ConversionServiceFactoryBean</em>.</li>\n<li>The new Formatter stuff has a couple of additional benefits: \n<ul>\n<li>Formatter interface supplies the Locale object in its <em>print(...)</em> and <em>parse(...)</em> methods, so your string conversion can be locale-sensitive</li>\n<li>In addition to the pre-registered formatters, <em>FormattingConversionServiceFactoryBean</em> comes with a couple of handy preregistered <strong><em>AnnotationFormatterFactory</em></strong> objects, that allow you to specify additional formatting parameters via annotation. \nFor example:\n<em>@RequestParam <strong></em>@DateTimeFormat(pattern=\"MM-dd-yy\")<em></strong> LocalDate baseDate ...</em>\nIt's not very difficult to create your own <em>AnnotationFormatterFactory</em> classes, see Spring's <strong><em>NumberFormatAnnotationFormatterFactory</em></strong> for a simple example.\nI think this eliminates the need in controller-specific formatters/editors. Use one <em>ConversionService</em> for all controllers and customize the formatting via annotations.</li>\n</ul></li>\n<li>I agree that if you still needs some controller-specific string conversion, the simplest way is still to use custom property editor. (I tried to call '<em>binder.setConversionService(...)</em>' in my <em>@InitBinder</em> method, but it fails, since the binder object comes with the 'global' conversion service already set. Seems like per-controller conversion classes are discouraged in Spring 3).</li>\n</ol>\n", "title": "Spring MVC type conversion : PropertyEditor or Converter?", "answer_id": 22982442, "link": "http://stackoverflow.com/questions/12544479/spring-mvc-type-conversion-propertyeditor-or-converter/22982442#22982442", "tags": ["java", "spring", "data-binding", "spring-mvc", "type-conversion"]}], "question_id": 12544479}, {"body": "<pre><code>org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.5\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:129)\n    at org.eclipse.m2e.core.internal.project.registry.EclipsePluginDependenciesResolver.resolve(EclipsePluginDependenciesResolver.java:48)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getPluginDescriptor(DefaultMavenPluginManager.java:142)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getMojoDescriptor(DefaultMavenPluginManager.java:261)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.getMojoDescriptor(DefaultBuildPluginManager.java:185)\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleExecutionPlanCalculator.setupMojoExecution(DefaultLifecycleExecutionPlanCalculator.java:152)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.setupMojoExecution(MavenImpl.java:386)\n    at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.setupMojoExecution(ProjectRegistryManager.java:865)\n    at org.eclipse.m2e.core.internal.project.registry.MavenProjectFacade.getMojoExecution(MavenProjectFacade.java:355)\n    at org.eclipse.m2e.core.project.configurator.AbstractCustomizableLifecycleMapping.getBuildParticipants(AbstractCustomizableLifecycleMapping.java:66)\n    at org.eclipse.m2e.core.project.configurator.AbstractLifecycleMapping.configure(AbstractLifecycleMapping.java:87)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:414)\n    at org.eclipse.m2e.core.internal.project.ProjectConfigurationManager.updateProjectConfiguration(ProjectConfigurationManager.java:351)\n    at org.eclipse.m2e.core.ui.internal.UpdateMavenProjectJob.runInWorkspace(UpdateMavenProjectJob.java:74)\n    at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)\nCaused by: org.sonatype.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.5\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:296)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:186)\n    at org.sonatype.aether.impl.internal.DefaultRepositorySystem.readArtifactDescriptor(DefaultRepositorySystem.java:279)\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:115)\n</code></pre>\n\n<p>I have read where many people were able to solve this by:</p>\n\n<ul>\n<li><p>Deleting the folder from the local repository and letting it re-download it (this did <strong>not</strong> work)</p></li>\n<li><p>By configuring eclipse to target your maven installation instead of the embedded one as described here (this did <strong>not</strong> work)</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7378279/could-not-calculate-build-plan-artifact-org-apache-maven-pluginsmaven-resource\">Could not calculate build plan :artifact org.apache.maven.plugins:maven-resources-plugin:pom:2.4.3 is not available in the local repository</a></p></li>\n</ul>\n\n<p><strong>I am new to Maven</strong> so please excuse any of my ignorance</p>\n\n<p>This project is working on another machine, and just pulled it down from the repository on this one, with the same version of eclipse and m2e plugin installed. I have been fooling with this for over 10 hours now and it is driving me nuts (Maven has been nothing but headaches for me so far...) Any help is tremendously appreciated! Thanks in advance!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After looking closer I did notice that it is not downloading the .jar files into the local repository... I am not sure if that is something obvious...</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I am not given the option to add Maven Dependencies to the build path.</p>\n", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"], "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_count": 21, "creation_date": 1348242612, "score": 97, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources", "answers": [{"body": "<p>Couple of things to try: </p>\n\n<ol>\n<li>Doublecheck the location of the local artifact repo configured in your <code>settings.xml</code> file (at the following location <code>{your home folder}/.m2/settings.xml</code>). Are you sure the local repo is where you think it is?  (Yes, a mistake I've made in the past...)</li>\n<li>Remove entire contents of artifact repo on the new build machine (or at least anything related to Maven).  You mentioned doing some artifact repo cleanup but I'm not sure what directory(ies) you removed.  I've run into weird issues like these when a jar was corrupted.</li>\n<li>Make sure you have enough disk space/quota for the local artifact repo.  I have run into weird issues when I didn't have a large enough quota to hold all the artifacts, likely caused by partially downloaded jar files.</li>\n<li>Try running with plain Maven on the command line; take Eclipse and m2e out of the equation.  <code>mvn -U dependency:resolve</code> should do it.  The -U forces Maven to download no matter what your repository update policies are.  Add <code>-X</code> to get detailed debug logging.</li>\n<li>Copy settings.xml from MAVEN_HOME\\conf\\ to USER_HOME.m2. Add proxies (if needed) in case you are behind a proxy server.</li>\n</ol>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 12604177, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/12604177#12604177", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>I had the exact same problem and since I read somewhere that the error was caused by a cached file, I fixed it by deleting all the files under de .m2 repository folder. \nThe next time I built the project I had to download all the dependencies again but it was worth it - 0 errors!!</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 12639417, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/12639417#12639417", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>Try to delete all dirs in <code>/usr/share/maven-repo</code> - of course then maven will die so you must re-install and try again. In my case re-install from maven ver.3. to maven2 with deleting all repositories helped.</p>\n\n<p>I tried by deleting all from .m2 but that didn't help.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 13419456, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/13419456#13419456", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>A more subtle reason for this could be a Settings.xml file which has a space in the first line before the doctype</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 15665920, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/15665920#15665920", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>My problem was the location of the config file.</p>\n\n<p>In eclipse settings (Windows->preferences->maven->User Settings) the default config file for maven points to <code>C:\\users\\*yourUser*\\.m2\\settings.xml</code>. If you unzip maven and install it in a folder of your choice the file will be inside <code>*yourMavenInstallDir*/conf/</code>, thus probably not where eclipse thinks (mine was not). If this is the case maven won't load correctly. You just need to set the \"User Settings\" path to point to the right file.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 17724785, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/17724785#17724785", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>I had the exact same problem.</p>\n\n<pre><code>[ERROR] Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.5: Failure to find org.apache.maven.plugins:maven-resources-plugin:pom:2.5 in http://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n...\n</code></pre>\n\n<p>Had maven 3.0.5, eclipse Kepler with JBoss Dev Studio 7 installed. Computer sitting on internal network with proxy to the internet. Here's what I did.</p>\n\n<p><strong>0. Check the maven repositiory server is up</strong></p>\n\n<p><strong>1. Check Proxy is set up and working</strong></p>\n\n<p>First I thought it was a proxy problem, I made sure that maven settings.xml contained the proxy settings:</p>\n\n<pre><code>&lt;proxy&gt;\n  &lt;id&gt;optional&lt;/id&gt;\n  &lt;active&gt;true&lt;/active&gt;\n  &lt;protocol&gt;http&lt;/protocol&gt;\n  &lt;username&gt;optional-proxyuser&lt;/username&gt;\n  &lt;password&gt;optional-proxypass&lt;/password&gt;\n  &lt;host&gt;proxy.host.net&lt;/host&gt;\n  &lt;port&gt;80&lt;/port&gt;\n  &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n&lt;/proxy&gt;\n</code></pre>\n\n<p>and checked that the proxy is working by trying to telnet to it:</p>\n\n<pre><code>telnet [proxy] [port number]\n</code></pre>\n\n<p><strong>2. Check not Eclipse Issue</strong></p>\n\n<p>ran 'mvn compile' at command line level outside of eclipse - same issue.</p>\n\n<p>If 'mvn compile' worked. But it doesn't work using the maven plugin in eclipse, see <a href=\"http://stackoverflow.com/questions/7737710/maven-plugin-not-using-eclipses-proxy-settings\">Maven plugin not using eclipse's proxy settings</a></p>\n\n<p><strong>3. Check not Cache Issue</strong>\nDeleted all contents in my local maven repository. (Default location: ~/.m2/repository) And then reran maven - same issue came up.</p>\n\n<p><strong>4. What worked for me</strong></p>\n\n<p><strong><em>Automatically download &amp; install missing plugin:</em></strong>\nBy declaring the missing plugin in the POM file build section for pluginManagement Maven will automatically retrieve the required plugin. In the POM file, add this code for the version of the plugin you require:</p>\n\n<pre><code>  &lt;build&gt;\n        &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n              &lt;version&gt;2.7&lt;/version&gt;\n            &lt;/plugin&gt;           \n          &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;   \n    &lt;/build&gt;\n</code></pre>\n\n<p><strong><em>Manually install missing plugin:</em></strong>\nI went to <a href=\"http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-resources-plugin/2.5\">http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-resources-plugin/2.5</a> and downloaded <a href=\"http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.5/maven-resources-plugin-2.5.jar\">maven-resources-plugin-2.5.jar</a> and <a href=\"http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.5/maven-resources-plugin-2.5.pom\">maven-resources-plugin-2.5.pom</a> . Copied it directly into the maven repository into the correct folder ( ~/.m2/repository/org/apache/maven/plugins/maven-resources-plugin/2.5) and reran 'mvn compile'. This solved the problem.</p>\n\n<hr>\n\n<p><strong>Edit1</strong></p>\n\n<p>Following this I had another two problem with 'mvn install':</p>\n\n<pre><code>The POM for org.apache.maven.plugins:maven-surefire-plugin:jar:2.10 is missing, no dependency information available\n\nThe POM for org.apache.maven.plugins:maven-install-plugin:jar:2.3.1 is missing, no dependency information available\n</code></pre>\n\n<p>I approached this problem the same way as above, downloading from <a href=\"http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin/2.10\">http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin/2.10</a> and <a href=\"http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-install-plugin/2.3.1\">http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-install-plugin/2.3.1</a></p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 17802240, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/17802240#17802240", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>I had the same problem but with an other cause. The solution was to deactivate Avira Browser Protection (in german Browser-Schutz). I took the solusion from <a href=\"http://stackoverflow.com/questions/15020441/m2e-cannot-transfer-metadata-from-nexus-but-maven-command-line-can\">m2e cannot transfer metadata from nexus, but maven command line can</a>. It can be activated again ones maven has the needed plugin.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 18173876, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/18173876#18173876", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>Hopefully I'm not late for the party.</p>\n\n<p>Encountered this using Eclipse Kepler and Maven 3.1.</p>\n\n<p>The solution is to use a JDK and not a JRE for your Eclipse project.  Make sure to try maven clean and test from eclipse just to download missing jars.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 18353802, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/18353802#18353802", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>None of the answers fixed it for me but I found the answer in this post: <a href=\"http://stackoverflow.com/questions/5704010/maven-in-5-min-not-working\">maven in 5 min not working</a>, especially Solution #1.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 18763261, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/18763261#18763261", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>Some files where missing at your local repository. Usually under <code>${user.home}/.m2/repository/</code></p>\n\n<p>Neets answer solves the problem. However if you dont want do download all the dependencies to your local repository again you could add the missing dependency to a project of yours and compile it.</p>\n\n<p>Use the maven repository website to find the dependency.\nIn your case <a href=\"http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-resources-plugin/2.5\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-resources-plugin/2.5</a> was missing.</p>\n\n<p>Copy the listed XML to the pom.xml file of your project. In this case </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Run <code>mvn compile</code> in the root folder of the pom.xml. Maven will download all missing dependencies. After the download you can remove the added dependency.</p>\n\n<p>Now you should be able to import the maven project or update the project without the error.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 19596991, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/19596991#19596991", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>Most people will tell you to check your proxy settings or delete and re-add artifacts, but I will stay away from that and give another suggestion in case that doesn't turn out to be your problem. It could be your mirror settings.</p>\n\n<p>If you use maven at the office then there's a good chance maven is configured to look for your company's internal maven repository. If you're doing some work from home and you are not connected to the network this could be the problem. An obvious solution might be VPN to the office to get visibility to this repo. Another way around this is to add another mirror site to your /User/.m2/settings.xml file so if it fails to find it on your office network it will try public repo.</p>\n\n<pre><code>&lt;mirror&gt;\n    &lt;id&gt;Central&lt;/id&gt;\n    &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\n    &lt;!-- United States, St. Louis--&gt;\n&lt;/mirror&gt;\n</code></pre>\n\n<p>For other maven repositories take a look here: <a href=\"http://docs.codehaus.org/display/MAVENUSER/Mirrors+Repositories\" rel=\"nofollow\">http://docs.codehaus.org/display/MAVENUSER/Mirrors+Repositories</a></p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 19749986, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/19749986#19749986", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>What I found out is that while m2e is looking for v2.5 by default, my local repo has 2.6 and no 2.5.</p>\n\n<p>Without going into investigation of how this came about\nsimply adding the dependency to pom solved the problem </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This can be removed after running a build once</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 21636528, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/21636528#21636528", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>i faced the same issue while using eclipse kepler and maven version 3.2,</p>\n\n<p>while building the project, it showed me the same error in eclipse</p>\n\n<p>there are two versions (2.5 and 2.6) of plugin under </p>\n\n<pre><code>.m2/repository/org/apache/maven/plugins/maven-resources-plugin/\n</code></pre>\n\n<p>i removed 2.5 version then it worked for me</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 24368365, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/24368365#24368365", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>In my case I'm using an external maven installation with m2e. I've added my proxy settings to the external maven installation's settings.xml file. These settings haven't been used by m2e even after I've set the external maven installation as default maven installation.</p>\n\n<p>To solve the problem I've configured the global maven settings file within eclipse to be the settings.xml file from my external maven installation.</p>\n\n<p>Now eclipse can download the required artifacts.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 25643429, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/25643429#25643429", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>It appears that there can be a lot of different causes for this issue.  I experienced it after installing a new version of Eclipse (Luna).  Command-line maven worked fine, but Eclipse had build issues.</p>\n\n<p>I use a Certificate Authority in my JRE. This is important because this provides my authentication when downloading Maven resources.  Even though my project was pointing to the appropriate JRE inside of Eclipse - Eclipse was running using a different JRE (this is apparent looking at the Java process properties in Windows task manager).  My solution was to add the following in my eclipse.ini\nand explicitly define the JRE I want to use.</p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.7.0_51\\bin\\javaw.exe \n</code></pre>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 26189246, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/26189246#26189246", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>JackDev's option 3 works for me after I changed the default repository to another folder.</p>\n\n<p>Below is what I see after M2E plugin automatically download the maven-resources-plugin-2.6. Maybe this could give you some hint if you want to take the manual approach. The necessary files can be downloaded from here: <a href=\"https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/\" rel=\"nofollow\">https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/sUMHE.png\" alt=\"enter image description here\"></p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 27478181, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/27478181#27478181", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>i got it resolved by deleting the folder 2.6 in below location</p>\n\n<pre><code>.m2/repository/org/apache/maven/plugins/maven-resources-plugin/\n</code></pre>\n\n<p>Then i created a new maven project in eclipse luna and it worked fine</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 28329990, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/28329990#28329990", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>If you have a proxy, you also have to clear SOCKS in </p>\n\n<pre><code>Window &gt; Preferences &gt; Network Connections.\n</code></pre>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 29486633, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/29486633#29486633", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>After entering your proxy settings in settings.xml</p>\n\n<pre><code>&lt;proxies&gt;\n&lt;!-- proxy \n | Specification for one proxy, to be used in connecting to the network.\n |  --&gt;\n&lt;proxy&gt;\n  &lt;id&gt;optional&lt;/id&gt;\n  &lt;active&gt;true&lt;/active&gt;\n  &lt;protocol&gt;http&lt;/protocol&gt;\n  &lt;username&gt;DOMAIN\\YOURID&lt;/username&gt;\n  &lt;password&gt;123456&lt;/password&gt;\n  &lt;host&gt;proxy.company.com&lt;/host&gt;\n  &lt;port&gt;8080&lt;/port&gt;\n  &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n&lt;/proxy&gt;\n\n&lt;/proxies&gt;\n</code></pre>\n\n<p>Check whether the below tag is having the value false in settings.xml</p>\n\n<pre><code>&lt;offline&gt;false&lt;/offline&gt;\n</code></pre>\n\n<p>This helped me.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 31722208, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/31722208#31722208", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>In addition to what @JackDev replies, what also solved my problem was to</p>\n\n<p>1) Install the jdk under directory with no spaces:</p>\n\n<pre><code>C:/Java\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>C:/Program Files/Java\n</code></pre>\n\n<p>This is a known issue in Windows. I fixed <code>JAVA_HOME</code> as well</p>\n\n<p>2) Install maven as in Java case, under <code>C:/Maven</code>. Fixed the <code>M2_HOME</code> accordingly. </p>\n\n<p>3) I java 7 and java 8 on my laptop. So I defined the jvm using <code>eclipse.ini</code>. This is not a mandatory step if you don't have <code>-vm</code> entry in your <code>eclipse.ini</code>. I updated:</p>\n\n<pre><code>C:/Java/jdk1.7.0_79/jre/bin/javaw.exe\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>C:/Java/jdk1.7.0_79/bin/javaw.exe\n</code></pre>\n\n<p>Good luck</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 37834084, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/37834084#37834084", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}, {"body": "<p>If you've configured a repository in your maven's <strong>settings.xml</strong>, check if you've access to it.</p>\n\n<p>When I had this problem, there were enterprise repositories configured in <strong>settings.xml</strong> but I was out of the company.</p>\n", "title": "Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.5 or one of its dependencies could not be resolved", "answer_id": 39144172, "link": "http://stackoverflow.com/questions/12533885/could-not-calculate-build-plan-plugin-org-apache-maven-pluginsmaven-resources/39144172#39144172", "tags": ["java", "eclipse", "java-ee", "maven", "m2e"]}], "question_id": 12533885}, {"body": "<p>I'm looking at the code below and found something a bit strange:</p>\n\n<pre><code>public class Sequence {\n    Sequence() {\n        System.out.print(\"c \");\n    }\n\n    {\n        System.out.print(\"y \");\n    }\n\n    public static void main(String[] args) {\n        new Sequence().go();\n    }\n\n    void go() {\n        System.out.print(\"g \");\n    }\n\n    static {\n        System.out.print(\"x \");\n    }\n}\n</code></pre>\n\n<p>I would've expected this to give a compilation error as the <code>System.out</code> with \"y \" doesn't belong to a method declaration just a <code>{ }</code>.  Why is this valid?  I don't see how this code would or should be called.</p>\n\n<p>When running this it produces <code>x y c g</code> also, why does the <code>static { }</code> get called before the sequence constructor?</p>\n", "tags": ["java", "initializer"], "title": "Calling a Java method with no name", "answer_count": 8, "creation_date": 1354611132, "score": 96, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name", "answers": [{"body": "<pre><code>static {\n    System.out.print(\"x \");\n}\n</code></pre>\n\n<p><code>Static blocks</code> are only executed once when <strong>the class is loaded</strong> and initialized by the JRE.</p>\n\n<p>And <code>non-static</code> block will be call <strong>every time your are creating a new instance</strong> and it will be call just before the Constructor.</p>\n\n<p>As here you've created only 1 instance of <code>Sequence</code> so constructed has been called after <code>non-static</code> blocks and then the method which actually your goal.</p>\n", "title": "Calling a Java method with no name", "answer_id": 13699133, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699133#13699133", "tags": ["java", "initializer"]}, {"body": "<p>This:</p>\n\n<pre><code>static {\n        System.out.print(\"x \");\n    }\n</code></pre>\n\n<p>is a <em>static initialization block</em>, and is called when the class is loaded. You can have as many of them in your class as you want, and they will be executed in order of their appearance (from top to bottom).</p>\n\n<p>This:</p>\n\n<pre><code>    {\n        System.out.print(\"y \");\n    }\n</code></pre>\n\n<p>is an <em>initialization block</em>, and the code is copied into the beginning of each constructor of the class. So if you have many constructors of your class, and they all need to do something common at their beginning, you only need to write the code once and put it in an <em>initialization block</em> like this.</p>\n\n<p>Hence your output makes perfect sense.</p>\n\n<p>As <a href=\"http://stackoverflow.com/users/1535679/stanley\">Stanley</a> commented below, see <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\">the section in the Oracle tutorial describing initializaiton blocks</a> for more information.</p>\n", "title": "Calling a Java method with no name", "answer_id": 13699134, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699134#13699134", "tags": ["java", "initializer"]}, {"body": "<p>Its not a method but a <strong>initialization block</strong>.</p>\n\n<pre><code> {\n    System.out.print(\"y \");\n }\n</code></pre>\n\n<p>It will be executed before the constructor call. \nWhile   </p>\n\n<pre><code>static {\n        System.out.print(\"x \");\n       }\n</code></pre>\n\n<p>is <strong>static initialization block</strong> which is executed when class is loaded by class loader.    </p>\n\n<p>So when you run your code<br>\n1. Class is loaded by class loader so static initialization block is executed<br>\nOutput: x is printed<br>\n2. Object is created so initialization block is executed and then constuctor is called<br>\nOutput: y is printed followed by c<br>\n3. Main method is invoked which in turn invokes go method<br>\nOutput: g is printed  </p>\n\n<p>Final output: x y c g<br>\nThis might help <a href=\"http://blog.sanaulla.info/2008/06/30/initialization-blocks-in-java/\">http://blog.sanaulla.info/2008/06/30/initialization-blocks-in-java/</a></p>\n", "title": "Calling a Java method with no name", "answer_id": 13699136, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699136#13699136", "tags": ["java", "initializer"]}, {"body": "<p>That's an <strong>instance initialization block</strong> followed by a <strong>static initialization block</strong>.</p>\n\n<pre><code>{\n    System.out.print(\"y \");\n}\n</code></pre>\n\n<p>gets called when you create an instance of the class. </p>\n\n<pre><code>static {\n    System.out.print(\"x \");\n}\n</code></pre>\n\n<p>gets called when the class is loaded by the class loader. So when you do</p>\n\n<pre><code>new Sequence().go();\n</code></pre>\n\n<p>the class gets loaded, so it executes <code>static {}</code>, then it executes the instance initialization block <code>{}</code>, afterwards the body of the constructor is called, and then the method on the newly created instance. Ergo the output <code>x y c g</code>.</p>\n", "title": "Calling a Java method with no name", "answer_id": 13699145, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699145#13699145", "tags": ["java", "initializer"]}, {"body": "<pre><code>{\n    System.out.print(\"y \");\n}\n</code></pre>\n\n<p>These kinds of blocks are called <strong><code>initializer block</code></strong>. It is executed every time you create an instance of a <code>class</code>.\nAt compile time, this code is moved into every constructor of your class. </p>\n\n<p>Where as in case of <strong><code>static initializer</code></strong> block: -</p>\n\n<pre><code>static {\n    System.out.println(\"x \");\n}\n</code></pre>\n\n<p>it is executed once when the class is loaded.\nWe generally use <code>static</code> initializer block when the initialization of a <code>static</code> field, require multiple steps.</p>\n", "title": "Calling a Java method with no name", "answer_id": 13699149, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699149#13699149", "tags": ["java", "initializer"]}, {"body": "<pre><code>static {\n        System.out.print(\"x \");\n    }\n</code></pre>\n\n<p>Is a <strong>static block</strong> and is called during Class Loading</p>\n\n<pre><code>{\n    System.out.print(\"y \");\n}\n</code></pre>\n\n<p>Is an <strong>initialization block</strong></p>\n\n<p>You can have multiple initialization blocks in a class in which case they execute in the sequence in which they appear in the class.</p>\n\n<p><strong>Note that any initialization block present in the class is executed before the constructor.</strong></p>\n", "title": "Calling a Java method with no name", "answer_id": 13699164, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699164#13699164", "tags": ["java", "initializer"]}, {"body": "<p>It is used as an <strong>initialisation block</strong> and runs after any <strong>static declaration</strong>. It could be used to ensure that no one else can create an instance of the class (In the same way you would use a private constructor) as with the <strong>Singleton</strong> design pattern. </p>\n", "title": "Calling a Java method with no name", "answer_id": 13699172, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699172#13699172", "tags": ["java", "initializer"]}, {"body": "<pre><code>static {\n      System.out.print(\"x \");\n}\n</code></pre>\n\n<p>is an initialization block shared by the class(as indicated by <code>static</code>), which is executed first.</p>\n\n<pre><code>{\n        System.out.print(\"y \");\n\n}\n</code></pre>\n\n<p>is an initialization block shared by all objects(constructors) of the class, which comes next.</p>\n\n<pre><code>Sequence() {\n        System.out.print(\"c \");\n}\n</code></pre>\n\n<p>is a particular constructor for the class, which is executed third. The instance initialization block is invoked first every time the constructor is executed. That's why \"y\" comes just before \"c\".</p>\n\n<pre><code>void go() {\n        System.out.print(\"g \");\n}\n</code></pre>\n\n<p>is just an instance method associated with objects constructed using the constructor above, which comes last.</p>\n", "title": "Calling a Java method with no name", "answer_id": 13699267, "link": "http://stackoverflow.com/questions/13699075/calling-a-java-method-with-no-name/13699267#13699267", "tags": ["java", "initializer"]}], "question_id": 13699075}, {"body": "<p>can anyone help. I keep getting an error message in eclipse when creating a new project and i don't understand why.</p>\n\n<p>I have created a workspace at the level</p>\n\n<blockquote>\n  <p>C:\\Users\\Martin\\Java\\Counter</p>\n</blockquote>\n\n<p>Inside Counter there are no files but there is a directory called counter_src which contains source files for the project Counter</p>\n\n<p>So in eclipse I do, new java project, and then uncheck default location and choose the directory </p>\n\n<p>counter_src  (which is one level down from Counter)</p>\n\n<p>but it now displays</p>\n\n<blockquote>\n  <p>C:\\Users\\Martin\\Java\\Counter\\counter_src overlaps the location of\n  another project: 'counter_src'</p>\n</blockquote>\n\n<p>Now if i create my workspace at </p>\n\n<blockquote>\n  <p>C:\\Users\\Martin\\Java\\</p>\n</blockquote>\n\n<p>which means my counter_src is actually 2 levels down then it allows me, but the problem is that the directory JAVA contains lots of projects so i wanted to create the workspace in Counter (which has no files) which has subdirectory of counter_src where my source files are.</p>\n\n<p>Also tested creating directory off of C:\\Users\\Martin\\Java\\ and it appears to work also but I didn't want to create another subdirectory off of \"C:\\Users\\Martin\\Java\\\" just to store my workspace for 1 project.</p>\n\n<p>I would really appreciate any help on this, i am a little list.</p>\n\n<p>Thnaks in advance</p>\n", "tags": ["java", "eclipse", "workspace"], "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_count": 10, "creation_date": 1343708774, "score": 95, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr", "answers": [{"body": "<p><strong>Your have dropped the Project in your workspace, and then trying to import it, thats the problem.</strong></p>\n\n<p>This has <strong>2 solution.</strong></p>\n\n<p><strong>1.</strong> More your project folder outside your workspace in some other location and then try.</p>\n\n<p><strong>2.</strong> Go to <code>File ---&gt; new Project ---&gt; Seleclt the existing project radio button ---&gt; browse to the project folder in your workspace ---&gt; finish</code></p>\n\n<p><strong>/////////////////EDITED/////////////////</strong></p>\n\n<p>Assume D:\\MyDirectory\\MyWorkSpace        - Path of your WorkSpace</p>\n\n<p><strong>Drop your project which you want to import in Eclipse in MyDirectory folder</strong> <code>Not</code> in <strong>MyWorkSpace, and try.</strong></p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 11733123, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/11733123#11733123", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>Eclipse is erroring because if you try and create a project on a directory that exists, Eclipse doesn't know if it's an actual project or not - so it errors, saving you from losing work!</p>\n\n<p>So you have two solutions:</p>\n\n<ol>\n<li><p>Move the folder 'counter_src' somewhere else, then create the project (which will create the directory), then import the source files back into the newly created 'counter_src'.</p></li>\n<li><p>Right-click on the project explorer and import an existing project, select <code>C:\\Users\\Martin\\Java\\Counter\\</code> as your root directory.  If Eclipse sees a project, you will be able to import it.</p></li>\n</ol>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 11733371, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/11733371#11733371", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>So, I was having the same issue, but trying to <strong>import Android code</strong> via the \"Import...\" menu. When neither of the above two solutions worked on Eclipse Juno:</p>\n\n<ul>\n<li><p>Eclipse -> File -> Import -> General -> Existing Project Into Workspace\n(NOTE: <strong>NOT 'EXISTING ANDROID PROJECT'</strong>)</p></li>\n<li><p>(Projects should import correctly, but should have errors. We must now attach the SDK to the project)</p></li>\n<li><p>Right-Click on the project, Properties->Android-><strong>Project Build Target</strong>\nChoose the appropriate build target (in doubt, use 4.0.3 in the project is newish, and use 2.2 if the project is oldish)</p></li>\n<li><p>Click OK</p></li>\n</ul>\n\n<p>Once the project rebuilds, everything should be back in order.</p>\n\n<p>(This was written when Eclipse Indigo was in vogue, and there may be changes as Google updates their tools to cover corner cases.)</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 15054785, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/15054785#15054785", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>FWIW:</p>\n\n<p>Neither of the other suggestions worked for me. I had previously created a project with the same name which I then deleted. I recreated the base source-files (using PhoneGap) - which doesn't create the \"eclipse\"-project. I then tried to create an Android project using existing source files, but it failed with the same error message as the original question implies. </p>\n\n<p>The solution for me was to move the source-folder and files out of the workspace, and use the same option, but this time check the option for copying the files into the workspace in the wizard.</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 15194489, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/15194489#15194489", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>In my case clicking the checkbox for 'import project into workspace' fixed the error, even though the project was already in the workspace folder and didn't actually get moved their by eclipse.</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 17055338, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/17055338#17055338", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>simply \"CUT\" project folder and move it out of workspace directory and do the following</p>\n\n<pre><code>file=&gt;import=&gt;(select new directory)=&gt; mark (copy to my workspace) checkbox \n</code></pre>\n\n<p>and you done !</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 17483340, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/17483340#17483340", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>In my case checking the check-box </p>\n\n<blockquote>\n  <p><strong>\"Copy project into workspace\"</strong></p>\n</blockquote>\n\n<p>did the trick.</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 18573222, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/18573222#18573222", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>I know this is older, but wanted to contribute another possibly solution.</p>\n\n<p>If you want to keep the project location, as I did, I found that copying the .project file from another project into the project's directory, then editing the .project file to name it properly, then choosing the Import Existing Projects into Workspace option worked for me.</p>\n\n<p>In Windows, I used a file monitor to see what Eclipse was doing, and it was simply erroring out for some unknown reason when trying to create the .project file. So, I did that manually and it worked for me.</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 19363383, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/19363383#19363383", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p><strong>Go to the actual FILE menu and create a new general project.</strong></p>\n\n<p>If the project type isn't recognized, preventing one of these import methods from working, then try this.  Once you add the generic project, you can then add support for whatever language you require.</p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 21324854, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/21324854#21324854", "tags": ["java", "eclipse", "workspace"]}, {"body": "<p>This too took me sometime to figure out.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>To create a new <strong>Maven Project</strong> under the existing workspace, just have the \"<strong>Use default Workspace location</strong>\" ticked (<strong>Ignore what is in the grayed out location text input</strong>).</p>\n\n<p>The name of the project will be determined by you <strong>Artifact Id</strong> in step 2 of the creation wizard.</p>\n\n<p><strong>Reasoning:</strong></p>\n\n<p>It was so confusing because in my case, because when I selected to create a new Maven Project: the default workspace loaction is ticked and directly proceeding it is the grayed out \"Location\" text input had the workspace location + the existing project I was looking at before choose to create a new Maven Project. (ie: Location = '[workspace path]/last looked at project')</p>\n\n<p>So I unticked the default workspace location box and entered in '[workspace path]/new project', which didn't work because eclipse expects the [workspace path] to be different compared to the default path. (Otherwise we would of selected the default workspace check box). </p>\n", "title": "Eclipse: Error &quot;.. overlaps the location of another project..&quot; when trying to create new project", "answer_id": 22471551, "link": "http://stackoverflow.com/questions/11733089/eclipse-error-overlaps-the-location-of-another-project-when-trying-to-cr/22471551#22471551", "tags": ["java", "eclipse", "workspace"]}], "question_id": 11733089}, {"body": "<p>I am learning spring which is being used in my project.I found the  <strong>ContextLoaderListener</strong> entry in my web.xml . But could not figure out how exactly it helps the developer? In official doc of ContextLoaderListener it says  it is to start WebApplicationContext . Regarding WebApplicationContext , api says <strong>Interface to provide configuration for a web application .</strong>  But i am not able to understand what i am achieving with ContextLoaderListener which internally init the WebApplicationContext  ?</p>\n\n<p><strong>As per my understanding</strong>, ContextLoaderListener  reads the spring configuration file (with value given against contextConfigLocation in web.xml), parse it and loads the singleton bean defined in that config file. Similarly when we want to load prototype bean, we will use same webapplication context to load it. So we initialize the webapplication  with ContextLoaderListener so that we read/parse/validate the config file in advance and whenever we wan to inject dependency we can straightaway do it without any delay.  Is this understanding correct?</p>\n", "tags": ["java", "spring", "web-applications"], "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_count": 13, "creation_date": 1344159053, "score": 95, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring", "answers": [{"body": "<p>It will give you point of hook to put some code that you wish to be executed on web application deploy time</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 11815348, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/11815348#11815348", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>Your understanding is correct. I wonder why you don't see any advantages in ContextLoaderListener. For example, you need to build a session factory (to manage database). This operation can take some time, so it's better to do it on startup. Of course you can do it with init servlets or something else, but the advantage of Spring's approach is that you make configuration without writing code.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 11815395, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/11815395#11815395", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>Your understanding is correct.  The <code>ApplicationContext</code> is where your Spring beans live.  The purpose of the <code>ContextLoaderListener</code> is two-fold:</p>\n\n<ol>\n<li><p>to tie the lifecycle of the <code>ApplicationContext</code> to the lifecycle of the <code>ServletContext</code> and</p></li>\n<li><p>to automate the creation of the <code>ApplicationContext</code>, so you don't have to write explicit code to do create it - it's a convenience function. </p></li>\n</ol>\n\n<p>Another convenient thing about the <code>ContextLoaderListener</code> is that it creates a <code>WebApplicationContext</code> and <code>WebApplicationContext</code> provides access to the <code>ServletContext</code> via <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ServletContextAware.html#setServletContext%28javax.servlet.ServletContext%29\"><code>ServletContextAware</code></a> beans and the <code>getServletContext</code> method.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 11817368, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/11817368#11817368", "tags": ["java", "spring", "web-applications"]}, {"body": "\n\n<p><code>ContextLoaderListener</code> is <em>optional</em>. Just to make a point here: you can boot up a Spring application without ever configuring <code>ContextLoaderListener</code>, just a basic minimum <code>web.xml</code> with <code>DispatcherServlet</code>.</p>\n\n<p>Here is what it would look like:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xmlns=\"http://java.sun.com/xml/ns/javaee\" \n    xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" \n    xsi:schemaLocation=\"\n        http://java.sun.com/xml/ns/javaee \n        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" \n    id=\"WebApp_ID\" \n    version=\"2.5\"&gt;\n  &lt;display-name&gt;Some Minimal Webapp&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;   \n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;    \n  &lt;/welcome-file-list&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n      org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Create a file called <code>dispatcher-servlet.xml</code> and store it under <code>WEB-INF</code>. Since we mentioned <code>index.jsp</code> in welcome list, add this file under <code>WEB-INF</code>.</p>\n\n<p><strong>dispatcher-servlet.xml</strong></p>\n\n<p>In the <code>dispatcher-servlet.xml</code> define your beans:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans \n    xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd     \n        http://www.springframework.org/schema/context     \n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;bean id=\"bean1\"&gt;\n      ...\n    &lt;/bean&gt;\n    &lt;bean id=\"bean2\"&gt;\n      ...\n    &lt;/bean&gt;         \n\n    &lt;context:component-scan base-package=\"com.example\" /&gt;\n    &lt;!-- Import your other configuration files too --&gt;\n    &lt;import resource=\"other-configs.xml\"/&gt;\n    &lt;import resource=\"some-other-config.xml\"/&gt;\n\n    &lt;!-- View Resolver --&gt;\n    &lt;bean \n        id=\"viewResolver\" \n        class=\"org.springframework.web.servlet.view.UrlBasedViewResolver\"&gt;\n      &lt;property \n          name=\"viewClass\" \n          value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n      &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n      &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 22276881, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/22276881#22276881", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>If we write web.xml without ContextLoaderListener then we cant give the athuntication using customAuthenticationProvider in spring  security. Because DispatcherServelet is the child context of ContextLoaderListener, customAuthenticationProvider is the part of parentContext that is ContextLoaderListener. So parent Context cannot have the dependencies of child context. And so it is best practice to write spring-context.xml in contextparam instead of write it in the initparam.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 23949061, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/23949061#23949061", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>The blog, \"<a href=\"https://schoudari.wordpress.com/2012/07/23/purpose-of-contextloaderlistener-spring-mvc/\" rel=\"nofollow\">Purpose of ContextLoaderListener \u2013 Spring MVC</a>\" gives a very good explanation.</p>\n\n<p>According to it, Application-Contexts are hierarchial and hence DispatcherSerlvet's context becomes the child of ContextLoaderListener's context. Due to which, technology being used in the controller layer (Struts or Spring MVC) can independent of root context created ContextLoaderListener.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 29798132, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/29798132#29798132", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>I believe its real use comes when you want to have more than one config files or you have <strong>xyz.xml</strong> file instead of applicationcontext.xml for eg</p>\n\n<p><code>&lt;context-param&gt;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/training-service.xml,\n/WEB-INF/training-data.xml&lt;/param-value&gt;\n&lt;/context-param&gt;</code></p>\n\n<p>Another approach to ContextLoaderListener is using ContextLoaderServlet like below</p>\n\n<p><code>&lt;servlet&gt;\n&lt;servlet-name&gt;context&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.context.ContextLoaderServlet&lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;</code></p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 30608732, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/30608732#30608732", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>Listener class - Listens on an event (Eg.. Server startup/shutdown)  </p>\n\n<p>ContextLoaderListener - </p>\n\n<ol>\n<li>Listens during server start up/shutdown</li>\n<li>Takes the Spring configuration files as input and creates the beans as per configuration and make it ready (destroys the bean during shutdown)</li>\n<li><p>Configuration files can be provided like this in web.xml</p>\n\n<pre><code>&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  \n&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;  \n</code></pre></li>\n</ol>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 33665912, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/33665912#33665912", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>For a simple Spring application, you don't have to define <code>ContextLoaderListener</code> in your <code>web.xml</code>; you can just put all your Spring configuration files in <code>&lt;servlet&gt;</code>:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/mvc-core-config.xml, classpath:spring/business-config.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>For a more complex Spring application, where you have multiple <code>DispatcherServlet</code> defined, you can have the common Spring configuration files that are shared by all the <code>DispatcherServlet</code> defined in the <code>ContextLoaderListener</code>:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:spring/common-config.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;mvc1&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/mvc1-config.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;mvc2&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/mvc2-config.xmll&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>Just keep in mind, <code>ContextLoaderListener</code> performs the actual initialization work for the <strong>root</strong> application context.</p>\n\n<p>I found this article helps a lot:\n<a href=\"http://www.javabeat.net/spring-mvc-application-context/\" rel=\"nofollow\">Spring MVC \u2013 Application Context vs Web Application Context</a></p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 35661080, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/35661080#35661080", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>When you want to put your Servlet file in your custom location or with custom name, rather than the default naming convention <code>[servletname]-servlet.xml</code> and path under <code>Web-INF/</code> ,then you can use <code>ContextLoaderListener</code>.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 37443368, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/37443368#37443368", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>ContextLoaderListner is a Servlet listener that loads all the different configuration files (service layer configuration, persistence layer configuration etc) into single spring application context.</p>\n\n<p>This helps to split spring configurations across multiple XML files.</p>\n\n<p>Once the context files are loaded, Spring creates a WebApplicationContext object based on the bean definition and stores it in the ServletContext of your web application.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 38122078, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/38122078#38122078", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>Basically you can isolate your root application context and web application context using ContextLoaderListner.</p>\n\n<p>The config file mapped with context param will behave as root application context configuration. And config file mapped with dispatcher servlet will behave like web application context.</p>\n\n<p>In any web application we may have multiple dispatcher servlets, so multiple web application contexts.</p>\n\n<p>But in any web application we may have only one root application context that is shared with all web application contexts.</p>\n\n<p>We should define our common services, entities, aspects etc in root application context. And controllers, interceptors etc are in relevant web application context.</p>\n\n<p>A sample web.xml is</p>\n\n<pre><code>&lt;!-- language: xml --&gt;\n&lt;web-app&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextClass&lt;/param-name&gt;\n        &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;example.config.AppConfig&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;restEntryPoint&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;example.config.RestConfig&lt;/param-value&gt;\n        &lt;/init-param&gt;       \n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;restEntryPoint&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;webEntryPoint&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;example.config.WebConfig&lt;/param-value&gt;\n        &lt;/init-param&gt;       \n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;  \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;webEntryPoint&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt; \n</code></pre>\n\n<p>Here config class example.config.AppConfig can be used to configure services, entities, aspects etc in root application context that will be shared with all other web application contexts (for example here we have two web application context config classes RestConfig and WebConfig)</p>\n\n<p>PS: Here ContextLoaderListener is completely optional. If we will not mention ContextLoaderListener in web.xml here, AppConfig will not work. In that case we need to configure all our services and entities in WebConfig and Rest Config.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 38858337, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/38858337#38858337", "tags": ["java", "spring", "web-applications"]}, {"body": "<p>In the context of spring framework purpose of <strong>ContextLoaderListener</strong> is to load the other beans in your application such as the middle-tier and data-tier components that drive the back end of the application.</p>\n", "title": "Role/Purpose of ContextLoaderListener in spring?", "answer_id": 38876788, "link": "http://stackoverflow.com/questions/11815339/role-purpose-of-contextloaderlistener-in-spring/38876788#38876788", "tags": ["java", "spring", "web-applications"]}], "question_id": 11815339}, {"body": "<p>If you look in the enum api at the method <code>name()</code> it says that:</p>\n\n<blockquote>\n  <p>Returns the name of this enum constant, exactly as declared in its enum declaration. \n          Most programmers should use the toString method in preference to this one, \n          as the toString method may return a more user-friendly name.\n          This method is designed primarily for use in specialized situations where correctness depends on getting the exact name, which will not vary from release to release.</p>\n</blockquote>\n\n<p>Why is better to use <code>toString()</code>? I mean toString may be overridden when name() is already final. So if you use toString and someone overrides it to return a hard-coded value your whole application is down... Also if you look in the sources the toString() method returns exactly and just the name. It's the same thing.</p>\n", "tags": ["java", "enums"], "title": "Java enum - why use toString instead of name", "answer_count": 5, "creation_date": 1352385356, "score": 94, "link": "http://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name", "answers": [{"body": "<p>Use <code>name()</code> when you want to make a comparison or use the hardcoded value for some internal  use in your code.</p>\n\n<p>Use <code>toString()</code> when you want to present information to a user (including a developper looking at a log). Never rely in your code on <code>toString()</code> giving a specific value. Never test it against a specific string. If your code breaks when someone correctly changes the <code>toString()</code> return, then it was already broken.</p>\n\n<p>From the javadoc (emphasis mine) :</p>\n\n<blockquote>\n  <p>Returns a string representation of the object. In general, the\n  toString method returns a string that <strong>\"textually represents\"</strong> this\n  object. The result should be a concise but informative representation\n  that is easy for <strong>a person to read</strong>. <strong>It is recommended that all\n  subclasses override this method.</strong></p>\n</blockquote>\n", "title": "Java enum - why use toString instead of name", "answer_id": 13291108, "link": "http://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name/13291108#13291108", "tags": ["java", "enums"]}, {"body": "<p>It really depends on what you want to do with the returned value:</p>\n\n<ul>\n<li>If you need to get the exact name used to declare the enum constant, you should use <code>name()</code> as <code>toString</code> may have been overriden</li>\n<li>If you want to print the enum constant in a user friendly way, you should use <code>toString</code> which may have been overriden (or not!).</li>\n</ul>\n\n<p>When I feel that it might be confusing, I provide a more specific <code>getXXX</code> method, for example:</p>\n\n<pre><code>public enum Fields {\n    LAST_NAME(\"Last Name\"), FIRST_NAME(\"First Name\");\n\n    private final String fieldDescription;\n\n    private Fields(String value) {\n        fieldDescription = value;\n    }\n\n    public String getFieldDescription() {\n        return fieldDescription;\n    }\n}\n</code></pre>\n", "title": "Java enum - why use toString instead of name", "answer_id": 13291109, "link": "http://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name/13291109#13291109", "tags": ["java", "enums"]}, {"body": "<p><code>name()</code> is a \"built-in\" method of <code>enum</code>. It is final and you cannot change its implementation. It returns the name of enum constant as it is written, e.g. in upper case, without spaces etc. </p>\n\n<p>Compare <code>MOBILE_PHONE_NUMBER</code> and <code>Mobile phone number</code>. Which version is more readable? I believe the second one. This is the difference: <code>name()</code> always returns <code>MOBILE_PHONE_NUMBER</code>, <code>toString()</code> may be overriden to return <code>Mobile phone number</code>.</p>\n", "title": "Java enum - why use toString instead of name", "answer_id": 13291166, "link": "http://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name/13291166#13291166", "tags": ["java", "enums"]}, {"body": "<p>name() is literally the textual name in the java code of the enum. That means it is limited to strings that can actually appear in your java code, but not all desirable strings are expressible in code. For example, you may need a string that begins with a number. name() will never be able to obtain that string for you.</p>\n", "title": "Java enum - why use toString instead of name", "answer_id": 31886637, "link": "http://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name/31886637#31886637", "tags": ["java", "enums"]}, {"body": "<p>A practical example when name() and toString() make sense to be different is a pattern where single-valued enum is used to define a singleton. It looks surprisingly at first but makes a lot of sense:</p>\n\n<pre><code>enum SingletonComponent {\n    INSTANCE(/*..configuration...*/);\n\n    /* ...behavior... */\n\n    @Override\n    String toString() {\n      return \"SingletonComponent\"; // better than default \"INSTANCE\"\n    }\n}\n</code></pre>\n\n<p>In such case:</p>\n\n<pre><code>SingletonComponent myComponent = SingletonComponent.INSTANCE;\nassertThat(myComponent.name()).isEqualTo(\"INSTANCE\"); // blah\nassertThat(myComponent.toString()).isEqualTo(\"SingletonComponent\"); // better\n</code></pre>\n", "title": "Java enum - why use toString instead of name", "answer_id": 35951261, "link": "http://stackoverflow.com/questions/13291076/java-enum-why-use-tostring-instead-of-name/35951261#35951261", "tags": ["java", "enums"]}], "question_id": 13291076}, {"body": "<p>I want to  write test cases for a bulk of code, I would like to know details of JUnit <code>@Rule</code> annotation feature, so that I can use it for writing test cases. Please provide some good answers or links, which give detailed description of its functionality through a simple example.</p>\n", "tags": ["java", "junit", "junit4", "junit-rule"], "title": "How does Junit @Rule work?", "answer_count": 4, "creation_date": 1353487539, "score": 94, "link": "http://stackoverflow.com/questions/13489388/how-does-junit-rule-work", "answers": [{"body": "<p>Rules are used to add additional functionality which applies to all tests within a test class, but in a more generic way.</p>\n\n<p>For instance, <a href=\"https://github.com/junit-team/junit/blob/master/src/main/java/org/junit/rules/ExternalResource.java\">ExternalResource</a> executes code before and after a test method, without having to use <code>@Before</code> and <code>@After</code>. Using an <code>ExternalResource</code> rather than <code>@Before</code> and <code>@After</code> gives opportunities for better code reuse; the same rule can be used from two different test classes.</p>\n\n<p>The design was based upon: <a href=\"http://www.threeriversinstitute.org/blog/?p=155\">Interceptors in JUnit</a></p>\n\n<p>For more information see <a href=\"https://github.com/junit-team/junit/wiki/Rules\">JUnit wiki : Rules</a>.</p>\n", "title": "How does Junit @Rule work?", "answer_id": 13489506, "link": "http://stackoverflow.com/questions/13489388/how-does-junit-rule-work/13489506#13489506", "tags": ["java", "junit", "junit4", "junit-rule"]}, {"body": "<p>I found <a href=\"http://cwd.dhemery.com/2010/12/junit-rules/\">this article</a> explains <code>@Rule</code>s rather well, especially check out the last section \"The Sequence Of Events In Detail\"</p>\n", "title": "How does Junit @Rule work?", "answer_id": 21556660, "link": "http://stackoverflow.com/questions/13489388/how-does-junit-rule-work/21556660#21556660", "tags": ["java", "junit", "junit4", "junit-rule"]}, {"body": "<p>Junit Rules work on the principle of AOP (aspect oriented programming). It intercepts the test method thus providing an opportunity to do some stuff before or after the execution of a particular test method. </p>\n\n<p>Take the example of the below code:</p>\n\n<pre><code>public class JunitRuleTest {\n\n  @Rule\n  public TemporaryFolder tempFolder = new TemporaryFolder();\n\n  @Test\n  public void testRule() throws IOException {\n    File newFolder = tempFolder.newFolder(\"Temp Folder\");\n    assertTrue(newFolder.exists());\n  }\n} \n</code></pre>\n\n<p>Every time the above test method is executed, a temporary folder is created and it gets deleted after the execution of the method. This is an example of an out-of-box rule provided by Junit.</p>\n\n<p>Similar behaviour can also be achieved by creating our own rules. Junit provides the TestRule interface, which can be implemented to create our own Junit Rule.</p>\n\n<p>Here are some useful links for reference: </p>\n\n<ul>\n<li><a href=\"http://www.cubearticle.com/articles/framework/junit/junit-rule\">http://www.cubearticle.com/articles/framework/junit/junit-rule</a></li>\n<li><a href=\"http://www.codeaffine.com/2012/09/24/junit-rules/\">http://www.codeaffine.com/2012/09/24/junit-rules/</a></li>\n</ul>\n", "title": "How does Junit @Rule work?", "answer_id": 34608174, "link": "http://stackoverflow.com/questions/13489388/how-does-junit-rule-work/34608174#34608174", "tags": ["java", "junit", "junit4", "junit-rule"]}, {"body": "<p>tl;dr for how it works: JUnit wraps your test method in a Statement object so statement.Execute() runs your test. Then instead of calling statement.Execute() directly to run your test, JUnit passes the Statement to a TestRule with the @Rule annotation. The TestRule's \"apply\" function returns a new Statement given the Statement with your test. The new Statement's Execute() method can call the test Statement's execute method (or not, or call it multiple times), and do whatever it wants before and after. Now JUnit has a new Statement that does more than just run the test, and it can again pass that to any more rules before finally calling Execute.</p>\n", "title": "How does Junit @Rule work?", "answer_id": 37868152, "link": "http://stackoverflow.com/questions/13489388/how-does-junit-rule-work/37868152#37868152", "tags": ["java", "junit", "junit4", "junit-rule"]}], "question_id": 13489388}, {"body": "<p>Is it possible to determine if a String <code>str1=\"ABCDEFGHIJKLMNOP\"</code> contains a string pattern <code>strptrn=\"gHi\"</code>? I wanted to know if that's possible when the characters are case insensitive. If so, how?</p>\n", "tags": ["java", "string", "contains", "case-insensitive"], "title": "String contains - ignore case", "answer_count": 5, "creation_date": 1356334391, "score": 92, "link": "http://stackoverflow.com/questions/14018478/string-contains-ignore-case", "answers": [{"body": "<p>You can use java.util.regex.Pattern with the CASE_INSENSITIVE flag for case insensitive matching:</p>\n\n<pre><code>Pattern.compile(Pattern.quote(strptrn), Pattern.CASE_INSENSITIVE).matcher(str1).find();\n</code></pre>\n", "title": "String contains - ignore case", "answer_id": 14018498, "link": "http://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018498#14018498", "tags": ["java", "string", "contains", "case-insensitive"]}, {"body": "<p>If you won't go with regex:</p>\n\n<pre><code>\"ABCDEFGHIJKLMNOP\".toLowerCase().contains(\"gHi\".toLowerCase())\n</code></pre>\n", "title": "String contains - ignore case", "answer_id": 14018511, "link": "http://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018511#14018511", "tags": ["java", "string", "contains", "case-insensitive"]}, {"body": "<p>You can use</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.containsIgnoreCase(\"ABCDEFGHIJKLMNOP\", \"gHi\");\n</code></pre>\n\n<p>This one may be better than regex as <strong>regex is always expensive</strong> in terms of performance.</p>\n", "title": "String contains - ignore case", "answer_id": 14018549, "link": "http://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018549#14018549", "tags": ["java", "string", "contains", "case-insensitive"]}, {"body": "<p>Try this</p>\n\n<pre><code>public static void main(String[] args)\n{\n\n    String original = \"ABCDEFGHIJKLMNOPQ\";\n    String tobeChecked = \"GHi\";\n\n    System.out.println(containsString(original, tobeChecked, true));        \n    System.out.println(containsString(original, tobeChecked, false));\n\n}\n\npublic static boolean containsString(String original, String tobeChecked, boolean caseSensitive)\n{\n    if (caseSensitive)\n    {\n        return original.contains(tobeChecked);\n\n    }\n    else\n    {\n        return original.toLowerCase().contains(tobeChecked.toLowerCase());\n    }\n\n}\n</code></pre>\n", "title": "String contains - ignore case", "answer_id": 14018762, "link": "http://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018762#14018762", "tags": ["java", "string", "contains", "case-insensitive"]}, {"body": "<p>An optimized Imran Tariq's version</p>\n\n<pre><code>Pattern.compile(strptrn, Pattern.CASE_INSENSITIVE + Pattern.LITERAL).matcher(str1).find();\n</code></pre>\n\n<p>Pattern.quote(strptrn) always returns \"\\Q\" + s + \"\\E\" even if there is nothing to quote, concatination spoils performance.</p>\n", "title": "String contains - ignore case", "answer_id": 14018947, "link": "http://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018947#14018947", "tags": ["java", "string", "contains", "case-insensitive"]}], "question_id": 14018478}, {"body": "<p>I've got the URI like this:</p>\n\n<p><a href=\"https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\">https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback</a></p>\n\n<p>I need a collection with parsed elements:</p>\n\n<pre><code>NAME               VALUE\n------------------------\nclient_id          SS\nresponse_type      code\nscope              N_FULL\naccess_type        offline\nredirect_uri       http://localhost/Callback\n</code></pre>\n\n<p>To be exact, I need a Java equivalent for C# HttpUtility.ParseQueryString Method.\nPlease, give me an advice on this.\nThanks.</p>\n", "tags": ["java", "parsing", "uri", "namevaluecollection"], "title": "Parse a URI String into Name-Value Collection", "answer_count": 7, "creation_date": 1354047118, "score": 91, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection", "answers": [{"body": "<p><a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URLEncodedUtils.html\">http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URLEncodedUtils.html</a> is a well known library that can do it for you</p>\n\n<pre><code>String url = \"http://www.example.com/something.html?one=1&amp;two=2&amp;three=3&amp;three=3a\";\nList&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), \"UTF-8\");\n\nfor (NameValuePair param : params) {\n  System.out.println(param.getName() + \" : \" + param.getValue());\n}\n</code></pre>\n\n<p>Outputs </p>\n\n<blockquote>\n  <p>one : 1</p>\n  \n  <p>two : 2</p>\n  \n  <p>three : 3</p>\n  \n  <p>three : 3a</p>\n</blockquote>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 13592324, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/13592324#13592324", "tags": ["java", "parsing", "uri", "namevaluecollection"]}, {"body": "<p>If you are looking for a way to achieve it without using an external library, the following code will help you.</p>\n\n<pre><code>public static Map&lt;String, String&gt; splitQuery(URL url) throws UnsupportedEncodingException {\n    Map&lt;String, String&gt; query_pairs = new LinkedHashMap&lt;String, String&gt;();\n    String query = url.getQuery();\n    String[] pairs = query.split(\"&amp;\");\n    for (String pair : pairs) {\n        int idx = pair.indexOf(\"=\");\n        query_pairs.put(URLDecoder.decode(pair.substring(0, idx), \"UTF-8\"), URLDecoder.decode(pair.substring(idx + 1), \"UTF-8\"));\n    }\n    return query_pairs;\n}\n</code></pre>\n\n<p>You can access the returned Map using <code>&lt;map&gt;.get(\"client_id\")</code>, with the URL given in your question this would return \"SS\".</p>\n\n<p><strong>UPDATE</strong>  URL-Decoding added</p>\n\n<p><strong>UPDATE</strong> As this answer is still quite popular, I made an improved version of the method above, which handles multiple parameters with the same key and parameters with no value as well.</p>\n\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) throws UnsupportedEncodingException {\n  final Map&lt;String, List&lt;String&gt;&gt; query_pairs = new LinkedHashMap&lt;String, List&lt;String&gt;&gt;();\n  final String[] pairs = url.getQuery().split(\"&amp;\");\n  for (String pair : pairs) {\n    final int idx = pair.indexOf(\"=\");\n    final String key = idx &gt; 0 ? URLDecoder.decode(pair.substring(0, idx), \"UTF-8\") : pair;\n    if (!query_pairs.containsKey(key)) {\n      query_pairs.put(key, new LinkedList&lt;String&gt;());\n    }\n    final String value = idx &gt; 0 &amp;&amp; pair.length() &gt; idx + 1 ? URLDecoder.decode(pair.substring(idx + 1), \"UTF-8\") : null;\n    query_pairs.get(key).add(value);\n  }\n  return query_pairs;\n}\n</code></pre>\n\n<p><strong>UPDATE</strong> Java8 version</p>\n\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; splitQuery(URL url) {\n    if (Strings.isNullOrEmpty(url.getQuery())) {\n        return Collections.emptyMap();\n    }\n    return Arrays.stream(url.getQuery().split(\"&amp;\"))\n            .map(this::splitQueryParameter)\n            .collect(Collectors.groupingBy(SimpleImmutableEntry::getKey, LinkedHashMap::new, mapping(Map.Entry::getValue, toList())));\n}\n\npublic SimpleImmutableEntry&lt;String, String&gt; splitQueryParameter(String it) {\n    final int idx = it.indexOf(\"=\");\n    final String key = idx &gt; 0 ? it.substring(0, idx) : it;\n    final String value = idx &gt; 0 &amp;&amp; it.length() &gt; idx + 1 ? it.substring(idx + 1) : null;\n    return new SimpleImmutableEntry&lt;&gt;(key, value);\n}\n</code></pre>\n\n<p>Running the above method with the URL \u201c<a href=\"http://stackoverflow.com?param1=value1&amp;param2=&amp;param3=value3&amp;param3\">http://stackoverflow.com?param1=value1&amp;param2=&amp;param3=value3&amp;param3</a>\u2033\nreturns this Map: {param1=[\"value1\"], param2=[null], param3=[\"value3\", null]}</p>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 13592567, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/13592567#13592567", "tags": ["java", "parsing", "uri", "namevaluecollection"]}, {"body": "<p>use google Guava and do it in 2 lines:</p>\n\n<pre><code>import java.util.Map;\nimport com.google.common.base.Splitter;\n\npublic class Parser {\n    public static void main(String... args) {\n        String uri = \"https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\";\n        String query = uri.split(\"\\\\?\")[1];\n        final Map&lt;String, String&gt; map = Splitter.on('&amp;').trimResults().withKeyValueSeparator(\"=\").split(query);\n        System.out.println(map);\n    }\n}\n</code></pre>\n\n<p>which gives you</p>\n\n<pre><code>{client_id=SS, response_type=code, scope=N_FULL, access_type=offline, redirect_uri=http://localhost/Callback}\n</code></pre>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 23752349, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/23752349#23752349", "tags": ["java", "parsing", "uri", "namevaluecollection"]}, {"body": "<p>If you're using Java 8 and you're willing to write a few reusable methods, you can do it in one line.</p>\n\n<pre><code>private Map&lt;String, List&lt;String&gt;&gt; parse(final String query) {\n    return Arrays.asList(query.split(\"&amp;\")).stream().map(p -&gt; p.split(\"=\")).collect(Collectors.toMap(s -&gt; decode(index(s, 0)), s -&gt; Arrays.asList(decode(index(s, 1))), this::mergeLists));\n}\n\nprivate &lt;T&gt; List&lt;T&gt; mergeLists(final List&lt;T&gt; l1, final List&lt;T&gt; l2) {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    list.addAll(l1);\n    list.addAll(l2);\n    return list;\n}\n\nprivate static &lt;T&gt; T index(final T[] array, final int index) {\n    return index &gt;= array.length ? null : array[index];\n}\n\nprivate static String decode(final String encoded) {\n    try {\n        return encoded == null ? null : URLDecoder.decode(encoded, \"UTF-8\");\n    } catch(final UnsupportedEncodingException e) {\n        throw new RuntimeException(\"Impossible: UTF-8 is a required encoding\", e);\n    }\n}\n</code></pre>\n\n<p>But that's a pretty brutal line.</p>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 30269582, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/30269582#30269582", "tags": ["java", "parsing", "uri", "namevaluecollection"]}, {"body": "<h3>Java 8 oneliner</h3>\n\n<p>Given the URL to analyse:</p>\n\n<pre><code>URL url = new URL(\"https://google.com.ua/oauth/authorize?client_id=SS&amp;response_type=code&amp;scope=N_FULL&amp;access_type=offline&amp;redirect_uri=http://localhost/Callback\");\n</code></pre>\n\n<p>This solution collects a list of pairs:</p>\n\n<pre><code>List&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; list = \n        asList(url.getQuery().split(\"&amp;\")).stream()\n        .map(s -&gt; copyOf(s.split(\"=\"), 2))\n        .map(o -&gt; new AbstractMap.SimpleEntry&lt;String, String&gt;(decode(o[0]), decode(o[1])))\n        .collect(toList());\n</code></pre>\n\n<p>This solution on the other hand collects a map (given that in a url there can be more parameters with same name but different values).</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; list = \n        asList(url.getQuery().split(\"&amp;\")).stream()\n        .map(s -&gt; copyOf(s.split(\"=\"), 2))\n        .collect(groupingBy(s -&gt; decode(s[0]), mapping(s -&gt; decode(s[1]), toList())));\n</code></pre>\n\n<p>Both the solutions must use an utility function to properly decode the parameters.</p>\n\n<pre><code>private static String decode(final String encoded) {\n    try {\n        return encoded == null ? null : URLDecoder.decode(encoded, \"UTF-8\");\n    } catch(final UnsupportedEncodingException e) {\n        throw new RuntimeException(\"Impossible: UTF-8 is a required encoding\", e);\n    }\n}\n</code></pre>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 37368660, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/37368660#37368660", "tags": ["java", "parsing", "uri", "namevaluecollection"]}, {"body": "<p>Using above mentioned comments and solutions, I am storing all the query parameters using Map&lt;String, Object&gt; where Objects either can be string or Set&lt;String&gt;. The solution is given below. It is recommended to use some kind of url validator to validate the url first and then call convertQueryStringToMap method. </p>\n\n<pre><code>private static final String DEFAULT_ENCODING_SCHEME = \"UTF-8\";\n\npublic static Map&lt;String, Object&gt; convertQueryStringToMap(String url) throws UnsupportedEncodingException, URISyntaxException {\n    List&lt;NameValuePair&gt; params = URLEncodedUtils.parse(new URI(url), DEFAULT_ENCODING_SCHEME);\n    Map&lt;String, Object&gt; queryStringMap = new HashMap&lt;&gt;();\n    for(NameValuePair param : params){\n        queryStringMap.put(param.getName(), handleMultiValuedQueryParam(queryStringMap, param.getName(), param.getValue()));\n    }\n    return queryStringMap;\n}\n\nprivate static Object handleMultiValuedQueryParam(Map responseMap, String key, String value) {\n    if (!responseMap.containsKey(key)) {\n        return value.contains(\",\") ? new HashSet&lt;String&gt;(Arrays.asList(value.split(\",\"))) : value;\n    } else {\n        Set&lt;String&gt; queryValueSet = responseMap.get(key) instanceof Set ? (Set&lt;String&gt;) responseMap.get(key) : new HashSet&lt;String&gt;();\n        if (value.contains(\",\")) {\n            queryValueSet.addAll(Arrays.asList(value.split(\",\")));\n        } else {\n            queryValueSet.add(value);\n        }\n        return queryValueSet;\n    }\n}\n</code></pre>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 37600116, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/37600116#37600116", "tags": ["java", "parsing", "uri", "namevaluecollection"]}, {"body": "<p>If you are using Spring Framework:</p>\n\n<pre><code>public static void main(String[] args) throws URISyntaxException {\n    String uri = \"http://youhost.com/test?param1=abc&amp;param2=def&amp;param2=ghi\";\n    MultiValueMap&lt;String, String&gt; parameters =\n            UriComponentsBuilder.fromUri(new URI(uri)).build().getQueryParams();\n    List&lt;String&gt; param1 = parameters.get(\"param1\");\n    List&lt;String&gt; param2 = parameters.get(\"param2\");\n    System.out.println(\"param1: \" + param1.get(0));\n    System.out.println(\"param2: \" + param2.get(0) + \",\" + param2.get(1));\n}\n</code></pre>\n\n<p>You will get:</p>\n\n<pre><code>param1: abc\nparam2: def,ghi\n</code></pre>\n", "title": "Parse a URI String into Name-Value Collection", "answer_id": 39348897, "link": "http://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection/39348897#39348897", "tags": ["java", "parsing", "uri", "namevaluecollection"]}], "question_id": 13592236}, {"body": "<p>The interviewer asked me:</p>\n\n<blockquote>\n  <p>What is <code>Observer</code> and <code>Observable</code> and when should we use them?</p>\n</blockquote>\n\n<p>I wasn't aware of these terms. So, when I came back to home, then I started looking into Google about <code>Observer</code> and <code>Observable</code> and found some point from different resources :</p>\n\n<blockquote>\n  <p>1) <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Observable.html\"><code>Observable</code></a> is a class and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Observer.html\"><code>Observer</code></a> is an interface.</p>\n  \n  <p>2) <code>Observable</code> class maintain a list of Observers.</p>\n  \n  <p>3) When an Observable object is updated, it invokes the <code>update()</code> method of each of its Observers to notify that, it is changed.</p>\n</blockquote>\n\n<p>I found this example:</p>\n\n<pre><code>import java.util.Observable;\nimport java.util.Observer;\n\nclass MessageBoard extends Observable {\n  private String message;\n\n  public String getMessage() {\n    return message;\n  }\n\n  public void changeMessage(String message) {\n    this.message = message;\n    setChanged();\n    notifyObservers(message);\n  }\n\n  public static void main(String[] args) {\n    MessageBoard board = new MessageBoard();\n    Student bob = new Student();\n    Student joe = new Student();\n    board.addObserver(bob);\n    board.addObserver(joe);\n    board.changeMessage(\"More Homework!\");\n  }\n}\n\nclass Student implements Observer {\n  public void update(Observable o, Object arg) {\n    System.out.println(\"Message board changed: \" + arg);\n  }\n}\n</code></pre>\n\n<p>But I'm still unable to figure out why do we need <code>Observer</code> and <code>Observable</code>? What are the <code>setChanged()</code> and <code>notifyObservers(message)</code> methods for?</p>\n", "tags": ["java", "observer-pattern", "observable", "observers"], "title": "When should we use Observer and Observable", "answer_count": 10, "creation_date": 1354799875, "score": 89, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable", "answers": [{"body": "<p>You have a concrete example of a Student and a MessageBoard.  The Student registers by adding itself to the list of Observers that want to be notified when a new Message is posted to the MessageBoard.  When a Message is added to the MessageBoard, it iterates over its list of Observers and notifies them that the event occurred.</p>\n\n<p>Think Twitter.  When you say you want to follow someone, Twitter adds you to their follower list.  When they sent a new tweet in, you see it in your input.  Same idea.  In that case, you Twitter account is the Observer and the person you're following is the Observable.</p>\n\n<p>The analogy might not be perfect, because Twitter is more likely to be a Mediator.  But it illustrates the point.</p>\n", "title": "When should we use Observer and Observable", "answer_id": 13744537, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/13744537#13744537", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>They are parts of the <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\">Observer design pattern</a>.\nUsually one or more <em>obervers</em> get informed about changes in one <em>observable</em>. It's a notifcation that \"something\" happened, where you as a programmer can define what \"something\" means.</p>\n\n<p>When using this pattern, you decouple the both entities from each another - the observers become pluggable.</p>\n", "title": "When should we use Observer and Observable", "answer_id": 13744599, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/13744599#13744599", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>Observer a.k.a callback is registered at Observable.</p>\n\n<p>It is used for informing e.g. about events that happened at some point of time. It is widely used in Swing, Ajax, GWT for dispatching operations on e.g. UI events (button clicks, textfields changed etc).</p>\n\n<p>In Swing you find methods like addXXXListener(Listener l), in GWT you have (Async)callbacks.</p>\n\n<p>As list of observers is dynamic, observers can register and unregister during runtime. It is also a good way do decouple observable from observers, as interfaces are used.</p>\n", "title": "When should we use Observer and Observable", "answer_id": 13744700, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/13744700#13744700", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>In very simple terms (because the other answers are referring you to all the official design patterns anyway, so look at them for further details):</p>\n\n<p>If you want to have a class which is monitored by other classes in the ecosystem of your program you say that you want the class to be observable. I.e. there might be some changes in its state which you would want to broadcast to the rest of the program.</p>\n\n<p>Now, to do this we have to call some kind of method. We don't want the Observable class to be tightly coupled with the classes that are interested in observing it. It doesn't care who it is as long as it fulfils certain criteria. (Imagine it is a radio station, it doesn't care who is listening as long as they have an FM radio tuned on their frequency). To achieve that we use an interface, referred to as the Observer. </p>\n\n<p>Therefore, the Observable class will have a list of Observers (i.e. instances implementing the Observer interface methods you might have). Whenever it wants to broadcast something, it just calls the method on all the observers, one after the other.</p>\n\n<p>The last thing to close the puzzle is how will the Observable class know who is interested?\nSo the Observable class must offer some mechanism to allow Observers to register their interest. A method such as <code>addObserver(Observer o)</code> internally adds the Observer to the list of observers, so that when something important happens, it loops through the list and calls the respective notification method of the Observer interface of each instance in the list.</p>\n\n<p>It might be that in the interview they did not ask you explicitly about the <code>java.util.Observer</code> and <code>java.util.Observable</code> but about the generic concept. The concept is a design pattern, which Java happens to provide support for directly out of the box to help you implement it quickly when you need it. So I would suggest that you understand the concept rather than the actual methods/classes (which you can look up when you need them).</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In response to your comment, the actual <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\"><code>java.util.Observable</code></a> class offers the following facilities:</p>\n\n<ol>\n<li><p>Maintaining a list of <code>java.util.Observer</code> instances. New instances interested in being notified can be added through <code>addObserver(Observer o)</code>, and removed through <code>deleteObserver(Observer o)</code>.</p></li>\n<li><p>Maintaining an internal state, specifying whether the object has changed since the last notification to the observers. This is useful because it separates the part where you say  that the <code>Observable</code> has changed, from the part where you notify the changes. (E.g. Its useful if you have multiple changes happening and you only want to notify at the end of the process rather than at each small step). This is done through <code>setChanged()</code>. So you just call it when you changed something to the <code>Observable</code> and you want the rest of the <code>Observers</code> to eventually know about it.</p></li>\n<li><p>Notifying all observers that the specific <code>Observable</code> has changed state. This is done through <code>notifyObservers()</code>. This checks if the object has actually changed (i.e. a call to <code>setChanged()</code> was made) before proceeding with the notification. There are 2 versions, one with no arguments and one with an <code>Object</code> argument, in case you want to pass some extra information with the notification. Internally what happens is that it just iterates through the list of <code>Observer</code> instances and calls the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html#update%28java.util.Observable,%20java.lang.Object%29\"><code>update(Observable o, Object arg)</code></a> method for each of them. This tells the <code>Observer</code> which was the Observable object that changed (you could be observing more than one), and the extra <code>Object arg</code> to potentially carry some extra information (passed through <code>notifyObservers()</code>.</p></li>\n</ol>\n", "title": "When should we use Observer and Observable", "answer_id": 13744816, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/13744816#13744816", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>If the interviewer asks to implement <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow\">Observer design pattern</a> without using Observer classes and interfaces, you can use the following simple example! </p>\n\n<h3>MyObserver as observer interface</h3>\n\n<pre><code>interface MyObserver {\n\n    void update(MyObservable o, Object arg);\n}\n</code></pre>\n\n<h3>MyObservable as Observable class</h3>\n\n<pre><code>class MyObservable\n{\n    ArrayList&lt;MyObserver&gt; myObserverList = new ArrayList&lt;MyObserver&gt;();\n\n    boolean changeFlag = false;\n\n    public void notifyObservers(Object o)\n    {\n        if (hasChanged())\n        {\n            for(MyObserver mo : myObserverList) {\n                mo.update(this, o);\n            }\n            clearChanged();\n        }\n    }\n\n\n    public void addObserver(MyObserver o) {\n        myObserverList.add(o);        \n    }\n\n    public void setChanged() {\n        changeFlag = true;\n    }\n\n    public boolean hasChanged() {\n        return changeFlag;\n    }\n\n    protected void clearChanged() {\n        changeFlag = false;\n    }\n\n    // ...\n}\n</code></pre>\n\n<h3>Your example with MyObserver and MyObservable!</h3>\n\n<pre><code>class MessageBoard extends MyObservable {\n  private String message;\n\n  public String getMessage() {\n    return message;\n  }\n\n  public void changeMessage(String message) {\n    this.message = message;\n    setChanged();\n    notifyObservers(message);\n  }\n\n  public static void main(String[] args) {\n    MessageBoard board = new MessageBoard();\n    Student bob = new Student();\n    Student joe = new Student();\n    board.addObserver(bob);\n    board.addObserver(joe);\n    board.changeMessage(\"More Homework!\");\n  }\n}\n\nclass Student implements MyObserver {\n  public void update(MyObservable o, Object arg) {\n    System.out.println(\"Message board changed: \" + arg);\n  }\n}\n</code></pre>\n", "title": "When should we use Observer and Observable", "answer_id": 22374679, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/22374679#22374679", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p><strong>Defination</strong></p>\n\n<p>Observer pattern is used when there is one to many relationship between objects such as if one object is modified, its depenedent objects are to be notified automatically.</p>\n\n<p><strong>Examples</strong></p>\n\n<ol>\n<li><p>Lets say,your permanent address is changed then you need to notify passport authority and pan card authority.So here passport authority and pan card authority are observers and You are a subject.</p></li>\n<li><p>On facebook also,If you subscribe someone then whenever new updates happen then you  will be notified.</p></li>\n</ol>\n\n<p><strong>When to use it:</strong></p>\n\n<pre><code>1. When one object changes its state,then all other dependents object must automatically change their state to maintain consistency\n2. When subject doesn't know about number of observers it has.\n3. When an object should be able to notify other objects without knowing who objects are.\n</code></pre>\n\n<p><strong>Step 1</strong></p>\n\n<p>Create Subject class.</p>\n\n<p>Subject.java</p>\n\n<pre><code>  import java.util.ArrayList;\n  import java.util.List;\n\n  public class Subject {\n\n  private List&lt;Observer&gt; observers \n        = new ArrayList&lt;Observer&gt;();\n  private int state;\n\n  public int getState() {\n    return state;\n  }\n\n public void setState(int state) {\n   this.state = state;\n   notifyAllObservers();\n }\n\n   public void attach(Observer observer){\n     observers.add(observer);       \n   }\n\n  public void notifyAllObservers(){\n    for (Observer observer : observers) {\n     observer.update();\n  }\n}   \n</code></pre>\n\n<p>}</p>\n\n<p><strong>Step 2</strong></p>\n\n<p>Create Observer class.</p>\n\n<p>Observer.java</p>\n\n<pre><code>public abstract class Observer {\n   protected Subject subject;\n   public abstract void update();\n}\n</code></pre>\n\n<p><strong>Step 3</strong></p>\n\n<p>Create concrete observer classes</p>\n\n<p>BinaryObserver.java</p>\n\n<pre><code>public class BinaryObserver extends Observer{\n\n  public BinaryObserver(Subject subject){\n     this.subject = subject;\n     this.subject.attach(this);\n  }\n\n  @Override\n  public void update() {\n     System.out.println( \"Binary String: \" \n     + Integer.toBinaryString( subject.getState() ) ); \n  }\n</code></pre>\n\n<p>}</p>\n\n<p>OctalObserver.java</p>\n\n<pre><code>public class OctalObserver extends Observer{\n\n   public OctalObserver(Subject subject){\n     this.subject = subject;\n    this.subject.attach(this);\n }\n\n  @Override\n  public void update() {\n    System.out.println( \"Octal String: \" \n    + Integer.toOctalString( subject.getState() ) ); \n  }\n</code></pre>\n\n<p>}</p>\n\n<p>HexaObserver.java</p>\n\n<pre><code>public class HexaObserver extends Observer{\n\n  public HexaObserver(Subject subject){\n    this.subject = subject;\n    this.subject.attach(this);\n }\n\n  @Override\n  public void update() {\n     System.out.println( \"Hex String: \" \n    + Integer.toHexString( subject.getState() ).toUpperCase() ); \n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Step 4</strong></p>\n\n<p>Use Subject and concrete observer objects.</p>\n\n<p>ObserverPatternDemo.java</p>\n\n<pre><code> public class ObserverPatternDemo {\n    public static void main(String[] args) {\n       Subject subject = new Subject();\n\n       new HexaObserver(subject);\n       new OctalObserver(subject);\n       new BinaryObserver(subject);\n\n       System.out.println(\"First state change: 15\");    \n       subject.setState(15);\n       System.out.println(\"Second state change: 10\");   \n       subject.setState(10);\n }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Step 5</strong></p>\n\n<p>Verify the output.</p>\n\n<p>First state change: 15</p>\n\n<p>Hex String: F</p>\n\n<p>Octal String: 17</p>\n\n<p>Binary String: 1111</p>\n\n<p>Second state change: 10</p>\n\n<p>Hex String: A</p>\n\n<p>Octal String: 12</p>\n\n<p>Binary String: 1010</p>\n", "title": "When should we use Observer and Observable", "answer_id": 24198718, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/24198718#24198718", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p><em>\"I tried to figure out, why exactly we need Observer and Observable\"</em></p>\n\n<p>As previous answers already stated, they provide means of subscribing an observer to receive automatic notifications of an observable. </p>\n\n<p>One example application where this may be useful is in <strong>data binding</strong>, let's say you have some UI that edits some data, and you want the UI to react when the data is updated, you can make your data observable, and subscribe your UI components to the data</p>\n\n<p>Knockout.js is a MVVM javascript framework that has a great getting started tutorial, to see more observables in action I really recommend going through the tutorial. <a href=\"http://learn.knockoutjs.com/\" rel=\"nofollow\">http://learn.knockoutjs.com/</a></p>\n\n<p>I also found this article in Visual Studio 2008 start page (<em>The Observer Pattern is the foundation of Model View Controller (MVC) development</em>)\n<a href=\"http://visualstudiomagazine.com/articles/2013/08/14/the-observer-pattern-in-net.aspx\" rel=\"nofollow\">http://visualstudiomagazine.com/articles/2013/08/14/the-observer-pattern-in-net.aspx</a></p>\n", "title": "When should we use Observer and Observable", "answer_id": 26128740, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/26128740#26128740", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>I have written a short description of the observer pattern here: <a href=\"http://www.devcodenote.com/2015/04/design-patterns-observer-pattern.html\" rel=\"nofollow\">http://www.devcodenote.com/2015/04/design-patterns-observer-pattern.html</a></p>\n\n<p>A snippet from the post:</p>\n\n<p>Observer Pattern : It essentially establishes a one-to-many relationship between objects and has a loosely coupled design between interdependent objects.</p>\n\n<p>TextBook Definition: The Observer Pattern defines a one-to-many dependency between objects so that when one object changes state, all of its dependents are notified and updated automatically.</p>\n\n<p>Consider a feed notification service for example. Subscription models are the best to understand the observer pattern.</p>\n", "title": "When should we use Observer and Observable", "answer_id": 29689882, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/29689882#29689882", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>The observer pattern is a very basic class structure that is very powerful when used to reduce cohesion and to abstract from complex relationships. Also you are able to invert dependencies.</p>\n\n<p>I used it by myself to get more flexibility. Checkout</p>\n\n<p><a href=\"http://journerist.com/2015/11/07/trading-type-safety-for-better-architecture/\" rel=\"nofollow\">http://journerist.com/2015/11/07/trading-type-safety-for-better-architecture/</a></p>\n", "title": "When should we use Observer and Observable", "answer_id": 34053640, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/34053640#34053640", "tags": ["java", "observer-pattern", "observable", "observers"]}, {"body": "<p>May can help you to quick overview .</p>\n\n<p><a href=\"http://i.stack.imgur.com/GvUaK.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/GvUaK.png\" alt=\"enter image description here\"></a></p>\n", "title": "When should we use Observer and Observable", "answer_id": 39463300, "link": "http://stackoverflow.com/questions/13744450/when-should-we-use-observer-and-observable/39463300#39463300", "tags": ["java", "observer-pattern", "observable", "observers"]}], "question_id": 13744450}, {"body": "<p>I am currently trying to compile and test a small Android Application.</p>\n\n<p>I am using Eclipse, and have SDK 4.2 (Api Level 17) installed. \nI've set </p>\n\n<pre><code>&lt;uses-sdk android:targetSdkVersion=\"17\" android:minSdkVersion=\"8\" /&gt;\n</code></pre>\n\n<p>although I've tried also different values (i.e. 17/17).</p>\n\n<p>I do not use any GoogleAPI functions, nor do I use functions that are not available in API Level 8. Or at least I do not get any compile errors or warnings in that regard.</p>\n\n<p>When I compile the project and run it on a real device running Android 2.2.1 the Application runs fine. However when I try to run the application on an emulator (Android Virtual Device) with Android 4.2, Api Level 17 I get the following error:</p>\n\n<pre><code>[2012-12-10 21:10:29 - SoftKeyboard] Installation error: INSTALL_FAILED_VERSION_DOWNGRADE\n[2012-12-10 21:10:29 - SoftKeyboard] Please check logcat output for more details.\n[2012-12-10 21:10:29 - SoftKeyboard] Launch canceled!\n</code></pre>\n\n<p>Logcat however is empty. I have really no clue, what this error even means...</p>\n", "tags": ["java", "android", "sdk"], "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_count": 10, "creation_date": 1355170986, "score": 88, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade", "answers": [{"body": "<p>It means you're trying to install an app with the same packageName as an app that's already installed on the emulator, but the one you're trying to install has a lower versionCode (integer value for your version number).</p>\n\n<p>You might have installed from a separate copy of the code where the version number was higher than the copy you're working with right now.  In either case, either:</p>\n\n<ul>\n<li><p>uninstall the currently installed copy</p></li>\n<li><p>or open up your phone's Settings > Application Manager to determine the version number for the installed app, and increment your <code>&lt;manifest android:versionCode</code>  to be higher in the AndroidManifest.</p></li>\n<li><p>or <a href=\"http://stackoverflow.com/a/13772620/632951\">http://stackoverflow.com/a/13772620/632951</a></p></li>\n</ul>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 13809076, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/13809076#13809076", "tags": ["java", "android", "sdk"]}, {"body": "<p>First uninstall your application from the emulator:</p>\n\n<pre><code>adb -e uninstall your.application.package.name\n</code></pre>\n\n<p>Then try to install the application again.</p>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 13809095, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/13809095#13809095", "tags": ["java", "android", "sdk"]}, {"body": "<p>This was happening in my project because I was using an XML resource to set the version code.</p>\n\n<pre><code>AndroidManifest.xml:\nandroid:versionCode=\"@integer/app_version_code\"\n\napp.xml:\n&lt;integer name=\"app_version_code\"&gt;64&lt;/integer&gt;\n</code></pre>\n\n<p>This wasn't a problem in prior versions of <code>adb</code>, however, as of <code>platform-tools</code> r16 this is no longer being resolved to the proper integer.  You can either force the re-install using <code>adb -r</code> or avoid the issue entirely by using a literal in the manifest:</p>\n\n<pre><code>android:versionCode=\"64\"\n</code></pre>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 14946938, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/14946938#14946938", "tags": ["java", "android", "sdk"]}, {"body": "<p>This can happen when trying to install a debug/unsigned APK on top of a signed release APK from the Play store.</p>\n\n<pre><code>H:\\&gt;adb install -r \"Signed.apk\"\n2909 KB/s (220439 bytes in 0.074s)\n        pkg: /data/local/tmp/Signed.apk\nSuccess\n\nH:\\&gt;adb install -r \"AppName.apk\"\n2753 KB/s (219954 bytes in 0.078s)\n        pkg: /data/local/tmp/AppName.apk\nFailure [INSTALL_FAILED_VERSION_DOWNGRADE]\n</code></pre>\n\n<p>The solution to this is to <a href=\"http://stackoverflow.com/a/13809095/588306\">uninstall</a> and then reinstall or re run it from the IDE.</p>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 21117507, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/21117507#21117507", "tags": ["java", "android", "sdk"]}, {"body": "<p>You can also consider adding <code>-d</code> flag to adb install. It should ignore this error.</p>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 21868040, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/21868040#21868040", "tags": ["java", "android", "sdk"]}, {"body": "<p>this happened to me when I imported an Android Studio App into eclipse.</p>\n\n<p>I figured out the andoridmanifest.xml file needs to be slightly modified when importing from android studio project. I created a new test project, and copied over the headings to make it match. voila, issue solved.</p>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 26088958, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/26088958#26088958", "tags": ["java", "android", "sdk"]}, {"body": "<p>This error appears in my android project with multiple kind of gfx files. At the end no change in the manifest file was accepted.</p>\n\n<p>Because my lack of knowledge about the android devices I forget that my test device has a second User. This User also has an installed version of my app so I also have to delete the app for this user account and it works.</p>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 29126851, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/29126851#29126851", "tags": ["java", "android", "sdk"]}, {"body": "<p>According to sdk src code from ...\\android-22\\android\\content\\pm\\PackageManager.java</p>\n\n<pre><code>/**\n * Installation return code: this is passed to the {@link IPackageInstallObserver} by\n * {@link #installPackage(android.net.Uri, IPackageInstallObserver, int)} if\n * the new package has an older version code than the currently installed package.\n * @hide\n */\npublic static final int INSTALL_FAILED_VERSION_DOWNGRADE = -25;\n</code></pre>\n\n<p>if the new package has an older version code than the currently installed package.</p>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 29653076, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/29653076#29653076", "tags": ["java", "android", "sdk"]}, {"body": "<blockquote>\n  <p>INSTALL_FAILED_VERSION_DOWNGRADE</p>\n</blockquote>\n\n<p>All Android apps have a package name. The package name uniquely identifies the app on the device. If same <strong>packageName</strong> as app that's already <strong>installed</strong> on the device then this <strong>error</strong> Showing .</p>\n\n<ol>\n<li>You can  uninstall the application from your <strong>device first</strong> and\nthen install the fresh one .</li>\n<li><strong>You could simply increase the number by one each time a new version is released</strong>.</li>\n</ol>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 35450578, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/35450578#35450578", "tags": ["java", "android", "sdk"]}, {"body": "<p>In Marshmallow, I got this error, </p>\n\n<pre><code>Installation error: INSTALL_FAILED_PERMISSION_MODEL_DOWNGRADE\nPlease check logcat output for more details.\nLaunch canceled!\n</code></pre>\n\n<p>Looking for solution I searched and came here. \nI deleted the app but still have this problem in Nexus 6. Later found that in, </p>\n\n<pre><code>Settings &gt; Apps &gt; [My app name] have to removed for all user. \n</code></pre>\n", "title": "Android Emulator: Installation error: INSTALL_FAILED_VERSION_DOWNGRADE", "answer_id": 35798311, "link": "http://stackoverflow.com/questions/13808599/android-emulator-installation-error-install-failed-version-downgrade/35798311#35798311", "tags": ["java", "android", "sdk"]}], "question_id": 13808599}, {"body": "<p>I'm trying to add header for my request using <code>HttpUrlConnection</code> but the method <code>setRequestProperty()</code> doesn't seem working. The server side doesn't receive any request with my header. Can anyone help me? Thanks in advance.</p>\n\n<pre><code>HttpURLConnection hc;\n    try {\n        String authorization = \"\";\n        URL address = new URL(url);\n        hc = (HttpURLConnection) address.openConnection();\n\n\n        hc.setDoOutput(true);\n        hc.setDoInput(true);\n        hc.setUseCaches(false);\n\n        if (username != null &amp;&amp; password != null) {\n            authorization = username + \":\" + password;\n        }\n\n        if (authorization != null) {\n            byte[] encodedBytes;\n            encodedBytes = Base64.encode(authorization.getBytes(), 0);\n            authorization = \"Basic \" + encodedBytes;\n            hc.setRequestProperty(\"Authorization\", authorization);\n        }\n</code></pre>\n", "tags": ["java", "http"], "title": "Adding header for HttpURLConnection", "answer_count": 5, "creation_date": 1349371230, "score": 86, "link": "http://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection", "answers": [{"body": "<p>I have used the following code in the past and it had worked with basic authentication enabled in TomCat:</p>\n\n<pre><code>URL myURL = new URL(serviceURL);\nHttpURLConnection myURLConnection = (HttpURLConnection)myURL.openConnection();\nString userCredentials = \"username:password\";\nString basicAuth = \"Basic \" + new String(new Base64().encode(userCredentials.getBytes()));\nmyURLConnection.setRequestProperty (\"Authorization\", basicAuth);\nmyURLConnection.setRequestMethod(\"POST\");\nmyURLConnection.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\nmyURLConnection.setRequestProperty(\"Content-Length\", \"\" + postData.getBytes().length);\nmyURLConnection.setRequestProperty(\"Content-Language\", \"en-US\");\nmyURLConnection.setUseCaches(false);\nmyURLConnection.setDoInput(true);\nmyURLConnection.setDoOutput(true);\n</code></pre>\n\n<p>You can try the above code.  The code above is for POST, and you can modify it for GET</p>\n", "title": "Adding header for HttpURLConnection", "answer_id": 15555952, "link": "http://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection/15555952#15555952", "tags": ["java", "http"]}, {"body": "<p>Just cause I don't see this bit of information in the answers above, the reason the code snippet originally posted doesn't work correctly is because the 'encodedBytes' variable is a byte[] and not a String value. If you pass the byte[] to a new String() as below, the code snippet works perfectly.</p>\n\n<pre><code>        encodedBytes = Base64.encode(authorization.getBytes(), 0);\n        authorization = \"Basic \" + new String(encodedBytes);\n</code></pre>\n", "title": "Adding header for HttpURLConnection", "answer_id": 29086206, "link": "http://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection/29086206#29086206", "tags": ["java", "http"]}, {"body": "<p>Finally this worked for me</p>\n\n<pre><code>private String buildBasicAuthorizationString(String username, String password) {\n\n    String credentials = username + \":\" + password;\n    return \"Basic \" + new String(Base64.encode(credentials.getBytes(), Base64.DEFAULT));\n}\n</code></pre>\n", "title": "Adding header for HttpURLConnection", "answer_id": 29451171, "link": "http://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection/29451171#29451171", "tags": ["java", "http"]}, {"body": "<p>Your code is fine.You can also use the same thing in this way.</p>\n\n<pre><code>public static String getResponseFromJsonURL(String url) {\n    String jsonResponse = null;\n    if (CommonUtility.isNotEmpty(url)) {\n        try {\n            /************** For getting response from HTTP URL start ***************/\n            URL object = new URL(url);\n\n            HttpURLConnection connection = (HttpURLConnection) object\n                    .openConnection();\n            // int timeOut = connection.getReadTimeout();\n            connection.setReadTimeout(60 * 1000);\n            connection.setConnectTimeout(60 * 1000);\n            String authorization=\"xyz:xyz$123\";\n            String encodedAuth=\"Basic \"+Base64.encode(authorization.getBytes());\n            connection.setRequestProperty(\"Authorization\", encodedAuth);\n            int responseCode = connection.getResponseCode();\n            //String responseMsg = connection.getResponseMessage();\n\n            if (responseCode == 200) {\n                InputStream inputStr = connection.getInputStream();\n                String encoding = connection.getContentEncoding() == null ? \"UTF-8\"\n                        : connection.getContentEncoding();\n                jsonResponse = IOUtils.toString(inputStr, encoding);\n                /************** For getting response from HTTP URL end ***************/\n\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n\n        }\n    }\n    return jsonResponse;\n}\n</code></pre>\n\n<p>Its Return response code 200 if authorizationis success</p>\n", "title": "Adding header for HttpURLConnection", "answer_id": 34020080, "link": "http://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection/34020080#34020080", "tags": ["java", "http"]}, {"body": "<p>With <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#headers-cookies-status-etc\" rel=\"nofollow\">RestAssurd</a> you can also do the following: </p>\n\n<pre><code>String path = baseApiUrl;\n    URL url = new URL(path);\n    given().\n            contentType(\"application/json\").\n            given().header(\"headerName\", \"headerValue\").\n            when().\n            get(url).\n            then().\n            statusCode(200);\n</code></pre>\n", "title": "Adding header for HttpURLConnection", "answer_id": 38457453, "link": "http://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection/38457453#38457453", "tags": ["java", "http"]}], "question_id": 12732422}, {"body": "<p>I use Mac OS X 10.8.2, and use JDK 7. Now I downloaded the latest version of IDEA IntelliJ, 11. But it doesn't seem to start without JDK 6. Is there any workaround?</p>\n\n<p>How can I run IDEA IntelliJ on Mac OS X with JDK 7?</p>\n", "tags": ["java", "osx", "intellij-idea"], "title": "How do I run IDEA IntelliJ on Mac OS X with JDK 7?", "answer_count": 5, "creation_date": 1350937246, "score": 84, "link": "http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7", "answers": [{"body": "<p><strong>UPDATE:</strong></p>\n\n<p>When running IDEA 12 on JDK 1.7 (after changing <code>JVMVersion</code> to <code>1.7*</code> in <code>Info.plist</code>) make sure you have <code>LANG=en_US.UTF-8</code> in your environment, see the related Java issues:</p>\n\n<ul>\n<li><a href=\"http://java.net/jira/browse/MACOSX_PORT-165\">http://java.net/jira/browse/MACOSX_PORT-165</a></li>\n<li><a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7187821\">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7187821</a></li>\n</ul>\n\n<p><a href=\"http://devnet.jetbrains.com/message/5472745#5472745\">Refer to this thread</a> for debugging launcher issues.</p>\n\n<p>Please also be aware that GUI applications on Mac have no access to your Terminal environment. If you've defined some environment variables that work fine in Terminal, other applications that you run not from the Terminal will not see these variables. A workaround for this problem is to start the application directly from the Terminal, for IDEA the following command can be used:</p>\n\n<pre><code>open -a /Applications/IntelliJ\\ IDEA\\ 12.app/\n</code></pre>\n\n<p>There are known issues with JDK 1.7 support on Mac right now, like missing Retina support, possible flicker, <a href=\"http://youtrack.jetbrains.com/issue/IDEA-93710\">some APIs not implemented</a>. It's highly recommended to run IDEA under JDK 1.6 for the best experience on Mac. It doesn't stop you from using JDK 1.7 as a target for building and running your projects.</p>\n\n<hr>\n\n<p>IntelliJ IDEA 11 launcher will not work with JDK 1.7 on Mac.\nAt the moment you must have JDK 1.6 installed so that you can run IDEA 11 and older versions.</p>\n", "title": "How do I run IDEA IntelliJ on Mac OS X with JDK 7?", "answer_id": 13019403, "link": "http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7/13019403#13019403", "tags": ["java", "osx", "intellij-idea"]}, {"body": "<p>For those who still getting error message that Java 6 must be installed. There are two problems with that:</p>\n\n<ol>\n<li>Mac OS wants jdk 1.6 to be installed whenever application Info.plist file contains Java section</li>\n<li>Java launcher shipped with IntelliJ also wants jdk 1.6 badly</li>\n</ol>\n\n<p>All you need is:</p>\n\n<ol>\n<li>Replace original launcher (Contents/MacOS/idea) with shell script with explicit java invocation (parameters and classpath can be taken from Info.plist's Java section).</li>\n<li>Remove \"Java\" section from Info.plist</li>\n</ol>\n\n<p>Or you can use this <a href=\"https://github.com/wonder-mice/mac-java-launcher\" rel=\"nofollow\">https://github.com/wonder-mice/mac-java-launcher</a> that automate things and I believe will work not only with IntelliJ.</p>\n", "title": "How do I run IDEA IntelliJ on Mac OS X with JDK 7?", "answer_id": 20172107, "link": "http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7/20172107#20172107", "tags": ["java", "osx", "intellij-idea"]}, {"body": "<p>With IntelliJ 13 and OS X 10.9, I can just change the plist to 1.7* and it works on Java 7 without prompting for the Java 6 install.</p>\n", "title": "How do I run IDEA IntelliJ on Mac OS X with JDK 7?", "answer_id": 21270379, "link": "http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7/21270379#21270379", "tags": ["java", "osx", "intellij-idea"]}, {"body": "<h3>Mac OSX Yosemite / El Capitan Update</h3>\n\n<p>I have IntelliJ 15 Ultimate installed, and I received this same message.\nI also have Java 1.7 and 1.8 installed.</p>\n\n<p>I solved it using the following steps in a terminal:</p>\n\n<pre><code>$ cd /Applications/IntelliJ\\ IDEA\\ 14.app/Contents\n</code></pre>\n\n<p>Edited the <code>Info.plist</code> file, and changed this bit:</p>\n\n<pre><code>&lt;key&gt;JVMVersion&lt;/key&gt;\n&lt;string&gt;1.6*&lt;/string&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;key&gt;JVMVersion&lt;/key&gt;\n&lt;string&gt;1.8*&lt;/string&gt;\n</code></pre>\n\n<p>After launching, everything was golden.</p>\n", "title": "How do I run IDEA IntelliJ on Mac OS X with JDK 7?", "answer_id": 26871209, "link": "http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7/26871209#26871209", "tags": ["java", "osx", "intellij-idea"]}, {"body": "<p>Others have suggested very good solutions but you have to do it manually vi editor etc. Instead you can run this command via your Mac Terminal and you will be good to go :</p>\n\n<pre><code>find /Applications/IntelliJ*/*Contents/*Info.plist  -exec sed -i -e 's/string&gt;1.6/string&gt;1.7/' {} \\;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/NM6EZ.png\" alt=\"enter image description here\"></p>\n\n<p>Few optional tips:</p>\n\n<ol>\n<li>If you have JDK 1.8 installed then simply replace the 1.7 with 1.8 in above command.</li>\n<li>As always make a copy of your Info.plist in a folder just in case if you want to compare the result or revert it back for one reason or another.</li>\n<li><p>To verify that the change took place run this:</p>\n\n<ul>\n<li><code>grep \"string&gt;1.7\" /Applications/IntelliJ*/*Contents/*Info.plist</code></li>\n</ul></li>\n</ol>\n", "title": "How do I run IDEA IntelliJ on Mac OS X with JDK 7?", "answer_id": 28956385, "link": "http://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7/28956385#28956385", "tags": ["java", "osx", "intellij-idea"]}], "question_id": 13019199}, {"body": "<p>I have this problem:</p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: mvc3.model.Topic.comments, no session or session was closed</p>\n</blockquote>\n\n<p>Here is the model:  </p>\n\n<pre><code>@Entity\n@Table(name = \"T_TOPIC\")\npublic class Topic {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n\n    @ManyToOne\n    @JoinColumn(name=\"USER_ID\")\n    private User author;\n\n    @Enumerated(EnumType.STRING)    \n    private Tag topicTag;\n\n    private String name;\n    private String text;\n\n    @OneToMany(mappedBy = \"topic\", cascade = CascadeType.ALL)\n    private Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n\n    ...\n\n    public Collection&lt;Comment&gt; getComments() {\n           return comments;\n    }\n\n}\n</code></pre>\n\n<p>The controller, which calls model looks like the following:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/topic\")\npublic class TopicController {\n\n    @Autowired\n    private TopicService service;\n\n    private static final Logger logger = LoggerFactory.getLogger(TopicController.class);\n\n\n    @RequestMapping(value = \"/details/{topicId}\", method = RequestMethod.GET)\n    public ModelAndView details(@PathVariable(value=\"topicId\") int id)\n    {\n\n            Topic topicById = service.findTopicByID(id);\n            Collection&lt;Comment&gt; commentList = topicById.getComments();\n\n            Hashtable modelData = new Hashtable();\n            modelData.put(\"topic\", topicById);\n            modelData.put(\"commentList\", commentList);\n\n            return new ModelAndView(\"/topic/details\", modelData);\n\n     }\n\n}\n</code></pre>\n\n<p>The jsp-page looks li the following:</p>\n\n<pre><code>&lt;%@page import=\"com.epam.mvc3.helpers.Utils\"%&gt;\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ page session=\"false\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n      &lt;title&gt;View Topic&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;ul&gt;\n&lt;c:forEach items=\"${commentList}\" var=\"item\"&gt;\n&lt;jsp:useBean id=\"item\" type=\"mvc3.model.Comment\"/&gt;\n&lt;li&gt;${item.getText()}&lt;/li&gt;\n\n&lt;/c:forEach&gt;\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Exception is rised, when viewing jsp. In the line with <em>c:forEach</em> loop</p>\n", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"], "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_count": 15, "creation_date": 1343758691, "score": 83, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception", "answers": [{"body": "<p>If you know that you'll want to see all <code>Comment</code>s every time you retrieve a <code>Topic</code> then change your field mapping for <code>comments</code> to:</p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"topic\", cascade = CascadeType.ALL)\nprivate Collection&lt;Comment&gt; comments = new LinkedHashSet&lt;Comment&gt;();\n</code></pre>\n\n<p>Collections are lazy-loaded by default, take a look at <a href=\"http://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence\">this</a> if you want to know more.</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 11746720, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/11746720#11746720", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>your list is lazy loading, so the list wasn't loaded.\ncall to get on the list is not enough.\nuse in Hibernate.initialize in order to init the list.\nIf dosnt work run on the list element and call Hibernate.initialize for each .\nthis need to be before you return from the transaction scope.\nlook on this link:  <a href=\"http://www.javalobby.org/java/forums/t20533.html\" rel=\"nofollow\">http://www.javalobby.org/java/forums/t20533.html</a>\nsearch for  - </p>\n\n<pre><code>Node n = // .. get the node\nHibernate.initialize(n); // initializes 'parent' similar to getParent.\nHibernate.initialize(n.getChildren()); // pass the lazy collection into the session \n</code></pre>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 11748194, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/11748194#11748194", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>In order to lazy load a collection there must be an active session.  In a web app there are two ways to do this.  You can use the <a href=\"https://community.jboss.org/wiki/OpenSessionInView?_sscc=t\">Open Session In View</a> pattern, where you use an <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewInterceptor.html\">interceptor</a> to open the session at the beginning of the request and close it at the end.  The risk there is that you have to have solid exception handling or you could bind up all your sessions and your app could hang.  </p>\n\n<p>The other way to handle this is to collect all the data you need in your controller, close your session, and then stuff the data into your model.  I personally prefer this approach, as it seems a little closer to the spirit of the MVC pattern.  Also if you get an error from the database this way you can handle it a lot better than if it happens in your view renderer.  Your friend in this scenario is <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching-initialization\">Hibernate.initialize</a>(myTopic.getComments()).  You will also have to reattach the object to the session, since you're creating a new transaction with every request.  Use session.lock(myTopic,LockMode.NONE) for that.</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 11748226, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/11748226#11748226", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>From my experience, I have the following methods to solved the famous LazyInitializationException:</p>\n\n<p><strong>(1) Use Hibernate.initialize</strong></p>\n\n<p>Hibernate.initialize(topics.getComments());</p>\n\n<p><strong>(2) Use JOIN FETCH</strong></p>\n\n<p>You can use the JOIN FETCH syntax in your JPQL to explicitly fetch the child collection out. This is some how like EAGER fetching.</p>\n\n<p><strong>(3) Use OpenSessionInViewFilter</strong></p>\n\n<p>LazyInitializationException often occur in view layer. If you use Spring framework, you can use OpenSessionInViewFilter. However, I do not suggest you to do so. It may leads to performance issue if not use correctly.</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 11754441, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/11754441#11754441", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>it was the problem i recently faced which i solved with using </p>\n\n<pre><code>&lt;f:attribute name=\"collectionType\" value=\"java.util.ArrayList\" /&gt;\n</code></pre>\n\n<p>more detailed decription <a href=\"http://blog.itcrowd.pl/2013/02/jsf-manytomany-and-lazyinitializationex.html\" rel=\"nofollow\">here</a> and this saved my day.</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 19839721, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/19839721#19839721", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>i resolved using List instead of Set:</p>\n\n<pre><code>private List&lt;Categories&gt; children = new ArrayList&lt;Categories&gt;();\n</code></pre>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 24627349, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/24627349#24627349", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>The reason is that when you use lazy load, the session is closed.</p>\n\n<p>There are two solutions.</p>\n\n<ol>\n<li><p>Don't use lazy load.</p>\n\n<p>Set <code>lazy=false</code> in XML or Set <code>@OneToMany(fetch = FetchType.EAGER)</code> In annotation.</p></li>\n<li><p>Use lazy load. </p>\n\n<p>Set <code>lazy=true</code> in XML or Set <code>@OneToMany(fetch = FetchType.LAZY)</code> In annotation.</p>\n\n<p>and add <code>OpenSessionInViewFilter filter</code> in your <code>web.xml</code></p></li>\n</ol>\n\n<p>Detail See my post.</p>\n\n<p><a href=\"http://stackoverflow.com/a/27286187/1808417\">http://stackoverflow.com/a/27286187/1808417</a></p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 27287313, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/27287313#27287313", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>add this to your persistence.xml</p>\n\n<pre><code>&lt;property name=\"hibernate.enable_lazy_load_no_trans\" value=\"true\" /&gt;\n</code></pre>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 29569810, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/29569810#29569810", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>I found out that declaring <code>@PersistenceContext</code> as <code>EXTENDED</code> also solves this problem:</p>\n\n<pre><code>@PersistenceContext(type = PersistenceContextType.EXTENDED)\n</code></pre>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 31024098, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/31024098#31024098", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<h2>The origin of your problem:</h2>\n\n<p>By default hibernate lazily loads the collections (relationships) which means whenver you use the <code>collection</code> in your code(here <code>comments</code> field\nin <code>Topic</code> class)\nthe hibernate gets that from database, now the problem is that you are getting the collection in your controller (where the \nJPA session is closed).This is the line of code that causes the exception\n(where you are loading the <code>comments</code> collection): </p>\n\n<pre><code>    Collection&lt;Comment&gt; commentList = topicById.getComments();\n</code></pre>\n\n<p>You are  getting \"comments\" collection (topic.getComments()) in your controller(where <code>JPA session</code> has ended) and that causes the exception. Also if you had got \nthe <code>comments</code> collection in your jsp file like this(instead of getting it in your controller): </p>\n\n<pre><code>&lt;c:forEach items=\"topic.comments\" var=\"item\"&gt;\n//some code\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>You would still have the same exception for the same reason.</p>\n\n<h2>Solving the problem:</h2>\n\n<p>Because you just can have only two collections with the <code>FetchType.Eager</code>(eagerly fetched collection) in an Entity class and because lazy loading is more\nefficient than eagerly loading, I think this way of solving your problem is better than just changing the <code>FetchType</code> to eager:</p>\n\n<p>If you want to have collection lazy initialized, and also make this work,\nit is better to add this snippet of code to your <code>web.xml</code> :</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SpringOpenEntityManagerInViewFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>What this code does is that it will increase the length of your <code>JPA session</code> or as the documentation says, it is used <code>\"to allow for lazy loading in web views despite the original transactions already being completed.\"</code> so \nthis way the JPA session will be open a bit longer and because of that\nyou can lazily load collections in your jsp files and controller classes.</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 31482435, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/31482435#31482435", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>If you are trying to have a relation between a entity and a Collection or a List of java objects (for example Long type), it would like something like this:</p>\n\n<pre><code>@ElementCollection(fetch = FetchType.EAGER)\n    public List&lt;Long&gt; ids;\n</code></pre>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 32185289, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/32185289#32185289", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>For those working with <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html\" rel=\"nofollow\">Criteria</a>, I found that </p>\n\n<pre><code>criteria.setFetchMode(\"lazily_fetched_member\", FetchMode.EAGER);\n</code></pre>\n\n<p>did everything I needed had done.</p>\n\n<p>Initial fetch mode for collections is set to FetchMode.LAZY to provide performance, but when I need the data, I just add that line and enjoy the fully populated objects.</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 34013183, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/34013183#34013183", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>To solve the problem in my case it was just missing this line</p>\n\n<pre><code>&lt;tx:annotation-driven transaction-manager=\"myTxManager\" /&gt;\n</code></pre>\n\n<p>in the application-context file.</p>\n\n<p>The <code>@Transactional</code> annotation over a method was not taken into account.</p>\n\n<p>Hope the answer will help someone</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 35228464, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/35228464#35228464", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>@Transactional annotation on controller is missing</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/\")\n@Transactional\npublic class UserController {\n}\n</code></pre>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 36234239, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/36234239#36234239", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}, {"body": "<p>I know it's an old question but I want to help.\nYou can put the transactional annotation on the service method you need, in this case findTopicByID(id) should have</p>\n\n<pre><code>@Transactional(propagation=Propagation.REQUIRED, readOnly=true, noRollbackFor=Exception.class)\n</code></pre>\n\n<p>more info about this annotation can be found <a href=\"http://stackoverflow.com/questions/10740021/transactionalpropagation-propagation-required\">here</a></p>\n\n<p>About the other solutions:</p>\n\n<pre><code>fetch = FetchType.EAGER \n</code></pre>\n\n<p>is not a good practice, it should be used ONLY if necessary.</p>\n\n<pre><code>Hibernate.initialize(topics.getComments());\n</code></pre>\n\n<p>The hibernate initializer binds your classes to the hibernate technology. If you are aiming to be flexible is not a good way to go.</p>\n\n<p>Hope it helps</p>\n", "title": "Solve &quot;failed to lazily initialize a collection of role&quot; exception", "answer_id": 37659432, "link": "http://stackoverflow.com/questions/11746499/solve-failed-to-lazily-initialize-a-collection-of-role-exception/37659432#37659432", "tags": ["java", "spring", "hibernate", "jsp", "spring-mvc"]}], "question_id": 11746499}, {"body": "<p>I am trying to implement a dictionary (as in the physical book). I have a list of words and their meanings. </p>\n\n<p>What data structure / type does Java provide to store a list of words and their meanings as key/value pairs. </p>\n\n<p>How, given a key, can I find and return the value?</p>\n", "tags": ["java", "dictionary", "key-value"], "title": "How do you create a dictionary in Java?", "answer_count": 4, "creation_date": 1353776808, "score": 83, "link": "http://stackoverflow.com/questions/13543457/how-do-you-create-a-dictionary-in-java", "answers": [{"body": "<p>Use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.html\" rel=\"nofollow\">Map interface</a> and an implementation like <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/HashMap.html\" rel=\"nofollow\">HashMap</a></p>\n", "title": "How do you create a dictionary in Java?", "answer_id": 13543486, "link": "http://stackoverflow.com/questions/13543457/how-do-you-create-a-dictionary-in-java/13543486#13543486", "tags": ["java", "dictionary", "key-value"]}, {"body": "<p>There's an Abstract Class Dictionary</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html\">http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html</a></p>\n\n<p>However this requires implementation.</p>\n\n<p>Java gives us a nice implementation called a Hashtable</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html\">http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html</a></p>\n", "title": "How do you create a dictionary in Java?", "answer_id": 13543487, "link": "http://stackoverflow.com/questions/13543457/how-do-you-create-a-dictionary-in-java/13543487#13543487", "tags": ["java", "dictionary", "key-value"]}, {"body": "<p>This creates dictionary of text (string):</p>\n\n<pre><code>Map&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>you then use it as a:</p>\n\n<pre><code>dictionary.put(\"key\", \"value\");\nString value = dictionary.get(\"key\");\n</code></pre>\n", "title": "How do you create a dictionary in Java?", "answer_id": 13543488, "link": "http://stackoverflow.com/questions/13543457/how-do-you-create-a-dictionary-in-java/13543488#13543488", "tags": ["java", "dictionary", "key-value"]}, {"body": "<p>You'll want a <code>Map&lt;String, String&gt;</code>. Classes that implement the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.html\"><code>Map</code></a> interface include (but are not limited to):</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\"><code>HashMap</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html\"><code>LinkedHashMap</code></a></li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html\"><code>Hashtable</code></a></li>\n</ul>\n\n<p>Each is designed/optimized for certain situations (go to their respective docs for more info). <code>HashMap</code> is probably the most common; the go-to default.</p>\n\n<p>For example (using a <code>HashMap</code>):</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"dog\", \"type of animal\");\nSystem.out.println(map.get(\"dog\"));\n</code></pre>\n\n<pre>\ntype of animal\n</pre>\n", "title": "How do you create a dictionary in Java?", "answer_id": 13543523, "link": "http://stackoverflow.com/questions/13543457/how-do-you-create-a-dictionary-in-java/13543523#13543523", "tags": ["java", "dictionary", "key-value"]}], "question_id": 13543457}, {"body": "<p>I came across this question in a quiz,</p>\n\n<pre><code>public class MoneyCalc {\n\n   public void method(Object o) {\n      System.out.println(\"Object Verion\");\n   }\n\n   public void method(String s) {\n      System.out.println(\"String Version\");\n   }\n\n   public static void main(String args[]) {\n      MoneyCalc question = new MoneyCalc();\n      question.method(null);\n   }\n}\n</code></pre>\n\n<p>The output of this program is \"String Version\". But I was not able to understand why passing a null to an overloaded method chose the string version. Is null a String variable pointing to nothing ?</p>\n\n<p>However when the code is changed to,</p>\n\n<pre><code>public class MoneyCalc {\n\n   public void method(StringBuffer sb) {\n      System.out.println(\"StringBuffer Verion\");\n   }\n\n   public void method(String s) {\n      System.out.println(\"String Version\");\n   }\n\n   public static void main(String args[]) {\n      MoneyCalc question = new MoneyCalc();\n      question.method(null);\n   }\n}\n</code></pre>\n\n<p>it gives a compile error saying \"The method method(StringBuffer) is ambiguous for the type MoneyCalc\"</p>\n", "tags": ["java", "overloading"], "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_count": 6, "creation_date": 1351003324, "score": 83, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value", "answers": [{"body": "<blockquote>\n  <p>Is null a String variable pointing to nothing ?</p>\n</blockquote>\n\n<p>A null reference can be converted to an expression of any class type. So in the case of <code>String</code>, this is fine:</p>\n\n<pre><code>String x = null;\n</code></pre>\n\n<p>The <code>String</code> overload here is chosen because the Java compiler picks the <em>most specific</em> overload, as per <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.5\">section 15.12.2.5 of the JLS</a>. In particular:</p>\n\n<blockquote>\n  <p>The informal intuition is that one method is more specific than another if any invocation handled by the first method could be passed on to the other one without a compile-time type error.</p>\n</blockquote>\n\n<p>In your second case, both methods are still applicable, but neither <code>String</code> nor <code>StringBuffer</code> is more specific than the other, therefore neither method is more specific than the other, hence the compiler error.</p>\n", "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_id": 13033089, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value/13033089#13033089", "tags": ["java", "overloading"]}, {"body": "<p>You can assign a <code>string</code> to a <code>null</code> value so it is valid and the order for java and most programming languages is fit to the closest type and then to object. </p>\n", "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_id": 13033094, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value/13033094#13033094", "tags": ["java", "overloading"]}, {"body": "<p>To answer the question in the title: <code>null</code> is neither a <code>String</code> nor an <code>Object</code>, but a reference to either can be assigned to <code>null</code>.</p>\n\n<p>I'm actually surprised this code even compiles.  I tried something similar previously and I got a compiler error saying that the call was ambiguous.</p>\n\n<p>However, in this case, it seems like the compiler is choosing the method which is lowest on the food chain.  It's assuming that you want the least generic version of the method in order to help you out.</p>\n\n<p>I'll have to see if I can dig up the example where I got a compiler error in this (seemingly) exact same scenario, though...]</p>\n\n<p><strong>EDIT:</strong>  I see.  In the version I made, I had two overloaded methods accepting a <code>String</code> and an <code>Integer</code>.  In this scenario, there is no \"most specific\" parameter (as in <code>Object</code> and <code>String</code>), so it can't choose between them, unlike in your code.</p>\n\n<p>Very cool question!</p>\n", "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_id": 13033128, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value/13033128#13033128", "tags": ["java", "overloading"]}, {"body": "<p>I would say neither.  NULL is a state not a value.  Check out this <a href=\"http://en.wikipedia.org/wiki/Null_%28SQL%29\" rel=\"nofollow\">link</a> for more info on this (the article applies to SQL, but I think it helps with your question as well).</p>\n", "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_id": 13033140, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value/13033140#13033140", "tags": ["java", "overloading"]}, {"body": "<p>Additionally, the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.7\">JLS 3.10.7</a> also declares that \"null\" is a literal value of the \"null type\". Therefore there exists a type called \"null\".</p>\n\n<p>Later, the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.1\">JLS 4.1</a> states that there exists a null type of which is impossible to declare variables, but you can use it through the null literal only. Later it says:</p>\n\n<blockquote>\n  <p>The null reference can always undergo a widening reference conversion\n  to any reference type.</p>\n</blockquote>\n\n<p>Why the compiler chooses to widen it to String might well be explained in <a href=\"http://stackoverflow.com/a/13033089/697630\">Jon's answer</a>.</p>\n", "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_id": 13033243, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value/13033243#13033243", "tags": ["java", "overloading"]}, {"body": "<p>As String type is more specific than Object type. Let's say you add one more method that takes an Integer type.</p>\n\n<pre><code>public void method(Integer i) {\n      System.out.println(\"Integer Version\");\n   }\n</code></pre>\n\n<p>Then you will get a compiler error saying that the call is ambiguous. As now we two equally specific methods with same precedence.</p>\n", "title": "How is an overloaded method chosen when a parameter is the literal null value?", "answer_id": 32906005, "link": "http://stackoverflow.com/questions/13033037/how-is-an-overloaded-method-chosen-when-a-parameter-is-the-literal-null-value/32906005#32906005", "tags": ["java", "overloading"]}], "question_id": 13033037}, {"body": "<p>I recently raised a question in stackoverflow, then found the answer. The initial question was <a href=\"http://stackoverflow.com/questions/13969076/what-mechanisms-other-than-mutexs-or-garbage-collection-can-slow-my-multi-thread/14003357#14003357\">What mechanisms other than mutexs or garbage collection can slow my multi-threaded java program?</a></p>\n\n<p>I discovered to my horror that HashMap has been modifed between JDK1.6 and JDK1.7. It now has a block of code that causes all threads creating HashMaps to synchronize.</p>\n\n<p>The line of code in JDK1.7.0_10 is</p>\n\n<pre><code> /**A randomizing value associated with this instance that is applied to hash code of  keys to make hash collisions harder to find.     */\ntransient final int hashSeed = sun.misc.Hashing.randomHashSeed(this);\n</code></pre>\n\n<p>Which ends up calling</p>\n\n<pre><code> protected int next(int bits) {\n    long oldseed, nextseed;\n    AtomicLong seed = this.seed;\n    do {\n        oldseed = seed.get();\n        nextseed = (oldseed * multiplier + addend) &amp; mask;\n    } while (!seed.compareAndSet(oldseed, nextseed));\n    return (int)(nextseed &gt;&gt;&gt; (48 - bits));\n }    \n</code></pre>\n\n<p>Looking in other JDKs, I find this isn't present in JDK1.5.0_22, or  JDK1.6.0_26. </p>\n\n<p>The impact on my code is huge. It makes it so that when I run on 64 threads, I get less performance than when I run on 1 thread. A JStack shows that most of the threads are spending most of their time spinning in that loop in Random.</p>\n\n<p>So I seem to have some options:</p>\n\n<ul>\n<li>Rewrite my code so that I don't use HashMap, but use something similar</li>\n<li>Somehow mess around with the rt.jar, and replace the hashmap inside it</li>\n<li>Mess with the class path somehow, so each thread gets its own version of HashMap</li>\n</ul>\n\n<p>Before I start down any of these paths (all look very time consuming and potentially high impact), I wondered if I have missed an obvious trick. Can any of you stack overflow people suggest which is the better path, or perhaps identify a new idea.</p>\n\n<p>Thanks for the help</p>\n", "tags": ["java", "multithreading", "performance", "collections"], "title": "Given that HashMaps in jdk1.6 and above cause problems with multi=threading, how should I fix my code", "answer_count": 4, "creation_date": 1356265346, "score": 82, "link": "http://stackoverflow.com/questions/14010906/given-that-hashmaps-in-jdk1-6-and-above-cause-problems-with-multi-threading-how", "answers": [{"body": "<p>Assuming your usage pattern is reasonable, you'll want to use your own version of Hashmap.</p>\n\n<p>That piece of code is there to make hash collisions lot harder to cause, preventing attackers to create performance problems (<a href=\"http://emboss.github.com/blog/2012/12/14/breaking-murmur-hash-flooding-dos-reloaded/\" rel=\"nofollow\">details</a>) - assuming this problem is already dealt with in some other way, I don't think you'd need synchronization at all. However, irrelevant of if you use synchronization or not, it seems you would want to use your own version of Hashmap so you wouldn't depent that much on what JDK happens to provide.</p>\n\n<p>So either you just normally write something similar and point to that, or override a class in JDK. To do the latter, you can override bootstrap classpath with <code>-Xbootclasspath/p:</code> parameter. Doing so will however \"contravene the Java 2 Runtime Environment binary code license\" (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/java.html\" rel=\"nofollow\">source</a>).</p>\n", "title": "Given that HashMaps in jdk1.6 and above cause problems with multi=threading, how should I fix my code", "answer_id": 14011513, "link": "http://stackoverflow.com/questions/14010906/given-that-hashmaps-in-jdk1-6-and-above-cause-problems-with-multi-threading-how/14011513#14011513", "tags": ["java", "multithreading", "performance", "collections"]}, {"body": "<p>This looks like a \"bug\" you can work around. There is a property that disables the new \"alternative hashing\" feature:</p>\n\n<pre><code>jdk.map.althashing.threshold = -1\n</code></pre>\n\n<p>However, disabling alternative hashing is not sufficient because it does not turn off the generation of a random hash seed (though it really should). So even if you turn off alt hashing, you still have thread contention during hash map instantiation.</p>\n\n<p>One particularly nasty way of working around this is to forcefully replace the instance of <code>Random</code> used for hash seed generation with your own non-synchronized version:</p>\n\n<pre><code>// Create an instance of \"Random\" having no thread synchronization.\nRandom alwaysOne = new Random() {\n    @Override\n    protected int next(int bits) {\n        return 1;\n    }\n};\n\n// Get a handle to the static final field sun.misc.Hashing.Holder.SEED_MAKER\nClass&lt;?&gt; clazz = Class.forName(\"sun.misc.Hashing$Holder\");\nField field = clazz.getDeclaredField(\"SEED_MAKER\");\nfield.setAccessible(true);\n\n// Convince Java the field is not final.\nField modifiers = Field.class.getDeclaredField(\"modifiers\");\nmodifiers.setAccessible(true);\nmodifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n\n// Set our custom instance of Random into the field.\nfield.set(null, alwaysOne);\n</code></pre>\n\n<p>Why is it (probably) safe to do this? Because alt hashing has been disabled, causing the random hash seeds to be ignored. So it doesn't matter that our instance of <code>Random</code> isn't in fact random. As always with nasty hacks like this, please use with caution.</p>\n\n<p>(Thanks to <a href=\"http://stackoverflow.com/a/3301720/1899721\">http://stackoverflow.com/a/3301720/1899721</a> for the code that sets static final fields).</p>\n\n<h3>--- Edit ---</h3>\n\n<p>FWIW, the following change to <code>HashMap</code> would eliminate the thread contention when alt hashing is disabled:</p>\n\n<pre><code>-   transient final int hashSeed = sun.misc.Hashing.randomHashSeed(this);\n+   transient final int hashSeed;\n\n...\n\n         useAltHashing = sun.misc.VM.isBooted() &amp;&amp;\n                 (capacity &gt;= Holder.ALTERNATIVE_HASHING_THRESHOLD);\n+        hashSeed = useAltHashing ? sun.misc.Hashing.randomHashSeed(this) : 0;\n         init();\n</code></pre>\n\n<p>A similar approach can be used for <code>ConcurrentHashMap</code>, etc.</p>\n", "title": "Given that HashMaps in jdk1.6 and above cause problems with multi=threading, how should I fix my code", "answer_id": 14012576, "link": "http://stackoverflow.com/questions/14010906/given-that-hashmaps-in-jdk1-6-and-above-cause-problems-with-multi-threading-how/14012576#14012576", "tags": ["java", "multithreading", "performance", "collections"]}, {"body": "<p>I am the original author of the patch which appeared in 7u6, CR#7118743 : Alternative Hashing for String with Hash-based Maps\u200c\u200b. </p>\n\n<p>I'll acknowledge right up front that the initialization of hashSeed is a bottleneck but it is not one we expected to be a problem since it only happens once per Hash Map instance. For this code to be a bottleneck you would have to be creating hundreds or thousands of hash maps per second. This is certainly not typical. Is there <em>really</em> a valid reason for your application to be doing this? How long do these hash maps live?</p>\n\n<p>Regardless, we will probably investigate switching to ThreadLocalRandom rather than Random and possibly some variant of lazy initialization as suggested by cambecc.</p>\n\n<p><strong>EDIT 3</strong></p>\n\n<p>A fix for the bottleneck was been pushed to the JDK7 update mercurial repo:</p>\n\n<p><a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u-dev/jdk/rev/b03bbdef3a88\">http://hg.openjdk.java.net/jdk7u/jdk7u-dev/jdk/rev/b03bbdef3a88</a></p>\n\n<p>The fix will be part of the upcoming 7u40 release and is already available in IcedTea 2.4 releases.</p>\n\n<p>Near final test builds of 7u40 are available here: </p>\n\n<p><a href=\"https://jdk7.java.net/download.html\">https://jdk7.java.net/download.html</a></p>\n\n<p>Feedback is still welcomed. Send it to <a href=\"http://mail.openjdk.java.net/mailman/listinfo/core-libs-dev\">http://mail.openjdk.java.net/mailman/listinfo/core-libs-dev</a> to be sure it gets seen by the openJDK devs.</p>\n", "title": "Given that HashMaps in jdk1.6 and above cause problems with multi=threading, how should I fix my code", "answer_id": 14060542, "link": "http://stackoverflow.com/questions/14010906/given-that-hashmaps-in-jdk1-6-and-above-cause-problems-with-multi-threading-how/14060542#14060542", "tags": ["java", "multithreading", "performance", "collections"]}, {"body": "<p>There are lots of apps out there that create a transient HashMap per record in big data applications. This parsers and serializers, for example. Putting any synchronization into unsynchronized collections classes is a real gotcha. In my opinion, this is unacceptable and needs to be fixed ASAP. The change that was apparently introduced in 7u6, CR#7118743 should be reverted or fixed without requiring any synchronization or atomic operation.</p>\n\n<p>Somehow this is reminds me of the colossal mistake of making StringBuffer and Vector and HashTable synchronized in JDK 1.1/1.2. People paid dearly for years for that mistake. No need to repeat that experience.</p>\n", "title": "Given that HashMaps in jdk1.6 and above cause problems with multi=threading, how should I fix my code", "answer_id": 14176542, "link": "http://stackoverflow.com/questions/14010906/given-that-hashmaps-in-jdk1-6-and-above-cause-problems-with-multi-threading-how/14176542#14176542", "tags": ["java", "multithreading", "performance", "collections"]}], "question_id": 14010906}, {"body": "<p>Try-catch is meant to help in the exception handling. This means somehow that it will help our system to be more robust: try to recover from an unexpected event. </p>\n\n<p>We suspect something might happen when executing and instruction (sending a message), so it gets enclosed in the try. If that something nearly unexpected happens, we can do something: we write the catch. I don't think we called to just log the exception. I thing the catch block is meant to give us the opportunity of recovering from the error.</p>\n\n<p>Now, let's say we recover from the error because we could fix what was wrong. It could be super nice to do a re-try:</p>\n\n<pre><code>try{ some_instruction(); }\ncatch (NearlyUnexpectedException e){\n   fix_the_problem();\n   retry;\n}\n</code></pre>\n\n<p>This would quickly fall in the eternal loop, but let's say that the fix_the_problem returns true, then we retry. Given that there is no such thing in Java, how would YOU solve this problem? What would be your best design code for solving this?</p>\n\n<p>This is like a philosophical question, given that I already know what I'm asking for is not directly supported by Java.</p>\n", "tags": ["java", "exception", "exception-handling", "try-catch"], "title": "How do you implement a re-try-catch?", "answer_count": 16, "creation_date": 1352147814, "score": 81, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch", "answers": [{"body": "<p>You need to enclose your <code>try-catch</code> inside a <code>while</code> loop like this: -</p>\n\n<pre><code>int count = 0;\nint maxTries = 3;\nwhile(true) {\n    try {\n        // Some Code\n        // break out of loop, or return, on success\n    } catch (SomeException e) {\n        // handle exception\n        if (++count == maxTries) throw e;\n    }\n}\n</code></pre>\n\n<p>I have taken <code>count</code> and <code>maxTries</code> to avoid running into an infinite loop, in case the exception keeps on occurring in your <code>try block</code>.</p>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13239999, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13239999#13239999", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Use a <code>while</code> loop with local <code>status</code> flag. Initialize the flag as <code>false</code> and set it to <code>true</code> when operation is successful e.g. below:</p>\n\n<pre><code>  boolean success  = false;\n  while(!success){\n     try{ \n         some_instruction(); \n         success = true;\n     } catch (NearlyUnexpectedException e){\n       fix_the_problem();\n     }\n  }\n</code></pre>\n\n<p>This will keep retrying until its successful.</p>\n\n<p>If you want to retry only certain number of times then use a counter as well:</p>\n\n<pre><code>  boolean success  = false;\n  int count = 0, MAX_TRIES = 10;\n  while(!success &amp;&amp; count++ &lt; MAX_TRIES){\n     try{ \n         some_instruction(); \n         success = true;\n     } catch (NearlyUnexpectedException e){\n       fix_the_problem();\n     }\n  }\n  if(!success){\n    //It wasn't successful after 10 retries\n  }\n</code></pre>\n\n<p>This will try max 10 times if not successful until then an will exit if its successful before hand.</p>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240004, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240004#13240004", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>As usual, the best design depends on the particular circumstances. Usually though, I write something like:</p>\n\n<pre><code>for (int retries = 0;; retries++) {\n    try {\n        return doSomething();\n    catch (SomeException e) {\n        if (retries &lt; 6) {\n            continue;\n        } else {\n            throw e;\n        }\n    }\n}\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240009, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240009#13240009", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>A simple way to solve the issue would be to wrap the try/catch in a while loop and maintain a count. This way you could prevent an infinite loop by checking a count against some other variable while maintaining a log of your failures. It isn't the most exquisite solution, but it would work.</p>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240012, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240012#13240012", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>All a Try-Catch does is allow your program to fail gracefully.  In a catch statement, you generally try to log the error, and maybe roll back changes if you need to.  </p>\n\n<pre><code>bool finished = false;\n\nwhile(finished == false)\n{\n    try\n    {\n        //your code here\n        finished = true\n    }\n    catch(exception ex)\n    {\n        log.error(\"there was an error, ex\");\n    }\n}\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240013, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240013#13240013", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Although <code>try/catch</code> into <code>while</code> is well-known and good strategy I want to suggest you recursive call:</p>\n\n<pre><code>void retry(int i, int limit) {\n    try {\n\n    } catch (SomeException e) {\n        // handle exception\n        if (i &gt;= limit) {\n            throw e;  // variant: wrap the exception, e.g. throw new RuntimeException(e);\n        }\n        retry(i++, limit);\n    }\n}\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240065, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240065#13240065", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Most of these answers are essentially the same. Mine is also, but this is the form I like</p>\n\n<pre><code>boolean completed = false;\nThrowable lastException = null;\nfor (int tryCount=0; tryCount &lt; config.MAX_SOME_OPERATION_RETRIES; tryCount++)\n{\n    try {\n        completed = some_operation();\n        break;\n    }\n    catch (UnlikelyException e) {\n        lastException = e;\n        fix_the_problem();\n    }\n}\nif (!completed) {\n    reportError(lastException);\n}\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240150, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240150#13240150", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Obligatory \"enterprisy\" solution:</p>\n\n<pre><code>public abstract class Operation {\n    abstract public void doIt();\n    public void handleException(Exception cause) {\n        //default impl: do nothing, log the exception, etc.\n    }\n}\n\npublic class OperationHelper {\n    public static void doWithRetry(int maxAttempts, Operation operation) {\n        for (int count = 0; count &lt; maxAttempts; count++) {\n            try {\n                operation.doIt();\n                count = maxAttempts; //don't retry\n            } catch (Exception e) {\n                operation.handleException(e);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And to call:</p>\n\n<pre><code>OperationHelper.doWithRetry(5, new Operation() {\n    @Override public void doIt() {\n        //do some stuff\n    }\n    @Override public void handleException(Exception cause) {\n        //recover from the Exception\n    }\n});\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 13240586, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/13240586#13240586", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>You can use AOP and Java annotations from <a href=\"http://aspects.jcabi.com/annotation-retryonfailure.html\" rel=\"nofollow\">jcabi-aspects</a> (I'm a developer):</p>\n\n<pre><code>@RetryOnFailure(attempts = 3, delay = 5)\npublic String load(URL url) {\n  return url.openConnection().getContent();\n}\n</code></pre>\n\n<p>You could also use <code>@Loggable</code> and <code>@LogException</code> annotations.</p>\n", "title": "How do you implement a re-try-catch?", "answer_id": 15596070, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/15596070#15596070", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Use a do-while to design re-try block.</p>\n\n<pre><code>boolean successful = false;\nint maxTries = 3;\ndo{\n  try {\n    something();\n    success = true;\n  } catch(Me ifUCan) {\n    maxTries--;\n  }\n} while (!successful || maxTries &gt; 0)\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 24990633, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/24990633#24990633", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>I know there are already many similar answers here, and mine is not much different, but I will post it anyway because it deals with a specific case/issue.</p>\n\n<p>When dealing with the <code>facebook Graph API</code> in <code>PHP</code> you sometimes get an error, but immediately re-trying the same thing will give a positive result (for various <em>magical</em> Internet reasons that are beyond the scope of this question). In this case there is no need to <em>fix</em> any error, but to simply try again because there was some kind of \"facebook error\".</p>\n\n<p>This code is used immediately after creating a facebook session:</p>\n\n<pre><code>//try more than once because sometimes \"facebook error\"\n$attempt = 3;\nwhile($attempt-- &gt; 0)\n{\n    // To validate the session:\n    try \n    {\n        $facebook_session-&gt;validate();\n        $attempt = 0;\n    } \n    catch (Facebook\\FacebookRequestException $ex)\n    {\n        // Session not valid, Graph API returned an exception with the reason.\n        if($attempt &lt;= 0){ echo $ex-&gt;getMessage(); }\n    } \n    catch (\\Exception $ex) \n    {\n        // Graph API returned info, but it may mismatch the current app or have expired.\n        if($attempt &lt;= 0){ echo $ex-&gt;getMessage(); }\n    }\n}\n</code></pre>\n\n<p>Also, by having the <code>for</code> loop count down to zero (<code>$attempt--</code>) it makes it pretty easy to change the number of attempts in the future.</p>\n", "title": "How do you implement a re-try-catch?", "answer_id": 25311716, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/25311716#25311716", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>following is my solution with very simple approach!</p>\n\n<pre><code>               while (true) {\n                    try {\n                        /// Statement what may cause an error;\n                        break;\n                    } catch (Exception e) {\n\n                    }\n                }\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 28016923, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/28016923#28016923", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>In case it's useful, a couple more options to consider, all thrown together (stopfile instead of retries, sleep, continue larger loop) all possibly helpful.</p>\n\n<pre><code> bigLoop:\n while(!stopFileExists()) {\n    try {\n      // do work\n      break;\n    }\n    catch (ExpectedExceptionType e) {\n\n       // could sleep in here, too.\n\n       // another option would be to \"restart\" some bigger loop, like\n       continue bigLoop;\n    }\n    // ... more work\n}\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 29834371, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/29834371#29834371", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Im not sure if this is the \"Professional\" way to do it and i'm not entirely sure if it works for everything.</p>\n\n<pre><code>boolean gotError = false;\n\ndo {\n    try {\n        // Code You're Trying\n    } catch ( FileNotFoundException ex ) {\n        // Exception\n        gotError = true;\n    }\n} while ( gotError = true );\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 32388748, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/32388748#32388748", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p>Your exact scenario handled via <a href=\"https://github.com/jhalterman/recurrent\" rel=\"nofollow\">Failsafe</a>:</p>\n\n<pre><code>RetryPolicy retryPolicy = new RetryPolicy()\n  .retryOn(NearlyUnexpectedException.class);\n\nFailsafe.with(retryPolicy)\n  .onRetry((r, f) -&gt; fix_the_problem())\n  .run(() -&gt; some_instruction());\n</code></pre>\n\n<p>Pretty simple.</p>\n", "title": "How do you implement a re-try-catch?", "answer_id": 36582998, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/36582998#36582998", "tags": ["java", "exception", "exception-handling", "try-catch"]}, {"body": "<p><a href=\"https://github.com/tusharmndr/retry-function-wrapper/tree/master/src/main/java/io\" rel=\"nofollow\">https://github.com/tusharmndr/retry-function-wrapper/tree/master/src/main/java/io</a></p>\n\n<pre><code>int MAX_RETRY = 3; \nRetryUtil.&lt;Boolean&gt;retry(MAX_RETRY,() -&gt; {\n    //Function to retry\n    return true;\n});\n</code></pre>\n", "title": "How do you implement a re-try-catch?", "answer_id": 37591516, "link": "http://stackoverflow.com/questions/13239972/how-do-you-implement-a-re-try-catch/37591516#37591516", "tags": ["java", "exception", "exception-handling", "try-catch"]}], "question_id": 13239972}, {"body": "<p>How to convert calendar date to <code>yyyy-MM-dd</code> format.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 1);\nDate date = cal.getTime();             \nSimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd\");\nString date1 = format1.format(date);            \nDate inActiveDate = null;\ntry {\n    inActiveDate = format1.parse(date1);\n} catch (ParseException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n\n<p>This will produce <code>inActiveDate = Wed Sep 26 00:00:00 IST 2012</code>. But what I need is <code>2012-09-26</code>. My purpose is to compare this date with another date in my database using Hibernate criteria. So I need the date object in <code>yyyy-MM-dd</code> format.</p>\n", "tags": ["java", "date", "calendar", "converter"], "title": "Calendar date to yyyy-MM-dd format in java", "answer_count": 7, "creation_date": 1348545444, "score": 81, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java", "answers": [{"body": "<p><code>java.util.Date</code> object can't represent <em>date</em> in <em>custom</em> format instead you've to use <code>SimpleDateFormat.format</code> method that returns <code>string</code>.</p>\n\n<pre><code>String myString=format1.format(date);\n</code></pre>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 12576025, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/12576025#12576025", "tags": ["java", "date", "calendar", "converter"]}, {"body": "<p>In order to parse a <code>java.util.Date</code> object you have to convert it to String first using your own format.</p>\n\n<pre><code>inActiveDate = format1.parse(  format1.format(date)  );\n</code></pre>\n\n<p>But I believe you are being redundant here.</p>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 12576033, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/12576033#12576033", "tags": ["java", "date", "calendar", "converter"]}, {"body": "<p>Your code is wrong. No point of  parsing date and keep that as Date object. </p>\n\n<p>You can format the calender date object when you want to display and keep  that as a string. </p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 1);\nDate date = cal.getTime();             \nSimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd\");          \nString inActiveDate = null;\ntry {\n    inActiveDate = format1.format(date);\n    System.out.println(inActiveDate );\n} catch (ParseException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n</code></pre>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 12576049, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/12576049#12576049", "tags": ["java", "date", "calendar", "converter"]}, {"body": "<p>A Java <code>Date</code> is a container for the number of milliseconds since January 1, 1970, 00:00:00 GMT.</p>\n\n<p>When you use something like <code>System.out.println(date)</code>, Java uses <code>Date.toString()</code> to print the contents.</p>\n\n<p>The only way to change it is to override <code>Date</code> and provide your own implementation of <code>Date.toString()</code>.  Now before you fire up your IDE and try this, I wouldn't; it will only complicate matters. You are better off formatting the date to the format you want to use (or display).</p>\n\n<p>What you can do, is format the date.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 1);\nSimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd\");\nSystem.out.println(cal.getTime());\n// Output \"Wed Sep 26 14:23:28 EST 2012\"\n\nString formatted = format1.format(cal.getTime());\nSystem.out.println(formatted);\n// Output \"2012-09-26\"\n\nSystem.out.println(format1.parse(formatted));\n// Output \"Wed Sep 26 00:00:00 EST 2012\"\n</code></pre>\n\n<p>These are actually the same date, represented differently.</p>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 12576219, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/12576219#12576219", "tags": ["java", "date", "calendar", "converter"]}, {"body": "<h1>java.time</h1>\n\n<p>The <a href=\"http://stackoverflow.com/a/12576219/642706\">answer by MadProgrammer</a> is correct, especially the tip about <a href=\"http://www.joda.org/joda-time/\">Joda-Time</a>. The successor to Joda-Time is now built into <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\">Java 8</a> as the new <a href=\"http://download.java.net/jdk8/docs/api/index.html?java/time/package-summary.html\">java.time package</a>. Here's example code in Java 8.</p>\n\n<p>When working with date-time (as opposed to local date), the <a href=\"https://en.wikipedia.org/wiki/Time_zone\"><strong>time zone</strong></a> in critical. The day-of-month depends on the time zone. For example, the <a href=\"https://en.wikipedia.org/wiki/Time_in_India\">India time zone</a> is <code>+05:30</code> (five and a half hours ahead of UTC), while <a href=\"https://en.wikipedia.org/wiki/Time_in_France\">France</a> is only one hour ahead. So a moment in a new day in India has one date while the same moment in France has \u201cyesterday\u2019s\u201d date. Creating string output lacking any time zone or offset information is creating ambiguity. You asked for YYYY-MM-DD output so I provided, but I don't recommend it. Instead of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE\"><code>ISO_LOCAL_DATE</code></a> I would have used <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE\"><code>ISO_DATE</code></a> to get this output: <code>2014-02-25+05:30</code></p>\n\n<pre><code>ZoneId zoneId = ZoneId.of( \"Asia/Kolkata\" );\nZonedDateTime zonedDateTime = ZonedDateTime.now( zoneId );\n\nDateTimeFormatter formatterOutput = DateTimeFormatter.ISO_LOCAL_DATE; // Caution: The \"LOCAL\" part means we are losing time zone information, creating ambiguity.\nString output = formatterOutput.format( zonedDateTime );\n</code></pre>\n\n<p>Dump to console\u2026</p>\n\n<pre><code>System.out.println( \"zonedDateTime: \" + zonedDateTime );\nSystem.out.println( \"output: \" + output );\n</code></pre>\n\n<p>When run\u2026</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>zonedDateTime: 2014-02-25T14:22:20.919+05:30[Asia/Kolkata]\noutput: 2014-02-25\n</code></pre>\n\n<h1>Joda-Time</h1>\n\n<p>Similar code using the <a href=\"http://www.joda.org/joda-time/\">Joda-Time</a> library, the precursor to java.time.</p>\n\n<pre><code>DateTimeZone zone = new DateTimeZone( \"Asia/Kolkata\" );\nDateTime dateTime = DateTime.now( zone );\nDateTimeFormatter formatter = ISODateTimeFormat.date();\nString output = formatter.print( dateTime );\n</code></pre>\n\n<h1>ISO 8601</h1>\n\n<p>By the way, that format of your input string is a standard format, one of several handy date-time string formats defined by <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a>. </p>\n\n<p>Both Joda-Time and java.time use ISO 8601 formats by default when parsing and generating string representations of various date-time values.</p>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 22009143, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/22009143#22009143", "tags": ["java", "date", "calendar", "converter"]}, {"body": "<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, 7);\nDate date = c.getTime();\nSimpleDateFormat ft = new SimpleDateFormat(\"MM-dd-YYYY\");\nJOptionPane.showMessageDialog(null, ft.format(date));\n</code></pre>\n\n<p>This will display your date + 7 days in month, day and year format in a JOption window pane. </p>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 30275171, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/30275171#30275171", "tags": ["java", "date", "calendar", "converter"]}, {"body": "<p>I found this code where date is compared in a format to compare with date field in database...may be this might be helpful to you...</p>\n\n<p>When you convert the string to date using simpledateformat, it is hard to compare with the Date field in mysql databases.</p>\n\n<p>So convert the java string date in the format using select STR_to_DATE('yourdate','%m/%d/%Y') --> in this format, then you will get the exact date format of mysql date field.</p>\n\n<p><a href=\"http://javainfinite.com/java/java-convert-string-to-date-and-compare/\" rel=\"nofollow\">http://javainfinite.com/java/java-convert-string-to-date-and-compare/</a></p>\n", "title": "Calendar date to yyyy-MM-dd format in java", "answer_id": 32101927, "link": "http://stackoverflow.com/questions/12575990/calendar-date-to-yyyy-mm-dd-format-in-java/32101927#32101927", "tags": ["java", "date", "calendar", "converter"]}], "question_id": 12575990}, {"body": "<p>So the issue is being able to combine multple warning suppressions so that each item doesn't need it's own <code>@SuppressWarnings</code> annotation.</p>\n\n<p>So for example:</p>\n\n<pre><code>public class Example\n    public Example() {\n        GO go = new GO();  // unused\n        ....\n        List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked\n    }\n    ...\n    // getters/setters/other methods\n}\n</code></pre>\n\n<p>Now instead of having two <code>@SuppressWarnings</code> I want to have one at the class level for those two warnings, so like this:</p>\n\n<pre><code>@SuppressWarnings( \"unused\", \"unchecked\" )\npublic class Example\n    public Example() {\n        GO go = new GO();  // unused - suppressed\n        ....\n        List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked - suppressed\n    }\n    ...\n    // getters/setters/other methods\n}\n</code></pre>\n\n<p>But that is not a valid syntax, is there a way to do this?</p>\n", "tags": ["java", "eclipse", "annotations", "eclipse-indigo", "suppress-warnings"], "title": "Combining multiple @SuppressWarnings annotations - Eclipse Indigo", "answer_count": 2, "creation_date": 1351173523, "score": 81, "link": "http://stackoverflow.com/questions/13070260/combining-multiple-suppresswarnings-annotations-eclipse-indigo", "answers": [{"body": "<p>Use the following:\n<code>@SuppressWarnings({\"unused\", \"unchecked\"})</code></p>\n", "title": "Combining multiple @SuppressWarnings annotations - Eclipse Indigo", "answer_id": 13070336, "link": "http://stackoverflow.com/questions/13070260/combining-multiple-suppresswarnings-annotations-eclipse-indigo/13070336#13070336", "tags": ["java", "eclipse", "annotations", "eclipse-indigo", "suppress-warnings"]}, {"body": "<p>if you look in the annotation:</p>\n\n<pre><code>public @interface SuppressWarnings {\n    String[] value();\n}\n</code></pre>\n\n<p>you see the value is an array of strings...\nso the parameter in the annotation can be:\n<strong>value1, value2,value3</strong>  where </p>\n\n<pre><code>final String[] value1 = { \"a1\" };\nfinal String[] value2 = { \"a1\", \"a2\" };\nfinal String[] value3 = { \"a1\", \"a2\", \"a3\" };\n</code></pre>\n\n<p>i.e.:</p>\n\n<pre><code>@SuppressWarnings({\"unused\"})\n@SuppressWarnings({\"unused\", \"javadoc\"})\n</code></pre>\n\n<p>you can oft see something like</p>\n\n<pre><code>@SuppressWarnings(\"unused\") this is a particular case allowing one element wit no \"{ }\"\n</code></pre>\n", "title": "Combining multiple @SuppressWarnings annotations - Eclipse Indigo", "answer_id": 38243067, "link": "http://stackoverflow.com/questions/13070260/combining-multiple-suppresswarnings-annotations-eclipse-indigo/38243067#38243067", "tags": ["java", "eclipse", "annotations", "eclipse-indigo", "suppress-warnings"]}], "question_id": 13070260}, {"body": "<p>Similar to this question: <a href=\"http://forum.springsource.org/showthread.php?111992-Loading-a-list-from-properties-file-using-Value-annotation\">http://forum.springsource.org/showthread.php?111992-Loading-a-list-from-properties-file-using-Value-annotation</a> (for which there's no reply on)</p>\n\n<p>I want to have a list of values in a .properties file, ie:</p>\n\n<pre><code>my.list.of.strings=ABC,CDE,EFG\n</code></pre>\n\n<p>And to load it in my class directly, ie:</p>\n\n<pre><code>@Value(\"${my.list.of.strings}\")\nprivate List&lt;String&gt; myList;\n</code></pre>\n\n<p>As I understand, an alternative of doing this is to have it in the spring config file, and load it as a bean reference (correct me if I'm wrong), ie</p>\n\n<pre><code>&lt;bean name=\"list\"&gt;\n &lt;list&gt;\n  &lt;value&gt;ABC&lt;/value&gt;\n  &lt;value&gt;CDE&lt;/value&gt;\n  &lt;value&gt;EFG&lt;/value&gt;\n &lt;/list&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>But is there any way of doing this? using a .properties file? \nps: I would like to do this with out any custom code if possible.</p>\n", "tags": ["java", "spring", "spring-properties"], "title": "Reading a List from properties file and load with spring annotation @Value", "answer_count": 9, "creation_date": 1348546740, "score": 79, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value", "answers": [{"body": "<p>Have you considered <code>@Autowired</code>ing the constructor or a setter and <code>String.split()</code>ing in the body?</p>\n\n<pre><code>class MyClass {\n    private List&lt;String&gt; myList;\n\n    @Autowired\n    public MyClass(@Value(\"${my.list.of.strings}\") final String strs) {\n        myList = Arrays.asList(strs.split(\",\"));\n    }\n\n    //or\n\n    @Autowired\n    public void setMyList(@Value(\"${my.list.of.strings}\") final String strs) {\n        myList = Arrays.asList(strs.split(\",\"));\n    }\n}\n</code></pre>\n\n<p>I tend to prefer doing my autowiring in one of these ways to enhance the testability of my code.</p>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 12576308, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12576308#12576308", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>By specifying the the <code>my.list.of.strings=ABC,CDE,EFG</code> in .properties file and using </p>\n\n<p><code>@Value(\"${my.list.of.strings}\")</code>\n<code>private String[] myString;</code></p>\n\n<p>You can get the arrays of strings. And using <code>CollectionUtils.addAll(myList, myString)</code>, you can get the list of strings.</p>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 12576394, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12576394#12576394", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>All the above answers are correct. But you can achieve this in just one line.\nPlease try following declaration and you will get all the comma separated values in a String list.</p>\n\n<pre><code>private @Value(\"#{T(java.util.Arrays).asList(projectProperties['my.list.of.strings'])}\") List&lt;String&gt; myList;\n</code></pre>\n\n<p>And also you need to have the following line defined in your xml configuration.</p>\n\n<pre><code>&lt;util:properties id=\"projectProperties\" location=\"/project.properties\"/&gt;\n</code></pre>\n\n<p>just replace the path and file name of your properties file. And you are good to go. :)</p>\n\n<p>Hope this helps you. Cheers.</p>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 12577682, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12577682#12577682", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>Using Spring EL:</p>\n\n<pre><code> @Value(\"#{'${my.list.of.strings}'.split(',')}\") \n private List&lt;String&gt; myList;\n</code></pre>\n\n<p>Assuming your properties file is loaded correctly with the following:</p>\n\n<pre><code>my.list.of.strings=ABC,CDE,EFG\n</code></pre>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 12580260, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12580260#12580260", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>Consider using Commons Configuration. It have built in feature to break an entry in properties file to array/list. Combing with SpEL and @Value should give what you want</p>\n\n<hr>\n\n<p>As requested, here is what you need (Haven't really tried the code, may got some typoes, please bear with me):</p>\n\n<p>In Apache Commons Configuration, there is PropertiesConfiguration.  It supports the feature of converting delimited string to array/list.</p>\n\n<p>For example, if you have a properties file</p>\n\n<pre><code>#Foo.properties\nfoo=bar1, bar2, bar3\n</code></pre>\n\n<p>With the below code:</p>\n\n<pre><code>PropertiesConfiguration config = new PropertiesConfiguration(\"Foo.properties\");\nString[] values = config.getStringArray(\"foo\");\n</code></pre>\n\n<p>will give you a string array of <code>[\"bar1\", \"bar2\", \"bar3\"]</code></p>\n\n<p>To use with Spring, have this in your app context xml:</p>\n\n<pre><code>&lt;bean id=\"fooConfig\" class=\"org.apache.commons.configuration.PropertiesConfiguration\"&gt;\n    &lt;constructor-arg type=\"java.lang.String\" value=\"classpath:/Foo.properties\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and have this in your spring bean:</p>\n\n<pre><code>public class SomeBean {\n\n    @Value(\"fooConfig.getStringArray('foo')\")\n    private String[] fooArray;\n}\n</code></pre>\n\n<p>I believe this should work  :P</p>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 12668007, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/12668007#12668007", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>you can do this with annotations like this</p>\n\n<pre><code> @Value(\"#{T(java.util.Arrays).asList('${my.list.of.strings:a,b,c}')}\") \n    private List&lt;String&gt; mylist;\n</code></pre>\n\n<p>here my.list.of.strings will be picked from the properties file, if its not there, then the defaults a,b,c will be used</p>\n\n<p>and in your properties file, you can have something like this</p>\n\n<p>my.list.of.strings=d,e,f</p>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 18706918, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/18706918#18706918", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p><em>Beware of spaces in the values.</em> I could be wrong, but I think spaces in the comma-separated list are not truncated using @Value and Spel. The list</p>\n\n<pre><code>foobar=a, b, c\n</code></pre>\n\n<p>would be read in as a list of strings</p>\n\n<pre><code>\"a\", \" b\", \" c\"\n</code></pre>\n\n<p>In most cases you would probably not want the spaces!</p>\n\n<p>The expression</p>\n\n<pre><code>@Value(\"#{'${foobar}'.trim().replaceAll(\\\"\\\\s*(?=,)|(?&lt;=,)\\\\s*\\\", \\\"\\\").split(',')}\")\nprivate List&lt;String&gt; foobarList;\n</code></pre>\n\n<p>would give you a list of strings:</p>\n\n<pre><code>\"a\", \"b\", \"c\".\n</code></pre>\n\n<p>The regular expression removes all spaces just before and just after a comma. Spaces inside of the values are not removed. So</p>\n\n<pre><code>foobar = AA, B B, CCC\n</code></pre>\n\n<p>should result in values</p>\n\n<pre><code>\"AA\", \"B B\", \"CCC\".\n</code></pre>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 19765680, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/19765680#19765680", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>if using property placeholders then ser1702544 example would become </p>\n\n<pre><code>@Value(\"#{myConfigProperties['myproperty'].trim().replaceAll(\\\"\\\\s*(?=,)|(?&lt;=,)\\\\s*\\\", \\\"\\\").split(',')}\") \n</code></pre>\n\n<p>With placeholder xml:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;   \n    &lt;property name=\"properties\" ref=\"myConfigProperties\" /&gt;\n    &lt;property name=\"placeholderPrefix\"&gt;&lt;value&gt;$myConfigProperties{&lt;/value&gt;&lt;/property&gt;\n&lt;/bean&gt;    \n\n&lt;bean id=\"myConfigProperties\" class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n     &lt;property name=\"locations\"&gt;\n         &lt;list&gt;\n                &lt;value&gt;classpath:myprops.properties&lt;/value&gt;\n         &lt;/list&gt;\n     &lt;/property&gt;\n&lt;/bean&gt; \n</code></pre>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 20420695, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/20420695#20420695", "tags": ["java", "spring", "spring-properties"]}, {"body": "<p>Since Spring 3.0, you can add a line like</p>\n\n<pre><code>&lt;bean id=\"conversionService\" \n    class=\"org.springframework.context.support.ConversionServiceFactoryBean\" /&gt;\n</code></pre>\n\n<p>to your <code>applicationContext.xml</code> (or where you configure things).\nAs Dmitry Chornyi points out in a comment, Java based configuration looks like:</p>\n\n<pre><code>@Bean public ConversionService conversionService() {\n    return new DefaultConversionService();\n}\n</code></pre>\n\n<p>This activates the new configuration service which supports converting <code>String</code> to <code>Collection</code> types.\nIf you do not activate this configuration service, Spring falls back on its legacy property editors as configuration services, which do not support this kind of conversion.</p>\n\n<p>Converting to collections of other types works, too:</p>\n\n<pre><code>@Value(\"${my.list.of.ints}\")\nprivate List&lt;Integer&gt; myList\n</code></pre>\n\n<p>will work with a line like</p>\n\n<pre><code> my.list.of.ints= 1, 2, 3, 4\n</code></pre>\n\n<p>No problems with whitespace there, the <code>ConversionServiceFactoryBean</code> takes care of it.</p>\n\n<p>See <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#core-convert-Spring-config\">http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#core-convert-Spring-config</a></p>\n\n<blockquote>\n  <p>In a Spring application, you typically configure a ConversionService instance per Spring container (or ApplicationContext). That ConversionService will be picked up by Spring and then used whenever a type conversion needs to be performed by the framework.\n  [...]\n  If no ConversionService is registered with Spring, the original PropertyEditor-based system is used.</p>\n</blockquote>\n", "title": "Reading a List from properties file and load with spring annotation @Value", "answer_id": 29970335, "link": "http://stackoverflow.com/questions/12576156/reading-a-list-from-properties-file-and-load-with-spring-annotation-value/29970335#29970335", "tags": ["java", "spring", "spring-properties"]}], "question_id": 12576156}, {"body": "<p>What is the difference between:</p>\n\n<ol>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=224\">JAX-WS</a></li>\n<li><a href=\"http://axis.apache.org/axis2/java/core/\">Axis2</a></li>\n<li><a href=\"http://cxf.apache.org/\">CXF</a></li>\n</ol>\n\n<p>All three can be used to create webservices in Java.<br>\nAs of I know JAX-WS is a <em>specification</em> and Axis2 and CXF are implementations, but Java 1.6 has implementation of JAX-WS if I am not wrong.</p>\n\n<p>So one can use Java 1.6 to develop JAX-WS web services without using Axis2 or CXF? Then what is the use of Axis2, CXF? </p>\n", "tags": ["java", "jax-ws", "cxf", "axis2"], "title": "Difference between JAX-WS, Axis2 and CXF", "answer_count": 3, "creation_date": 1342720587, "score": 78, "link": "http://stackoverflow.com/questions/11566609/difference-between-jax-ws-axis2-and-cxf", "answers": [{"body": "<p>The JAX-WS implementation built into the JDK really is just the basic soap stuff.  If you need any of the more complex WS-* things like WS-Security, WS-RM, WS-Policy, etc..., you need to use one of the alternatives like CXF or Metro or Axis2.   It can also depend on what you are trying to integrate with.  For example, CXF has top notch Spring support as well as very good OSGi support.</p>\n\n<p>CXF also has other things besides just JAX-WS.   It has a compliant JAX-RS implementation as well and supports exposing services as both REST and SOAP very well.   Has a W3C compliant SOAP/JMS implementation if that type of things is required.  Basically, lots of stuff not available from the in-jdk JAX-WS impl.</p>\n\n<p>Also see:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1243247/difference-between-apache-cxf-and-axis/1245386#1245386\">Difference between Apache CXF and Axis</a></p>\n", "title": "Difference between JAX-WS, Axis2 and CXF", "answer_id": 11567163, "link": "http://stackoverflow.com/questions/11566609/difference-between-jax-ws-axis2-and-cxf/11567163#11567163", "tags": ["java", "jax-ws", "cxf", "axis2"]}, {"body": "<p>I found with CXF - integration with Spring is very easy. Moreover, It provides various features like:</p>\n\n<ol>\n<li>Customization of Logging features</li>\n<li>Inbound and Outbound interceptor</li>\n<li>Application Level security</li>\n<li>Easy Exception handling using custom Fault.</li>\n</ol>\n\n<p>For more detail, if you want, please checkout this link: </p>\n\n<p><a href=\"http://predic8.com/axis2-cxf-jax-ws-comparison.htm\">http://predic8.com/axis2-cxf-jax-ws-comparison.htm</a></p>\n\n<p><a href=\"http://www.ibm.com/developerworks/java/library/j-jws11/\">http://www.ibm.com/developerworks/java/library/j-jws11/</a></p>\n\n<p>And, I read above links, its preety helpful for me. I hope it works for u too.</p>\n\n<p>Thanks !</p>\n", "title": "Difference between JAX-WS, Axis2 and CXF", "answer_id": 21701200, "link": "http://stackoverflow.com/questions/11566609/difference-between-jax-ws-axis2-and-cxf/21701200#21701200", "tags": ["java", "jax-ws", "cxf", "axis2"]}, {"body": "<p>In short.</p>\n\n<p>WSDL WS-* are language-agnostic. </p>\n\n<p>JAX-WS are Java standard to build web service. </p>\n\n<p><a href=\"http://cxf.apache.org/docs/why-cxf.html\">Apache CXF</a> and <a href=\"http://axis.apache.org/axis2/java/core/\">Apache Axis 2</a> are two implementations of JAX-WS. They also offer JAX-RS implementations so that you can build Restful services. </p>\n\n<p>CXF has better integration with Spring, and Camel(<a href=\"http://camel.apache.org/components.html\">camel-cxf</a>). And Axis 2 seems not have a active release.</p>\n", "title": "Difference between JAX-WS, Axis2 and CXF", "answer_id": 23434614, "link": "http://stackoverflow.com/questions/11566609/difference-between-jax-ws-axis2-and-cxf/23434614#23434614", "tags": ["java", "jax-ws", "cxf", "axis2"]}], "question_id": 11566609}, {"body": "<p>Yesterday I switched to Intellij from Eclipse. </p>\n\n<p>I am using jRebel with Websphere Server 7 as well.</p>\n\n<p>Everything now seems to be working somewhat fine, except that <strong>when I modify</strong> a Java file, and <strong>hit save</strong>, Intellij <strong>does not</strong> re-compile the file, in order for jRebel to pick it up. </p>\n\n<p>The eclipse \"<strong>Build Automatically</strong>\" feature resolved this issue. </p>\n\n<p>In Intellij, I have to hit <strong>CTRL + SHIFT + 9</strong> to re-compile the relevant class for jRebel to pick it up. If changes are done across <strong>two files</strong>, I have <strong>to do this on each and one of</strong> them and since Intellij uses the save all mechanism, its pretty hard to know what to recompile manually which I am not really interested in doing either.</p>\n\n<p>Isn't there a way to make Intellij to <strong>do this on its own</strong>?</p>\n", "tags": ["java", "java-ee", "intellij-idea", "jrebel"], "title": "Intellij IDEA Java classes not auto compiling on save", "answer_count": 9, "creation_date": 1349432844, "score": 77, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save", "answers": [{"body": "<p><strong>UPDATED</strong> <br>\nFor IDEA 12+ releases we can build automatically the edited sources if we are using the external compiler option. The only thing needed is to check the option \"Make project automatically\", located under Compiler Settings.\n<a href=\"http://i.stack.imgur.com/54GnL.png\"><img src=\"http://i.stack.imgur.com/54GnL.png\" alt=\"Compiler Settings\"></a></p>\n\n<p><hr>\nFor versions older then 12, you can use the EclipseMode plugin to make IDEA automatically compile the saved files. See: <a href=\"http://www.jetbrains.com/idea/documentation/migration_faq.html\">http://www.jetbrains.com/idea/documentation/migration_faq.html</a> for more tips when migrating from Eclipse.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 12744431, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/12744431#12744431", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<h1>WARNING</h1>\n\n<p><strong>Eclipse Mode</strong> plug-in is obsolete and is not compatible with the recent IDEA 12+ builds. If you install it, IDE will hang on every file change and will respond extremely slow.</p>\n\n<hr>\n\n<p>IntelliJ IDEA doesn't use automatic build, it detects errors on the fly, not via compiler. Similar to Eclipse mode will be available in <a href=\"http://confluence.jetbrains.net/display/IDEADEV/IDEA+12+EAP\">IDEA 12</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/KOj6j.png\" alt=\"Make project automatically\"></p>\n\n<p>Use <code>Build</code> | <code>Make</code>, it invokes the incremental make process that will compile only changed and dependent files (it's very fast).</p>\n\n<p>There is also a <a href=\"http://devnet.jetbrains.net/docs/DOC-1122\">FAQ entry</a> that may help.</p>\n\n<p><strong>Update on the automatic make feature</strong>:\nWhen run/debug configuration is running, <code>Make project automatically</code> has no effect. Classes on disk will change only on <code>Build</code> | <code>Make</code>. It's the core design decision as in our opinion class changes on disk should be always under user's control. Automatic make is not the copycat of Eclipse feature, it works differently and it's main purpose is to save time waiting for the classes to be ready when they are really needed (before running the app or tests). Automatic make doesn't replace the explicit compilation that you still need to trigger like in the case described in this question. If you are looking for different behavior, EclipseMode plug-in linked in the FAQ above would be a better choice.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 12744437, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/12744437#12744437", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<p>You can keymap <code>ctrl+s</code> to save AND compile in one step.  Go to the keymap settings and search for <code>Compile</code>.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 13942278, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/13942278#13942278", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<p>I ended up recording a <strong>Macro</strong> to save and compile in one step, and keymap <code>Ctrl+s</code> to it.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 14487571, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/14487571#14487571", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<p>I had the same issue.\nI was using the \"Power save mode\", which prevents from compiling incrementally and showing compilation errors.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 27662039, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/27662039#27662039", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<p>I managed to solve this using macros.</p>\n\n<p>I started recording a macro:</p>\n\n<ul>\n<li>Click Edit - Macros - Start macro recording</li>\n<li>Click File - Save All</li>\n<li>Click Build - Make Project</li>\n<li>Click Edit - Macros - Stop macro recording</li>\n</ul>\n\n<p>Name it something useful like, \"SaveAndMake\".</p>\n\n<p>Now just remove the Save all keybinding, and add the same keybinding to your macro! </p>\n\n<p>So now, every time i save, it saves and makes a dirty compile, and jRebel now detects all changes correctly.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 28764957, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/28764957#28764957", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<p>There is actually <strong>no difference</strong> as both require 1 click:</p>\n\n<ul>\n<li><em>Eclipse</em>: manual Save, auto-compile. </li>\n<li><em>IntelliJ</em>: auto Save, manual compile.</li>\n</ul>\n\n<p><strong>Simplest solution</strong> is just to get used to it. Because when you spend most of your daytime in your IDE, then better have fast habits in one than slow habits in several of them.</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 28805314, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/28805314#28805314", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<p>Use the Reformat and Compile plugin (inspired by the Save Actions plugin of Alexandre DuBreuil):</p>\n\n<p><a href=\"https://plugins.jetbrains.com/plugin/8231?pr=idea_ce\" rel=\"nofollow\">https://plugins.jetbrains.com/plugin/8231?pr=idea_ce</a></p>\n\n<p>At the moment I am only offering a jar file, but this is the most important part of the code:</p>\n\n<pre><code>private final static Set&lt;Document&gt; documentsToProcess = new HashSet&lt;Document&gt;();\nprivate static VirtualFile[] fileToCompile = VirtualFile.EMPTY_ARRAY;\n\n// The plugin extends FileDocumentManagerAdapter.\n// beforeDocumentSaving calls reformatAndCompile\nprivate static void reformatAndCompile(\n        @NotNull final Project project,\n        @NotNull final Document document,\n        @NotNull final PsiFile psiFile) {\n    documentsToProcess.add(document);\n    if (storage.isEnabled(Action.compileFile) &amp;&amp; isDocumentActive(project, document)) {\n        fileToCompile = isFileCompilable(project, psiFile.getVirtualFile());\n    }\n    ApplicationManager.getApplication().invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            if (documentsToProcess.contains(document)) {\n                documentsToProcess.remove(document);\n                if (storage.isEnabled(Action.optimizeImports)\n                        || storage.isEnabled(Action.reformatCode)) {\n                    CommandProcessor.getInstance().runUndoTransparentAction(new Runnable() {\n                        @Override\n                        public void run() {\n                            if (storage.isEnabled(Action.optimizeImports)) {\n                                new OptimizeImportsProcessor(project, psiFile)\n                                    .run();\n                            }\n                            if (storage.isEnabled(Action.reformatCode)) {\n                                new ReformatCodeProcessor(\n                                        project,\n                                        psiFile,\n                                        null,\n                                        ChangeListManager\n                                            .getInstance(project)\n                                            .getChange(psiFile.getVirtualFile()) != null)\n                                                .run();\n                            }\n                            ApplicationManager.getApplication().runWriteAction(new Runnable() {\n                                @Override\n                                public void run() {\n                                    CodeInsightUtilCore.forcePsiPostprocessAndRestoreElement(psiFile);\n                                }\n                            });\n                        }\n                    });\n                }\n            }\n\n            if (fileToCompile.length &gt; 0) {\n                if (documentsToProcess.isEmpty()) {\n                    compileFile(project, fileToCompile);\n                    fileToCompile = VirtualFile.EMPTY_ARRAY;\n                }\n            } else if (storage.isEnabled(Action.makeProject)) {\n                if (documentsToProcess.isEmpty()) {\n                    makeProject(project);\n                }\n            } else {\n                saveFile(project, document, psiFile.getVirtualFile());\n            }\n        }\n    }, project.getDisposed());\n}\n\nprivate static void makeProject(@NotNull final Project project) {\n    ApplicationManager.getApplication().invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            CompilerManager.getInstance(project).make(null);\n        }\n    }, project.getDisposed());\n}\n\nprivate static void compileFile(\n        @NotNull final Project project,\n        @NotNull final VirtualFile[] files) {\n    ApplicationManager.getApplication().invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            CompilerManager.getInstance(project).compile(files, null);\n        }\n    }, project.getDisposed());\n}\n\nprivate static void saveFile(\n        @NotNull final Project project,\n        @NotNull final Document document,\n        @NotNull final VirtualFile file) {\n    ApplicationManager.getApplication().invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            final FileDocumentManager fileDocumentManager = FileDocumentManager.getInstance();\n            if (fileDocumentManager.isFileModified(file)) {\n                fileDocumentManager.saveDocument(document);\n            }\n        }\n    }, project.getDisposed());\n}\n</code></pre>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 35727193, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/35727193#35727193", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}, {"body": "<h3>1 - Enable Automake from the compiler</h3>\n\n<ul>\n<li>PRESS: <code>CTRL + SHIFT + A</code></li>\n<li>TYPE: <code>make project automatically</code></li>\n<li>PRESS: <code>Enter</code> </li>\n<li>Enable <code>Make Project automatically</code> feature</li>\n</ul>\n\n<h3>2 - Enable Automake when the application is running</h3>\n\n<ul>\n<li>PRESS: <code>CTRL + SHIFT + A</code></li>\n<li>TYPE: <code>Registry</code></li>\n<li>Find the key <code>compiler.automake.allow.when.app.running</code> and <strong>enable it</strong></li>\n</ul>\n\n<p>Note: Restart your application now :)</p>\n", "title": "Intellij IDEA Java classes not auto compiling on save", "answer_id": 36827568, "link": "http://stackoverflow.com/questions/12744303/intellij-idea-java-classes-not-auto-compiling-on-save/36827568#36827568", "tags": ["java", "java-ee", "intellij-idea", "jrebel"]}], "question_id": 12744303}, {"body": "<p>When running any java application, or just 'java', the jvm fails:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of VM<br>\n  java/lang/NoClassDefFoundError: java/lang/Object</p>\n</blockquote>\n\n<p>Here is a list of <em>wrong</em> answers:</p>\n\n<ol>\n<li><p>The correct Java home directory, including the /bin directory, is on the global PATH</p></li>\n<li><p>JAVA_HOME is set correctly</p></li>\n<li><p>Executing the command java -fullversion works</p>\n\n<pre><code>$ java -fullversion\n\n./java full version \"1.7.0_05-b05\"\n</code></pre></li>\n<li><p>The symbolic links in /usr/java all point to the correct java installation</p></li>\n<li><p>I did not install any 'default' java when I created the system</p></li>\n<li><p><code>java -version</code> fails...same error as above</p></li>\n<li><p>Issuing the commands from under the directory structure of the java installation does not work either</p></li>\n<li><p>This is 64-bit java for a 64-bit</p></li>\n</ol>\n\n<p>Any ideas?</p>\n", "tags": ["java"], "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_count": 21, "creation_date": 1344084758, "score": 76, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object", "answers": [{"body": "<p>It seems that for a 64 bit architecture you have to install both the 32-bit version and the 64-bit version of jre (architecture independent files as rt.jar are distributed only in the 32-bit version).</p>\n\n<p>Remember then to pay attention to include the correct java executable on the global PATH environment variable.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 12815155, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/12815155#12815155", "tags": ["java"]}, {"body": "<p>The problem comes from an improper java installation (e.g. an installation done without admin rights or by simply unzipping tools.zip).</p>\n\n<p>You can either uninstall, then reinstall Java with an installer and/or more privileges or try the following:</p>\n\n<p>Check in your JDK folder for <code>*.pack</code> files in <code>jre/lib</code> and <code>jre/lib/ext</code>\nsuch as <code>rt.pack</code> (the default location is <code>c:\\nameof_jdk_folder\\jre\\lib</code> for Microsoft Windows and  <code>/usr/java/lib</code> for Unix/GNU Linux) </p>\n\n<p>Those <code>*.pack</code> files need to be unpacked to <code>.jar</code> files using this command:</p>\n\n<ul>\n<li><p>For Windows:</p>\n\n<p><code>%JAVA_HOME%\\bin\\unpack200 -r -v -l \"\" rt.pack rt.jar</code></p></li>\n<li><p>For *nix, a similar command line will unpack the files:</p>\n\n<p><code>cd /usr/java/lib</code></p>\n\n<p><code>/usr/bin/unpack200 rt.pack rt.jar</code></p></li>\n</ul>\n\n<p>and repeat that step with all of the *.pack files and relaunch your program.  </p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 14480193, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/14480193#14480193", "tags": ["java"]}, {"body": "<p>Another answer could be to use the tar.gz file instead in the Linux case. There seem to be something like that also for the solaris platform. This way all files will already be in the expected format and there won't be any unpacking issues.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 18963500, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/18963500#18963500", "tags": ["java"]}, {"body": "<p>I have the some problem on x86_64 Linux installations with JDK 1.7.0_40 i586.\nI figured out that the problem is that rpm can't unpack jar files, as mentioned by Rigg802 (though rpm completes marking success):</p>\n\n<pre><code>Unpacking JAR files...\n        rt.jar...\n/var/tmp/rpm-tmp.zLzkkb: /usr/java/jdk1.7.0_40/bin/unpack200: /lib/ld-linux.so.2: bad ELF interpreter: No such file or directory\nError: unpack could not create JAR file:\n\n        /usr/java/jdk1.7.0_40/jre/lib/rt.jar\n</code></pre>\n\n<p>File /lib/ld-linux.so.2 is provided by glibc-2.12-1.107.el6_4.4.<strong>i686</strong> which is not among rpm deps of jdk rpm.</p>\n\n<p>Oracle JDK rpm also requires 32 bit versions of libgcc-4.4.7-3.el6.<strong>i686</strong> to be installed</p>\n\n<p>So, workaround is to install glibc-2.12-1.107.el6_4.4.i686 and libgcc-4.4.7-3.el6.i686 first.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 19376315, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/19376315#19376315", "tags": ["java"]}, {"body": "<p>You are most probably missing a file called rt.jar in your installation which has the class file for java.lang.Object. Check your install files etc.</p>\n\n<p>In particular, note that a 64-bit intsaller overlays (or installs \"next to\") an existing 32-bit installation. In other words, to get a fully working 64-bit installation, you must first run the 32-bit installation, and follow that up with a 64-bit installation if you have a 64bit capable machine...</p>\n\n<p>If instead you do just a 64-bit installation you will be missing certain files in the installation and will get errors such as the one above.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 21224594, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/21224594#21224594", "tags": ["java"]}, {"body": "<p>For java 8 @ *NIX OS:</p>\n\n<p>From directory <code>\"&lt;jdk1.8_root&gt;/jre/lib\"</code> (For me it: /usr/java/jdk1.8.0_05/jre/lib)</p>\n\n<p>Run:</p>\n\n<pre><code> ../../bin/unpack200 rt.pack rt.jar\n ../../bin/unpack200 jsse.pack jsse.rar\n ../../bin/unpack200 charsets.pack charsets.jar\n</code></pre>\n\n<p>(May You can't use the system's unpack200 cause version problems.)\nThis unpack200 is in java 8 directory (for me: /usr/java/jdk1.8.0_05/bin)</p>\n\n<p>Benedek</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 24242476, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/24242476#24242476", "tags": ["java"]}, {"body": "<p>if you do \"chmod u+rx\" on the java binary and run it, it will the unpack the jar files and you can do a java -version without runtime errors </p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 25407156, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/25407156#25407156", "tags": ["java"]}, {"body": "<p>You cannot install just the 64bit, you must first install the 32bit and then add the 64bit components.</p>\n\n<p>From java.com:</p>\n\n<blockquote>\n  <p>Installing the JRE on a 64-bit system that allows a 32-bit JVM is a two-step process: first  install the 32-bit JRE and then install the additional support for 64-bit operations. The  file names are as follows: </p>\n</blockquote>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 25435939, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/25435939#25435939", "tags": ["java"]}, {"body": "<p><strong>Quick Solution</strong> for impatient people ;) On <strong>Windows</strong> machines, try this:\nGo to <code>C:\\Windows\\System32</code> directory and rename <code>java.exe</code> to <code>java.exe.old</code></p>\n\n<p><strong>A bit more reading:</strong> </p>\n\n<p>I'm really suprised that a question from 2012 doesn't have an approved answer yet and I've actually encountered the same issue in 2015 on my Win 7 32-Bit OS!</p>\n\n<p>So what did happen?</p>\n\n<p>Basically, everything was working fine, I downloaded H2 database and when I tried to start <code>H2 Console (Command Line)</code> I got:</p>\n\n<pre><code>Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</code></pre>\n\n<p>I found this question and I was able to confirm the same symptoms:</p>\n\n<p>JAVA_HOME is set correctly:</p>\n\n<pre><code>echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk1.6.0_26\n</code></pre>\n\n<p><code>java -version</code> fails, while <code>java --fullversion</code> works fine:</p>\n\n<pre><code>java -fullversion\njava full version \"1.6.0_45-b06\"\n</code></pre>\n\n<p><strong>SOLUTION:</strong>\nGo to <code>C:\\Windows\\System32</code> directory and delete (I actually renamed) <code>java.exe</code> file!!!!</p>\n\n<p>Now, I get:</p>\n\n<pre><code>java -version\njava version \"1.6.0_26\"\nJava(TM) SE Runtime Environment (build 1.6.0_26-b03)\nJava HotSpot(TM) Client VM (build 20.1-b02, mixed mode, sharing)\n</code></pre>\n\n<p>and <code>H2 Console (Command Line)</code> works fine as well!</p>\n\n<p>Credits go to the last post in this forum:\n<a href=\"https://bukkit.org/threads/java-lang-noclassdeffounderror-java-lang-object.70450/\" rel=\"nofollow\">https://bukkit.org/threads/java-lang-noclassdeffounderror-java-lang-object.70450/</a></p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 30577609, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/30577609#30577609", "tags": ["java"]}, {"body": "<p>If nothing works said here then uninstall all the Java versions from your machine and install Java Jdk latest version.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 32642499, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/32642499#32642499", "tags": ["java"]}, {"body": "<p>This problem happens when you install the JDK by <code>_uncompressing_</code> it instead of <code>_executing_</code> it. </p>\n\n<p><strong>By example:</strong></p>\n\n<pre><code>unzip jdk-6u45-linux-x64.bin  (wrong)\n\nsh ./jdk-6u45-linux-x64.bin   (right)\n</code></pre>\n\n<p>In the first scenario, the runtime libraries, as rt.jar, don't get automatically uncompresessed (thus, you can find the rt.pack files, etc. instead of the .jar ones).</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 32968145, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/32968145#32968145", "tags": ["java"]}, {"body": "<p>I had the same problem recently. In my case my windows 7 machine automatically downloaded java and added <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> to the beginning of my path environment variable, which messed up my java. Once I got rid of that from the path, it worked.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 35003284, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/35003284#35003284", "tags": ["java"]}, {"body": "<p>If you install a 64-bit version without first installing 32-bit, this error will occur despite fixing all of the other issues.  I have a brand new Dell i7 64-bit Windows 10 Pro machine running Java 8u71.  After having added my %path% and %classpath% to environment variables and trying several other fixes, uninstalling 64-bit, installing 32-bit then reinstalling 64-bit fixed it.</p>\n\n<p>Some of the issues, like not having your files unpacked, etc. that have been mentioned as possible causes may still be causing issues, but if you don't do this, as well, the other fixes won't work.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 35029581, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/35029581#35029581", "tags": ["java"]}, {"body": "<p>Quick fix that worked for me:</p>\n\n<pre><code>for file in $(find \"$JAVA_HOME\" -name \"*pack\")\ndo \n    unpack200 \"${file}\" \"${test_file/%pack/jar}\";\ndone\n</code></pre>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 35040182, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/35040182#35040182", "tags": ["java"]}, {"body": "<p>I found that this error occurred when I extracted the .rpm file.</p>\n\n<p>I then removed that folder and downloaded jdk-7u79-linux-x64.tar.gz for Linux 64 and extracted the contents of this file instead.\nAlso:\n    export JAVA_HOME=/opt/java/jdk1.7.0_79\n    export JDK_HOME=/opt/java/jdk1.7.0_79\n    export PATH=${JAVA_HOME}/bin</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 35602436, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/35602436#35602436", "tags": ["java"]}, {"body": "<p>I downloaded new JDK today (1.8.0.73) started <code>c:&gt; java.exe</code> and got the infamous:</p>\n\n<blockquote>\n<pre><code>Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</code></pre>\n</blockquote>\n\n<p>I just wanted to share my working solution on here.</p>\n\n<p>When I cd'ied into the <code>jdk\\bin</code> folder, Java would run fine so I knew it was the <code>PATH</code>. I set <code>PATH</code> to just <code>\\jdk\\bin</code> at CMD to prove it and it worked.</p>\n\n<p>So, one of the folders in the <code>PATH</code> must have had <code>java.exe</code> that was causing the conflict, I thought. As it turned out, it was <code>C:\\&gt;ProgramData\\Oracle\\Java\\javapath</code> that holds <strong>symlinks</strong> to the executables. </p>\n\n<p><code>java.exe</code> was pointing to <code>jre\\bin</code>. The file was corrupt, when I started <code>\\jre\\bin\\java.exe</code>--the exact same error. Bingo. I re-installed JRE and the problem went away. Happy coding...</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 35786417, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/35786417#35786417", "tags": ["java"]}, {"body": "<p>In my case, I use a windows 8.1 (installed jdk1.8.0_77), I did three things:</p>\n\n<ol>\n<li>I deleted previous jdks</li>\n<li>I renamed the java.exe file inside C:\\Windows\\System32</li>\n<li>I also removed C:\\ProgramData\\Oracle\\Java\\javapath in my PATH (echo %PATH%)</li>\n</ol>\n\n<p>and voila got it fixed!</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 36400942, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/36400942#36400942", "tags": ["java"]}, {"body": "<p>I was facing same issue: Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object</p>\n\n<p>Follow below steps to resolve issue :</p>\n\n<p>Step 1. Goto C:\\Program Files\\ and search for Java folder.</p>\n\n<p>Step 2. Delete C:\\Program Files\\Java folder.</p>\n\n<p>Step 3. Download new Jdk for your version 32 bit/64 bit from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>\n\n<p>Step 4. Install JDK</p>\n\n<p>Step 5: Now Set JAVA_HOME to \"C:\\Program Files\\Java\\jdk1.8.0_91\"</p>\n\n<p>Step 6: Open command prompt and enter java -version.</p>\n\n<p>It works.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 38071205, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/38071205#38071205", "tags": ["java"]}, {"body": "<p>I have faced the similar issue and found that the symlink in program data(C:\\ProgramData\\Oracle\\Java\\javapath) was wrong. I have given the correct path and it worked.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/26864662/how-to-solve-the-error-the-system-cannot-find-the-file-c-programdata-oracle-ja\">Details on how to correct the program data is available here</a></p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 38823380, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/38823380#38823380", "tags": ["java"]}, {"body": "<p>I faced same issue, I have installed two java version hence it caused this issue. to confirm this go and click java icon in control panel if doesnt open then issue is same, just go and uninstall one version. piece of cake. thanks.</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 38850960, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/38850960#38850960", "tags": ["java"]}, {"body": "<p>Just install the jre <em>again</em>. It simply solved my problem. (SonarQube startup batch started to give this error after I installed jdk)</p>\n", "title": "JRE 1.7 returns: java/lang/NoClassDefFoundError: java/lang/Object", "answer_id": 39134100, "link": "http://stackoverflow.com/questions/11808829/jre-1-7-returns-java-lang-noclassdeffounderror-java-lang-object/39134100#39134100", "tags": ["java"]}], "question_id": 11808829}, {"body": "<p>Is it possible in JUnit to assert an object is an instance of a class? For various reasons I have an object in my test that I want to check the type of. Is it a type of Object1 or a type of Object2?</p>\n\n<p>Currently I have:</p>\n\n<pre><code>assertTrue(myObject instanceof Object1);\nassertTrue(myObject instanceof Object2);\n</code></pre>\n\n<p>This works but I was wondering if there is a more expressive way of doing this.</p>\n\n<p>For example something like:</p>\n\n<pre><code>assertObjectIsClass(myObject, Object1);\n</code></pre>\n\n<p>I could do this:</p>\n\n<pre><code>assertEquals(myObject.class, Object1.getClass());\n</code></pre>\n\n<p>Is there a specific assert method that allows me to test a type of an object in a more elegant, fluid manner?</p>\n", "tags": ["java", "unit-testing", "junit"], "title": "Assert an object is a specific type", "answer_count": 1, "creation_date": 1347533677, "score": 76, "link": "http://stackoverflow.com/questions/12404650/assert-an-object-is-a-specific-type", "answers": [{"body": "<p>You can use the <code>assertThat</code> method and the Matchers that comes with JUnit.</p>\n\n<p>Take a look at <a href=\"http://tutorials.jenkov.com/java-unit-testing/matchers.html\">this link</a> that describes a little bit about the JUnit Matchers.</p>\n\n<p>Example:</p>\n\n<pre><code>public class BaseClass {\n}\n\npublic class SubClass extends BaseClass {\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>import org.junit.Test;\n\nimport static org.hamcrest.CoreMatchers.instanceOf;\nimport static org.junit.Assert.assertThat;\n\n/**\n * @author maba, 2012-09-13\n */\npublic class InstanceOfTest {\n\n    @Test\n    public void testInstanceOf() {\n        SubClass subClass = new SubClass();\n        assertThat(subClass, instanceOf(BaseClass.class));\n    }\n}\n</code></pre>\n", "title": "Assert an object is a specific type", "answer_id": 12404813, "link": "http://stackoverflow.com/questions/12404650/assert-an-object-is-a-specific-type/12404813#12404813", "tags": ["java", "unit-testing", "junit"]}], "question_id": 12404650}, {"body": "<p>Why do doubles have <code>-0</code> as well as <code>+0</code>?  What is the background and significance?</p>\n", "tags": ["java", "floating-point", "zero"], "title": "Why do floating-point numbers have signed zeros?", "answer_count": 4, "creation_date": 1353782527, "score": 75, "link": "http://stackoverflow.com/questions/13544342/why-do-floating-point-numbers-have-signed-zeros", "answers": [{"body": "<p>From Wikipedia</p>\n\n<blockquote>\n  <p>Signed zero is zero with an associated sign. In ordinary arithmetic,\n  <code>\u22120 = +0 = 0</code>.  In computing, existes the concept of <strong>existence of\n  two zeros</strong> in some numbers representations, usually denoted by  <code>\u22120</code>\n  and '+0', representing  <strong>negative zero</strong> and <code>+0</code> <strong>positive zero</strong>,\n  respectively (<a href=\"http://en.wikipedia.org/wiki/Signed_zero\">source</a>).</p>\n  \n  <p>This occurs in the sign and magnitude and ones' complement <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations\">signed\n  number representations</a> for integers, and in most floating point\n  number representations. The number 0 is usually encoded as +0, but can\n  be represented by either +0 or \u22120.</p>\n  \n  <p>According to the <code>IEEE 754 standard</code>, negative zero and positive zero\n  should <strong>compare as equal</strong> with the usual (numerical) comparison\n  operators, like the == operators of C and Java. (<a href=\"http://en.wikipedia.org/wiki/Signed_zero\">source</a>).</p>\n</blockquote>\n\n<p>When you have a <strong>floating-point operation</strong> that produces a results that is a <strong>negative floating-point</strong> number <strong>close to zero</strong>, but that can <strong>not be represented</strong> (in computing) it is produce a \"-0.0\". For example -<code>5.0 / Float.POSITIVE_INFINITY  -&gt;  -0.0</code>.</p>\n\n<p>This distinguish, in <code>-0.0</code>, and <code>+0.0</code>, gives you more information than simply giving you an final result 0. Of course this concept it \"only\" exists in a finite representation system like the one use in computers. In mathematical you can represent any number, even if it is very very near to zero.</p>\n\n<p><code>\u22120</code> and <code>+0</code> are result from operations that cause <strong><a href=\"http://en.wikipedia.org/wiki/Arithmetic_underflow\">underflows</a></strong>, similar <code>\u221200</code> or <code>+00</code> are result from operations that cause <strong><a href=\"http://en.wikipedia.org/wiki/Arithmetic_overflow\">overflow</a></strong>. For the operations that cause mathematically <strong>indetermination</strong> the result ins <strong>NaN</strong> (e.g. 0/0).</p>\n\n<p><strong>What's the difference between -0.0 and 0.0?</strong></p>\n\n<p>In reality both are represent 0. Furthermore, (-0.0 == 0.0) returns <strong>true</strong>. Nevertheless: </p>\n\n<p>1) <code>1/-0.0</code> produces <strong>-Infinity</strong> while <code>1/0.0</code> produces <strong>Infinity</strong>.</p>\n\n<p>2) <code>3 * (+0)</code> = <strong>+0</strong> and <code>+0/-3</code> = <strong>-0</strong>. The <strong>sign rules</strong> is apply, when performing multiplications or division over a signed zero. </p>\n\n<p>Mandatory reading \"<a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html#924\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>\" (suggest in the comments). </p>\n", "title": "Why do floating-point numbers have signed zeros?", "answer_id": 13544352, "link": "http://stackoverflow.com/questions/13544342/why-do-floating-point-numbers-have-signed-zeros/13544352#13544352", "tags": ["java", "floating-point", "zero"]}, {"body": "<p><code>-0</code> is (generally) treated as <code>0</code> <strong><em>*</em></strong>. It can result when a <em>negative</em> floating-point number is so close to zero that it can be considered <code>0</code> (to be clear, I'm referring to <a href=\"http://en.wikipedia.org/wiki/Arithmetic_underflow\">arithmetic underflow</a>, and the results of the following computations are interpreted as being <em>exactly</em> <code>\u00b10</code>, not just really small numbers). e.g.</p>\n\n<pre><code>System.out.println(-1 / Float.POSITIVE_INFINITY);\n</code></pre>\n\n<pre>\n-0.0\n</pre>\n\n<p>If we consider the same case with a <em>positive</em> number, we will receive our good old <code>0</code>:</p>\n\n<pre><code>System.out.println(1 / Float.POSITIVE_INFINITY);\n</code></pre>\n\n<pre>\n0.0\n</pre>\n\n<hr>\n\n<p><em><strong></em>*</strong> Here's a case where using <code>-0.0</code> results in something different than when using <code>0.0</code>:</p>\n\n<pre><code>System.out.println(1 / 0.0);\nSystem.out.println(1 / -0.0);\n</code></pre>\n\n<pre>\nInfinity\n-Infinity\n</pre>\n\n<p>This makes sense if we consider the function <em><code>1 / x</code></em>. As <em><code>x</code></em> approaches <code>0</code> from the <em><code>+</code></em>-side, we should get <em>positive</em> infinity, but as it approaches from the <em><code>-</code></em>-side, we should get <em>negative</em> infinity. The graph of the function should make this clear:</p>\n\n<p><img src=\"http://i.stack.imgur.com/NBuX9.png\" alt=\"\"></p>\n\n<p>(<a href=\"http://www.sagemath.org/calctut/onesided.html\">source</a>)</p>\n\n<p>In math-terms:</p>\n\n<p><img src=\"http://i.stack.imgur.com/qQYsm.gif\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/kuvRc.gif\" alt=\"enter image description here\"></p>\n\n<p>This illustrates one significant difference between <code>0</code> and <code>-0</code> in the computational sense.</p>\n\n<hr>\n\n<p>Here are some relevant resources, some of which have been brought up already. I've included them for the sake of completeness:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Signed_zero\">Wikipedia article on signed zero</a></li>\n<li><a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\">\"What Every Computer Scientist Should Know About Floating-Point Arithmetic\"</a> (See Signed Zero section)</li>\n<li>(PDF) <a href=\"http://people.freebsd.org/~das/kahan86branch.pdf\">\"Much Ado About Nothing's Sign Bit\"</a> - an interesting paper by W. Kahan.</li>\n</ul>\n", "title": "Why do floating-point numbers have signed zeros?", "answer_id": 13544379, "link": "http://stackoverflow.com/questions/13544342/why-do-floating-point-numbers-have-signed-zeros/13544379#13544379", "tags": ["java", "floating-point", "zero"]}, {"body": "<p>See the section on \"Signed Zero\" in <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></p>\n\n<p>Zeros in Java float and double do not just represent true zero. They are also used as the result for any calculation whose exact result has too small a magnitude to be represented. There is a big difference, in many contexts, between underflow of a negative number and underflow of a positive number. For example, if <code>x</code> is a very small magnitude positive number, <code>1/x</code> should be positive infinity and <code>1/(-x)</code> should be negative infinity. Signed zero preserves the sign of underflow results.</p>\n", "title": "Why do floating-point numbers have signed zeros?", "answer_id": 13544428, "link": "http://stackoverflow.com/questions/13544342/why-do-floating-point-numbers-have-signed-zeros/13544428#13544428", "tags": ["java", "floating-point", "zero"]}, {"body": "<p>The canonical reference for the usefulness of signed zeros in floating-point is Kahan's paper \"<a href=\"http://port70.net/~nsz/articles/float/kahan_branch_cuts_complex_elementary_functions_1987.pdf\">Branch Cuts for Complex Elementary Functions, or Much Ado About Nothing's Sign Bit</a>\" (and some of his talks on the subject).</p>\n\n<p>The short version is that in reasonably common engineering applications, the sign information that is preserved by having signed zero is necessary to get correct solutions from numerical methods.  The sign of zero has little meaning for most <em>real</em> operations, but when complex-valued functions are considered, or conformal mappings are used, the sign of zero may suddenly become quite critical.</p>\n\n<p>It's also worth noting that the original (1985) <code>IEEE-754</code> committee considered, and rejected, supporting a <em>projective</em> mode for floating-point operations, under which there would only be a single unsigned infinity (+/-0 would be semantically identical in such a mode, so even if there were still two encodings, there would only be a single zero as well).</p>\n", "title": "Why do floating-point numbers have signed zeros?", "answer_id": 13554556, "link": "http://stackoverflow.com/questions/13544342/why-do-floating-point-numbers-have-signed-zeros/13554556#13554556", "tags": ["java", "floating-point", "zero"]}], "question_id": 13544342}, {"body": "<p>Below is the method I wrote: </p>\n\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; loadNotYetInEmployee(int shift, Date date,\n        int transitionVal, String type, User user) {\n\n    DateTime datetime = new DateTime(date);\n    datetime = datetime\n            .plus(Period.minutes(shiftTiming.getSession1InTime()));\n\n    List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\n\n    sql = SqlMapUtils.getSql(\"attendance.attendancestatus.latein\",\n            parameters);\n    result = getJdbcTemplate().queryForList(sql);\n    for (int i = 0; i &lt; result.size(); i++) {\n        Date punchInTime = (Date) result.get(i).get(\"punchtime\");\n        DateTime punchTime = new DateTime(punchInTime);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Now from my method you can see I have a <a href=\"http://www.joda.org/joda-time/\">Joda-Time</a> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\">DateTime</a> object in object named <code>datetime</code> and from my result I am getting one timestamp which I am converting to jodatime <code>punchTime</code>. Now I want to find out the diff between these two dates, how do I do that?</p>\n\n<p>Thanks In advance</p>\n", "tags": ["java", "spring-mvc", "jodatime"], "title": "How to find difference between two Joda-Time DateTimes in minutes", "answer_count": 2, "creation_date": 1350013715, "score": 74, "link": "http://stackoverflow.com/questions/12851934/how-to-find-difference-between-two-joda-time-datetimes-in-minutes", "answers": [{"body": "<p>Something like...</p>\n\n<pre><code>DateTime today = new DateTime();\nDateTime yesterday = today.minusDays(1);\n\nDuration duration = new Duration(yesterday, today);\nSystem.out.println(duration.getStandardDays());\nSystem.out.println(duration.getStandardHours());\nSystem.out.println(duration.getStandardMinutes());\n</code></pre>\n\n<p>Which outputs</p>\n\n<pre><code>1\n24\n1440\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.println(Minutes.minutesBetween(yesterday, today).getMinutes());\n</code></pre>\n\n<p>Which is probably more what you're after</p>\n", "title": "How to find difference between two Joda-Time DateTimes in minutes", "answer_id": 12852021, "link": "http://stackoverflow.com/questions/12851934/how-to-find-difference-between-two-joda-time-datetimes-in-minutes/12852021#12852021", "tags": ["java", "spring-mvc", "jodatime"]}, {"body": "<p>This will get you the difference between two DateTime objects in milliseconds:</p>\n\n<pre><code>DateTime d1 = new DateTime();\nDateTime d2 = new DateTime();\n\nlong diffInMillis = d2.getMillis() - d1.getMillis();\n</code></pre>\n", "title": "How to find difference between two Joda-Time DateTimes in minutes", "answer_id": 12852039, "link": "http://stackoverflow.com/questions/12851934/how-to-find-difference-between-two-joda-time-datetimes-in-minutes/12852039#12852039", "tags": ["java", "spring-mvc", "jodatime"]}], "question_id": 12851934}, {"body": "<p>I read the JDK's source code about ConcurrentHashMap.</p>\n\n<p>But the following code confused me:</p>\n\n<pre><code>public boolean isEmpty() {\n    final Segment&lt;K,V&gt;[] segments = this.segments;\n    ...\n}\n</code></pre>\n\n<p>My question is:</p>\n\n<p>\"this.segments\" is declared:</p>\n\n<pre><code>final Segment&lt;K,V&gt;[] segments;\n</code></pre>\n\n<p>So, here, in the beginning of the method, declared a same type reference, point to the same memory.</p>\n\n<p>Why did the author write it like this? Why didn't they use this.segments directly? Is there some reason?</p>\n", "tags": ["java"], "title": "Why does JDK sourcecode take a `final` copy of `volatile` instances", "answer_count": 3, "creation_date": 1351679381, "score": 74, "link": "http://stackoverflow.com/questions/13155860/why-does-jdk-sourcecode-take-a-final-copy-of-volatile-instances", "answers": [{"body": "<p>This is an idiom typical for lock-free code involving <code>volatile</code> variables. At the first line you read the <code>volatile</code> once and then work with it. In the meantime another thread can update the <code>volatile</code>, but you are only interested in the value you initially read.</p>\n\n<p>Also, even when the member variable in question is not volatile but final, this idiom has to do with CPU caches as reading from a stack location is more cache-friendly than reading from a random heap location. There is also a higher chance that the local var will end up bound to a CPU register.</p>\n\n<p>For this latter case there is actually some controversy, since the JIT compiler will usually take care of those concerns, but Doug Lea is one of the guys who sticks with it on general principle.</p>\n", "title": "Why does JDK sourcecode take a `final` copy of `volatile` instances", "answer_id": 13155900, "link": "http://stackoverflow.com/questions/13155860/why-does-jdk-sourcecode-take-a-final-copy-of-volatile-instances/13155900#13155900", "tags": ["java"]}, {"body": "<p>I guess it's for performance consideration, so that we only need retrieve field value once.</p>\n\n<p>You can refer to a singleton idiom from effective java by Joshua Bloch</p>\n\n<p>His singleton is here:<br></p>\n\n<pre><code>private volatile FieldType field;\nFieldType getField() {\n  FieldType result = field;\n  if (result == null) { \n    synchronized(this) {\n      result = field;\n      if (result == null) \n        field = result = computeFieldValue();\n    }\n  }\n  return result;\n}\n</code></pre>\n\n<p>and he wrote:</p>\n\n<blockquote>\n  <p>This code may appear a bit convoluted. In particular, the need for the\n  local variable result may be unclear. What this variable does is to\n  ensure that field is read only once in the common case where it\u2019s\n  already initialized. <strong>While not strictly necessary, this may improve\n  performance and is more elegant by the standards applied to low-level\n  concurrent programming. On my machine, the method above is about 25\n  percent faster than the obvious version without a local variable</strong>.</p>\n</blockquote>\n", "title": "Why does JDK sourcecode take a `final` copy of `volatile` instances", "answer_id": 13156228, "link": "http://stackoverflow.com/questions/13155860/why-does-jdk-sourcecode-take-a-final-copy-of-volatile-instances/13156228#13156228", "tags": ["java"]}, {"body": "<p>It may reduce byte code size - accessing a local variable is shorter in byte code than accessing an instance variable.</p>\n\n<p>Runtime optimization overhead may be reduced too.</p>\n\n<p>But none of these are significant. It's more about code style. If you feel comfortable with instance variables, by all means. Doug Lea probably <em>feel</em> more comfortable dealing with local variables.</p>\n", "title": "Why does JDK sourcecode take a `final` copy of `volatile` instances", "answer_id": 13162760, "link": "http://stackoverflow.com/questions/13155860/why-does-jdk-sourcecode-take-a-final-copy-of-volatile-instances/13162760#13162760", "tags": ["java"]}], "question_id": 13155860}, {"body": "<p>I have an activity that is using the Theme.Dialog style such that it is a floating window over another activity. However, when I click outside the dialog window (on the background activity), the dialog closes. How can I stop this behaviour?</p>\n", "tags": ["java", "android", "android-activity", "dialog", "touch"], "title": "Prevent Android activity dialog from closing on outside touch", "answer_count": 16, "creation_date": 1345778979, "score": 73, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch", "answers": [{"body": "<p>This could help you. It is a way to handle the touch outside event:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/4650246/how-to-cancel-an-dialog-themed-like-activity-when-touched-outside-the-window/5831214#5831214\">How to cancel an Dialog themed like Activity when touched outside the window?</a></p>\n\n<p>By catching the event and doing nothing, I think you can prevent the closing. But what is strange though, is that the default behavior of your activity dialog should be <strong>not</strong> to close itself when you touch outside.</p>\n\n<p>(PS: the code uses WindowManager.LayoutParams)</p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 12102791, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/12102791#12102791", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>What you actually have is an Activity (even if it looks like a Dialog), therefore you should call <code>setFinishOnTouchOutside(false)</code> from your activity if you want to keep it open when the background activity is clicked.</p>\n\n<p>EDIT: This only works with android API level 11 or greater</p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 15791403, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/15791403#15791403", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>I had the same issue this morning, the solution was to delete the minsdk declaration from the manifest.</p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 17361197, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/17361197#17361197", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>What worked for me was to create dialogFragment an set it to not be cancelable:</p>\n\n<p><strong>dialog.setCancelable(false);</strong></p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 18003159, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/18003159#18003159", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>To prevent dismiss dialog box on back key pressed use this</p>\n\n<pre><code>dialog.setCancelable(false);\n</code></pre>\n\n<p>And to To prevent dismiss dialog box on outside touch use this</p>\n\n<pre><code> dialog.setCanceledOnTouchOutside(false);\n</code></pre>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 19064968, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/19064968#19064968", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>I was facing the same problem. To handle it I set a <code>OntouchListener</code> to the dialog and do nothing inside. But Dialog dismiss when rotating screen too. To fix it I set a variable to tell me if the dialog has normally dismissed. Then I set a <code>OnDismissListener</code> to my dialog and inside I check the variable. If the dialog has dismmiss normally I do nothin, or else I run the dialog again (and setting his state as when dismissing in my case).</p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 21607500, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/21607500#21607500", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>For higher API 10, the Dialog disappears when on touched outside, whereas in lower than API 11, the Dialog doesn't disappear. For prevent this, you need to do:</p>\n\n<p>In <code>styles.xml</code>: <code>&lt;item name=\"android:windowCloseOnTouchOutside\"&gt;false&lt;/item&gt;</code></p>\n\n<p>OR</p>\n\n<p>In <code>onCreate()</code> method, use: <code>this.setFinishOnTouchOutside(false);</code></p>\n\n<p><em>Note: for API 10 and lower, this method doesn't have effect, and is not needed.</em></p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 23188044, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/23188044#23188044", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>Use <code>setFinishOnTouchOutside(false)</code> for API > 11 and don't worry because its android's default behavior that activity themed dialog won't get finished on outside touch for API &lt; 11 :) !!Cheerss!! </p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 25478754, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/25478754#25478754", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>I use this in onCreate(), seems to work on any version of Android; tested on 5.0 and 4.4.x, can't test on Gingerbread, Samsung devices (Note 1 running GB) have it this way by default:</p>\n\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB)\n    {\n        setFinishOnTouchOutside(false);\n    }\n    else\n    {\n        getWindow().clearFlags(LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH);\n    }\n\n    super.onCreate(savedInstanceState);\n</code></pre>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 27512501, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/27512501#27512501", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<pre><code>Dialog dialog = new Dialog(context)\ndialog.setCanceledOnTouchOutside(true); //use this to dismiss the dialog on outside click of dialog\n\n dialog.setCanceledOnTouchOutside(false); //use this for not to dismiss the dialog on outside click of dialog.\n</code></pre>\n\n<p>Watch this link for more details about <a href=\"http://developer.android.com/reference/android/app/Dialog.html#setCanceledOnTouchOutside(boolean)\">dialog.</a></p>\n\n<pre><code>dialog.setCancelable(false);//used to prevent the dismiss of dialog on backpress of that activity\n\ndialog.setCancelable(true);//used to dismiss teh dialog on onbackpressed of that activity\n</code></pre>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 28362340, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/28362340#28362340", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<pre><code>        alert.setCancelable(false);\n        alert.setCanceledOnTouchOutside(false);\n</code></pre>\n\n<p>I guess this will help you.It Worked For me</p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 32556575, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/32556575#32556575", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>Also is possible to assign different action implementing onCancelListener:</p>\n\n<pre><code>alertDialog.setOnCancelListener(new DialogInterface.OnCancelListener(){                   \n    @Override\n    public void onCancel(DialogInterface dialogInterface) {\n        //Your custom logic\n    } \n});\n</code></pre>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 32697900, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/32697900#32697900", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>Setting the dialog cancelable to be false is enough, and either you touch outside of the alert dialog or click the back button will make the alert dialog disappear. So use this one:</p>\n\n<p><code>setCancelable(false)</code></p>\n\n<p>And the other function is not necessary anymore:\n<code>dialog.setCanceledOnTouchOutside(false);</code></p>\n\n<p>If you are creating a temporary dialog and wondering there to put this line of code, here is an example:</p>\n\n<p><code>new AlertDialog.Builder(this)\n                        .setTitle(\"Trial Version\")\n                        .setCancelable(false)\n                        .setMessage(\"You are using trial version!\")\n                        .setIcon(R.drawable.time_left)\n                        .setPositiveButton(android.R.string.yes, null).show();</code></p>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 33512833, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/33512833#33512833", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p><strong>Use This Code it's Working For me</strong></p>\n\n<pre><code> AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\n alertDialog.setCancelable(false);\n</code></pre>\n\n<hr>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 34564569, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/34564569#34564569", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>Here is my solution:</p>\n\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(this);\nbuilder.setTitle(\"Select The Difficulty Level\");\nbuilder.setCancelable(false);\n</code></pre>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 36563711, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/36563711#36563711", "tags": ["java", "android", "android-activity", "dialog", "touch"]}, {"body": "<p>builder.setCancelable(false);</p>\n\n<hr>\n\n<p>public void Mensaje(View v){</p>\n\n<pre><code>    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(\"\u00bfQuieres ir a el Men\u00fa principal?\");\n    builder.setMessage(\"Al presionar SI iras a el men\u00fa y saldras de la materia.\");\n    builder.setPositiveButton(\"SI\", null);\n    builder.setNegativeButton(\"NO\", null);\n    builder.setCancelable(false);\n    builder.show();\n}\n</code></pre>\n", "title": "Prevent Android activity dialog from closing on outside touch", "answer_id": 38340346, "link": "http://stackoverflow.com/questions/12102777/prevent-android-activity-dialog-from-closing-on-outside-touch/38340346#38340346", "tags": ["java", "android", "android-activity", "dialog", "touch"]}], "question_id": 12102777}, {"body": "<p>I'm a total newbie with XML. I'm doing a Java EE project REST implementation and we return a lot of XML. With this we decided to use JAXB. So far, we manually coded the Models for the XML.</p>\n\n<p>But there are already these complex structures we don't know how to code. We've read about generating classes from XSD. We do have an XSD.</p>\n\n<p>My questions:</p>\n\n<p>1.) I've read about xjc, where can I find it? </p>\n\n<p>2.) Do we have to install the whole JAXB? (so what we used so far? isn't this JAXB?)</p>\n", "tags": ["java", "java-ee", "jaxb"], "title": "How to generate JAXB classes from XSD?", "answer_count": 9, "creation_date": 1342145711, "score": 73, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd", "answers": [{"body": "<p>You can download the JAXB jar files from <a href=\"http://jaxb.java.net/2.2.5/\" rel=\"nofollow\">http://jaxb.java.net/2.2.5/</a>\nYou don't need to install anything, just invoke the xjc command and with classpath argument pointing to the downloaded JAXB jar files.</p>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 11463298, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/11463298#11463298", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<ul>\n<li><p>If you're using Eclipse, you can also try out <a href=\"http://sourceforge.net/projects/jaxb-builder/\" rel=\"nofollow\">JAXB Eclipse Plug-In</a></p></li>\n<li><p>You can find more information about XJC Binding Compiler that comes with the jdk installation over here: xjc:  <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/share/xjc.html\" rel=\"nofollow\">Java\u2122 Architecture for XML Binding -Binding Compiler</a></p></li>\n</ul>\n\n<p>I hope this helps!</p>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 11463303, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/11463303#11463303", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<p>XJC is included in the bin directory in the JDK starting with Java SE 6.  For an example see:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2010/09/processing-atom-feeds-with-jaxb.html\">http://blog.bdoughan.com/2010/09/processing-atom-feeds-with-jaxb.html</a></li>\n</ul>\n\n<p>The contents of the blog are the following:</p>\n\n<p><strong>Processing Atom Feeds with JAXB</strong>\nAtom is an XML format for representing web feeds.  A standard format allows reader applications to display feeds from different sources.  In this example we will process the Atom feed for this blog.</p>\n\n<p><strong>Demo</strong></p>\n\n<p>In this example we will use JAXB to convert the Atom XML feed corresponding to this blog to objects and then back to XML.</p>\n\n<pre><code>import java.io.InputStream;\nimport java.net.URL;\nimport javax.xml.bind.*;\nimport javax.xml.transform.stream.StreamSource;\nimport org.w3._2005.atom.FeedType;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(\"org.w3._2005.atom\");\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        URL url = new URL(\"http://bdoughan.blogspot.com/atom.xml\");\n        InputStream xml = url.openStream();\n        JAXBElement&lt;feedtype&gt; feed = unmarshaller.unmarshal(new StreamSource(xml), FeedType.class);\n        xml.close();\n\n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(feed, System.out);\n    }\n\n}\n</code></pre>\n\n<p><strong>JAXB Model</strong></p>\n\n<p>The following model was generated by the schema to Java compiler (XJC). I have omitted the get/set methods and comments to save space.</p>\n\n<pre><code>xjc -d generated http://www.kbcafe.com/rss/atom.xsd.xml\n</code></pre>\n\n<p>package-info</p>\n\n<pre><code>@XmlSchema(\n        namespace = \"http://www.w3.org/2005/Atom\",\n        elementFormDefault = XmlNsForm.QUALIFIED)\n@XmlAccessorType(XmlAccessType.FIELD)\npackage org.w3._2005.atom;\n\nimport javax.xml.bind.annotation.*;\n</code></pre>\n\n<p>CategoryType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"categoryType\")\npublic class CategoryType {\n    @XmlAttribute(required = true)\n    protected String term;\n\n    @XmlAttribute\n    @XmlSchemaType(name = \"anyURI\")\n    protected String scheme;\n\n    @XmlAttribute\n    protected String label;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>Content Type</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"contentType\", propOrder = {\"content\"})\npublic class ContentType {\n    @XmlMixed\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; content;\n\n    @XmlAttribute\n    protected String type;\n\n    @XmlAttribute\n    @XmlSchemaType(name = \"anyURI\")\n    protected String src;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>DateTimeType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.datatype.XMLGregorianCalendar;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"dateTimeType\", propOrder = {\"value\"})\npublic class DateTimeType {\n    @XmlValue\n    @XmlSchemaType(name = \"dateTime\")\n    protected XMLGregorianCalendar value;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>EntryType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"entryType\", propOrder = {\"authorOrCategoryOrContent\"})\npublic class EntryType {\n    @XmlElementRefs({\n        @XmlElementRef(name = \"id\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"rights\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"summary\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"title\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"author\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"source\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"updated\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"category\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"content\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"published\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"contributor\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"link\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class)\n    })\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; authorOrCategoryOrContent;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>FeedType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"feedType\", propOrder = {\"authorOrCategoryOrContributor\"})\npublic class FeedType {\n    @XmlElementRefs({\n        @XmlElementRef(name = \"link\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"updated\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"category\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"rights\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"contributor\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"title\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"id\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"generator\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"icon\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"subtitle\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"author\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"entry\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"logo\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class)\n    })\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; authorOrCategoryOrContributor;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>GeneratorType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"generatorType\", propOrder = {\"value\"})\npublic class GeneratorType {\n    @XmlValue\n    protected String value;\n\n    @XmlAttribute\n    @XmlSchemaType(name = \"anyURI\")\n    protected String uri;\n\n    @XmlAttribute\n    protected String version;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>IconType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"iconType\", propOrder = {\"value\"})\npublic class IconType {\n    @XmlValue\n    @XmlSchemaType(name = \"anyURI\")\n    protected String value;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>IdType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"idType\", propOrder = {\"value\"})\npublic class IdType {\n    @XmlValue\n    @XmlSchemaType(name = \"anyURI\")\n    protected String value;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>LinkType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.math.BigInteger;\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"linkType\", propOrder = {\"content\"})\npublic class LinkType {\n    @XmlValue\n    protected String content;\n\n    @XmlAttribute(required = true)\n    @XmlSchemaType(name = \"anyURI\")\n    protected String href;\n\n    @XmlAttribute\n    protected String rel;\n\n    @XmlAttribute\n    protected String type;\n\n    @XmlAttribute\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"NMTOKEN\")\n    protected String hreflang;\n\n    @XmlAttribute\n    protected String title;\n\n    @XmlAttribute\n    @XmlSchemaType(name = \"positiveInteger\")\n    protected BigInteger length;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>LogoType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"logoType\", propOrder = {\"value\"})\npublic class LogoType {\n    @XmlValue\n    @XmlSchemaType(name = \"anyURI\")\n    protected String value;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>PersonType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"personType\", propOrder = {\"nameOrUriOrEmail\"})\npublic class PersonType {\n    @XmlElementRefs({\n        @XmlElementRef(name = \"email\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"name\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"uri\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class)\n    })\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; nameOrUriOrEmail;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>SourceType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"sourceType\", propOrder = {\"authorOrCategoryOrContributor\"})\npublic class SourceType {\n    @XmlElementRefs({\n        @XmlElementRef(name = \"updated\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"category\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"subtitle\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"logo\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"generator\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"icon\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"title\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"id\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"author\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"contributor\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"link\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class),\n        @XmlElementRef(name = \"rights\", namespace = \"http://www.w3.org/2005/Atom\", type = JAXBElement.class)\n    })\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; authorOrCategoryOrContributor;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>TextType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"textType\", propOrder = {\"content\"})\npublic class TextType {\n    @XmlMixed\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; content;\n\n    @XmlAttribute\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    protected String type;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n\n<p>UriType</p>\n\n<pre><code>package org.w3._2005.atom;\n\nimport java.util.*;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.bind.annotation.adapters.*;\nimport javax.xml.namespace.QName;\n\n@XmlType(name = \"uriType\", propOrder = {\"value\"})\npublic class UriType {\n    @XmlValue\n    @XmlSchemaType(name = \"anyURI\")\n    protected String value;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlSchemaType(name = \"anyURI\")\n    protected String base;\n\n    @XmlAttribute(namespace = \"http://www.w3.org/XML/1998/namespace\")\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlSchemaType(name = \"language\")\n    protected String lang;\n\n    @XmlAnyAttribute\n    private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n}\n</code></pre>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 11463312, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/11463312#11463312", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<p>You can see my question over here <a href=\"http://stackoverflow.com/questions/3630474/how-to-execute-the-jaxb-compiler-from-ant/3631298#3631298\">How to execute the JAXB compiler from ANT</a> has an answer an example using ant.</p>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 11463687, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/11463687#11463687", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<p>1) You can use standard java utility <strong>xjc</strong> - ([your java home dir]\\bin\\xjc.exe). But you need to create .bat (or .sh) script for using it.</p>\n\n<p>e.g. generate.bat:</p>\n\n<pre><code>[your java home dir]\\bin\\xjc.exe %1 %2 %3\n</code></pre>\n\n<p>e.g. test-scheme.xsd:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;xs:schema version=\"1.0\"\n           xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n           elementFormDefault=\"qualified\" \n           targetNamespace=\"http://myprojects.net/xsd/TestScheme\"\n           xmlns=\"http://myprojects.net/xsd/TestScheme\"&gt;\n    &lt;xs:element name=\"employee\" type=\"PersonInfoType\"/&gt;\n\n    &lt;xs:complexType name=\"PersonInfoType\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"firstname\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"lastname\" type=\"xs:string\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>Run .bat file with parameters: generate.bat test-scheme.xsd -d [your src dir]</p>\n\n<p>For more info use this documentation - <a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnazg.html\">http://docs.oracle.com/javaee/5/tutorial/doc/bnazg.html</a> </p>\n\n<p>and this - <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/share/xjc.html\">http://docs.oracle.com/javase/6/docs/technotes/tools/share/xjc.html</a></p>\n\n<p>2) JAXB (xjc utility) is installed together with JDK6 by default.</p>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 11482329, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/11482329#11482329", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<ol>\n<li>Download      <a href=\"http://java.net/downloads/jaxb-workshop/IDE%20plugins/org.jvnet.jaxbw.zip\" rel=\"nofollow\">http://java.net/downloads/jaxb-workshop/IDE%20plugins/org.jvnet.jaxbw.zip</a></li>\n<li>Extract the zip file .</li>\n<li>Place the org.jvnet.jaxbw.eclipse_1.0.0 folder into .eclipse\\plugins folder </li>\n<li>Restart the eclipse.</li>\n<li>Right click on XSD file and you can find contect menu. JAXB 2.0 -> Run XJC .</li>\n</ol>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 14891742, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/14891742#14891742", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<p>For <em>Eclipse STS (3.5 at least)</em> you don't need to install anything. <strong>Right click on schema.xsd -> Generate -> JAXB Classes.</strong> You'll have to specify the package &amp; location in the next step and that's all, your classes should be generated. I guess all the above mentioned solutions work, but this seems by far the easiest (for STS users).</p>\n\n<p>[UPDATE] Eclipse STS version 3.6 (based on Kepler) comes with the same functionality.</p>\n\n<p><img src=\"http://i.stack.imgur.com/mCk6K.png\" alt=\"blah\"></p>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 23917101, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/23917101#23917101", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<p>In <code>Eclipse</code>, right click on the <code>xsd</code> file you want to get --> Generate --> Java... --> Generator: \"Schema to JAXB Java Classes\". </p>\n\n<p>I just faced the same problem, I had a bunch of <code>xsd</code> files, only one of them being the <code>XML Root Element</code> and it worked well what I explained above in Eclipse</p>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 33275169, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/33275169#33275169", "tags": ["java", "java-ee", "jaxb"]}, {"body": "<p>cxf does great support for this kind of stuff e.g </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;extensions&gt;\n        &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:2.3.0&lt;/extension&gt;\n      &lt;/extensions&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;generate-sources-trans&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;xsdtojava&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\n          &lt;xsdOptions&gt;\n            &lt;xsdOption&gt;\n              &lt;xsd&gt;src/main/resources/xxx.xsd&lt;/xsd&gt;\n            &lt;/xsdOption&gt;\n          &lt;/xsdOptions&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n", "title": "How to generate JAXB classes from XSD?", "answer_id": 34182689, "link": "http://stackoverflow.com/questions/11463231/how-to-generate-jaxb-classes-from-xsd/34182689#34182689", "tags": ["java", "java-ee", "jaxb"]}], "question_id": 11463231}, {"body": "<p>I feel there is a little mess in the Java EE 6 spec. There are several sets of annotations.</p>\n\n<p>We have <code>javax.ejb</code> annotations like <code>@Stateful</code> and <code>@Stateless</code> for creating EJBs.</p>\n\n<p>There is also a <code>@javax.annotation.ManagedBean</code> to create a managed bean.</p>\n\n<p>There are annotations in <code>javax.enterprise.context</code> like <code>@SessionScoped</code> and <code>@RequestScoped</code>. </p>\n\n<p>What is more there are also <code>@ManagedBean</code> and <code>@SessionScoped</code>/<code>@RequestScoped</code> annotations in <code>javax.faces.bean</code> package.</p>\n\n<p>And to make things event more complicated there is a package <code>javax.inject</code> with <code>@Named</code> annotation.</p>\n\n<p>Can someone please describe how they are related one to another? </p>\n\n<p>Where can I use <code>@EJB</code>, <code>@Inject</code> or <code>@ManagedPropery</code> to inject other beans?</p>\n", "tags": ["java", "java-ee", "java-ee-6", "cdi"], "title": "Java EE 6 @javax.annotation.ManagedBean vs. @javax.inject.Named vs. @javax.faces.ManagedBean", "answer_count": 3, "creation_date": 1345119090, "score": 72, "link": "http://stackoverflow.com/questions/11986847/java-ee-6-javax-annotation-managedbean-vs-javax-inject-named-vs-javax-faces", "answers": [{"body": "<p>Yep, this can be confusing.</p>\n\n<p>For some <em>ehm</em> historical reasons JSF and CDI are using the same annotations for scopes, but from different packages.</p>\n\n<p>As you are probably guessing those from <code>javax.faces.bean</code> are from the JSF spec, and are not related to CDI. Do not use them unless you have a very good reason to do so. And do never ever mix them with CDI annotations from <code>javax.ejb</code>. This will produce a sheer endless lists of bugs and subtle anomalies.</p>\n\n<p>I generally recommend that you skim the first few (or even more) pages of the excellent <a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html/\" rel=\"nofollow\">Weld documentation</a>. This should put you on track for Java EE 6. </p>\n\n<p>And feel free to post further questions here.</p>\n", "title": "Java EE 6 @javax.annotation.ManagedBean vs. @javax.inject.Named vs. @javax.faces.ManagedBean", "answer_id": 11988516, "link": "http://stackoverflow.com/questions/11986847/java-ee-6-javax-annotation-managedbean-vs-javax-inject-named-vs-javax-faces/11988516#11988516", "tags": ["java", "java-ee", "java-ee-6", "cdi"]}, {"body": "<p>First of all let me do some clarifications:</p>\n\n<p><strong>Managed bean definition</strong> : generally a managed bean is an object that its life cycle (construction, destruction, etc) is managed by a container.</p>\n\n<p>In Java ee we have many containers that manage life cycle of their objects, like JSF container, EJB container, CDI container, Servlet container, etc. </p>\n\n<p>All of these containers work kind of independent, they boot in application server initialization and scan classes of all artifacts including jar, ejb-jar, war and ear files in deployment time and gather and store some metadata about them, then when you need an object of a class at runtime they will give you instances of those classes and after finishing the job, they will destroy them.</p>\n\n<p>So we can say that we have:</p>\n\n<ul>\n<li>JSF managed beans</li>\n<li>CDI managed beans</li>\n<li>EJB managed beans</li>\n<li>And even Servlets are managed beans because they are instantiated and destroyed by a container, which is a servlet container.</li>\n</ul>\n\n<p>So when you see the Managed Bean word, you should ask about the context or type of it.(JSF, CDI, EJB, etc.)</p>\n\n<p>Then you might ask why we have many of these containers: AFAIK, Java EE guys wanted to have a dependency injection framework, but they could not gather all requirements in one specification because they could not predict the future requirements and they made EJB 1.0 and then 2.0 and then 3.0 and now 3.1 but EJB's target was for just some requirements (transaction, distributed component model, etc).</p>\n\n<p>At the same time (in parallel) they realized that they need to support JSF too, then they made JSF managed beans and another container for JSF beans and they considered it a mature DI container, but still it was not complete and mature container.</p>\n\n<p>After that Gavin King and some other nice guys ;) made CDI which is the most mature DI container I've seen. CDI (inspired by Seam2, Guice and Spring) was made to fill the gap between JSF and EJB and lots of other useful stuff like pojo injection, producer methods, interceptors, decorators, integration SPI, very flexible, etc. and it can even do what EJB and JSF managed beans are doing then we can have just one mature and powerful DI container. But for some backward compatibility and political reasons Java EE guys want to keep them!!!</p>\n\n<p>Here you can find the difference and use cases for each of these types:</p>\n\n<p><strong>JSF Managed Beans, CDI Beans and EJBs</strong></p>\n\n<p>JSF was initially developed with its own managed bean and dependency injection mechanism which was enhanced for JSF 2.0 to include annotation based beans. When CDI was released with Java EE 6, it was regarded as the managed bean framework for that platform and of course, EJBs outdated them all having been around for well over a decade.</p>\n\n<p>The problem of course is knowing which one to use and when use them.</p>\n\n<p>Let\u2019s start with the simplest, JSF Managed beans.</p>\n\n<p><strong>JSF Managed Beans</strong></p>\n\n<p>In short, don\u2019t use them if you are developing for Java EE 6 and using CDI. They provide a simple mechanism for dependency injection and defining backing beans for web pages, but they are far less powerful than CDI beans.</p>\n\n<p>They can be defined using the <code>@javax.faces.bean.ManagedBean</code> annotation which takes an optional name parameter. This name can be used to reference the bean from JSF pages.</p>\n\n<p>Scope can be applied to the bean using one of the different scopes defined in the <code>javax.faces.bean</code> package which include the request, session, application, view and custom scopes.</p>\n\n<pre><code>@ManagedBean(name=\"someBean\")\n@RequestScoped\npublic class SomeBean {\n    ....\n    ....\n}\n</code></pre>\n\n<p>JSF beans cannot be mixed with other kinds of beans without some kind of manual coding.</p>\n\n<p><strong>CDI Beans</strong></p>\n\n<p>CDI is the bean management and dependency injection framework that was released as part of Java EE 6 and it includes a complete, comprehensive managed bean facility. CDI beans are far more advanced and flexible than simple JSF managed beans. They can make use of interceptors, conversation scope, Events, type safe injection, decorators, stereotypes and producer methods.</p>\n\n<p>To deploy CDI beans, you must place a file called beans.xml in a META-INF folder on the classpath. Once you do this, then every bean in the package becomes a CDI bean. There are a lot of features in CDI, too many to cover here, but as a quick reference for JSF-like features, you can define the scope of the CDI bean using one of the scopes defined in the <code>javax.enterprise.context</code> package (namely, request, conversation, session and application scopes). If you want to use the CDI bean from a JSF page, you can give it a name using the <code>javax.inject.Named</code> annotation. To inject a bean into another bean, you annotate the field with <code>javax.inject.Inject</code> annotation.</p>\n\n<pre><code>@Named(\"someBean\")\n@RequestScoped\npublic class SomeBean {\n\n    @Inject\n    private SomeService someService;\n}\n</code></pre>\n\n<p>Automatic injection like that defined above can be controlled through the use of Qualifiers that can help match the specific class that you want injected. If you have multiple payment types, you might add a qualifier for whether it is asynchronous or not. While you can use the <code>@Named</code> annotation as a qualifier, you shouldn\u2019t as it is provided for exposing the beans in EL.</p>\n\n<p>CDI handles the injection of beans with mismatched scopes through the use of proxies. Because of this you can inject a request scoped bean into a session scoped bean and the reference will still be valid on each request because for each request, the proxy re-connects to a live instance of the request scoped bean.</p>\n\n<p>CDI also has support for interceptors, events, the new conversation scope and many other features which makes it a much better choice over JSF managed beans.</p>\n\n<p><strong>EJB</strong></p>\n\n<p>EJBs predate CDI beans and are in someways similar to CDI beans and in other ways very different. Primarily, the differences between CDI beans and EJBs is that EJBs are :</p>\n\n<ul>\n<li>Transactional</li>\n<li>Remote or local</li>\n<li>Able to passivate stateful beans freeing up resources</li>\n<li>Able to make use of timers</li>\n<li>Can be asynchronous</li>\n</ul>\n\n<p>The two types of EJBs are called stateless and stateful. Stateless EJBs can be thought of as thread safe single-use beans that don\u2019t maintain any state between two web requests. Stateful EJBs do hold state and can be created and sit around for as long as they are needed until they are disposed of.</p>\n\n<p>Defining an EJB is simple, you just add either a <code>javax.ejb.Stateless</code> or <code>javax.ejb.Stateful</code> annotation to the class.</p>\n\n<pre><code>@Stateless\npublic class BookingService {\n\n  public String makeReservation(Item Item, Customer customer) {\n    ...\n    ...\n  }\n}\n</code></pre>\n\n<p>Stateless beans must have a dependent scope while a stateful session bean can have any scope. By default they are transactional, but you can use the transaction attribute annotation.</p>\n\n<p>While EJBs and CDI beans are very different in terms of features, writing the code to integrate them is very similar since CDI beans can be injected into EJBs and EJBs can be injected into CDI beans. There is no need to make any distinction when injecting one into the other. Again, the different scopes are handled by CDI through the use of proxying. One exception to this is that CDI does not support the injection of remote EJBs but that can be implemented by writing a simple producer method for it.</p>\n\n<p>The <code>javax.inject.Named</code> annotation as well as any Qualifiers can be used on an EJB to match it to an injection point.</p>\n\n<p><strong>When to use which bean</strong></p>\n\n<p>How do you know when to use which bean? Simple.</p>\n\n<p>Never use JSF managed beans unless you are working in a servlet container and don\u2019t want to try and get CDI working in Tomcat (although there are some Maven archetypes for that so there\u2019s no excuse).</p>\n\n<p>In general, you should use CDI beans unless you need the advanced functionality available in the EJBs such as transactional functions. You can write your own interceptor to make CDI beans transactional, but for now, it's simpler to use an EJB until CDI gets transactional CDI beans which is just around the corner. If you are stuck in a servlet container and are using CDI, then either hand written transactions or your own transaction interceptor is the only option without EJBs.</p>\n\n<p>If you need to use <code>@ViewScoped</code> in CDI you should</p>\n\n<ul>\n<li>use <a href=\"http://seamframework.org/Seam3/FacesModule\">seam-faces</a> or <a href=\"http://myfaces.apache.org/extensions/cdi/download.html\">MyFaces CODI</a> module. just add one of them to your classpath and <code>@ViewScoped</code> will work in CDI. MyFaces CODI has an even more solid support of @ViewScoped</li>\n<li>use MyFaces CODI's <code>@ViewAccessScoped</code>, it is an extension written on top of CDI by Apache, just <a href=\"http://myfaces.apache.org/extensions/cdi/download.html\">download</a> it and use <code>@ViewAccessScoped</code> annotation instead of <code>@ViewScoped</code>.</li>\n<li>Use CDI <code>@ConversationScoped</code> and make it long running. See <a href=\"http://www.andygibson.net/blog/tutorial/pattern-for-conversational-crud-in-java-ee-6/\">here for more info</a>.</li>\n<li>Use <a href=\"http://showcase.omnifaces.org/cdi/ViewScoped\">Omnifaces</a> @ViewScoped annotation</li>\n</ul>\n\n<p>Some parts gotten from <a href=\"http://www.andygibson.net/blog/article/comparing-jsf-beans-cdi-beans-and-ejbs/\">here</a>.</p>\n", "title": "Java EE 6 @javax.annotation.ManagedBean vs. @javax.inject.Named vs. @javax.faces.ManagedBean", "answer_id": 12012663, "link": "http://stackoverflow.com/questions/11986847/java-ee-6-javax-annotation-managedbean-vs-javax-inject-named-vs-javax-faces/12012663#12012663", "tags": ["java", "java-ee", "java-ee-6", "cdi"]}, {"body": "<p>Since there are no replies specifically about <code>@javax.annotation.ManagedBean</code>, here's a link to the answer of a similar question: <a href=\"http://stackoverflow.com/questions/4347374/backing-beans-managedbean-or-cdi-beans-named/4397444#4397444\">Backing beans (@ManagedBean) or CDI Beans (@Named)?</a>. The spec can be found at <a href=\"http://download.oracle.com/otndocs/jcp/managed_beans-1.0-fr-eval-oth-JSpec/\" rel=\"nofollow\">http://download.oracle.com/otndocs/jcp/managed_beans-1.0-fr-eval-oth-JSpec/</a>. So it looks to me that <code>@javax.annotation.ManagedBean</code> was meant to be a generalization of <code>@javax.faces.bean.ManagedBean</code>.</p>\n\n<p>From what I gathered, JSF Managed Beans are being phased out in favour of CDI Beans (maybe getting deprecated from JSF 2.3?), so I guess <code>@javax.annotation.ManagedBean</code> is all the more becoming obsolete now.</p>\n", "title": "Java EE 6 @javax.annotation.ManagedBean vs. @javax.inject.Named vs. @javax.faces.ManagedBean", "answer_id": 24262404, "link": "http://stackoverflow.com/questions/11986847/java-ee-6-javax-annotation-managedbean-vs-javax-inject-named-vs-javax-faces/24262404#24262404", "tags": ["java", "java-ee", "java-ee-6", "cdi"]}], "question_id": 11986847}, {"body": "<p>I have this method:</p>\n\n<pre><code>public String getRealPathFromURI(Uri contentUri) {\n    String[] proj = { MediaStore.Images.Media.DATA };\n    Cursor cursor = managedQuery(contentUri, proj, null, null, null);\n    int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n    cursor.moveToFirst();\n    return cursor.getString(column_index);\n}\n</code></pre>\n\n<p>Unfortunately the compiler show me a problem on:</p>\n\n<pre><code>Cursor cursor = managedQuery(contentUri, proj, null, null, null);\n</code></pre>\n\n<p>Because <code>managedQuery()</code> is deprecated.</p>\n\n<p>How could I rewrite this method without use <code>managedQuery()</code>?</p>\n", "tags": ["java", "android", "deprecated"], "title": "Deprecated ManagedQuery() issue", "answer_count": 3, "creation_date": 1349289401, "score": 71, "link": "http://stackoverflow.com/questions/12714701/deprecated-managedquery-issue", "answers": [{"body": "<p>You could replace it with <code>context.getContentResolver().query</code> and <code>LoaderManager</code> (you'll need to use the compatibility package to support devices before API version 11).</p>\n\n<p>However, it looks like you're only using the query one time: you probably don't even need that. Maybe this would work?</p>\n\n<pre><code>public String getRealPathFromURI(Uri contentUri) {\n    String res = null;\n    String[] proj = { MediaStore.Images.Media.DATA };\n    Cursor cursor = getContentResolver().query(contentUri, proj, null, null, null);\n    if(cursor.moveToFirst()){;\n       int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n       res = cursor.getString(column_index);\n    }\n    cursor.close();\n    return res;\n}\n</code></pre>\n", "title": "Deprecated ManagedQuery() issue", "answer_id": 12714830, "link": "http://stackoverflow.com/questions/12714701/deprecated-managedquery-issue/12714830#12714830", "tags": ["java", "android", "deprecated"]}, {"body": "<pre><code>public void getBrowserHist(Context context) {\n        Cursor mCur = context.getContentResolver().query(Browser.BOOKMARKS_URI,\n                Browser.HISTORY_PROJECTION, null, null, null);\n        mCur.moveToFirst();\n        if (mCur != null &amp;&amp; mCur.moveToFirst() &amp;&amp; mCur.getCount() &gt; 0) {\n            while (mCur.isAfterLast() == false) {\n                Log.e(\"hist_titleIdx\",\n                        mCur.getString(Browser.HISTORY_PROJECTION_TITLE_INDEX));\n                Log.e(\"hist_urlIdx\",\n                        mCur.getString(Browser.HISTORY_PROJECTION_URL_INDEX));\n                mCur.moveToNext();\n            }\n        }\n    }\n</code></pre>\n", "title": "Deprecated ManagedQuery() issue", "answer_id": 18314345, "link": "http://stackoverflow.com/questions/12714701/deprecated-managedquery-issue/18314345#18314345", "tags": ["java", "android", "deprecated"]}, {"body": "<p>you need to initialize the cursor becauese it will be close before method start or some where else </p>\n\n<pre><code>cursor = null;\npublic void method(){\n// do your stuff here \ncursor.close();\n}\n</code></pre>\n", "title": "Deprecated ManagedQuery() issue", "answer_id": 22780044, "link": "http://stackoverflow.com/questions/12714701/deprecated-managedquery-issue/22780044#22780044", "tags": ["java", "android", "deprecated"]}], "question_id": 12714701}, {"body": "<p>I was reading design patterns from a website </p>\n\n<p>There I read about Factory, Factory method and Abstract factory but they are so confusing, am not clear on the definition. According to definitions </p>\n\n<blockquote>\n  <p>Factory - Creates objects without exposing the instantiation logic to the client and Refers to the newly created object through a common interface. <em>Is a simplified version of Factory Method</em></p>\n  \n  <p>Factory Method - Defines an interface for creating objects, but let subclasses to decide which class to instantiate and Refers to the newly created object through a common interface.</p>\n  \n  <p>Abstract Factory - Offers the interface for creating a family of related objects, without explicitly specifying their classes.</p>\n</blockquote>\n\n<p>I also looked the other stackoverflow threads regarding Abstract Factory vs Factory Method but the UML diagrams drawn there make my understanding even worse.</p>\n\n<p>Can anyone please tell me </p>\n\n<ol>\n<li>How are these three patterns different from each other?</li>\n<li>When to use which? </li>\n<li>And also if possible, any java examples related to these patterns? </li>\n</ol>\n", "tags": ["java", "design-patterns", "language-agnostic", "factory", "factory-method"], "title": "Design Patterns: Factory vs Factory method vs Abstract Factory", "answer_count": 5, "creation_date": 1350990996, "score": 71, "link": "http://stackoverflow.com/questions/13029261/design-patterns-factory-vs-factory-method-vs-abstract-factory", "answers": [{"body": "<p><strong>Factory</strong> - Separate Factory class to create complex object. </p>\n\n<p>Ex: FruitFactory class to create object of Fruit</p>\n\n<pre><code>class FruitFactory{\n\npublic static Fruit getFruit(){...}\n\n}\n</code></pre>\n\n<p><strong>Factory Method</strong> - Instead of whole separate class for factory, just add one method in that class itself as a factory.</p>\n\n<p>Ex:</p>\n\n<pre><code>Calendar.getInstance() (Java's Calendar)\n</code></pre>\n\n<p><strong>Abstract Factory Method</strong> - Factory of Factory</p>\n\n<p>Ex: Lets say we want to build factory for computer parts. So there are several types of computers like Laptop, Desktop, Server.</p>\n\n<p>So for each compter type we need factory. So we create one highlevel factory of factories like below</p>\n\n<pre><code>ComputerTypeAbstractFactory.getComputerPartFactory(String computerType) ---&gt; This will return PartFactory which can be one of these ServerPartFactory, LaptopPartFactory, DesktopPartFactory.\n</code></pre>\n\n<p>Now these 3 itself are again factories. (You will be dealing with PartFactory itself, but under the hood, there will be separate implementation based on what you provided in abstract factory)</p>\n\n<pre><code>  Interface-&gt; PartFactory. getComputerPart(String s), \nImplementations -&gt; ServerPartFactory, LaptopPartFactory, DesktopPartFactory.\n\nUsage:\nnew ComputerTypeAbstractFactory().getFactory(\u201cLaptop\u201d).getComputerPart(\u201cRAM\u201d)\n</code></pre>\n\n<p>EDIT: edited to provide exact interfaces for Abstract Factory as per the objections in comments.</p>\n", "title": "Design Patterns: Factory vs Factory method vs Abstract Factory", "answer_id": 13029726, "link": "http://stackoverflow.com/questions/13029261/design-patterns-factory-vs-factory-method-vs-abstract-factory/13029726#13029726", "tags": ["java", "design-patterns", "language-agnostic", "factory", "factory-method"]}, {"body": "<p>Every design pattern thrives to help ensure that written, working code is not touched. We all know that once we touch working code, there are defects in existing working flows, and a lot more testing needs to get done to ensure that we did not break anything.</p>\n\n<p>A factory pattern creates objects based on input criteria, thus ensuring that you dont need to write code like if this then create this kinda object else this kinda  object. A good example of this is a travel website. A travel website can only provide travel (flight, train, bus) or / and provide hotels or / and provide tourist attraction packages. Now, when a user selects next, the website needs to decide what objects it needs to create. Should it only create the travel or hotel object too.</p>\n\n<p>Now, if you envision adding another website to your portfolio, and you believe that the same core be used, for example, a carpooling website, which now searches for cab's and makes payments online, you can use a abstract factory at your core. This way you can just snap in one more factory of cabs and carpools.</p>\n\n<p>Both factory's have nothing to do with each other, so its a good design to keep them in different factory's.</p>\n\n<p>Hope this is clear now. Study the website again keeping this example in mind, hopefully it will help. And I really hope I have represented the patterns correctly :). </p>\n", "title": "Design Patterns: Factory vs Factory method vs Abstract Factory", "answer_id": 13030033, "link": "http://stackoverflow.com/questions/13029261/design-patterns-factory-vs-factory-method-vs-abstract-factory/13030033#13030033", "tags": ["java", "design-patterns", "language-agnostic", "factory", "factory-method"]}, {"body": "<p>All three Factory types do the same thing: They are a \"smart constructor\".</p>\n\n<p>Let's say you want to be able to create two kinds of Fruit: Apple and Orange.</p>\n\n<h3>Factory</h3>\n\n<p>Factory is \"fixed\", in that you have just one implementation with no subclassing. In this case, you will have a class like this:</p>\n\n<pre><code>class FruitFactory {\n\n  public Apple makeApple() {\n    // Code for creating an Apple here.\n  }\n\n  public Orange makeOrange() {\n    // Code for creating an orange here.\n  }\n\n}\n</code></pre>\n\n<p>Use case: Constructing an Apple or an Orange is a bit too complex to handle in the constructor for either.</p>\n\n<h3>Factory Method</h3>\n\n<p>Factory method is generally used when you have some generic processing in a class, but want to vary which kind of fruit you actually use. So:</p>\n\n<pre><code>abstract class FruitPicker {\n\n  protected abstract Fruit makeFruit();\n\n  public void pickFruit() {\n    private final Fruit f = makeFruit(); // The fruit we will work on..\n    &lt;bla bla bla&gt;\n  }\n}\n</code></pre>\n\n<p>...then you can reuse the common functionality in <code>FruitPicker.pickFruit()</code> by implementing a factory method in subclasses:</p>\n\n<pre><code>class OrangePicker extends FruitPicker {\n\n  @Override\n  protected Fruit makeFruit() {\n    return new Orange();\n  }\n}\n</code></pre>\n\n<h3>Abstract Factory</h3>\n\n<p>Abstract factory is normally used for things like dependency injection/strategy, when you want to be able to create a whole family of objects that need to be of \"the same kind\", and have some common base classes. Here's a vaguely fruit-related example. The use case here is that we want to make sure that we don't accidentally use an OrangePicker on an Apple. As long at we get our Fruit and Picker from the same factory, they will match.</p>\n\n<pre><code>interface PlantFactory {\n\n  Plant makePlant();\n\n  Picker makePicker(); \n\n}\n\npublic class AppleFactory implements PlantFactory {\n  Plant makePlant() {\n    return new Apple();\n  }\n\n  Picker makePicker() {\n    return new ApplePicker();\n  }\n}\n\npublic class OrangeFactory implements PlantFactory {\n  Plant makePlant() {\n    return new Orange();\n  }\n\n  Picker makePicker() {\n    return new OrangePicker();\n  }\n}\n</code></pre>\n", "title": "Design Patterns: Factory vs Factory method vs Abstract Factory", "answer_id": 13030163, "link": "http://stackoverflow.com/questions/13029261/design-patterns-factory-vs-factory-method-vs-abstract-factory/13030163#13030163", "tags": ["java", "design-patterns", "language-agnostic", "factory", "factory-method"]}, {"body": "<pre><code>AbstractProductA, A1 and A2 both implementing the AbstractProductA\nAbstractProductB, B1 and B2 both implementing the AbstractProductB\n\ninterface Factory {\n    AbstractProductA getProductA(); //Factory Method - generate A1/A2\n}\n</code></pre>\n\n<p>Using Factory Method, user can able to create A1 or A2 of AbstractProductA.</p>\n\n<pre><code>interface AbstractFactory {\n    AbstractProductA getProductA(); //Factory Method\n    AbstractProductB getProductB(); //Factory Method\n}\n</code></pre>\n\n<p>But Abstract Factory having more than 1 factory method ( ex: 2 factory methods), using those factory methods it will create the set of objects/ related objects.\nUsing Abstract Factory, user can able to create A1, B1 objects of AbstractProductA, AbstractProductB </p>\n", "title": "Design Patterns: Factory vs Factory method vs Abstract Factory", "answer_id": 31603599, "link": "http://stackoverflow.com/questions/13029261/design-patterns-factory-vs-factory-method-vs-abstract-factory/31603599#31603599", "tags": ["java", "design-patterns", "language-agnostic", "factory", "factory-method"]}, {"body": "<blockquote>\n  <ol>\n  <li>How are these three patterns different from each other?</li>\n  </ol>\n</blockquote>\n\n<p><strong>Factory:</strong> Creates objects without exposing the instantiation logic to the client.</p>\n\n<p><strong>Factory Method:</strong> Define an interface for creating an object, but let the subclasses decide which class to instantiate. The Factory method lets a class defer instantiation to subclasses</p>\n\n<p><strong>Abstract Factory:</strong> Provides an interface for creating families of related or dependent objects without specifying their concrete classes.</p>\n\n<p><em>AbstractFactory</em> pattern uses composition to delegate responsibility of creating object to another class while <em>Factory method</em> design pattern uses inheritance and relies on derived class or sub class to create object</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>When to use which?</li>\n  </ol>\n</blockquote>\n\n<p><strong>Factory:</strong> Client just need a class and does not care about which concrete implementation it is getting.</p>\n\n<p><strong>Factory Method:</strong> Client doesn't know what concrete classes it will be required to create at runtime, but just wants to get a class that will do the job.</p>\n\n<p><strong>AbstactFactory:</strong>  When your system has to create multiple families of products or you want to provide a library of products without exposing the implementation details.</p>\n\n<p>Abstract Factory classes are often implemented with Factory Method. Factory Methods are usually called within Template Methods.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>And also if possible, any java examples related to these patterns?</li>\n  </ol>\n</blockquote>\n\n<p><a class='doc-link' href=\"http://stackoverflow.com/documentation/design-patterns/1375/factory/12131/factory-example-by-implementing-factory-method-java#t=201609151501150045013\">factory-example-by-implementing-factory-method-java</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/1001767/what-is-the-basic-difference-between-the-factory-and-abstract-factory-patterns/35714637#35714637\">What is the basic difference between the Factory and Abstract Factory Patterns?</a></p>\n", "title": "Design Patterns: Factory vs Factory method vs Abstract Factory", "answer_id": 35851402, "link": "http://stackoverflow.com/questions/13029261/design-patterns-factory-vs-factory-method-vs-abstract-factory/35851402#35851402", "tags": ["java", "design-patterns", "language-agnostic", "factory", "factory-method"]}], "question_id": 13029261}, {"body": "<p>I am working with an open source project that is built with gradle.  I would like to generate a (project)-sources.jar file that I can load into my IDE (IntelliJ IDEA) and debug through the project.  I know how to load the file if I can generate it.</p>\n\n<p>I have looked through the available gradle tasks for the project and there isn't one that generates a sources jar file.</p>\n\n<p>What is the easiest way to generate a sources jar file for this project?</p>\n\n<p>Adding the source into the jar file that contains the compiled class files would be fine as well.</p>\n", "tags": ["java", "jar", "gradle"], "title": "How to build sources jar with gradle", "answer_count": 4, "creation_date": 1342197640, "score": 70, "link": "http://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle", "answers": [{"body": "<pre><code>task sourcesJar(type: Jar, dependsOn: classes) {\n    classifier = 'sources'\n    from sourceSets.main.allSource\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n    classifier = 'javadoc'\n    from javadoc.destinationDir\n}\n\nartifacts {\n    archives sourcesJar\n    archives javadocJar\n}\n</code></pre>\n", "title": "How to build sources jar with gradle", "answer_id": 11475089, "link": "http://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle/11475089#11475089", "tags": ["java", "jar", "gradle"]}, {"body": "<p>If you wish to <em>add the sources to the compiled classes JAR file</em>, which you also said would be acceptable, you can do that easily enough.  Just add the following to your build file.  You can see that, in theory, it is quite like the solution for putting sources into a separate JAR:</p>\n\n<pre><code> jar {\n     from sourceSets.main.allSource\n }\n</code></pre>\n\n<p>The difference is that you are adding it to the main JAR file by saying \"jar\" in lieu of sourcesJar.</p>\n", "title": "How to build sources jar with gradle", "answer_id": 26261956, "link": "http://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle/26261956#26261956", "tags": ["java", "jar", "gradle"]}, {"body": "<p>If you're using Android:</p>\n\n<pre><code>task sourcesJar(type: Jar) {\n    from android.sourceSets.main.java.srcDirs\n    classifier = 'sources'\n}\n\ntask javadoc(type: Javadoc) {\n    source = android.sourceSets.main.java.srcDirs\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n    classifier = 'javadoc'\n    from javadoc.destinationDir\n}\n\nartifacts {\n    archives javadocJar\n    archives sourcesJar\n}\n</code></pre>\n\n<p>from <a href=\"https://www.virag.si/2015/01/publishing-gradle-android-library-to-jcenter/\">here</a></p>\n", "title": "How to build sources jar with gradle", "answer_id": 28969412, "link": "http://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle/28969412#28969412", "tags": ["java", "jar", "gradle"]}, {"body": "<p>this should work</p>\n\n<pre><code>assemble.dependsOn 'propertyJar'\n\ntask propertyJar(type: Jar) {\n archiveName = \"myJarName.jar\"\n from('src/main/resources') {\n    include '**'\n }}\n</code></pre>\n", "title": "How to build sources jar with gradle", "answer_id": 31315945, "link": "http://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle/31315945#31315945", "tags": ["java", "jar", "gradle"]}], "question_id": 11474729}, {"body": "<p>I'm using JAVA 1.6 and Jackson 1.9.9 I've got an enum</p>\n\n<pre><code>public enum Event {\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n\n<p>I've added a @JsonValue, this seems to do the job it serializes the object into:</p>\n\n<pre><code>{\"event\":\"forgot password\"}\n</code></pre>\n\n<p>but when I try to deserialize I get a</p>\n\n<pre><code>Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value 'forgot password': value not one of declared Enum instance names\n</code></pre>\n\n<p>What am I missing here?</p>\n", "tags": ["java", "enums", "jackson", "jsonserializer"], "title": "Jackson enum Serializing and DeSerializer", "answer_count": 8, "creation_date": 1347927164, "score": 68, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer", "answers": [{"body": "<p><strong>Actual Answer:</strong></p>\n\n<p>The default deserializer for enums uses <code>.name()</code> to deserialize, so it's not using the <code>@JsonValue</code>.  So as @OldCurmudgeon pointed out, you'd need to pass in <code>{\"event\": \"FORGOT_PASSWORD\"}</code> to match the <code>.name()</code> value.</p>\n\n<p>An other option (assuming you want the write and read json values to be the same)...</p>\n\n<p><strong>More Info:</strong></p>\n\n<p>There is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:</p>\n\n<pre><code>@JsonSerialize(using = MySerializer.class)\n@JsonDeserialize(using = MyDeserializer.class)\npublic final class MyClass {\n    ...\n}\n</code></pre>\n\n<p>Then you have to write <code>MySerializer</code> and <code>MyDeserializer</code> which look like this:</p>\n\n<p><strong>MySerializer</strong></p>\n\n<pre><code>public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\n{\n    @Override\n    public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n    {\n        // here you'd write data to the stream with gen.write...() methods\n    }\n\n}\n</code></pre>\n\n<p><strong>MyDeserializer</strong></p>\n\n<pre><code>public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\n{\n    @Override\n    public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n    {\n        // then you'd do something like parser.getInt() or whatever to pull data off the parser\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>Last little bit, particularly for doing this to an enum <code>JsonEnum</code> that serializes with the method <code>getYourValue()</code>, your serializer and deserializer might look like this:</p>\n\n<pre><code>public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n{\n    gen.writeString(enumValue.getYourValue());\n}\n\npublic JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n{\n    final String jsonValue = parser.getText();\n    for (final JsonEnum enumValue : JsonEnum.values())\n    {\n        if (enumValue.getYourValue().equals(jsonValue))\n        {\n            return enumValue;\n        }\n    }\n    return null;\n}\n</code></pre>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 13368831, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/13368831#13368831", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>You should create a static factory method which takes single argument and annotate it with <code>@JsonCreator</code> (available since Jackson 1.2)</p>\n\n<pre><code>@JsonCreator\npublic static Event forValue(String value) { ... }\n</code></pre>\n\n<p>Read more about JsonCreator annotation <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html\">here</a>.</p>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 17420756, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/17420756#17420756", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>The serializer / deserializer solution pointed out by xbakesx is an excellent one if you wish to completely decouple yor enum class from its JSON representation.</p>\n\n<p>Alternatively, if you prefer a self-contained solution, an implementation based on @JsonCreator and @JsonValue annotations would be more convenient.</p>\n\n<p>So leveraging on the example by Stanley the following is a complete self-contained solution (Java 6, Jackson 1.9):</p>\n\n<pre><code>public enum DeviceScheduleFormat {\n    Weekday,\n    EvenOdd,\n    Interval;\n\n    private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\n\n    static {\n        namesMap.put(\"weekday\", Weekday);\n        namesMap.put(\"even-odd\", EvenOdd);\n        namesMap.put(\"interval\", Interval);\n    }\n\n    @JsonCreator\n    public static DeviceScheduleFormat forValue(String value) {\n        return namesMap.get(StringUtils.lowerCase(value));\n    }\n\n    @JsonValue\n    public String toValue() {\n        for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\n            if (entry.getValue() == this)\n                return entry.getKey();\n        }\n\n        return null; // or fail\n    }\n}\n</code></pre>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 20421494, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/20421494#20421494", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>I've found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write <code>toString()</code> method in your enum.</p>\n\n<pre><code>public class CustomObjectMapper extends ObjectMapper {\n    @PostConstruct\n    public void customConfiguration() {\n        // Uses Enum.toString() for serialization of an Enum\n        this.enable(WRITE_ENUMS_USING_TO_STRING);\n        // Uses Enum.toString() for deserialization of an Enum\n        this.enable(READ_ENUMS_USING_TO_STRING);\n    }\n}\n</code></pre>\n\n<p>There are more enum-related features available, see here:\n<a href=\"http://wiki.fasterxml.com/JacksonFeaturesSerialization\">http://wiki.fasterxml.com/JacksonFeaturesSerialization</a>\n<a href=\"http://wiki.fasterxml.com/JacksonFeaturesDeserialization\">http://wiki.fasterxml.com/JacksonFeaturesDeserialization</a></p>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 24537575, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/24537575#24537575", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>Note that as of <a href=\"https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933\">this commit</a> in June 2015 (Jackson 2.6.2 and above) you can now simply write:</p>\n\n<pre><code>public enum Event {\n    @JsonProperty(\"forgot password\")\n    FORGOT_PASSWORD;\n}\n</code></pre>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 32723692, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/32723692#32723692", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>You can customize the deserialization for any attribute.</p>\n\n<p>Declare your deserialize class using the annotationJsonDeserialize (<code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize</code>) for the attribute that will be processed. If this is an Enum:</p>\n\n<pre><code>@JsonDeserialize(using = MyEnumDeserialize.class)\nprivate MyEnum myEnum;\n</code></pre>\n\n<p>This way your class will be used to deserialize the attribute. This is a full example:</p>\n\n<pre><code>public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\n\n    @Override\n    public MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        MyEnum type = null;\n        try{\n            if(node.get(\"attr\") != null){\n                type = MyEnum.get(Long.parseLong(node.get(\"attr\").asText()));\n                if (type != null) {\n                    return type;\n                }\n            }\n        }catch(Exception e){\n            type = null;\n        }\n        return type;\n    }\n}\n</code></pre>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 33026308, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/33026308#33026308", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>Here is another example that uses string values instead of a map.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum Operator {\n    EQUAL(new String[]{\"=\",\"==\",\"===\"}),\n    NOT_EQUAL(new String[]{\"!=\",\"&lt;&gt;\"}),\n    LESS_THAN(new String[]{\"&lt;\"}),\n    LESS_THAN_EQUAL(new String[]{\"&lt;=\"}),\n    GREATER_THAN(new String[]{\"&gt;\"}),\n    GREATER_THAN_EQUAL(new String[]{\"&gt;=\"}),\n    EXISTS(new String[]{\"not null\", \"exists\"}),\n    NOT_EXISTS(new String[]{\"is null\", \"not exists\"}),\n    MATCH(new String[]{\"match\"});\n\n    private String[] value;\n\n    Operator(String[] value) {\n        this.value = value;\n    }\n\n    @JsonValue\n    public String toStringOperator(){\n        return value[0];\n    }\n\n    @JsonCreator\n    public static Operator fromStringOperator(String stringOperator) {\n        if(stringOperator != null) {\n            for(Operator operator : Operator.values()) {\n                for(String operatorString : operator.value) {\n                    if (stringOperator.equalsIgnoreCase(operatorString)) {\n                        return operator;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 35095995, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/35095995#35095995", "tags": ["java", "enums", "jackson", "jsonserializer"]}, {"body": "<p>There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport org.hibernate.validator.constraints.NotEmpty;\n\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\n\n@JsonFormat(shape = OBJECT)\npublic enum FinancialAccountSubAccountType {\n  MAIN(\"Main\"),\n  MAIN_DISCOUNT(\"Main Discount\");\n\n  private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\n  static {\n    ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\n      .collect(Collectors.toMap(\n        Enum::name,\n        Function.identity()));\n  }\n\n  private final String displayName;\n\n  FinancialAccountSubAccountType(String displayName) {\n    this.displayName = displayName;\n  }\n\n  @JsonCreator\n  public static FinancialAccountSubAccountType fromJson(Request request) {\n    return ENUM_NAME_MAP.get(request.getCode());\n  }\n\n  @JsonProperty(\"name\")\n  public String getDisplayName() {\n    return displayName;\n  }\n\n  private static class Request {\n    @NotEmpty(message = \"Financial account sub-account type code is required\")\n    private final String code;\n    private final String displayName;\n\n    @JsonCreator\n    private Request(@JsonProperty(\"code\") String code,\n                    @JsonProperty(\"name\") String displayName) {\n      this.code = code;\n      this.displayName = displayName;\n    }\n\n    public String getCode() {\n      return code;\n    }\n\n    @JsonProperty(\"name\")\n    public String getDisplayName() {\n      return displayName;\n    }\n  }\n}\n</code></pre>\n", "title": "Jackson enum Serializing and DeSerializer", "answer_id": 39259725, "link": "http://stackoverflow.com/questions/12468764/jackson-enum-serializing-and-deserializer/39259725#39259725", "tags": ["java", "enums", "jackson", "jsonserializer"]}], "question_id": 12468764}, {"body": "<p>I just upgraded to Eclipse Juno but I found there is no debug toolbar (Resume/Step into/Step over/Stop etc.) in Debug perspective?? How can I find the toolbar back? Thanks!</p>\n\n<p><img src=\"http://i.stack.imgur.com/kJYtH.png\" alt=\"img1\"></p>\n\n<p>In the previous version:\n<img src=\"http://i.stack.imgur.com/ID1QD.png\" alt=\"imag2\"></p>\n", "tags": ["java", "eclipse"], "title": "Eclipse Juno No Debug Toolbar?", "answer_count": 8, "creation_date": 1353199131, "score": 68, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar", "answers": [{"body": "<p>Make sure they're checked in the 'Customize Perspective' dialog under toolbar visibility and Command Groups Availability.</p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 13436353, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/13436353#13436353", "tags": ["java", "eclipse"]}, {"body": "<p>From the <a href=\"http://help.eclipse.org/juno/topic/org.eclipse.platform.doc.user/whatsNew/platform_whatsnew.html?cp=0_6_3#Debug\">Juno documentation</a>:</p>\n\n<blockquote>\n  <p>To improve the presentation of the Debug perspective, the common debug\n  control commands (Stop, Resume, etc.) have been moved out of the Debug\n  view and into the global toolbar.</p>\n  \n  <p>The global toolbar can be customized with the Window > Customize\n  Perspective... action to add or remove debugging commands, or to\n  show/hide the debug toolbar completely.</p>\n  \n  <p>Old toolbar behavior can be restored by first toggling the Show Debug\n  Toolbar option in the Debug view's menu, then by disabling the Debug\n  toolbar from the Customize Perspective dialog.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/wD172.png\" alt=\"Global Toolbar\">\n<img src=\"http://i.stack.imgur.com/HfOUM.png\" alt=\"Show Debug Toolbar\"></p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 13438214, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/13438214#13438214", "tags": ["java", "eclipse"]}, {"body": "<p>In Debug window there is this drop down menu (indicated by small rectangle) check the option \"Show Debug Toolbar\", that was the problem in my case</p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 14416762, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/14416762#14416762", "tags": ["java", "eclipse"]}, {"body": "<p>Here's where you find the menu to turn it back on:\n<img src=\"http://i.stack.imgur.com/CjqE6.png\" alt=\"juno enable debug toolbar\"></p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 14923278, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/14923278#14923278", "tags": ["java", "eclipse"]}, {"body": "<p>Since a month or so ago in Juno and now Kepler, my global menu was missing the debug buttons and wouldn't apply or save changes from Customize Perspective. broc.seib's workaround worked, but I wanted to fix the actual problem. <b>I found the file to be stored at workspace/.metadata/.plugins/org.eclipse.ui.workbench/workbench.xml. Deleting (or renaming) the file reset my perspectives and fixed the issue with changes not saving.</b> However, the file apparently doesn't get recreated, so I assume Kepler saves it somewhere else and only read the old one for backward compatibility; correct me if I'm wrong.</p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 17426876, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/17426876#17426876", "tags": ["java", "eclipse"]}, {"body": "<p>After a (re)search I've finally realized that this option (run\\debug actions toolbar) was simply non-existant in Eclipse Helios. The most similar configuration for me was to </p>\n\n<p>a. separate Debug view from other tabs \n b. dock it above all other debug panels (Variables, Console, whatever\n c. minimise it's size to leave only the header with title and actions toolbar</p>\n\n<p>I am posting it here instead of asking the same question about Eclipse Helios with the obvious \"not such thing\" answer. Hope it helps the next user of older Eclipse versions passing by. </p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 17445164, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/17445164#17445164", "tags": ["java", "eclipse"]}, {"body": "<p>Before was not possible to see debug tool bar, after </p>\n\n<pre><code> Window-&gt;Reset Perpective\n</code></pre>\n\n<p>was possible to show it again</p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 26009125, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/26009125#26009125", "tags": ["java", "eclipse"]}, {"body": "<p>Another way to enable the debug icons in the toolbar is to select <strong>Window</strong> -> <strong>Perspective</strong> -> <strong>Customize Perspective</strong> (or right click on the Perspective icon and select Customize). Then in the new pop-up window select <strong>Action Set Availability tab</strong> > <strong>enable Debug</strong> in the list on the left hand-side.</p>\n\n<p>Once you do the above, right <strong>click on the Debug perspective icon</strong> -> <strong>Save As...</strong> -> name Debug, click save, OK to overwrite.</p>\n\n<p><img src=\"http://i.stack.imgur.com/kaXOV.png\" alt=\"enter image description here\"></p>\n", "title": "Eclipse Juno No Debug Toolbar?", "answer_id": 29420150, "link": "http://stackoverflow.com/questions/13436337/eclipse-juno-no-debug-toolbar/29420150#29420150", "tags": ["java", "eclipse"]}], "question_id": 13436337}, {"body": "<p>I am a java beginner trying to learn some java. </p>\n\n<p>Often, I'm always confused between Static and final keywords in java. Although they sound similar. How are they different?</p>\n\n<p>Can anyone explain? </p>\n\n<p>Sorry for basic question. I'm just trying to learn!</p>\n\n<p>Thanks!</p>\n\n<p>EDIT: I've tried to lookup various sites and they often confuse me. Can anyone help me out?\n(PS: Please don't curse me for asking basic question)</p>\n", "tags": ["java"], "title": "Difference between Static and final?", "answer_count": 8, "creation_date": 1354924114, "score": 68, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final", "answers": [{"body": "<p>Static is something that any object in a class can call, that inherently belongs to an object type.</p>\n\n<p>A variable can be final for a particular object, and that simply means it will not change any more. It can only be set once, trying to set it again will result in an error being thrown. It is useful for a number of reasons, perhaps you want to give a name to an object, that can't be changed.</p>\n\n<p>Some example code:</p>\n\n<pre><code>class someClass\n{\n   public static int count=0;\n   public final String mName;\n\n   someClass(String name)\n   {\n     mname=name;\n     count=count+1;\n   }\n\n  public static void main(String args[])\n  {\n    someClass obj1=new someClass(\"obj1\");\n    System.out.println(\"count=\"+count+\" name=\"+obj1.mName);\n    someClass obj2=new someClass(\"obj2\");\n    System.out.println(\"count=\"+count+\" name=\"+obj2.mName);\n  }\n}\n</code></pre>\n\n<p>Wikipedia contains the complete list of <a href=\"http://en.wikipedia.org/wiki/List_of_Java_keywords\" rel=\"nofollow\">java keywords</a>.</p>\n", "title": "Difference between Static and final?", "answer_id": 13772837, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/13772837#13772837", "tags": ["java"]}, {"body": "<p><strong>static</strong> means it belongs to the class not an instance, this means that there is only one copy of that variable/method shared between all instances of a particular <strong>Class</strong>.</p>\n\n<pre><code>public class MyClass {\n    public static int myVariable = 0; \n}\n\n//Now in some other code creating two instances of MyClass\n//and altering the variable will affect all instances\n\nMyClass instance1 = new MyClass();\nMyClass instance2 = new MyClass();\n\nMyClass.myVariable = 5;  //This change is reflected in both instances\n</code></pre>\n\n<p><strong>final</strong> is entirely unrelated, it is a way of defining a once only initialization.  You can either initialize when defining the variable or within the constructor, nowhere else.</p>\n\n<p><strong>note</strong> A note on final methods and final classes, this is a way of explicitly stating that the method or class can not be overridden / extended respectively.</p>\n\n<p><strong>Extra Reading</strong>\nSo on the topic of static, we were talking about the other uses it may have, it is sometimes used in static blocks.  When using static variables it is sometimes necessary to set these variables up before using the class, but unfortunately you do not get a constructor.  This is where the static keyword comes in.</p>\n\n<pre><code>public class MyClass {\n\n    public static List&lt;String&gt; cars = new ArrayList&lt;String&gt;();\n\n    static {\n        cars.add(\"Ferrari\");\n        cars.add(\"Scoda\");\n    }\n\n}\n\npublic class TestClass {\n\n    public static void main(String args[]) {\n        System.out.println(MyClass.cars.get(0));  //This will print Ferrari\n    }\n}\n</code></pre>\n\n<p>You must not get this confused with instance initializer blocks which are called before the constructor <em>per</em> instance.</p>\n", "title": "Difference between Static and final?", "answer_id": 13772855, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/13772855#13772855", "tags": ["java"]}, {"body": "<p>The two really aren't similar. <code>static</code> fields are fields that <em>do not belong to any particular instance of a class</em>.</p>\n\n<pre><code>class C {\n    public static int n = 42;\n}\n</code></pre>\n\n<p>Here, the <code>static</code> field <code>n</code> isn't associated with any particular instance of <code>C</code> but with the entire class in general (which is why <code>C.n</code> can be used to access it). Can you still use an instance of <code>C</code> to access <code>n</code>? Yes - but it isn't considered particularly good practice.</p>\n\n<p><code>final</code> on the other hand indicates that a particular variable cannot change after it is initialized.</p>\n\n<pre><code>class C {\n    public final int n = 42;\n}\n</code></pre>\n\n<p>Here, <code>n</code> cannot be re-assigned because it is <code>final</code>. One other difference is that any variable can be declared <code>final</code>, while not every variable can be declared static.</p>\n\n<p>Also, classes can be declared <code>final</code> which indicates that they cannot be extended:</p>\n\n<pre><code>final class C {}\n\nclass B extends C {}  // error!\n</code></pre>\n\n<p>Similarly, methods can be declared final to indicate that they cannot be <em>overriden</em> by an extending class:</p>\n\n<pre><code>class C {\n    public final void foo() {}\n}\n\nclass B extends C {\n    public void foo() {}  // error!\n}\n</code></pre>\n", "title": "Difference between Static and final?", "answer_id": 13772876, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/13772876#13772876", "tags": ["java"]}, {"body": "<p>Static and final have some big differences:</p>\n\n<p>Static variables or classes will always be available from (pretty much) anywhere. Final is just a keyword that means a variable cannot be changed. So if had:</p>\n\n<pre><code>public class Test{    \n   public final int first = 10;\n   public static int second = 20;\n\n   public Test(){\n     second = second + 1\n     first = first + 1;\n   }\n}\n</code></pre>\n\n<p>The program would run until it tried to change the \"first\" integer, which would cause an error. Outside of this class, you would only have access to the \"first\" variable if you had instantiated the class. This is in contrast to \"second\", which is available all the time. </p>\n", "title": "Difference between Static and final?", "answer_id": 13772903, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/13772903#13772903", "tags": ["java"]}, {"body": "<h2>The static keyword can be used in 4 scenarios</h2>\n\n<ul>\n<li>static variables  </li>\n<li>static methods  </li>\n<li>static blocks of code.</li>\n<li>static nested class</li>\n</ul>\n\n<p>Lets look at static variables and static methods first.</p>\n\n<h2>static variable</h2>\n\n<ul>\n<li>It is a variable which belongs to the class and not to object(instance)  </li>\n<li>Static variables are initialized only once , at the start of the execution . These variables will be initialized first, before the initialization of any instance variables  </li>\n<li>A single copy to be shared by all instances of the class  </li>\n<li>A static variable can be accessed directly by the class name and doesn\u2019t need any object  </li>\n<li>Syntax : <code>Class.variable</code></li>\n</ul>\n\n<h2>static method</h2>\n\n<ul>\n<li>It is a method which belongs to the class and not to the object(instance)  </li>\n<li>A static method can access only static data. It can not access non-static data (instance variables) unless it has/creates an instance of the class.  </li>\n<li>A static method can call only other static methods and can not call a non-static method from it unless it has/creates an instance of the class.  </li>\n<li>A static method can be accessed directly by the class name and doesn\u2019t need any object  </li>\n<li>Syntax : <code>Class.methodName()</code>  </li>\n<li>A static method cannot refer to <code>this</code> or <code>super</code> keywords in anyway</li>\n</ul>\n\n<h2>static class</h2>\n\n<p>Java also has \"static nested classes\",A static nested class is just one which doesn't implicitly have a reference to an instance of the outer class.</p>\n\n<p>Static nested classes can have instance methods and static methods.</p>\n\n<p>There's no such thing as a top-level static class in Java.</p>\n\n<h3>Side Note:</h3>\n\n<blockquote>\n  <p>main method is <code>static</code> since it must be be accessible for an application to run before any instantiation takes place.</p>\n</blockquote>\n\n<h2><code>final</code> keyword is used in several different contexts to define an entity which cannot later be changed.</h2>\n\n<ul>\n<li><p>A <code>final</code> class cannot be subclassed. This is done for reasons of security and efficiency. Accordingly, many of the Java standard library classes are <code>final</code>, for example <code>java.lang.System</code> and <code>java.lang.String</code>. All methods in a <code>final</code> class are implicitly <code>final</code>.</p></li>\n<li><p>A <code>final</code> method can't be overridden by subclasses. This is used to prevent unexpected behavior from a subclass altering a method that may be crucial to the function or consistency of the class.  </p></li>\n<li><p>A <code>final</code> variable can only be initialized once, either via an initializer or an assignment statement. It does not need to be initialized at the point of declaration: this is called a <code>blank final</code> variable. A blank final instance variable of a class must be definitely assigned at the end of every constructor of the class in which it is declared; similarly, a blank final static variable must be definitely assigned in a static initializer of the class in which it is declared; otherwise, a compile-time error occurs in both cases.  </p></li>\n</ul>\n\n<h3>Note: If the variable is a reference, this means that the variable cannot be re-bound to reference another object. But the object that it references is still mutable, if it was originally mutable.</h3>\n\n<p>When an anonymous inner class is defined within the body of a method, all variables declared <code>final</code> in the scope of that method are accessible from within the inner class. Once it has been assigned, the value of the final variable cannot change.</p>\n", "title": "Difference between Static and final?", "answer_id": 13772923, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/13772923#13772923", "tags": ["java"]}, {"body": "<p>I won't try to give a complete answer here. My recommendation would be to focus on understanding what each one of them does and then it should be cleare to see that their effects are completely different and why sometimes they are used together.</p>\n\n<p><code>static</code> is for members of a class (attributes and methods) and it has to be understood in contrast to instance (non static) members. I'd recommend reading <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow\">\"Understanding Instance and Class Members\"</a> in The Java Tutorials. I can also be used in <code>static</code> blocks but I would not worry about it for a start.</p>\n\n<p><code>final</code> has different meanings according if its applied to variables, methods, classes or some other cases. Here I like <a href=\"http://en.wikipedia.org/wiki/Final_%28Java%29\" rel=\"nofollow\">Wikipedia explanations</a> better.</p>\n", "title": "Difference between Static and final?", "answer_id": 13772970, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/13772970#13772970", "tags": ["java"]}, {"body": "<p>Think of an object like a Speaker. If Speaker is a class, It will have different variables such as volume, treble, bass, color etc. You define all these fields while defining the Speaker class. For example, you declared the color field with a static modifier, that means you're telling the compiler that there is exactly one copy of this variable in existence, regardless of how many times the class has been instantiated. </p>\n\n<p>Declaring </p>\n\n<pre><code>static final String color = \"Black\"; \n</code></pre>\n\n<p>will make sure that whenever this class is instantiated, the value of color field will be \"Black\" unless it is not changed.</p>\n\n<pre><code>public class Speaker {\n\nstatic String color = \"Black\";\n\n}\n\npublic class Sample {\n\npublic static void main(String args[]) {\n    System.out.println(Speaker.color); //will provide output as \"Black\"\n            Speaker.color = \"white\";\n    System.out.println(Speaker.color);  //will provide output as \"White\"\n}}\n</code></pre>\n\n<p><em><strong>Note : Now once you change the color of the speaker as final this code wont execute, because final keyword makes sure that the value of the field never changes.</em></strong></p>\n\n<pre><code>public class Speaker {\n\nstatic final String color = \"Black\";\n\n}\n\npublic class Sample {\n\npublic static void main(String args[]) {\n    System.out.println(Speaker.color); //should provide output as \"Black\"\n            Speaker.color = \"white\"; //Error because the value of color is fixed.  \n    System.out.println(Speaker.color); //Code won't execute.\n}}\n</code></pre>\n\n<p>You may copy/paste this code directly into your emulator and try.</p>\n", "title": "Difference between Static and final?", "answer_id": 21418072, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/21418072#21418072", "tags": ["java"]}, {"body": "<p><strong>final -</strong></p>\n\n<p>1)When we apply \"<strong>final</strong>\" keyword  to a <strong>variable</strong>,the value of that variable remains constant.\n            (or)\n  Once we declare a <strong>variable</strong> as <strong>final</strong>.the value of that variable cannot be changed.</p>\n\n<p>2)It is useful when a <strong>variable</strong> value does not change during the life time of a program</p>\n\n<p><strong>static -</strong></p>\n\n<p>1)when we apply \"<strong>static</strong>\" keyword to a <strong>variable</strong> ,it means it belongs to class.<br>\n   2)When we apply \"<strong>static</strong>\" keyword to a <strong>method</strong>,it means the <strong>method</strong> can be accessed without creating any instance of the class</p>\n", "title": "Difference between Static and final?", "answer_id": 22924828, "link": "http://stackoverflow.com/questions/13772827/difference-between-static-and-final/22924828#22924828", "tags": ["java"]}], "question_id": 13772827}, {"body": "<p>Does Java have anything to represent infinity for every numerical data type? How is it implemented such that I can do mathematical operations with it?</p>\n\n<p>E.g.</p>\n\n<pre><code>int myInf = infinity; //However it is done\nmyInf + 5; //returns infinity\nmyInf*(-1); //returns negative infinity\n</code></pre>\n\n<p>I have tried using very large numbers, but I want a proper, <strong>easy</strong> solution.</p>\n", "tags": ["java", "double", "infinity"], "title": "How to implement infinity in Java?", "answer_count": 8, "creation_date": 1350554498, "score": 68, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java", "answers": [{"body": "<p><code>double</code> supports Infinity</p>\n\n<pre><code>double inf = Double.POSITIVE_INFINITY;\nSystem.out.println(inf + 5);\nSystem.out.println(inf - inf); // same as Double.NaN\nSystem.out.println(inf * -1); // same as Double.NEGATIVE_INFINITY\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Infinity\nNaN\n-Infinity\n</code></pre>\n\n<p>note: <code>Infinity - Infinity</code> is <em>Not A Number</em>.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 12952069, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/12952069#12952069", "tags": ["java", "double", "infinity"]}, {"body": "<p>The <code>Double</code> and <code>Float</code> types have the <code>POSITIVE_INFINITY</code> constant.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 12952077, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/12952077#12952077", "tags": ["java", "double", "infinity"]}, {"body": "<p>For the numeric wrapper types.</p>\n\n<p>e.g Double.POSITVE_INFINITY </p>\n\n<p>Hope this might help you.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 12952100, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/12952100#12952100", "tags": ["java", "double", "infinity"]}, {"body": "<p>I'm not sure that Java has infinity for every numerical type but for some numerical data types the answer is positive:</p>\n\n<pre><code>Float.POSITIVE_INFINITY\nFloat.NEGATIVE_INFINITY\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Double.POSITIVE_INFINITY\nDouble.NEGATIVE_INFINITY\n</code></pre>\n\n<p>Also you may find useful the following article which represents some mathematical operations involving +/- infinity: <a href=\"http://www.concentric.net/~ttwang/tech/javafloat.htm\" rel=\"nofollow\">Java Floating-Point Number Intricacies</a>.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 12952109, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/12952109#12952109", "tags": ["java", "double", "infinity"]}, {"body": "<p>To use <code>Infinity</code>, you can use <code>Double</code> which supports <code>Infinity</code>: -</p>\n\n<pre><code>    System.out.println(Double.POSITIVE_INFINITY);\n    System.out.println(Double.POSITIVE_INFINITY * -1);\n    System.out.println(Double.NEGATIVE_INFINITY);\n\n    System.out.println(Double.POSITIVE_INFINITY - Double.NEGATIVE_INFINITY);\n    System.out.println(Double.POSITIVE_INFINITY - Double.POSITIVE_INFINITY);\n</code></pre>\n\n<p><strong>OUTPUT</strong>: -</p>\n\n<pre><code>Infinity\n-Infinity\n-Infinity\n\nInfinity \nNaN\n</code></pre>\n", "title": "How to implement infinity in Java?", "answer_id": 12952113, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/12952113#12952113", "tags": ["java", "double", "infinity"]}, {"body": "<p>Only Double and Float type support <code>POSITIVE_INFINITY</code> constant.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 12952481, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/12952481#12952481", "tags": ["java", "double", "infinity"]}, {"body": "<p>I'm supposing you're using integer math for a reason. If so, you can get a result that's functionally nearly the same as POSITIVE_INFINITY by using the MAX_VALUE field of the <code>Integer</code> class:</p>\n\n<pre><code>Integer myInf = Integer.MAX_VALUE;\n</code></pre>\n\n<p>(And for NEGATIVE_INFINITY you could use MIN_VALUE.) There will of course be some functional differences, e.g., when comparing <code>myInf</code> to a value that happens to be MAX_VALUE: clearly this number isn't less than <code>myInf</code>.</p>\n\n<p>There's also <a href=\"http://jscience.org/experimental/javadoc/constant-values.html#org.jscience.mathematics.algebraic.numbers.Integer.POSITIVE_INFINITY\">a library</a> that actually has fields POSITIVE_INFINITY and NEGATIVE_INFINITY, but they are really just new names for MAX_VALUE and MIN_VALUE.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 17973014, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/17973014#17973014", "tags": ["java", "double", "infinity"]}, {"body": "<p>A generic solution is to introduce a new type.  It may be more involved, but it has the advantage of working for any type that doesn't define its own infinity.</p>\n\n<p>If <code>T</code> is a type for which <code>lteq</code> is defined, you can define <code>InfiniteOr&lt;T&gt;</code> with <code>lteq</code> something like this:</p>\n\n<pre><code>class InfiniteOr with type parameter T:\n    field the_T of type null-or-an-actual-T\n    isInfinite()\n        return this.the_T == null\n    getFinite():\n        assert(!isInfinite());\n        return this.the_T\n    lteq(that)\n        if that.isInfinite()\n            return true\n        if this.isInfinite()\n            return false\n        return this.getFinite().lteq(that.getFinite())\n</code></pre>\n\n<p>I'll leave it to you to translate this to exact Java syntax.  I hope the ideas are clear; but let me spell them out anyways.</p>\n\n<p>The idea is to create a new type which has all the same values as some already existing type, plus one special value which\u2014as far as you can tell through public methods\u2014acts exactly the way you want infinity to act, e.g. it's greater than anything else.  I'm using <code>null</code> to represent infinity here, since that seems the most straightforward in Java.</p>\n\n<p>If you want to add arithmetic operations, decide what they should do, then implement that. It's probably simplest if you handle the infinite cases first, then reuse the existing operations on finite values of the original type.</p>\n\n<p>There might or might not be a general pattern to whether or not it's beneficial to adopt a convention of handling left-hand-side infinities before right-hand-side infinities or vice versa; I can't tell without trying it out, but for less-than-or-equal (<code>lteq</code>) I think it's simpler to look at right-hand-side infinity first.  I note that <code>lteq</code> is <em>not</em> commutative, but <code>add</code> and <code>mul</code> are; maybe that is relevant.</p>\n\n<p>Note: coming up with a good definition of what should happen on infinite values is not always easy.  It is for comparison, addition and multiplication, but maybe not subtraction.  Also, there is a distinction between infinite cardinal and ordinal numbers which you may want to pay attention to.</p>\n", "title": "How to implement infinity in Java?", "answer_id": 38267847, "link": "http://stackoverflow.com/questions/12952024/how-to-implement-infinity-in-java/38267847#38267847", "tags": ["java", "double", "infinity"]}], "question_id": 12952024}, {"body": "<p>I am using JPA in my project.</p>\n\n<p>I came to a query in which I need to make join operation on five tables. So I created a native query which returns five fields.</p>\n\n<p>Now I want to convert the result object to java POJO class which contains the same five Strings.</p>\n\n<p>Is there any way in JPA to directly cast that result to POJO object list ??</p>\n\n<p>I came to the following solution ..</p>\n\n<pre><code>@NamedNativeQueries({  \n    @NamedNativeQuery(  \n        name = \"nativeSQL\",  \n        query = \"SELECT * FROM Actors\",  \n        resultClass = db.Actor.class),  \n    @NamedNativeQuery(  \n        name = \"nativeSQL2\",  \n        query = \"SELECT COUNT(*) FROM Actors\",  \n        resultClass = XXXXX) // &lt;--------------- problem  \n})  \n</code></pre>\n\n<p>Now here in resultClass, do we need to provide a class which is actual JPA entity ?\nOR\nWe can convert it to any JAVA POJO class which contains the same column names ?</p>\n\n<p>Thanks,\nGunjan Shah.</p>\n", "tags": ["java", "jpa"], "title": "JPA : How to convert a native query result set to POJO class collection", "answer_count": 6, "creation_date": 1350912845, "score": 67, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection", "answers": [{"body": "<p>Use <code>DTO Design Pattern</code>. It was used in <code>EJB 2.0</code>. Entity was container managed. <code>DTO Design Pattern</code> is used to solve this problem.\nBut, it might be use now, when the application is developed <code>Server Side</code> and <code>Client Side</code> separately.<code>DTO</code> is used when <code>Server side</code> doesn't want to pass/return <code>Entity</code> with annotation to <code>Client Side</code>.</p>\n\n<p>DTO Example :</p>\n\n<p>PersonEntity.java</p>\n\n<pre><code>@Entity\npublic class PersonEntity {\n    @Id\n    private String id;\n    private String address;\n\n    public PersonEntity(){\n\n    }\n    public PersonEntity(String id, String address) {\n        this.id = id;\n        this.address = address;\n    }\n    //getter and setter\n\n}\n</code></pre>\n\n<p>PersonDTO.java</p>\n\n<pre><code>public class PersonDTO {\n    private String id;\n    private String address;\n\n    public PersonDTO() {\n    }\n    public PersonDTO(String id, String address) {\n        this.id = id;\n        this.address = address;\n    }\n\n    //getter and setter \n}\n</code></pre>\n\n<p>DTOBuilder.java</p>\n\n<pre><code>public class DTOBuilder() {\n    public static PersonDTO buildPersonDTO(PersonEntity person) {\n        return new PersonDTO(person.getId(). person.getAddress());\n    }\n}\n</code></pre>\n\n<p>EntityBuilder.java &lt;-- it mide be need</p>\n\n<pre><code>public class EntityBuilder() {\n    public static PersonEntity buildPersonEntity(PersonDTO person) {\n        return new PersonEntity(person.getId(). person.getAddress());\n    }\n}\n</code></pre>\n", "title": "JPA : How to convert a native query result set to POJO class collection", "answer_id": 13013074, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/13013074#13013074", "tags": ["java", "jpa"]}, {"body": "<p>JPA provides an <a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/SqlResultSetMapping.html\"><code>SqlResultSetMapping</code></a> that allows you to map whatever returns from your native query into an Entity <del>or a custom class</del>.</p>\n\n<p><strong>EDIT</strong> JPA 1.0 does not allow mapping to non-entity classes. Only in JPA 2.1 a <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/ConstructorResult.html\">ConstructorResult</a> has been added to map return values a java class.</p>\n\n<p>Also, for OP's problem with getting count it should be enough to define a result set mapping with a single <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/ColumnResult.html\"><code>ColumnResult</code></a></p>\n", "title": "JPA : How to convert a native query result set to POJO class collection", "answer_id": 13013323, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/13013323#13013323", "tags": ["java", "jpa"]}, {"body": "<p>I have found a couple of solutions to this. </p>\n\n<p><strong>Using Mapped Entities (JPA 2.0)</strong></p>\n\n<p>Using JPA 2.0 it is not possible to map a native query to a POJO, it can only be done with an entity.</p>\n\n<p>For instance:</p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT name,age FROM jedi_table\", Jedi.class);\n@SuppressWarnings(\"unchecked\")\nList&lt;Jedi&gt; items = (List&lt;Jedi&gt;) query.getResultList();\n</code></pre>\n\n<p>But in this case, <code>Jedi</code>, must be a mapped entity class.</p>\n\n<p>An alternative to avoid the unchecked warning here, would be to use a named native query. So if we declare the native query in an entity</p>\n\n<pre><code>@NamedNativeQuery(\n name=\"jedisQry\", \n query = \"SELECT name,age FROM jedis_table\", \n resultClass = Jedi.class)\n</code></pre>\n\n<p>Then, we can simply do:</p>\n\n<pre><code>TypedQuery&lt;Jedi&gt; query = em.createNamedQuery(\"jedisQry\", Jedi.class);\nList&lt;Jedi&gt; items = query.getResultList();\n</code></pre>\n\n<p>This is safer, but we are still restricted to use a mapped entity.</p>\n\n<p><strong>Manual Mapping</strong></p>\n\n<p>A solution I experimented a bit (before the arrival of JPA 2.1) was doing mapping against a POJO constructor using a bit of reflection.</p>\n\n<pre><code>public static &lt;T&gt; T map(Class&lt;T&gt; type, Object[] tuple){\n   List&lt;Class&lt;?&gt;&gt; tupleTypes = new ArrayList&lt;&gt;();\n   for(Object field : tuple){\n      tupleTypes.add(field.getClass());\n   }\n   try {\n      Constructor&lt;T&gt; ctor = type.getConstructor(tupleTypes.toArray(new Class&lt;?&gt;[tuple.length]));\n      return ctor.newInstance(tuple);\n   } catch (Exception e) {\n      throw new RuntimeException(e);\n   }\n}\n</code></pre>\n\n<p>This method basically takes a tuple array (as returned by native queries) and maps it against a provided POJO class by looking for a constructor that has the same number of fields and of the same type.</p>\n\n<p>Then we can use convenient methods like:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; map(Class&lt;T&gt; type, List&lt;Object[]&gt; records){\n   List&lt;T&gt; result = new LinkedList&lt;&gt;();\n   for(Object[] record : records){\n      result.add(map(type, record));\n   }\n   return result;\n}\n\npublic static &lt;T&gt; List&lt;T&gt; getResultList(Query query, Class&lt;T&gt; type){\n  @SuppressWarnings(\"unchecked\")\n  List&lt;Object[]&gt; records = query.getResultList();\n  return map(type, records);\n}\n</code></pre>\n\n<p>And we can simply use this technique as follows:</p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT name,age FROM jedis_table\");\nList&lt;Jedi&gt; jedis = getResultList(query, Jedi.class);\n</code></pre>\n\n<p><strong>JPA 2.1 with @SqlResultSetMapping</strong></p>\n\n<p>With the arrival of JPA 2.1, we can use the @SqlResultSetMapping annotation to solve the problem. </p>\n\n<p>We need to declare a result set mapping somewhere in a entity:</p>\n\n<pre><code>@SqlResultSetMapping(name=\"JediResult\", classes = {\n    @ConstructorResult(targetClass = Jedi.class, \n    columns = {@ColumnResult(name=\"name\"), @ColumnResult(name=\"age\")})\n})\n</code></pre>\n\n<p>And then we simply do:</p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT name,age FROM jedis_table\", \"JediResult\");\n@SuppressWarnings(\"unchecked\")\nList&lt;Jedi&gt; samples = query.getResultList();\n</code></pre>\n\n<p>Of course, in this case <code>Jedi</code> needs not to be an mapped entity. It can be a regular POJO.</p>\n\n<p><strong>Using XML Mapping</strong></p>\n\n<p>I am one of those that find adding all these <code>@SqlResultSetMapping</code> pretty invasive in my entities, and I particularly dislike the definition of named queries within entities, so alternatively I do all this in the <code>META-INF/orm.xml</code> file:</p>\n\n<pre><code>&lt;named-native-query name=\"GetAllJedi\" result-set-mapping=\"JediMapping\"&gt;\n    &lt;query&gt;SELECT name,age FROM jedi_table&lt;/query&gt;\n&lt;/named-native-query&gt;\n\n&lt;sql-result-set-mapping name=\"JediMapping\"&gt;\n        &lt;constructor-result target-class=\"org.answer.model.Jedi\"&gt;\n            &lt;column name=\"name\"/&gt;\n            &lt;column name=\"age\"/&gt;\n        &lt;/constructor-result&gt;\n    &lt;/sql-result-set-mapping&gt;\n</code></pre>\n\n<p>And those are all the solutions I know. The last two are the ideal way if we can use JPA 2.1.</p>\n", "title": "JPA : How to convert a native query result set to POJO class collection", "answer_id": 21487061, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/21487061#21487061", "tags": ["java", "jpa"]}, {"body": "<p>See example below for using a POJO as pseudo entity to retrieve result from native query without using complex SqlResultSetMapping. Just need two annotations, a bare @Enity and a dummy @Id in your POJO. @Id can be used on any field of your choice, an @Id field can have duplicate keys but not null values.</p>\n\n<p>Since @Enity does not map to any physical table, so this POJO is called a pseudo entity.</p>\n\n<p>Environment: eclipselink 2.5.0-RC1, jpa-2.1.0, mysql-connector-java-5.1.14</p>\n\n<p>You can download complete maven project <a href=\"https://github.com/jonathanluo/jpa\" rel=\"nofollow\">here</a></p>\n\n<p>Native query is based on mysql sample employees db\n<a href=\"http://dev.mysql.com/doc/employee/en/employees-installation.html\" rel=\"nofollow\">http://dev.mysql.com/doc/employee/en/employees-installation.html</a></p>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"2.1\" \n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n&lt;persistence-unit name=\"jpa-mysql\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;class&gt;org.moonwave.jpa.model.pojo.Employee&lt;/class&gt;\n    &lt;properties&gt;\n        &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://localhost:3306/employees\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"user\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"***\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>Employee.java</p>\n\n<pre><code>package org.moonwave.jpa.model.pojo;\n\n@Entity\npublic class Employee {\n\n@Id\nprotected Long empNo;\n\nprotected String firstName;\nprotected String lastName;\nprotected String title;\n\npublic Long getEmpNo() {\n    return empNo;\n}\npublic void setEmpNo(Long empNo) {\n    this.empNo = empNo;\n}\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}   \npublic String getTitle() {\n    return title;\n}\npublic void setTitle(String title) {\n    this.title = title;\n}\npublic String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"empNo: \").append(empNo);\n    sb.append(\", firstName: \").append(firstName);\n    sb.append(\", lastName: \").append(lastName);\n    sb.append(\", title: \").append(title);\n    return sb.toString();\n}\n}\n</code></pre>\n\n<p>EmployeeNativeQuery.java</p>\n\n<pre><code>public class EmployeeNativeQuery {\nprivate EntityManager em;\nprivate EntityManagerFactory emf;\n\npublic void setUp() throws Exception {\n    emf=Persistence.createEntityManagerFactory(\"jpa-mysql\");\n    em=emf.createEntityManager();\n}\npublic void tearDown()throws Exception {\n    em.close();\n    emf.close();\n}\n\n@SuppressWarnings(\"unchecked\")\npublic void query() {\n    Query query = em.createNativeQuery(\"select e.emp_no as empNo, e.first_name as firstName, e.last_name as lastName,\" + \n            \"t.title from employees e join titles t on e.emp_no = t.emp_no\", Employee.class);\n    query.setMaxResults(30);\n    List&lt;Employee&gt; list = (List&lt;Employee&gt;) query.getResultList();\n    int i = 0;\n    for (Object emp : list) {\n        System.out.println(++i + \": \" + emp.toString());\n    }\n}\n\npublic static void main( String[] args ) {\n    EmployeeNativeQuery test = new EmployeeNativeQuery();\n    try {\n        test.setUp();\n        test.query();\n        test.tearDown();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n}\n</code></pre>\n", "title": "JPA : How to convert a native query result set to POJO class collection", "answer_id": 27597538, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/27597538#27597538", "tags": ["java", "jpa"]}, {"body": "<p>First declare following annotations:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NativeQueryResultEntity {\n}\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NativeQueryResultColumn {\n    int index();\n}\n</code></pre>\n\n<p>Then annotate your POJO as follows:</p>\n\n<pre><code>@NativeQueryResultEntity\npublic class ClassX {\n    @NativeQueryResultColumn(index=0)\n    private String a;\n\n    @NativeQueryResultColumn(index=1)\n    private String b;\n}\n</code></pre>\n\n<p>Then write annotation processor:</p>\n\n<pre><code>public class NativeQueryResultsMapper {\n\n    private static Logger log = LoggerFactory.getLogger(NativeQueryResultsMapper.class);\n\n    public static &lt;T&gt; List&lt;T&gt; map(List&lt;Object[]&gt; objectArrayList, Class&lt;T&gt; genericType) {\n        List&lt;T&gt; ret = new ArrayList&lt;T&gt;();\n        List&lt;Field&gt; mappingFields = getNativeQueryResultColumnAnnotatedFields(genericType);\n        try {\n            for (Object[] objectArr : objectArrayList) {\n                T t = genericType.newInstance();\n                for (int i = 0; i &lt; objectArr.length; i++) {\n                    BeanUtils.setProperty(t, mappingFields.get(i).getName(), objectArr[i]);\n                }\n                ret.add(t);\n            }\n        } catch (InstantiationException ie) {\n            log.debug(\"Cannot instantiate: \", ie);\n            ret.clear();\n        } catch (IllegalAccessException iae) {\n            log.debug(\"Illegal access: \", iae);\n            ret.clear();\n        } catch (InvocationTargetException ite) {\n            log.debug(\"Cannot invoke method: \", ite);\n            ret.clear();\n        }\n        return ret;\n    }\n\n    // Get ordered list of fields\n    private static &lt;T&gt; List&lt;Field&gt; getNativeQueryResultColumnAnnotatedFields(Class&lt;T&gt; genericType) {\n        Field[] fields = genericType.getDeclaredFields();\n        List&lt;Field&gt; orderedFields = Arrays.asList(new Field[fields.length]);\n        for (int i = 0; i &lt; fields.length; i++) {\n            if (fields[i].isAnnotationPresent(NativeQueryResultColumn.class)) {\n                NativeQueryResultColumn nqrc = fields[i].getAnnotation(NativeQueryResultColumn.class);\n                orderedFields.set(nqrc.index(), fields[i]);\n            }\n        }\n        return orderedFields;\n    }\n}\n</code></pre>\n\n<p>Use above framework as follows:</p>\n\n<pre><code>String sql = \"select a,b from x order by a\";\nQuery q = entityManager.createNativeQuery(sql);\n\nList&lt;ClassX&gt; results = NativeQueryResultsMapper.map(q.getResultList(), ClassX.class);\n</code></pre>\n", "title": "JPA : How to convert a native query result set to POJO class collection", "answer_id": 30111429, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/30111429#30111429", "tags": ["java", "jpa"]}, {"body": "<p>if you are using Spring, you can use <code>org.springframework.jdbc.core.RowMapper</code></p>\n\n<p>Here is an example: </p>\n\n<pre><code>public List query(String objectType, String namedQuery)\n{\n  String rowMapper = objectType + \"RowMapper\";\n  // then by reflection you can instantiate and use. The RowMapper classes need to follow the naming specific convention to follow such implementation.\n} \n</code></pre>\n", "title": "JPA : How to convert a native query result set to POJO class collection", "answer_id": 35698562, "link": "http://stackoverflow.com/questions/13012584/jpa-how-to-convert-a-native-query-result-set-to-pojo-class-collection/35698562#35698562", "tags": ["java", "jpa"]}], "question_id": 13012584}, {"body": "<p>My Mac currently is running Snow Leopard (10.6.8), and I would like to develop with Java 7. I downloaded the Java 7 OS X installer from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7u9-downloads-1859576.html\">Oracle's website</a>, started to run it. Unfortunately, I was immediately greeted with a message that said the installer is supported only on OS X Lion (10.7.3). Is there any way I can get Java 7 on my machine with Snow Leopard? I am not buying a new OS just to upgrade my Java. I googled around some, but I am not finding much. I'm hoping I can find some help here. Thanks. </p>\n", "tags": ["java", "osx-snow-leopard", "java-7"], "title": "How to install java jdk 7 on Snow Leopard", "answer_count": 8, "creation_date": 1353711823, "score": 67, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard", "answers": [{"body": "<p>You can build your own one. I did this before. It was easy. And it's as official as you can probably get:</p>\n\n<p><a href=\"https://wikis.oracle.com/display/OpenJDK/Mac+OS+X+Port\" rel=\"nofollow\">https://wikis.oracle.com/display/OpenJDK/Mac+OS+X+Port</a></p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 13536756, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/13536756#13536756", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>From what I have read JDK 7 does not require 10.7+ so I simply opened the shipped <code>.pkg</code> installer file with PackageMaker (an Xcode tool) and removed the OS version requirement and re-built it.</p>\n\n<p><strike>You will need to copy the installer out of the .dmg file since you have to save changes.</strike><br/>\n<strong>Edit:</strong> You will need to Build to another directory as the mounted .dmg is read-only.</p>\n\n<p>So far in my using this I haven't experienced any issues, even the Java preference pane is working properly.</p>\n\n<p>One thing to note, you <strong>will</strong> have to reorder JDKs in <code>Java Preferences.app</code> to get programs to use the new JDK instead of Java 6.</p>\n\n<hr>\n\n<p>I've even gone as far as to copy the Java 7 <code>.jdk</code> bundle into <code>/System/Library/Java/JavaVirtualMachines/</code>, and it seems to be function normally.</p>\n\n<p>Just don't move/rename the JDK bundles while Java applications are running;\nnot that I've done that by accident or anything...</p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 13999527, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/13999527#13999527", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>Use Pacifist from <a href=\"http://www.charlessoft.com/\">http://www.charlessoft.com/</a> to open and install the 'JDK 7 Update X.pkg' in the 'jdk7-7uX-macosx-x64.dmg' file you download from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 14024322, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/14024322#14024322", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>There are two ways to do this.</p>\n\n<ol>\n<li>Download Pacifist from charlessoft.com and open the JDK PKG in it (and extract the application.)</li>\n<li>Open the PKG in PackageMaker (a tool for developers) and remove the requirement of 10.7.3.</li>\n</ol>\n\n<p>Good luck!</p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 17130612, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/17130612#17130612", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>I had the same problem and was not able to google the proper way to do it. At the end I came up with solution myself and put it on my blog:</p>\n\n<p><a href=\"http://jksha.blogspot.se/2013/09/java-7-and-snow-leopard-osx-106.html\">http://jksha.blogspot.se/2013/09/java-7-and-snow-leopard-osx-106.html</a></p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 18788474, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/18788474#18788474", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>I have changed the version in the <code>/System/Library/CoreServices/SystemVersion.plist</code> based on this video tutorial <a href=\"http://www.youtube.com/watch?v=eFi-H-7-PD4\" rel=\"nofollow\">http://www.youtube.com/watch?v=eFi-H-7-PD4</a></p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 20892582, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/20892582#20892582", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>The answer from @reukiodo is definitely the way to go, so thanks a bunch!. However, it might need some further explanation for newbs like myself.</p>\n\n<ol>\n<li>Download the two DMG's that @reukiodo posted links to.</li>\n<li>Install Pacifist.</li>\n<li>Open the java-DMG with pacifist.</li>\n<li>In the 'Package Contents'-tab (default tab), select the 'Contents of JDK 7 Update XX.pkg' (XX being e.g. 51)</li>\n<li>Click the 'Install' button and follow the on-screen instructions.</li>\n<li>Open Java Preferences.app in yout Utilities folder and drag Java SE 7 to the top of the list of Java versions in the 'General'-tab (default tab)</li>\n<li>(OPTIONAL: Work with Eclipse: Follow the <a href=\"http://stackoverflow.com/questions/6614380/jdk-on-osx-10-7-lion#answer-6785545\">steps by Heath Borders</a> answered to another, but similar question. NB! This is actually for OSX 10.7 Lion, but the same procedure holds, and it worked for me on 10.6.8 Snow Leopard.)</li>\n</ol>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 21817311, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/21817311#21817311", "tags": ["java", "osx-snow-leopard", "java-7"]}, {"body": "<p>I was able to compile openJDK 7 for snow leopard (works entirely, AWT included), from some patches at this project:<br/>\n<a href=\"https://github.com/hgomez/obuildfactory/\" rel=\"nofollow\">https://github.com/hgomez/obuildfactory/</a></p>\n\n<p>If you want my binaries for a little bit of an easier time, here they are:<br/>\n<a href=\"https://bintray.com/wyatt8740/generic/openjdk7-sdk-osx-10.6/20140622/view\" rel=\"nofollow\">https://bintray.com/wyatt8740/generic/openjdk7-sdk-osx-10.6/20140622/view</a></p>\n\n<p>The tarball is about 57 megabytes.</p>\n\n<p>Extract it under <code>/Library/Java/JavaVirtualMachines/</code>. The JDK will be in a directory called <code>jdk1.7.0.jdk</code>. Set your <code>JAVA_HOME</code> environment variable to <code>/Library/Java/JavaVirtualMachines/jdk1.7.0.jdk/Contents/Home</code>, and from then put the command for setting JAVA_HOME in your <code>~/.profile</code> to make it more permanent. Log out and in for it to take full effect. The only thing missing so far is a JDK 7 browser plugin.</p>\n", "title": "How to install java jdk 7 on Snow Leopard", "answer_id": 31691036, "link": "http://stackoverflow.com/questions/13536667/how-to-install-java-jdk-7-on-snow-leopard/31691036#31691036", "tags": ["java", "osx-snow-leopard", "java-7"]}], "question_id": 13536667}, {"body": "<p>The following function produces today's date; how can I make it produce only yesterday's date?</p>\n\n<pre><code>private String toDate() {\n        DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n        Date date = new Date();    \n        return dateFormat.format(date).toString();\n}\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>2012-07-10\n</code></pre>\n\n<p>I only need yesterday's date like below. Is it possible to do this in my function?</p>\n\n<pre><code>2012-07-09\n</code></pre>\n", "tags": ["java", "date", "datetime", "simpledateformat"], "title": "Get yesterday&#39;s date using Date", "answer_count": 8, "creation_date": 1341978466, "score": 66, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date", "answers": [{"body": "<p>You are subtracting the wrong number:</p>\n\n<p>Use <code>Calendar</code> instead:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.add(Calendar.DATE, -1);\nSystem.out.println(\"Yesterday's date = \"+ cal.getTime());\n</code></pre>\n\n<p>Then, modify your method to the following:</p>\n\n<pre><code>private String getYesterdayDateString() {\n        DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n        Calendar cal = Calendar.getInstance();\n        cal.add(Calendar.DATE, -1);    \n        return dateFormat.format(cal.getTime());\n}\n</code></pre>\n\n<hr>\n\n<p><strong>See</strong></p>\n\n<ul>\n<li><a href=\"http://ideone.com/Suhyv\">IDEOne Demo</a></li>\n</ul>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425259, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425259#11425259", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<pre><code>Calendar cal = Calendar.getInstance();\n   DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n   System.out.println(\"Today's date is \"+dateFormat.format(cal.getTime()));\n\n   cal.add(Calendar.DATE, -1);\n   System.out.println(\"Yesterday's date was \"+dateFormat.format(cal.getTime())); \n</code></pre>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425271, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425271#11425271", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<p>There is no direct function to get yesterday's date.</p>\n\n<p>To get yesterday's date, you need to use <code>Calendar</code> by subtracting <code>-1</code>.</p>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425282, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425282#11425282", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<p>changed from your code :</p>\n\n<pre><code>private String toDate(long timestamp) {\n    Date date = new Date (timestamp * 1000 -  24 * 60 * 60 * 1000);\n   return new SimpleDateFormat(\"yyyy-MM-dd\").format(date).toString();\n</code></pre>\n\n<p>}</p>\n\n<p>but you do better using <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"nofollow\">calendar</a>.</p>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425289, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425289#11425289", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<pre><code>   Calendar cal = Calendar.getInstance();\n   DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n   System.out.println(\"Today's date is \"+dateFormat.format(cal.getTime()));\n\n   cal.add(Calendar.DATE, -1);\n   System.out.println(\"Yesterday's date was \"+dateFormat.format(cal.getTime()));  \n</code></pre>\n\n<p>Use Calender Api</p>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425346, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425346#11425346", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<p>Try this one:</p>\n\n<pre><code>private String toDate() {\n    DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n\n    // Create a calendar object with today date. Calendar is in java.util pakage.\n    Calendar calendar = Calendar.getInstance();\n\n    // Move calendar to yesterday\n    calendar.add(Calendar.DATE, -1);\n\n    // Get current date of calendar which point to the yesterday now\n    Date yesterday = calendar.getTime();\n\n    return dateFormat.format(yesterday).toString();\n}\n</code></pre>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425385, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425385#11425385", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<p>Try this;</p>\n\n<pre><code>   public String toDate() {\n       DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\n       Calendar cal = Calendar.getInstance();\n       cal.add(Calendar.DATE, -1);\n       return dateFormat.format(cal.getTime());\n  }\n</code></pre>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 11425769, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/11425769#11425769", "tags": ["java", "date", "datetime", "simpledateformat"]}, {"body": "<p>You can do following:</p>\n\n<pre><code>private Date getMeYesterday(){\n     return new Date(System.currentTimeMillis()-24*60*60*1000);\n}\n</code></pre>\n\n<p>Note: if you want further backward date multiply number of day with 24*60*60*1000 for example:</p>\n\n<pre><code>private Date getPreviousWeekDate(){\n     return new Date(System.currentTimeMillis()-7*24*60*60*1000);\n}\n</code></pre>\n\n<p>Similarly, you can get future date by adding the value to System.currentTimeMillis(), for example:</p>\n\n<pre><code>private Date getMeTomorrow(){\n     return new Date(System.currentTimeMillis()+24*60*60*1000);\n}\n</code></pre>\n", "title": "Get yesterday&#39;s date using Date", "answer_id": 25597046, "link": "http://stackoverflow.com/questions/11425236/get-yesterdays-date-using-date/25597046#25597046", "tags": ["java", "date", "datetime", "simpledateformat"]}], "question_id": 11425236}, {"body": "<p>I have a small question about IntelliJ IDEA 11. I just imported a project from subversion - its a maven project. But I have a problem in maven library dependencies so that I can't include all maven dependencies automatically - IDEA shows dependency errors only when I open that class/ Thats what I get here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/v5K5p.png\" alt=\"enter image description here\"></p>\n\n<p>So I want all dependencies to be added automatically - is that possible or do I have to go through all class files to identify and add maven dependencies?!</p>\n\n<p>UPDATE: After doing some modifications I found how to resolve my problem in some way. Thats what I did:\n<img src=\"http://i.stack.imgur.com/KslcB.png\" alt=\"enter image description here\"></p>\n\n<p>but I think logically it will not include and check new dependencies ahead?!... Is there any settings area for this in intelliJ - auto export dependencies to classpath ?!</p>\n", "tags": ["java", "maven", "intellij-idea", "maven-3"], "title": "Import Maven dependencies in IntelliJ IDEA", "answer_count": 16, "creation_date": 1342105581, "score": 65, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea", "answers": [{"body": "<p>Try to Re-Import the project from the Maven Projects panel in IntelliJ IDEA. It should download and configure all the dependencies defined in your <code>pom.xml</code> automatically.</p>\n\n<p>If download doesn't work from IDEA for some reason, try <code>mvn install</code> from the command line and see if the dependencies can be fetched.</p>\n\n<p>Of course all the required dependencies and any custom repositories must be defined directly in the <code>pom.xml</code> file.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 11455049, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/11455049#11455049", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>IntelliJ should download and add all your dependencies to the project's classpath automatically as long as your POM is compliant and all the dependencies are available.</p>\n\n<p>When importing Maven projects into IntelliJ an information box usually comes up asking you if you want to configure <em>Auto-Import</em> for Maven projects. That means that if you make any changes to your POM those changes will be loaded automatically.</p>\n\n<p>You can enable such feature going to File > Settings > Maven > Importing, there is a checkbox that says \"Import Maven projects automatically\".</p>\n\n<p>If that doesn't help, then I would suggest to make a full clean-up and start again:</p>\n\n<ul>\n<li>Close your project window (and IntelliJ) and remove all <code>*.iml</code> files and all <code>.idea</code> folders (there should be one per module)</li>\n<li>Run <code>mvn clean install</code> from the command line</li>\n<li>Re-import the project into IntelliJ and pay attention when it asks you to enable auto-import</li>\n</ul>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 11467266, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/11467266#11467266", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>When you create a new project you simply need to choose the option:</p>\n\n<p>...<br>\n<strong>Import project from external model</strong><br>\n<em>Create IDEA project structure over existing external model (Eclipse, Maven...)</em><br>\n...</p>\n\n<p>You'll find it pretty straight forward from there.<br> \nAnd in your case you can close your project and simply create a new one. Choose your project's directory, which will override it, making it a Maven project.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 13349880, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/13349880#13349880", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>Importing Maven dependencies may not work if you import the same path several times. This may happen automatically after importing an existing maven project. I can't figure out why this happens, so I'm inclined to think it is a bug.</p>\n\n<p>For example, if my project is</p>\n\n<pre><code>hibernate\n  src/main\n  src/test\n</code></pre>\n\n<p>the three paths may be imported as top nodes:</p>\n\n<pre><code>hibernate\nsrc/main\nsrc/test\n</code></pre>\n\n<p>If such is the case, the dependencies appear to be right, but they won't be used until you remove the superfluous paths (in this case, <code>src/main</code> and <code>src/test</code>). Once you do this, refresh and click Build > Rebuild Project. IDEA will pick up the dependencies.</p>\n\n<p>A symptom of this problem is that IDEA warns you of a duplicated path when you manually check a library (second screenshot in the question).</p>\n\n<p>There are several ways to re-read the dependencies in case you need it. If you go to the \u201cMaven Projects\u201d tab, there is a \u201cReimport All Maven Projects\u201d icon at the top left of the tab. If you suspect IDEA became confused you can click on File > Invalidate Caches.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 15050170, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/15050170#15050170", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>Go into your project structure, under project Settings, Modules, select the dependencies table. For each dependency, change the scope from 'Test' to 'Compile'.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 21944850, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/21944850#21944850", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>If certain maven modules are not compiling check if their pom.xml is on the \"ignored files\" list. In IntelliJ goto </p>\n\n<blockquote>\n  <p>preferences -> project settings -> maven -> ignored files</p>\n</blockquote>\n\n<p>and check if the related pom.xml is ignored.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 24281446, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/24281446#24281446", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>Thought I'd throw my $0.02 in here:  For me, the fix to this was to go to </p>\n\n<p>File [menu] -> Settings -> maven -> importing and <em>uncheck</em> \"use maven3 to import project\" </p>\n\n<p>ref: <a href=\"http://youtrack.jetbrains.com/issue/IDEA-98425\">http://youtrack.jetbrains.com/issue/IDEA-98425</a> (which may have a few other ideas too)</p>\n\n<p>Update: Ran into this again, with IntelliJ 15 this time, which has no \"use maven3 to import\" option available anymore.  The cause was that sometimes IntelliJ \"doesn't parse maven dependencies right\" and if it can't parse one of them right, it gives up on <em>all</em> of them, apparently.  You can tell if this is the case by opening the maven projects tool window (View menu -> Tool Windows -> Maven Projects).  Then expand one of your maven projects and its dependencies.  If the dependencies are all underlined in red, \"Houston, we have a problem\". \n<a href=\"http://i.stack.imgur.com/AeswW.png\"><img src=\"http://i.stack.imgur.com/AeswW.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can actually see the <em>real</em> failure by mousing over the project name itself. </p>\n\n<p><a href=\"http://i.stack.imgur.com/Ne5jy.png\"><img src=\"http://i.stack.imgur.com/Ne5jy.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my instance it said \"Problems: No versions available for XXX\" or \"Failed to read descriptor for artifact org.xy.z\" ref: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-128846\">https://youtrack.jetbrains.com/issue/IDEA-128846</a>\nand\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-152555\">https://youtrack.jetbrains.com/issue/IDEA-152555</a></p>\n\n<p>It seems in this case I was dealing with a jar that didn't have an associated pom file (in our maven nexus repo, and also my local repository).  If this is also your problem, \"urrent work around: if you do not actually need to use classes from that jar in your own code (for instance a transitive maven dependency only), you can actually get away with commenting it out from the pom (temporarily), maven project reload, and then uncomment it.  Somehow after that point IntelliJ \"remembers\" its old working dependencies.  Adding a maven transitive exclude temporarily might also do it, if you're running into it from transitive chain of dependencies.\"</p>\n\n<p>Another thing that might help is to use a \"newer version\" of maven than the bundled 3.0.5.\nIn order to set it up to use this as the default, close all your intellij windows, then open preferences -> build, execution and deployment -> build tools -> maven, and change the maven home directory, it should say \"For default project\" at the top when you adjust this, though you can adjust it for a particular project as well, as long as you \"re import\" after adjusting it.</p>\n\n<p>Other things that might help: deleting your intellij cache folders (windows: HOMEPATH/.{IntellijIdea,IdeaC}XXX linux ~/.IdeaIC15) and/or uninstalling and reinstalling IntelliJ itself. GL!</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 24892769, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/24892769#24892769", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>If in the lower right corner it says \"2 processes running...\" or similar, you may just need to wait for that to finish, since it may take time to download all the jars.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 25655398, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/25655398#25655398", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>Open <code>IntelliJ Idea</code>, Go to\n   <strong>File > Other Settings > Default Settings... > Maven (Preferences) > Importing</strong>   or|\n <code>Preferences &gt; Maven &gt; Importing</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/z4bwI.png\" alt=\"enter image description here\"></p>\n\n<p>Click on <strong>Enable Auto-import</strong> in the console.</p>\n\n<p><img src=\"http://i.stack.imgur.com/dI5zE.png\" alt=\"enter image description here\"></p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 26063676, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/26063676#26063676", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>I solved this issue by updating my settings.xml file with correct mirror config, seems that intellij will try to download meta-data from repository every time the maven module imported.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 27353153, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/27353153#27353153", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>Hijacking a bit to add what ended up working for me:</p>\n\n<p>Go into the <code>Maven Projects</code> sidebar on the right edge of the IDE, and verify that your dependencies are listed correctly under your module there. Assuming they are, just ask IDEA to reimport then (the first button at the top, looks like two blue arrows forming a counter-clockwise circle).</p>\n\n<p>Once I did that, and let IDEA reload the project for me, all my dependencies were magically understood.</p>\n\n<p>For reference: this was with <code>IDEA 13.1.2</code></p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 32012487, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/32012487#32012487", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>Reimport the project. If you install maven plugin you can use this.</p>\n\n<p>Right click on the project -> Maven -> Reimport</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 33342080, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/33342080#33342080", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>When importing the project, select <code>pom.xml</code> instead of the project directory. It should work.</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 33685968, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/33685968#33685968", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>In maven 4 the dependencies got included for me when I removed the dependencyManagement xml section and just had dependencies directly under project section</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 36259848, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/36259848#36259848", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>What helped me:</p>\n\n<p>Navigage:\nSettings | Build, Execution, Deployment | Maven</p>\n\n<p>Specify \"Maven home directory\" - the place you installed the maven</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 36337296, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/36337296#36337296", "tags": ["java", "maven", "intellij-idea", "maven-3"]}, {"body": "<p>I faced the same problem and tried everything suggested which did not solve the issue, I was using Intellij version 13.1.3</p>\n\n<p>Finally after spending more than couple of hours trying to fix it, I decided to try an upgraded version and opened the project in version 14.1.4 which ultimately resolved the issue. I would think this as a probable bug in the previous version.</p>\n\n<p>I hope this helps!</p>\n", "title": "Import Maven dependencies in IntelliJ IDEA", "answer_id": 36583472, "link": "http://stackoverflow.com/questions/11454822/import-maven-dependencies-in-intellij-idea/36583472#36583472", "tags": ["java", "maven", "intellij-idea", "maven-3"]}], "question_id": 11454822}, {"body": "<p>I am getting an ORA-01000 SQL exception. So I have some queries related to it.</p>\n\n<ol>\n<li>Are maximum open cursors exactly related to number of JDBC connections, or are they also related to the statement and resultset objects we have created for a single connection ? (We are using pool of connections)</li>\n<li>Is there a way to configure the number of statement/resultset objects in the database (like connections) ?</li>\n<li>Is it advisable to use instance variable statement/resultset object instead of method local statement/resultset object in a single threaded environment ?</li>\n<li><p>Does executing a prepared statement in a loop cause this issue ? (Of course, I could have used sqlBatch) Note: pStmt is closed once loop is over.</p>\n\n<pre><code>{ //method try starts  \n  String sql = \"INSERT into TblName (col1, col2) VALUES(?, ?)\";\n  pStmt = obj.getConnection().prepareStatement(sql);\n  pStmt.setLong(1, subscriberID);\n  for (String language : additionalLangs) {\n    pStmt.setInt(2, Integer.parseInt(language));\n    pStmt.execute();\n  }\n} //method/try ends\n\n{ //finally starts\n   pStmt.close()\n} //finally ends \n</code></pre></li>\n<li><p>What will happen if conn.createStatement() and conn.prepareStatement(sql) are called multiple times on single connection object ?</p></li>\n</ol>\n\n<p><B>Edit1: </B>\n6. Will the use of Weak/Soft reference statement object help in preventing the leakage ? </p>\n\n<p><B>Edit2: </B>\n 1. Is there any way, I can find all the missing \"statement.close()\"s in my project ? I understand it is not a memory leak. But I need to find a statement reference (where close() is not performed) eligible for garbage collection ? Any tool available ? Or do I have to analyze it manually ?</p>\n\n<p>Please help me understand it.</p>\n\n<h2>Solution</h2>\n\n<h2>To find the opened cursor in Oracle DB for username -VELU</h2>\n\n<p>Go to ORALCE machine and start sqlplus as sysdba.</p>\n\n<pre><code>[oracle@db01 ~]$ sqlplus / as sysdba \n</code></pre>\n\n<p>Then run</p>\n\n<pre><code>SELECT   A.VALUE,\n    S.USERNAME,\n    S.SID,\n    S.SERIAL#\n  FROM V$SESSTAT A,\n    V$STATNAME B,\n    V$SESSION S\n  WHERE A.STATISTIC# = B.STATISTIC#\n    AND S.SID        = A.SID\n    AND B.NAME       = 'opened cursors current'\n    AND USERNAME     = 'VELU';\n</code></pre>\n\n<p><B>If possible please read my answer at the end.</B></p>\n", "tags": ["java", "jdbc"], "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_count": 9, "creation_date": 1346314395, "score": 64, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded", "answers": [{"body": "<p>Did you set autocommit=true? If not try this: </p>\n\n<pre><code>{ //method try starts  \n    String sql = \"INSERT into TblName (col1, col2) VALUES(?, ?)\";\n    Connection conn = obj.getConnection()\n    pStmt = conn.prepareStatement(sql);\n\n    for (String language : additionalLangs) {\n        pStmt.setLong(1, subscriberID);\n        pStmt.setInt(2, Integer.parseInt(language));\n        pStmt.execute();\n        conn.commit();\n    }\n} //method/try ends { \n    //finally starts\n    pStmt.close()\n} //finally ends \n</code></pre>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 12245993, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/12245993#12245993", "tags": ["java", "jdbc"]}, {"body": "<p>ORA-01000, the maximum-open-cursors error, is an extremely common error in Oracle database development. In the context of Java, it happens when the application attempts to open more ResultSets than there are configured cursors on a database instance.</p>\n\n<p>Common causes are:</p>\n\n<ol>\n<li><p>Configuration mistake</p>\n\n<ul>\n<li>You have more threads in your application querying the database than cursors on the DB. One case is where you have a connection and thread pool larger than the number of cursors on the database.</li>\n<li>You have many developers or applications connected to the same DB instance (which will probably include many schemas) and together you are using too many connections.</li>\n<li><p><strong>Solution:</strong> </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/2583309/1395668\">Increasing the number of cursors</a> on the database (if resources allow) or </li>\n<li>Decreasing the number of threads in the application.</li>\n</ul></li>\n</ul></li>\n<li><p>Cursor leak</p>\n\n<ul>\n<li>The applications is not closing ResultSets (in JDBC) or cursors (in stored procedures on the database)</li>\n<li><strong>Solution</strong>: Cursor leaks are bugs; increasing the number of cursors on the DB simply delays the inevitable failure. Leaks can be found using <a href=\"http://findbugs.sourceforge.net/\">static code analysis</a>, <a href=\"http://code.google.com/p/log4jdbc/\">JDBC</a> or application-level logging, and <a href=\"http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html\">database monitoring</a>.  </li>\n</ul></li>\n</ol>\n\n<h2>Background</h2>\n\n<p>This section describes some of the theory behind cursors and how JDBC should be used. If you don't need to know the background, you can skip this and go straight to 'Eliminating Leaks'.</p>\n\n<h3>What is a cursor?</h3>\n\n<p>A cursor is a resource on the database that holds the state of a query, specifically the position where a reader is in a ResultSet. Each SELECT statement has a cursor, and PL/SQL stored procedures can open and use as many cursors as they require. You can find out more about cursors on <a href=\"http://www.orafaq.com/wiki/Cursor\">Orafaq</a>.</p>\n\n<p>A database instance typically serves several different <em>schemas</em>, many different <em>users</em> each with <em>multiple sessions</em>. To do this, it has a fixed number of cursors available for all schemas, users and sessions. When all cursors are open (in use) and request comes in that requires a new cursor, the request fails with an ORA-010000 error.</p>\n\n<h3>Finding and setting the number of cursors</h3>\n\n<p>The number is normally configured by the DBA on installation. The number of cursors currently in use, the maximum number and the configuration can be accessed in the Administrator functions in <a href=\"http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html\">Oracle SQL Developer</a>. From SQL it can be set with:</p>\n\n<pre><code>ALTER SYSTEM SET OPEN_CURSORS=1337 SID='*' SCOPE=BOTH;\n</code></pre>\n\n<h3>Relating JDBC in the JVM to cursors on the DB</h3>\n\n<p>The JDBC objects below are tightly coupled to the following database concepts:</p>\n\n<ul>\n<li>JDBC <em>Connection</em> is the client representation of a database <em>session</em> and provides database <em>transactions</em>. A connection can have only a single transaction open at any one time (but transactions can be nested)</li>\n<li>A JDBC <em>ResultSet</em> is supported by a single <em>cursor</em> on the database. When close() is called on the ResultSet, the cursor is released.</li>\n<li>A JDBC <em>CallableStatement</em> invokes a <em>stored procedure</em> on the database, often written in PL/SQL. The stored procedure can create zero or more cursors, and can return a cursor as a JDBC ResultSet.</li>\n</ul>\n\n<p>JDBC is thread safe: It is quite OK to pass the various JDBC objects between threads. </p>\n\n<p>For example, you can create the connection in one thread; another thread can use this connection to create a PreparedStatement and a third thread can process the result set. The single major restriction is that you cannot have more than one ResultSet open on a single PreparedStatement at any time. See <a href=\"http://stackoverflow.com/questions/5947316/does-oracle-db-support-multiple-parallel-operations-per-connection\">Does Oracle DB support multiple (parallel) operations per connection?</a></p>\n\n<p>Note that a database commit occurs on a Connection, and so all DML (INSERT, UPDATE and DELETE's) on that connection will commit together. Therefore, if you want to support multiple transactions at the same time, you must have at least one Connection for each concurrent Transaction.</p>\n\n<h3>Closing JDBC objects</h3>\n\n<p>A typical example of executing a ResultSet is:</p>\n\n<pre><code>Statement stmt = conn.createStatement();\ntry {\n    ResultSet rs = stmt.executeQuery( \"SELECT FULL_NAME FROM EMP\" );\n    try {\n        while ( rs.next() ) {\n            System.out.println( \"Name: \" + rs.getString(\"FULL_NAME\") );\n        }\n    } finally {\n        try { rs.close(); } catch (Exception ignore) { }\n    }\n} finally {\n    try { stmt.close(); } catch (Exception ignore) { }\n}\n</code></pre>\n\n<p>Note how the finally clause ignores any exception raised by the close():</p>\n\n<ul>\n<li>If you simply close the ResultSet without the try {} catch {}, it might fail and prevent the Statement being closed</li>\n<li>We want to allow any exception raised in the body of the try to propagate to the caller. \nIf you have a loop over, for example, creating and executing Statements, remember to close each Statement within the loop.</li>\n</ul>\n\n<p>In Java 7, Oracle has introduced the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\">AutoCloseable interface</a> which replaces most of the Java 6 boilerplate with some nice syntactic sugar.</p>\n\n<h3>Holding JDBC objects</h3>\n\n<p>JDBC objects can be safely held in local variables, object instance and class members. It is generally better practice to:</p>\n\n<ul>\n<li>Use object instance or class members to hold JDBC objects that are reused multiple times over a longer period, such as Connections and PreparedStatements</li>\n<li>Use local variables for ResultSets since these are obtained, looped over and then closed typically within the scope of a single function. </li>\n</ul>\n\n<p>There is, however, one exception: If you are using EJBs, or a Servlet/JSP container, you have to follow a strict threading model:</p>\n\n<ul>\n<li>Only the Application Server creates threads (with which it handles incoming requests)</li>\n<li>Only the Application Server creates connections (which you obtain from the connection pool)</li>\n<li>When saving values (state) between calls, you have to be very careful. Never store values in your own caches or static members - this is not safe across clusters and other weird conditions, and the Application Server may do terrible things to your data. Instead use stateful beans or a database. </li>\n<li>In particular, <em>never</em> hold JDBC objects (Connections, ResultSets, PreparedStatements, etc) over different remote invocations - let the Application Server manage this. The Application Server not only provides a connection pool, it also caches your PreparedStatements.</li>\n</ul>\n\n<h2>Eliminating leaks</h2>\n\n<p>There are a number of processes and tools available for helping detect and eliminating JDBC leaks:</p>\n\n<ol>\n<li><p>During development - catching bugs early is by far the best approach:</p>\n\n<ol>\n<li><p>Development practices: Good development practices should reduce the number of bugs in your software before it leaves the developer's desk. Specific practices include:</p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Pair_programming\">Pair programming</a>, to educate those without sufficient experience</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Code_review\">Code reviews</a> because many eyes are better than one</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Unit_testing\">Unit testing</a> which means you can exercise any and all of your code base from a test tool which makes reproducing leaks trivial</li>\n<li>Use <a href=\"http://stackoverflow.com/questions/520585/connection-pooling-options-with-jdbc-dbcp-vs-c3p0\">existing libraries</a> for connection pooling rather than building your own</li>\n</ol></li>\n<li><p>Static Code Analysis: Use a tool like the excellent <a href=\"http://findbugs.sourceforge.net/\">Findbugs</a> to perform a static code analysis. This picks up many places where the close() has not been correctly handled. Findbugs has a plugin for Eclipse, but it also runs standalone for one-offs, has integrations into Jenkins CI and other build tools</p></li>\n</ol></li>\n<li><p>At runtime:</p>\n\n<ol>\n<li><p>Holdability and commit</p>\n\n<ol>\n<li>If the ResultSet holdability is ResultSet.CLOSE_CURSORS_OVER_COMMIT, then the ResultSet is closed when the Connection.commit() method is called. This can be set using Connection.setHoldability() or by using the overloaded Connection.createStatement() method. </li>\n</ol></li>\n<li><p>Logging at runtime. </p>\n\n<ol>\n<li>Put good log statements in your code. These should be clear and understandable so the customer, support staff and teammates can understand without training. They should be terse and include printing the state/internal values of key variables and attributes so that you can trace processing logic. Good logging is fundamental to debugging applications, especially those that have been deployed. </li>\n<li><p>You can add a debugging JDBC driver to your project (for debugging - don't actually deploy it). One example (I have not used it) is <a href=\"http://code.google.com/p/log4jdbc/\">log4jdbc</a>. You then need to do some simple analysis on this file to see which executes don't have a corresponding close. Counting the open and closes should highlight if there is a potential problem</p>\n\n<ol>\n<li>Monitoring the database. Monitor your running application using the tools such as the SQL Developer 'Monitor SQL' function or <a href=\"http://www.quest.com/toad/\">Quest's TOAD</a>. Monitoring is described in <a href=\"http://www.orafaq.com/node/758\">this article</a>. During monitoring, you query the open cursors (eg from table v$sesstat) and review their SQL. If the number of cursors is increasing, and (most importantly) becoming dominated by one identical SQL statement, you know you have a leak with that SQL. Search your code and review.</li>\n</ol></li>\n</ol></li>\n</ol></li>\n</ol>\n\n<h2>Other thoughts</h2>\n\n<h3>Can you use WeakReferences to handle closing connections?</h3>\n\n<p>Weak and soft references are ways of allowing you to reference an object in a way that allows the JVM to garbage collect the referent at any time it deems fit (assuming there are no strong reference chains to that object).</p>\n\n<p>If you pass a ReferenceQueue in the constructor to the soft or weak Reference, the object is placed in the ReferenceQueue when the object is GC'ed when it occurs (if it occurs at all). With this approach, you can interact with the object's finalization and you could close or finalize the object at that moment.</p>\n\n<p>Phantom references are a bit weirder; their purpose is only to control finalization, but you can never get a reference to the original object, so it's going to be hard to call the close() method on it.</p>\n\n<p>However, it is rarely a good idea to attempt to control when the GC is run (Weak, Soft and PhantomReferences let you know <em>after the fact</em> that the object is enqueued for GC). In fact, if the amount of memory in the JVM is large (eg -Xmx2000m) you might <em>never</em> GC the object, and you will still experience the ORA-01000. If the JVM memory is small relative to your program's requirements, you may find that the ResultSet and PreparedStatement objects are GCed immediately after creation (before you can read from them), which will likely fail your program.</p>\n\n<p><strong>TL;DR:</strong> The weak reference mechanism is not a good way to manage and close Statement and ResultSet objects.</p>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 12246631, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/12246631#12246631", "tags": ["java", "jdbc"]}, {"body": "<p>Correct your Code like this:</p>\n\n<pre><code>try\n{ //method try starts  \n  String sql = \"INSERT into TblName (col1, col2) VALUES(?, ?)\";\n  pStmt = obj.getConnection().prepareStatement(sql);\n  pStmt.setLong(1, subscriberID);\n  for (String language : additionalLangs) {\n    pStmt.setInt(2, Integer.parseInt(language));\n    pStmt.execute();\n  }\n} //method/try ends\nfinally\n{ //finally starts\n   pStmt.close()\n} \n</code></pre>\n\n<p><strong>Are you sure, that you're really closing your pStatements, connections and results?</strong></p>\n\n<p>To analyze open objects you can implment a delegator pattern, which wraps code around your statemant, connection and result objects. So you'll see, if an object will successfully closed.</p>\n\n<p>An Example for: pStmt = obj.<strong>getConnection</strong>().prepareStatement(sql);</p>\n\n<pre><code>    class obj{ \n\n    public Connection getConnection(){\n    return new ConnectionDelegator(...here create your connection object and put it into ...);\n\n    } \n}\n\n\nclass ConnectionDelegator implements Connection{\n    Connection delegates;\n\n    public ConnectionDelegator(Connection con){\n       this.delegates = con;\n    }\n\n    public Statement prepareStatement(String sql){\n        return delegates.prepareStatement(sql);\n    }\n\n    public void close(){\n        try{\n           delegates.close();\n        }finally{\n           log.debug(delegates.toString() + \" was closed\");\n        }\n    }\n}\n</code></pre>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 12293567, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/12293567#12293567", "tags": ["java", "jdbc"]}, {"body": "<p>Using batch processing will result in less overhead. See the following link for examples:\n<a href=\"http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm</a></p>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 12454638, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/12454638#12454638", "tags": ["java", "jdbc"]}, {"body": "<p>I am adding few more understanding.</p>\n\n<ol>\n<li>Cursor is only about a statement objecct; It is neither resultSet nor the connection object. <BR></li>\n<li>But still we have to close the resultset to free some oracle memory. Still if you don't close the resultset that won't be counted for CURSORS. <BR></li>\n<li>Closing Statement object will automatically close resultset object too. <BR></li>\n<li>Cursor will be created for all the SELECT/INSERT/UPDATE/DELETE statement. <BR></li>\n<li>Each ORACLE DB instance can be identified using oracle SID; similarly ORACLE DB can identify each connection using connection SID. Both SID are different. <BR></li>\n<li>So ORACLE session is nothing but a jdbc(tcp) connection; which is nothing but one SID. <BR></li>\n<li>If we set maximum cursors as 500 then it is only for one JDBC session/connection/SID. </li>\n<li>So we can have many JDBC connection with its respective no of cursors (statements).</li>\n<li>Once the JVM is terminated all the connections/cursors will be closed, OR  JDBCConnection is closed CURSORS with respect to that connection will be closed.  <BR> <BR></li>\n</ol>\n\n<p><B>Loggin as sysdba. </B></p>\n\n<p>In Putty (Oracle login):</p>\n\n<pre><code>  [oracle@db01 ~]$ sqlplus / as sysdba\n</code></pre>\n\n<p>In SqlPlus:</p>\n\n<p>UserName:  <code>sys as sysdba</code></p>\n\n<h2>Set session_cached_cursors value to 0 so that it wont have closed cursors.</h2>\n\n<pre><code> alter session set session_cached_cursors=0\n select * from V$PARAMETER where name='session_cached_cursors'\n</code></pre>\n\n<h2>Select existing OPEN_CURSORS valuse set per connection in DB</h2>\n\n<pre><code> SELECT max(a.value) as highest_open_cur, p.value as max_open_cur FROM v$sesstat a, v$statname b, v$parameter p WHERE a.statistic# = b.statistic# AND b.name = 'opened cursors current' AND p.name= 'open_cursors'  GROUP BY p.value;\n</code></pre>\n\n<h2>Below is the query to find the SID/connections list with open cursor values.</h2>\n\n<pre><code> SELECT a.value, s.username, s.sid, s.serial#\n FROM v$sesstat a, v$statname b, v$session s\n WHERE a.statistic# = b.statistic#  AND s.sid=a.sid \n AND b.name = 'opened cursors current' AND username = 'SCHEMA_NAME_IN_CAPS'\n</code></pre>\n\n<h2>Use the below query to identify the sql's in the open cursors</h2>\n\n<pre><code> SELECT oc.sql_text, s.sid \n FROM v$open_cursor oc, v$session s\n WHERE OC.sid = S.sid\n AND s.sid=1604\n AND OC.USER_NAME ='SCHEMA_NAME_IN_CAPS'\n</code></pre>\n\n<p>Now debug the Code and Enjoy!!! :)</p>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 14397716, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/14397716#14397716", "tags": ["java", "jdbc"]}, {"body": "<p>query to find  sql that opened.</p>\n\n<pre><code>SELECT s.machine, oc.user_name, oc.sql_text, count(1) \nFROM v$open_cursor oc, v$session s\nWHERE oc.sid = s.sid\nand S.USERNAME='XXXX'\nGROUP BY user_name, sql_text, machine\nHAVING COUNT(1) &gt; 2\nORDER BY count(1) DESC\n</code></pre>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 14447435, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/14447435#14447435", "tags": ["java", "jdbc"]}, {"body": "<p>If your application is a Java EE application running on Oracle WebLogic as the application server, a possible cause for this issue is the <a href=\"http://docs.oracle.com/cd/E21764_01/web.1111/e13737/ds_tuning.htm#i1193250\" rel=\"nofollow\">Statement Cache Size</a> setting in WebLogic.</p>\n\n<p>If the Statement Cache Size setting for a particular data source is about equal to, or greater than, the Oracle database maximum open cursor count setting, then all of the open cursors can be consumed by cached SQL statements that are held open by WebLogic, resulting in the ORA-01000 error.</p>\n\n<p>To address this, reduce the Statement Cache Size setting for each WebLogic datasource that points to the Oracle database to be significantly less than the maximum cursor count setting on the database.</p>\n\n<p>In the WebLogic 10 Admin Console, the Statement Cache Size setting for each data source can be found at Services (left nav) > Data Sources > (individual data source) > Connection Pool tab.</p>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 18405661, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/18405661#18405661", "tags": ["java", "jdbc"]}, {"body": "<p>In our case, we were using Hibernate and we had many variables referencing the same Hibernate mapped entity. We were creating and saving these references in a loop. Each reference opened a cursor and kept it open.</p>\n\n<p>We discovered this by using a <a href=\"http://www.techpaste.com/2012/06/13/steps-solve-ora-01000-maximum-open-cursors-exceeded-issue-weblogic/?doing_wp_cron=1403729247.7885780334472656250000\" rel=\"nofollow\">query to check the number of open cursors</a> while running our code, stepping through with a debugger and selectively commenting things out.</p>\n\n<p>As to why each new reference opened another cursor - the entity in question had collections of other entities mapped to it and I think this had something to do with it (perhaps not just this alone but in combination with how we had configured the fetch mode and cache settings). Hibernate itself has had <a href=\"https://hibernate.atlassian.net/browse/HHH-8811\" rel=\"nofollow\">bugs around failing to close</a> open cursors, though it looks like these have been fixed in later versions.</p>\n\n<p>Since we didn't really need to have so many duplicate references to the same entity anyway, the solution was to stop creating and holding onto all those redundant references. Once we did that the problem when away.</p>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 24461134, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/24461134#24461134", "tags": ["java", "jdbc"]}, {"body": "<p>This problem mainly happens when you are using connection pooling because when you close connection that connection go back to the connection pool and all cursor associated with that connection never get closed as the connection to database is still open.\nSo one alternative is to decrease the idle connection time of connections in pool, so may whenever connection sits idle in connection for say 10 sec , connection to database will get closed and new connection created to put in pool. </p>\n", "title": "java.sql.SQLException: - ORA-01000: maximum open cursors exceeded", "answer_id": 25835414, "link": "http://stackoverflow.com/questions/12192592/java-sql-sqlexception-ora-01000-maximum-open-cursors-exceeded/25835414#25835414", "tags": ["java", "jdbc"]}], "question_id": 12192592}, {"body": "<p>I'm generating a CSV file (delimited by commas rather than tabs). My users will most likely open the CSV file in Excel by double clicking it. My data may contain commas and speech marks, so I'm escaping those as follows.</p>\n\n<pre><code>Reference, Title, Description\n1, \"My little title\", \"My description, which may contain \"\"speech marks\"\" and commas.\"\n2, \"My other little title\", \"My other description, which may also contain \"\"speech marks\"\" and commas.\"\n</code></pre>\n\n<p>As far as I know that's always been the way to do it. Here's my boggle: when I open this file in Excel 2010 my escaping is not respected. Speech marks appear on the sheet, and the comma causes new columns.</p>\n", "tags": ["java", "excel", "csv", "special-characters"], "title": "How should I escape commas and speech marks in CSV files so they work in Excel?", "answer_count": 4, "creation_date": 1347958236, "score": 64, "link": "http://stackoverflow.com/questions/12473480/how-should-i-escape-commas-and-speech-marks-in-csv-files-so-they-work-in-excel", "answers": [{"body": "<p>We eventually found the answer to this.</p>\n\n<p>Excel will only respect the escaping of commas and speech marks if the column value is NOT preceded by a space. So generating the file without spaces like this...</p>\n\n<pre><code>Reference,Title,Description\n1,\"My little title\",\"My description, which may contain \"\"speech marks\"\" and commas.\"\n2,\"My other little title\",\"My other description, which may also contain \"\"speech marks\"\" and commas.\"\n</code></pre>\n\n<p>... fixed the problem. Hope this helps someone!</p>\n", "title": "How should I escape commas and speech marks in CSV files so they work in Excel?", "answer_id": 12473481, "link": "http://stackoverflow.com/questions/12473480/how-should-i-escape-commas-and-speech-marks-in-csv-files-so-they-work-in-excel/12473481#12473481", "tags": ["java", "excel", "csv", "special-characters"]}, {"body": "<p>Below are the rules if you believe it's random. A utility function can be created on the basis of these rules.</p>\n\n<ol>\n<li><p>If the value contains a comma, newline or double quote, then the String value should be returned enclosed in double quotes.</p></li>\n<li><p>Any double quote characters in the value should be escaped with another double quote.</p></li>\n<li><p>If the value does not contain a comma, newline or double quote, then the\nString value should be returned unchanged.</p></li>\n</ol>\n", "title": "How should I escape commas and speech marks in CSV files so they work in Excel?", "answer_id": 21749399, "link": "http://stackoverflow.com/questions/12473480/how-should-i-escape-commas-and-speech-marks-in-csv-files-so-they-work-in-excel/21749399#21749399", "tags": ["java", "excel", "csv", "special-characters"]}, {"body": "<p>According to Yashu's instructions, I wrote the following function (it's PL/SQL code, but it should be easily adaptable to any other language).</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>FUNCTION field(str IN VARCHAR2) RETURN VARCHAR2 IS\n    C_NEWLINE CONSTANT CHAR(1) := '\n'; -- newline is intentional\n\n    v_aux VARCHAR2(32000);\n    v_has_double_quotes BOOLEAN;\n    v_has_comma BOOLEAN;\n    v_has_newline BOOLEAN;\nBEGIN\n    v_has_double_quotes := instr(str, '\"') &gt; 0;\n    v_has_comma := instr(str,',') &gt; 0;\n    v_has_newline := instr(str, C_NEWLINE) &gt; 0;\n\n    IF v_has_double_quotes OR v_has_comma OR v_has_newline THEN\n        IF v_has_double_quotes THEN\n            v_aux := replace(str,'\"','\"\"');\n        ELSE\n            v_aux := str;\n        END IF;\n        return '\"'||v_aux||'\"';\n    ELSE\n        return str;\n    END IF;\nEND;\n</code></pre>\n", "title": "How should I escape commas and speech marks in CSV files so they work in Excel?", "answer_id": 30461179, "link": "http://stackoverflow.com/questions/12473480/how-should-i-escape-commas-and-speech-marks-in-csv-files-so-they-work-in-excel/30461179#30461179", "tags": ["java", "excel", "csv", "special-characters"]}, {"body": "<p>Even after double quotes, I had this problem for a few days.</p>\n\n<p>Replaced Pipe Delimiter with Comma, then things worked fine.</p>\n", "title": "How should I escape commas and speech marks in CSV files so they work in Excel?", "answer_id": 33035066, "link": "http://stackoverflow.com/questions/12473480/how-should-i-escape-commas-and-speech-marks-in-csv-files-so-they-work-in-excel/33035066#33035066", "tags": ["java", "excel", "csv", "special-characters"]}], "question_id": 12473480}], "quota_max": 300, "page_size": 100, "quota_remaining": 271, "page": 1}