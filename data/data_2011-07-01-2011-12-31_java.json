{"has_more": true, "items": [{"body": "<p>If I run the following program, which parses two date strings referencing times one second apart and compares them:</p>\n\n<pre><code>public static void main(String[] args) throws ParseException {\n    SimpleDateFormat sf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");  \n    String str3 = \"1927-12-31 23:54:07\";  \n    String str4 = \"1927-12-31 23:54:08\";  \n    Date sDt3 = sf.parse(str3);  \n    Date sDt4 = sf.parse(str4);  \n    long ld3 = sDt3.getTime() /1000;  \n    long ld4 = sDt4.getTime() /1000;\n    System.out.println(ld4-ld3);\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>353\n</code></pre>\n\n<p>Why is <code>ld4-ld3</code> not <code>1</code> (as I would expect from the one-second difference in the times), but <code>353</code>?</p>\n\n<p>If I change the dates to times one second later:</p>\n\n<pre><code>String str3 = \"1927-12-31 23:54:08\";  \nString str4 = \"1927-12-31 23:54:09\";  \n</code></pre>\n\n<p>Then <code>ld4-ld3</code> will be <code>1</code>.</p>\n\n<hr>\n\n<p>Java version:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java version \"1.6.0_22\"\nJava(TM) SE Runtime Environment (build 1.6.0_22-b04)\nDynamic Code Evolution Client VM (build 0.2-b02-internal, 19.0-b04-internal, mixed mode)\n</code></pre>\n\n<p>Timezone(<code>TimeZone.getDefault()</code>):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sun.util.calendar.ZoneInfo[id=\"Asia/Shanghai\",\noffset=28800000,dstSavings=0,\nuseDaylight=false,\ntransitions=19,\nlastRule=null]\n\nLocale(Locale.getDefault()): zh_CN\n</code></pre>\n", "tags": ["java", "date", "timezone"], "title": "Why is subtracting these two times (in 1927) giving a strange result?", "answers": [{"body": "<p>It's a time zone change on December 31st in Shanghai.</p>\n\n<p>See <a href=\"http://www.timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\">this page</a> for details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So \"1927-12-31 23:54:08\" actually happened twice, and it looks like Java is parsing it as the <em>later</em> possible instant for that local date/time - hence the difference.</p>\n\n<p>Just another episode in the often weird and wonderful world of time zones.</p>\n\n<p><strong>EDIT:</strong> Stop the press! History changes...</p>\n\n<p>The original question would no longer demonstrate quite the same behaviour, if rebuilt with  version 2013a of <a href=\"https://code.google.com/p/noda-time/source/browse/src/NodaTime.Demo/StackOverflowExamples.cs\">TZDB</a>. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.</p>\n\n<p>I only noticed this because I'm collecting questions like this in Noda Time, in the form of <a href=\"https://code.google.com/p/noda-time/source/browse/src/NodaTime.Demo/StackOverflowExamples.cs\">unit tests</a>... The test has now been changed, but it just goes to show - not even historical data is safe.</p>\n\n<p><strong>EDIT:</strong> History has changed again...</p>\n\n<p>In TZDB 2014f, the time of the change has moved to 1900-12-31, and it's now a mere 343 second change (so the time between <code>t</code> and <code>t+1</code> is 344 seconds, if you see what I mean).</p>\n\n<p><strong>EDIT:</strong> To answer <a href=\"http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/6841479#comment22684267_6841479\">Ken Kin's question</a> around a transition at 1900... it looks like the Java timezone implementation treats <em>all</em> time zones as simply being in their standard time for any instant before the start of 1900 UTC:</p>\n\n<pre><code>import java.util.TimeZone;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        long startOf1900Utc = -2208988800000L;\n        for (String id : TimeZone.getAvailableIDs()) {\n            TimeZone zone = TimeZone.getTimeZone(id);\n            if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {\n                System.out.println(id);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn't rely on any idea of a \"fixed\" standard time (which is what <code>getRawOffset</code> assumes to be a valid concept) so other libraries needn't introduce this artificial transition.</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/6841479#6841479", "question_id": 6841333, "answer_id": 6841479}, {"body": "<p>You've encountered a <a href=\"http://timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927\">local time discontinuity</a>:</p>\n\n<blockquote>\n  <p>When local standard time was about to reach Sunday, 1. January 1928,\n  00:00:00 clocks were turned backward 0:05:52 hours to Saturday, 31.\n  December 1927, 23:54:08 local standard time instead</p>\n</blockquote>\n\n<p>This is not particularly strange and has happened pretty much everywhere at one time or another as timezones were switched or changed due to political or administrative actions.</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/6841572#6841572", "question_id": 6841333, "answer_id": 6841572}, {"body": "<p>The moral of this strangeness is:</p>\n\n<ul>\n<li>Use dates and times in UTC wherever possible.</li>\n<li>If you can not display a date or time in UTC, always indicate the time-zone.</li>\n<li>If you can not require an input date/time in UTC, require an explicitly indicated time-zone.</li>\n</ul>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/6858453#6858453", "question_id": 6841333, "answer_id": 6858453}, {"body": "<p>When incrementing time you should convert back to UTC and then add or subtract. Use the local time only for display.</p>\n\n<p>This way you will be able to walk through any periods where hours or minutes happen twice.</p>\n\n<p>If you converted to UTC, add each second, and convert to local time for display. You would go through 11:54:08 p.m. <a href=\"http://en.wikipedia.org/wiki/Local_mean_time\">LMT</a> - 11:59:59 p.m. LMT and then 11:54:08 p.m. <a href=\"http://en.wikipedia.org/wiki/Central_Time_Zone_%28North_America%29\">CST</a> - 11:59:59 p.m. CST.</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/6884599#6884599", "question_id": 6841333, "answer_id": 6884599}, {"body": "<p>Instead of converting each date, you use the following code </p>\n\n<pre><code>long i = (sDt4.getTime() - sDt3.getTime()) / 1000;\nSystem.out.println(i);\n</code></pre>\n\n<p>And see the result is:</p>\n\n<pre><code>1\n</code></pre>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/10612572#10612572", "question_id": 6841333, "answer_id": 10612572}, {"body": "<p>As explained by others, there's a time discontinuity there. There are two possible timezone offsets for <code>1927-12-31 23:54:08</code> at <code>Asia/Shanghai</code>, but only one offset for <code>1927-12-31 23:54:07</code>. So, depending on which offset is used, there's either a one second difference or a 5 minutes and 53 seconds difference.</p>\n\n<p>This slight shift of offsets, instead of the usual one-hour daylight savings (summer time) we are used to, obscures the problem a bit.</p>\n\n<p>Note that the 2013a update of the timezone database moved this discontinuity a few seconds earlier, but the effect would still be observable.</p>\n\n<p>The new <code>java.time</code> package on Java 8 let use see this more clearly, and provide tools to handle it. Given:</p>\n\n<pre><code>DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.append(DateTimeFormatter.ISO_LOCAL_DATE);\ndtfb.appendLiteral(' ');\ndtfb.append(DateTimeFormatter.ISO_LOCAL_TIME);\nDateTimeFormatter dtf = dtfb.toFormatter();\nZoneId shanghai = ZoneId.of(\"Asia/Shanghai\");\n\nString str3 = \"1927-12-31 23:54:07\";  \nString str4 = \"1927-12-31 23:54:08\";  \n\nZonedDateTime zdt3 = LocalDateTime.parse(str3, dtf).atZone(shanghai);\nZonedDateTime zdt4 = LocalDateTime.parse(str4, dtf).atZone(shanghai);\n\nDuration durationAtEarlierOffset = Duration.between(zdt3.withEarlierOffsetAtOverlap(), zdt4.withEarlierOffsetAtOverlap());\n\nDuration durationAtLaterOffset = Duration.between(zdt3.withLaterOffsetAtOverlap(), zdt4.withLaterOffsetAtOverlap());\n</code></pre>\n\n<p>Then <code>durationAtEarlierOffset</code> will be one second, while <code>durationAtLaterOffset</code> will be five minutes and 53 seconds.</p>\n\n<p>Also, these two offsets are the same:</p>\n\n<pre><code>// Both have offsets +08:05:52\nZoneOffset zo3Earlier = zdt3.withEarlierOffsetAtOverlap().getOffset();\nZoneOffset zo3Later = zdt3.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>But these two are different:</p>\n\n<pre><code>// +08:05:52\nZoneOffset zo4Earlier = zdt4.withEarlierOffsetAtOverlap().getOffset();\n\n// +08:00\nZoneOffset zo4Later = zdt4.withLaterOffsetAtOverlap().getOffset();\n</code></pre>\n\n<p>You can see the same problem comparing <code>1927-12-31 23:59:59</code> with <code>1928-01-01 00:00:00</code>, though, in this case, it is the earlier offset that produce the longer divergence, and it is the earlier date that has two possible offsets.</p>\n\n<p>Another way to approach this is to check whether there's a transition going on. We can do this like this:</p>\n\n<pre><code>// Null\nZoneOffsetTransition zot3 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n\n// An overlap transition\nZoneOffsetTransition zot4 = shanghai.getRules().getTransition(ld3.toLocalDateTime);\n</code></pre>\n\n<p>You can check whether the transition is an overlap - in which case there's more than one valid offset for that date/time - or a gap - in which case that date/time is not valid for that zone id - by using the <code>isOverlap()</code> and <code>isGap()</code> methods on <code>zot4</code>.</p>\n\n<p>I hope this helps people handle this sort of issue once Java 8 becomes widely available, or to those using Java 7 who adopt the JSR 310 backport.</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/20906129#20906129", "question_id": 6841333, "answer_id": 20906129}, {"body": "<p>I'm sorry to say that, but the time discontinuity has moved a bit in</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6_.28December_11.2C_2006.29\">JDK 6</a> two years ago, and in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7_.28July_28.2C_2011.29\">JDK 7</a> just recently in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#cite_note-131\">update 25</a>.</p>\n\n<p>Lesson to learn: avoid non-UTC times at all costs, except, maybe, for display.</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/21840785#21840785", "question_id": 6841333, "answer_id": 21840785}, {"body": "<p>IMHO the pervasive, <em>implicit</em> localization in Java is its single largest design flaw. It may be intended for user interfaces, but frankly, who really uses Java for user interfaces today except for some IDEs where you can basically ignore localization because programmers aren't exactly the target audience for it. You can fix it (especially on linux servers) by:</p>\n\n<ul>\n<li>export LC_ALL=C TZ=UTC</li>\n<li>set your system clock to UTC</li>\n<li>never use localized implementations unless absolutely necessary (ie for display only)</li>\n</ul>\n\n<p>To the <a href=\"https://www.jcp.org/\">Java Community Process</a> members I recommend:</p>\n\n<ul>\n<li>make localized methods not the default, but require the user to explicitly request localization.</li>\n<li>use UTF-8/UTC as the <em>FIXED</em> default instead because that's simply the default today. There is no reason to do something else, except if you want to produce threads like this.</li>\n</ul>\n\n<p>I mean, come on, aren't global static variables an anti-OO pattern? Nothing else are those pervasive defaults given by some rudimentary environment variables.......</p>\n", "title": "Why is subtracting these two times (in 1927) giving a strange result?", "tags": ["java", "date", "timezone"], "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/27153569#27153569", "question_id": 6841333, "answer_id": 27153569}], "creation_date": 1311754558, "score": 4533, "link": "http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result", "question_id": 6841333}, {"body": "<p>When I try opening <a href=\"http://www.eclipse.org/\">Eclipse</a>, a pop-up dialog states:</p>\n\n<blockquote>\n  <p>Failed to load the JNI shared library \"C:/JDK/bin/client/jvm.dll\"`.</p>\n</blockquote>\n\n<p>Following this, Eclipse force closes.</p>\n\n<p>Here's a few points I'd like to make:  </p>\n\n<ul>\n<li>I checked to see if anything exists at that path. It does exist.  </li>\n<li>My Eclipse and <a href=\"http://www.oracle.com/technetwork/java/javase/overview/index.html\">Java SE Development Kit</a> are both 64-bit. I checked my system, and it can handle 64-bit.  </li>\n<li>I've searched for this problem on Google and on Stack&nbsp;Overflow, and the only answer I found was to download the 32-bit versions of JDK and Eclipse.</li>\n</ul>\n\n<p>Downloading the 32-bit versions is something I only want to do as a very last resort.<br>\nWhat would be suggested to solve this issue?</p>\n", "tags": ["eclipse", "jni", "java"], "title": "Failed to load the JNI shared Library (JDK)", "answers": [{"body": "<p>You need a 64-bit trio: </p>\n\n<ul>\n<li>64-bit OS</li>\n<li>64-bit Java </li>\n<li>64-bit Eclipse</li>\n</ul>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/7385128#7385128", "question_id": 7352493, "answer_id": 7385128}, {"body": "<p>I had same problem</p>\n\n<p>I resolved it by installing 64 bit JVM from </p>\n\n<p><a href=\"http://www.java.com/en/download/manual.jsp\">http://www.java.com/en/download/manual.jsp</a></p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/7682142#7682142", "question_id": 7352493, "answer_id": 7682142}, {"body": "<p>I had a similar problem. It was solved doing the following.</p>\n\n<ul>\n<li>Move Eclipse to <em>Program Files</em> (not to <em>Program Files (x86)</em>).</li>\n<li>Remove the path to the 32-bit version of Java from the 'path' environment variable.</li>\n</ul>\n\n<p>I have both versions of Java installed, but Eclipse kept trying to use the 32-bit one.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/8307597#8307597", "question_id": 7352493, "answer_id": 8307597}, {"body": "<h1>Working pairings of OS, JDK and Eclipse:</h1>\n\n<hr>\n\n<ul>\n<li>32-bit OS - 32-bit JDK - 32-bit Eclipse (32-bit only)</li>\n<li>64-bit OS - 32-bit JDK - 32-bit Eclipse </li>\n<li>64-bit OS -  64-bit JDK - 64bit Eclipse (64-bit only)</li>\n</ul>\n\n<hr>\n\n<p>I had several JDKs and JREs installed.</p>\n\n<p>Each of them had their own entry in the PATH variable, all was working more or less.</p>\n\n<p>Judging from the PATH variables, some installations were completely useless, since they were never used. Of course, the \"inactive\" Javas could be referenced manually from within Eclipse if I needed, but I never did that, so I really did not need them. (At least I thought so at that time...)</p>\n\n<p>I cleaned up the mess, deinstalled all current Java's, installed only JDK + JRE 1.7 64-bit. </p>\n\n<p>One of the Eclipse 'installations' failed afterwards with the <code>Failed to Load the JNI shared Library</code> and a given path relative to the fresh installed JDK where it thought the <code>jvm.dll</code> to be.</p>\n\n<p><em><strong>The failing Eclipse was the only one of all my IDEs that was still a 32-bit version on my otherwise all-64-bit setup.</em></strong></p>\n\n<p>Adding VM arguments, like so often mentioned, in the <code>eclipse.ini</code> was no use in my case (because I had only the wrong JDK/JRE to relate to.)</p>\n\n<p>I was also unable to find out how to check if this Eclipse was a 32-bit or 64-bit version (I could not look it up in the <a href=\"http://en.wikipedia.org/wiki/Windows_Task_Manager\">Task Manager</a>, since this Eclipse 'installation' would not start up. And since it had been a while since I had set it up, I could not remember its version either.)</p>\n\n<p>In case you use a newer JDK and a older <a href=\"http://en.wikipedia.org/wiki/Java_Virtual_Machine#Execution_environment\">JRE</a> you might be in for trouble, too, but then it is more likely a <code>java.lang.UnsupportedClassVersionError</code> appears, <a href=\"http://en.wiktionary.org/wiki/IIRC\">IIRC</a>.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/8783215#8783215", "question_id": 7352493, "answer_id": 8783215}, {"body": "<p>Thank you <em>misterfrb</em>, I realised that Eclipse was giving this error, because I had just installed <a href=\"http://en.wikipedia.org/wiki/Oracle_Developer_Suite#Current_status\" rel=\"nofollow\">Oracle 10g Developer suite</a>, and it was looking for the <code>jvm.dll</code> file in the <code>C:\\DevSuiteHome_1</code> folder (I must have opted to install JDK again along with developer suite). </p>\n\n<p>After removing the DevSuiteHome lines from the paths variable and adding the correction location for 64-bit <code>jvm.dll</code> (not sure if this was necessary, didn't try without), Eclipse worked again, and Developer suite still does too.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/9547416#9547416", "question_id": 7352493, "answer_id": 9547416}, {"body": "<p>Make sure your eclipse.ini file includes the following lines.</p>\n\n<pre><code>-vm\nC:\\path\\to\\64bit\\java\\bin\\javaw.exe\n</code></pre>\n\n<p>My eclipse.ini for example:</p>\n\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.1.1.R36x_v20101122_1400.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.2.R36x_v20101222\n-product\norg.eclipse.epp.package.java.product\n--launcher.defaultAction\nopenFile\n--launcher.XXMaxPermSize\n256M\n-showsplash\norg.eclipse.platform\n-vm\nC:\\Program Files\\Java\\jdk1.6.0_32\\bin\\javaw.exe\n--launcher.XXMaxPermSize\n256m\n--launcher.defaultAction\nopenFile\n-vmargs\n-Dosgi.requiredJavaVersion=1.5\n-Xms40m\n-Xmx512m\n</code></pre>\n\n<p>Use OS and Eclipse both 64 bit or both 32 bit keep same and config <strong>eclipse.ini</strong>.</p>\n\n<p>Your eclipse.ini file can be found in your eclipse folder.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/9684710#9684710", "question_id": 7352493, "answer_id": 9684710}, {"body": "<p>As many folks already alluded to, this is a 32 vs. 64 bit problem for both <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow\">Eclipse</a> and <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"nofollow\">Java</a>. You cannot mix up 32 and 64 bit. Since Eclipse doesn't use <code>JAVA_HOME</code>, you'll likely have to alter your PATH prior to launching Eclipse to ensure you are using not only the appropriate version of Java, but also if 32 or 64 bit (or modify the INI file as Jayath noted).  </p>\n\n<p>If you are installing Eclipse from a company-share, you should ensure you can tell which Eclipse version you are unzipping, and unzip to the appropriate <em>Program Files</em> directory to help keep track of which is which, then change the PATH (either permanently via (Windows) Control Panel -> System or set <code>PATH=/path/to/32 or 64bit/java/bin;%PATH%</code> (maybe create a batch file if you don't want to set it in your system and/or user environment variables). Remember, 32-bit is in <em>Program files (x86)</em>.</p>\n\n<p>If unsure, just launch Eclipse, if you get the error, change your PATH to the other 'bit' version of Java, and then try again. Then move the Eclipse directory to the appropriate <em>Program Files</em> directory.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/9914805#9914805", "question_id": 7352493, "answer_id": 9914805}, {"body": "<p>Alternatively, get the same \"bit\" version of <a href=\"http://en.wikipedia.org/wiki/Java_Virtual_Machine#Execution_environment\" rel=\"nofollow\">JRE</a> and Eclipse and then create a new shortcut with the below target (replace the installed JRE and Eclipse location/path):</p>\n\n<pre><code>\"C:\\studio\\eclipse.exe\" -vm \"C:\\Program Files\\Java\\jre7\\bin\\server\\jvm.dll\" eclipse.vm=\"C:\\Program Files\\Java\\jre7\\bin\\server\\jvm.dll\" java.home=\"C:\\Program Files\\Java\\jre7\" java.runtime.version=1.7.0\n</code></pre>\n\n<p>That should do the trick.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/10232030#10232030", "question_id": 7352493, "answer_id": 10232030}, {"body": "<p>One of the easy ways to resolve it is to copy the <code>jre</code> folder from installed the JDK into the Eclipse installation folder. Make sure that JDK you copy from is the same architecture as your Eclipse installation.</p>\n\n<p>I had to configure my machine that way, because I run both Eclipse and <a href=\"http://en.wikipedia.org/wiki/Appcelerator_Titanium\" rel=\"nofollow\">Appcelerator Titanium Studio</a> on my machine. The Studio needs 32-bit Java, while Eclipse needs 64-bit.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/10341866#10341866", "question_id": 7352493, "answer_id": 10341866}, {"body": "<p>Sure, you need to have a compatible version of JDK and Eclipse, but you also need to add in the <code>eclipse.ini</code> file the below lines:</p>\n\n<pre><code>-vm\nyourdrive\\java\\bin\n</code></pre>\n\n<p>Make them the first two lines of your <code>eclipse.ini</code> file.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/10510458#10510458", "question_id": 7352493, "answer_id": 10510458}, {"body": "<p>Yes, just make sure your versions of Eclipse and <a href=\"http://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow\">JDK</a> are both 64-bit. Just to make sure everything is correct uninstalled JDK and install it in <em>Program Files</em> and not in <em>Program Files (x86)</em>. At least that resolved my problem.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/10574882#10574882", "question_id": 7352493, "answer_id": 10574882}, {"body": "<p>You can solve that problem as many other replicated. You need that <strong>Eclipse and the <a href=\"http://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow\">JDK</a> be 32-bits or both on 64-bits</strong>. The architecture of the OS doesn't matter while the others remains on the same type of arquitecture.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/10932702#10932702", "question_id": 7352493, "answer_id": 10932702}, {"body": "<p>Another option is:</p>\n\n<p>Create a shortcut to the Eclipse.exe. Open the shortcut and change the target to:</p>\n\n<pre><code>\"C:\\Program Files\\eclipse\\eclipse.exe\" -vm \"c:\\Program Files\\Java\\jdk1.7.0_04\\bin\\javaw.exe\"\n</code></pre>\n\n<p>For your installation, make sure the locations point to the correct Eclipse installation directory and the correct <code>javaw.exe</code> installation directory. </p>\n\n<p>(The 64/32 bit versions of Eclipse and Java need to be the same, of course.)</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/11136189#11136189", "question_id": 7352493, "answer_id": 11136189}, {"body": "<p>You can install the 32-bit version of <a href=\"http://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow\">JDK</a> on a 64-bit machine. See <em><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1637583.html\" rel=\"nofollow\">JDK 7 downloads</a></em>.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/11841614#11841614", "question_id": 7352493, "answer_id": 11841614}, {"body": "<p>Downloaded 64 bit JVM from site and installed it manually and updated the system path variable. That solved the issue. </p>\n\n<ol>\n<li>Default JVM is installed in my system was in \"C:\\Program Files<br>\n(x86)\\Java\\jre7\" </li>\n<li>Manually installed JVM got installed in\n\"C:\\Program Files\\Java\\jre7\" and after updating this pate to system\npath variable it worked.</li>\n</ol>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/12157366#12157366", "question_id": 7352493, "answer_id": 12157366}, {"body": "<p>Just check the PATH environment variable. In <em>My Computer</em> - > <em>Properties</em> -> <em>Advanced System</em> settings -> <em>Environment Variables</em> -> (left upper window \"User Variables for \"some name of PC\"\" ) just check the PATH variable. If it doesn't exist create it with the following -- > C:\\Program Files (x86)\\Java\\jre7\\bin &lt;--</p>\n\n<p>I was faced with the same problem after had updated my Eclipse. I've found that the path asked 64-bit version, but I had the 32-bit in dif path. It was helpful for me. P.S.: I have a 64-bit OS, 32-bit JRE and 32-bit Eclipse. All works fine :)</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/12519703#12519703", "question_id": 7352493, "answer_id": 12519703}, {"body": "<p>You should uninstall all old [JREs][1] and then install the newest one... I had the same problem and now I solve it. I've:</p>\n\n<p>Better install Jre 6 32 bit. It really works.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/12539825#12539825", "question_id": 7352493, "answer_id": 12539825}, {"body": "<p>I have multiple versions of Java installed, both Sun JDK &amp; JRockit, both 32 bit and 64-bit, etc. and ran into this problem with a fresh install of 64-bit Eclipse for Java EE (JUNO). </p>\n\n<h2>What did <em>NOT</em> work:</h2>\n\n<p>64-bit trio as suggested by Peter Rader: </p>\n\n<p>I'm using 64-bit Eclipse on 64-bit OS (Windows 7). </p>\n\n<p>I ensured Sun JDK 7 64-bit was the default java version.  When I typed \"java -version\" from command line (cmd.exe), Sun JDK 7 64-bit was returned...</p>\n\n<pre><code>java version \"1.7.0\"\nJava(TM) SE Runtime Environment (build 1.7.0-b147)\nJava HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode)\n</code></pre>\n\n<p>This did not resolve the problem for me.</p>\n\n<h2>What <em>DID</em> work:</h2>\n\n<p>Adding -vm option to eclipse.ini as suggested by Jayesh Kavathiya: </p>\n\n<p>I added the following to eclipse.ini:</p>\n\n<pre><code>-vm\nC:/apps/java/jdk7-64bit/bin/javaw.exe\n</code></pre>\n\n<h2>Note:</h2>\n\n<p>I did not have to uninstall any of the various versions of JDK or JRE I have on my machine.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/12696866#12696866", "question_id": 7352493, "answer_id": 12696866}, {"body": "<p>On the download page of Eclipse, it should be written \"JRE 32 bits\" or \"JRE 64 bits\" and not \"Windows 32 bits\" or \"Windows 64 bits\".</p>\n\n<p>Be sure to use the correct version compatible with your JDE, as answered previously. </p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/13101360#13101360", "question_id": 7352493, "answer_id": 13101360}, {"body": "<p>Make sure you are starting Eclipse with Administrator rights.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/13327678#13327678", "question_id": 7352493, "answer_id": 13327678}, {"body": "<p>And for <a href=\"http://en.wikipedia.org/wiki/PHP_Development_Tools\" rel=\"nofollow\">PDT</a> users - <strong>avoid</strong> the <a href=\"http://www.zend.com/en/community/pdt/downloads\" rel=\"nofollow\">Zend download page</a> - it doesn't have any 64-bit downloads linked.</p>\n\n<p><strike>Use the <a href=\"http://www.eclipse.org/downloads/packages/eclipse-php-developers/heliosr\" rel=\"nofollow\">Elipse site itself</a>.</strike></p>\n\n<p>The above link had an older 3.6 Eclipse which then failed to update itself due to <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=317785\" rel=\"nofollow\">Eclipse Bug #317785</a>.</p>\n\n<p>My solution was to just install 32-bit Java alongside 64-bit - this allowed the <a href=\"http://en.wikipedia.org/wiki/Zend_Framework\" rel=\"nofollow\">Zend</a> installer to work.</p>\n\n<p>It's depressing that amount of Java / Eclipse cruft one has to go through to get a PHP IDE.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/14443755#14443755", "question_id": 7352493, "answer_id": 14443755}, {"body": "<p>The answers above me got me tempted so much, that I decided to dry run all the possible combinations with OS, <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow\">Eclipse</a> and <a href=\"http://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow\">JVM</a> trio. Anyway, whoever is digging down and reading my post, check the following as a hot spot (I am Windows&nbsp;7 user).</p>\n\n<ol>\n<li><p>You understand <em>Program Files</em> and <em>Program File (x86)</em> are two different folders... <em>x86</em> stands for the 32-bit version of programs and the former is the 64-bit version.</p></li>\n<li><p>If you have multiple versions of <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"nofollow\">Java</a> installed with different bitness and release versions, which is bound to happen with so many open source <a href=\"http://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow\">IDEs</a>, managers, administrative consoles, the best option is to set the VM argument directly in the <code>eclipse.ini</code> file. If you don't, Eclipse will go crazy and try searching itself which is not good.</p></li>\n</ol>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/14495366#14495366", "question_id": 7352493, "answer_id": 14495366}, {"body": "<p>Simple, I have a 64-bit OS, 32-bit <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow\">Eclipse</a> and both JDK 32 &amp; 64 installed... I just uninstalled the 64-bit JDK and Eclipse is working fine..</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/14514372#14514372", "question_id": 7352493, "answer_id": 14514372}, {"body": "<p>I have experienced all of the Eclipse errors and this is one of them. The problem is Eclipse 64-bit version. Download the 32-bit version and launch it.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/14883894#14883894", "question_id": 7352493, "answer_id": 14883894}, {"body": "<p>If you use whole 64-bit trio and it still doesn't work (I've come to this problem while launching Android Monitor in Intellij Idea), probably wrong jvm.dll is being used opposed to what your java expects. Just follow these steps:</p>\n\n<ol>\n<li><p>Find the jvm.dll in your JRE directory:\n<code>C:\\Program Files\\Java\\jre7\\server\\bin\\jvm.dll</code></p></li>\n<li><p>Find the jvm.dll in your JDK directory:\n<code>c:\\Program Files\\Java\\jdk1.7.0_xx\\jre\\bin\\server\\</code></p></li>\n<li><p>Copy the <code>jvm.dll</code> from JRE drectory into your JDK directory and overwrite the jvm.dll in JDK.</p></li>\n</ol>\n\n<p>Don't forget to make a backup, just in case. No need to install or uninstall anything related to Java.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/15117399#15117399", "question_id": 7352493, "answer_id": 15117399}, {"body": "<p>For a missing <code>jvm.dll</code> file, we can provide the path of the dll file in <code>eclipse.ini</code> file as</p>\n\n<pre><code>-vm\nC:\\Progra~1\\Java\\jdk1.6.0_38\\jre\\bin\\server\\jvm.dll\n</code></pre>\n\n<p>Here it is important to remove any space in the path and the double quotes.\nIt worked for me when i removed the quotes and space.</p>\n\n<p>I hope it helps someone.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/15218644#15218644", "question_id": 7352493, "answer_id": 15218644}, {"body": "<p>I had the same issue after upgrading from Java 6 to Java 7. After I removed Java 6 (64 bit) and reinstalled Java 7 (64 bit), Eclipse worked. :)</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/15664783#15664783", "question_id": 7352493, "answer_id": 15664783}, {"body": "<p>The same occurred to me. I had 64-bit Eclipse, but my JDK was 32-bit. So I installed the 64-bit version and it's OK right now.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/18871229#18871229", "question_id": 7352493, "answer_id": 18871229}, {"body": "<p>It is crucial to add the -vm parameter and its value on 2 lines AT THE BEGINNING of the eclipse.ini</p>\n\n<p>-vm\nC:\\Program Files\\Java\\jdk1.7.0_45\\bin\\javaw.exe</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/19817771#19817771", "question_id": 7352493, "answer_id": 19817771}, {"body": "<p>I had the same problem. with 64bit os all should be 64bit.\nJava and Eclipse. \nI tried all the methods in stackoverflow and also in youtube. non of them worked for me untill i found this easy method.</p>\n\n<p>I installed 64bit java form Cnet download and the problem was automatically fixed.\nI mentioned the source because it is too easy to google and go to first Cnet lint rather than oficial site if you are a new bee. </p>\n\n<p>p.s. if you have Android ADT bundle and tried to open eclipse from it and got the same error, you can fix that problem too with this method.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/20582230#20582230", "question_id": 7352493, "answer_id": 20582230}, {"body": "<p>I'm not sure why but I had the jre installed into my c:\\windows directory and java.exe and javaw.exe inside my windows\\system32 directory.</p>\n\n<p>Obviously these directories were getting priority even AFTER adding the -vm flag to my eclipse.ini file.</p>\n\n<p>Delete them from here fixed the issue for me.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/22858464#22858464", "question_id": 7352493, "answer_id": 22858464}, {"body": "<p>In my case, I tried to launch java from the command prompt and got this error</p>\n\n<blockquote>\n  <p>Error: could not open \"C:\\Windows\\jre\\lib\\amd64\\jvm.cfg\"</p>\n</blockquote>\n\n<p>It meant \"java\" was looked for in the PATH starting at this wrong directory. Deleting the folder C:\\Windows\\jre\\ solved the issue</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/22953629#22953629", "question_id": 7352493, "answer_id": 22953629}, {"body": "<p>The easiest solution is to include a specific JRE in eclipse.ini:</p>\n\n<p><a href=\"http://wiki.eclipse.org/Eclipse.ini\" rel=\"nofollow\">wiki.eclipse.org/Eclipse.ini</a></p>\n\n<p>With this, you can start almost any Eclipse version</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/23061844#23061844", "question_id": 7352493, "answer_id": 23061844}, {"body": "<p>You have change proper version of the JAVA_HOME and PATH in environmental variables.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/25782576#25782576", "question_id": 7352493, "answer_id": 25782576}, {"body": "<p>This error means that the architecture of Eclipse does not match the architecture of the Java runtime, i.e. if one is 32-bit the other must be the same, and not 64-bit.</p>\n\n<p>The most reliable fix is to specify the JVM location in eclipse.ini:</p>\n\n<pre><code>-vm\nC:\\Program Files (x86)\\Java\\jdk1.7.0_55\\bin\\javaw.exe\n</code></pre>\n\n<p><strong>Important:</strong> These two lines must come <em>before</em> -vmargs. Do not use quotes; spaces are allowed.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/27031126#27031126", "question_id": 7352493, "answer_id": 27031126}, {"body": "<p>This error we are getting because of different Java version download 32-bit version.</p>\n", "title": "Failed to load the JNI shared Library (JDK)", "tags": ["eclipse", "jni", "java"], "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk/38292107#38292107", "question_id": 7352493, "answer_id": 38292107}], "creation_date": 1315504935, "score": 744, "link": "http://stackoverflow.com/questions/7352493/failed-to-load-the-jni-shared-library-jdk", "question_id": 7352493}, {"body": "<p>Can <code>@Component</code>, <code>@Repository</code> &amp; <code>@Service</code> annotations be used interchangeably in Spring or do they provide any particular functionality besides acting as a notation device?</p>\n\n<p>In other words, if I have a Service class and I change the annotation from <code>@Service</code> to <code>@Component</code>, will it still behave the same way? </p>\n\n<p>Or does the annotation also influence the behavior and functionality of the class?</p>\n", "tags": ["java", "spring", "spring-mvc", "annotations"], "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "answers": [{"body": "<p>They are almost the same - all of them mean that the class is a Spring bean. <code>@Service</code>, <code>@Repository</code> and <code>@Controller</code> are specialized <code>@Component</code>s. You can choose to perform specific actions with them. For example:</p>\n\n<ul>\n<li><code>@Controller</code> beans are used by spring-mvc</li>\n<li><code>@Repository</code> beans are eligible for persistence exception translation</li>\n</ul>\n\n<p>Another thing is that you designate the components semantically to different layers.</p>\n\n<p>One thing that <code>@Component</code> offers is that you can annotate other annotations with it, and then use them the same way as <code>@Service</code>.</p>\n\n<p>For example recently I made:</p>\n\n<pre><code>@Component\n@Scope(\"prototype\")\npublic @interface ScheduledJob {..}\n</code></pre>\n\n<p>So all classes annotated with <code>@ScheduledJob</code> are spring beans and in addition to that are registered as quartz jobs. You just have to provide code that handles the specific annotation.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/6827820#6827820", "question_id": 6827752, "answer_id": 6827820}, {"body": "<p>From <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/beans.html#beans-stereotype-annotations\">Spring Documentation</a>:</p>\n\n<blockquote>\n  <p>In Spring 2.0 and later, the @Repository annotation is a marker for\n  any class that fulfills the role or stereotype (also known as Data\n  Access Object or DAO) of a repository. Among the uses of this marker\n  is the automatic translation of exceptions.</p>\n  \n  <p>Spring 2.5 introduces further stereotype annotations: @Component,\n  @Service, and @Controller. @Component is a generic stereotype for any\n  Spring-managed component. @Repository, @Service, and @Controller are\n  specializations of @Component for more specific use cases, for\n  example, in the persistence, service, and presentation layers,\n  respectively.</p>\n  \n  <p>Therefore, you can annotate your component classes with @Component,\n  but by annotating them with @Repository, @Service, or @Controller\n  instead, your classes are more properly suited for processing by tools\n  or associating with aspects. For example, these stereotype annotations\n  make ideal targets for pointcuts.</p>\n  \n  <p>Thus, if you are choosing between using @Component or @Service for\n  your service layer, @Service is clearly the better choice. Similarly,\n  as stated above, @Repository is already supported as a marker for\n  automatic exception translation in your persistence layer.</p>\n</blockquote>\n\n<pre><code>| Annotation | Meaning                                             |\n+------------+-----------------------------------------------------+\n| @Component | generic stereotype for any Spring-managed component |\n| @Repository| stereotype for persistence layer                    |\n| @Service   | stereotype for service layer                        |\n| @Controller| stereotype for presentation layer (spring-mvc)      |\n</code></pre>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/6897038#6897038", "question_id": 6827752, "answer_id": 6897038}, {"body": "<p>Use of <code>@Service</code> and <code>@Repository</code> annotations are important from database connection perspective.</p>\n\n<ol>\n<li>Use <code>@Service</code> for all your web service type of DB connections</li>\n<li>Use <code>@Repository</code> for all your stored proc DB connections</li>\n</ol>\n\n<p>If you do not use the proper annotations, you may face commit exceptions overridden by rollback transactions. You will see exceptions during stress load test that is related to roll back JDBC transactions.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/13198943#13198943", "question_id": 6827752, "answer_id": 13198943}, {"body": "<blockquote>\n  <p>Spring 2.5 introduces further stereotype annotations: @Component, @Service and @Controller. @Component serves as a generic stereotype for any Spring-managed component; whereas, @Repository, @Service, and @Controller serve as specializations of @Component for more specific use cases (e.g., in the persistence, service, and presentation layers, respectively). What this means is that you can annotate your component classes with @Component, but by annotating them with @Repository, @Service, or @Controller instead, your classes are more properly suited for processing by tools or associating with aspects. For example, these stereotype annotations make ideal targets for pointcuts. Of course, it is also possible that @Repository, @Service, and @Controller may carry additional semantics in future releases of the Spring Framework. Thus, if you are making a decision between using @Component or @Service for your service layer, @Service is clearly the better choice. Similarly, as stated above, @Repository is already supported as a marker for automatic exception translation in your persistence layer.</p>\n\n<pre><code>@Component \u2013 Indicates a auto scan component.\n@Repository \u2013 Indicates DAO component in the persistence layer.\n@Service \u2013 Indicates a Service component in the business layer.\n@Controller \u2013 Indicates a controller component in the presentation layer.\n</code></pre>\n</blockquote>\n\n<p>reference :- <a href=\"http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch04s12.html\">http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch04s12.html</a></p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/16565447#16565447", "question_id": 6827752, "answer_id": 16565447}, {"body": "<p>Even if we interchange @Component or @Repository or @service</p>\n\n<p>It will behave the same , but one aspect is that they wont be able to catch some specific exception related to DAO instead of Repository if we use component or @ service</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/21684996#21684996", "question_id": 6827752, "answer_id": 21684996}, {"body": "<p>In Spring <code>@Component</code>, <code>@Service</code>, and <code>@Controller</code>. <code>@Component</code> are Stereotype annotations which is used for:</p>\n\n<p><code>@Controller:</code> where your <strong>request</strong> <strong>mapping from presentation page</strong> done i.e. Presentation layer won't go to any other file it goes directly to <code>@Controller</code> class and check for requested path in <code>@RequestMapping</code> annotation which written before method calls if necessary.</p>\n\n<p><code>@Service</code>: All business logic is here i.e. Data related calculations and all.This annotation of business layer in which our user not directly call persistence method so it will call this methods using this annotation. <strong>It will request @Repository as per user request</strong></p>\n\n<p><code>@Repository</code>:This is Persistence layer(Data Access Layer) of application which used to get data from database. i.e. <strong>all the Database related operations are done by repository.</strong></p>\n\n<p><code>@Component</code> - Annotate your other components (for example REST resource classes) with component stereotype.</p>\n\n<p><a href=\"http://i.stack.imgur.com/nXfyV.jpg\"><img src=\"http://i.stack.imgur.com/nXfyV.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/22628498#22628498", "question_id": 6827752, "answer_id": 22628498}, {"body": "<p>@Component is equivalent to </p>\n\n<pre><code>&lt;bean&gt;\n</code></pre>\n\n<p><strong>@Service, @Controller , @Repository = {@Component + some more special functionality}</strong></p>\n\n<p>That mean Service,Controller and Repository are functionally the same. </p>\n\n<p>The three annotations are used to separate <strong>\"Layers\"</strong> in your application, </p>\n\n<ul>\n<li>Controllers just do stuff like dispatching, forwarding, calling service methods etc.</li>\n<li>Service Hold business Logic, Calculations etc.</li>\n<li>Repository are the DAOs(Data Access Objects), they access the database directly.</li>\n</ul>\n\n<p>Now you may ask why separate them:(I assume you know AOP-Aspect Oriented Programming) </p>\n\n<p>Lets say you want to Monitors the Activity of the DAO Layer only. You will write an Aspect(A class) class that does some logging before and after every method of your DAO is invoked, you are able to do that using AOP as you have three distinct Layers and are not mixed.</p>\n\n<p>So you can do logging of DAO  \"around\", \"before\" or \"after\" the DAO methods. You could do that because you had a DAO in the first place. What you just achieved is <strong>Separation of concerns or tasks.</strong></p>\n\n<p>Imagine if there were only one annotation @Controller, then this component will have dispatching, business logic and accessing database all mixed, so dirty code!</p>\n\n<p><em>Above mentioned is one very common scenario, there are many more use cases of why to use three annotations.</em></p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/23821409#23821409", "question_id": 6827752, "answer_id": 23821409}, {"body": "<p><strong>@Repository</strong> <strong>@Service</strong> and <strong>@Controller</strong> are serves as specialization of @Component for more specific use on that basis you can replace @Service to @Component but in this case you loose the specialization.</p>\n\n<pre><code>1. **@Repository**   - Automatic exception translation in your persistence layer.\n2. **@Service**      - It indicates that the annotated class is providing a business service to other layers within the application.\n</code></pre>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/24823877#24823877", "question_id": 6827752, "answer_id": 24823877}, {"body": "<pre><code>@Component \u2013 Indicates a auto scan component.  \n@Repository \u2013 Indicates DAO component in the persistence layer.  \n@Service \u2013 Indicates a Service component in the business layer.   \n@Controller \u2013 Indicates a controller component in the presentation layer.  \n</code></pre>\n\n<p>You will noticed that all <code>@Repository</code>,<code>@Service</code> or <code>@Controller</code> are annotated with <code>@Component</code>. So, can we use just <code>@Component</code> for all the components for auto scanning? Yes, you can, and Spring will auto scan all your components with @Component annotated.</p>\n\n<p>It\u2019s working fine, but not a good practice, for readability, you should always declare <code>@Repository</code>,<code>@Service</code> or <code>@Controller</code> for a specified layer to make your code more easier to read.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/27511165#27511165", "question_id": 6827752, "answer_id": 27511165}, {"body": "<p>In a multitier application, we will have different layers like presentation, service, business, data access etc. When a class is to be annotated for auto-detection by Spring, then we should use the respective stereotype as below.</p>\n\n<ul>\n<li>@Component \u2013 generic and can be used across application.</li>\n<li>@Service \u2013 annotate classes at service layer level.</li>\n<li>@Controller \u2013 annotate classes at presentation layers level, mainly used in Spring MVC.</li>\n<li>@Repository \u2013 annotate classes at persistence layer, which will act as database repository.</li>\n</ul>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/28696242#28696242", "question_id": 6827752, "answer_id": 28696242}, {"body": "<p>Spring <strong>@Component, @Service, @Repository and @Controller</strong> annotations are used for automatic bean detection using classpath scan in Spring framework. </p>\n\n<p>@Component is a generic annotation. Difference of @Service, @Repository, @Controller with @Component is they are special cases of @Component and used for particular purposes. The difference is just classification only.</p>\n\n<p>For all these annotations (stereotypes), technically the core purpose is same. Spring automatically scans and identifies all these classes that are annotated with \u201c @Component, @Service, @Repository, @Controller\u201d  and registers Bean Definition with ApplicationContext.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/29408512#29408512", "question_id": 6827752, "answer_id": 29408512}, {"body": "<p>all these annotations are type of stereo type type of annotation,the difference between these three annotations are </p>\n\n<ul>\n<li>If we add the @Component then it tells the role of class is a component class it means it is a class consisting some logic,but it does not tell whether a class containing a specifically business or persistence or controller logic so we don't use directly this @Component annotation</li>\n<li>If we add @Service annotation then it tells that a role of class consisting business logic</li>\n<li>If we add @Repository on top of class then it tells that a class consisting persistence logic</li>\n<li>Here @Component is a base annotation for @Service,@Repository and @Controller annotations</li>\n</ul>\n\n<p>for example </p>\n\n<pre><code>package com.spring.anno;\n@Service\npublic class TestBean\n{\n    public void m1()\n    {\n       //business code\n    }\n}\n\npackage com.spring.anno;\n@Repository\npublic class TestBean\n{\n    public void update()\n    {\n       //persistence code\n    }\n}\n</code></pre>\n\n<ul>\n<li>whenever we adds the @Service or @Repositroy or @Controller annotation by default @Component annotation is going to existence on top of the class</li>\n</ul>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/29867697#29867697", "question_id": 6827752, "answer_id": 29867697}, {"body": "<p><strong>Difference Between @Component, @Service and @Repository</strong></p>\n\n<p>Major difference between these stereotypes is they are used for different classification.</p>\n\n<p>In a multitier application, we will have different layers like presentation, service, business, data access etc. When a class is to be annotated for auto-detection by Spring, then we should use the respective stereotype as below.</p>\n\n<p><code>@Component</code> \u2013 generic and can be used across application.<br />\n<code>@Service</code> \u2013 annotate classes at service layer level.<br />\n<code>@Repository</code> \u2013 annotate classes at persistence layer, which will act as database repository.</p>\n\n<p>If technically they are going to be same then why do we need to use these at different layers level. Why not use the same at all layers. For example, if we use <code>@Service</code> in all layers, all the beans will get instantiated and no issues. There is a minor difference, for example consider <code>@Repository</code>.</p>\n\n<p><em>The postprocessor automatically looks for all exception translators (implementations of the PersistenceExceptionTranslator interface) and advises all beans marked with the <code>@Repository</code> annotation so that the discovered translators can intercept and apply the appropriate translation on the thrown exceptions.</em></p>\n\n<p>Similar to the above, in future Spring may choose to add value for <code>@Service</code>, <code>@Controller</code> and <code>@Repository</code> based on their layering conventions. To that additional feature advantage its better to respect the convention and use them in line with layers.</p>\n\n<p>Other than the above, with respect to scan-auto-detection, dependency injection for BeanDefinition <code>@Component</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code> are same.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/33051821#33051821", "question_id": 6827752, "answer_id": 33051821}, {"body": "<p>There is no difference between @Component,@Service,@Controller,@Repository.\n@Component is the Generic annotation to represent the component of our MVC. But there will be several components as part of our MVC application like service layer components, persistence layer components and presentation layer components. So to differentiate them Spring people have given the other three annotations also.</p>\n\n<p>To represent persistence layer components : @Repository</p>\n\n<p>To represent service layer components : @Service</p>\n\n<p>To represent presentation layer components : @Controller</p>\n\n<p>or else you can use @Component for all of them.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/33931001#33931001", "question_id": 6827752, "answer_id": 33931001}, {"body": "<p>Spring provides four different types of auto component scan annotations, they are <code>@Component</code>, <code>@Service</code>, <code>@Repository</code> and <code>@Controller</code>. Technically, there is no difference between them, but every auto component scan annotation should be used for a special purpose and with in the defined layer. </p>\n\n<p><code>@Component</code>: It is a basic auto component scan annotation, it indicates annotated class is a auto scan component.</p>\n\n<p><code>@Controller</code>: Annotated class indicates that it is a controller components, and mainly used at presentation layer.</p>\n\n<p><code>@Service</code>: It indicates annotated class is a Service component in the business layer.</p>\n\n<p><code>@Repository</code>: You need to use this annotation with in the persistence layer, this acts like database repository.</p>\n\n<p>One should choose more specialised form of <code>@Component</code> while annotating their class as this annotation may contain specific behavior going forward.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/34573538#34573538", "question_id": 6827752, "answer_id": 34573538}, {"body": "<p>We can answer this according to java standard</p>\n\n<p>Referring to <code>JSR-330</code>, which is now supported by spring, you can only use <code>@Named</code> to define a bean (Some how <code>@Named=@Component</code>). So according to this standard there seems that there is no use to define stereo types (like <code>@Repository</code>, <code>@Service</code>, <code>@Controller</code>) to categories beans. </p>\n\n<p>But spring define these stereotypes to </p>\n\n<ol>\n<li>Help developers define a better category for the competent. This categorizing may be come helpful in some cases. (For example when you are using <code>aspect oriented</code>, these can be good candidate for <code>point cuts</code>)</li>\n<li>Currently only <code>@Repository</code> annotation will add some functionality to your bean (some automatic exception translation to your bean persistence layer).</li>\n</ol>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/37018430#37018430", "question_id": 6827752, "answer_id": 37018430}, {"body": "<p>In Spring 4, latest version:</p>\n\n<blockquote>\n  <p>The @Repository annotation is a marker for any class that fulfills the\n  role or stereotype of a repository (also known as Data Access Object\n  or DAO). Among the uses of this marker is the automatic translation of\n  exceptions as described in Section 20.2.2, \u201cException translation\u201d.</p>\n  \n  <p>Spring provides further stereotype annotations: @Component, @Service,\n  and @Controller. @Component is a generic stereotype for any\n  Spring-managed component. @Repository, @Service, and @Controller are\n  specializations of @Component for more specific use cases, for\n  example, in the persistence, service, and presentation layers,\n  respectively. Therefore, you can annotate your component classes with\n  @Component, but by annotating them with @Repository, @Service, or\n  @Controller instead, your classes are more properly suited for\n  processing by tools or associating with aspects. For example, these\n  stereotype annotations make ideal targets for pointcuts. It is also\n  possible that @Repository, @Service, and @Controller may carry\n  additional semantics in future releases of the Spring Framework. Thus,\n  if you are choosing between using @Component or @Service for your\n  service layer, @Service is clearly the better choice. Similarly, as\n  stated above, @Repository is already supported as a marker for\n  automatic exception translation in your persistence layer.</p>\n</blockquote>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/37918997#37918997", "question_id": 6827752, "answer_id": 37918997}, {"body": "<p>As many of the answers here states what these annotations are used for, I\u2019m going to point out some minor differences between them.  </p>\n\n<blockquote>\n  <p>First the <strong>Similarity</strong>   </p>\n  \n  <p>First point that I\u2019d like to highlight again is that <strong>with respect to scan-auto-detection and dependency injection for BeanDefinition</strong> all these annotation (viz., @Component, @Service,\n  @Repository, @Controller) are all the same. <strong>You can use one in place\n  of another and can still get your way around.</strong></p>\n</blockquote>\n\n<hr>\n\n<h2>Differences between @Component, @Repository, @Controller and @Service</h2>\n\n<blockquote>\n  <p><strong>@Component</strong></p>\n</blockquote>\n\n<p>This is a general-purpose stereotype annotation indicating that the class is spring component.</p>\n\n<p><strong><em>What\u2019s special about @Component</em></strong><br>\n<code>&lt;context:component-scan&gt;</code> only scans <code>@Component</code> and do not looks for <code>@Controller</code>, <code>@Service</code> and <code>@Repository</code> in general. They are scanned because they themselves are annotated with <code>@Component</code>.</p>\n\n<p>Just take a look at <code>@Controller</code>, <code>@Service</code> and <code>@Repository</code> annotation definition</p>\n\n<pre><code>@Component\npublic @interface Service {\n    \u2026.\n}\n</code></pre>\n\n<p>\u00a0</p>\n\n<pre><code>@Component\npublic @interface Repository {\n    \u2026.\n}\n</code></pre>\n\n<p>\u00a0</p>\n\n<pre><code>@Component\npublic @interface Controller {\n    \u2026\n}\n</code></pre>\n\n<p>Thus it\u2019s not wrong to say that <code>@Controller</code>, <code>@Service</code> and <code>@Repository</code> are special type of <code>@Component</code> annotation. <code>&lt;context:component-scan&gt;</code> picks them up and registers their following classes as beans, just as if they were annotated with <code>@Component</code>.</p>\n\n<p>They are scanned because they themselves are annotated with <code>@Component</code> annotation. If you define your own custom annotation and annotate it with <code>@Component</code>, then it will also get scanned with <code>&lt;context:component-scan&gt;</code></p>\n\n<hr>\n\n<blockquote>\n  <p><strong>@Repository</strong></p>\n</blockquote>\n\n<p>This is to indicate that the class defines a data repository.</p>\n\n<p><strong><em>What\u2019s special about @Repository?</em></strong>  </p>\n\n<p>In addition to point out that this is an <em>Annotation based Configuration</em>, <code>@Repository</code>\u2019s job is to catch Platform specific exceptions and re-throw them as one of Spring\u2019s unified unchecked exception. And for this, we\u2019re provided with <code>PersistenceExceptionTranslationPostProcessor</code>, that we\u2019re required to add in our Spring\u2019s application context like this:</p>\n\n<pre><code>&lt;bean class=\u201dorg.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\u201d/&gt;\n</code></pre>\n\n<p>This bean post processor adds an advisor to any bean that\u2019s annotated with <code>@Repository</code> so that any platform specific exceptions are caught and then rethrown as one of Spring\u2019s unchecked data access exceptions.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>@Controller</strong></p>\n</blockquote>\n\n<p>The <code>@Controller</code> annotation indicates that a particular class serves the role of a controller. The <code>@Controller</code> annotation acts as a stereotype for the annotated class, indicating its role.</p>\n\n<p><strong><em>What\u2019s special about @Controller?</em></strong>  </p>\n\n<p>You cannot switch this annotation with any other like <code>@Service</code> or <code>@Repository</code>, even though they look same. \nThe dispatcher scans the classes annotated with <code>@Controller</code> and detects <code>@RequestMapping</code> annotations within them. You can only use <code>@RequestMapping</code> on <code>@Controller</code> annotated classes.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>@Service</strong></p>\n</blockquote>\n\n<p><code>@Services</code> hold business logic and call method in repository layer. </p>\n\n<p><strong><em>What\u2019s special about @Service?</em></strong>  </p>\n\n<p>Apart from the fact that it is used to indicate that it's holding the business logic, there\u2019s no noticeable specialty that this annotation provides, but who knows, spring may add some additional exceptional in future.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong><em>What else?</em></strong></p>\n</blockquote>\n\n<p>Similar to above, in future Spring may choose to add special functionalities for <code>@Service</code>, <code>@Controller</code> and <code>@Repository</code> based on their layering conventions. Hence its always a good idea to respect the convention and use them in line with layers.</p>\n", "title": "What&#39;s the difference between @Component, @Repository &amp; @Service annotations in Spring?", "tags": ["java", "spring", "spring-mvc", "annotations"], "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in/38549461#38549461", "question_id": 6827752, "answer_id": 38549461}], "creation_date": 1311671446, "score": 743, "link": "http://stackoverflow.com/questions/6827752/whats-the-difference-between-component-repository-service-annotations-in", "question_id": 6827752}, {"body": "<p>I have a <code>char</code> and I need a <code>String</code>. How do I convert from one to the other?</p>\n", "tags": ["java", "string", "char", "type-conversion"], "title": "How to convert a char to a string in Java?", "answers": [{"body": "<p>You can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#toString-char-\"><code>Character.toString(char)</code></a>. Note that this method simply returns a call to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-char-\"><code>String.valueOf(char)</code></a>, which also works.</p>\n\n<p>As others have noted, string concatenation works as a shortcut as well:</p>\n\n<pre><code>String s = \"\" + 's';\n</code></pre>\n\n<p>But this compiles down to:</p>\n\n<pre><code>String s = new StringBuilder().append(\"\").append('s').toString();\n</code></pre>\n\n<p>which is less efficient because the <code>StringBuilder</code> is backed by a <code>char[]</code> (over-allocated by <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/StringBuilder.java#StringBuilder.%3Cinit%3E%28%29\"><code>StringBuilder()</code></a> to <code>16</code>), only for that array to be defensively copied by the resulting <code>String</code>.</p>\n\n<p><code>String.valueOf(char)</code> \"gets in the back door\" by wrapping the <code>char</code> in a single-element array and passing it to the package private constructor <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.%3Cinit%3E%28char%5B%5D%2Cboolean%29\"><code>String(char[], boolean)</code></a>, which avoids the array copy.</p>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/8172439#8172439", "question_id": 8172420, "answer_id": 8172439}, {"body": "<p>Try this: <code>Character.toString(aChar)</code> or just this: <code>aChar + \"\"</code></p>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/8172444#8172444", "question_id": 8172420, "answer_id": 8172444}, {"body": "<p>Use the Character.toString() method like so</p>\n\n<pre><code>char c = 'l';\nString s = Character.toString(c);\n</code></pre>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/8172458#8172458", "question_id": 8172420, "answer_id": 8172458}, {"body": "<p>Use any of the following:</p>\n\n<pre><code>String str = String.valueOf('c');\nString str = Character.toString('c');\nString str = 'c' + \"\";\n</code></pre>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/8172481#8172481", "question_id": 8172420, "answer_id": 8172481}, {"body": "<p>Nice question. I've got of the following <strike>five</strike> 6 methods to do it.</p>\n\n<pre><code>1. String stringValueOf = String.valueOf('c'); // most efficient\n\n2. String stringValueOfCharArray = String.valueOf(new char[]{x});\n\n3. String characterToString = Character.toString('c');\n\n4. String characterObjectToString = new Character('c').toString();\n\n   // Although this method seems very simple, \n   // this is less efficient because the concatenation\n   // expands to new StringBuilder().append(x).append(\"\").toString();\n5. String concatBlankString = 'c' + \"\";\n\n6. String fromCharArray = new String(new char[]{x});\n</code></pre>\n\n<blockquote>\n  <p>Note: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Character.java#Character.toString%28char%29\">Character.toString(char)</a> returns <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/String.java#String.valueOf%28char%29\">String.valueOf(char)</a>. So effectively both are same.</p>\n</blockquote>\n\n<p><code>String.valueOf(char[] value)</code> invokes <code>new String(char[] value)</code>, which in turn sets the <code>value</code> char array.</p>\n\n<pre><code>public String(char value[]) {\n    this.value = Arrays.copyOf(value, value.length);\n}\n</code></pre>\n\n<p>On the other hand <code>String.valueOf(char value)</code> invokes the following <strong>package private constructor.</strong></p>\n\n<pre><code>String(char[] value, boolean share) {\n    // assert share : \"unshared not supported\";\n    this.value = value;\n}\n</code></pre>\n\n<p><em>Source code from <code>String.java</code> in <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java\">Java 8 source code</a></em></p>\n\n<blockquote>\n  <p>Hence <code>String.valueOf(char)</code> seems to be most efficient method, in terms of both memory and speed, for converting <code>char</code> to <code>String</code>.</p>\n</blockquote>\n\n<ol>\n<li><a href=\"http://deepumohan.com/tech/2013/03/26/java-how-to-convert-primitive-char-to/\">Java :: How to convert primitive char to String in Java</a></li>\n<li><a href=\"http://javarevisited.blogspot.in/2012/02/how-to-convert-char-to-string-in-java.html\">How to convert Char to String in Java with Example</a></li>\n</ol>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/15633542#15633542", "question_id": 8172420, "answer_id": 15633542}, {"body": "<p>Below are various ways to convert to char c to String s (in decreasing order of speed and efficiency)</p>\n\n<pre><code>char c = 'a';\nString s = String.valueOf(c);             // fastest + memory efficient\nString s = Character.toString(c);\nString s = new String(new char[]{c});\nString s = String.valueOf(new char[]{c});\nString s = new Character(c).toString();\nString s = \"\" + c;                        // slowest + memory inefficient\n</code></pre>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/30219789#30219789", "question_id": 8172420, "answer_id": 30219789}, {"body": "<p>We have various ways to convert a <code>char</code> to <code>String</code>. <strong>One</strong> way is to make use of static method <code>toString()</code> in <code>Character</code> class:</p>\n\n<pre><code>char ch = 'I'; \nString str1 = Character.toString(ch);\n</code></pre>\n\n<p>Actually this <code>toString</code> method internally makes use of <code>valueOf</code> method from <code>String</code> class which makes use of char array:</p>\n\n<pre><code>public static String toString(char c) {\n    return String.valueOf(c);\n}\n</code></pre>\n\n<p>So <strong>second</strong> way is to use this directly:</p>\n\n<pre><code>String str2 = String.valueOf(ch);\n</code></pre>\n\n<p>This <code>valueOf</code> method in <code>String</code> class makes use of char array:</p>\n\n<pre><code>public static String valueOf(char c) {\n        char data[] = {c};\n        return new String(data, true);\n}\n</code></pre>\n\n<p>So the <strong>third</strong> way is to make use of an anonymous array to wrap a single character and then passing it to <code>String</code> constructor:</p>\n\n<pre><code>String str4 = new String(new char[]{ch});\n</code></pre>\n\n<p>The <strong>fourth</strong> way is to make use of concatenation:</p>\n\n<pre><code>String str3 = \"\" + ch;\n</code></pre>\n\n<p>This will actually make use of <code>append</code> method from <code>StringBuilder</code> class which is actually preferred when we are doing concatenation in a loop. </p>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/32174377#32174377", "question_id": 8172420, "answer_id": 32174377}, {"body": "<p>Here are a few methods, in no particular order:</p>\n\n<pre><code>char c = 'c';\n\nString s = Character.toString(c); // Most efficient way\n\ns = new Character(c).toString(); // Same as above except new Character objects needs to be garbage-collected\n\ns = c + \"\"; // Least efficient and most memory-inefficient, but common amongst beginners because of its simplicity\n\ns = String.valueOf(c); // Also quite common\n\ns = String.format(\"%c\", c); // Not common\n\nFormatter formatter = new Formatter();\ns = formatter.format(\"%c\", c).toString(); // Same as above\nformatter.close();\n</code></pre>\n", "title": "How to convert a char to a string in Java?", "tags": ["java", "string", "char", "type-conversion"], "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java/35245532#35245532", "question_id": 8172420, "answer_id": 35245532}], "creation_date": 1321555039, "score": 484, "link": "http://stackoverflow.com/questions/8172420/how-to-convert-a-char-to-a-string-in-java", "question_id": 8172420}, {"body": "<p>I'm learning Spring 3 and I don't seem to grasp the functionality behind <code>&lt;context:annotation-config&gt;</code> and <code>&lt;context:component-scan&gt;</code>.</p>\n\n<p>From what I've read they seem to handle different annotations (@Required, @Autowired etc vs @Component, @Repository, @Service etc) but also from what I've read they register the same bean post processor classes.</p>\n\n<p>To confuse me even more, there is an <code>annotation-config</code> attribute on <code>&lt;context:component-scan&gt;</code>.</p>\n\n<p>Can someone shed some light on these tags? What's similar, what's different, is one superseded by the other, they complete each other, do I need one of them, both?</p>\n", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "answers": [{"body": "<p>I found this nice <a href=\"https://spreadsheets.google.com/pub?hl=en_US&amp;hl=en_US&amp;key=0Am_zV4_vRvfVdF9abzkwTTFCRkQwY3hrLVh6SE05ZHc&amp;output=html\">summary</a> of which annotations are picked up by which declarations. By studying it you will find that <code>&lt;context:component-scan/&gt;</code> recognizes a superset of annotations recognized by <code>&lt;context:annotation-config/&gt;</code>, namely:</p>\n\n<ul>\n<li><code>@Component</code>, <code>@Service</code>, <code>@Repository</code>, <code>@Controller</code>, <code>@Endpoint</code></li>\n<li><code>@Configuration</code>, <code>@Bean</code>, <code>@Lazy</code>, <code>@Scope</code>, <code>@Order</code>, <code>@Primary</code>, <code>@Profile</code>, <code>@DependsOn</code>, <code>@Import</code>, <code>@ImportResource</code></li>\n</ul>\n\n<p>As you can see <code>&lt;context:component-scan/&gt;</code> logically <strong>extends</strong> <code>&lt;context:annotation-config/&gt;</code> with CLASSPATH component scanning and Java @Configuration features.</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/7414967#7414967", "question_id": 7414794, "answer_id": 7414967}, {"body": "<p><code>&lt;context:annotation-config&gt;</code> activates many different annotations in beans, whether they are defined in XML or through component scanning.</p>\n\n<p><code>&lt;context:component-scan&gt;</code> is for defining beans without using XML</p>\n\n<p>For further information, read:</p>\n\n<ul>\n<li><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-annotation-config\">3.9. Annotation-based container configuration</a></li>\n<li><a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-classpath-scanning\">3.10. Classpath scanning and managed components</a></li>\n</ul>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/7414989#7414989", "question_id": 7414794, "answer_id": 7414989}, {"body": "<p><code>&lt;context:annotation-config&gt;</code> is used to activate annotations in beans already registered in the application context (no matter if they were defined with XML or by package scanning).</p>\n\n<p><code>&lt;context:component-scan&gt;</code> can also do what <code>&lt;context:annotation-config&gt;</code> does but <code>&lt;context:component-scan&gt;</code> also scans packages to find and register beans within the application context.</p>\n\n<p>I'll use some examples to show the differences/similarities. </p>\n\n<p>Lets start with a basic setup of three beans of type <code>A</code>, <code>B</code> and <code>C</code>, with <code>B</code> and <code>C</code> being injected into <code>A</code>.</p>\n\n<pre><code>package com.xxx;\npublic class B {\n  public B() {\n    System.out.println(\"creating bean B: \" + this);\n  }\n}\n\npackage com.xxx;\npublic class C {\n  public C() {\n    System.out.println(\"creating bean C: \" + this);\n  }\n}\n\npackage com.yyy;\nimport com.xxx.B;\nimport com.xxx.C;\npublic class A { \n  private B bbb;\n  private C ccc;\n  public A() {\n    System.out.println(\"creating bean A: \" + this);\n  }\n  public void setBbb(B bbb) {\n    System.out.println(\"setting A.bbb with \" + bbb);\n    this.bbb = bbb;\n  }\n  public void setCcc(C ccc) {\n    System.out.println(\"setting A.ccc with \" + ccc);\n    this.ccc = ccc; \n  }\n}\n</code></pre>\n\n<p>With the following XML configuration :</p>\n\n<pre><code>&lt;bean id=\"bBean\" class=\"com.xxx.B\" /&gt;\n&lt;bean id=\"cBean\" class=\"com.xxx.C\" /&gt;\n&lt;bean id=\"aBean\" class=\"com.yyy.A\"&gt;\n  &lt;property name=\"bbb\" ref=\"bBean\" /&gt;\n  &lt;property name=\"ccc\" ref=\"cBean\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Loading the context produces the following output:</p>\n\n<pre><code>creating bean B: com.xxx.B@c2ff5\ncreating bean C: com.xxx.C@1e8a1f6\ncreating bean A: com.yyy.A@1e152c5\nsetting A.bbb with com.xxx.B@c2ff5\nsetting A.ccc with com.xxx.C@1e8a1f6\n</code></pre>\n\n<p>OK, this is the expected output. But this is \"old style\" Spring. Now we have annotations so lets use those to simplify the XML.</p>\n\n<p>First, lets autowire the <code>bbb</code> and <code>ccc</code> properties on bean <code>A</code> like so:</p>\n\n<pre><code>package com.yyy;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport com.xxx.B;\nimport com.xxx.C;\npublic class A { \n  private B bbb;\n  private C ccc;\n  public A() {\n    System.out.println(\"creating bean A: \" + this);\n  }\n  @Autowired\n  public void setBbb(B bbb) {\n    System.out.println(\"setting A.bbb with \" + bbb);\n    this.bbb = bbb;\n  }\n  @Autowired\n  public void setCcc(C ccc) {\n    System.out.println(\"setting A.ccc with \" + ccc);\n    this.ccc = ccc;\n  }\n}\n</code></pre>\n\n<p>This allows me to remove the following rows from the XML:</p>\n\n<pre><code>&lt;property name=\"bbb\" ref=\"bBean\" /&gt;\n&lt;property name=\"ccc\" ref=\"cBean\" /&gt;\n</code></pre>\n\n<p>My XML is now simplified to this:</p>\n\n<pre><code>&lt;bean id=\"bBean\" class=\"com.xxx.B\" /&gt;\n&lt;bean id=\"cBean\" class=\"com.xxx.C\" /&gt;\n&lt;bean id=\"aBean\" class=\"com.yyy.A\" /&gt;\n</code></pre>\n\n<p>When I load the context I get the following output:</p>\n\n<pre><code>creating bean B: com.xxx.B@5e5a50\ncreating bean C: com.xxx.C@54a328\ncreating bean A: com.yyy.A@a3d4cf\n</code></pre>\n\n<p>OK, this is wrong! What happened? Why aren't my properties autowired?</p>\n\n<p>Well, annotations are a nice feature but by themselves they do nothing whatsoever. They just annotate stuff. You need a processing tool to find the annotations and do something with them. </p>\n\n<p><code>&lt;context:annotation-config&gt;</code> to the rescue. This activates the actions for the annotations that it finds on the beans defined in the same application context where itself is defined.</p>\n\n<p>If I change my XML to this:</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;bean id=\"bBean\" class=\"com.xxx.B\" /&gt;\n&lt;bean id=\"cBean\" class=\"com.xxx.C\" /&gt;\n&lt;bean id=\"aBean\" class=\"com.yyy.A\" /&gt;\n</code></pre>\n\n<p>when I load the application context I get the proper result:</p>\n\n<pre><code>creating bean B: com.xxx.B@15663a2\ncreating bean C: com.xxx.C@cd5f8b\ncreating bean A: com.yyy.A@157aa53\nsetting A.bbb with com.xxx.B@15663a2\nsetting A.ccc with com.xxx.C@cd5f8b\n</code></pre>\n\n<p>OK, this is nice, but I've removed two rows from the XML and added one. That's not a very big difference. The idea with annotations is that it's supposed to remove the XML.</p>\n\n<p>So let's remove the XML definitions and replace them all with annotations:</p>\n\n<pre><code>package com.xxx;\nimport org.springframework.stereotype.Component;\n@Component\npublic class B {\n  public B() {\n    System.out.println(\"creating bean B: \" + this);\n  }\n}\n\npackage com.xxx;\nimport org.springframework.stereotype.Component;\n@Component\npublic class C {\n  public C() {\n    System.out.println(\"creating bean C: \" + this);\n  }\n}\n\npackage com.yyy;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport com.xxx.B;\nimport com.xxx.C;\n@Component\npublic class A { \n  private B bbb;\n  private C ccc;\n  public A() {\n    System.out.println(\"creating bean A: \" + this);\n  }\n  @Autowired\n  public void setBbb(B bbb) {\n    System.out.println(\"setting A.bbb with \" + bbb);\n    this.bbb = bbb;\n  }\n  @Autowired\n  public void setCcc(C ccc) {\n    System.out.println(\"setting A.ccc with \" + ccc);\n    this.ccc = ccc;\n  }\n}\n</code></pre>\n\n<p>While in the XML we only keep this:</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n</code></pre>\n\n<p>We load the context and the result is... Nothing. No beans are created, no beans are autowired. Nothing!</p>\n\n<p>That's because, as I said in the first paragraph, the <code>&lt;context:annotation-config /&gt;</code> only works on beans registered within the application context. Because I removed the XML configuration for the three beans there is no bean created and <code>&lt;context:annotation-config /&gt;</code> has no \"targets\" to work on.</p>\n\n<p>But that won't be a problem for <code>&lt;context:component-scan&gt;</code> which can scan a package for \"targets\" to work on. Let's change the content of the XML config into the following entry:</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.xxx\" /&gt;\n</code></pre>\n\n<p>When I load the context I get the following output:</p>\n\n<pre><code>creating bean B: com.xxx.B@1be0f0a\ncreating bean C: com.xxx.C@80d1ff\n</code></pre>\n\n<p>Hmmmm... something is missing. Why? </p>\n\n<p>If you look closelly at the classes, class <code>A</code> has package <code>com.yyy</code> but I've specified in the <code>&lt;context:component-scan&gt;</code> to use package <code>com.xxx</code> so this completely missed my <code>A</code> class and only picked up <code>B</code> and <code>C</code> which are on the <code>com.xxx</code> package.</p>\n\n<p>To fix this, I add this other package also:</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.xxx,com.yyy\" /&gt;\n</code></pre>\n\n<p>and now we get the expected result:</p>\n\n<pre><code>creating bean B: com.xxx.B@cd5f8b\ncreating bean C: com.xxx.C@15ac3c9\ncreating bean A: com.yyy.A@ec4a87\nsetting A.bbb with com.xxx.B@cd5f8b\nsetting A.ccc with com.xxx.C@15ac3c9\n</code></pre>\n\n<p>And that's it! Now you don't have XML definitions anymore, you have annotations.</p>\n\n<p>As a final example, keeping the annotated classes <code>A</code>, <code>B</code> and <code>C</code> and adding the following to the XML, what will we get after loading the context?</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.xxx\" /&gt;\n&lt;bean id=\"aBean\" class=\"com.yyy.A\" /&gt;\n</code></pre>\n\n<p>We still get the correct result:</p>\n\n<pre><code>creating bean B: com.xxx.B@157aa53\ncreating bean C: com.xxx.C@ec4a87\ncreating bean A: com.yyy.A@1d64c37\nsetting A.bbb with com.xxx.B@157aa53\nsetting A.ccc with com.xxx.C@ec4a87\n</code></pre>\n\n<p>Even if the bean for class <code>A</code> isn't obtained by scanning, the processing tools are still applied by <code>&lt;context:component-scan&gt;</code> on all beans registered\nin the application context, even for <code>A</code> which was manually registered in the XML.</p>\n\n<p>But what if we have the following XML, will we get duplicated beans because we've specified both <code>&lt;context:annotation-config /&gt;</code> and <code>&lt;context:component-scan&gt;</code>?</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;context:component-scan base-package=\"com.xxx\" /&gt;\n&lt;bean id=\"aBean\" class=\"com.yyy.A\" /&gt;\n</code></pre>\n\n<p>No, no duplications, We again get the expected result:</p>\n\n<pre><code>creating bean B: com.xxx.B@157aa53\ncreating bean C: com.xxx.C@ec4a87\ncreating bean A: com.yyy.A@1d64c37\nsetting A.bbb with com.xxx.B@157aa53\nsetting A.ccc with com.xxx.C@ec4a87\n</code></pre>\n\n<p>That's because both tags register the same processing tools (<code>&lt;context:annotation-config /&gt;</code> can be omitted if <code>&lt;context:component-scan&gt;</code> is specified) but Spring takes care of running them only once.</p>\n\n<p>Even if you register the processing tools yourself multiple times, Spring will still make sure they do their magic only once; this XML:</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;context:component-scan base-package=\"com.xxx\" /&gt;\n&lt;bean id=\"aBean\" class=\"com.yyy.A\" /&gt;\n&lt;bean id=\"bla\" class=\"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\" /&gt;\n&lt;bean id=\"bla1\" class=\"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\" /&gt;\n&lt;bean id=\"bla2\" class=\"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\" /&gt;\n&lt;bean id=\"bla3\" class=\"org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\" /&gt;\n</code></pre>\n\n<p>will still generate the following result:</p>\n\n<pre><code>creating bean B: com.xxx.B@157aa53\ncreating bean C: com.xxx.C@ec4a87\ncreating bean A: com.yyy.A@25d2b2\nsetting A.bbb with com.xxx.B@157aa53\nsetting A.ccc with com.xxx.C@ec4a87\n</code></pre>\n\n<p>OK, that about raps it up. </p>\n\n<p>I hope this information along with the responses from @Tomasz Nurkiewicz and @Sean Patrick Floyd are all you need to understand how \n<code>&lt;context:annotation-config&gt;</code> and <code>&lt;context:component-scan&gt;</code> work.</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/7456501#7456501", "question_id": 7414794, "answer_id": 7456501}, {"body": "<p>The <code>&lt;context:annotation-config&gt;</code> tag tells Spring to scan the codebase for automatically resolving dependency requirements of the classes containing @Autowired annotation.</p>\n\n<p>Spring 2.5 also adds support for JSR-250 annotations such as @Resource, @PostConstruct, and @PreDestroy.Use of these annotations also requires that certain BeanPostProcessors be registered within the Spring container. As always, these can be registered as individual bean definitions, but they can also be implicitly registered by including <code>&lt;context:annotation-config&gt;</code> tag in spring configuration.</p>\n\n<p>Taken from Spring documentation of <a href=\"http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch04s11.html\">Annotation Based Configuration</a></p>\n\n<hr>\n\n<p>Spring provides the capability of automatically detecting 'stereotyped' classes and registering corresponding BeanDefinitions with the ApplicationContext.</p>\n\n<p>According to javadoc of <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/stereotype/package-summary.html\">org.springframework.stereotype</a>:</p>\n\n<p>Stereotypes are Annotations denoting the roles of types or methods in the overall architecture (at a conceptual, rather than implementation, level). \nExample: @Controller @Service @Repository etc.\nThese are intended for use by tools and aspects (making an ideal target for pointcuts).</p>\n\n<p>To autodetect such 'stereotype' classes, <code>&lt;context:component-scan&gt;</code> tag is required.</p>\n\n<p>The <code>&lt;context:component-scan&gt;</code> tag also tells Spring to scan the code for injectable beans under the package (and all its subpackages) specified.</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/12212212#12212212", "question_id": 7414794, "answer_id": 12212212}, {"body": "<p>A <code>&lt;context:component-scan/&gt;</code> custom tag registers the same set of bean definitions as is done by , apart from its primary responsibility of scanning the java packages and registering bean definitions from the classpath.</p>\n\n<p>If for some reason this registration of default bean definitions are to be avoided, the way to do that is to specify an additional \"annotation-config\" attribute in component-scan, this way:</p>\n\n<pre><code>&lt;context:component-scan basePackages=\"\" annotation-config=\"false\"/&gt;\n</code></pre>\n\n<p>Reference:\n<a href=\"http://www.java-allandsundry.com/2012/12/contextcomponent-scan-contextannotation.html\" rel=\"nofollow\">http://www.java-allandsundry.com/2012/12/contextcomponent-scan-contextannotation.html</a></p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/17121041#17121041", "question_id": 7414794, "answer_id": 17121041}, {"body": "<p>The difference between the two is really simple!.</p>\n\n<pre><code>&lt;context:annotation-config /&gt; \n</code></pre>\n\n<p>Enables you to use annotations that are restricted to wiring up properties and constructors only of beans!.</p>\n\n<p><strong>Where as</strong></p>\n\n<pre><code>&lt;context:component-scan base-package=\"org.package\"/&gt; \n</code></pre>\n\n<p>Enables everything that <code>&lt;context:annotation-config /&gt;</code> can do, with addition of using stereotypes eg.. <code>@Component</code>, <code>@Service</code> , <code>@Repository</code>. So you can wire entire beans and not just restricted to constructors or properties!.    </p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/18005725#18005725", "question_id": 7414794, "answer_id": 18005725}, {"body": "<p>Spring allows you to do two things:</p>\n\n<ol>\n<li>Autowiring of beans</li>\n<li>Autodiscovery of beans</li>\n</ol>\n\n<p><strong>1. Autowiring</strong><br>\nUsually in <em>applicationContext.xml</em> you define beans and other beans are wired using\nconstructor or setter methods. You can wire beans using XML or annotations.\nIn case you use annotations, you need to activate annotations and you have to add\n<code>&lt;context:annotation-config /&gt;</code> in <em>applicationContext.xml</em>. This will simplify the\nstructure of the  tag from <em>applicationContext.xml</em>, because you will not have to manually wire beans (constructor or setter). You can use <code>@Autowire</code> annotation and the beans will be wired by type.</p>\n\n<p>A step forward for escaping the manual XML configuration is  </p>\n\n<p><strong>2. Autodiscovery</strong><br>\nAutodiscovery is simplifying the XML one step further, in the sense that you don't even need too add the <code>&lt;bean&gt;</code> tag in <em>applicationContext.xml</em>. You just mark the specific beans with one of the following annotation and Spring will automatically wire the marked beans and their dependencies into the Spring container. The annotations are as follow:  <em>@Controller</em>, <em>@Service</em>, <em>@Component</em>, <em>@Repository</em>. By using <code>&lt;context:component-scan&gt;</code> and pointing the base package, Spring will auto-discover and wire the components into Spring container.</p>\n\n<hr>\n\n<p>As a conclusion:</p>\n\n<ul>\n<li><code>&lt;context:annotation-config /&gt;</code> is used in order to be able to use\n<em>@Autowired</em> annotation</li>\n<li><code>&lt;context:component-scan /&gt;</code> is used to determine the search of\nspecific beans and attempt of autowiring.</li>\n</ul>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/18178794#18178794", "question_id": 7414794, "answer_id": 18178794}, {"body": "<pre><code>&lt;context:annotation-config&gt;\n</code></pre>\n\n<p><strong>Only</strong> resolves the @Autowired and @Qualifer annotations, thats all, it about the <strong>Dependency Injection</strong>, There are other annotations that do the same job, I think how @Inject, but all about to resolve DI through annotations.</p>\n\n<p>Be aware, even when you have declared the <code>&lt;context:annotation-config&gt;</code> element, <strong>you must declare</strong> your class how a Bean anyway, remember we have three available options</p>\n\n<ul>\n<li>XML: <code>&lt;bean&gt;</code> </li>\n<li>@Annotations: @Component, @Service, @Repository, @Controller </li>\n<li>JavaConfig: @Bean</li>\n</ul>\n\n<p>Now with</p>\n\n<pre><code>&lt;context:component-scan&gt;\n</code></pre>\n\n<p>It does two things:</p>\n\n<ul>\n<li>It scans all the classes annotated with\n@Component, @Service, @Repository, @Controller and @Configuration and create a Bean</li>\n<li>It does the same job how <code>&lt;context:annotation-config&gt;</code> does.</li>\n</ul>\n\n<p>Therefore if you declare <code>&lt;context:component-scan&gt;</code>, is not necessary anymore declare <code>&lt;context:annotation-config&gt;</code> too.</p>\n\n<p>Thats all </p>\n\n<p>A common scenario was for example declare only a bean through XML and resolve the DI through annotations, for example</p>\n\n<pre><code>&lt;bean id=\"serviceBeanA\" class=\"com.something.CarServiceImpl\" /&gt;\n&lt;bean id=\"serviceBeanB\" class=\"com.something.PersonServiceImpl\" /&gt;\n&lt;bean id=\"repositoryBeanA\" class=\"com.something.CarRepository\" /&gt;\n&lt;bean id=\"repositoryBeanB\" class=\"com.something.PersonRepository\" /&gt;\n</code></pre>\n\n<p>We have only declared the beans, nothing about <code>&lt;constructor-arg&gt;</code> and <code>&lt;property&gt;</code>, the DI is configured in their own classes through @Autowired. It means the Services use @Autowired for their Repositories components and the Repositories use @Autowired for the JdbcTemplate, DataSource etc..components</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/24083073#24083073", "question_id": 7414794, "answer_id": 24083073}, {"body": "<pre><code>&lt;context:component-scan /&gt; implicitly enables &lt;context:annotation-config/&gt;\n</code></pre>\n\n<p>try with <code>&lt;context:component-scan base-package=\"...\" annotation-config=\"false\"/&gt;</code> , in your configuration <strong>@Service, @Repository, @Component</strong> works fine, but <strong>@Autowired,@Resource</strong> and <strong>@Inject</strong> doesn't work.</p>\n\n<p>This means <strong>AutowiredAnnotationBeanPostProcessor</strong> will not be enabled and Spring container will not process the Autowiring annotations.</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/26184664#26184664", "question_id": 7414794, "answer_id": 26184664}, {"body": "<p><strong>context:component-scan base-package=\" package name\"</strong>:</p>\n\n<p>This is used to tell the container that there are bean classes in my package scan those bean classes. In order to scan  bean classes by container on top of the bean we have to write one of the stereo type annotation like following.</p>\n\n<p>@Component,@Service,@Repository,@Controller</p>\n\n<p><strong>context:annotation-config</strong>:</p>\n\n<p>If we don't want to write bean tag explicitly in XML then how the container knows if there is a auto wiring in the bean. This is possible by using @Autowired annotation. we have to inform to the container that there is auto wiring in my bean by context:annotation-config</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/28205610#28205610", "question_id": 7414794, "answer_id": 28205610}, {"body": "<pre><code>&lt;context:annotation-config/&gt; &lt;!-- is used to activate the annotation for beans --&gt;\n&lt;context:component-scan base-package=\"x.y.MyClass\" /&gt; &lt;!-- is for the Spring IOC container to look for the beans in the base package. --&gt;\n</code></pre>\n\n<p>The other important point to note is that <code>context:component-scan</code> implicitly calls the <code>context:annotation-config</code> to activate the annotations on beans. Well if don't want <code>context:component-scan</code> to implicitly activate annotations for you, you can go on setting the annotation-config element of the <code>context:component-scan</code> to <code>false</code>.</p>\n\n<p>To summarize:</p>\n\n<pre><code>&lt;context:annotation-config/&gt; &lt;!-- activates the annotations --&gt; \n&lt;context:component-scan base-package=\"x.y.MyClass\" /&gt; &lt;!-- activates the annotations + register the beans by looking inside the base-package --&gt;\n</code></pre>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/29565947#29565947", "question_id": 7414794, "answer_id": 29565947}, {"body": "<p>context:annotation-config:</p>\n\n<p>This tells Spring that I am gona use Annoatted beans as spring bean adn those would be wired through @Autowired annotation, instead of declaring in spring config xml file.</p>\n\n<p>context:component-scan base-package=\"com.test...\" : \nThis tells Spring container, where to start searching those annotated beans. Here spring will sear all sub packages of the </p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/34528454#34528454", "question_id": 7414794, "answer_id": 34528454}, {"body": "<p><strong>tl;dr</strong><br>\n<code>&lt;context:annotation-config&gt;</code>  Scanning and activating annotations for already registered beans in spring config xml.</p>\n\n<p><code>&lt;context:component-scan&gt;</code> Bean Registration + i.e. <code>&lt;context:annotation-config&gt;</code></p>\n\n<hr>\n\n<p><strong>@Autowired and @Required</strong> are targets property level so bean should register in spring IOC before use these annotations. To enable these annotations either have to register respective beans or include <code>&lt;context:annotation-config /&gt;</code>. i.e. <code>&lt;context:annotation-config /&gt;</code> works with registered beans only.</p>\n\n<p><strong>@Required</strong> enables  <code>RequiredAnnotationBeanPostProcessor</code>  processing tool<br>\n  <strong>@Autowired</strong> enables  <code>AutowiredAnnotationBeanPostProcessor</code> processing tool</p>\n\n<p><strong>Note:</strong> Annotation itself nothing to do, we need a <strong>Processing Tool</strong>, which is a class underneath, responsible for the core process.</p>\n\n<hr>\n\n<p><strong>@Repository, @Service and @Controller  are @Component</strong>, and they targets class level.</p>\n\n<p><code>&lt;context:component-scan&gt;</code> it scans the package and find and register the beans, and it includes the work done by <code>&lt;context:annotation-config /&gt;</code>.</p>\n", "title": "Difference between &lt;context:annotation-config&gt; vs &lt;context:component-scan&gt;", "tags": ["java", "spring", "configuration", "annotations", "spring-3"], "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan/34561991#34561991", "question_id": 7414794, "answer_id": 34561991}], "creation_date": 1315996113, "score": 464, "link": "http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan", "question_id": 7414794}, {"body": "<p>Is there anything like <code>static class</code> in java?\nWhat is the meaning of such a class. Do all the methods of the static class need to be <code>static</code> too?\nIs it required the other way round, that if a class contains all the static methods, shall the class be static too?</p>\n\n<p>What good are static classes?</p>\n", "tags": ["java", "static-classes"], "title": "Static Classes In Java", "answers": [{"body": "<p>Well, Java has \"static nested classes\", but they're not at all the same as C#'s static classes, if that's where you were coming from. A static nested class is just one which doesn't implicitly have a reference to an instance of the outer class.</p>\n\n<p>Static nested classes can have instance methods and static methods.</p>\n\n<p>There's no such thing as a top-level static class in Java.</p>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/7486050#7486050", "question_id": 7486012, "answer_id": 7486050}, {"body": "<p>There is a static <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/nested.html\">nested class</a>, this [static nested] class does not need an instance of the enclosing class in order to be instantiated itself. </p>\n\n<p>These classes [static nested ones] can access only the static members of the enclosing class [since it does not has any reference to any instance of the enclosing class...]</p>\n\n<p>code sample:</p>\n\n<pre><code>public class Test { \n  class A { } \n  static class B { }\n  public static void main(String[] args) { \n    /*will fail - compilation error, you need an instance of Test to instantiate A*/\n    A a = new A(); \n    /*will compile successfully, not instance of Test is needed to instantiate B */\n    B b = new B(); \n  }\n}\n</code></pre>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/7486051#7486051", "question_id": 7486012, "answer_id": 7486051}, {"body": "<p>Java has static methods that are associated with classes (e.g. java.lang.Math has only static methods), but the class itself is not static.</p>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/7486055#7486055", "question_id": 7486012, "answer_id": 7486055}, {"body": "<p>Outer classes cannot be static, but nested/inner classes can be. That basically helps you to use the nested/inner class without creating an instance of the outer class.</p>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/7486063#7486063", "question_id": 7486012, "answer_id": 7486063}, {"body": "<p>Yes there is a static nested class in java.\nWhen you declare a nested class static, it automatically becomes a stand alone class which can be instantiated without having to instantiate the outer class it belongs to.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public class A\n{\n\n public static class B\n {\n }\n}\n</code></pre>\n\n<p>Because <code>class B</code> is declared static you can explicitly instantiate as:</p>\n\n<pre><code>B b = new B();\n</code></pre>\n\n<p>Note if <code>class B</code> wasn't declared static to make it stand alone, an instance object call would've looked like this:</p>\n\n<pre><code>A a= new A();\nB b = a.new B();\n</code></pre>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/7486108#7486108", "question_id": 7486012, "answer_id": 7486108}, {"body": "<p>Java has static <em>nested</em> classes but it sounds like you're looking for a top-level static class. Java has no way of making a top-level class static but you can simulate a static class like this:</p>\n\n<ul>\n<li>Declare your class <code>final</code> - Prevents extension of the class since extending a static class makes no sense</li>\n<li>Make the constructor <code>private</code> - Prevents instantiation by client code as it makes no sense to instantiate a static class</li>\n<li>Make <strong>all</strong> the members and functions of the class <code>static</code> -  Since the class cannot be instantiated no instance methods can be called or instance fields accessed</li>\n<li>Note that the compiler will not prevent you from declaring an instance (non-static) member. The issue will only show up if you attempt to call the instance member</li>\n</ul>\n\n<p>Simple example per suggestions from above:</p>\n\n<pre><code>public class TestMyStaticClass {\n     public static void main(String []args){\n        MyStaticClass.setMyStaticMember(5);\n        System.out.println(\"Static value: \" + MyStaticClass.getMyStaticMember());\n        System.out.println(\"Value squared: \" + MyStaticClass.squareMyStaticMember());\n        // MyStaticClass x = new MyStaticClass(); // results in compile time error\n     }\n}\n\n// A top-level Java class mimicking static class behavior\npublic final class MyStaticClass {\n    private MyStaticClass () { // private constructor\n        myStaticMember = 1;\n    }\n    private static int myStaticMember;\n    public static void setMyStaticMember(int val) {\n        myStaticMember = val;\n    }\n    public static int getMyStaticMember() {\n        return myStaticMember;\n    }\n    public static int squareMyStaticMember() {\n        return myStaticMember * myStaticMember;\n    }\n}\n</code></pre>\n\n<p><strong>What good are static classes?</strong> A good use of a static class is in defining one-off, utility and/or library classes where instantiation would not make sense. A great example is the Math class that contains some mathematical constants such as PI and E and simply provides mathematical calculations. Requiring instantiation in such a case would be unnecessary and confusing. <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\">See Java's Math class</a>. Notice that it is final and all of its members are static. If Java allowed top-level classes to be declared static then the Math class would indeed be static.</p>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/7486111#7486111", "question_id": 7486012, "answer_id": 7486111}, {"body": "<p>Seeing as this is the top result on Google for \"static class java\" and the best answer isn't here I figured I'd add it.  I'm interpreting OP's question as concerning static classes in C#, which are known as singletons in the Java world.  For those unaware, in C# the \"static\" keyword can be applied to a class declaration which means the resulting class can never be instantiated.</p>\n\n<p>Excerpt from \"Effective Java - Second Edition\" by Joshua Bloch (widely considered to be one of the best Java style guides available):</p>\n\n<blockquote>\n  <p>As of release 1.5, there is a third approach to implementing singletons. Simply make an enum type with one element:</p>\n\n<pre><code>// Enum singleton - the preferred approach\npublic enum Elvis {\n    INSTANCE;\n    public void leaveTheBuilding() { ... }\n}\n</code></pre>\n  \n  <p>This approach is functionally equivalent to the public field approach, except that it is more concise, provides the serialization machinery for free , and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks. While this approach has yet to be widely adopted, a <strong>single-element enum type is the best way to implement a singleton.</strong> (emphasis author's)</p>\n</blockquote>\n\n<p><em>Bloch, Joshua (2008-05-08). Effective Java (Java Series) (p. 18). Pearson Education.</em></p>\n\n<p>I think the implementation and justification are pretty self explanatory.</p>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/28687275#28687275", "question_id": 7486012, "answer_id": 28687275}, {"body": "<p>What's happening when a members inside a <code>class</code> is declared as <code>static</code>..? That members can be accessed without instantiating the <code>class</code>. Therefore making outer class(top level class) <code>static</code> has no meaning. Therefore it is not allowed.</p>\n\n<p>But you can set inner classes as static (As it is a member of the top level class). Then that class can be accessed without instantiating the top level class. Consider the following example.</p>\n\n<pre><code>public class A {\n    public static class B {\n\n    }\n}\n</code></pre>\n\n<p>Now, inside a different class <code>C</code>, class <code>B</code> can be accessed without making an instance of class <code>A</code>.</p>\n\n<pre><code>public class C {\n    A.B ab = new A.B();\n}\n</code></pre>\n\n<p><code>static</code> classes can have <code>non-static</code> members too. Only the class gets static.</p>\n\n<p>But if the <code>static</code> keyword is removed from class <code>B</code>, it cannot be accessed directly without making an instance of <code>A</code>.</p>\n\n<pre><code>public class C {\n    A a = new A();\n    A.B ab = a. new B();\n}\n</code></pre>\n\n<p>But we cannot have <code>static</code> members inside a <code>non-static</code> inner class.</p>\n", "title": "Static Classes In Java", "tags": ["java", "static-classes"], "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java/34349404#34349404", "question_id": 7486012, "answer_id": 34349404}], "creation_date": 1316525562, "score": 424, "link": "http://stackoverflow.com/questions/7486012/static-classes-in-java", "question_id": 7486012}, {"body": "<p>I am a Java programmer who is new to the corporate world. Recently I've developed an application using <a href=\"http://en.wikipedia.org/wiki/Groovy_%28programming_language%29\">Groovy</a> and Java. All through the code I've used quite a good number of statics. I was asked by the senior technical lot to cut down on the number of statics used. I've googled about the same, and I find that many programmers are fairly against using static variables.</p>\n\n<p>I find static variables more convenient to use. And I presume that they are efficient too (please correct me if I am wrong), because if I had to make 10,000 calls to a function within a class, I would be glad to make the method static and use a straightforward <code>class.methodCall()</code> on it instead of cluttering the memory with 10,000 instances of the class, right?</p>\n\n<p>Moreover statics reduce the inter-dependencies on the other parts of the code. They can act as perfect state holders. Adding to this I find that statics are widely implemented in some languages like Smalltalk and <a href=\"http://en.wikipedia.org/wiki/Scala_%28programming_language%29\">Scala</a>. So why is this oppression for statics prevalent among programmers (especially in the world of Java)?</p>\n\n<p>PS: please do correct me if my assumptions about statics are wrong.</p>\n", "tags": ["java", "static"], "title": "Why are static variables considered evil?", "answers": [{"body": "<p>Static variables represent global state. That's hard to reason about and hard to test: if I create a new instance of an object, I can reason about its new state within tests. If I use code which is using static variables, it could be in any state - and anything could be modifying it.</p>\n\n<p>I could go on for quite a while, but the bigger concept to think about is that the tighter the scope of something, the easier it is to reason about. We're good at thinking about small things, but it's hard to reason about the state of a million line system if there's no modularity. This applies to all sorts of things, by the way - not just static variables.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026563#7026563", "question_id": 7026507, "answer_id": 7026563}, {"body": "<p>Evil is a subjective term.</p>\n\n<p>You don't control statics in terms of creation and destruction. They live at the behest of the program loading and unloading.   </p>\n\n<p>Since statics live in one space, all threads wishing to use them must go through access control that you have to manage. This means that programs are more coupled and this change is harder to envisage and manage (like J Skeet says). This leads to problems of isolating change impact and thus affects how testing is managed.</p>\n\n<p>These are the two main issues I have with them.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026581#7026581", "question_id": 7026507, "answer_id": 7026581}, {"body": "<p>There are 2 main problems with static variables:</p>\n\n<ul>\n<li>Thread Safety - static resources are by definition not thread-safe</li>\n<li>Code Implicity - You do not know when a static variables is instantiated and whether or not it will be instantiated before another static variable</li>\n</ul>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026582#7026582", "question_id": 7026507, "answer_id": 7026582}, {"body": "<blockquote>\n  <p>if I had to make 10,000 calls to a function within a class, I would be\n  glad to make the method static and use a straightforward\n  class.methodCall() on it instead of cluttering the memory with 10,000\n  instances of the class, Right?</p>\n</blockquote>\n\n<p>You have to balance the need for encapsulating data into an object with a state, versus the need of simply computing the result of a function on some data.</p>\n\n<blockquote>\n  <p>Moreover statics reduce the inter-dependencies on the other parts of the code.</p>\n</blockquote>\n\n<p>So does encapsulation. In large applications, statics tend to produce spaghetti code and don't easily allow refactoring or testing.</p>\n\n<p>The other answers also provide good reasons against excessive use of statics.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026613#7026613", "question_id": 7026507, "answer_id": 7026613}, {"body": "<p>Static variables most importantly creates problem with security of data (any time changed,anyone can change,direct access without object, etc.)</p>\n\n<p>For further info read <a href=\"http://gbracha.blogspot.com/2008/02/cutting-out-static.html\" rel=\"nofollow\">this</a>\nThanks.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026617#7026617", "question_id": 7026507, "answer_id": 7026617}, {"body": "<p>In my opinion it's hardly ever about performance, it's about design. I don't consider the use of static methods wrong as apposed of the use of static variables (but I guess you are actually talking about method calls). </p>\n\n<p>It's simply about how to isolate logic and give it a good place. Sometimes that justifies using static methods of which <code>java.lang.Math</code> is a good example. I think when you name most of your classes <code>XxxUtil</code> or <code>Xxxhelper</code> you'd better reconsider your design.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026631#7026631", "question_id": 7026507, "answer_id": 7026631}, {"body": "<p>Static variables are generally considered bad because they represent global state and are therefore much more difficult to reason about.  In particular, they break the assumptions of object-oriented programming.  In object-oriented programming, each object has its own state, represented by instance (non-static) variables.  Static variables represent state across instances which can be much more difficult to unit test.  This is mainly because it is more difficult to isolate changes to static variables to a single test.</p>\n\n<p>That being said, it is important to make a distinction between regular static variables (generally considered bad), and final static variables (AKA constants; not so bad).</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026656#7026656", "question_id": 7026507, "answer_id": 7026656}, {"body": "<p><em>I find static variables more convenient to use. And I presume that they are efficient too (Please correct me if I am wrong) because if I had to make 10,000 calls to a function within a class, I would be glad to make the method static and use a straightforward class.methodCall() on it instead of cluttering the memory with 10,000 instances of the class, Right?</em> </p>\n\n<p>I see what you think, but a simple Singleton pattern will do the same without having to instantiate 10 000 objects.</p>\n\n<p>static methods can be used, but only for functions that are related to the object domain and do not need or use internal properties of the object.</p>\n\n<p>ex:</p>\n\n<pre><code>public class WaterContainer {\n    private int size;\n    private int brand;\n    ...etc\n\n    public static int convertToGallon(int liters)...\n\n    public static int convertToLiters(int gallon)...\n\n}\n</code></pre>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026871#7026871", "question_id": 7026507, "answer_id": 7026871}, {"body": "<p>No. Global states are not evil per se. But we have to see <em>your</em> code to see if you used it properly. It is quite possible that a newbie abuses global states; just like he would abuses every language feature.</p>\n\n<p>Global states are absolute necessity. We cannot avoid global states. We cannot avoid reasoning about global states. - If we care to understand our application semantics. </p>\n\n<p>People who try to get rid of global states for the sake of it, inevitably end up with a much more complex system - and the global states are still there, cleverly/idiotically disguised under many layers of indirections; and we still have to reason about global states, after unwrapping all the indirections.</p>\n\n<p>Like the Spring people who lavishly declare global states in xml and think somehow it's superior.</p>\n\n<p>@Jon Skeet <code>if I create a new instance of an object</code> now you have two things to reason about - the state within the object, and the state of the environment hosting the object. </p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7027536#7027536", "question_id": 7026507, "answer_id": 7027536}, {"body": "<p>It might be suggested that in most cases where you use a static variable, you really want to be using the <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\">singleton pattern</a>.</p>\n\n<p>The problem with global states is that sometimes what makes sense as global in a simpler context, needs to be a bit more flexible in a practical context, and this is where the singleton pattern becomes useful.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7028264#7028264", "question_id": 7026507, "answer_id": 7028264}, {"body": "<p>All the answers above show why statics are bad. The reason they are <em>evil</em> is because it gives the false impression that you are writing object oriented code, when in fact you are not.\nThat is just plain evil.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7029775#7029775", "question_id": 7026507, "answer_id": 7029775}, {"body": "<h3>a) Reason about programs.</h3>\n\n<p>If you have a small- to midsize-program, where the static variable Global.foo is accessed, the call to it normally comes from nowhere - there is no path, and therefore no timeline, how the variable comes to the place, where it is used. Now how do I know who set it to its actual value? How do I know, what happens, if I modify it right now? I have grep over the whole source, to collect all accesses, to know, what is going on. </p>\n\n<p>If you know how you use it, because you just wrote the code, the problem is invisible, but if you try to understand foreign code, you will understand. </p>\n\n<h3>b) Do you really only need one?</h3>\n\n<p>Static variables often prevent multiple programs of the same kind running in the same JVM with different values. You often don't foresee usages, where more than one instance of your program is useful, but if it evolves, or if it is useful for others, they might experience situations, where they would like to start more than one instance of your program. </p>\n\n<p>Only more or less useless code which will not be used by many people over a longer time in an intensive way might go well with static variables. </p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7031929#7031929", "question_id": 7026507, "answer_id": 7031929}, {"body": "<p>Since no one* has mentioned it: <strong>concurrency.</strong> Static variables can surprise you if you have multiple threads reading and writing to the static variable. This is common in web applications (e.g., ASP.NET) and it can cause some rather maddening bugs. For example, if you have a static variable that is updated by a page, and the page is requested by two people at \"nearly the same time\", one user may get the result expected by the other user, or worse.</p>\n\n<blockquote>\n  <p>statics reduce the inter-dependencies on the other parts of the code. They can act as perfect state holders</p>\n</blockquote>\n\n<p>I hope you're prepared to use locks and deal with contention.</p>\n\n<p>*Actually, <a href=\"http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7026581#7026581\">Preet Sangha</a> mentioned it.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7033286#7033286", "question_id": 7026507, "answer_id": 7033286}, {"body": "<p>The issue of 'Statics being evil' is more of an issue about global state. The appropriate time for a variable to be static, is if it does not ever have more than one state; IE tools that should be accessible by the entire framework and always return the same results for the same method calls are never 'evil' as statics. As to your comment:</p>\n\n<blockquote>\n  <p>I find static variables more convenient to use. And I presume that they are efficient too</p>\n</blockquote>\n\n<p><strong>Statics are the ideal and efficient choice for variables/classes that do not ever change</strong>.</p>\n\n<p>The problem with global state is the inherent inconsistency that it can create. Documentation about unit tests often address this issue, since any time there is a global state that can be accessed by more than multiple unrelated objects, your unit tests will be incomplete, and not 'unit' grained. As mentioned in this article about <a href=\"http://misko.hevery.com/code-reviewers-guide/flaw-brittle-global-state-singletons/\" rel=\"nofollow\">global state and singletons</a>, if object A and B are unrelated (as in one is not expressly given reference to another), then A should not be able to affect the state of B.</p>\n\n<p>There are some exceptions to the ban global state in good code, such as the clock. Time is global, and--in some sense--it changes the state of objects without having a coded relationship.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7033996#7033996", "question_id": 7026507, "answer_id": 7033996}, {"body": "<p>Yet another reason: fragility.</p>\n\n<p>If you have a class, most people expect to be able to create it and use it at will.</p>\n\n<p>You can document it's not the case, or protect against it (singleton/factory pattern) - but that's extra work, and therefore an additional cost.\nEven then, in a big company, chances are someone will try at some point to use your class without fully paying attention to all the nice comments or the factory.</p>\n\n<p>If you're using static variables a lot, that will break. Bugs are expensive.</p>\n\n<p>Between a .0001% performance improvement and robustness to change by potentially clueless developers, in a lot of cases robustness is the good choice.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7034189#7034189", "question_id": 7026507, "answer_id": 7034189}, {"body": "<p>everything (can:) have its purpose, if you have bunch of threads that needs to <strong>share/cache</strong> data and also <strong>all accessible memory</strong> (so you dont split into contexts within one JVM) the static is best choice<br><br>-> of course you can force just one instance, but why?<br>\ni find some of the comments in this thread evil, not the statics ;)</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7071124#7071124", "question_id": 7026507, "answer_id": 7071124}, {"body": "<p><strong>Its not very object oriented:</strong>\nOne reason statics might be considered \"evil\" by some people is they are contrary the <a href=\"http://courses.cs.vt.edu/csonline/SE/Lessons/OOP/index.html\">object-oriented paradigm</a>. In particular, it violates the principle that data is encapsulated in objects (that can be extended, information hiding, etc). Statics, in the way you are describing using them, are essentially to use them as a global variable to avoid dealing with issues like scope. However, global variables is one of the defining characteristics of procedural or imperative programming paradigm, not a characteristic of \"good\" object oriented code. This is not to say the procedural paradigm is bad, but I get the impression your supervisor expects you to be writing \"good object oriented code\" and you're really wanting to write \"good procedural code\". </p>\n\n<p>There are many gotchyas in Java when you start using statics that are not always immediately obvious. For example, if you have two copies of your program running in the same VM, will they shre the static variable's value and mess with the state of each other? Or what happens when you extend the class, can you override the static member? Is your VM running out of memory because you have insane numbers of statics and that memory cannot be reclaimed for other needed instance objects?</p>\n\n<p><strong>Object Lifetime:</strong>\nAdditionally, statics have a lifetime that matches the entire runtime of the program. This means, even once you're done using your class, the memory from all those static variables cannot be garbage collected. If, for example, instead, you made your variables non-static, and in your main() function you made a single instance of your class, and then asked your class to execute a particular function 10,000 times, once those 10,000 calls were done, and you delete your references to the single instance, all your static variables could be garbage collected and reused. </p>\n\n<p><strong>Prevents certain re-use:</strong>\nAlso, static methods cannot be used to implement an interface, so static methods can prevent certain object oriented features from being usable.</p>\n\n<p><strong>Other Options:</strong>\nIf efficiency is your primary concern, there might be other better ways to solve the speed problem than considering only the advantage of invocation being usually faster than creation. Consider whether the transient or volatile modifiers are needed anywhere. To preserve the ability to be inlined, a method could be marked as final instead of static. Method parameters and other variables can be marked final to permit certain compiler optimiazations based on assumptions about what can change those variables. An instance object could be reused multiple times rather than creating a new instance each time.  There may be compliler optimization switches that should be turned on for the app in general. Perhaps, the design should be set up so that the 10,000 runs can be multi-threaded and take advantage of multi-processor cores. If portablity isn't a concern, maybe a native method would get you better speed than your statics do.</p>\n\n<p>If for some reason you do not want multiple copies of an object, the <a href=\"http://www.javabeginner.com/learn-java/java-singleton-design-pattern\">singleton design pattern</a>, has advantages over static objects, such as thread-safety (presuming your singleton is coded well), permitting lazy-initialization, guaranteeing the object has been properly initialized when it is used, sub-classing, advantages in testing and refactoring your code, not to mention, if at some point you change your mind about only wanting one instance of an object it is MUCH easier to remove the code to prevent duplicate instances than it is to refactor all your static variable code to use instance variables. I've had to do that before, its not fun, and you end up having to edit a lot more classes, which increases your risk of introducing new bugs...so much better to set things up \"right\" the first time, even if it seems like it has its disadvantages. For me, the re-work required should you decide down the road you need multiple copies of something is probably one of most compelling reasons to use statics as infrequently as possible. And thus I would also disagree with your statement that statics reduce inter-dependencies, I think you will end up with code that is more coupled if you have lots of statics that can be directly accessed, rather than an object that \"knows how to do something\" on itself. </p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7084473#7084473", "question_id": 7026507, "answer_id": 7084473}, {"body": "<p>My $.02 is that several of these answers are confusing the issue, rather than saying \"statics are bad\" I think its better to talk about scoping and instances.</p>\n\n<p>What I would say is that a static is a \"class\" variables - it represenst a value that is shared across all instances of that class. Typically it should be scoped that way as well (protected or private to class and its instances).</p>\n\n<p>If you plan to put class-level behavior around it and expose it to other code, then a singleton may be a better solution to support changes in the future (as @Jessica suggested). This is because you can use interfaces at the instance/singleton level in ways that you can not use at the class level - in particular inheritance.</p>\n\n<p>Some thoughts on why I think some of the aspects in other answers are not core to the question...</p>\n\n<p>Statics are not \"global\". In Java scoping is controlled separately from static/instance. </p>\n\n<p>Concurrency is no less dangerous for statics than instance methods. It's still state that needs to be protected. Sure you may have 1000 instances with an instance variable each and only one static variable, but if the code accessing either isn't written in a thread-safe way you are still screwed - it just may take a little longer for you to realize it.</p>\n\n<p>Managing life cycle is an interesting argument, but I think it's a less important one. I don't see why its any harder to manage a pair of class methods like init()/clear() than the creation and destroying of a singleton instance. In fact, some might say a singleton is a little more complicated due to GC.</p>\n\n<p>PS, In terms of Smalltalk, many of its dialects do have class variables, but in Smalltalk classes are actually instances of Metaclass so they are really are variables on the Metaclass instance. Still, I would apply the same rule of thumb. If they are being used for shared state across instances then ok. If they are supporting public functionality you should look at a Singleton. Sigh, I sure do miss Smalltalk....</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7098611#7098611", "question_id": 7026507, "answer_id": 7098611}, {"body": "<p>Seems to me that you're asking about static variables but you also point out static methods in your examples.</p>\n\n<p>Static variables are not evil - they have its adoption as global variables like constants in most cases combined with final modifier, but as it said don't overuse them.</p>\n\n<p>Static methods aka utility method. It isn't generally a bad practice to use them but major concern is that they might <a href=\"http://java.dzone.com/articles/static-methods-are-death-testa\" rel=\"nofollow\">obstruct</a> testing.</p>\n\n<p>As a example of great java project that use a lot of statics and do it right way please look at <a href=\"http://www.playframework.org/\" rel=\"nofollow\">Play! framework</a>. There is also <a href=\"http://stackoverflow.com/questions/5192904/play-framework-uses-a-lot-of-statics\">discussion</a> about it in SO.</p>\n\n<p>Static variables/methods combined with static import are also widely used in libraries that facilitate declarative programming in java like: <a href=\"http://code.google.com/p/make-it-easy/\" rel=\"nofollow\">make it easy</a> or <a href=\"http://code.google.com/p/hamcrest/\" rel=\"nofollow\">Hamcrest</a>. It wouldn't be possible without a lot of static variables and methods.</p>\n\n<p>So static variables (and methods) are good but use them wisely!</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/7133275#7133275", "question_id": 7026507, "answer_id": 7133275}, {"body": "<p>If you are using the \u2018static\u2019 keyword without the \u2018final\u2019 keyword, this should be a signal to carefully consider your design. Even the presence of a \u2018final\u2019 is not a free pass, since a mutable static final object can be just as dangerous.</p>\n\n<p>I would estimate somewhere around 85% of the time I see a \u2018static\u2019 without a \u2018final\u2019, it is WRONG. Often, I will find strange workarounds to mask or hide these problems.</p>\n\n<p>Please don\u2019t create static mutables. Especially Collections. In general, Collections should be initialized when their containing object is initialized and should be designed so that they are reset or forgotten about when their containing object is forgotten.</p>\n\n<p>Using statics can create very subtle bugs which will cause sustaining engineers days of pain. I know, because I\u2019ve both created and hunted these bugs.</p>\n\n<p>If you would like more details, please read on\u2026</p>\n\n<p><strong>Why Not Use Statics?</strong></p>\n\n<p>There are many issues with statics, including writing and executing tests, as well as subtle bugs that are not immediately obvious.</p>\n\n<p>Code that relies on static objects can\u2019t be easily unit tested, and statics can\u2019t be easily mocked (usually).</p>\n\n<p>If you use statics, it is not possible to swap the implementation of the class out in order to test higher level components. For example, imagine a static CustomerDAO that returns Customer objects it loads from the database. Now I have a class CustomerFilter, that needs to access some Customer objects. If CustomerDAO is static, I can\u2019t write a test for CustomerFilter without first initializing my database and populating useful information.</p>\n\n<p>And database population and initialization takes a long time. And in my experience, your DB initialization framework will change over time, meaning data will morph, and tests may break. IE, imagine Customer 1 used to be a VIP, but the DB initialization framework changed, and now Customer 1 is no longer VIP, but your test was hard-coded to load Customer 1\u2026</p>\n\n<p>A better approach is to instantiate a CustomerDAO, and pass it into the CustomerFilter when it is constructed. (An even better approach would be to use Spring or another Inversion of Control framework.</p>\n\n<p>Once you do this, you can quickly mock or stub out an alternate DAO in your CustomerFilterTest, allowing you to have more control over the test,</p>\n\n<p>Without the static DAO, the test will be faster (no db initialization) and more reliable (because it won\u2019t fail when the db initialization code changes). For example, in this case ensuring Customer 1 is and always will be a VIP, as far as the test is concerned.</p>\n\n<p><strong>Executing Tests</strong></p>\n\n<p>Statics cause a real problem when running suites of unit tests together (for example, with your Continuous Integration server). Imagine a static map of network Socket objects that remains open from one test to another. The first test might open a Socket on port 8080, but you forgot to clear out the Map when the test gets torn down. Now when a second test launches, it is likely to crash when it tries to create a new Socket for port 8080, since the port is still occupied.  Imagine also that Socket references in your static Collection are not removed, and (with the exception of WeakHashMap) are never eligible to be garbage collected, causing a memory leak.</p>\n\n<p>This is an over-generalized example, but in large systems, this problem happens ALL THE TIME. People don\u2019t think of unit tests starting and stopping their software repeatedly in the same JVM, but it is a good test of your software design, and if you have aspirations towards high availability, it is something you need to be aware of.</p>\n\n<p>These problems often arise with framework objects, for example, your DB access, caching, messaging, and logging layers. If you are using Java EE or some best of breed frameworks, they probably manage a lot of this for you, but if like me you are dealing with a legacy system, you might have a lot of custom frameworks to access these layers.</p>\n\n<p>If the system configuration that applies to these framework components changes between unit tests, and the unit test framework doesn\u2019t tear down and rebuild the components, these changes can\u2019t take effect, and when a test relies on those changes, they will fail.</p>\n\n<p>Even non-framework components are subject to this problem. Imagine a static map called OpenOrders. You write one test that creates a few open orders, and checks to make sure they are all in the right state, then the test ends. Another developer writes a second test which puts the orders it needs into the OpenOrders map, then asserts the number of orders is accurate. Run individually, these tests would both pass, but when run together in a suite, they will fail.</p>\n\n<p>Worse, failure might be based on the order in which the tests were run.</p>\n\n<p>In this case, by avoiding statics, you avoid the risk of persisting data across test instances, ensuring better test reliability.</p>\n\n<p><strong>Subtle Bugs</strong></p>\n\n<p>If you work in high availability environment, or anywhere that threads might be started and stopped, the same concern mentioned above with unit test suites can apply when your code is running on production as well.</p>\n\n<p>When dealing with threads, rather than using a static object to store data, it is better to use an object initialized during the thread\u2019s startup phase. This way, each time the thread is started, a new instance of the object (with a potentially new configuration) is created, and you avoid data from one instance of the thread bleeding through to the next instance.</p>\n\n<p>When a thread dies, a static object doesn\u2019t get reset or garbage collected. Imagine you have a thread called \u201cEmailCustomers\u201d, and when it starts it populates a static String collection with a list of email addresses, then begins emailing each of the addresses. Lets say the thread is interrupted or canceled somehow, so your high availability framework restarts the thread. Then when the thread starts up, it reloads the list of customers. But because the collection is static, it might retain the list of email addresses from the previous collection. Now some customers might get duplicate emails.</p>\n\n<p><strong>An Aside: Static Final</strong></p>\n\n<p>The use of \u201cstatic final\u201d is effectively the Java equivalent of a C #define, although there are technical implementation differences. A C/C++ #define is swapped out of the code by the pre-processor, before compilation. A Java \u201cstatic final\u201d will end up memory resident on the stack. In that way, it is more similar to a \u201cstatic const\u201d variable in C++ than it is to a #define.</p>\n\n<p><strong>Summary</strong></p>\n\n<p>I hope this helps explain a few basic reasons why statics are problematic up. If you are using a modern Java framework like Java EE or Spring, etc, you may not encounter many of these situations, but if you are working with a large body of legacy code, they can become much more frequent.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/10307299#10307299", "question_id": 7026507, "answer_id": 10307299}, {"body": "<p>There are two main questions in your post.</p>\n\n<p>First, about static variables.\nStatic variables are completelly unnecesary and it's use can be avoided easily. In OOP languajes in general, and in Java particularlly, function parameters are pased by reference, this is to say, if you pass an object to a funciont, you are passing a pointer to the object, so you dont need to define static variables since you can pass a pointer to the object to any scope that needs this information. Even if this implies that yo will fill your memory with pointers, this will not necesary represent a poor performance because actual memory pagging systems are optimized to handle with this, and they will maintain in memory the pages referenced by the pointers you passed to the new scope; usage of static variables may cause the system to load the memory page where they are stored when they need to be accessed (this will happen if the page has not been accesed in a long time). A good practice is to put all that static stuf together in some little \"configuration clases\", this will ensure the system puts it all in the same memory page.</p>\n\n<p>Second, about static methods.\nStatic methods are not so bad, but they can quickly reduce performance. For example, think about a method that compares two objects of a class and returns a value indicating which of the objects is bigger (tipical comparison method) this method can be static or not, but when invoking it the non static form will be more eficient since it will have to solve only two references (one for each object) face to the three references that will have to solve the static version of the same method (one for the class plus two, one for each object). But as I say, this is not so bad, if we take a look at the Math class, we can find a lot of math functions defined as static methods. This is really more eficient than putting all these methods in the class defining the numbers, because most of them are rarelly used and including all of them in the number class will cause the class to be very complex and consume a lot of resources unnecesarilly.</p>\n\n<p>In concluson: Avoid the use of static variables and find the correct performance equilibrium when dealing with static or non static methods.</p>\n\n<p>PS: Sorry for my english.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/20933457#20933457", "question_id": 7026507, "answer_id": 20933457}, {"body": "<p>There's nothing wrong with static variables per se.  It's just the Java syntax that's broken.  Each Java class actually defines two structures- a singleton object which encapsulates static variables, and an instance.  Defining both in the same source block is pure evil, and results in a code that's hard to read.  Scala did that right.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/21728095#21728095", "question_id": 7026507, "answer_id": 21728095}, {"body": "<p><strong>Advantages:</strong></p>\n\n<p>Static members/methods are used as in helper classes say like Math or in constants classes. which helps other objects to utilize Strings or useful functions for which you do not need to create object but invoked using Class name.\nExample \u2013 singleton objects are invoked using a static function.</p>\n\n<p><strong>Disadvantages:</strong></p>\n\n<p>Static members are part of class and thus remain in memory till application terminates and can\u2019t be ever garbage collected. Using excess of static members sometime predicts that you fail to design your product and trying to cop of with static / procedural programming. It denotes that object oriented design is compromised. This can result in memory over flow.\nAlso there are certain disadvantages if you make any method static in Java for example you can not override any static method in Java so it makes testing harder you can not replace that method with mock. Since static method maintains global state they can create subtle bug in concurrent environment which is hard to detect and fix.</p>\n\n<p><strong>Things to remember:</strong></p>\n\n<p>The static variable will be part of the class definition rather than on the heap. However static variables are useful when you know there will be accesses to the object from multiple places. Access to static resources is not thread safe. You might get weird/unpredictable results in a threaded environment. But if your only reading the static value then using threads for it is fine.</p>\n\n<p><strong>How Static Breaks encapsulation:</strong></p>\n\n<p>The technical implementation of them is to allow state to be maintained across all instances of a class. The problem is that this is intrinsically not OOP because it disregards encapsulation. If a variable can be altered by any instance of a class then the fundamental principle behind encapsulation/information hiding is lost entirely: An object is no longer in complete control of its state. Its state now relies on variables which are essentially global. Which we know is bad. Even private static variables maintain state at a global level but simply limit its access. Any instance of the object can alter the static variable which causes ambiguity as individual instances of the object no longer have control over their own state. State changes can arbitrarily happen without knowledge of an object which relies on that state which is problematic because the object may not work correctly when this happens. Much as it\u2019s often said that \u201cInheritance breaks encapsulation\u201d statics do this in a far more severe way: By not just exposing internal implementation but also by exposing internal state.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/28021184#28021184", "question_id": 7026507, "answer_id": 28021184}, {"body": "<p>Think that if you have an application with many users and you have define a static form, then every user will modify all other forms of other users too.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/31872366#31872366", "question_id": 7026507, "answer_id": 31872366}, {"body": "<p>There are plenty of good answers here, adding to it, </p>\n\n<p>Memory:\n Static variables are live as long as the class loader lives[in general till VM dies], but this is only in-case of bulk objects/references stored as static.</p>\n\n<p>Modularization:\nconsider concepts like IOC, dependencyInjection, proxy etc.. All are completely against tightly coupling/static implementations.</p>\n\n<p>Other Con's: Thread Safety, Testability</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/35113398#35113398", "question_id": 7026507, "answer_id": 35113398}, {"body": "<p>I have just summarized some of the points made in the answers. If you find anything wrong please feel free to correct it.</p>\n\n<p><strong>Scaling:</strong> We have exactly one instance of a static variable per JVM. Suppose we are developing a library management system and we decided to put the name of book a static variable as there is only one per book. But if system grows and we are using multiple JVMs then we dont have a way to figure out which book we are dealing with?</p>\n\n<p><strong>Thread-Safety:</strong> Both instance variable and static variable need to be controlled when used in multi threaded environment. But in case of an instance variable it does not need protection unless it is explicitly shared between threads but in case of a static variable it is always shared by all the threads in the process. </p>\n\n<p><strong>Testing:</strong> Though testable design does not equal to good design but we will rarely observe a good design that is not testable. As static variables represent global state and it gets very difficult to test them.</p>\n\n<p><strong>Reasoning about state:</strong> If I create a new instance of a class then we can reason about the state of this instance but if it is having static variables then it could be in any state. Why? Because it is possible that the static variable has been modified by some different instance as static variable is shared across instances. </p>\n\n<p><strong>Serialization:</strong> Serialization also does not work well with them.</p>\n\n<p><strong>Creation and destruction:</strong> Creation and destruction of static variables can not be controlled. Usually they are created and destroyed at program loading and unloading time. It means they are bad for memory management and also add up the initialization time at start up.</p>\n\n<h2>But what if we really need them?</h2>\n\n<p>But sometimes we may have a genuine need of them. If we really feel the need of many static variables that are shared across the application then one option is to make use of Singleton Design pattern which will have all these variables. Or we can create some object which will have these static variable and can be passed around.</p>\n\n<p>Also if the static variable is marked final it becomes a constant and value assigned to it once cannot be changed. It means it will save us from all the problems we face due to its mutability.</p>\n", "title": "Why are static variables considered evil?", "tags": ["java", "static"], "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil/37340180#37340180", "question_id": 7026507, "answer_id": 37340180}], "creation_date": 1313068477, "score": 390, "link": "http://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil", "question_id": 7026507}, {"body": "<p>Is there some way of initializing a Java HashMap like this?:</p>\n\n<pre><code>Map&lt;String,String&gt; test = \n    new HashMap&lt;String, String&gt;{\"test\":\"test\",\"test\":\"test\"};\n</code></pre>\n\n<p>What would be the correct syntax? I have not found anything regarding this. Is this possible? I am looking for the shortest/fastet way to put some \"final/static\" values in a map that never change and are known in advance when crerating the Map.</p>\n", "tags": ["java", "collections", "map", "initialization"], "title": "How to directly initialize a HashMap (in a literal way)?", "answers": [{"body": "<p>No, you will have to add all the elements manually. You can use a static initializer though:</p>\n\n<pre><code>public class Demo\n{\n    private static final Map&lt;String, String&gt; myMap;\n    static\n    {\n        myMap = new HashMap&lt;String, String&gt;();\n        myMap.put(\"a\", \"b\");\n        myMap.put(\"c\", \"d\");\n    }\n}\n</code></pre>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/6802502#6802502", "question_id": 6802483, "answer_id": 6802502}, {"body": "<p>This is one way.</p>\n\n<pre><code>HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;() {{\n    put(\"a\",\"b\");\n}};\n</code></pre>\n\n<p>However, you should be careful and make sure that you understand the above code (it creates a new class that inherits from HashMap). Therefore, you should read more here:\n<a href=\"http://www.c2.com/cgi/wiki?DoubleBraceInitialization\">http://www.c2.com/cgi/wiki?DoubleBraceInitialization</a>\n, or simply use Guava:</p>\n\n<pre><code>Map&lt;String, Integer&gt; left = ImmutableMap.of(\"a\", 1, \"b\", 2, \"c\", 3);\n</code></pre>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/6802512#6802512", "question_id": 6802483, "answer_id": 6802512}, {"body": "<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;()\n{\n    {\n        put(key1, value1);\n        put(key2, value2);\n    }\n};\n</code></pre>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/6802520#6802520", "question_id": 6802483, "answer_id": 6802520}, {"body": "<p>There is no direct way to do this - Java has no Map literals (yet - I think they were proposed for Java 8).</p>\n\n<p>Some people like this:</p>\n\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;(){{\n       put(\"test\",\"test\"); put(\"test\",\"test\");}};\n</code></pre>\n\n<p>This creates an anonymous subclass of HashMap, whose instance initializer puts these values. (By the way, a map can't contain twice the same value, your second put will overwrite the first one. I'll use different values for the next examples.)</p>\n\n<p>The normal way would be this (for a local variable):</p>\n\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\ntest.put(\"test\",\"test\");\ntest.put(\"test1\",\"test2\");\n</code></pre>\n\n<p>If your <code>test</code> map is an instance variable, put the initialization in a constructor or instance initializer:</p>\n\n<pre><code>Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\n{\n    test.put(\"test\",\"test\");\n    test.put(\"test1\",\"test2\");\n}\n</code></pre>\n\n<p>If your <code>test</code> map is a class variable, put the initialization in a static initializer:</p>\n\n<pre><code>static Map&lt;String,String&gt; test = new HashMap&lt;String, String&gt;();\nstatic {\n    test.put(\"test\",\"test\");\n    test.put(\"test1\",\"test2\");\n}\n</code></pre>\n\n<p>If you want your map to never change, you should after the initialization wrap your map by <code>Collections.unmodifiableMap(...)</code>. You can do this in a static initializer too:</p>\n\n<pre><code>static Map&lt;String,String&gt; test;\n{\n    Map&lt;String,String&gt; temp = new HashMap&lt;String, String&gt;();\n    temp.put(\"test\",\"test\");\n    temp.put(\"test1\",\"test2\");\n    test = Collections.unmodifiableMap(temp);\n}\n</code></pre>\n\n<p>(I'm not sure if you can now make <code>test</code> final ... try it out and report here.)</p>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/6802523#6802523", "question_id": 6802483, "answer_id": 6802523}, {"body": "<p>If you allow 3rd party libs you can use <a href=\"https://code.google.com/p/guava-libraries/\">Guava</a>'s <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html\">ImmutableMap</a> to achieve literal-like brevity:</p>\n\n<pre><code>Map&lt;String, String&gt; test = ImmutableMap.of(\"k1\", \"v1\", \"k2\", \"v2\");\n</code></pre>\n\n<p>This works for up to <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html#of()\">5 key/value pairs</a>, otherwise you can use its <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html#builder()\">builder</a>:</p>\n\n<pre><code>Map&lt;String, String&gt; test = ImmutableMap.&lt;String, String&gt;builder()\n    .put(\"k1\", \"v1\")\n    .put(\"k2\", \"v2\")\n    ...\n    .build();\n</code></pre>\n\n<p><br/></p>\n\n<ul>\n<li>note that Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html\">ImmutableMap</a> implementation differs from Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\">HashMap</a> implementation (most notably it is immutable and does not permit null keys/values)</li>\n<li>for more info see Guava's user guide article on its <a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\">immutable collection types</a></li>\n</ul>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/17374339#17374339", "question_id": 6802483, "answer_id": 17374339}, {"body": "<p>An alternative, using plain Java 7 classes and varargs: create a class <code>HashMapBuilder</code> with this method:\n    </p>\n\n<pre><code>public static HashMap&lt;String, String&gt; build(String... data){\n    HashMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\n\n    if(data.length % 2 != 0) \n        throw new IllegalArgumentException(\"Odd number of arguments\");      \n\n    String key = null;\n    Integer step = -1;\n\n    for(String value : data){\n        step++;\n        switch(step % 2){\n        case 0: \n            if(value == null)\n                throw new IllegalArgumentException(\"Null key value\"); \n            key = value;\n            continue;\n        case 1:             \n            result.put(key, value);\n            break;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Use the method like this:</p>\n\n<pre><code>HashMap&lt;String,String&gt; data = HashMapBuilder.build(\"key1\",\"value1\",\"key2\",\"value2\");\n</code></pre>\n", "title": "How to directly initialize a HashMap (in a literal way)?", "tags": ["java", "collections", "map", "initialization"], "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way/17474581#17474581", "question_id": 6802483, "answer_id": 17474581}], "creation_date": 1311446433, "score": 370, "link": "http://stackoverflow.com/questions/6802483/how-to-directly-initialize-a-hashmap-in-a-literal-way", "question_id": 6802483}, {"body": "<p>Java is an optional package on the latest versions of OSX.  </p>\n\n<p>Yet once installed it appears like the <strong>JAVA_HOME</strong> environment variable is <strong>not set properly</strong>.</p>\n", "tags": ["java", "osx"], "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "answers": [{"body": "<p>With the Java optional package or Oracle JDK installed,\n  adding one of the following lines to your <strong>~/.bash_profile</strong> file will set the environment variable accordingly.</p>\n\n<pre><code>export JAVA_HOME=\"$(/usr/libexec/java_home -v 1.6)\"\nor\nexport JAVA_HOME=\"$(/usr/libexec/java_home -v 1.7)\"\nor\nexport JAVA_HOME=\"$(/usr/libexec/java_home -v 1.8)\"\n</code></pre>\n\n<p>Update: added <strong>-v</strong> flag based on <em>Jilles van Gurp</em> response.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/6588410#6588410", "question_id": 6588390, "answer_id": 6588410}, {"body": "<p>The above didn't work for me with Amazon's EC2 tools, because it expects <code>bin/java</code> etc. underneath <code>JAVA_HOME</code>. <code>/System/Library/Frameworks/JavaVM.framework/Home</code> did work.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/8312091#8312091", "question_id": 6588390, "answer_id": 8312091}, {"body": "<p>On Mac OS X Lion, to set visualgc to run, I used:</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home\n</code></pre>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/9029980#9029980", "question_id": 6588390, "answer_id": 9029980}, {"body": "<p><code>/usr/libexec/java_home</code> is not a directory but an executable. It outputs the currently configured JAVA_HOME and doesn't actually change it. That's what the Java Preferences app is for, which in my case seems broken and doesn't actually change the JVM correctly. It does list the 1.7 JVM but I can toggle/untoggle &amp; drag and drop all I want there without actually changing the output of <code>/usr/libexec/java_home</code>.</p>\n\n<p>Even after installing 1.7.0 u6 from Oracle on Lion and setting it as the default in the preferences, it still returned the apple 1.6 java home. The only fix that actually works for me is setting JAVA_HOME manually:</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_06.jdk/Contents/Home/\n</code></pre>\n\n<p>At least this way when run from the command line it will use 1.7. <code>/usr/libexec/java_home</code> still insists on 1.6.</p>\n\n<p><strong>Update</strong>: <a href=\"http://web.archive.org/web/20140813164713/http://blog.hgomez.net/blog/2012/07/20/understanding-java-from-command-line-on-osx/\">Understanding Java From Command Line on OSX</a> has a better explanation on how this works. </p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.7` \n</code></pre>\n\n<p>is the way to do it. Note, updating this to 1.8 works just fine.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/11967738#11967738", "question_id": 6588390, "answer_id": 11967738}, {"body": "<p>A better (more upgradable) way is to use the following:</p>\n\n<pre><code>/System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK/Home\n</code></pre>\n\n<p>This should work with AWS also since it has <code>bin</code> underneath Home</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/12842709#12842709", "question_id": 6588390, "answer_id": 12842709}, {"body": "<p>This answer is related to <strong>Mountain Lion</strong> and not Lion. I needed to do this for the AWS Command Line Tools. According to <a href=\"http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/SettingUp_CommandLine.html#java-runtime\" rel=\"nofollow\">the AWS docs</a>, running <code>which java</code> returns <code>/usr/bin/java</code>.</p>\n\n<p>So, I set <code>JAVA_HOME=/usr</code> in my <code>.bashrc</code>.</p>\n\n<p>Apparently, <code>/usr/bin/java</code> is a symbolic link to <code>/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java</code> which makes it all work.</p>\n\n<p><strong>Update</strong></p>\n\n<p>As mentioned in the comment below, this <code>JAVA_HOME</code> value is not an ideal solution when the <code>JAVA_HOME</code> environment variable is to be used by things other than the AWS Command Line Tools. It works fine for the AWS Command Line Tools, though, as given in their docs.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/13112409#13112409", "question_id": 6588390, "answer_id": 13112409}, {"body": "<p>For me, Mountain Lion 10.8.2, the solution most voted does not work.\nI installed jdk 1.7 via Oracle and maven from homebrew.</p>\n\n<p>My solution is from the hadoop-env.sh file of hadoop which I installed from homebrew, too.\nI add the below sentence in ~/.bash_profile, and it works.</p>\n\n<pre><code>export JAVA_HOME=\"$(/usr/libexec/java_home)\"\n</code></pre>\n\n<p>This solution also works for OS X Yosemite with Java 1.8 installed from Oracle.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/14086671#14086671", "question_id": 6588390, "answer_id": 14086671}, {"body": "<p>Got the same issue after I upgrade my Mac OS and following worked for me:</p>\n\n<ol>\n<li><p>cmd>vi ~/.bash_profile </p></li>\n<li><p>Add/update the line for JAVA_HOME:\nexport JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk1.7.0_15.jdk/Contents/Home\"</p></li>\n<li><p>cmd>source ~/.bash_profile or open a new terminal</p></li>\n</ol>\n\n<p>I think the jdk version might differ, so just use the version which you have under /Library/Java/JavaVirtualMachines/</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/16175619#16175619", "question_id": 6588390, "answer_id": 16175619}, {"body": "<p>Newer Oracle JVMs such as 1.7.0_21-b12 seem to install here:</p>\n\n<p><code>/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code></p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/16363855#16363855", "question_id": 6588390, "answer_id": 16363855}, {"body": "<p>My approach is:</p>\n\n<p>.bashrc</p>\n\n<pre><code>export JAVA6_HOME=`/usr/libexec/java_home -v 1.6`\nexport JAVA7_HOME=`/usr/libexec/java_home -v 1.7`\nexport JAVA_HOME=$JAVA6_HOME\n\n# -- optional\n# export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>This makes it very easy to switch between J6 and J7</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/19401399#19401399", "question_id": 6588390, "answer_id": 19401399}, {"body": "<p>For Mac OS X  10.9  I installed the latest version of JRE from Oracle and then reset the JAVA_HOME to /Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home. </p>\n\n<p>I am sure there is a better way but got me up and running. </p>\n\n<p>hughsmac:~ hbrien$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk1.7.0_45.jdk/Contents/Home</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/19601003#19601003", "question_id": 6588390, "answer_id": 19601003}, {"body": "<p>For OS X you can do:</p>\n\n<pre><code>export JAVA_HOME=`/System/Library/Frameworks/JavaVM.framework/Versions/Current/commands/java_home`\n</code></pre>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/25873429#25873429", "question_id": 6588390, "answer_id": 25873429}, {"body": "<p>The following worked for me. I'm using ZSH on OSX Yosemite with Java 8 installed.</p>\n\n<p>The following command <code>/usr/libexec/java_home</code> emits the path to JDK home:</p>\n\n<p><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home</code></p>\n\n<p>In your <code>~/.zshrc</code>,</p>\n\n<pre><code>export JAVA_HOME = \"/Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home\"\n</code></pre>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/26600056#26600056", "question_id": 6588390, "answer_id": 26600056}, {"body": "<p>If you are in need to have multiple versions of JDK under Mac OS X (Yosemite), it might be helpful to add some scripting for automated switching between them. </p>\n\n<p>What you do is to edit your <strong>~/.bash_profile</strong> and add the following:</p>\n\n<pre><code>function setjdk() {\n  if [ $# -ne 0 ]; then\n   removeFromPath '/System/Library/Frameworks/JavaVM.framework/Home/bin'\n   if [ -n \"${JAVA_HOME+x}\" ]; then\n    removeFromPath $JAVA_HOME\n   fi\n   export JAVA_HOME=`/usr/libexec/java_home -v $@`\n   export PATH=$JAVA_HOME/bin:$PATH\n  fi\n }\n function removeFromPath() {\n  export PATH=$(echo $PATH | sed -E -e \"s;:$1;;\" -e \"s;$1:?;;\")\n }\nsetjdk 1.7\n</code></pre>\n\n<p>What the script does is to first remove other JDK versions in the <strong>PATH</strong> so that they won\u2019t interfere with our new JDK version. Then it makes some clever use of <strong>/usr/libexec/java_home</strong> which is a command that lists installed JDK versions. The <strong>-v</strong> argument tells <strong>java_home</strong> to return the path of the JDK with the supplied version, for example 1.7. We also update the <strong>PATH</strong> to point to the bin directory of the newly found <strong>JAVA_HOME</strong> directory. At the end we can simply execute the function using</p>\n\n<pre><code>setjdk 1.7\n</code></pre>\n\n<p>which selects the latest installed JDK version of the 1.7 branch. To select a specific version you can simply execute</p>\n\n<pre><code>setjdk 1.7.0_51\n</code></pre>\n\n<p>instead. Run <strong>/usr/libexec/java_home -V</strong> to get more details on how to choose versions.</p>\n\n<p>P.S. Do not forget to  <strong>source ~/.bash_profile</strong> after you save it.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/26839070#26839070", "question_id": 6588390, "answer_id": 26839070}, {"body": "<p>OSX Yosemite, ZSH, and Java SE Runtime Environment 8, I had to: </p>\n\n<p><code>$ sudo ln -s /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands /System/Library/Frameworks/JavaVM.framework/Versions/Current/bin</code></p>\n\n<p>and in ~/.zshrc change JAVA_HOME to \n<code>export JAVA_HOME=\"/System/Library/Frameworks/JavaVM.framework/Versions/Current\"</code></p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/27025286#27025286", "question_id": 6588390, "answer_id": 27025286}, {"body": "<p>for mac user .\njava 8  should  add</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n# JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_05.jdk/Contents/Home\n</code></pre>\n\n<p>java 6 :</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.6`\n# JAVA_HOME=/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\n</code></pre>\n\n<p>ref :<a href=\"http://qiita.com/seri_k/items/e978c1339ce51f13e297\" rel=\"nofollow\">http://qiita.com/seri_k/items/e978c1339ce51f13e297</a></p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/30218490#30218490", "question_id": 6588390, "answer_id": 30218490}, {"body": "<p>For Mac Yosemite, </p>\n\n<p>JDK 1.7.0_xx is using</p>\n\n<pre><code>$ ls -ltar /usr/bin/java\n/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n\nJAVA_HOME\n\n/Library/Java/JavaVirtualMachines/jdk1.7.0_xx.jdk/Contents/Home\n</code></pre>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/30554138#30554138", "question_id": 6588390, "answer_id": 30554138}, {"body": "<p>None of these answers helped me. I suppose, all the answers are for older <code>OS X</code></p>\n\n<p>For OS X Yosemite 10.10, follow these steps</p>\n\n<p>Use your favorite text editor to open: <code>~/.bash_profile</code></p>\n\n<pre><code>//This command will open the file using vim\n$ vim ~/.bash_profile\n</code></pre>\n\n<p>Add the following line in the file and save it ( : followed by \"x\" for vim):</p>\n\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n\n<p>Then in the terminal type the follwoing two commands:</p>\n\n<pre><code>$ source ~/.bash_profile\n\n$ echo $JAVA_HOME\n</code></pre>\n\n<p>to see output.</p>\n\n<p>In the second line, you are updating the contents of <code>.bash_profile</code> file.</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/30836278#30836278", "question_id": 6588390, "answer_id": 30836278}, {"body": "<p>Anyone using AUSKEY from the Australian Tax Office (ATO) should uninstall AUSKEY. \nThis sorted out my JAVA_HOME issues. </p>\n\n<p>It is also no longer required for MAC users. Yah!</p>\n", "title": "Where is JAVA_HOME on OSX Yosemite (10.10), Mavericks (10.9), Mountain Lion (10.8) or OSX Lion (10.7)?", "tags": ["java", "osx"], "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10/32932373#32932373", "question_id": 6588390, "answer_id": 32932373}], "creation_date": 1309897174, "score": 370, "link": "http://stackoverflow.com/questions/6588390/where-is-java-home-on-osx-yosemite-10-10-mavericks-10-9-mountain-lion-10", "question_id": 6588390}, {"body": "<p>I am going through some blogs on SpringSource and in one of the blog author is using <code>@Inject</code> and I suppose he can also use <code>@Autowired</code></p>\n\n<p>Here is the piece of code:</p>\n\n<p><code>@Inject private CustomerOrderService customerOrderService;</code></p>\n\n<p>I am not sure about the difference between <code>@Inject</code> and <code>@Autowired</code> and would appreciate if someone can explain the difference and which one to use under what situation?</p>\n", "tags": ["java", "spring", "annotations", "autowired", "inject"], "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "answers": [{"body": "<p>Here is a <a href=\"http://blogs.sourceallies.com/2011/08/spring-injection-with-resource-and-autowired/#more-2350\">blog post</a> that compares <code>@Resource</code>, <code>@Inject</code>, and <code>@Autowired</code>, and appears to do a pretty comprehensive job.</p>\n\n<p>From the link:</p>\n\n<blockquote>\n  <p>With the exception of test 2 &amp; 7 the configuration and outcomes were\n  identical. When I looked under the hood I determined that the\n  \u2018@Autowired\u2019 and \u2018@Inject\u2019 annotation behave identically. Both of\n  these annotations use the \u2018AutowiredAnnotationBeanPostProcessor\u2019 to\n  inject dependencies. \u2018@Autowired\u2019 and \u2018@Inject\u2019 can be used\n  interchangeable to inject Spring beans. However the \u2018@Resource\u2019\n  annotation uses the \u2018CommonAnnotationBeanPostProcessor\u2019 to inject\n  dependencies. Even though they use different post processor classes\n  they all behave nearly identically. Below is a summary of their\n  execution paths.</p>\n</blockquote>\n\n<p>Tests 2 and 7 that the author references are 'injection by field name' and 'an attempt at resolving a bean using a bad qualifier', respectively.</p>\n\n<p>The Conclusion should give you all the information you need.</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/7143504#7143504", "question_id": 7142622, "answer_id": 7143504}, {"body": "<p>Assuming here you're referring to the <a href=\"http://download.oracle.com/javaee/6/api/javax/inject/Inject.html\"><code>javax.inject.Inject</code></a> annotations. <code>@Inject</code> is part of the Java CDI (<a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/giwhb.html\">Contexts and Dependency Injection</a>) standard introduced in Java EE 6 (JSR-299), <a href=\"http://www.oracle.com/technetwork/articles/javaee/javaee6overview-141808.html\">read more</a>. Spring has chosen to support using <code>@Inject</code> synonymously with their own <code>@Autowired</code> annotation.</p>\n\n<p>So, to answer your question, <code>@Autowired</code> is Spring's own (legacy) annotation. <code>@Inject</code> is part of a new Java technology called CDI that defines a standard for dependency injection similar to Spring. In a Spring application, the two annotations works the same way as Spring has decided to support some JSR-299 annotations in addition to their own.</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/7144137#7144137", "question_id": 7142622, "answer_id": 7144137}, {"body": "<p>To handle the situation in which there is no wiring, beans are available with <code>@Autowired</code> <code>required</code> attribute set to <code>false</code>.</p>\n\n<p>But when using <code>@Inject</code>, the Provider interface works with the bean which means that the bean is not injected directly but with the Provider.</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/9004279#9004279", "question_id": 7142622, "answer_id": 9004279}, {"body": "<p>As of Spring 3.0, Spring offers support for JSR-330 dependency injection annotations (<code>@Inject</code>, <code>@Named</code>, <code>@Singleton</code>).</p>\n\n<p>There is a <a href=\"http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-standard-annotations\">separate section in the Spring documentation</a> about them, including comparisons to their Spring equivalents.</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/17695848#17695848", "question_id": 7142622, "answer_id": 17695848}, {"body": "<p><code>@Inject</code> has no 'required' attribute</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/25380286#25380286", "question_id": 7142622, "answer_id": 25380286}, {"body": "<p>In addition to the above:</p>\n\n<ol>\n<li>The default scope for @Autowired beans is Singleton whereas using JSR 330 @Inject annotation it is like Spring's <code>prototype</code>.</li>\n<li>There is no equivalent of @Lazy in JSR 330 using @Inject</li>\n<li>There is no equivalent of @Value in JSR 330 using @Inject</li>\n</ol>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/30971805#30971805", "question_id": 7142622, "answer_id": 30971805}, {"body": "<p><code>@Autowired</code> annotation is defined in the Spring framework.</p>\n\n<p><code>@Inject</code> annotation is a standard annotation, which is defined in the standard <a href=\"https://jcp.org/en/jsr/detail?id=330\" rel=\"nofollow\">\"Dependency Injection for Java\" (JSR-330)</a>. Spring (since the version 3.0) supports the a generalized model of dependency injection which is defined in the standard JSR-330. (<a href=\"https://en.wikipedia.org/wiki/Google_Guice\" rel=\"nofollow\">Google Guice frameworks</a> and <a href=\"http://picocontainer.com/web\" rel=\"nofollow\">Picocontainer framework</a> is also support this model).</p>\n\n<p>With <code>@Inject</code> can be injected the reference to the implementation of the  <code>Provider</code> interface, which allows inject the deferred references.</p>\n\n<p>Annotations <code>@Inject</code> and <code>@Autowired</code>- is almost complete analogies. As well as <code>@Autowired</code> annotation, <code>@Inject</code> annotation can be used for automatic binding properties, methods, and constructors.</p>\n\n<p>In contrast to <code>@Autowired</code> annotation, <code>@Inject</code> annotation has no <code>required</code> attribute. Therefore, if the dependencies will not be found - will be thrown exception.</p>\n\n<p>There are also differences in the clarifications of the binding properties. If there is ambiguity in the choice of components for the injection the <code>@Named</code> qualifier should be added. In a similar situation for <code>@Autowired</code> annotation will be added <code>@Qualifier</code> qualifier (JSR-330 defines it's own <code>@Qualifier</code> annotation and via this qualifier annotation <code>@Named</code> is defined).</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/33015531#33015531", "question_id": 7142622, "answer_id": 33015531}, {"body": "<p>The key significant difference(noticed when reading the <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-standard-annotations-limitations\">Spring Docs</a>) between both the <code>@Autowired</code> and <code>@Inject</code> is that, <code>@Autowired</code> has the 'required' attribute while the @Inject has no 'required' attribute.</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/33753519#33753519", "question_id": 7142622, "answer_id": 33753519}, {"body": "<p>Better use @Inject all the time. Because it is java configuration approach(provided by sun) which makes our application agnostic to the framework. So if you spring also your classes will work.</p>\n\n<p>If you use @Autowired it will works only with spring because @Autowired is spring provided annotation.</p>\n", "title": "What is the difference between @Inject and @Autowired in Spring Framework? Which one to use under what condition?", "tags": ["java", "spring", "annotations", "autowired", "inject"], "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which/33944267#33944267", "question_id": 7142622, "answer_id": 33944267}], "creation_date": 1313980242, "score": 338, "link": "http://stackoverflow.com/questions/7142622/what-is-the-difference-between-inject-and-autowired-in-spring-framework-which", "question_id": 7142622}, {"body": "<p>In Eclipse, hovering over a method, variable, etc displays a tooltip with the corresponding JavaDocs. Is there such a feature in IntelliJ?</p>\n", "tags": ["java", "eclipse", "ide", "intellij-idea"], "title": "IntelliJ tooltip shows JavaDocs", "answers": [{"body": "<p>Up until IntelliJ version 11, no, not just by hovering over it. If the cursor is inside the method- or attribute name, then <kbd>CTRL</kbd>+<kbd>Q</kbd> will show the JavaDoc on *nix and Windows. On MacOSX, this is <kbd>CTRL</kbd>+<kbd>J</kbd>.</p>\n\n<p>Quote: <em>\"No, the only way to see the full javadoc is to use Quick Doc (Ctrl-Q).\"</em> -- <a href=\"http://devnet.jetbrains.net/thread/121174\">http://devnet.jetbrains.net/thread/121174</a></p>\n\n<h2>EDIT</h2>\n\n<p>Since IntelliJ 12.1, this <em>is</em> possible. See @ADNow's answer.</p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/6615678#6615678", "question_id": 6615516, "answer_id": 6615678}, {"body": "<p>After doing <kbd>CTRL</kbd>+<kbd>Q</kbd>, you can </p>\n\n<ol>\n<li>Pin the tooltip (top right corner)</li>\n<li>Check <em>Docked Mode</em> (under gear in top right after pinning)</li>\n<li>Size as desired</li>\n<li>Click icon for <em>Auto show documentation for selected item</em> </li>\n</ol>\n\n<p>Then when you move your cursor, the documentation will appear in this box.  It costs you a little screen real estate, but I find it's worth it.</p>\n\n<p>I'd post a screenshot but SO won't let me post images.</p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/14473955#14473955", "question_id": 6615516, "answer_id": 14473955}, {"body": "<p>It is possible in 12.1.</p>\n\n<p>Find <strong>idea.properties</strong> in the BIN folder inside of wherever your IDE is installed, e.g. C:\\Program Files (x86)\\JetBrains\\IntelliJ\\bin</p>\n\n<p>Add a new line to the end of that file:</p>\n\n<pre><code>auto.show.quick.doc=true\n</code></pre>\n\n<p>Start IDEA and just hover your mouse over something:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Itwst.png\" alt=\"enter image description here\"></p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/16357065#16357065", "question_id": 6615516, "answer_id": 16357065}, {"body": "<p>Adding on to what ADNow said. On the Macintosh: </p>\n\n<ol>\n<li>Right click on IntelliJ IDEA 12</li>\n<li>Click on the <strong>Show Package Contents</strong> menu option</li>\n<li>Open the <strong>bin</strong> folder</li>\n<li>Open <strong>idea.properties</strong></li>\n<li><p>Add the line:</p>\n\n<p>auto.show.quick.doc=true</p></li>\n</ol>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/16878699#16878699", "question_id": 6615516, "answer_id": 16878699}, {"body": "<p>IDEA has \"<strong>find action</strong>\":</p>\n\n<p>Open \"Help\" menu, type \"doc\", move cursor to \"<strong>Quick Documentation</strong>\" it will be highlighted.</p>\n\n<p>Also \"find action\" can be called from hot key (you can find it in settings->hotkeys)</p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/18141568#18141568", "question_id": 6615516, "answer_id": 18141568}, {"body": "<p>On my IntelliJ U on Mac I need to point with cursor on some method, variable etc. and press [cntrl] or [cmd] key. Then click on the link inside popup window which appeared to see JavaDocs </p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/19382821#19382821", "question_id": 6615516, "answer_id": 19382821}, {"body": "<p>For Intellij 13, there is a checkbox in Editor's page in IDE Settings</p>\n\n<p><img src=\"http://i.stack.imgur.com/K0Z2p.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>EDIT:</strong> For <strong>Intellij 14</strong>, the option has been moved to Editor > General page: its the last option in the \"Other\" group. (For Mac the option is under the menu \"IntelliJ Idea\" > \"Preferences\")</p>\n\n<p><strong>EDIT:</strong> For <strong>Intellij 16</strong>, it's the second-to-last option in Editor > General > Other. \n<strong>EDIT:</strong> For <strong>Intellij Ultimate 2016.1</strong>, it's been moved to Editor > General > Code Completion. \n<a href=\"http://i.stack.imgur.com/mZTMg.png\"><img src=\"http://i.stack.imgur.com/mZTMg.png\" alt=\"enter image description here\"></a></p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/20746942#20746942", "question_id": 6615516, "answer_id": 20746942}, {"body": "<p>In Intellij13, you can use Editor configuration like below:\n<img src=\"http://i.stack.imgur.com/X3LmL.png\" alt=\"enter image description here\"></p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/22646434#22646434", "question_id": 6615516, "answer_id": 22646434}, {"body": "<p>In IntelliJ IDEA 14, it has moved to: File -> Settings -> Editor -> General -> \"Show quick doc on mouse move\"</p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/26790949#26790949", "question_id": 6615516, "answer_id": 26790949}, {"body": "<p>File-->Settings-->Editor</p>\n\n<p>Check \"<em>Show quick doc on mouse</em>\"</p>\n\n<p>Now when you put the mouse over a method a tooltip with the documentation will appear. Sometimes the tooltip size is too small and you will have to resize it moving the mouse down to the bottom of the tooltip.</p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/27439666#27439666", "question_id": 6615516, "answer_id": 27439666}, {"body": "<p>IntelliJ IDEA 14.0.3 Ultimate: <br/><br/>Press <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>, then choose <code>Editor\\General</code> choose <code>Show quick domentation on mouse move</code><br/><br/>\n<img src=\"http://i.stack.imgur.com/1SV0h.png\" alt=\"enter image description here\"></p>\n\n<p>Tips: Look at the top right conner (gear icon) at JavaDoc pop-up window, You can choose:<br/>\n- Show Toolbar <br/>\n- Pinded Mode <br/>\n- Docked Mode <br/>\n- Floatting Mode <br/>\n- Split Mode <br/><br/>\n<img src=\"http://i.stack.imgur.com/rsPEf.png\" alt=\"enter image description here\"></p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/28369627#28369627", "question_id": 6615516, "answer_id": 28369627}, {"body": "<p>On mac in IntelliJ Ultimate (trial) 14 I have mine under <code>Settings &gt; Editor &gt; General &gt; Code completion</code>. The tooltip short is F1 on my laptop.</p>\n\n<p>It's called \"Autopopup documentation in (ms):\"</p>\n\n<p><img src=\"http://i.stack.imgur.com/Ow0P3.png\" alt=\"enter image description here\"></p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/30297703#30297703", "question_id": 6615516, "answer_id": 30297703}, {"body": "<p>For Intellij 15, use the checkbox in <code>File &gt; Settings &gt; Editor &gt; General</code> option <strong>Show quick documentation on mouse move</strong>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/3JJ8A.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/3JJ8A.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also get there by typing \"quick\" or something similar in the search box:</p>\n\n<p><a href=\"http://i.stack.imgur.com/gUrkt.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/gUrkt.png\" alt=\"enter image description here\"></a></p>\n", "title": "IntelliJ tooltip shows JavaDocs", "tags": ["java", "eclipse", "ide", "intellij-idea"], "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs/36449603#36449603", "question_id": 6615516, "answer_id": 36449603}], "creation_date": 1310064152, "score": 314, "link": "http://stackoverflow.com/questions/6615516/intellij-tooltip-shows-javadocs", "question_id": 6615516}, {"body": "<p>Several times I've been criticized for having suggested the use of the following methods:</p>\n\n<ol>\n<li><strong>setPreferredSize</strong></li>\n<li><strong>setMinimumSize</strong></li>\n<li><strong>setMaximumSize</strong></li>\n</ol>\n\n<p>on <code>Swing</code> components. I don't see any alternative to their use when I want to define proportions between displayed components. I have been told this:</p>\n\n<blockquote>\n  <p>With layouts the answer is always the same: use a suitable\n  LayoutManager</p>\n</blockquote>\n\n<p>I have searched the web a little bit, but I haven't found any comprehensive analysis of the subject. So I have the following questions:</p>\n\n<ol>\n<li>Should I completely avoid the use of those methods?</li>\n<li>The methods have been defined for a reason. So when should I use them? In which context? For what purposes? </li>\n<li>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution).</li>\n<li>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout ? </li>\n<li>If the answer to 4 is \"yes\", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain?</li>\n<li>In a situation where I need to define proportions between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?</li>\n</ol>\n\n<p>I hope to have been clear.</p>\n", "tags": ["java", "swing", "layout-manager"], "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "answers": [{"body": "<blockquote>\n  <p>In a situation where I need to define proportions between children of a Component (child 1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom layout manager?</p>\n</blockquote>\n\n<p>Maybe <code>GridBagLayout</code> would satisfy your needs. Besides that, there's a ton of layout managers on the web, and I bet there's one that fits your requirements.</p>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/7229274#7229274", "question_id": 7229226, "answer_id": 7229274}, {"body": "<p>If you are having trouble with layouts in Java Swing, then I can highly recommend the JGoodies <code>FormLayout</code> provided freely as part of the Forms freeware library by Karsten Lentzsch <a href=\"http://www.jgoodies.com/freeware/forms/\">here</a>.</p>\n\n<p>This very popular layout manager is extremely flexible, allowing for very polished Java UIs to be developed.</p>\n\n<p>You'll find Karsten's documentation in this <a href=\"http://www.jgoodies.com/articles/forms.pdf\">pdf</a>, and some rather good documentation from google <a href=\"http://code.google.com/javadevtools/wbpro/layoutmanagers/swing/jgoodies_formlayout.html\">here</a>.</p>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/7229416#7229416", "question_id": 7229226, "answer_id": 7229416}, {"body": "<ol>\n<li><blockquote>\n  <p>Should I completely avoid the use of those methods?</p>\n</blockquote>\n\n<p>Yes for application code.</p></li>\n<li><blockquote>\n  <p>The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</p>\n</blockquote>\n\n<p>I don't know, personally I think of it as an API design accident. Slightly forced by compound components having special ideas about child sizes. \"Slightly\", because they should have implemented their needs with a custom LayoutManager.</p></li>\n<li><blockquote>\n  <p>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution.)</p>\n</blockquote>\n\n<p>Some (incomplete, and unfortunately the links are broken due to migration of SwingLabs to java.net) technical reasons are for instance mentioned in the <a href=\"http://web.archive.org/web/20110614145256/http://wiki.java.net/twiki/bin/view/Javadesktop/SwingLabsImperialRules?TWIKISID=e1a6667476691b56753dc9b0744828c6#Do_not_use_component_setXXSize\">Rules (hehe)</a> or in the <a href=\"http://web.archive.org/web/20100207211337/http://www.jguru.com/faq/view.jsp?EID=237070\">link</a> @bendicott found in his/her comment to <a href=\"http://stackoverflow.com/questions/7074514/images-in-jtable-cells-off-by-one-pixel\">my answer</a>. Socially, posing tons of work onto your unfortunate fellow who has to maintain the code and has to track down a broken layout.</p></li>\n<li><blockquote>\n  <p>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout?</p>\n</blockquote>\n\n<p>Yes, there are LayoutManagers powerful enough to satisfy a very good approximation to \"all layout needs\". The big three are JGoodies FormLayout, MigLayout, DesignGridLayout. So no, in practice, you rarely write LayoutManagers except for simple highly specialized environments.</p></li>\n<li><blockquote>\n  <p>If the answer to 4 is \"yes\", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain? </p>\n</blockquote>\n\n<p>(The answer to 4 is \"no\".)</p></li>\n<li><blockquote>\n  <p>In a situation where I need to define proportions between children of a Component (for example, child 1 should use 10% of space, child 2 40%, child 3 50%), is it possible to achieve that without implementing a custom LayoutManager?</p>\n</blockquote>\n\n<p>Any of the Big-Three can, can't even GridBag (never bothered to really master, too much trouble for too little power).</p></li>\n</ol>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/7229519#7229519", "question_id": 7229226, "answer_id": 7229519}, {"body": "<p>A few heuristics:</p>\n\n<ul>\n<li><p>Don't use <code>set[Preferred|Maximum|Minimum]Size()</code> when you really mean to override <code>get[Preferred|Maximum|Minimum]Size()</code>, as might be done in creating your own component, shown <a href=\"http://stackoverflow.com/a/10110232/230513\">here</a>.</p></li>\n<li><p>Don't use <code>set[Preferred|Maximum|Minimum]Size()</code> when you could rely on a component's carefully overridden <code>getPreferred|Maximum|Minimum]Size</code>, as shown <a href=\"http://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\">here</a> and below.</p></li>\n<li><p>Do use <code>set[Preferred|Maximum|Minimum]Size()</code> to derive post-<code>validate()</code> geometry, as shown below and <a href=\"http://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\">here</a>.</p></li>\n<li><p>If a component has no preferred size, e.g. <code>JDesktopPane</code>, you may have to size the container, but any such choice is arbitrary. A comment may help clarify the intent.</p></li>\n<li><p>Consider alternate or custom layouts when you find that you would have to loop through many components to obtain derived sizes, as mentioned in these <a href=\"http://stackoverflow.com/questions/3174765/variable-layout-in-swing/3175280#3175280\">comments</a>.</p></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/hYh36.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.KeyboardFocusManager;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JComponent;\nimport javax.swing.JDesktopPane;\nimport javax.swing.JFrame;\nimport javax.swing.JInternalFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\n/**\n * @see http://stackoverflow.com/questions/7229226\n * @see http://stackoverflow.com/questions/7228843\n */\npublic class DesignTest {\n\n    private List&lt;JTextField&gt; list = new ArrayList&lt;JTextField&gt;();\n    private JPanel panel = new JPanel();\n    private JScrollPane sp = new JScrollPane(panel);\n\n    public static void main(String args[]) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                DesignTest id = new DesignTest();\n                id.create(\"My Project\");\n            }\n        });\n    }\n\n    private void addField(String name) {\n        JTextField jtf = new JTextField(16);\n        panel.add(new JLabel(name, JLabel.LEFT));\n        panel.add(jtf);\n        list.add(jtf);\n    }\n\n    private void create(String strProjectName) {\n        panel.setLayout(new GridLayout(0, 1));\n        addField(\"First Name:\");\n        addField(\"Last Name:\");\n        addField(\"Address:\");\n        addField(\"City:\");\n        addField(\"Zip Code:\");\n        addField(\"Phone:\");\n        addField(\"Email Id:\");\n        KeyboardFocusManager.getCurrentKeyboardFocusManager()\n            .addPropertyChangeListener(\"permanentFocusOwner\",\n            new FocusDrivenScroller(panel));\n        // Show half the fields\n        sp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        sp.validate();\n        Dimension d = sp.getPreferredSize();\n        d.setSize(d.width, d.height / 2);\n        sp.setPreferredSize(d);\n\n        JInternalFrame internaFrame = new JInternalFrame();\n        internaFrame.add(sp);\n        internaFrame.pack();\n        internaFrame.setVisible(true);\n\n        JDesktopPane desktopPane = new JDesktopPane();\n        desktopPane.add(internaFrame);\n\n        JFrame frmtest = new JFrame();\n        frmtest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frmtest.add(desktopPane);\n        frmtest.pack();\n        // User's preference should be read from java.util.prefs.Preferences\n        frmtest.setSize(400, 300);\n        frmtest.setLocationRelativeTo(null);\n        frmtest.setVisible(true);\n        list.get(0).requestFocusInWindow();\n    }\n\n    private static class FocusDrivenScroller implements PropertyChangeListener {\n\n        private JComponent parent;\n\n        public FocusDrivenScroller(JComponent parent) {\n            this.parent = parent;\n        }\n\n        @Override\n        public void propertyChange(PropertyChangeEvent evt) {\n            Component focused = (Component) evt.getNewValue();\n            if (focused != null\n                &amp;&amp; SwingUtilities.isDescendingFrom(focused, parent)) {\n                parent.scrollRectToVisible(focused.getBounds());\n            }\n        }\n    }\n}\n</code></pre>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/7229662#7229662", "question_id": 7229226, "answer_id": 7229662}, {"body": "<blockquote>\n  <p>Should I completely avoid the use of those methods?</p>\n</blockquote>\n\n<p>No, there is no formal evidence to suggest calling or overriding these methods is not allowed. In fact Oracle says these methods are used for giving size hints: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html#sizealignment\">http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html#sizealignment</a>.</p>\n\n<p>They may also be overriden (which is the best practice for Swing) when <em>extending</em> a Swing component (rather then calling the method on the custom component instance)</p>\n\n<p>Most importatly no matter how you specify your component's size, be sure that your component's container uses a layout manager that respects the requested size of the component. </p>\n\n<blockquote>\n  <p>The methods have been defined for a reason. So when should I use them?\n  In which context? For what purposes?</p>\n</blockquote>\n\n<p>When you need to provide customized size hints to the containers Layout manager, so that the component will be laid out well</p>\n\n<blockquote>\n  <p>What exactly are the negative consequences of using those methods? (I\n  can only think adding portability between systems with different\n  screen resolution).</p>\n</blockquote>\n\n<ul>\n<li><p>Many layout managers do not pay attention to a component's requested maximum size. However, <code>BoxLayout</code> and <code>SpringLayout</code> do. Furthermore, <code>GroupLayout</code> provides the ability to set the minimum, preferred or maximum size explicitly, without touching the component.</p></li>\n<li><p>Make sure that you really need to set the component's exact size. Each Swing component has a different preferred size, depending on the font it uses and the look and feel. Thus having a set size might produce varied <em>looks</em> of the UI on different Systems</p></li>\n<li><p>sometimes problems can be encountered with <code>GridBagLayout</code> and text fields, wherein if the size of the container is smaller than the preferred size, the minimum size gets used, which can cause text fields to shrink quite substantially.</p></li>\n<li><p><code>JFrame</code> does not enforce overriden <code>getMinimumSize()</code> only calling <code>setMinimumSize(..)</code> on its works</p></li>\n</ul>\n\n<blockquote>\n  <p>I don't think any LayoutManager can exactly satisfy all desired layout\n  needs. Do I really need to implement a new LayoutManager for every\n  little variation on my layout ?</p>\n</blockquote>\n\n<p>If by implementing you mean using then yes. Not one <code>LayoutManger</code> can handle everything, each <code>LayoutManager</code> has its pros and cons thus each can be used together to produce the final layout.</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/problems.html\">http://docs.oracle.com/javase/tutorial/uiswing/layout/problems.html</a></li>\n</ul>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/12665828#12665828", "question_id": 7229226, "answer_id": 12665828}, {"body": "<p>These methods are poorly understood by most people. You should absolutely not ignore these methods. It is up to the layout manager if they honor these methods. This page has a table that shows which layout managers honor which of those methods:</p>\n\n<p><a href=\"http://thebadprogrammer.com/swing-layout-manager-sizing/\">http://thebadprogrammer.com/swing-layout-manager-sizing/</a></p>\n\n<p>I have been writing Swing code for 8+ years and the layout managers included in the JDK have always served my needs. I have never needed a 3rd party layout manager to achieve my layouts.</p>\n\n<p>I will say that you shouldn't try to give the layout manager hints with these methods until you are sure you need them. Do your layout without giving any sizing hints (i.e. let the layout manager do its job) and then you can make minor corrections if you need to.</p>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/15622005#15622005", "question_id": 7229226, "answer_id": 15622005}, {"body": "<p>There are a lot of good answers here but I want to add a little more about the reasons <em>why</em> you should normally avoid these (the question just came up again in a duplicate topic):</p>\n\n<p>With few exceptions, if you are using these methods you are probably fine-tuning your GUI to look good on a specific look-and-feel (and with your system-specific settings, e.g. your preferred desktop font, etc.). The methods themselves aren't inherently evil, but the typical reasons for using them <em>are</em>. As soon as you start tuning pixel positions and sizes in a layout you run the risk of your GUI breaking (or at minimum, looking bad), on other platforms.</p>\n\n<p>As an example of this, try changing your application's default look-and-feel. Even just with the options available on your platform, you may be surprised at how poorly the results can be rendered.</p>\n\n<p>So, in the name of keeping your GUI functional and nice-looking on all platforms (remember, one of the major benefits of Java is its cross-platformness), you should rely on layout managers, etc., to automatically adjust the sizes of your components so that it renders correctly outside of your specific development environment.</p>\n\n<p>All that said, you can certainly conceive of situations where these methods are justified. Again, they aren't inherently evil, but their usage is normally a <strong>big</strong> red flag indicating potential GUI issues. Just make sure you are aware of the high potential for complications if/when you use them, and always try and think if there is another look-and-feel-independent solution to your problems -- more often than not you will find that these methods are not necessary.</p>\n\n<p>By the way, if you find yourself getting frustrated with standard layout managers, there are a lot of good free, open-source third-party ones, for example <a href=\"http://www.jgoodies.com/freeware/libraries/forms/\">JGoodies' <code>FormLayout</code></a>, or <a href=\"http://www.miglayout.com/\"><code>MigLayout</code></a>. Some GUI builders even have built-in support for third-party layout managers -- Eclipse's WindowBuilder GUI editor, for example, ships with support for <code>FormLayout</code> and <code>MigLayout</code>.</p>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/22306554#22306554", "question_id": 7229226, "answer_id": 22306554}, {"body": "<p>I am seeing it differenty than the accepted answer.</p>\n\n<h3>1) Should I completely avoid the use of those methods?</h3>\n\n<p>Never avoid! They're there to express the size constraints of your components to the layout manager. You can avoid using them if you're not using any layout manager and try to manage the visual layout on your own.</p>\n\n<p>Unfortunately, Swing is not coming with reasonable default dimensions. However, instead of setting the dimensions of a component, it is better OOP to descend your own component with reasonable defaults. (In that case you call setXXX in your descendant class.) Alternatively, you can override the getXXX methods for the same effect.</p>\n\n<h3>2) The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</h3>\n\n<p>Always. When you create a component, set its realistic min/preferred/max size according to the use of that component. For example, if you have a JTextField for entering country symbols such as UK, its preferred size shall be as wide to fit two chars (with the current font, etc.) but probably it is meaningless to let it grow any bigger. After all, country symbols are two chars. \nAs opposite, if you have a JTextField for entering e.g. a customer name, it can have a preferred size for like the pixel size for 20 chars, but can grow to bigger if the layout is resized, so set the maximum size to more. At the same time, having a 0px wide JTextField is pointless, so set a realistic minimum size (I would say the pixel size of 2 chars).</p>\n\n<h3>3) What exactly are the negative consequences of using those methods?</h3>\n\n<p>(I can only think adding portability between systems with different screen resolution).</p>\n\n<p>No negative consequences. These are hints for the layout manager.</p>\n\n<h3>4) I don't think any LayoutManager can exactly satisfy all desired layout needs.</h3>\n\n<p>Do I really need to implement a new LayoutManager for every little variation on my layout ?</p>\n\n<p>No, definitely not. The usual approach is to cascade different basic layoutmanagers such as horizontal and vertical layout.</p>\n\n<p>For example, the layout below:</p>\n\n<pre><code>&lt;pre&gt;\n+--------------+--------+\n| ###JTABLE### | [Add]  | \n| ...data...   |[Remove]|\n| ...data...   |        |\n| ...data...   |        |\n+--------------+--------+\n&lt;/pre&gt;\n</code></pre>\n\n<p>is having two parts. The left and right parts are a horizontal layout. The right part is a JPanel added to the horizontal layout, and this JPanel is having a vertical layout which lays out the buttons vertically.</p>\n\n<p>Of course, this can grow tricky with a real life layout. Therefore grid-based layout managers such as MigLayout are much better if you're about to develop anything serious.</p>\n\n<h3>5) If the answer to 4 is \"yes\", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain?</h3>\n\n<p>No, you definitely shall not develop layout managers, unless you need something very special.</p>\n\n<h3>6) In a situation where I need to define proportions...</h3>\n\n<p>between children of a Component (eg, child1 should use 10% of space, child2 40% ,child3 50%), is it possible to achieve that without implementing a custom LayoutManager?</p>\n\n<p>Basically, once the preferred sizes are set right, you may not want to do anything in percentage. Simply, because percentages are pointless (e.g. it is pointless to have a JTextField 10% of the window size - since one can shrink the window so that JTextField becomes 0px wide, or can expand the window so that the JTextField is across two displays on a multi-display setup).</p>\n\n<p>But, may times you may use the percentages to control sizes of bigger building blocks of your gui (panels, for example).</p>\n\n<p>You can use JSplitPane where you can pre-set the ratio of the two sides. Or, you can use MigLayout which allows you to set such constraints in percentage, pixels, and other units.</p>\n", "title": "Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?", "tags": ["java", "swing", "layout-manager"], "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi/35442048#35442048", "question_id": 7229226, "answer_id": 35442048}], "creation_date": 1314615751, "score": 314, "link": "http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi", "question_id": 7229226}, {"body": "<p>Is there a way to get the android app version from code? Is it possible to do so?</p>\n", "title": "Get application version programatically in android", "tags": ["java", "android"], "creation_date": 1309941314, "score": 309, "link": "http://stackoverflow.com/questions/6593592/get-application-version-programatically-in-android", "question_id": 6593592}, {"body": "<p>Did anybody have similar problem with this, I import android project and I get \nerrors like </p>\n\n<pre><code>[2011-10-03 17:20:09 - Screen] Android requires compiler compliance level 5.0 or 6.0. Found '1.7' instead. Please use Android Tools &gt; Fix Project Properties.\n[2011-10-03 17:21:55 - App] Android requires compiler compliance level 5.0 or 6.0. Found '1.7' instead. Please use Android Tools &gt; Fix Project Properties.\n[2011-10-03 17:21:59 - App] Android requires compiler compliance level 5.0 or 6.0. Found '1.7' instead. Please use Android Tools &gt; Fix Project Properties.\n</code></pre>\n\n<p>I got errors to delete all @Override above functions. I have Windows 7 x64, jvm7 x64. Does anyone have clue what is wrong ?( I done Android Tools -> Fix Project Properties but didn;t help )</p>\n", "tags": ["java", "android"], "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "answers": [{"body": "<p>I would recommend using x86 version of jvm. When I first got my new laptop (x64), I wanted to go x64 all the way (jvm, jdk, jre, eclipse, etc..). But once I finished setting everything up I realized that the Android SDK wasn't x64, so I had issues. Go back to x86 jvm and you should be ok.</p>\n\n<p>EDIT: 11/14/13</p>\n\n<p>I've seen some recent activity and figured I would elaborate a little more.</p>\n\n<p>I did not say it would not work with x64, I just recommended using x86.</p>\n\n<p>Here is a good post on the advantages / disadvantages of x64 JDK. <a href=\"http://stackoverflow.com/questions/200147/benefits-of-64bit-java-platform\">Benefits of 64bit Java platform</a></p>\n\n<p>Thought process: To what end? Why am I trying to using 64 bit JDK? Just because I have a 64-bit OS? Do I need any of the features of 64-bit JDK? Are there any extra features in the 64-bit JDK?! Why won't this s*** play nice together!? F*** it I'm going 32-bit.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/7637307#7637307", "question_id": 7637144, "answer_id": 7637307}, {"body": "<p>That isn't the problem, Jack. Android SDK isn't x64, but works ok with x64 jvm (and x64 eclipse IDE).</p>\n\n<p>As helios said, you must set project compatibility to Java 5.0 or Java 6.0.</p>\n\n<p>To do that, 2 options: </p>\n\n<ol>\n<li>Right-click on your project and select <code>\"Android Tools -&gt; Fix\nProject Properties\"</code> (if this din't work, try second option)</li>\n<li>Right-click on your project and select <code>\"Properties -&gt; Java\n    Compiler\"</code>, check <strong>\"Enable project specific settings\"</strong> and select\n1.5 or 1.6 from <strong>\"Compiler compliance settings\"</strong> select box.</li>\n</ol>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/7665535#7665535", "question_id": 7637144, "answer_id": 7665535}, {"body": "<ol>\n<li><p>Go to the project folder and right click on it -<code>&gt; properties -&gt;</code> check off the read only box and click ok</p></li>\n<li><p>Right-click on your project and select <code>\"Android Tools -&gt; Fix Project Properties\"</code> </p></li>\n<li><p>Right-click on your project and select <code>\"Properties -&gt; Java Compiler\"</code>, check <code>\"Enable project specific settings\"</code> and select 1.5 or 1.6 from \"Compiler compliance settings\" select box. (try all the levels one by one just in case)</p></li>\n<li><p>Under <code>Window -&gt; Preferences -&gt; Java -&gt; Compiler</code>, set Compiler compliance level to 1.6 or 1.5.</p></li>\n</ol>\n\n<p>Hopefully it will settle the problem.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/8358609#8358609", "question_id": 7637144, "answer_id": 8358609}, {"body": "<p>I would suggest that u check for the jar files are properly included in your projects. There are possibility that in absence of jar files, the project will not be compiled</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/9092333#9092333", "question_id": 7637144, "answer_id": 9092333}, {"body": "<p>i come across this problem cause my debug.keystore is expired, so i deleted the debug.keystore     under .android folder, and the eclipse will regenerate a new debug.keystore, then i fixed th</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/10360240#10360240", "question_id": 7637144, "answer_id": 10360240}, {"body": "<p>As BMSAndroidDroid said, this problem may be caused by a wrong build path configuration.</p>\n\n<p>If you included some libraries to your build path, then move the libraries, the build path will conserve the wrong references, will not found the libraries during compilation and you will get an error.</p>\n\n<p>To fix it, right click on your project folder > build path > configure build path\nThen take a look to the library tab, and remove the old libraries.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/11340198#11340198", "question_id": 7637144, "answer_id": 11340198}, {"body": "<p>I agree with BMSAndroidDroid and Flo-Scheild-Bobby. I was doing a tutorial called DailyQuote and had used the Cordova library. I then changed my OS from Windows to Ubuntu and tried to import projects into Eclipse, (I'm using Eclipse Juno 64-bit, on <code>Ubuntu 12.04 64-bit</code>, Oracle JDK 7. I also installed the Ubuntu 32-bit libs- so no issues with 64 and 32bit), and got the same issue.</p>\n\n<p>As suggested by Flo-Scheild-Bobby, open configure build path and add the jar(s) again that you added before. Then remove the old jar link(s) and thats it.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/11600370#11600370", "question_id": 7637144, "answer_id": 11600370}, {"body": "<p>Doing <code>Project</code> -> <code>Clean...</code> fixed it for me.</p>\n\n<p>My eclipse had stopped working so I cleaned <code>workspace</code> directory and after I run eclipse when I import the project I had this problem. Other solutions suggested here didn't work.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/11904630#11904630", "question_id": 7637144, "answer_id": 11904630}, {"body": "<p>In my case a switch from openjdk7 to openjdk6 helped. Afterwards I changed the compliance level to 1.6 and all compiled fine.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/11915343#11915343", "question_id": 7637144, "answer_id": 11915343}, {"body": "<p>For most of the people still receiving the error after fixing project properties, you probably installed Java 7 SDK when setting up your environment, but it is not currently supported for Android development.</p>\n\n<p>As the error message sais, you should have installed Java 5.0 or 6.0, but Java 7 was found.</p>\n\n<p>If you fix project properties without first installing Java 5 or 6, you will see the same error again.</p>\n\n<ul>\n<li>So first, ensure you have Java SDK 5 or 6 installed, or install it.</li>\n<li>Check your environment variable (JAVA_HOME) is pointing to SDK 5/6.</li>\n</ul>\n\n<p>And then:</p>\n\n<ul>\n<li>Check that Eclipse is using SDK 5/6 by default (Window => Prefs. => Java => Compiler</li>\n<li>Disable Project Specific Settings (Project Properties => Java Compiler)</li>\n<li>Fix Project Properties</li>\n</ul>\n\n<p>OR </p>\n\n<ul>\n<li>Leave Eclipse using JDK 7 by default.</li>\n<li>Enable Project Specific Settings (Project Properties => Java Compiler)</li>\n<li>Select Compiler Compliance 1.5 or 1.6 (Project Properties => Java Compiler)</li>\n</ul>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/12954991#12954991", "question_id": 7637144, "answer_id": 12954991}, {"body": "<p>I fixed this problem employing the two procedures of :</p>\n\n<ol>\n<li><p>In Eclipse->'Project' menu -> 'Java Compiler' -> set 'Compiler compliance level' = 1.6\ncheck on 'Use default compliance settings'\nSet 'Generated .class compatibility' = 1.6\nSet 'Source compatibilty' = 1.6</p></li>\n<li><p>Then go to 'Windows' menu --> 'Preferences' -->'Java' , expand 'Java' --> 'Compiler' -->Set 'Compiler compliance level' = 1.6</p></li>\n</ol>\n\n<p>Hint: Source compatibility must be equal to or less than compliance level.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/13181385#13181385", "question_id": 7637144, "answer_id": 13181385}, {"body": "<p>Following worked for me</p>\n\n<pre><code>Enable project-specific settings and set the compliance level to 1.6\n</code></pre>\n\n<p>How can you do that?</p>\n\n<p>In your Eclipse <code>Package Explorer</code> 3rd click on your project and select <code>properties</code>. Properties Window will open. Select <code>Java Compiler</code> on the left panel of the window. Now <code>Enable project specific settings</code> and set the <code>Complier compliance level</code> to <code>1.6</code>. Select <code>Apply</code> and then <code>OK</code>.</p>\n", "title": "Android requires compiler compliance level 5.0 or 6.0. Found &#39;1.7&#39; instead. Please use Android Tools &gt; Fix Project Properties", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea/17187087#17187087", "question_id": 7637144, "answer_id": 17187087}], "creation_date": 1317655896, "score": 264, "link": "http://stackoverflow.com/questions/7637144/android-requires-compiler-compliance-level-5-0-or-6-0-found-1-7-instead-plea", "question_id": 7637144}, {"body": "<p>Is there any built-in method in Java which allows us to convert comma separated String to some container (e.g array, List or Vector)? Or do I need to write custom code for that? </p>\n\n<pre><code>String commaSeparated = \"item1 , item2 , item3\";\nArrayList&lt;String&gt; items = //method that converts above string into list??\n</code></pre>\n", "tags": ["java", "string", "collections", "split"], "title": "How to convert comma-separated String to ArrayList?", "answers": [{"body": "<p>Two steps: </p>\n\n<ol>\n<li><code>String [] items = commaSeparated.split(\",\");</code></li>\n<li><code>List&lt;String&gt; container = Arrays.asList(items);</code></li>\n</ol>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488669#7488669", "question_id": 7488643, "answer_id": 7488669}, {"body": "<p>you can combine asList and split</p>\n\n<pre><code>Arrays.asList(CommaSeparated.split(\"\\\\s*,\\\\s*\"))\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488674#7488674", "question_id": 7488643, "answer_id": 7488674}, {"body": "<p><strong>Convert comma separated String to ArrayList</strong></p>\n\n<pre><code>List&lt;String&gt; items = Arrays.asList(str.split(\"\\\\s*,\\\\s*\"));\n</code></pre>\n\n<p>The above code splits the string on a delimiter defined as: <code>zero or more whitespace, a literal comma, zero or more whitespace</code> which will place the words into the list and collapse any whitespace between the words and commas.</p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488676#7488676", "question_id": 7488643, "answer_id": 7488676}, {"body": "<p>You can first split them using <code>String.split(\",\")</code>, and then convert the returned String <code>array</code> to an <code>ArrayList</code> using <code>Arrays.asList(array)</code></p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488683#7488683", "question_id": 7488643, "answer_id": 7488683}, {"body": "<pre><code>List&lt;String&gt; items = Arrays.asList(commaSeparated.split(\",\"));\n</code></pre>\n\n<p>That should work for you.</p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488698#7488698", "question_id": 7488643, "answer_id": 7488698}, {"body": "<p><code>Arrays.asList</code> returns a fixed-size <code>List</code> backed by the array. If you want a normal mutable <code>java.util.ArrayList</code> you need to do this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(string.split(\" , \")));\n</code></pre>\n\n<p>Or, using <a href=\"http://guava-libraries.googlecode.com\">Guava</a>:</p>\n\n<pre><code>List&lt;String&gt; list = Lists.newArrayList(Splitter.on(\" , \").split(string));\n</code></pre>\n\n<p>Using a <code>Splitter</code> gives you more flexibility in how you split the string and gives you the ability to, for example, skip empty strings in the results and trim results. It also has less weird behavior than <code>String.split</code> as well as not requiring you to split by regex (that's just one option).</p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7488710#7488710", "question_id": 7488643, "answer_id": 7488710}, {"body": "<p>There is no built-in method for this but you can simply use split() method in this.</p>\n\n<pre><code>String commaSeparated = \"item1 , item2 , item3\";\nArrayList&lt;String&gt; items = \nnew  ArrayList&lt;String&gt;(Arrays.asList(commaSeparated.split(\",\")));\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/7526722#7526722", "question_id": 7488643, "answer_id": 7526722}, {"body": "<p>In groovy, you can use tokenize(Character Token) method:</p>\n\n<pre><code>list = str.tokenize(',')\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/17359110#17359110", "question_id": 7488643, "answer_id": 17359110}, {"body": "<p>An example using <code>Collections</code>.</p>\n\n<pre><code>import java.util.Collections;\n ...\nString commaSeparated = \"item1 , item2 , item3\";\nArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\nCollections.addAll(items, commaSeparated.split(\"\\\\s*,\\\\s*\"));\n ...\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/19254375#19254375", "question_id": 7488643, "answer_id": 19254375}, {"body": "<p>Here is another one for converting  CSV to ArrayList:  </p>\n\n<pre><code>String str=\"string,with,comma\";\nArrayList aList= new ArrayList(Arrays.asList(str.split(\",\")));\nfor(int i=0;i&lt;aList.size();i++)\n{\n    System.out.println(\" --&gt;\"+aList.get(i));\n}\n</code></pre>\n\n<p>Prints you</p>\n\n<blockquote>\n  <p>-->string<br>\n      -->with<br>\n      -->comma</p>\n</blockquote>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/21684009#21684009", "question_id": 7488643, "answer_id": 21684009}, {"body": "<p>This below code may help you,</p>\n\n<pre><code>List myList = new ArrayList();\nString myStr = \"item1 , item2 , item3\";\nmyList = Arrays.asList(myStr.split(\" , \"));\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/26913689#26913689", "question_id": 7488643, "answer_id": 26913689}, {"body": "<pre><code>List commaseperated = new ArrayList();\nString mylist = \"item1 , item2 , item3\";\nmylist = Arrays.asList(myStr.trim().split(\" , \"));\n\n// enter code here\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/31390962#31390962", "question_id": 7488643, "answer_id": 31390962}, {"body": "<p>If a <code>List</code> is the end-goal as the OP stated, then already accepted answer is still the shortest and the best. However I want to provide you alternatives using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow\">Java 8 Streams</a>, that will give you more benefit if it is part of a pipeline for further processing.</p>\n\n<p>By wrapping the result of the .split function (a native array) into a stream and then converting to a list.</p>\n\n<pre><code>List&lt;String&gt; list =\n  Stream.of(\"a,b,c\".split(\",\"))\n  .collect(Collectors.toList());\n</code></pre>\n\n<p>Or by using the RegEx parsing api:</p>\n\n<pre><code>List&lt;String&gt; list = \n  Pattern.compile(\",\")\n  .splitAsStream(\"a,b,c\")\n  .collect(Collectors.toList());\n</code></pre>\n\n<p>By themselves, these code examples do not seem to add a lot (except more typing), but if you are planning to do more, like <a href=\"http://stackoverflow.com/a/27503359/744133\">this answer on converting a String to a List of Longs</a> exemplifies, the streaming API is really powerful by allowing to pipeline your operations one after the other. </p>\n\n<p>For the sake of, you know, completeness.</p>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/34735419#34735419", "question_id": 7488643, "answer_id": 34735419}, {"body": "<p>You can StringUtils from apache lib.</p>\n\n<p>Example </p>\n\n<pre><code>StringUtils.join(yourStirng, ',');\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/36243964#36243964", "question_id": 7488643, "answer_id": 36243964}, {"body": "<pre><code>ArrayList&gt; mListmain = new ArrayList&gt;();\nString marray[]= mListmain.split(\",\");\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/36325453#36325453", "question_id": 7488643, "answer_id": 36325453}, {"body": "<p><strong>String -> Collection</strong> conversion: (String -> String[] -> Collection)</p>\n\n<pre><code>//         java version 8\n\nString str = \"aa,bb,cc,dd,aa,ss,bb,ee,aa,zz,dd,ff,hh\";\n\n//          Collection,\n//          Set , List,\n//      HashSet , ArrayList ...\n// (____________________________)\n// ||                          ||\n// \\/                          \\/\nCollection&lt;String&gt; col = new HashSet&lt;&gt;(Stream.of(str.split(\",\")).collect(Collectors.toList()));\n</code></pre>\n\n<p><strong>Collection -> String[]</strong> conversion:</p>\n\n<pre><code>String[] se = col.toArray(new String[col.size()]);\n</code></pre>\n\n<p><strong>String -> String[]</strong> conversion:</p>\n\n<pre><code>String[] strArr = str.split(\",\");\n</code></pre>\n\n<p>And <strong>Collection -> Collection</strong>:</p>\n\n<pre><code>List&lt;String&gt; list = new LinkedList&lt;&gt;(col);\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/38008691#38008691", "question_id": 7488643, "answer_id": 38008691}, {"body": "<p>I usually use precompiled pattern for the list. And also this is slightly more universal since it can consider brackets which follows some of the listToString expressions.</p>\n\n<pre><code>private static final Pattern listAsString = Pattern.compile(\"^\\\\[?([^\\\\[\\\\]]*)\\\\]?$\");\n\nprivate List&lt;String&gt; getList(String value) {\n  Matcher matcher = listAsString.matcher((String) value);\n  if (matcher.matches()) {\n    String[] split = matcher.group(matcher.groupCount()).split(\"\\\\s*,\\\\s*\");\n    return new ArrayList&lt;&gt;(Arrays.asList(split));\n  }\n  return Collections.emptyList();\n</code></pre>\n", "title": "How to convert comma-separated String to ArrayList?", "tags": ["java", "string", "collections", "split"], "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist/38351153#38351153", "question_id": 7488643, "answer_id": 38351153}], "creation_date": 1316536802, "score": 251, "link": "http://stackoverflow.com/questions/7488643/how-to-convert-comma-separated-string-to-arraylist", "question_id": 7488643}, {"body": "<p><sub><strong>Moderator Note:</strong>  <em>There are already 39 answers posted here (some have been deleted).</em>  Before you post <em>your</em> answer, consider whether or not you can add something meaningful to the discussion.  You're more than likely just repeating what someone else has already said.</sub></p>\n\n<hr>\n\n<p>I occasionally find myself needing to make a private method in a class public just to write some unit tests for it.</p>\n\n<p>Usually this would be because the method contains logic shared between other methods in the class and it's tidier to test the logic on its own, or another reason could be possible be I want to test logic used in synchronous threads without having to worry about threading problems.</p>\n\n<p>Do other people find themselves doing this, because I don't really like doing it?? I personally think the bonuses outweigh the problems of making a method public which doesn't really provide any service outside of the class...</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks for answers everyone, seems to have piqued peoples' interest. I think the general consensus is testing should happen via the public API as this is the only way a class will ever be used, and I do agree with this. The couple of cases I mentioned above where I would do this above were uncommon cases and I thought the benefits of doing it was worth it.</p>\n\n<p>I can however, see everyones point that it should never really happen. And when thinking about it a bit more I think changing your code to accommodate tests is a bad idea - after all I suppose testing is a support tool in a way and changing a system to 'support a support tool' if you will, is blatant bad practice.</p>\n", "tags": ["c#", "java", "unit-testing"], "title": "Making a private method public to unit test it...good idea?", "answers": [{"body": "<p>Personally, I'd rather unit test using the public API and I'd certainly never make the private method public <em>just</em> to make it easy to test. </p>\n\n<p>If you really want to test the private method in isolation, in Java you could use <a href=\"http://easymock.org/\">Easymock</a> / <a href=\"http://code.google.com/p/powermock/\">Powermock</a> to allow you to do this.</p>\n\n<p>You have to be pragmatic about it and you should also be aware of the reasons why things are difficult to test. </p>\n\n<p>'<a href=\"http://www.mockobjects.com/search/label/listening%20to%20the%20tests\">Listen to the tests</a>' - if it's difficult to test, is that telling you something about your design? Could you refactor to where a test for this method would be trivial and easily covered by testing through the public api? </p>\n\n<p>Here's what Michael Feathers has to say in '<a href=\"http://www.amazon.co.uk/Working-Effectively-Legacy-Robert-Martin/dp/0131177052\">Working Effectively With Legacy Code</a>\"</p>\n\n<blockquote>\n  <p>\"Many people spend a lot of time trying ot figure out how to get around this problem ... the real answer is that if you have the urge to test a private method, the method shouldn't be private; if making the method public bothers you, chances are, it is because it is part of a separate reponsibility; it should be on another class.\" [<em>Working Effectively With Legacy Code</em> (2005) by M. Feathers]</p>\n</blockquote>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7075965#7075965", "question_id": 7075938, "answer_id": 7075965}, {"body": "<p>I tend to agree that the bonuses of having it unit tested outweigh the problems of increasing the visibility of some of the members. A slight improvement is to make it protected and virtual, then override it in a test class to expose it.</p>\n\n<p>Alternatively, if it's functionality you want to test separately does it not suggest a missing object from your design?  Maybe you could put it in a separate testable class...then your existing class just delegates to an instance of this new class.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7075998#7075998", "question_id": 7075938, "answer_id": 7075998}, {"body": "<p>I would say it is a bad idea for I am not sure whether you get any benefit and potentially problems down the line.  If you are changing the contract of a calls, just to test a private method, you're not testing the class in how it would be used, but creating an artificial scenario which you never intended to happen.</p>\n\n<p>Furthermore, by declaring the method as public, what's to say that in six months time (after forgetting that the only reason for making a method public is for testing) that you (or if you've handed the project over) somebody completely different won't use it, leading to potentially unintended consequences and/or a maintenance nightmare.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076017#7076017", "question_id": 7075938, "answer_id": 7076017}, {"body": "<p>An unit test should test the public contract, the only way how a class could be used in other parts of the code. A private method is implementation details, you should not test it, as far as public API works correctly, the implementation doesn't matter and could be changed without changes in test cases.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076031#7076031", "question_id": 7075938, "answer_id": 7076031}, {"body": "<p>How about making it package private? Then your test code can see it (and other classes in your package as well), but it is still hidden from your users.</p>\n\n<p>But really, you should not be testing private methods. Those are implementation details, and not part of the contract. Everything they do should be covered by calling the public methods (if they have code in there that is not exercised by the public methods, then that should go). If the private code is too complex, the class is probably doing too many things and in want of refactoring.</p>\n\n<p>Making a method public is big commitment. Once you do that, people will be able to use it, and you cannot just change them anymore.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076032#7076032", "question_id": 7075938, "answer_id": 7076032}, {"body": "<p>In java, there's also the option of making it <strong>package private</strong> (ie leaving off the visibility modifier).  If your unit tests are in the same package as the class being tested it should then be able to see these methods, and is a bit safer than making the method completely public.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076039#7076039", "question_id": 7075938, "answer_id": 7076039}, {"body": "<p>There are actually situations when you should do this (e.g. when you're implementing some complex algorithms). Just do it package-private and this will be enough. \nBut in most cases probably you have too complex classes which requires factoring out logic into other classes.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076040#7076040", "question_id": 7075938, "answer_id": 7076040}, {"body": "<p>I generally keep the test classes in the same project/assembly as the classes under test.<br>\nThis way I only need <code>internal</code> visibility to make functions/classes testable.</p>\n\n<p>This somewhat complicates your building process, which needs to filter out the test classes. \nI achieve this by naming all my test classes <code>TestedClassTest</code> and using a regex to filter those classes.</p>\n\n<p>This of course only applies to the C# / .NET part of your question</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076044#7076044", "question_id": 7075938, "answer_id": 7076044}, {"body": "<p>Private methods are usually used as \"helper\" methods. Therefore they only return basic values and never operate on specific instances of objects. </p>\n\n<p>You have a couple of options if you want to test them.</p>\n\n<ul>\n<li>Use reflection</li>\n<li>Give the methods package access</li>\n</ul>\n\n<p>Alternatively you could create a new class with the helper method as a public method if it is a good enough candidate for a new class.</p>\n\n<p>There is a very <a href=\"http://www.artima.com/suiterunner/private2.html\">good article here</a> on this.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076047#7076047", "question_id": 7075938, "answer_id": 7076047}, {"body": "<p>Personally, I have the same problems when testing private methods and this is because the some of the testing tools are limited.\nIt's not good your design to be driven by limited tools if they don't response to your need change the tool not the design.\nBecause your asking for C# i can't propose good testing tools, but for Java there are two powerful tools: TestNG and PowerMock, and you can find corresponding testing tools for .NET platform </p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076224#7076224", "question_id": 7075938, "answer_id": 7076224}, {"body": "<p>Its all about pragmatism. Your unit tests are a client to the code in a way and in order to achieve a good level of code coverage you need to make your code very testable. Your solution will be a potential failure if the testing code is vastly comlplex in order for you to be able to setup the necessary corner-cases without effective public seams withing your code. Using IoC helps in this matter too.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7076306#7076306", "question_id": 7075938, "answer_id": 7076306}, {"body": "<p>The point of the unit test is to confirm the workings of the public api for that unit.  There should be no need to make a private method exposed only for testing, if so then your interface should be rethought.   Private methods can be thought as 'helper' methods to the public interface and therefore are tested via the public interface as they would be calling into the private methods.</p>\n\n<p>The only reason I can see that you have a 'need' to do this is that your class is not properly designed for testing in mind.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7077832#7077832", "question_id": 7075938, "answer_id": 7077832}, {"body": "<p>As others have said, it is somewhat suspect to be unit testing private methods at all; unit test the public interface, not the private implementation details. </p>\n\n<p>That said, the technique I use when I want to unit test something that is private in C# is to downgrade the accessibility protection from private to internal, and then mark the unit testing assembly as a friend assembly using <a href=\"http://msdn.microsoft.com/en-us/library/0tke9fxk.aspx\">InternalsVisibleTo</a>. The unit testing assembly will then be allowed to treat the internals as public, but you don't have to worry about accidentally adding to your public surface area.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7078045#7078045", "question_id": 7075938, "answer_id": 7078045}, {"body": "<p>First see if the method ought to be extracted into another class and made public.  If that's not the case, make it package protected and in Java annotate with <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/VisibleForTesting.html\">@VisibleForTesting</a>.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7079304#7079304", "question_id": 7075938, "answer_id": 7079304}, {"body": "<p>I will often add a method called something like <code>validate</code>, <code>verify</code>, <code>check</code>, etc, to a class so that it can be called to test the internal state of an object.</p>\n\n<p>Sometimes this method is wrapped in an ifdef block (I write mostly in C++) so that it isn't compiled for release. But it's often useful in release to provide validation methods that walk the program's object trees checking things.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7080112#7080112", "question_id": 7075938, "answer_id": 7080112}, {"body": "<p>As is extensively noted by others' comments, unit tests should focus on the public API.  However, pros/cons and justification aside, you can call private methods in a unit test by using reflection.  You would of course need to make sure your JRE security allows it.  Calling private methods is something that the Spring Framework employs with it's <a href=\"https://src.springframework.org/svn/spring-framework/trunk/org.springframework.core/src/main/java/org/springframework/util/ReflectionUtils.java\" rel=\"nofollow\">ReflectionUtils</a> (see the <code>makeAccessible(Method)</code> method).</p>\n\n<p>Here's a small example class with a private instance method.</p>\n\n<pre><code>public class A {\n    private void doSomething() {\n        System.out.println(\"Doing something private.\");\n    }\n}\n</code></pre>\n\n<p>And an example class that executes the private instance method.</p>\n\n<pre><code>import java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\npublic class B {\n    public static final void main(final String[] args) {\n        try {\n            Method doSomething = A.class.getDeclaredMethod(\"doSomething\");\n            A o = new A();\n            //o.doSomething(); // Compile-time error!\n            doSomething.setAccessible(true); // If this is not done, you get an IllegalAccessException!\n            doSomething.invoke(o);\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (SecurityException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Executing B, will print <code>Doing something private.</code>  If you really need it, reflection could be used in unit tests to access private instance methods.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7081622#7081622", "question_id": 7075938, "answer_id": 7081622}, {"body": "<p>Some great answers. One thing I didn't see mentioned is that with test-driven development (TDD), private methods are created during the refactoring phase (look at <a href=\"http://www.refactoring.com/catalog/extractMethod.html\">Extract Method</a> for an example of a refactoring pattern), and should therefore already have the necessary test coverage. If done correctly (and of course, you're going to get a mixed bag of opinions when it comes to correctness), you shouldn't have to worry about having to make a private method public just so that you can test it.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7082711#7082711", "question_id": 7075938, "answer_id": 7082711}, {"body": "<p>If you are using C# you can make method internal. That way you don't pollute public API.</p>\n\n<p>Then add attribute to dll</p>\n\n<p>[assembly: InternalsVisibleTo(\"MyTestAssembly\")]</p>\n\n<p>Now all the methods are visible in your MyTestAssembly project. Maybe not perfect, but better then making private method public just to test it.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7083208#7083208", "question_id": 7075938, "answer_id": 7083208}, {"body": "<p>Lots of answers suggest only testing the public interface, but IMHO this is unrealistic - if a method does something that takes 5 steps, you'll want to test those five steps separately, not all together.  This requires testing all five methods, which <em>(other than for testing)</em> might otherwise be <code>private</code>.</p>\n\n<p>The usual way of testing \"private\" methods is to give every class its own interface, and make the \"private\" methods <code>public</code>, but not include them in the interface.  This way, they can still be tested, but they don't bloat the interface.</p>\n\n<p>Yes, this will result in file- and class-bloat.</p>\n\n<p>Yes, this does make the <code>public</code> and <code>private</code> specifiers redundant.</p>\n\n<p>Yes, this is a pain in the ass.</p>\n\n<p>This is, unfortunately, one of the many <strong><a href=\"http://programmers.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38501#38501\">sacrifices we make to make code testable</a></strong>.  Perhaps a future language (or a even a future version of C#/Java) will have features to make class- and module-testability more convenient; but in the meanwhile, we have to jump through these hoops.</p>\n\n<hr>\n\n<p>There are some who would argue that each of those steps should <a href=\"http://programmers.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38504#38504\">be its own class</a>, but I disagree - if they all share state, there is no reason to create five separate classes where five methods would do.  Even worse, this results in file- and class-bloat.  <em>Plus</em>, it infects the public API of your module - all those classes must necessarily be <code>public</code> if you want to test them from another module <em>(either that, or include the test code in the same module, which means shipping the test code with your product)</em>.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7083360#7083360", "question_id": 7075938, "answer_id": 7083360}, {"body": "<p>In your update you say that it's good to just test using the public API. \nThere is actually two schools here.</p>\n\n<ol>\n<li><p>Black box testing</p>\n\n<p>The black box school says that the class should be considered as a black box that no one can see the implementation inside it. The only way to test this is through the public API -- just like the user's of the class will be using it. </p></li>\n<li><p>white box testing.</p>\n\n<p>The white box school thinks it naturally to use the knowledge about the implementation of the  class and then test the class to know that it works as it should.</p></li>\n</ol>\n\n<p>I really cannot take side in the discussion. I just thought it would be interesting to know that there are two distinct ways to test a class (or a library or whatever).</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7083973#7083973", "question_id": 7075938, "answer_id": 7083973}, {"body": "<p>Guava has a @VisibleForTesting annotation for marking methods that have enlarged scope (package or public) that they would otherwise.  I use a @Private annotation for the same thing.</p>\n\n<p>While the public API must be tested, sometimes it's convenient and sensible to get at stuff that wouldn't normally be public.  </p>\n\n<p>When:</p>\n\n<ul>\n<li>a class is made significantly less readable, in toto, by breaking it up into multiple classes,</li>\n<li>just to make it more testable,</li>\n<li>and providing some test access to the innards would do the trick</li>\n</ul>\n\n<p>it seems like religion is trumping engineering.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7087151#7087151", "question_id": 7075938, "answer_id": 7087151}, {"body": "<p><strong>Update</strong>: <a href=\"http://blog.shaunfinglas.co.uk/2015/05/testing-private-code.html\" rel=\"nofollow\">I have added a more expanded and more complete answer to this question in numerous other places. This is can be found on my blog</a>.</p>\n\n<p>If I ever need to make something public to test it, this usually hints that the system under test is not following the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow\">Single Reponsibility Principle</a>. Hence there is a missing class that should be introduced. After extracting the code into a new class, make it public. Now you can test easily, and you are following SRP. Your other class simply has to invoke this new class via composition.</p>\n\n<p>Making methods public/using langauge tricks such as marking code as visible to test assembilies should always be a last resort.</p>\n\n<p>For example:</p>\n\n<pre><code>public class SystemUnderTest\n{\n   public void DoStuff()\n   {\n      // Blah\n      // Call Validate()\n   }\n\n   private void Validate()\n   {\n      // Several lines of complex code...\n   }\n}\n</code></pre>\n\n<p>Refactor this by introducing a validator object.</p>\n\n<pre><code>public class SystemUnderTest\n{\n    public void DoStuff()\n    {\n       // Blah\n       validator.Invoke(..)\n    }\n}\n</code></pre>\n\n<p>Now all we have to do is test that the validator is invoked correctly. The actual process of validation (the previously private logic) can be tested in pure isolation. There will be no need for complex test set up to ensure this validation passes.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7096107#7096107", "question_id": 7075938, "answer_id": 7096107}, {"body": "<p>Private methods that you want to test in isolation are an indication that there's another \"concept\" buried in your class. Extract that \"concept\" to its own class and test it as a separate \"unit\".</p>\n\n<p>Take a look at <a href=\"http://vimeo.com/15007792\" rel=\"nofollow\">this video</a> for a really interesting take on the subject.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/7097929#7097929", "question_id": 7075938, "answer_id": 7097929}, {"body": "<p>I usually leave those methods as <code>protected</code> and place the unit test within the same package (but in another project or source folder), where they can access all the protected methods because the class loader will place them within the same namespace.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/23424837#23424837", "question_id": 7075938, "answer_id": 23424837}, {"body": "<p>Use reflection to access the private variables if you need to.</p>\n\n<p>But really, you don't care about the internal state of the class, you just want to test that the public methods return what you expect in the situations you can anticipate.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31646252#31646252", "question_id": 7075938, "answer_id": 31646252}, {"body": "<p>IMO, you should write your tests not making deep assumptions on how your class implemented inside. You probably want to refactor it later using another internal model but still making the same guarantees that previous implementation gives.</p>\n\n<p>Keeping that in mind I suggest you to focus on testing that your contract is still holds no matter what internal implementation your class currently have. Property based testing of your public APIs.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31646253#31646253", "question_id": 7075938, "answer_id": 31646253}, {"body": "<blockquote>\n  <p><strong>Note:</strong><br/>\n  This answer was originally posted for the question <a href=\"http://stackoverflow.com/q/31646092/2422776\">Is unit testing alone ever a good reason to expose private instance variables via getters? </a> which was merged into this one, so it may be a tad specific to the usecase presented there.</p>\n</blockquote>\n\n<p>As a general statement, I'm usually all for refactoring \"production\" code to make it easier to test. However, I don't think that would be a good call here. A good unit test (usually) shouldn't care about the class' implementation details, only about its visible behavior. Instead of exposing the internal stacks to the test, you could test that the class returns the pages in the order you expect it to after calling <code>first()</code> or <code>last()</code>. </p>\n\n<p>For example, consider this pseudo-code:</p>\n\n<pre><code>public class NavigationTest {\n    private Navigation nav;\n\n    @Before\n    public void setUp() {\n        // Set up nav so the order is page1-&gt;page2-&gt;page3 and\n        // we've moved back to page2\n        nav = ...;\n    }\n\n    @Test\n    public void testFirst() {\n        nav.first();\n\n        assertEquals(\"page1\", nav.getPage());\n\n        nav.next();\n        assertEquals(\"page2\", nav.getPage());\n\n        nav.next();\n        assertEquals(\"page3\", nav.getPage());\n    }\n\n    @Test\n    public void testLast() {\n        nav.last();\n\n        assertEquals(\"page3\", nav.getPage());\n\n        nav.previous();\n        assertEquals(\"page2\", nav.getPage());\n\n        nav.previous();\n        assertEquals(\"page1\", nav.getPage());\n    }\n}\n</code></pre>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31646279#31646279", "question_id": 7075938, "answer_id": 31646279}, {"body": "<p>in terms of unit testing, you should definitely not add more methods; I believe you would better make a test case just about your <code>first()</code> method, which would be called before each test; then you can call multiple times the - <code>next()</code>, <code>previous()</code> and <code>last()</code> to see if the outcomes match your expectation.\nI guess if you don't add more methods to your class (just for testing purposes), you would stick to the \"black box\" principle of testing;</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31646445#31646445", "question_id": 7075938, "answer_id": 31646445}, {"body": "<p>Why not split out the stack management algorithm into a utility class? The utility class can manage the stacks and provide public accessors. Its unit tests can be focussed on implementation detail. Deep tests for algorithmically tricky classes are very helpful in wrinkling out edge cases and ensuring coverage.</p>\n\n<p>Then your current class can cleanly delegate to the utility class without exposing any implementation details. Its tests will relate to the pagination requirement as others have recommended.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31656690#31656690", "question_id": 7075938, "answer_id": 31656690}, {"body": "<p>No, because there are better ways of skinning that cat.</p>\n\n<p>Some unit test harnesses rely on macros in the class definition which  automagically expand to create hooks when built in test mode. Very C style, but it works.</p>\n\n<p>An easier OO idiom is to make anything you want to test \"protected\" rather than \"private\". The test harness inherits from the class under test, and can then access all protected members.</p>\n\n<p>Or you go for the \"friend\" option. Personally this is the feature of C++ I like least because it breaks the encapsulation rules, but it happens to be necessary for how C++ implements some features, so hey ho.</p>\n\n<p>Anyway, if you're unit testing then you're just as likely to need to inject values into those members. White box texting is perfectly valid.  And that really <em>would</em> break your encapsulation.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31665836#31665836", "question_id": 7075938, "answer_id": 31665836}, {"body": "<p>You should never ever ever let your tests dictate your code. I'm not speaking about TDD or other DDs I mean, exactly what your asking. Does your app need those methods to be public. If it does then test them. If it does not then then don't make them public just for testing. Same with variables and others. Let your application's needs dictate the code, and let your tests test that the need is met. (Again I don't mean testing first or not I mean changing a classes structure to meet a testing goal). </p>\n\n<p>Instead you should \"test higher\". Test the method that calls the private method. But your tests should be testing your applications needs and not your \"implementation decisions\".</p>\n\n<p>For example (bod pseudo code here);</p>\n\n<pre><code>   public int books(int a) {\n     return add(a, 2);\n   }\n   private int add(int a, int b) {\n     return a+b;\n   } \n</code></pre>\n\n<p>There is no reason to test \"add\" you can test \"books\" instead. </p>\n\n<p>Never ever let your tests make code design decisions for you. Test that you get the expected result, not how you get that result.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/31666106#31666106", "question_id": 7075938, "answer_id": 31666106}, {"body": "<p>In .Net there is a special class called <code>PrivateObject</code> deigned specifically to allow you to access private methods of a class.</p>\n\n<p>See more about it on <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.privateobject.aspx\" rel=\"nofollow\">the MSDN</a> or here on <a href=\"http://stackoverflow.com/questions/5396996/how-can-i-use-privateobject-to-access-private-members-of-both-my-class-and-its-p\">Stack Overflow</a></p>\n\n<p>(I am wondering that no one has mentioned it so far.)</p>\n\n<p>There are situations though which this is not enough, in which case you will have to use reflection.</p>\n\n<p>Still I would adhere to the general recommendation not to test private methods, however as usual there are always exceptions.</p>\n", "title": "Making a private method public to unit test it...good idea?", "tags": ["c#", "java", "unit-testing"], "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea/38014968#38014968", "question_id": 7075938, "answer_id": 38014968}], "creation_date": 1313485902, "score": 237, "link": "http://stackoverflow.com/questions/7075938/making-a-private-method-public-to-unit-test-it-good-idea", "question_id": 7075938}, {"body": "<p>I got a simple question in Java: How can I convert a <code>String</code> that was obtained by <code>Long.toString()</code> to <code>long</code>?</p>\n", "tags": ["java"], "title": "How to convert String to long in Java?", "answers": [{"body": "<p>To convert a <strong>String</strong> to a <strong>Long</strong> (object), use <code>Long.valueOf(String s).longValue();</code></p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#valueOf(java.lang.String)\">link</a></p>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java/7693341#7693341", "question_id": 7693324, "answer_id": 7693341}, {"body": "\n\n<pre><code> Long.parseLong(\"0\", 10)        // returns 0L\n Long.parseLong(\"473\", 10)      // returns 473L\n Long.parseLong(\"-0\", 10)       // returns 0L\n Long.parseLong(\"-FF\", 16)      // returns -255L\n Long.parseLong(\"1100110\", 2)   // returns 102L\n Long.parseLong(\"99\", 8)        // throws a NumberFormatException\n Long.parseLong(\"Hazelnut\", 10) // throws a NumberFormatException\n Long.parseLong(\"Hazelnut\", 36) // returns 1356099454469L\n Long.parseLong(\"999\")          // returns 999L\n</code></pre>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java/7693344#7693344", "question_id": 7693324, "answer_id": 7693344}, {"body": "<pre><code>public class StringToLong {\n\n   public static void main (String[] args) {\n\n      // String s = \"fred\";    // do this if you want an exception\n\n      String s = \"100\";\n\n      try {\n         long l = Long.parseLong(s);\n         System.out.println(\"long l = \" + l);\n      } catch (NumberFormatException nfe) {\n         System.out.println(\"NumberFormatException: \" + nfe.getMessage());\n      }\n\n   }\n}\n</code></pre>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java/7693351#7693351", "question_id": 7693324, "answer_id": 7693351}, {"body": "<p><a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/Long.html#valueOf%28java.lang.String%29\">Long.valueOf(String s)</a> - obviously due care must be taken to protect against non-numbers if that is possible in your code.</p>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java/7693352#7693352", "question_id": 7693324, "answer_id": 7693352}, {"body": "<p>In case you are using the Map with out generic, then you need to convert the value into String and then try to convert to Long. Below is sample code</p>\n\n<pre><code>    Map map = new HashMap();\n\n    map.put(\"name\", \"John\");\n    map.put(\"time\", \"9648512236521\");\n    map.put(\"age\", \"25\");\n\n    long time = Long.valueOf((String)map.get(\"time\")).longValue() ;\n    int age = Integer.valueOf((String)  map.get(\"aget\")).intValue();\n    System.out.println(time);\n    System.out.println(age);\n</code></pre>\n", "title": "How to convert String to long in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java/23076477#23076477", "question_id": 7693324, "answer_id": 23076477}], "creation_date": 1318025246, "score": 231, "link": "http://stackoverflow.com/questions/7693324/how-to-convert-string-to-long-in-java", "question_id": 7693324}, {"body": "<p>There is quite a lot of gui frameworks out there for java, but what is recognized as today's framework of choice?</p>\n\n<p>The following is my understanding of the different frameworks, please correct me if im wrong. This is a very loosely defined set of questions, but i still think its valuable for anyone thinking of creating rich gui applications.</p>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/Java_AWT\">AWT</a></strong></p>\n\n<p>Is the very foundation of swing, it performs well but is lacking in advanced components. If you intend to create rich applications, AWT is probably not the way to go. However for smaller gui applications that doesn't require rich user interfaces. This might suit perfectly as it's a tried and proven framework. </p>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/Java_Swing\">Swing</a></strong></p>\n\n<p>Based on AWT as previously stated. In its infancy it was regarded as slow and buggy and caused IBM to create SWT for Eclipse. However with Java 5 (or 6?) Swing became the framework of choice for building new applications. Swing has a lot of rich components but are still lacking in some areas. One example being that there isn't a full featured TreeTable component which can do sorting and filtering/searching.</p>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/Standard_Widget_Toolkit\">SWT</a></strong></p>\n\n<p>Created by IBM for Eclipse, they seemed to think that Swing was not suited for Eclipse at the time. By itself is pretty low-level, and it uses the platform's native widgets through JNI. It is not related to Swing and AWT at all. Their API is however somewhat clunky and not intuitive. They do have some advanced component's like a TreeTable. (but i don't think they support sorting and filtering out of the box). SWT uses some native bindings (through JNI?) and the rant on the internet is that this framework should not be used in today's projects. (why not?)</p>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/SwingX\">SwingX</a></strong></p>\n\n<p>Based on Swing and it's mission is to create rich components for swing. Still under development. (not very active though.) Have a very nice set of components, like for example TreeTable. But the TreeTable does not support filtering and sorting as far as i know. It does however support searching with highlighting.</p>\n\n<blockquote>\n  <p>Note that SwingX is components (AFAIU) that are extensions or\n  compositions of existing Swing components</p>\n</blockquote>\n\n<hr>\n\n<p><strong>JGoodies</strong></p>\n\n<p>A framework which i know nothing about... What is it's strengths and weaknesses? What set's Jgoodies apart from the rest?</p>\n\n<blockquote>\n  <p>JGoodies OTOH is about PLAFs and layouts.</p>\n</blockquote>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/JavaFX\">JavaFX</a></strong></p>\n\n<p>The latest flagship of Java/Oracle. promising to be the facto standard in developing rich desktop or web applications. </p>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/Apache_Pivot\">Apache Pivot</a></strong></p>\n\n<p>It renders UI using Java2D, thus minimizing the impact of (IMO, bloated) legacies of Swing and AWT. (@Augustus Thoo)</p>\n\n<p>It's main focus seems to be on RIA (Rich internet applications), but it seems it can also be applied to desktop applications. And as a personal comment, Looks very interesting! I Especially like that it's an apache project.</p>\n\n<p><a href=\"https://cwiki.apache.org/PIVOT/frequently-asked-questions-faq.html\">https://cwiki.apache.org/PIVOT/frequently-asked-questions-faq.html</a></p>\n\n<hr>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/Qt_Jambi\">Qt Jambi</a></strong></p>\n\n<p>A java wrapper to the native qt library which is written in c/c++. Very powerful, widely used and accepted. Has a lot of GUI components and a easy to use API.</p>\n\n<p><a href=\"http://qt-jambi.org/\">http://qt-jambi.org/</a></p>\n\n<hr>\n\n<p>So, to try to summarize a bit of what im asking:</p>\n\n<p>Say i wanted to create a desktop application today in Java which involves a lot of advanced components, what should i choose? And why?</p>\n\n<p>Which one of these frameworks should be recognized as deprecated and which should be recognized as the frameworks of the distant future?</p>\n\n<p>What is todays de-facto-standard framework and which tools do you utilize to create java gui applications?</p>\n\n<hr>\n\n<p>I might regret asking this, but ill try it anyways:</p>\n\n<p>C#/.Net is said to have a very good set of easy to use components which can be flexed in every direction possible. And after investigating different java frameworks to some extent i can't seem to say the same about Java. Why is this? <em>Why doesn't java (which is the most widely used programming language in the world) have the same set of GUI components?</em> </p>\n\n<p>Is it just that java has based their gui components at a much lower level, and it is possible to write all these advanced components that im looking for, but you have to do much if not all of the work yourself?</p>\n", "tags": ["java", "swing", "user-interface", "swt", "awt"], "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "answers": [{"body": "<p>I would like to suggest another framework: Apache Pivot <a href=\"http://pivot.apache.org/\">http://pivot.apache.org/</a>.</p>\n\n<p>I tried it briefly and was impressed by what it can offer as an RIA (Rich Internet Application) framework <em>ala</em> Flash.</p>\n\n<p>It renders UI using Java2D, thus minimizing the impact of (IMO, bloated) legacies of Swing and AWT.</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7358918#7358918", "question_id": 7358775, "answer_id": 7358918}, {"body": "<p>My personal opinion: Go for Swing together with the NetBeans platform. </p>\n\n<p>If you need advanced components (more than NetBeans offers) you can easily integrate SwingX without problems (or JGoodies) as the NetBeans platform is completely based on Swing. </p>\n\n<p>I would not start a large desktop application (or one that is going to be large) without a good platform that is build upon the underlying UI framework. </p>\n\n<p>The other option is SWT together with the Eclipse RCP, but it's harder (though not impossible) to integrate \"pure\" Swing components into such an application. </p>\n\n<p>The learning curve is a bit steep for the NetBeans platform (although I guess that's true for Eclipse as well) but there are some good books around which I would highly recommend. </p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7358924#7358924", "question_id": 7358775, "answer_id": 7358924}, {"body": "<p>you forgot for Java Desktop Aplication based on JSR296 as built-in Swing Framework in NetBeans</p>\n\n<p>excluding AWT and JavaFX are all of your desribed frameworks are based on Swing, if you'll start with Swing then you'd be understand (clearly) for all these Swing's (Based Frameworks)</p>\n\n<p>ATW, SWT (Eclipse), Java Desktop Aplication(Netbeans), SwingX, JGoodies</p>\n\n<p>all there frameworks (I don't know something more about JGoodies) incl. JavaFX haven't long time any progress, lots of Swing's Based Frameworks are stoped, if not then without newest version</p>\n\n<p>just my view - best of them is SwingX, but required deepest knowledge about Swing,</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3954616/look-and-feel-in-java\">Look and Feel</a> for Swing's Based Frameworks</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7359118#7359118", "question_id": 7358775, "answer_id": 7359118}, {"body": "<p>I've been quite happy with Swing for the desktop applications I've been involved in. However, I do share your view on Swing not offering advanced components. What I've done in these cases is to go for JIDE. It's not free, but not that pricey either and it gives you a whole lot more tools under your belt. Specifically, they do offer a filterable TreeTable.</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7359163#7359163", "question_id": 7358775, "answer_id": 7359163}, {"body": "<p>I would go with Swing. For layout I would use JGoodies form layout. Its worth studying the white paper on the Form Layout here - <a href=\"http://www.jgoodies.com/freeware/forms/\" rel=\"nofollow\">http://www.jgoodies.com/freeware/forms/</a></p>\n\n<p>Also if you are going to start developing a huge desktop application, you will definitely need a framework. Others have pointed out the netbeans framework. I didnt like it much so wrote a new one that we now use in my company. I have put it onto sourceforge, but didnt find the time to document it much. Here's the link to browse the code:</p>\n\n<p><a href=\"http://swingobj.svn.sourceforge.net/viewvc/swingobj/\" rel=\"nofollow\">http://swingobj.svn.sourceforge.net/viewvc/swingobj/</a></p>\n\n<p>The showcase should show you how to do a simple logon actually.. </p>\n\n<p>Let me know if you have any questions on it I could help.</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7359796#7359796", "question_id": 7358775, "answer_id": 7359796}, {"body": "<p><a href=\"http://www.eclipse.org/swt/\">SWT</a> by itself is pretty low-level, and it uses the platform's native widgets through JNI. It is not related to Swing and AWT at all. The <a href=\"http://eclipse.org\">Eclipse IDE</a> and all Eclipse-based Rich Client Applications, like the <a href=\"https://www.vuze.com/\">Vuze BitTorrent client</a>, are built using SWT. Also, if you are developing Eclipse plugins, you will typically use SWT.<br>\nI have been developing Eclipse-based applications and plugins for almost 5 years now, so I'm clearly biased. However, I also have extensive experience in working with SWT and the <a href=\"http://wiki.eclipse.org/index.php/JFace\">JFace UI toolkit</a>, which is built on top of it. I have found JFace to be very rich and powerful; in some cases it might even be the main reason for choosing SWT. It enables you to whip up a working UI quite quickly, as long as it is IDE-like (with tables, trees, native controls, etc). Of course you can integrate your custom controls as well, but that takes some extra effort.</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7361285#7361285", "question_id": 7358775, "answer_id": 7361285}, {"body": "<p>Swing + SwingX + <a href=\"http://www.miglayout.com/\">Miglayout</a> is my combination of choice. Miglayout is so much simpler than Swings perceived 200 different layout managers and much more powerful. Also, it provides you with the ability to \"debug\" your layouts, which is especially handy when creating complex layouts.</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7363016#7363016", "question_id": 7358775, "answer_id": 7363016}, {"body": "<p>Another option is to use <a href=\"http://qt-jambi.org/\">Qt Jambi</a>. It has nearly all the greatness of Qt (many components, good documentation, easy to use), without the hassle of C++. I used it 3-4 years ago for a small project, even then it was almost mature.</p>\n\n<p>You might want to see the discussion about Swing vs. Qt <a href=\"http://stackoverflow.com/questions/422956/java-swing-or-java-qt\">here</a>.</p>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/7363475#7363475", "question_id": 7358775, "answer_id": 7363475}, {"body": "<p>Decision tree:</p>\n\n<ol>\n<li><p>Frameworks like Qt and SWT need native DLLs. So you have to ask yourself: Are all necessary platforms supported? Can you package the native DLLs with your app?</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2037220/how-can-i-creating-executable-jar-with-swt-that-runs-on-all-platforms\">See here, how to do this for SWT</a>.</p>\n\n<p>If you have a choice here, you should prefer Qt over SWT. Qt has been developed by people who understand UI and the desktop while SWT has been developed out of necessity to make Eclipse faster. It's more a performance patch for Java 1.4 than a UI framework. Without JFace, you're missing many major UI components or very important features of UI components (like filtering on tables).</p>\n\n<p>If SWT is missing a feature that you need, the framework is somewhat hostile to extending it. For example, you can't extend any class in it (the classes aren't final, they just throw exceptions when the package of <code>this.getClass()</code> isn't <code>org.eclipse.swt</code> and you can't add new classes in that package because it's signed).</p></li>\n<li><p>If you need a native, pure Java solution, that leaves you with the rest. Let's start with AWT, Swing, SwingX - the Swing way.</p>\n\n<p>AWT is outdated. Swing is outdated (maybe less so but not much work has been done on Swing for the past 10 years). You could argue that Swing was good to begin with but we all know that code rots. And that's especially true for UIs today.</p>\n\n<p>That leaves you with SwingX. After a longer period of slow progress, <a href=\"http://java.net/projects/swingx/sources/svn/history?\">development has picked up again</a>. The major drawback with Swing is that it hangs on to some old ideas which very kind of bleeding edge 15 years ago but which feel \"clumsy\" today. For example, the table views do support filtering and sorting but you still have to configure this. You'll have to write a lot of boiler plate code just to get a decent UI that feels modern.</p>\n\n<p>Another weak area is theming. As of today, there are a lot of themes around. <a href=\"http://geeknizer.com/best-java-swing-look-and-feel-themes-professional-casual-top-10/\">See here for a top 10</a>. But some are slow, some are buggy, some are incomplete. I hate it when I write a UI and users complain that something doesn't work for them because they selected an odd theme.</p></li>\n<li><p>JGoodies is another layer on top of Swing, like SwingX. It tries to make Swing more pleasant to use. The web site looks great. Let's have a look at the tutorial ... hm ... still searching ... hang on. It seems that there is no documentation on the web site at all. <a href=\"https://www.google.ch/webhp?sourceid=chrome-instant&amp;ie=UTF-8#hl=en&amp;output=search&amp;sclient=psy-ab&amp;q=jgoodies%20tutorial\">Google to the rescue</a>. Nope, no useful tutorials at all.</p>\n\n<p>I'm not feeling confident with a UI framework that tries so hard to hide the documentation from potential new fans. That doesn't mean JGoodies is bad; I just couldn't find anything good to say about it but that it looks nice.</p></li>\n<li><p>JavaFX. Great, stylish. Support is there but I feel it's more of a shiny toy than a serious UI framework. This feeling roots in the lack of complex UI components like tree tables. There is a <a href=\"http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm\">webkit-based component to display HTML</a>.</p>\n\n<p>When it was introduced, my first thought was \"five years too late.\" If your aim is a nice app for phones or web sites, good. If your aim is professional desktop application, make sure it delivers what you need.</p></li>\n<li><p>Pivot. First time I heard about it. It's basically a new UI framework based on Java2D. So I gave it a try yesterday. No Swing, just tiny bit of AWT (<code>new Font(...)</code>).</p>\n\n<p>My first impression was a nice one. There is an extensive documentation that helps you getting started. Most of the <a href=\"http://pivot.apache.org/tutorials/push-buttons.html\">examples come with live demos</a> (Note: You must have Java enabled in your web browser; <em>this is a security risk</em>) in the web page, so you can see the code and the resulting application side by side.</p>\n\n<p>In my experience, more effort goes into code than into documentation. By looking at the Pivot docs, a lot of effort must have went into the code. Note that there is currently a bug which prevents some of the examples to work (<a href=\"https://issues.apache.org/jira/browse/PIVOT-858\">PIVOT-858</a>) in your browser.</p>\n\n<p>My second impression of Pivot is that it's easy to use. When I ran into a problem, I could usually solve it quickly by looking at an example. I'm missing a reference of all the styles which each component supports, though.</p>\n\n<p>As with JavaFX, it's missing some higher level components like a tree table component (<a href=\"https://issues.apache.org/jira/browse/PIVOT-306\">PIVOT-306</a>). I didn't try lazy loading with the table view. My impression is that if the underlying model uses lazy loading, then that's enough.</p>\n\n<p>Promising. If you can, give it a try.</p></li>\n</ol>\n", "title": "Java GUI frameworks. What to choose? Swing, SWT, AWT, SwingX, JGoodies, JavaFX, Apache Pivot?", "tags": ["java", "swing", "user-interface", "swt", "awt"], "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx/10960546#10960546", "question_id": 7358775, "answer_id": 10960546}], "creation_date": 1315555596, "score": 230, "link": "http://stackoverflow.com/questions/7358775/java-gui-frameworks-what-to-choose-swing-swt-awt-swingx-jgoodies-javafx", "question_id": 7358775}, {"body": "<p>I wanted to clarify if I understand this correctly:</p>\n\n<ul>\n<li><code>==</code> -> is a reference comparison, i.e. both objects point to the same memory location</li>\n<li><code>.equals()</code> -> evaluates to the comparison of values in the objects</li>\n</ul>\n\n<p>Am I correct in my understanding ?</p>\n", "tags": ["java"], "title": "What is the difference between == vs equals() in Java?", "answers": [{"body": "<p>In general, the answer to  your question is \"yes\", but...</p>\n\n<ul>\n<li>equals will only compare what it is written to compare, no more, no less.</li>\n<li>if a class does not override the equals method, then it defaults to the <code>equals(Object o)</code> method of the closest parent class that has overridden this method. </li>\n<li>If no parent classes have provided an override, then it defaults to the method from the ultimate parent class, Object, and so  you're left with the <code>Object#equals(Object o)</code> method. Per the Object API this is the same as <code>==</code>; that is, it returns true <em>if and only if</em> both variables refer to the same object, if their references are one and the same. Thus you will be testing  for <strong>object equality</strong> and not <strong>functional equality</strong>.</li>\n<li>Always remember to override <code>hashCode</code> if you override <code>equals</code> so as not to \"break the contract\". As per the API, the result returned from the <code>hashCode()</code> method for two objects <strong>must</strong> be the same if their <code>equals</code> methods shows that they are equivalent. The converse is <em>not</em> necessarily true. </li>\n</ul>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/7520464#7520464", "question_id": 7520432, "answer_id": 7520464}, {"body": "<p>You will have to override the equals function (along with others) to use this with custom classes.</p>\n\n<p>The equals method compares the objects.</p>\n\n<p>The <code>==</code> binary operator compares memory addresses.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/7520467#7520467", "question_id": 7520432, "answer_id": 7520467}, {"body": "<p>Both == and .equals() refers to the same object if you don't override .equals(). </p>\n\n<p>Its your wish  what you want to do once you override .equals(). You can compare the invoking object's state with the passed in object's state or you can just call super.equals()</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/7520658#7520658", "question_id": 7520432, "answer_id": 7520658}, {"body": "<p>Just remember that <code>.equals(...)</code> has to be implemented by the class you are trying to compare. Otherwise, there isn't much of a point; the version of the method for the Object class does the same thing as the comparison operation: <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"nofollow\">Object#equals</a>.</p>\n\n<p>The only time you really want to use the comparison operator for objects is wen you are comparing Enums. This is because there is only one instance of an Enum value at a time. For instance, given the enum</p>\n\n<pre><code>enum FooEnum {A, B, C}\n</code></pre>\n\n<p>You will never have more than one instance of <code>A</code> at a time, and the same for <code>B</code> and <code>C</code>. This means that you can actually write a method like so:</p>\n\n<pre><code>public boolean compareFoos(FooEnum x, FooEnum y)\n{\n    return (x == y);\n}\n</code></pre>\n\n<p>And you will have no problems whatsoever.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/7521675#7521675", "question_id": 7520432, "answer_id": 7521675}, {"body": "<p>With respect to the String class:</p>\n\n<p>The equals() <strong>method</strong> compares the \"value\" inside String instances (on the heap) irrespective if the two object references refer to the same String instance or not. If any two object references of type String refer to the same String instance then great! If the two object references refer to two different String instances .. it doesn't make a difference. Its the \"value\" (that is: the contents of the character array) inside each String instance that is being compared.</p>\n\n<p>On the other hand, the \"==\" <strong>operator</strong> compares the value of <strong>two object references</strong> to see whether they refer to the same <strong>String instance</strong>. If the value of both object references \"refer to\" the same String instance then the result of the boolean expression would be \"true\"..duh. If, on the other hand, the value of both object references \"refer to\" <strong>different String instances</strong> (even though both String instances have identical \"values\", that is, the contents of the character arrays of each String instance are the same) the result of the boolean expression would be \"false\".</p>\n\n<p>As with any explanation, let it sink in.</p>\n\n<p>I hope this clears things up a bit.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/10806192#10806192", "question_id": 7520432, "answer_id": 10806192}, {"body": "<p>\"==\" is an operator and \"equals\" is a method.\noperators are used for primitive type comparisons and so \"==\" is used for memory address comparison.\"equals\" method is used for comparing objects. </p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/21128549#21128549", "question_id": 7520432, "answer_id": 21128549}, {"body": "<p>There are some small differences depending whether you are talking about \"primitives\" or \"Object Types\"; the same can be said if you are talking about \"static\" or \"non-static\" members; you can also mix all the above...</p>\n\n<p>Here is an example (you can run it):</p>\n\n<pre><code>public final class MyEqualityTest\n{\n    public static void main( String args[] )\n    {\n        String s1 = new String( \"Test\" );\n        String s2 = new String( \"Test\" );\n\n        System.out.println( \"\\n1 - PRIMITIVES \");\n        System.out.println( s1 == s2 ); // false\n        System.out.println( s1.equals( s2 )); // true\n\n        A a1 = new A();\n        A a2 = new A();\n\n        System.out.println( \"\\n2 - OBJECT TYPES / STATIC VARIABLE\" );\n        System.out.println( a1 == a2 ); // false\n        System.out.println( a1.s == a2.s ); // true\n        System.out.println( a1.s.equals( a2.s ) ); // true\n\n        B b1 = new B();\n        B b2 = new B();\n\n        System.out.println( \"\\n3 - OBJECT TYPES / NON-STATIC VARIABLE\" );\n        System.out.println( b1 == b2 ); // false\n        System.out.println( b1.getS() == b2.getS() ); // false\n        System.out.println( b1.getS().equals( b2.getS() ) ); // true\n    }\n}\n\nfinal class A\n{\n    // static\n    public static String s;\n    A()\n    {\n        this.s = new String( \"aTest\" );\n    }\n}\n\nfinal class B\n{\n    private String s;\n    B()\n    {\n        this.s = new String( \"aTest\" );\n    }\n\n    public String getS()\n    {\n        return s;\n    }\n\n}\n</code></pre>\n\n<p>You can compare the explanations for \"==\" (Equality Operator) and \".equals(...)\" (method in the java.lang.Object class) through these links:</p>\n\n<ul>\n<li>==: <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html</a></li>\n<li>.equals(...): <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)\">http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)</a></li>\n</ul>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/22213322#22213322", "question_id": 7520432, "answer_id": 22213322}, {"body": "<p>It may be worth adding that for wrapper objects for primitive types - i.e. Int, Long, Double - equals will return true if the two values are equal.</p>\n\n<pre><code>Long a = 10L;\nLong b = 10L;\n\nif (a.equals(b)) {\n    System.out.println(\"Wrapped primitives behave like values\");\n}\n</code></pre>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/27450061#27450061", "question_id": 7520432, "answer_id": 27450061}, {"body": "<p><code>==</code> can be used in many object types but you can use <code>Object.equals</code> for any type , especially Strings and Google Map Markers.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/27478241#27478241", "question_id": 7520432, "answer_id": 27478241}, {"body": "<blockquote>\n  <p>Since Java doesn\u2019t support operator overloading, == behaves identical\n  for every object but equals() is method, which can be overridden in\n  Java and logic to compare objects can be changed based upon business\n  rules.</p>\n  \n  <p>Main difference between == and equals in Java is that \"==\" is used to\n  compare primitives while equals() method is recommended to check\n  equality of objects.</p>\n  \n  <p><strong>String comparison is a common scenario of using both == and equals method.</strong> Since java.lang.String class override equals method, It\n  return true if two String object contains same content but == will\n  only return true if two references are pointing to same object.</p>\n  \n  <p><strong>Here is an example</strong> of comparing two Strings in Java for equality using == and equals() method which will clear some doubts:</p>\n</blockquote>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>public class TEstT{\n\n    public static void main(String[] args) {\n\nString text1 = new String(\"apple\");\nString text2 = new String(\"apple\");\n\n//since two strings are different object result should be false\nboolean result = text1 == text2;\nSystem.out.println(\"Comparing two strings with == operator: \" + result);\n\n//since strings contains same content , equals() should return true\nresult = text1.equals(text2);\nSystem.out.println(\"Comparing two Strings with same content using equals method: \" + result);\n\ntext2 = text1;\n//since both text2 and text1d reference variable are pointing to same object\n//\"==\" should return true\nresult = (text1 == text2);\nSystem.out.println(\"Comparing two reference pointing to same String with == operator: \" + result);\n\n}\n}\n</code></pre>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/28277380#28277380", "question_id": 7520432, "answer_id": 28277380}, {"body": "<p>Also note that <code>.equals()</code> normally contains <code>==</code> for testing as this is the first thing you would wish to test for if you wanted to test if two objects are equal. </p>\n\n<p>And <code>==</code> actually does look at values for primitive types, for objects it checks the reference.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/29226136#29226136", "question_id": 7520432, "answer_id": 29226136}, {"body": "<p>The == operator:</p>\n\n<p>The == is a relational operator in Java that is used to compare two operands. It is used to determine whether the two operands are equal or not. Using the == operator, you can compare any primitive type such as int, char, float and Booleans. After comparison, the == operator returns a boolean value. If the two operands are equal, the == operator returns a true value. However, if the two operands are not equal, it returns a false value.\nWhen used with objects, the == operator compares the two object references and determines whether they refer to the same instance.</p>\n\n<p>The .equals() Method</p>\n\n<p>equals() is a method available in the String class that is used to compare two strings and determine whether they are equal. This method returns a boolean value as a result of the comparison. If the two strings contain the same characters in the same order, the equals() method returns true. Otherwise, it returns a false value.</p>\n\n<p>For Examples:</p>\n\n<p><a href=\"http://goo.gl/Sa3q5Y\" rel=\"nofollow\">http://goo.gl/Sa3q5Y</a></p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/32835423#32835423", "question_id": 7520432, "answer_id": 32835423}, {"body": "<p>== operator always reference is compared. But in case of </p>\n\n<blockquote>\n  <p>equals() method</p>\n</blockquote>\n\n<p>it's depends's on implementation if we are overridden equals method than it compares object on basic of implementation given in overridden method. </p>\n\n<pre><code> class A\n {\n   int id;\n   String str;\n\n     public A(int id,String str)\n     {\n       this.id=id;\n       this.str=str;\n     }\n\n    public static void main(String arg[])\n    {\n      A obj=new A(101,\"sam\");\n      A obj1=new A(101,\"sam\");\n\n      obj.equals(obj1)//fasle\n      obj==obj1 // fasle\n    }\n }\n</code></pre>\n\n<p>in above code both obj and obj1 object contains same data but reference is not same so equals return false and == also.\nbut if we overridden equals method than</p>\n\n<pre><code> class A\n {\n   int id;\n   String str;\n\n     public A(int id,String str)\n     {\n       this.id=id;\n       this.str=str;\n     }\n    public boolean equals(Object obj)\n    {\n       A a1=(A)obj;\n      return this.id==a1.id;\n    }\n\n    public static void main(String arg[])\n    {\n      A obj=new A(101,\"sam\");\n      A obj1=new A(101,\"sam\");\n\n      obj.equals(obj1)//true\n      obj==obj1 // fasle\n    }\n }\n</code></pre>\n\n<p>know check out it will return true and false for same case only we overridden </p>\n\n<blockquote>\n  <p>equals method .</p>\n</blockquote>\n\n<p>it compare object on basic of content(id) of object</p>\n\n<blockquote>\n  <p>but ==</p>\n</blockquote>\n\n<p>still compare references of object.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/35184115#35184115", "question_id": 7520432, "answer_id": 35184115}, {"body": "<p><strong>The <a href=\"http://stackoverflow.com/questions/2486191/what-is-the-java-string-pool-and-how-is-s-different-from-new-strings\">String pool</a> (aka <a href=\"http://stackoverflow.com/questions/10578984/what-is-string-interning\">interning</a>) and <a href=\"http://stackoverflow.com/questions/20877086/why-do-comparisons-with-integer-valueofstring-give-different-results-for-12\">Integer pool</a></strong> blur the difference further, and may allow you to use <code>==</code> for objects in some cases instead of <code>.equals</code></p>\n\n<p>This can give you greater performance (?), at the cost of greater complexity.</p>\n\n<p>E.g.:</p>\n\n<pre><code>assert \"ab\" == \"a\" + \"b\";\n\nInteger i = 1;\nInteger j = i;\nassert i == j;\n</code></pre>\n\n<p>Complexity tradeoff: the following may surprise you:</p>\n\n<pre><code>assert new String(\"a\") != new String(\"a\");\n\nInteger i = 128;\nInteger j = 128;\nassert i != j;\n</code></pre>\n\n<p>I advise you to stay away from such micro-optimization, and <em>always</em> use <code>.equals</code> for objects, and <code>==</code> for primitives:</p>\n\n<pre><code>assert (new String(\"a\")).equals(new String(\"a\"));\n\nInteger i = 128;\nInteger j = 128;\nassert i.equals(j);\n</code></pre>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/35399386#35399386", "question_id": 7520432, "answer_id": 35399386}, {"body": "<p>Difference between == and equals confused me for sometime until I decided to have a closer look at it.\nMany of them say that for comparing string you should use <code>equals</code> and not <code>==</code>. Hope in this answer I will be able to say the difference.</p>\n\n<p>The best way to answer this question will be by asking few question to yourself. so lets start:</p>\n\n<p><strong>What is the output for the below program:</strong></p>\n\n<pre><code>String mango = \"mango\";\nString mango2 = \"mango\";\nSystem.out.println(mango != mango2);\nSystem.out.println(mango == mango2);\n</code></pre>\n\n<p>if you say, </p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>I will say you are <em>right</em> but <strong>why did you said that</strong>?\nand If you say the output is,</p>\n\n<pre><code>true\nfalse\n</code></pre>\n\n<p>I will say you are <em>wrong</em> but I will still ask you, why you think that is right?</p>\n\n<p>Ok, Lets try to answer this one:</p>\n\n<p><strong>What is the output for the below program:</strong></p>\n\n<pre><code>String mango = \"mango\";\nString mango3 = new String(\"mango\");\nSystem.out.println(mango != mango3);\nSystem.out.println(mango == mango3);\n</code></pre>\n\n<p>Now If you say,</p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>I will say you are <em>wrong</em> but <strong>why is it wrong now</strong>?\nthe correct output for this program is</p>\n\n<pre><code>true\nfalse\n</code></pre>\n\n<p>Please compare the above program and try to think on it.</p>\n\n<p>Ok. Now this might help (please read this : <a href=\"http://stackoverflow.com/questions/18396927/how-to-print-the-address-of-an-object-if-you-have-redefined-tostring-method\">print the address of object</a> - not possible but still we can use it.)</p>\n\n<pre><code>String mango = \"mango\";\nString mango2 = \"mango\";\nString mango3 = new String(\"mango\");\nSystem.out.println(mango != mango2);\nSystem.out.println(mango == mango2);\nSystem.out.println(mango3 != mango2);\nSystem.out.println(mango3 == mango2);\n// mango2 = \"mang\";\nSystem.out.println(mango+\" \"+ mango2);\nSystem.out.println(mango != mango2);\nSystem.out.println(mango == mango2);\n\nSystem.out.println(System.identityHashCode(mango));\nSystem.out.println(System.identityHashCode(mango2));\nSystem.out.println(System.identityHashCode(mango3));\n</code></pre>\n\n<p>can you just try to think for the output of last three lines in above code:\nfor me ideone printed this out (<a href=\"https://ideone.com/JA6NgB\" rel=\"nofollow\">you can check the code here</a>):</p>\n\n<pre><code>false\ntrue\ntrue\nfalse\nmango mango\nfalse\ntrue\n17225372\n17225372\n5433634\n</code></pre>\n\n<p>Oh! Now you see the <strong>identityHashCode(mango) is equal to identityHashCode(mango2) But it is not equal to identityHashCode(mango3)</strong></p>\n\n<p>Even though all the string variables - mango,mango2 and mango3 has the <strong>same</strong> value of \"mango\". But still <code>identityHashCode()</code> for all is not same.</p>\n\n<p>Now try to uncomment this line <code>// mango2 = \"mang\";</code> and run it again this time you will see all three <code>identityHashCode()</code> are different.\nHmm that is a helpful hint</p>\n\n<p>we know that if <code>hashcode(x)=N</code> and <code>hashcode(y)=N</code> => <code>x is equal to y</code></p>\n\n<p>I am not sure how java works internally, But I assume this is what happened when I said:</p>\n\n<pre><code>mango = \"mango\";\n</code></pre>\n\n<p>java created a string <code>\"mango\"</code> and which was pointed(referenced) by variable <code>mango</code> something like this</p>\n\n<pre><code>mango ----&gt; \"mango\"\n</code></pre>\n\n<p>Now in the next line when I said:</p>\n\n<pre><code>mango2 = \"mango\";\n</code></pre>\n\n<p>It actually reused the same string <code>\"mango\"</code> which looks something like this</p>\n\n<pre><code>mango ----&gt; \"mango\" &lt;---- mango2\n</code></pre>\n\n<p>Both mango and mango2 pointing to the same reference\nNow when I said </p>\n\n<pre><code>mango3 = new String(\"mango\")\n</code></pre>\n\n<p>It actually created a completely new reference(string) for \"mango\". which looks something like this,</p>\n\n<pre><code>mango -----&gt; \"mango\" &lt;------ mango2\n\nmango3 ------&gt; \"mango\"\n</code></pre>\n\n<p>and thats why when I outputted the values for <code>mango == mango2</code>, it outputted <code>true</code>. and when I outputted the value for <code>mango3 == mango2</code>, it outputted <code>false</code> (even when the value were same).</p>\n\n<p>and when you uncommented the line <code>// mango2 = \"mang\";</code>\nIt actually created a string \"mang\" and which turned our graph like this:</p>\n\n<pre><code>mango ----&gt;\"mango\"\nmango2 ----&gt; \"mang\"\nmango3 -----&gt; \"mango\"\n</code></pre>\n\n<p>and this is why the identityHashCode is not same for all.</p>\n\n<p>Hope this help you guys.\nActually I wanted to generate a testcase where == fails and equals() pass.\nPlease feel free to comment and let me know If I am wrong.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/36424446#36424446", "question_id": 7520432, "answer_id": 36424446}, {"body": "<p>Basically, <code>==</code> compares if two objects have the same reference on the heap, so unless two references are linked to the same object, this comparison will be false.</p>\n\n<p><code>equals()</code> is a method inherited from <strong><code>Object</code></strong> class. This method by default compares if two objects have the same referece. It means:</p>\n\n<p><code>object1.equals(object2)</code> <strong>&lt;=></strong> <code>object1 == object2</code></p>\n\n<p>However, if you want to establish equality between two objects of the same class you should override this method. It is also very important to override the method <code>hashCode()</code> if you have overriden <code>equals()</code>.</p>\n\n<p>Implement <code>hashCode()</code> when establishing equality is part of the Java Object Contract. If you are working with collections, and you haven't implemented <code>hashCode()</code>, Strange Bad Things could happen:</p>\n\n<pre><code>HashMap&lt;Cat, String&gt; cats = new HashMap&lt;&gt;();\nCat cat = new Cat(\"molly\");\ncats.put(cat, \"This is a cool cat\");\nSystem.out.println(cats.get(new Cat(\"molly\"));\n</code></pre>\n\n<p><code>null</code> will be printed after executing the previous code if you haven't implemented <code>hashCode()</code>.</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/36875991#36875991", "question_id": 7520432, "answer_id": 36875991}, {"body": "<p>Correct.</p>\n\n<blockquote>\n  <p>The <strong>==</strong> operator tests whether two variables have the <strong>same references\n  (identity) aka memory address</strong>.</p>\n  \n  <p>Whereas the <strong>equals()</strong> method tests whether two variables refer to objects\n  that have the <strong>same state (content)</strong>.</p>\n</blockquote>\n\n<p>Cheers!</p>\n", "title": "What is the difference between == vs equals() in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java/38853906#38853906", "question_id": 7520432, "answer_id": 38853906}], "creation_date": 1316720203, "score": 226, "link": "http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java", "question_id": 7520432}, {"body": "<p>I'm trying to use a constant instead of a string literal in this piece of code:</p>\n\n<pre><code>new InputStreamReader(new FileInputStream(file), \"UTF-8\")\n</code></pre>\n\n<p><code>\"UTF-8\"</code> appears in the code rather often, and would be much better to refer to some <code>static final</code> variable instead. Do you know where I can find such a variable in JDK?</p>\n\n<p>BTW, on a second thought, such constants are bad design: <a href=\"http://www.yegor256.com/2015/07/06/public-static-literals.html\">Public Static Literals ... Are Not a Solution for Data Duplication</a></p>\n", "tags": ["java"], "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "answers": [{"body": "<p>You can use Charset.defaultCharset() API or file.encoding property.</p>\n\n<p>But if you want your own constant, you'll need to define it yourself.</p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/6698400#6698400", "question_id": 6698354, "answer_id": 6698400}, {"body": "<p>There are none (at least in the standard Java library). Character sets vary from platform to platform so there isn't a standard list of them in Java.</p>\n\n<p>There are some 3rd party libraries which contain these constants though. One of these is Guava (Google core libraries): <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Charsets.html\">http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Charsets.html</a></p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/6698419#6698419", "question_id": 6698354, "answer_id": 6698419}, {"body": "<p>The <a href=\"http://code.google.com/p/guava-libraries/\">Google Guava</a> library (which I'd highly recommend anyway, if you're doing work in Java) has a <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Charsets.html\"><code>Charsets</code></a> class with static fields like <code>Charsets.UTF_8</code>, <code>Charsets.UTF_16</code>, etc.</p>\n\n<p>Since Java 7 you should just use <code>java.nio.charset.StandardCharsets</code> instead for comparable constants.</p>\n\n<p>Note that these constants aren't strings, they're actual <code>Charset</code> instances. All standard APIs that take a charset name also have an overload that take a <code>Charset</code> object which you should use instead.</p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/6698444#6698444", "question_id": 6698354, "answer_id": 6698444}, {"body": "<p>Now I use <code>org.apache.commons.lang3.CharEncoding.UTF_8</code> constant from <a href=\"http://commons.apache.org/lang/\">commons-lang</a>.</p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/10329423#10329423", "question_id": 6698354, "answer_id": 10329423}, {"body": "<p>This constant is available (among others as: <code>UTF-16</code>, <code>US-ASCII</code>, etc.) in the class <code>org.apache.commons.codec.CharEncoding</code> as well.</p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/14268510#14268510", "question_id": 6698354, "answer_id": 14268510}, {"body": "<p>In case this page comes up in someones web search, as of Java 1.7 you can now use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\">java.nio.charset.StandardCharsets</a> to get access to constant definitions of standard charsets.</p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/16051816#16051816", "question_id": 6698354, "answer_id": 16051816}, {"body": "<p>In Java 1.7+, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\">StandardCharsets</a> defines constants for <code>Charset</code> including <code>UTF_8</code>.</p>\n\n<p><code>import java.nio.charset.StandardCharsets</code></p>\n\n<p><code>StandardCharsets.UTF_8</code> </p>\n\n<p><strong>For Android: minSdk 19</strong></p>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/16066990#16066990", "question_id": 6698354, "answer_id": 16066990}, {"body": "<p>If you are using <a href=\"http://square.github.io/okhttp/\" rel=\"nofollow\">OkHttp</a> for Java/Android you can use the following constant:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.squareup.okhttp.internal.Util;\n\nUtil.UTF_8; // Charset\nUtil.UTF_8.name(); // String\n</code></pre>\n", "title": "Where to get &quot;UTF-8&quot; string literal in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java/32987975#32987975", "question_id": 6698354, "answer_id": 32987975}], "creation_date": 1310669102, "score": 221, "link": "http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java", "question_id": 6698354}, {"body": "<p>I am having trouble compiling and running my Java code, intended to allow me to interface Java with a shared object for Vensim, a simulation modeling package.</p>\n\n<p>The following code compiles without error:</p>\n\n<pre><code>javac -d . -cp ./apache-log4j-1.2.16/log4j-1.2.16.jar:./vensim.jar SpatialModel.java     VensimHelper.java VensimException.java VensimContextRepository.java\n</code></pre>\n\n<p>However, when I try to run the following:</p>\n\n<pre><code>java -cp ./apache-log4j-1.2.16/log4j-1.2.16.jar:./vensim.jar SpatialModel vars\n</code></pre>\n\n<p>I get the following error: \"Error: Could not find or load main class SpatialModel\n\".  My SpatialModel.java code does contain a 'main' method (below), so I'm not sure what the problem is - can anyone please help me out?  Thanks.</p>\n\n<pre><code>import java.io.File;\nimport java.text.NumberFormat;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.apache.log4j.Logger;\n\npublic class SpatialModel {\n\n    private VensimHelper vh;\n\n    public static final String DLL_LIBNAME_PARAM = \"vensim_lib_nam\";\n\n    public static final String MODEL_PATH_PARAM = \"vensim_model_path\";\n\n    private final static int VENSIM_CONTEXT_CREATION_MAX_FAILURE_COUNT = 10;\n\n    public SpatialModel() throws SpatialException {\n\n        String libName = System.getProperty(DLL_LIBNAME_PARAM);\n        String modelPath = System.getProperty(MODEL_PATH_PARAM);        \n\n        if(libName == null || libName.trim().equals(\"\")) {\n            log.error(\"Vensim library name has to be set with -D\" + DLL_LIBNAME_PARAM);\n            throw new SpatialException(\"Vensim library name has to be set with -D\" + DLL_LIBNAME_PARAM);\n        }\n\n        if(modelPath == null || modelPath.trim().equals(\"\")) {\n            log.error(\"Model path has to set with -D\" + MODEL_PATH_PARAM);\n            throw new SpatialException(\"Model path ahs to be set with -D\" + MODEL_PATH_PARAM);\n        }\n\n        for (int i = 0; i &lt; VENSIM_CONTEXT_CREATION_MAX_FAILURE_COUNT &amp;&amp; vh == null; i++) {\n            try {\n                log.info(\"creating new vensim helper\\n\\tdll lib: \" + libName + \"\\n\\tmodel path: \" + modelPath);\n                vh = new VensimHelper(libName, modelPath);\n            } catch (Throwable e) {\n                log.error(\"An exception was thrown when initializing Vensim, try: \" + i, e);\n            }\n        }\n        if (vh == null) {\n            throw new SpatialException(\"Can't initialize Vensim\");\n        }\n\n    }\n\n    public static void main(String[] args) throws VensimException {\n\n        long before = System.currentTimeMillis();   \n        String libName = System.getProperty(DLL_LIBNAME_PARAM);\n        String modelPath = System.getProperty(MODEL_PATH_PARAM);\n\n        if (libName == null) {\n            libName = \"libvensim\";\n        }\n        if(modelPath == null) {\n            modelPath = \"~/BassModel.vmf\";\n        }\n\n        System.setProperty(DLL_LIBNAME_PARAM, libName);\n        System.setProperty(MODEL_PATH_PARAM, modelPath);\n\n        if (args.length &gt; 0 &amp;&amp; args[0].equals(\"info\")) {\n            System.out.println(new VensimHelper(libName, modelPath).getVensimInfo());\n        } else if (args.length &gt; 0 &amp;&amp; args[0].equals(\"vars\")) {\n            VensimHelper helper = new VensimHelper(libName, modelPath);\n            String[] vars = helper.getVariables();\n            for (String var : vars) {\n                System.out.println(helper.getVariableInfo(var));\n            }\n        } else {\n\n            File f = new File(\".\");\n            System.out.println(f.getAbsolutePath());\n\n            SpatialModel sm = new SpatialModel();\n        }\n\n        System.out.println(\"Execution time: \" + (System.currentTimeMillis() - before));\n    }\n\n}\n</code></pre>\n", "tags": ["java", "linux"], "title": "Error: Could not find or load main class", "answers": [{"body": "<p>I believe you need to add the current directory to the Java classpath</p>\n\n<pre><code>java -cp .:./apache-log4j-1.2.16/log4j-1.2.16.jar:./vensim.jar SpatialModel vars\n</code></pre>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/7485697#7485697", "question_id": 7485670, "answer_id": 7485697}, {"body": "<p>You must ensure that you add the location of your <code>.class</code> file to your classpath. So, if its in the current folder then add <code>.</code> to your classpath.\nNote that the windows classpath separator is a semi-colon ie <code>;</code></p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/7485781#7485781", "question_id": 7485670, "answer_id": 7485781}, {"body": "<p>Problem is not about your main function. Check out for</p>\n\n<pre><code>javac -d . -cp ./apache-log4j-1.2.16/log4j-1.2.16.jar:./vensim.jar SpatialModel.java     VensimHelper.java VensimException.java VensimContextRepository.java\n</code></pre>\n\n<p>output and run it. </p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/7485885#7485885", "question_id": 7485670, "answer_id": 7485885}, {"body": "<p>If you try to run a java application which needs JDK 1.6 and you are trying to run on JDK 1.4 then you will come across this error. In general trying to run java appliation on old JRE may fail. Try installing new JRE/JDK</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/8090885#8090885", "question_id": 7485670, "answer_id": 8090885}, {"body": "<p>You can try these two when you are getting the error: 'could not find or load main class'</p>\n\n<p>If your class file is saved in following directory with <code>HelloWorld</code> program name\n<code>d:\\sample</code></p>\n\n<ol>\n<li><code>java -cp d:\\sample HelloWorld</code></li>\n<li><code>java -cp . HelloWorld</code></li>\n</ol>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/8954962#8954962", "question_id": 7485670, "answer_id": 8954962}, {"body": "<p>check your BuildPath, it could be that you are referencing a Library which is not anymore existing.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/12300279#12300279", "question_id": 7485670, "answer_id": 12300279}, {"body": "<p>I know this question was tagged with linux, but on <em>windows</em>, you might need to separate your cp args with a <code>;</code> instead of a <code>:</code>.</p>\n\n<p><code>java -cp ./apache-log4j-1.2.16/log4j-1.2.16.jar;./vensim.jar SpatialModel vars</code></p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html</a></p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/15912292#15912292", "question_id": 7485670, "answer_id": 15912292}, {"body": "<p>You have to set the classpath if you get the error: </p>\n\n<blockquote>\n  <p>Could not find or load main class XYZ</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>E:\\&gt;set path=\"c:\\programfiles\\Java\\jdk1.7.0_17\\bin\"\nE:\\&gt;set classpath=%classpath%;.;\nE:\\&gt;javac XYZ.java\nE:\\&gt;java XYZ\n</code></pre>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/16208709#16208709", "question_id": 7485670, "answer_id": 16208709}, {"body": "<p>if You working in Eclipse, just make cleanup (<code>project\\clean..</code> <code>clean all projects</code>) of project.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/16695199#16695199", "question_id": 7485670, "answer_id": 16695199}, {"body": "<p>I was using Java 1.8, and this error suddenly occured when i pressed \"Build and clean\" in netbeans, I switched for a brief moment to 1.7 again, clicked Ok, re-opened properties and switched back to 1.8 and everything worked perfectly.</p>\n\n<p>I hope i can help someone out with this, these errors can be quite time consuming.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/22268125#22268125", "question_id": 7485670, "answer_id": 22268125}, {"body": "<p>This solved the issue for me today:</p>\n\n<pre><code>cd /path/to/project\ncd build\nrm -r classes\n</code></pre>\n\n<p>Then clean&amp;build it and run the individual files you need.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/24212404#24212404", "question_id": 7485670, "answer_id": 24212404}, {"body": "<p>Project > Clean and then make sure BuildPath > Libraries has the correct Library.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/24756829#24756829", "question_id": 7485670, "answer_id": 24756829}, {"body": "<p>I have a similar problem in Windows, it's related to the classpath. From the command line, navigate until the directory where it's located your Java file (*.java and *.class), then try again with your commands.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/24764418#24764418", "question_id": 7485670, "answer_id": 24764418}, {"body": "\n\n<p>I got this error because I was trying to run</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>javac HelloWorld.java&amp;&amp;java HelloWorld.class\n</code></pre>\n\n<p>when I should have removed <code>.class</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>javac HelloWorld.java&amp;&amp;java HelloWorld\n</code></pre>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/25581266#25581266", "question_id": 7485670, "answer_id": 25581266}, {"body": "<p>You have to include classpath to your javac and java commands</p>\n\n<pre><code>javac -cp . PackageName/*.java\njava -cp . PackageName/ClassName_Having_main\n</code></pre>\n\n<p>suppose you have the following </p>\n\n<p>Package Named: com.test\nClass Name: Hello (Having main)\nfile is located inside \"src/com/test/Hello.java\"</p>\n\n<p>from outside directory: </p>\n\n<pre><code>$ cd src\n$ javac -cp . com/test/*.java\n$ java -cp . com/test/Hello\n</code></pre>\n\n<ul>\n<li>In windows the same thing will be working too, I already tried</li>\n</ul>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/26715506#26715506", "question_id": 7485670, "answer_id": 26715506}, {"body": "<p>This problem occurred for me when I imported an existing project into eclipse. What happens is it copied all the files not in the package, but outside the package. Hence, when I tried run > run configurations, it couldn't find the main method because it was not in the package. All I did was copy the files into the package and Eclipse was then able to detect the main method. So ultimately make sure that Eclipse can find your main method, by making sure that your java files are in the right package.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/27944662#27944662", "question_id": 7485670, "answer_id": 27944662}, {"body": "<p>I use Anypoint Studio (an Eclipse based IDE). In my case everything worked well, until I found out that while running the java code, something totally different is executed. Then I have deleted the .class files. After this point I got the error message from this question's title. Cleaning the project didn't solve the problem.</p>\n\n<p>After restarting the IDE everything worked well again.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/28630285#28630285", "question_id": 7485670, "answer_id": 28630285}, {"body": "<p>If the class is in a package</p>\n\n<pre><code>package thepackagename;\n\npublic class TheClassName {\n  public static final void main(String[] cmd_lineParams)  {\n     System.out.println(\"Hello World!\");\n  } \n}\n</code></pre>\n\n<p>Then calling the following results in <code>Error: Could not find or load main class TheClassName</code>.</p>\n\n<pre><code>java -classpath . TheClassName\n</code></pre>\n\n<p>It must be called with its fully-qualified name:</p>\n\n<pre><code>java -classpath . thepackagename.TheClassName\n</code></pre>\n\n<p>And this command must be called from the directory in which the <code>thepackagename</code> directory exists.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/29331827#29331827", "question_id": 7485670, "answer_id": 29331827}, {"body": "<p>If so simple than many people think, me included :)</p>\n\n<p>cd to <strong><code>Project Folder/src/package</code></strong> there you should see yourClass.java then run <strong><code>javac yourClass.java</code></strong> which will create yourClass.class then cd out of the <em><code>src</code></em> folder and into the <em><code>build</code></em> folder there you can run <strong><code>java package.youClass</code></strong></p>\n\n<p>I am using the Terminal on Mac or you can accomplish the same task using Command Prompt on windows</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/30200485#30200485", "question_id": 7485670, "answer_id": 30200485}, {"body": "<p>If you are using Eclipse... I renamed my main class file and got that error.  I went to \"Run As\" configurator and under the class path for that project, it had listed both files in the class path.  I removed old class that I renamed and left the class that had the new name and it compiled and ran just fine.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/30682628#30682628", "question_id": 7485670, "answer_id": 30682628}, {"body": "<p><code>java -verbose:class HelloWorld</code> might help you understand which classes are being loaded.</p>\n\n<p>Also, as mentioned before, remember to call the full qualified name (i.e. include package).</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/34091542#34091542", "question_id": 7485670, "answer_id": 34091542}, {"body": "<p>If you're getting this error and you are <strong>using Maven to build your Jars</strong>, then there is a good chance that you simply do not have your Java classes in <code>src/main/java/</code>.</p>\n\n<p>In my case I created my project in Eclipse which defaults to <code>src</code> (rather than <code>src/main/java/</code>.</p>\n\n<p>So I ended up with something like <code>mypackage.morepackage.myclass</code> and a directory structure looking like <code>src/mypackage/morepackage/myclass</code>, which inherently has nothing wrong. But when you run <code>mvn clean install</code> it will look for <code>src/main/java/mypackage/morepackage/myclass</code>. It will not find the class but it won't error either. So it will successfully build and you when you run your outputted Jar the result is:</p>\n\n<pre><code>Error: Could not find or load main class mypackage.morepackage.myclass\n</code></pre>\n\n<p>Because it simply never included your class in the packaged Jar.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/34406127#34406127", "question_id": 7485670, "answer_id": 34406127}, {"body": "<p><a href=\"http://i.stack.imgur.com/Es0jm.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/Es0jm.png\" alt=\"Change the Jdk version, if you have changed your jdk version\"></a></p>\n\n<p>i have recently adopted jdk1.8 for development, so the compiler version needs to be handled in eclipse, and also check your classpath, if any in your environment variables.</p>\n", "title": "Error: Could not find or load main class", "tags": ["java", "linux"], "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class/34408584#34408584", "question_id": 7485670, "answer_id": 34408584}], "creation_date": 1316524212, "score": 221, "link": "http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class", "question_id": 7485670}, {"body": "<p>HashSet is based on HashMap.</p>\n\n<p>If we look at <code>HashSet&lt;E&gt;</code> implementation, everything is been managed under <code>HashMap&lt;E,Object&gt;</code>.</p>\n\n<p><code>&lt;E&gt;</code> is used as a key of <code>HashMap</code>.</p>\n\n<p>And we know that <code>HashMap</code> is not thread safe. That is why we have <code>ConcurrentHashMap</code> in Java.</p>\n\n<p>Based on this, I am confused that <strong>why we don't have a ConcurrentHashSet which should be based on the <code>ConcurrentHashMap</code>?</strong></p>\n\n<p>Is there anything else that I am missing? I need to use <code>Set</code> in a multi-threaded environment.</p>\n\n<p>Also, If I want to create my own <code>ConcurrentHashSet</code> can I achieve it by just replacing the <code>HashMap</code> to <code>ConcurrentHashMap</code> and leaving the rest as is?</p>\n", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "answers": [{"body": "<p>You can use guava's <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Sets.html#newSetFromMap%28java.util.Map%29\"><code>Sets.newSetFromMap(map)</code></a> to get one. Java 6 also has that method in <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29\"><code>java.util.Collections</code></a></p>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/6992638#6992638", "question_id": 6992608, "answer_id": 6992638}, {"body": "<p>There's no built in type for <code>ConcurrentHashSet</code> because you can always <em>derive</em> a set from a map. Since there are many types of maps, you use a method to produce a set from a given map (or map class).</p>\n\n<p>Prior to Java 8, you produce a concurrent hash set backed by a concurrent hash map, by using <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29\"><code>Collections.newSetFromMap(map)</code></a></p>\n\n<p>In Java 8 (pointed out by @Matt), you can get a concurrent hash set <em>view</em> via <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#newKeySet--\"><code>ConcurrentHashMap.newKeySet()</code></a>. This is a bit simpler than the old <code>newSetFromMap</code> which required you to pass in an empty map object. But it is specific to <code>ConcurrentHashMap</code>.</p>\n\n<p>Anyway, the Java designers could have created a new set interface every time a new map interface was created, but that pattern would be impossible to enforce when third parties create their own maps. It is better to have the static methods that derive new sets; that approach always works, even when you create your own map implementations.</p>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/6992643#6992643", "question_id": 6992608, "answer_id": 6992643}, {"body": "<p>It looks like Java provides a concurrent Set implementation with its <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\">ConcurrentSkipListSet</a>.  A <a href=\"http://en.wikipedia.org/wiki/Skip_list\">SkipList Set</a> is just a special kind of set implementation.  It still implements the Serializable, Cloneable, Iterable, Collection, NavigableSet, Set, SortedSet interfaces.  This might work for you if you only need the Set interface. </p>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/19141738#19141738", "question_id": 6992608, "answer_id": 19141738}, {"body": "<pre><code>Set&lt;String&gt; mySet = Collections.newSetFromMap(new ConcurrentHashMap&lt;String, Boolean&gt;());\n</code></pre>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/24362411#24362411", "question_id": 6992608, "answer_id": 24362411}, {"body": "<pre><code>import java.util.AbstractSet;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\n\n\npublic class ConcurrentHashSet&lt;E&gt; extends AbstractSet&lt;E&gt; implements Set&lt;E&gt;{\n   private final ConcurrentMap&lt;E, Object&gt; theMap;\n\n   private static final Object dummy = new Object();\n\n   public ConcurrentHashSet(){\n      theMap = new ConcurrentHashMap&lt;E, Object&gt;();\n   }\n\n   @Override\n   public int size() {\n      return theMap.size();\n   }\n\n   @Override\n   public Iterator&lt;E&gt; iterator(){\n      return theMap.keySet().iterator();\n   }\n\n   @Override\n   public boolean isEmpty(){\n      return theMap.isEmpty();\n   }\n\n   @Override\n   public boolean add(final E o){\n      return theMap.put(o, ConcurrentHashSet.dummy) == null;\n   }\n\n   @Override\n   public boolean contains(final Object o){\n      return theMap.containsKey(o);\n   }\n\n   @Override\n   public void clear(){\n      theMap.clear();\n   }\n\n   @Override\n   public boolean remove(final Object o){\n      return theMap.remove(o) == ConcurrentHashSet.dummy;\n   }\n\n   public boolean addIfAbsent(final E o){\n      Object obj = theMap.putIfAbsent(o, ConcurrentHashSet.dummy);\n      return obj == null;\n   }\n}\n</code></pre>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/26031531#26031531", "question_id": 6992608, "answer_id": 26031531}, {"body": "<p>As pointed by <a href=\"http://possiblelossofprecision.net/?p=813\" rel=\"nofollow\">this</a> the best way to obtain a concurrency-able HashSet is by means of <code>Collections.synchronizedSet()</code></p>\n\n<pre><code>Set s = Collections.synchronizedSet(new HashSet(...));\n</code></pre>\n\n<p>This worked for me and I haven't seen anybody really pointing to it.</p>\n\n<p><strong>EDIT</strong> This is less efficient than the currently aproved solution, as Eugene points out, since it just wraps your set into a synchronized decorator, while a <code>ConcurrentHashMap</code> actually implements low-level concurrency and it can back your Set just as fine. So thanks to Mr. Stepanenkov for making that clear.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-</a></p>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/26764904#26764904", "question_id": 6992608, "answer_id": 26764904}, {"body": "<p>With <a href=\"https://code.google.com/p/guava-libraries/wiki/UseGuavaInYourBuild\">Guava</a> 15 you can also simply use:</p>\n\n<pre><code>Set s = Sets.newConcurrentHashSet();\n</code></pre>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/28267554#28267554", "question_id": 6992608, "answer_id": 28267554}, {"body": "<p>Like <a href=\"http://stackoverflow.com/a/6992643/3764804\">Ray Toal</a> mentioned it is as easy as:</p>\n\n<pre><code>Set&lt;String&gt; myConcurrentSet = ConcurrentHashMap.newKeySet();\n</code></pre>\n", "title": "Why there is no ConcurrentHashSet against ConcurrentHashMap", "tags": ["java", "collections", "concurrency", "hashmap", "hashset"], "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap/38251748#38251748", "question_id": 6992608, "answer_id": 38251748}], "creation_date": 1312874069, "score": 218, "link": "http://stackoverflow.com/questions/6992608/why-there-is-no-concurrenthashset-against-concurrenthashmap", "question_id": 6992608}, {"body": "<p>I want to remove the last character from a string. I've tried doing this:</p>\n\n<pre><code>public String method(String str) {\n    if (str.charAt(str.length()-1)=='x'){\n        str = str.replace(str.substring(str.length()-1), \"\");\n        return str;\n    } else{\n        return str;\n    }\n}\n</code></pre>\n\n<p>Getting the length of the string - 1 and replacing the last letter with nothing (deleting it), but every time I run the program, it deletes middle letters that are the same as the last letter.</p>\n\n<p>For example, the word is \"admirer\"; after I run the method, I get \"admie.\" I want it to return the word admire.</p>\n", "tags": ["java", "string"], "title": "How to remove the last character from a string?", "answers": [{"body": "<p>Replace will replace all instances of a letter. All you need to do is use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\"><code>substring()</code></a>:</p>\n\n<pre><code>public String method(String str) {\n    if (str != null &amp;&amp; str.length() &gt; 0 &amp;&amp; str.charAt(str.length()-1)=='x') {\n      str = str.substring(0, str.length()-1);\n    }\n    return str;\n}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/7438613#7438613", "question_id": 7438612, "answer_id": 7438613}, {"body": "<pre><code>public String removeLastChar(String s) {\n    if (s == null || s.length() == 0) {\n        return s;\n    }\n    return s.substring(0, s.length()-1);\n}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/7447481#7447481", "question_id": 7438612, "answer_id": 7447481}, {"body": "<p>Why not just one liner?</p>\n\n<pre><code>private static String removeLastChar(String str) {\n        return str.substring(0,str.length()-1);\n    }\n</code></pre>\n\n<p>Full Code</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\n\npublic class Main {\n    public static void main (String[] args) throws java.lang.Exception {\n        String s1 = \"Remove Last CharacterY\";\n        String s2 = \"Remove Last Character2\";\n        System.out.println(\"After removing s1==\" + removeLastChar(s1) + \"==\");\n        System.out.println(\"After removing s2==\" + removeLastChar(s2) + \"==\");\n\n    }\n\n    private static String removeLastChar(String str) {\n        return str.substring(0,str.length()-1);\n    }\n}\n</code></pre>\n\n<h2><a href=\"http://ideone.com/Qrbm5F\">Demo</a></h2>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/14001872#14001872", "question_id": 7438612, "answer_id": 14001872}, {"body": "<p>The described problem and proposed solutions sometimes relate to removing separators. If this is your case, then have a look at Apache Commons StringUtils, it has a method called removeEnd which is very elegant.</p>\n\n<p>Example:</p>\n\n<pre><code>StringUtils.removeEnd(\"string 1|string 2|string 3|\", \"|\");\n</code></pre>\n\n<p>Would result in:\n\"string 1|string 2|string 3\"</p>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/15900408#15900408", "question_id": 7438612, "answer_id": 15900408}, {"body": "<pre><code>if (str.endsWith(\"x\")) {\n  return str.substring(0, str.length() - 1);\n}\nreturn str;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>For example, the word is \"admirer\"; after I run the method, I get \"admie.\" I want it to return the word admire.</p>\n</blockquote>\n\n<p>In case you're trying to <a href=\"http://en.wikipedia.org/wiki/Stemming\">stem</a> English words</p>\n\n<blockquote>\n  <p>Stemming is the process for reducing inflected (or sometimes derived) words to their stem, base or root form\u2014generally a written word form.</p>\n  \n  <p>...</p>\n  \n  <p>A stemmer for English, for example, should identify the string \"cats\" (and possibly \"catlike\", \"catty\" etc.) as based on the root \"cat\", and \"stemmer\", \"stemming\", \"stemmed\" as based on \"stem\". A stemming algorithm reduces the words \"fishing\", \"fished\", \"fish\", and \"fisher\" to the root word, \"fish\".</p>\n</blockquote>\n\n<p><a href=\"http://stackoverflow.com/questions/5068790/difference-between-lucene-stemmers-englishstemmer-porterstemmer-lovinsstemmer\">Difference between Lucene stemmers: EnglishStemmer, PorterStemmer, LovinsStemmer</a> outlines some Java options.</p>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/16651965#16651965", "question_id": 7438612, "answer_id": 16651965}, {"body": "<p>Since we're on a subject, one can use regular expressions too</p>\n\n<pre><code>\"aaabcd\".replaceFirst(\".$\",\"\"); //=&gt; aaabc  \n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/18460535#18460535", "question_id": 7438612, "answer_id": 18460535}, {"body": "<p>Use this:</p>\n\n<pre><code> if(string.endsWith(\"x\")) {\n\n    string= string.substring(0, string.length() - 1);\n }\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/20240856#20240856", "question_id": 7438612, "answer_id": 20240856}, {"body": "<p>Don't try to reinvent the wheel, while others have already written libraries to perform string manipulation: \n<code>org.apache.commons.lang3.StringUtils.chop()</code></p>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/20520098#20520098", "question_id": 7438612, "answer_id": 20520098}, {"body": "<pre><code>public String removeLastChar(String s) {\n    if (!Util.isEmpty(s)) {\n        s = s.substring(0, s.length()-1);\n    }\n    return s;\n}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/20561131#20561131", "question_id": 7438612, "answer_id": 20561131}, {"body": "<p>removes last occurence of the 'xxx':</p>\n\n<pre><code>    System.out.println(\"aaa xxx aaa xxx \".replaceAll(\"xxx([^xxx]*)$\", \"$1\"));\n</code></pre>\n\n<p>removes last occurrence of the 'xxx' if it is last:</p>\n\n<pre><code>    System.out.println(\"aaa xxx aaa  \".replaceAll(\"xxx\\\\s*$\", \"\"));\n</code></pre>\n\n<p>you can replace the 'xxx' on what you want but watch out on special chars</p>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/21061355#21061355", "question_id": 7438612, "answer_id": 21061355}, {"body": "<p>A one-liner answer (just a <em>funny alternative</em> - do not try this at home, and great answers already given):</p>\n\n<pre><code>public String removeLastChar(String s){return (s != null &amp;&amp; s.length() != 0) ? s.substring(0, s.length() - 1): s;}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/25416292#25416292", "question_id": 7438612, "answer_id": 25416292}, {"body": "<pre><code>// Remove n last characters  \n// System.out.println(removeLast(\"Hello!!!333\",3));\n\npublic String removeLast(String mes, int n) {\n    return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.length()&gt;n\n         ? mes.substring(0, mes.length()-n): mes;\n}\n\n// Leave substring before character/string  \n// System.out.println(leaveBeforeChar(\"Hello!!!123\", \"1\"));\n\npublic String leaveBeforeChar(String mes, String last) {\n    return mes != null &amp;&amp; !mes.isEmpty() &amp;&amp; mes.lastIndexOf(last)!=-1\n         ? mes.substring(0, mes.lastIndexOf(last)): mes;\n}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/29781957#29781957", "question_id": 7438612, "answer_id": 29781957}, {"body": "<p>Look to StringBuilder Class :</p>\n\n<pre><code>    StringBuilder sb=new StringBuilder(\"toto,\");\n    System.out.println(sb.deleteCharAt(sb.length()-1));//display \"toto\"\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/31336903#31336903", "question_id": 7438612, "answer_id": 31336903}, {"body": "<p>if you have special character like ; in json just use String.replace(\";\", \"\") otherwise you must rewrite all character in string minus the last.</p>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/31742558#31742558", "question_id": 7438612, "answer_id": 31742558}, {"body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> \"String name\" = \"String name\".substring(0, (\"String name\".length() - 1));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Im using this in my code, it's easy and simple.\nit only works while the String is > 0.\nI have it connected to a button and inside the following <em>if</em> statement </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if (\"String name\".length() &gt; 0){\r\n \"String name\" = \"String name\".substring(0, (\"String name\".length() - 1));\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/33275640#33275640", "question_id": 7438612, "answer_id": 33275640}, {"body": "<p>In C# you can just write :</p>\n\n<pre><code>str = str.Remove(str.Length - 1);\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/35651243#35651243", "question_id": 7438612, "answer_id": 35651243}, {"body": "<p>This is the one way to remove the last character in the string:</p>\n\n<pre><code>Scanner in = new Scanner(System.in);\nString s = in.nextLine();\nchar array[] = s.toCharArray();\nint l = array.length;\nfor (int i = 0; i &lt; l-1; i++) {\n    System.out.print(array[i]);\n}\n</code></pre>\n", "title": "How to remove the last character from a string?", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string/39242157#39242157", "question_id": 7438612, "answer_id": 39242157}], "creation_date": 1316128563, "score": 215, "link": "http://stackoverflow.com/questions/7438612/how-to-remove-the-last-character-from-a-string", "question_id": 7438612}, {"body": "<p>What happens (behind the curtains) when this is executed?</p>\n\n<pre><code>int x = 7;\nx = x++;\n</code></pre>\n\n<p>That is, when a variable is post incremented and assigned to itself in one statement? I compiled and executed this. <code>x</code> is still 7 <em>even after the entire statement</em>. In my book, it says that <code>x</code> is incremented!</p>\n", "tags": ["java", "operators", "post-increment"], "title": "What is x after &quot;x = x++&quot;?", "answers": [{"body": "<p>It's incremented after \"<code>x = x++;</code>\". It would be 8 if you did \"<code>x = ++x;</code>\".</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7911790#7911790", "question_id": 7911776, "answer_id": 7911790}, {"body": "<p><code>x</code> does get incremented. But you are assigning the old value of <code>x</code> back into itself.</p>\n\n<pre><code>x = x++;\n</code></pre>\n\n<p><code>x++</code> increments <code>x</code> and returns its old value. <code>x =</code> assigns the old value back to itself.</p>\n\n<p>So in the end, <code>x</code> gets assigned back to its initial value.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7911791#7911791", "question_id": 7911776, "answer_id": 7911791}, {"body": "<pre><code>x = x++;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>int tmp = x;\nx++;\nx = tmp;\n</code></pre>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7911795#7911795", "question_id": 7911776, "answer_id": 7911795}, {"body": "<p>The incrementing occurs after x is called, so x still equals 7.  ++x would equal 8 when x is called</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7911799#7911799", "question_id": 7911776, "answer_id": 7911799}, {"body": "<p>When you re-assign the value for <code>x</code> it is still 7. Try <code>x = ++x</code> and you will get 8 else do</p>\n\n<pre><code>x++; // don't re-assign, just increment\nSystem.out.println(x); // prints 8\n</code></pre>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7911800#7911800", "question_id": 7911776, "answer_id": 7911800}, {"body": "<p>What happens when <code>int x = 7; x = x++;</code>?</p>\n\n<p>ans ->  <code>x++</code> means  first use value of x for expression and then increase it by 1.<br>\nThis is what happens in your case.  The value of x on RHS is copied to variable x on LHS and then value of <code>x</code> is increased by 1.  </p>\n\n<p>Similarly <code>++x</code>  means  <code>-&gt;</code> increase the value of x first by one and then  use in expression .<br>\nSo in your case  if you do  <code>x = ++x ; // where x = 7</code><br>\n you will get value of 8.   </p>\n\n<p>For more clarity try to find out how many printf statement will execute the following code   </p>\n\n<pre><code>while(i++ &lt;5)   \n  printf(\"%d\" , ++i);   // This might clear your concept upto  great extend\n</code></pre>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7913508#7913508", "question_id": 7911776, "answer_id": 7913508}, {"body": "<pre><code>int x = 7;\nx = x++;\n</code></pre>\n\n<p><a href=\"http://c-faq.com/expr/ieqiplusplus.html\">It has undefined behaviour in C</a> and for Java see <a href=\"http://stackoverflow.com/questions/6457130/pre-post-increment-operator-behavior-in-c-c-java-c-sharp\">this answer</a>. It depends on compiler what happens.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7916080#7916080", "question_id": 7911776, "answer_id": 7916080}, {"body": "<p>So this means:\n<code>x++</code> is not equal to <code>x = x+1</code> </p>\n\n<p>because:</p>\n\n<pre><code>int x = 7; x = x++;\nx is 7\n\nint x = 7; x = x = x+1;\nx is 8\n</code></pre>\n\n<p>and now it seems a bit strange:</p>\n\n<pre><code>int x = 7; x = x+=1;\nx is 8\n</code></pre>\n\n<p>very compiler dependent!</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7916384#7916384", "question_id": 7911776, "answer_id": 7916384}, {"body": "<p>because x++ increments the value AFTER assigning it to the variable.\nso on and during the execution of this line:</p>\n\n<pre><code>x++;\n</code></pre>\n\n<p>the varialbe x will still have the original value (7), but using x again on another line, such as</p>\n\n<pre><code>System.out.println(x + \"\");\n</code></pre>\n\n<p>will give you 8.</p>\n\n<p>if you want to use an incremented value of x on your assignment statement, use</p>\n\n<pre><code>++x;\n</code></pre>\n\n<p>This will increment x by 1, THEN assign that value to the variable x.</p>\n\n<p>[Edit]\ninstead of x = x++, it's just x++; the former assigns the original value of x to itself, so it actually does nothing on that line.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7917331#7917331", "question_id": 7911776, "answer_id": 7917331}, {"body": "<p><code>++x</code> is pre-increment  <code>-&gt;</code> x is incremented <strong>before</strong> being used <br>\n<code>x++</code> is post-increment <code>-&gt;</code> x is incremented <strong>after</strong> being used <br></p>\n\n<pre><code>int x = 7; -&gt; x get 7 value &lt;br&gt;\nx = x++; -&gt; x get x value AND only then x is incremented\n</code></pre>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/7918771#7918771", "question_id": 7911776, "answer_id": 7918771}, {"body": "<p>The statement:</p>\n\n<pre><code>x = x++;\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>tmp = x;   // ... this is capturing the value of \"x++\"\nx = x + 1; // ... this is the effect of the increment operation in \"x++\" which\n           //     happens after the value is captured.\nx = tmp;   // ... this is the effect of assignment operation which is\n           //     (unfortunately) clobbering the incremented value.\n</code></pre>\n\n<p>In short, the statement has no effect.</p>\n\n<p>The key points: </p>\n\n<ul>\n<li><p>The value of a Postfix increment/decrement expression is the value of the operand <em>before</em> the increment/decrement takes place.  (In the case of a Prefix form, the value is the value of the operand <em>after</em> the operation,)</p></li>\n<li><p>the RHS of an assignment expression is completely evaluated (including any increments, decrements and/or other side-effects) <em>before</em> the value is assigned to the LHS.</p></li>\n</ul>\n\n<p><sub>Note that unlike C and C++, the order of evaluation of an expression in Java is totally specified and there is no room for platform-specific variation.  Compilers are only allowed to reorder the operations if this does not change the result of executing the code from the perspective of the current thread.  In this case, a compiler would be permitted to optimize away the entire statement because it can be proved that it is a no-op.</sub></p>\n\n<hr>\n\n<p>In case it is not already obvious:</p>\n\n<ul>\n<li>\"x = x++;\" is almost certainly a mistake in any program.</li>\n<li>The OP (for the original question!) probably meant \"x++;\" rather than \"x = x++;\".</li>\n<li>Statements that combine auto inc/decrement and assignment on the same variable are hard to understand, and <em>therefore</em> should be avoided <em>irrespective of their correctness</em>.  There is simply no need to write code like that.  </li>\n</ul>\n\n<p>Hopefully, code checkers like FindBugs and PMD will flag code like this as suspicious.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/12033710#12033710", "question_id": 7911776, "answer_id": 12033710}, {"body": "<p>A construct like <code>x = x++;</code> indicates you're probably misunderstanding what the <code>++</code> operator does:</p>\n\n<pre><code>// original code\nint x = 7;\nx = x++;\n</code></pre>\n\n<p>Let's rewrite this to do the same thing, based on removing the <code>++</code> operator:</p>\n\n<pre><code>// behaves the same as the original code\nint x = 7;\nint tmp = x; // value of tmp here is 7\nx = x + 1; // x temporarily equals 8 (this is the evaluation of ++)\nx = tmp; // oops! we overwrote y with 7\n</code></pre>\n\n<p>Now, let's rewrite it to do (what I think) you wanted:</p>\n\n<pre><code>// original code\nint x = 7;\nx++;\n</code></pre>\n\n<p>The subtlety here is that the <code>++</code> operator <em>modifies the variable <code>x</code></em>, unlike an expression such as <code>x + x</code>, which would evaluate to an int value but leave the variable <code>x</code> itself unchanged. Consider a construct like the venerable <code>for</code> loop:</p>\n\n<pre><code>for(int i = 0; i &lt; 10; i++)\n{\n    System.out.println(i);\n}\n</code></pre>\n\n<p>Notice the <code>i++</code> in there? It's the same operator. We could rewrite this <code>for</code> loop like this and it would behave the same:</p>\n\n<pre><code>for(int i = 0; i &lt; 10; i = i + 1)\n{\n    System.out.println(i);\n}\n</code></pre>\n\n<p>I also recommend against using the <code>++</code> operator in larger expressions in most cases. Because of the subtlety of <em>when</em> it modifies the original variable in pre- versus post-increment (<code>++x</code> and <code>x++</code>, respectively), it is very easy to introduce subtle bugs that are difficult to track down.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/12040147#12040147", "question_id": 7911776, "answer_id": 12040147}, {"body": "<p>I think this controversy can be resolved without going into code &amp; just thinking.</p>\n\n<p>Consider i++ &amp; ++i as functions say Fun1 &amp; Fun2.</p>\n\n<p>If i=7;<br>\ni++ function(Fun1) returns 7,  ++i function(Fun2) returns 8 (this everybody knows). Internally both the functions increment i to 8 , but they return different values.</p>\n\n<p>So i = i++ calls the function Fun1. Inside the function i increments to 8, but on completion the function returns 7.</p>\n\n<p>So ultimately 7 gets allocated to i.  (So in the end i=7; is executed)</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/21433318#21433318", "question_id": 7911776, "answer_id": 21433318}, {"body": "<p>Post Increment operator works as follows:</p>\n\n<ol>\n<li>Store previous value of operand.</li>\n<li>Increment the value of the operand.</li>\n<li>Return the previous value of the operand.</li>\n</ol>\n\n<p>So the statement</p>\n\n<pre><code>int x = 7;\nx = x++; \n</code></pre>\n\n<p>would be evaluated as follows:</p>\n\n<ol>\n<li>x is initialized with value 7</li>\n<li>post increment operator stores previous value of x i.e. 7 to return.</li>\n<li>Increments the x, <strong>so now x is 8</strong> </li>\n<li>Returns the previous value of x i.e. 7 and it is assigned back to x, so x again becomes 7</li>\n</ol>\n\n<p>So x is indeed increased but since x++ is assigning result back to x so value of x is overridden to its previous value.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/22005861#22005861", "question_id": 7911776, "answer_id": 22005861}, {"body": "<p><a href=\"http://blog.jamesdbloom.com/JVMInternals.html\" rel=\"nofollow\">According to Byte code</a> obtained from the class files,</p>\n\n<p>Both assignments increment x, but difference is the timing of <code>when the value is pushed onto the stack</code></p>\n\n<p>In <code>Case1</code>,  Push occurs  (and then later assigned) before the increment (essentially meaning your increment does nothing)</p>\n\n<p>In <code>Case2</code>, Increment occurs first (making it 8) and then pushed onto the stack(and then assigned to x)</p>\n\n<p><strong>Case 1:</strong></p>\n\n<pre><code>int x=7;\nx=x++;\n</code></pre>\n\n<p><strong>Byte Code:</strong> </p>\n\n<pre><code>0  bipush 7     //Push 7 onto  stack\n2  istore_1 [x] //Pop  7 and store in x\n3  iload_1  [x] //Push 7 onto stack\n4  iinc 1 1 [x] //Increment x by 1 (x=8)\n7  istore_1 [x] //Pop 7 and store in x\n8  return       //x now has 7\n</code></pre>\n\n<hr>\n\n<p><strong>Case 2:</strong></p>\n\n<pre><code>int x=7; \nx=++x;\n</code></pre>\n\n<p><strong>Byte Code</strong></p>\n\n<pre><code>0  bipush 7     //Push 7 onto stack\n2  istore_1 [x] //Pop 7 and store in x\n3  iinc 1 1 [x] //Increment x by 1 (x=8)\n6  iload_1  [x] //Push x onto stack\n7  istore_1 [x] //Pop 8 and store in x\n8  return       //x now has 8\n</code></pre>\n\n<ul>\n<li><em>Stack here refers to Operand Stack, local: x index: 1 type: int</em></li>\n</ul>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/25552495#25552495", "question_id": 7911776, "answer_id": 25552495}, {"body": "<p>x = x++; </p>\n\n<p>This is the post-increment operator. It should be understood as \"Use the operand's value and then increment the operand\". </p>\n\n<p>If you want the reverse to happen i.e \"Increment the operand and then use the operand's value\", you must use the pre-increment operator as shown below.</p>\n\n<p>x = ++x;</p>\n\n<p>This operator first increments the value of x by 1 and then assigns the value back to x.</p>\n", "title": "What is x after &quot;x = x++&quot;?", "tags": ["java", "operators", "post-increment"], "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x/27466731#27466731", "question_id": 7911776, "answer_id": 27466731}], "creation_date": 1319690373, "score": 214, "link": "http://stackoverflow.com/questions/7911776/what-is-x-after-x-x", "question_id": 7911776}, {"body": "<p>I am getting the following error when trying to get a JSON request and process it></p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.JsonMappingException: No suitable constructor found for type [simple type, class com.myweb.ApplesDO]: can not instantiate from JSON object (need to add/enable type information?)</p>\n</blockquote>\n\n<p>Here is the JSON I am trying to send:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"applesDO\" : [\n    {\n      \"apple\" : \"Green Apple\"\n    },\n    {\n      \"apple\" : \"Red Apple\"\n    }\n  ]\n}\n</code></pre>\n\n<p>In Controller , I have the following method signature</p>\n\n<pre><code>@RequestMapping(\"showApples.do\")\npublic String getApples(@RequestBody final AllApplesDO applesRequest){\n    // Method Code\n}\n</code></pre>\n\n<p>AllApplesDO is a wrapper of ApplesDO :</p>\n\n<pre><code>public class AllApplesDO {\n\n    private List&lt;ApplesDO&gt; applesDO;\n\n    public List&lt;ApplesDO&gt; getApplesDO() {\n        return applesDO;\n    }\n\n    public void setApplesDO(List&lt;ApplesDO&gt; applesDO) {\n        this.applesDO = applesDO;\n    }\n}\n</code></pre>\n\n<p>ApplesDO</p>\n\n<pre><code>public class ApplesDO {\n\n    private String apple;\n\n    public String getApple() {\n        return apple;\n    }\n\n    public void setApple(String appl) {\n        this.apple = apple;\n    }\n\n    public ApplesDO(CustomType custom){\n        //constructor Code\n    }\n}\n</code></pre>\n\n<p>I am thinking that JACKSON is unable to convert JSON into JAVA objects for sublclasses. Please help with the configuration parameters for JACKSON to convert JSON into JAVA Objects! I am using Spring Framework </p>\n\n<p>EDIT: Included the major bug that is causing this problem in the above sample class - Please look accepted answer for solution.</p>\n", "tags": ["java", "json", "spring", "annotations", "jackson"], "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "answers": [{"body": "<p>Can you please test this structure. If I remember correct you can use it this way:</p>\n\n<pre><code>{\n    \"applesRequest\": {\n        \"applesDO\": [\n            {\n                \"apple\": \"Green Apple\"\n            },\n            {\n                \"apple\": \"Red Apple\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>Second, please add default constructor to each class it also might help.</p>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/7625885#7625885", "question_id": 7625783, "answer_id": 7625885}, {"body": "<p>So, finally I realized what the problem is. It is not a Jackson configuration issue as I doubted.</p>\n\n<p>Actually the problem was in <strong>ApplesDO</strong> Class:</p>\n\n<pre><code>public class ApplesDO {\n\n    private String apple;\n\n    public String getApple() {\n        return apple;\n    }\n\n    public void setApple(String apple) {\n        this.apple = apple;\n    }\n\n    public ApplesDO(CustomType custom) {\n        //constructor Code\n    }\n}\n</code></pre>\n\n<p>There was a custom constructor defined for the class making it the default constructor. Introducing a dummy constructor has made the error to go away:</p>\n\n<pre><code>public class ApplesDO {\n\n    private String apple;\n\n    public String getApple() {\n        return apple;\n    }\n\n    public void setApple(String apple) {\n        this.apple = apple;\n    }\n\n    public ApplesDO(CustomType custom) {\n        //constructor Code\n    }\n\n    //Introducing the dummy constructor\n    public ApplesDO() {\n    }\n\n}\n</code></pre>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/7626872#7626872", "question_id": 7625783, "answer_id": 7626872}, {"body": "<p>This happens for these reasons:</p>\n\n<ol>\n<li><p>your inner class should be defined as <strong>static</strong></p>\n\n<pre><code>private static class Conditiont {  //jackson specific \n\n }\n</code></pre></li>\n<li><p>It might be that you got no default constructor in your class (<strong>UPDATE:</strong> This seems not to be the case)</p>\n\n<pre><code>private static class Condition {\n    private Long id;\n\n    public Condition() {\n    }\n\n    // Setters and Getters\n}\n</code></pre></li>\n<li><p>It could be your Setters are not defined properly or are not visible (e.g. private setter)</p></li>\n</ol>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/25831823#25831823", "question_id": 7625783, "answer_id": 25831823}, {"body": "<p>I would like to add another solution to this that does not require a dummy constructor. Since dummy constructors are a bit messy and subsequently confusing. We can provide a safe constructor and by annotating the constructor arguments we allow jackson to determine the mapping between constructor parameter and field.</p>\n\n<p>so the following will also work. Note the string inside the annotation must match the field name.</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\npublic class ApplesDO {\n\n        private String apple;\n\n        public String getApple() {\n            return apple;\n        }\n\n        public void setApple(String apple) {\n            this.apple = apple;\n        }\n\n        public ApplesDO(CustomType custom){\n            //constructor Code\n        }\n\n        public ApplesDO(@JsonProperty(\"apple\")String apple) {\n        }\n\n}\n</code></pre>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/27148958#27148958", "question_id": 7625783, "answer_id": 27148958}, {"body": "<p><strong>Thumb Rule</strong>: Add a default constructor for each class you used as a mapping class. You missed this and issue arise!<br>\nSimply add default constructor and it should work.</p>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/27684439#27684439", "question_id": 7625783, "answer_id": 27684439}, {"body": "<p>When I ran into this problem, it was a result of trying to use an inner class to serve as the DO. Construction of the inner class (silently) required an instance of the enclosing class -- which wasn't available to Jackson.</p>\n\n<p>In this case, moving the inner class to its own .java file fixed the problem.</p>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/32621049#32621049", "question_id": 7625783, "answer_id": 32621049}, {"body": "<p>Failing custom jackson Serializers/Deserializers could also be the problem. Though it's not your case, it's worth mentioning.</p>\n\n<p>I faced the same exception and that was the case.</p>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/34778729#34778729", "question_id": 7625783, "answer_id": 34778729}, {"body": "<p>You must realize what options Jackson has available for deserialization. In Java, method argument names are not present in compiled code. That's why Jackson can't generally use constructors to create a well defined object with everything already set.</p>\n\n<p>So, if there is an empty constructor and there are also setters, it uses the empty constructor and setters. If there are no setters, some dark magic (reflections) is used to do it.</p>\n\n<p>If you want to use constructor with Jackson, you must use the annotations as mentioned by @PiersyP in his answer. You can also use builder pattern. If you encounter some exceptions, good luck. Error handling in Jackson sucks big time, it's hard to understand that gibberish in error messages.</p>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/38848014#38848014", "question_id": 7625783, "answer_id": 38848014}, {"body": "<p>If you start annotating constructor, you must annotate all fields.</p>\n\n<p>Notice, my Staff.name field is mapped to \"ANOTHER_NAME\" in JSON string.</p>\n\n<pre><code>     String jsonInString=\"{\\\"ANOTHER_NAME\\\":\\\"John\\\",\\\"age\\\":\\\"17\\\"}\";\n     ObjectMapper mapper = new ObjectMapper();\n     Staff obj = mapper.readValue(jsonInString, Staff.class);\n     // print to screen\n\n     public static class Staff {\n       public String name;\n       public Integer age;\n       public Staff() {         \n       }        \n\n       //@JsonCreator - don't need this\n       public Staff(@JsonProperty(\"ANOTHER_NAME\") String   n,@JsonProperty(\"age\") Integer a) {\n        name=n;age=a;\n       }        \n    }\n</code></pre>\n", "title": "JsonMappingException: No suitable constructor found for type [simple type, class ]: can not instantiate from JSON object", "tags": ["java", "json", "spring", "annotations", "jackson"], "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class/39423183#39423183", "question_id": 7625783, "answer_id": 39423183}], "creation_date": 1317550573, "score": 209, "link": "http://stackoverflow.com/questions/7625783/jsonmappingexception-no-suitable-constructor-found-for-type-simple-type-class", "question_id": 7625783}, {"body": "<p>I have <code>\"Hello World\"</code> kept in a String variable named <code>hi</code></p>\n\n<p>I need to print it, but reversed.</p>\n\n<p>How can I do this? I understand there is some kind of a function already built-in into Java that does that.</p>\n\n<h3>Related: <a href=\"http://stackoverflow.com/questions/2441501/reverse-hello-world-in-java\">Reverse each individual word of \u201cHello World\u201d string with Java</a></h3>\n", "tags": ["java", "string"], "title": "Reverse a string in Java", "answers": [{"body": "<pre><code>public static String reverseIt(String source) {\n    int i, len = source.length();\n    StringBuilder dest = new StringBuilder(len);\n\n    for (i = (len - 1); i &gt;= 0; i--){\n        dest.append(source.charAt(i));\n    }\n\n    return dest.toString();\n}\n</code></pre>\n\n<p><a href=\"http://www.java2s.com/Code/Java/Language-Basics/ReverseStringTest.htm\">http://www.java2s.com/Code/Java/Language-Basics/ReverseStringTest.htm</a></p>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/7569367#7569367", "question_id": 7569335, "answer_id": 7569367}, {"body": "<p>You can use this:</p>\n\n<pre><code>new StringBuilder(hi).reverse().toString()\n</code></pre>\n\n<p>Or, for versions earlier than JDK 1.5, use <code>java.util.StringBuffer</code> instead of <code>StringBuilder</code> \u2014 they have the same API. Thanks commentators for pointing out that <code>StringBuilder</code> is preferred nowadays.</p>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/7569370#7569370", "question_id": 7569335, "answer_id": 7569370}, {"body": "<pre><code>String string=\"whatever\";\nString reverse = new StringBuffer(string).reverse().toString();\nSystem.out.println(reverse);\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/7569380#7569380", "question_id": 7569335, "answer_id": 7569380}, {"body": "<p>Take a look at the Java 6 API under StringBuffer</p>\n\n<pre><code>String s = \"sample\";\nString result = new StringBuffer(s).reverse().toString();\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/7569384#7569384", "question_id": 7569335, "answer_id": 7569384}, {"body": "<pre><code>public static void main(String[] args) {\n    String str = \"Prashant\";\n    int len = str.length();\n    char[] c = new char[len];\n    for (int j = len - 1, i = 0; j &gt;= 0; j--, i++) {\n        c[i] = str.charAt(j);\n    }\n    str = String.copyValueOf(c);\n    System.out.println(str);\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/24866099#24866099", "question_id": 7569335, "answer_id": 24866099}, {"body": "<p>For <strong>Online Judges problems</strong> that does not allow <code>StringBuilder</code> or <code>StringBuffer</code>, you can do it <strong>in place</strong> using <code>char[]</code> as following:</p>\n\n<pre><code>public static String reverse(String input){\n    char[] in = input.toCharArray();\n    int begin=0;\n    int end=in.length-1;\n    char temp;\n    while(end&gt;begin){\n        temp = in[begin];\n        in[begin]=in[end];\n        in[end] = temp;\n        end--;\n        begin++;\n    }\n    return new String(in);\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/25695280#25695280", "question_id": 7569335, "answer_id": 25695280}, {"body": "<pre><code>import java.util.Scanner;\npublic class StringReverseExample\n{\n    public static void main(String[] args)\n    {\n        String str,rev;\n        Scanner in = new Scanner(System.in);\n        System.out.print(\"Enter the string : \");\n        str = in.nextLine();\n        rev = new StringBuffer(str).reverse().toString();\n        System.out.println(\"\\nString before reverse:\"+str);\n        System.out.println(\"String after reverse:\"+rev);\n    }\n}\n/* Output : \nEnter the string : satyam\n\nString before reverse:satyam\nString after reverse:maytas */\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/25933345#25933345", "question_id": 7569335, "answer_id": 25933345}, {"body": "<pre><code>System.out.print(\"Please enter your name: \");\nString name = keyboard.nextLine();\n\nString reverse = new StringBuffer(name).reverse().toString();\nString rev = reverse.toLowerCase();\nSystem.out.println(rev);\n</code></pre>\n\n<p>I used this method to turn names backwards and into lower case.</p>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/26151134#26151134", "question_id": 7569335, "answer_id": 26151134}, {"body": "<pre><code>    public String reverse(String s) {\n\n        String reversedString = \"\";\n        for(int i=s.length(); i&gt;0; i--) {\n            reversedString += s.charAt(i-1);\n        }   \n\n        return reversedString;\n    }\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/26700453#26700453", "question_id": 7569335, "answer_id": 26700453}, {"body": "<p>Here is an example using recursion:</p>\n\n<pre><code>public void reverseString() {\n    String alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    String reverseAlphabet = reverse(alphabet, alphabet.length()-1);\n}\n\nString reverse(String stringToReverse, int index){\n    if(index == 0){\n        return stringToReverse.charAt(0) + \"\";\n    }\n\n    char letter = stringToReverse.charAt(index);\n    return letter + reverse(stringToReverse, index-1);\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/26717551#26717551", "question_id": 7569335, "answer_id": 26717551}, {"body": "<p>You can also try this:</p>\n\n<pre><code>public class StringReverse {\n    public static void main(String[] args) {\n        String str = \"Dogs hates cats\";\n        StringBuffer sb = new StringBuffer(str);\n        System.out.println(sb.reverse());\n    }\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/26818442#26818442", "question_id": 7569335, "answer_id": 26818442}, {"body": "<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n    public static void main(String[] args){\n        Scanner input = new Scanner (System.in);\n        String word = input.next();\n        String reverse = \"\";\n        for(int i=word.length()-1; i&gt;=0; i--)\n            reverse += word.charAt(i);\n        System.out.println(reverse);        \n    }\n}\n</code></pre>\n\n<p>If you want to use a simple for loop!</p>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/27541333#27541333", "question_id": 7569335, "answer_id": 27541333}, {"body": "<pre><code>package logicprogram;\nimport java.io.*;\n\npublic class Strinrevers {\npublic static void main(String args[])throws IOException\n{\n    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n    System.out.println(\"enter data\");\n    String data=br.readLine();\n    System.out.println(data);\n    String str=\"\";\n    char cha[]=data.toCharArray();\n\n    int l=data.length();\n    int k=l-1;\n    System.out.println(l);\n\n\n    for(int i=0;k&gt;=i;k--)\n    {\n\n        str+=cha[k];\n\n\n    }\n    //String text=String.valueOf(ch);\n    System.out.println(str);\n\n}\n\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/27551865#27551865", "question_id": 7569335, "answer_id": 27551865}, {"body": "<p>One natural way to reverse a <code>String</code> is to use a <code>StringTokenizer</code> and a stack. <code>Stack</code> is a class that implements an easy-to-use last-in, first-out (LIFO) stack of objects.</p>\n\n<pre><code>String s = \"Hello My name is Sufiyan\";\n</code></pre>\n\n<p>Put it in the stack frontwards</p>\n\n<pre><code>Stack&lt;String&gt; myStack = new Stack&lt;&gt;();\nStringTokenizer st = new StringTokenizer(s);\nwhile (st.hasMoreTokens()) {\n     myStack.push(st.nextToken());\n}\n</code></pre>\n\n<p>Print the stack backwards</p>\n\n<pre><code>System.out.print('\"' + s + '\"' + \" backwards by word is:\\n\\t\\\"\");\nwhile (!myStack.empty()) {\n  System.out.print(myStack.pop());\n  System.out.print(' ');\n}\n\nSystem.out.println('\"');\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/27816586#27816586", "question_id": 7569335, "answer_id": 27816586}, {"body": "<p>It gets the value you typed and returns it reversed ;)</p>\n\n<pre><code>public static  String reverse (String a){\n    char[] rarray = a.toCharArray();\n    String finalvalue = \"\";\n    for (int i = 0; i &lt; rarray.length; i++)\n    {\n        finalvalue += rarray[rarray.length - 1 - i];\n    }   \nreturn finalvalue;\n</code></pre>\n\n<p>}</p>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/27925530#27925530", "question_id": 7569335, "answer_id": 27925530}, {"body": "<p>I am doing this using following two ways:</p>\n\n<p><strong>Reverse string by CHARACTERS:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    // Using treditonal approach\n    String result=\"\";\n    for (int i=string.length()-1; i&gt;=0; i--) {\n        result = result + string.charAt(i);\n    }\n    System.out.println(result);\n\n    // Using StringBuffer class\n    StringBuffer buffer = new StringBuffer(string);\n    System.out.println(buffer.reverse());    \n}\n</code></pre>\n\n<p><strong>Reverse string by WORDS:</strong></p>\n\n<pre><code>public static void reverseStringByWords(String string) {\n    StringBuilder stringBuilder = new StringBuilder();\n    String[] words = string.split(\" \");\n\n    for (int j = words.length-1; j &gt;= 0; j--) {\n        stringBuilder.append(words[j]).append(' ');\n    }\n    System.out.println(\"Reverse words: \" + stringBuilder);\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/28122743#28122743", "question_id": 7569335, "answer_id": 28122743}, {"body": "<p>It is very simple in minimum code of lines</p>\n\n<pre><code>public class ReverseString {\n    public static void main(String[] args) {\n        String s1 = \"neelendra\";\n        for(int i=s1.length()-1;i&gt;=0;i--)\n            {\n                System.out.print(s1.charAt(i));\n            }\n    }\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/28270445#28270445", "question_id": 7569335, "answer_id": 28270445}, {"body": "<pre><code>public class Test {\n\npublic static void main(String args[]) {\n   StringBuffer buffer = new StringBuffer(\"Game Plan\");\n   buffer.reverse();\n   System.out.println(buffer);\n }  \n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/28516476#28516476", "question_id": 7569335, "answer_id": 28516476}, {"body": "<p>public String reverseWords(String s) {</p>\n\n<pre><code>    String reversedWords = \"\";\n\n    if(s.length()&lt;=0) {\n        return reversedWords;\n    }else if(s.length() == 1){\n        if(s == \" \"){\n            return \"\";\n        }\n        return s;\n    }\n\n    char arr[] = s.toCharArray();\n    int j = arr.length-1;\n    while(j &gt;= 0 ){\n        if( arr[j] == ' '){\n            reversedWords+=arr[j];\n        }else{\n            String temp=\"\";\n            while(j&gt;=0 &amp;&amp; arr[j] != ' '){\n                temp+=arr[j];\n                j--;\n            }\n            j++;\n            temp = reverseWord(temp);\n            reversedWords+=temp;\n        }\n        j--;\n\n    }\n\n    String[] chk = reversedWords.split(\" \");\n\n    if(chk == null || chk.length == 0){\n        return \"\";\n    }\n\n    return reversedWords;\n\n\n\n}\n\npublic String reverseWord(String s){\n\n    char[] arr = s.toCharArray();\n\n    for(int i=0,j=arr.length-1;i&lt;=j;i++,j--){\n        char tmp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = tmp;\n    }\n    return String.valueOf(arr);\n\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/30090430#30090430", "question_id": 7569335, "answer_id": 30090430}, {"body": "<pre><code>package test1;\n\nimport java.util.Scanner;\n\npublic class class1 {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String inpStr = in.nextLine();\n        System.out.println(\"Original String :\" + inpStr);\n        char temp;\n        char[] arr = inpStr.toCharArray();\n        int len = arr.length;\n        for(int i=0; i&lt;(inpStr.length())/2; i++,len--){\n            temp = arr[i];\n            arr[i] = arr[len-1];\n            arr[len-1] = temp;\n        }\n\n        System.out.println(\"Reverse String :\" + String.valueOf(arr));\n    }\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/33363556#33363556", "question_id": 7569335, "answer_id": 33363556}, {"body": "<p>I tried, just for fun, by using a Stack. Here my code:</p>\n\n<pre><code>public String reverseString(String s) {\n    Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; s.length(); i++) {\n        stack.push(s.charAt(i));\n    }\n    while (!stack.empty()) {\n        sb.append(stack.pop());\n    }\n    return sb.toString();\n\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/33458528#33458528", "question_id": 7569335, "answer_id": 33458528}, {"body": "<p>Just For Fun..:)</p>\n\n<pre><code>public class Reverse {\n    static char reversedStr[];\n\n    public static void main(String[] args) {\n        System.out.println(reversestr(\"jatin\"));\n    }\n\n\n    private static String reversestr(String str) {\n        int strlen = str.length();\n        reversedStr = new char[strlen];\n\n        for (int i = 0; i &lt;= strlen / 2; i++) {\n            reversedStr[i] = str.charAt(i);\n            reversedStr[strlen - 1 - i] = str.charAt(strlen - 1 - i);\n\n        }\n        return new String(reversedStr);\n    }\n\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/34128127#34128127", "question_id": 7569335, "answer_id": 34128127}, {"body": "<pre><code>StringBuilder s = new StringBuilder(\"racecar\");\n    for (int i = 0, j = s.length() - 1; i &lt; (s.length()/2); i++, j--) {\n        char temp = s.charAt(i);\n        s.setCharAt(i, s.charAt(j));\n        s.setCharAt(j, temp);\n    }\n\n    System.out.println(s.toString());\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/35232661#35232661", "question_id": 7569335, "answer_id": 35232661}, {"body": "<p>All above solution is too good but here I am making reverse string using recursive programming. </p>\n\n<p>This is helpful for who is looking recursive way of doing reverse string. </p>\n\n<pre><code>public class ReversString {\n\npublic static void main(String args[]) {\n    char s[] = \"Dhiral Pandya\".toCharArray();\n    String r = new String(reverse(0, s));\n    System.out.println(r);\n}\n\npublic static char[] reverse(int i, char source[]) {\n\n    if (source.length / 2 == i) {\n        return source;\n    }\n\n    char t = source[i];\n    source[i] = source[source.length - 1 - i];\n    source[source.length - 1 - i] = t;\n\n    i++;\n    return reverse(i, source);\n\n}\n\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/36171888#36171888", "question_id": 7569335, "answer_id": 36171888}, {"body": "<p>Since the below method (using <strong>XOR</strong>) to <em>reverse a string</em> is not listed, I am attaching this method to reverse a string.</p>\n\n<p>The <strong>Algorithm</strong> is based on :</p>\n\n<blockquote>\n  <p>1.(A XOR B) XOR B = A </p>\n  \n  <p>2.(A XOR B) XOR A = B</p>\n</blockquote>\n\n<p>Code snippet:</p>\n\n<pre><code>public class ReverseUsingXOR {\n    public static void main(String[] args) {\n        String str = \"prateek\";\n        reverseUsingXOR(str.toCharArray());\n    }   \n\n    /*Example:\n     * str= prateek;\n     * str[low]=p;\n     * str[high]=k;\n     * str[low]=p^k;\n     * str[high]=(p^k)^k =p;\n     * str[low]=(p^k)^p=k;\n     * \n     * */\n    public static void reverseUsingXOR(char[] str) {\n        int low = 0;\n        int high = str.length - 1;\n\n        while (low &lt; high) {\n            str[low] = (char) (str[low] ^ str[high]);\n            str[high] = (char) (str[low] ^ str[high]);   \n            str[low] = (char) (str[low] ^ str[high]);\n            low++;\n            high--;\n        }\n\n        //display reversed string\n        for (int i = 0; i &lt; str.length; i++) {\n            System.out.print(str[i]);\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>keetarp</p>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/38476110#38476110", "question_id": 7569335, "answer_id": 38476110}, {"body": "<pre><code>public void reverString(){\nSystem.out.println(\"Enter value\");\nBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n try{\n\n  String str=br.readLine();\n  char[] charArray=str.toCharArray();\n  for(int i=charArray.length-1; i&gt;=0; i--){\n   System.out.println(charArray[i]);\n  }\n  }\n   catch(IOException ex){\n  }\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/38811764#38811764", "question_id": 7569335, "answer_id": 38811764}, {"body": "<p>As others have pointed out the preferred way is to use:</p>\n\n<p><code>new StringBuilder(hi).reverse().toString()</code></p>\n\n<p>but if you want to implement this by youself, i'am afraid that the rest of responses have flaws.</p>\n\n<p>The reason is that String represent a list of <strong>Unicode</strong> points, encoded in a <code>char[]</code> array according to the variable-length encoding: <a href=\"https://en.wikipedia.org/wiki/UTF-16\" rel=\"nofollow\">UTF-16</a>. </p>\n\n<p>This means some code points use a single element of the array (one code unit) but others use two of them, so there might be pairs of characters that must be treated as a single unit (consecutive \"high\" and \"low\" surrogates)</p>\n\n<pre><code>public static String reverseString(String s) {\n    char[] chars = new char[s.length()];\n    boolean twoCharCodepoint = false;\n    for (int i = 0; i &lt; s.length(); i++) {\n        chars[s.length() - 1 - i] = s.charAt(i);\n        if (twoCharCodepoint) {\n            swap(chars, s.length() - 1 - i, s.length() - i);\n        }\n        twoCharCodepoint = !Character.isBmpCodePoint(s.codePointAt(i));\n    }\n    return new String(chars);\n}\n\nprivate static void swap(char[] array, int i, int j) {\n    char temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n}\n\npublic static void main(String[] args) throws Exception {\n    FileOutputStream fos = new FileOutputStream(\"C:/temp/reverse-string.txt\");\n    StringBuilder sb = new StringBuilder(\"Linear B Syllable B008 A: \");\n    sb.appendCodePoint(65536); //http://unicode-table.com/es/#10000\n    sb.append(\".\");\n    fos.write(sb.toString().getBytes(\"UTF-16\"));\n    fos.write(\"\\n\".getBytes(\"UTF-16\"));\n    fos.write(reverseString(sb.toString()).getBytes(\"UTF-16\"));\n}\n</code></pre>\n", "title": "Reverse a string in Java", "tags": ["java", "string"], "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java/39329245#39329245", "question_id": 7569335, "answer_id": 39329245}], "creation_date": 1317127482, "score": 192, "link": "http://stackoverflow.com/questions/7569335/reverse-a-string-in-java", "question_id": 7569335}, {"body": "<p>I have a char array:</p>\n\n<pre><code>char[] a = {'h', 'e', 'l', 'l', 'o', ' ', 'w', 'o', 'r', 'l', 'd'};\n</code></pre>\n\n<p>My current solution is to do </p>\n\n<pre><code>String b = new String(a);\n</code></pre>\n\n<p>But surely there is a better way of doing this?</p>\n", "tags": ["java", "arrays", "string", "char"], "title": "How to convert a char array back to a string?", "answers": [{"body": "<p>No, that solution is absolutely correct and very minimal. </p>\n\n<p>Note however, that this is a very unusual situation: Because <code>String</code> is handled specially in Java, even <code>\"foo\"</code> is actually a <code>String</code>. So the need for splitting a String into individual <code>char</code>s and join them back is not required in normal code.</p>\n\n<p>Compare this to C/C++ where <code>\"foo\"</code> you have a bundle of <code>char</code>s terminated by a zero byte on one side and <code>string</code> on the other side and many conversions between them due do legacy methods.</p>\n", "title": "How to convert a char array back to a string?", "tags": ["java", "arrays", "string", "char"], "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string/7655156#7655156", "question_id": 7655127, "answer_id": 7655156}, {"body": "<p><code>String text = String.copyValueOf(data);</code> </p>\n\n<p>or </p>\n\n<p><code>String text = String.valueOf(data);</code></p>\n\n<p>is arguably better (encapsulates the <code>new String</code> call).</p>\n", "title": "How to convert a char array back to a string?", "tags": ["java", "arrays", "string", "char"], "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string/7655177#7655177", "question_id": 7655127, "answer_id": 7655177}, {"body": "<p>This will convert char array back to string:</p>\n\n<pre><code>char[] charArray = {'a', 'b', 'c'};\nString str = String.valueOf(charArray);\n</code></pre>\n", "title": "How to convert a char array back to a string?", "tags": ["java", "arrays", "string", "char"], "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string/19305043#19305043", "question_id": 7655127, "answer_id": 19305043}, {"body": "<p>1 alternate way is to do:</p>\n\n<pre><code>String b = a + \"\";\n</code></pre>\n", "title": "How to convert a char array back to a string?", "tags": ["java", "arrays", "string", "char"], "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string/20728547#20728547", "question_id": 7655127, "answer_id": 20728547}, {"body": "<p>You can also use StringBuilder class</p>\n\n<pre><code>String b = new StringBuilder(a).toString();\n</code></pre>\n\n<p>Use of String or StringBuilder varies with your method requirements.</p>\n", "title": "How to convert a char array back to a string?", "tags": ["java", "arrays", "string", "char"], "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string/36664544#36664544", "question_id": 7655127, "answer_id": 36664544}], "creation_date": 1317770419, "score": 189, "link": "http://stackoverflow.com/questions/7655127/how-to-convert-a-char-array-back-to-a-string", "question_id": 7655127}, {"body": "<p>When I updated version of Hibernate from 3.6.8.final to 4.0.0.final I got a warning about deprecated method <code>buildSessionFactory()</code> in this line:</p>\n\n<pre><code>private static final SessionFactory sessionFactory =\n         new Configuration().configure().buildSessionFactory();\n</code></pre>\n\n<p>the javadoc recommends use of another method </p>\n\n<p><code>buildSessionFactory(ServiceRegistry serviceRegistry)</code></p>\n\n<p>but in the <a href=\"http://docs.jboss.org/hibernate/core/4.0/manual/en-US/html/session-configuration.html#configuration-sessionfactory\">documentation</a> I found deprecated variant :(</p>\n\n<p>Can you help me with this little misunderstanding ?</p>\n", "tags": ["java", "hibernate"], "title": "Is buildSessionFactory() deprecated in hibernate 4?", "answers": [{"body": "<p>It's as simple as this: the JBoss docs are not 100% perfectly well-maintained. Go with <a href=\"http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory%28org.hibernate.service.ServiceRegistry%29\" rel=\"nofollow\">what the JavaDoc says</a>: <code>buildSessionFactory(ServiceRegistry serviceRegistry)</code>.</p>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8621964#8621964", "question_id": 8621906, "answer_id": 8621964}, {"body": "<p>Yes, it is deprecated.  <a href=\"http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory\">http://docs.jboss.org/hibernate/core/4.0/javadocs/org/hibernate/cfg/Configuration.html#buildSessionFactory</a>() specifically tells you to use the other method you found instead (<code>buildSessionFactory(ServiceRegistry serviceRegistry)</code>) - so use it.</p>\n\n<p>The documentation is copied over from release to release, and likely just hasn't been updated yet (they don't rewrite the manual with every release) - so trust the Javadocs.</p>\n\n<p>The specifics of this change can be viewed at:</p>\n\n<ul>\n<li>Source code: <a href=\"https://github.com/hibernate/hibernate-core/commit/0b10334e403cf2b11ee60725cc5619eaafecc00b\">https://github.com/hibernate/hibernate-core/commit/0b10334e403cf2b11ee60725cc5619eaafecc00b</a></li>\n<li>Ticket: <a href=\"https://hibernate.onjira.com/browse/HHH-5991\">https://hibernate.onjira.com/browse/HHH-5991</a></li>\n</ul>\n\n<p>Some additional references:</p>\n\n<ul>\n<li><a href=\"http://relation.to/Bloggers/HibernateCore40IsFinal\">http://relation.to/Bloggers/HibernateCore40IsFinal</a></li>\n<li><a href=\"http://relation.to/19942.lace\">http://relation.to/19942.lace</a></li>\n<li><a href=\"http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch07.html#services-registry\">http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch07.html#services-registry</a></li>\n<li><a href=\"http://sourceforge.net/apps/mediawiki/hibernate/index.php?title=Category:Services\">http://sourceforge.net/apps/mediawiki/hibernate/index.php?title=Category:Services</a></li>\n</ul>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8621969#8621969", "question_id": 8621906, "answer_id": 8621969}, {"body": "<p>It is not unusual to find discrepancies between different versions of documentation.  Most developers view documentation as a chore, and they tend to put it off.</p>\n\n<p>As a rule of thumb, if the javadoc says one thing and some non-javadoc documentation contradicts it, the chances are that the javadoc is more accurate.  Programmers are more likely to keep the javadoc up to date with changes to the code ... because the \"source\" for the javadoc is in the same file as the code.</p>\n\n<p>In the case of <code>@deprecated</code> tags, it is a virtual certainty that the javadoc is more accurate.  Developers deprecate things after careful consideration ... and (generally speaking) they don't undeprecate them.</p>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8632566#8632566", "question_id": 8621906, "answer_id": 8632566}, {"body": "<p>Yes it is deprecated. Replace your SessionFactory with the following:</p>\n\n<p>In <strong>Hibernate 4.0, 4.1, 4.2</strong></p>\n\n<pre><code>private static SessionFactory sessionFactory;\nprivate static ServiceRegistry serviceRegistry;\n\npublic static SessionFactory createSessionFactory() {\n    Configuration configuration = new Configuration();\n    configuration.configure();\n    serviceRegistry = new ServiceRegistryBuilder().applySettings(\n            configuration.getProperties()). buildServiceRegistry();\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n    return sessionFactory;\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>UPDATE:</strong></p>\n</blockquote>\n\n<p>In <strong>Hibernate 4.3</strong> ServiceRegistryBuilder is <strong>deprecated</strong>. Use the following instead.</p>\n\n<pre><code>serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n            configuration.getProperties()).build();\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8830848#8830848", "question_id": 8621906, "answer_id": 8830848}, {"body": "<p>or </p>\n\n<pre><code>public class Hbutil {\n\n    private static SessionFactory sessionFactory;\n    private static ServiceRegistry serviceRegistry;\n\n    private static SessionFactory configureSessionFactory() throws HibernateException {\n        Configuration configuration = new Configuration();\n        configuration.configure();\n        serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();        \n        sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n        return sessionFactory;\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return configureSessionFactory();\n\n    }\n}\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/15702946#15702946", "question_id": 8621906, "answer_id": 15702946}, {"body": "<p>Code verified to work in Hibernate 4.3.0. Notice you can remove the XML filename parameter, or else provide your own path there.  This is similar to (but typos corrected) other posts here, but this one is correct.</p>\n\n<pre><code>import org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;    \n\n\nConfiguration configuration = new Configuration();\nconfiguration.configure(\"/com/rtw/test/hiber/hibernate.cfg.xml\");\nServiceRegistry  serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();        \n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/21489886#21489886", "question_id": 8621906, "answer_id": 21489886}, {"body": "<pre><code>public class HibernateSessionFactory {\n\nprivate static final SessionFactory sessionFactory = buildSessionFactory1();\n\nprivate static SessionFactory buildSessionFactory1() {\nConfiguration configuration = new Configuration().configure(); // configuration\n                                                                // settings\n                                                                // from\n                                                                // hibernate.cfg.xml\n\nStandardServiceRegistryBuilder serviceRegistryBuilder = new StandardServiceRegistryBuilder();\n\n\nserviceRegistryBuilder.applySettings(configuration.getProperties());\n\nServiceRegistry serviceRegistry = serviceRegistryBuilder.build();\n\nreturn configuration.buildSessionFactory(serviceRegistry);\n}\n\npublic static SessionFactory getSessionFactory() {\nreturn sessionFactory;\n }\n\npublic static void shutdown() {\n// Close caches and connection pools\ngetSessionFactory().close();\n }\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/23074654#23074654", "question_id": 8621906, "answer_id": 23074654}, {"body": "<p>public void sampleConnection() throws Exception {</p>\n\n<pre><code>     Configuration cfg = new Configuration().addResource(\"hibernate.cfg.xml\").configure();\n     StandardServiceRegistryBuilder ssrb = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n     SessionFactory sessionFactory = configuration.buildSessionFactory(ssrb.build());\n     Session session = sessionFactory.openSession();\n     logger.debug(\" connection with the database created successfuly.\");\n}\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/24949920#24949920", "question_id": 8621906, "answer_id": 24949920}, {"body": "<p>I edited the method created by <a href=\"http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/8830848#8830848\">batbaatar above</a> so it accepts the Configuration object as a parameter:</p>\n\n<pre><code>    public static SessionFactory createSessionFactory(Configuration configuration) {\n        serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n                configuration.getProperties()).build();\n        factory = configuration.buildSessionFactory(serviceRegistry);\n        return factory;\n    }\n</code></pre>\n\n<p>In the main class I did:</p>\n\n<pre><code>    private static SessionFactory factory;\n    private static Configuration configuration \n    ...      \n    configuration = new Configuration();\n    configuration.configure().addAnnotatedClass(Employee.class);\n    // Other configurations, then           \n    factory = createSessionFactory(configuration);\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/25035144#25035144", "question_id": 8621906, "answer_id": 25035144}, {"body": "<p>Just import following package,</p>\n\n<pre><code>import org.hibernate.cfg.Configuration;\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/25105679#25105679", "question_id": 8621906, "answer_id": 25105679}, {"body": "<p>In <strong>Hibernate 4.2.2</strong></p>\n\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.service.ServiceRegistryBuilder;\n\npublic class Test {\n    public static void main(String[] args) throws Exception\n{\n    Configuration configuration = new Configuration()\n            .configure();\n\n    ServiceRegistry serviceRegistry = new ServiceRegistryBuilder().applySettings(\n            configuration.getProperties()).buildServiceRegistry();\n\n    SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\n    Session session = sessionFactory.openSession();\n\n    Transaction transaction = session.beginTransaction();\n\n    Users users = new Users();\n\n    ... ...\n\n    session.save(users);\n\n    transaction.commit();\n\n    session.close();\n\n    sessionFactory.close();\n\n    }\n}\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/26861458#26861458", "question_id": 8621906, "answer_id": 26861458}, {"body": "<pre><code>Tested on 4.2.7 release\n\npackage com.national.software.hibernate;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.service.ServiceRegistryBuilder;\n\nimport com.national.software.dto.UserDetails;\n\npublic class HibernateTest {\n\n    static SessionFactory sessionFactory;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        UserDetails user = new UserDetails();\n        user.setUserId(1);\n        user.setUserName(\"user1\");\n\n        Configuration config = new Configuration();\n        config.configure();\n\n        ServiceRegistry  serviceRegistry = (ServiceRegistry) new ServiceRegistryBuilder().applySettings(config.getProperties()).buildServiceRegistry();\n        sessionFactory = config.buildSessionFactory(serviceRegistry);\n\n        Session session = sessionFactory.openSession();\n        session.beginTransaction();\n        session.save(user);\n        session.getTransaction().commit();\n\n    }\n\n}\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/29046342#29046342", "question_id": 8621906, "answer_id": 29046342}, {"body": "<p>here are many APIs deprecated in the hibernate core framework.</p>\n\n<p>we have created the session factory as below:</p>\n\n<p>SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); </p>\n\n<p>The method buildSessionFactory is deprecated from the hibernate 4 release and it is replaced with the new API. If you are using the hibernate 4.3.0 and above, your code has to be:</p>\n\n<ol>\n<li><p>Configuration configuration = new Configuration().configure();</p></li>\n<li><p>StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());</p></li>\n<li><p>SessionFactory factory = configuration.buildSessionFactory(builder.build());</p></li>\n</ol>\n\n<p>Class ServiceRegistryBuilder is  replaced by StandardServiceRegistryBuilder from 4.3.0. It looks like there will be lot of changes in the 5.0 release. Still there is not much clarity on the deprecated APIs and the suitable alternatives to use. Every incremental release comes up with more deprecated API, they are in way of fine tuning the core framework for the release 5.0.</p>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/29768931#29768931", "question_id": 8621906, "answer_id": 29768931}, {"body": "<p>A better way to create <strong>SessionFactory</strong> object in Latest hibernate release <strong>4.3.0</strong> onward is as follow:</p>\n\n<pre><code>Configuration configuration = new Configuration().configure();\nStandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().\napplySettings(configuration.getProperties());\nSessionFactory factory = configuration.buildSessionFactory(builder.build());\n</code></pre>\n", "title": "Is buildSessionFactory() deprecated in hibernate 4?", "tags": ["java", "hibernate"], "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4/30267369#30267369", "question_id": 8621906, "answer_id": 30267369}], "creation_date": 1324687436, "score": 186, "link": "http://stackoverflow.com/questions/8621906/is-buildsessionfactory-deprecated-in-hibernate-4", "question_id": 8621906}, {"body": "<p>I've been programming in Java for several years now, but I just recently returned to school to get a formal degree. I was quite surprised to learn that, on my last assignment, I lost points for using a loop like the one below.</p>\n\n<pre><code>do{\n     //get some input.\n     //if the input meets my conditions, break;\n     //Otherwise ask again.\n} while(true)\n</code></pre>\n\n<p>Now for my test I'm just scanning for some console input, but I was told that this kind of loop is discouraged because using <code>break</code> is akin to <code>goto</code>, we just don't do it.</p>\n\n<p>I understand fully the pitfalls of <code>goto</code> and its Java cousin <code>break:label</code>, and I have the good sense not to use them. I also realize that a more complete program would provide some other means of escape, say for instance to just end the program, but that wasn't a reason my professor cited, so...</p>\n\n<p>What's wrong with <code>do-while(true)</code>?</p>\n", "tags": ["java", "while-loop", "do-while"], "title": "Are &quot;while(true)&quot; loops so bad?", "answers": [{"body": "<p>I wouldn't say it's <em>bad</em> - but equally I would normally at least look for an alternative.</p>\n\n<p>In situations where it's the first thing I write, I almost always at least <em>try</em> to refactor it into something clearer. Sometimes it can't be helped (or the alternative is to have a <code>bool</code> variable which does nothing meaningful except indicate the end of the loop, less clearly than a <code>break</code> statement) but it's worth at least trying.</p>\n\n<p>As an example of where it's clearer to use <code>break</code> than a flag, consider:</p>\n\n<pre><code>while (true)\n{\n    doStuffNeededAtStartOfLoop();\n    int input = getSomeInput();\n    if (testCondition(input))\n    {\n        break;\n    }\n    actOnInput(input);\n}\n</code></pre>\n\n<p>Now let's force it to use a flag:</p>\n\n<pre><code>boolean running = true;\nwhile (running)\n{\n    doStuffNeededAtStartOfLoop();\n    int input = getSomeInput();\n    if (testCondition(input))\n    {\n        running = false;\n    }\n    else\n    {\n        actOnInput(input);\n    }\n}\n</code></pre>\n\n<p>I view the latter as more complicated to read: it's got an extra <code>else</code> block, the <code>actOnInput</code> is more indented, and if you're trying to work out what happens when <code>testCondition</code> returns <code>true</code>, you need to look carefully through the rest of the block to check that there isn't something <em>after</em> the <code>else</code> block which would occur whether <code>running</code> has been set to <code>false</code> or not.</p>\n\n<p>The <code>break</code> statement communicates the intent more clearly, and lets the rest of the block get on with what it needs to do without worrying about earlier conditions.</p>\n\n<p>Note that this is exactly the same sort of argument that people have about multiple return statements in a method. For example, if I can work out the result of a method within the first few lines (e.g. because some input is null, or empty, or zero) I find it clearer to return that answer directly than to have a variable to store the result, then a whole block of other code, and <em>finally</em> a <code>return</code> statement.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850411#6850411", "question_id": 6850380, "answer_id": 6850411}, {"body": "<p>You might just use a Boolean flag to indicate when to end the while loop. <code>Break</code> and <code>go to</code> were reasons for software being to hard to maintain - the software-crisis(tm) - and should be avoided, and easily can be too.</p>\n\n<p>It's a question if you are pragmatic or not. Pragmatic coders might just use break in that simple situation. </p>\n\n<p>But it's good to get the habbit of not using them, else you might use them out of habbit in unsuitable situations, like in complicated nested loops where readability and maintainability of your code becomes harder by using <code>break</code>.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850442#6850442", "question_id": 6850380, "answer_id": 6850442}, {"body": "<p>It's more of an aesthetics thing, much easier to read code where you explicitly know <em>why</em> the loop will stop right in the declaration of the loop. </p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850445#6850445", "question_id": 6850380, "answer_id": 6850445}, {"body": "<p>AFAIK nothing, really. Teachers are just allergic to goto, because they heard somewhere it's really bad. Otherwise you would just write</p>\n\n<pre><code>bool guard = true;\ndo\n{\n   getInput();\n   if (something)\n     guard = false;\n} while (guard)\n</code></pre>\n\n<p>which is actually almost the same thing.</p>\n\n<p>Maybe cleaner(because all the looping info is contained at the top of the block) is</p>\n\n<pre><code>for (bool endLoop = false;!endLoop;)\n{\n\n}\n</code></pre>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850456#6850456", "question_id": 6850380, "answer_id": 6850456}, {"body": "<p>It's not such a terrible thing, but you need to take into consideration other developers when coding. Even in school.</p>\n\n<p>Your fellow developers should be able to see the exit clause for your loop, at the loop declaration. You didn't do that. You hid the exit clause in the middle of the loop, making more work for someone else who comes along and tries to understand your code. This is the same reason that things like \"break\" are avoided.</p>\n\n<p>That being said, you'll still see things like this in a LOT of code out there in the real world.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850466#6850466", "question_id": 6850380, "answer_id": 6850466}, {"body": "<p>According to my experience in most cases loops have the \"main\" condition to continue. This is the condition that should be written into while() operator itself. All other conditions that may break the loop are secondary, not so important etc. They can be written as additional <code>if() {break}</code> statements. </p>\n\n<p><code>while(true)</code> is often confusing and is less readable. </p>\n\n<p>I think that these rules do not cover 100% of cases but probably only 98% of them.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850476#6850476", "question_id": 6850380, "answer_id": 6850476}, {"body": "<p>It's bad in the sense that structured programming constructs are preferred to (the somewhat unstructured) break and continue statements. They are, by comparison, preferred to \"goto\" according to this principle.</p>\n\n<p>I'd always recommend making your code as structured as possible... although, as Jon Skeet points out, don't make it more structured than that!</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6850495#6850495", "question_id": 6850380, "answer_id": 6850495}, {"body": "<p>The ususal Java convention for reading input is:</p>\n\n<pre><code>import java.io.*;\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nString strLine;\n\nwhile ((strLine = br.readLine()) != null) {\n  // do something with the line\n}\n</code></pre>\n\n<p>And the usual C++ convention for reading input is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nstd::string data;\nwhile(std::readline(std::cin, data)) {\n  // do something with the line\n}\n</code></pre>\n\n<p>And in C, it's</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nchar* buffer = NULL;\nsize_t buffer_size;\nsize_t size_read;\nwhile( (size_read = getline(&amp;buffer, &amp;buffer_size, stdin)) != -1 ){\n  // do something with the line\n}\nfree(buffer);\n</code></pre>\n\n<p>or if you're convinced you know how long the longest line of text in your file is, you can do</p>\n\n<pre><code>#include &lt;stdio.h&gt;\nchar buffer[BUF_SIZE];\nwhile (fgets(buffer, BUF_SIZE, stdin)) {\n  //do something with the line\n}\n</code></pre>\n\n<p>If you're testing to see whether your user entered a <code>quit</code> command, it's easy to extend any of these 3 loop structures. I'll do it in Java for you:</p>\n\n<pre><code>import java.io.*;\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nString line;\n\nwhile ((line = br.readLine()) != null  &amp;&amp; !line.equals(\"quit\") ) {\n  // do something with the line\n}\n</code></pre>\n\n<p>So, while there certainly are cases where <code>break</code> or <code>goto</code> is justified, if all you're doing is reading from a file or the console line by line, then you shouldn't need a <code>while (true)</code> loop to accomplish it -- your programming language has already supplied you with an appropriate idiom for using the input command as the loop condition.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6852956#6852956", "question_id": 6850380, "answer_id": 6852956}, {"body": "<p>Douglas Crockford had a remark about how he wished <em>JavaScript</em> contained a <code>loop</code> structure:</p>\n\n<pre><code>loop\n{\n  ...code...\n}\n</code></pre>\n\n<p>And I don't think <strong><em>Java</em></strong> would be any worse for having a <code>loop</code> structure either.</p>\n\n<p>There's nothing inherently wrong with <code>while(true)</code> loops, but there <em>is</em> a tendency for teachers to discourage them. From the teaching perspective, it's very easy to have students create endless loops and not understand why the loop isn't ever escaped.</p>\n\n<p>But what they rarely mention is that <strong>all</strong> looping mechanisms can be replicated with <code>while(true)</code> loops.</p>\n\n<pre><code>while( a() )\n{\n  fn();\n}\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>loop\n{\n  if ( !a() ) break;\n  fn();\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>do\n{\n  fn();\n} while( a() );\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>loop\n{\n  fn();\n  if ( !a() ) break;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>for ( a(); b(); c() )\n{\n  fn();\n}\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>a();\nloop\n{\n  if ( !b() ) break;\n  fn();\n  c();\n}\n</code></pre>\n\n<p>As long as you can set up your loops in a way that <em>works</em> the construct that you choose to use is unimportant. If it <em>happens</em> to fit in a <code>for</code> loop, use a <code>for</code> loop.</p>\n\n<p>One last part: keep your loops simple. If there's a lot of functionality that needs to happen on every iteration, put it in a function. You can always optimize it after you've got it working.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6853283#6853283", "question_id": 6850380, "answer_id": 6853283}, {"body": "<p>There's no major problem with <code>while(true)</code> with <code>break</code> statements, however some may think its slightly lowers the code readability.  Try to give variables meaningful names, evaluate expressions in the proper place.</p>\n\n<p>For your example, it seems much clearer to do something like:</p>\n\n<pre><code>do {\n   input = get_input();\n   valid = check_input_validity(input);    \n} while(! valid)\n</code></pre>\n\n<p>This is especially true if the do while loop gets long -- you know exactly where the check to see if there's an extra iteration is occurring.  All variables/functions have appropriate names at the level of abstraction.  The <code>while(true)</code> statement does is tell you that processing isn't in the place you thought.</p>\n\n<p>Maybe you want different output on the second time through the loop.  Something like </p>\n\n<pre><code>input = get_input();\nwhile(input_is_not_valid(input)) {\n    disp_msg_invalid_input();\n    input = get_input();\n}\n</code></pre>\n\n<p>seems more readable to me then</p>\n\n<pre><code>do {\n    input = get_input();\n    if (input_is_valid(input)) {\n        break;\n    }\n    disp_msg_invalid_input();\n} while(true);\n</code></pre>\n\n<p>Again, with a trivial example both are quite readable; but if the loop became very large or deeply nested (which means you probably should already have refactored), the first style may be a bit clearer.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6854136#6854136", "question_id": 6850380, "answer_id": 6854136}, {"body": "<p>While not necessarily an answer as to why not to use <code>while (true)</code>, I've always found <a href=\"http://galactanet.com/comic/view.php?strip=307\" rel=\"nofollow\">this comic and accompanying author's statement</a> a succinct explanation as to why to do while instead of do-while.</p>\n\n<p>With regards to your question: There is no inherent problem with </p>\n\n<pre><code>while(true) {\n   do_stuff();\n   if(exit_time) {\n      break;\n   }\n}\n</code></pre>\n\n<p>... <strong>if</strong> you know what you're doing and making sure that <code>exit_time</code> will at some point evaluate to <code>true</code>. </p>\n\n<p>Teachers discourage you from using <code>while(true)</code> because until and unless you're at the point that you know exactly what you're doing, it's an easy way to make a critical mistake.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6858916#6858916", "question_id": 6850380, "answer_id": 6858916}, {"body": "<p>Maybe I am unlucky. Or maybe I just lack an experience. But every time I recall dealing with <code>while(true)</code> having <code>break</code> inside, it was possible to improve the code applying <a href=\"http://www.refactoring.com/catalog/extractMethod.html\" rel=\"nofollow\">Extract Method</a> to <em>while-block</em>, which kept the <code>while(true)</code> but (by coincidence?) transformed all the <code>break</code>s into <code>return</code>s.</p>\n\n<p>In my experience <code>while(true)</code> without breaks (ie with returns or throws) are quite comfortable and easy to understand.</p>\n\n<hr>\n\n<pre><code>  void handleInput() {\n      while (true) {\n          final Input input = getSomeInput();\n          if (input == null) {\n              throw new BadInputException(\"can't handle null input\");\n          }\n          if (input.isPoisonPill()) {\n              return;\n          }\n          doSomething(input);\n      }\n  }\n</code></pre>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6859722#6859722", "question_id": 6850380, "answer_id": 6859722}, {"body": "<p>I use something similar, but with opposite logic, in a lot of my functions.</p>\n\n<pre><code>DWORD dwError = ERROR_SUCCESS;\n\ndo\n{\n    if ( (dwError = SomeFunction()) != ERROR_SUCCESS )\n    {\n         /* handle error */\n         continue;\n    }\n\n    if ( (dwError = SomeOtherFunction()) != ERROR_SUCCESS )\n    {\n         /* handle error */\n         continue;\n    }\n}\nwhile ( 0 );\n\nif ( dwError != ERROR_SUCCESS )\n{\n    /* resource cleanup */\n}\n</code></pre>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6862555#6862555", "question_id": 6850380, "answer_id": 6862555}, {"body": "<p>Back in 1967, Dijkstra wrote an article in a trade magazine about why goto should be eliminated from high level languages to improve code quality. A whole programming paradigm called \"structured programming\" came out of this, though certainly not everyone agrees that goto automatically means bad code. The crux of structured programming is essentially that the structure of the code should determine its flow rather than having gotos or breaks or continues to determine flow, wherever possible. Similiarly, having multiple entry and exit points to a loop or function are also discouraged in that paradigm. Obviously this is not the only programming paradigm, but often it can be easily applied to other paradigms like object oriented programming (ala Java). Your teachers has probably been taught, and is trying to teach your class that we would best avoid \"spaghetti code\" by making sure our code is structured, and following the implied rules of structured programming. While there is nothing inherently \"wrong\" with an implementation that uses break, some consider it significantly easier to read code where the condition for the loop is explicitly specified within the while() condition, and eliminates some possibilities of being overly tricky. There are definitely pitfalls to using a while(true) condition that seem to pop up frequently in code by novice programmers, such as the risk of accidentally creating an infinite loop, or making code that is hard to read or unnecessarily confusing. </p>\n\n<p>Ironically, exception handling is an area where deviation from structured programming will certainly come up and be expected as you get further into programming in Java.</p>\n\n<p>It is also possible your instructor may have expected you to demonstrate your ability to use a particular loop structure or syntax being taught in that chapter or lesson of your text, and while the code you wrote is functionally equivalent, you may not have been demonstrating the particular skill you were supposed to be learning in that lesson. </p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6865700#6865700", "question_id": 6850380, "answer_id": 6865700}, {"body": "<p>It's your gun, your bullet and your foot...</p>\n\n<p>It's bad because you are asking for trouble. It won't be you or any of the other posters on this page who have examples of short/simple while loops.</p>\n\n<p>The trouble will start at some very random time in the future. It might be caused by another programmer. It might be the person installing the software. It might be the end user.</p>\n\n<p>Why? I had to find out why a 700K LOC app would gradually start burning 100% of the CPU time until every CPU was saturated. It was an amazing while (true) loop. It was big and nasty but it boiled down to:</p>\n\n<pre><code>x = read_value_from_database()\nwhile (true) \n if (x == 1)\n  ...\n  break;\n else if (x ==2)\n  ...\n  break;\nand lots more else if conditions\n}\n</code></pre>\n\n<p>There was no final else branch. If the value did not match an if condition the loop kept running until the end of time.</p>\n\n<p>Of course, the programmer blamed the end users for not picking a value the programmer expected. (I then eliminated all instances of while(true) in the code.)</p>\n\n<p>IMHO it is not good defensive programming to use constructs like while(true). It will come back to haunt you.</p>\n\n<p>(But I do recall professors grading down if we did not comment every line, even for i++;)</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6867920#6867920", "question_id": 6850380, "answer_id": 6867920}, {"body": "<p>I guess using break to your teacher is like breaking a branch of tree to get the fruit,use some other tricks (bow the branch) so that you get the fruit and the branch is still alive.:)</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6869985#6869985", "question_id": 6850380, "answer_id": 6869985}, {"body": "<p>1) Nothing is wrong with a <code>do -while(true)</code></p>\n\n<p>2) Your teacher is wrong.</p>\n\n<p>NSFS!!:</p>\n\n<p>3) Most teachers are teachers and not programmers.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6878564#6878564", "question_id": 6850380, "answer_id": 6878564}, {"body": "<p>I would say that generally the reason it's not considered a good idea is that you are not using the construct to it's full potential. Also, I tend to think that a lot of programming instructors don't like it when their students come in with \"baggage\". By that I mean I think they like to be the primary influence on their students programming style. So perhaps that's just a pet peeve of the instructor's.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6878956#6878956", "question_id": 6850380, "answer_id": 6878956}, {"body": "<p>It might be bad if your loop runs on a background thread, so when you close your application by terminating a UI thread, that piece of code will continue to execute. As others already said, you should always use some kind of check to provide a way for cancellation.</p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6914267#6914267", "question_id": 6850380, "answer_id": 6914267}, {"body": "<p>To me, the problem is readability.</p>\n\n<p>A while statement with a true condition tells you nothing about the loop. It makes the job of understanding it much more difficult.</p>\n\n<p>What would be easier to understand out of these two snippets?</p>\n\n<pre><code>do {\n  // Imagine a nice chunk of code here\n} while(true);\n\ndo {\n  // Imagine a nice chunk of code here\n} while(price &lt; priceAllowedForDiscount);\n</code></pre>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6921281#6921281", "question_id": 6850380, "answer_id": 6921281}, {"body": "<p>I think that yes it is pretty bad... or at least, for many developers. It is symptomatic of developers that don't think about their loop conditions. Consequently there is error prone.  </p>\n", "title": "Are &quot;while(true)&quot; loops so bad?", "tags": ["java", "while-loop", "do-while"], "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad/6935546#6935546", "question_id": 6850380, "answer_id": 6935546}], "creation_date": 1311796347, "score": 185, "link": "http://stackoverflow.com/questions/6850380/are-whiletrue-loops-so-bad", "question_id": 6850380}, {"body": "<p>My application is to be deployed on both tcServer and WebSphere 6.1. This application uses ehCache and so requires slf4j as a dependency.\nAs a result I've added the slf4j-api.jar (1.6) jar to my war file bundle.</p>\n\n<p>The application works fine in tcServer except for the following error:\n    SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\n    SLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.</p>\n\n<p>However, when I deploy in WebSphere I get a java.lang.NoClassDefFoundError: org.slf4j.impl.StaticLoggerBinder.</p>\n\n<p>I've checked the classpaths of both application servers and there is no other slf4j jar.</p>\n\n<p>Anyone any ideas what may be happening here?</p>\n", "tags": ["java", "websphere", "slf4j"], "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "answers": [{"body": "<p>You need to add following jar file in your classpath: <code>slf4j-simple-1.6.2.jar</code>. If you don't have it, please download it. Please refer to <a href=\"http://www.slf4j.org/codes.html#multiple_bindings\">http://www.slf4j.org/codes.html#multiple_bindings</a></p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/7421734#7421734", "question_id": 7421612, "answer_id": 7421734}, {"body": "<p>In the Websphere case, you have an older version of slf4j-api.jar, 1.4.x. or 1.5.x lying around somewhere. The behavior you observe on tcServer, that is fail-over to NOP, occurs on slf4j versions 1.6.0 and later. Make sure that you are using slf4j-api-1.6.x.jar on all platforms and that no older version of slf4j-api is placed on the class path.</p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/7437648#7437648", "question_id": 7421612, "answer_id": 7437648}, {"body": "<p>I had the same issue with WebSphere 6.1. As Ceki pointed out, there were tons of jars that WebSphere was using and one of them was pointing to an older version of slf4j. </p>\n\n<p>The No-Op rollback happens only with slf4j -1.6+ so anything older than that will throw an exception and halts your deployment.</p>\n\n<p>There is a documentation in <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\">SLf4J site</a> which resolves this. I followed that and added <code>slf4j-simple-1.6.1.jar</code> to my application along with <code>slf4j-api-1.6.1.jar</code> which I already had. </p>\n\n<p>This solved my issue. Hope it helps others who have this issue.</p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/9919375#9919375", "question_id": 7421612, "answer_id": 9919375}, {"body": "<p>put file slf4j-log4j12-1.6.4.jar in the classpath will do the trick. </p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/10790539#10790539", "question_id": 7421612, "answer_id": 10790539}, {"body": "<p>SLF4j is an abstraction <strong>for various logging frameworks</strong>. Hence apart from having slf4j you need to include any of your logging framework like log4j or logback (etc) in your classpath. <br>\nTo have an idea refer the <em>First Baby Step</em> in <a href=\"http://logback.qos.ch/manual/introduction.html\">http://logback.qos.ch/manual/introduction.html</a></p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/11858745#11858745", "question_id": 7421612, "answer_id": 11858745}, {"body": "<p>I am working in a project Struts2+Spring. So it need a dependency <code>slf4j-api-1.7.5.jar</code>.</p>\n\n<p>If I run the project, I am getting error like</p>\n\n<p><strong>Failed to load class \"org.slf4j.impl.StaticLoggerBinder\"</strong> </p>\n\n<p>I solved my problem by adding the <code>slf4j-log4j12-1.7.5.jar</code>.</p>\n\n<p>So add this jar in your project to solve the issue.</p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/19656720#19656720", "question_id": 7421612, "answer_id": 19656720}, {"body": "<p>I know this post is a little old, but in case anyone else runs into this problem:</p>\n\n<p>Add slf4j-jdk14-X.X.X.jar to your CLASSPATH (where X.X.X is the version number - e.g. slf4j-jdk14-1.7.5.jar).</p>\n\n<p>HTH\nPeter</p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/19815041#19815041", "question_id": 7421612, "answer_id": 19815041}, {"body": "<p>I got into this issue when I get the following error:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n\n<p>when I was using <code>slf4j-api-1.7.5.jar</code> in my <code>libs</code>.</p>\n\n<p>Inspite I tried with the whole suggested complement jars, like <code>slf4j-log4j12-1.7.5.jar</code>, <code>slf4j-simple-1.7.5</code> the error message still persisted. The problem finally was solved when I added <code>slf4j-jdk14-1.7.5.jar</code> to the java libs. </p>\n\n<p>Get the whole slf4j package at <a href=\"http://www.slf4j.org/download.html\" rel=\"nofollow\">http://www.slf4j.org/download.html</a></p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/21271676#21271676", "question_id": 7421612, "answer_id": 21271676}, {"body": "<p>This is for those who came here from google search.</p>\n\n<p>If you use maven just add the following</p>\n\n<pre><code>   &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>   &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n       &lt;version&gt;1.6.4&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/21787813#21787813", "question_id": 7421612, "answer_id": 21787813}, {"body": "<p>If you are using maven to dependency management so you can just add following dependency in pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For non-Maven users\nJust download the library and put it into your project classpath.</p>\n\n<p>Here you can see details: <a href=\"http://www.mkyong.com/wicket/java-lang-classnotfoundexception-org-slf4j-impl-staticloggerbinder/\">http://www.mkyong.com/wicket/java-lang-classnotfoundexception-org-slf4j-impl-staticloggerbinder/</a></p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/23039064#23039064", "question_id": 7421612, "answer_id": 23039064}, {"body": "<p>Simply add this to your <strong>pom.xml</strong>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n  &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/36766934#36766934", "question_id": 7421612, "answer_id": 36766934}, {"body": "<p>According to <a href=\"http://www.slf4j.org/codes.html\" rel=\"nofollow\">SLF4J</a> official documentation </p>\n\n<blockquote>\n  <p><strong>Failed to load class org.slf4j.impl.StaticLoggerBinder</strong></p>\n  \n  <p>This warning message is reported when the\n  org.slf4j.impl.StaticLoggerBinder class could not be loaded into\n  memory. This happens when no appropriate SLF4J binding could be found\n  on the class path. <strong><em>Placing one (and only one)</em></strong> of slf4j-nop.jar,\n  slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or\n  logback-classic.jar on the class path should solve the problem.</p>\n</blockquote>\n\n<p>Simply add <a href=\"http://central.maven.org/maven2/org/slf4j/slf4j-simple/1.6.1/slf4j-simple-1.6.1.jar\" rel=\"nofollow\">this jar</a> along with slf4j api.jar to your classpath to get things done.\nBest of luck</p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/37477910#37477910", "question_id": 7421612, "answer_id": 37477910}, {"body": "<p>I use Jena and I add the fellowing dependence to pom.xml</p>\n\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n  &lt;version&gt;1.0.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I try to add slf4j-simple but it just disappear the \"SLF4J: Failed to load class \u201corg.slf4j.impl.StaticLoggerBinder\u201d\" error but logback-classic show more detail infomation.</p>\n\n<p>The <a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow\">official document</a></p>\n", "title": "SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;", "tags": ["java", "websphere", "slf4j"], "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/37791913#37791913", "question_id": 7421612, "answer_id": 37791913}], "creation_date": 1316027026, "score": 179, "link": "http://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder", "question_id": 7421612}, {"body": "<p>I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control > Checkout from Version Control from within IntelliJ.</p>\n\n<p>It then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.</p>\n\n<p>However, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!</p>\n\n<p>Is there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)</p>\n", "tags": ["java", "maven", "intellij-idea", "pom.xml"], "title": "IntelliJ - Convert a Java project/module into a Maven project/module", "answers": [{"body": "<p>Right-click on the module, select \"Add framework support...\", and check the \"Maven\" technology.</p>\n\n<p><em>(This also creates a <code>pom.xml</code> for you to modify.)</em></p>\n\n<p>If you mean adding source repository elements, I think you need to do that manually&ndash;not sure.</p>\n\n<p>Pre-IntelliJ 13 this won't convert the project to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\">Maven Standard Directory Layout</a>, 13+ it will.</p>\n", "title": "IntelliJ - Convert a Java project/module into a Maven project/module", "tags": ["java", "maven", "intellij-idea", "pom.xml"], "link": "http://stackoverflow.com/questions/7642456/intellij-convert-a-java-project-module-into-a-maven-project-module/7642607#7642607", "question_id": 7642456, "answer_id": 7642607}], "creation_date": 1317692206, "score": 176, "link": "http://stackoverflow.com/questions/7642456/intellij-convert-a-java-project-module-into-a-maven-project-module", "question_id": 7642456}, {"body": "<p>Just wondering if anyone has tried using new Java 7 language features with Android?\nI know that Android reads the bytecode that Java spits out and turns it to dex. So I guess my question is can it understand the bytecode of Java 7?</p>\n", "tags": ["java", "android", "bytecode", "java-7"], "title": "Java 7 language features with Android", "answers": [{"body": "<p><em>EDIT: At the time this was written, the latest release was Android 9 and Eclipse Indigo. Thing have changed since then.</em></p>\n\n<ul>\n<li><strong>Practical answer</strong></li>\n</ul>\n\n<p>Yes, I have tried. But this is not a great test as the compatibility was limited to level 6 with no way (no simple way at least) to really use java 7:</p>\n\n<ul>\n<li>First I installed a JDK7 on a machine that had no other JDK installed - Eclipse and Android are not installed either:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/SVTUO.png\" alt=\"The 7 is the only installed on this machine\"></p>\n\n<ul>\n<li>Then I installed a brand new Eclipse Indigo and checked it was actually using the JDK 7 (well, as this is the only one and as this is the one I've selected I would have been surprised)</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/EEL6y.png\" alt=\"The 7 is the only used by this Eclipse\"></p>\n\n<ul>\n<li><p>Then I installed the latest version of the Android SDK (EDIT: Honeycomb, API13, at the time this post was written). It found my JDK 7 and installed properly. The same for ADT.</p></li>\n<li><p>But I had a surprise when trying to compile and run a Hello Word Android app. The compatibility was set to Java 6 with no way to force it to Java 7:</p></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/Vhia8.png\" alt=\"Compatibility is limited to Java 6\"></p>\n\n<ul>\n<li>I tried with a non-Android project, a regular Java one, and I had the explanation. The compatibility level seems to be limited by Eclipse (see the message at bottom of the following image):</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/uFoI7.png\" alt=\"Eclipse limits itself to level 6 compatibility\"></p>\n\n<p>So I had <em>Hello World</em> working, and also other apps, more complicated and using <code>SQLite</code>, <code>Listview</code>, <code>Sensor</code> and <code>Camera</code>, but this only proves that the compatibility handling of Java 7 seems to be well done and working with Android.</p>\n\n<p><strong>So, did someone try with the good old Ant, to bypass the Eclipse limitation seen above?</strong></p>\n\n<ul>\n<li><strong>Theroetical answer</strong></li>\n</ul>\n\n<p>Anyway, the SDK is designed to be used with Java 5 or 6, as explained <a href=\"http://developer.android.com/sdk/requirements.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>We may have something working with Java 7, but it would be working \"by accident\". The building of the DEX may work properly or not, and once the DEX built, it may work or not. This because using a non-qualified JDK gives unpredictable results by definition.</p>\n\n<p>Even if someone has succesfully built an Android app under plain Java 7, this does not qualify the JDK. The same process applied to another application may fail, or the resulting application may have bugs tied to the use of that JDK. Not recommended.</p>\n\n<p>For those who are involved on webapps development, this exactly the same as deploying a web application built under Java 5 or 6 under an application server qualified for Java 4 only (let's say Weblogic 8 for example). This may work, but this is not something that can be recommended for other purposes than trying.</p>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/7175360#7175360", "question_id": 7153989, "answer_id": 7175360}, {"body": "<p>Quote from dalvikvm.com:</p>\n\n<blockquote>\n  <p>dx, included in the Android SDK, transforms the Java Class files of Java classes compiled by a regular Java compiler into another class file format (the .dex format)</p>\n</blockquote>\n\n<p>That means, the .java source file does not matter, it's only the .class bytecode.</p>\n\n<p>As far as I know, only <i>invokedynamic</i> was added to the JVM bytecode in Java 7, the rest is compatible to Java 6. The Java language itself does not use <i>invokedynamic</i>. Other new features, like the <i>switch</i> statement using <i>String</i>s or the multi-<i>catch</i> are just syntatic sugar and did not require byte code changes. For example, the multi-<i>catch</i> just copies the <i>catch</i>-block for each possible exception.</p>\n\n<p>The only problem should be that the new classes introduced in Java 7 are missing in Android, like <i>AutoCloseable</i>, so I'm not sure if you can use the <i>try</i>-with-resources feature (somebody tried it?).</p>\n\n<p>Any comments on that? Am I missing something?</p>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/7987958#7987958", "question_id": 7153989, "answer_id": 7987958}, {"body": "<p>As of the Android SDK v15, along with Eclipse 3.7.1, Java 7 is <strong><em>not</em></strong> supported for Android development. Setting the source compatibility to 1.7 mandates setting the generated .class file compatibility to 1.7, which leads to the following error by the Android compiler:</p>\n\n<blockquote>\n  <p>Android requires compiler compliance level 5.0 or 6.0. Found '1.7' instead. Please use Android Tools > Fix Project Properties.</p>\n</blockquote>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/8192642#8192642", "question_id": 7153989, "answer_id": 8192642}, {"body": "<p>If you are using <strong>Android Studio</strong>, the Java 7 <em>language</em> should be enabled automatically without any patches. Try-with-resource requires API Level 19+, and NIO 2.0 stuff are missing. </p>\n\n<p>If you can't use Java 7 features, see <a href=\"http://stackoverflow.com/a/17309063/224671\">@Nuno</a>'s answer on how to edit your <code>build.gradle</code>.</p>\n\n<p>The following is for historical interest only.</p>\n\n<hr>\n\n<p>A small part of Java 7 can certainly be used with Android (note: I have only tested on 4.1). </p>\n\n<p>First of all, you could not use Eclipse's ADT because <a href=\"https://android.googlesource.com/platform/sdk/+/master/eclipse/plugins/com.android.ide.eclipse.adt/src/com/android/ide/eclipse/adt/AdtConstants.java\" rel=\"nofollow\">it is hard-coded</a> that only Java compiler 1.5 and 1.6 are compliant. You could recompile ADT but I find there is no simple way to do that aside from recompiling the whole Android together. </p>\n\n<p>But you don't need to use Eclipse. For instance, <a href=\"http://tools.android.com/recent/androidstudio032released\" rel=\"nofollow\"><strong>Android Studio 0.3.2</strong></a>, <a href=\"http://www.jetbrains.com/idea/\" rel=\"nofollow\"><strong>IntelliJ IDEA CE</strong></a> and other javac-based IDEs supports compiling to Android <i>and</i> you could set the compliance even up to Java 8 with:</p>\n\n<ul>\n<li>File \u2192 Project Structure \u2192 Modules \u2192 (pick the module at the 2nd pane) \u2192 Language level \u2192 (choose \"7.0 - Diamonds, ARM, multi-catch, etc.\")</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/1z7iH.png\" alt=\"Enabling Java 7 on IntelliJ\"></p>\n\n<p>This only allows Java 7 <strong>language features</strong>, and you can hardly benefit from anything since a half of improvement also comes from the library. Features you could use are those which do not depend on the library:</p>\n\n<ul>\n<li>Diamond operator (<code>&lt;&gt;</code>)</li>\n<li>String switch</li>\n<li>Multiple-catch (<code>catch (Exc1 | Exc2 e)</code>)</li>\n<li>Underscore in number literals (<code>1_234_567</code>)</li>\n<li>Binary literals (<code>0b1110111</code>)</li>\n</ul>\n\n<p>And these features cannot be used <em>yet</em>:</p>\n\n<ul>\n<li>The <code>try</code>-with-resources statement \u2014 because it requires the non-existing interface \"java.lang.AutoCloseable\" (this can be used publicly in 4.4+)</li>\n<li>The @SafeVarargs annotation \u2014 because \"java.lang.SafeVarargs\" does not exist</li>\n</ul>\n\n<p>... \"yet\" :) It turns out that, although Android's library is targeting for 1.6, the Android source does contain interfaces like <a href=\"https://android.googlesource.com/platform/libcore/+/master/luni/src/main/java/java/lang/AutoCloseable.java\" rel=\"nofollow\">AutoCloseable</a> and traditional interfaces like <a href=\"https://android.googlesource.com/platform/libcore/+/master/luni/src/main/java/java/io/Closeable.java\" rel=\"nofollow\">Closeable</a> does inherit from AutoCloseable (SafeVarargs is really missing, though). We could confirm its existence via reflection. They are hidden simply because the Javadoc has the <code>@hide</code> tag, which caused the \"android.jar\" not to include them.</p>\n\n<p>There is already as existing question<strong> <a href=\"http://stackoverflow.com/questions/7888191/how-do-i-build-the-android-sdk-with-hidden-and-internal-apis-available\">How do I build the Android SDK with hidden and internal APIs available?</a> </strong>on how to get those methods back. You just need to <em>replace</em> the existing \"android.jar\" reference of the current Platform with our customized one, then many of the Java 7 APIs will become available (the procedure is similar to that in Eclipse. Check Project Structure \u2192 SDKs.)</p>\n\n<p>In additional to AutoCloseable, (only) the following Java 7 <strong>library features</strong> are also revealed:</p>\n\n<ul>\n<li>Exception chaining constructors in ConcurrentModificationException, LinkageError and AssertionError</li>\n<li>The static .compare() methods for primitives: Boolean.compare(), Byte.compare(), Short.compare(), Character.compare(), Integer.compare(), Long.compare().</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Currency.html\" rel=\"nofollow\">Currency</a>: .getAvailableCurrencies(), .getDisplayName() (but <em>without</em> .getNumericCode())</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/BitSet.html\" rel=\"nofollow\">BitSet</a>: .previousSetBit(), .previousClearBit(), .valueOf(), .toLongArray(), .toByteArray()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"nofollow\">Collections</a>: .emptyEnumeration(), .emptyIterator(), .emptyListIterator()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow\">AutoCloseable</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html\" rel=\"nofollow\">Throwable</a>: .addSuppressed(), .getSuppressed(), and the 4-argument constructor</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html\" rel=\"nofollow\">Character</a>: .compare(), .isSurrogate(), .getName(), .highSurrogate(), .lowSurrogate(), .isBmpCodePoint() (but <em>without</em> .isAlphabetic() and .isIdeographic())</li>\n<li>System: .lineSeparator() (undocumented?)</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Modifier.html\" rel=\"nofollow\">java.lang.reflect.Modifier</a>: .classModifiers(), .constructorModifiers(), .fieldModifiers(), .interfaceModifiers(), .methodModifiers()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/NetworkInterface.html\" rel=\"nofollow\">NetworkInterface</a>: .getIndex(), .getByIndex()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/InetSocketAddress.html\" rel=\"nofollow\">InetSocketAddress</a>: .getHostString()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html\" rel=\"nofollow\">InetAddress</a>: .getLoopbackAddress()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/logging/Logger.html\" rel=\"nofollow\">Logger</a>: .getGlobal()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html\" rel=\"nofollow\">ConcurrentLinkedDeque</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/AbstractQueuedSynchronizer.html\" rel=\"nofollow\">AbstractQueuedSynchronizer</a>: .hasQueuedPredecessors()</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/DeflaterOutputStream.html\" rel=\"nofollow\">DeflaterOutputStream</a>: the 3 constructors with \"syncFlush\".</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/Deflater.html\" rel=\"nofollow\">Deflater</a>: .NO_FLUSH, .SYNC_FLUSH, .FULL_FLUSH, .deflate() with 4 arguments</li>\n</ul>\n\n<p>That's basically all. In particular, NIO 2.0 does not exist, and Arrays.asList is still not @SafeVarargs.</p>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/13550632#13550632", "question_id": 7153989, "answer_id": 13550632}, {"body": "<p>Some people might be interested in this git project I've found, that seems to allow to run Java 7 on android. \n<a href=\"https://github.com/yareally/Java7-on-Android\" rel=\"nofollow\">https://github.com/yareally/Java7-on-Android</a></p>\n\n<p>However too much of a risk if I add this in the current project I work on. So I'll wait until Google to officially support Java 7.</p>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/16515134#16515134", "question_id": 7153989, "answer_id": 16515134}, {"body": "<p>To expand on the above answer by @KennyTM, if you are targeting 4.0.3 and above (<strong>minSdkVersion=15</strong>), you can use the hidden APIs by adding a few classes to your target's SDK android.jar.</p>\n\n<p>Once you do this, you can use try-with-resources on any Closeable, as well as implement AutoCloseable in your own classes.</p>\n\n<p>I've made a zip containing sources and binaries of all the classes that needed to be modified in android.jar to make these APIs available. You just need to unpack it and add the binaries to your<br> android-sdk/platforms/android-NN/android.jar</p>\n\n<p>You can download it from here: <a href=\"http://db.tt/kLxAYWbr\" rel=\"nofollow\">http://db.tt/kLxAYWbr</a></p>\n\n<p>Also of note is that, in the past couple of months, Elliott Hughes has made a few commits to the Android tree: <a href=\"https://android.googlesource.com/platform/libcore/+/9902f3494c6d983879d8b9cfe6b1f771cfefe703\" rel=\"nofollow\">finished off AutoCloseable</a>, <a href=\"https://android.googlesource.com/platform/libcore/+/bce3d7cfe03fcb70bd374ad2e8b16ba64a45e993\" rel=\"nofollow\">added SafeVarargs</a>, <a href=\"https://android.googlesource.com/platform/libcore/+/8ffa0b68c9fd3f722bee2bcd94b1d38151a0791d\" rel=\"nofollow\">unhidden various APIs</a>, <a href=\"https://android.googlesource.com/platform/libcore/+/c2f2aaaae219c69d50eee6549d507c91e9a08519\" rel=\"nofollow\">fixed Throwable's protected constructor</a> and <a href=\"https://android.googlesource.com/platform/dalvik/+/97208a0be35a4b9583172dc853150a32bb138f15\" rel=\"nofollow\">added support for version 51 class files in dx</a>. So, there is finally some progress going on.</p>\n\n<p><strong>Edit (April 2014):</strong></p>\n\n<p>With the release of SDK 19 it is no longer necessary to patch android.jar with the additional APIs.</p>\n\n<p>My best method to use try-with-resources in an app that targets 4.0.3 and above (<strong>minSdkVersion=15</strong>) is to use Android Studio and Gradle, with the following configuration:</p>\n\n<pre><code>android {\n    compileSdkVersion 19\n    buildToolsVersion '19.0.3'\n\n    defaultConfig {\n        minSdkVersion 15\n        targetSdkVersion 19\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n</code></pre>\n\n<p>Android Studio will complain that try-with-resources can't be used with this API level, but my experience is that it can. The project will build and run without issue on devices with 4.0.3 and above. I've experienced no issues with this, with an app that has been installed into 500k+ devices.</p>\n\n<p><img src=\"http://i.stack.imgur.com/gyTX0.png\" alt=\"Android Studio error\"></p>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/17309063#17309063", "question_id": 7153989, "answer_id": 17309063}, {"body": "<p>It seems that getting this to work with pure ant is a bit of a kludge.</p>\n\n<p>But it worked for me: <a href=\"http://www.informit.com/articles/article.aspx?p=1966024\" rel=\"nofollow\">http://www.informit.com/articles/article.aspx?p=1966024</a></p>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/17395292#17395292", "question_id": 7153989, "answer_id": 17395292}, {"body": "<p>In order to use Java 7 features in code build by Android's ant based build system, simply put the following in your <code>custom_rules.xml</code> in your projects root directory:</p>\n\n<p><strong>custom_rules.xml:</strong></p>\n\n<pre><code>&lt;project name=\"custom_android_rules\"&gt;\n    &lt;property name=\"java.target\" value=\"1.7\" /&gt;\n    &lt;property name=\"java.source\" value=\"1.7\" /&gt;\n&lt;/project&gt;\n</code></pre>\n", "title": "Java 7 language features with Android", "tags": ["java", "android", "bytecode", "java-7"], "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android/24608415#24608415", "question_id": 7153989, "answer_id": 24608415}], "creation_date": 1314049557, "score": 176, "link": "http://stackoverflow.com/questions/7153989/java-7-language-features-with-android", "question_id": 7153989}, {"body": "<p>Is there a way to iterate over Java SparseArray (for Android) ? I used <code>sparsearray</code> to easily get values by index. I could not find one.</p>\n", "tags": ["java", "android"], "title": "How to iterate through SparseArray?", "answers": [{"body": "<p>The answer is no because <code>SparseArray</code> doesn't provide it. As <code>pst</code> put it, this thing doesn't provide any interfaces.</p>\n\n<p>You could loop from <code>0 - size()</code> and skip values that return <code>null</code>, but that is about it.</p>\n\n<p>As I state in my comment, if you need to iterate use a <code>Map</code> instead of a <code>SparseArray</code>. For example, use a <code>TreeMap</code> which iterates in order by the key.</p>\n\n<pre><code>TreeMap&lt;Integer, MyType&gt;\n</code></pre>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/7999267#7999267", "question_id": 7999211, "answer_id": 7999267}, {"body": "<p>Seems I found the solution. I hadn't properly noticed the <code>keyAt(index)</code> function.</p>\n\n<p>So I'll go with something like this:</p>\n\n<pre><code>for(int i = 0; i &lt; sparseArray.size(); i++) {\n   int key = sparseArray.keyAt(i);\n   // get the object by the key.\n   Object obj = sparseArray.get(key);\n}\n</code></pre>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/8006994#8006994", "question_id": 7999211, "answer_id": 8006994}, {"body": "<p>If you don't care about the keys, then <code>valueAt(int)</code> can be used to while iterating through the sparse array to access the values directly.</p>\n\n<pre><code>for(int i = 0, nsize = sparseArray.size(); i &lt; nsize; i++) {\n    Object obj = sparseArray.valueAt(i);\n}\n</code></pre>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/15038234#15038234", "question_id": 7999211, "answer_id": 15038234}, {"body": "<p>Ooor you just create your own ListIterator:</p>\n\n<pre><code>public final class SparseArrayIterator&lt;E&gt; implements ListIterator&lt;E&gt; {\n\nprivate final SparseArray&lt;E&gt; array;\nprivate int cursor;\nprivate boolean cursorNowhere;\n\n/**\n * @param array\n *            to iterate over.\n * @return A ListIterator on the elements of the SparseArray. The elements\n *         are iterated in the same order as they occur in the SparseArray.\n *         {@link #nextIndex()} and {@link #previousIndex()} return a\n *         SparseArray key, not an index! To get the index, call\n *         {@link android.util.SparseArray#indexOfKey(int)}.\n */\npublic static &lt;E&gt; ListIterator&lt;E&gt; iterate(SparseArray&lt;E&gt; array) {\n    return iterateAt(array, -1);\n}\n\n/**\n * @param array\n *            to iterate over.\n * @param key\n *            to start the iteration at. {@link android.util.SparseArray#indexOfKey(int)}\n *            &lt; 0 results in the same call as {@link #iterate(android.util.SparseArray)}.\n * @return A ListIterator on the elements of the SparseArray. The elements\n *         are iterated in the same order as they occur in the SparseArray.\n *         {@link #nextIndex()} and {@link #previousIndex()} return a\n *         SparseArray key, not an index! To get the index, call\n *         {@link android.util.SparseArray#indexOfKey(int)}.\n */\npublic static &lt;E&gt; ListIterator&lt;E&gt; iterateAtKey(SparseArray&lt;E&gt; array, int key) {\n    return iterateAt(array, array.indexOfKey(key));\n}\n\n/**\n * @param array\n *            to iterate over.\n * @param location\n *            to start the iteration at. Value &lt; 0 results in the same call\n *            as {@link #iterate(android.util.SparseArray)}. Value &gt;\n *            {@link android.util.SparseArray#size()} set to that size.\n * @return A ListIterator on the elements of the SparseArray. The elements\n *         are iterated in the same order as they occur in the SparseArray.\n *         {@link #nextIndex()} and {@link #previousIndex()} return a\n *         SparseArray key, not an index! To get the index, call\n *         {@link android.util.SparseArray#indexOfKey(int)}.\n */\npublic static &lt;E&gt; ListIterator&lt;E&gt; iterateAt(SparseArray&lt;E&gt; array, int location) {\n    return new SparseArrayIterator&lt;E&gt;(array, location);\n}\n\nprivate SparseArrayIterator(SparseArray&lt;E&gt; array, int location) {\n    this.array = array;\n    if (location &lt; 0) {\n        cursor = -1;\n        cursorNowhere = true;\n    } else if (location &lt; array.size()) {\n        cursor = location;\n        cursorNowhere = false;\n    } else {\n        cursor = array.size() - 1;\n        cursorNowhere = true;\n    }\n}\n\n@Override\npublic boolean hasNext() {\n    return cursor &lt; array.size() - 1;\n}\n\n@Override\npublic boolean hasPrevious() {\n    return cursorNowhere &amp;&amp; cursor &gt;= 0 || cursor &gt; 0;\n}\n\n@Override\npublic int nextIndex() {\n    if (hasNext()) {\n        return array.keyAt(cursor + 1);\n    } else {\n        throw new NoSuchElementException();\n    }\n}\n\n@Override\npublic int previousIndex() {\n    if (hasPrevious()) {\n        if (cursorNowhere) {\n            return array.keyAt(cursor);\n        } else {\n            return array.keyAt(cursor - 1);\n        }\n    } else {\n        throw new NoSuchElementException();\n    }\n}\n\n@Override\npublic E next() {\n    if (hasNext()) {\n        if (cursorNowhere) {\n            cursorNowhere = false;\n        }\n        cursor++;\n        return array.valueAt(cursor);\n    } else {\n        throw new NoSuchElementException();\n    }\n}\n\n@Override\npublic E previous() {\n    if (hasPrevious()) {\n        if (cursorNowhere) {\n            cursorNowhere = false;\n        } else {\n            cursor--;\n        }\n        return array.valueAt(cursor);\n    } else {\n        throw new NoSuchElementException();\n    }\n}\n\n@Override\npublic void add(E object) {\n    throw new UnsupportedOperationException();\n}\n\n@Override\npublic void remove() {\n    if (!cursorNowhere) {\n        array.remove(array.keyAt(cursor));\n        cursorNowhere = true;\n        cursor--;\n    } else {\n        throw new IllegalStateException();\n    }\n}\n\n@Override\npublic void set(E object) {\n    if (!cursorNowhere) {\n        array.setValueAt(cursor, object);\n    } else {\n        throw new IllegalStateException();\n    }\n}\n}\n</code></pre>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/19833892#19833892", "question_id": 7999211, "answer_id": 19833892}, {"body": "<p>The accepted answer has some holes in it. The beauty of the SparseArray is that it allows gaps in the indeces. So, we could have two maps like so, in a SparseArray...</p>\n\n<pre><code>(0,true)\n(250,true)\n</code></pre>\n\n<p>Notice the size here would be 2. If we iterate over size, we will only get values for the values mapped to index 0 and index 1. So the mapping with a key of 250 is not accessed. </p>\n\n<pre><code>for(int i = 0; i &lt; sparseArray.size(); i++) {\n   int key = sparseArray.keyAt(i);\n   // get the object by the key.\n   Object obj = sparseArray.get(key);\n}\n</code></pre>\n\n<p>The best way to do this is to iterate over the size of your data set, then check those indeces with a get() on the array. Here is an example with an adapter where I am allowing batch delete of items.</p>\n\n<pre><code>for (int index = 0; index &lt; mAdapter.getItemCount(); index++) {\n     if (toDelete.get(index) == true) {\n        long idOfItemToDelete = (allItems.get(index).getId());\n        mDbManager.markItemForDeletion(idOfItemToDelete);\n        }\n    }\n</code></pre>\n\n<p>I think ideally the SparseArray family would have a getKeys() method, but alas it does not.</p>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/30879786#30879786", "question_id": 7999211, "answer_id": 30879786}, {"body": "<p>Simple as Pie. Just make sure you fetch array size <em>before</em> actually perform the loop.</p>\n\n<pre><code>for(int i = 0, arraySize= mySparseArray.size(); i &lt; arraySize; i++) {\n   Object obj = mySparseArray.get(/* int key = */ mySparseArray.keyAt(i));\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/32676973#32676973", "question_id": 7999211, "answer_id": 32676973}, {"body": "<p>For removing all the elements from <code>SparseArray</code> using the above looping leads to <code>Exception</code>.</p>\n\n<p>To avoid this Follow the below code to remove all the elements from <code>SparseArray</code> using normal loops</p>\n\n<pre><code>private void getValues(){      \n    for(int i=0; i&lt;sparseArray.size(); i++){\n          int key = sparseArray.keyAt(i);\n          Log.d(\"Element at \"+key, \" is \"+sparseArray.get(key));\n          sparseArray.remove(key);\n          i=-1;\n    }\n}\n</code></pre>\n", "title": "How to iterate through SparseArray?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray/34745132#34745132", "question_id": 7999211, "answer_id": 34745132}], "creation_date": 1320341066, "score": 175, "link": "http://stackoverflow.com/questions/7999211/how-to-iterate-through-sparsearray", "question_id": 7999211}, {"body": "<p>I'm trying to configure my e-mail on Jenkins/Hudson and I constantly receive the error</p>\n\n<pre><code>java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be\n    non-empty\n</code></pre>\n\n<p>I've seen a good amount of information online about the error, but have not gotten any to work.  I'm using Sun's JDK on fedora linux (not openJDK).  </p>\n\n<p>Here are a few things I've tried.  I tried following the advice from this <a href=\"http://stackoverflow.com/questions/4764611/java-security-invalidalgorithmparameterexception-the-trustanchors-parameter-must\">post</a> but it copying the cacerts from windows over to my Fedora box hosting Jenkins didn't work.  I tried following this <a href=\"http://g4j.sourceforge.net/faq.html\">guide</a> as I'm trying to configure gmail as my SMTP server but it didn't work either.  I also tried to download and move those cacert files manually and move them over to my java folder using a variation of the commands on this <a href=\"http://www.krzywanski.net/archives/546\">guide</a>.</p>\n\n<p>I open to any suggestions as I'm currently stuck right now.  I have gotten it to work from a Windows Hudson server but I am struggling on Linux.</p>\n", "tags": ["java", "hudson", "javamail", "jenkins"], "title": "Error - trustAnchors parameter must be non-empty", "answers": [{"body": "<p>This bizarre message means that the truststore you specified was not found, or couldn't be opened due to access permissions for example.</p>\n\n<p>See also @AdamPlumb's <a href=\"http://stackoverflow.com/a/25188331/207421\">answer below</a>.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/6788682#6788682", "question_id": 6784463, "answer_id": 6788682}, {"body": "<p>I ran into this solution from <a href=\"http://architecturalatrocities.com/post/19073788679/fixing-the-trustanchors-problem-when-running-openjdk-7\">http://architecturalatrocities.com/post/19073788679/fixing-the-trustanchors-problem-when-running-openjdk-7</a>:</p>\n\n<p>Fixing the trustAnchors problem when running OpenJDK 7 on OS X. If you're running OpenJDK 7 on OS X and have seen this exception:</p>\n\n<pre><code>Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors\n    parameter must be non-empty\n</code></pre>\n\n<p>There's a simple fix, just link in the same cacerts file that Apple\u2019s JDK 1.6 uses:</p>\n\n<pre><code>cd $(/usr/libexec/java_home -v 1.7)/jre/lib/security   \nln -fsh /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security/cacerts\n</code></pre>\n\n<p>You need to do this for every OpenJDK version you have installed, just change -v 1.7 to the version you want to fix. Run <code>/usr/libexec/java_home -V</code> to see all the JREs and JDKs you have installed.</p>\n\n<p>Perhaps the OpenJDK guys could add this to their install scripts.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/10915692#10915692", "question_id": 6784463, "answer_id": 10915692}, {"body": "<p>In Ubuntu >= 12.10, the certificates are held in the <a href=\"http://packages.ubuntu.com/quantal/all/ca-certificates-java\">ca-certificates-java</a> package. Using -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts will pick them up regardless of what JDK you're using.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/15409993#15409993", "question_id": 6784463, "answer_id": 15409993}, {"body": "<p>I ran into this exact problem on OSX, using JDK 1.7, after upgrading to Maverick. The fix that worked for me was to simply re-install the Apple version of Java, available here: <a href=\"http://support.apple.com/kb/DL1572\">http://support.apple.com/kb/DL1572</a></p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/19680689#19680689", "question_id": 6784463, "answer_id": 19680689}, {"body": "<p>Also encountered this on OS X after updating Mavericks, when the old Java 6 was being used and tried to access an <code>https</code> URL. Fix was the inverse of Peter Kriens, I needed to copy the <code>cacerts</code> from the 1.7 space to the location linked by the 1.6 version:</p>\n\n<pre><code>(as root)\numask 022\nmkdir -p /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\ncp $(/usr/libexec/java_home -v 1.7)/jre/lib/security/cacerts \\\n    /System/Library/Java/Support/CoreDeploy.bundle/Contents/Home/lib/security\n</code></pre>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/20005591#20005591", "question_id": 6784463, "answer_id": 20005591}, {"body": "<p>I've had lot of security issues after upgrading to OSX Mavericks</p>\n\n<ul>\n<li>SSL problem with Amazon AWS</li>\n<li>peer not authenticated with Maven and Eclipse</li>\n<li>trustAnchors parameter must be non-empty</li>\n</ul>\n\n<p>I applied this JAVA update and it fixed all my issues: <a href=\"http://support.apple.com/kb/DL1572?viewlocale=en_US\">http://support.apple.com/kb/DL1572?viewlocale=en_US</a></p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/20847585#20847585", "question_id": 6784463, "answer_id": 20847585}, {"body": "<p>EJP basically answered the question (and I realize this has an accepted answer) but I just dealt with this edge-case gotcha and wanted to immortalize my solution.  I had the InvalidAlgorithmParameterException error on a hosted jira server that I had previously set up for SSL-only access.  The issue was that I had set up my keystore in the PKCS#12 format, but my truststore was in the JKS format.  In my case, I had edited my server.xml file to specify the keystoreType to PKCS, but did not specify the truststoreType, so it defaults to whatever the keystoreType is.  Specifying the truststoreType explicitly as JKS solved it for me.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/25188331#25188331", "question_id": 6784463, "answer_id": 25188331}, {"body": "<p>I have faced with the issue while importing a Gradle project in IntelliJ IDEA 14.\nA solution was using a local copy of Gradle instead of a wrapper from the project directory.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/28624964#28624964", "question_id": 6784463, "answer_id": 28624964}, {"body": "<p>On RedHat Linux I got this issue resolved by importing the certs to /etc/pki/java/cacerts</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/30224492#30224492", "question_id": 6784463, "answer_id": 30224492}, {"body": "<p>This fixed the problem for me on Ubuntu:</p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure\n</code></pre>\n\n<p>(found here: <a href=\"https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760\">https://bugs.launchpad.net/ubuntu/+source/ca-certificates-java/+bug/1396760</a>)</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/30699960#30699960", "question_id": 6784463, "answer_id": 30699960}, {"body": "<p>I expected things like this, being that I use an alternate jvm in my Talend Open Studio. (support at the moment exists only until jdk1.7) i use 8 for security purposes... anyway</p>\n\n<ul>\n<li>update your cert store\n\n<blockquote>\n  <p>sudo update-ca-certificates -f</p>\n</blockquote></li>\n</ul>\n\n<p>then </p>\n\n<ul>\n<li>add a new value in your initialization parameters\n\n<blockquote>\n  <p>sudo gedit $(path to your architecture specific ini i.e. TOS_DI...ini) </p>\n</blockquote></li>\n</ul>\n\n<blockquote>\n  <p>-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts</p>\n  \n  <p><strong>-Djavax.net.ssl.trustAnchors=/etc/ssl/certs/java/cacerts</strong></p>\n</blockquote>\n\n<p>for me, the second entry worked. I think, depending on the version of TOS/TEnt + jvm, it has a different parameter name, but looks for the same keystore file </p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/31615479#31615479", "question_id": 6784463, "answer_id": 31615479}, {"body": "<p>Ran </p>\n\n<pre><code>sudo update-ca-certificates -f \n</code></pre>\n\n<p>to create cert file then </p>\n\n<pre><code>sudo /var/lib/dpkg/info/ca-certificates-java.postinst configure** \n</code></pre>\n\n<p>and I was back in business thanks guys, a pity it's not included in the installation but got there in the end.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/33311710#33311710", "question_id": 6784463, "answer_id": 33311710}, {"body": "<p>In my case the JKS file used in client application was corrupted. I created new one and import the destination server SSL certificates in it. Then I use the new JKS file in the client application as trust store like :</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\",path_to_your_cacerts_file);\n</code></pre>\n\n<p>Source: <a href=\"http://stackoverflow.com/questions/5871279/java-ssl-and-cert-keystore\">java SSL and cert keystore</a></p>\n\n<p>I use the (KeyStore Explorer) tool to create the new JKS. You can downloaded from this link <a href=\"http://www.keystore-explorer.org/\" rel=\"nofollow\">KeyStore Explorer</a></p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/36147986#36147986", "question_id": 6784463, "answer_id": 36147986}, {"body": "<p>The error tells that the system cannot find the truststore in the path provided with the parameter javax.net.ssl.trustStore.</p>\n\n<p>Under Windows I copied the cacerts file from jre/lib/security location into the eclipse install directory (same place as eclipse.ini file) and added the following settings in eclipse.ini:</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=cacerts\n-Djavax.net.ssl.trustStorePassword=changeit\n-Djavax.net.ssl.trustStoreType=JKS\n</code></pre>\n\n<p>Had some troubles with the path to the cacerts (the %java_home% env variable is somehow overwritten), so I used this trivial solve.</p>\n\n<p>The idea is to provide a valid path to the truststore file - ideally would be to use a relative one. You may also use an absolute path.</p>\n\n<p>To make sure the store type is JKS, you would run the following command:</p>\n\n<blockquote>\n  <p>keytool -list -keystore cacerts</p>\n</blockquote>\n\n<pre><code>Keystore type: JKS\nKeystore provider: SUN\n</code></pre>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/36305610#36305610", "question_id": 6784463, "answer_id": 36305610}, {"body": "<pre><code>System.setProperty(\"javax.net.ssl.trustStore\", \"C:\\\\Users\\\\user-id\\\\Desktop\\\\tomcat\\\\cacerts\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"passwd\");\n</code></pre>\n\n<p>You have to add above two lines in your code. It is not able to find the truststore.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/37537169#37537169", "question_id": 6784463, "answer_id": 37537169}, {"body": "<p>The answers here are very helpful for Linux and Mac.</p>\n\n<p>If you're on Windows 10, this problem can be caused by a Java update. These seem to change the directory path of the JRE (even if you have a JDK and JRE installed separately).</p>\n\n<p>What worked for me was creating a symlink (Use MinGW, Cygwin, or your favorite Bash shell for Windows) in the c/Program Files/Java directory with the same name as the pre-update version like this:</p>\n\n<pre><code>ln -s jre1.8.0_101 jre1.8.0_92\n</code></pre>\n\n<p>That way, your old security settings can find the right path. This is admittedly a hack, but it works.</p>\n", "title": "Error - trustAnchors parameter must be non-empty", "tags": ["java", "hudson", "javamail", "jenkins"], "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty/38795605#38795605", "question_id": 6784463, "answer_id": 38795605}], "creation_date": 1311294902, "score": 174, "link": "http://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty", "question_id": 6784463}, {"body": "<p>Which of the following is the best and most portable way to get the hostname of the current computer in Java?</p>\n\n<p><code>Runtime.getRuntime().exec(\"hostname\")</code> </p>\n\n<p>vs </p>\n\n<p><code>InetAddress.getLocalHost().getHostName()</code></p>\n", "tags": ["java", "network-programming", "environment-variables", "hostname"], "title": "Recommended way to get hostname in Java", "answers": [{"body": "<p><code>InetAddress.getLocalHost().getHostName()</code> is the more portable way.</p>\n\n<p><code>exec(\"hostname\")</code> actually calls out to the operating system to execute the <code>hostname</code> command. </p>\n\n<p>Here are a couple other related answers on SO: </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/q/473446/224354\">Java current machine name and logged in user?</a> </li>\n<li><a href=\"http://stackoverflow.com/q/5596788/224354\">Get DNS name of local machine as seen by a remote machine</a></li>\n</ul>\n\n<p><strong>EDIT:</strong> You should take a look at <a href=\"http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7800008#7800008\">A.H.'s answer</a> or <a href=\"http://stackoverflow.com/a/7353473/224354\">Arnout Engelen's answer</a> for details on why this might not work as expected, depending on your situation. As an answer for this person who specifically requested portable, I still think <code>getHostName()</code> is fine, but they bring up some good points that should be considered.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7353205#7353205", "question_id": 7348711, "answer_id": 7353205}, {"body": "<p><code>InetAddress.getLocalHost().getHostName()</code> is better (as explained by Nick), but still not very good</p>\n\n<p>One host can be known under many different hostnames. Usually you'll be looking for the hostname your host has in a specific context.</p>\n\n<p>For example, in a web application, you might be looking for the hostname used by whoever issued the request you're currently handling. How to best find that one depends on which framework you're using for your web application.</p>\n\n<p>In some kind of other internet-facing service, you'll want the hostname your service is available through from the 'outside'. Due to proxies, firewalls etc this might not even be a hostname on the machine your service is installed on - you might try to come up with a reasonable default, but you should definitely make this configurable for whoever installs this.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7353473#7353473", "question_id": 7348711, "answer_id": 7353473}, {"body": "<p>InetAddress.getLocalHost().getHostName() is the best way out of the two as this is the best abstraction at the developer level.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7755392#7755392", "question_id": 7348711, "answer_id": 7755392}, {"body": "<p>Strictly speaking - you have no choice but calling either <code>hostname(1)</code> or - on Unix <code>gethostname(2)</code>. This is the name of your computer. Any attempt to determine the hostname by an IP address like this</p>\n\n<pre><code>InetAddress.getLocalHost().getHostName()\n</code></pre>\n\n<p>is bound to fail in some circumstances:</p>\n\n<ul>\n<li>The IP address might not resolve into any name. Bad DNS setup, bad system setup or bad provider setup may be the reason for this.</li>\n<li>A name in DNS can have many aliases called CNAMEs. These can only be resolved in one direction properly: name to address. The reverse direction is ambiguous. Which one is the \"official\" name?</li>\n<li>A host can have many different IP addresses - and each address can have many different names. Two common cases are: One ethernet port has several \"logical\" IP addresses or the computer has several ethernet ports. It is configurable whether they share an IP or have different IPs. This is called \"multihomed\".</li>\n<li>One Name in DNS can resolve to several IP Addresses. And not all of those addresses must be located on the same computer! (Usecase: A simple form of load-balancing)</li>\n<li>Let's not even start talking about dynamic IP addresses.</li>\n</ul>\n\n<p>Also don't confuse the name of an IP-address with the name of the host (hostname). A metaphor might make it clearer:</p>\n\n<blockquote>\n  <p>There is a large city (server) called \"London\". Inside the city walls much business happens. The city has several gates (IP addresses). Each gate has a name (\"North Gate\", \"River Gate\", \"Southampton Gate\"...) but the name of the gate is not the name of the city. Also you cannot deduce the name of the city by using the name of a gate - \"North Gate\" would catch half of the bigger cities and not just one city. However - a stranger (IP packet) walks along the river and asks a local: \"I have a strange address: 'Rivergate, second left, third house'. Can you help me?\" The local says: \"Of course, you are on the right road, simply go ahead and you will arrive at your destination within half an hour.\"</p>\n</blockquote>\n\n<p>This illustrates it pretty much I think.</p>\n\n<p>The good news is: The <em>real</em> hostname is <em>usually</em> not necessary. In most cases any name which resolves into an IP address on this host will do. (The stranger might enter the city by Northgate, but helpful locals translate the \"2nd left\" part.)</p>\n\n<p>If the remaining corner cases you must use the <em>definitive</em> source of this configuration setting - which is the C function <code>gethostname(2)</code>. That function is also called by the program <code>hostname</code>. </p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/7800008#7800008", "question_id": 7348711, "answer_id": 7800008}, {"body": "<pre><code>hostName == null;\nEnumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\n{\n    while (interfaces.hasMoreElements()) {\n        NetworkInterface nic = interfaces.nextElement();\n        Enumeration&lt;InetAddress&gt; addresses = nic.getInetAddresses();\n        while (hostName == null &amp;&amp; addresses.hasMoreElements()) {\n            InetAddress address = addresses.nextElement();\n            if (!address.isLoopbackAddress()) {\n                hostName = address.getHostName();\n            }\n        }\n    }\n}\n</code></pre>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/10128372#10128372", "question_id": 7348711, "answer_id": 10128372}, {"body": "<p>The most portable way to get the hostname of the current computer in Java is as follows:</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\npublic class getHostName {\n\n    public static void main(String[] args) throws UnknownHostException {\n        InetAddress iAddress = InetAddress.getLocalHost();\n        String hostName = iAddress.getHostName();\n        //To get  the Canonical host name\n        String canonicalHostName = iAddress.getCanonicalHostName();\n\n        System.out.println(\"HostName:\" + hostName);\n        System.out.println(\"Canonical Host Name:\" + canonicalHostName);\n    }\n}\n</code></pre>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/15197702#15197702", "question_id": 7348711, "answer_id": 15197702}, {"body": "<p>Environment variables may also provide a useful means -- <code>COMPUTERNAME</code> on Windows, <code>HOSTNAME</code> on most modern Unix/Linux shells.</p>\n\n<p>See:  <a href=\"http://stackoverflow.com/a/17956000/768795\">http://stackoverflow.com/a/17956000/768795</a></p>\n\n<p>I'm using these as \"supplementary\" methods to <code>InetAddress.getLocalHost().getHostName()</code>, since as several people point out, that function doesn't work in all environments.</p>\n\n<p><code>Runtime.getRuntime().exec(\"hostname\")</code> is another possible supplement. At this stage, I haven't used it.</p>\n\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\n// try InetAddress.LocalHost first;\n//      NOTE -- InetAddress.getLocalHost().getHostName() will not work in certain environments.\ntry {\n    String result = InetAddress.getLocalHost().getHostName();\n    if (StringUtils.isNotEmpty( result))\n        return result;\n} catch (UnknownHostException e) {\n    // failed;  try alternate means.\n}\n\n// try environment properties.\n//      \nString host = System.getenv(\"COMPUTERNAME\");\nif (host != null)\n    return host;\nhost = System.getenv(\"HOSTNAME\");\nif (host != null)\n    return host;\n\n// undetermined.\nreturn null;\n</code></pre>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/20793241#20793241", "question_id": 7348711, "answer_id": 20793241}, {"body": "<p>As others have noted, getting the hostname based on DNS resolution is unreliable.</p>\n\n<p>Since this question is unfortunately still relevant in <strong>2016</strong>, I'd like to share with you my network-independent solution, with some test runs on different systems.</p>\n\n<p>The following code tries to do the following:</p>\n\n<ul>\n<li><p>On Windows</p>\n\n<ol>\n<li><p>Read the <code>COMPUTERNAME</code> environment variable through <code>System.getenv()</code>.</p></li>\n<li><p>Execute <code>hostname.exe</code> and read the response</p></li>\n</ol></li>\n<li><p>On Linux</p>\n\n<ol>\n<li><p>Read the <code>HOSTNAME</code> environment variable through <code>System.getenv()</code></p></li>\n<li><p>Execute <code>hostname</code> and read the response</p></li>\n<li><p>Read <code>/etc/hostname</code> (to do this I'm executing <code>cat</code> since the snippet already contains code to execute and read. Simply reading the file would be better, though).</p></li>\n</ol></li>\n</ul>\n\n<p>The code:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n        String OS = System.getProperty(\"os.name\").toLowerCase();\n\n        if (OS.indexOf(\"win\") &gt;= 0) {\n            System.out.println(\"Windows computer name throguh env:\\\"\" + System.getenv(\"COMPUTERNAME\") + \"\\\"\");\n            System.out.println(\"Windows computer name through exec:\\\"\" + execReadToString(\"hostname\") + \"\\\"\");\n        } else {\n            if (OS.indexOf(\"nix\") &gt;= 0 || OS.indexOf(\"nux\") &gt;= 0) {\n                System.out.println(\"Linux computer name throguh env:\\\"\" + System.getenv(\"HOSTNAME\") + \"\\\"\");\n                System.out.println(\"Linux computer name through exec:\\\"\" + execReadToString(\"hostname\") + \"\\\"\");\n                System.out.println(\"Linux computer name through /etc/hostname:\\\"\" + execReadToString(\"cat /etc/hostname\") + \"\\\"\");\n            }\n        }\n    }\n\n    public static String execReadToString(String execCommand) throws IOException {\n        Process proc = Runtime.getRuntime().exec(execCommand);\n        try (InputStream stream = proc.getInputStream()) {\n            try (Scanner s = new Scanner(stream).useDelimiter(\"\\\\A\")) {\n                return s.hasNext() ? s.next() : \"\";\n            }\n        }\n    }\n</code></pre>\n\n<p>Results for different operating systems:</p>\n\n<p><strong>OpenSuse 13.1</strong></p>\n\n<pre><code>Linux computer name throguh env:\"machinename\"\nLinux computer name through exec:\"machinename\n\"\nLinux computer name through /etc/hostname:\"\"\n</code></pre>\n\n<p><strong>Ubuntu 14.04 LTS</strong> \nThis one is kinda strange since <code>echo $HOSTNAME</code> returns the correct hostname, but <code>System.getenv(\"HOSTNAME\")</code> does not:</p>\n\n<pre><code>Linux computer name through env:\"null\"\nLinux computer name through exec:\"machinename\n\"\nLinux computer name through /etc/hostname:\"machinename\n\"\n</code></pre>\n\n<p><strong>EDIT:</strong> According to <a href=\"http://stackoverflow.com/users/1773110/legolas108\">legolas108</a>, <code>System.getenv(\"HOSTNAME\")</code> works on Ubuntu 14.04 if you run <code>export HOSTNAME</code> before executing the Java code.</p>\n\n<p><strong>Windows 7</strong></p>\n\n<pre><code>Windows computer name through env:\"MACHINENAME\"\nWindows computer name through exec:\"machinename\n\"\n</code></pre>\n\n<p>The machine names have been replaced but I kept the capitalization and structure. Note the extra newline when executing <code>hostname</code>, you might have to take it into account in some cases.</p>\n", "title": "Recommended way to get hostname in Java", "tags": ["java", "network-programming", "environment-variables", "hostname"], "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java/28043703#28043703", "question_id": 7348711, "answer_id": 28043703}], "creation_date": 1315488037, "score": 171, "link": "http://stackoverflow.com/questions/7348711/recommended-way-to-get-hostname-in-java", "question_id": 7348711}, {"body": "<p>I upgraded from Java 1.6 to Java 1.7 today.\nSince then an error occur when I try to establish a connection to my webserver over SSL:</p>\n\n<pre><code>javax.net.ssl.SSLProtocolException: handshake alert:  unrecognized_name\n    at sun.security.ssl.ClientHandshaker.handshakeAlert(ClientHandshaker.java:1288)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1904)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1027)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1262)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1289)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1273)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:523)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1296)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at java.net.URL.openStream(URL.java:1035)\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>        SAXBuilder builder = new SAXBuilder();\n        Document document = null;\n\n        try {\n            url = new URL(https://some url);\n            document = (Document) builder.build(url.openStream());\n        } catch (NoSuchAlgorithmException ex) {\n            Logger.getLogger(DownloadLoadiciousComputer.class.getName()).log(Level.SEVERE, null, ex);  \n        }\n</code></pre>\n\n<p>Its only a test project thats why I allow and use untrusted certificates with the code:</p>\n\n<pre><code>        TrustManager[] trustAllCerts = new TrustManager[]{\n        new X509TrustManager() {\n\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n\n            public void checkClientTrusted(\n                    java.security.cert.X509Certificate[] certs, String authType) {\n            }\n\n            public void checkServerTrusted(\n                    java.security.cert.X509Certificate[] certs, String authType) {\n            }\n        }\n    };\n\n\n    try {\n\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n    } catch (Exception e) {\n\n        Logger.getLogger(DownloadManager.class.getName()).log(Level.SEVERE, null, e);\n    } \n</code></pre>\n\n<p>I sucessfully tried to connect to <a href=\"https://google.com\">https://google.com</a>.\nwhere is my fault?</p>\n\n<p>Thanks.</p>\n", "tags": ["java", "ssl"], "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "answers": [{"body": "<p>I had what I believe the same issue is.\nI found that I needed to adjust the Apache configuration to include a ServerName or ServerAlias for the host.</p>\n\n<p>This code failed:</p>\n\n<pre><code>public class a {\n   public static void main(String [] a) throws Exception {\n      java.net.URLConnection c = new java.net.URL(\"https://mydomain.com/\").openConnection();\n      c.setDoOutput(true);\n      c.getOutputStream();\n   }\n}\n</code></pre>\n\n<p>And this code worked:</p>\n\n<pre><code>public class a {\n   public static void main(String [] a) throws Exception {\n      java.net.URLConnection c = new java.net.URL(\"https://google.com/\").openConnection();\n      c.setDoOutput(true);\n      c.getOutputStream();\n   }\n}\n</code></pre>\n\n<p>Wireshark revealed that during the TSL/SSL Hello the warning\nAlert (Level: Warning, Description: Unrecognized Name), Server Hello\nWas being sent from the server to the client.\nIt was only a warning, however, Java 7.1 then responded immediately back with a \"Fatal, Description: Unexpected Message\", which I assume means the Java SSL libraries don't like to see the warning of unrecognized name.</p>\n\n<p>From the Wiki on Transport Layer Security (TLS):</p>\n\n<p>112 Unrecognized name   warning TLS only; client's Server Name Indicator specified a hostname not supported by the server</p>\n\n<p>This led me to look at my Apache config files and I found that if I added a ServerName or ServerAlias for the name sent from the client/java side, it worked correctly without any errors.</p>\n\n<pre><code>&lt;VirtualHost mydomain.com:443&gt;\n  ServerName mydomain.com\n  ServerAlias www.mydomain.com\n</code></pre>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/8058839#8058839", "question_id": 7615645, "answer_id": 8058839}, {"body": "<p>You can disable sending SNI records with the System property jsse.enableSNIExtension=false. </p>\n\n<p>If you can change the code it helps to use <code>SSLCocketFactory#createSocket()</code> (with no host parameter or with a connected socket). In this case it will not send a server_name indication.</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/8769768#8769768", "question_id": 7615645, "answer_id": 8769768}, {"body": "<p>You cannot supply system properties to the jarsigner.exe tool, unfortunately.</p>\n\n<p>I have submitted defect <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7177232\" rel=\"nofollow\">7177232</a>, referencing @eckes' defect <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7127374\" rel=\"nofollow\">7127374</a> and explaining why it was closed in error.</p>\n\n<p>My defect is specifically about the impact on the jarsigner tool, but perhaps it will lead them to reopening the other defect and addressing the issue properly.</p>\n\n<p><strong>UPDATE:</strong> Actually, it turns out that you CAN supply system properties to the Jarsigner tool, it's just not in the help message. Use <code>jarsigner -J-Djsse.enableSNIExtension=false</code></p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/11043871#11043871", "question_id": 7615645, "answer_id": 11043871}, {"body": "<p>Instead of relying on the default virtual host mechanism in apache, you can define one last catchall virtualhost that uses an arbitrary ServerName and a wildcard ServerAlias, e.g.</p>\n\n<pre><code>ServerName catchall.mydomain.com\nServerAlias *.mydomain.com\n</code></pre>\n\n<p>In that way you can use SNI and apache will not send back the SSL warning. </p>\n\n<p>Of course, this only works if you can describe all of your domains easily using a wildcard syntax.</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/13912228#13912228", "question_id": 7615645, "answer_id": 13912228}, {"body": "<p>Java 7 introduced SNI support which is enabled by default. I have found out that certain misconfigured servers send an \"Unrecognized Name\" warning in the SSL handshake which is ignored by most clients... except for Java. As <a href=\"http://stackoverflow.com/a/11043871/427545\">@Bob Kerns</a> mentioned, the Oracle engineers refuse to \"fix\" this bug/feature.</p>\n\n<p>As workaround, they suggest to set the <code>jsse.enableSNIExtension</code> property. To allow your programs to work without re-compiling, run your app as:</p>\n\n<pre><code>java -Djsse.enableSNIExtension=false yourClass\n</code></pre>\n\n<p>The property can also be set in the Java code, but it must be set <strong>before any SSL actions</strong>. Once the SSL library has loaded, you can change the property, but it <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/sun/security/ssl/ClientHandshaker.java/#91\"><strong>won't have any effect</strong> on the SNI status</a>. To disable SNI on runtime (with the aforementioned limitations), use:</p>\n\n<pre><code>System.setProperty(\"jsse.enableSNIExtension\", \"false\");\n</code></pre>\n\n<p>The disadvantage of setting this flag is that SNI is disabled everywhere in the application. In order to make use of SNI and still support misconfigured servers:</p>\n\n<ol>\n<li>Create a <code>SSLSocket</code> with the host name you want to connect to. Let's name this <code>sslsock</code>.</li>\n<li>Try to run <code>sslsock.startHandshake()</code>. This will block until it is done or throw an exception on error. Whenever an error occurred in <code>startHandshake()</code>, get the exception message. If it equals to <code>handshake alert:  unrecognized_name</code>, then you have found a misconfigured server.</li>\n<li>When you have received the <code>unrecognized_name</code> warning (fatal in Java), retry opening a <code>SSLSocket</code>, but this time without a host name. This effectively disables SNI (after all, the SNI extension is about adding a host name to the ClientHello message).</li>\n</ol>\n\n<p>For the Webscarab SSL proxy, <a href=\"https://github.com/Lekensteyn/OWASP-WebScarab/commit/8f2362eb021924cece9fb544f04bde5da7bfed4a\">this commit</a> implements the fall-back setup.</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/14884941#14884941", "question_id": 7615645, "answer_id": 14884941}, {"body": "<p>I hit the same problem and it turned out that reverse dns was not setup correct, it pointed to wrong hostname for the IP. After I correct reverse dns and restart httpd, the warning is gone.\n(if I don't correct reverse dns, adding ServerName did the trick for me as well)</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/19415438#19415438", "question_id": 7615645, "answer_id": 19415438}, {"body": "<p>I had the same problem with an Ubuntu Linux server running subversion when accessed via Eclipse.</p>\n\n<p>It has shown that the problem had to do with a warning when Apache (re)started:</p>\n\n<pre><code>[Mon Jun 30 22:27:10 2014] [warn] NameVirtualHost *:80 has no VirtualHosts\n\n... waiting [Mon Jun 30 22:27:11 2014] [warn] NameVirtualHost *:80 has no VirtualHosts\n</code></pre>\n\n<p>This has been due to a new entry in <code>ports.conf</code>, where another <code>NameVirtualHost</code> directive was entered alongside the directive in <code>sites-enabled/000-default</code>.</p>\n\n<p>After removing the directive in <code>ports.conf</code>, the problem had vanished (after restarting Apache, naturally)</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/24498783#24498783", "question_id": 7615645, "answer_id": 24498783}, {"body": "<p>The error: ' warning of unrecognized name', occurs when you access to the host without using www before the domain.\nThe URL must respect the name in the 'Issued to:' from SSL certificate.\nFor example, if 'Issued to'=www.mysite.com then URL must be: <a href=\"https://www.mysite.com/service\" rel=\"nofollow\">https://www.mysite.com/service</a></p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/25999656#25999656", "question_id": 7615645, "answer_id": 25999656}, {"body": "<p>It should be useful. To retry on a SNI error in Apache HttpClient 4.4 - the easiest way we came up with (see <a href=\"https://issues.apache.org/jira/browse/HTTPCLIENT-1522\" rel=\"nofollow\">HTTPCLIENT-1522</a>):</p>\n\n<pre><code>public class SniHttpClientConnectionOperator extends DefaultHttpClientConnectionOperator {\n\n    public SniHttpClientConnectionOperator(Lookup&lt;ConnectionSocketFactory&gt; socketFactoryRegistry) {\n        super(socketFactoryRegistry, null, null);\n    }\n\n    @Override\n    public void connect(\n            final ManagedHttpClientConnection conn,\n            final HttpHost host,\n            final InetSocketAddress localAddress,\n            final int connectTimeout,\n            final SocketConfig socketConfig,\n            final HttpContext context) throws IOException {\n        try {\n            super.connect(conn, host, localAddress, connectTimeout, socketConfig, context);\n        } catch (SSLProtocolException e) {\n            Boolean enableSniValue = (Boolean) context.getAttribute(SniSSLSocketFactory.ENABLE_SNI);\n            boolean enableSni = enableSniValue == null || enableSniValue;\n            if (enableSni &amp;&amp; e.getMessage() != null &amp;&amp; e.getMessage().equals(\"handshake alert:  unrecognized_name\")) {\n                TimesLoggers.httpworker.warn(\"Server received saw wrong SNI host, retrying without SNI\");\n                context.setAttribute(SniSSLSocketFactory.ENABLE_SNI, false);\n                super.connect(conn, host, localAddress, connectTimeout, socketConfig, context);\n            } else {\n                throw e;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class SniSSLSocketFactory extends SSLConnectionSocketFactory {\n\n    public static final String ENABLE_SNI = \"__enable_sni__\";\n\n    /*\n     * Implement any constructor you need for your particular application -\n     * SSLConnectionSocketFactory has many variants\n     */\n    public SniSSLSocketFactory(final SSLContext sslContext, final HostnameVerifier verifier) {\n        super(sslContext, verifier);\n    }\n\n    @Override\n    public Socket createLayeredSocket(\n            final Socket socket,\n            final String target,\n            final int port,\n            final HttpContext context) throws IOException {\n        Boolean enableSniValue = (Boolean) context.getAttribute(ENABLE_SNI);\n        boolean enableSni = enableSniValue == null || enableSniValue;\n        return super.createLayeredSocket(socket, enableSni ? target : \"\", port, context);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>cm = new PoolingHttpClientConnectionManager(new SniHttpClientConnectionOperator(socketFactoryRegistry), null, -1, TimeUnit.MILLISECONDS);\n</code></pre>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/28571582#28571582", "question_id": 7615645, "answer_id": 28571582}, {"body": "<p>I have also come across this issue whilst upgrading from Java 1.6_29 to 1.7.</p>\n\n<p>Alarmingly, my customer has discovered a setting in the Java control panel which resolves this.</p>\n\n<p>In the Advanced Tab you can check 'Use SSL 2.0 compatible ClientHello format'.</p>\n\n<p>This seems to resolve the issue.</p>\n\n<p>We are using Java applets in an Internet Explorer browser.</p>\n\n<p>Hope this helps.</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/30327063#30327063", "question_id": 7615645, "answer_id": 30327063}, {"body": "<p>We also ran into this error on a new Apache server build.</p>\n\n<p>The fix in our case was to define a <code>ServerAlias</code> in the <code>httpd.conf</code> that corresponded to the host name that Java was trying to connect to.  Our <code>ServerName</code> was set to the internal host name. Our SSL cert was using the external host name, but that was not sufficient to avoid the warning.</p>\n\n<p>To help debug, you can use this ssl command:</p>\n\n<p><code>openssl s_client -servername &lt;hostname&gt; -connect &lt;hostname&gt;:443 -state</code></p>\n\n<p>If there is a problem with that hostname, then it will print this message near the top of the output:</p>\n\n<p><code>SSL3 alert read: warning:unrecognized name</code></p>\n\n<p>I should also note that we did not get that error when using that command to connect to the internal host name, even though it did not match the SSL cert. </p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/31118255#31118255", "question_id": 7615645, "answer_id": 31118255}, {"body": "<p>Ran into this issue with <strong>spring boot</strong> and jvm 1.7 and 1.8. On AWS, we did not have the option to change the ServerName and ServerAlias to match (they are different) so we did the following:</p>\n\n<p>In <strong>build.gradle</strong> we added the following:</p>\n\n<pre><code>System.setProperty(\"jsse.enableSNIExtension\", \"false\")\nbootRun.systemProperties = System.properties\n</code></pre>\n\n<p>That allowed us to bypass the issue with the \"Unrecognized Name\".</p>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/32145404#32145404", "question_id": 7615645, "answer_id": 32145404}, {"body": "<p>Use:</p>\n\n<ul>\n<li>System.setProperty(\"jsse.enableSNIExtension\", \"false\");</li>\n<li><strong>Restart your Tomcat (important)</strong></li>\n</ul>\n", "title": "SSL handshake alert: unrecognized_name error since upgrade to Java 1.7.0", "tags": ["java", "ssl"], "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0/32434385#32434385", "question_id": 7615645, "answer_id": 32434385}], "creation_date": 1317413919, "score": 167, "link": "http://stackoverflow.com/questions/7615645/ssl-handshake-alert-unrecognized-name-error-since-upgrade-to-java-1-7-0", "question_id": 7615645}, {"body": "<p>Let's look at the simple Java code in the following snippet:</p>\n\n<pre><code>public class Main {\n\n    private int temp() {\n        return true ? null : 0;\n        // No compiler error - the compiler allows a return value of null\n        // in a method signature that returns an int.\n    }\n\n    private int same() {\n        if (true) {\n            return null;\n            // The same is not possible with if,\n            // and causes a compile-time error - incompatible types.\n        } else {\n            return 0;\n        }\n    }\n\n    public static void main(String[] args) {\n        Main m = new Main();\n        System.out.println(m.temp());\n        System.out.println(m.same());\n    }\n}\n</code></pre>\n\n<p>In this simplest of Java code, the <code>temp()</code> method issues no compiler error even though the return type of the function is <code>int</code>, and we are trying to return the value <code>null</code> (through the statement <code>return true ? null : 0;</code>). When compiled, this obviously causes the run time exception <code>NullPointerException</code>. </p>\n\n<p>However, it appears that the same thing is wrong if we represent the ternary operator with an <code>if</code> statement (as in the <code>same()</code> method), which <em>does</em> issue a compile-time error! Why?</p>\n", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "title": "Tricky ternary operator in Java - autoboxing", "answers": [{"body": "<p>I think, the Java compiler interprets <code>true ? null : 0</code> as an <code>Integer</code> expression, which can be implicitly converted to <code>int</code>, possibly giving <code>NullPointerException</code>.</p>\n\n<p>For the second case, the expression <code>null</code> is of the special <em>null type</em> <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25-300-A\" rel=\"nofollow\">see</a>, so the code <code>return null</code> makes type mismatch.</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8098975#8098975", "question_id": 8098953, "answer_id": 8098975}, {"body": "<p>The compiler interprets <code>null</code> as a null reference to an <code>Integer</code>, applies the autoboxing/unboxing rules for the conditional operator (as described in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\">Java Language Specification, 15.25</a>), and moves happily on. This will generate a <code>NullPointerException</code> at run time, which you can confirm by trying it.</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8099021#8099021", "question_id": 8098953, "answer_id": 8099021}, {"body": "<p>Actually, its all explained in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25-300-A\">Java Language Specification</a>.</p>\n\n<blockquote>\n  <p>The type of a conditional expression is determined as follows:</p>\n  \n  <ul>\n  <li>If the second and third operands have the same type (which may be the null type), then that is the type of the conditional expression.</li>\n  </ul>\n</blockquote>\n\n<p>Therefore the \"null\" in your <code>(true ? null : 0)</code> gets an int type and then is autoboxed to Integer. </p>\n\n<p>Try something like this to verify this <code>(true ? null : null)</code> and you will get the compiler error.</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8099170#8099170", "question_id": 8098953, "answer_id": 8099170}, {"body": "<p>In the case of the <code>if</code> statement, the <code>null</code> reference is not treated as an <code>Integer</code> reference because it is not participating in an <em>expression</em> that forces it to be interpreted as such. Therefore the error can be readily caught at compile-time because it is more clearly a <em>type</em> error.</p>\n\n<p>As for the conditional operator, the Java Language Specification \u00a715.25 \u201cConditional Operator <code>? :</code>\u201d answers this nicely in the rules for how type conversion is applied:</p>\n\n<blockquote>\n  <ul>\n  <li>If the second and third operands have the same type (which may be the null\n  type), then that is the type of the conditional expression.<br/><br/>\n  <strong>Does not apply because <code>null</code> is not <code>int</code>.</strong></li>\n  </ul>\n  \n  <hr>\n  \n  <ul>\n  <li>If one of the second and third operands is of type boolean and the type of the\n  other is of type Boolean, then the type of the conditional expression is boolean.<br/><br/>\n  <strong>Does not apply because neither <code>null</code> nor <code>int</code> is <code>boolean</code> or <code>Boolean</code>.</strong></li>\n  </ul>\n  \n  <hr>\n  \n  <ul>\n  <li>If one of the second and third operands is of the null type and the type of the\n  other is a reference type, then the type of the conditional expression is that\n  reference type.<br/><br/>\n  <strong>Does not apply because <code>null</code> is of the null type, but <code>int</code> is not a reference type.</strong></li>\n  </ul>\n  \n  <hr>\n  \n  <ul>\n  <li>Otherwise, if the second and third operands have types that are convertible\n  (\u00a75.1.8) to numeric types, then there are several cases: [\u2026]<br/><br/>\n  <strong>Applies: <code>null</code> is treated as convertible to a numeric type, and is defined in \u00a75.1.8 \u201cUnboxing Conversion\u201d to throw a <code>NullPointerException</code>.</strong></li>\n  </ul>\n</blockquote>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8099724#8099724", "question_id": 8098953, "answer_id": 8099724}, {"body": "<p>The first thing to keep in mind is that Java ternary operators have a \"type\", and that this is what the compiler will determine and consider no matter what the actual/real types of the second or third parameter are. Depending on several factors the ternary operator type is determined in different ways as illustrated in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25-300-E\" rel=\"nofollow\">Java Language Specification 15.26</a></p>\n\n<p>In the question above we should consider the last case:</p>\n\n<blockquote>\n  <p>Otherwise, the second and third operands are of types <em>S1</em> and <em>S2</em> respectively. Let <em>T1</em> be the type that results from applying boxing conversion to <em>S1</em>, and let <em>T2</em> be the type that results from applying boxing conversion to <em>S2</em>. The type of the conditional expression is the result of applying capture conversion (\u00a75.1.10) to <em>lub(T1, T2)</em> (\u00a715.12.2.7).</p>\n</blockquote>\n\n<p>This is by far the most complex case once you take a look at <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.10\" rel=\"nofollow\">applying capture conversion (\u00a75.1.10)</a> and most of all at <em><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.7\" rel=\"nofollow\">lub(T1, T2)</a></em>.</p>\n\n<p>In plain English and after an extreme simplification we can describe the process as calculating the \"Least Common Superclass\" (yes, think of the LCM) of the second and third parameters. This will give us the ternary operator \"type\". Again, what I just said is an extreme simplification (consider classes that implement multiple common interfaces).</p>\n\n<p>For example, if you try the following:</p>\n\n<pre><code>long millis = System.currentTimeMillis();\nreturn(true ? new java.sql.Timestamp(millis) : new java.sql.Time(millis));\n</code></pre>\n\n<p>You'll notice that resulting type of the conditional expression is <code>java.util.Date</code> since it's the \"Least Common Superclass\" for the <code>Timestamp</code>/<code>Time</code> pair.</p>\n\n<p>Since <code>null</code> can be autoboxed to anything, the \"Least Common Superclass\" is the <code>Integer</code> class and this will be the return type of the conditional expression (ternary operator) above. The return value will then be a null pointer of type <code>Integer</code> and that is what will be returned by the ternary operator.</p>\n\n<p>At runtime, when the Java Virtual Machine unboxes the <code>Integer</code> a <code>NullPointerException</code> is thrown. This happens because the JVM attempts to invoke the function <code>null.intValue()</code>, where <code>null</code> is the result of autoboxing.</p>\n\n<p>In my opinion (and since my opinion is not in the Java Language Specification many people will find it wrong anyway) the compiler does a poor job in evaluating the expression in your question. Given that you wrote <code>true ? param1 : param2</code> the compiler should determine right away that the first parameter -<code>null</code>- will be returned and it should generate a compiler error. This is somewhat similar to when you write <code>while(true){} etc...</code> and the compiler complains about the code underneath the loop and flags it with <code>Unreachable Statements</code>.</p>\n\n<p>Your second case is pretty straightforward and this answer is already too long... ;)</p>\n\n<p><strong>CORRECTION:</strong></p>\n\n<p>After another analysis I believe that I was wrong to say that a <code>null</code> value can be boxed/autoboxed to anything. Talking about the class Integer, explicit boxing consists in invoking the <code>new Integer(...)</code> constructor or maybe the <code>Integer.valueOf(int i);</code> (I found this version somewhere). The former would throw a <code>NumberFormatException</code> (and this does not happen) while the second would just not make sense since an <code>int</code> cannot be <code>null</code>...</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8103083#8103083", "question_id": 8098953, "answer_id": 8103083}, {"body": "<p>Actually, in the first case the expression can be evaluated, since the compiler knows, that it must be evaluated as an <code>Integer</code>, however in the second case the type of the return value (<code>null</code>) can not be determined, so it can not be compiled. If you cast it to <code>Integer</code>, the code will compile.</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/8142516#8142516", "question_id": 8098953, "answer_id": 8142516}, {"body": "<pre><code>private int temp() {\n\n    if (true) {\n        Integer x = null;\n        return x;// since that is fine because of auto-boxing then the returned value could be null\n        //in other words I can say x could be null or new Integer(intValue) or a intValue\n    }\n\n    return (true ? null : 0);  //this will be prefectly legal null would be refrence to Integer. The concept is one the returned\n    //value can be Integer \n    // then null is accepted to be a variable (-refrence variable-) of Integer\n}\n</code></pre>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/20504962#20504962", "question_id": 8098953, "answer_id": 20504962}, {"body": "<p>How about this:</p>\n\n<pre><code>public class ConditionalExpressionType {\n\n    public static void main(String[] args) {\n\n        String s = \"\";\n        s += (true ? 1 : \"\") instanceof Integer;\n        System.out.println(s);\n\n        String t = \"\";\n        t += (!true ? 1 : \"\") instanceof String;\n        System.out.println(t);\n\n    }\n\n}\n</code></pre>\n\n<p>The output is true, true.</p>\n\n<p>Eclipse color codes the 1 in the conditional expression as autoboxed.</p>\n\n<p>My guess is the compiler is seeing the return type of the expression as Object.</p>\n", "title": "Tricky ternary operator in Java - autoboxing", "tags": ["java", "nullpointerexception", "conditional-operator", "autoboxing"], "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing/39398979#39398979", "question_id": 8098953, "answer_id": 39398979}], "creation_date": 1321039838, "score": 165, "link": "http://stackoverflow.com/questions/8098953/tricky-ternary-operator-in-java-autoboxing", "question_id": 8098953}, {"body": "<p>I've noticed this pattern in a lot of Android apps and games recently: when clicking the back button to \"exit\" the application, a <code>Toast</code> comes up with a message similar to \"Please click BACK again to exit\".</p>\n\n<p>I was wondering, as I'm seeing it more and more often, is that a built-in feature that you can somehow access in an activity? I've looked at the source code of many classes but I can't seem to find anything about that.</p>\n\n<p>Of course, I can think about a few ways to achieve the same functionality quite easily (the easiest is probably to keep a boolean in the activity that indicates whether the user already clicked once...) but I was wondering if there's something already here.</p>\n\n<p><strong>EDIT</strong>: As @LAS_VEGAS mentioned, I didn't really mean \"exit\" in the traditional meaning. (i.e. terminated) I meant \"going back to whatever was open before the application start activity was launched\", if that makes sense :)</p>\n", "tags": ["java", "android", "back-button"], "title": "Clicking the back button twice to exit an activity", "answers": [{"body": "<p>It's not a built in functionality. I think it is not even the recommended behavior. Android apps are not meant to exit:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2439978/why-dont-android-applications-provide-an-exit-option\">Why dont Android applications provide an &quot;Exit&quot; option?</a></p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/8430830#8430830", "question_id": 8430805, "answer_id": 8430830}, {"body": "<p>Just thought I would share how I did it in the end, I just added in my activity:</p>\n\n<pre><code>private boolean doubleBackToExitPressedOnce = false;\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    // .... other stuff in my onResume ....\n    this.doubleBackToExitPressedOnce = false;\n}\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, R.string.exit_press_back_twice_message, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>And it just works exactly as I want. Including the reset of the state whenever the activity is resumed.</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/8439119#8439119", "question_id": 8430805, "answer_id": 8439119}, {"body": "<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;                       \n        }\n    }, 2000);\n} \n</code></pre>\n\n<p>I Think this handler helps to reset the variable after 2 second.</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/13578600#13578600", "question_id": 8430805, "answer_id": 13578600}, {"body": "<p><strong>Process Flow Diagram:</strong>\n<img src=\"http://i.stack.imgur.com/N1Ztl.png\" alt=\"Press again to exit.\"></p>\n\n<p><strong>Java Code:</strong></p>\n\n<pre><code>private long lastPressedTime;\nprivate static final int PERIOD = 2000;\n\n@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    if (event.getKeyCode() == KeyEvent.KEYCODE_BACK) {\n        switch (event.getAction()) {\n        case KeyEvent.ACTION_DOWN:\n            if (event.getDownTime() - lastPressedTime &lt; PERIOD) {\n                finish();\n            } else {\n                Toast.makeText(getApplicationContext(), \"Press again to exit.\",\n                        Toast.LENGTH_SHORT).show();\n                lastPressedTime = event.getEventTime();\n            }\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/14079705#14079705", "question_id": 8430805, "answer_id": 14079705}, {"body": "<p>I know this is a very old question, but this is the easiest way to do what you want.</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n   ++k; //initialise k when you first start your activity.\n   if(k==1){\n      //do whatever you want to do on first click for example:\n      Toast.makeText(this, \"Press back one more time to exit\", Toast.LENGTH_LONG);\n   }else{\n      //do whatever you want to do on the click after the first for example:\n      finish(); \n   }\n}\n</code></pre>\n\n<p>I know this isn't the best method, but it works fine!</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/16098431#16098431", "question_id": 8430805, "answer_id": 16098431}, {"body": "<p>Based upon the correct answer and suggestions in comments, I have created a demo which works absolutely fine and removes the handler callbacks after being used.</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>package com.mehuljoisar.d_pressbacktwicetoexit;\n\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.app.Activity;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity {\n\n    private static final long delay = 2000L;\n    private boolean mRecentlyBackPressed = false;\n    private Handler mExitHandler = new Handler();\n    private Runnable mExitRunnable = new Runnable() {\n\n        @Override\n        public void run() {\n            mRecentlyBackPressed=false;   \n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        //You may also add condition if (doubleBackToExitPressedOnce || fragmentManager.getBackStackEntryCount() != 0) // in case of Fragment-based add\n        if (mRecentlyBackPressed) {\n            mExitHandler.removeCallbacks(mExitRunnable);\n            mExitHandler = null;\n            super.onBackPressed();\n        }\n        else\n        {\n            mRecentlyBackPressed = true;\n            Toast.makeText(this, \"press again to exit\", Toast.LENGTH_SHORT).show();\n            mExitHandler.postDelayed(mExitRunnable, delay);\n        }\n    }\n\n}\n</code></pre>\n\n<p>I hope it will be helpful !!</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/21522048#21522048", "question_id": 8430805, "answer_id": 21522048}, {"body": "<p><a href=\"http://stackoverflow.com/questions/8430805/android-clicking-twice-the-back-button-to-exit-activity/13578600#13578600\">Sudheesh B Nair</a>'s has a nice (and accepted) answer on the question, which i think should have a better alternative such as;</p>\n\n<p>What's wrong with measuring time passed and checking if <code>TIME_INTERVAL</code> miliseconds (say 2000) passed since the last back press. The following sample code uses <code>System.currentTimeMillis();</code> to store the time <code>onBackPressed()</code> is called;</p>\n\n<pre><code>private static final int TIME_INTERVAL = 2000; // # milliseconds, desired time passed between two back presses.\nprivate long mBackPressed;\n\n@Override\npublic void onBackPressed()\n{\n    if (mBackPressed + TIME_INTERVAL &gt; System.currentTimeMillis()) \n    { \n        super.onBackPressed(); \n        return;\n    }\n    else { Toast.makeText(getBaseContext(), \"Tap back button in order to exit\", Toast.LENGTH_SHORT).show(); }\n\n    mBackPressed = System.currentTimeMillis();\n}\n</code></pre>\n\n<hr>\n\n<p>Back on accepted answer <em>critique</em>; Using a <strong><code>flag</code></strong> to indicate if it was pressed in last <code>TIME_INTERVAL</code> (say 2000) milliseconds and <em>set - reset</em> is via <code>Handler</code>'s <code>postDelayed()</code> method was the first thing to come in my mind. But the <code>postDelayed()</code> action should be cancelled when activity is closing, removing the <code>Runnable</code>.</p>\n\n<p>In order to remove the <code>Runnable</code>, it must not be declared <em>anonymous</em>, and be declared as member along with the <code>Handler</code> aswell. Then <code>removeCallbacks()</code> method of <code>Handler</code> can be called appropriately.</p>\n\n<p>The following sample is the demonstration;</p>\n\n<pre><code>private boolean doubleBackToExitPressedOnce;\nprivate Handler mHandler = new Handler();\n\nprivate final Runnable mRunnable = new Runnable() {\n    @Override\n    public void run() {\n        doubleBackToExitPressedOnce = false;                       \n    }\n};\n\n@Override \nprotected void onDestroy() \n{ \n    super.onDestroy();\n\n    if (mHandler != null) { mHandler.removeCallbacks(mRunnable); }\n}\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    mHandler.postDelayed(mRunnable, 2000);\n}\n</code></pre>\n\n<hr>\n\n<p>Thanks to @NSouth for contributing; In order to prevent <em>toast message</em> appearing even after the application is closed, <code>Toast</code> can be declared as a member - say <code>mExitToast</code> - and can be cancelled via <code>mExitToast.cancel();</code> just before <code>super.onBackPressed();</code> call.</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/22332291#22332291", "question_id": 8430805, "answer_id": 22332291}, {"body": "<pre><code>@Override public void onBackPressed() {\n   Log.d(\"CDA\", \"onBackPressed Called\");\n   Intent intent = new Intent();\n   intent.setAction(Intent.ACTION_MAIN);\n   intent.addCategory(Intent.CATEGORY_HOME);\n\n   startActivity(intent);\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/22626586#22626586", "question_id": 8430805, "answer_id": 22626586}, {"body": "<p><a href=\"http://stackoverflow.com/a/22332291/1039555\">Zefnus</a>'s answer using System.currentTimeMillis() is the best one (+1). The way I did it is <strong>not</strong> better than that, but still posting it to add to the above ideas.</p>\n\n<p>If the toast is not visible when the back button is pressed, the toast is displayed, whereas, if it is visible (back has already been pressed once within the last <code>Toast.LENGTH_SHORT</code> time), then it exits.</p>\n\n<pre><code>exitToast = Toast.makeText(this, \"Press again to exit\", Toast.LENGTH_SHORT);\n.\n.\n@Override\npublic void onBackPressed() {\n   if (exitToast.getView().getWindowToken() == null) //if toast is currently not visible\n      exitToast.show();  //then show toast saying 'press againt to exit'\n   else {                                            //if toast is visible then\n      finish();                                      //or super.onBackPressed();\n      exitToast.cancel();\n   }\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/23126219#23126219", "question_id": 8430805, "answer_id": 23126219}, {"body": "<p>There is very simplest way among all these answers.</p>\n\n<p>Simply write following code inside <code>onBackPressed()</code> method.</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    if (back_pressed + 1000 &gt; System.currentTimeMillis()){\n        super.onBackPressed();\n    }\n    else{\n        Toast.makeText(getBaseContext(),\n                \"Press once again to exit!\", Toast.LENGTH_SHORT)\n                .show();\n    }\n    back_pressed = System.currentTimeMillis();\n}\n</code></pre>\n\n<p>You need to define <code>back_pressed</code> object as <code>long</code> in activity.</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/23842058#23842058", "question_id": 8430805, "answer_id": 23842058}, {"body": "<p>Recently, I needed to implement this back button feature in an app of mine. The answers on the original question were useful, but I had to take two more points into consideration:</p>\n\n<ol>\n<li>At some points in time, the back button is disabled</li>\n<li>The main activity is using fragments in combination with a back stack</li>\n</ol>\n\n<p>Based on the answers and comments, I created the following code:</p>\n\n<pre><code>private static final long BACK_PRESS_DELAY = 1000;\n\nprivate boolean mBackPressCancelled = false;\nprivate long mBackPressTimestamp;\nprivate Toast mBackPressToast;\n\n@Override\npublic void onBackPressed() {\n    // Do nothing if the back button is disabled.\n    if (!mBackPressCancelled) {\n        // Pop fragment if the back stack is not empty.\n        if (getSupportFragmentManager().getBackStackEntryCount() &gt; 0) {\n            super.onBackPressed();\n        } else {\n            if (mBackPressToast != null) {\n                mBackPressToast.cancel();\n            }\n\n            long currentTimestamp = System.currentTimeMillis();\n\n            if (currentTimestamp &lt; mBackPressTimestamp + BACK_PRESS_DELAY) {\n                super.onBackPressed();\n            } else {\n                mBackPressTimestamp = currentTimestamp;\n\n                mBackPressToast = Toast.makeText(this, getString(R.string.warning_exit), Toast.LENGTH_SHORT);\n                mBackPressToast.show();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The code above assumes that the support library is used. If you use fragments but not the support library, you want to replace <code>getSupportFragmentManager()</code> by <code>getFragmentManager()</code>.</p>\n\n<p>Remove the first <code>if</code>, if the back button is never cancelled. Remove the second <code>if</code>, if you don`t use fragments or a fragment back stack</p>\n\n<p>Also, it is important to be aware that the method <code>onBackPressed</code> is supported since Android 2.0. Check <a href=\"http://android-developers.blogspot.co.uk/2009/12/back-and-other-hard-keys-three-stories.html\" rel=\"nofollow\">this page</a> for an elaborate description. To make the back press feature work on older versions as well, add the following method to your activity:</p>\n\n<pre><code>@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event)  {\n    if (android.os.Build.VERSION.SDK_INT &lt; android.os.Build.VERSION_CODES.ECLAIR\n            &amp;&amp; keyCode == KeyEvent.KEYCODE_BACK\n            &amp;&amp; event.getRepeatCount() == 0) {\n        // Take care of calling this method on earlier versions of\n        // the platform where it doesn't exist.\n        onBackPressed();\n    }\n\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/26992953#26992953", "question_id": 8430805, "answer_id": 26992953}, {"body": "<p>It is not a good idea to use a Runnable when exit the application, I recently figure out a much simpler way to record and compare the period between two BACK button clicks. Sample code as following:</p>\n\n<pre><code>private static long back_pressed_time;\nprivate static long PERIOD = 2000;\n\n@Override\npublic void onBackPressed()\n{\n        if (back_pressed_time + PERIOD &gt; System.currentTimeMillis()) super.onBackPressed();\n        else Toast.makeText(getBaseContext(), \"Press once again to exit!\", Toast.LENGTH_SHORT).show();\n        back_pressed_time = System.currentTimeMillis();\n}\n</code></pre>\n\n<p>This will do the trick  to exit the application  by a double BACK button clicks within a certain delay period which is 2000 millisecond in sample.</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/28076289#28076289", "question_id": 8430805, "answer_id": 28076289}, {"body": "<pre><code> public void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;\n        }\n    }, 2000);\n</code></pre>\n\n<p><strong>Declare Variable</strong><code>private boolean doubleBackToExitPressedOnce = false;</code></p>\n\n<blockquote>\n  <p>Paste this in your Main Activity and this will solve your issue</p>\n</blockquote>\n\n<p>`</p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/30211914#30211914", "question_id": 8430805, "answer_id": 30211914}, {"body": "<p>The Accepted answer is Best one but if you are using <strong><a href=\"http://android-developers.blogspot.in/2015/05/android-design-support-library.html\" rel=\"nofollow\"><code>Android Design Support Library</code></a></strong> then you can use <code>SnackBar</code> for Better Views. </p>\n\n<pre><code>   boolean doubleBackToExitPressedOnce = false;\n\n    @Override\n    public void onBackPressed() {\n        if (doubleBackToExitPressedOnce) {\n            super.onBackPressed();\n            return;\n        }\n\n        this.doubleBackToExitPressedOnce = true;\n\n        Snackbar.make(findViewById(R.id.photo_album_parent_view), \"Please click BACK again to exit\", Snackbar.LENGTH_SHORT).show();\n\n        new Handler().postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n                doubleBackToExitPressedOnce=false;\n            }\n        }, 2000);\n    }\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/34267572#34267572", "question_id": 8430805, "answer_id": 34267572}, {"body": "<ol>\n<li>Declare a global Toast variable for MainActivity Class. example: Toast exitToast;</li>\n<li>Initialize it in onCreate view method. example:\n exitToast = Toast.makeText(getApplicationContext(), \"Press back again to  exit\", Toast.LENGTH_SHORT);</li>\n<li><p>Finally create a onBackPressedMethod as Follows:</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n\n    if (exitToast.getView().isShown()) {\n        exitToast.cancel();\n        finish();\n    } else {\n        exitToast.show();\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>This works correctly, i have tested. and I think this is much simpler. </p>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/36551919#36551919", "question_id": 8430805, "answer_id": 36551919}, {"body": "<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        super.onBackPressed();\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n\n    Snackbar.make(findViewById(R.id.photo_album_parent_view), \"Please click BACK again to exit\", Snackbar.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;\n        }\n    }, 2000);\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/37099448#37099448", "question_id": 8430805, "answer_id": 37099448}, {"body": "<p>For this purpose I have implemented the following function:</p>\n\n<pre><code>private long onRecentBackPressedTime;\n@Override\npublic void onBackPressed() {\n    if (System.currentTimeMillis() - onRecentBackPressedTime &gt; 2000) {\n       onRecentBackPressedTime = System.currentTimeMillis();\n       Toast.makeText(this, \"Please press BACK again to exit\", Toast.LENGTH_SHORT).show();\n       return;\n     }\n   super.onBackPressed();\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/37476919#37476919", "question_id": 8430805, "answer_id": 37476919}, {"body": "<p>Some Improvements in Sudheesh B Nair's answer, i have noticed it will wait for handler even while pressing back twice immediately, so cancel handler as shown below. I have cancled toast also to prevent it to display after app exit.</p>\n\n<pre><code> boolean doubleBackToExitPressedOnce = false;\n        Handler myHandler;\n        Runnable myRunnable;\n        Toast myToast;\n\n    @Override\n        public void onBackPressed() {\n            if (doubleBackToExitPressedOnce) {\n                myHandler.removeCallbacks(myRunnable);\n                myToast.cancel();\n                super.onBackPressed();\n                return;\n            }\n\n            this.doubleBackToExitPressedOnce = true;\n            myToast = Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT);\n            myToast.show();\n\n            myHandler = new Handler();\n\n            myRunnable = new Runnable() {\n\n                @Override\n                public void run() {\n                    doubleBackToExitPressedOnce = false;\n                }\n            };\n            myHandler.postDelayed(myRunnable, 2000);\n        }\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/37495838#37495838", "question_id": 8430805, "answer_id": 37495838}, {"body": "<p>A slightly better method than <a href=\"http://stackoverflow.com/a/22332291/5082855\">Zefnus</a> I think. Call System.currentTimeMillis() just one time and omit <code>return;</code> :</p>\n\n<pre><code>long previousTime;\n\n@Override\npublic void onBackPressed()\n{\n    if (2000 + previousTime &gt; (previousTime = System.currentTimeMillis())) \n    { \n        super.onBackPressed();\n    } else {\n        Toast.makeText(getBaseContext(), \"Tap back button in order to exit\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/37969638#37969638", "question_id": 8430805, "answer_id": 37969638}, {"body": "<p>This is also help when you have previous stack activity store in stack. </p>\n\n<p>i modified the Sudheesh's Answer </p>\n\n<pre><code>boolean doubleBackToExitPressedOnce = false;\n\n@Override\npublic void onBackPressed() {\n    if (doubleBackToExitPressedOnce) {\n        //super.onBackPressed();\n\n  Intent intent = new Intent(Intent.ACTION_MAIN);\n                    intent.addCategory(Intent.CATEGORY_HOME);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);//***Change Here***\n                    startActivity(intent);\n                    finish();\n                    System.exit(0);\n        return;\n    }\n\n    this.doubleBackToExitPressedOnce = true;\n    Toast.makeText(this, \"Please click BACK again to exit\", Toast.LENGTH_SHORT).show();\n\n    new Handler().postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            doubleBackToExitPressedOnce=false;                       \n        }\n    }, 2000);\n} \n</code></pre>\n", "title": "Clicking the back button twice to exit an activity", "tags": ["java", "android", "back-button"], "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity/38896053#38896053", "question_id": 8430805, "answer_id": 38896053}], "creation_date": 1323346129, "score": 163, "link": "http://stackoverflow.com/questions/8430805/clicking-the-back-button-twice-to-exit-an-activity", "question_id": 8430805}, {"body": "<p>I'm just wondering why we usually use logical OR <code>||</code> between two booleans not bitwise OR <code>|</code>, though they are both working well.</p>\n\n<p>I mean, look at the following:</p>\n\n<pre><code>if(true  | true)  // pass\nif(true  | false) // pass\nif(false | true)  // pass\nif(false | false) // no pass\n</code></pre>\n\n\n\n<pre><code>if(true  || true)  // pass\nif(true  || false) // pass\nif(false || true)  // pass\nif(false || false) // no pass\n</code></pre>\n\n<p>Can we use <code>|</code> instead of <code>||</code>? Same thing with <code>&amp;</code> and <code>&amp;&amp;</code>.</p>\n", "tags": ["java", "bitwise-operators"], "title": "Why do we usually use `||` not `|`, what is the difference?", "answers": [{"body": "<pre><code>| is the binary or operator\n\n|| is the logic or operator\n</code></pre>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96693#96693", "question_id": 7101992, "answer_id": 96693}, {"body": "<p>| = bitwise or, || = logic or</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96696#96696", "question_id": 7101992, "answer_id": 96696}, {"body": "<p>|| is a logical or and | is a bit-wise or.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96699#96699", "question_id": 7101992, "answer_id": 96699}, {"body": "<p><a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow\">Java operators</a></p>\n\n<p>| is bitwise or, || is logical or.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96702#96702", "question_id": 7101992, "answer_id": 96702}, {"body": "<p>Take a look at:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow\">http://java.sun.com/docs/books/tutorial/java/nutsandbolts/operators.html</a></p>\n\n<p>| is bitwise inclusive OR</p>\n\n<p>|| is logical OR</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96707#96707", "question_id": 7101992, "answer_id": 96707}, {"body": "<p>| is a bitwise operator. || is a logical operator.</p>\n\n<p>One will take two bits and or them.</p>\n\n<p>One will determine truth (this OR that) If this is true or that is true, then the answer is true.</p>\n\n<p>Oh, and dang people answer these questions fast.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96708#96708", "question_id": 7101992, "answer_id": 96708}, {"body": "<p>|| is the logical or operator while | is the bitwise or operator.</p>\n\n<pre><code>boolean a = true;\nboolean b = false;\n\nif (a || b) {\n}\n\nint a = 0x0001;\na = a | 0x0002;\n</code></pre>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96713#96713", "question_id": 7101992, "answer_id": 96713}, {"body": "<p><code>|</code> does not do short-circuit evaluation in boolean expressions. <code>||</code> will stop evaluating if the first operand is true, but <code>|</code> won't.</p>\n\n<p>In addition, <code>|</code> can be used to perform the bitwise-OR operation on byte/short/int/long values. <code>||</code> cannot.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96722#96722", "question_id": 7101992, "answer_id": 96722}, {"body": "<p>In Addition to the fact that | is a bitwise-operator: || is a short-circuit operator - when one element is false, it will not check the others.</p>\n\n<pre><code> if(something || someotherthing)\n if(something | someotherthing)\n</code></pre>\n\n<p>if something is TRUE, || will not evaluate someotherthing, while | will do. If the variables in your if-statements are actually function calls, using || is possibly saving a lot of performance.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96731#96731", "question_id": 7101992, "answer_id": 96731}, {"body": "<p>|| returns a boolean value by OR'ing two values (Thats why its known as a LOGICAL or)</p>\n\n<p>IE:</p>\n\n<pre><code>if (A || B)\n</code></pre>\n\n<p>Would return true if either A or B is true, or false if they are both false.</p>\n\n<p>| is an operator that performs a bitwise operation on two values. To better understand bitwise operations, you can read here:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Bitwise_operation</a></p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/96737#96737", "question_id": 7101992, "answer_id": 96737}, {"body": "<p>a | b: evaluate b in <strong>any</strong> case</p>\n\n<p>a || b: evaluate b <strong>only if</strong> a evaluates to false</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/101003#101003", "question_id": 7101992, "answer_id": 101003}, {"body": "<p>A side note: Java has |= but not an ||=</p>\n\n<p>An example of when you must use || is when the first expression is a test to see if the second expression would blow up. e.g. Using a single | in hte following case could result in an NPE.</p>\n\n<pre><code>public static boolean isNotSet(String text) {\n   return text == null || text.length() == 0;\n}\n</code></pre>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/3559745#3559745", "question_id": 7101992, "answer_id": 3559745}, {"body": "<p>If you use the <code>||</code> and <code>&amp;&amp;</code> forms, rather than the <code>|</code> and <code>&amp;</code> forms of these operators, Java will not bother to evaluate the right-hand operand alone.</p>\n\n<p>It's a matter of if you want to short-circuit the evaluation or not -- <em>most</em> of the time you want to.</p>\n\n<p>A good way to illustrate the benefits of short-circuiting would be to consider the following example.</p>\n\n<pre><code>Boolean b = true;\nif(b || foo.timeConsumingCall())\n{\n   //we entered without calling timeConsumingCall()\n}\n</code></pre>\n\n<p>Another benefit, as Jeremy and Peter mentioned, for short-circuiting is the null reference check: </p>\n\n<pre><code>if(string != null &amp;&amp; string.isEmpty())\n{\n    //we check for string being null before calling isEmpty()\n}\n</code></pre>\n\n<p><a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=65\">more info</a></p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7102013#7102013", "question_id": 7101992, "answer_id": 7102013}, {"body": "<p>Logical <code>||</code> and <code>&amp;&amp;</code> check the right hand side only if necessary. The <code>|</code> and <code>&amp;</code> check both all the time.</p>\n\n<p>For example:</p>\n\n<pre><code>int i = 12;\nif (i == 10 &amp; i &lt; 9) // It will check if i == 10 and if i &lt; 9\n...\n</code></pre>\n\n<p>Rewrite it:</p>\n\n<pre><code>int i = 12;\nif (i == 10 &amp;&amp; i &lt; 9) // It will check if i == 10 and stop checking afterward because i doesn't = 10\n...\n</code></pre>\n\n<p>Another example:</p>\n\n<pre><code>int i = 12;\nif (i == 12 | i &gt; 10) // It will check if i == 12 and it will check if i &gt; 10\n...\n</code></pre>\n\n<p>Rewrite it:</p>\n\n<pre><code>int i = 12;\nif (i == 12 || i &gt; 10) // It will check if i == 12, it does, so it stops checking and executes what is in the if statement\n...\n</code></pre>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7102029#7102029", "question_id": 7101992, "answer_id": 7102029}, {"body": "<p>The operators <code>||</code> and <code>&amp;&amp;</code> are called <strong>conditional operators</strong>, while <code>|</code> and <code>&amp;</code> are called <strong>bitwise operators</strong>. They serve different purposes.</p>\n\n<p>Conditional operators works only with expressions that statically evaluate to <code>boolean</code> on both left- and right-hand sides.</p>\n\n<p>Bitwise operators works with any numeric operands.</p>\n\n<p>If you want to perform a logical comparison, you should use <strong>conditional operators</strong>, since you will add some kind of type safety to your code.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7102040#7102040", "question_id": 7101992, "answer_id": 7102040}, {"body": "<p>One main difference is that || and &amp;&amp; exhibit \"short-circuiting\", so the RHS will only be evaluated if needed. </p>\n\n<p>For e.g. </p>\n\n<pre><code>if (a || b) {\n    path1...\n} else {\n    path2..\n}\n</code></pre>\n\n<p>Above if a is true then b will not be tested and path1 is executed. If | was used then both sides would be evaluated even if 'a' is true. </p>\n\n<p>See <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow\">Here</a> and <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">here</a>, for a little more information.</p>\n\n<p>Hope this helps.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7102049#7102049", "question_id": 7101992, "answer_id": 7102049}, {"body": "<p>So just to build on the other answers with an example, short-circuiting is crucial in the following defensive checks:</p>\n\n<pre><code>if (foo == null || foo.isClosed()) {\n    return;\n}\n\nif (bar != null &amp;&amp; bar.isBlue()) {\n    foo.doSomething();\n}\n</code></pre>\n\n<p>Using <code>|</code> and <code>&amp;</code> instead could result in a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html\"><code>NullPointerException</code></a> being thrown here.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7102082#7102082", "question_id": 7101992, "answer_id": 7102082}, {"body": "<p>In addition to short-circuiting, another thing to keep in mind is that doing a bitwise logic operation on values that can be other than 0 or 1 has a very different meaning than conditional logic.  While it USUALLY is the same for <code>|</code> and <code>||</code>, with <code>&amp;</code> and <code>&amp;&amp;</code> you get very different results (e.g. <code>2 &amp; 4</code> is 0/false while <code>2 &amp;&amp; 4</code> is 1/true).</p>\n\n<p>If the thing you're getting from a function is actually an error code and you're testing for non-0-ness, this can matter quite a lot.</p>\n\n<p>This isn't as much of an issue in Java where you have to explicitly typecast to boolean or compare with 0 or the like, but in other languages with similar syntax (C/C++ et al) it can be quite confusing.</p>\n\n<p>Also, note that &amp; and | can only apply to integer-type values, and not everything that can be equivalent to a boolean test.  Again, in non-Java languages, there are quite a few things that can be used as a boolean with an implicit <code>!= 0</code> comparison (pointers, floats, objects with an <code>operator bool()</code>, etc.) and bitwise operators are almost always nonsensical in those contexts.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7103010#7103010", "question_id": 7101992, "answer_id": 7103010}, {"body": "<p>The Java || and &amp;&amp; operators only evaluate the right hand side of the boolean expression if they need to. This is known as a <em>lazy evaluation</em>. </p>\n\n<p>The equivalent code for the || operator is</p>\n\n<pre><code>// Simulate \n\n// if(b||c)\n//   doThis();\n// else\n//   doThat();\nif(b)\n  doThis();\nelse\n  if(c)\n    doThis();\nelse\n    doThat();\n\n// Similar for &amp;&amp;\n</code></pre>\n\n<p>This takes a lot less time to evaluate certain expressions. However, sometimes you may want to use the | operator:</p>\n\n<pre><code>public boolean updateGlobal(){\n  global = 2;\n  return true;\n}\n\nif(false | updateGlobal()){\n  foo();\n}\n</code></pre>\n\n<p>Because the right-hand side of the expression has a side-effect, we want it to be evaluated no matter what. This is a quite bad practice though. </p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7103704#7103704", "question_id": 7101992, "answer_id": 7103704}, {"body": "<p>The only time you would use <code>|</code> or <code>&amp;</code> instead of <code>||</code> or <code>&amp;&amp;</code> is when you have very simple boolean expressions and the cost of short cutting (i.e. a branch) is greater than the time you save by not evaluating the later expressions.</p>\n\n<p>However, this is a micro-optimisation which rarely matters except in the most low level code.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7105382#7105382", "question_id": 7101992, "answer_id": 7105382}, {"body": "<p>Also notice a common pitfall: The non lazy operators have precedence over the lazy ones, so:</p>\n\n<pre><code>boolean a, b, c;\na || b &amp;&amp; c; //resolves to a || (b &amp;&amp; c)\na | b &amp;&amp; c; //resolves to (a | b) &amp;&amp; c\n</code></pre>\n\n<p>Be careful when mixing them.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/7107811#7107811", "question_id": 7101992, "answer_id": 7107811}, {"body": "<p>usually I use when there is pre increment and post increment operator. Look at the following code:</p>\n\n<pre><code>package ocjpPractice;\n/**\n * @author tithik\n *\n */\npublic class Ex1 {\n\n    public static void main(String[] args) {\n    int i=10;\n    int j=9;\n    int x=10;\n    int y=9;\n    if(i==10 | ++i&gt;j){\n        System.out.println(\"it will print in first if\");  \n        System.out.println(\"i is: \"+i);\n    }\n\n    if(x==10 ||++x&gt;y){\n        System.out.println(\"it will print in second if\");   \n        System.out.println(\"x is: \"+x);\n    }\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>it will print in first if<br/>\n  i is: 11<br/><br/>\n  it will print in second if<br/>\n  x is: 10<br/></p>\n</blockquote>\n\n<p>both <code>if</code> blocks are same but result is different.\nwhen there is <code>|</code>, both the conditions will be evaluated. But if it is <code>||</code>, it will not evaluate second condition as the first condition is already true. </p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/11225706#11225706", "question_id": 7101992, "answer_id": 11225706}, {"body": "<p>1).(expression1 | expression2), | operator will evaluate expression2 irrespective of whether the result of expression1 is true or false.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>class Or \n{\npublic static void main(String[] args) \n{\n    boolean b=true;\n\n    if (b | test());\n}\n\nstatic boolean test()\n{\n     System.out.println(\"No short circuit!\");\n     return false;\n}\n}\n</code></pre>\n\n<p>2).(expression1 || expression2), || operator will not evaluate expression2 if expression1 is true.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>class Or \n{\npublic static void main(String[] args) \n{\n    boolean b=true;\n\n    if (b || test())\n    {\n        System.out.println(\"short circuit!\");\n    }\n}\n\nstatic boolean test()\n{\n    System.out.println(\"No short circuit!\");\n    return false;\n}\n}\n</code></pre>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/18315577#18315577", "question_id": 7101992, "answer_id": 18315577}, {"body": "<p>Non short-circuiting can be useful.  Sometimes you want to make sure that two expressions evaluate.  For example, say you have a method that removes an object from two separate lists.  You might want to do something like this:</p>\n\n<pre><code>class foo {\n\n    ArrayList&lt;Bar&gt; list1 = new ArrayList&lt;Bar&gt;();\n    ArrayList&lt;Bar&gt; list2 = new ArrayList&lt;Bar&gt;();\n\n    //Returns true if bar is removed from both lists, otherwise false.\n    boolean removeBar(Bar bar) {\n        return (list1.remove(bar) &amp; list2.remove(bar));\n    }\n}\n</code></pre>\n\n<p>If your method instead used the conditional operand, it would fail to remove the object from the second list if the first list returned false.</p>\n\n<pre><code>//Fails to execute the second remove if the first returns false.\nboolean removeBar(Bar bar) {\n    return (list1.remove(bar) &amp;&amp; list2.remove(bar));\n}\n</code></pre>\n\n<p>It's not amazingly useful, and (as with most programming tasks) you could achieve it with other means.  But it is a use case for bitwise operands.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/18806515#18806515", "question_id": 7101992, "answer_id": 18806515}, {"body": "<p>There are many use cases suggesting why should you go for <code>||</code> rather than <code>|</code> . Some use cases <strong>have to</strong> use <code>|</code> operator to check all the conditions.</p>\n\n<p>For example, if you want to check form validation and you want to show the user <strong>all the invalid fields with error texts rather than just a first invalid field.</strong></p>\n\n<p><code>||</code> operator would be, </p>\n\n<pre><code>   if(checkIfEmpty(nameField) || checkIfEmpty(phoneField) || checkIfEmpty(emailField)) {\n      // invalid form with one or more empty fields\n   }\n\n   private boolean checkIfEmpty(Widget field) {\n      if(field.isEmpty()) {\n        field.setErrorMessage(\"Should not be empty!\");\n        return true;\n      }\n      return false;\n   }\n</code></pre>\n\n<p>So with above snippet, if user submits the form with ALL empty fields, ONLY <code>nameField</code> would be shown with error message. But, if you change it to,</p>\n\n<pre><code>   if(checkIfEmpty(nameField) | checkIfEmpty(phoneField) | checkIfEmpty(emailField)) {\n      // invalid form with one or more empty fields\n   }\n</code></pre>\n\n<p>It will show proper error message on the each field irrespective of <code>true</code> conditions.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/25674041#25674041", "question_id": 7101992, "answer_id": 25674041}, {"body": "<p>The other answers have done a good job of covering the functional difference between the operators, but the answers could apply to just about every single C-derived language in existence today. The question is tagged with <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a>, and so I will endeavor to answer specifically and technically for the Java language.</p>\n\n<p><code>&amp;</code> and <code>|</code> can be either Integer Bitwise Operators, or Boolean Logical Operators. The syntax for the Bitwise and Logical Operators (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.22\" rel=\"nofollow\">\u00a715.22</a>) is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>AndExpression:\n  EqualityExpression \n  AndExpression &amp; EqualityExpression\n\nExclusiveOrExpression:\n  AndExpression \n  ExclusiveOrExpression ^ AndExpression\n\nInclusiveOrExpression:\n  ExclusiveOrExpression \n  InclusiveOrExpression | ExclusiveOrExpression\n</code></pre>\n\n<p>The syntax for <code>EqualityExpression</code> is defined in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.21\" rel=\"nofollow\">\u00a715.21</a>, which requires <code>RelationalExpression</code> defined in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.20\" rel=\"nofollow\">\u00a715.20</a>, which in turn requires <code>ShiftExpression</code> and <code>ReferenceType</code> defined in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.19\" rel=\"nofollow\">\u00a715.19</a> and <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-ReferenceType\" rel=\"nofollow\">\u00a74.3</a>, respectively. <code>ShiftExpression</code> requires <code>AdditiveExpression</code> defined in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.18\" rel=\"nofollow\">\u00a715.18</a>, which continues to drill down,  defining the basic arithmetic, unary operators, etc. <code>ReferenceType</code> drills down into all the various ways to represent a type. (While <code>ReferenceType</code> does not include the primitive types, the definition of primitive types is ultimately required, as they may be the dimension type for an array, which <em>is</em> a <code>ReferenceType</code>.)</p>\n\n<p>The Bitwise and Logical Operators have the following properties:</p>\n\n<blockquote>\n  <ul>\n  <li>These operators have different precedence, with <code>&amp;</code> having the highest precedence and <code>|</code> the lowest precedence.</li>\n  <li>Each of these operators is syntactically left-associative (each groups left-to-right).</li>\n  <li>Each operator is commutative if the operand expressions have no side effects.</li>\n  <li>Each operator is associative.</li>\n  <li><strong>The bitwise and logical operators may be used to compare two operands of numeric type or two operands of type <code>boolean</code>. All other cases result in a compile-time error.</strong></li>\n  </ul>\n</blockquote>\n\n<p>The distinction between whether the operator serves as a bitwise operator or a logical operator depends on whether the operands are \"convertible to a primitive integral type\" (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-IntegralType\" rel=\"nofollow\">\u00a74.2</a>) or if they are of types <code>boolean</code> or <code>Boolean</code> (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8\" rel=\"nofollow\">\u00a75.1.8</a>).</p>\n\n<p>If the operands are integral types, binary numeric promotion (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.6.2\" rel=\"nofollow\">\u00a75.6.2</a>) is performed on both operands, leaving them both as either <code>long</code>s or <code>int</code>s for the operation. The type of the operation will be the type of the (promoted) operands. At that point, <code>&amp;</code> will be bitwise AND, <code>^</code> will be bitwise exclusive OR, and <code>|</code> will be bitwise inclusive OR. (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.22.1\" rel=\"nofollow\">\u00a715.22.1</a>)</p>\n\n<p>If the operands are <code>boolean</code> or <code>Boolean</code>, the operands will be subject to unboxing conversion if necessary (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8\" rel=\"nofollow\">\u00a75.1.8</a>), and the type of the operation will be <code>boolean</code>. <code>&amp;</code> will result in <code>true</code> if both operands are <code>true</code>, <code>^</code> will result in <code>true</code> if both operands are different, and <code>|</code> will result in <code>true</code> if either operand is <code>true</code>. (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.22.2\" rel=\"nofollow\">\u00a715.22.2</a>)</p>\n\n<p><strong>In contrast,</strong> <code>&amp;&amp;</code> is the \"Conditional-And Operator\" (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.23\" rel=\"nofollow\">\u00a715.23</a>) and <code>||</code> is the \"Conditional-Or Operator\" (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.24\" rel=\"nofollow\">\u00a715.24</a>). Their syntax is defined as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ConditionalAndExpression:\n  InclusiveOrExpression \n  ConditionalAndExpression &amp;&amp; InclusiveOrExpression\n\nConditionalOrExpression:\n  ConditionalAndExpression \n  ConditionalOrExpression || ConditionalAndExpression\n</code></pre>\n\n<p><code>&amp;&amp;</code> is like <code>&amp;</code>, except that it only evaluates the right operand if the left operand is <code>true</code>. <code>||</code> is like <code>|</code>, except that it only evaluates the right operand if the left operand is <code>false</code>.</p>\n\n<p>Conditional-And has the following properties:</p>\n\n<blockquote>\n  <ul>\n  <li>The conditional-and operator is syntactically left-associative (it groups left-to-right).</li>\n  <li>The conditional-and operator is fully associative with respect to both side effects and result value. That is, for any expressions <code>a</code>, <code>b</code>, and <code>c</code>, evaluation of the expression <code>((a) &amp;&amp; (b)) &amp;&amp; (c)</code> produces the same result, with the same side effects occurring in the same order, as evaluation of the expression <code>(a) &amp;&amp; ((b) &amp;&amp; (c))</code>.</li>\n  <li><strong>Each operand of the conditional-and operator must be of type <code>boolean</code> or <code>Boolean</code>, or a compile-time error occurs.</strong></li>\n  <li>The type of a conditional-and expression is always <code>boolean</code>.</li>\n  <li>At run time, the left-hand operand expression is evaluated first; if the result has type <code>Boolean</code>, it is subjected to unboxing conversion (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8\" rel=\"nofollow\">\u00a75.1.8</a>).</li>\n  <li>If the resulting value is <code>false</code>, the value of the conditional-and expression is <code>false</code> and the right-hand operand expression is not evaluated.</li>\n  <li>If the value of the left-hand operand is <code>true</code>, then the right-hand expression is evaluated; if the result has type <code>Boolean</code>, it is subjected to unboxing conversion (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8\" rel=\"nofollow\">\u00a75.1.8</a>). The resulting value becomes the value of the conditional-and expression.</li>\n  <li>Thus, <code>&amp;&amp;</code> computes the same result as <code>&amp;</code> on <code>boolean</code> operands. It differs only in that the right-hand operand expression is evaluated conditionally rather than always.</li>\n  </ul>\n</blockquote>\n\n<p>Conditional-Or has the following properties:</p>\n\n<blockquote>\n  <ul>\n  <li>The conditional-or operator is syntactically left-associative (it groups left-to-right).</li>\n  <li>The conditional-or operator is fully associative with respect to both side effects and result value. That is, for any expressions <code>a</code>, <code>b</code>, and <code>c</code>, evaluation of the expression <code>((a) || (b)) || (c)</code> produces the same result, with the same side effects occurring in the same order, as evaluation of the expression <code>(a) || ((b) || (c))</code>.</li>\n  <li><strong>Each operand of the conditional-or operator must be of type <code>boolean</code> or <code>Boolean</code>, or a compile-time error occurs.</strong></li>\n  <li>The type of a conditional-or expression is always <code>boolean</code>.</li>\n  <li>At run time, the left-hand operand expression is evaluated first; if the result has type <code>Boolean</code>, it is subjected to unboxing conversion (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8\" rel=\"nofollow\">\u00a75.1.8</a>).</li>\n  <li>If the resulting value is <code>true</code>, the value of the conditional-or expression is <code>true</code> and the right-hand operand expression is not evaluated.</li>\n  <li>If the value of the left-hand operand is <code>false</code>, then the right-hand expression is evaluated; if the result has type <code>Boolean</code>, it is subjected to unboxing conversion (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8\" rel=\"nofollow\">\u00a75.1.8</a>). The resulting value becomes the value of the conditional-or expression.</li>\n  <li>Thus, <code>||</code> computes the same result as <code>|</code> on <code>boolean</code> or <code>Boolean</code> operands. It differs only in that the right-hand operand expression is evaluated conditionally rather than always.</li>\n  </ul>\n</blockquote>\n\n<p>In short, as @JohnMeagher has repeatedly pointed out in the comments, <code>&amp;</code> and <code>|</code> are, in fact, non-short-circuiting boolean operators in the specific case of the operands being either <code>boolean</code> or <code>Boolean</code>. With good practices (ie: no secondary effects), this is a minor difference. When the operands aren't <code>boolean</code>s or <code>Boolean</code>s, however, the operators behave <strong>very</strong> differently: bitwise and logical operations simply don't compare well at the high level of Java programming.</p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/25675459#25675459", "question_id": 7101992, "answer_id": 25675459}, {"body": "<pre><code>THE BASIC DIFFERENCE BETWEEN THEM IS THAT ...\n\n-: IN |          IT FIRST CONVERT IT TO BITS O &amp; 1 THEN PERFORM THE BIT WISE                            \n                 OPERATION | \n-: IN ||         IT DON'T ACTUALLY CONVERT THE DATA INTO BITS 0 &amp; 1. IT \n                 PERFORM THE OR EXPRESSION ON IT'S ORIGIONAL STATE. \n\nint two = -2; int four = -4;\nresult = two | four; // bitwise OR example\n\nSystem.out.println(Integer.toBinaryString(two));\nSystem.out.println(Integer.toBinaryString(four));\nSystem.out.println(Integer.toBinaryString(result));\n\nOutput:\n11111111111111111111111111111110\n11111111111111111111111111111100\n11111111111111111111111111111110\n</code></pre>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2015/01/difference-between-bitwsie-and-logical.html#ixzz45PCxdQhk\" rel=\"nofollow\">http://javarevisited.blogspot.com/2015/01/difference-between-bitwsie-and-logical.html#ixzz45PCxdQhk</a></p>\n", "title": "Why do we usually use `||` not `|`, what is the difference?", "tags": ["java", "bitwise-operators"], "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference/36527038#36527038", "question_id": 7101992, "answer_id": 36527038}], "creation_date": 1313637541, "score": 163, "link": "http://stackoverflow.com/questions/7101992/why-do-we-usually-use-not-what-is-the-difference", "question_id": 7101992}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1109022/how-to-close-hide-the-android-soft-keyboard\">How to close/hide the Android Soft Keyboard?</a>  </p>\n</blockquote>\n\n\n\n<p>First thing first I already saw <a href=\"http://stackoverflow.com/questions/1109022/how-to-close-hide-the-android-soft-keyboard\">this</a> thread. I tried accepted methods given there..But nothing worked for me..</p>\n\n<p>I have two screens in my app.</p>\n\n<ul>\n<li>First one have 2 EditText's - One for username and one for password</li>\n<li>Second one have one ListView, and an EditText - to filter the\nlistView</li>\n</ul>\n\n<p><strong>In my first screen, I want username EditText to have focus on startup and Keyboard should be visible</strong>..This is my implementation (simplified by removing unnecessary/unrelated codes)..</p>\n\n<h1>app_login.xml</h1>\n\n<pre><code>&lt;LinearLayout android:orientation=\"vertical\" android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content\" android:paddingLeft=\"20dip\"  \n    android:paddingRight=\"20dip\"&gt;\n\n    &lt;EditText android:id=\"@+id/username\" android:singleLine=\"true\" \n        android:layout_width=\"fill_parent\"  \n        android:layout_height=\"wrap_content\" android:hint=\"Username\"  \n        android:imeOptions=\"actionDone\" android:inputType=\"text\"\n        android:maxLines=\"1\"/&gt;\n\n    &lt;EditText android:id=\"@+id/password\" android:password=\"true\" \n        android:singleLine=\"true\"  \n        android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\" \n        android:hint=\"Password\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<h1>AppLogin.java</h1>\n\n<pre><code>class AppLogin extends Activity{\n    private EditText mUserNameEdit = null;\n    private EditText mPasswordEdit = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.app_login);\n\n        mUserNameEdit  =    (EditText) findViewById(R.id.username);\n        mPasswordEdit  =    (EditText) findViewById(R.id.password);\n\n        /* code to show keyboard on startup.this code is not working.*/\n        InputMethodManager imm =  (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.showSoftInput(mUserNameEdit, InputMethodManager.SHOW_IMPLICIT);\n\n    }//End of onCreate()\n}\n</code></pre>\n\n<p>Well, <strong>the keyboard is not showing at start up</strong>. And my design badly require a keyboard there..</p>\n\n<p>Now on to <strong>second page</strong>..I already said I have a listView and EditText there..<strong>I want my keyboard to be hidden on start up only to appear when user touches the editText</strong>..Can you believe it?  whatever I tried <strong>soft Keyboard is showing when I load the activity</strong>..I am not able to hide it..</p>\n\n<h1>app_list_view.xml</h1>\n\n<pre><code>&lt;LinearLayout android:layout_width=\"fill_parent\" android:layout_height=\"fill_parent\" \n    android:orientation=\"vertical\" &gt;\n    &lt;EditText android:id=\"@+id/filter_edittext\"       \n        android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\" \n        android:hint=\"Search\" android:inputType=\"text\" android:maxLines=\"1\"/&gt;\n    &lt;ListView android:id=\"@id/android:list\" android:layout_height=\"fill_parent\"\n        android:layout_weight=\"1.0\" android:layout_width=\"fill_parent\" \n        android:focusable=\"true\" android:descendantFocusability=\"beforeDescendants\"/&gt;\n&lt;/LinearLayout&gt;     \n</code></pre>\n\n<h1>AppList.java</h1>\n\n<pre><code>public class MyListActivity extends ListActivity{\n   private EditText mfilterEditText;\n\n    @Override\n   public void onCreate(Bundle savedInstanceState) {        \n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.app_list_view);\n\n      mFilterEditText  =  (EditText) findViewById(R.id.filter_edittext);\n      InputMethodManager imm = InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n      imm.hideSoftInputFromWindow(mFilterEditText.getWindowToken(), 0);\n   }\n}\n</code></pre>\n\n<p>To simplify </p>\n\n<ol>\n<li>On Login Page (first Page)  I want my keyboard to be visible on\nstart up..</li>\n<li>On SecondPage I want keyboard to be hidden first, only to appear\nwhen user touches editText</li>\n</ol>\n\n<p><strong>And my problem is I am getting exact opposite on both occasion</strong>...Hope someone faced this issue before..BTW I am testing on simulator and HTC Desire phone..</p>\n\n<h1>FINAL OUTCOME</h1>\n\n<p>Well I got it working, with the help of all friends here.</p>\n\n<p><strong>1. To Show keyboard on startup</strong></p>\n\n<p>Two answers worked for me. <strong>One provided by @CapDroid, which is to use a handler and post it delayed..</strong></p>\n\n<pre><code>mUserNameEdit.postDelayed(new Runnable() {\n  @Override\n  public void run() {\n    // TODO Auto-generated method stub\n    InputMethodManager keyboard = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    keyboard.showSoftInput(mUserNameEdit, 0);\n  }\n},50);\n</code></pre>\n\n<p>Second answers is provided by @Dyarish, Infact he linked to another SO thread, which I havent seen before. But \nthe funny thing is that, this solution is given in the thread which I referenced at start. And I haven't tried\nit out because it had zero votes in a thread where all other posts have plenty of votes..Height of foolishness..</p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n</code></pre>\n\n<p>For me the second solution looked neat, so I decided to stick with it..But first one certainly works.\nAlso @Dyarish's answer contain a clever hack of using a ScrollView below EditText to give EditText the focus..But I haven't tried it, but it should work. Not neat though..</p>\n\n<p><strong>2. To hide keyboard at activity start</strong></p>\n\n<p>Only one answer worked for me, which is provided by @Dyarish. And the solution is to use \nfocusableInTouchMode settings in xml for the layout containing the editText's. This did the trick</p>\n\n<pre><code>&lt;LinearLayout android:layout_width=\"fill_parent\" android:layout_height=\"fill_parent\" \n    android:orientation=\"vertical\" android:focusableInTouchMode=\"true\"&gt;\n    &lt;EditText android:id=\"@+id/filter_edittext\"       \n        android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\" \n        android:hint=\"Search\" android:inputType=\"text\" android:maxLines=\"1\"/&gt;\n    &lt;ListView android:id=\"@id/android:list\" android:layout_height=\"fill_parent\"\n        android:layout_weight=\"1.0\" android:layout_width=\"fill_parent\" \n        android:focusable=\"true\" android:descendantFocusability=\"beforeDescendants\"/&gt;\n&lt;/LinearLayout&gt; \n</code></pre>\n\n<p>Anyway I end up using Dyarish's answer in both cases. So I am awarding the boundy to him..Thanks all other friends\nwho tried to help me.. </p>\n", "tags": ["java", "android", "hide", "show", "soft-keyboard"], "title": "Programatically Hide/Show Android Soft Keyboard", "answers": [{"body": "<p><strong>UPDATE 2</strong></p>\n\n<pre><code>@Override\n    protected void onResume() {\n        super.onResume();\n        mUserNameEdit.requestFocus();\n\n        mUserNameEdit.postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                InputMethodManager keyboard = (InputMethodManager)\n                getSystemService(Context.INPUT_METHOD_SERVICE);\n                keyboard.showSoftInput(mUserNameEdit, 0);\n            }\n        },200); //use 300 to make it run when coming back from lock screen\n    }\n</code></pre>\n\n<p>I tried very hard and found out a solution ... whenever a new activity starts then keyboard cant open but we can use <strong>Runnable</strong> in <strong>onResume</strong> and it is working fine so please try this code and check...</p>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>add this line in your <code>AppLogin.java</code></p>\n\n<pre><code>mUserNameEdit.requestFocus();\n</code></pre>\n\n<p>and this line in your <code>AppList.java</code></p>\n\n<pre><code>listview.requestFocus()'\n</code></pre>\n\n<p>after this check your application if it is not working then add this line in your <code>AndroidManifest.xml</code> file</p>\n\n<pre><code>&lt;activity android:name=\".AppLogin\" android:configChanges=\"keyboardHidden|orientation\"&gt;&lt;/activity&gt;\n&lt;activity android:name=\".AppList\" android:configChanges=\"keyboard|orientation\"&gt;&lt;/activity&gt;\n</code></pre>\n\n<p><strong>ORIGINAL ANSWER</strong></p>\n\n<pre><code> InputMethodManager imm = (InputMethodManager)this.getSystemService(Service.INPUT_METHOD_SERVICE);\n</code></pre>\n\n<p>for hide keyboard</p>\n\n<pre><code> imm.hideSoftInputFromWindow(ed.getWindowToken(), 0); \n</code></pre>\n\n<p>for show keyboard</p>\n\n<pre><code> imm.showSoftInput(ed, 0);\n</code></pre>\n\n<p>for focus on EditText</p>\n\n<pre><code> ed.requestFocus();\n</code></pre>\n\n<p>where ed is EditText</p>\n", "title": "Programatically Hide/Show Android Soft Keyboard", "tags": ["java", "android", "hide", "show", "soft-keyboard"], "link": "http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard/7200308#7200308", "question_id": 7200281, "answer_id": 7200308}, {"body": "<p>Did you try <code>InputMethodManager.SHOW_IMPLICIT</code> in first window.</p>\n\n<p>and for hiding in second window use <code>InputMethodManager.HIDE_IMPLICIT_ONLY</code></p>\n\n<p><strong>EDIT :</strong>\n<br> <br>If its still not working then probably you are putting it at the wrong place. Override <code>onFinishInflate()</code> and show/hide there.</p>\n\n<pre><code>@override\npublic void onFinishInflate() {\n     /* code to show keyboard on startup */\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.showSoftInput(mUserNameEdit, InputMethodManager.SHOW_IMPLICIT);\n}\n</code></pre>\n", "title": "Programatically Hide/Show Android Soft Keyboard", "tags": ["java", "android", "hide", "show", "soft-keyboard"], "link": "http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard/7200326#7200326", "question_id": 7200281, "answer_id": 7200326}, {"body": "<p>Try this code,</p>\n\n<p>For Showing Softkeyboard - </p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager)\n                                 getSystemService(Context.INPUT_METHOD_SERVICE);\nif(imm != null){\n        imm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n    }\n</code></pre>\n\n<p>For Hiding SoftKeyboard - </p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager)\n                                  getSystemService(Context.INPUT_METHOD_SERVICE);\nif(imm != null){\n        imm.toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n    }\n</code></pre>\n\n<p>Hope this helps.</p>\n", "title": "Programatically Hide/Show Android Soft Keyboard", "tags": ["java", "android", "hide", "show", "soft-keyboard"], "link": "http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard/7200344#7200344", "question_id": 7200281, "answer_id": 7200344}, {"body": "<p>Adding this to your code <code>android:focusableInTouchMode=\"true\"</code> will make sure that your keypad doesn't appear on startup for your edittext box. You want to add this line to your linear layout that contains the EditTextBox. You should be able to play with this to solve both your problems.  I have tested this. Simple solution. </p>\n\n<p>ie: In your app_list_view.xml file</p>\n\n<pre><code>&lt;LinearLayout \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"fill_parent\" \n    android:orientation=\"vertical\" \n    android:focusableInTouchMode=\"true\"&gt;\n    &lt;EditText \n        android:id=\"@+id/filter_edittext\"       \n        android:layout_width=\"fill_parent\" \n        android:layout_height=\"wrap_content\" \n        android:hint=\"Search\" \n        android:inputType=\"text\" \n        android:maxLines=\"1\"/&gt;\n    &lt;ListView \n        android:id=\"@id/android:list\" \n        android:layout_height=\"fill_parent\"\n        android:layout_weight=\"1.0\" \n        android:layout_width=\"fill_parent\" \n        android:focusable=\"true\" \n        android:descendantFocusability=\"beforeDescendants\"/&gt;\n&lt;/LinearLayout&gt; \n</code></pre>\n\n<p>------------------ <strong>EDIT: To Make keyboard appear on startup</strong> -----------------------</p>\n\n<p>This is to make they Keyboard appear on the username edittextbox on startup. All I've done is added an empty Scrollview to the bottom of the .xml file, this puts the first edittext into focus and pops up the keyboard. I admit this is a hack, but I am assuming you just want this to work. I've tested it, and it works fine. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" \n    android:orientation=\"vertical\" \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content\" \n    android:paddingLeft=\"20dip\"  \n    android:paddingRight=\"20dip\"&gt;\n    &lt;EditText \n        android:id=\"@+id/userName\" \n        android:singleLine=\"true\" \n        android:layout_width=\"fill_parent\"  \n        android:layout_height=\"wrap_content\" \n        android:hint=\"Username\"  \n        android:imeOptions=\"actionDone\" \n        android:inputType=\"text\"\n        android:maxLines=\"1\"\n       /&gt;\n    &lt;EditText \n        android:id=\"@+id/password\" \n        android:password=\"true\" \n        android:singleLine=\"true\"  \n        android:layout_width=\"fill_parent\" \n        android:layout_height=\"wrap_content\" \n        android:hint=\"Password\" /&gt;\n    &lt;ScrollView\n        android:id=\"@+id/ScrollView01\"  \n        android:layout_height=\"fill_parent\"   \n        android:layout_width=\"fill_parent\"&gt; \n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>If you are looking for a more eloquent solution, I've found <a href=\"http://stackoverflow.com/questions/6100791/how-to-automatically-show-soft-keyboard-on-start\">this</a> question which might help you out, it is not as simple as the solution above but probably a better solution. I haven't tested it but it apparently works. I think it is similar to the solution you've tried which didn't work for you though. </p>\n\n<p>Hope this is what you are looking for.</p>\n\n<p>Cheers!</p>\n", "title": "Programatically Hide/Show Android Soft Keyboard", "tags": ["java", "android", "hide", "show", "soft-keyboard"], "link": "http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard/7265013#7265013", "question_id": 7200281, "answer_id": 7265013}], "creation_date": 1314335804, "score": 162, "link": "http://stackoverflow.com/questions/7200281/programatically-hide-show-android-soft-keyboard", "question_id": 7200281}, {"body": "<p>What is the best way to use the values stored in an Enum as String literals?\nFor example:</p>\n\n<pre><code>public enum Modes {\n    some-really-long-string,\n    mode2,\n    mode3\n}\n</code></pre>\n\n<p>Then later I could use <code>Mode.mode1</code> to return its string representation as <code>mode1</code>. Without having to keep calling <code>Mode.model.toString()</code>.</p>\n", "tags": ["java", "string", "enums"], "title": "Using Enum values as String literals", "answers": [{"body": "<p><code>mode1.name()</code> or <code>String.valueOf(mode1)</code>. It doesn't get better than that, I'm afraid</p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667307#6667307", "question_id": 6667243, "answer_id": 6667307}, {"body": "<p>You can use <code>Mode.mode1.name()</code> however you often don't need to do this.</p>\n\n<pre><code>Mode mode =\nSystem.out.println(\"The mode is \"+mode);\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667310#6667310", "question_id": 6667243, "answer_id": 6667310}, {"body": "<p>As far as I know, the only way to get the name would be</p>\n\n<pre><code>Mode.mode1.name();\n</code></pre>\n\n<p>If you really need it this way, however, you could do:</p>\n\n<pre><code>public enum Modes {\n    mode1 (\"Mode1\"),\n    mode2 (\"Mode2\"),\n    mode3 (\"Mode3\");\n\n    private String name;       \n\n    private Modes(String s) {\n        name = s;\n    }\n}\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667327#6667327", "question_id": 6667243, "answer_id": 6667327}, {"body": "<p>Enum is just a little bit special class. Enums can store additional fields, implement methods etc. For example</p>\n\n<pre><code>public enum Modes {\n    mode1('a'),\n    mode2('b'),\n    mode3('c'),\n    ;\n    char c;\n\n    private Modes(char c) {\n        this.c = c;\n    }\n    public char character() {\n        return c;\n    }\n}\n</code></pre>\n\n<p>Now you can say:</p>\n\n<p><code>System.out.println(Modes.mode1.character())</code></p>\n\n<p>and see output: \n<code>a</code></p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667354#6667354", "question_id": 6667243, "answer_id": 6667354}, {"body": "<p>Every enum has both a name() and a valueOf(String) method. The former returns the string name of the enum, and the latter gives the enum value whose name is the string. Is this like what you're looking for?</p>\n\n<pre><code>String name = Modes.mode1.name();\nModes mode = Modes.valueOf(name);\n</code></pre>\n\n<p>There's also a static valueOf(Class, String) on Enum itself, so you could also use</p>\n\n<pre><code>Modes mode = Enum.valueOf(Modes.class, name);\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667365#6667365", "question_id": 6667243, "answer_id": 6667365}, {"body": "<p>You can't. I think you have three options here. All three offer a solution but with a slightly different approach...</p>\n\n<p><strong>Option One:</strong> <em>add overriding properties to your enums</em></p>\n\n<pre><code>public enum Modes {\n    mode1 (\"Mode1\"),\n    mode2 (\"Mode2\"),\n    mode3 (\"Mode3\");\n\n    private final String name;       \n\n    private Modes(String s) {\n        name = s;\n    }\n\n    public boolean equalsName(String otherName) {\n        return (otherName == null) ? false : name.equals(otherName);\n    }\n\n    public String toString() {\n       return this.name;\n    }\n}\n</code></pre>\n\n<p><strong>Option Two:</strong> <em>use static finals instead of enums:</em> </p>\n\n<pre><code>public final class Modes {\n\n    public static final String MODE_1 = \"Mode 1\";\n    public static final String MODE_2 = \"Mode 2\";\n    public static final String MODE_3 = \"Mode 3\";\n\n    private Modes() { }\n}\n</code></pre>\n\n<p><strong>Option Three:</strong> <em>interfaces have every field public, static and final:</em></p>\n\n<pre><code>public interface Modes {\n\n    String MODE_1 = \"Mode 1\";\n    String MODE_2 = \"Mode 2\";\n    String MODE_3 = \"Mode 3\";  \n}\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/6667403#6667403", "question_id": 6667243, "answer_id": 6667403}, {"body": "<p>You could override the <code>toString()</code> method for each enum value.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public enum Country {\n\n  DE {\n    @Override\n    public String toString() {\n      return \"Germany\";\n    }\n  },\n  IT {\n    @Override\n    public String toString() {\n      return \"Italy\";\n    }\n  },\n  US {\n    @Override\n    public String toString() {\n      return \"United States\";\n    }\n  }\n\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n  System.out.println(Country.DE); // Germany\n  System.out.println(Country.IT); // Italy\n  System.out.println(Country.US); // United States\n}\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/25575077#25575077", "question_id": 6667243, "answer_id": 25575077}, {"body": "<p>As Benny Neugebauer mentions, you could overwrite the toString(). However instead overwriting the toString for each enum field I like more something like this:</p>\n\n<pre><code>public enum Country{\n    SPAIN(\"Espa\u00f1a\"),\n    ITALY(\"Italia\"),\n    PORTUGAL(\"Portugal\");\n\n\n    private String value;\n\n    Country(final String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return this.getValue();\n    }\n}\n</code></pre>\n\n<p>You could also add a static method to retrieve all the fields, to print them all, etc.\nSimply call getValue to obtain the string associated to each Enum item</p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/26152169#26152169", "question_id": 6667243, "answer_id": 26152169}, {"body": "<p>You can simply use:</p>\n\n<pre><code>\"\"+ Modes.mode1\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/30634618#30634618", "question_id": 6667243, "answer_id": 30634618}, {"body": "<p>my solution for your problem!</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic enum MapEnumSample {\n    Mustang(\"One of the fastest cars in the world!\"), \n    Mercedes(\"One of the most beautiful cars in the world!\"), \n    Ferrari(\"Ferrari or Mercedes, which one is the best?\");\n\n    private final String description;\n    private static Map&lt;String, String&gt; enumMap;\n\n    private MapEnumSample(String description) {\n        this.description = description;\n    }\n\n    public String getEnumValue() {\n        return description;\n    }\n\n    public static String getEnumKey(String name) {\n        if (enumMap == null) {\n            initializeMap();\n        }\n        return enumMap.get(name);\n    }\n\n    private static Map&lt;String, String&gt; initializeMap() {\n        enumMap = new HashMap&lt;String, String&gt;();\n        for (MapEnumSample access : MapEnumSample.values()) {\n            enumMap.put(access.getEnumValue(), access.toString());\n        }\n        return enumMap;\n    }\n\n    public static void main(String[] args) {\n\n        // getting value from Description\n        System.out.println(MapEnumSample.getEnumKey(\"One of the fastest cars in the world!\"));\n\n        // getting value from Constant\n        System.out.println(MapEnumSample.Mustang.getEnumValue());\n\n        System.out.println(MapEnumSample.getEnumKey(\"One of the most beautiful cars in the world!\"));\n        System.out.println(MapEnumSample.Mercedes.getEnumValue());\n\n        // doesnt exist in Enum\n        System.out.println(\"Mustang or Mercedes, which one is the best?\");\n        System.out.println(MapEnumSample.getEnumKey(\"Mustang or Mercedes, which one is the best?\") == null ? \"I don't know!\" : \"I believe that \"\n                + MapEnumSample.getEnumKey(\"Ferrari or Mustang, which one is the best?\") + \" is the best!.\");\n\n        // exists in Enum\n        System.out.println(\"Ferrari or Mercedes, wich one is the best?\");\n        System.out.println(MapEnumSample.getEnumKey(\"Ferrari or Mercedes, which one is the best?\") == null ? \"I don't know!\" : \"I believe that \"\n                + MapEnumSample.getEnumKey(\"Ferrari or Mercedes, which one is the best?\") + \" is the best!\");\n\n    }\n}\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/32018431#32018431", "question_id": 6667243, "answer_id": 32018431}, {"body": "<pre><code>package com.common.test;\n\npublic  enum Days {\n\n\n    monday(1,\"Monday\"),tuesday(2,\"Tuesday\"),wednesday(3,\"Wednesday\"),\n    thrusday(4,\"Thrusday\"),friday(5,\"Friday\"),saturday(6,\"Saturday\"),sunday(7,\"Sunday\");\n\n    private int id;\n    private String desc;\n\n\n    Days(int id,String desc){\n        this.id=id;\n        this.desc=desc;\n    }\n\n    public static String getDay(int id){\n\n        for (Days day : Days.values()) {\n            if (day.getId() == id) {\n                return day.getDesc();\n            }\n        }\n        return null;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n\n\n};\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/35057962#35057962", "question_id": 6667243, "answer_id": 35057962}, {"body": "<p>after many tries I have come with this solution</p>\n\n<pre><code>public static enum Operation {\n\n    Addition, Subtraction, Multiplication, Division,;\n\n    public String getUserFriendlyString() {\n        if (this==Addition) {\n            return \" + \";\n        } else if (this==Subtraction) {\n            return \" - \";\n        } else if (this==Multiplication) {\n            return \" * \";\n        } else if (this==Division) {\n            return \" / \";\n        }\n        return \"undefined\";\n       }\n}\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/36051443#36051443", "question_id": 6667243, "answer_id": 36051443}, {"body": "<pre><code>public enum Modes {\n  MODE1(\"Mode1\"),\n  MODE2(\"Mode2),\n  MODE3(Mode3);\n\n private String value;\n public String getValue() {\n    return value;\n   }\n public Modes(String value) {\n  this.value = value;\n } \n}\n</code></pre>\n\n<p>you can call like below whereever you want to get value as string from enum.</p>\n\n<pre><code>Modes.MODE1.getvalue();\n</code></pre>\n\n<p>This will return \"Mode1\" as String.</p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/36324533#36324533", "question_id": 6667243, "answer_id": 36324533}, {"body": "<p>I'm supprised that non of those anwsers consider Enum with an Attribute. Enum will be easy to readable for a programmer, and Attribute can contain a full name, or \"pointer\" to translation. That way you can repeat names between enums, and you have no warries for uniquness of string in attribute since they can be very long.</p>\n\n<pre><code>public enum MyEnum\n{\n    [Name(\"MY_UNIQUE_STRING_FOR_ENUM1\")]\n    Enum1,\n    [Name(\"MY_UNIQUE_STRING_FOR_ENUM2\")]\n    Enum2,\n    [Name(\"MY_UNIQUE_STRING_FOR_ENUM3\")]\n    Enum3,\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static string GetEnumName(Enum name)\n{\n    var attribute = name.GetType().GetCustomAttributes(false).FirstOrDefault(o =&gt; o is Name);\n    return attribute.Value;\n}\n\nGetEnumName(MyEnum.Enum1);\n</code></pre>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/38134260#38134260", "question_id": 6667243, "answer_id": 38134260}, {"body": "<p>So just to build on some of the above answers.. A lot of times i'll use enumerators to represent \"types\" of things obviously, but then those types also have additional attributes, like an int ID and a string Description. </p>\n\n<p>The below solution works well for me to give an enumerator a bit more usefulness for me</p>\n\n<pre><code>public enum Country {\n US(1) {\n    @Override\n    public String toString() {\n      return \"United States\";\n    }\n  },\n  DE(2) {\n    @Override\n    public String toString() {\n      return \"Germany\";\n    }\n  },\n  IT(3) {\n    @Override\n    public String toString() {\n      return \"Italy\";\n    }\n  }\n\n   private int value;\n\n     private Country (int value)\n     {\n         this.value = value;\n     }\n\n    private Country fromValue(int value){\n         for(Country val: Country.values()){\n             if(val.value == value){\n                 return val;\n             }\n         }\n        return null;\n    }\n\n     int value (){\n        return value;\n\n    }\n}\n</code></pre>\n\n<p>....and i'm new to Java btw.. so if there's issues with this i'd love to know</p>\n", "title": "Using Enum values as String literals", "tags": ["java", "string", "enums"], "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals/38665077#38665077", "question_id": 6667243, "answer_id": 38665077}], "creation_date": 1310486231, "score": 157, "link": "http://stackoverflow.com/questions/6667243/using-enum-values-as-string-literals", "question_id": 6667243}, {"body": "<p>Consider an example (which compiles in java)</p>\n\n<pre><code>public abstract interface Interface {\n    public void interfacing();\n    public abstract boolean interfacing(boolean really);\n}\n</code></pre>\n\n<p>Why is it necessary for an interface to be \"declared\" abstract? Is there other rules that applies with an abstract interface?</p>\n\n<hr>\n\n<p>Finally: If <code>abstract</code> is obsolete, why is it included in Java? Is there a history for abstract interface?</p>\n", "tags": ["java", "interface", "abstract"], "title": "Java abstract interface", "answers": [{"body": "<p>It's not necessary, it's optional, just as <code>public</code> on interface methods.</p>\n\n<p>See the JLS on this:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jls/second_edition/html/interfaces.doc.html\">http://java.sun.com/docs/books/jls/second_edition/html/interfaces.doc.html</a></p>\n\n<blockquote>\n  <p>9.1.1.1 abstract Interfaces Every interface is implicitly abstract.\n  This modifier is obsolete and should not be used in new programs.</p>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>9.4 Abstract Method Declarations</p>\n  \n  <p>[...]</p>\n  \n  <p>For compatibility with older versions of the Java platform, it is\n  permitted but discouraged, as a matter of style, to redundantly\n  specify the abstract modifier for methods declared in interfaces.</p>\n  \n  <p>It is permitted, but strongly discouraged as a matter of style, to\n  redundantly specify the public modifier for interface methods.</p>\n</blockquote>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/7202638#7202638", "question_id": 7202616, "answer_id": 7202638}, {"body": "<p>It is not necessary to declare the interface abstract.</p>\n\n<p>Just like declaring all those methods public (which they already are if the interface is public) or abstract (which they already are in an interface) is redundant.</p>\n\n<p>No one is stopping you, though.</p>\n\n<p>Other things you can explicitly state, but don't need to:</p>\n\n<ul>\n<li>call super() on the first line of a constructor</li>\n<li><code>extends Object</code></li>\n<li>implement inherited interfaces</li>\n</ul>\n\n<blockquote>\n  <p>Is there other rules that applies with an abstract interface?</p>\n</blockquote>\n\n<p>An interface is already \"abstract\". Applying that keyword again makes absolutely no difference.</p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/7202644#7202644", "question_id": 7202616, "answer_id": 7202644}, {"body": "<p>It isn't necessary. It's a quirk of the language.</p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/7202655#7202655", "question_id": 7202616, "answer_id": 7202655}, {"body": "<blockquote>\n  <p>Why is it necessary for an interface to be \"declared\" abstract?</p>\n</blockquote>\n\n<p>It's not.</p>\n\n<pre><code>public abstract interface Interface {\n       \\___.__/\n           |\n           '----&gt; Neither this...\n\n    public void interfacing();\n    public abstract boolean interfacing(boolean really);\n           \\___.__/\n               |\n               '----&gt; nor this, are necessary.\n}\n</code></pre>\n\n<p>Interfaces and their methods are implicitly <code>abstract</code> and adding that modifier makes no difference.</p>\n\n<blockquote>\n  <p>Is there other rules that applies with an abstract interface?</p>\n</blockquote>\n\n<p>No, same rules apply. The method must be implemented by any (concrete) implementing class.</p>\n\n<blockquote>\n  <p>If abstract is obsolete, why is it included in Java? Is there a history for abstract interface?</p>\n</blockquote>\n\n<p>Interesting question. I dug up the <em>first</em> edition of JLS, and even there it says <a href=\"http://web.archive.org/web/20091123225637/http://java.sun.com/docs/books/jls/first_edition/html/9.doc.html#30820\"><em>\"This modifier is obsolete and should not be used in new Java programs\"</em></a>.</p>\n\n<p>Okay, <strong>digging even further</strong>... After hitting numerous broken links, I managed to find a copy of the original <a href=\"http://en.wikipedia.org/wiki/Oak_%28programming_language%29\">Oak 0.2</a> <a href=\"http://aioo.be/mirrored/OakSpec0.2.pdf\">Specification</a> (or \"manual\"). Quite interesting read I must say, and only 38 pages in total! :-)</p>\n\n<p>Under Section 5, Interfaces, it provides the following example:</p>\n\n<pre><code>public interface Storing {\n    void freezeDry(Stream s) = 0;\n    void reconstitute(Stream s) = 0;\n}\n</code></pre>\n\n<p>And in the margin it says</p>\n\n<blockquote>\n  <p><em>In the future, the \" =0\" part of declaring methods in interfaces may go away.</em></p>\n</blockquote>\n\n<p>Assuming <code>=0</code> got replaced by the <code>abstract</code> keyword, I suspect that <code>abstract</code> was at some point mandatory for interface methods!</p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/7202659#7202659", "question_id": 7202616, "answer_id": 7202659}, {"body": "<blockquote>\n  <p>Every interface is implicitly abstract.<br>\n  <em>This modifier is obsolete and should not be used in new programs.</em></p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.1.1.1\" rel=\"nofollow\">[The Java Language Specification - 9.1.1.1 <code>abstract</code> Interfaces]</a></p>\n\n<p>Also note that interface member methods are implicitly <code>public abstract</code>.<br>\n<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.2\" rel=\"nofollow\">[The Java Language Specification - 9.2 Interface Members]</a></p>\n\n<p>Why are those modifiers implicit?\nThere is no other modifier (not even the '<em>no modifier</em>'-modifier) that would be useful here, so you don't explicitly have to type it.</p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/7202671#7202671", "question_id": 7202616, "answer_id": 7202671}, {"body": "<p>It's not necessary, as interfaces are by default abstract as all the methods in an interface are abstract.</p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/7202825#7202825", "question_id": 7202616, "answer_id": 7202825}, {"body": "<p>An abstract Interface is not as redundant as everyone seems to be saying, in theory at least. </p>\n\n<p>An Interface can be extended, just as a Class can.  If you design an Interface hierarchy for your application you may well have a 'Base' Interface, you extend other Interfaces from but\ndo not want as an Object in itself.</p>\n\n<p>Example:</p>\n\n<pre><code>public abstract interface MyBaseInterface {\n    public String getName();\n}\n\npublic interface MyBoat extends MyBaseInterface {\n    public String getMastSize();\n}\n\npublic interface MyDog extends MyBaseInterface {\n    public long tinsOfFoodPerDay();\n}\n</code></pre>\n\n<p>You do not want a Class to implement the MyBaseInterface, only the other two, MMyDog and MyBoat, but both interfaces share the MyBaseInterface interface, so have a 'name' property.</p>\n\n<p>I know its kinda academic, but I thought some might find it interesting. :-)</p>\n\n<p>It is really just a 'marker' in this case, to signal to implementors of the interface it\nwasn't designed to be implemented on its own.  I should point out a compiler (At least the sun/ora 1.6 I tried it with) compiles a class that implements an abstract interface.</p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/17867504#17867504", "question_id": 7202616, "answer_id": 17867504}, {"body": "<p>Be aware that in Spring it has non academic meaning. \nThe abstract interface is a warning to the developer not to use it for <code>@Autowired</code>. \nI hope that spring/eclipse <code>@Autowired</code> will look at this attribute and warn/fail about usages of such.</p>\n\n<p>A real example: @Service proxy under @Transnational to a @Repository need to use same basic methods however they should use different interfaces that extends this abstract interface due to <code>@Autowired</code>. \n(I call this XXXSpec interface) </p>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/25789870#25789870", "question_id": 7202616, "answer_id": 25789870}, {"body": "<p>Well 'Abstract Interface' is a Lexical construct: <a href=\"http://en.wikipedia.org/wiki/Lexical_analysis\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Lexical_analysis</a>.</p>\n\n<p>It is required by the compiler, you could also write <code>interface</code>. </p>\n\n<p>Well don't get too much into Lexical construct of the language as they might have put it there to resolve some compilation ambiguity which is termed as special cases during compiling process or for some backward compatibility, try to focus on core  Lexical construct.</p>\n\n<p>The essence of `interface is to capture some abstract concept (idea/thought/higher order thinking etc) whose implementation may vary ... that is, there may be multiple implementation.</p>\n\n<p>An Interface is a pure abstract data type that represents the features of the Object it is capturing or representing.</p>\n\n<p>Features can be represented by space or by time. When they are represented by space (memory storage) it means that your concrete class will implement a field and  method/methods that will operate on that field or by time which means that the task of implementing the feature is purely computational (requires more cpu clocks for processing) so you have a trade off between space and time for feature implementation.</p>\n\n<p>If your concrete class does not implement all features it again becomes abstract because you have a implementation of your thought or idea or abstractness but it is not complete , you specify it by <code>abstract</code> class. </p>\n\n<p>A concrete class will be a class/set of classes which  will fully capture the abstractness you are trying to capture class XYZ.</p>\n\n<p>So the Pattern is </p>\n\n<pre><code>Interface---&gt;Abstract class/Abstract classes(depends)--&gt;Concrete class\n</code></pre>\n", "title": "Java abstract interface", "tags": ["java", "interface", "abstract"], "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface/27196978#27196978", "question_id": 7202616, "answer_id": 27196978}], "creation_date": 1314350618, "score": 156, "link": "http://stackoverflow.com/questions/7202616/java-abstract-interface", "question_id": 7202616}, {"body": "<p>I'm using JUnit-dep 4.10 and Hamcrest 1.3.RC2.</p>\n\n<p>I've created a custom matcher that looks like the following:</p>\n\n<pre><code>public static class MyMatcher extends TypeSafeMatcher&lt;String&gt; {\n    @Override\n    protected boolean matchesSafely(String s) {\n        /* implementation */\n    }\n\n    @Override\n    public void describeTo(Description description) {\n        /* implementation */\n    }\n\n    @Override\n    protected void describeMismatchSafely(String item, Description mismatchDescription) {\n\n        /* implementation */\n    }\n}\n</code></pre>\n\n<p>It works perfectly fine when run from the command line using Ant.  But when run from IntelliJ, it fails with:</p>\n\n<pre><code>java.lang.NoSuchMethodError: org.hamcrest.Matcher.describeMismatch(Ljava/lang/Object;Lorg/hamcrest/Description;)V\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)\n    at com.netflix.build.MyTest.testmyStuff(MyTest.java:40)\n</code></pre>\n\n<p>My guess is that it's using the wrong hamcrest.MatcherAssert.  How do I find which hamcrest.MatcherAssert it's using (ie which jar file it's using for hamcrest.MatcherAssert)?  AFAICT, the only hamcrest jars in my classpath is 1.3.RC2.</p>\n\n<p>Is IntelliJ IDEA using it's own copy of JUnit or Hamcrest?</p>\n\n<p>How do I output the runtime CLASSPATH that IntelliJ is using?</p>\n", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "answers": [{"body": "<p>Make sure the <strong>hamcrest</strong> jar is higher on the import order than your <strong>JUnit</strong> jar.</p>\n\n<p><strong>JUnit</strong> comes with its own <code>org.hamcrest.Matcher</code> class that is probably being used instead.</p>\n\n<p>You can also download and use the <strong>junit-dep-4.10.jar</strong> instead which is JUnit without the hamcrest classes.</p>\n\n<p>mockito also has the hamcrest classes in it as well, so you may need to move\\reorder it as well</p>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/7878281#7878281", "question_id": 7869711, "answer_id": 7878281}, {"body": "<p>The problem was that the wrong hamcrest.Matcher, not hamcrest.MatcherAssert, class was being used.  That was being pulled in from a junit-4.8 dependency one of my dependencies was specifying.</p>\n\n<p>To see what dependencies (and versions) are included from what source while testing, run:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mvn dependency:tree -Dscope=test\n</code></pre>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/7882408#7882408", "question_id": 7869711, "answer_id": 7882408}, {"body": "<p>This problem also arises when you have mockito-all on your class path.</p>\n\n<p>If possible just include mockito-core.</p>\n\n<p>Maven config for mixing junit, mockito and hamcrest:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.5&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.11&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/16735373#16735373", "question_id": 7869711, "answer_id": 16735373}, {"body": "<p>This worked for me after struggling a bit</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.5&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.11&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/23035583#23035583", "question_id": 7869711, "answer_id": 23035583}, {"body": "<p>The following should be the most correct today. Note, junit 4.11 depends on hamcrest-core, so you shouldn't need to specify that at all, mockito-all cannot be used since it <em>includes</em> (not depends on) hamcrest 1.1</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.11&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;1.10.8&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/27058962#27058962", "question_id": 7869711, "answer_id": 27058962}, {"body": "<p>Try</p>\n\n<p><code>expect(new ThrowableMessageMatcher(new StringContains(message)))</code></p>\n\n<p>instead of </p>\n\n<p><code>expectMessage(message)</code></p>\n\n<p>You may write a custom <code>ExpectedException</code> or utility method to wrap up the code.</p>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/28355884#28355884", "question_id": 7869711, "answer_id": 28355884}, {"body": "<p>What worked for me was excluding the hamcrest group from the junit test compile.</p>\n\n<p>Here is the code from my build.gradle:</p>\n\n<pre><code>testCompile ('junit:junit:4.11') {\n    exclude group: 'org.hamcrest'\n}\n</code></pre>\n\n<p>If you're running IntelliJ you may need to run <code>gradle cleanIdea idea clean build</code> to detect the dependencies again. </p>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/37145596#37145596", "question_id": 7869711, "answer_id": 37145596}, {"body": "<p>I know that's not the best answer, but if you can't get the classpath working, this is a plan B solution.</p>\n\n<p>In my test classpath, I added the following interface with a default implementation for the describeMismatch method.</p>\n\n<pre><code>package org.hamcrest;\n\n/**\n * PATCH because there's something wrong with the classpath. Hamcrest should be higher than Mockito so that the BaseMatcher\n * implements the describeMismatch method, but it doesn't work for me. \n */\npublic interface Matcher&lt;T&gt; extends SelfDescribing {\n\n    boolean matches(Object item);\n\n    default void describeMismatch(Object item, Description mismatchDescription) {\n        mismatchDescription.appendDescriptionOf(this).appendValue(item);\n    }\n\n    @Deprecated\n    void _dont_implement_Matcher___instead_extend_BaseMatcher_();\n}\n</code></pre>\n", "title": "Getting &quot;NoSuchMethodError: org.hamcrest.Matcher.describeMismatch&quot; when running test in IntelliJ 10.5", "tags": ["java", "junit", "intellij-idea", "junit4", "hamcrest"], "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running/37526742#37526742", "question_id": 7869711, "answer_id": 37526742}], "creation_date": 1319408963, "score": 155, "link": "http://stackoverflow.com/questions/7869711/getting-nosuchmethoderror-org-hamcrest-matcher-describemismatch-when-running", "question_id": 7869711}, {"body": "<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions/7313559/what-is-the-instanceof-operator-used-for\">What is the &#39;instanceof&#39; operator used for?</a>  </p>\n</blockquote>\n\n\n\n<p>I learned that Java has the <code>instanceof</code> operator. Can you elaborate where it is used and what are its advantages?</p>\n", "tags": ["java"], "title": "use of &quot;Instance of&quot; in java", "answers": [{"body": "<p><em>instanceof</em> is a keyword that can be used to test if an object is of a specified type.</p>\n\n<p>Example :</p>\n\n<pre><code>public class MainClass {\n    public static void main(String[] a) {\n\n    String s = \"Hello\";\n    int i = 0;\n    String g;\n    if (s instanceof java.lang.String) {\n       // This is going to be printed\n       System.out.println(\"s is a String\");\n    }\n    else if (i instanceof Integer) {\n       // This is going to be printed as autoboxing will happen (int -&gt; Integer)\n       System.out.println(\"i is an Integer\");\n    }\n    else if (g instanceof java.lang.String) {\n       // This case is not going to happen because g is not initialized and\n       // therefore is null and instanceof returns false for null. \n       System.out.println(\"g is a String\");\n    } \n} \n</code></pre>\n\n<p>Here is my <a href=\"http://www.java2s.com/Tutorial/Java/0060__Operators/TheinstanceofKeyword.htm\" rel=\"nofollow\">source</a>.</p>\n", "title": "use of &quot;Instance of&quot; in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/7526817/use-of-instance-of-in-java/7526875#7526875", "question_id": 7526817, "answer_id": 7526875}, {"body": "<p><code>instanceof</code> is used to check if an object is an instance of a class, an instance of a subclass, or an instance of a class that implements a particular interface.</p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\">Read more from the Oracle language definition here.</a></p>\n", "title": "use of &quot;Instance of&quot; in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/7526817/use-of-instance-of-in-java/7526895#7526895", "question_id": 7526817, "answer_id": 7526895}, {"body": "<p>Basically, you check if an object is an instance of a specific class.\nYou normally use it, when you have a reference or parameter to an object that is of a super class or interface type and need to know whether the actual object has some other type (normally more concrete).</p>\n\n<p>Example:</p>\n\n<pre><code>public void doSomething(Number param) {\n  if( param instanceof Double) {\n    System.out.println(\"param is a Double\");\n  }\n  else if( param instanceof Integer) {\n    System.out.println(\"param is an Integer\");\n  }\n\n  if( param instanceof Comparable) {\n    //subclasses of Number like Double etc. implement Comparable\n    //other subclasses might not -&gt; you could pass Number instances that don't implement that interface\n    System.out.println(\"param is comparable\"); \n  }\n}\n</code></pre>\n\n<p>Note that if you have to use that operator very often it is generally a hint that your design has some flaws. So in a well designed application you should have to use that operator as little as possible (of course there are exceptions to that general rule).</p>\n", "title": "use of &quot;Instance of&quot; in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/7526817/use-of-instance-of-in-java/7526896#7526896", "question_id": 7526817, "answer_id": 7526896}, {"body": "<p><code>instanceof</code> can be used to determine the <em>actual</em> type of an object:</p>\n\n<pre><code>class A { }  \nclass C extends A { } \nclass D extends A { } \n\npublic static void testInstance(){\n    A c = new C();\n    A d = new D();\n    Assert.assertTrue(c instanceof A &amp;&amp; d instanceof A);\n    Assert.assertTrue(c instanceof C &amp;&amp; d instanceof D);\n    Assert.assertFalse(c instanceof D);\n    Assert.assertFalse(d instanceof C);\n}\n</code></pre>\n\n<p>Yet a design using <code>instanceof</code> is usually considered as a bad design. In a <em>good</em> design, if an object of actual type <code>C</code> is supposed to be used as an object of type <code>A</code> then you are not supposed to know if this object is actually an object of type <code>C</code> or <code>D</code>! Otherwise it means you treat <code>C</code> and <code>D</code> differently even though they have some common parameters.</p>\n\n<p>Therefore, avoid using <code>instanceof</code> as possible as you can and use <a href=\"http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29\">polymorphism</a> the way it <em>should be</em>, using the proper interfaces.</p>\n", "title": "use of &quot;Instance of&quot; in java", "tags": ["java"], "link": "http://stackoverflow.com/questions/7526817/use-of-instance-of-in-java/7526959#7526959", "question_id": 7526817, "answer_id": 7526959}], "creation_date": 1316769723, "score": 155, "link": "http://stackoverflow.com/questions/7526817/use-of-instance-of-in-java", "question_id": 7526817}, {"body": "<p>Can someone explain what <strong>isolation</strong> &amp; <strong>propagation</strong> parameters are for in the <code>@Transactional</code> annotation via real world example. Basically when and why I should choose to change their default values. </p>\n", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "title": "Spring @Transactional - isolation, propagation", "answers": [{"body": "<p>Good question, although not a trivial one to answer. </p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/transaction/annotation/Propagation.html\"><strong>Propagation</strong></a></p>\n\n<p>Defines how transactions relate to each other. Common options</p>\n\n<ul>\n<li><code>Required</code>: Code will always run in a transaction. Create a new transaction or reuse one if available.</li>\n<li><code>Requires_new</code>: Code will always run in a new transaction. Suspend current transaction if one exist. </li>\n</ul>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/transaction/TransactionDefinition.html\"><strong>Isolation</strong></a></p>\n\n<p>Defines the data contract between transactions. </p>\n\n<ul>\n<li><code>Read Uncommitted</code>: Allows dirty reads</li>\n<li><code>Read Committed</code>: Does not allow dirty reads</li>\n<li><code>Repeatable Read</code>: If a row is read twice in the same transaciton, result will always be the same</li>\n<li><code>Serializable</code>: Performs all transactions in a sequence</li>\n</ul>\n\n<p>The different levels have different performance characteristics in a multi threaded application. I think if you understand the <code>dirty reads</code> concept you will be able to select a good option. </p>\n\n<hr>\n\n<p>Example when a dirty read can occur</p>\n\n<pre><code>  thread 1   thread 2      \n      |         |\n    write(x)    |\n      |         |\n      |        read(x)\n      |         |\n    rollback    |\n      v         v \n           value (x) is now dirty (incorrect)\n</code></pre>\n\n<p>So a sane default (if such can be claimed) could be <code>Read Comitted</code>, which only lets you read values which have already been comitted by other running transactions, in combination with an isolation level of <code>Required</code>. Then you can work from there if you application has other needs. </p>\n\n<hr>\n\n<p>A practical example where a new transaction will always be created when entering the <code>provideService</code> routine and completed when leaving. </p>\n\n<pre><code>public class FooService {\n    private Repository repo1;\n    private Repository repo2;\n\n    @Transactional(propagation=Propagation.REQUIRES_NEW)\n    public void provideService() {\n        repo1.retrieveFoo();\n        repo2.retrieveFoo();\n    }\n}\n</code></pre>\n\n<p>Had we used <code>Required</code> instead the transaction <a href=\"http://stackoverflow.com/questions/2754160/question-about-spring-transaction-propagation\">will remain open</a> if the transaction was already open when entering the routine. \nNote also that the result of a <code>rollback</code> could be different as several executions could take part in the same transaction. </p>\n\n<hr>\n\n<p>We can easily verify the behaviour with a test and see how results differ with propagation levels</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations=\"classpath:/fooService.xml\")\npublic class FooServiceTests {\n\n    private @Autowired TransactionManager transactionManager;\n    private @Autowired FooService fooService;\n\n    @Test\n    public void testProvideService() {\n        TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition());\n        fooService.provideService();\n        transactionManager.rollback(status);\n        // assert repository values are unchanged ... \n}\n</code></pre>\n\n<p>With a propagation level of</p>\n\n<ul>\n<li><p><code>Requires new</code> we would expect <code>fooService.provideService()</code> was <em>NOT</em> rolled back since it created it's own sub-transaction. </p></li>\n<li><p><code>Required</code> we would expect everything was rolled back and backing store unchanged. </p></li>\n</ul>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/8490932#8490932", "question_id": 8490852, "answer_id": 8490932}, {"body": "<p>You almost never want to use <code>Read Uncommited</code> since it's not really <code>ACID</code> compliant. <code>Read Commmited</code> is a good default starting place. <code>Repeatable Read</code> is probably only needed in reporting, rollup or aggregation scenarios. Note that many DBs, postgres included don't actually support Repeatable Read, you have to use <code>Serializable</code> instead. <code>Serializable</code> is useful for things that you know have to happen completely independently of anything else; think of it like <code>synchronized</code> in Java. Serializable goes hand in hand with <code>REQUIRES_NEW</code> propagation.</p>\n\n<p>I use <code>REQUIRES</code> for all functions that run UPDATE or DELETE queries as well as \"service\" level functions. For DAO level functions that only run SELECTs, I use <code>SUPPORTS</code> which will participate in a TX if one is already started (i.e. being called from a service function).</p>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/8491503#8491503", "question_id": 8490852, "answer_id": 8491503}, {"body": "<p><strong>PROPAGATION_REQUIRED = 0</strong>; If  DataSourceTransactionObject T1 is already started for Method M1.If for another  Method M2 Transaction object is required ,no new  Transaction object is created .Same object T1 is used for M2</p>\n\n<p><strong>PROPAGATION_MANDATORY = 2</strong>; method must run within a transaction. If no \nexisting transaction is in progress, an exception will be thrown</p>\n\n<p><strong>PROPAGATION_REQUIRES_NEW = 3</strong>; If  DataSourceTransactionObject T1 is already started for Method M1 and it is in progress(executing  method M1) .If another method M2 start executing then T1 is suspended for the duration of method M2 with new DataSourceTransactionObject T2 for M2.M2  run within its own transaction context</p>\n\n<p><strong>PROPAGATION_NOT_SUPPORTED = 4</strong>; If  DataSourceTransactionObject T1 is already started for Method M1.If another method M2 is run concurrently .Then M2 should not run within transaction context. T1 is suspended till M2 is finished.</p>\n\n<p><strong>PROPAGATION_NEVER = 5</strong>; None of the methods  run in transaction context.</p>\n\n<p><strong>An isolation level:</strong>\nIt is about  how much a transaction may be impacted by the activities of other concurrent\ntransactions.It a   supports consistency leaving the data across many tables in a consistent state.\nIt involves locking rows and/or tables in a database.</p>\n\n<p><strong>The problem with multiple transaction</strong></p>\n\n<p><strong>Scenario 1</strong>.If T1 transaction reads data from table A1 that was written by another concurrent transaction T2.If on the way T2 is rollback,the data obtained by \nT1 is invalid one.E.g a=2 is original data .If T1 read a=1 that was written by T2.If T2 rollback then a=1  will be rollback to  a=2 in DB.But,Now ,T1 has a=1 but in DB \ntable it is changed to a=2.</p>\n\n<p><strong>Scenario2</strong>.If T1 transaction reads data from table A1.If another concurrent transaction(T2) update data on table A1.Then the data that T1 has read is \ndifferent from table A1.Because T2 has updated the data on table A1.E.g if T1 read a=1 and T2 updated a=2.Then a!=b.</p>\n\n<p><strong>Scenario 3</strong>.If T1 transaction reads data from table A1 with certain number of rows. If another concurrent transaction(T2) inserts more rows on table A1.The \nnumber of rows read by T1 is different from rows on table A1</p>\n\n<p>Scenario 1 is called <strong>Dirty reads</strong></p>\n\n<p>Scenario 2 is called <strong>Nonrepeatable reads</strong> </p>\n\n<p>Scenario 3 is called <strong>Phantom reads .</strong></p>\n\n<p>So,isolation level is the extend to which <strong>Scenario 1 ,Scenario 2 ,Scenario 3</strong> can be prevented.\nYou can obtained complete isolation level by implementing locking.That is preventing concurrent reads and\nwrites to the same data from occurring.But it affects performance .The level of isolation  depends upon application to application how much isolation is \nrequired.</p>\n\n<p><strong>ISOLATION_READ_UNCOMMITTED</strong> :Allows  to read changes that haven\u2019t yet been committed.It suffer from Scenario 1 ,Scenario 2 ,Scenario 3 </p>\n\n<p><strong>ISOLATION_READ_COMMITTED</strong>:Allows reads from concurrent transactions that have been com-\nmitted.It may suffer from Scenario 2 ,Scenario 3 . Because other transactions may be updating the data.</p>\n\n<p><strong>ISOLATION_REPEATABLE_READ</strong>:Multiple reads of the same field will yield the same results untill it is changed by itself.It may suffer from Scenario 3.Because \nother transactions may be inserting the data</p>\n\n<p><strong>ISOLATION_SERIALIZABLE</strong>: Scenario 1,Scenario 2,Scenario 3 never happens.It is complete isolation.It involves full locking.It affets performace because of \nlocking.</p>\n\n<p>You can test using </p>\n\n<pre><code>public class TransactionBehaviour {\n   // set is either using xml Or annotation\n    DataSourceTransactionManager manager=new DataSourceTransactionManager();\n    SimpleTransactionStatus status=new SimpleTransactionStatus();\n   ;\n\n\n    public void beginTransaction()\n    {\n        DefaultTransactionDefinition Def = new DefaultTransactionDefinition();\n        // overwrite default PROPAGATION_REQUIRED and ISOLATION_DEFAULT\n        // set is either using xml Or annotation\n        manager.setPropagationBehavior(XX);\n        manager.setIsolationLevelName(XX);\n\n        status = manager.getTransaction(Def);\n\n    }\n\n    public void commitTransaction()\n    {\n\n\n            if(status.isCompleted()){\n                manager.commit(status);\n        } \n    }\n\n    public void rollbackTransaction()\n    {\n\n            if(!status.isCompleted()){\n                manager.rollback(status);\n        }\n    }\n    Main method{\n        beginTransaction()\n        M1();\n        If error(){\n            rollbackTransaction()\n        }\n         commitTransaction();\n    }\n\n}\n</code></pre>\n\n<p>You can debug and see the result with different values for isolation and propagation.</p>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/16151690#16151690", "question_id": 8490852, "answer_id": 16151690}, {"body": "<p>Enough explanation about each parameter is given by other answers; However you asked for a real world example,here is the one that clarifies the purpose of different <strong>propagation</strong> options:</P>\nSupppose you're in charge of implementing a <em>signup service</em> in which a confirmation e-mail is sent to the user.You come up with two service objects, one for <em>enrolling</em> the user and one for <em>sending</em> e-mails, which the latter is called inside the first one.For example something like this:</p>\n\n<pre><code>/* Sign Up service */\n@Service\n@Transactional(Propagation=REQUIRED)\nclass SignUpService{\n ...\n void SignUp(User user){\n  ...\n  SendEmail(User);\n }\n}\n/* E-Mail Service */\n@Service\n@Transactional(Propagation=REQUIRES_NEW)\nclass EmailService{\n ...\n void sendMail(User user){\n  try{\n   ... // Trying to send the e-mail\n  }catch( Exception)\n }\n}\n</code></pre>\n\n<p>You may have noticed that the second service is of propagation type <strong>REQUIRES_NEW</strong> and moreover chances are it throws an exceptin (SMTP server down ,invalid e-mail or other reasons).You probably don't want the whole process to roll-back, like removing the user information from database or other things; therefor you call the second service in a separate transaction.</p> Back to our example, this time you are concerned about the database security, so you define your DAO classes this way:</p>\n\n<pre><code>/* User DAO */\n@Transactional(Propagation=MANDATORY)\nclass UserDAO{\n // some CRUD methods\n}\n</code></pre>\n\n<p>Meaning that whenever a DAO object, and hence a potential access to db, is created, we need to reassure that the call was made from inside one of our services, implying that a live transaction should exist; otherwise an exception occurs.Therefor the propagation is of type <strong>MANDATORY</strong>.</p>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/16166576#16166576", "question_id": 8490852, "answer_id": 16166576}, {"body": "<p>Transaction Isolation and Transaction Propagation although related but are clearly two  very different concepts. In both cases defaults are customized at client boundary component either by using <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#transaction-declarative\">Declarative transaction management</a> or <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#transaction-programmatic\">Programmatic transaction management</a>. Details of each isolation levels and propagation attributes can be found in reference links below.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html\"><strong>Transaction Isolation</strong></a></p>\n\n<p>For given two or more running transactions/connections to a database, how and when are changes made by queries in one transaction impact/visible to the queries in a different transaction. It also related to what kind of database record locking will be used to isolate changes in this transaction from other transactions and vice versa. This is typically implemented by database/resource that is participating in transaction.</p>\n\n<p>.</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bncij.html\"><strong>Transaction Propagation</strong></a></p>\n\n<p>In an enterprise application for any given request/processing there are many components that are involved to get the job done. Some of this components mark the boundaries (start/end) of a transaction that will be used in respective component and it's sub components. For this transactional boundary of components, Transaction Propogation specifies if respective component will or will not participate in transaction and what happens if calling component already has or does not have a transaction already created/started. This is same as Java EE Transaction Attributes. This is typically implemented by the client transaction/connection manager.</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html\">Spring Transaction Management</a></p></li>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Isolation_%28database_systems%29\">Wiki Transaction Isolation (database systems)</a></p></li>\n<li><p><a href=\"http://www.oracle.com/technetwork/issue-archive/2005/05-nov/o65asktom-082389.html\">Oracle on Transaction Isolation Levels</a></p></li>\n<li><p><a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bncij.html\">Java EE Transaction Attributes (propagation)</a> </p></li>\n<li><p><a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/transaction.html#tx-propagation\">Spring Framework Transaction propagation</a></p></li>\n</ul>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/16242700#16242700", "question_id": 8490852, "answer_id": 16242700}, {"body": "<p>I have run <code>outerMethod</code>,<code>method_1</code> and <code>method_2</code> with different propagation mode.</p>\n\n<p>Below is the output for different propagation mode.</p>\n\n<ul>\n<li><p>Outer Method</p>\n\n<pre><code>@Transactional\n@Override\npublic void outerMethod() {\n    customerProfileDAO.method_1();\n    iWorkflowDetailDao.method_2();\n}\n</code></pre></li>\n<li><p>Method_1</p>\n\n<pre><code>@Transactional(propagation=Propagation.MANDATORY)\npublic void method_1() {\n    Session session = null;\n    try {\n        session = getSession();\n        Temp entity = new Temp(0l, \"XXX\");\n        session.save(entity);\n        System.out.println(\"Method - 1 Id \"+entity.getId());\n    } finally {\n        if (session != null &amp;&amp; session.isOpen()) {\n        }\n    }\n}\n</code></pre></li>\n<li><p>Method_2</p>\n\n<pre><code>@Transactional()\n@Override\npublic void method_2() {\n    Session session = null;\n    try {\n        session = getSession();\n        Temp entity = new Temp(0l, \"CCC\");\n        session.save(entity);\n        int i = 1/0;\n        System.out.println(\"Method - 2 Id \"+entity.getId());\n    } finally {\n        if (session != null &amp;&amp; session.isOpen()) {\n        }\n    }\n}\n</code></pre>\n\n<ol>\n<li><ul>\n<li>outerMethod - Without transaction</li>\n<li>method_1 - Propagation.MANDATORY) - </li>\n<li>method_2 - Transaction annotation only</li>\n<li>Output: method_1 will throw exception that no existing transaction</li>\n</ul></li>\n<li><ul>\n<li>outerMethod - Without transaction</li>\n<li>method_1 - Transaction annotation only </li>\n<li>method_2 - Propagation.MANDATORY) </li>\n<li>Output: method_2 will throw exception that no existing transaction</li>\n<li>Output: method_1 will persist record in database.</li>\n</ul></li>\n<li><ul>\n<li>outerMethod - With transaction</li>\n<li>method_1 - Transaction annotation only </li>\n<li>method_2 - Propagation.MANDATORY) </li>\n<li>Output: method_2 will persist record in database.</li>\n<li>Output: method_1 will persist record in database.\n-- Here Main Outer existing transaction used for both method 1 and 2</li>\n</ul></li>\n<li><ul>\n<li>outerMethod - With transaction</li>\n<li>method_1 - Propagation.MANDATORY) - </li>\n<li>method_2 - Transaction annotation only and throws exception</li>\n<li>Output: no record persist in database means rollback done.</li>\n</ul></li>\n<li><ul>\n<li>outerMethod - With transaction</li>\n<li>method_1 - Propagation.REQUIRES_NEW) </li>\n<li>method_2 - Propagation.REQUIRES_NEW) and throws 1/0 exception</li>\n<li>Output: method_2 will throws exception so method_2 record not persisted.</li>\n<li>Output: method_1 will persist record in database.</li>\n<li>Output: There is no rollback for method_1</li>\n</ul></li>\n</ol></li>\n</ul>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/32223597#32223597", "question_id": 8490852, "answer_id": 32223597}, {"body": "<p><strong>Isolation level</strong> defines how the changes made to some data repository by one transaction affect other simultaneous concurrent transactions, and also how and when that changed data becomes available to other transactions. When we define a transaction using the Spring framework we are also able to configure in which isolation level that same transaction will be executed.</p>\n\n<pre><code>@Transactional(isolation=Isolation.READ_COMMITTED)\npublic void someTransactionalMethod(Object obj) {\n\n}\n</code></pre>\n\n<p>READ_UNCOMMITTED isolation level states that a transaction may read data that is still uncommitted by other transactions. </p>\n\n<p>READ_COMMITTED isolation level states that a transaction can't read data that is not yet committed by other transactions.</p>\n\n<p>REPEATABLE_READ isolation level states that if a transaction reads one record from the database multiple times the result of all those reading operations must always be the same.</p>\n\n<p>SERIALIZABLE isolation level is the most restrictive of all isolation levels. Transactions are executed with locking at all levels (read, range and write locking) so they appear as if they were executed in a serialized way. </p>\n\n<p><strong>Propagation</strong> is the ability to decide how the business methods should be encapsulated in both logical or physical transactions.</p>\n\n<p>Spring REQUIRED behavior means that the same transaction will be used if there is an already opened transaction in the current bean method execution context.</p>\n\n<p>REQUIRES_NEW behavior means that a new physical transaction will always be created by the container.</p>\n\n<p>The NESTED behavior makes nested Spring transactions to use the same physical transaction but sets savepoints between nested invocations so inner transactions may also rollback independently of outer transactions.</p>\n\n<p>The MANDATORY behavior states that an existing opened transaction must already exist. If not an exception will be thrown by the container.</p>\n\n<p>The NEVER behavior states that an existing opened transaction must not already exist. If a transaction exists an exception will be thrown by the container.</p>\n\n<p>The NOT_SUPPORTED behavior will execute outside of the scope of any transaction. If an opened transaction already exists it will be paused.</p>\n\n<p>The SUPPORTS behavior will execute in the scope of a transaction if an opened transaction already exists. If there isn't an already opened transaction the method will execute anyway but in a non-transactional way.</p>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/34080650#34080650", "question_id": 8490852, "answer_id": 34080650}, {"body": "<p>You can use like this:</p>\n\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic EventMessage&lt;ModificaOperativitaRapporto&gt; activate(EventMessage&lt;ModificaOperativitaRapporto&gt; eventMessage) {\n//here some transaction related code\n}\n</code></pre>\n\n<p>You can use this thing also:</p>\n\n<pre><code>public interface TransactionStatus extends SavepointManager {\n    boolean isNewTransaction();\n    boolean hasSavepoint();\n    void setRollbackOnly();\n    boolean isRollbackOnly();\n    void flush();\n    boolean isCompleted();\n}\n</code></pre>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/34081452#34081452", "question_id": 8490852, "answer_id": 34081452}, {"body": "<p>We can add for this:</p>\n\n<pre><code>@Transactional(readOnly = true)\npublic class Banking_CustomerService implements CustomerService {\n\n    public Customer getDetail(String customername) {\n        // do something\n    }\n\n    // these settings have precedence for this method\n    @Transactional(readOnly = false, propagation = Propagation.REQUIRES_NEW)\n    public void updateCustomer(Customer customer) {\n        // do something\n    }\n}\n</code></pre>\n", "title": "Spring @Transactional - isolation, propagation", "tags": ["java", "spring", "transactional", "isolation", "propagation"], "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation/34081504#34081504", "question_id": 8490852, "answer_id": 34081504}], "creation_date": 1323786527, "score": 153, "link": "http://stackoverflow.com/questions/8490852/spring-transactional-isolation-propagation", "question_id": 8490852}, {"body": "<p>I have a class that must have some static methods. Inside these static methods I need to call the method getClass() to make the following call:</p>\n\n<pre><code>public static void startMusic() {\n  URL songPath = getClass().getClassLoader().getResource(\"background.midi\");\n}\n</code></pre>\n\n<p>However Eclipse tells me:</p>\n\n<pre><code>Cannot make a static reference to the non-static method getClass() \nfrom the type Object\n</code></pre>\n\n<p>What is the appropriate way to fix this compile time error?</p>\n", "tags": ["java", "static-methods"], "title": "How to call getClass() from a static method in Java?", "answers": [{"body": "<p>Just use <code>TheClassName.class</code> instead of <code>getClass()</code>.</p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/8275508#8275508", "question_id": 8275499, "answer_id": 8275508}, {"body": "<p>Simply use a class literal, i.e. <code>NameOfClass.class</code></p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/8275511#8275511", "question_id": 8275499, "answer_id": 8275511}, {"body": "<p><code>getClass()</code> method is defined in Object class with the following signature:</p>\n\n<blockquote>\n  <p>public final Class getClass()</p>\n</blockquote>\n\n<p>Since it is not defined as <code>static</code>, you can not call it within a static code block. See these answers for more information: <a href=\"http://stackoverflow.com/questions/5152428/non-static-to-static-problem\">Q1</a>, <a href=\"http://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java\">Q2</a>, <a href=\"http://stackoverflow.com/questions/6270690/non-static-method-cannot-be-referenced-in-static-context\">Q3</a>.</p>\n\n<p>If you're in a static context, then you have to use the class literal expression to get the Class, so you basically have to do like:</p>\n\n<blockquote>\n  <p>Foo.class</p>\n</blockquote>\n\n<p>This type of expression is called <strong>Class Literals</strong> and they are explained in <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/expressions.doc.html#251530\">Java Language Specification Book</a> as follows:</p>\n\n<blockquote>\n  <p>A class literal is an expression consisting of the name of a class, interface, array, or primitive type followed by a `.' and the token class. The type of a class literal is Class. It evaluates to the Class object for the named type (or for void) as defined by the defining class loader of the class of the current instance.</p>\n</blockquote>\n\n<p>You can also find information about this subject on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html\">API documentation</a> for Class.</p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/8275761#8275761", "question_id": 8275499, "answer_id": 8275761}, {"body": "<p>As for the code example in the question, the standard solution is to reference the class explicitly by its name, and it is even possible to do without <code>getClassLoader()</code> call:</p>\n\n<pre><code>class MyClass {\n  public static void startMusic() {\n    URL songPath = MyClass.class.getResource(\"background.midi\");\n  }\n}\n</code></pre>\n\n<p>This approach still has a back side that it is not very safe against copy/paste errors in case you need to replicate this code to a number of similar classes.</p>\n\n<p>And as for the exact question in the headline, there is a trick posted in the <a href=\"http://stackoverflow.com/a/17397143/972463\">adjacent thread</a>:</p>\n\n<pre><code>Class currentClass = new Object() { }.getClass().getEnclosingClass();\n</code></pre>\n\n<p>It uses a nested anonymous <code>Object</code> subclass to get hold of the execution context. This trick has a benefit of being copy/paste safe...</p>\n\n<p>It may be also worth noting that if this snippet is shaped as a static method of some base class, then <code>currenClass</code> value will always be a reference to that base class rather than to any subclass that may be using that method.</p>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/17397548#17397548", "question_id": 8275499, "answer_id": 17397548}, {"body": "<p>I wrestled with this myself.  A nice trick is to use use the current thread to get a ClassLoader when in a static context.  This will work in a Hadoop MapReduce as well.  Other methods work when running locally, but return a null InputStream when used in a MapReduce.</p>\n\n<pre><code>public static InputStream getResource(String resource) throws Exception {\n   ClassLoader cl = Thread.currentThread().getContextClassLoader();\n   InputStream is = cl.getResourceAsStream(resource);\n   return is;\n}\n</code></pre>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/22413298#22413298", "question_id": 8275499, "answer_id": 22413298}, {"body": "<p>Try something like this. It works for me. Logg (Class name)</p>\n\n<pre><code>    String level= \"\";\n\n    Properties prop = new Properties();\n\n    InputStream in =\n            Logg.class.getResourceAsStream(\"resources\\\\config\");\n\n    if (in != null) {\n        prop.load(in);\n    } else {\n        throw new FileNotFoundException(\"property file '\" + in + \"' not found in the classpath\");\n    }\n\n    level = prop.getProperty(\"Level\");\n</code></pre>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/28346481#28346481", "question_id": 8275499, "answer_id": 28346481}, {"body": "<p>In Java7+ you can do this in static methods/fields:</p>\n\n<pre><code>MethodHandles.lookup().lookupClass()\n</code></pre>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/29477034#29477034", "question_id": 8275499, "answer_id": 29477034}, {"body": "<p>Try it</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[1].getClassName()\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[2].getClassName()\n</code></pre>\n", "title": "How to call getClass() from a static method in Java?", "tags": ["java", "static-methods"], "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java/34918147#34918147", "question_id": 8275499, "answer_id": 34918147}], "creation_date": 1322268621, "score": 151, "link": "http://stackoverflow.com/questions/8275499/how-to-call-getclass-from-a-static-method-in-java", "question_id": 8275499}, {"body": "<p>What is the difference between <a href=\"http://actionbarsherlock.com/\">ActionBarSherlock</a> and <a href=\"http://developer.android.com/resources/samples/ActionBarCompat/index.html\">Action Bar Compatibility</a></p>\n\n<p>Fews days ago Google just released the ActionBar Compatibility that make me so confused. Is that the Action Bar Compatibility works same as the ActionBarSherlock and is the coding same? </p>\n\n<p>Example : Does <a href=\"http://developer.android.com/reference/android/app/ActionBar.html#setDisplayHomeAsUpEnabled%28boolean%29\">app icon to navigate \"up\"</a> or ActionBar.Tab supported in Action Bar Compatibility ?  </p>\n", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "answers": [{"body": "<p>ActionBarSherlock gives your application an action bar regardless* of what version of the android API your app is being run on. Action Bar Compatibility gives you the action bar only if the device that you're running on is API level 3.0 or above.</p>\n\n<p>*Note that if the device you're running on isn't 3.0 or above, ActionBarSherlock is going to use it's own custom implementation of the action bar, not a native one.</p>\n\n<p>--EDIT--</p>\n\n<p>It appears things have changed and there is actually no difference between ActionBarSherlock and the Action Bar Compatibility anymore. Please read the comments below for details.</p>\n\n<p>--EDIT--</p>\n\n<p>After having used both now, I can say that I actually prefer ActionBarSherlock to Action Bar Compatibility. ActionBarSherlock is really easy and nice to use.</p>\n\n<p>--EDIT--\nAs LOG_TAG mentioned, there is now support for the action bar in the Android Support Library. I haven't had a chance to use it yet, but I would imagine that's the best one to use.</p>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/7844582#7844582", "question_id": 7844517, "answer_id": 7844582}, {"body": "<p>Well @Jake implementation goes way further than what the Actionbar compat, to be more precise Actionbar Compat is just a basic example on how can you support all aplication with a pseudo-actionbar for releases prior from Honeycomb (API 13). Although their target is the same cross compatible actionbar, they have diferent approach.</p>\n\n<p><strong>ActionbarCompat Aproach</strong></p>\n\n<p>This implementation make no use of the Compatibility Android support library instead it create a base class called <a href=\"http://developer.android.com/resources/samples/ActionBarCompat/src/com/example/android/actionbarcompat/ActionBarActivity.html\">ActionBarActivity</a> create a single instance of a <a href=\"http://developer.android.com/resources/samples/ActionBarCompat/src/com/example/android/actionbarcompat/ActionBarHelper.html\">Helper</a> this helper act as factory itself that returns diferent implementation for the three segment of APIS, it returns</p>\n\n<ul>\n<li><a href=\"http://developer.android.com/resources/samples/ActionBarCompat/src/com/example/android/actionbarcompat/ActionBarHelperBase.html\">ActionbarBaseHelper</a>: for prior to HoneyComb.</li>\n<li><a href=\"http://developer.android.com/resources/samples/ActionBarCompat/src/com/example/android/actionbarcompat/ActionBarHelperHoneycomb.html\">ActionBarHoneyComb</a>: for HoneyComb</li>\n<li><a href=\"http://developer.android.com/resources/samples/ActionBarCompat/src/com/example/android/actionbarcompat/ActionBarHelperICS.html\">ActionBarHelperICS</a>: for ICS base devices.</li>\n</ul>\n\n<p>The most interesting part is in the <a href=\"http://developer.android.com/resources/samples/ActionBarCompat/src/com/example/android/actionbarcompat/ActionBarHelperBase.html\">ActionbarBaseHelper</a>, because it has the most important code, I suggest you understand this class and you will get the whole example.</p>\n\n<p><strong>Action Bar Sherlock</strong> </p>\n\n<p>Well this is tricky firstable because, I'm not the author maybe Jake can explained further this, but I'll give it a try. </p>\n\n<p>Just as the compat Sherlock make diferent implementation but one is for \"Compat\" and the other is Native. It force you to extends either from SherlockActivity or from SherlockFragmentActivity, because this two base classes have the method for dispatching the ActionBar. </p>\n\n<p>This is a large and complex project, that cannot be explained in a single post. Suggest you dig around <a href=\"https://github.com/JakeWharton/ActionBarSherlock\">Sherlock Github repo</a> grab a look and as <a href=\"http://www.codinghorror.com/blog/2012/04/learn-to-read-the-source-luke.html\">Jeff Atwood</a> says</p>\n\n<p><img src=\"http://i.stack.imgur.com/lBK3I.jpg\" alt=\"enter image description here\"></p>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/10591460#10591460", "question_id": 7844517, "answer_id": 10591460}, {"body": "<p>Actionbar Sherlock is far more advanced and far more ambitious than the simple Actionbar compatibility project. </p>\n\n<p>The Action bar compatibility can be considered a \"sample\" or a good starting point if you only want to smack an Action Bar on top of your app.</p>\n\n<p>ActionBarSherlock builds on the compatibility library, and gives you (like the action bar compatibility sample) an Action Bar on pre-3.0 devices. In addition it has extra features not present in the ActionBar Compat code. This includes features like, but not limited to</p>\n\n<ul>\n<li>setNavigationMode (for Tabs and spinners in the action bar)</li>\n<li>Dialog Fragments </li>\n<li>Contextual Action Bar (CAB) a menu that takes over the action bar, used for example for multi select (http://developer.android.com/design/patterns/new-4-0.html) This is a ICS feature (!) For this, an implementation of the ActionMode class (introduced in API level 11) had to be introduced into the ActionbarSherlock library</li>\n<li>Fragment and FragmentActivity implementations - because fragments can implement the onCreateOptions menu, we need to make sure that the SupportMenuInflater is used. </li>\n<li>Two themes not very unlike Holo.Dark and Holo.Light (Theme.Sherlock, Theme.Sherlock.Light)</li>\n<li>The ICS feature \"split action bar\"</li>\n</ul>\n\n<p>The only downside I see in using ActionbarSherlock is that you lock yourself in to that library. If for some reason it will die out in the near future, you'll have to maintain it youself (for example if no Jellybean implementation comes along). This is a hassle (not a huge problem) since all your fragments extends SherlockFragemnt and all your Activities.\n SherlockActivity.</p>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/10703406#10703406", "question_id": 7844517, "answer_id": 10703406}, {"body": "<p>Just completing what @Kurtis Nusbaum with a pratical example.</p>\n\n<p>UPDATE: as @rudy-s said, with newest android support library (api 18), I saw they already have built-in support for actionbar (called ActionBarCompat class).</p>\n\n<p>I built two simple applications to show the visual difference between ActionBarSherlock and ActionBar Compatibility. See the comparatives images:</p>\n\n<h2><img src=\"http://i.stack.imgur.com/EDNni.png\" alt=\"App using compatibility library\"></h2>\n\n<h2><img src=\"http://i.stack.imgur.com/jca8P.png\" alt=\"App using sherlock library\"></h2>\n\n<p>Now the appearance when the menu button is pressed:</p>\n\n<h2><img src=\"http://i.stack.imgur.com/vEgfW.png\" alt=\"App using compatibility on menu pressed\"></h2>\n\n<p><img src=\"http://i.stack.imgur.com/KgcXQ.png\" alt=\"App using sherlock on menu pressed\"></p>\n\n<hr>\n\n<p>As you can see, the images just enforce what was said. <strong>Action Bar Compatibility gives you the action bar only if the device that you're running on is API level 3.0 or above. While Sherlock is more general.</strong></p>\n\n<p>Below you can see the application source.</p>\n\n<p>The menu xml file is the same:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n&lt;item\n    android:id=\"@+id/action_1\"\n    android:orderInCategory=\"100\"\n    android:showAsAction=\"always\"\n    android:title=\"@string/action1\"/&gt;\n\n&lt;item\n    android:id=\"@+id/action_2\"\n    android:orderInCategory=\"100\"\n    android:showAsAction=\"ifRoom\"\n    android:title=\"@string/action2\"/&gt;\n\n&lt;item\n    android:id=\"@+id/action_3\"\n    android:orderInCategory=\"100\"\n    android:showAsAction=\"ifRoom\"\n    android:title=\"@string/action3\"/&gt;\n\n&lt;item\n    android:id=\"@+id/action_settings\"\n    android:orderInCategory=\"100\"\n    android:showAsAction=\"never\"\n    android:title=\"@string/action_settings\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>Compatibility's activity:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_main);\n     }\n\n     @Override\n     public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n     }\n}\n</code></pre>\n\n<p>Sherlock's activity:</p>\n\n<pre><code>public class MainActivity extends SherlockActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(com.actionbarsherlock.view.Menu menu) {\n        getSupportMenuInflater().inflate(R.menu.main, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n}\n</code></pre>\n\n<p>An additional config was necessary on sherlock app:</p>\n\n<p><code>&lt;style name=\"AppBaseTheme\" parent=\"Theme.Sherlock.Light.DarkActionBar\"&gt;</code></p>\n\n<p>UPDATE:\nas @rudy-s said, with newest android support library (api 18), I saw they already have built-in support for actionbar (called ActionBarCompat class).</p>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/15212244#15212244", "question_id": 7844517, "answer_id": 15212244}, {"body": "<p><strong>ActionBarSherlock vs ActionBarCompat:</strong> </p>\n\n<p>I Just want to put few code difference between ActionBarSherlock vs ActionBarCompat Lib</p>\n\n<p><img src=\"http://i.stack.imgur.com/s4Eb4.png\" alt=\" ActionBarSherlock vs ActionBarCompat **strong text**\"></p>\n\n<p><strong>We can migrate some apps from ActionBarSherlock to ActionBarCompat:</strong></p>\n\n<p>steps:</p>\n\n<ol>\n<li><p>Import <em>AppCompat</em> project.</p></li>\n<li><p>Replace <em><code>SherlockFragmentActivity</code></em> with <em><code>ActionBarActivity</code></em>.</p></li>\n<li><p>Replace <em><code>SherlockFragment</code></em> with <em><code>Fragment</code></em>.</p></li>\n<li><p>Change <code>Menu</code>, <em><code>MenuItem</code></em> and <em><code>getSupportMenuInflater()</code></em> references.\nModify the way you get Action Views.</p>\n\n<p><em><code>mSearchView = (SearchView)MenuItemCompat.getActionView(mSearchItem)</code></em></p></li>\n<li>Modify your <em>Themes</em> and <em>Styles</em>.</li>\n</ol>\n\n<p>For more info, please refer this slides by <a href=\"https://plus.google.com/+NickButcher/posts/bGWotMzC985\">+NickButcher</a> (Google)</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/MmOan.png\" alt=\"enter image description here\"></p>\n</blockquote>\n\n<p>Thanks to Sources: \n<a href=\"http://gmariotti.blogspot.in/2013/07/actionbarsherlock-vs-actionbarcompat.html\">http://gmariotti.blogspot.in/2013/07/actionbarsherlock-vs-actionbarcompat.html</a>\n<a href=\"http://antonioleiva.com/actionbarcompat-migrating-actionbarsherlock/\">http://antonioleiva.com/actionbarcompat-migrating-actionbarsherlock/</a></p>\n\n<p>Don't forget to read this <a href=\"https://developer.android.com/training/basics/actionbar/index.html\">developer.android</a> for more about ABC!</p>\n\n<p>Note: Setting it up for unit tests the same way as ABS is unfortunately not possible with the support library.</p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/UrRIp.png\" alt=\"enter image description here\"></p>\n</blockquote>\n\n<p>Credits: Gabriele Mariotti </p>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/18183801#18183801", "question_id": 7844517, "answer_id": 18183801}, {"body": "<p>Maybe we should update the answer because google published offical Actionbar support since <a href=\"http://developer.android.com/tools/support-library/index.html#revisions\">API18</a>?</p>\n\n<p>block below is from <a href=\"http://android-developers.blogspot.in/2013/08/actionbarcompat-and-io-2013-app-source.html\">offical blog</a> about these two libraries:</p>\n\n<blockquote>\n  <p>If you\u2019re using a third-party solution (such as ActionBarSherlock), there are a few reasons to consider upgrading:</p>\n  \n  <ul>\n  <li>Can be kept updated as the Action Bar API evolves.</li>\n  <li>Integrated Ancestral Navigation support.</li>\n  <li>Use of framework Menu and MenuItem classes.</li>\n  <li>Continue to use the Support Library's Fragment class.</li>\n  <li>Integrated support for ActionBarDrawerToggle for use with DrawerLayout.</li>\n  <li>Backport of PopupMenu.</li>\n  </ul>\n  \n  <p>ActionBarSherlock is a solid and well-tested library which has served developers very well for a long time. If you are already using it and do not currently require any of the above then there is no need to migrate.</p>\n</blockquote>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/20237459#20237459", "question_id": 7844517, "answer_id": 20237459}, {"body": "<ul>\n<li><p>I strongly believe that you should use <code>ActionBarCompat</code> for all new\nprojects that want to support older devices.</p></li>\n<li><p>It also might make sense to migrate existing projects. So read on to\nlearn why you should migrate or use ActionBarCompat right away and\nhow to migrate existing projects.</p></li>\n</ul>\n\n<p><strong>Why you should prefer ActionBarCompat over ActionBarSherlock?</strong></p>\n\n<p>There are many reasons why you should prefer ActionbarCompat over ActionbarSherlock. </p>\n\n<ol>\n<li><p>First of all this project is by Google, is part of the Support\nLibrary and thus likely will support new Action Bar related stuff at\nthe same time Google releases them with stock Android.</p></li>\n<li><p>Another good reason is that it supports the <code>Navigation Drawer\npattern</code> right out of the box, while ActionBarSherlock does not. Thus\nif you want to add this drawer to an existing project/app you should\nmigrate.</p></li>\n<li><p>The last and Important  is, that the creator of ActionBarSherlock,\nJake Wharton, announced on Google+ that further development of\nActionBarSherlock has been stopped. ActionBarSherlock 4.4 is the\nlast release and might get bug fixes \u2013 but there won\u2019t be any new\nfeatures:  So if new functionality is included in actionbar you may\nnot keep up to it  with actionbarsherlock.</p></li>\n</ol>\n", "title": "Difference between ActionBarSherlock and ActionBar Compatibility", "tags": ["java", "android", "actionbarsherlock", "android-actionbar", "android-actionbar-compat"], "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility/25037815#25037815", "question_id": 7844517, "answer_id": 25037815}], "creation_date": 1319166217, "score": 148, "link": "http://stackoverflow.com/questions/7844517/difference-between-actionbarsherlock-and-actionbar-compatibility", "question_id": 7844517}, {"body": "<p>I'm trying to replace a character at a specific index in a string. </p>\n\n<p>What I'm doing is:</p>\n\n<pre><code>String myName = \"domanokz\";\nmyName.charAt(4) = 'x';\n</code></pre>\n\n<p>This gives an error.  Is there any method to do this?</p>\n", "tags": ["java", "string", "replace", "indexing", "character"], "title": "Replace a character at a specific index in a string?", "answers": [{"body": "<p>String are immutable in Java. You can't change them.</p>\n\n<p>You need to create a new string with the character replaced.</p>\n\n<pre><code>String myName = \"domanokz\";\nString newName = myName.substring(0,4)+'x'+myName.substring(5);\n</code></pre>\n\n<p>Or you can use a StringBuilder:</p>\n\n<pre><code>StringBuilder myName = new StringBuilder(\"domanokz\");\nmyName.setCharAt(4, 'x');\n\nSystem.out.println(myName);\n</code></pre>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/6952379#6952379", "question_id": 6952363, "answer_id": 6952379}, {"body": "<p>String is an immutable class in java any methods which seem to modify it always return a new string object with modification.\nif you want to manipulate a string consider StringBuilder or StringBuffer in case you require thread safety</p>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/6952610#6952610", "question_id": 6952363, "answer_id": 6952610}, {"body": "<p>I agree with Petar Ivanov but it is best if we implement in following way:</p>\n\n<pre><code>public String replace(String str, int index, char replace){     \n    if(str==null){\n        return str;\n    }else if(index&lt;0 || index&gt;=str.length()){\n        return str;\n    }\n    char[] chars = str.toCharArray();\n    chars[index] = replace;\n    return String.valueOf(chars);       \n}\n</code></pre>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/10415566#10415566", "question_id": 6952363, "answer_id": 10415566}, {"body": "<p>First thing I should have noticed is that <code>charAt</code> is a method and assigning value to it using equal sign won't do anything. If a string is immutable, <code>charAt</code> method, to make change to the string object must receive an argument containing the new character. Unfortunately, string is immutable. To modify the string, I needed to use StringBuilder as suggested by Mr. Petar Ivanov.</p>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/11115184#11115184", "question_id": 6952363, "answer_id": 11115184}, {"body": "<p>this will work</p>\n\n<pre><code>   String myName=\"domanokz\";\n   String p=myName.replace(myName.charAt(4),'x');\n   System.out.println(p);\n</code></pre>\n\n<p>Output : domaxokz</p>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/12077554#12077554", "question_id": 6952363, "answer_id": 12077554}, {"body": "<p>Turn the String into a char[], replace the letter by index, then convert the array back into a String.</p>\n\n<pre><code>String myName = \"domanokz\";\nchar[] myNameChars = myName.toCharArray();\nmyNameChars[4] = 'x';\nmyName = String.valueOf(myNameChars);\n</code></pre>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/13326124#13326124", "question_id": 6952363, "answer_id": 13326124}, {"body": "<p>You can overwrite a string, as follows:  </p>\n\n<pre><code>String myName = \"halftime\";\nmyName = myName.substring(0,4)+'x'+myName.substring(5);  \n</code></pre>\n\n<p>Note that the string <code>myName</code> occurs on both lines, and on both sides of the second line.  </p>\n\n<p>Therefore, even though strings may technically be immutable, in practice, you can treat them as editable by overwriting them.</p>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/16026642#16026642", "question_id": 6952363, "answer_id": 16026642}, {"body": "<p>As previously answered here, <code>String</code> instances are <strong>immutable</strong>. <code>StringBuffer</code> and <code>StringBuilder</code> are mutable and suitable for such a purpose whether you need to be thread safe or not.</p>\n\n<p>There is however a way to modify a String but I would never recommend it because it is unsafe, unreliable and it can can be considered as cheating : you can use <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow\">reflection</a> to modify the inner <code>char</code> array the String object contains. <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow\">Reflection</a> allows you to access fields and methods that are normally hidden in the current scope (private methods or fields from another class...).</p>\n\n<pre><code>public static void main(String[] args) {\n    String text = \"This is a test\";\n    try {\n        //String.value is the array of char (char[])\n        //that contains the text of the String\n        Field valueField = String.class.getDeclaredField(\"value\");\n        //String.value is a private variable so it must be set as accessible \n        //to read and/or to modify its value\n        valueField.setAccessible(true);\n        //now we get the array the String instance is actually using\n        char[] value = (char[])valueField.get(text);\n        //The 13rd character is the \"s\" of the word \"Test\"\n        value[12]='x';\n        //We display the string which should be \"This is a text\"\n        System.out.println(text);\n    } catch (NoSuchFieldException | SecurityException e) {\n        e.printStackTrace();\n    } catch (IllegalArgumentException e) {\n        e.printStackTrace();\n    } catch (IllegalAccessException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n", "title": "Replace a character at a specific index in a string?", "tags": ["java", "string", "replace", "indexing", "character"], "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string/33238444#33238444", "question_id": 6952363, "answer_id": 33238444}], "creation_date": 1312526181, "score": 147, "link": "http://stackoverflow.com/questions/6952363/replace-a-character-at-a-specific-index-in-a-string", "question_id": 6952363}, {"body": "<p>JRebel allows for newly compiled code to be redeployed without restarting the application.  I am wondering if there are any alternative (free?).  The  <a href=\"http://zeroturnaround.com/jrebel/faq/#3\">FAQ</a> page answers this question, but I am sure it's biased towards JRebel.  This question was asked a year ago on this site, but I am bringing it back up to see if anyone has any new information.</p>\n\n<p>On a side note, I really like JRebel, but if there is a free alternative, I am willing to try it.</p>\n\n<p>One additional note, I am working on an open source project, and they offer free one year licenses to people who can prove they are on an open source project.  Which works great for me (www.kuali.org), but I won't be on that project forever.</p>\n", "tags": ["java", "hotswap"], "title": "Redeploy alternatives to JRebel", "answers": [{"body": "<p>Take a look at <a href=\"http://ssw.jku.at/dcevm\">DCEVM</a>, it's a modification of the HotSpot VM that allows unlimited class redefinitions at runtime. You can add/remove fields and methods and change the super types of a class at runtime. The features of DCEVM are likely to be integrated in a future update of Java as part of <a href=\"http://openjdk.java.net/jeps/159\">JEP 159</a>.</p>\n\n<p>The binaries available on the site are limited to Java 6u25 and to early versions of Java 7. The project has been forked on <a href=\"https://github.com/dcevm/dcevm\">Github</a> and supports recent versions of Java 7 and 8. The maintainer provides binaries for 32/64 bits VMs on Windows/Linux. Starting with Debian 7 (Wheezy) and Ubuntu 15.04 DCEVM can be installed with the <a href=\"https://packages.qa.debian.org/o/openjdk-7-jre-dcevm.html\">openjdk-7-jre-dcevm</a> and <a href=\"https://packages.qa.debian.org/o/openjdk-8-jre-dcevm.html\">openjdk-8-jre-dcevm</a> packages, and invoked with <code>java -dcevm</code>.</p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/7999973#7999973", "question_id": 7998669, "answer_id": 7999973}, {"body": "<p>I have written an article about <a href=\"http://ssw.jku.at/dcevm/\">DCEVM</a>: <a href=\"http://blog.rafaelsanches.com/2012/02/02/spring-mvc-velocity-dcevm/\">Spring-mvc + Velocity + DCEVM</a> </p>\n\n<p>I think it's worth it, since my environment is running without any problems. </p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/9137731#9137731", "question_id": 7998669, "answer_id": 9137731}, {"body": "<p>I have been working on an open source project that allows you to hot replace classes over and above what hot swap allows: <a href=\"https://github.com/fakereplace/fakereplace\">https://github.com/fakereplace/fakereplace</a></p>\n\n<p>It may or may not work for you, but any feedback is appreciated</p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/10568580#10568580", "question_id": 7998669, "answer_id": 10568580}, {"body": "<p>By the Spring guys, used for Grails reloading but works with Java too:</p>\n\n<p><a href=\"https://github.com/SpringSource/spring-loaded\">https://github.com/SpringSource/spring-loaded</a></p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/14598586#14598586", "question_id": 7998669, "answer_id": 14598586}, {"body": "<p>JRebel is free. Don't buy it. Select the \"free\" option (radio button) on the \"buy\" page. Then select \"Social\". After you sign up, you will get a fully functional JRebel license key. You can then download JRebel or use the key in your IDEs embedded version. The catch, (yes, there is a catch), you have to allow them to post on your behalf (advertise) once a month on your FB timeline or Twitter account. I gave them my twitter account, no biggie, I never use it and no one I know really uses it. So save $260. </p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/19865019#19865019", "question_id": 7998669, "answer_id": 19865019}, {"body": "<p><a href=\"https://github.com/HotswapProjects/HotswapAgent\">Hotswap Agent</a> is an extension to DCEVM which supports many Java frameworks (reload Spring bean definition, Hibernate entity mapping, logger level setup, ...). </p>\n\n<p>There is also lot of documentation how to setup DCEVM and compiled binaries for Java 1.7.</p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/21999106#21999106", "question_id": 7998669, "answer_id": 21999106}, {"body": "<p>You might want to take a look this:</p>\n\n<blockquote>\n  <p>HotSwap support: the object-oriented architecture of the Java HotSpot VM enables advanced features such as on-the-fly class redefinition, or \"HotSwap\". This feature provides the ability to substitute modified code in a running application through the debugger APIs. HotSwap adds functionality to the Java Platform Debugger Architecture, enabling a class to be updated during execution <strong>while under the control of a debugger</strong>. It also allows profiling operations to be performed by hotswapping in versions of methods in which profiling code has been inserted.</p>\n</blockquote>\n\n<p>For the moment, this only allows for newly compiled method body to be redeployed without restarting the application. All you have to do is to run it with a debugger.\nI tried it in Eclipse and it works splendidly.</p>\n\n<p>Also, as Emmanuel Bourg mentioned in his answer (<a href=\"http://openjdk.java.net/jeps/159\" rel=\"nofollow\">JEP 159</a>), there is hope to have support for the addition of supertypes and the addition and removal of methods and fields.</p>\n\n<p>Reference:\n<a href=\"http://www.oracle.com/technetwork/java/whitepaper-135217.html#ras\" rel=\"nofollow\">Java Whitepaper 135217: \nReliability, Availability and Serviceability</a></p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/23341341#23341341", "question_id": 7998669, "answer_id": 23341341}, {"body": "<p>There is a new fork of dcevm for current JDK7/8 on GitHub.</p>\n\n<p><a href=\"https://github.com/dcevm/dcevm/releases\">https://github.com/dcevm/dcevm/releases</a></p>\n", "title": "Redeploy alternatives to JRebel", "tags": ["java", "hotswap"], "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel/23408429#23408429", "question_id": 7998669, "answer_id": 23408429}], "creation_date": 1320338806, "score": 147, "link": "http://stackoverflow.com/questions/7998669/redeploy-alternatives-to-jrebel", "question_id": 7998669}, {"body": "<p>I am working on a new <code>Android</code> project (<code>Java</code>), and created an Object with a large number of variables. Since I am planning to add getters and setters for all of them, I was wondering: is there a shortcut in <code>Eclipse</code> for automatically generating the getters and setters in a given class?</p>\n", "tags": ["java", "android", "eclipse"], "title": "Is there a way to automatically generate getters and setters in Eclipse?", "answers": [{"body": "<p>Bring up the context menu (i.e. right click) in the source code window of the desired class. Then select the <code>Source</code> submenu; from that menu selecting <code>Generate Getters and Setters...</code> will cause a wizard window will appear.</p>\n\n<p><code>Source -&gt; Generate Getters and Setters...</code></p>\n\n<p>Select the variables you wish to create getters and setters for and click <code>OK</code>.</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/7221702#7221702", "question_id": 7221691, "answer_id": 7221702}, {"body": "<p>Sure.</p>\n\n<blockquote>\n  <p>Use Generate Getters and Setters from the Source menu or the context menu on a selected field or type, or a text selection in a type to open the dialog. The Generate Getters and Setters dialog shows getters and setters for all fields of the selected type. The methods are grouped by the type's fields.</p>\n</blockquote>\n\n<p>Take a look at the <a href=\"http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-dialog-gettersetter.htm\">help documentation</a> for more information.</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/7221707#7221707", "question_id": 7221691, "answer_id": 7221707}, {"body": "<p><code>Right click -&gt; Source -&gt; Generate setters and getters</code></p>\n\n<p>But to make it even more convenient, <a href=\"http://techblog.bozho.net/?p=85\">I always map this to</a> <code>ALT + SHIFT + G</code> from <code>Windows -&gt; Preferences  -&gt; General -&gt; Keys</code></p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/7221715#7221715", "question_id": 7221691, "answer_id": 7221715}, {"body": "<p>Yes. Right-click on code and you see a menu pop up; there \"Source\", \"Generate Getters and Setters\" <em>and</em> next to it you can see the shortcut, which is Alt+Shift+S and R on my system.</p>\n\n<p>Similarly you can navigate to other submenus in that main menu, by typing the appropriate shortcut you go straight the submenu instead of main context menu, and can then either pick from menu or type another letter to pick from the list.</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/7221720#7221720", "question_id": 7221691, "answer_id": 7221720}, {"body": "<p>Right click-> generate getters and setters does the job well but if you want to create a keyboard shortcut in eclipse in windows, you can follow the following steps:</p>\n\n<ol>\n<li>Go to Window > Preferences</li>\n<li>Go to General > Keys</li>\n<li>List for \"Quick Assist - Create getter/setter for field\"</li>\n<li>In the \"Binding\" textfield below, hold the desired keys (in my case, I use ALT + SHIFT + G)</li>\n<li>Hit Apply and Ok</li>\n<li>Now in your Java editor, select the field you want to create getter/setter methods for and  press the shortcut you setup in Step 4. Hit ok in this window to create the methods.</li>\n</ol>\n\n<p>Hope this helps!</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/14715457#14715457", "question_id": 7221691, "answer_id": 14715457}, {"body": "<p>In Eclipse Juno, by default, <strong>ALT+SHIFT+S,R</strong> opens the getter/setter dialog box. Note you have to press all 4 keys.</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/15278502#15278502", "question_id": 7221691, "answer_id": 15278502}, {"body": "<p>I prefer to create the private field first</p>\n\n<pre><code>private String field;\n</code></pre>\n\n<p>Eclipse will auto highlight the variable, by positioning cursor over your new variable, press Ctrl + 1. It will then give you the menu to Create getter and setter.</p>\n\n<p>I press Ctrl + 1 because it is a bit more intelligent about what I think you want next.</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/16826487#16826487", "question_id": 7221691, "answer_id": 16826487}, {"body": "<p>Eclipse > Source > Generate Getters and Setters</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/19923631#19923631", "question_id": 7221691, "answer_id": 19923631}, {"body": "<p>Press Alt+Shift+S+R... and then only select which all fields you have to generate Getters or Setters or both</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/21932313#21932313", "question_id": 7221691, "answer_id": 21932313}, {"body": "<p>On <strong>Mac OS</strong> it's <code>Alt+Cmd+S</code> then select \"...Getters and Setters\"</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/21937783#21937783", "question_id": 7221691, "answer_id": 21937783}, {"body": "<p>Ways to Generate Getters &amp; Setters - </p>\n\n<p>1) Press <strong>Alt + Shift + S + R</strong> <br>\n2) <strong>Right click</strong> -> Source -> Generate Getters &amp; Setters <br>\n3) Go to <strong>Source menu</strong> -> Generate Getters &amp; Setters <br>\n4) Go to <strong>Windows menu</strong> -> Preferences  -> General -> Keys (Write Generate Getters &amp; Setters on text field) <br>\n5) <strong>Click on error bulb</strong> of the field -> create getters &amp; setters ...<br>\n6) <strong>Press Ctrl + 3</strong> and write getters &amp; setters on text field then select option Generate Getters &amp; Setters<br></p>\n\n<p>if <strong>Mac OS</strong> press Alt+cmd+S then select Getters &amp; Setters</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/26828414#26828414", "question_id": 7221691, "answer_id": 26828414}, {"body": "<p>Right click on the property you want to generate the getter and setters for and choose </p>\n\n<pre><code>Source -&gt; Generate Getters and Setters...\n</code></pre>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/27069750#27069750", "question_id": 7221691, "answer_id": 27069750}, {"body": "<p>1) Go to <strong><em>Windows->Preferences->General->Keys</em></strong></p>\n\n<p>2) Select the <code>command</code> \"<strong>Generate Getters and Setters</strong>\"</p>\n\n<p>3) In the <code>Binding</code>, <strong><em>press the shortcut</em></strong> to like to use (like <em>Alt+Shift+G</em>) </p>\n\n<p>4) Click <strong>apply</strong> and you are good to go</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/34503088#34503088", "question_id": 7221691, "answer_id": 34503088}, {"body": "<p><strong>All the other answers are just focus on the IDE level, these are not the most effective and elegant way to generate getters and setters.</strong> \nIf you have tens of attributes, the relevant getters and setters methods will make your class code very verbose.</p>\n\n<p><strong>The best way I ever used to generate getters and setters automatically is using project lombok annotations in your java project</strong>, lombok.jar will generate getter and setter method when you compile java code. </p>\n\n<p>You just focus on class attributes/variables naming and definition, lombok will do the rest. This is easy to maintain your code. </p>\n\n<p>For example, if you want to add getter and setter method for <code>age</code> variable, you just add two lombok annotations:\n</p>\n\n<pre><code>@Getter @Setter \npublic int age = 10;\n</code></pre>\n\n<p>This is equal to code like that:</p>\n\n<pre><code>private int age = 10;\npublic int getAge() {\n    return age;\n}\npublic void setAge(int age) {\n    this.age = age;\n}\n</code></pre>\n\n<p>You can find more details about lombok here: <a href=\"https://projectlombok.org/\">Project Lombok</a></p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/35471477#35471477", "question_id": 7221691, "answer_id": 35471477}, {"body": "<p>**In Eclipse Ide</p>\n\n<p>for generating both setters and getters -> alt+shift+s+r then Alt A then click on ok;</p>\n\n<p>for generating only getters ->alt+shift+s+r then press g then click on ok button;</p>\n\n<p>for generating only setters ->alt+shift+s+r then press l then click on ok button;**</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/36619501#36619501", "question_id": 7221691, "answer_id": 36619501}, {"body": "<p>There is an open source jar available know as <a href=\"https://projectlombok.org\" rel=\"nofollow\">Lombok</a> ,  you just add jar and then annotate your POJO with @Data it will create getters and setters automatically.</p>\n", "title": "Is there a way to automatically generate getters and setters in Eclipse?", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse/38793287#38793287", "question_id": 7221691, "answer_id": 38793287}], "creation_date": 1314543398, "score": 145, "link": "http://stackoverflow.com/questions/7221691/is-there-a-way-to-automatically-generate-getters-and-setters-in-eclipse", "question_id": 7221691}, {"body": "<p>Note: I am aware of the <code>Iterator#remove()</code> method.</p>\n\n<p>In the following code sample, I don't understand why the <code>List.remove</code> in <code>main</code> method throws <code>ConcurrentModificationException</code> but not in the <code>remove</code> method.</p>\n\n<pre><code>public class RemoveListElementDemo {    \n    private static final List&lt;Integer&gt; integerList;\n\n    static {\n        integerList = new ArrayList&lt;Integer&gt;();\n        integerList.add(1);\n        integerList.add(2);\n        integerList.add(3);\n    }\n\n    public static void remove(Integer toRemove) {\n        for(Integer integer : integerList) {\n            if(integer.equals(toRemove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n\n    public static void main(String... args) {                \n        remove(Integer.valueOf(2));\n\n        Integer toRemove = Integer.valueOf(3);\n        for(Integer integer : integerList) {\n            if(integer.equals(toRemove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n}\n</code></pre>\n", "tags": ["java", "list", "concurrentmodification", "foreach"], "title": "java.util.ConcurrentModificationException", "answers": [{"body": "<p>This snippet will <em>always</em> throw a ConcurrentModificationException.</p>\n\n<p>The rule is \"You may not modify (add or remove elements from the list) while iterating over it using an Iterator (which happens when you use a for-each loop)\".</p>\n\n<p><strong>JavaDocs:</strong></p>\n\n<p><em>The iterators returned by this class's iterator and listIterator methods are fail-fast: if the list is structurally modified at any time after the iterator is created, in any way except through the iterator's own remove or add methods, the iterator will throw a ConcurrentModificationException.</em></p>\n\n<p>Hence if you want to modify the list (or any collection in general), use iterator, because then it is aware of the modifications and hence those will be handled properly. </p>\n\n<p>Hope this helps.</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/8189527#8189527", "question_id": 8189466, "answer_id": 8189527}, {"body": "<p>One way to handle it it to remove something from a copy of a <code>Collection</code> (not Collection itself), if applicable. <code>Clone</code> the original collection it to make a copy via a <code>Constructor</code>.</p>\n\n<blockquote>\n  <p>This exception may be thrown by methods that have detected concurrent\n  modification of an object when such modification is not permissible.</p>\n</blockquote>\n\n<p>For your specific case, first off, i don't think <code>final</code> is a way to go considering you intend to modify the list past declaration</p>\n\n<pre><code>private static final List&lt;Integer&gt; integerList;\n</code></pre>\n\n<p>Also consider modifying a copy instead of the original list.</p>\n\n<pre><code>List&lt;Integer&gt; copy = new ArrayList&lt;Integer&gt;(integerList);\n\nfor(Integer integer : integerList) {\n    if(integer.equals(remove)) {                \n        copy.remove(integer);\n    }\n}\n</code></pre>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/8189563#8189563", "question_id": 8189466, "answer_id": 8189563}, {"body": "<p>Here's why:\nAs it is says in the Javadoc:</p>\n\n<blockquote>\n  <p>The iterators returned by this class's iterator and listIterator\n  methods are fail-fast: if the list is structurally modified at any\n  time after the iterator is created, in any way except through the\n  iterator's own remove or add methods, the iterator will throw a\n  ConcurrentModificationException.</p>\n</blockquote>\n\n<p>This check is done in the <code>next()</code> method of the iterator (as you can see by the stacktrace). But we will reach the <code>next()</code> method only if <code>hasNext()</code> delivered true, which is what is called by the for each to check if the boundary is met. In your remove method, when <code>hasNext()</code> checks if it needs to return another element, it will see that it returned two elements, and now after one element was removed the list only contains two elements. So all is peachy and we are done with iterating. The check for concurrent modifications does not occur, as this is done in the <code>next()</code> method which is never called.</p>\n\n<p>Next we get to the second loop. After we remove the second number the hasNext method will check again if can return more values. It has returned two values already, but the list now only contains one. But the code here is:</p>\n\n<pre><code>public boolean hasNext() {\n        return cursor != size();\n}\n</code></pre>\n\n<p>1 != 2, so we continue to the <code>next()</code> method, which now realizes that someone has been messing with the list and fires the exception.</p>\n\n<p>Hope that clears your question up.</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/8189786#8189786", "question_id": 8189466, "answer_id": 8189786}, {"body": "<p>This runs fine on Java 1.6</p>\n\n<p>~ % javac RemoveListElementDemo.java<br>\n~ % java RemoveListElementDemo<br>\n~ % cat RemoveListElementDemo.java  </p>\n\n<pre><code>import java.util.*;\npublic class RemoveListElementDemo {    \n    private static final List&lt;Integer&gt; integerList;\n\n    static {\n        integerList = new ArrayList&lt;Integer&gt;();\n        integerList.add(1);\n        integerList.add(2);\n        integerList.add(3);\n    }\n\n    public static void remove(Integer remove) {\n        for(Integer integer : integerList) {\n            if(integer.equals(remove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n\n    public static void main(String... args) {                \n        remove(Integer.valueOf(2));\n\n        Integer remove = Integer.valueOf(3);\n        for(Integer integer : integerList) {\n            if(integer.equals(remove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>~ %</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/11452848#11452848", "question_id": 8189466, "answer_id": 11452848}, {"body": "<p>Check your code man....</p>\n\n<p>In the main method you are trying to remove the 4th element which is not there and hence the error.\nIn the remove() method you are trying to remove the 3rd element which is there and hence no error.</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/18380907#18380907", "question_id": 8189466, "answer_id": 18380907}, {"body": "<p>The forward/iterator method does not work when removing items.  You can remove the element without error, but you will get a runtime error when you try to access removed items.   You can't use the iterator because as pushy shows it will cause a ConcurrentModificationException, so use a regular for loop instead, but step backwards through it.  </p>\n\n<pre><code>List&lt;Integer&gt; integerList;\nintegerList = new ArrayList&lt;Integer&gt;();\nintegerList.add(1);\nintegerList.add(2);\nintegerList.add(3);\n\nint size= integerList.size();\n\n//Item to remove\nInteger remove = Integer.valueOf(3);\n</code></pre>\n\n<p><strong>A solution:</strong></p>\n\n<p>Traverse the array in reverse order if you are going to remove a list element.  Simply by going backwards through the list you avoid visiting an item that has been removed, which removes the exception.</p>\n\n<pre><code>//To remove items from the list, start from the end and go backwards through the arrayList\n//This way if we remove one from the beginning as we go through, then we will avoid getting a runtime error\n//for java.lang.IndexOutOfBoundsException or java.util.ConcurrentModificationException as when we used the iterator\nfor (int i=size-1; i&gt; -1; i--) {\n    if (integerList.get(i).equals(remove) ) {\n        integerList.remove(i);\n    }\n}\n</code></pre>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/18740953#18740953", "question_id": 8189466, "answer_id": 18740953}, {"body": "<p>I had that same problem but in case that I was adding en element into iterated list.\nI made it this way</p>\n\n<pre><code>public static void remove(Integer remove) {\n    for(int i=0; i&lt;integerList.size(); i++) {\n        //here is maybe fine to deal with integerList.get(i)==null\n        if(integerList.get(i).equals(remove)) {                \n            integerList.remove(i);\n        }\n    }\n}\n</code></pre>\n\n<p>Now everything goes fine because you don't create any iterator over your list, you iterate over it \"manually\". And condition <code>i &lt; integerList.size()</code> will never fool you because when you remove/add something into List size of the List decrement/increment..</p>\n\n<p>Hope it helps, for me that was solution.</p>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/23592535#23592535", "question_id": 8189466, "answer_id": 23592535}, {"body": "<p>In my case I did it like this:</p>\n\n<pre><code>int cursor = 0;\ndo {\n    if (integer.equals(remove))\n        integerList.remove(cursor);\n    else cursor++;\n} while (cursor != integerList.size());\n</code></pre>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/26757242#26757242", "question_id": 8189466, "answer_id": 26757242}, {"body": "<p>If you use copy-on-write collections it will work; however when you use list.iterator(), the returned Iterator will always reference the collection of elements as it was when ( as below ) \nlist.iterator() was called, even if another thread modifies the collection. Any\nmutating methods called on a copy-on-write\u2013based Iterator or ListIterator\n(such as add, set, or remove) will throw an UnsupportedOperationException.</p>\n\n<pre><code>import java.util.List;\nimport java.util.concurrent.CopyOnWriteArrayList;\n\npublic class RemoveListElementDemo {    \n    private static final List&lt;Integer&gt; integerList;\n\n    static {\n        integerList = new CopyOnWriteArrayList&lt;&gt;();\n        integerList.add(1);\n        integerList.add(2);\n        integerList.add(3);\n    }\n\n    public static void remove(Integer remove) {\n        for(Integer integer : integerList) {\n            if(integer.equals(remove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n\n    public static void main(String... args) {                \n        remove(Integer.valueOf(2));\n\n        Integer remove = Integer.valueOf(3);\n        for(Integer integer : integerList) {\n            if(integer.equals(remove)) {                \n                integerList.remove(integer);\n            }\n        }\n    }\n}\n</code></pre>\n", "title": "java.util.ConcurrentModificationException", "tags": ["java", "list", "concurrentmodification", "foreach"], "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception/28705242#28705242", "question_id": 8189466, "answer_id": 28705242}], "creation_date": 1321652113, "score": 145, "link": "http://stackoverflow.com/questions/8189466/java-util-concurrentmodificationexception", "question_id": 8189466}, {"body": "<p>I know that 'crossing boundaries' when making a JNI call in Java is slow.</p>\n\n<p>However I want to know <em>what</em> is it that makes it slow?\nWhat does the underlying jvm implementation do when making a JNI call that makes it so slow?</p>\n", "tags": ["java", "performance", "jni"], "title": "What makes JNI calls slow?", "answers": [{"body": "<p>Basically the JVM interpretively constructs the C parameters for each JNI call and the code is not optimized.</p>\n\n<p>There are many more details outlined in <a href=\"https://web.archive.org/web/20120210162557/http://janet-project.sourceforge.net/papers/jnibench.pdf\" rel=\"nofollow\">this paper</a></p>\n\n<p>If you are interested in benchmarking JNI vs native code <a href=\"https://github.com/aclindsa/jnioverhead\" rel=\"nofollow\">this project</a> has code for running benchmarks.</p>\n", "title": "What makes JNI calls slow?", "tags": ["java", "performance", "jni"], "link": "http://stackoverflow.com/questions/7699020/what-makes-jni-calls-slow/7699115#7699115", "question_id": 7699020, "answer_id": 7699115}, {"body": "<p>First, it's worth noting that by \"slow,\" we're talking about something that can take tens of nanoseconds. For trivial native methods, in 2010 I measured calls at an average 40 ns on my Windows desktop, and 11 ns on my Mac desktop. Unless you're making <em>many</em> calls, you're not going to notice.</p>\n\n<p>That said, calling a native method can be <em>slower</em> than making a normal Java method call. Causes include:</p>\n\n<ul>\n<li>Native methods will not be inlined by the JVM. Nor will they be just-in-time compiled for this specific machine -- they're already compiled.</li>\n<li>A Java array may be copied for access in native code, and later copied back. The cost can be linear in the size of the array. I measured JNI <em>copying</em> of a 100,000 array to average about 75 microseconds on my Windows desktop, and 82 microseconds on Mac. Fortunately, direct access may be obtained via <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#GetPrimitiveArrayCritical_ReleasePrimitiveArrayCritical\">GetPrimitiveArrayCritical</a> or <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/functions.html#NewDirectByteBuffer\">NewDirectByteBuffer</a>.</li>\n<li>If the method is passed an object, or needs to make a callback, then the native method will likely be making its own calls to the JVM. Accessing Java fields, methods and types from the native code requires something similar to reflection. Signatures are specified in strings and queried from the JVM. This is both slow <em>and</em> error-prone.</li>\n<li>Java Strings are objects, have length and are encoded. Accessing or creating a string may require an O(n) copy.</li>\n</ul>\n\n<p>Some additional discussion, possibly dated, can be found in \"Java\u00bf Platform Performance: Strategies and Tactics\", 2000, by Steve Wilson and Jeff Kesselman, in section \"9.2: Examining JNI costs\". It's about a third of the way down <a href=\"http://www.mastercorp.free.fr/Ing1/Cours/Java/java_lesson1/doc/Tutorial/performance/JPNativeCode_fm.htm\">this page</a>, provided in the comment by @Philip below.</p>\n\n<p>The 2009 IBM developerWorks paper <a href=\"http://www.ibm.com/developerworks/java/library/j-jni/\">\"Best practices for using the Java Native Interface\"</a> provides some suggestions on avoiding performance pitfalls with JNI.</p>\n", "title": "What makes JNI calls slow?", "tags": ["java", "performance", "jni"], "link": "http://stackoverflow.com/questions/7699020/what-makes-jni-calls-slow/7809300#7809300", "question_id": 7699020, "answer_id": 7809300}, {"body": "<p>It is worth mentioning that not all Java methods marked with <code>native</code> are \"slow\". Some of them are <a href=\"http://en.wikipedia.org/wiki/Intrinsic_function\">intrinsics</a> that makes them extremely fast. To check which ones are intrinsic and which ones are not, you can look for <code>do_intrinsic</code> at <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/tip/src/share/vm/classfile/vmSymbols.hpp\">vmSymbols.hpp</a>.</p>\n", "title": "What makes JNI calls slow?", "tags": ["java", "performance", "jni"], "link": "http://stackoverflow.com/questions/7699020/what-makes-jni-calls-slow/11491199#11491199", "question_id": 7699020, "answer_id": 11491199}], "creation_date": 1318099582, "score": 145, "link": "http://stackoverflow.com/questions/7699020/what-makes-jni-calls-slow", "question_id": 7699020}, {"body": "<p>Let's suppose I have just used a <code>BufferedInputStream</code> to read the bytes of a UTF-8 encoded text file into a byte array. I know that I can use the following routine to convert the bytes to a string, but is there a more efficient/smarter way of doing this than just iterating through the bytes and converting each one? </p>\n\n<pre><code>public String openFileToString(byte[] _bytes)\n{\n    String file_string = \"\";\n\n    for(int i = 0; i &lt; _bytes.length; i++)\n    {\n        file_string += (char)_bytes[i];\n    }\n\n    return file_string;    \n}\n</code></pre>\n", "tags": ["java", "utf-8"], "title": "UTF-8 byte[] to String", "answers": [{"body": "<p>You can use the <code>String(byte[] bytes)</code>  constructor for that. See this <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#String%28byte%5B%5D%29\" rel=\"nofollow\">link</a> for details.\n<strong>EDIT</strong> You also have to consider your plateform's default charset as per the java doc:</p>\n\n<blockquote>\n  <p>Constructs a new String by decoding the specified array of bytes using\n  the platform's default charset. The length of the new String is a\n  function of the charset, and hence may not be equal to the length of\n  the byte array. The behavior of this constructor when the given bytes\n  are not valid in the default charset is unspecified. The\n  CharsetDecoder class should be used when more control over the\n  decoding process is required.</p>\n</blockquote>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512152#8512152", "question_id": 8512121, "answer_id": 8512152}, {"body": "<p>This also involves iterating, but this is much better than concatenating strings as they are very very costly.</p>\n\n<pre><code>public String openFileToString(String fileName)\n{\n    StringBuilder s = new StringBuilder(_bytes.length);\n\n    for(int i = 0; i &lt; _bytes.length; i++)\n    {\n        s.append((char)_bytes[i]);\n    }\n\n    return s.toString();    \n}\n</code></pre>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512157#8512157", "question_id": 8512121, "answer_id": 8512157}, {"body": "<p>String has a constructor that takes byte[] and charsetname as parameters :)</p>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512160#8512160", "question_id": 8512121, "answer_id": 8512160}, {"body": "<p>Java String class has a built-in-constructor for converting byte array to string.</p>\n\n<pre><code>byte[] byteArray = new byte[] {87, 79, 87, 46, 46, 46};\n\nString value = new String(byteArray, \"UTF-8\");\n</code></pre>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512162#8512162", "question_id": 8512121, "answer_id": 8512162}, {"body": "<p>Look at the constructor for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#String%28byte%5B%5D,%20java.lang.String%29\">String</a></p>\n\n<pre><code>String str = new String(bytes, StandardCharsets.UTF_8);\n</code></pre>\n\n<p>And if you're feeling lazy, you can use the <a href=\"http://commons.apache.org/io/\">Apache Commons IO</a> library to convert the InputStream to a String directly:</p>\n\n<pre><code>String str = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\n</code></pre>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512168#8512168", "question_id": 8512121, "answer_id": 8512168}, {"body": "<p>To convert utf-8 data, you can't assume a 1-1 correspondence between bytes and characters.\nTry this:</p>\n\n<pre><code>String file_string = new String(bytes, \"UTF-8\");\n</code></pre>\n\n<p>(Bah. I see I'm way to slow in hitting the Post Your Answer button.)</p>\n\n<p>To read an entire file as a String, do something like this:</p>\n\n<pre><code>public String openFileToString(String fileName) throws IOException\n{\n    InputStream is = new BufferedInputStream(new FileInputStream(fileName));\n\n    try {\n        InputStreamReader rdr = new InputStreamReader(is, \"UTF-8\");\n        StringBuilder contents = new StringBuilder();\n        char[] buff = new char[4096];\n        int len = rdr.read(buff);\n        while (len &gt;= 0) {\n            contents.append(buff, 0, len);\n        }\n        return buff.toString();\n    } finally {\n        try {\n            is.close();\n        } catch (Exception e) {\n            // log error in closing the file\n        }\n    }\n}\n</code></pre>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512183#8512183", "question_id": 8512121, "answer_id": 8512183}, {"body": "<p>Knowing that you are dealing with a UTF-8 byte array, you'll definitely want to use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#String%28byte%5b%5d,%20java.lang.String%29\" rel=\"nofollow\">String constructor that accepts a charset name</a>. Otherwise you may leave yourself open to some charset encoding based security vulnerabilities. Note that it throws <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/UnsupportedEncodingException.html\" rel=\"nofollow\"><code>UnsupportedEncodingException</code></a> which you'll have to handle. Something like this:</p>\n\n<pre><code>public String openFileToString(String fileName) {\n    String file_string;\n    try {\n        file_string = new String(_bytes, \"UTF-8\");\n    } catch (UnsupportedEncodingException e) {\n        // this should never happen because \"UTF-8\" is hard-coded.\n        throw new IllegalStateException(e);\n    }\n    return file_string;\n}\n</code></pre>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512192#8512192", "question_id": 8512121, "answer_id": 8512192}, {"body": "<p>You could use the methods described in this question (especially since you start off with an InputStream): <a href=\"http://stackoverflow.com/q/309424/372643\">In Java, how do I read/convert an InputStream to a String?</a></p>\n\n<p>In particular, if you don't want to rely on external libraries, you can try <a href=\"http://stackoverflow.com/a/309718/372643\">this answer</a>, which reads the <code>InputStream</code> via an <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/InputStreamReader.html\" rel=\"nofollow\"><code>InputStreamReader</code></a> into a <code>char[]</code> buffer and appends it into a <code>StringBuilder</code>.</p>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512215#8512215", "question_id": 8512121, "answer_id": 8512215}, {"body": "<p>Why not get what you are looking for from the get go and read a string from the file instead of an array of bytes?  Something like:</p>\n\n<pre><code>BufferedReader in = new BufferedReader(new InputStreamReader( new FileInputStream( \"foo.txt\"), Charset.forName( \"UTF-8\"));\n</code></pre>\n\n<p>then readLine from in until it's done.</p>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/8512309#8512309", "question_id": 8512121, "answer_id": 8512309}, {"body": "<p>Here's a simplified function that will read in bytes and create a string. It assumes you probably already know what encoding the file is in (and otherwise defaults).</p>\n\n<pre><code>static final int BUFF_SIZE = 2048;\nstatic final String DEFAULT_ENCODING = \"utf-8\";\n\npublic static String readFileToString(String filePath, String encoding) throws IOException {\n\n    if (encoding == null || encoding.length() == 0)\n        encoding = DEFAULT_ENCODING;\n\n    StringBuffer content = new StringBuffer();\n\n    FileInputStream fis = new FileInputStream(new File(filePath));\n    byte[] buffer = new byte[BUFF_SIZE];\n\n    int bytesRead = 0;\n    while ((bytesRead = fis.read(buffer)) != -1)\n        content.append(new String(buffer, 0, bytesRead, encoding));\n\n    fis.close();        \n    return content.toString();\n}\n</code></pre>\n", "title": "UTF-8 byte[] to String", "tags": ["java", "utf-8"], "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string/21157558#21157558", "question_id": 8512121, "answer_id": 21157558}], "creation_date": 1323899171, "score": 144, "link": "http://stackoverflow.com/questions/8512121/utf-8-byte-to-string", "question_id": 8512121}, {"body": "<p>I have older NB6.7, NB6.9, NB7.0, which used to run on jdk1.6.0_21 and jdk1.6.0_25. Now I've removed those JDKs and only have jdk1.6.0_26 and jdk1.7.0 left, but I still want to keep the older NBs, but now when I run them, I get this message:</p>\n\n<blockquote>\n  <p>\"Cannot locate java installation in specified jdkhome C:\\Program Files\n  (x86)\\Java\\jdk1.6.0_25\n      Do you want to try to use default version ?\"</p>\n</blockquote>\n\n<p>I tried to find where it's looking for the \"jdk1.6.0_25\", and updated a few config files in \"C:\\Program Files (x86)\\NetBeans 6.7\" and \"C:\\Users\\USER.nbi\\registry.xml\", and yet the message keeps coming, my question is, where and what do I need to change to point it to: <code>C:\\Program Files (x86)\\Java\\jdk1.6.0_26</code>?</p>\n", "tags": ["java", "netbeans"], "title": "How to set the JDK Netbeans runs on?", "answers": [{"body": "<p>It does not exactly answer your question, but to get around the problem, </p>\n\n<ol>\n<li><p>you can either create a .cmd file with following content:</p>\n\n<p><code>start netbeans --jdkhome c:\\path\\to\\jdk</code></p></li>\n<li><p>or in the shortcut of Netbeans set the above option.</p></li>\n</ol>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/6951018#6951018", "question_id": 6950960, "answer_id": 6951018}, {"body": "<p>Go to <code>Tools</code> -> <code>Java Platforms</code>. There, click on Add Platform, point it to  <code>C:\\Program Files (x86)\\Java\\jdk1.6.0_25</code>. You can either set the another JDK version or remove existing versions.</p>\n\n<p>Another solution <a href=\"http://wiki.netbeans.org/FaqJdkHome\">suggested</a> in the oracle (sun) site is,</p>\n\n<pre><code>netbeans.exe --jdkhome \"C:\\Program Files\\jdk1.6.0_20\"\n</code></pre>\n\n<p>I tried this on 6.9.1. You may change the JDK per project as well. You need to set the available JDKs via <code>Java Platforms</code> dialog. Then, go to <code>Run</code> -> <code>Set Project Configuration</code> -> <code>Customize</code>.\nAfter that, in the opened Dialog box go to <code>Build</code> -> <code>Compile</code>. Set the version.</p>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/6951067#6951067", "question_id": 6950960, "answer_id": 6951067}, {"body": "<p>Thanks to KasunBG's tip, I found the solution in the \"suggested\" link, update the following file (replace <strong>7.x</strong> with your Netbeans version) :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files\\NetBeans 7.x\\etc\\netbeans.conf\n</code></pre>\n\n<p>Change the following line to point it where your java installation is :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>netbeans_jdkhome=\"C:\\Program Files\\Java\\jdk1.7xxxxx\"\n</code></pre>\n\n<p>You may need Administrator privileges to edit <code>netbeans.conf</code></p>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/6958342#6958342", "question_id": 6950960, "answer_id": 6958342}, {"body": "<p>I had this message too because today i decided to relocate my different jdk in the same directory. I have decided to uninstall all through program manager of window. After that, of course i had the message below. </p>\n\n<p>\"Cannot locate java installation in specified jdkhome C:\\Program Files (x86)\\Java\\jdk1.7.0_60 Do you want to try to use default version ?\" </p>\n\n<p>A new install of the jdk does not resolve the problem. Ok you can configure that in menu <strong>Tool > java platforms</strong> but in my case i had to fix my <strong>netbeans.conf</strong> </p>\n\n<p>i had the line below</p>\n\n<pre><code>netbeans_jdkhome=\"C:\\Program Files\\Java\\jdk1.7.0_60\"\n</code></pre>\n\n<p>and i replace it by </p>\n\n<pre><code>netbeans_jdkhome=\"C:\\devtools\\Java\\jdk1.8.0_25\"\n</code></pre>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/26544970#26544970", "question_id": 6950960, "answer_id": 26544970}, {"body": "<p>As a further useful solution for those of you on Windows 7 and above - if you use:</p>\n\n<pre><code>C:\\Program Files\\Java&gt;mklink /D jdk8 jdk1.8.0_25\n</code></pre>\n\n<p>you get a <code>Symbolic Link</code> folder that can be adjusted whenever a new JDK comes out.</p>\n\n<p>All you need to do then is set your</p>\n\n<pre><code>netbeans_jdkhome=\"C:\\Program Files\\Java\\jdk8\"\n</code></pre>\n\n<p>(in both locations for Netbeans 8) and you never have to edit the config again. Just tweak the symlink each time your JDK is updated.</p>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/26659454#26659454", "question_id": 6950960, "answer_id": 26659454}, {"body": "<p>For those not using Windows the file to change is <code>netbeans-8.0/etc/netbeans.conf</code></p>\n\n<p>and the line(s) to change is:</p>\n\n<pre><code>netbeans_jdkhome=\"/usr/lib/jvm/java-8-oracle\"\n</code></pre>\n\n<p>commenting out the old value and inserting the new value</p>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/28464220#28464220", "question_id": 6950960, "answer_id": 28464220}, {"body": "<p>All the other answers have described how to explicitly specify the location of the java platform, which is fine if you really want to use a specific version of java.  However, if you just want to use the most up-to-date version of jdk, and you have that installed in a \"normal\" place for your operating system, then the best solution is to NOT specify a jdk location.  Instead, let the Netbeans launcher search for jdk every time you start it up. </p>\n\n<p>To do this, do not specify jdkhome on the command line, and comment out the line setting netbeans_jdkhome variable in any netbeans.conf files.  (See other answers for where to look for these files.)</p>\n\n<p>If you do this, when you install a new version of java, your netbeans will automagically use it.  In most cases, that's probably exactly what you want.</p>\n", "title": "How to set the JDK Netbeans runs on?", "tags": ["java", "netbeans"], "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on/36157658#36157658", "question_id": 6950960, "answer_id": 36157658}], "creation_date": 1312513587, "score": 139, "link": "http://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on", "question_id": 6950960}, {"body": "<p>Assuming that <code>arraylist</code> is defined as <code>ArrayList&lt;String&gt; arraylist</code>, is <a href=\"http://developer.android.com/reference/java/util/AbstractCollection.html#removeAll%28java.util.Collection%3C?%3E%29\"><code>arraylist.removeAll(arraylist)</code></a> equivalent to <a href=\"http://developer.android.com/reference/java/util/ArrayList.html#clear%28%29\"><code>arraylist.clear()</code></a>?</p>\n\n<p>If so, can I assume that the <code>clear()</code> method is more efficient for emptying the array list?</p>\n\n<p>Are there any caveats in using <code>arraylist.removeAll(arraylist)</code> instead of <code>arraylist.clear()</code>?</p>\n", "tags": ["java", "arraylist"], "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "answers": [{"body": "<p>Clear is faster because it does not loop over elements to delete. This method can assume that ALL elements can be deleted.</p>\n\n<p><code>Remove all</code> does not necessarily mean delete all elements in the list, only those provided as parameters SHOULD be delete. Hence, more effort is required to keep those which should not be deleted.</p>\n\n<p><strong>CLARIFICATION</strong></p>\n\n<p>By 'loop', I mean it does not have to check whether the element should be kept or not. It can set the reference to <code>null</code> without searching through the provided lists of elements to delete.</p>\n\n<p><code>Clear</code> IS faster than <code>deleteall</code>.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032093#7032093", "question_id": 7032070, "answer_id": 7032093}, {"body": "<p>They serve two different purposes. clear() just clears an instance of the class, removeAll removes all the given objects and returns the state of the operation.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032129#7032129", "question_id": 7032070, "answer_id": 7032129}, {"body": "<p>Unless there is a specific optimization that checks if the argument passed to <code>removeAll()</code> is the collection itself (and I <em>highly</em> doubt that such an optimization is there) it will be <em>significantly</em> slower than a simple <code>.clear()</code>.</p>\n\n<p>Apart from that (and <em>at least</em> equally important): <code>arraylist.removeAll(arraylist)</code> is just obtuse, confusing code. It is a very backwards way of saying \"clear this collection\". What advantage would it have over the <em>very understandable</em> <code>arraylist.clear()</code>?</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032137#7032137", "question_id": 7032070, "answer_id": 7032137}, {"body": "<p>The source code for <code>clear()</code>:</p>\n\n<pre><code>public void clear() {\n    modCount++;\n\n    // Let gc do its work\n    for (int i = 0; i &lt; size; i++)\n        elementData[i] = null;\n\n    size = 0;\n}\n</code></pre>\n\n<p>The source code for <code>removeAll()</code>(As defined in <code>AbstractCollection</code>):</p>\n\n<pre><code>public boolean removeAll(Collection&lt;?&gt; c) {\n    boolean modified = false;\n    Iterator&lt;?&gt; e = iterator();\n    while (e.hasNext()) {\n        if (c.contains(e.next())) {\n            e.remove();\n            modified = true;\n        }\n    }\n    return modified;\n}\n</code></pre>\n\n<p><code>clear()</code> is much faster since it doesn't have to deal with all those extra method calls.</p>\n\n<p>And as Atrey points out, <code>c.contains(..)</code> increases the time complexity of <code>removeAll</code> to O(n^2) as opposed to <code>clear</code>'s O(n).</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032144#7032144", "question_id": 7032070, "answer_id": 7032144}, {"body": "<p>clear() will be much more efficient. It will simply remove each and every item. Using removeAll(arraylist) will take a lot more work because it will check every item in arraylist to see if it exists in arraylist before removing it.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032147#7032147", "question_id": 7032070, "answer_id": 7032147}, {"body": "<p>The time complexity of ArrayList.clear() is <code>O(n)</code> and of removeAll is <code>O(n^2)</code>.</p>\n\n<p>So yes, ArrayList.clear is much faster.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032149#7032149", "question_id": 7032070, "answer_id": 7032149}, {"body": "<p>The <code>clear()</code> method removes all the elements of a single <code>ArrayList</code>. It's a fast operation, as it just sets some array elements to <code>null</code>.</p>\n\n<p>The <code>removeAll(Collection)</code> method, which is inherited from <code>AbstractCollection</code>, removes all the elements that are in the argument collection from the collection you call the method on. It's a relatively slow operation, as it has to search through one of the collections involved.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032180#7032180", "question_id": 7032070, "answer_id": 7032180}, {"body": "<p><code>clear()</code> will go through the underlying Array and set each entry to null;</p>\n\n<p><code>removeAll(collection)</code> will go through the ArrayList checking for collection and <code>remove(Object)</code> it if it exists. </p>\n\n<p>I would imagine that <code>clear()</code> is way faster then removeAll because it's not comparing, etc.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/7032208#7032208", "question_id": 7032070, "answer_id": 7032208}, {"body": "<p>Array => once the space is allocated for an Array variable at the run time, the allocated space can not be extended or removed.</p>\n\n<p>ArrayList => This is not the case in arraylist. ArrayList can grow and shrink at the run time.\n             The allocated space can be minimized or maximized at the run time.</p>\n", "title": "What is the difference between ArrayList.clear() and ArrayList.removeAll()?", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall/24653999#24653999", "question_id": 7032070, "answer_id": 24653999}], "creation_date": 1313092877, "score": 139, "link": "http://stackoverflow.com/questions/7032070/what-is-the-difference-between-arraylist-clear-and-arraylist-removeall", "question_id": 7032070}, {"body": "<p>Does IntelliJ have an Organize Imports feature similar to that in Eclipse?\nWhat I have is a Java file with multiple classes missing their imports. Example:</p>\n\n<pre><code>package com.test;\npublic class Foo {\n    public Map map;\n    public JTable table;\n}\n</code></pre>\n\n<p>In Eclipse I could use Organize Imports and it would automatically import both <code>java.util.Map</code> and <code>javax.swing.JTable</code>. In IntelliJ I have to individually go to each class, select it, then press Alt-Enter. There is an Optimize Imports feature but all it seems to do is sort and expand the <strong>existing</strong> imports.</p>\n\n<p>I'm using IntelliJ 10.5.</p>\n", "tags": ["java", "intellij-idea"], "title": "IntelliJ Organize Imports", "answers": [{"body": "<p>Under <code>\"Settings -&gt; Editor -&gt; Auto Import\"</code> there are several options regarding automatic imports. Only unambiguous imports may be added automatically; this is one of the options.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/8608740#8608740", "question_id": 8608710, "answer_id": 8608740}, {"body": "<p><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>O</kbd> (<em>Code \u2192 Optimize Imports...</em>) is what you're looking for.</p>\n\n<p>It says \"Optimize\", but, if configured to do so, it will also: </p>\n\n<ul>\n<li>organize existing imports</li>\n<li>remove unneeded imports</li>\n<li>add new required imports</li>\n<li>add unambiguous imports on the fly</li>\n</ul>\n\n<p>You can tune the <em>auto-import</em> settings under \"<em>Settings \u2192 Editor \u2192 Auto Import</em>\" <a href=\"http://stackoverflow.com/a/8608740/363701\">as described by Dave</a>.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/8609200#8609200", "question_id": 8608710, "answer_id": 8609200}, {"body": "<p>In addition to <code>Optimize Imports</code> and <code>Auto Import</code>, which were pointed out earlier by Dave and Ryan, go to:</p>\n\n<ul>\n<li>IDEA &lt;= 13.x: <code>File menu &gt; Settings &gt; Code Style &gt; Java &gt; Imports</code></li>\n<li>IDEA >= 14.x: <code>File menu &gt; Settings &gt; Editor &gt; Code Style &gt; Java &gt; Imports</code> (thanks to @mathias-bader for the hint!)</li>\n</ul>\n\n<p>There you can fine tune the grouping and order or imports, \"Class count to use import with '*'\", etc.</p>\n\n<p>Note:<br/>\nsince IDEA 13 you can configure the default settings for your IDEA projects from the IDEA \"start page\": <code>Configure &gt; Project defaults &gt; Settings &gt; ...</code>. Then every new project will have your default settings.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/11362437#11362437", "question_id": 8608710, "answer_id": 11362437}, {"body": "<p>If you are missing just one import (the class name has red underline), click and hover the mouse over it, and a blue suggested import statement will appear. If you hit, <strong>Alt + Enter</strong> at this point, the import will be included in the file and the red underline should disappear. </p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/16406107#16406107", "question_id": 8608710, "answer_id": 16406107}, {"body": "<p>navigate to the <strong>file</strong> where you want to organize imports or just click on the whole <strong>package</strong> or even click on the <strong>project</strong> than press <strong>CTRL + ALT + O</strong></p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/16934035#16934035", "question_id": 8608710, "answer_id": 16934035}, {"body": "<p>Just move your mouse over the missing view and hit keys on windows <code>ALT + ENTER</code></p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/23458392#23458392", "question_id": 8608710, "answer_id": 23458392}, {"body": "<p>ALT+ENTER was far from eclipse habit ,in IDEA for me mouse over did not work , so in <code>setting&gt;IDESetting&gt;Keymap&gt;Show intention actions and quick-fixes</code> I changed it to mouse left click , It did not support mouse over! but mouse left click was OK and closest to my intention.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/26314673#26314673", "question_id": 8608710, "answer_id": 26314673}, {"body": "<p>Shortcut for the Mac: (ctrl + opt + o)</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/29461415#29461415", "question_id": 8608710, "answer_id": 29461415}, {"body": "<p>That plugin will automatically do the \"organize import\" action on file save: <a href=\"https://github.com/dubreuia/intellij-plugin-save-actions\" rel=\"nofollow\">https://github.com/dubreuia/intellij-plugin-save-actions</a>.</p>\n\n<p>To install: \"File > Settings > Plugins > Browse repositories... > Search 'Save Actions' > Category 'Code tools'\". Then activate the \"organize import\" save action.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/29748577#29748577", "question_id": 8608710, "answer_id": 29748577}, {"body": "<p>July 2015 - I have concluded that IntelliJ does not support automatically resolving imports with a single function. \"Organize imports\" simply removes unused imports, it does not resolve unimported types. Control-Space resolves a single unimported type. There does not exist a single action to resolve all types' imports.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/31440282#31440282", "question_id": 8608710, "answer_id": 31440282}, {"body": "<p>Simple &amp; short solution worked for me.</p>\n\n<p>Go to <code>File</code> -> <code>Settings</code> -> <code>Editor</code> -> <code>Auto Import</code> -> <code>Java</code> (left panel) and make the below things:\nSelect check box for  \"<code>Add unambigious imports on the fly</code>\" and \"<code>Optimize imports on the fly</code>\"</p>\n\n<p>Refer this.</p>\n\n<p><a href=\"http://i.stack.imgur.com/hZBUB.png\"><img src=\"http://i.stack.imgur.com/hZBUB.png\" alt=\"enter image description here\"></a></p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/32154951#32154951", "question_id": 8608710, "answer_id": 32154951}, {"body": "<p>In IntelliJ 14, the path to the settings for Auto Import has changed. The path is </p>\n\n<p>IntelliJ IDEA->Preferences->Editor->General->Auto Import</p>\n\n<p>then follow the instructions above, clicking \n  Add unambiguous imports on the fly</p>\n\n<p>I can't imagine why this wouldn't be set by default.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/32473613#32473613", "question_id": 8608710, "answer_id": 32473613}, {"body": "<p>I finally created a workaround around this frustrating issue. I'm not completely happy with the workaround, but it's better than nothing. </p>\n\n<p>Basically, after you paste the source code and unambigous imports are fixed, just press <code>F2</code> to highlight the next compiler error. If the current error is an import-missing error, press <code>Alt+Enter</code>, then <code>Enter</code> to select the <code>Import</code> option, then pick the correct import. Then, press <code>F2</code> again.</p>\n", "title": "IntelliJ Organize Imports", "tags": ["java", "intellij-idea"], "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports/38866236#38866236", "question_id": 8608710, "answer_id": 38866236}], "creation_date": 1324581543, "score": 136, "link": "http://stackoverflow.com/questions/8608710/intellij-organize-imports", "question_id": 8608710}, {"body": "<p>I am new to the Java application and having trouble compiling a simple Helloworld program.</p>\n\n<p>JDK 1.7.0 is installed in my Windows 7 and was able to set the path variable but didn't work, so I tried something but still keeps on giving me the same error.  In my cmd it says  this:</p>\n\n<pre>\nC:\\Users\\Ivy>cd \\\n\nC:\\cd java files\n\nC:\\java files>set path=C:Program Files (x86)\\Java\\jdk1.7.0\\bin\n\nC:\\java files>javac Hello.java\n'javac' is not recognized as an internal or external command, operable program or batch file.\n</pre>\n", "tags": ["java", "command-prompt", "javac"], "title": "javac is not recognized as an internal or external command, operable program or batch file", "answers": [{"body": "<p>Correct the path - you missed a backslash after C:</p>\n\n<pre><code>C:\\java files&gt;set path=C:\\Program Files (x86)\\Java\\jdk1.7.0\\bin\n</code></pre>\n", "title": "javac is not recognized as an internal or external command, operable program or batch file", "tags": ["java", "command-prompt", "javac"], "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or/7709062#7709062", "question_id": 7709041, "answer_id": 7709062}, {"body": "<ul>\n<li><p>Check your <code>javac</code> path on Windows using <strong>Windows Explorer</strong> <code>C:\\Program Files\\Java\\jdk1.7.0_02\\bin</code> and copy the address.</p></li>\n<li><p>Go to Control Panel. <code>Environment Variables</code> and <code>Insert</code> the address at the beginning of var. <code>Path</code> followed by semicolon. i.e <code>C:\\Program Files\\Java\\jdk1.7.0_02\\bin;</code> . <strong>Do not delete the path existent,</strong> just click in and go to the left end and paste the line above. Do not try anything else, because you just need to link your code to \"javac.exe\" and you just need to locate it.</p></li>\n<li><p>Close your command prompt and reopen it,and write the code for compile and execution.</p></li>\n</ul>\n", "title": "javac is not recognized as an internal or external command, operable program or batch file", "tags": ["java", "command-prompt", "javac"], "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or/8518438#8518438", "question_id": 7709041, "answer_id": 8518438}, {"body": "<p>If java command is working and getting problem with javac. then first check in jdk's bin directory javac.exe file is there or not.\nIf javac.exe file is exist then set <code>JAVA_HOME</code> as System variable.</p>\n", "title": "javac is not recognized as an internal or external command, operable program or batch file", "tags": ["java", "command-prompt", "javac"], "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or/12767855#12767855", "question_id": 7709041, "answer_id": 12767855}, {"body": "<p>Check your environment variables.</p>\n\n<p>In my case I had JAVA_HOME set in the <strong>System variables</strong> as well as in my <strong>User Account</strong> variables and the latter was set to a <strong>wrong version of Java</strong>. I also had the same problem with the Path variable.</p>\n\n<p>After <strong>deleting JAVA_HOME from my User Account</strong> variables and removing the wrong path from the Path variable it worked correctly.</p>\n", "title": "javac is not recognized as an internal or external command, operable program or batch file", "tags": ["java", "command-prompt", "javac"], "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or/14182350#14182350", "question_id": 7709041, "answer_id": 14182350}, {"body": "<p>try this.. \nI had it too but now it solved in XP..</p>\n\n<pre><code>C:\\ YourFolder &gt;set path=C:\\Program Files\\Java\\jdk1.7.0_09\\bin;\nC:\\ YourFolder &gt;javac YourCode.java\n</code></pre>\n\n<p>^^.. happy coding..</p>\n\n<p>and accept the answer when it does.. ^^</p>\n", "title": "javac is not recognized as an internal or external command, operable program or batch file", "tags": ["java", "command-prompt", "javac"], "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or/16562626#16562626", "question_id": 7709041, "answer_id": 16562626}, {"body": "<p>Here write set Path=\"C:\\Program Files\\Java\\jdk1.7.0_09\\bin\" or set  PATH=\"C:\\Program Files\\Java\\jdk1.7.0_09\\bin\" </p>\n\n<p>Don't write path.</p>\n\n<p>you can also go without set.</p>\n\n<p>I have tried it works well.</p>\n", "title": "javac is not recognized as an internal or external command, operable program or batch file", "tags": ["java", "command-prompt", "javac"], "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or/21036645#21036645", "question_id": 7709041, "answer_id": 21036645}], "creation_date": 1318226408, "score": 135, "link": "http://stackoverflow.com/questions/7709041/javac-is-not-recognized-as-an-internal-or-external-command-operable-program-or", "question_id": 7709041}, {"body": "<p>Please  tell with a code example why is SimpleDateFormat not threadsafe. What is the problem in this class?\n<strong>Is The problem with format function of SimpleDateFormat</strong>? \nPlease give a code which demonstrates this fault in class.</p>\n\n<p>FastDateFormat is threadsafe. Why?\nwhat is the difference b/w the SimpleDateFormat and FastDateFormat?</p>\n\n<p>Please explain with a code which demonstrates this issue?</p>\n", "tags": ["java", "thread-safety", "simpledateformat"], "title": "SimpleDateFormat thread safety", "answers": [{"body": "<p><code>SimpleDateFormat</code> stores intermediate results in instance fields. So if one instance is used by two threads they can mess each other's results.</p>\n\n<p>Looking at the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/text/DateFormat.java/?v=source\">source code</a> reveals that there is a <code>Calendar</code> instance field, which is used by operations on <code>DateFormat</code> / <code>SimpleDateFormat</code></p>\n\n<p>For example <code>parse(..)</code> calls <code>calendar.clear()</code> initially and then <code>calendar.add(..)</code>. If another thread invokes <code>parse(..)</code> before the completion of the first invocation, it will clear the calendar, but the other invocation will expect it to be populated with intermediate results of the calculation.</p>\n\n<p>One way to reuse date formats without trading thread-safety is to put them in a <code>ThreadLocal</code> - some libraries do that. That's if you need to use the same format multiple times within one thread. But in case you are using a servlet container (that has a thread pool), remember to clean the thread-local after you finish.</p>\n\n<p>To be honest, I don't understand why they need the instance field, but that's the way it is. You can also use <a href=\"http://joda-time.sourceforge.net/\">joda-time</a> <code>DateTimeFormat</code> which is threadsafe.</p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/6840856#6840856", "question_id": 6840803, "answer_id": 6840856}, {"body": "<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html\"><code>SimpleDateFormat</code></a> is a concrete class for formatting and parsing dates in a locale-sensitive manner.   </p>\n\n<p>From the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html\"><code>JavaDoc</code></a>,  </p>\n\n<blockquote>\n  <p>But Date formats are <strong><em>not synchronized</em></strong>. It is recommended to create\n  separate format instances for each thread. If multiple threads access\n  a format concurrently, <code>it must be synchronized externally</code>.  </p>\n</blockquote>\n\n<p>To make the SimpleDateFormat class thread-safe, look at the <a href=\"http://code.google.com/p/safe-simple-date-format/\">following approaches</a> :</p>\n\n<ul>\n<li>Create a new SimpleDateFormat instance each time you need to use one. Although this is thread safe, it is the slowest possible approach.  </li>\n<li>Use synchronization. This is a bad idea because you should never choke-point your threads on a server.  </li>\n<li>Use a ThreadLocal. This is the fastest approach of the 3 (see <a href=\"http://www.javacodegeeks.com/2010/07/java-best-practices-dateformat-in.html\">http://www.javacodegeeks.com/2010/07/java-best-practices-dateformat-in.html</a>).</li>\n</ul>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/6840897#6840897", "question_id": 6840803, "answer_id": 6840897}, {"body": "<p>Here is a <a href=\"http://www.codefutures.com/weblog/andygrove/2007/10/simpledateformat-and-thread-safety.html\">code example</a> that proves the fault in the class. I've checked: the problem occurs when using parse and also when you are only using format.</p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/14735710#14735710", "question_id": 6840803, "answer_id": 14735710}, {"body": "<p>Release 3.2 of <code>commons-lang</code> will have <code>FastDateParser</code> class that is a thread-safe substitute of <code>SimpleDateFormat</code> for Gregorian calendar. See <a href=\"https://issues.apache.org/jira/browse/LANG-909\"><code>LANG-909</code></a> for more information.</p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/18122060#18122060", "question_id": 6840803, "answer_id": 18122060}, {"body": "<p>ThreadLocal + SimpleDateFormat =  SimpleDateFormatThreadSafe </p>\n\n<pre><code>package com.foocoders.text;\n\nimport java.text.AttributedCharacterIterator;\nimport java.text.DateFormatSymbols;\nimport java.text.FieldPosition;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.text.ParsePosition;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.Locale;\nimport java.util.TimeZone;\n\npublic class SimpleDateFormatThreadSafe extends SimpleDateFormat {\n\n    private static final long serialVersionUID = 5448371898056188202L;\n    ThreadLocal&lt;SimpleDateFormat&gt; localSimpleDateFormat;\n\n    public SimpleDateFormatThreadSafe() {\n        super();\n        localSimpleDateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n            protected SimpleDateFormat initialValue() {\n                return new SimpleDateFormat();\n            }\n        };\n    }\n\n    public SimpleDateFormatThreadSafe(final String pattern) {\n        super(pattern);\n        localSimpleDateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n            protected SimpleDateFormat initialValue() {\n                return new SimpleDateFormat(pattern);\n            }\n        };\n    }\n\n    public SimpleDateFormatThreadSafe(final String pattern, final DateFormatSymbols formatSymbols) {\n        super(pattern, formatSymbols);\n        localSimpleDateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n            protected SimpleDateFormat initialValue() {\n                return new SimpleDateFormat(pattern, formatSymbols);\n            }\n        };\n    }\n\n    public SimpleDateFormatThreadSafe(final String pattern, final Locale locale) {\n        super(pattern, locale);\n        localSimpleDateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n            protected SimpleDateFormat initialValue() {\n                return new SimpleDateFormat(pattern, locale);\n            }\n        };\n    }\n\n    public Object parseObject(String source) throws ParseException {\n        return localSimpleDateFormat.get().parseObject(source);\n    }\n\n    public String toString() {\n        return localSimpleDateFormat.get().toString();\n    }\n\n    public Date parse(String source) throws ParseException {\n        return localSimpleDateFormat.get().parse(source);\n    }\n\n    public Object parseObject(String source, ParsePosition pos) {\n        return localSimpleDateFormat.get().parseObject(source, pos);\n    }\n\n    public void setCalendar(Calendar newCalendar) {\n        localSimpleDateFormat.get().setCalendar(newCalendar);\n    }\n\n    public Calendar getCalendar() {\n        return localSimpleDateFormat.get().getCalendar();\n    }\n\n    public void setNumberFormat(NumberFormat newNumberFormat) {\n        localSimpleDateFormat.get().setNumberFormat(newNumberFormat);\n    }\n\n    public NumberFormat getNumberFormat() {\n        return localSimpleDateFormat.get().getNumberFormat();\n    }\n\n    public void setTimeZone(TimeZone zone) {\n        localSimpleDateFormat.get().setTimeZone(zone);\n    }\n\n    public TimeZone getTimeZone() {\n        return localSimpleDateFormat.get().getTimeZone();\n    }\n\n    public void setLenient(boolean lenient) {\n        localSimpleDateFormat.get().setLenient(lenient);\n    }\n\n    public boolean isLenient() {\n        return localSimpleDateFormat.get().isLenient();\n    }\n\n    public void set2DigitYearStart(Date startDate) {\n        localSimpleDateFormat.get().set2DigitYearStart(startDate);\n    }\n\n    public Date get2DigitYearStart() {\n        return localSimpleDateFormat.get().get2DigitYearStart();\n    }\n\n    public StringBuffer format(Date date, StringBuffer toAppendTo, FieldPosition pos) {\n        return localSimpleDateFormat.get().format(date, toAppendTo, pos);\n    }\n\n    public AttributedCharacterIterator formatToCharacterIterator(Object obj) {\n        return localSimpleDateFormat.get().formatToCharacterIterator(obj);\n    }\n\n    public Date parse(String text, ParsePosition pos) {\n        return localSimpleDateFormat.get().parse(text, pos);\n    }\n\n    public String toPattern() {\n        return localSimpleDateFormat.get().toPattern();\n    }\n\n    public String toLocalizedPattern() {\n        return localSimpleDateFormat.get().toLocalizedPattern();\n    }\n\n    public void applyPattern(String pattern) {\n        localSimpleDateFormat.get().applyPattern(pattern);\n    }\n\n    public void applyLocalizedPattern(String pattern) {\n        localSimpleDateFormat.get().applyLocalizedPattern(pattern);\n    }\n\n    public DateFormatSymbols getDateFormatSymbols() {\n        return localSimpleDateFormat.get().getDateFormatSymbols();\n    }\n\n    public void setDateFormatSymbols(DateFormatSymbols newFormatSymbols) {\n        localSimpleDateFormat.get().setDateFormatSymbols(newFormatSymbols);\n    }\n\n    public Object clone() {\n        return localSimpleDateFormat.get().clone();\n    }\n\n    public int hashCode() {\n        return localSimpleDateFormat.get().hashCode();\n    }\n\n    public boolean equals(Object obj) {\n        return localSimpleDateFormat.get().equals(obj);\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://gist.github.com/pablomoretti/9748230\">https://gist.github.com/pablomoretti/9748230</a></p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/22619785#22619785", "question_id": 6840803, "answer_id": 22619785}, {"body": "<p>Here\u2019s an example defines a SimpleDateFormat object as a static field. When two or more threads access \u201csomeMethod\u201d concurrently with different dates, they can mess with each other\u2019s results.</p>\n\n<pre><code>    public class SimpleDateFormatExample {\n         private static final SimpleDateFormat simpleFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n\n         public String someMethod(Date date) {\n            return simpleFormat.format(date);\n         }\n    }\n</code></pre>\n\n<p>You can create a service like below and use jmeter to simulate concurrent users using the same SimpleDateFormat object formatting different dates and their results will be messed up.</p>\n\n<pre><code>public class FormattedTimeHandler extends AbstractHandler {\n\nprivate static final String OUTPUT_TIME_FORMAT = \"yyyy-MM-dd HH:mm:ss.SSS\";\nprivate static final String INPUT_TIME_FORMAT = \"yyyy-MM-ddHH:mm:ss\";\nprivate static final SimpleDateFormat simpleFormat = new SimpleDateFormat(OUTPUT_TIME_FORMAT);\n// apache commons lang3 FastDateFormat is threadsafe\nprivate static final FastDateFormat fastFormat = FastDateFormat.getInstance(OUTPUT_TIME_FORMAT);\n\npublic void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\n        throws IOException, ServletException {\n\n    response.setContentType(\"text/html;charset=utf-8\");\n    response.setStatus(HttpServletResponse.SC_OK);\n    baseRequest.setHandled(true);\n\n    final String inputTime = request.getParameter(\"time\");\n    Date date = LocalDateTime.parse(inputTime, DateTimeFormat.forPattern(INPUT_TIME_FORMAT)).toDate();\n\n    final String method = request.getParameter(\"method\");\n    if (\"SimpleDateFormat\".equalsIgnoreCase(method)) {\n        // use SimpleDateFormat as a static constant field, not thread safe\n        response.getWriter().println(simpleFormat.format(date));\n    } else if (\"FastDateFormat\".equalsIgnoreCase(method)) {\n        // use apache commons lang3 FastDateFormat, thread safe\n        response.getWriter().println(fastFormat.format(date));\n    } else {\n        // create new SimpleDateFormat instance when formatting date, thread safe\n        response.getWriter().println(new SimpleDateFormat(OUTPUT_TIME_FORMAT).format(date));\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    // embedded jetty configuration, running on port 8090. change it as needed.\n    Server server = new Server(8090);\n    server.setHandler(new FormattedTimeHandler());\n\n    server.start();\n    server.join();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The code and jmeter script can be downloaded <a href=\"http://www.luyue.org/simpledateformat-thread-safety/\" rel=\"nofollow\">here</a> .</p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/24794704#24794704", "question_id": 6840803, "answer_id": 24794704}, {"body": "<p>Here is the example witch follows to SO strange error, even Google gives no result of search:</p>\n\n<pre><code>public class ExampleClass {\n\nprivate static final Pattern dateCreateP = Pattern.compile(\"\u0414\u0430\u0442\u0430 \u043f\u043e\u0434\u0430\u0447\u0438:\\\\s*(.+)\");\nprivate static final SimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss dd.MM.yyyy\");\n\npublic static void main(String[] args) {\n    ExecutorService executor = Executors.newFixedThreadPool(100);\n    while (true) {\n        executor.submit(new Runnable() {\n            @Override\n            public void run() {\n                workConcurrently();\n            }\n        });\n    }\n}\n\npublic static void workConcurrently() {\n    Matcher matcher = dateCreateP.matcher(\"\u0414\u0430\u0442\u0430 \u043f\u043e\u0434\u0430\u0447\u0438: 19:30:55 03.05.2015\");\n    Timestamp startAdvDate = null;\n    try {\n        if (matcher.find()) {\n            String dateCreate = matcher.group(1);\n            startAdvDate = new Timestamp(sdf.parse(dateCreate).getTime());\n        }\n    } catch (Throwable th) {\n        th.printStackTrace();\n    }\n    System.out.print(\"OK \");\n}\n}\n</code></pre>\n\n<p>And result :</p>\n\n<pre><code>OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK OK java.lang.NumberFormatException: For input string: \".201519E.2015192E2\"\nat sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)\nat sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\nat java.lang.Double.parseDouble(Double.java:538)\nat java.text.DigitList.getDouble(DigitList.java:169)\nat java.text.DecimalFormat.parse(DecimalFormat.java:2056)\nat java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)\nat java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)\nat java.text.DateFormat.parse(DateFormat.java:364)\nat com.nonscalper.webscraper.processor.av.ExampleClass.workConcurrently(ExampleClass.java:37)\nat com.nonscalper.webscraper.processor.av.ExampleClass$1.run(ExampleClass.java:25)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/30491879#30491879", "question_id": 6840803, "answer_id": 30491879}, {"body": "<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\"><code>DateTimeFormatter</code></a> in Java 8 is immutable and thread-safe alternative to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\"><code>SimpleDateFormat</code></a>.</p>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/35818373#35818373", "question_id": 6840803, "answer_id": 35818373}, {"body": "<p>If you want to use the same date format among multiple threads, declare it as a static and synchronize on the instance variable when using it...</p>\n\n<pre><code>static private SimpleDateFormat sdf = new SimpleDateFormat(\"....\");\n\nsynchronized(sdf)\n{\n   // use the instance here to format a date\n}\n\n\n// The above makes it thread safe\n</code></pre>\n", "title": "SimpleDateFormat thread safety", "tags": ["java", "thread-safety", "simpledateformat"], "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety/39319818#39319818", "question_id": 6840803, "answer_id": 39319818}], "creation_date": 1311751466, "score": 135, "link": "http://stackoverflow.com/questions/6840803/simpledateformat-thread-safety", "question_id": 6840803}, {"body": "<p>Does somebody know of a tutorial or an example of how to implement the standard <a href=\"http://developer.android.com/guide/topics/search/index.html\">Android search interface</a> with <code>Fragment</code>s? In other words, is it possible to put a standard search with a <code>SearchManager</code> in a Fragment?</p>\n", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "title": "Android search with Fragments", "answers": [{"body": "<p>When working with <code>Fragments</code> you still need to use an <code>Activity</code> to control and assign the <code>Fragments</code>.\nThis <code>Activity</code> can have search functionality as before.</p>\n\n<p>I've recently switched from a 'normal' <code>Activity</code> based app, to a <code>Fragment</code> based app and the search functionality worked just the same for me.</p>\n\n<p>Have you tried working on it, and didn't succeed? If so give some more detail in your question.</p>\n\n<p>EDIT:</p>\n\n<p>If you want to have a fragment specific search, have all your <code>Fragments</code> extend an interface <code>MyFragment</code> with a <code>startSearch</code> method, and have your <code>Activity</code>'s <code>startSearch</code> method call the current fragment's <code>startSearch</code> method.</p>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/10426365#10426365", "question_id": 7230893, "answer_id": 10426365}, {"body": "<p>A <code>Fragment</code> cannot exist outside an <code>Activity</code>, nor can a <code>Fragment</code> be linked to a <code>android.intent.action.SEARCH</code> or any other <code>intent-filter</code>.</p>\n\n<p>So without using an <code>Activity</code> to wrap the the <code>Fragment</code>, what you're asking is not possible.</p>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/10427758#10427758", "question_id": 7230893, "answer_id": 10427758}, {"body": "<p>In short, you can't. There are a couple of reasons why creating a search interface within a <code>Fragment</code> is not possible.</p>\n\n<ol>\n<li><p>When creating a searchable interface, you must specify a default \"searchable activity\" in your Android manifest. As I'm sure you know, a <code>Fragment</code> cannot exist without a parent <code>Activity</code> and thus, this separation is not possible.</p></li>\n<li><p>If you already figured out #1 already, I assume you asked this question in hopes that there is some magical \"hack\" out there that can get the job done. However, the documentation states that,</p>\n\n<blockquote>\n  <p>When the user executes a search in the search dialog or widget, the\n  system starts your searchable activity and delivers it the search\n  query in an Intent with the ACTION_SEARCH action. Your searchable\n  activity retrieves the query from the intent's QUERY extra, then\n  searches your data and presents the results.</p>\n</blockquote>\n\n<p>The underlying, internal system that is responsible for providing search results expects an <code>Activity</code>, not a <code>Fragment</code>; thus, implementing a search interface that is completely independent of an <code>Activity</code> is not possible, as it would require changes to the <em>underlying system itself</em>. Check out the source code for the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.2_r1.1/android/app/SearchableInfo.java\"><strong><code>SearchableInfo</code></strong></a> class if you don't believe me :).</p></li>\n</ol>\n\n<p>That being said, it doesn't seem like it would be too difficult to achieve something similar to what you are describing. For instance, you might consider implementing your searchable-Activity so that it will accept the <code>android.intent.action.SEARCH</code> intent and (instead of immediately displaying the results in a <code>ListView</code>, for example) will pass the search query to your <code>Fragment</code>s. For instance, consider the following searchable Activity:</p>\n\n<pre><code>public class SearchableActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (Intent.ACTION_SEARCH.equals(getIntent().getAction())) {\n          String query = intent.getStringExtra(SearchManager.QUERY);\n          doMySearch(query);\n        }\n    }\n\n    /**\n     * Performs a search and passes the results to the container\n     * Activity that holds your Fragments.\n     */\n    public void doMySearch(String query) {\n        // TODO: implement this\n    }\n}\n</code></pre>\n\n<p>When a search-request is made, the system will launch your searchable activity, perform the query, and will pass the results to some container Activity (based on your implementation of <code>doMySearch</code>). The container Activity will then pass these results to the contained searchable <code>Fragment</code>, in which the results will be displayed. The implementation requires a bit more work than what you were probably hoping for, but I'm sure there are ways that you can make it more modular, and it seems like this might be the best that you can do.</p>\n\n<p>p.s. If you use this approach, you might have to pay special attention to which Activitys are added/removed to the backstack. See this <a href=\"http://stackoverflow.com/q/7307234/844882\">post</a> for some more information on how this might be done.</p>\n\n<p>p.p.s. You might also forget about the standard search interface completely and just implement a simple search within a <code>Fragment</code> as described in <a href=\"http://stackoverflow.com/a/10479208/844882\"><strong>Raghav's post below</strong></a>.</p>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/10439682#10439682", "question_id": 7230893, "answer_id": 10439682}, {"body": "<p>Here is the example to search something using fragments. Hope it helps and this is what you are looking for:</p>\n\n<pre><code>public class LoaderCursor extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        FragmentManager fm = getFragmentManager();\n\n        // Create the list fragment and add it as our sole content.\n        if (fm.findFragmentById(android.R.id.content) == null) {\n            CursorLoaderListFragment list = new CursorLoaderListFragment();\n            fm.beginTransaction().add(android.R.id.content, list).commit();\n        }\n    }\n\n    public static class CursorLoaderListFragment extends ListFragment\n            implements OnQueryTextListener, LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n\n        // This is the Adapter being used to display the list's data.\n        SimpleCursorAdapter mAdapter;\n\n        // If non-null, this is the current filter the user has provided.\n        String mCurFilter;\n\n        @Override public void onActivityCreated(Bundle savedInstanceState) {\n            super.onActivityCreated(savedInstanceState);\n\n            // Give some text to display if there is no data.  In a real\n            // application this would come from a resource.\n            setEmptyText(\"No phone numbers\");\n\n            // We have a menu item to show in action bar.\n            setHasOptionsMenu(true);\n\n            // Create an empty adapter we will use to display the loaded data.\n            mAdapter = new SimpleCursorAdapter(getActivity(),\n                    android.R.layout.simple_list_item_2, null,\n                    new String[] { Contacts.DISPLAY_NAME, Contacts.CONTACT_STATUS },\n                    new int[] { android.R.id.text1, android.R.id.text2 }, 0);\n            setListAdapter(mAdapter);\n\n            // Start out with a progress indicator.\n            setListShown(false);\n\n            // Prepare the loader.  Either re-connect with an existing one,\n            // or start a new one.\n            getLoaderManager().initLoader(0, null, this);\n        }\n\n        @Override public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n            // Place an action bar item for searching.\n            MenuItem item = menu.add(\"Search\");\n            item.setIcon(android.R.drawable.ic_menu_search);\n            item.setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);\n            SearchView sv = new SearchView(getActivity());\n            sv.setOnQueryTextListener(this);\n            item.setActionView(sv);\n        }\n\n        public boolean onQueryTextChange(String newText) {\n            // Called when the action bar search text has changed.  Update\n            // the search filter, and restart the loader to do a new query\n            // with this filter.\n            mCurFilter = !TextUtils.isEmpty(newText) ? newText : null;\n            getLoaderManager().restartLoader(0, null, this);\n            return true;\n        }\n\n        @Override public boolean onQueryTextSubmit(String query) {\n            // Don't care about this.\n            return true;\n        }\n\n        @Override public void onListItemClick(ListView l, View v, int position, long id) {\n            // Insert desired behavior here.\n            Log.i(\"FragmentComplexList\", \"Item clicked: \" + id);\n        }\n\n        // These are the Contacts rows that we will retrieve.\n        static final String[] CONTACTS_SUMMARY_PROJECTION = new String[] {\n            Contacts._ID,\n            Contacts.DISPLAY_NAME,\n            Contacts.CONTACT_STATUS,\n            Contacts.CONTACT_PRESENCE,\n            Contacts.PHOTO_ID,\n            Contacts.LOOKUP_KEY,\n        };\n\n        public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\n            // This is called when a new Loader needs to be created.  This\n            // sample only has one Loader, so we don't care about the ID.\n            // First, pick the base URI to use depending on whether we are\n            // currently filtering.\n            Uri baseUri;\n            if (mCurFilter != null) {\n                baseUri = Uri.withAppendedPath(Contacts.CONTENT_FILTER_URI,\n                        Uri.encode(mCurFilter));\n            } else {\n                baseUri = Contacts.CONTENT_URI;\n            }\n\n            // Now create and return a CursorLoader that will take care of\n            // creating a Cursor for the data being displayed.\n            String select = \"((\" + Contacts.DISPLAY_NAME + \" NOTNULL) AND (\"\n                    + Contacts.HAS_PHONE_NUMBER + \"=1) AND (\"\n                    + Contacts.DISPLAY_NAME + \" != '' ))\";\n            return new CursorLoader(getActivity(), baseUri,\n                    CONTACTS_SUMMARY_PROJECTION, select, null,\n                    Contacts.DISPLAY_NAME + \" COLLATE LOCALIZED ASC\");\n        }\n\n        public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\n            // Swap the new cursor in.  (The framework will take care of closing the\n            // old cursor once we return.)\n            mAdapter.swapCursor(data);\n\n            // The list should now be shown.\n            if (isResumed()) {\n                setListShown(true);\n            } else {\n                setListShownNoAnimation(true);\n            }\n        }\n\n        public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\n            // This is called when the last Cursor provided to onLoadFinished()\n            // above is about to be closed.  We need to make sure we are no\n            // longer using it.\n            mAdapter.swapCursor(null);\n        }\n    }\n}\n</code></pre>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/10479208#10479208", "question_id": 7230893, "answer_id": 10479208}, {"body": "<p>In case of Fragments into a ViewPager, I could do it by blocking the search button when I'm not on the fragment where I want to give a search bar. Into the activity: </p>\n\n<pre><code>@Override\npublic boolean onSearchRequested() {\n\n    if (mPager.getCurrentItem() == mAdapter.getPosition(FragmentType.VIDEO))\n        return super.onSearchRequested();\n    else\n        return false;\n}\n</code></pre>\n\n<p>And in case of no physical search button, I added an action item into the fragment, which trigger this code:</p>\n\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n\n    if (item.getItemId() == R.id.search_item) {\n\n        return getSherlockActivity().onSearchRequested();\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/10479796#10479796", "question_id": 7230893, "answer_id": 10479796}, {"body": "<p>I think I achieved it : you can actually use fragments and add a search icon to an action bar so that a search is possible inside the fragments. The trick is to use an action bar, an action view, a listener for it, a loader and an adapter of course. </p>\n\n<p>This works pretty well although it completely bypasses the android platform search mechanism (but it could be completed with some work to find what @Alex Lockwood describes and pass the search to fragments). It would not react to an intent as expected in the case of an activity, but it works : users can search inside fragments. </p>\n\n<p>Here is the code : </p>\n\n<blockquote>\n  <p>SearchInFragmentActivity</p>\n</blockquote>\n\n<pre><code>package com.sof.test.searchfragment;\n\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentTransaction;\nimport android.view.View;\n\nimport com.actionbarsherlock.app.ActionBar;\nimport com.actionbarsherlock.app.ActionBar.Tab;\nimport com.actionbarsherlock.app.ActionBar.TabListener;\nimport com.actionbarsherlock.app.SherlockFragmentActivity;\nimport com.sof.test.searchfragment.SearchFragment;\nimport com.sof.test.R;\n\n\npublic class SearchInFragmentActivity extends SherlockFragmentActivity implements TabListener {\n\n    private SearchFragment tab1 = new SearchFragment();\n    private SearchFragment tab2 = new SearchFragment();\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView( R.layout.search_in_fragments );\n\n        getSupportActionBar().setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);\n        createTab( R.string.tab1, R.drawable.ic_menu_search );\n        createTab( R.string.tab2, R.drawable.ic_menu_search );\n        getSupportActionBar().setSelectedNavigationItem( 0 );\n        invalidateOptionsMenu();\n    }\n\n    private void createTab(int tabNameResId, int tabIconResId) {\n        ActionBar.Tab tab = getSupportActionBar().newTab();\n        tab.setText( tabNameResId );\n        tab.setTabListener(this);\n        getSupportActionBar().addTab(tab);\n    }// met\n\n    @Override\n    public void onTabSelected(Tab tab, FragmentTransaction ft) {\n        if( ft == null ) {\n            return;\n        }//if\n        View fragmentSlot = findViewById( R.id.fragment );\n        Fragment newFragment = null;\n        if( fragmentSlot != null ) {\n            newFragment = (tab.getPosition() == 0) ? tab1 : tab2;\n            ft.replace(R.id.fragment, newFragment );\n            ft.setTransition( FragmentTransaction.TRANSIT_FRAGMENT_FADE);\n        }//if\n    }\n\n    @Override\n    public void onTabUnselected(Tab tab, FragmentTransaction ft) {\n    }\n\n    @Override\n    public void onTabReselected(Tab tab, FragmentTransaction ft) {\n    }\n\n}//class\n</code></pre>\n\n<blockquote>\n  <p>The fragment class SearchFragment (I use 2 instances inside the activity above).</p>\n</blockquote>\n\n<pre><code>package com.sof.test.searchfragment;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.support.v4.app.LoaderManager.LoaderCallbacks;\nimport android.support.v4.content.AsyncTaskLoader;\nimport android.support.v4.content.Loader;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.SearchView;\nimport android.widget.TextView;\n\nimport com.sof.test.R;\nimport com.actionbarsherlock.app.SherlockListFragment;\nimport com.actionbarsherlock.view.Menu;\nimport com.actionbarsherlock.view.MenuInflater;\n\npublic class SearchFragment extends SherlockListFragment {\n\n    private StringLoader loader = null;\n    private StringAdapter adapter = null;\n    private List&lt;String&gt; listData = new ArrayList&lt;String&gt;();\n    private String query;\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = super.onCreateView(inflater, container, savedInstanceState);\n        createListData();\n\n        loader = new StringLoader( getActivity(), this );\n        adapter = new StringAdapter(listData);\n        setListAdapter(adapter);\n\n        getLoaderManager().initLoader(0, null,  new LoaderCallBacks() );\n        loader.forceLoad();\n        setHasOptionsMenu( true );\n        return view;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater ) {\n        super.onCreateOptionsMenu(menu, inflater);\n        inflater.inflate( R.menu.menu_search, menu);\n        System.out.println( \"inflating menu\");\n\n        final SearchView searchView = (SearchView) menu.findItem(R.id.menu_search).getActionView();\n        final SearchView.OnQueryTextListener queryTextListener = new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                showFilteredItems( newText );\n                return true;\n            }\n\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return true;\n            }\n        };\n\n        searchView.setOnQueryTextListener(queryTextListener);\n\n        return;\n    }//met\n\n    private void showFilteredItems( String query ) {\n        this.query = query;\n        loader.onContentChanged();\n    }\n\n    private void createListData() {\n        for( int i = 0; i &lt; 100 ; i ++ ) {\n          listData.add( \"String \"+ i ); \n        }\n    }\n\n    public List&lt;String&gt; getData() {\n        List&lt;String&gt; listFilteredData = new ArrayList&lt;String&gt;();\n        for( String string : listData ) {\n            if( query == null || string.contains( query ) ) {\n                listFilteredData.add( string );\n            }\n        }\n        return listFilteredData;\n    }//met\n\n    private class LoaderCallBacks implements LoaderCallbacks&lt; List&lt;String&gt;&gt; {\n        @Override\n        public void onLoadFinished(Loader&lt;List&lt;String&gt;&gt; loader,\n                List&lt;String&gt; listData) {\n            adapter.setListData( listData );\n        }// met\n\n        @Override\n        public void onLoaderReset(Loader&lt;List&lt;String&gt;&gt; listData) {\n            adapter.setListData( new ArrayList&lt;String&gt;() );\n        }// met\n\n        @Override\n        public Loader&lt;List&lt;String&gt;&gt; onCreateLoader(int arg0,\n                Bundle arg1) {\n            return loader;\n        }// met\n    }//class\n\n    private class StringAdapter extends ArrayAdapter&lt; String &gt; {\n\n        private List&lt;String&gt; listDataToDisplay = new ArrayList&lt;String&gt;();\n        private LayoutInflater mInflater;\n\n        public StringAdapter( List&lt;String&gt; listData ) {\n            super( getActivity(), android.R.layout.simple_list_item_1, android.R.id.text1, listData );\n            listDataToDisplay = listData;\n            mInflater = (LayoutInflater)getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        }//cons\n\n        private void setListData( List&lt;String&gt; newListData ) {\n            this.listDataToDisplay.clear();\n            this.listDataToDisplay.addAll( newListData );\n            notifyDataSetChanged();\n        }//met\n\n          /**\n         * Populate new items in the list.\n         */\n        @Override public View getView(int position, View convertView, ViewGroup parent) {\n            View view;\n\n            if (convertView == null) {\n                view = mInflater.inflate(android.R.layout.simple_list_item_1, parent, false);\n            } else {\n                view = convertView;\n            }\n\n            ((TextView)view.findViewById( android.R.id.text1)).setText( listDataToDisplay.get( position ) );\n\n            return view;\n        }\n    }//inner class\n}//class\n\nclass StringLoader extends AsyncTaskLoader&lt;List&lt;String&gt;&gt; {\n\n    SearchFragment fragment = null;\n\n    public StringLoader(Context context, SearchFragment fragment) {\n        super(context);\n        this.fragment = fragment;\n    }// cons\n\n    @Override\n    public List&lt;String&gt; loadInBackground() {\n        return fragment.getData();\n    }// met\n}// class\n</code></pre>\n\n<p>The xml file for the menu of the search fragments res/menu/menu_search.xml: </p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:baselineAligned=\"false\"\n    android:orientation=\"horizontal\" &gt;\n    &lt;FrameLayout\n        android:id=\"@+id/fragment\"\n        android:layout_width=\"0px\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And the xml layout file res/layout/search_in_fragments.xml</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:baselineAligned=\"false\"\n    android:orientation=\"horizontal\" &gt;\n    &lt;FrameLayout\n        android:id=\"@+id/fragment\"\n        android:layout_width=\"0px\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/10482510#10482510", "question_id": 7230893, "answer_id": 10482510}, {"body": "<p>Use the <code>ActionBar</code> and <code>SearchView</code>. You will be able to handle searches without any connection to Activity. Just set an <code>OnQueryTextListener</code> to the SearchView.</p>\n\n<pre><code>MenuItem item = menu.add(\"Search\");\nSearchView sv = new SearchView(getActionBar().getThemedContext());\nitem.setActionView(sv);\nitem.setIcon(R.drawable.ic_search);\nitem.setShowAsAction(MenuItem.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW\n        | MenuItem.SHOW_AS_ACTION_IF_ROOM);\nsv.setOnQueryTextListener(new OnQueryTextListener() {\n    @Override\n    public boolean onQueryTextSubmit(String query) {\n        //...\n        return false;\n    }\n    @Override\n    public boolean onQueryTextChange(String newText) {\n        //...\n        return false;\n    }\n});\n</code></pre>\n\n<p>See <a href=\"http://stackoverflow.com/a/16384233/435605\">this</a> post for more details on custom search.</p>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/16416342#16416342", "question_id": 7230893, "answer_id": 16416342}, {"body": "<p>It is quite possible to search in a fragment using the standard ActionBar SearchView ActionView API. This will work back to Android 2.1 (API level 7) too using AppCompat support classes v7. </p>\n\n<p>In your fragment:</p>\n\n<pre><code>@Override\npublic void onCreateOptionsMenu (Menu menu, MenuInflater inflater){\n    inflater.inflate(R.menu.search, menu);\n    MenuItem item = menu.findItem(R.id.action_search);\n    SearchView sv = new SearchView(((YourActivity) getActivity()).getSupportActionBar().getThemedContext());\n    MenuItemCompat.setShowAsAction(item, MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\n    MenuItemCompat.setActionView(item, sv);\n    sv.setOnQueryTextListener(new OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            System.out.println(\"search query submit\");\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            System.out.println(\"tap\");\n            return false;\n        }\n    });\n}\n</code></pre>\n\n<p>In your menu XML</p>\n\n<pre><code>&lt;item\n    android:id=\"@+id/action_search\"\n    android:icon=\"@drawable/ic_action_search\"\n    android:title=\"Search Waste Items\"\n    android:showAsAction=\"ifRoom|collapseActionView\"\n    nz.govt.app:actionViewClass=\"android.support.v7.widget.SearchView\"\n    nz.govt.app:showAsAction=\"ifRoom|collapseActionView\" /&gt;\n</code></pre>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/22527693#22527693", "question_id": 7230893, "answer_id": 22527693}, {"body": "<p>Using AppCompat support classes v7. Just adding something to <strong>@David</strong> 's solution from <strong>@Rookie</strong> solution to get it work properly in a simple manner, here is my fragment code:</p>\n\n<p><strong>MyFragment</strong>:</p>\n\n<pre><code>public class MyFragment extends Fragment implements SearchView.OnQueryTextListener {\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        // What i have added is this\n        setHasOptionsMenu(true);\n    }\n\n    @Override\n    public void onCreateOptionsMenu (Menu menu, MenuInflater inflater) {\n\n        //inflater.inflate(R.menu.main, menu); // removed to not double the menu items\n        MenuItem item = menu.findItem(R.id.action_search);\n        SearchView sv = new SearchView(((MainActivity) getActivity()).getSupportActionBar().getThemedContext());\n        MenuItemCompat.setShowAsAction(item, MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\n        MenuItemCompat.setActionView(item, sv);\n        sv.setOnQueryTextListener(this);\n        sv.setIconifiedByDefault(false);\n        sv.setOnSearchClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Utils.LogDebug(\"Clicked: \");\n            }\n        });\n\n        MenuItemCompat.setOnActionExpandListener(item, new MenuItemCompat.OnActionExpandListener() {\n            @Override\n            public boolean onMenuItemActionCollapse(MenuItem item) {\n                // Do something when collapsed\n                Utils.LogDebug(\"Closed: \");\n                return true;  // Return true to collapse action view\n            }\n\n            @Override\n            public boolean onMenuItemActionExpand(MenuItem item) {\n                // Do something when expanded\n                Utils.LogDebug(\"Openeed: \");\n                return true;  // Return true to expand action view\n            }\n        });\n\n        super.onCreateOptionsMenu(menu,inflater);\n    }\n\n    @Override\n    public boolean onQueryTextSubmit(String query) {\n        Utils.LogDebug(\"Submitted: \"+query);\n        return true;\n    }\n\n    @Override\n    public boolean onQueryTextChange(String newText) {\n        Utils.LogDebug(\"Changed: \"+newText);\n        return false;\n    }\n}\n</code></pre>\n\n<p>I added the <code>onActivityCreated</code>, cuz without calling <code>setHasOptionsMenu(true);</code> the system will not know that this fragment needs to interact with the menu.</p>\n\n<p>then I removed the line <code>inflater.inflate(R.menu.main, menu);</code> because it doubled the menu items since Activity inflated a menu, then Fragment inflated another menu</p>\n\n<p>Thanks to @David and @Rookie </p>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/32347003#32347003", "question_id": 7230893, "answer_id": 32347003}, {"body": "<p>yes its  possible, </p>\n\n<p>please implements Search view on your Activity ,'onQueryTextChange' in  Activity will also listen the  search in  fragment, you can check the fragment    visibility in  'onQueryTextChange' , if it visible you  can call  your search method for fragment, its  working  perfect in  my  code</p>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/35053908#35053908", "question_id": 7230893, "answer_id": 35053908}, {"body": "<p>others solution..... i dont like that.\nThis more easy for me.But its  my idea.Im waiting yours opinion</p>\n\n<pre><code>public interface SearchImpl {\npublic void searchQuery(String val);\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p>Fragment </p>\n  \n  <p>`\n  public class MyFragment extends Fragment implements SearchImpl {\n      View view;</p>\n</blockquote>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    view = inflater.inflate(R.layout.fragment_almanca, container, false);\n    return view;\n}\n\n@Override\npublic void searchQuery(String val) {\n    Log.e(\"getted\", val);\n}\n</code></pre>\n\n<p>}`</p>\n\n<blockquote>\n  <p>Acitivty</p>\n</blockquote>\n\n<pre><code> @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n\n    getMenuInflater().inflate(R.menu.main, menu);\n\n    SearchView searchView = (SearchView) MenuItemCompat.getActionView(menu.findItem(R.id.action_search));\n\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            Log.e(\"setted\", \"\" + query);\n            try {\n                MyFragment myFGM=new MyFragment();\n                myFGM.searchQuery(query);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            return false;\n        }\n    });\n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n", "title": "Android search with Fragments", "tags": ["java", "android", "sqlite", "android-fragments", "android-searchmanager"], "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments/37965747#37965747", "question_id": 7230893, "answer_id": 37965747}], "creation_date": 1314625026, "score": 135, "link": "http://stackoverflow.com/questions/7230893/android-search-with-fragments", "question_id": 7230893}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3796121/trim-whitespace-from-a-string\">trim whitespace from a string?</a>  </p>\n</blockquote>\n\n\n\n<p>Is there a convenience method to strip any leading or trailing spaces from a Java String?</p>\n\n<p>Something like:</p>\n\n<pre><code>String myString = \"  keep this  \";\nString stripppedString = myString.strip();\nSystem.out.println(\"no spaces:\" + strippedString);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>no spaces:keep this\n</code></pre>\n\n<p><code>myString.replace(\" \",\"\")</code> would replace the space between keep and this.</p>\n\n<p>Thanks</p>\n", "tags": ["java", "string", "replace"], "title": "Strip Leading and Trailing Spaces From Java String", "answers": [{"body": "<p>You can try the trim() method.</p>\n\n<pre><code>String newString = oldString.trim();\n</code></pre>\n\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#trim()\">javadocs</a></p>\n", "title": "Strip Leading and Trailing Spaces From Java String", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string/6652705#6652705", "question_id": 6652687, "answer_id": 6652705}, {"body": "<p>From the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29\">docs</a>:</p>\n\n<pre><code>String.trim();\n</code></pre>\n", "title": "Strip Leading and Trailing Spaces From Java String", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string/6652721#6652721", "question_id": 6652687, "answer_id": 6652721}, {"body": "<p>trim() is your choice, but if you want to use <code>replace</code> method -- which might be more flexiable, you can try the following:</p>\n\n<pre><code>String stripppedString = myString.replaceAll(\"(^ )|( $)\", \"\");\n</code></pre>\n", "title": "Strip Leading and Trailing Spaces From Java String", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string/6652763#6652763", "question_id": 6652687, "answer_id": 6652763}, {"body": "<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#trim%28%29\"><code>String#trim()</code></a> method or <code>String allRemoved = myString.replaceAll(\"^\\\\s+|\\\\s+$\", \"\")</code> for trim both the end.</p>\n\n<p>For left trim:</p>\n\n<pre><code>String leftRemoved = myString.replaceAll(\"^\\\\s+\", \"\");\n</code></pre>\n\n<p>For right trim:</p>\n\n<pre><code>String rightRemoved = myString.replaceAll(\"\\\\s+$\", \"\");\n</code></pre>\n", "title": "Strip Leading and Trailing Spaces From Java String", "tags": ["java", "string", "replace"], "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string/6652772#6652772", "question_id": 6652687, "answer_id": 6652772}], "creation_date": 1310398679, "score": 134, "link": "http://stackoverflow.com/questions/6652687/strip-leading-and-trailing-spaces-from-java-string", "question_id": 6652687}, {"body": "<p>How could I convert from float to string or string to float?</p>\n\n<p>In my case I need to make the assertion between 2 values string (value that I have got from table) and float value that I have calculated.</p>\n\n<pre><code>String valueFromTable = \"25\";\nFloat valueCalculated =25.0;\n</code></pre>\n\n<p>I tried from float to string:</p>\n\n<pre><code>String sSelectivityRate = String.valueOf(valueCalculated );\n</code></pre>\n\n<p>but the assertion fails </p>\n", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "title": "java : convert float to String and String to float", "answers": [{"body": "<p>Using Java\u2019s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html\"><code>Float</code></a> class.</p>\n\n<pre><code>float f = Float.parseFloat(\"25\");\nString s = Float.toString(25.0f);\n</code></pre>\n\n<p>To compare it's always better to convert the string to float and compare as two floats. This is because for one float number there are multiple string representations, which are different when compared as strings (e.g. \"25\" != \"25.0\" != \"25.00\" etc.)</p>\n", "title": "java : convert float to String and String to float", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float/7552675#7552675", "question_id": 7552660, "answer_id": 7552675}, {"body": "<p>You can try this sample of code:</p>\n\n<pre><code>public class StringToFloat\n{\n\n  public static void main (String[] args)\n  {\n\n    // String s = \"fred\";    // do this if you want an exception\n\n    String s = \"100.00\";\n\n    try\n    {\n      float f = Float.valueOf(s.trim()).floatValue();\n      System.out.println(\"float f = \" + f);\n    }\n    catch (NumberFormatException nfe)\n    {\n      System.out.println(\"NumberFormatException: \" + nfe.getMessage());\n    }\n  }\n}\n</code></pre>\n\n<p>found <a href=\"http://www.devdaily.com/java/edu/qanda/pjqa00013.shtml\" rel=\"nofollow\">here</a></p>\n", "title": "java : convert float to String and String to float", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float/7552684#7552684", "question_id": 7552660, "answer_id": 7552684}, {"body": "<p>Float to string - String.valueOf()</p>\n\n<pre><code>float amount=100.00f;\nString strAmount=String.valueOf(amount);\n// or  Float.toString(float)\n</code></pre>\n\n<p>String to Float - Float.parseFloat()</p>\n\n<pre><code>String strAmount=\"100.20\";\nfloat amount=Float.parseFloat(strAmount)\n// or  Float.valueOf(string)\n</code></pre>\n", "title": "java : convert float to String and String to float", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float/7552704#7552704", "question_id": 7552660, "answer_id": 7552704}, {"body": "<p>I believe the following code will help:</p>\n\n<pre><code>float f1 = 1.23f;\nString f1Str = Float.toString(f1);      \nfloat f2 = Float.parseFloat(f1Str);\n</code></pre>\n", "title": "java : convert float to String and String to float", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float/7552708#7552708", "question_id": 7552660, "answer_id": 7552708}, {"body": "<p>This is a possible answer, this will also give the precise data, just need to change the decimal point in the required form.</p>\n\n<pre>\npublic class TestStandAlone {\n\n    /**\n     * <p>This method is to  main</p>\n     * @param args  void\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        try {\n            Float f1=152.32f;\n            BigDecimal roundfinalPrice = new BigDecimal(f1.floatValue()).setScale(2,BigDecimal.ROUND_HALF_UP);\n\n            System.out.println(\"f1 --> \"+f1);\n            String s1=roundfinalPrice.toPlainString();\n            System.out.println(\"s1 \"+s1);\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n</pre>\n\n<p>Output will be </p>\n\n<pre>\nf1 --> 152.32\ns1 152.32\n</pre>\n", "title": "java : convert float to String and String to float", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float/13471876#13471876", "question_id": 7552660, "answer_id": 13471876}, {"body": "<p>well this method is not a good one, but easy and not suggested. Maybe i should say this is the least effective method and the worse coding practice but, fun to use,</p>\n\n<pre><code>float val=10.0;\nString str=val+\"\";\n</code></pre>\n\n<p>the empty quotes, add a null string to the variable str, upcasting 'val' to the string type.</p>\n", "title": "java : convert float to String and String to float", "tags": ["java", "string", "types", "number-formatting", "data-type-conversion"], "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float/36207717#36207717", "question_id": 7552660, "answer_id": 36207717}], "creation_date": 1317026718, "score": 129, "link": "http://stackoverflow.com/questions/7552660/java-convert-float-to-string-and-string-to-float", "question_id": 7552660}, {"body": "<p>I am new to Maven. I am trying to package my project. But, it automatically runs the tests. The tests insert some content in the database. This is not what I want, I need to avoid running tests while package the application. Anybody knows how run the package with out test?</p>\n", "tags": ["java", "maven"], "title": "Maven packaging without test (skip tests)", "answers": [{"body": "<p>You can pass the <code>maven.test.skip</code> flag as a JVM argument, to skip running tests when the package phase (and the previous ones in the default lifecycle) is run:</p>\n\n<pre><code>mvn package -Dmaven.test.skip=true\n</code></pre>\n\n<p>You can also pass the <code>skipTests</code> flag alone to the mvn executable. If you want to include this information in your POM, you can create a new profile where you can configure the <code>maven-surefire-plugin</code> to <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/examples/skipping-test.html\">skip tests</a>.</p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/7456023#7456023", "question_id": 7456006, "answer_id": 7456023}, {"body": "<p>Run maven with <code>-Dmaven.test.skip=true</code></p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/7456028#7456028", "question_id": 7456006, "answer_id": 7456028}, {"body": "<p>You only have to provide </p>\n\n<pre><code>-Dmaven.test.skip\n</code></pre>\n\n<p>No longer need the '=true' there.</p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/7456117#7456117", "question_id": 7456006, "answer_id": 7456117}, {"body": "<p>Tests should always[1] run before package. If you need to turn off the tests, you're doing something wrong. In other words, you're trying to solve the wrong problem. Figure out what your problem really is, and ask that question. It sounds like it's database-related.</p>\n\n<p>[1] You might skip tests when you need to quickly generate an artifact for local, development use, but in general, creating an artifact should always follow a successful test run.</p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/7456230#7456230", "question_id": 7456006, "answer_id": 7456230}, {"body": "<p>you can add this plugin configuration to your pom if you do not want to set command line arg:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/7502723#7502723", "question_id": 7456006, "answer_id": 7502723}, {"body": "<p>You are, obviously, doing it the wrong way. Testing is an important part of pre-packaging. You shouldn't ignore or skip it, but rather do it the right way. Try changing the database to which it inserts the data(like test_db). It may take a while to set it up. And to make sure this database can be used forever, you should delete all the data by the end of tests. JUnit4 has annotations which make it easy for you. Use @Before, @After @Test annotations for the right methods. You need to spend sometime on it, but it will be worth it!</p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/8254903#8254903", "question_id": 7456006, "answer_id": 8254903}, {"body": "<p>Note that -Dmaven.test.skip prevents Maven building the test-jar artifact. </p>\n\n<p>If you'd like to skip tests but create artifacts as per a normal build use:</p>\n\n<pre><code>-Dmaven.test.skip.exec\n</code></pre>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/9682198#9682198", "question_id": 7456006, "answer_id": 9682198}, {"body": "<p>Just provide the command mentioned below which will ignore executing the test cases,</p>\n\n<pre><code>mvn package -DskipTests\n</code></pre>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/14052568#14052568", "question_id": 7456006, "answer_id": 14052568}, {"body": "<p>Answering an old and accepted question here. You can add this in your pom.xml if you want to avoid passing command line argument all the time:</p>\n\n<pre><code>  &lt;properties&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n  &lt;/properties&gt;\n</code></pre>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/14636572#14636572", "question_id": 7456006, "answer_id": 14636572}, {"body": "<p>If you are trying this in Windows Powershell, you will get this error:</p>\n\n<pre><code>[ERROR] Unknown lifecycle phase \".test.skip=true\". You must specify a valid lifecycle phase or a goal in the format...\n</code></pre>\n\n<p>The reason for this is, in Powershell the \"-\" has special meaning and it is causing problem with maven.</p>\n\n<p>The solution is to prepend it with a backtick (`), like so..</p>\n\n<pre><code>mvn `-Dmaven.test.skip=true install \n</code></pre>\n\n<p>Reference: <a href=\"http://kuniganotas.wordpress.com/2011/08/12/invalid-task-test-skiptrue-you-must-specify-a-valid-lifecycle-phase/\">http://kuniganotas.wordpress.com/2011/08/12/invalid-task-test-skiptrue-you-must-specify-a-valid-lifecycle-phase/</a></p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/20458782#20458782", "question_id": 7456006, "answer_id": 20458782}, {"body": "<pre><code>&lt;properties&gt;\n    &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>is also a way to add in pom file</p>\n", "title": "Maven packaging without test (skip tests)", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests/26517375#26517375", "question_id": 7456006, "answer_id": 26517375}], "creation_date": 1316274842, "score": 128, "link": "http://stackoverflow.com/questions/7456006/maven-packaging-without-test-skip-tests", "question_id": 7456006}, {"body": "<p>Are there currently (Java 6) things you can do in Java bytecode that you can't do from within the Java language?</p>\n\n<p>I know both are Turing complete, so read \"can do\" as \"can do significantly faster/better, or just in a different way\".</p>\n\n<p>I'm thinking of extra bytecodes like <code>invokedynamic</code>, which can't be generated using Java, except that specific one is for a future version.</p>\n", "tags": ["java", "jvm", "bytecode"], "title": "Bytecode features not available in the Java language", "answers": [{"body": "<p>As far as I know there are no major features in the bytecodes supported by Java 6 that are not also accessible from Java source code. The main reason for this is obviously that the Java bytecode was designed with the Java language in mind.</p>\n\n<p>There are some features that are not produced by modern Java compilers, however:</p>\n\n<ul>\n<li><p>The <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#13484\" rel=\"nofollow\"><code>ACC_SUPER</code> flag</a>:</p>\n\n<p>This is a flag that can be set on a class and specifies how a specific corner case of the <code>invokespecial</code> bytecode is handled for this class. It is set by all modern Java compilers (where \"modern\" is >= Java 1.1, if I remember correctly) and only ancient Java compilers produced class files where this was un-set. This flag exists only for backwards-compatibility reasons. Note that starting with Java 7u51, ACC_SUPER is ignored completely due to security reasons.</p></li>\n<li><p>The <code>jsr</code>/<code>ret</code> bytecodes.</p>\n\n<p>These bytecodes  were used to implement sub-routines (mostly for implementing <code>finally</code> blocks). They are <a href=\"http://cliffhacks.blogspot.com/2008/02/java-6-tryfinally-compilation-without.html\" rel=\"nofollow\">no longer produced since Java 6</a>. The reason for their deprecation is that they complicate static verification a lot for no great gain (i.e. code that uses can almost always be re-implemented with normal jumps with very little overhead).</p></li>\n<li><p>Having two methods in a class that only differ in return type.</p>\n\n<p>The Java language specification does not allow two methods in the same class when they differ <em>only</em> in their return type (i.e. same name, same argument list, ...). The JVM specification however, has no such restriction, so a class file <em>can</em> contain two such methods, there's just no way to produce such a class file using the normal Java compiler. There's a nice example/explanation in <a href=\"http://stackoverflow.com/questions/3110014/is-this-valid-java/3110204#3110204\">this answer</a>.</p></li>\n</ul>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/6827552#6827552", "question_id": 6827363, "answer_id": 6827552}, {"body": "<p>Something you can do with byte code, rather than plain Java code, is generate code which can loaded and run without a compiler.  Many systems have JRE rather than JDK and if you want to generate code dynamically it may be better, if not easier, to generate byte code instead of Java code has to be compiled before it can be used.</p>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/6827762#6827762", "question_id": 6827363, "answer_id": 6827762}, {"body": "<p>Maybe section 7A in <a href=\"http://www.cs.berkeley.edu/~daw/joe-e/spec-20090918.pdf\" rel=\"nofollow\">this document</a> is of interest, although it's about bytecode <strong>pitfalls</strong> rather than bytecode <strong>features</strong>.</p>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/6827864#6827864", "question_id": 6827363, "answer_id": 6827864}, {"body": "<p>Here are some features that can be done in Java bytecode but not in Java source code:</p>\n\n<ul>\n<li><p><strong>Throwing a checked exception from a method without declaring that the method throws it.</strong> The checked and unchecked exceptions are a thing which is checked only by the Java compiler, not the JVM. Because of this for example Scala can throw checked exceptions from methods without declaring them. Though with Java generics there is a workaround called <a href=\"http://blog.jayway.com/2010/01/29/sneaky-throw/\">sneaky throw</a>.</p></li>\n<li><p><strong>Having two methods in a class that only differ in return type,</strong> as already mentioned in <a href=\"http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/6827552#6827552\">Joachim's answer</a>: The Java language specification does not allow two methods in the same class when they differ <em>only</em> in their return type (i.e. same name, same argument list, ...). The JVM specification however, has no such restriction, so a class file <em>can</em> contain two such methods, there's just no way to produce such a class file using the normal Java compiler. There's a nice example/explanation in <a href=\"http://stackoverflow.com/questions/3110014/is-this-valid-java/3110204#3110204\">this answer</a>.</p></li>\n</ul>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/6828280#6828280", "question_id": 6827363, "answer_id": 6828280}, {"body": "<p>In Java language the first statement in a constructor must be a call to the super class constructor. Bytecode does not have this limitation, instead the rule is that the super class constructor or another constructor in the same class must be called for the object before accessing the members. This should allow more freedom such as:</p>\n\n<ul>\n<li>Create an instance of another object, store it in a local variable (or stack) and pass it as a parameter to super class constructor while still keeping the reference in that variable for other use.</li>\n<li>Call different other constructors based on a condition. This should be possible: <a href=\"http://stackoverflow.com/questions/9236087/how-to-do-call-a-different-constructor-conditionally-in-java\">How to do call a different constructor conditionally in Java?</a></li>\n</ul>\n\n<p>I have not tested these, so please correct me if I'm wrong.</p>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/11859205#11859205", "question_id": 6827363, "answer_id": 11859205}, {"body": "<ul>\n<li><code>GOTO</code> can be used with labels to create your own control structures (other than <code>for</code> <code>while</code> etc)</li>\n<li>You can override the <code>this</code> local variable inside a method</li>\n<li>Combining both of these you can create create tail call optimised bytecode (I do this in <a href=\"http://code.google.com/p/jcompilo/\">JCompilo</a>)</li>\n</ul>\n\n<p>As a related point you can get parameter name for methods if compiled with debug (<a href=\"http://paranamer.codehaus.org/\">Paranamer does this by reading the bytecode</a></p>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/14879913#14879913", "question_id": 6827363, "answer_id": 14879913}, {"body": "<p>After working with Java byte code for quite a while and doing some additional research on this matter, here is a summary of my findings:</p>\n\n<p><strong>Execute code in a constructor before calling a super constructor or auxiliary constructor</strong></p>\n\n<p>In the Java programming language (JPL), a constructor's first statement must be an invocation of a super constructor or another constructor of the same class. This is not true for Java byte code (JBC). Within byte code, it is absolutely legitimate to execute any code before a constructor, as long as:</p>\n\n<ul>\n<li>Another compatible constructor is called at some time after this code block. </li>\n<li>This call is not within a conditional statement.</li>\n<li>Before this constructor call, no field of the constructed instance is read and none of its methods is invoked. This implies the next item.</li>\n</ul>\n\n<p><strong>Set instance fields before calling a super constructor or auxiliary constructor</strong></p>\n\n<p>As mentioned before, it is perfectly legal to set a field value of an instance before calling another constructor. There even exists a legacy hack which makes it able to exploit this \"feature\" in Java versions before 6:</p>\n\n<pre><code>class Foo {\n  public String s;\n  public Foo() {\n    System.out.println(s);\n  }\n}\n\nclass Bar extends Foo {\n  public Bar() {\n    this(s = \"Hello World!\");\n  }\n  private Bar(String helper) {\n    super();\n  }\n}\n</code></pre>\n\n<p>This way, a field could be set before the super constructor is invoked which is however not longer possible. In JBC, this behavior can still be implemented.</p>\n\n<p><strong>Branch a super constructor call</strong></p>\n\n<p>In Java, it is not possible to define a constructor call like</p>\n\n<pre><code>class Foo {\n  Foo() { }\n  Foo(Void v) { }\n}\n\nclass Bar() {\n  if(System.currentTimeMillis() % 2 == 0) {\n    super();\n  } else {\n    super(null);\n  }\n}\n</code></pre>\n\n<p><s>Until Java 7u23, the HotSpot VM's verifier did however miss this check which is why it was possible. This was used by several code generation tools as a sort of a hack but it is not longer legal to implement a class like this.</s></p>\n\n<p>The latter was merely a bug in this compiler version. In newer compiler versions, this is again possible.</p>\n\n<p><strong>Define a class without any constructor</strong></p>\n\n<p>The Java compiler will always implement at least one constructor for any class. In Java byte code, this is not required. This allows the creation of classes that cannot be constructed even when using reflection. However, using <code>sun.misc.Unsafe</code> still allows for the creation of such instances.</p>\n\n<p><strong>Define methods with identical signature but with different return type</strong></p>\n\n<p>In the JPL, a method is identified as unique by its name and its raw parameter types. In JBC, the raw return type is additionally considered. </p>\n\n<p><strong>Define fields that do not differ by name but only by type</strong></p>\n\n<p>A class file can contain several fields of the same name as long as they declare a different field type. The JVM always refers to a field as a tuple of name and type.</p>\n\n<p><strong>Throw undeclared checked exceptions without catching them</strong></p>\n\n<p>The Java runtime and the Java byte code are not aware of the concept of checked exceptions. It is only the Java compiler that verifies that checked exceptions are always either caught or declared if they are thrown.</p>\n\n<p><strong>Use dynamic method invocation outside of lambda expressions</strong></p>\n\n<p>The so-called <a href=\"http://stackoverflow.com/q/6638735/1237575\">dynamic method invocation</a> can be used for anything, not only for Java's lambda expressions. Using this feature allows for example to switch out execution logic at runtime. Many dynamic programming languages that boil down to JBC <a href=\"http://groovy.codehaus.org/InvokeDynamic+support\">improved their performance</a> by using this instruction. In Java byte code, you could also emulate lambda expressions in Java 7 where the compiler did not yet allow for any use of dynamic method invocation while the JVM already understood the instruction.</p>\n\n<p><strong>Use identifiers that are not normally considered legal</strong></p>\n\n<p>Ever fancied using spaces and a line break in your method's name? Create your own JBC and good luck for code review. The only illegal characters for identifiers are <code>.</code>, <code>;</code>, <code>[</code> and  <code>/</code>. Additionally, methods that are not named <code>&lt;init&gt;</code> or <code>&lt;clinit&gt;</code> cannot contain <code>&lt;</code> and <code>&gt;</code>.</p>\n\n<p><strong>Reassign <code>final</code> parameters or the <code>this</code> reference</strong></p>\n\n<p><code>final</code> parameters do not exist in JBC and can consequently be reassigned. Any parameter, including the <code>this</code> reference is only stored in a simple array within the JVM what allows to reassign the <code>this</code> reference at index <code>0</code> within a single method frame.</p>\n\n<p><strong>Reassign <code>final</code> fields</strong></p>\n\n<p>As long as a final field is assigned within a constructor, it is legal to reassign this value or even not assign a value at all. Therefore, the following two constructors are legal:</p>\n\n<pre><code>class Foo {\n  final int bar;\n  Foo() { } // bar == 0\n  Foo(Void v) { // bar == 2\n    bar = 1;\n    bar = 2;\n  }\n}\n</code></pre>\n\n<p>For <code>static final</code> fields, it is even allowed to reassign the fields outside of \nthe class initializer.</p>\n\n<p><strong>Treat constructors and the class initializer as if they were methods</strong></p>\n\n<p>This is more of a <em>conceptional feature</em> but constructors are not treated any differently within JBC than normal methods. It is only the JVM's verifier that assures that constructors call another legal constructor. Other than that, it is merely a Java naming convention that constructors must be called <code>&lt;init&gt;</code> and that the class initializer is called <code>&lt;clinit&gt;</code>. Besides this difference, the representation of methods and constructors is identical. As Holger pointed out in a comment, you can even define constructors with return types other than <code>void</code> or a class initializer with arguments, even though it is not possible to call these methods.</p>\n\n<p><strong>Call any super method (until Java 1.1)</strong></p>\n\n<p>However, this is only possible for Java versions 1 and 1.1. In JBC, methods are always dispatched on an explicit target type. This means that for</p>\n\n<pre><code>class Foo {\n  void baz() { System.out.println(\"Foo\"); }\n}\n\nclass Bar extends Foo {\n  @Override\n  void baz() { System.out.println(\"Bar\"); }\n}\n\nclass Qux extends Bar {\n  @Override\n  void baz() { System.out.println(\"Qux\"); }\n}\n</code></pre>\n\n<p>it was possible to implement <code>Qux#baz</code> to invoke <code>Foo#baz</code> while jumping over <code>Bar#baz</code>. While it is still possible to define an explicit invocation to call another super method implementation than that of the direct super class, this does no longer have any effect in Java versions after 1.1. In Java 1.1, this behavior was controlled by setting the <code>ACC_SUPER</code> flag which would enable the same behavior that only calls the direct super class's implementation.</p>\n\n<p><strong>Define a non-virtual call of a method that is declared in the same class</strong></p>\n\n<p>In Java, it is not possible to define a class</p>\n\n<pre><code>class Foo {\n  void foo() {\n    bar();\n  }\n  void bar() { }\n}\n\nclass Bar extends Foo {\n  @Override void bar() {\n    throw new RuntimeException();\n  }\n}\n</code></pre>\n\n<p>The above code will always result in a <code>RuntimeException</code> when <code>foo</code> is invoked on an instance of <code>Bar</code>. It is not possible to define the <code>Foo::foo</code> method to invoke <em>its own</em> <code>bar</code> method which is defined in <code>Foo</code>. As <code>bar</code> is a non-private instance method, the call is always virtual. With byte code, one can however define the invocation to use the <code>INVOKESPECIAL</code> opcode which directly links the <code>bar</code> method call in <code>Foo::foo</code> to <code>Foo</code>'s version. This opcode is normally used to implement super method invocations but you can reuse the opcode to implement the described behavior.</p>\n\n<p><strong>Fine-grain type annotations</strong></p>\n\n<p>In Java, annotations are applied according to their <code>@Target</code> that the annotations declares. Using byte code manipulation, it is possible to define annotations independently of this control. Also, it is for example possible to annotate a parameter type without annotating the parameter even if the <code>@Target</code> annotation applies to both elements.</p>\n\n<p><strong>Define any attribute for a type or its members</strong></p>\n\n<p>Within the Java language, it is only possible to define annotations for fields, methods or classes. In JBC, you can basically embed any information into the Java classes. In order to make use of this information, you can however no longer rely on the Java class loading mechanism but you need to extract the meta information by yourself.</p>\n\n<p><strong>Overflow and implicitly assign <code>byte</code>, <code>short</code>, <code>char</code> and <code>boolean</code> values</strong></p>\n\n<p>The latter primitive types are not normally known in JBC but are only defined for array types or for field and method descriptors. Within byte code instructions, all of the named types take the space 32 bit which allows to represent them as <code>int</code>. Officially, only the <code>int</code>, <code>float</code>, <code>long</code> and <code>double</code> types exist within byte code which all need explicit conversion by the rule of the JVM's verifier.</p>\n\n<p><strong>Not release a monitor</strong></p>\n\n<p>A <code>synchronized</code> block is actually made up of two statements, one to acquire and one to release a monitor. In JBC, you can acquire one without releasing it.</p>\n\n<p><em>Note</em>: In recent implementations of HotSpot, this instead leads to an <code>IllegalMonitorStateException</code> at the end of a method or to an implicit release if the method is terminated by an exception itself.</p>\n\n<p><strong>Add more than one <code>return</code> statement to a type initializer</strong></p>\n\n<p>In Java, even a trivial type initializer such as</p>\n\n<pre><code>class Foo {\n  static {\n    return;\n  }\n}\n</code></pre>\n\n<p>is illegal. In byte code, the type initializer is treated just as any other method, i.e. return statements can be defined anywhere.</p>\n\n<p><strong>Create irreducible loops</strong></p>\n\n<p>The Java compiler converts loops to goto statements in Java byte code. Such statements can be used to create irreducible loops, which the Java compiler never does.</p>\n\n<p><strong>Define a recursive catch block</strong></p>\n\n<p>In Java byte code, you can define a block:</p>\n\n<pre><code>try {\n  throw new Exception();\n} catch (Exception e) {\n  &lt;goto on exception&gt;\n  throw Exception();\n}\n</code></pre>\n\n<p>A similar statement is created implicitly when using a <code>synchronized</code> block in Java where any exception while releasing a monitor returns to the instruction for releasing this monitor. Normally, no exception should occur on such an instruction but if it would (e.g. the deprecated <code>ThreadDeath</code>), the monitor would still be released.</p>\n\n<p><strong>Call any default method</strong></p>\n\n<p>The Java compiler requires several conditions to be fulfilled in order to allow a default method's invocation: </p>\n\n<ol>\n<li>The method must be the most specific one (must not be overridden by a sub interface that is implemented by <strong>any</strong> type, including super types).</li>\n<li>The default method's interface type must be implemented directly by the class that is calling the default method. However, if interface <code>B</code> extends interface <code>A</code> but does not override a method in <code>A</code>, the method can still be invoked.</li>\n</ol>\n\n<p>For Java byte code, only the second condition counts. The first one is however irrelevant.</p>\n\n<p><strong>Invoke a super method on an instance that is not <code>this</code></strong></p>\n\n<p>The Java compiler only allows to invoke a super (or interface default) method on instances of <code>this</code>. In byte code, it is however also possible to invoke the super method on an instance of the same type similar to the following:</p>\n\n<pre><code>class Foo {\n  void m(Foo f) {\n    f.super.toString(); // calls Object::toString\n  }\n  public String toString() {\n    return \"foo\";\n  }\n}\n</code></pre>\n\n<p><strong>Access synthetic members</strong></p>\n\n<p>In Java byte code, it is possible to access synthetic members directly. For example, consider how in the following example the outer instance of another <code>Bar</code> instance is accessed:</p>\n\n<pre><code>class Foo {\n  class Bar { \n    void bar(Bar bar) {\n      Foo foo = bar.Foo.this;\n    }\n  }\n}\n</code></pre>\n\n<p>This is generally true for any synthetic field, class or method.</p>\n\n<p><strong>Define out-of-sync generic type information</strong></p>\n\n<p>While the Java runtime does not process generic types (after the Java compiler applies type erasure), this information is still attcheched to a compiled class as meta information and made accessible via the reflection API.</p>\n\n<p>The verifier does not check the consistency of these meta data <code>String</code>-encoded values. It is therefore possible to define information on generic types that does not match the erasure. As a concequence, the following assertings can be true:</p>\n\n<pre><code>Method method = ...\nassertTrue(method.getParameterTypes() != method.getGenericParameterTypes());\n\nField field = ...\nassertTrue(field.getFieldType() == String.class);\nassertTrue(field.getGenericFieldType() == Integer.class);\n</code></pre>\n\n<p>Also, the signature can be defined as invalid such that a runtime exception is thrown. This exception is thrown when the information is accessed for the first time as it is evaluated lazily. (Similar to annotation values with an error.)</p>\n\n<p><strong>Append parameter meta information only for certain methods</strong></p>\n\n<p>The Java compiler allows for embedding parameter name and modifier information when compiling a class with the <code>parameter</code> flag enabled. In the Java class file format, this information is however stored per-method what makes it possible to only embed such method information for certain methods.</p>\n\n<p><strong>Mess things up and hard-crash your JVM</strong></p>\n\n<p>As an example, in Java byte code, you can define to invoke any method on any type. Usually, the verifier will complain if a type does not known of such a method. However, if you invoke an unknown method on an array, I found a bug in some JVM version where the verifier will miss this and your JVM will finish off once the instruction is invoked. This is hardly a feature though, but it is technically something that is not possible with <em>javac</em> compiled Java. Java has some sort of double validation. The first validation is applied by the Java compiler, the second one by the JVM when a class is loaded. By skipping the compiler, you might find a weak spot in the verifier's validation. This is rather a general statement than a feature, though.</p>\n\n<p><strong>Annotate a constructor's receiver type when there is no outer class</strong></p>\n\n<p>Since Java 8, non-static methods and constructors of inner classes can declare a receiver type and annotate these types. Constructors of top-level classes cannot annotate their receiver type as they most not declare one.</p>\n\n<pre><code>class Foo {\n  class Bar {\n    Bar(@TypeAnnotation Foo Foo.this) { }\n  }\n  Foo() { } // Must not declare a receiver type\n}\n</code></pre>\n\n<p>Since <code>Foo.class.getDeclaredConstructor().getAnnotatedReceiverType()</code> does however return an <code>AnnotatedType</code> representing <code>Foo</code>, it is possible to include type annotations for <code>Foo</code>'s constructor directly in the class file where these annotations are later read by the reflection API.</p>\n\n<p><strong>Use unused / legacy byte code instructions</strong></p>\n\n<p>Since others named it, I will include it as well. Java was formerly making use of subroutines by the <code>JSR</code> and <code>RET</code> statements. JBC even knew its own type of a return address for this purpose. However, the use of subroutines did overcomplicate static code analysis which is why these instructions are not longer used. Instead, the Java compiler will duplicate code it compiles. However, this basically creates identical logic which is why I do not really consider it to achieve something different. Similarly, you could for example add the <code>NOOP</code> byte code instruction which is not used by the Java compiler either but this would not really allow you to achieve something new either. As pointed out in the context, these mentioned \"feature instructions\" are now removed from the set of legal opcodes which does render them even less of a feature.</p>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/23218472#23218472", "question_id": 6827363, "answer_id": 23218472}, {"body": "<p>I wrote a bytecode optimizer when I was a I-Play, (it was designed to reduce the code size for J2ME applications). One feature I added was the ability to use inline bytecode (similar to inline assembly language in C++). I managed to reduce the size of a function that was part of a library method by using the DUP instruction, since I need the value twice. I also had zero byte instructions (if you are calling a method that takes a char and you want to pass an int, that you know does not need to be cast I added int2char(var) to replace char(var) and it would remove the i2c instruction to reduce the size of the code. I also made it do float a = 2.3; float b = 3.4; float c = a + b; and that would be converted to fixed point (faster, and also some J2ME did not support floating point).</p>\n", "title": "Bytecode features not available in the Java language", "tags": ["java", "jvm", "bytecode"], "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language/29703865#29703865", "question_id": 6827363, "answer_id": 29703865}], "creation_date": 1311669575, "score": 127, "link": "http://stackoverflow.com/questions/6827363/bytecode-features-not-available-in-the-java-language", "question_id": 6827363}, {"body": "<p>Why doesn't Set povide an operation to get an element that equals another element?</p>\n\n<pre><code>Set&lt;Foo&gt; set = ...;\n...\nFoo foo = new Foo(1, 2, 3);\nFoo bar = set.get(foo);   // get the Foo element from the Set that equals foo\n</code></pre>\n\n<p>I can ask whether the Set contains an element equal to bar, so why can't I get that element? :(</p>\n\n<p>To clarify, the <code>equals</code> method is overriden, but it only checks one of the fields, not all. So two Foo objects that are considered equal can actually have different values, that's why I can't just use <code>foo</code>.</p>\n", "tags": ["java", "collections", "set", "equals"], "title": "Getting an element from a Set", "answers": [{"body": "<p>There would be no point of getting the element if it is equal. A <code>Map</code> is better suited for this usecase.</p>\n\n<hr>\n\n<p>If you still want to find the element you have no other option but to use the iterator:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Set&lt;Foo&gt; set = new HashSet&lt;Foo&gt;();\n    set.add(new Foo(\"Hello\"));\n\n    for (Iterator&lt;Foo&gt; it = set.iterator(); it.hasNext(); ) {\n        Foo f = it.next();\n        if (f.equals(new Foo(\"Hello\")))\n            System.out.println(\"foo found\");\n    }\n}\n\nstatic class Foo {\n    String string;\n    Foo(String string) {\n        this.string = string;\n    }\n    @Override\n    public int hashCode() { \n        return string.hashCode(); \n    }\n    @Override\n    public boolean equals(Object obj) {\n        return string.equals(((Foo) obj).string);\n    }\n}\n</code></pre>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/7283362#7283362", "question_id": 7283338, "answer_id": 7283362}, {"body": "<p>You better use the Java HashMap object for that purpose <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/HashMap.html\" rel=\"nofollow\">http://download.oracle.com/javase/1,5.0/docs/api/java/util/HashMap.html</a></p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/7283369#7283369", "question_id": 7283338, "answer_id": 7283369}, {"body": "<p>If you have an equal object, why do you need the one from the set? If it is \"equal\" only by a key, an <code>Map</code> would be a better choice.</p>\n\n<p>Anyway, the following will do it:</p>\n\n<pre><code>Foo getEqual(Foo sample, Set&lt;Foo&gt; all) {\n  for (Foo one : all) {\n    if (one.equals(sample)) {\n      return one;\n    }\n  } \n  return null;\n}\n</code></pre>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/7283419#7283419", "question_id": 7283338, "answer_id": 7283419}, {"body": "<p>Because any particular implementation of Set may or may not be <a href=\"http://en.wikipedia.org/wiki/Random_access\" rel=\"nofollow\">random access</a>.</p>\n\n<p>You can always get an <a href=\"http://download.oracle.com/javase/6/docs/api/index.html?java/util/Set.html\" rel=\"nofollow\">iterator</a> and step through the Set, using the iterators' <code>next()</code> method to return the result you want once you find the equal element.  This works regardless of the implementation.  If the implementation is NOT random access (picture a linked-list backed Set), a <code>get(E element)</code> method in the interface would be deceptive, since it would have to iterate the collection to find the element to return, and a <code>get(E element)</code> would seem to imply this would be necessary, that the Set could jump directly to the element to get.</p>\n\n<p><code>contains()</code> may or may not have to do the same thing, of course, depending on the implementation, but the name doesn't seem to lend itself to the same sort of misunderstandings.</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/7283475#7283475", "question_id": 7283338, "answer_id": 7283475}, {"body": "<p>To answer the precise question \"<strong>Why</strong> doesn't Set povide an operation to get an element that equals another element?\", the answer would be: because the designers of the collection framework were not very forward looking. They didn't anticipate your very legitimate use case, naively tried to \"model the mathematical set abstraction\" (from the javadoc) and simply forgot to add the useful get() method.</p>\n\n<p>Now to the implied question \"<strong>how</strong> do you get the element then\": I think the best solution is to use a Map instead of a set, to map the elements to themselves. In that way, you can <em>efficiently</em> retrieve an element from the \"set\", because the get() method of the map will find the element using an efficient hash table or tree algorithm. If you wanted, you could write your own implementation of set that offers the additional get() method, encapsulating the map.</p>\n\n<p>The following answers are imho bad or wrong:</p>\n\n<p>\"You don't need to get the element, because you already have an equal object\": the assertion is wrong, as you already showed in the question. Two objects that are equal still can have different state that is not relevant to the object equality. The goal is to get access to this state of the element contained in the set, not the state of the object used as a \"query\".</p>\n\n<p>\"You have no other option but to use the iterator\": that is a linear search over a collection which is totally inefficient for large sets (ironically, internally the set is organized as hash map or tree that could be queried efficiently). Don't do it! I have seen severe performance problems in real-life systems by using that approach. Imho what is terrible about the missing get() method is not so much that it is a bit cumbersome to work around it, but that most programmers will use the linear search approach without thinking of the implications.</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/18380755#18380755", "question_id": 7283338, "answer_id": 18380755}, {"body": "<p>Quick helper method that might address this situation:</p>\n\n<pre><code>&lt;T&gt; T onlyItem(Collection&lt;T&gt; items) {\n    if (items.size() != 1)\n        throw new IllegalArgumentException(\"Collection must have single item; instead it has \" + items.size());\n\n    return items.iterator().next();\n}\n</code></pre>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/19722410#19722410", "question_id": 7283338, "answer_id": 19722410}, {"body": "<pre><code>Object objectToGet = ...\nMap&lt;Object, Object&gt; map = new HashMap&lt;Object, Object&gt;(set.size());\nfor (Object o : set) {\n    map.put(o, o);\n}\nObject objectFromSet = map.get(objectToGet);\n</code></pre>\n\n<p>If you only do one get this will not be very performing because you will loop over all your elements but when performing multiple retrieves on a big set you will notice the difference.</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/21673205#21673205", "question_id": 7283338, "answer_id": 21673205}, {"body": "<p>I know, this has been asked and answered long ago, however if anyone is interested, here is my solution - custom set class backed by HashMap:</p>\n\n<p><a href=\"http://pastebin.com/Qv6S91n9\" rel=\"nofollow\">http://pastebin.com/Qv6S91n9</a></p>\n\n<p>You can easily implement all other Set methods.</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/21689050#21689050", "question_id": 7283338, "answer_id": 21689050}, {"body": "<p>Maybe using an array:</p>\n\n<p>ObjectClass[] arrayName = SetOfObjects.toArray( new ObjectClass[setOfObjects.size()] );</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/21736502#21736502", "question_id": 7283338, "answer_id": 21736502}, {"body": "<p>If your set is in fact a <code>NavigableSet&lt;Foo&gt;</code> (such as a <code>TreeSet</code>), and <code>Foo implements Comparable&lt;Foo&gt;</code>, you can use</p>\n\n<pre><code>Foo bar = set.floor(foo); // or .ceiling\nif (foo.equals(bar)) {\n    // use bar\u2026\n}\n</code></pre>\n\n<p>(Thanks to @eliran-malka\u2019s comment for the hint.)</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/25393190#25393190", "question_id": 7283338, "answer_id": 25393190}, {"body": "<p>Convert set to list, and then use <code>get</code> method of list</p>\n\n<pre><code>Set&lt;Foo&gt; set = ...;\nList&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;(set);\nFoo obj = list.get(0);\n</code></pre>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/30439501#30439501", "question_id": 7283338, "answer_id": 30439501}, {"body": "<p>Default Set in Java is, unfortunately, not designed to provide a \"get\" operation, as <a href=\"http://stackoverflow.com/a/18380755/5192980\">jschreiner</a> accurately explained.</p>\n\n<p>The solutions of using an iterator to find the element of interest (suggested by <a href=\"http://stackoverflow.com/a/7283362/5192980\">dacwe</a>) or to remove the element and re-add it with its values updated (suggested by <a href=\"https://stackoverflow.com/questions/7283338/getting-an-element-from-a-set#comment21007957_7283362\">KyleM</a>), could work, but can be very inefficient.</p>\n\n<p>Overriding the implementation of equals so that non-equal objects are \"equal\", as stated correctly by <a href=\"https://stackoverflow.com/questions/7283338/getting-an-element-from-a-set#comment32790034_18380755\">David Ogren</a>, can easily cause maintenance problems.</p>\n\n<p>And using a Map as an explicit replacement (as suggested by many), imho, makes the code less elegant.</p>\n\n<p>If the goal is to get access to the original instance of the element contained in the set (hope I understood correctly your use case), here is another possible solution.</p>\n\n<hr>\n\n<p>I personally had your same need while developing a client-server videogame with Java. In my case each client had copies of the same components stored in the server and the problem was whenever a client needed to modify an object of the server.</p>\n\n<p>Passing that object through the internet meant that the client had different instances of that object anyway. In order to match this \"copied\" instance with the original one, I decided to use Java UUIDs.</p>\n\n<p>So I created an abstract class UniqueItem, which automatically gives to each instance of subclasses a random unique id.</p>\n\n<p>This UUID is shared between the client and the server instance, so this way it could be easy to match them by simply using a Map.</p>\n\n<p>However directly using a Map in a similar usecase was still inelegant. Someone might argue that using an Map might be more complicated to mantain and handle.</p>\n\n<p>For this reasons I implemented a library called MagicSet, that makes the usage of an Map \"transparent\" to the developer.</p>\n\n<p><a href=\"https://github.com/ricpacca/magicset\" rel=\"nofollow\">https://github.com/ricpacca/magicset</a></p>\n\n<hr>\n\n<p>Exactly as the original Java HashSet, a MagicHashSet (which is one of the implementations of MagicSet provided in the library) uses a backing HashMap, but instead of having elements as keys and a dummy value as values, it uses the UUID of the element as key and the element itself as value. This does not cause overhead in the memory use compared to a normal HashSet. </p>\n\n<p>Moreover, a MagicSet can be used exactly as a Set, but with some more methods providing additional functionalities, like getFromId(), popFromId(), removeFromId(), etc.</p>\n\n<p>The only requirement to use it is that any element that you want to store in a MagicSet needs to extend the abstract class UniqueItem.</p>\n\n<hr>\n\n<p>Here is a code example, imagining to retrieve the original instance of a city from a MagicSet, given another instance of that city with the same UUID (or even just its UUID).</p>\n\n<pre><code>class City extends UniqueItem {\n\n    // Somewhere in this class\n\n    public void doSomething() {\n        // Whatever\n    }\n}\n\npublic class Map {\n    private MagicSet&lt;City&gt; cities;\n\n    public Map(Collection&lt;Card&gt; cities) {\n        cities = new MagicHashSet&lt;&gt;(cities);\n    }\n\n    /*\n     * cityId is the UUID of the city you want to retrieve.\n     * If you have a copied instance of that city, you can simply \n     * call copiedCity.getId() and pass the return value to this method.\n     */\n    public void doSomethingInCity(UUID cityId) {\n        City city = cities.getFromId(cityId);\n        city.doSomething();\n    }\n\n    // Other methods can be called on a MagicSet too\n}\n</code></pre>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/38446824#38446824", "question_id": 7283338, "answer_id": 38446824}, {"body": "<p>With Java 8 you can do:</p>\n\n<pre><code>Foo foo = set.stream().filter(item-&gt;item.equals(theItemYouAreLookingFor)).findFirst().get();\n</code></pre>\n\n<p>But be careful, .get() throws a NoSuchElementException, or you can manipulate a Optional item.</p>\n", "title": "Getting an element from a Set", "tags": ["java", "collections", "set", "equals"], "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set/38485455#38485455", "question_id": 7283338, "answer_id": 38485455}], "creation_date": 1314966174, "score": 127, "link": "http://stackoverflow.com/questions/7283338/getting-an-element-from-a-set", "question_id": 7283338}, {"body": "<p>I have a function which return a type int. However, I only have a value of the TAX enumeration.</p>\n\n<p>How can I cast the TAX enumeration value to an int?</p>\n\n<pre><code>public enum TAX {\n    NOTAX(0),SALESTAX(10),IMPORTEDTAX(5);\n\n    private int value;\n    private TAX(int value){\n        this.value = value;\n    }\n}\n\nTAX var = TAX.NOTAX; // This value will differ\n\npublic int getTaxValue()\n{\n  // what do do here?\n  // return (int)var;\n}\n</code></pre>\n", "tags": ["java", "enums"], "title": "How to convert enum value to int?", "answers": [{"body": "<p>You'd need to make the enum expose <code>value</code> somehow, e.g.</p>\n\n<pre><code>public enum Tax {\n    NONE(0), SALES(10), IMPORT(5);\n\n    private final int value;\n    private Tax(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n}\n\n...\n\npublic int getTaxValue() {\n    Tax tax = Tax.NONE; // Or whatever\n    return tax.getValue();\n}\n</code></pre>\n\n<p>(I've changed the names to be a bit more conventional and readable, btw.)</p>\n\n<p>This is <em>assuming</em> you want the value assigned in the constructor. If that's not what you want, you'll need to give us more information.</p>\n", "title": "How to convert enum value to int?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/8157755/how-to-convert-enum-value-to-int/8157790#8157790", "question_id": 8157755, "answer_id": 8157790}, {"body": "<p>If you want the value you are assigning in the constructor, you need to add a method in the enum definition to return that value.</p>\n\n<p>If you want a unique number that represent the enum value, you can use <code>ordinal()</code>.</p>\n", "title": "How to convert enum value to int?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/8157755/how-to-convert-enum-value-to-int/8157791#8157791", "question_id": 8157755, "answer_id": 8157791}, {"body": "<p>I prefer this:</p>\n\n<pre><code>public enum Color {\n\n   White,\n\n   Green,\n\n   Blue,\n\n   Purple,\n\n   Orange,\n\n   Red\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>//cast enum to int\nint color = Color.Blue.ordinal();\n</code></pre>\n", "title": "How to convert enum value to int?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/8157755/how-to-convert-enum-value-to-int/15940036#15940036", "question_id": 8157755, "answer_id": 15940036}], "creation_date": 1321473049, "score": 124, "link": "http://stackoverflow.com/questions/8157755/how-to-convert-enum-value-to-int", "question_id": 8157755}, {"body": "<p>I need to get the pixel color of a <code>TIFF</code> image, if you know any alternatives to <code>Jai</code> and <code>Jai-imageio</code> please let me know.</p>\n", "tags": ["java", "jai"], "title": "Where can I download Jai and Jai-imageio?", "answers": [{"body": "<p>Here you go: <a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-client-419417.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-client-419417.html</a></p>\n\n<p>Maybe this is interessting, too. I saw they provide some extensions:\n<a href=\"http://java.net/projects/imageio\" rel=\"nofollow\">http://java.net/projects/imageio</a></p>\n\n<p>I know about <a href=\"http://commons.apache.org/sanselan/index.html\" rel=\"nofollow\">Sanselan</a> and <a href=\"http://rsbweb.nih.gov/ij/\" rel=\"nofollow\">ImageJ</a>, too, but do not know\nif and how they give you the ability to read the pixelcolor.</p>\n\n<p>But as long as you can get a <code>BufferedImage</code> in Java you should\nbe able to do what is needed.</p>\n", "title": "Where can I download Jai and Jai-imageio?", "tags": ["java", "jai"], "link": "http://stackoverflow.com/questions/7502181/where-can-i-download-jai-and-jai-imageio/7502377#7502377", "question_id": 7502181, "answer_id": 7502377}], "creation_date": 1316617822, "score": 124, "link": "http://stackoverflow.com/questions/7502181/where-can-i-download-jai-and-jai-imageio", "question_id": 7502181}, {"body": "<p>Why is <code>int i = 2147483647 + 1;</code> OK, but <code>byte b = 127 + 1;</code> is not compilable?</p>\n", "tags": ["java", "byte", "int"], "title": "Why is &quot;int i = 2147483647 + 1;&quot; OK, but &quot;byte b = 127 + 1;&quot; is not compilable?", "answers": [{"body": "<p>Constants are evaluated as ints, so <code>2147483647 + 1</code> overflows and gives you a new int, which is assignable to <code>int</code>, while <code>127 + 1</code> also evaluated as <code>int</code> equals to <code>128</code>, and it is not assignable to <code>byte</code>.</p>\n", "title": "Why is &quot;int i = 2147483647 + 1;&quot; OK, but &quot;byte b = 127 + 1;&quot; is not compilable?", "tags": ["java", "byte", "int"], "link": "http://stackoverflow.com/questions/6889176/why-is-int-i-2147483647-1-ok-but-byte-b-127-1-is-not-compilable/6889207#6889207", "question_id": 6889176, "answer_id": 6889207}, {"body": "<p>The literal 127 denotes a value of type int.  So does the literal 1.  The sum of these two is the integer 128.  The problem, in the second case, is that you are assigning this to a variable of type byte.  It has nothing to do with the actual value of the expressions.  It has to do with Java not supporting coercions (*).  You have to add a typecast</p>\n\n<pre><code>byte b = (byte)(127 + 1);\n</code></pre>\n\n<p>and then it compiles.</p>\n\n<p>(*) at least not of the kind String-to-integer, float-to-Time, ...  Java does support coercions if they are, in a sense, non-loss (Java calls this \"widening\").</p>\n\n<p>And no, the word \"coercion\" did not need correcting.  It was chosen very deliberately and correctly at that.  From the closest source to hand (Wikipedia) : \"In most languages, the word coercion is used to denote an <b><em>implicit</em></b> conversion, either during compilation or during run time.\" and \"In computer science, type conversion, typecasting, and coercion are <strong><em>different</em></strong> ways of, implicitly or explicitly, changing an entity of one data type into another.\".</p>\n", "title": "Why is &quot;int i = 2147483647 + 1;&quot; OK, but &quot;byte b = 127 + 1;&quot; is not compilable?", "tags": ["java", "byte", "int"], "link": "http://stackoverflow.com/questions/6889176/why-is-int-i-2147483647-1-ok-but-byte-b-127-1-is-not-compilable/6889234#6889234", "question_id": 6889176, "answer_id": 6889234}, {"body": "<p>As an evidence to @MByD: </p>\n\n<p>The following code compiles: </p>\n\n<pre><code>byte c = (byte)(127 + 1);\n</code></pre>\n\n<p>Because although expression <code>(127 + 1)</code> is int and beyond the scope off <code>byte</code> type the result is casted to <code>byte</code>. This expression produces <code>-128</code>.</p>\n", "title": "Why is &quot;int i = 2147483647 + 1;&quot; OK, but &quot;byte b = 127 + 1;&quot; is not compilable?", "tags": ["java", "byte", "int"], "link": "http://stackoverflow.com/questions/6889176/why-is-int-i-2147483647-1-ok-but-byte-b-127-1-is-not-compilable/6889246#6889246", "question_id": 6889176, "answer_id": 6889246}, {"body": "<p>JLS3 #5.2 Assignment Conversion</p>\n\n<p>( variable = expression )</p>\n\n<p>In addition, if the expression is a constant expression (\u00a715.28) of type byte, short, char or int :</p>\n\n<p>A narrowing primitive conversion may be used if the type of the variable is byte, short, or char, and the value of the constant expression is representable in the type of the variable. </p>\n\n<hr>\n\n<p>Without this clause, we wouldn't be able to write</p>\n\n<pre><code>byte x = 0;\nchar c = 0;\n</code></pre>\n\n<p>But should we be able to do this? I don't think so. There are quite some magic going on in conversion among primitives, one must be very careful. I would go out of my way to write</p>\n\n<pre><code>byte x = (byte)0;\n</code></pre>\n", "title": "Why is &quot;int i = 2147483647 + 1;&quot; OK, but &quot;byte b = 127 + 1;&quot; is not compilable?", "tags": ["java", "byte", "int"], "link": "http://stackoverflow.com/questions/6889176/why-is-int-i-2147483647-1-ok-but-byte-b-127-1-is-not-compilable/6889685#6889685", "question_id": 6889176, "answer_id": 6889685}], "creation_date": 1312111723, "score": 123, "link": "http://stackoverflow.com/questions/6889176/why-is-int-i-2147483647-1-ok-but-byte-b-127-1-is-not-compilable", "question_id": 6889176}, {"body": "<p>I'm using the v4 compatibility ViewPager in Android.  My FragmentActivity has a bunch of data which is to be displayed in different ways on different pages in my ViewPager.  So far I just have 3 instances of the same ListFragment, but in the future I will have 3 instances of different ListFragments.  The ViewPager is on a vertical phone screen, the lists are not side-by-side.</p>\n\n<p>Now a button on the ListFragment starts an separate full-page activity (via the FragmentActivty), which returns and FragentActivity modifies the data, saves it, then attempts to update all views in its ViewPager.  It is here I am stuck.</p>\n\n<pre><code>public class ProgressMainActivity extends FragmentActivity\n{\n    MyAdapter mAdapter;\n    ViewPager mPager;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n    ...\n        mAdapter = new MyAdapter(getSupportFragmentManager());\n\n        mPager = (ViewPager) findViewById(R.id.viewpager);\n        mPager.setAdapter(mAdapter);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data)\n    {\n        ...\n        updateFragments();\n        ...\n    }\n    public void updateFragments()\n    {\n        //Attempt 1:\n        //mAdapter.notifyDataSetChanged();\n        //mPager.setAdapter(mAdapter);\n\n        //Attempt 2:\n        //HomeListFragment fragment = (HomeListFragment) getSupportFragmentManager().findFragmentById(mAdapter.fragId[0]);\n        //fragment.updateDisplay();\n    }\n\n    public static class MyAdapter extends FragmentPagerAdapter implements\n         TitleProvider\n    {\n      int[] fragId = {0,0,0,0,0};\n      public MyAdapter(FragmentManager fm)\n      {\n         super(fm);\n      }\n      @Override\n      public String getTitle(int position){\n         return titles[position];\n      }\n      @Override\n      public int getCount(){\n         return titles.length;\n      }\n\n      @Override\n      public Fragment getItem(int position)\n      {\n\n         Fragment frag = HomeListFragment.newInstance(position);\n         //Attempt 2:\n         //fragId[position] = frag.getId();\n         return frag;\n      }\n\n      @Override\n      public int getItemPosition(Object object) {\n         return POSITION_NONE; //To make notifyDataSetChanged() do something\n     }\n   }\n\n    public class HomeListFragment extends ListFragment\n    {\n    ...\n        public static HomeListFragment newInstance(int num)\n        {\n            HomeListFragment f = new HomeListFragment();\n            ...\n            return f;\n        }\n   ...\n</code></pre>\n\n<p>Now as you can see, my first attempt was to notifyDataSetChanged on the entire FragmentPagerAdapter, and this showed to update the data sometimes, but others I got an IllegalStateException: Can not perform this action after onSaveInstanceState.  </p>\n\n<p>My second attempt involed trying to call an update function in my ListFragment, but getId in getItem returned 0.  As per the docs I tried by </p>\n\n<blockquote>\n  <p>acquiring a reference to the Fragment from FragmentManager, using\n  findFragmentById() or findFragmentByTag()</p>\n</blockquote>\n\n<p>but I don't know the tag or id of my Fragments! I have an android:id=\"@+id/viewpager\" for ViewPager, and a android:id=\"@android:id/list\" for my ListView in the ListFragment layout, but I don't think these are useful.</p>\n\n<p>So, how can I either a) update the entire viewpager safely in one go (ideally returning the user to the page he was on before) - it is ok that the user see the view change.\nOr preferably, b) call a function in each affected ListFragment to update the ListView manually.</p>\n\n<p>Any help would be gratefully accepted!</p>\n", "tags": ["java", "android", "android-fragments", "android-viewpager"], "title": "Update data in ListFragment as part of ViewPager", "answers": [{"body": "<p>OK, I think I've found a way to perform request b) in my own question so I'll share for others' benefit.  The tag of fragments inside a ViewPager is in the form \"android:switcher:VIEWPAGER_ID:INDEX\", where VIEWPAGER_ID is the R.id.viewpager in XML layout, and INDEX is the position in the viewpager.  So if the position is known (eg 0), I can perform in updateFragments():</p>\n\n<pre><code>      HomeListFragment fragment = \n          (HomeListFragment) getSupportFragmentManager().findFragmentByTag(\n                       \"android:switcher:\"+R.id.viewpager+\":0\");\n      if(fragment != null)  // could be null if not instantiated yet\n      {\n         if(fragment.getView() != null) \n         {\n            // no need to call if fragment's onDestroyView() \n            //has since been called.\n            fragment.updateDisplay(); // do what updates are required\n         }\n      }\n</code></pre>\n\n<p>I've no idea if this is a valid way of doing it, but it'll do until something better is suggested. </p>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/7393477#7393477", "question_id": 7379165, "answer_id": 7393477}, {"body": "<p>Barkside's answer works with <code>FragmentPagerAdapter</code> but doesn't work with <code>FragmentStatePagerAdapter</code>, because it doesn't set tags on fragments it passes to <code>FragmentManager</code>.</p>\n\n<p>With <code>FragmentStatePagerAdapter</code> it seems we can get by, using its <code>instantiateItem(ViewGroup container, int position)</code> call. It returns reference to fragment at position <code>position</code>. If <code>FragmentStatePagerAdapter</code> already holds reference to fragment in question, <code>instantiateItem</code> just returns reference to that fragment, and doesn't call <code>getItem()</code> to instantiate it again.</p>\n\n<p>So, suppose, I'm currently looking at fragment #50, and want to access fragment #49. Since they are close, there's a good chance the #49 will be already instantiated. So, </p>\n\n<pre><code>ViewPager pager = findViewById(R.id.viewpager);\nFragmentStatePagerAdapter a = (FragmentStatePagerAdapter) pager.getAdapter();\nMyFragment f49 = (MyFragment) a.instantiateItem(pager, 49)\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/8886019#8886019", "question_id": 7379165, "answer_id": 8886019}, {"body": "<p>If you ask me, the second solution on the below page, keeping track of all the \"active\" fragment pages, is better: <a href=\"http://tamsler.blogspot.nl/2011/11/android-viewpager-and-fragments-part-ii.html\">http://tamsler.blogspot.nl/2011/11/android-viewpager-and-fragments-part-ii.html</a></p>\n\n<p>The answer from barkside is too hacky for me.</p>\n\n<p>you keep track of all the \"active\" fragment pages. In this case, you keep track of the fragment pages in the FragmentStatePagerAdapter, which is used by the ViewPager.</p>\n\n<pre><code>private final SparseArray&lt;Fragment&gt; mPageReferences = new SparseArray&lt;Fragment&gt;();\n\npublic Fragment getItem(int index) {\n    Fragment myFragment = MyFragment.newInstance();\n    mPageReferences.put(index, myFragment);\n    return myFragment;\n}\n</code></pre>\n\n<p>To avoid keeping a reference to \"inactive\" fragment pages, we need to implement the FragmentStatePagerAdapter's destroyItem(...) method:</p>\n\n<pre><code>public void destroyItem(View container, int position, Object object) {\n    super.destroyItem(container, position, object);\n    mPageReferences.remove(position);\n}\n</code></pre>\n\n<p>... and when you need to access the currently visible page, you then call:</p>\n\n<pre><code>int index = mViewPager.getCurrentItem();\nMyAdapter adapter = ((MyAdapter)mViewPager.getAdapter());\nMyFragment fragment = adapter.getFragment(index);\n</code></pre>\n\n<p>... where the MyAdapter's getFragment(int) method looks like this:</p>\n\n<pre><code>public MyFragment getFragment(int key) {\n    return mPageReferences.get(key);\n}\n</code></pre>\n\n<p>\"</p>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/11914573#11914573", "question_id": 7379165, "answer_id": 11914573}, {"body": "<p>Try to record the tag each time a Fragement is instantiated.</p>\n\n<pre><code>public class MPagerAdapter extends FragmentPagerAdapter {\n    private Map&lt;Integer, String&gt; mFragmentTags;\n    private FragmentManager mFragmentManager;\n\n    public MPagerAdapter(FragmentManager fm) {\n        super(fm);\n        mFragmentManager = fm;\n        mFragmentTags = new HashMap&lt;Integer, String&gt;();\n    }\n\n    @Override\n    public int getCount() {\n        return 10;\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        return Fragment.instantiate(mContext, AFragment.class.getName(), null);\n    }\n\n    @Override\n    public Object instantiateItem(ViewGroup container, int position) {\n        Object obj = super.instantiateItem(container, position);\n        if (obj instanceof Fragment) {\n            // record the fragment tag here.\n            Fragment f = (Fragment) obj;\n            String tag = f.getTag();\n            mFragmentTags.put(position, tag);\n        }\n        return obj;\n    }\n\n    public Fragment getFragment(int position) {\n        String tag = mFragmentTags.get(position);\n        if (tag == null)\n            return null;\n        return mFragmentManager.findFragmentByTag(tag);\n    }\n}\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/12104399#12104399", "question_id": 7379165, "answer_id": 12104399}, {"body": "<p>You can copy <code>FragmentPagerAdapter</code> and modify some source code, add <code>getTag()</code> method</p>\n\n<p>for example</p>\n\n<pre><code>public abstract class AppFragmentPagerAdapter extends PagerAdapter {\nprivate static final String TAG = \"FragmentPagerAdapter\";\nprivate static final boolean DEBUG = false;\n\nprivate final FragmentManager mFragmentManager;\nprivate FragmentTransaction mCurTransaction = null;\nprivate Fragment mCurrentPrimaryItem = null;\n\npublic AppFragmentPagerAdapter(FragmentManager fm) {\n    mFragmentManager = fm;\n}\n\n\npublic abstract Fragment getItem(int position);\n\n@Override\npublic void startUpdate(ViewGroup container) {\n}\n\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    if (mCurTransaction == null) {\n        mCurTransaction = mFragmentManager.beginTransaction();\n    }\n\n    final long itemId = getItemId(position);\n\n\n    String name = getTag(position);\n    Fragment fragment = mFragmentManager.findFragmentByTag(name);\n    if (fragment != null) {\n        if (DEBUG) Log.v(TAG, \"Attaching item #\" + itemId + \": f=\" + fragment);\n        mCurTransaction.attach(fragment);\n    } else {\n        fragment = getItem(position);\n        if (DEBUG) Log.v(TAG, \"Adding item #\" + itemId + \": f=\" + fragment);\n\n        mCurTransaction.add(container.getId(), fragment,\n                getTag(position));\n    }\n    if (fragment != mCurrentPrimaryItem) {\n        fragment.setMenuVisibility(false);\n        fragment.setUserVisibleHint(false);\n    }\n\n    return fragment;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    if (mCurTransaction == null) {\n        mCurTransaction = mFragmentManager.beginTransaction();\n    }\n    if (DEBUG) Log.v(TAG, \"Detaching item #\" + getItemId(position) + \": f=\" + object\n            + \" v=\" + ((Fragment) object).getView());\n    mCurTransaction.detach((Fragment) object);\n}\n\n@Override\npublic void setPrimaryItem(ViewGroup container, int position, Object object) {\n    Fragment fragment = (Fragment) object;\n    if (fragment != mCurrentPrimaryItem) {\n        if (mCurrentPrimaryItem != null) {\n            mCurrentPrimaryItem.setMenuVisibility(false);\n            mCurrentPrimaryItem.setUserVisibleHint(false);\n        }\n        if (fragment != null) {\n            fragment.setMenuVisibility(true);\n            fragment.setUserVisibleHint(true);\n        }\n        mCurrentPrimaryItem = fragment;\n    }\n}\n\n@Override\npublic void finishUpdate(ViewGroup container) {\n    if (mCurTransaction != null) {\n        mCurTransaction.commitAllowingStateLoss();\n        mCurTransaction = null;\n        mFragmentManager.executePendingTransactions();\n    }\n}\n\n@Override\npublic boolean isViewFromObject(View view, Object object) {\n    return ((Fragment) object).getView() == view;\n}\n\n@Override\npublic Parcelable saveState() {\n    return null;\n}\n\n@Override\npublic void restoreState(Parcelable state, ClassLoader loader) {\n}\n\n\npublic long getItemId(int position) {\n    return position;\n}\n\nprivate static String makeFragmentName(int viewId, long id) {\n    return \"android:switcher:\" + viewId + \":\" + id;\n}\n\nprotected abstract String getTag(int position);\n}\n</code></pre>\n\n<p>then extend it, override these abstract method,don't need to be afraid of Android Group change </p>\n\n<p><code>FragmentPageAdapter</code> source code in the future</p>\n\n<pre><code> class TimeLinePagerAdapter extends AppFragmentPagerAdapter {\n\n\n    List&lt;Fragment&gt; list = new ArrayList&lt;Fragment&gt;();\n\n\n    public TimeLinePagerAdapter(FragmentManager fm) {\n        super(fm);\n        list.add(new FriendsTimeLineFragment());\n        list.add(new MentionsTimeLineFragment());\n        list.add(new CommentsTimeLineFragment());\n    }\n\n\n    public Fragment getItem(int position) {\n        return list.get(position);\n    }\n\n    @Override\n    protected String getTag(int position) {\n        List&lt;String&gt; tagList = new ArrayList&lt;String&gt;();\n        tagList.add(FriendsTimeLineFragment.class.getName());\n        tagList.add(MentionsTimeLineFragment.class.getName());\n        tagList.add(CommentsTimeLineFragment.class.getName());\n        return tagList.get(position);\n    }\n\n\n    @Override\n    public int getCount() {\n        return list.size();\n    }\n\n\n}\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/12370750#12370750", "question_id": 7379165, "answer_id": 12370750}, {"body": "<p>Okay, after testing the method by @barkside above, I could not get it to work with my application. Then I remembered that the <a href=\"https://code.google.com/p/iosched/\">IOSched2012 app</a> uses a <code>viewpager</code> as well, and that is where I found my solution. It does not use any fragment ID's or Tags as these are not stored by <code>viewpager</code> in an easily accessible way.</p>\n\n<p>Here's the <a href=\"https://code.google.com/p/iosched/source/browse/android/src/com/google/android/apps/iosched/ui/HomeActivity.java#260\">important parts</a> from the IOSched apps HomeActivity. Pay particular attention to the <strong>comment</strong>, as therein lies the key.:</p>\n\n<pre><code>@Override\nprotected void onSaveInstanceState(Bundle outState) {\n    super.onSaveInstanceState(outState);\n\n    // Since the pager fragments don't have known tags or IDs, the only way to persist the\n    // reference is to use putFragment/getFragment. Remember, we're not persisting the exact\n    // Fragment instance. This mechanism simply gives us a way to persist access to the\n    // 'current' fragment instance for the given fragment (which changes across orientation\n    // changes).\n    //\n    // The outcome of all this is that the \"Refresh\" menu button refreshes the stream across\n    // orientation changes.\n    if (mSocialStreamFragment != null) {\n        getSupportFragmentManager().putFragment(outState, \"stream_fragment\",\n                mSocialStreamFragment);\n    }\n}\n\n@Override\nprotected void onRestoreInstanceState(Bundle savedInstanceState) {\n    super.onRestoreInstanceState(savedInstanceState);\n    if (mSocialStreamFragment == null) {\n        mSocialStreamFragment = (SocialStreamFragment) getSupportFragmentManager()\n                .getFragment(savedInstanceState, \"stream_fragment\");\n    }\n}\n</code></pre>\n\n<p>And store instances of you <code>Fragments</code> in the <code>FragmentPagerAdapter</code> like so:</p>\n\n<pre><code>    private class HomePagerAdapter extends FragmentPagerAdapter {\n    public HomePagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        switch (position) {\n            case 0:\n                return (mMyScheduleFragment = new MyScheduleFragment());\n\n            case 1:\n                return (mExploreFragment = new ExploreFragment());\n\n            case 2:\n                return (mSocialStreamFragment = new SocialStreamFragment());\n        }\n        return null;\n    }\n</code></pre>\n\n<p>Also, remember to guard your <code>Fragment</code> calls like so:</p>\n\n<pre><code>    if (mSocialStreamFragment != null) {\n        mSocialStreamFragment.refresh();\n    }\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/14311613#14311613", "question_id": 7379165, "answer_id": 14311613}, {"body": "<p>I want to give my approach in case it can help anyone else:</p>\n\n<p>This is my pager adapter:</p>\n\n<pre><code> public class CustomPagerAdapter extends FragmentStatePagerAdapter{\n    private Fragment[] fragments;\n\n    public CustomPagerAdapter(FragmentManager fm) {\n        super(fm);\n        fragments = new Fragment[]{\n                new FragmentA(),\n                new FragmentB()\n        };\n    }\n\n    @Override\n    public Fragment getItem(int arg0) {\n        return fragments[arg0];\n    }\n\n    @Override\n    public int getCount() {\n        return fragments.length;\n    }\n\n}\n</code></pre>\n\n<p>In my activity I have:</p>\n\n<pre><code>public class MainActivity {\n        private ViewPager view_pager;\n        private CustomPagerAdapter adapter;\n\n\n        @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        adapter = new CustomPagerAdapter(getSupportFragmentManager());\n        view_pager = (ViewPager) findViewById(R.id.pager);\n        view_pager.setAdapter(adapter);\n        view_pager.setOnPageChangeListener(this);\n          ...\n         }\n\n}\n</code></pre>\n\n<p>Then to get the current fragment what I do is:</p>\n\n<pre><code>int index = view_pager.getCurrentItem();\nFragment currentFragment = adapter.getItem(index);\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/19646334#19646334", "question_id": 7379165, "answer_id": 19646334}, {"body": "<p>Alternatively you can override setPrimaryItem method from FragmentPagerAdapter like so:</p>\n\n<pre><code>public void setPrimaryItem(ViewGroup container, int position, Object object) { \n    if (mCurrentFragment != object) {\n        mCurrentFragment = (Fragment) object; //Keep reference to object\n        ((MyInterface)mCurrentFragment).viewDidAppear();//Or call a method on the fragment\n    }\n\n    super.setPrimaryItem(container, position, object);\n}\n\npublic Fragment getCurrentFragment(){\n    return mCurrentFragment;\n}\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/26447271#26447271", "question_id": 7379165, "answer_id": 26447271}, {"body": "<p>Also works without problems:</p>\n\n<p>somewhere in page fragment's layout:</p>\n\n<pre><code>&lt;FrameLayout android:layout_width=\"0dp\" android:layout_height=\"0dp\" android:visibility=\"gone\" android:id=\"@+id/fragment_reference\"&gt;\n     &lt;View android:layout_width=\"0dp\" android:layout_height=\"0dp\" android:visibility=\"gone\"/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>in fragment's onCreateView(): </p>\n\n<pre><code>...\nView root = inflater.inflate(R.layout.fragment_page, container, false);\nViewGroup ref = (ViewGroup)root.findViewById(R.id.fragment_reference);\nref.setTag(this);\nref.getChildAt(0).setTag(\"fragment:\" + pageIndex);\nreturn root;\n</code></pre>\n\n<p>and method to return Fragment from ViewPager, if exists:</p>\n\n<pre><code>public Fragment getFragment(int pageIndex) {        \n        View w = mViewPager.findViewWithTag(\"fragment:\" + pageIndex);\n        if (w == null) return null;\n        View r = (View) w.getParent();\n        return (Fragment) r.getTag();\n}\n</code></pre>\n", "title": "Update data in ListFragment as part of ViewPager", "tags": ["java", "android", "android-fragments", "android-viewpager"], "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager/31483516#31483516", "question_id": 7379165, "answer_id": 31483516}], "creation_date": 1315754227, "score": 121, "link": "http://stackoverflow.com/questions/7379165/update-data-in-listfragment-as-part-of-viewpager", "question_id": 7379165}, {"body": "<p>I'm trying to understand a byte[] to string, string representation of byte[] to byte[] conversion... I convert my byte[] to a string to send, I then expect my web service (written in python) to echo the data straight back to the client.</p>\n\n<p>When I send the data from my Java application...</p>\n\n<pre><code>Arrays.toString(data.toByteArray())\n</code></pre>\n\n<p>Bytes to send.. </p>\n\n<pre><code>[B@405217f8\n</code></pre>\n\n<p>Send (This is the result of Arrays.toString() which should be a string representation of my byte data, this data will be sent across the wire): </p>\n\n<pre><code>[-47, 1, 16, 84, 2, 101, 110, 83, 111, 109, 101, 32, 78, 70, 67, 32, 68, 97, 116, 97]\n</code></pre>\n\n<p>On the python side, the python server returns a string to the caller (which I can see is the same as the string I sent to the server</p>\n\n<pre><code>[-47, 1, 16, 84, 2, 101, 110, 83, 111, 109, 101, 32, 78, 70, 67, 32, 68, 97, 116, 97]\n</code></pre>\n\n<p>The server should return this data to the client, where it can be verified. </p>\n\n<p>The response my client receives (as a string) looks like</p>\n\n<pre><code>[-47, 1, 16, 84, 2, 101, 110, 83, 111, 109, 101, 32, 78, 70, 67, 32, 68, 97, 116, 97]\n</code></pre>\n\n<p>I can't seem to figure out how to get the received string back into a \nbyte[]</p>\n\n<p>Whatever I seem to try I end up getting a byte array which looks as follows...</p>\n\n<pre><code>[91, 45, 52, 55, 44, 32, 49, 44, 32, 49, 54, 44, 32, 56, 52, 44, 32, 50, 44, 32, 49, 48, 49, 44, 32, 49, 49, 48, 44, 32, 56, 51, 44, 32, 49, 49, 49, 44, 32, 49, 48, 57, 44, 32, 49, 48, 49, 44, 32, 51, 50, 44, 32, 55, 56, 44, 32, 55, 48, 44, 32, 54, 55, 44, 32, 51, 50, 44, 32, 54, 56, 44, 32, 57, 55, 44, 32, 49, 49, 54, 44, 32, 57, 55, 93]\n</code></pre>\n\n<p>or I can get a byte representation which is as follows:</p>\n\n<pre><code>B@2a80d889\n</code></pre>\n\n<p>Both of these are different from my sent data... I'm sure Im missing something truly simple.... </p>\n\n<p>Any help?!</p>\n", "tags": ["java", "string", "byte"], "title": "Java Byte Array to String to Byte Array", "answers": [{"body": "<p>You can't just take the returned string and construct a string from it... it's not a <code>byte[]</code> data type anymore, it's already a string; you need to parse it. For example :</p>\n\n<pre><code>String response = \"[-47, 1, 16, 84, 2, 101, 110, 83, 111, 109, 101, 32, 78, 70, 67, 32, 68, 97, 116, 97]\";      // response from the Python script\n\nString[] byteValues = response.substring(1, response.length() - 1).split(\",\");\nbyte[] bytes = new byte[byteValues.length];\n\nfor (int i=0, len=bytes.length; i&lt;len; i++) {\n   bytes[i] = Byte.parseByte(byteValues[i].trim());     \n}\n\nString str = new String(bytes);\n</code></pre>\n\n<p>** <strong>EDIT</strong> **</p>\n\n<p>You get an hint of your problem in your question, where you say \"<code>Whatever I seem to try I end up getting a byte array which looks as follows... [91, 45, ...</code>\", because <code>91</code> is the byte value for <code>[</code>, so <code>[91, 45, ...</code> is the byte array of the string \"<code>[-45, 1, 16, ...</code>\" string.</p>\n\n<p>The method <code>Arrays.toString()</code> will return a <code>String</code> representation of the specified array; meaning that the returned value will not be a array anymore. For example :</p>\n\n<pre><code>byte[] b1 = new byte[] {97, 98, 99};\n\nString s1 = Arrays.toString(b1);\nString s2 = new String(b1);\n\nSystem.out.println(s1);        // -&gt; \"[97, 98, 99]\"\nSystem.out.println(s2);        // -&gt; \"abc\";\n</code></pre>\n\n<p>As you can see, <code>s1</code> holds the string representation of the <strong>array</strong> <code>b1</code>, while <code>s2</code> holds the string representation of the <strong>bytes</strong> contained in <code>b1</code>.</p>\n\n<p>Now, in your problem, your server returns a string similar to <code>s1</code>, therefore to get the array representation back, you need the opposite constructor method. If <code>s2.getBytes()</code> is the opposite of <code>new String(b1)</code>, you need to find the opposite of <code>Arrays.toString(b1)</code>, thus the code I pasted in the first snippet of this answer.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684822#6684822", "question_id": 6684665, "answer_id": 6684822}, {"body": "<p>What <code>Arrays.toString()</code> does is create a string representation of each individual byte in your byteArray.</p>\n\n<p>Please check the API documentation \n<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#toString%28byte%5B%5D%29\" rel=\"nofollow\">Arrays API</a></p>\n\n<p>To convert your response string back to the original byte array, you have to use <code>split(\",\")</code> or something and convert it into a collection and then convert each individual item in there to a byte to recreate your byte array.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684852#6684852", "question_id": 6684665, "answer_id": 6684852}, {"body": "<p>Can you not just send the bytes as bytes, or convert each byte to a character and send as a string? Doing it like you are will take up a minimum of 85 characters in the string, when you only have 11 bytes to send. You could create a string representation of the bytes, so it'd be \"[B@405217f8\", which can easily be converted to a <code>bytes</code> or <code>bytearray</code> object in Python. Failing that, you could represent them as a series of hexadecimal digits (\"5b42403430353231376638\") taking up 22 characters, which could be easily decoded on the Python side using <a href=\"http://docs.python.org/library/binascii.html#binascii.unhexlify\" rel=\"nofollow\"><code>binascii.unhexlify()</code></a>.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684884#6684884", "question_id": 6684665, "answer_id": 6684884}, {"body": "<p>If you want to convert the string back into a byte array you will need to use <code>String.getBytes()</code> (or equivalent Python function) and this will allow you print out the original byte array.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/6684935#6684935", "question_id": 6684665, "answer_id": 6684935}, {"body": "<p>The kind of output you are seeing from your byte array (<code>[B@405217f8</code>) is also an output for a zero length byte array (ie <code>new byte[0]</code>). It looks like this string is a reference to the array rather than a description of the contents of the array like we might expect from a regular collection's <code>toString()</code> method.</p>\n\n<p>As with other respondents, I would point you to the <code>String</code> constructors that accept a <code>byte[]</code> parameter to construct a string from the contents of a byte array. You should be able to read raw bytes from a socket's <code>InputStream</code> if you want to obtain bytes from a TCP connection. </p>\n\n<p>If you have already read those bytes as a <code>String</code> (using an <code>InputStreamReader</code>), then, the string can be converted to bytes using the <code>getBytes()</code> function. Be sure to pass in your desired character set to both the String constructor and <code>getBytes()</code> functions, and this will only work if the byte data can be converted to characters by the <code>InputStreamReader</code>. </p>\n\n<p>If you want to deal with raw bytes you should really avoid using this stream reader layer.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/12685471#12685471", "question_id": 6684665, "answer_id": 12685471}, {"body": "<pre><code>String coolString = \"cool string\";\n\nbyte[] byteArray = coolString.getBytes();\n\nString reconstitutedString = new String(byteArray);\n\nSystem.out.println(reconstitutedString);\n</code></pre>\n\n<p>That outputs \"cool string\" to the console.</p>\n\n<p>It's pretty darn easy.</p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/15256267#15256267", "question_id": 6684665, "answer_id": 15256267}, {"body": "<p>Its simple to convert byte array to string and string back to byte array in java. we need to know when to use 'new' in the right way. \nIt can be done as follows:</p>\n\n<p>byte array to string conversion:</p>\n\n<pre><code>byte[] bytes = initializeByteArray();\nString str = new String(bytes);\n</code></pre>\n\n<p>String to byte array conversion:</p>\n\n<pre><code>String str = \"Hello\"\nbyte[] bytes = str.getBytes();\n</code></pre>\n\n<p>For more details, look at:\n<a href=\"http://evverythingatonce.blogspot.in/2014/01/tech-talkbyte-array-and-string.html\" rel=\"nofollow\">http://evverythingatonce.blogspot.in/2014/01/tech-talkbyte-array-and-string.html</a></p>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/22691462#22691462", "question_id": 6684665, "answer_id": 22691462}, {"body": "<p>What I did:</p>\n\n<p><strong>return to clients:</strong></p>\n\n<pre><code>byte[] result = ****encrypted data****;\n\nString str = Base64.encodeBase64String(result);\n\nreturn str;\n</code></pre>\n\n<p><strong>receive from clients:</strong></p>\n\n<pre><code> byte[] bytes = Base64.decodeBase64(str);\n</code></pre>\n\n<p>your data will be transferred in this format:</p>\n\n<pre><code>OpfyN9paAouZ2Pw+gDgGsDWzjIphmaZbUyFx5oRIN1kkQ1tDbgoi84dRfklf1OZVdpAV7TonlTDHBOr93EXIEBoY1vuQnKXaG+CJyIfrCWbEENJ0gOVBr9W3OlFcGsZW5Cf9uirSmx/JLLxTrejZzbgq3lpToYc3vkyPy5Y/oFWYljy/3OcC/S458uZFOc/FfDqWGtT9pTUdxLDOwQ6EMe0oJBlMXm8J2tGnRja4F/aVHfQddha2nUMi6zlvAm8i9KnsWmQG//ok25EHDbrFBP2Ia/6Bx/SGS4skk/0couKwcPVXtTq8qpNh/aYK1mclg7TBKHfF+DHppwd30VULpA== \n</code></pre>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/24442976#24442976", "question_id": 6684665, "answer_id": 24442976}, {"body": "<pre><code>import java.util.Base64;\n</code></pre>\n\n<p>To string:</p>\n\n<pre><code>String str = Base64.getEncoder().encode(new byte[]{ -47, 1, 16, ... });\n</code></pre>\n\n<p>To byte array:</p>\n\n<pre><code>byte[] bytes = Base64.getDecoder().decode(\"JVBERi0xLjQKMyAwIG9iago8P...\");\n</code></pre>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/38622005#38622005", "question_id": 6684665, "answer_id": 38622005}, {"body": "<p>Use the below code API to convert bytecode as string to Byte array.</p>\n\n<pre><code> byte[] byteArray = DatatypeConverter.parseBase64Binary(\"JVBERi0xLjQKMyAwIG9iago8P...\");\n</code></pre>\n", "title": "Java Byte Array to String to Byte Array", "tags": ["java", "string", "byte"], "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array/38735657#38735657", "question_id": 6684665, "answer_id": 38735657}], "creation_date": 1310586321, "score": 120, "link": "http://stackoverflow.com/questions/6684665/java-byte-array-to-string-to-byte-array", "question_id": 6684665}, {"body": "<p>What's the difference between system properties <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/System.html#getProperties%28%29\">System.getProperties()</a> and environment variables <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/System.html#getenv%28%29\">System.getenv()</a> in a JVM?</p>\n", "tags": ["java", "variables", "properties", "system", "environment"], "title": "Java system properties and environment variables", "answers": [{"body": "<p>System properties are set on the java command line using the <code>-Dpropertyname=value</code> syntax. They can also be added at runtime using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#setProperty%28java.lang.String,%20java.lang.String%29\"><code>System.setProperty(name, value)</code></a> or via the various <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load%28java.io.InputStream%29\"><code>System.getProperties().load()</code></a> methods </p>\n\n<p>Environment variables are set in the OS, eg in linux <code>export HOME=/Users/myusername</code> or on windows <code>SET WINDIR=C:\\Windows</code> etc, and, unlike properties, may <em>not</em> be set at runtime.</p>\n", "title": "Java system properties and environment variables", "tags": ["java", "variables", "properties", "system", "environment"], "link": "http://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables/7054981#7054981", "question_id": 7054972, "answer_id": 7054981}, {"body": "<p>I think the difference between the two boils down to access.  System environment variables are accessible by any process and java system properties are only accessible by the process they are added to.</p>\n\n<p>Also as Bohemian stated, env variables are set in the OS (however they 'can' be set through java) and system properties are passed as command line options or set via <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#setProperty%28java.lang.String,%20java.lang.String%29\"><code>setProperty()</code></a>.</p>\n", "title": "Java system properties and environment variables", "tags": ["java", "variables", "properties", "system", "environment"], "link": "http://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables/7055010#7055010", "question_id": 7054972, "answer_id": 7055010}], "creation_date": 1313295490, "score": 120, "link": "http://stackoverflow.com/questions/7054972/java-system-properties-and-environment-variables", "question_id": 7054972}, {"body": "<p>I know this question has been asked  here a few times before. But i haven't seen any possible solution yet.\nBefore i make the project 'Run as Android Application' , if i do not clean it, i receive the following error and have to restart Eclipse ... and clean again.</p>\n\n<pre><code>Conversion to Dalvik format failed: Unable to execute dex: Multiple dex files define\n     Lcom/jstun/core/attribute/MessageAttributeInterface;\n</code></pre>\n\n<p>com.jstun.core... is a part of my src folder, of course i can't remove it. And even if i remove that package, another package will show up as an error like:</p>\n\n<pre><code>Unable to execute dex: Multiple dex files define\n     Landroid/support/v4/app/ActivityCompatHoneycomb;\n</code></pre>\n\n<p>I've seen this error since updating to ADT 15, i'm using Eclipse Galileo on Ubuntu\nDo you have any idea? Thanks for any reply!</p>\n", "tags": ["java", "android"], "title": "Unable to execute dex: Multiple dex files define", "answers": [{"body": "<p><strong>This is a build path issue.</strong></p>\n\n<ul>\n<li><p>Make sure your bin folder is not included in your build path. </p></li>\n<li><p>Right click on your project -> go to properties ->  Build Path. </p></li>\n<li><p>Make sure that Honeycomb library is in your <code>libs/</code> folder and not in your source folder. </p></li>\n<li><p>Include the libraries in <code>libs/</code> individually in the build path. </p>\n\n<p>BTW, you may want to bring in the <code>android-support-v4</code> library to get Ice Cream Sandwich support instead of the Honeycomb support library. </p></li>\n</ul>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/8071713#8071713", "question_id": 8059719, "answer_id": 8071713}, {"body": "<p>I have encountered a similar error today and the reason was that the support library was referenced by two library projects used by my app project but with different versions.</p>\n\n<p>In more details:\nMy app depends on 2 library projects </p>\n\n<ul>\n<li>FaceBookSDK 3.0 -> which is referencing android-support-v4</li>\n<li>ActionBarSherlock -> which is referencing android-support-v4 but with a modified version to support maps.</li>\n</ul>\n\n<p>To solve the problem I had to make FaceBookSDK library depend on ABS library instead of the support library directly. </p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/13385947#13385947", "question_id": 8059719, "answer_id": 13385947}, {"body": "<p>Modify the maximun memory parameter in <em>eclipse.ini</em></p>\n\n<pre><code>-Xmx1024m\n</code></pre>\n\n<p>And restart your computer.</p>\n\n<p>It worked for me :)</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/13584247#13584247", "question_id": 8059719, "answer_id": 13584247}, {"body": "<p>I'm leaving this answer for someone who gets in this scenario as I did.  </p>\n\n<p>I stumbled here and there before noticing that I mistakenly dragged and dropped the Support Library JAR file into my src folder and it was lying there.  Since I had no idea how it happened or when I dropped it there, I could never imagine something was wrong there.</p>\n\n<p>I was getting the same error, I found the problem after sometime and removed it.  Project is now working fine.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/13695684#13695684", "question_id": 8059719, "answer_id": 13695684}, {"body": "<p>If some of you facing this problem with facebook-connent-plugin for phonegap </p>\n\n<p>try to remove files in bin/class/com/facebook/android directory ! -> and rebuild</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/13846074#13846074", "question_id": 8059719, "answer_id": 13846074}, {"body": "<p>I have also faced this problem in my project. AVD is not able to reload assets,lib,res and etc folder contexts.\nproblem :\nDex Loader] Unable to execute dex: Multiple dex files define <code>Landroid/support/v4/accessibilityservice/AccessibilityServiceInfoCompat$AccessibilityServiceInfoVersionImpl</code>.</p>\n\n<p>Then,I created new projects and copied <code>MainActivity.java</code>,<code>activity_main.xml</code>, drawable context.\nThen delete old project from package explore,restart your Eclipse and AVD.\nMy project is now working properly....  :)\nI hope this steps will help u little bit  folks..!!</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/13989178#13989178", "question_id": 8059719, "answer_id": 13989178}, {"body": "<p>This error happened to me when in my app's project I referenced a Library project in my Eclipse workspace (in my case the Facebook SDK) <i>and at the same time</i> included the Facebook SDK as a jar in the libs folder. Removing the library reference but keeping the jar in the libs folder removed the error.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/14063598#14063598", "question_id": 8059719, "answer_id": 14063598}, {"body": "<p>The Solution for me was just to do following things:</p>\n\n<ol>\n<li>->lib directory in your project and delete any multiple elements.</li>\n<li>Project->Properties->Java build Path and delete any Dependency Library was added automatically and not by you! ->Apply</li>\n<li>Restart Eclipse IDE</li>\n<li>Now Clean the project.</li>\n<li>Run/Debug on Device/Emulator the project ...\nGood Luck</li>\n</ol>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/14092918#14092918", "question_id": 8059719, "answer_id": 14092918}, {"body": "<p>Well for me, I deleted the file in the libs folder called android support v4.jar and it all worked out. Goodluck :)</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/14271020#14271020", "question_id": 8059719, "answer_id": 14271020}, {"body": "<p>I got this error for another reason. I was mistaking adding both the v4 AND the v13 support library. This was not necessary for me since my minSdkVersion is 15.</p>\n\n<p>I fixed it by <em>only</em> including the v13 support library. Also, make sure to check mark the library in your exported library build path in eclipse. I also moved it to the top.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/14917892#14917892", "question_id": 8059719, "answer_id": 14917892}, {"body": "<p>As others mentioned, this occurs when you have multiple copies of the same class in your build path, or elsewhere in your setup.</p>\n\n<p>I had added android-support-v4.jar to my libs/ folder, and somehow eclipse added a second copy to bin/classes/android-support-v4.jar.</p>\n\n<p>You can test for this with</p>\n\n<blockquote>\n  <p>grep -r YourOffendingClassName YourApp | grep jar</p>\n</blockquote>\n\n<p>Deleting the extra copy in bin/classes solved the problem - unsure why Eclipse made a copy there.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/15100329#15100329", "question_id": 8059719, "answer_id": 15100329}, {"body": "<p>I have same issue, what i tried is:</p>\n\n<ol>\n<li>List item</li>\n<li>Open Project Build Path,</li>\n<li>Select \"Libraries\" tab,</li>\n<li>Remove all library except the Android Library</li>\n<li>Adding all required JARs Files,</li>\n<li>And Done!</li>\n</ol>\n\n<p>It works for me, thanks.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/16043906#16043906", "question_id": 8059719, "answer_id": 16043906}, {"body": "<p>Even after going through multiple answers, no solution worked for me.</p>\n\n<p>I deleted \"Android Dependencies\" from the build path.\nAdded all the jar files again to the build path and the error was gone.\nSomehow eclipse seemed to cache the things.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/18607567#18607567", "question_id": 8059719, "answer_id": 18607567}, {"body": "<p>I had the same error happening and every time I fixed it, it would come back after I restarted Eclipse.</p>\n\n<p>First of all, as other people said, make sure you do not have multiple copies of the same .jar file around your projects.</p>\n\n<p>In my case, I had a main project that used ActionBarSherlock (among other library projects). The trick that worked for me was going into <code>ActionBarSherlock --&gt; Properties --&gt; Java Build path --&gt; Order of Export</code> and unselecting <code>Android Private Libraries</code>. Then going into <code>Project -&gt; Clean</code> and now you should be able to build the project correctly.</p>\n\n<p>Now, for some reason, every time I restart Eclipse, it automatically enables that checkbox, so I have to repeat this process again.</p>\n\n<p>Hope this helps some lost soul out there :)</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/18873711#18873711", "question_id": 8059719, "answer_id": 18873711}, {"body": "<p>In case anyone else bangs their head on this issue like I just did:</p>\n\n<p>My case involved a chain of library projects. Simply doing a project clean on all of the libraries fixed everything</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/19276870#19276870", "question_id": 8059719, "answer_id": 19276870}, {"body": "<p>To me, just go to Project Properties >> Java Build Path >> Order and Export. Uncheck all external library, as the image bellow. It work for me. Hope this help.</p>\n\n<p><img src=\"http://i.stack.imgur.com/m2qHT.png\" alt=\"Project Properties\"></p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/20496653#20496653", "question_id": 8059719, "answer_id": 20496653}, {"body": "<p>I had same problem. I had to delete the <code>.apk</code> file and then it worked.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/20600824#20600824", "question_id": 8059719, "answer_id": 20600824}, {"body": "<p>I found below solution in eclipse...hope it works for you :)</p>\n\n<pre><code>Right click on the Project Name\n\nSelect Java Build Path, go to the tab Order and Export\n\nUnchecked your .jar library's\n</code></pre>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/21084504#21084504", "question_id": 8059719, "answer_id": 21084504}, {"body": "<p>This problem occurs when a same library is added into your project multiple times. If you haven't added the library multiple times intentionaly, check out the dependency/private libraries of the libraries you have added in your project, most probably they have already included a library which is causing this conflict.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/21136121#21136121", "question_id": 8059719, "answer_id": 21136121}, {"body": "<p>My problem at first was: </p>\n\n<blockquote>\n  <p>Unable to execute dex: java.nio.BufferOverflowException. Check the Eclipse log for stack trace.</p>\n</blockquote>\n\n<p>1) I Right click on my project -> <strong>Android Tools -> Add Support Library</strong>\n(Run my app...Didn't work so I keep it going...)\n2) <strong>Right click</strong> on my project again -> <strong>Properties -> Android -> Check Android 4.1.2 (16)</strong> on Project Build Target\n(Run the app again...and get this:</p>\n\n<blockquote>\n  <p>Unable to execute dex: Multiple dex files define Landroid/support/v4/app/BackStackState;</p>\n</blockquote>\n\n<p>3) So I went to the <strong>\"lib\" folder</strong> on my project and <strong>delete</strong> the <strong>\"old\" Android.support.library.jar</strong>\n(Run the app and cross fingers and...)</p>\n\n<p>\u00a1IT WORKS!</p>\n\n<p>Hope it helps someone...Thanks people!</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/22113186#22113186", "question_id": 8059719, "answer_id": 22113186}, {"body": "<p>I was also struggling to find this is issue. In my case what happened is while copying the apk to email (drag drop) - by mistake the apk was pasted in src folder in one of the packages.\nAfter removing the apk from source folder it worked fine.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/22468176#22468176", "question_id": 8059719, "answer_id": 22468176}, {"body": "<p>I had this problem in Intellij and it was because the ActionBarSherlock library I added to my project defined the android-support-v4.jar as a compile dependency and this jar was already included in my project so there were multiple copies/version of DEX at compile time.</p>\n\n<p>The solution was to change the ActionBarSherlock module dependency for this jar to be Runtime instead of compile, as my project was already providing it.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/23101793#23101793", "question_id": 8059719, "answer_id": 23101793}, {"body": "<p>Go to Project/properties and Java Built Path and unchecked the Android Private Libraries </p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/23362292#23362292", "question_id": 8059719, "answer_id": 23362292}, {"body": "<p>I have had this issue and that doesn't mean, that the same library is loaded many times but System is trying to load a class with the same name and possibly same package name simultaneously, i.e.  </p>\n\n<ul>\n<li><code>com.pack1.de</code> and <code>Class Geometry</code> of <code>library1.jar</code> </li>\n</ul>\n\n<p>and another </p>\n\n<ul>\n<li><code>com.pack1.de</code> and <code>Class Geometry</code> of <code>library2.jar.</code></li>\n</ul>\n\n<p>How should you approach? \nYou should analyze which methods are being used, a method of library1.jar or library2. </p>\n\n<p>There are 2 Solutions, </p>\n\n<ol>\n<li>Rename a packagename and then dalvik interprets, that they are distinct classes </li>\n<li>Or if you want to risk, purge the class, which doesn't contain the methode, which we really use.</li>\n</ol>\n\n<p>I hope that has clarified this often asked question.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/24221192#24221192", "question_id": 8059719, "answer_id": 24221192}, {"body": "<p>For me the issue was that, i had added a lib project(autobahn lib) earlier and later switched the to Jar file of the same library.Though i had removed references to the older library project, i was getting this error.\nFollowing all the answers here i checked the build path etc. But i haven't added these libs to build path manually. So i had nothing to remove. \nFinally came across this folder.</p>\n\n<blockquote>\n  <p>bin/dexedLibs</p>\n</blockquote>\n\n<p>I noticed that there were two jar files with the same name corresponding to autobahn Android which was causing the conflict. So i deleted all the jar files in the dexedLibs folder and rebuild the project. That resolved the issue.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/25131628#25131628", "question_id": 8059719, "answer_id": 25131628}, {"body": "<p>I removed Android dependencies from build path and it worked.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/26445241#26445241", "question_id": 8059719, "answer_id": 26445241}, {"body": "<p>For me I deleted android-support-v4.jar from lib folder and also removed from build path.</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/28690163#28690163", "question_id": 8059719, "answer_id": 28690163}, {"body": "<p>To add the myriad of other potential sources...  I had updated all the libraries in my project's <code>lib</code> folder but then Eclipse \"helpfully\" reinstalled all the original libraries.  There was no longer any reference inside Eclipse to these libraries but the external dex-maker program just grabbed all the files in the <code>lib</code> directory and thus got two versions of several library <code>.jar</code> files.</p>\n\n<p><code>git status</code> identified the new files and <code>git clean -f</code> got rid of them for me (though I sometimes had to wait or restart Eclipse on Windows because it still had the files open from the copy).</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/29166042#29166042", "question_id": 8059719, "answer_id": 29166042}, {"body": "<ul>\n<li>right click on project and go to <code>build Path&gt;configuration build path</code></li>\n<li>and select library tab and click on <code>support-v4 library</code> and click on remove</li>\n<li>click on OK</li>\n</ul>\n\n<p>and then clean your project and run it will work   :-)</p>\n", "title": "Unable to execute dex: Multiple dex files define", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define/34842504#34842504", "question_id": 8059719, "answer_id": 34842504}], "creation_date": 1320805992, "score": 119, "link": "http://stackoverflow.com/questions/8059719/unable-to-execute-dex-multiple-dex-files-define", "question_id": 8059719}, {"body": "<p>I have been a happy IntelliJ IDEA user for a long time but I have this question. When I am in a .java file, the unused code is usually grayed out or has a green underline saying this code will probably (probably because of some weird JNI/Reflection corner cases) will be unused. But I have this project with thousands of Java files and I want to find ALL INSTANCES of such probable-unused codes. How can I do that in IntelliJ IDEA?</p>\n", "tags": ["java", "refactoring", "intellij-idea", "code-metrics", "code-inspection"], "title": "How to use IntelliJ IDEA to find all unused code?", "answers": [{"body": "<p>Just use <code>Analyze | Inspect Code</code> with appropriate inspection enabled (<strong>Unused declaration</strong> under <strong>Declaration redundancy</strong> group).</p>\n\n<p>Using IntelliJ 11 CE you can now \"Analyze | Run Inspection by Name ... | Unused declaration\"</p>\n", "title": "How to use IntelliJ IDEA to find all unused code?", "tags": ["java", "refactoring", "intellij-idea", "code-metrics", "code-inspection"], "link": "http://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code/6587932#6587932", "question_id": 6587729, "answer_id": 6587932}], "creation_date": 1309893503, "score": 117, "link": "http://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code", "question_id": 6587729}, {"body": "<p>I keep hearing about all the new cool features that are being added to the JVM and one of those cool features is invokedynamic. I would like to know what it is and how does it make reflective programming in Java easier or better?</p>\n", "tags": ["java", "reflection", "invokedynamic"], "title": "What&#39;s invokedynamic and how do I use it?", "answers": [{"body": "<p>It is a new JVM instruction which allows a compiler to generate code which calls methods with a looser specification than was previously possible -- if you know what \"<a href=\"http://en.wikipedia.org/wiki/Duck_typing\">duck typing</a>\" is, invokedynamic basically allows for duck typing. There's not too much you as a Java programmer can do with it; if you're a tool creator, though, you can use it to build more flexible, more efficient JVM-based languages. <a href=\"http://blog.headius.com/2008/09/first-taste-of-invokedynamic.html\">Here</a> is a really sweet blog post that gives a lot of detail.</p>\n", "title": "What&#39;s invokedynamic and how do I use it?", "tags": ["java", "reflection", "invokedynamic"], "link": "http://stackoverflow.com/questions/6638735/whats-invokedynamic-and-how-do-i-use-it/6638764#6638764", "question_id": 6638735, "answer_id": 6638764}, {"body": "<p>Some time ago, C# added a cool feature, dynamic syntax within C#</p>\n\n<pre><code>Object obj = ...; // no static type available \ndynamic duck = obj;\nduck.quack(); // or any method. no compiler checking.\n</code></pre>\n\n<p>Think of it as syntax sugar for reflective method calls. It can have very interesting applications. see <a href=\"http://www.infoq.com/presentations/Statically-Dynamic-Typing-Neal-Gafter\">http://www.infoq.com/presentations/Statically-Dynamic-Typing-Neal-Gafter</a></p>\n\n<p>Neal Gafter, who's responsible for C#'s dynamic type, just defected from SUN to MS. So it's not unreasonable to think that the same things had been discussed inside SUN.</p>\n\n<p>I remember soon after that, some Java dude announced something similar</p>\n\n<pre><code>InvokeDynamic duck = obj;\nduck.quack(); \n</code></pre>\n\n<p>Unfortunately, the feature is no where to be found in Java 7. Very disappointed. For Java programmers, they have no easy way to take advantage of <code>invokedynamic</code> in their programs.</p>\n", "title": "What&#39;s invokedynamic and how do I use it?", "tags": ["java", "reflection", "invokedynamic"], "link": "http://stackoverflow.com/questions/6638735/whats-invokedynamic-and-how-do-i-use-it/6639283#6639283", "question_id": 6638735, "answer_id": 6639283}], "creation_date": 1310264152, "score": 116, "link": "http://stackoverflow.com/questions/6638735/whats-invokedynamic-and-how-do-i-use-it", "question_id": 6638735}, {"body": "<p>In the following example</p>\n\n<pre><code>int i = -128;\nInteger i2 = (Integer) i; // compiles\n\nInteger i3 = (Integer) -128; /*** Doesn't compile ***/\n\nInteger i4 = (Integer) (int) -128; // compiles\nInteger i4 = -128; // compiles\nInteger i5 = (int) -128; // compiles\nInteger i6 = (Integer) (-128); // compiles\nInteger i7 = (Integer) 0-128; // compiles\n</code></pre>\n\n<p>I can't cast <code>-128</code> with <code>(Integer)</code> but I can cast <code>(int) -128</code>.</p>\n\n<p>I always thought <code>-128</code> was of <code>int</code> type and casting it with <code>(int)</code> should be redundant.</p>\n\n<p>The error on the line with <code>i3</code> is</p>\n\n<pre><code>cannot find symbol variable Integer\n</code></pre>\n\n<p>I tried this with Java 6 update 29 and Java 7 update 1.</p>\n\n<p>EDIT: You get the same behavior with <code>+128</code> instead of <code>-128</code>.  It does appear to be confusion between unary and binary operators.</p>\n", "tags": ["java", "syntax", "casting"], "title": "Any idea why I need to cast an integer literal to (int) here?", "answers": [{"body": "<p>The compiler interprets the <code>-</code> as the two-arg minus operator, i.e. it's trying to subtract 128 from some other number named <code>Integer</code>, but there's no such variable in scope.</p>\n\n<p>This compiles:</p>\n\n<pre><code>Integer i3 = (Integer) (-128)\n</code></pre>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900246#7900246", "question_id": 7900198, "answer_id": 7900246}, {"body": "<p>The compiler tries to subtract <code>128</code> from <code>(Integer)</code> instead of casting <code>-128</code> to <code>Integer</code>. Add <code>()</code> to fix it</p>\n\n<pre><code>Integer i3 = (Integer) -128; // doesn't compile\nInteger i3 = (Integer) (-128); // compiles\n</code></pre>\n\n<p>According to BoltClock in the comments the cast to  <code>int</code> works as intended, because it is a reserved word and therefore can't be interpreted as an identifier, which makes sense to me.</p>\n\n<p>And Bringer128 found the JLS Reference <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#238146\">15.16</a>.</p>\n\n<pre> <i><b>CastExpression:\n    ( PrimitiveType Dims<sub>opt</sub> ) UnaryExpression\n    ( ReferenceType ) UnaryExpressionNotPlusMinus</i></b>\n</pre>\n\n<p>As you can see, casting to a primitive type requires any <code>UnaryExpression</code>, whereas casting to a reference type requires a <code>UnaryExpressionNotPlusMinus</code>. These are defined just before the CastExpression at <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.15\">JLS 15.15</a>.</p>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900249#7900249", "question_id": 7900198, "answer_id": 7900249}, {"body": "<pre><code>Integer i3 = (Integer) (-128);\n</code></pre>\n\n<p>The problem is the <code>-</code> The compiler sees it as an operator.</p>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900252#7900252", "question_id": 7900198, "answer_id": 7900252}, {"body": "<p>This may have to do with syntax parsing. Notice that</p>\n\n<pre><code>Integer i4 = (Integer) (-128); \n</code></pre>\n\n<p>works just fine.</p>\n\n<p>In general, you should not cast to Integer class. This involves something called auto-boxing, and can cause some subtle errors in your code.\nThe prefered method of doing what you want is:</p>\n\n<pre><code>Integer i6 = Integer.valueOf(-128)\n</code></pre>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900255#7900255", "question_id": 7900198, "answer_id": 7900255}, {"body": "<p>It's parsing it as <code>Integer &lt;minus operator&gt; 128</code> and not finding the variable <code>Integer</code>. You'll need to wrap the <code>-128</code> in brackets:</p>\n\n<pre><code>Integer i3 = (Integer) (-128);  // compiles\n</code></pre>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900260#7900260", "question_id": 7900198, "answer_id": 7900260}, {"body": "<p>Line 3 is interpreted like you're trying to deduct 128 from the expression in the parenthesis and the expression in the parenthesis is not and expression of type int (It treats the '-' as a '-' operator). If you change the expression to:</p>\n\n<pre><code>Integer i3 = (Integer) (-128);\n</code></pre>\n\n<p>then the compiler will understand the '-' is the unary minus that indicates a negative integer.</p>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900285#7900285", "question_id": 7900198, "answer_id": 7900285}, {"body": "<p>I found the JLS reference. <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#238146\">15.16</a>.</p>\n\n<pre> <i><b>CastExpression:\n    ( PrimitiveType Dims<sub>opt</sub> ) UnaryExpression\n    ( ReferenceType ) UnaryExpressionNotPlusMinus</i></b>\n</pre>\n\n<p>As you can see, casting to a primitive type requires any <code>UnaryExpression</code>, whereas casting to a reference type requires a <code>UnaryExpressionNotPlusMinus</code>. These are defined just before the CastExpression at <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.15\">JLS 15.15</a>.</p>\n\n<p>You need to either change the cast to a primitive type:</p>\n\n<pre><code>... (int) -128;\n</code></pre>\n\n<p>Or you can change the expression to the right of the cast to a non-plus-minus unary expression:</p>\n\n<pre><code>... (Integer) (-128);  // Either\n... (Integer) 0 - 128; // Or\n</code></pre>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7900416#7900416", "question_id": 7900198, "answer_id": 7900416}, {"body": "<p>The C# compiler has the same behaviour. It gives a better hint why it fails to compile though:</p>\n\n<blockquote>\n  <p>To cast a negative value, you must enclose the value in parentheses</p>\n</blockquote>\n", "title": "Any idea why I need to cast an integer literal to (int) here?", "tags": ["java", "syntax", "casting"], "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here/7980306#7980306", "question_id": 7900198, "answer_id": 7980306}], "creation_date": 1319616870, "score": 115, "link": "http://stackoverflow.com/questions/7900198/any-idea-why-i-need-to-cast-an-integer-literal-to-int-here", "question_id": 7900198}, {"body": "<p>How can I convert a Java <code>CharSequence</code> to a <code>String</code>?</p>\n", "tags": ["java", "string", "charsequence"], "title": "How to convert CharSequence to String in Java?", "answers": [{"body": "<p>By invoking its <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/CharSequence.html#toString%28%29\"><code>toString()</code></a> method.</p>\n\n<blockquote>\n  <p>Returns a string containing the characters in this sequence in the same order as this sequence. The length of the string will be the length of this sequence.</p>\n</blockquote>\n", "title": "How to convert CharSequence to String in Java?", "tags": ["java", "string", "charsequence"], "link": "http://stackoverflow.com/questions/7707556/how-to-convert-charsequence-to-string-in-java/7707563#7707563", "question_id": 7707556, "answer_id": 7707563}, {"body": "<p><strong>There is a subtle issue here that is a bit of a gotcha.</strong></p>\n\n<p>The <code>toString()</code> method has a base implementation in <code>Object</code>. <code>CharSequence</code> is an interface; and although the <code>toString()</code> method appears as part of that interface, there is nothing at compile-time that will force you to override it and honor the additional constraints that the <code>CharSequence</code> <code>toString()</code> method's javadoc puts on the <code>toString()</code> method; ie that it should return a string containing the characters in the order returned by <code>charAt()</code>.</p>\n\n<p>Your IDE won't even help you out by reminding that you that you <em>probably should</em> override <code>toString()</code>. For example, in intellij, this is what you'll see if you create a new <code>CharSequence</code> implementation: <a href=\"http://puu.sh/2w1RJ\">http://puu.sh/2w1RJ</a>. Note the absence of <code>toString()</code>.</p>\n\n<p>If you rely on <code>toString()</code> on an arbitrary <code>CharSequence</code>, it <em>should</em> work provided the <code>CharSequence</code> implementer did their job properly. But if you want to avoid any uncertainty altogether, you should use a <code>StringBuilder</code> and <code>append()</code>, like so:</p>\n\n<pre><code>final StringBuilder sb = new StringBuilder(charSequence.length());\nsb.append(charSequence);\nreturn sb.toString();\n</code></pre>\n", "title": "How to convert CharSequence to String in Java?", "tags": ["java", "string", "charsequence"], "link": "http://stackoverflow.com/questions/7707556/how-to-convert-charsequence-to-string-in-java/15870428#15870428", "question_id": 7707556, "answer_id": 15870428}], "creation_date": 1318206935, "score": 114, "link": "http://stackoverflow.com/questions/7707556/how-to-convert-charsequence-to-string-in-java", "question_id": 7707556}, {"body": "<p>I get the an exception when trying to serialize a very simple object using Jackson. The error:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.JsonMappingException: No serializer found for\n  class MyPackage.TestA and no properties\n  discovered to create BeanSerializer (to avoid exception, disable\n  SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )</p>\n</blockquote>\n\n<p>Below is the simple class and code to serialize. </p>\n\n<p>Can anyone tell my why I get this error?</p>\n\n<pre><code>public class TestA {\n    String SomeString = \"asd\";\n}\n\nTestA testA = new TestA();\nObjectMapper om = new ObjectMapper();\ntry {\n    String testAString = om.writeValueAsString(testA); // error here!\n\n    TestA newTestA = om.readValue(testAString, TestA.class);\n} catch (JsonGenerationException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n", "tags": ["java", "json", "jackson"], "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "answers": [{"body": "<p>For Jackson to serialize that class, the SomeString field need to either be public (right now it's package level isolation) or you need to define a getter and setter for it.</p>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/8367333#8367333", "question_id": 8367312, "answer_id": 8367333}, {"body": "<p>As already described, the default configuration of an <code>ObjectMapper</code> instance is to only access properties that are public fields or have public getters/setters.  An alternative to changing the class definition to make a field public or to provide a public getter/setter is to specify (to the underlying <code>VisibilityChecker</code>) a different property visibility rule.  Jackson 1.9 provides the <code>ObjectMapper.setVisibility()</code> convenience method for doing so.  For the example in the original question, I'd likely configure this as</p>\n\n<pre><code>myObjectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\n</code></pre>\n\n<p>For more information and details on related configuration options, I recommend reviewing <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)\">the JavaDocs on <code>ObjectMapper.setVisibility()</code></a>.</p>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/8395924#8395924", "question_id": 8367312, "answer_id": 8395924}, {"body": "<p>This error is also thrown if you forget to add the .build() method onto your return status.</p>\n\n<pre><code>return Response.status(Status.OK);         // fails\nreturn Response.status(Status.OK).build(); // works\n</code></pre>\n\n<p>I got the following error without build() method:</p>\n\n<pre><code>org.codehaus.jackson.map.JsonMappingException: No serializer found for class com.sun.jersey.core.spi.factory.ResponseBuilderImpl\n</code></pre>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/16420244#16420244", "question_id": 8367312, "answer_id": 16420244}, {"body": "<p>The problem in my case was jackson was trying to serialize an empty object with no attributes nor methods.</p>\n\n<p>As suggested in the exception I added the following line to avoid failure on empty beans</p>\n\n<p>For jackson 1.9\nmyObjectMapper.configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);</p>\n\n<p>For jackson 2.X\nmyObjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);</p>\n\n<p>You can find a simple example on <a href=\"http://stackoverflow.com/questions/15261456/jackson-disable-fail-on-empty-beans\">jackson disable fail_on_empty_beans</a></p>\n\n<p>Hope it helps!</p>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/26077731#26077731", "question_id": 8367312, "answer_id": 26077731}, {"body": "<p>If you can edit the class containing that object, I usually just add the annotation</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@JsonIgnore \nNonSerializeableClass obj;\n</code></pre>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/27976606#27976606", "question_id": 8367312, "answer_id": 27976606}, {"body": "<p>I have the same problem in my source code. I just added </p>\n\n<blockquote>\n  <p>getter</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>setter</p>\n</blockquote>\n\n<p>the problem solved.</p>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/33086061#33086061", "question_id": 8367312, "answer_id": 33086061}, {"body": "<p>The problem may be because you have declared variable as \"private\".\nIf you change it to \"public\" it works.</p>\n\n<p>Better option is to use getter and setter method for it.</p>\n\n<p>This will solve the issue!</p>\n", "title": "Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found/35550532#35550532", "question_id": 8367312, "answer_id": 35550532}], "creation_date": 1322911573, "score": 113, "link": "http://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found", "question_id": 8367312}, {"body": "<p>Just put an Android project under git (<em>beanstalk</em>) version control via the command line (<em>mac terminal</em>). Next step is to set up exclusions.</p>\n\n<p>To those of you who have already been down this path:</p>\n\n<p><strong>What should a typical .gitignore file look like for an android project?</strong></p>\n\n<p><em>Project set up in Eclipse</em></p>\n", "tags": ["java", "android", "eclipse", "git", "gitignore"], "title": "Typical .gitignore file for an Android app", "answers": [{"body": "<p>In my project root I have a file .gitignore. It contains:</p>\n\n<pre><code>/bin/\n/gen/\n</code></pre>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/8476565#8476565", "question_id": 8476376, "answer_id": 8476565}, {"body": "<p>Well I know that the github/gitignore repository on GitHub has an <a href=\"https://github.com/github/gitignore/blob/master/Android.gitignore\" rel=\"nofollow\">android .gitignore</a> file. This might be what you want as it should be very general for android development.</p>\n\n<p>The actual content of the mentioned file:</p>\n\n<pre><code># built application files\n*.apk\n*.ap_\n\n# files for the dex VM\n*.dex\n\n# Java class files\n*.class\n\n# generated files\nbin/\ngen/\n\n# Local configuration file (sdk path, etc)\nlocal.properties\n</code></pre>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/8476584#8476584", "question_id": 8476376, "answer_id": 8476584}, {"body": "<p>This is my standard Android <code>.gitignore</code> and <code>.hgignore</code> file. It usually works pretty well.</p>\n\n<pre><code>bin\ngen\ntarget\n.settings\n.classpath\n.project\n*.keystore\n*.swp\n*.orig\n*.log\n*.properties\nseed.txt\nmap.txt\n</code></pre>\n\n<p>It has eclipse, vim .swp files, mavens target folder and files for proguard mapping included.</p>\n\n<p>Update: I have put my <a href=\"https://gist.github.com/keyboardsurfer/3240022\" rel=\"nofollow\">.gitignore for Android development online</a>.</p>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/8476609#8476609", "question_id": 8476376, "answer_id": 8476609}, {"body": "<p>You can mix <a href=\"https://github.com/github/gitignore/blob/master/Android.gitignore\">Android.gitignore</a>:</p>\n\n<pre><code># built application files\n*.apk\n*.ap_\n\n# files for the dex VM\n*.dex\n\n# Java class files\n*.class\n\n# generated files\nbin/\ngen/\n\n# Local configuration file (sdk path, etc)\nlocal.properties\n</code></pre>\n\n<p>with <a href=\"https://github.com/github/gitignore/blob/master/Global/Eclipse.gitignore\">Eclipse.gitignore</a>:</p>\n\n<pre><code>*.pydevproject\n.project\n.metadata\nbin/**\ntmp/**\ntmp/**/*\n*.tmp\n*.bak\n*.swp\n*~.nib\nlocal.properties\n.classpath\n.settings/\n.loadpath\n\n# External tool builders\n.externalToolBuilders/\n\n# Locally stored \"Eclipse launch configurations\"\n*.launch\n\n# CDT-specific\n.cproject\n\n# PDT-specific\n.buildpath\n</code></pre>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/8476621#8476621", "question_id": 8476376, "answer_id": 8476621}, {"body": "<p>In addition to what the others have suggested, I'd like to add the <code>proguard</code> folder, in case you are using it. You can either ignore the whole folder or just <code>dump.txt</code>, <code>seeds.txt</code> and <code>usage.txt</code>. Basically, it's a good idea to keep <code>mapping.txt</code> versioned, so that you can debug obfuscated stack traces from your users. More details <a href=\"http://developer.android.com/guide/developing/tools/proguard.html#considerations\">here</a>.</p>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/8476641#8476641", "question_id": 8476376, "answer_id": 8476641}, {"body": "<p>In Addition, if you use IDEA's IntelliJ, and you build <em>Artifacts</em> (and you should), then you might want to add:</p>\n\n<pre><code>out/\n</code></pre>\n\n<p>(that's where Artifacts are built by default).</p>\n\n<p>And if you don't want to share your IntelliJ project stuff ignore </p>\n\n<pre><code>.idea/\n</code></pre>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/17305560#17305560", "question_id": 8476376, "answer_id": 17305560}, {"body": "<p>Here is the one I use in my Android projects, it supports both ADT and Android Studio, so it is good if you are working with a team.</p>\n\n<pre><code># General Folders\n\n# gradle/ comment this when using gradle wrapper.\nbuild/\nbin/\ngen/\ntmp/\n# proguard/ comment if not using proguard.\n.gradle/\n.settings/\n.idea/\n\n# General Files\n\n.project\n.classpath\n.DS_Store\nlocal.properties\n*.iml\n# gradlew comment when using gradle wrapper\n# gradlew.bat comment when using gradle wrapper\nThumbs.db\n\n\n# files specific to current project\nyour_apk.apk\n</code></pre>\n", "title": "Typical .gitignore file for an Android app", "tags": ["java", "android", "eclipse", "git", "gitignore"], "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app/25216532#25216532", "question_id": 8476376, "answer_id": 25216532}], "creation_date": 1323702482, "score": 109, "link": "http://stackoverflow.com/questions/8476376/typical-gitignore-file-for-an-android-app", "question_id": 8476376}, {"body": "<p>For new applications written in Java 7, is there any reason to use a <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/File.html\"><code>java.io.File</code></a> object any more or can we consider it deprecated? </p>\n\n<p>I believe a <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Path.html\"><code>java.nio.file.Path</code></a> can do everything a <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/File.html\"><code>java.io.File</code></a> can do and more.</p>\n", "tags": ["java", "file-io", "path", "java-7", "nio"], "title": "Java 7: Path vs File", "answers": [{"body": "<p>Check this article about more info - <a href=\"http://www.oracle.com/technetwork/articles/javase/nio-139333.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/javase/nio-139333.html</a></p>\n\n<p>Basically file.Path will be the way to go from now on but as is widely known Java people tend to keep back-compatibility so I guess that's why they have left it. </p>\n", "title": "Java 7: Path vs File", "tags": ["java", "file-io", "path", "java-7", "nio"], "link": "http://stackoverflow.com/questions/6903335/java-7-path-vs-file/6903375#6903375", "question_id": 6903335, "answer_id": 6903375}, {"body": "<p>Yes, but many existing APIs, including Java7's own standard APIs, still work only with <code>File</code> type.</p>\n", "title": "Java 7: Path vs File", "tags": ["java", "file-io", "path", "java-7", "nio"], "link": "http://stackoverflow.com/questions/6903335/java-7-path-vs-file/6904311#6904311", "question_id": 6903335, "answer_id": 6904311}, {"body": "<blockquote>\n  <p>can we consider it deprecated?</p>\n</blockquote>\n\n<p>Not unless and until it is so marked in the Javadoc.</p>\n", "title": "Java 7: Path vs File", "tags": ["java", "file-io", "path", "java-7", "nio"], "link": "http://stackoverflow.com/questions/6903335/java-7-path-vs-file/6907260#6907260", "question_id": 6903335, "answer_id": 6907260}, {"body": "<p><strong>Long story short:</strong> </p>\n\n<p><code>java.io.File</code> will most likely <em>never</em> be deprecated / unsupported. That said, <code>java.nio.file.Path</code> is part of the more modern <code>java.nio.file</code> lib, and does everything <code>java.io.File</code> can, but generally in a better way, and then some. </p>\n\n<p>For new projects, use <code>Path</code>.</p>\n\n<p>And if you ever need a <code>File</code> object for legacy, just call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()\">Path#toFile()</a></p>\n\n<p><strong>Migrating from File to Path</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/io/legacy.html\">This Oracle page highlights differences, and maps <code>java.io.File functionality</code> to <code>java.nio.file lib (including Path) functionality</code></a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/javase/nio-139333.html\">Article by Janice J. Heiss and Sharon Zakhour, May 2009, discussing NIO.2 File System in JDK 7</a></p>\n", "title": "Java 7: Path vs File", "tags": ["java", "file-io", "path", "java-7", "nio"], "link": "http://stackoverflow.com/questions/6903335/java-7-path-vs-file/26658436#26658436", "question_id": 6903335, "answer_id": 26658436}], "creation_date": 1312226809, "score": 109, "link": "http://stackoverflow.com/questions/6903335/java-7-path-vs-file", "question_id": 6903335}, {"body": "<p><a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\">Primitive Data Types - oracle doc</a> says the range of <strong><code>long</code></strong> in Java is <code>-9,223,372,036,854,775,808</code> to <code>9,223,372,036,854,775,807</code>.\nBut when I do something like this in my eclipse</p>\n\n<pre><code>long i = 12345678910;\n</code></pre>\n\n<p>it shows me \"<code>The literal 12345678910 of type int is out of range</code>\" error.</p>\n\n<p><strong>There are 2 questions.</strong></p>\n\n<p>1) How do I initialize the <strong><code>long</code></strong> with the value <code>12345678910</code>?</p>\n\n<p>2) Are all numeric literals by default of type <strong><code>int</code></strong>? </p>\n", "tags": ["java", "long-integer"], "title": "Initialize a long in Java", "answers": [{"body": "<ol>\n<li>You should add <code>L</code>: <code>long i = 12345678910L;</code>.</li>\n<li>Yes.</li>\n</ol>\n\n<p>BTW: it doesn't have to be an upper case L, but lower case is confused with <code>1</code> many times :).</p>\n", "title": "Initialize a long in Java", "tags": ["java", "long-integer"], "link": "http://stackoverflow.com/questions/6834037/initialize-a-long-in-java/6834049#6834049", "question_id": 6834037, "answer_id": 6834049}, {"body": "<p>You need to add uppercase <code>L</code> at the end like so</p>\n\n<pre><code>long i = 12345678910L;\n</code></pre>\n\n<p>Same goes true for float with <code>3.0f</code></p>\n\n<p>Which should answer both of your questions </p>\n", "title": "Initialize a long in Java", "tags": ["java", "long-integer"], "link": "http://stackoverflow.com/questions/6834037/initialize-a-long-in-java/6834054#6834054", "question_id": 6834037, "answer_id": 6834054}, {"body": "<ol>\n<li><p>You need to add the <code>L</code> character to the end of the number to make Java recognize it as a long.</p>\n\n<pre><code>long i = 12345678910L;\n</code></pre></li>\n<li><p>Yes.</p></li>\n</ol>\n\n<p>See <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\">Primitive Data Types</a> which says \"An integer literal is of type long if it ends with the letter L or l; otherwise it is of type int.\"</p>\n", "title": "Initialize a long in Java", "tags": ["java", "long-integer"], "link": "http://stackoverflow.com/questions/6834037/initialize-a-long-in-java/6834080#6834080", "question_id": 6834037, "answer_id": 6834080}, {"body": "<p>To initialize long you need to append \"L\" at the end. <br>\nIt can be either uppercase pr lowercase. <br></p>\n\n<p>All the numeric values are by default \"int\". Even when you do any operation of \"byte\" with any integer, byte is first promoted to int and then operations are done. <br></p>\n\n<p>Try this</p>\n\n<pre><code>byte a = 1; // declare a byte\na = a*2; //  you will get error here\n</code></pre>\n\n<p>You get error because \"2\" is by default \"int\". <br>\nHence you are trying to multiply \"byte\" with \"int\".\nHence result gets typecasted to \"int\" which can't be assigned back to \"byte\".</p>\n\n<p>Please comment if you have any doubts.</p>\n", "title": "Initialize a long in Java", "tags": ["java", "long-integer"], "link": "http://stackoverflow.com/questions/6834037/initialize-a-long-in-java/23987644#23987644", "question_id": 6834037, "answer_id": 23987644}], "creation_date": 1311701291, "score": 107, "link": "http://stackoverflow.com/questions/6834037/initialize-a-long-in-java", "question_id": 6834037}, {"body": "<p>I need to split my String by spaces.\nFor this I tried that:</p>\n\n<pre><code>str = \"Hello I'm your String\";\nString[] splited = str.split(\" \");\n</code></pre>\n\n<p>But it doesn't seems to work, what do I have to change?</p>\n", "tags": ["java", "string", "split", "arrays"], "title": "How to split a String by space", "answers": [{"body": "<p>Try </p>\n\n<pre><code>String[] splited = str.split(\"\\\\s\");\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/essential/regex/pre_char_classes.html</a></p>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/7899552#7899552", "question_id": 7899525, "answer_id": 7899552}, {"body": "<p>What you have should work. If, however, the spaces provided are defaulting to... something else? You can use the whitespace regex:</p>\n\n<pre><code>str = \"Hello I'm your String\";\nString[] splited = str.split(\"\\\\s+\");\n</code></pre>\n\n<p>This will cause any number of consecutive spaces to split your string into tokens.</p>\n\n<p>As a side note, I'm not sure \"splited\" is a word :) I believe the state of being the victim of a split is also \"split\". It's one of those tricky grammar things :-) Not trying to be picky, just figured I'd pass it on!</p>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/7899558#7899558", "question_id": 7899525, "answer_id": 7899558}, {"body": "<p>I do believe that putting a regular expression in the str.split parentheses should solve the issue. The Java String.split() method is based upon regular expressions so what you need is:</p>\n\n<pre><code>str = \"Hello I'm your String\";\nString[] splitStr = str.split(\"\\\\s+\");\n</code></pre>\n\n<p>PS I'm afraid I also corrected your grammar, please don't take offense.</p>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/7899604#7899604", "question_id": 7899525, "answer_id": 7899604}, {"body": "<p>Use <code>Stringutils.split()</code> to split the string by whites paces. For example <code>StringUtils.split(\"Hello World\")</code> returns \"Hello\" and \"World\";</p>\n\n<p>In order to solve the mentioned case we use split method like this </p>\n\n<pre><code>String split[]= StringUtils.split(\"Hello I'm your String\");\n</code></pre>\n\n<p>when we print the split array the output will be :</p>\n\n<p>Hello</p>\n\n<p>I'm</p>\n\n<p>your</p>\n\n<p>String</p>\n\n<p><a href=\"http://java-interview-questions.com/how-to-separate-strings-in-java-by-spaces-with-example\">For complete example demo check here</a></p>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/22904619#22904619", "question_id": 7899525, "answer_id": 22904619}, {"body": "<p>An alternative way would be:</p>\n\n<pre><code>import java.util.regex.Pattern;\n\n...\n\nprivate static final Pattern SPACE = Pattern.compile(\" \");\nString[] arr = SPACE.split(str); // str is the string to be split\n</code></pre>\n\n<p>Saw it <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/streaming/JavaNetworkWordCount.java\" rel=\"nofollow\">here</a></p>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/24325929#24325929", "question_id": 7899525, "answer_id": 24325929}, {"body": "<p>if somehow you don't wanna use String split method then you can use StringTokenizer class in Java as..</p>\n\n<pre><code>    StringTokenizer tokens = new StringTokenizer(\"Hello I'm your String\", \" \");\n    String[] splited = new String[tokens.countTokens()];\n    int index = 0;\n    while(tokens.hasMoreTokens()){\n        splited[index] = tokens.nextToken();\n        ++index;\n    }\n</code></pre>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/24548525#24548525", "question_id": 7899525, "answer_id": 24548525}, {"body": "<p>While the accepted answer is good, be aware that you will end up with a leading empty string if your input string starts with a white space. For example, with:</p>\n\n<pre><code>String str = \" Hello I'm your String\";\nString[] splitStr = str.split(\"\\\\s+\");\n</code></pre>\n\n<p>The result will be:</p>\n\n<pre><code>splitStr[0] == \"\";\nsplitStr[1] == \"Hello\";\nsplitStr[2] == \"I'm\";\nsplitStr[3] == \"Your\";\nsplitStr[4] == \"String\";\n</code></pre>\n\n<p>So you might want to trim your string before splitting it:</p>\n\n<pre><code>String str = \" Hello I'm your String\";\nString[] splitStr = str.trim().split(\"\\\\s+\");\n</code></pre>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/30220543#30220543", "question_id": 7899525, "answer_id": 30220543}, {"body": "<p>Try this one</p>\n\n<pre><code>    String str = \"This is String\";\n    String[] splited = str.split(\"\\\\s+\");\n\n    String split_one=splited[0];\n    String split_second=splited[1];\n    String split_three=splited[2];\n\n   Log.d(\"Splited String \", \"Splited String\" + split_one+split_second+split_three);\n</code></pre>\n", "title": "How to split a String by space", "tags": ["java", "string", "split", "arrays"], "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space/32115689#32115689", "question_id": 7899525, "answer_id": 32115689}], "creation_date": 1319612071, "score": 107, "link": "http://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space", "question_id": 7899525}, {"body": "<p>In <a href=\"http://stackoverflow.com/questions/7142609/can-i-get-the-right-jcomponent-size-before-its-shown/7142653#7142653\">another thread</a> I stated that I liked to center my GUIs by doing something like this:</p>\n\n<pre><code>JFrame frame = new JFrame(\"Foo\");\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nframe.getContentPane().add(new HexagonGrid());\nframe.pack();\nframe.setLocationRelativeTo(null);\nframe.setVisible(true);\n</code></pre>\n\n<p>But Andrew Thompson had a different opinion, to instead call</p>\n\n<pre><code>frame.pack();\nframe.setLocationByPlatform(true);\n</code></pre>\n\n<p>and inquiring minds want to know why?</p>\n", "tags": ["java", "swing", "user-interface"], "title": "How to best position Swing GUIs?", "answers": [{"body": "<p>To my eye, a GUI in the middle of the screen looks so.. \"splash-screen'ish\". I keep waiting for them to disappear and the <em>real</em> GUI to appear!</p>\n\n<p>Since Java 1.5 we've had access to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setLocationByPlatform-boolean-\"><code>Window.setLocationByPlatform(boolean)</code></a>. which..</p>\n\n<blockquote>\n  <p>Sets whether this Window should appear at the default location for the native windowing system or at the current location (returned by getLocation) the next time the Window is made visible. This behavior resembles a native window shown without programmatically setting its location. <strong>Most windowing systems cascade windows if their locations are not explicitly set.</strong> The actual location is determined once the window is shown on the screen. </p>\n</blockquote>\n\n<p>Have a look at the effect of this example that puts 3 GUIs into the default positions as chosen by the OS - on Windows 7, Linux with Gnome &amp; Mac OS X.</p>\n\n<p><img src=\"http://i.stack.imgur.com/D1JLb.png\" alt=\"Stacked windows on Windows 7\"> <img src=\"http://i.stack.imgur.com/5kvJV.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/J2zQu.png\" alt=\"Stacked windows on Mac OS X\"></p>\n\n<p>(3 lots of) 3 GUIs neatly stacked.  This represents 'the path of least surprise' for the end user, since it is how the OS might position 3 instances of the default plain-text editor (or anything else, for that matter).  My thanks to trashgod for the Linux &amp; Mac. images.</p>\n\n<p>Here is the simple code used:</p>\n\n<pre><code>import javax.swing.*;\n\nclass WhereToPutTheGui {\n\n    public static void initGui() {\n        for (int ii=1; ii&lt;4; ii++) {\n            JFrame f = new JFrame(\"Frame \" + ii);\n            f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n            String s =\n                \"os.name: \" + System.getProperty(\"os.name\") +\n                \"\\nos.version: \" + System.getProperty(\"os.version\");\n            f.add(new JTextArea(s,3,28));  // suggest a size\n            f.pack();\n            // Let the OS handle the positioning!\n            f.setLocationByPlatform(true);\n            f.setVisible(true);\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater( new Runnable() {\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(\n                        UIManager.getSystemLookAndFeelClassName());\n                } catch (Exception useDefault) {}\n                initGui();\n            }\n        });\n    }\n}\n</code></pre>\n", "title": "How to best position Swing GUIs?", "tags": ["java", "swing", "user-interface"], "link": "http://stackoverflow.com/questions/7143287/how-to-best-position-swing-guis/7143398#7143398", "question_id": 7143287, "answer_id": 7143398}], "creation_date": 1313988511, "score": 107, "link": "http://stackoverflow.com/questions/7143287/how-to-best-position-swing-guis", "question_id": 7143287}, {"body": "<p>Say we have these two Runnables:</p>\n\n<pre><code>class R1 implements Runnable {\n    public void run() { \u2026 }\n    \u2026\n}\n\nclass R2 implements Runnable {\n    public void run() { \u2026 }\n    \u2026\n}\n</code></pre>\n\n<p>Then what's the difference between this:</p>\n\n<pre><code>public static void main() {\n    R1 r1 = new R1();\n    R2 r2 = new R2();\n\n    r1.run();\n    r2.run();\n}\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>public static void main() {\n    R1 r1 = new R1();\n    R2 r2 = new R2();\n    Thread t1 = new Thread(r1);\n    Thread t2 = new Thread(r2);\n\n    t1.start();\n    t2.start();\n}\n</code></pre>\n", "tags": ["java", "multithreading", "concurrency", "runnable"], "title": "What&#39;s the difference between Thread start() and Runnable run()", "answers": [{"body": "<p><strong>First example:</strong> No multiple threads. Both execute in single (existing) thread. No thread creation.</p>\n\n<pre><code>R1 r1 = new R1();\nR2 r2 = new R2();\n</code></pre>\n\n<p><code>r1</code> and <code>r2</code> are just two different objects of the class that implements the <code>Runnable</code> interfaces which have that <code>run()</code> method.  When you call <code>r1.run()</code> you are executing it in the current thread.</p>\n\n<p><strong>Second example:</strong> Two separate threads.</p>\n\n<pre><code>Thread t1 = new Thread(r1);\nThread t2 = new Thread(r2);\n</code></pre>\n\n<p><code>t1</code> and <code>t2</code> are the objects of the class <code>Thread</code>.  When you call <code>t1.start()</code>, it starts a new thread and calls the <code>run()</code> method of <code>r1</code> internally to execute it within that new thread.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/8579695#8579695", "question_id": 8579657, "answer_id": 8579695}, {"body": "<p>If you just invoke <code>run()</code> directly, it's executed on the calling thread, just like any other method call. <code>Thread.start()</code> is required to actually create a new thread so that the runnable's <code>run</code> method is executed in parallel.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/8579702#8579702", "question_id": 8579657, "answer_id": 8579702}, {"body": "<p>In the first case you are just invoking the run() function of the r1 adn r2 objects.</p>\n\n<p>In the second case you're actually creating 2 new Threads! ;) start() will call run() at same point!</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/8579705#8579705", "question_id": 8579657, "answer_id": 8579705}, {"body": "<p><code>Thread.start()</code> code registers the Thread with scheduler and the scheduler calls the <code>run()</code> method. Also, <code>Thread</code> is class while <code>Runnable</code> is an interface.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/8641412#8641412", "question_id": 8579657, "answer_id": 8641412}, {"body": "<p>Actually <code>Thread.start()</code> creates a new thread and have its own execution scenario.</p>\n\n<p><code>Thread.start()</code> calls the <code>run()</code> method asynchronously,which changes the state of new Thread to Runnable.</p>\n\n<p>But <code>Thread.run()</code> does not create any new thread. Instead it execute the run method in the current running thread synchronously.</p>\n\n<p>If you are using <code>Thread.run()</code> then you are not using the features of multi threading at all. </p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/13134221#13134221", "question_id": 8579657, "answer_id": 13134221}, {"body": "<p>If you do <code>run()</code> in main method, the thread of main method will invoke the <code>run</code> method instead of the thread you require to run.</p>\n\n<p>The <code>start()</code> method creates new thread and for which the <code>run()</code> method has to be done</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/19629304#19629304", "question_id": 8579657, "answer_id": 19629304}, {"body": "<p>The difference is that Thread.start() starts a thread, while Runnable.run() just calls a method.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/19631064#19631064", "question_id": 8579657, "answer_id": 19631064}, {"body": "<p>invoke <code>run()</code> is  executing on the calling thread, like any other method call. whereas  <code>Thread.start()</code> creates a new thread.\ninvoking <code>run()</code> is a programmatic bug. </p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/26159918#26159918", "question_id": 8579657, "answer_id": 26159918}, {"body": "<p>The points, that the members made are all right so I just want to add something. The thing is that JAVA supports no Multi-inheritance. But What is if you want to derive a class B from another class A, but you can only derive from one Class. The problem now is how to \"derive\" from both classes: A and Thread. Therefore you can use the Runnable Interface.</p>\n\n<pre><code>public class ThreadTest{\n   public void method(){\n      Thread myThread = new Thread(new B());\n      myThread.start;\n   }\n}\n\npublic class B extends A implements Runnable{...\n</code></pre>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/28073707#28073707", "question_id": 8579657, "answer_id": 28073707}, {"body": "<p>The separate start() and run() methods in the Thread class provide two ways to create threaded programs. The start() method starts the execution of the new thread and calls the run() method. The start() method returns immediately and the new thread normally continues until the run() method returns.</p>\n\n<p>The Thread class' run() method does nothing, so sub-classes should override the method with code to execute in the second thread. If a Thread is instantiated with a Runnable argument, the thread's run() method executes the run() method of the Runnable object in the new thread instead.</p>\n\n<p>Depending on the nature of your threaded program, calling the Thread run() method directly can give the same output as calling via the start() method, but in the latter case the code is actually executed in a new thread.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/30297034#30297034", "question_id": 8579657, "answer_id": 30297034}, {"body": "<p>Suppose you are a Manager of a hotel named Thread. So basically what t1.run() does is that it makes you have to do all the tasks yourself, while your other Thread helpers sit idle twiddling their thumbs. But if you use t1.start(), one of your helpers is assigned some task and then he/she starts doing that task, while you do the job you are supposed to do that is manage the helpers.</p>\n\n<blockquote>\n  <p>Source: <a href=\"https://www.youtube.com/watch?v=c-Rztur1fBs\" rel=\"nofollow\">Programming Interview: Threads in Operating System (Java ) Part 2 Multithreading</a> </p>\n</blockquote>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/31823681#31823681", "question_id": 8579657, "answer_id": 31823681}, {"body": "<p>Most of these answers miss the big picture, which is that, as far as the Java language is concerned, there is no more difference between <code>t.start()</code> and <code>r.run()</code> than there is between any other two methods.</p>\n\n<p>They're both just methods.  They both run <em>in the thread that called them</em>.  They both do whatever they were coded to do, and then they both return, still in the same thread, to their callers.</p>\n\n<p>The biggest difference is that most of the code for <code>t.start()</code> is <em>native</em> code while, in most cases, the code for <code>r.run()</code> is going to be pure Java.  But that's not much of a difference.  Code is code.  Native code is harder to find, and harder to understand when you find it, but it's still just code that tells the computer what to do.</p>\n\n<p>So, what does <code>t.start()</code> do?</p>\n\n<p>It creates a new native thread, it arranges for that thread to call <code>t.run()</code>, and then it tells the OS to let the new thread run.  Then it returns.</p>\n\n<p>And what does <code>r.run()</code> do?</p>\n\n<p>The funny thing is, the person asking this question is the person who <em>wrote it</em>.  <code>r.run()</code> does whatever <em>you</em> (i.e., the developer who wrote it) designed it to do.</p>\n\n<hr>\n\n<p><code>t.start()</code> is the method that the library provides for your code to call when you want a new thread.</p>\n\n<p><code>r.run()</code> is the method that <em>you</em> provide for the <em>library</em> to call <em>in</em> the new thread.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/33375616#33375616", "question_id": 8579657, "answer_id": 33375616}, {"body": "<p>Main difference is that when program calls <code>start()</code> method a <strong>new Thread</strong> is created and code inside run() method is executed in new Thread while if you call <code>run()</code> method directly <strong>no new Thread</strong> is created and code inside run() will execute on <strong>current Thread</strong>.</p>\n\n<p>Another <strong>difference between start vs run in Java thread</strong> is that you <strong>can not call start() method twice on thread object</strong>. once started, second call of start() will throw IllegalStateException in Java while you can call run() method twice.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/35264580#35264580", "question_id": 8579657, "answer_id": 35264580}, {"body": "<p>If you directly call <code>run()</code> method, you are not using multi-threading feature since <code>run()</code> method is executed as part of caller thread. </p>\n\n<p>If you call <code>start()</code> method on Thread, the Java Virtual Machine will call run() method and two threads will run concurrently - Current Thread (<code>main()</code> in your example) and Other Thread (Runnable <code>r1</code> in your example).</p>\n\n<p>Have a look at source code of <code>start()</code> method in <a href=\"http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Thread.java/?v=source\" rel=\"nofollow\">Thread class</a></p>\n\n<pre><code> /**\n     * Causes this thread to begin execution; the Java Virtual Machine\n     * calls the &lt;code&gt;run&lt;/code&gt; method of this thread.\n     * &lt;p&gt;\n     * The result is that two threads are running concurrently: the\n     * current thread (which returns from the call to the\n     * &lt;code&gt;start&lt;/code&gt; method) and the other thread (which executes its\n     * &lt;code&gt;run&lt;/code&gt; method).\n     * &lt;p&gt;\n     * It is never legal to start a thread more than once.\n     * In particular, a thread may not be restarted once it has completed\n     * execution.\n     *\n     * @exception  IllegalThreadStateException  if the thread was already\n     *               started.\n     * @see        #run()\n     * @see        #stop()\n     */\n    public synchronized void start() {\n        /**\n         * This method is not invoked for the main method thread or \"system\"\n         * group threads created/set up by the VM. Any new functionality added\n         * to this method in the future may have to also be added to the VM.\n         *\n         * A zero status value corresponds to state \"NEW\".\n         */\n        if (threadStatus != 0)\n            throw new IllegalThreadStateException();\n        group.add(this);\n        start0();\n        if (stopBeforeStart) {\n            stop0(throwableFromStop);\n        }\n    }\n\n    private native void start0();\n</code></pre>\n\n<p>In above code, you can't see invocation to <code>run()</code> method. </p>\n\n<p><code>private native void start0()</code> is responsible for calling <code>run()</code> method. JVM executes this native method.</p>\n", "title": "What&#39;s the difference between Thread start() and Runnable run()", "tags": ["java", "multithreading", "concurrency", "runnable"], "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run/35931153#35931153", "question_id": 8579657, "answer_id": 35931153}], "creation_date": 1324403257, "score": 106, "link": "http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run", "question_id": 8579657}, {"body": "<p><code>shopkeeper</code> table has following fields:</p>\n\n<pre><code>id (bigint),amount (numeric(19,2)),createddate (timestamp)\n</code></pre>\n\n<p>Let's say, I have the above table. I want to get the records for yesterday and \ngenerate a report by having the amount printed to cents.</p>\n\n<p><strong>One way of doing is to perform calculations in my java application and execute a simple query</strong></p>\n\n<pre><code>Date previousDate ;// $1 calculate in application\n\nDate todayDate;// $2 calculate in application\n\nselect amount where createddate between $1 and $2 \n</code></pre>\n\n<p>and then loop through the records and convert amount to cents in my java application and generate the report</p>\n\n<p><strong>Another way is like performing calculations in sql query itself:</strong></p>\n\n<pre><code>select cast(amount * 100 as int) as \"Cents\"\nfrom shopkeeper  where createddate  between date_trunc('day', now()) - interval '1 day'  and  date_trunc('day', now())\n</code></pre>\n\n<p>and then loop through the records and generate the report</p>\n\n<p>In one way , all my processing is done in java application and a simple query is fired.\nIn other case all the conversions and calculations is done in Sql query.</p>\n\n<p>The above use case is just an example, in a real scenario a table can have many columns that require processing of the similar kind.</p>\n\n<p><strong>Can you please tell me which approach is better in terms of performance and other aspects and why?</strong> </p>\n", "tags": ["java", ".net", "sql", "performance", "postgresql"], "title": "What are the pros and cons of performing calculations in sql vs. in your application", "answers": [{"body": "<p>It depends on a lot of factors - but most crucially:</p>\n\n<ul>\n<li>complexity of calculations (prefer doing complex crunching on an app-server, since that scales <em>out</em>; rather than a db server, which scales <em>up</em>)</li>\n<li>volume of data (if you need to access/aggregate a lot of data, doing it at the db server will save bandwidth, and disk io if the aggregates can be done inside indexes)</li>\n<li>convenience (sql is not the best language for complex work - especially not great for procedural work, but very good for set-based work; lousy error-handling, though)</li>\n</ul>\n\n<p>As always, if you <em>do</em> bring the data back to the app-server, minimising the columns and rows will be to your advantage. Making sure the query is tuned and appropriately indexed will help either scenario.</p>\n\n<p>Re your note:</p>\n\n<blockquote>\n  <p>and then loop through the records </p>\n</blockquote>\n\n<p><em>Looping</em> through records is almost always the wrong thing to do in sql - writing a set-based operation is preferred.</p>\n\n<p><em>As a general rule</em>, I prefer to keep the database's job to a minimum \"store this data, fetch this data\" - however, there are always examples of scenarios where an elegant query at the server can save a lot of bandwidth.</p>\n\n<p>Also consider: if this is computationally expensive, can it be cached somewhere?</p>\n\n<p>If you want an <em>accurate</em> \"which is better\"; code it both ways and compare it (noting that a first draft of either is likely not 100% tuned). But factor in typical usage to that: if, in reality, it is being called 5 times (separately) at once, then simulate that: don't compare just a single \"1 of these vs 1 of those\".</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/7510143#7510143", "question_id": 7510092, "answer_id": 7510143}, {"body": "<p>In general do things in SQL if there are chances that also other modules or component in same or other projects will need to get those results. an atomic operation done server side is also better because you just need to invoke the stored proc from any db management tool to get final values without further processing.</p>\n\n<p>In some cases this does not apply but when it does it makes sense. also in general the db box has the best hardware and performances.</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/7510153#7510153", "question_id": 7510092, "answer_id": 7510153}, {"body": "<p>In this case you are <em>probably</em> slightly better off doing the calculation in SQL as the database engine is likely to have a more efficient decimal arithmetic routines than Java.</p>\n\n<p>Generally though for row level calculations there is not much difference.</p>\n\n<p>Where it does make a difference is:</p>\n\n<ul>\n<li>Aggregate calculations like SUM(), AVG(),MIN(), MAX() here the database engine will be an order of magnitude faster than a Java implementation.</li>\n<li>Anywhere the calculation is used to filter rows. Filtering at the DB is much more efficient than reading a row and then discarding it.</li>\n</ul>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/7510194#7510194", "question_id": 7510092, "answer_id": 7510194}, {"body": "<p>Whether to perform calculations at the front end or at the backend is very much decided if we can determine our goal in the business implementation. At time java code might perform better than a sql code both well written or it might be vice-versa. But still if confused you can try to determine first -</p>\n\n<ol>\n<li>If you can achieve something straightforward via database sql then better go for it as db will perform much better and do computations there and then with the result fetch. However if the actual computation requires too much calculation from here and there stuff then you can go with the application code. Why? Because scenario's like looping in most cases are not best handled by sql wherease front end languages are better designed for these things.</li>\n<li>In case similar calculation is required from many places then obviously placing the calculation code at the db end will be better to keep things at the same place.</li>\n<li>If there are lots of calculations to be done to attain the final result via many different queries then also go for db end as you can place the same code in a stored procedure to perform better than retrieving results from backend and then computing them at the front end.</li>\n</ol>\n\n<p>There are many other aspects which you can think before you decide where to place the code. One perception is totally wrong - Everything can be done best in Java (app code) and/or everything is best to be done by the db (sql code).</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/7512038#7512038", "question_id": 7510092, "answer_id": 7512038}, {"body": "<p>Let me use a metaphor: if you want to buy a <strong>golden necklace</strong> in Paris, the goldsmith could sit in Cape Town or Paris, that is a matter of skill and taste. But you would <em>never</em> ship tons of gold ore from South Africa to France for that. The ore is processed at the mining site (or at least in the general area), only the gold gets shipped. The same should be true for apps and databases.</p>\n\n<p>As far as <strong>PostgreSQL</strong> is concerned, you can do almost anything on the server, quite efficiently. The RDBMS excels at complex queries. For procedural needs you can choose from a variety of <a href=\"http://www.postgresql.org/docs/current/static/server-programming.html\" rel=\"nofollow\">server-side script languages</a>: tcl, python, perl and many more. Mostly I use <a href=\"http://www.postgresql.org/docs/current/static/plpgsql.html\" rel=\"nofollow\">PL/pgSQL</a>, though.</p>\n\n<p><strong>Worst case</strong> scenario would be to repeatedly go to the server for every single row of a larger set. (That would be like shipping one ton of ore a time.)</p>\n\n<p><strong>Second in line</strong>, if you send a cascade of queries, each depending on the one before, while all of it could be done in one query or procedure on the server. (That's like shipping the gold, and each of the jewels with a separate ship, sequentially.)</p>\n\n<p>Going back and forth between app and server is expensive. For server <em>and</em> client. Try to cut down on that, and you will win - ergo: use server side procedures and / or sophisticated SQL where necessary.</p>\n\n<p>We just finished a project where we packed almost all complex queries into stored procedures. The app hands over parameters and gets the datasets it needs. Fast, clean, simple (for the app developer), I/O reduced to a minimum ... a shiny necklace with a low carbon footprint.</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/7518619#7518619", "question_id": 7510092, "answer_id": 7518619}, {"body": "<p>There's no black / white with respect to what parts of data access logic should be performed in SQL and what parts should be performed in your application. I like <a href=\"http://stackoverflow.com/a/7510143/521799\">Mark Gravell's</a> wording, distinguishing between</p>\n\n<ul>\n<li>complex calculations</li>\n<li>data-intensive calculations</li>\n</ul>\n\n<p>The power and expressivity of SQL is heavily underestimated. Since the introduction of <a href=\"https://en.wikipedia.org/wiki/Window_function_%28SQL%29#Window_function\">window functions</a>, a lot of non-strictly set-oriented calculations can be performed very easily and elegantly in the database.</p>\n\n<p>Three rules of thumb should always be followed, regardless of the overall application architecture:</p>\n\n<ul>\n<li>keep the amount of data transferred between database and application slim (in favour of calculating stuff in the DB)</li>\n<li>keep the amount of data loaded from the disk by the database slim (in favour of letting the database optimise statements to avoid unnecessary data access)</li>\n<li>don't push the database to its CPU limits with complex, concurrent calculations (in favour of pulling data into application memory and performing calculations there)</li>\n</ul>\n\n<p>In my experience, with a decent DBA and some decent knowledge about your decent database, you won't run into your DBs CPU limits very soon.</p>\n\n<p>Some further reading where these things are explained:</p>\n\n<ul>\n<li><a href=\"http://blog.jooq.org/2013/07/30/10-common-mistakes-java-developers-make-when-writing-sql/\">10 Common Mistakes Java Developers Make When Writing SQL</a></li>\n<li><a href=\"http://blog.jooq.org/2013/08/12/10-more-common-mistakes-java-developers-make-when-writing-sql/\">10 More Common Mistakes Java Developers Make When Writing SQL</a></li>\n</ul>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18674012#18674012", "question_id": 7510092, "answer_id": 18674012}, {"body": "<p>If you are writing on top of ORM or writing casual low-performance applications, use whatever pattern simplifies the application. If you are writing a high performance application and thinking carefully about scale, you will win by moving processing to data. I strongly advocate moving the processing to the data. </p>\n\n<p>Let's think about this in two steps: (1) OLTP (small number of record) transactions. (2) OLAP (long scans of many records).</p>\n\n<p>In the OLTP case, if you want to be fast (10k - 100k transactions per second), you must remove latch, lock and dead lock contention from the database. This means that you need to eliminate long stalls in transactions: round trips from client to DB to move processing to the client are one such long stall. You can't have long lived transactions (to make read/update atomic) and have very high throughput. </p>\n\n<p>Re: horizontal scaling. Modern databases scale horizontally. Those systems implement HA and fault tolerance already. Leverage that and try to simplify your application space.</p>\n\n<p>Let's look at OLAP -- in this case it should be obvious that dragging possibly terrabytes of data back to the application is a horrible idea. These systems are built specifically to operate extremely efficiently against compressed, pre-organized columnar data. Modern OLAP systems also scale horizontally and have sophisticated query planners that disperse work horizontally (internally moving processing to data).</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18674420#18674420", "question_id": 7510092, "answer_id": 18674420}, {"body": "<p>Form a performance point of view: This is a very simple arithmetic operation which almost certainly can be performed much faster than actually fetching the data from the disks that underly the database. Also, calculating the values in the where clause is likely to be very fast on any runtime. In summary, the bottleneck should be disk IO, not the computation of the values.</p>\n\n<p>As per readability, I think if you use an ORM you should do it in your app server environment, because the ORM will let you work with the underlying data very easily, using set based operations. If you are going to write raw SQL anyway, there's nothing wrong with doing the computation there, Your SQL would also look a little nicer and easier to read if formatted properly.</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18677635#18677635", "question_id": 7510092, "answer_id": 18677635}, {"body": "<p>Crucially, \"performance\" isn't defined.</p>\n\n<p>The one that matters to me the most is developer time.</p>\n\n<p>Write the SQL query. If it's too slow or the DB becomes a bottleneck, then reconsider. By that time, you'll be able to benchmark the two approaches and make your decision based on real data relevant to your setup (hardware and whatever stack you're on).</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18677682#18677682", "question_id": 7510092, "answer_id": 18677682}, {"body": "<p>I don't believe the performance differences can be reasoned about without specific examples and benchmarks, but I have another take:</p>\n\n<p>Which can you maintain better? For example, you might want to switch your front-end from Java to Flash, or HTML5, or C++, or something else. A vast number of programs have gone through such a change, or even exist in more than one language to begin with, because they need to work on multiple devices.</p>\n\n<p>Even if you have a proper middle layer (from the example given, it seems like that's not the case), that layer might change and JBoss might become Ruby/Rails.</p>\n\n<p>On the other hand, it is unlikely that you will replace the SQL-backend with something that's not a relational DB with SQL and even if you do, you will have to rewrite the front-end from scratch anyway, so the point is moot.</p>\n\n<p>My idea is that if you do calculations in the DB, it will be much easier to write a second front-end or middle-layer later, because you don't have to re-implement everything. In practise however, I think \"where can I do this with code that people will understand\" is the most important factor.</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18679008#18679008", "question_id": 7510092, "answer_id": 18679008}, {"body": "<p>To simplify how to answer this would be to look at load balancing. You want to put the load where you have the most capacity (if it makes any sense). In most systems it is the SQL server that quickly becomes a bottleneck so the probably answer is that you don't want SQL doing one ounce of work more than it has to. </p>\n\n<p>Also in most architectures it is the SQL server(s) that make up the core of the system and outside systems that get added on. </p>\n\n<p>But the math above is so trivial that unless you are pushing your system to the limit the best place to put it is where you want to put it. If the math were not trivial such as calculating sin/cos/tan for say a distance calculation then the effort might become non-trivial and require careful planning and testing.</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18681157#18681157", "question_id": 7510092, "answer_id": 18681157}, {"body": "<p>The other answers to this question are interesting. <strong>Surprisingly, no one has answered your question.</strong> You are wondering:</p>\n\n<ol>\n<li>Is it better to cast to Cents in the query? I don\u2019t think the cast\nto cents adds anything in your query.</li>\n<li>Is it better to use now() in the query? I would prefer to pass dates into the query instead of calculating them in the query.</li>\n</ol>\n\n<p>More info:\nFor question one you want to be sure that aggregating the fractions\n   works without rounding errors. I think numeric  19,2 is reasonable\n   for money and in the second case the integers are OK. Using a float for money is wrong for this reason.</p>\n\n<p>For question two, I like to have full control as a programmer of what\n   date is considered \u201cnow\u201d. It can be hard to write automatic unit\n   tests when using functions like now(). Also, when you have a longer\n   transaction script it can be good to set a variable equal to now() and use the variable so\n   that all of the logic uses the exact same value.</p>\n", "title": "What are the pros and cons of performing calculations in sql vs. in your application", "tags": ["java", ".net", "sql", "performance", "postgresql"], "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica/18700707#18700707", "question_id": 7510092, "answer_id": 18700707}], "creation_date": 1316670590, "score": 104, "link": "http://stackoverflow.com/questions/7510092/what-are-the-pros-and-cons-of-performing-calculations-in-sql-vs-in-your-applica", "question_id": 7510092}, {"body": "<p>I have a class that will download a file from a <strong>https</strong> server. When I run  it, it returns a lot of errors. It seems that I have a problem with my certificate. Is it possible to ignore the client-server authentication? If so, how?</p>\n\n<pre><code>package com.da;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.CharBuffer;\nimport java.util.concurrent.Future;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.utils.URIUtils;\nimport org.apache.http.impl.nio.client.DefaultHttpAsyncClient;\nimport org.apache.http.nio.IOControl;\nimport org.apache.http.nio.client.HttpAsyncClient;\nimport org.apache.http.nio.client.methods.AsyncCharConsumer;\nimport org.apache.http.nio.client.methods.HttpAsyncGet;\nimport org.apache.http.nio.client.methods.HttpAsyncPost;\n\npublic class RSDDownloadFile {\n    static FileOutputStream fos;\n\n    public void DownloadFile(String URI, String Request) throws Exception\n    {\n        java.net.URI uri = URIUtils.createURI(\"https\", \"176.66.3.69:6443\", -1, \"download.aspx\",\n                \"Lang=EN&amp;AuthToken=package\", null);\n        System.out.println(\"URI Query: \" + uri.toString());\n\n        HttpAsyncClient httpclient = new DefaultHttpAsyncClient();\n        httpclient.start();\n        try {\n            Future&lt;Boolean&gt; future = httpclient.execute(\n                    new HttpAsyncGet(uri),\n                    new ResponseCallback(), null);\n\n            Boolean result = future.get();\n            if (result != null &amp;&amp; result.booleanValue()) {\n                System.out.println(\"\\nRequest successfully executed\");\n            } else {\n                System.out.println(\"Request failed\");\n            }              \n        } \n        catch(Exception e){\n            System.out.println(\"[DownloadFile] Exception: \" + e.getMessage());\n        }\n        finally {\n            System.out.println(\"Shutting down\");\n            httpclient.shutdown();\n        }\n        System.out.println(\"Done\");  \n\n    }\n\n    static class ResponseCallback extends AsyncCharConsumer&lt;Boolean&gt; {\n\n        @Override\n        protected void onResponseReceived(final HttpResponse response) {\n             System.out.println(\"Response: \" + response.getStatusLine());\n             System.out.println(\"Header: \" + response.toString());\n             try {   \n                 //if(response.getStatusLine().getStatusCode()==200)\n                     fos = new FileOutputStream( \"Response.html\" );\n             }catch(Exception e){\n                 System.out.println(\"[onResponseReceived] Exception: \" + e.getMessage());\n             }\n        }\n\n        @Override\n        protected void onCharReceived(final CharBuffer buf, final IOControl ioctrl) throws IOException {\n            try\n            {\n                while (buf.hasRemaining()) \n                {\n                    //System.out.print(buf.get());\n                    fos.write(buf.get());\n                }\n            }catch(Exception e)\n            {\n                System.out.println(\"[onCharReceived] Exception: \" + e.getMessage());\n            }\n        }\n\n        @Override\n        protected void onCleanup() {\n            try\n            {             \n                if(fos!=null)\n                    fos.close();\n            }catch(Exception e){\n                System.out.println(\"[onCleanup] Exception: \" + e.getMessage());         \n            }\n             System.out.println(\"onCleanup()\");\n        }\n\n        @Override\n        protected Boolean buildResult() {\n            return Boolean.TRUE;\n        }\n\n    }\n}\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>URI Query: https://176.66.3.69:6443/download.aspx?Lang=EN&amp;AuthToken=package\nAug 2, 2011 3:47:57 PM org.apache.http.impl.nio.client.NHttpClientProtocolHandler exception\nSEVERE: I/O error: General SSLEngine problem\njavax.net.ssl.SSLHandshakeException: General SSLEngine problem\n    at com.sun.net.ssl.internal.ssl.Handshaker.checkThrown(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.SSLEngineImpl.writeAppRecord(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.SSLEngineImpl.wrap(Unknown Source)\n    at javax.net.ssl.SSLEngine.wrap(Unknown Source)\n    at org.apache.http.impl.nio.reactor.SSLIOSession.doHandshake(SSLIOSession.java:154)\n    at org.apache.http.impl.nio.reactor.SSLIOSession.isAppInputReady(SSLIOSession.java:276)\n    at org.apache.http.impl.nio.client.InternalClientEventDispatch.inputReady(InternalClientEventDispatch.java:79)\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:161)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:335)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:275)\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:542)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.SSLEngineImpl.fatal(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.Handshaker$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.net.ssl.internal.ssl.Handshaker$DelegatedTask.run(Unknown Source)\n    at org.apache.http.impl.nio.reactor.SSLIOSession.doHandshake(SSLIOSession.java:180)\n    ... 9 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(Unknown Source)\n    at sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n    at sun.security.validator.Validator.validate(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n    at com.sun.net.ssl.internal.ssl.JsseX509TrustManager.checkServerTrusted(Unknown Source)\n    ... 16 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\n    at java.security.cert.CertPathBuilder.build(Unknown Source)\n    ... 21 more\nonCleanup()\n\n[DownloadFile] Exception: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\nShutting down\nDone\n</code></pre>\n", "tags": ["java", "ssl", "https", "ssl-certificate"], "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "answers": [{"body": "<p>Quoting from <a href=\"http://cold-caffein.blogspot.com/2011/07/looks-like-article-no-more-unable-to.html\">No more 'unable to find valid certification path to requested target'</a> </p>\n\n<blockquote>\n  <p>when trying to open an SSL connection to a host using JSSE. What this usually means is that the server is using a test certificate (possibly generated using keytool) rather than a certificate from a well known commercial Certification Authority such as Verisign or GoDaddy. Web browsers display warning dialogs in this case, but since JSSE cannot assume an interactive user is present it just throws an exception by default.</p>\n  \n  <p>Certificate validation is a very important part of SSL security, but I am not writing this entry to explain the details. If you are interested, you can start by reading the Wikipedia blurb. I am writing this entry to show a simple way to talk to that host with the test certificate, if you really want to.</p>\n  \n  <p>Basically, you want to add the server's certificate to the KeyStore with your trusted certificates</p>\n</blockquote>\n\n<p>Try the code provided there. It might help.</p>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/6908991#6908991", "question_id": 6908948, "answer_id": 6908991}, {"body": "<p>The problem appears when your server has self signed certificate. To workaround it you can add this certificate to the list of trusted certificates of your JVM. </p>\n\n<p><a href=\"http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html\">In this article</a> author describes how to fetch the certificate from your browser and add it to cacerts file of your JVM. You can either edit <code>JAVA_HOME/jre/lib/security/cacerts</code> file or run you application with <code>-Djavax.net.ssl.trustStore</code> parameter. Verify which JDK/JRE you are using too as this is often a source of confusion.</p>\n\n<p>See also: <a href=\"http://stackoverflow.com/questions/8443081/how-are-ssl-certificate-server-names-resolved-can-i-add-alternative-names-using\">How are SSL certificate server names resolved/Can I add alternative names using keytool?</a> If you run into <code>java.security.cert.CertificateException: No name matching localhost found</code> exception.</p>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/12146838#12146838", "question_id": 6908948, "answer_id": 12146838}, {"body": "<p>Here's what reliably works for me on OSX. Make sure to replace example.com and 443 with the actual hostname and port you're trying to connect to, and give a custom alias.</p>\n\n<pre><code>openssl x509 -in &lt;(openssl s_client -connect example.com:443 -prexit 2&gt;/dev/null) -out ~/example.crt\nsudo keytool -importcert -file ~/example.crt -alias example -keystore $(/usr/libexec/java_home)/jre/lib/security/cacerts -storepass changeit\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/19577333#19577333", "question_id": 6908948, "answer_id": 19577333}, {"body": "<p>I had the same issue with a valid signed wildcard certificate from symantec.</p>\n\n<p>First try running your java application with <strong><em>-Djavax.net.debug=SSL</em></strong> to see what is really going on.</p>\n\n<p>I ended up <strong><em>importing the intermediate certificate</em></strong> which was causing the cert chain to break.</p>\n\n<p>I downloaded the missing intermediate cert from symantec (you can see the download link to the missing cert in the ssl handshake log: <a href=\"http://svrintl-g3-aia.verisign.com/SVRIntlG3.cer\">http://svrintl-g3-aia.verisign.com/SVRIntlG3.cer</a> in my case).</p>\n\n<p>And I imported the cert in the java keystore. After importing the intermediate certificate my wildcard ssl cert finally started working:</p>\n\n<pre><code>keytool -import -keystore ../jre/lib/security/cacerts -trustcacerts -alias \"VeriSign Class 3 International Server CA - G3\" -file /pathto/SVRIntlG3.cer\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/22406950#22406950", "question_id": 6908948, "answer_id": 22406950}, {"body": "<p>I was able to get it working with code only, i.e. no need to use keytool:</p>\n\n<pre><code>import com.netflix.config.DynamicBooleanProperty;\nimport com.netflix.config.DynamicIntProperty;\nimport com.netflix.config.DynamicPropertyFactory;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.config.Registry;\nimport org.apache.http.config.RegistryBuilder;\nimport org.apache.http.conn.ssl.SSLContexts;\nimport org.apache.http.conn.ssl.TrustStrategy;\nimport org.apache.http.conn.ssl.X509HostnameVerifier;\nimport org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\nimport org.apache.http.impl.nio.client.HttpAsyncClients;\nimport org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager;\nimport org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor;\nimport org.apache.http.impl.nio.reactor.IOReactorConfig;\nimport org.apache.http.nio.conn.NoopIOSessionStrategy;\nimport org.apache.http.nio.conn.SchemeIOSessionStrategy;\nimport org.apache.http.nio.conn.ssl.SSLIOSessionStrategy;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLException;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSocket;\nimport java.io.IOException;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\npublic class Test\n{\n    private static final DynamicIntProperty MAX_TOTAL_CONNECTIONS = DynamicPropertyFactory.getInstance().getIntProperty(\"X.total.connections\", 40);\n    private static final DynamicIntProperty ROUTE_CONNECTIONS = DynamicPropertyFactory.getInstance().getIntProperty(\"X.total.connections\", 40);\n    private static final DynamicIntProperty CONNECT_TIMEOUT = DynamicPropertyFactory.getInstance().getIntProperty(\"X.connect.timeout\", 60000);\n    private static final DynamicIntProperty SOCKET_TIMEOUT = DynamicPropertyFactory.getInstance().getIntProperty(\"X.socket.timeout\", -1);\n    private static final DynamicIntProperty CONNECTION_REQUEST_TIMEOUT = DynamicPropertyFactory.getInstance().getIntProperty(\"X.connectionrequest.timeout\", 60000);\n    private static final DynamicBooleanProperty STALE_CONNECTION_CHECK = DynamicPropertyFactory.getInstance().getBooleanProperty(\"X.checkconnection\", true);\n\n    public static void main(String[] args) throws Exception\n    {\n\n        SSLContext sslcontext = SSLContexts.custom()\n                .useTLS()\n                .loadTrustMaterial(null, new TrustStrategy()\n                {\n                    @Override\n                    public boolean isTrusted(X509Certificate[] chain, String authType) throws CertificateException\n                    {\n                        return true;\n                    }\n                })\n                .build();\n        SSLIOSessionStrategy sslSessionStrategy = new SSLIOSessionStrategy(sslcontext, new AllowAll());\n\n        Registry&lt;SchemeIOSessionStrategy&gt; sessionStrategyRegistry = RegistryBuilder.&lt;SchemeIOSessionStrategy&gt;create()\n                .register(\"http\", NoopIOSessionStrategy.INSTANCE)\n                .register(\"https\", sslSessionStrategy)\n                .build();\n\n        DefaultConnectingIOReactor ioReactor = new DefaultConnectingIOReactor(IOReactorConfig.DEFAULT);\n        PoolingNHttpClientConnectionManager connectionManager = new PoolingNHttpClientConnectionManager(ioReactor, sessionStrategyRegistry);\n        connectionManager.setMaxTotal(MAX_TOTAL_CONNECTIONS.get());\n        connectionManager.setDefaultMaxPerRoute(ROUTE_CONNECTIONS.get());\n\n        RequestConfig requestConfig = RequestConfig.custom()\n                .setSocketTimeout(SOCKET_TIMEOUT.get())\n                .setConnectTimeout(CONNECT_TIMEOUT.get())\n                .setConnectionRequestTimeout(CONNECTION_REQUEST_TIMEOUT.get())\n                .setStaleConnectionCheckEnabled(STALE_CONNECTION_CHECK.get())\n                .build();\n\n        CloseableHttpAsyncClient httpClient = HttpAsyncClients.custom()\n                .setSSLStrategy(sslSessionStrategy)\n                .setConnectionManager(connectionManager)\n                .setDefaultRequestConfig(requestConfig)\n                .build();\n\n        httpClient.start();\n\n        // use httpClient...\n    }\n\n    private static class AllowAll implements X509HostnameVerifier\n    {\n        @Override\n        public void verify(String s, SSLSocket sslSocket) throws IOException\n        {}\n\n        @Override\n        public void verify(String s, X509Certificate x509Certificate) throws SSLException {}\n\n        @Override\n        public void verify(String s, String[] strings, String[] strings2) throws SSLException\n        {}\n\n        @Override\n        public boolean verify(String s, SSLSession sslSession)\n        {\n            return true;\n        }\n    }\n}\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/24431450#24431450", "question_id": 6908948, "answer_id": 24431450}, {"body": "<p>For those who like Debian and prepackaged Java:</p>\n\n<pre><code>sudo mkdir /usr/share/ca-certificates/test/  # don't mess with other certs\nsudo cp ~/tmp/test.loc.crt /usr/share/ca-certificates/test/\nsudo dpkg-reconfigure --force ca-certificates  # check your cert in curses GUI!\nsudo update-ca-certificates --fresh --verbose\n</code></pre>\n\n<p>Don't forget to check <code>/etc/default/cacerts</code> for:</p>\n\n<pre><code># enable/disable updates of the keystore /etc/ssl/certs/java/cacerts\ncacerts_updates=yes\n</code></pre>\n\n<p>To remove cert:</p>\n\n<pre><code>sudo rm /usr/share/ca-certificates/test/test.loc.crt\nsudo rm /etc/ssl/certs/java/cacerts\nsudo update-ca-certificates --fresh --verbose\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/24819489#24819489", "question_id": 6908948, "answer_id": 24819489}, {"body": "<ol>\n<li>Export the SSL certificate using Firefox. You can export it by hitting the URL in the browser and then select the option to export the certificate. Let's assume the cert file name is <strong>your.ssl.server.name.crt</strong></li>\n<li>Go to your <code>JRE_HOME/bin</code> or <code>JDK/JRE/bin</code></li>\n<li>Type the command </li>\n<li><code>keytool -keystore ..\\lib\\security\\cacerts -import -alias your.ssl.server.name -file .\\relative-path-to-cert-file\\your.ssl.server.name.crt</code></li>\n<li>Restart your Java process </li>\n</ol>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/27609876#27609876", "question_id": 6908948, "answer_id": 27609876}, {"body": "<p>This can also be caused by using GoDaddy certs with Java 7 that are signed using SHA2.</p>\n\n<p>Chrome and all other browsers are starting to deprecate SSL certs that are signed using SHA1, as it's not as secure. </p>\n\n<p>More info <a href=\"http://tozny.com/blog/godaddys-ssl-certs-dont-work-in-java-the-right-solution/\" rel=\"nofollow\">on the issue can be found here</a>, as well as how to resolve it on your server if you need to now.</p>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/29681694#29681694", "question_id": 6908948, "answer_id": 29681694}, {"body": "<p>The source of this error on my Apache 2.4 instance (using a Comodo wildcard certificate) was an incomplete path to the SHA-1 signed root certificate. There were multiple chains in the issued certificate, and the chain leading to a SHA-1 root certificate was missing an <a href=\"https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/966/108/intermediate-1-sha-2-comodo-rsa-certification-authority\" rel=\"nofollow\">intermediate certificate</a>. Modern browsers know how to handle this, but Java 7 doesn't handle it by default (although there are some convoluted ways to accomplish this in code). The result is error messages that look identical to the case of self-signed certificates:</p>\n\n<pre><code>Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)\n    ... 22 more\n</code></pre>\n\n<p>In this case, the \"unable to find valid certification path to requested target\" message is being produced due to the missing intermediate certificate. You can check which certificate is missing using <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow\">SSL Labs</a> test against the server. Once you find the appropriate certificate, download it and (if the server is under your control) add it to the certificate bundle. Alternatively, you can import the missing certificate locally. Accommodating this issue on the server is a more general solution to the problem.</p>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/30807039#30807039", "question_id": 6908948, "answer_id": 30807039}, {"body": "<p>@Gabe Martin-Dempesy's answer is helped to me. And I wrote a small script related to it. The usage is very simple.</p>\n\n<p>Install a certificate from host: </p>\n\n<pre><code>&gt; sudo ./java-cert-importer.sh example.com\n</code></pre>\n\n<p>Remove the certificate that installed already.</p>\n\n<pre><code>&gt; sudo ./java-cert-importer.sh example.com --delete\n</code></pre>\n\n<p><strong>java-cert-importer.sh</strong></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\n\n# Exit on error\nset -e\n\n# Ensure script is running as root\nif [ \"$EUID\" -ne 0 ]\n  then echo \"WARN: Please run as root (sudo)\"\n  exit 1\nfi\n\n# Check required commands\ncommand -v openssl &gt;/dev/null 2&gt;&amp;1 || { echo \"Required command 'openssl' not installed. Aborting.\" &gt;&amp;2; exit 1; }\ncommand -v keytool &gt;/dev/null 2&gt;&amp;1 || { echo \"Required command 'keytool' not installed. Aborting.\" &gt;&amp;2; exit 1; }\n\n# Get command line args\nhost=$1; port=${2:-443}; deleteCmd=${3:-${2}}\n\n# Check host argument\nif [ ! ${host} ]; then\ncat &lt;&lt; EOF\nPlease enter required parameter(s)\n\nusage:  ./java-cert-importer.sh &lt;host&gt; [ &lt;port&gt; | default=443 ] [ -d | --delete ]\n\nEOF\nexit 1\nfi;\n\nif [ \"$JAVA_HOME\" ]; then\n    javahome=${JAVA_HOME}\nelif [[ \"$OSTYPE\" == \"linux-gnu\" ]]; then # Linux\n    javahome=$(readlink -f $(which java) | sed \"s:bin/java::\")\nelif [[ \"$OSTYPE\" == \"darwin\"* ]]; then # Mac OS X\n    javahome=\"$(/usr/libexec/java_home)/jre\"\nfi\n\nif [ ! \"$javahome\" ]; then\n    echo \"WARN: Java home cannot be found.\"\n    exit 1\nelif [ ! -d \"$javahome\" ]; then\n    echo \"WARN: Detected Java home does not exists: $javahome\"\n    exit 1\nfi\n\necho \"Detected Java Home: $javahome\"\n\n# Set cacerts file path\ncacertspath=${javahome}/lib/security/cacerts\ncacertsbackup=\"${cacertspath}.$$.backup\"\n\nif ( [ \"$deleteCmd\" == \"-d\" ] || [ \"$deleteCmd\" == \"--delete\" ] ); then\n    sudo keytool -delete -alias ${host} -keystore ${cacertspath} -storepass changeit\n    echo \"Certificate is deleted for ${host}\"\n    exit 0\nfi\n\n# Get host info from user\n#read -p \"Enter server host (E.g. example.com) : \" host\n#read -p \"Enter server port (Default 443) : \" port\n\n# create temp file\ntmpfile=\"/tmp/${host}.$$.crt\"\n\n# Create java cacerts backup file\ncp ${cacertspath} ${cacertsbackup}\n\necho \"Java CaCerts Backup: ${cacertsbackup}\"\n\n# Get certificate from speficied host\nopenssl x509 -in &lt;(openssl s_client -connect ${host}:${port} -prexit 2&gt;/dev/null) -out ${tmpfile}\n\n# Import certificate into java cacerts file\nsudo keytool -importcert -file ${tmpfile} -alias ${host} -keystore ${cacertspath} -storepass changeit\n\n# Remove temp certificate file\nrm ${tmpfile}\n\n# Check certificate alias name (same with host) that imported successfully\nresult=$(keytool -list -v -keystore ${cacertspath} -storepass changeit | grep \"Alias name: ${host}\")\n\n# Show results to user\nif [ \"$result\" ]; then\n    echo \"Success: Certificate is imported to java cacerts for ${host}\";\nelse\n    echo \"Error: Something went wrong\";\nfi;\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/31133183#31133183", "question_id": 6908948, "answer_id": 31133183}, {"body": "<p>I had the same problem with the certificates error and was because of SNI, and http client that I used didn't had SNI implemented. So an version update did the job</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/33340004#33340004", "question_id": 6908948, "answer_id": 33340004}, {"body": "<p>You have two options, import the self-signed cert into java's keystore for each jvm the software will run on or try the non-validating ssl factory:</p>\n\n<pre><code>jdbc:postgresql://myserver.com:5432/mydatabasename?ssl=true&amp;sslfactory=org.postgresql.ssl.NonValidatingFactory\n</code></pre>\n", "title": "Java: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "tags": ["java", "ssl", "https", "ssl-certificate"], "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find/36759261#36759261", "question_id": 6908948, "answer_id": 36759261}], "creation_date": 1312272270, "score": 104, "link": "http://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find", "question_id": 6908948}, {"body": "<p>I wonder what the difference is between <code>Class.getResource()</code> and <code>ClassLoader.getResource()</code>?</p>\n\n<p><em>edit: I especially want to know if any caching is involved on file/directory level. As in \"are directory listings cached in the Class version?\"</em></p>\n\n<p>AFAIK the following should essentially do the same, but they are not:</p>\n\n<pre><code>getClass().getResource() \ngetClass().getClassLoader().getResource()\n</code></pre>\n\n<p>I discovered this when fiddling with some report generation code that creates a new file in <code>WEB-INF/classes/</code> from an existing file in that directory. When using the method from Class, I could find files that were there at deployment using <code>getClass().getResource()</code>, but when trying to fetch the newly created file, I recieved a null object. Browsing the directory clearly shows that the new file is there. The filenames were prepended with a forward slash as in \"/myFile.txt\".</p>\n\n<p>The <code>ClassLoader</code> version of <code>getResource()</code> on the other hand did find the generated file. From this experience it seems that there is some kind of caching of the directory listing going on. Am I right, and if so, where is this documented?</p>\n\n<p>From the <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\">API docs</a> on <code>Class.getResource()</code></p>\n\n<blockquote>\n  <p>Finds a resource\n  with a given name. The rules for\n  searching resources associated with a\n  given class are implemented by the\n  defining class loader of the class.\n  This method delegates to this object's\n  class loader. If this object was\n  loaded by the bootstrap class loader,\n  the method delegates to\n  ClassLoader.getSystemResource(java.lang.String).</p>\n</blockquote>\n\n<p>To me, this reads \"Class.getResource is really calling its own classloader's getResource()\". Which would be the same as doing <code>getClass().getClassLoader().getResource()</code>. But it is obviously not. Could someone please provide me with some illumination into this matter?</p>\n", "tags": ["java", "classloader", "getresource"], "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "answers": [{"body": "<p>The first call searches relative to the <code>.class</code> file while the latter searches relative to the classpath root.</p>\n\n<p>To debug issues like that, I print the URL:</p>\n\n<pre><code>System.out.println( getClass().getResource(getClass().getSimpleName() + \".class\") );\n</code></pre>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/6608824#6608824", "question_id": 6608795, "answer_id": 6608824}, {"body": "<p>Had to look it up in the specs:</p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)\">Class.getResource(String resource)</a></p></li>\n<li><p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\">ClassLoader.getResource(String resource)</a></p></li>\n</ul>\n\n<p>Class's getResource() - documentation states the difference:</p>\n\n<blockquote>\n  <p>This method delegates the call to its class loader, after making these changes to the resource name: if the resource name starts with \"/\", it is unchanged; otherwise, the package name is prepended to the resource name after converting \".\" to \"/\". If this object was loaded by the bootstrap loader, the call is delegated to ClassLoader.getSystemResource. </p>\n</blockquote>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/6608845#6608845", "question_id": 6608795, "answer_id": 6608845}, {"body": "<p><code>Class.getResource</code> can take a \"relative\" resource name, which is treated relative to the class's package. Alternatively you can specify an \"absolute\" resource name by using a leading slash. Classloader resource paths are always deemed to be absolute.</p>\n\n<p>So they are basically equivalent:</p>\n\n<pre><code>foo.bar.Baz.class.getResource(\"xyz.txt\");\nfoo.bar.Baz.class.getClassLoader().getResource(\"foo/bar/xyz.txt\");\n</code></pre>\n\n<p>And so are these (but they're different to the above :)</p>\n\n<pre><code>foo.bar.Baz.class.getResource(\"/data/xyz.txt\");\nfoo.bar.Baz.class.getClassLoader().getResource(\"data/xyz.txt\");\n</code></pre>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/6608848#6608848", "question_id": 6608795, "answer_id": 6608848}, {"body": "<p>To answer the question whether there is any caching going on.</p>\n\n<p>I investigated this point further by running a stand-alone Java application that continuously loaded a file from disk using the getResourceAsStream ClassLoader method. I was able to edit the file, and the changes were reflected immediately, i.e., the file was reloaded from disk without caching.</p>\n\n<p><strong>However:</strong> \nI'm working on a project with several maven modules and web projects that have dependencies on each other. I'm using IntelliJ as my IDE to compile and run the web projects.</p>\n\n<p>I noticed that the above seemed to no longer hold true, the reason being that the file that I was being loaded is now baked into a jar and deployed to the depending web project. I only noticed this after trying to change the file in my target folder, to no avail. This made it seem as though there was caching going on.</p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/10597177#10597177", "question_id": 6608795, "answer_id": 10597177}, {"body": "<p>All these answers around here, as well as the answers in <a href=\"http://stackoverflow.com/questions/676250\">this question</a>, suggest that loading absolute URLs, like \"/foo/bar.properties\" treated the same by <code>class.getResourceAsStream(String)</code> and <code>class.getClassLoader().getResourceAsStream(String)</code>. This is NOT the case, at least not in my Tomcat configuration/version (currently 7.0.40).</p>\n\n<pre><code>MyClass.class.getResourceAsStream(\"/foo/bar.properties\"); // works!  \nMyClass.class.getClassLoader().getResourceAsStream(\"/foo/bar.properties\"); // does NOT work!\n</code></pre>\n\n<p>Sorry, I have absolutely no satisfying explanation, but I guess that tomcat does dirty tricks and his black magic with the classloaders and cause the difference. I always used <code>class.getResourceAsStream(String)</code> in the past and haven't had any problems.</p>\n\n<p>PS: I also posted this over <a href=\"http://stackoverflow.com/questions/676250/different-ways-of-loading-a-file-as-an-inputstream/20069749#20069749\">here</a></p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/20069798#20069798", "question_id": 6608795, "answer_id": 20069798}, {"body": "<p>I tried reading from input1.txt which was inside one of my packages <em>together with the class which was trying to read it.</em></p>\n\n<p>The following works:</p>\n\n<pre><code>String fileName = FileTransferClient.class.getResource(\"input1.txt\").getPath();\n\nSystem.out.println(fileName);\n\nBufferedReader bufferedTextIn = new BufferedReader(new FileReader(fileName));\n</code></pre>\n\n<p>The most important part was to call <code>getPath()</code> if you want the correct path name in String format. <strong>DO NOT USE <code>toString()</code></strong> because it will add some extra formatting text which will TOTALLY MESS UP the fileName (you can try it and see the print out).</p>\n\n<p>Spent 2 hours debugging this... :(</p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/22327270#22327270", "question_id": 6608795, "answer_id": 22327270}, {"body": "<p>Class.getResources would retrieve the resource by the classloader which load the object. While ClassLoader.getResource would retrieve the resource using the classloader specified.</p>\n", "title": "What is the difference between Class.getResource() and ClassLoader.getResource()?", "tags": ["java", "classloader", "getresource"], "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource/25304330#25304330", "question_id": 6608795, "answer_id": 25304330}], "creation_date": 1310032773, "score": 103, "link": "http://stackoverflow.com/questions/6608795/what-is-the-difference-between-class-getresource-and-classloader-getresource", "question_id": 6608795}, {"body": "<p>Right now, I have a program containing a piece of code that looks like this:</p>\n\n<pre><code>while (arrayList.iterator().hasNext()) {\n     //value is equal to a String value\n     if( arrayList.iterator().next().equals(value)) {\n          // do something \n     }\n}\n</code></pre>\n\n<p>Am I doing that right, as far as iterating through the ArrayList goes?</p>\n\n<p>The error I am getting is:</p>\n\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: -1\n    at java.util.ArrayList.get(Unknown Source)\n    at main1.endElement(main1.java:244)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n    at javax.xml.parsers.SAXParser.parse(Unknown Source)\n    at javax.xml.parsers.SAXParser.parse(Unknown Source)\n    at main1.traverse(main1.java:73)\n    at main1.traverse(main1.java:102)\n    at main1.traverse(main1.java:102)\n    at main1.main(main1.java:404)\n</code></pre>\n\n<p>I would show the rest of the code, but it's pretty extensive, and if I am not doing the iteration correctly, I would assume the only possibility is that I am not initializing the <code>ArrayList</code> properly.</p>\n", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "answers": [{"body": "<blockquote>\n  <p>Am I doing that right, as far as iterating through the Arraylist goes?</p>\n</blockquote>\n\n<p>No: by calling <code>iterator</code> twice in each iteration, you're getting new iterators all the time.</p>\n\n<p>The easiest way to write this loop is using the <a href=\"http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html\">for-each</a> construct:</p>\n\n<pre><code>for (String s : arrayList)\n    if (s.equals(value))\n        // ...\n</code></pre>\n\n<p>As for</p>\n\n<blockquote>\n  <p><code>java.lang.ArrayIndexOutOfBoundsException: -1</code></p>\n</blockquote>\n\n<p>You just tried to get element number <code>-1</code> from an array. Counting starts at zero.</p>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/6700737#6700737", "question_id": 6700717, "answer_id": 6700737}, {"body": "<pre><code>List&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\nfor (String s : arrayList) {\n    if(s.equals(value)){\n        //do something\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for (int i = 0; i &lt; arrayList.size(); i++) {\n    if(arrayList.get(i).equals(value)){\n        //do something\n    }\n}\n</code></pre>\n\n<p>But be carefull <strong>ArrayList can hold null values</strong>. So comparation should be</p>\n\n<pre><code>value.equals(arrayList.get(i))\n</code></pre>\n\n<p>when you are sure that value is not null or you should check if given element is null.</p>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/6700768#6700768", "question_id": 6700717, "answer_id": 6700768}, {"body": "<p>Apart of larsmans answer (who is indeed correct), the exception in a call to a get() method, so the code you have posted is not the one that is causing the error.</p>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/6700776#6700776", "question_id": 6700717, "answer_id": 6700776}, {"body": "<p>You could also do a for loop as you would for an array but instead of array[i] you would use list.get(i)</p>\n\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n    System.out.println(list.get(i));\n}\n</code></pre>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/6700785#6700785", "question_id": 6700717, "answer_id": 6700785}, {"body": "<p>While I agree that the accepted answer is usually the best solution and definitely easier to use, I noticed no one displayed the proper usage of the iterator. So here is a quick example:</p>\n\n<pre><code>Iterator&lt;Object&gt; it = arrayList.iterator();\nwhile(it.hasNext())\n{\n    Object obj = it.next();\n    //Do something with obj\n}\n</code></pre>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/12500712#12500712", "question_id": 6700717, "answer_id": 12500712}, {"body": "<p>You can also use like this:</p>\n\n<pre><code>for(Iterator iterator = arrayList.iterator(); iterator.hasNext();) {\nx = iterator.next();\n//do some stuff\n}\n</code></pre>\n\n<p>Its a good practice to cast and use the object.\nFor example, if the 'arrayList' contains a list of 'Object1' objects. Then, we can re-write the code as:</p>\n\n<pre><code>for(Iterator iterator = arrayList.iterator(); iterator.hasNext();) {\nx = (Object1) iterator.next();\n//do some stuff\n}\n</code></pre>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/16018551#16018551", "question_id": 6700717, "answer_id": 16018551}, {"body": "<p>Efficient way to iterate your <code>ArrayList</code> followed by this <a href=\"http://howtodoinjava.com/2013/03/26/performance-comparison-of-different-for-loops-in-java/#comment-4427\" rel=\"nofollow\">link</a>. This type will improve the performance of looping during iteration</p>\n\n<pre><code>int size = list.size();\n\nfor(int j = 0; j &lt; size; j++) {\n    System.out.println(list.get(i));\n}\n</code></pre>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/20997305#20997305", "question_id": 6700717, "answer_id": 20997305}, {"body": "<p>iterating using iterator is not fail-safe for example if you add element to the collection after iterator's creation then it will throw concurrentmodificaionexception. Also it's not thread safe, you have to make it thread safe externally.</p>\n\n<p>So it's better to use for-each structure of for loop. It's atleast fail-safe.</p>\n", "title": "ArrayIndexOutOfBoundsException when using the ArrayList&#39;s iterator", "tags": ["java", "arraylist", "iterator", "indexoutofboundsexception"], "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator/25339743#25339743", "question_id": 6700717, "answer_id": 25339743}], "creation_date": 1310682572, "score": 102, "link": "http://stackoverflow.com/questions/6700717/arrayindexoutofboundsexception-when-using-the-arraylists-iterator", "question_id": 6700717}, {"body": "<p>I want to convert an Integer 35634646 to have the thousand \",\" so it should be 35,634,646.</p>\n\n<p>What would be the quickest way to doing that? </p>\n", "tags": ["java", "string", "integer"], "title": "Converting Integer to String with comma for thousands", "answers": [{"body": "<pre><code>int bigNumber = 1234567;\nString formattedNumber = String.format(\"%,d\", bigNumber);\n</code></pre>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/7070252#7070252", "question_id": 7070209, "answer_id": 7070252}, {"body": "<pre><code> int value = 35634646;\n DecimalFormat myFormatter = new DecimalFormat(\"#,###\");\n String output = myFormatter.format(value);\n System.out.println(output);\n</code></pre>\n\n<blockquote>\n  <p><a href=\"http://ideone.com/2o4cU\">OUTPUT</a>:       35,634,646</p>\n</blockquote>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/7070294#7070294", "question_id": 7070209, "answer_id": 7070294}, {"body": "<pre><code>System.out.println(NumberFormat.getNumberInstance(Locale.US).format(35634646));\n</code></pre>\n\n\n\n<pre><code>Output: 35,634,646\n</code></pre>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/7070301#7070301", "question_id": 7070209, "answer_id": 7070301}, {"body": "<p>The other answers are correct, however double-check your locale before using <code>\"%,d\"</code>:</p>\n\n<pre><code>Locale.setDefault(Locale.US);\nint bigNumber = 35634646;\nString formattedNumber = String.format(\"%,d\", bigNumber);\nSystem.out.println(formattedNumber);\n\nLocale.setDefault(new Locale(\"pl\", \"PL\"));\nformattedNumber = String.format(\"%,d\", bigNumber);\nSystem.out.println(formattedNumber);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>35,634,646\n35\u00a0634\u00a0646\n</code></pre>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/7070344#7070344", "question_id": 7070209, "answer_id": 7070344}, {"body": "<p>You ask for quickest, but perhaps you mean \"best\" or \"correct\" or \"typical\"?</p>\n\n<p>You also ask for commas to indicate thousands, but perhaps you mean \"in normal human readable form according to the local custom of your user\"?</p>\n\n<p>You do it as so:</p>\n\n<pre><code>    int i = 35634646;\n    String s = NumberFormat.getIntegerInstance().format(i);\n</code></pre>\n\n<p>Americans will get \"35,634,646\"</p>\n\n<p>Germans will get \"35.634.64\"</p>\n\n<p>Swiss Germans will get \"35'634'646\"</p>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/7070368#7070368", "question_id": 7070209, "answer_id": 7070368}, {"body": "<p>First you need to include the JSTL tags :-</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %&gt; \n</code></pre>\n\n<p>at the start of the page </p>\n\n<p></p>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/27061581#27061581", "question_id": 7070209, "answer_id": 27061581}, {"body": "<p>This solution worked for me:</p>\n\n<p>NumberFormat.getNumberInstance(Locale.US).format(Integer.valueOf(\"String Your Number\"));</p>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/32826351#32826351", "question_id": 7070209, "answer_id": 32826351}, {"body": "<pre><code>double value = 21403.3144d;\nString.format(\"%,.2f\", value);\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>21,403.31\n</code></pre>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/32852413#32852413", "question_id": 7070209, "answer_id": 32852413}, {"body": "<p>can't you use a </p>\n\n<pre><code>System.out.printf(\"%n%,d\",int name);\n</code></pre>\n\n<p>The comma in the <code>printf</code> should add the commas into the <code>%d</code> inter.</p>\n\n<p>Not positive about it, but works for me.</p>\n", "title": "Converting Integer to String with comma for thousands", "tags": ["java", "string", "integer"], "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands/33136778#33136778", "question_id": 7070209, "answer_id": 33136778}], "creation_date": 1313439037, "score": 102, "link": "http://stackoverflow.com/questions/7070209/converting-integer-to-string-with-comma-for-thousands", "question_id": 7070209}, {"body": "<p>Ideas?</p>\n\n<p>Any 3rd-party implementations?</p>\n\n<p>Note: the subject in hand is \"concurrent List\", where you can access elements by position(index).</p>\n", "tags": ["java", "list", "concurrency"], "title": "Is there a concurrent List in Java&#39;s JDK?", "answers": [{"body": "<p>Because the act of acquiring the position and getting the element from the given position naturally requires some locking (you can't have the list have structural changes between those two operations).</p>\n\n<p>The very idea of a concurrent collection is that each operation on its own is atomic and can be done without explicit locking/synchronization.</p>\n\n<p>Therefore getting the element at position <code>n</code> from a given <code>List</code> as an atomic operation doesn't make too much sense in a situation where concurrent access is anticipated.</p>\n", "title": "Is there a concurrent List in Java&#39;s JDK?", "tags": ["java", "list", "concurrency"], "link": "http://stackoverflow.com/questions/6916385/is-there-a-concurrent-list-in-javas-jdk/6916414#6916414", "question_id": 6916385, "answer_id": 6916414}, {"body": "<p>There is a concurrent list implementation in <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/package-summary.html\">java.util.concurrent</a>. <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\">CopyOnWriteArrayList</a> in particular.</p>\n", "title": "Is there a concurrent List in Java&#39;s JDK?", "tags": ["java", "list", "concurrency"], "link": "http://stackoverflow.com/questions/6916385/is-there-a-concurrent-list-in-javas-jdk/6916419#6916419", "question_id": 6916385, "answer_id": 6916419}, {"body": "<p>You can very well use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedList-java.util.List-\" rel=\"nofollow\">Collections.synchronizedList(List)</a> if all you need is simple invocation synchronization:</p>\n\n<pre><code> List&lt;Object&gt; objList = Collections.synchronizedList(new ArrayList&lt;Object&gt;());\n</code></pre>\n", "title": "Is there a concurrent List in Java&#39;s JDK?", "tags": ["java", "list", "concurrency"], "link": "http://stackoverflow.com/questions/6916385/is-there-a-concurrent-list-in-javas-jdk/6916461#6916461", "question_id": 6916385, "answer_id": 6916461}, {"body": "<p>If you don't care about having index-based access and just want the insertion-order-preserving characteristics of a List, you could consider a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\">java.util.concurrent.ConcurrentLinkedQueue</a>. Since it implements Iterable, once you've finished adding all the items, you can loop over the contents using the simplified for-each syntax:</p>\n\n<pre><code>Queue&lt;String&gt; globalQueue = new ConcurrentLinkedQueue&lt;String&gt;();\n\n//Multiple threads can safely call globalQueue.add()...\n\nfor (String href : globalQueue) {\n    //do something with href\n}\n</code></pre>\n", "title": "Is there a concurrent List in Java&#39;s JDK?", "tags": ["java", "list", "concurrency"], "link": "http://stackoverflow.com/questions/6916385/is-there-a-concurrent-list-in-javas-jdk/25630263#25630263", "question_id": 6916385, "answer_id": 25630263}], "creation_date": 1312307688, "score": 102, "link": "http://stackoverflow.com/questions/6916385/is-there-a-concurrent-list-in-javas-jdk", "question_id": 6916385}, {"body": "<p>I read many articles to understand java servlet but I did not succeed.</p>\n\n<p>Can you please give brief introduction of java servlets (in easy language). \nLike what is servlet? What are the advantges? And all that. </p>\n\n<p>I can't understand the difference between server-side programming languages (PHP, ASP) and servlets.</p>\n", "tags": ["java", "java-ee", "servlets"], "title": "What is Java Servlet?", "answers": [{"body": "<p>A servlet is simply a class which responds to a particular type of network request - most commonly an HTTP request. Basically servlets are usually used to implement web applications - but there are also various frameworks which operate on top of servlets (e.g. Struts) to give a higher-level abstraction than the \"here's an HTTP request, write to this HTTP response\" level which servlets provide.</p>\n\n<p>Servlets run in a <em>servlet container</em> which handles the networking side (e.g. parsing an HTTP request, connection handling etc). One of the best-known open source servlet containers is <a href=\"http://tomcat.apache.org/\">Tomcat</a>.</p>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/7213582#7213582", "question_id": 7213541, "answer_id": 7213582}, {"body": "<p>A servlet at it's very core is a java class; which can handle HTTP requests.\nTypically the internal nitty-gritty of reading a HTTP request and response over the wire is taken care of by the containers like Tomcat. This is done so that as a server side developer you can focus on what to do with the HTTP request and responses and not bother about dealing with code that deals with networking etc. The container will take care of things like wrapping the whole thing in a HTTP response object and send it over to the client (say a browser).</p>\n\n<p>Now the next logical question to ask is who decides what is a container supposed to do? And the answer is; In Java world at least It is guided (note I did not use the word controlled) by specifications. For example Servlet specifications (See resource 2) dictates what a servlet must be able to do. So if you can write an implementation for the specification, congratulations you just created a container (Technically containers like Tomcat also implement other specifications and do tricky stuff like custom class loaders etc but you get the idea).</p>\n\n<p>Assuming you have a container, your servlets are now java classes whose lifecycle will be maintained by the container but their reaction to incoming HTTP requests will be decided by you. You do that by writing what-you-want-to-do in the pre-defined methods like init(), doGet(), doPost() etc. Look at Resource 3.</p>\n\n<p>Here is a fun exercise for you. Create a simple servlet like in Resource 3 and write a few System.out.println() statements in it's constructor method (Yes you can have a constructor of a servlet), init(), doGet(), doPost() methods and run the servlet in tomcat. See the console logs and tomcat logs.</p>\n\n<p>Hope this helps, happy learning.</p>\n\n<p><strong>Resources</strong></p>\n\n<ol>\n<li><p>Look how the HTTP servlet looks like here (Tomcat example): <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-servlet-api/7.0.0/javax/servlet/http/HttpServlet.java#HttpServlet\">http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-servlet-api/7.0.0/javax/servlet/http/HttpServlet.java#HttpServlet</a></p></li>\n<li><p>Servlet Specification [<a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-oth-JSpec/]\">http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-oth-JSpec/]</a></p></li>\n<li><p>Simple Servlet example <a href=\"http://www.tutorialspoint.com/servlets/servlets-first-example.htm\">http://www.tutorialspoint.com/servlets/servlets-first-example.htm</a></p></li>\n<li><p>Start reading the book online/PDF [<a href=\"http://pdf.coreservlets.com/Servlet-Basics.pdf]\">http://pdf.coreservlets.com/Servlet-Basics.pdf]</a>\nIt also provides you download of the whole book. May be this will help.\nif you are just starting servlets may be it's a good idea to read the material along with the servlet API. it's a slower process of learning, but is way more helpful in getting the basics clear.</p></li>\n</ol>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/7226610#7226610", "question_id": 7213541, "answer_id": 7226610}, {"body": "<p>Servlet is a java class....., when we extend thread class to a java class we call tha class is a thread.Then we can use every features of thread class.Like that we extend HttpServlet to a java class we call that a servlet.Special thing is we use servlet when developing web applycations....</p>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/17776842#17776842", "question_id": 7213541, "answer_id": 17776842}, {"body": "<p>I think servlet is basically a java class which acts as a middle way between HTTP request and HTTP response.Servlet is also used to make your web page dynamic. Suppose for example if you want to redirect to another web page on server then you have to use servlets. Another important thing is that servlet can run on localhost as well as a web browser.</p>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/23047573#23047573", "question_id": 7213541, "answer_id": 23047573}, {"body": "<p>Servlet is a java class to respond a HTTP request and produce a HTTP response...... when we make a page with the use of HTML then it would be a static page so to make it dynamic we use SERVLET {in simple words one can understand}\nTo make use of servlet is overcomed by JSP it uses the code and HTML tag both in itself..</p>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/29047547#29047547", "question_id": 7213541, "answer_id": 29047547}, {"body": "<p>In addition to the above, and just to point out the bleedin' obvious...</p>\n\n<p>To many this is hyper obvious, but to someone used to writing apps which are just run and then end: a servlet spends most of its time hanging around doing nothing... waiting to be sent something, a request, and then responding to it.  For this reason a servlet has a lifetime: it is initalised and then waits around, responding to anything thrown at it, and is then destroyed.  Which implies that it has to be created (and later destroyed) by something else (a framework), that it runs in its own thread or process, and that it does nothing unless asked to.  </p>\n\n<p>I suggest that reading about threads, processes and sockets will throw some light on this: it's quite different to the way a basic \"hello world\" app functions.</p>\n\n<p>Could be argued that the term \"server\" or \"servlet\" is a bit of an overkill. A more rational and simpler name might be \"responder\".</p>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/30682408#30682408", "question_id": 7213541, "answer_id": 30682408}, {"body": "<p>If you are beginner, I think this tutorial may give basic idea about <strong><a href=\"http://www.javatpoint.com/servlet-tutorial\" rel=\"nofollow\">What Servlet is ...</a></strong> </p>\n\n<p><em>Some valuable points are below from the given link.</em></p>\n\n<p>Servlet technology is used to create web application which resides at server side and generates dynamic web page.</p>\n\n<p><strong>Servlet can be described in many ways, depending on the context.</strong></p>\n\n<ul>\n<li>Servlet is a technology i.e. used to create web application.</li>\n<li>Servlet is an API that provides many interfaces and classes including\ndocumentations.</li>\n<li>Servlet is an interface that must be implemented for creating any\nservlet.</li>\n<li>Servlet is a class that extend the capabilities of the servers and\nrespond to the incoming request. It can respond to any type of\nrequests.</li>\n<li>Servlet is a web component that is deployed on the server to create\ndynamic web page.</li>\n</ul>\n\n<p><a href=\"http://www.javatpoint.com/servlet-tutorial\" rel=\"nofollow\">http://www.javatpoint.com/servlet-tutorial</a> </p>\n", "title": "What is Java Servlet?", "tags": ["java", "java-ee", "servlets"], "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet/34012384#34012384", "question_id": 7213541, "answer_id": 34012384}], "creation_date": 1314435875, "score": 102, "link": "http://stackoverflow.com/questions/7213541/what-is-java-servlet", "question_id": 7213541}, {"body": "<p>I'm trying to have a custom date format in Gson output, but <code>.setDateFormat(DateFormat.FULL)</code> doesn't seem to work and it the same with <code>.registerTypeAdapter(Date.class, new DateSerializer())</code>.</p>\n\n<p>It's like Gson doesn't care about the object \"Date\" and print it in its way.</p>\n\n<p>How can I change that?</p>\n\n<p>Thanks</p>\n\n<p>EDIT: </p>\n\n<pre><code>@Entity\npublic class AdviceSheet {\n  public Date lastModif;\n[...]\n}\n\npublic void method {\n   Gson gson = new GsonBuilder().setDateFormat(DateFormat.LONG).create();\n   System.out.println(gson.toJson(adviceSheet);\n}\n</code></pre>\n\n<p>I always use <code>java.util.Date</code>; <code>setDateFormat()</code> doesn't work :(</p>\n", "tags": ["java", "gson"], "title": "GSON - Date format", "answers": [{"body": "<p>It seems that you need to define formats for both date and time part or use String-based formatting. For example:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n   .setDateFormat(\"EEE, dd MMM yyyy HH:mm:ss zzz\").create();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n   .setDateFormat(DateFormat.FULL, DateFormat.FULL).create();\n</code></pre>\n\n<p>That should do it.</p>\n\n<p><strong>EDIT: With serializers</strong></p>\n\n<p>I believe that formatters cannot produce timestamps, but this serializer/deserializer-pair seems to work</p>\n\n<pre><code>JsonSerializer&lt;Date&gt; ser = new JsonSerializer&lt;Date&gt;() {\n  @Override\n  public JsonElement serialize(Date src, Type typeOfSrc, JsonSerializationContext \n             context) {\n    return src == null ? null : new JsonPrimitive(src.getTime());\n  }\n};\n\nJsonDeserializer&lt;Date&gt; deser = new JsonDeserializer&lt;Date&gt;() {\n  @Override\n  public Date deserialize(JsonElement json, Type typeOfT,\n       JsonDeserializationContext context) throws JsonParseException {\n    return json == null ? null : new Date(json.getAsLong());\n  }\n};\n\nGson gson = new GsonBuilder()\n   .registerTypeAdapter(Date.class, ser)\n   .registerTypeAdapter(Date.class, deser).create();\n</code></pre>\n", "title": "GSON - Date format", "tags": ["java", "gson"], "link": "http://stackoverflow.com/questions/6873020/gson-date-format/6875295#6875295", "question_id": 6873020, "answer_id": 6875295}, {"body": "<p>This won't really work at all. There is no date type in JSON. I would recommend to serialize to ISO8601 back and forth (for format agnostics and JS compat). Consider that you have to know which fields contain dates.</p>\n", "title": "GSON - Date format", "tags": ["java", "gson"], "link": "http://stackoverflow.com/questions/6873020/gson-date-format/6875646#6875646", "question_id": 6873020, "answer_id": 6875646}, {"body": "<p>As M.L. pointed out, JsonSerializer works here. However, if you are formatting database entities, use java.sql.Date to register you serializer. Deserializer is not needed.</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n   .registerTypeAdapter(java.sql.Date.class, ser).create();\n</code></pre>\n\n<p>This bug report might be related: <a href=\"http://code.google.com/p/google-gson/issues/detail?id=230\" rel=\"nofollow\">http://code.google.com/p/google-gson/issues/detail?id=230</a>. I use version 1.7.2 though.</p>\n", "title": "GSON - Date format", "tags": ["java", "gson"], "link": "http://stackoverflow.com/questions/6873020/gson-date-format/13508809#13508809", "question_id": 6873020, "answer_id": 13508809}, {"body": "<pre><code>Gson gson = new GsonBuilder().setDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\").create();\n</code></pre>\n\n<p>Above format seems better to me as it has precision up to millis.</p>\n\n<p>Edited the format to quote 'Z'</p>\n", "title": "GSON - Date format", "tags": ["java", "gson"], "link": "http://stackoverflow.com/questions/6873020/gson-date-format/26631632#26631632", "question_id": 6873020, "answer_id": 26631632}, {"body": "<p>You can specify you format <code>Gson gson = builder.setDateFormat(\"yyyy-MM-dd\").create();</code>    in this method instead of <code>yyyy-MM-dd</code> you can use anyother formats </p>\n\n<pre><code> GsonBuilder builder = new GsonBuilder();\n                        builder.registerTypeAdapter(Date.class, new JsonDeserializer&lt;Date&gt;() {\n                            public Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n                                return new Date(json.getAsJsonPrimitive().getAsLong());\n                            }\n                        });\n\n                        Gson gson = builder.setDateFormat(\"yyyy-MM-dd\").create();\n</code></pre>\n", "title": "GSON - Date format", "tags": ["java", "gson"], "link": "http://stackoverflow.com/questions/6873020/gson-date-format/32499935#32499935", "question_id": 6873020, "answer_id": 32499935}, {"body": "<p>In case if you hate Inner classes, by taking the advantage of functional interface you can write less code in <strong>Java 8</strong> with a lambda expression.</p>\n\n<pre><code>JsonDeserializer&lt;Date&gt; dateJsonDeserializer = \n     (json, typeOfT, context) -&gt; json == null ? null : new Date(json.getAsLong());\nGson gson = new GsonBuilder().registerTypeAdapter(Date.class,dateJsonDeserializer).create();\n</code></pre>\n", "title": "GSON - Date format", "tags": ["java", "gson"], "link": "http://stackoverflow.com/questions/6873020/gson-date-format/35612915#35612915", "question_id": 6873020, "answer_id": 35612915}], "creation_date": 1311942287, "score": 100, "link": "http://stackoverflow.com/questions/6873020/gson-date-format", "question_id": 6873020}, {"body": "<p>I have prepared a simple code snippet in order to separate the erroneous portion from my web application.</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        System.out.print(\"\\nEnter a string:-&gt;\");\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String temp = br.readLine();\n\n        String words[] = temp.split(\".\");\n\n        for (int i = 0; i &lt; words.length; i++) {\n            System.out.println(words[i] + \"\\n\");\n        }\n    }\n}\n</code></pre>\n\n<p>I have tested it while building a web application JSF. I just want to know why in the above code <code>temp.split(\".\")</code> does not work. The statement,</p>\n\n<pre><code>System.out.println(words[i]+\"\\n\"); \n</code></pre>\n\n<p>displays nothing on the console means that it doesn't go through the loop. When I change the argument of the <code>temp.split()</code> method to other characters, It works just fine as usual. What might be the problem?</p>\n", "tags": ["java", "string", "split"], "title": "The split() method in Java does not work on a dot (.)", "answers": [{"body": "<p>It works fine.  Did you read <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow\">the documentation</a>?  The string is converted to a regular expression.</p>\n\n<p><code>.</code> is the special character matching all input characters.</p>\n\n<p>As with any regular expression special character, you escape with a <code>\\</code>.  You need an additional <code>\\</code> for the Java string escape.</p>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935871#7935871", "question_id": 7935858, "answer_id": 7935871}, {"body": "<p>Try:</p>\n\n<pre><code>String words[]=temp.split(\"\\\\.\");\n</code></pre>\n\n<p>The method is:</p>\n\n<pre><code>String[] split(String regex) \n</code></pre>\n\n<p>\".\" is a reserved char in regex</p>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935872#7935872", "question_id": 7935858, "answer_id": 7935872}, {"body": "<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\"><code>java.lang.String.split</code></a> splits on regular expressions, and <code>.</code> in a regular expression means \"any character\".</p>\n\n<p>Try <code>temp.split(\"\\\\.\")</code>.</p>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935873#7935873", "question_id": 7935858, "answer_id": 7935873}, {"body": "<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow\">documentation on <code>split()</code></a> says:</p>\n\n<blockquote>\n  <p>Splits this string around matches of the given <strong><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow\">regular expression</a></strong>.</p>\n</blockquote>\n\n<p>(Emphasis mine.)</p>\n\n<p>A dot is a special character in regular expression syntax. Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-\" rel=\"nofollow\"><code>Pattern.quote()</code></a> on the parameter to split() if you want the split to be on a literal string pattern:</p>\n\n<pre><code>String[] words = temp.split(Pattern.quote(\".\"));\n</code></pre>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935881#7935881", "question_id": 7935858, "answer_id": 7935881}, {"body": "<p>The method takes a regular expression, not a string, and the dot has a special meaning in regular expressions. Escape it like so <code>split(\"\\\\.\")</code>. You need a double backslash, the second one escapes the first.</p>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/7935885#7935885", "question_id": 7935858, "answer_id": 7935885}, {"body": "<pre><code>    private String temp = \"mahesh.hiren.darshan\";\n\n    String s_temp[] = temp.split(\"[.]\");\n\n  Log.e(\"1\", \"\"+s_temp[0]);\n</code></pre>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/17162114#17162114", "question_id": 7935858, "answer_id": 17162114}, {"body": "<p><code>\\\\.</code> is the simple answer. Here is simple code for your help.</p>\n\n<pre><code>while (line != null) {\n    //             \n    String[] words = line.split(\"\\\\.\");\n    wr = \"\";\n    mean = \"\";\n    if (words.length &gt; 2) {\n        wr = words[0] + words[1];\n        mean = words[2];\n\n    } else {\n        wr = words[0];\n        mean = words[1];\n    }\n}\n</code></pre>\n", "title": "The split() method in Java does not work on a dot (.)", "tags": ["java", "string", "split"], "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot/21579117#21579117", "question_id": 7935858, "answer_id": 21579117}], "creation_date": 1319844160, "score": 99, "link": "http://stackoverflow.com/questions/7935858/the-split-method-in-java-does-not-work-on-a-dot", "question_id": 7935858}, {"body": "<p>I am wondering, what's the difference between <code>java</code>/<code>javaw</code>/<code>javaws</code>? I found under windows, most of Java is started using <code>javaw</code>.</p>\n", "tags": ["java", "java-web-start", "javaw"], "title": "Difference between java/javaw/javaws", "answers": [{"body": "<p><em>java.exe</em> is associated with the console, whereas <em>javaw.exe</em> doesn't have any such association. So, when <em>java.exe</em> is run, it automatically opens a command prompt window where output and error streams are shown.</p>\n", "title": "Difference between java/javaw/javaws", "tags": ["java", "java-web-start", "javaw"], "link": "http://stackoverflow.com/questions/8194713/difference-between-java-javaw-javaws/8194730#8194730", "question_id": 8194713, "answer_id": 8194730}, {"body": "<p>See docs for:</p>\n\n<p><ul>\n<li><a href=\"http://download.oracle.com/javase/8/docs/technotes/tools/windows/java.html\"><code>java</code> command<sup>1</sup>/<code>javaw</code> command<sup>2</sup></a> </p>\n\n<blockquote>\n  <p><ol>\n  <li>The <strong><code>java</code></strong> tool launches a Java application. It does this by starting a Java runtime environment, loading a specified class, and invoking that class's <code>main</code> method.</li>\n  <li>The <strong><code>javaw</code></strong> command is identical to <code>java</code>, except that with <code>javaw</code> there is no associated console window. Use <code>javaw</code> when you <strong><em>don't</strong> want a command prompt window to appear.</em> </li>\n  </ol></li>\n  <li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/javaws.html\"><code>javaws</code> command</a>, the <em>\"<a href=\"http://stackoverflow.com/tags/java-web-start/info\">Java Web Start</a> command\"</em></li>\n  </ul></p>\n</blockquote>\n", "title": "Difference between java/javaw/javaws", "tags": ["java", "java-web-start", "javaw"], "link": "http://stackoverflow.com/questions/8194713/difference-between-java-javaw-javaws/8194750#8194750", "question_id": 8194713, "answer_id": 8194750}, {"body": "<p>from <a href=\"http://publib.boulder.ibm.com/infocenter/javasdk/v6r0/index.jsp?topic=%2Fcom.ibm.java.doc.user.aix32.60%2Fuser%2Fjava.html\">http://publib.boulder.ibm.com/infocenter/javasdk/v6r0/index.jsp?topic=%2Fcom.ibm.java.doc.user.aix32.60%2Fuser%2Fjava.html</a>:</p>\n\n<blockquote>\n  <p>The javaw command is identical to java, except that javaw has no associated console window. Use javaw when you do not want a command prompt window to be displayed. The javaw launcher displays a window with error information if it fails.</p>\n</blockquote>\n\n<p>And javaws is for java web start applications, applets or something like that i would suspect</p>\n", "title": "Difference between java/javaw/javaws", "tags": ["java", "java-web-start", "javaw"], "link": "http://stackoverflow.com/questions/8194713/difference-between-java-javaw-javaws/8194777#8194777", "question_id": 8194713, "answer_id": 8194777}, {"body": "<p><strong>java:</strong> java application executor which is associated with a console to display output/errors</p>\n\n<p><strong>javaw:</strong> (java windowed) application executor not associated with console. So no display of output/errors. Can be used to silently push the output/errors to text files. Mostly used to launch GUI based application</p>\n\n<p><strong>javaws:</strong> (java web start) to download and run the distributed web applications. again No console is associated.</p>\n\n<p>All are part of JRE and use same JVM</p>\n", "title": "Difference between java/javaw/javaws", "tags": ["java", "java-web-start", "javaw"], "link": "http://stackoverflow.com/questions/8194713/difference-between-java-javaw-javaws/21542804#21542804", "question_id": 8194713, "answer_id": 21542804}], "creation_date": 1321713341, "score": 99, "link": "http://stackoverflow.com/questions/8194713/difference-between-java-javaw-javaws", "question_id": 8194713}, {"body": "<p>if you have a jar file called myJar.jar in /myfolder and you want to use myClass from it, how do you go about doing it from the command line?</p>\n\n<p>i thought it would be go into the directory and say java -cp myJar.jar.myClass but that isnt working. Any help would be appreciated</p>\n", "tags": ["java", "command-line", "jar"], "title": "Run class in Jar file", "answers": [{"body": "<p>You want:</p>\n\n<pre><code>java -cp myJar.jar myClass\n</code></pre>\n\n<p>The <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\">Documentation</a> gives the following example:</p>\n\n<pre><code>C:&gt; java -classpath C:\\java\\MyClasses\\myclasses.jar utility.myapp.Cool\n</code></pre>\n", "title": "Run class in Jar file", "tags": ["java", "command-line", "jar"], "link": "http://stackoverflow.com/questions/6780678/run-class-in-jar-file/6780733#6780733", "question_id": 6780678, "answer_id": 6780733}, {"body": "<p>Assuming you are in the directory where <code>myJar.jar</code> file is and that <code>myClass</code> has a <code>public static void main()</code> method on it:</p>\n\n<p>You use the following command line:</p>\n\n<pre><code>java -cp ./myJar.jar myClass\n</code></pre>\n\n<p>Where:</p>\n\n<ol>\n<li><p><code>myJar.jar</code> is in the <strong>current path</strong>, note that <code>.</code> isn't in the current path on most systems. A <strong>fully qualified path</strong> is preferred here as well.</p></li>\n<li><p><code>myClass</code> is a <strong>fully qualified package path</strong> to the class, the example assumes that <code>myClass</code> is in the <strong>default package</strong> which is bad practice, if it is in a nested package it would be <code>com.mycompany.mycode.myClass</code>.</p></li>\n</ol>\n", "title": "Run class in Jar file", "tags": ["java", "command-line", "jar"], "link": "http://stackoverflow.com/questions/6780678/run-class-in-jar-file/6780768#6780768", "question_id": 6780678, "answer_id": 6780768}, {"body": "<p>Use <code>java -cp myjar.jar com.mypackage.myClass</code>.</p>\n\n<ol>\n<li><p>If the class is not in a package then simply <code>java -cp myjar.jar myClass</code>. </p></li>\n<li><p>If you are not within the directory where <code>myJar.jar</code> is located, then you can do:</p>\n\n<ol>\n<li><p>On Unix or Linux platforms:</p>\n\n<p><code>java -cp /location_of_jar/myjar.jar com.mypackage.myClass</code></p></li>\n<li><p>On Windows:</p>\n\n<p><code>java -cp c:\\location_of_jar\\myjar.jar com.mypackage.myClass</code></p></li>\n</ol></li>\n</ol>\n", "title": "Run class in Jar file", "tags": ["java", "command-line", "jar"], "link": "http://stackoverflow.com/questions/6780678/run-class-in-jar-file/6780789#6780789", "question_id": 6780678, "answer_id": 6780789}, {"body": "<p>Their are two types of JAR file available in java</p>\n\n<ol>\n<li><p>Runnable/Executable jar file which contains manifest file.\nto run Runnable jar you can use <code>Java -jar fileName.jar</code> or <code>java -jar -classpath abc.jar fileName.jar</code></p></li>\n<li><p>Simple jar file these does not contains manifest file so you simple run your main class by giving its path <code>java -cp ./fileName.jar MainClass</code></p></li>\n</ol>\n", "title": "Run class in Jar file", "tags": ["java", "command-line", "jar"], "link": "http://stackoverflow.com/questions/6780678/run-class-in-jar-file/11754570#11754570", "question_id": 6780678, "answer_id": 11754570}], "creation_date": 1311272033, "score": 98, "link": "http://stackoverflow.com/questions/6780678/run-class-in-jar-file", "question_id": 6780678}, {"body": "<p>Is there a way to set the <code>textStyle</code> attribute of a <code>TextView</code> programmatically? There doesn't appear to be a <code>setTextStyle()</code> method.</p>\n\n<p>To be clear, I am not talking about View / Widget styles! I am talking about the following:</p>\n\n<pre><code>&lt;TextView\n  android:id=\"@+id/my_text\"\n  android:layout_width=\"fill_parent\"\n  android:layout_height=\"wrap_content\"\n  android:text=\"Hello World\"\n  android:textStyle=\"bold\" /&gt;\n</code></pre>\n", "tags": ["java", "android", "textview"], "title": "Android - set TextView TextStyle programmatically?", "answers": [{"body": "<pre><code>textview.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n\n<p>setTypeface is the Attribute textStyle.</p>\n\n<p>As Shankar V added, to preserve the previously set typeface attributes you can use:</p>\n\n<pre><code>textview.setTypeface(textview.getTypeface(), Typeface.DEFAULT_BOLD);\n</code></pre>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/7919203#7919203", "question_id": 7919173, "answer_id": 7919203}, {"body": "<p>Search for <code>setTextAppearance</code> or also <code>setTextTypeface</code>. There is similar question on stackoverflow: <a href=\"http://stackoverflow.com/questions/4630440/how-to-change-a-textviews-style-at-runtime\">How to change a TextView&#39;s style at runtime</a></p>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/7919216#7919216", "question_id": 7919173, "answer_id": 7919216}, {"body": "<p>Take a look at this.</p>\n\n<p>This feature is not currently supported.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3246447/how-to-set-the-style-attribute-programmatically-in-android/3246458#3246458\">how to set the Style Attribute Programmatically in Android?</a></p>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/7920555#7920555", "question_id": 7919173, "answer_id": 7920555}, {"body": "<p>Let's say you have a style called RedHUGEText on your values/styles.xml:</p>\n\n<pre><code>&lt;style name=\"RedHUGEText\" parent=\"@android:style/Widget.TextView\"&gt;\n    &lt;item name=\"android:textSize\"&gt;@dimen/text_size_huge&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/red&lt;/item&gt;\n    &lt;item name=\"android:textStyle\"&gt;bold&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Just create your TextView as usual in the XML layout/your_layout.xml file, let's say:</p>\n\n<pre><code>&lt;TextView android:id=\"@+id/text_view_title\" \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content \n    android:text=\"FOO\" /&gt;\n</code></pre>\n\n<p>And in the java code of your Activity you do this:</p>\n\n<pre><code>TextView textViewTitle = (TextView) findViewById(R.id.text_view_title);\ntextViewTitle.setTextAppearance(this, R.style.RedHUGEText);\n</code></pre>\n\n<p>It worked for me! And it applied color, size, gravity, etc. I've used it on handsets and tablets with Android API Levels from 8 to 17 with no problems.</p>\n\n<p>Remember... this is useful only if the style of the text really depends on a condition on your Java logic or you are building the UI \"on the fly\" with code... if it doesn't, it is better to just do:</p>\n\n<pre><code>&lt;TextView android:id=\"@+id/text_view_title\" \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content \n    android:text=\"FOO\" \n    style=\"@style/RedHUGEText\" /&gt;\n</code></pre>\n\n<p>You can always have it your way!</p>\n\n<p>Hope it helps!</p>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/12102178#12102178", "question_id": 7919173, "answer_id": 12102178}, {"body": "<p>I\u00b4ve resolved it with two simple methods.</p>\n\n<p>Follow the explanation.</p>\n\n<p>My existing style declaration:</p>\n\n<pre><code>&lt;style name=\"SearchInfoText\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;wrap_content&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;24sp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/Church_Grey&lt;/item&gt;\n    &lt;item name=\"android:shadowColor\"&gt;@color/Shadow_Church&lt;/item&gt;\n    &lt;item name=\"android:shadowRadius\"&gt;3&lt;/item&gt;\n    &lt;item name=\"android:shadowDx\"&gt;1&lt;/item&gt;\n    &lt;item name=\"android:shadowDy\"&gt;1&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>My Android Java code:</p>\n\n<pre><code>    TextView locationName = new TextView(getSupportActivity());\n    locationName.setId(IdGenerator.generateViewId());\n    locationName.setText(location.getName());\n    locationName.setLayoutParams(super.centerHorizontal());\n    locationName.setTextSize(24f);\n    locationName.setPadding(0, 0, 0, 15);\n    locationName.setTextColor(getResources().getColor(R.color.Church_Grey));\n    locationName.setShadowLayer(3, 1, 1,  getResources().getColor(R.color.Shadow_Church));\n</code></pre>\n\n<p>Regards.</p>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/17279275#17279275", "question_id": 7919173, "answer_id": 17279275}, {"body": "<p>So many way to achieve this task some are below:-</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code>String text_view_str = \"&lt;b&gt;Bolded text&lt;/b&gt;, &lt;i&gt;italic text&lt;/i&gt;, even &lt;u&gt;underlined&lt;/u&gt;!\";\nTextView tv = (TextView)findViewById(R.id.ur_text_view_id);\ntv.setText(Html.fromHtml(text_view_str));\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code>tv.setTypeface(null, Typeface.BOLD);\ntv.setTypeface(null, Typeface.ITALIC);\ntv.setTypeface(null, Typeface.BOLD_ITALIC);\ntv.setTypeface(null, Typeface.NORMAL);\n</code></pre>\n\n<p><strong>3.</strong></p>\n\n<pre><code>SpannableString spannablecontent=new SpannableString(o.content.toString());\nspannablecontent.setSpan(new StyleSpan(android.graphics.Typeface.BOLD_ITALIC), \n                         0,spannablecontent.length(), 0);\n// set Text here\ntt.setText(spannablecontent);\n</code></pre>\n\n<p><strong>4.</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n\n    &lt;style name=\"boldText\"&gt;\n        &lt;item name=\"android:textStyle\"&gt;bold|italic&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;#FFFFFF&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"normalText\"&gt;\n        &lt;item name=\"android:textStyle\"&gt;normal&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;#C0C0C0&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n\n tv.setTextAppearance(getApplicationContext(), R.style.boldText);\n</code></pre>\n\n<p><strong>or if u want through xml</strong></p>\n\n<pre><code>android:textStyle=\"normal\"\nandroid:textStyle=\"normal|bold\"\nandroid:textStyle=\"normal|italic\"\nandroid:textStyle=\"bold\"\nandroid:textStyle=\"bold|italic\"\n</code></pre>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/17614835#17614835", "question_id": 7919173, "answer_id": 17614835}, {"body": "<p>This question is asked in a lot of places in a lot of different ways. I originally answered it here but I feel it's relevant in this thread as well (since i ended up <a href=\"http://stackoverflow.com/questions/5051753/how-do-i-apply-a-style-programmatically/19690509#19690509\">here</a> when I was searching for an answer).</p>\n\n<p>There is no one line solution to this problem, but this worked for my use case. The problem is, the 'View(context, attrs, defStyle)' constructor does not refer to an actual style, it wants an attribute. So, we will:</p>\n\n<ol>\n<li>Define an attribute </li>\n<li>Create a style that you want to use</li>\n<li>Apply a style for that attribute on our theme</li>\n<li>Create new instances of our view with that attribute</li>\n</ol>\n\n<p>In 'res/values/attrs.xml', define a new attribute:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;attr name=\"customTextViewStyle\" format=\"reference\"/&gt;\n    ...\n&lt;/resources&gt;    \n</code></pre>\n\n<p>In res/values/styles.xml' I'm going to create the style I want to use on my custom TextView</p>\n\n<pre><code>&lt;style name=\"CustomTextView\"&gt;\n    &lt;item name=\"android:textSize\"&gt;18sp&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/white&lt;/item&gt;\n    &lt;item name=\"android:paddingLeft\"&gt;14dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>In 'res/values/themes.xml' or 'res/values/styles.xml', modify the theme for your application / activity and add the following style:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;style name=\"AppBaseTheme\" parent=\"android:Theme.Light\"&gt;\n        &lt;item name=\"@attr/customTextViewStyle\"&gt;@style/CustomTextView&lt;/item&gt;\n    &lt;/style&gt;\n    ... \n&lt;/resources&gt;\n</code></pre>\n\n<p>Finally, in your custom TextView, you can now use the constructor with the attribute and it will receive your style</p>\n\n<pre><code>public class CustomTextView extends TextView {\n\n    public CustomTextView(Context context) {\n       super(context, null, R.attr.customTextView);\n    }\n}\n</code></pre>\n\n<p>It's worth noting that I repeatedly used customTextView in different variants and different places, but it is in no way required that the name of the view match the style or the attribute or anything. Also, this technique should work with any custom view, not just TextViews.</p>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/19690713#19690713", "question_id": 7919173, "answer_id": 19690713}, {"body": "<p>This worked for me</p>\n\n<pre><code>textview.setTypeface(textview.getTypeface(), Typeface.BOLD);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>textview.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n", "title": "Android - set TextView TextStyle programmatically?", "tags": ["java", "android", "textview"], "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically/38340253#38340253", "question_id": 7919173, "answer_id": 38340253}], "creation_date": 1319732809, "score": 96, "link": "http://stackoverflow.com/questions/7919173/android-set-textview-textstyle-programmatically", "question_id": 7919173}, {"body": "<p>I'm trying to change the title of a menu item from outside of the onOptionsItemSelected(MenuItem item) method.</p>\n\n<p>I already do the following;</p>\n\n<pre><code>public boolean onOptionsItemSelected(MenuItem item){\n    try{\n        switch(item.getItemId()){\n            case R.id.bedSwitch:\n                if(item.getTitle().equals(\"Set to 'In bed'\")){\n                    item.setTitle(\"Set to 'Out of bed'\");\n                    inBed = false;\n                }else{\n                    item.setTitle(\"Set to 'In bed'\");\n                    inBed = true;\n                }\n                break;\n        }\n    } catch(Exception e){\n        Log.i(\"Sleep Recorder\", e.toString());\n    }\n    return true;\n}\n</code></pre>\n\n<p>however i'd like to be able to modify the title of a particular menu item outside of this method</p>\n\n<p>Thanks in advance for your help</p>\n\n<p>Andy</p>\n", "tags": ["java", "android", "menu", "menuitem"], "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "answers": [{"body": "<p>Create a setOptionsTitle() method and set a field in your class. Such as:</p>\n\n<pre><code>String bedStatus = \"Set to 'Out of Bed'\";\n</code></pre>\n\n<p>...</p>\n\n<pre><code>public void setOptionsTitle(String status)\n{\n    bedStatus = status;\n\n}\n</code></pre>\n\n<p>Now when the menu gets populated, change the title to whatever your status is:</p>\n\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n\n        menu.add(bedStatus);\n\n\n        // Return true so that the menu gets displayed.\n        return true;\n    }\n</code></pre>\n", "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "tags": ["java", "android", "menu", "menuitem"], "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele/7066731#7066731", "question_id": 7066657, "answer_id": 7066731}, {"body": "<p>I would suggest keeping a reference within the activity to the Menu object you receive in <a href=\"http://developer.android.com/reference/android/app/Activity.html#onCreateOptionsMenu%28android.view.Menu%29\">onCreateOptionsMenu</a> and then using that to retrieve the MenuItem that requires the change as and when you need it. For example, you could do something along the lines of the following:</p>\n\n<pre><code>public class YourActivity extends Activity {\n\n    private Menu menu;\n    private String inBedMenuTitle = \"Set to 'In bed'\";\n    private String outOfBedMenuTitle = \"Set to 'Out of bed'\";\n    private boolean inBed = false;\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n\n        // Create your menu...\n\n        this.menu = menu;\n        return true;\n    }\n\n    private void updateMenuTitles() {\n        MenuItem bedMenuItem = menu.findItem(R.id.bedSwitch);\n        if (inBed) {\n            bedMenuItem.setTitle(outOfBedMenuTitle);\n        } else {\n            bedMenuItem.setTitle(inBedMenuTitle);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Alternatively, you can override <a href=\"http://developer.android.com/reference/android/app/Activity.html#onPrepareOptionsMenu%28android.view.Menu%29\">onPrepareOptionsMenu</a> to update the menu items each time the menu is displayed.</p>\n", "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "tags": ["java", "android", "menu", "menuitem"], "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele/7066901#7066901", "question_id": 7066657, "answer_id": 7066901}, {"body": "<p>You better use the override onPrepareOptionsMenu</p>\n\n<pre><code>menu.Clear ();\n   if (TabActual == TabSelec.Anuncio)\n   {\n       menu.Add(10, 11, 0, \"Crear anuncio\");\n       menu.Add(10, 12, 1, \"Modificar anuncio\");\n       menu.Add(10, 13, 2, \"Eliminar anuncio\");\n       menu.Add(10, 14, 3, \"Actualizar\");\n   }\n   if (TabActual == TabSelec.Fotos)\n   {\n       menu.Add(20, 21, 0, \"Subir foto\");\n       menu.Add(20, 22, 1, \"Actualizar\");\n   }\n   if (TabActual == TabSelec.Comentarios)\n   {\n       menu.Add(30, 31, 0, \"Actualizar\");\n   }\n</code></pre>\n\n<p>Here <a href=\"http://thedevelopersinfo.wordpress.com/2009/10/20/dynamically-change-options-menu-items-in-android/\" rel=\"nofollow\">an example</a></p>\n", "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "tags": ["java", "android", "menu", "menuitem"], "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele/16848385#16848385", "question_id": 7066657, "answer_id": 16848385}, {"body": "<p>It seems to me that you want to change the contents of menu inside a local method, and this method is called at any time, whenever an event is occurred, or in the activity UI thread.</p>\n\n<p>Why don't you take the instance of Menu in the global variable in onPrepareOptionsMenu when this is overridden and use in this method of yours. Be sure that this method is called  whenever an event is occurred (like button click), or in the activity UI thread, handler or async-task post-execute.</p>\n\n<p>You should know in advance the index of this menu item you want to change. After clearing the menu, you need to inflate the menu XML and update your item's name or icon.</p>\n", "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "tags": ["java", "android", "menu", "menuitem"], "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele/20095971#20095971", "question_id": 7066657, "answer_id": 20095971}, {"body": "<p>For people that need the title set statically.\nThis can be done in the AndroidManifest.xml</p>\n\n<pre><code>&lt;activity\n    android:name=\".ActivityName\"\n    android:label=\"Title Text\" &gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/QyHcR.jpg\" alt=\"Options Menu Title Text\"></p>\n", "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "tags": ["java", "android", "menu", "menuitem"], "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele/30113605#30113605", "question_id": 7066657, "answer_id": 30113605}, {"body": "<p>As JxDarkAngel suggested, calling this from anywhere in your Activity,</p>\n\n<pre><code>invalidateOptionsMenu();\n</code></pre>\n\n<p>and then overriding </p>\n\n<pre><code>@Override\npublic boolean onPrepareOptionsMenu(Menu menu) {\n    int savedRoute = mPrefs.getInt(getString(R.string.saved_route), 0);\n    if (savedRoute &gt; 0) {\n        menu.findItem(R.id.action_route).setTitle(\"Route \" + savedRoute);\n    }\n    return super.onPrepareOptionsMenu(menu);\n}\n</code></pre>\n\n<p>is a much better choice. I used the answer from this other thread. <a href=\"http://stackoverflow.com/a/17496503/568197\">http://stackoverflow.com/a/17496503/568197</a></p>\n", "title": "Android - How to dynamically change menu item text outside of onOptionsItemsSelected or onCreateOptionsMenu", "tags": ["java", "android", "menu", "menuitem"], "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele/32072318#32072318", "question_id": 7066657, "answer_id": 32072318}], "creation_date": 1313421081, "score": 96, "link": "http://stackoverflow.com/questions/7066657/android-how-to-dynamically-change-menu-item-text-outside-of-onoptionsitemssele", "question_id": 7066657}, {"body": "<p>How to get android device name? I am using HTC desire. When I connected it via HTC Sync the software is displaying the Name <strong>'HTC Smith'</strong> . I would like to fetch this name via code.</p>\n\n<p>How is this possible in android?</p>\n\n<p>Thanks</p>\n", "tags": ["java", "android", "device-name"], "title": "Get Android Device Name", "answers": [{"body": "<p>In order to get android device name you have to add only a single line of code:</p>\n\n<pre><code>android.os.Build.MODEL;\n</code></pre>\n\n<p>Found here: <a href=\"http://developer.android.com/reference/android/os/Build.html\">getting-android-device-name</a></p>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/7071392#7071392", "question_id": 7071281, "answer_id": 7071392}, {"body": "<p>Try it. You can get Device Name through Bluetooth.</p>\n\n<p>Hope it will help you</p>\n\n<pre><code>public String getPhoneName() {  \n        BluetoothAdapter myDevice = BluetoothAdapter.getDefaultAdapter();\n        String deviceName = myDevice.getName();     \n        return deviceName;\n    }\n</code></pre>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/23729614#23729614", "question_id": 7071281, "answer_id": 23729614}, {"body": "<p>You can see answers at here <a href=\"https://stackoverflow.com/questions/1995439/get-android-phone-model-programmatically/26117427#26117427\">Get Android Phone Model Programmatically</a></p>\n\n<pre><code>public String getDeviceName() {\n   String manufacturer = Build.MANUFACTURER;\n   String model = Build.MODEL;\n   if (model.startsWith(manufacturer)) {\n      return capitalize(model);\n   } else {\n      return capitalize(manufacturer) + \" \" + model;\n   }\n}\n\n\nprivate String capitalize(String s) {\n    if (s == null || s.length() == 0) {\n        return \"\";\n    }\n    char first = s.charAt(0);\n    if (Character.isUpperCase(first)) {\n        return s;\n    } else {\n        return Character.toUpperCase(first) + s.substring(1);\n    }\n}\n</code></pre>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/26117646#26117646", "question_id": 7071281, "answer_id": 26117646}, {"body": "<p>You can get the user defined device name using the Bluetooth adapter as described here: <a href=\"http://stackoverflow.com/a/16726490/1221550\">http://stackoverflow.com/a/16726490/1221550</a></p>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/30652079#30652079", "question_id": 7071281, "answer_id": 30652079}, {"body": "<p>I wrote an angular module for this specific purpose called ng-fone.</p>\n\n<p>Please visit the below link to get more details and instructions on how to use this in your project.</p>\n\n<p><a href=\"http://tphangout.com/?p=83\" rel=\"nofollow\">http://tphangout.com/?p=83</a></p>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/32186594#32186594", "question_id": 7071281, "answer_id": 32186594}, {"body": "<p>On many popular devices the market name of the device is not available. For example, on the Samsung Galaxy S6 the value of <code>Build.MODEL</code> could be <code>\"SM-G920F\"</code>, <code>\"SM-G920I\"</code>, or <code>\"SM-G920W8\"</code>.</p>\n\n<p>I created a small library that gets the market (consumer friendly) name of a device. It gets the correct name for <em>over 10,000</em> devices and is constantly updated. If you wish to use my library click the link below:</p>\n\n<h2><a href=\"https://github.com/jaredrummler/AndroidDeviceNames\">AndroidDeviceNames Library on Github</a></h2>\n\n<hr>\n\n<p>If you do not want to use the library above, then this is the best solution for getting a consumer friendly device name:</p>\n\n<pre><code>/** Returns the consumer friendly device name */\npublic static String getDeviceName() {\n    String manufacturer = Build.MANUFACTURER;\n    String model = Build.MODEL;\n    if (model.startsWith(manufacturer)) {\n        return capitalize(model);\n    }\n    return capitalize(manufacturer) + \" \" + model;\n}\n\nprivate static String capitalize(String str) {\n    if (TextUtils.isEmpty(str)) {\n        return str;\n    }\n    char[] arr = str.toCharArray();\n    boolean capitalizeNext = true;\n    String phrase = \"\";\n    for (char c : arr) {\n        if (capitalizeNext &amp;&amp; Character.isLetter(c)) {\n            phrase += Character.toUpperCase(c);\n            capitalizeNext = false;\n            continue;\n        } else if (Character.isWhitespace(c)) {\n            capitalizeNext = true;\n        }\n        phrase += c;\n    }\n    return phrase;\n}\n</code></pre>\n\n<hr>\n\n<p>Example from my Verizon HTC One M8:</p>\n\n<pre><code>// using method from above\nSystem.out.println(getDeviceName());\n// Using https://github.com/jaredrummler/AndroidDeviceNames\nSystem.out.println(DeviceName.getDeviceName());\n</code></pre>\n\n<p>Result:</p>\n\n<blockquote>\n  <p>HTC6525LVW </p>\n  \n  <p>HTC One (M8)</p>\n</blockquote>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/34266367#34266367", "question_id": 7071281, "answer_id": 34266367}, {"body": "<p>@hbhakhra's answer will do. </p>\n\n<p>If you're interested in detailed explanation, it is useful to look into <a href=\"https://source.android.com/compatibility/\" rel=\"nofollow\">Android Compatibility Definition Document</a>. (3.2.2 Build Parameters)</p>\n\n<p>You will find:</p>\n\n<blockquote>\n  <p>DEVICE - A value chosen by the device implementer containing the\n  development name or code name identifying the configuration of the\n  hardware features and industrial design of the device. The value of\n  this field MUST be encodable as 7-bit ASCII and match the regular\n  expression \u201c^[a-zA-Z0-9_-]+$\u201d.</p>\n  \n  <p>MODEL - A value chosen by the device implementer containing the name\n  of the device as known to the end user. This SHOULD be the same name\n  under which the device is marketed and sold to end users. There are no\n  requirements on the specific format of this field, except that it MUST\n  NOT be null or the empty string (\"\").</p>\n  \n  <p>MANUFACTURER - The trade name of the Original Equipment Manufacturer\n  (OEM) of the product. There are no requirements on the specific format\n  of this field, except that it MUST NOT be null or the empty string\n  (\"\").</p>\n</blockquote>\n", "title": "Get Android Device Name", "tags": ["java", "android", "device-name"], "link": "http://stackoverflow.com/questions/7071281/get-android-device-name/35144155#35144155", "question_id": 7071281, "answer_id": 35144155}], "creation_date": 1313445351, "score": 95, "link": "http://stackoverflow.com/questions/7071281/get-android-device-name", "question_id": 7071281}, {"body": "<p>I have found this question: <a href=\"http://stackoverflow.com/questions/5889767/what-is-the-difference-between-inject-and-ejb\">What is the difference between @Inject and @EJB</a> but I did not get any wiser. I have not done Java EE before nor do I have experience with dependency injection so I do not understand what I should use?</p>\n\n<p>Is @EJB and old way of injecting? Is the injection done by the EJB container when using this annotation while using @Inject use the new CDI framework? Is that the difference and should I be using @Inject instead of @EJB if this is the case?</p>\n", "tags": ["java", "java-ee", "ejb", "cdi"], "title": "Should I use @EJB or @Inject", "answers": [{"body": "<p><code>@Inject</code> can inject any bean, while <code>@EJB</code> can only inject EJBs. You can use either to inject EJBs, but I'd prefer <code>@Inject</code> everywhere.</p>\n", "title": "Should I use @EJB or @Inject", "tags": ["java", "java-ee", "ejb", "cdi"], "link": "http://stackoverflow.com/questions/8138232/should-i-use-ejb-or-inject/8138303#8138303", "question_id": 8138232, "answer_id": 8138303}, {"body": "<p>The <code>@EJB</code> is used to inject EJB's only and is available for quite some time now. <code>@Inject</code> can inject any managed bean and is a part of the new CDI specification (since Java EE 6).</p>\n\n<p>In simple cases you can simply change <code>@EJB</code> to <code>@Inject</code>. In more advanced cases (e.g. when you heavily depend on <code>@EJB</code>'s attributes like <code>beanName</code>, <code>lookup</code> or <code>beanInterface</code>) than in order to use <code>@Inject</code> you would need to define a <code>@Producer</code> field or method.</p>\n\n<p>These resources might be helpful to understand the differences between <code>@EJB</code> and <code>@Produces</code> and how to get the best of them:</p>\n\n<p>Antonio Goncalves' blog:<br>\n<a href=\"http://agoncal.wordpress.com/2011/04/07/injection-with-cdi-part-i/\">CDI Part I</a><br>\n<a href=\"http://agoncal.wordpress.com/2011/05/03/injection-with-cdi-part-ii/\">CDI Part II</a><br>\n<a href=\"http://agoncal.wordpress.com/2011/09/25/injection-with-cdi-part-iii/\">CDI Part III</a>  </p>\n\n<p>JBoss Weld documentation:<br>\n<a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html/part-4.html\">CDI and the Java EE ecosystem</a></p>\n\n<p>StackOverflow:<br>\n<a href=\"http://stackoverflow.com/questions/7920123/inject-ejb-bean-based-on-conditions/7923159#7923159\">Inject @EJB bean based on conditions</a></p>\n", "title": "Should I use @EJB or @Inject", "tags": ["java", "java-ee", "ejb", "cdi"], "link": "http://stackoverflow.com/questions/8138232/should-i-use-ejb-or-inject/8138452#8138452", "question_id": 8138232, "answer_id": 8138452}, {"body": "<p>Here is a good discussion on the topic.  Gavin King recommends @Inject over @EJB for non remote EJBs.  </p>\n\n<p><a href=\"http://www.seamframework.org/107780.lace\" rel=\"nofollow\">http://www.seamframework.org/107780.lace</a></p>\n\n<p>or </p>\n\n<p><a href=\"https://web.archive.org/web/20140812065624/http://www.seamframework.org/107780.lace\" rel=\"nofollow\">https://web.archive.org/web/20140812065624/http://www.seamframework.org/107780.lace</a></p>\n\n<blockquote>\n  <p>Re: Injecting with @EJB or @Inject?</p>\n  \n  <ol start=\"26\">\n  <li>Nov 2009, 20:48 America/New_York | Link Gavin King    </li>\n  </ol>\n  \n  <p>That error is very strange, since EJB local references should always\n  be serializable. Bug in glassfish, perhaps?</p>\n  \n  <p>Basically, @Inject is always better, since:</p>\n\n<pre><code>it is more typesafe,\nit supports @Alternatives, and\nit is aware of the scope of the injected object.\n</code></pre>\n  \n  <p>I recommend against the use of @EJB except for declaring references to\n  remote EJBs.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Re: Injecting with @EJB or @Inject?</p>\n  \n  <ol start=\"29\">\n  <li><p>Nov 2009, 17:42 America/New_York | Link Gavin King</p>\n  \n  <p>Does it mean @EJB better with remote EJBs? </p></li>\n  </ol>\n  \n  <p>For a remote EJB, we can't declare metadata like qualifiers,\n  @Alternative, etc, on the bean class, since the client simply isn't\n  going to have access to that metadata. Furthermore, some additional\n  metadata must be specified that we don't need for the local case\n  (global JNDI name of whatever). So all that stuff needs to go\n  somewhere else: namely the @Produces declaration.</p>\n</blockquote>\n", "title": "Should I use @EJB or @Inject", "tags": ["java", "java-ee", "ejb", "cdi"], "link": "http://stackoverflow.com/questions/8138232/should-i-use-ejb-or-inject/12736096#12736096", "question_id": 8138232, "answer_id": 12736096}, {"body": "<p><strong>Update:</strong> This answer may be incorrect or out of date. Please see comments for details.</p>\n\n<p>I switched from <code>@Inject</code> to <code>@EJB</code> because <code>@EJB</code> allows circular injection whereas <code>@Inject</code> pukes on it.</p>\n\n<p>Details: I needed <code>@PostConstruct</code> to call an <code>@Asynchronous</code> method but it would do so synchronously. The only way to make the asynchronous call was to have the original call a method of another bean and have it call back the method of the original bean. To do this each bean needed a reference to the other -- thus circular. <code>@Inject</code> failed for this task whereas <code>@EJB</code> worked. </p>\n", "title": "Should I use @EJB or @Inject", "tags": ["java", "java-ee", "ejb", "cdi"], "link": "http://stackoverflow.com/questions/8138232/should-i-use-ejb-or-inject/16505384#16505384", "question_id": 8138232, "answer_id": 16505384}, {"body": "<p>Injection already existed in Java EE 5 with the @Resource, @PersistentUnit or @EJB annotations, for example.\nBut it was limited to certain resources (datasource, EJB . . .) and into certain components (Servlets, EJBs, JSF backing\nbean . . .). With CDI you can inject nearly anything anywhere thanks to the @Inject annotation.</p>\n", "title": "Should I use @EJB or @Inject", "tags": ["java", "java-ee", "ejb", "cdi"], "link": "http://stackoverflow.com/questions/8138232/should-i-use-ejb-or-inject/37778454#37778454", "question_id": 8138232, "answer_id": 37778454}], "creation_date": 1321368760, "score": 95, "link": "http://stackoverflow.com/questions/8138232/should-i-use-ejb-or-inject", "question_id": 8138232}, {"body": "<p>I have an <code>AsyncTask</code> class that I execute that downloads a big list of data from a website.</p>\n\n<p>In the case that the end user has a very slow or spotty data connection at the time of use, I'd like to make the <code>AsyncTask</code> timeout after a period of time. My first approach to this is like so:</p>\n\n<pre><code>MyDownloader downloader = new MyDownloader();\ndownloader.execute();\nHandler handler = new Handler();\nhandler.postDelayed(new Runnable()\n{\n  @Override\n  public void run() {\n      if ( downloader.getStatus() == AsyncTask.Status.RUNNING )\n          downloader.cancel(true);\n  }\n}, 30000 );\n</code></pre>\n\n<p>After starting the <code>AsyncTask</code>, a new handler is started that will cancel the <code>AsyncTask</code> after 30 seconds if it's still running.</p>\n\n<p>Is this a good approach? Or is there something built into <code>AsyncTask</code> that is better suited for this purpose?</p>\n", "tags": ["java", "android", "android-asynctask"], "title": "Android - Setting a Timeout for an AsyncTask?", "answers": [{"body": "<p>I don't think there's anything like that built into AsyncTask. Your approach seems to be a good one. Just be sure to periodically check the value of isCancelled() in your AsyncTask's doInBackground method to end this method once the UI thread cancels it.</p>\n\n<p>If you want to avoid using the handler for some reason, you could check System.currentTimeMillis periodically within your AsyncTask and exit on timeout, although I like your solution better since it can actually interrupt the thread.</p>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/7883090#7883090", "question_id": 7882739, "answer_id": 7883090}, {"body": "<p>Yes, there is <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html#get%28long,%20java.util.concurrent.TimeUnit%29\">AsyncTask.get()</a></p>\n\n<pre><code>myDownloader.get(30000, TimeUnit.MILLISECONDS);\n</code></pre>\n\n<p>Note that by calling this in main thread (AKA. UI thread) will block execution, You probably need call it in a separate thread.</p>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/7883258#7883258", "question_id": 7882739, "answer_id": 7883258}, {"body": "<pre><code>         Context mContext;\n\n         @Override\n         protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n                                    mContext = this;\n\n            //async task\n            final RunTask tsk = new RunTask (); \n            tsk.execute();\n\n            //setting timeout thread for async task\n            Thread thread1 = new Thread(){\n            public void run(){\n                try {\n                    tsk.get(30000, TimeUnit.MILLISECONDS);  //set time in milisecond(in this timeout is 30 seconds\n\n                } catch (Exception e) {\n                    tsk.cancel(true);                           \n                    ((Activity) mContext).runOnUiThread(new Runnable()\n                    {\n                         @SuppressLint(\"ShowToast\")\n                        public void run()\n                         {\n                            Toast.makeText(mContext, \"Time Out.\", Toast.LENGTH_LONG).show();\n                            finish(); //will close the current activity comment if you don't want to close current activity.                                \n                         }\n                    });\n                }\n            }\n        };\n        thread1.start();\n\n         }\n</code></pre>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/20376037#20376037", "question_id": 7882739, "answer_id": 20376037}, {"body": "<p>In the case, your downloader is based upon an for an URL connection, you have a number of parameters that could help you to define a timeout without complex code:</p>\n\n<pre><code>  HttpURLConnection urlc = (HttpURLConnection) url.openConnection();\n\n  urlc.setConnectTimeout(15000);\n\n  urlc.setReadTimeout(15000);\n</code></pre>\n\n<p>If you just bring this code into your async task, it is ok.</p>\n\n<p>'Read Timeout' is to test a bad network all along the transfer.</p>\n\n<p>'Connection Timeout' is only called at the beginning to test if the server is up or not. </p>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/22524951#22524951", "question_id": 7882739, "answer_id": 22524951}, {"body": "<p>You can put one more condition to make cancellation more robust. e.g.,</p>\n\n<pre><code> if (downloader.getStatus() == AsyncTask.Status.RUNNING || downloader.getStatus() == AsyncTask.Status.PENDING)\n     downloader.cancel(true);\n</code></pre>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/26353899#26353899", "question_id": 7882739, "answer_id": 26353899}, {"body": "<p>Use CountDownTimer Class in side the extended class for AsyncTask in the onPreExecute() method: </p>\n\n<p>Main advantage, the Async monitoring done internally in the class.</p>\n\n<pre><code>public class YouExtendedClass extends AsyncTask&lt;String,Integer,String&gt; {\n...\npublic YouExtendedClass asyncObject;   // as CountDownTimer has similar method -&gt; to prevent shadowing\n...\n@Override\nprotected void onPreExecute() {\n    asyncObject = this;\n    new CountDownTimer(7000, 7000) {\n        public void onTick(long millisUntilFinished) {\n            // You can monitor the progress here as well by changing the onTick() time\n        }\n        public void onFinish() {\n            // stop async task if not in progress\n            if (asyncObject.getStatus() == AsyncTask.Status.RUNNING) {\n                asyncObject.cancel(false);\n                // Add any specific task you wish to do as your extended class variable works here as well.\n            }\n        }\n    }.start();\n...\n</code></pre>\n\n<p>change CountDownTimer(7000, 7000) -> CountDownTimer(7000, 1000) for example and it will call onTick() 6 times before calling onFinish(). This is good if you want to add some monitoring.</p>\n\n<p>Thanks for all the good advice I got in this page :-)</p>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/31601166#31601166", "question_id": 7882739, "answer_id": 31601166}, {"body": "<p>Inspiring from question I have written a method which do some background task via AsyncTask and if processing takes more then LOADING_TIMEOUT then an alert dialogue to retry will appear.</p>\n\n<pre><code>public void loadData()\n    {\n        final Load loadUserList=new Load();\n        loadUserList.execute();\n        Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                if (loadUserList.getStatus() == AsyncTask.Status.RUNNING) {\n                    loadUserList.cancel(true);\n                    pDialog.cancel();\n                    new AlertDialog.Builder(UserList.this)\n                            .setTitle(\"Error..!\")\n                            .setMessage(\"Sorry you dont have proper net connectivity..!\\nCheck your internet settings or retry.\")\n                            .setCancelable(false)\n                            .setPositiveButton(\"Retry\", new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialogInterface, int i) {\n                                    loadData();\n                                }\n                            })\n                            .setNegativeButton(\"Exit\", new DialogInterface.OnClickListener() {\n                                @Override\n\n\n                      public void onClick(DialogInterface dialogInterface, int i) {\n                                System.exit(0);\n                            }\n                        })\n                        .show();\n            }\n        }\n    }, LOADING_TIMEOUT);\n    return;\n}\n</code></pre>\n", "title": "Android - Setting a Timeout for an AsyncTask?", "tags": ["java", "android", "android-asynctask"], "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask/33538340#33538340", "question_id": 7882739, "answer_id": 33538340}], "creation_date": 1319495563, "score": 95, "link": "http://stackoverflow.com/questions/7882739/android-setting-a-timeout-for-an-asynctask", "question_id": 7882739}, {"body": "<p>This is a situation I encounter frequently as an inexperienced programmer and am wondering about particularly for an ambitious, speed-intensive project of mine I'm trying to optimize.  For the major C-like languages (C, objC, C++, Java, C#, etc) and their usual compilers, will these two functions run just as efficiently?  Is there any difference in the compiled code?</p>\n\n<pre><code>void foo1(bool flag)\n{\n    if (flag)\n    {\n        //Do stuff\n        return;\n    }\n\n    //Do different stuff\n}\n\nvoid foo2(bool flag)\n{\n    if (flag)\n    {\n        //Do stuff\n    }\n    else\n    {\n        //Do different stuff\n    }\n}\n</code></pre>\n\n<p>Basically, is there ever a direct efficiency bonus/penalty when <code>break</code>ing or <code>return</code>ing early?  How is the stackframe involved?  Are there optimized special cases?  Are there any factors (like inlining or the size of \"Do stuff\") that could affect this significantly?</p>\n\n<p>I'm always a proponent of improved legibility over minor optimizations (I see foo1 a lot with parameter validation), but this comes up so frequently that I'd like to set aside all worry once and for all.  </p>\n\n<p>And I'm aware of the pitfalls of premature optimization... ugh, those are some painful memories.</p>\n\n<p>EDIT:  I accepted an answer, but EJP's answer explains pretty succinctly why the use of a <code>return</code> is practically negligible (in assembly, the <code>return</code> creates a 'branch' to the end of the function, which is extremely fast.  The branch alters the PC register and may also affect the cache and pipeline, which is pretty minuscule.)  For this case in particular, it literally makes no difference because both the <code>if/else</code> and the <code>return</code> create the same branch to the end of the function.</p>\n", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "title": "Efficiency of premature return in a function", "answers": [{"body": "<p>The short answer is, no difference. Do yourself a favour and stop worrying about this. The optimising compiler is almost always smarter than you.</p>\n\n<p>Concentrate on readability and maintainability.</p>\n\n<p>If you want to see what happens, build these with optimisations on and look at the assembler output.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7884755#7884755", "question_id": 7884705, "answer_id": 7884755}, {"body": "<p>Even though this isn't much an answer, a production compiler is going to be much better at optimizing than you are. I would favor readability and maintainability over these kinds of optimizations.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7884771#7884771", "question_id": 7884705, "answer_id": 7884771}, {"body": "<p>If you really want to know if there's a difference in compiled code for your particular compiler and system, you'll have to compile and look at the assembly yourself.</p>\n\n<p>However in the big scheme of things it's almost certain that the compiler can optimize better than your fine tuning, and even if it can't it's very unlikely to actually matter for your program's performance.</p>\n\n<p>Instead, write the code in the clearest way for humans to read and maintain, and let the compiler do what it does best: Generate the best assembly it can from your source.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7884817#7884817", "question_id": 7884705, "answer_id": 7884817}, {"body": "<p>I agree strongly with blueshift: readability and maintainability first!.  But if you're really worried (or just want to learn what your compiler is doing, which definitely a good idea in the long run), you should look for yourself. </p>\n\n<p>This will mean using a decompiler or looking at low level compiler output (e.g. assembly lanuage).  In C#, or any .Net language, the <a href=\"http://stackoverflow.com/questions/2425973/open-source-alternatives-to-reflector\">tools documented here</a> will give you what you need.</p>\n\n<p>But as you yourself have observed, this is probably premature optimization.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7884827#7884827", "question_id": 7884705, "answer_id": 7884827}, {"body": "<p>To be specific about this, the <code>return</code> will be compiled into a branch to the end of the method, where there will be a <code>RET</code> instruction or whatever it may be. If you leave it out, the end of the block before the <code>else</code> will be compiled into a branch to the end of the <code>else</code> block. So you can see in this specific case it makes no difference whatsoever.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7884861#7884861", "question_id": 7884705, "answer_id": 7884861}, {"body": "<p>There is no difference at all:</p>\n\n<pre><code>=====&gt; cat test_return.cpp\nextern void something();\nextern void something2();\n\nvoid test(bool b)\n{\n    if(b)\n    {\n        something();\n    }\n    else\n        something2();\n}\n=====&gt; cat test_return2.cpp\nextern void something();\nextern void something2();\n\nvoid test(bool b)\n{\n    if(b)\n    {\n        something();\n        return;\n    }\n    something2();\n}\n=====&gt; rm -f test_return.s test_return2.s\n=====&gt; g++ -S test_return.cpp \n=====&gt; g++ -S test_return2.cpp \n=====&gt; diff test_return.s test_return2.s\n=====&gt; rm -f test_return.s test_return2.s\n=====&gt; clang++ -S test_return.cpp \n=====&gt; clang++ -S test_return2.cpp \n=====&gt; diff test_return.s test_return2.s\n=====&gt; \n</code></pre>\n\n<p>Meaning no difference in generated code whatsoever even without optimization in two compilers</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7884883#7884883", "question_id": 7884705, "answer_id": 7884883}, {"body": "<p>Interesting answers: Although I do agree with all of them (so far), there are possible connotations to this question that are up to now completely disregarded.</p>\n\n<p>If the simple example above is extended with resource allocation, and then error checking with a potential resulting freeing of resources, the picture might change.</p>\n\n<p>Consider the <strong>naive approach</strong> beginners might take:</p>\n\n<pre><code>int func(..some parameters...) {\n  res_a a = allocate_resource_a();\n  if (!a) {\n    return 1;\n  }\n  res_b b = allocate_resource_b();\n  if (!b) {\n    free_resource_a(a);\n    return 2;\n  }\n  res_c c = allocate_resource_c();\n  if (!c) {\n    free_resource_b(b);\n    free_resource_a(a);\n    return 3;\n  }\n\n  do_work();\n\n  free_resource_c(c);\n  free_resource_b(b);\n  free_resource_a(a);\n\n  return 0;\n}\n</code></pre>\n\n<p>The above would represent an extreme version of the style of returning prematurely. Notice how the code becomes very repetitive and non-maintainable over time when its complexity grows. Nowadays people might use <strong><a href=\"http://www.cplusplus.com/reference/std/exception/exception/\">exception handling</a></strong> to catch these.</p>\n\n<pre><code>int func(..some parameters...) {\n  res_a a;\n  res_b b;\n  res_c c;\n\n  try {\n    a = allocate_resource_a(); # throws ExceptionResA\n    b = allocate_resource_b(); # throws ExceptionResB\n    c = allocate_resource_c(); # throws ExceptionResC\n    do_work();\n  }  \n  catch (ExceptionBase e) {\n    # Could use type of e here to distinguish and\n    # use different catch phrases here\n    # class ExceptionBase must be base class of ExceptionResA/B/C\n    if (c) free_resource_c(c);\n    if (b) free_resource_b(b);\n    if (a) free_resource_a(a);\n    throw e\n  }\n  return 0;\n}\n</code></pre>\n\n<p>Philip suggested, after looking at the goto example below, to use a <strong>break-less switch/case</strong> inside the catch block above. One could switch(typeof(e)) and then fall through the <code>free_resourcex()</code> calls but this is <a href=\"http://stackoverflow.com/q/351845/923794\">not trivial and needs design consideration</a>. And remember that a switch/case without breaks is exactly like the goto with daisy-chained labels below...</p>\n\n<p>As Mark B pointed out, in C++ it is considered good style to follow the <strong>Resource Aquisition is Initialization</strong> principle, <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Resource_Acquisition_Is_Initialization\">RAII</a> in short. The gist of the concept is to use object instantiation to aquire resources. The resources are then automatically freed as soon as the objects go out of scope and their destructors are called. For interdepending resources special care has to be taken to ensure the correct order of deallocation and to design the types of objects such that required data is available for all destructors.</p>\n\n<p>Or in pre-exception days might do:</p>\n\n<pre><code>int func(..some parameters...) {\n  res_a a = allocate_resource_a();\n  res_b b = allocate_resource_b();\n  res_c c = allocate_resource_c();\n  if (a &amp;&amp; b &amp;&amp; c) {   \n    do_work();\n  }  \n  if (c) free_resource_c(c);\n  if (b) free_resource_b(b);\n  if (a) free_resource_a(a);\n\n  return 0;\n}\n</code></pre>\n\n<p>But this over-simplified example has several drawbacks: It can be used only if the allocated resources do not depend on each other (e.g. it could not be used for allocating memory, then opening a filehandle, then reading data from the handle into the memory), and it does not provide individial, distinguishable error codes as return values.</p>\n\n<p>To keep code fast(!), compact, and easily readable and extensible <a href=\"http://kerneltrap.org/node/553/2131\">Linus Torvalds enforced a different style for kernel code that deals with resources, even using the infamous <strong>goto</strong> in a way that makes absolutely sense</a>:</p>\n\n<pre><code>int func(..some parameters...) {\n  res_a a;\n  res_b b;\n  res_c c;\n\n  a = allocate_resource_a() || goto error_a;\n  b = allocate_resource_b() || goto error_b;\n  c = allocate_resource_c() || goto error_c;\n\n  do_work();\n\nerror_c:\n  free_resource_c(c);\nerror_b:\n  free_resource_b(b);\nerror_a:\n  free_resource_a(a);\n\n  return 0;\n}\n</code></pre>\n\n<p>The gist of the discussion on the kernel mailing lists is that most language features that are \"preferred\" over the goto statement are implicit gotos, such as huge, tree-like if/else, exception handlers, loop/break/continue statements, etc. And goto's in the above example are considered ok, since they are jumping only a small distance, have clear labels, and free the code of other clutter for keeping track of the error conditions. <a href=\"http://stackoverflow.com/q/46586/923794\">This question has also been discussed here on stackoverflow</a>.</p>\n\n<p>However what's missing in the last example is a nice way to return an error code. I was thinking of adding a <code>result_code++</code> after each <code>free_resource_x()</code> call, and returning that code, but this offsets some of the speed gains of the above coding style. And it's hard to return 0 in case of success. Maybe I'm just unimaginative ;-)</p>\n\n<p>So, yes, I do think there is a big difference in the question of coding premature returns or not. But I also think it is apparent only in more complicated code that is harder or impossible to restructure and optimize for the compiler. Which is usually the case once resource allocation comes into play.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7886612#7886612", "question_id": 7884705, "answer_id": 7886612}, {"body": "<p>In your example, the return is noticeable. What happens to the person debugging when the return is a page or two above/below where //do different stuff occurs? Much harder to find/see when there is more code.</p>\n\n<pre><code>void foo1(bool flag)\n{\n    if (flag)\n    {\n        //Do stuff\n        return;\n    }\n\n    //Do different stuff\n}\n\nvoid foo2(bool flag)\n{\n    if (flag)\n    {\n        //Do stuff\n    }\n    else\n    {\n        //Do different stuff\n    }\n}\n</code></pre>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7893255#7893255", "question_id": 7884705, "answer_id": 7893255}, {"body": "<p>One school of thought (can't remember the egghead who proposed it at the moment) is that all function should only have one return point from a structural point of view to make the code easier to read and debug.  That, I suppose, is more for programming religious debate.</p>\n\n<p>One technical reason you may want to control when and how a function exits that breaks this rule is when you are coding real-time applications and you want to make sure that all control paths through the function take the same number of clock cycles to complete.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7893588#7893588", "question_id": 7884705, "answer_id": 7893588}, {"body": "<p>From <a href=\"http://rads.stackoverflow.com/amzn/click/0132350882\" rel=\"nofollow\">Clean Code: A Handbook of Agile Software Craftsmanship</a></p>\n\n<blockquote>\n  <p>Flag arguments are ugly. Passing a boolean into a function is a truly terrible practice. It\n  immediately complicates the signature of the method, loudly proclaiming that this function\n  does more than one thing. It does one thing if the flag is true and another if the flag is false!</p>\n</blockquote>\n\n<pre><code>foo(true);\n</code></pre>\n\n<p>in code will just make the reader to navigate to the function and waste time reading foo(boolean flag)</p>\n\n<p>Better structured code base will give you better opportunity to optimize code.</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7895147#7895147", "question_id": 7884705, "answer_id": 7895147}, {"body": "<p>I'm glad you brought this question up. You should always use the branches over an early return. Why stop there? Merge all your functions into one if you can (at least as much as you can). This is doable if there is no recursion. In the end, you will have one massive main function, but that is what you need/want for this sort of thing. Afterward, rename your identifiers to be as short as possible. That way when your code is executed, less time is spent reading names. Next do ...</p>\n", "title": "Efficiency of premature return in a function", "tags": ["c#", "java", "c++", "c", "compiler-optimization"], "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function/7895237#7895237", "question_id": 7884705, "answer_id": 7895237}], "creation_date": 1319516804, "score": 94, "link": "http://stackoverflow.com/questions/7884705/efficiency-of-premature-return-in-a-function", "question_id": 7884705}, {"body": "<p>If a variable is declared as <code>public static varName;</code>, then I can access it from anywhere as <code>ClassName.varName</code>. I am also aware that static members are shared by all instances of a class and are not reallocated in each instance.</p>\n\n<p>Is declaring a variable as <code>private static varName;</code> any different from declaring a variable <code>private varName;</code>?</p>\n\n<p>In both cases it cannot be accessed as <code>ClassName.varName</code> or as <code>ClassInstance.varName</code> from any other class.</p>\n\n<p>Does declaring the variable as static give it other special properties?</p>\n", "tags": ["java", "variables", "static", "private"], "title": "What is the use of a private static variable in Java?", "answers": [{"body": "<p>Ofcourse it can be accessed as <code>ClassName.var_name</code>, but only from inside the class in which it is defined - that's because it is <code>private</code>.</p>\n\n<p><code>public static</code> or <code>private static</code> variables are often used for constants. For example, many people don't like to \"hard-code\" constants in their code; they like to make a <code>public static</code> or <code>private static</code> variable with a meaningful name and use that in their code, which should make the code more readable. (You should also make such constants <code>final</code>).</p>\n\n<p>For example:</p>\n\n<pre><code>public class Example {\n    private final static String JDBC_URL = \"jdbc:mysql://localhost/shopdb\";\n    private final static String JDBC_USERNAME = \"username\";\n    private final static String JDBC_PASSWORD = \"password\";\n\n    public static void main(String[] args) {\n        Connection conn = DriverManager.getConnection(JDBC_URL,\n                                         JDBC_USERNAME, JDBC_PASSWORD);\n\n        // ...\n    }\n}\n</code></pre>\n\n<p>Whether you make it <code>public</code> or <code>private</code> depends on whether you want the variables to be visible outside the class or not.</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7279918#7279918", "question_id": 7279887, "answer_id": 7279918}, {"body": "<p>Static variables have a single value for all instances of a class.</p>\n\n<p>If you were to make something like:</p>\n\n<pre><code>public class Person\n{\n    private static int numberOfEyes;\n    private String name;\n}\n</code></pre>\n\n<p>and then you wanted to change your name, that is fine, my name stays the same.  If, however you wanted to change it so that you had 17 eyes then everyone in the world would also have 17 eyes.</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7279921#7279921", "question_id": 7279887, "answer_id": 7279921}, {"body": "<p>Well, <code>private static</code> variables can be used to share data across instances of that class. While you are correct that we cannot access the <code>private static</code> variables using constructs like <code>ClassName.member</code> or <code>ClassInstance.member</code> but the member will always be visible from methods of that class or instances of that class. So in effect instances of that class will always be able to refer to member.</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7279931#7279931", "question_id": 7279887, "answer_id": 7279931}, {"body": "<p>When in a static method you use a variable, the variable have to be static too\nas an example:  </p>\n\n<pre><code>private static int a=0;  \npublic static void testMethod() {  \n        a=1;  \n}\n</code></pre>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7279933#7279933", "question_id": 7279887, "answer_id": 7279933}, {"body": "<p>Private static variables are useful in the same way that private instance variables are useful: they store state which is accessed only by code within the same class. The accessibility (private/public/etc) and the instance/static nature of the variable are entirely orthogonal concepts.</p>\n\n<p>I would avoid thinking of static variables as being shared between \"all instances\" of the class - that suggests there has to be at least <em>one</em> instance for the state to be present. No - a static variable is associated with the type itself instead of <em>any</em> instances of the type.</p>\n\n<p>So any time you want some state which is associated with the type rather than any particular instance, and you want to keep that state private (perhaps allowing controlled access via properties, for example) it makes sense to have a private static variable.</p>\n\n<p>As an aside, I would strongly recommend that the <em>only</em> type of variables which you make public (or even non-private) are constants - static final variables of immutable types. Everything else should be private for the sake of separating API and implementation (amongst other things).</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7279991#7279991", "question_id": 7279887, "answer_id": 7279991}, {"body": "<p>Another perspective : </p>\n\n<ol>\n<li>A class and its instance are two different things at the runtime. A class info is \"shared\" by all the instances of that class.</li>\n<li>The non-static class variables belong to instances and the static variable belongs to class. </li>\n<li>Just like an instance variables can be private or public, static variables can also be private or public. </li>\n</ol>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7280024#7280024", "question_id": 7279887, "answer_id": 7280024}, {"body": "<p>Well you are right public static variables are used without making an instance of the class but private static variables are not. The main difference between them and where I use the private static variables is when you need to use a variable in a static function. For the static functions you can only use static variables, so you make them private to not access them from other classes. That is the only case I use private static for.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>Class test {\n   public static String name = \"AA\";\n   private static String age;\n\n   public static void setAge(String yourAge) {\n       //here if the age variable is not static you will get an error that you cannot access non static variables from static procedures so you have to make it static and private to not be accessed from other classes\n       age = yourAge;\n   }\n}\n</code></pre>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/7280050#7280050", "question_id": 7279887, "answer_id": 7280050}, {"body": "<p>What is the use of a private static class variable?</p>\n\n<p>Let's say you have a library book Class. Each time you create a new Book, you want to assign it a unique id. One way is to simply start at 0 and increment the id number. But, how do all the other books know the last created id number? Simple, save it as a static variable. Do patrons need to know that the actual internal id number is for each book? No. That information is private.</p>\n\n<pre><code>public class Book {\n    private static int numBooks = 0;\n    private int id;\n    public String name;\n\n    Book(String name) {\n        id = numBooks++;\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>This is a contrived example, but I'm sure you can easily think of cases where you'd want all class instances to have access to common information that should be kept private from everyone else. Or even if you can't, it is good programming practice to make things as private as possible. What if you accidentally made that numBooks field public, even though Book users were not supposed to do anything with it. Then someone could change the number of Books without creating a new Book. </p>\n\n<p>Very sneaky!</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/19882974#19882974", "question_id": 7279887, "answer_id": 19882974}, {"body": "<p>Static variables are those variables which are common for all the instances of a class..if one instance changes it.. then value of static variable would be updated for all other instances</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/20158629#20158629", "question_id": 7279887, "answer_id": 20158629}, {"body": "<p>For some people this makes more sense if they see it in a couple different languages so I wrote an example in Java, and PHP on my page where I explain some of these modifiers. You might be thinking about this incorrectly. </p>\n\n<p>You should look at my examples if it doesn't make sense below. Go here <a href=\"http://www.siteconsortium.com/h/D0000D.php\" rel=\"nofollow\">http://www.siteconsortium.com/h/D0000D.php</a></p>\n\n<p>The bottom line though is that it is pretty much exactly what it says it is. It's a static member variable that is private. For example if you wanted to create a Singleton object why would you want to make the SingletonExample.instance variable public. If you did a person who was using the class could easily overwrite the value.</p>\n\n<p>That's all it is.</p>\n\n<pre>\n\n    public class SingletonExample {\n      private static SingletonExample instance = null;\n      private static int value = 0;\n      private SingletonExample() {\n        ++this.value;\n      }\n      public static SingletonExample getInstance() {\n        if(instance!=null)\n        return instance;\n        synchronized(SingletonExample.class) {\n        instance = new SingletonExample();\n        return instance;\n        }\n      }\n      public void printValue() {\n        System.out.print( this.value );\n      }\n\n      public static void main(String [] args) {\n        SingletonExample instance = getInstance();\n        instance.printValue();\n        instance = getInstance();\n        instance.printValue();\n         }\n    }\n\n</pre>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/20852311#20852311", "question_id": 7279887, "answer_id": 20852311}, {"body": "<p>If a variable is defined as public static it can be accessed via its class name from any class.</p>\n\n<p>Usually functions are defined as public static which can be accessed just by calling the implementing class name.</p>\n\n<p>A very good example of it is the <code>sleep()</code> method in Thread class</p>\n\n<pre><code>Thread.sleep(2500);\n</code></pre>\n\n<p>If a variable is defined as private static it can be accessed only within that class so no class name is needed or you can still use the class name (upto you).\nThe difference between private var_name and private static var_name is that private static variables can be accessed only by static methods of the class while private variables can be accessed by any method of that class(except static methods)</p>\n\n<p>A very good example of it is while defining database connections or constants which require declaring variable as private static .</p>\n\n<p>Another common example is </p>\n\n<pre><code>private static int numberOfCars=10;\n\npublic static int returnNumber(){\n\nreturn numberOfCars;\n\n}\n</code></pre>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/21668830#21668830", "question_id": 7279887, "answer_id": 21668830}, {"body": "<p><strong>Private keyword will use for the variable access with in class and keeping static in the sense we can access the variable in static method also but reference variable cannot access in static method</strong></p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/22709508#22709508", "question_id": 7279887, "answer_id": 22709508}, {"body": "<p>I'm new to Java, but one way I use static variables, as I'm assuming many people do, is to count the number of instances of the class. e.g.:</p>\n\n<pre><code>public Class Company {\n    private static int numCompanies;\n\n    public static int getNumCompanies(){\n        return numCompanies;\n    }\n}\n</code></pre>\n\n<p>Then you can sysout:</p>\n\n<pre><code>Company.getNumCompanies();\n</code></pre>\n\n<p>You can also get access to numCompanies from each instance of the class (which I don't completely understand), but it won't be in a \"static way\". I have no idea if this is best practice or not, but it makes sense to me.</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/22976881#22976881", "question_id": 7279887, "answer_id": 22976881}, {"body": "<p>*)If a variable is declared as private then it is not visible outside of the class.this is called as datahiding.</p>\n\n<p>*)If a variable is declared as static then the value of the variable is same for all the instances and we no need to create an object to call that variable.we can call that variable by simply</p>\n\n<p>classname.variablename;</p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/32712936#32712936", "question_id": 7279887, "answer_id": 32712936}, {"body": "<p>private static variable will be shared in subclass as well. If you changed in one subclass and the other subclass will get the changed value, in which case, it may not what you expect.</p>\n\n<pre><code>public class PrivateStatic {\n\nprivate static int var = 10;\npublic void setVar(int newVal) {\n    var = newVal;\n}\n\npublic int getVar() {\n    return var;\n}\n\npublic static void main(String... args) {\n    PrivateStatic p1 = new Sub1();\n    System.out.println(PrivateStatic.var);\n    p1.setVar(200);\n\n    PrivateStatic p2 = new Sub2();\n    System.out.println(p2.getVar());\n}\n}\n\n\nclass Sub1 extends PrivateStatic {\n\n}\n\nclass Sub2 extends PrivateStatic {\n}\n</code></pre>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/33128978#33128978", "question_id": 7279887, "answer_id": 33128978}, {"body": "<p>If you use private static variables in your class, Static Inner classes in your class can reach your variables. This is perfectly good for context security. </p>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/34740360#34740360", "question_id": 7279887, "answer_id": 34740360}, {"body": "<blockquote>\n  <p>Is declaring a variable as <code>private static varName;</code> any different from\n  declaring a variable <code>private varName;</code>?</p>\n</blockquote>\n\n<p>Yes, both are different. And the first one is called <code>class variable</code> because it holds single value for that <code>class</code> whereas the other one is called <code>instance variable</code> because it can hold different value for different <code>instances(Objects)</code>. The first one is created only once in jvm and other one is created once per instance i.e if you have 10 instances then you will have 10 different <code>private varName;</code> in jvm. </p>\n\n<blockquote>\n  <p>Does declaring the variable as <code>static</code> give it other special\n  properties?</p>\n</blockquote>\n\n<p>Yes, static variables gets some different properties than normal instance variables. I've mentioned few already and let's see some here: <code>class variables</code> (instance variables which are declared as static) can be accessed directly by using class name like <code>ClassName.varName</code>. And any object of that class can access and modify its value unlike instance variables are accessed by only its respective objects. Class variables can be used in static methods.  </p>\n\n<blockquote>\n  <p>What is the use of a <code>private static variable</code> in Java?</p>\n</blockquote>\n\n<p>Logically, <code>private static variable</code> is no different from <code>public static variable</code> rather the first one gives you more control. IMO, you can literally replace <code>public static variable</code> by <code>private static variable</code> with help of <code>public static</code> getter and setter methods. </p>\n\n<p>One widely used area of <code>private static variable</code> is in implementation of simple <code>Singleton</code> pattern where you will have only single instance of that class in whole world. Here <code>static</code> identifier plays crucial role to make that single instance is accessible by outside world(Of course public static getter method also plays main role). </p>\n\n<pre><code>public class Singleton {\n    private static Singleton singletonInstance = new Singleton();\n\n    private Singleton(){}\n\n    public static Singleton getInstance(){\n        return Singleton.singletonInstance;\n    }\n}\n</code></pre>\n", "title": "What is the use of a private static variable in Java?", "tags": ["java", "variables", "static", "private"], "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java/37929457#37929457", "question_id": 7279887, "answer_id": 37929457}], "creation_date": 1314944654, "score": 94, "link": "http://stackoverflow.com/questions/7279887/what-is-the-use-of-a-private-static-variable-in-java", "question_id": 7279887}], "quota_max": 300, "page_size": 100, "quota_remaining": 97, "page": 1}