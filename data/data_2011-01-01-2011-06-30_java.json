{"has_more": true, "items": [{"body": "<p>I just had an interview, and I was asked to create a memory leak with Java.\nNeedless to say I felt pretty dumb having no clue on how to even start creating one.</p>\n\n<p>What would an example be?</p>\n", "tags": ["java", "memory", "memory-leaks"], "title": "Creating a memory leak with Java", "answers": [{"body": "<p>Maybe by using external native code through JNI?</p>\n\n<p>With pure Java, it is almost impossible.</p>\n\n<p>But that is about a \"standard\" type of memory leak, when you cannot access the memory anymore, but it is still owned by the application. You can instead keep references to unused objects, or open streams without closing them afterwards.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6470679#6470679", "question_id": 6470651, "answer_id": 6470679}, {"body": "<p>A simple thing to do is to use a HashSet with an incorrect (or non-existent) <code>hashCode()</code> or <code>equals()</code>, and then keep adding \"duplicates\".  Instead of ignoring duplicates as it should, the set will only ever grow and you won't be able to remove them.</p>\n\n<p>If you want these bad keys/elements to hang around you can use a static field like </p>\n\n<pre><code>class BadKey {\n   // no hashCode or equals();\n   public final String key;\n   public BadKey(String key) { this.key = key; }\n}\n\nMap map = System.getProperties();\nmap.put(new BadKey(\"key\"), \"value\"); // Memory leak even if your threads die.\n</code></pre>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6470695#6470695", "question_id": 6470651, "answer_id": 6470695}, {"body": "<p>Create a static Map and keep adding hard references to it.  Those will never be GC'd.</p>\n\n<pre><code>public class Leaker {\n    private static final Map&lt;String, Object&gt; CACHE = new HashMap&lt;String, Object&gt;();\n\n    // Keep adding until failure.\n    public static void addToCache(String key, Object value) { Leaker.CACHE.put(key, value); }\n}\n</code></pre>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6470712#6470712", "question_id": 6470651, "answer_id": 6470712}, {"body": "<p>Any time you keep references around to objects that you no longer need you have a memory leak.  See <a href=\"http://www.ibm.com/developerworks/library/j-leaks/\">Handling memory leaks in Java programs</a> for examples of how memory leaks manifest themselves in Java and what you can do about it.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6470716#6470716", "question_id": 6470651, "answer_id": 6470716}, {"body": "<p>The following is a pretty pointless example, if you do not understand <a href=\"http://en.wikipedia.org/wiki/Java_Database_Connectivity\">JDBC</a>. Or at least how JDBC expects a developer to close <code>Connection</code>, <code>Statement</code> and <code>ResultSet</code> instances before discarding them or losing references to them, instead of relying on the implementation of <code>finalize</code>.</p>\n\n<pre><code>void doWork()\n{\n   try\n   {\n       Connection conn = ConnectionFactory.getConnection();\n       PreparedStatement stmt = conn.preparedStatement(\"some query\"); // executes a valid query\n       ResultSet rs = stmt.executeQuery();\n       while(rs.hasNext())\n       {\n          ... process the result set\n       }\n   }\n   catch(SQLException sqlEx)\n   {\n       log(sqlEx);\n   }\n}\n</code></pre>\n\n<p>The problem with the above is that the <code>Connection</code> object is not closed, and hence the physical connection will remain open, until the garbage collector comes around and sees that it is unreachable. GC will invoke the <code>finalize</code> method, but there are JDBC drivers that do not implement the <code>finalize</code>, at least not in the same way that <code>Connection.close</code> is implemented. The resulting behavior is that while memory will be reclaimed due to unreachable objects being collected, resources (including memory) associated with the <code>Connection</code> object might simply not be reclaimed.</p>\n\n<p>In such an event where the <code>Connection</code>'s <code>finalize</code> method does not clean up everything, one might actually find that the physical connection to the database server will last several garbage collection cycles, until the database server eventually figures out that the connection is not alive (if it does), and should be closed.</p>\n\n<p>Even if the JDBC driver were to implement <code>finalize</code>, it is possible for exceptions to be thrown during finalization. The resulting behavior is that any memory associated with the now \"dormant\" object will not be reclaimed, as <code>finalize</code> is guaranteed to be invoked only once.</p>\n\n<p>The above scenario of encountering exceptions during object finalization is related to another other scenario that could possibly lead to a memory leak - object resurrection. Object resurrection is often done intentionally by creating a strong reference to the object from being finalized, from another object. When object resurrection is misused it will lead to a memory leak in combination with other sources of memory leaks.</p>\n\n<p>There are plenty more examples that you can conjure up - like</p>\n\n<ul>\n<li>Managing a <code>List</code> instance where you are only adding to the list and not deleting from it (although you should be getting rid of elements you no longer need), or</li>\n<li>Opening <code>Socket</code>s or <code>File</code>s, but not closing them when they are no longer needed (similar to the above example involving the <code>Connection</code> class).</li>\n<li>Not unloading Singletons when bringing down a Java EE application. Apparently, the Classloader that loaded the singleton class will retain a reference to the class, and hence the singleton instance will never be collected. When a new instance of the application is deployed, a new class loader is usually created, and the former class loader will continue to exist due to the singleton.</li>\n</ul>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6470756#6470756", "question_id": 6470651, "answer_id": 6470756}, {"body": "<p>Here's a good way to create a true memory leak (objects inaccessible by running code but still stored in memory) in pure Java:</p>\n\n<ol>\n<li>The application creates a long-running thread (or use a thread pool to leak even faster).</li>\n<li>The thread loads a class via an (optionally custom) ClassLoader.</li>\n<li>The class allocates a large chunk of memory (e.g. <code>new byte[1000000]</code>), stores a strong reference to it in a static field, and then stores a reference to itself in a ThreadLocal.  Allocating the extra memory is optional (leaking the Class instance is enough), but it will make the leak work that much faster.</li>\n<li>The thread clears all references to the custom class or the ClassLoader it was loaded from.</li>\n<li>Repeat.</li>\n</ol>\n\n<p>This works because the ThreadLocal keeps a reference to the object, which keeps a reference to its Class, which in turn keeps a reference to its ClassLoader.  The ClassLoader, in turn, keeps a reference to all the Classes it has loaded.  It gets worse because in many JVM implementations Classes and ClassLoaders are allocated straight into permgen and are never GC'd at all.</p>\n\n<p>A variation on this pattern is why application containers (like Tomcat) can leak memory like a sieve if you frequently redeploy applications that happen to use ThreadLocals in any way.  (Since the application container uses Threads as described, and each time you redeploy the application a new ClassLoader is used.)</p>\n\n<p><strong>Update</strong>: Since lots of people keep asking for it, <a href=\"https://gist.github.com/dpryden/b2bb29ee2d146901b4ae\">here's some example code that shows this behavior in action</a>.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6471947#6471947", "question_id": 6470651, "answer_id": 6471947}, {"body": "<p>Probably one of the simplest examples of a potential memory leak, and how to avoid it, is the implementation of ArrayList.remove(int):</p>\n\n<pre><code>public E remove(int index) {\n    RangeCheck(index);\n\n    modCount++;\n    E oldValue = (E) elementData[index];\n\n    int numMoved = size - index - 1;\n    if (numMoved &gt; 0)\n        System.arraycopy(elementData, index + 1, elementData, index,\n                numMoved);\n    elementData[--size] = null; // (!) Let gc do its work\n\n    return oldValue;\n}\n</code></pre>\n\n<p>If you were implementing it yourself, would you have thought to clear the array element that is no longer used (<code>elementData[--size] = null</code>)? That reference might keep a huge object alive ...</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6473952#6473952", "question_id": 6470651, "answer_id": 6473952}, {"body": "<p>A common example of this in GUI code is when creating a widget/component and adding a listener to some static/application scoped object and then not removing the listener when the widget is destroyed. Not only do you get a memory leak, but also a performance hit as when whatever you are listening to fires events, all your old listeners are called too.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6507454#6507454", "question_id": 6470651, "answer_id": 6507454}, {"body": "<p>I have had a nice \"memory leak\" in relation to PermGen and XML parsing once.\nThe XML parser we used (I can't remember which one it was) did a String.intern() on tag names, to make comparison faster.\nOne of our customers had the great idea to store data values not in XML attributes or text, but as tagnames, so we had a document like:</p>\n\n<pre><code>&lt;data&gt;\n   &lt;1&gt;bla&lt;/1&gt;\n   &lt;2&gt;foo&lt;/&gt;\n   ...\n&lt;/data&gt;\n</code></pre>\n\n<p>In fact, they did not use numbers but longer textual IDs (around 20 characters), which were unique and came in at a rate of 10-15 million a day. That makes 200&nbsp;MB of rubbish a day, which is never needed again, and never GCed (since it is in PermGen). We had permgen set to 512&nbsp;MB, so it took around two days for the out-of-memory exception (OOME) to arrive...</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6532172#6532172", "question_id": 6470651, "answer_id": 6532172}, {"body": "<p>Below there will be a non-obvious case where Java leaks, besides the standard case of forgotten listeners, static references, bogus/modifiable keys in hashmaps, or just threads stuck without any chance to end their life-cycle.</p>\n\n<ul>\n<li><code>File.deleteOnExit()</code> - always leaks the string, <del>if the string is a substring, the leak is even worse (the underlying char[] is also leaked)</del> - <em>in Java&nbsp;7 substring also copies the <code>char[]</code>, so the later doesn't apply</em>; @Daniel, no needs for votes, though.</li>\n</ul>\n\n<p>I'll concentrate on threads to show the danger of unmanaged threads mostly, don't wish to even touch swing.</p>\n\n<ul>\n<li><p><code>Runtime.addShutdownHook</code> and not remove... and then even with removeShutdownHook due to a bug in ThreadGroup class regarding unstarted threads it may not get collected, effectively leak the ThreadGroup. JGroup has the leak in GossipRouter.</p></li>\n<li><p>Creating, but not starting, a <code>Thread</code> goes into the same category as above.</p></li>\n<li><p>Creating a thread inherits the <code>ContextClassLoader</code> and <code>AccessControlContext</code>, plus the <code>ThreadGroup</code> and any <code>InheritedThreadLocal</code>, all those references are potential leaks, along with the entire classes loaded by the classloader and all static references, and ja-ja. The effect is especially visible with the entire j.u.c.Executor framework that features a super simple <code>ThreadFactory</code> interface, yet most developers have no clue of the lurking danger. Also a lot of libraries do start threads upon request (way too many industry popular libraries).</p></li>\n<li><p><code>ThreadLocal</code> caches; those are evil in many cases. I am sure everyone has seen quite a bit of simple caches based on ThreadLocal, well the bad news: if the thread keeps going more than expected the life the context ClassLoader, it is a pure nice little leak. Do not use ThreadLocal caches unless really needed.</p></li>\n<li><p>Calling <code>ThreadGroup.destroy()</code> when the ThreadGroup has no threads itself, but it still keeps child ThreadGroups. A bad leak that will prevent the ThreadGroup to remove from its parent, but all the children become un-enumerateable.</p></li>\n<li><p>Using WeakHashMap and the value (in)directly references the key. This is a hard one to find without a heap dump. That applies to all extended <code>Weak/SoftReference</code> that might keep a hard reference back to the guarded object.</p></li>\n<li><p>Using <code>java.net.URL</code> with the HTTP(S) protocol and loading the resource from(!). This one is special, the <code>KeepAliveCache</code> creates a new thread in the system ThreadGroup which leaks the current thread's context classloader. The thread is created upon the first request when no alive thread exists, so either you may get lucky or just leak. <em>The leak is already fixed in Java&nbsp;7 and the code that creates thread properly removes the context classloader.</em> There are few more cases (<del>like ImageFetcher</del>, <em>also fixed</em>) of creating similar threads.</p></li>\n<li><p>Using <code>InflaterInputStream</code> passing <code>new java.util.zip.Inflater()</code> in the constructor (<code>PNGImageDecoder</code> for instance) and not calling <code>end()</code> of the inflater. Well, if you pass in the constructor with just <code>new</code>, no chance... And yes, calling <code>close()</code> on the stream does not close the inflater if it's manually passed as constructor parameter. This is not a true leak since it'd be released by the finalizer... when it deems it necessary. Till that moment it eats native memory so badly it can cause Linux oom_killer to kill the process with impunity. The main issue is that finalization in Java is very unreliable and G1 made it worse till 7.0.2. Moral of the story: release native resources as soon as you can; the finalizer is just too poor.</p></li>\n<li><p>The same case with <code>java.util.zip.Deflater</code>. This one is far worse since Deflater is memory hungry in Java, i.e. always uses 15&nbsp;bits (max) and 8&nbsp;memory levels (9 is max) allocating several hundreds KB of native memory. Fortunately, <code>Deflater</code> is not widely used and to my knowledge JDK contains no misuses. Always call <code>end()</code> if you manually create a <code>Deflater</code> or <code>Inflater</code>. The best part of the last two: <em>you can't find them via normal profiling tools available.</em></p></li>\n</ul>\n\n<p><em>(I can add some more time wasters I have encountered upon request.)</em></p>\n\n<p>Good luck and stay safe; leaks are evil!</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6540248#6540248", "question_id": 6470651, "answer_id": 6540248}, {"body": "<p>Most examples here are \"too complex\". They are edge cases. With these examples, the programmer made a mistake (like don't redifining equals/hashcode), or has been bitten by a corner case of the JVM/JAVA (load of class with static...). I think that's not the type of example an interviewer want or even the most common case.</p>\n\n<p>But there are really simpler cases for memory leaks. The garbage collector only frees what is no longer referenced. We as Java developpers don't care about memory. We allocate it when needed and let it be freed automatically. Fine.</p>\n\n<p>But any long-lived application tend to have shared state. It can be anything, statics, singletons... Often non-trivial applications tend to make complex objects graphs. Just forgetting to set a reference to null or more often forgetting to remove one object from a collection is enough to make a memory leak.</p>\n\n<p>Of course all sort of listeners (like UI listeners), caches, or any long-lived shared state tend to produce memory leak if not properly handled. What shall be understood is that this is not a Java corner case, or a problem with the garbage collector. It is a design problem. We design that we add a listener to a long-lived object, but we don't remove the listener when no longer needed. We cache objects, but we have no strategy to remove them from the cache.</p>\n\n<p>We maybe have a complex graph that store the previous state that is needed by a computation. But the previous state is itself linked to the state before and so on.</p>\n\n<p>Like we have to close SQL connections or files. We need to set proper referenres to null and remove elements from the collection. We shall have proper caching strategies (maximum memory size, number of elements, or timers). All objects that allow a listener to be notified must provide both a addListener and removeListener method. And when these notifiers are no longer used, they must clear their listener list.</p>\n\n<p>A memory leak is indeed truly possible and is perfectly predictible. No need for special language features or corner cases. Memory leaks are either an indicator that something is maybe missing or even of design problems.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6545142#6545142", "question_id": 6470651, "answer_id": 6545142}, {"body": "<p><strong>Static field holding object reference [esp final field]</strong></p>\n\n<pre><code>class MemorableClass {\n    static final ArrayList list = new ArrayList(100);\n}\n</code></pre>\n\n<p><strong>Calling <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#intern%28%29\"><code>String.intern()</code></a> on lengthy String</strong></p>\n\n<pre><code>String str=readString(); // read lengthy string any source db,textbox/jsp etc..\n// This will place the string in memory pool from which you cant remove\nstr.intern();\n</code></pre>\n\n<p><strong>(Unclosed) open streams ( file , network etc... )</strong></p>\n\n<pre><code>try {\n    BufferedReader br = new BufferedReader(new FileReader(inputFile));\n    ...\n    ...\n} catch (Exception e) {\n    e.printStacktrace();\n}\n</code></pre>\n\n<p><strong>Unclosed connections</strong></p>\n\n<pre><code>try {\n    Connection conn = ConnectionFactory.getConnection();\n    ...\n    ...\n} catch (Exception e) {\n    e.printStacktrace();\n}\n</code></pre>\n\n<p><strong>Areas that are unreachable from JVM's garbage collector</strong>, such as memory allocated through native methods</p>\n\n<p>In web applications, some objects are stored in application scope until the application is explicitly stopped or removed.</p>\n\n<pre><code>getServletContext().setAttribute(\"SOME_MAP\", map);\n</code></pre>\n\n<p><strong>Incorrect or inappropriate JVM options</strong>, such as the <code>noclassgc</code> option on IBM JDK that prevents unused class garbage collection </p>\n\n<p>See <a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v6r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/tprf_tunejvm.html\">IBM jdk settings</a>.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6548647#6548647", "question_id": 6470651, "answer_id": 6548647}, {"body": "<p>The answer depends entirely on what the interviewer thought they were asking. </p>\n\n<p>Is it possible in practice to make Java leak? Of course it is, and there are plenty of examples in the other answers.</p>\n\n<p>But there are multiple meta-questions that may have been being asked?</p>\n\n<ul>\n<li>Is a theoretically \"perfect\" Java implementation vulnerable to leaks?</li>\n<li>Does the candidate understand the difference between theory and reality?</li>\n<li>Does the candidate understand how garbage collection works?</li>\n<li>Or how garbage collection is supposed to work in an ideal case?</li>\n<li>Do they know they can call other languages through native interfaces?</li>\n<li>Do they know to leak memory in those other languages?</li>\n<li>Does the candidate even know what memory management is, and what is going on behind the scene in Java?</li>\n</ul>\n\n<p>I'm reading your meta-question as \"What's an answer I could have used in this interview situation\". And hence, I'm going to focus on interview skills instead of Java. I believe your more likely to repeat the situation of not knowing the answer to a question in an interview than you are to be in a place of needing to know how to make Java leak. So, hopefully, this will help.</p>\n\n<p>One of the most important skills you can develop for interviewing is learning to actively listen to the questions and working with the interviewer to extract their intent. Not only does this let you answer their question the way they want, but also shows that you have some vital communication skills. And when it comes down to a choice between many equally talented developers, I'll hire the one who listens, thinks, and understands before they respond every time.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6552732#6552732", "question_id": 6470651, "answer_id": 6552732}, {"body": "<p>I can copy my answer from here:\n<a href=\"http://stackoverflow.com/questions/4948529/easiest-way-to-cause-memory-leak-in-java/4948763\">Easiest way to cause memory leak in Java?</a></p>\n\n<p>\"A memory leak, in computer science (or leakage, in this context), occurs when a computer program consumes memory but is unable to release it back to the operating system.\" (Wikipedia)</p>\n\n<p>The easy answer is: You can't. Java does automatic memory management and will free resources that are not needed for you. You can't stop this from happening. It will ALWAYS be able to release the resources. In programs with manual memory management, this is different. You cann get some memory in C using malloc(). To free the memory, you need the pointer that malloc returned and call free() on it. But if you don't have the pointer anymore (overwritten, or lifetime exceeded), then you are unfortunately incapable of freeing this memory and thus you have a memory leak.</p>\n\n<p>All the other answers so far are in my definition not really memory leaks. They all aim at filling the memory with pointless stuff real fast. But at any time you could still dereference the objects you created and thus freeing the memory --> NO LEAK. <a href=\"http://stackoverflow.com/a/4948560/327301\">acconrad's answer</a> comes pretty close though as I have to admit since his solution is effectively to just \"crash\" the garbage collector by forcing it in an endless loop).</p>\n\n<p>The long answer is: You can get a memory leak by writing a library for Java using the JNI, which can have manual memory management and thus have memory leaks. If you call this library, your java process will leak memory. Or, you can have bugs in the JVM, so that the JVM looses memory. There are probably bugs in the JVM, there may even be some known ones since garbage collection is not that trivial, but then it's still a bug. By design this is not possible. You may be asking for some java code that is effected by such a bug. Sorry I don't know one and it might well not be a bug anymore in the next Java version anyway.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6556426#6556426", "question_id": 6470651, "answer_id": 6556426}, {"body": "<p>I think that a valid example could be using ThreadLocal variables in an environment where threads are pooled. </p>\n\n<p>For instance, using ThreadLocal variables in Servlets to communicate with other web components, having the threads being created by the container and maintaining the idle ones in a pool. ThreadLocal variables, if not correctly cleaned up, will live there until, possibly, the same web component overwrites their values.</p>\n\n<p>Of course, once identified, the problem can be solved easily.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6561539#6561539", "question_id": 6470651, "answer_id": 6561539}, {"body": "<p>I don't think anyone has said this yet: you can resurrect an object by overriding the finalize() method such that finalize() stores a reference of this somewhere. The garbage collector will only be called once on the object so after that the object will never destroyed. </p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6564426#6564426", "question_id": 6470651, "answer_id": 6564426}, {"body": "<p>Take any web application running in any servlet container (Tomcat, Jetty, Glassfish, whatever...). Redeploy the app 10 or 20 times in a row (it may be enough to simply touch the WAR in the server's autodeploy directory.</p>\n\n<p>Unless anybody has actually tested this, chances are high that you'll get an OutOfMemoryError after a couple of redeployments, because the application did not take care to clean up after itself. You may even find a bug in your server with this test.</p>\n\n<p>The problem is, the lifetime of the container is longer than the lifetime of your application. You have to make sure that all references the container might have to objects or classes of your application can be garbage collected.</p>\n\n<p>If there is just one reference surviving the undeployment of your web app, the corresponding classloader and by consequence all classes of your web app cannot be garbage collected.</p>\n\n<p>Threads started by your application, ThreadLocal variables, logging appenders are some of the usual suspects to cause classloader leaks.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6565985#6565985", "question_id": 6470651, "answer_id": 6565985}, {"body": "<p>The interviewer might have be looking for a circular reference solution:</p>\n\n<pre><code>    public static void main(String[] args) {\n        while (true) {\n            Element first = new Element();\n            first.next = new Element();\n            first.next.next = first;\n        }\n    }\n</code></pre>\n\n<p>This is a classic problem with reference counting garbage collectors.  You would then politely explain that JVMs use a much more sophisticated algorithm that doesn't have this limitation.</p>\n\n<p>-Wes Tarle</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6573191#6573191", "question_id": 6470651, "answer_id": 6573191}, {"body": "<p>I thought it was interesting that no one used the internal class examples.  If you have an internal class; it inherently maintains a reference to the containing class.  Of course it is not technically a memory leak because Java WILL eventually clean it up; but this can cause classes to hang around longer than anticipated.</p>\n\n<pre><code>public class Example1 {\n  public Example2 getNewExample2() {\n    return this.new Example2();\n  }\n  public class Example2 {\n    public Example2() {}\n  }\n}\n</code></pre>\n\n<p>Now if you call Example1 and get an Example2 discarding Example1, you will inherently still have a link to an Example1 object.</p>\n\n<pre><code>public class Referencer {\n  public static Example2 GetAnExample2() {\n    Example1 ex = new Example1();\n    return ex.getNewExample2();\n  }\n\n  public static void main(String[] args) {\n    Example2 ex = Referencer.GetAnExample2();\n    // As long as ex is reachable; Example1 will always remain in memory.\n  }\n}\n</code></pre>\n\n<p>I've also heard a rumor that if you have a variable that exists for longer than a specific amount of time; Java assumes that it will always exist and will actually never try to clean it up if cannot be reached in code anymore.  But that is completely unverified.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6632102#6632102", "question_id": 6470651, "answer_id": 6632102}, {"body": "<p>there are many different situations memory will leak. One i encountered, which expose a map that should not be exposed and used in other place. </p>\n\n<pre><code>public class ServiceFactory {\n\nprivate Map&lt;String, Service&gt; services;\n\nprivate static ServiceFactory singleton;\n\nprivate ServiceFactory() {\n    services = new HashMap&lt;String, Service&gt;();\n}\n\npublic static synchronized ServiceFactory getDefault() {\n\n    if (singleton == null) {\n        singleton = new ServiceFactory();\n    }\n    return singleton;\n}\n\npublic void addService(String name, Service serv) {\n    services.put(name, serv);\n}\n\npublic void removeService(String name) {\n    services.remove(name);\n}\n\npublic Service getService(String name, Service serv) {\n    return services.get(name);\n}\n\n// the problematic api, which expose the map.\n//and user can do quite a lot of thing from this api.\n//for example, create service reference and forget to dispose or set it null\n//in all this is a dangerous api, and should not expose \npublic Map&lt;String, Service&gt; getAllServices() {\n    return services;\n}\n\n}\n\n// resource class is a heavy class\nclass Service {\n\n}\n</code></pre>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6639894#6639894", "question_id": 6470651, "answer_id": 6639894}, {"body": "<p>You are able to make memory leak with <strong>sun.misc.Unsafe</strong> class. In fact this service class is used in different standard classes (for example in <strong>java.nio</strong> classes). <strong>You can't create instance of this class directly</strong>, but you may <strong>use reflection to do that</strong>.</p>\n\n<p>Code doesn't compile in Eclipse IDE - compile it using command <code>javac</code> (during compilation you'll get warnings)</p>\n\n<pre><code>import java.lang.reflect.Constructor;\nimport java.lang.reflect.Field;\nimport sun.misc.Unsafe;\n\n\npublic class TestUnsafe {\n\n    public static void main(String[] args) throws Exception{\n        Class unsafeClass = Class.forName(\"sun.misc.Unsafe\");\n        Field f = unsafeClass.getDeclaredField(\"theUnsafe\");\n        f.setAccessible(true);\n        Unsafe unsafe = (Unsafe) f.get(null);\n        System.out.print(\"4..3..2..1...\");\n        try\n        {\n            for(;;)\n                unsafe.allocateMemory(1024*1024);\n        } catch(Error e) {\n            System.out.println(\"Boom :)\");\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6650413#6650413", "question_id": 6470651, "answer_id": 6650413}, {"body": "<p>One possibility is to create a wrapper for an ArrayList that only provides one method: one that adds things to the ArrayList.  Make the ArrayList itself private.  Now, construct one of these wrapper objects in global scope (as a static object in a class) and qualify it with the <strong>final</strong> keyword (e.g. <code>public static final ArrayListWrapper wrapperClass = new ArrayListWrapper()</code>).  So now the reference cannot be altered.  That is, <code>wrapperClass = null</code> won't work and can't be used to free the memory.  But there's also no way to do anything with <code>wrapperClass</code> other than add objects to it.  Therefore, any objects you do add to <code>wrapperClass</code> are impossible to recycle.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6714461#6714461", "question_id": 6470651, "answer_id": 6714461}, {"body": "<p>An example I recently fixed is creating new GC and Image objects, but forgetting to call dispose() method.</p>\n\n<p>GC javadoc snippet:</p>\n\n<blockquote>\n  <p>Application code must explicitly invoke the GC.dispose() method to\n  release the operating system resources managed by each instance when\n  those instances are no longer required. This is particularly important\n  on Windows95 and Windows98 where the operating system has a limited\n  number of device contexts available.</p>\n</blockquote>\n\n<p>Image javadoc snippet:</p>\n\n<blockquote>\n  <p>Application code must explicitly invoke the Image.dispose() method to\n  release the operating system resources managed by each instance when\n  those instances are no longer required.</p>\n</blockquote>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6780310#6780310", "question_id": 6470651, "answer_id": 6780310}, {"body": "<p>Here's a simple/sinister one via <a href=\"http://wiki.eclipse.org/Performance_Bloopers#String.substring.28.29\">http://wiki.eclipse.org/Performance_Bloopers#String.substring.28.29</a>.</p>\n\n<pre><code>public class StringLeaker\n{\n    private final String muchSmallerString;\n\n    public StringLeaker()\n    {\n        // Imagine the whole Declaration of Independence here\n        String veryLongString = \"We hold these truths to be self-evident...\";\n\n        // The substring here maintains a reference to the internal char[]\n        // representation of the original string.\n        this.muchSmallerString = veryLongString.substring(0, 1);\n    }\n}\n</code></pre>\n\n<p>Because the substring refers to the internal representation of the original, much longer string, the original stays in memory. Thus, as long as you have a StringLeaker in play, you have the whole original string in memory, too, even though you might think you're just holding on to a single-character string.</p>\n\n<p>The way to avoid storing an unwanted reference to the original string is to do something like this:</p>\n\n<pre><code>...\nthis.muchSmallerString = new String(veryLongString.substring(0, 1));\n...\n</code></pre>\n\n<p>For added badness, you might also <code>.intern()</code> the substring:</p>\n\n<pre><code>...\nthis.muchSmallerString = veryLongString.substring(0, 1).intern();\n...\n</code></pre>\n\n<p>Doing so will keep both the original long string and the derived substring in memory even after the StringLeaker instance has been discarded.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6780439#6780439", "question_id": 6470651, "answer_id": 6780439}, {"body": "<p>As a lot of people have suggested, Resource Leaks are fairly easy to cause - like the JDBC examples. Actual Memory leaks are a bit harder - especially if you aren't relying on broken bits of the JVM to do it for you...</p>\n\n<p>The ideas of creating objects that have a very large footprint and then not being able to access them aren't real memory leaks either. If nothing can access it then it will be garbage collected, and if something can access it then it's not a leak...</p>\n\n<p>One way that <em>used</em> to work though - and I don't know if it still does - is to have a three-deep circular chain. As in Object A has a reference to Object B, Object B has a reference to Object C and Object C has a reference to Object A. The GC was clever enough to know that a two deep chain - as in A &lt;--> B - can safely be collected if A and B aren't accessible by anything else, but couldn't handle the three-way chain...</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6780483#6780483", "question_id": 6470651, "answer_id": 6780483}, {"body": "<p>I recently encountered a memory leak situation caused in a way by log4j.</p>\n\n<p>Log4j has this mechanism called <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\">Nested Diagnostic Context(NDC)</a>  which is an instrument to distinguish interleaved log output from different sources. The granularity at which NDC works is threads, so it distinguishes log outputs from different threads separately.</p>\n\n<p>In order to store thread specific tags, log4j's NDC class uses a Hashtable which is keyed by the Thread object itself (as opposed to say the thread id), and thus till the NDC tag stays in memory all the objects that hang off of the thread object also stay in memory. In our web application we use NDC to tag logoutputs with a request id to distinguish logs from a single request separately. The container that associates the NDC tag with a thread, also removes it while returning the response from a request. The problem occurred when during the course of processing a request, a child thread was spawned, something like the following code:</p>\n\n<pre><code>pubclic class RequestProcessor {\n    private static final Logger logger = Logger.getLogger(RequestProcessor.class);\n    public void doSomething()  {\n        ....\n        final List&lt;String&gt; hugeList = new ArrayList&lt;String&gt;(10000);\n        new Thread() {\n           public void run() {\n               logger.info(\"Child thread spawned\")\n               for(String s:hugeList) {\n                   ....\n               }\n           }\n        }.start();\n    }\n}    \n</code></pre>\n\n<p>So an NDC context was associated with inline thread that was spawned. The thread object that was the key for this NDC context, is the inline thread which has the hugeList object hanging off of it. Hence even after the thread finished doing what it was doing, the reference to the hugeList was kept alive by the NDC context Hastable, thus causing a memory leak.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6781750#6781750", "question_id": 6470651, "answer_id": 6781750}, {"body": "<p>Everyone always forgets the native code route.  Here's a simple formula for a leak:</p>\n\n<ol>\n<li>Declare native method.</li>\n<li>In native method, call <code>malloc</code>.  Don't call <code>free</code>.</li>\n<li>Call the native method.</li>\n</ol>\n\n<p>Remember, memory allocations in native code come from the JVM heap.  </p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6782636#6782636", "question_id": 6470651, "answer_id": 6782636}, {"body": "<p>Theoretically you can't. Java memory model prevents it. However, because Java has to be implemented, there are some caveats you can use. Depends on what you can use:</p>\n\n<ul>\n<li><p>If you can use native, you can allocate memory that you don not relinquish later. </p></li>\n<li><p>If that is not available, there is a dirty little secret about java that not much people know. You can ask for a direct access array that is not managed by GC, and therefor can be easily used to make a memory leak. This is provided by DirectByteBuffer (http://download.oracle.com/javase/1.5.0/docs/api/java/nio/ByteBuffer.html#allocateDirect(int)). </p></li>\n<li><p>If you can't use any of those, you still can make a memory leak by tricking the GC. The JVM is implemented using a Generational garbage collection. What this means is that the heap is divided into areas: young, adults and elders. An object when its created starts at the young area. As he is used more and more, he progresses into adults up to elders. An object that reaches the eldery area most likely will not be garbaged collected. You cannot be sure that an object is leaked and if you ask for a stop and clean GC it may clean it but for a long period of time he will be leaked. More info at (http://java.sun.com/docs/hotspot/gc1.4.2/faq.html) </p></li>\n<li><p>Also, class objects are not required to be GC'ed. Might me a way to do it.</p></li>\n</ul>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6783910#6783910", "question_id": 6470651, "answer_id": 6783910}, {"body": "<p>You can create a moving memory leak by creating a new instance of a class in that class's finalize method. Bonus points if the finalizer creates multiple instances. Here's a simple program that leaks the entire heap in sometime between a few seconds and a few minutes depending on your heap size:</p>\n\n<pre><code>class Leakee {\n    public void check() {\n        if (depth &gt; 2) {\n            Leaker.done();\n        }\n    }\n    private int depth;\n    public Leakee(int d) {\n        depth = d;\n    }\n    protected void finalize() {\n        new Leakee(depth + 1).check();\n        new Leakee(depth + 1).check();\n    }\n}\n\npublic class Leaker {\n    private static boolean makeMore = true;\n    public static void done() {\n        makeMore = false;\n    }\n    public static void main(String[] args) throws InterruptedException {\n        // make a bunch of them until the garbage collector gets active\n        while (makeMore) {\n            new Leakee(0).check();\n        }\n        // sit back and watch the finalizers chew through memory\n        while (true) {\n            Thread.sleep(1000);\n            System.out.println(\"memory=\" +\n                    Runtime.getRuntime().freeMemory() + \" / \" +\n                    Runtime.getRuntime().totalMemory());\n        }\n    }\n}\n</code></pre>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6787206#6787206", "question_id": 6470651, "answer_id": 6787206}, {"body": "<p>Most of the memory leaks I've seen in java concern processes getting out of sync.</p>\n\n<p>Process A talks to B via TCP, and tells process B to create something. B issues the resource an ID, say 432423, which A stores in an object and uses while talking to B. At some point the object in A is reclaimed by garbage collection (maybe due to a bug), but A never tells B that (maybe another bug).</p>\n\n<p>Now A doesn't have the ID of the object it's created in B's RAM any more, and B doesn't know that A has no more reference to the object. In effect, the object is leaked.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6788650#6788650", "question_id": 6470651, "answer_id": 6788650}, {"body": "<p>A few suggestions:</p>\n\n<ul>\n<li>use commons-logging in a servlet container (a bit provocative perhaps)</li>\n<li>start a thread in a servlet container and don't return from it's run method</li>\n<li>load animated gifs in a servlet container (this will start an animation thread)</li>\n</ul>\n\n<p>The above effects could be 'improved' by redeploying the application ;)</p>\n\n<p>Recently stumbled upon this: </p>\n\n<ul>\n<li>Calling \"new java.util.zip.Inflater();\" without calling \"Inflater.end()\" ever</li>\n</ul>\n\n<p>Read <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5072161\">http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5072161</a> and linked issues for an in-depth-discussion.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/6791637#6791637", "question_id": 6470651, "answer_id": 6791637}, {"body": "<p>In Java a \"memory leak\" is primarily just you using too much memory which is different than in C where you are no longer using the memory but forget to return (free) it. When an interviewer asks about Java memory leaks they are asking about JVM memory usage just appearing to keep going up and they determined that restarting the JVM on a regular basis is the best fix. (unless the interviewer is <em>extremely</em> technically savvy)</p>\n\n<p>So answer this question as if they asked what makes JVM memory usage grow over time. Good answers would be storing too much data in a HttpSessions with overly long timeout or a poorly implemented in-memory cache (Singleton) that never flushes old entries. Another potential answer is having lots of JSPs or dynamically generated classes. Classes are loaded into an area of memory called PermGen that is usually small and most JVMs don't implement class unloading.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/10842325#10842325", "question_id": 6470651, "answer_id": 10842325}, {"body": "<p>I came across a more subtle kind of resource leak recently.\nWe open resources via class loader's getResourceAsStream and it happened that the input stream handles were not closed.</p>\n\n<p>Uhm, you might say, what an idiot. </p>\n\n<p>Well, what makes this interesting is: this way, you can leak heap memory of the underlying process, rather than from JVM's heap.</p>\n\n<p>All you need is a jar file with a file inside which will be referenced from Java code. The bigger the jar file, the quicker memory gets allocated.</p>\n\n<p>You can easily create such a jar with the following class:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class BigJarCreator {\n    public static void main(String[] args) throws IOException {\n        ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(new File(\"big.jar\")));\n        zos.putNextEntry(new ZipEntry(\"resource.txt\"));\n        zos.write(\"not too much in here\".getBytes());\n        zos.closeEntry();\n        zos.putNextEntry(new ZipEntry(\"largeFile.out\"));\n        for (int i=0 ; i&lt;10000000 ; i++) {\n            zos.write((int) (Math.round(Math.random()*100)+20));\n        }\n        zos.closeEntry();\n        zos.close();\n    }\n}\n</code></pre>\n\n<p>Just paste into a file named BigJarCreator.java, compile and run it from command line: </p>\n\n<pre><code>javac BigJarCreator.java\njava -cp . BigJarCreator\n</code></pre>\n\n<p>Et voil\u00e0: you find a jar archive in your current working directory with two files inside.</p>\n\n<p>Let's create a second class:</p>\n\n<pre><code>public class MemLeak {\n    public static void main(String[] args) throws InterruptedException {\n        int ITERATIONS=100000;\n        for (int i=0 ; i&lt;ITERATIONS ; i++) {\n            MemLeak.class.getClassLoader().getResourceAsStream(\"resource.txt\");\n        }\n        System.out.println(\"finished creation of streams, now waiting to be killed\");\n\n        Thread.sleep(Long.MAX_VALUE);\n    }\n\n}\n</code></pre>\n\n<p>This class basically does nothing, but create unreferenced InputStream objects. Those objects will be garbage collected immediately and thus, do not contribute to heap size.\nIt is important for our example to load an existing resource from a jar file, and size does matter here!</p>\n\n<p>If you're doubtful, try to compile and start the class above, but make sure to chose a decent heap size (2 MB):</p>\n\n<pre><code>javac MemLeak.java\njava -Xmx2m -classpath .:big.jar MemLeak\n</code></pre>\n\n<p>You will not encounter an OOM error here, as no references are kept, the application will keep running no matter how large you chose ITERATIONS in the above example.\nThe memory consumption of your process (visible in top (RES/RSS) or process explorer) grows unless the application gets to the wait command. In the setup above, it will allocate around 150 MB in memory.</p>\n\n<p>If you want the application to play safe, close the input stream right where it's created:</p>\n\n<pre><code>MemLeak.class.getClassLoader().getResourceAsStream(\"resource.txt\").close();\n</code></pre>\n\n<p>and your process will not exceed 35 MB, independent of the iteration count.</p>\n\n<p>Quite simple and surprising.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/12395504#12395504", "question_id": 6470651, "answer_id": 12395504}, {"body": "<p>Swing has it very easy with dialogs. Create a JDialog, show it, the user closes it, leak!\nYou have to call <code>dispose()</code> or configure <code>setDefaultCloseOperation(DISPOSE_ON_CLOSE)</code></p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/12629746#12629746", "question_id": 6470651, "answer_id": 12629746}, {"body": "<p>If Max heap size is X.  Y1....Yn  no of instances  So,total memory= number of instances X Bytes per instance.If X1......Xn is bytes per instances.Then total memory(M)=Y1 * X1+.....+Yn *Xn. So,if M>X  it exceeds heap space .  following can be  the   problems in code \n1.Use of more instances variable then local one.\n2.Creating instances every time instead of pooling object.\n3.Not Creating the object on demand.\n4.Making the object reference null after the completion of operation.Again ,recreating when it is demanded in program.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/13678802#13678802", "question_id": 6470651, "answer_id": 13678802}, {"body": "<p>Here is a very simple Java program that will run out of space</p>\n\n<pre><code>public class OutOfMemory {\n\n    public static void main(String[] arg) {\n\n        List&lt;Long&gt; mem = new LinkedList&lt;Long&gt;();\n        while (true) {\n            mem.add(new Long(Long.MAX_VALUE));\n        }\n    }\n}\n</code></pre>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/14151509#14151509", "question_id": 6470651, "answer_id": 14151509}, {"body": "<p>If you don't use a compacting garbage collector, you can have some sort of a memory leak due to heap fragmentation.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/15261858#15261858", "question_id": 6470651, "answer_id": 15261858}, {"body": "<p>Lapsed Listerners is a good example of memory leaks: Object is added as a Listener. All references to the object are nulled when the object is not needed anymore. However, forgetting to remove the object from the Listener list keeps the object alive and even responding to events, thereby wasting both memory and CPU. See <a href=\"http://www.drdobbs.com/jvm/java-qa/184404011\" rel=\"nofollow\">http://www.drdobbs.com/jvm/java-qa/184404011</a></p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/17541704#17541704", "question_id": 6470651, "answer_id": 17541704}, {"body": "<p>Throw an unhandled exception from the finalize method.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/18510634#18510634", "question_id": 6470651, "answer_id": 18510634}, {"body": "<p>Threads are not collected until they terminate. They serve as <a href=\"http://stackoverflow.com/questions/6366211/what-are-the-roots\">roots</a> of garbage collection. They are one of the few objects that won't be reclaimed simply by forgetting about them or clearing references to them.</p>\n\n<p>Consider: the basic pattern to terminate a worker thread is to set some condition variable seen by the thread. The thread can check the variable periodically and use that as a signal to terminate. If the variable is not declared <code>volatile</code>, then the change to the variable might not be seen by the thread, so it won't know to terminate. Or imagine if some threads want to update a shared object, but deadlock while trying to lock on it.</p>\n\n<p>If you only have a handful of threads these bugs will probably be obvious because your program will stop working properly. If you have a thread pool that creates more threads as needed, then the obsolete/stuck threads might not be noticed, and will accumulate indefinitely, causing a memory leak. Threads are likely to use other data in your application, so will also prevent anything they directly reference from ever being collected.</p>\n\n<p>As a toy example:</p>\n\n<pre><code>static void leakMe(final Object object) {\n    new Thread() {\n        public void run() {\n            Object o = object;\n            for (;;) {\n                try {\n                    sleep(Long.MAX_VALUE);\n                } catch (InterruptedException e) {}\n            }\n        }\n    }.start();\n}\n</code></pre>\n\n<p>Call <code>System.gc()</code> all you like, but the object passed to <code>leakMe</code> will never die.</p>\n\n<p>(*edited*)</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/18544736#18544736", "question_id": 6470651, "answer_id": 18544736}, {"body": "<p>A thread that does not terminate (say sleeps indefinitely in its run method). It will not be garbage collected even if we loose a reference to it. You can add fields to make the thread object is a big as you want.</p>\n\n<p>The currently top answer lists more tricks around this but these seem redundant.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/20972237#20972237", "question_id": 6470651, "answer_id": 20972237}, {"body": "<p>There are many answers on how to create a memory leak in Java, but please note the point asked during the interview.</p>\n\n<p>\"how to create a memory leak with Java?\" is an open-ended question, whose purpose is to evaluate the degree of experience a developer has.</p>\n\n<p>If I ask you \"Do you have experience troubleshooting memory leaks in Java?\", your answer would be a simple \"Yes\".\nI would have then to follow up with \"Could you give me examples where you hat to troubleshoot memory leaks?\", to which you would give me one or two examples.</p>\n\n<p>However, when the interviewer asks \"how to create a memory leak with Java?\" the expected answer should follow alongs these lines:</p>\n\n<ul>\n<li>I've encountered a memory leak ... (say when) [that shows me experience]</li>\n<li>The code that was causing it was... (explain code) [you fixed it yourself]</li>\n<li>The fix I applied was based on ... (explain fix) [this gives me a chance to ask specifics about the fix]</li>\n<li>The test I did was ... [gives me the chance of asking other testing methodologies]</li>\n<li>I documented it this way ... [extra points. Good if you documented it]</li>\n<li>So, it is reasonable to think that, if we follow this in reverse order, which is, get the code I fixed, and remove my fix, that we would have a memory leak.</li>\n</ul>\n\n<p>When the developer fails to follow this line of thought I try to guide him/her asking \"Could you give me an example of how could Java leak memory?\", followed by \"Did you ever have to fix any memory leak in Java?\"</p>\n\n<p>Note that I am <strong>not</strong> asking for an example on how to leak memory in Java. That would be silly. Who would be interested in a developer who can effectively write code that leaks memory?</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/24070827#24070827", "question_id": 6470651, "answer_id": 24070827}, {"body": "<p>String.substring method in java 1.6 create a memory leak. This blog post explains it.</p>\n\n<p><a href=\"http://javarevisited.blogspot.com/2011/10/how-substring-in-java-works.html\" rel=\"nofollow\">http://javarevisited.blogspot.com/2011/10/how-substring-in-java-works.html</a></p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/24284882#24284882", "question_id": 6470651, "answer_id": 24284882}, {"body": "<p>What's a memory leak:</p>\n\n<ul>\n<li>It's caused by a <strong>bug</strong> or <strong>bad design.</strong></li>\n<li>It's a waste of memory.</li>\n<li><strong>It gets worse over time.</strong></li>\n<li><strong>The garbage collector cannot clean it.</strong></li>\n</ul>\n\n<p><em>Typical example:</em></p>\n\n<p>A cache of objects is a good starting point to mess things up.</p>\n\n<pre><code>private static final Map&lt;String, Info&gt; myCache = new HashMap&lt;&gt;();\n\npublic void getInfo(String key)\n{\n    // uses cache\n    Info info = myCache.get(key);\n    if (info != null) return info;\n\n    // if it's not in cache, then fetch it from the database\n    info = Database.fetch(key);\n    if (info == null) return null;\n\n    // and store it in the cache\n    myCache.put(key, info);\n    return info;\n}\n</code></pre>\n\n<p>Your cache grows and grows. And pretty soon the entire database gets sucked into memory. A better design uses an LRUMap (Only keeps recently used objects in cache).</p>\n\n<p>Sure, you can make things a lot more complicated: </p>\n\n<ul>\n<li>using <strong>ThreadLocal</strong> constructions.</li>\n<li>adding more <strong>complex reference trees</strong>. </li>\n<li>or leaks caused by <strong>3rd party libraries</strong>.</li>\n</ul>\n\n<p><em>What often happens:</em> </p>\n\n<p>If this Info object has references to other objects, which again have references to other objects. In a way you could also consider this to be some kind of memory leak, (caused by bad design).</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/24832345#24832345", "question_id": 6470651, "answer_id": 24832345}, {"body": "<p><strong>Carelessly Using a non-static inner Class inside a class who has its own life cycle.</strong></p>\n\n<p>In Java, <strong>non-static inner and anonymous classes</strong> hold an <strong>implicit reference</strong> to their outer class. Static inner classes, on the other hand, <strong>do not</strong>.</p>\n\n<p>Here is a common example to have memory leak in Android,which is not obvious though:</p>\n\n<pre><code>public class SampleActivity extends Activity {\n\n  private final Handler mLeakyHandler = new Handler() { //non-static inner class, holds the reference to the SampleActivity outter class\n    @Override\n    public void handleMessage(Message msg) {\n      // ...\n    }\n  }\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    // Post a message and delay its execution for a long time.\n    mLeakyHandler.postDelayed(new Runnable() {//here, the anonymous inner class holds the reference to the SampleActivity class too\n      @Override\n      public void run() {\n     //.... \n      }\n    }, SOME_TOME_TIME);\n\n    // Go back to the previous Activity.\n    finish();\n  }}\n</code></pre>\n\n<p>This will prevent the activity context from being garbage collected. </p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/25375224#25375224", "question_id": 6470651, "answer_id": 25375224}, {"body": "<p>There's no such thing as a memory leak in Java. Memory leak is a phrase borrowed from C et al. Java deals with memory allocation internally with the help of the GC. There's <em>memory wastefulness</em> (ie. leaving stranded objects), but not <em>memory leak</em>.</p>\n", "title": "Creating a memory leak with Java", "tags": ["java", "memory", "memory-leaks"], "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java/28989529#28989529", "question_id": 6470651, "answer_id": 28989529}], "creation_date": 1308931912, "score": 1856, "link": "http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java", "question_id": 6470651}, {"body": "<p>How can I convert a <code>String</code> to an <code>int</code> in Java?</p>\n\n<p>My String contains only numbers and I want to return the number it represents.</p>\n\n<p>For example, given the string <code>\"1234\"</code> the result should be the number <code>1234</code>.</p>\n", "tags": ["java", "string", "type-conversion"], "title": "Converting String to Int in Java?", "answers": [{"body": "<pre><code>int foo = Integer.parseInt(\"1234\");\n</code></pre>\n\n<p>See the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\">Java Documentation</a> for more information.</p>\n\n<p><em>(If you have it in a <code>StringBuilder</code> (or the ancient <code>StringBuffer</code>), you'll need to do <code>Integer.parseInt(myBuilderOrBuffer.toString());</code> instead).</em></p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/5585800#5585800", "question_id": 5585779, "answer_id": 5585800}, {"body": "<p>For example, here are two ways:</p>\n\n<pre><code>Integer x = Integer.valueOf(str);\n// or\nint y = Integer.parseInt(str);\n</code></pre>\n\n<p>There is a slight difference between these methods: </p>\n\n<ul>\n<li><code>valueOf</code> returns a new or cached instance of <code>java.lang.Integer</code></li>\n<li><code>parseInt</code> returns primitive <code>int</code>. </li>\n</ul>\n\n<p>The same is for all cases: <code>Short.valueOf</code>/<code>parseShort</code>, <code>Long.valueOf</code>/<code>parseLong</code>, etc.</p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/5585876#5585876", "question_id": 5585779, "answer_id": 5585876}, {"body": "<p>Well, a very important point to consider is that the Integer parser throws NumberFormatException as stated in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\">Javadoc</a>. </p>\n\n<pre><code>int foo;\nString StringThatCouldBeANumberOrNot = \"26263Hello\"; //will throw exception\nString StringThatCouldBeANumberOrNot2 = \"26263\"; //will not throw exception\ntry {\n      foo = Integer.parseInt(StringThatCouldBeANumberOrNot);\n} catch (NumberFormatException e) {\n      //Will Throw exception!\n      //do something! anything to handle the exception.\n}\n\ntry {\n      foo = Integer.parseInt(StringThatCouldBeANumberOrNot2);\n} catch (NumberFormatException e) {\n      //No problem this time, but still it is good practice to care about exceptions.\n      //Never trust user input :)\n      //Do something! Anything to handle the exception.\n}\n</code></pre>\n\n<p>It is important to handle this exception when trying to get integer values from split arguments or dynamically parsing something.</p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/16293980#16293980", "question_id": 5585779, "answer_id": 16293980}, {"body": "<p>Do it manually in Java:</p>\n\n<pre><code>public static int strToInt( String str ){\n    int i = 0;\n    int num = 0;\n    boolean isNeg = false;\n\n    //Check for negative sign; if it's there, set the isNeg flag\n    if (str.charAt(0) == '-') {\n        isNeg = true;\n        i = 1;\n    }\n\n    //Process each character of the string;\n    while( i &lt; str.length()) {\n        num *= 10;\n        num += str.charAt(i++) - '0'; //Minus the ASCII code of '0' to get the value of the charAt(i++).\n    }\n\n    if (isNeg)\n        num = -num;\n    return num;\n}\n</code></pre>\n\n<p>Do it manually in Python:</p>\n\n<pre><code>def strtoint(s):\n    i = 0\n    num = 0\n    isNeg = False\n\n    if s[0] == '-':\n        isNeg = True\n        i = 1\n\n    while i &lt; len(s) and s[i].isdigit():\n        num *= 10\n        num += ord(i) - ord('0')\n        i+=1\n\n   if isNeg:\n       num = -num        \n\n    return num\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/18731580#18731580", "question_id": 5585779, "answer_id": 18731580}, {"body": "<p>You can also begin by removing all non numerical characters and then parsing the int:</p>\n\n<pre><code>string mystr = mystr.replaceAll( \"[^\\\\d]\", \"\" );\nint number= Integer.parseInt(mystr);\n</code></pre>\n\n<p>But be warned that this only works for non negative numbers. </p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/19477740#19477740", "question_id": 5585779, "answer_id": 19477740}, {"body": "<p>Converting a string to an int is more complicated than just convertig a number. You have think about the following issues:</p>\n\n<ul>\n<li>Does the string only contains numbers <strong>0-9</strong>?</li>\n<li>What's up with <strong>-/+</strong> before or after the string? Is that possible (referring to accounting numbers)?</li>\n<li>What's up with <strong>MAX_-/MIN_INFINITY?</strong> What will happen if the string is 99999999999999999999? Can the machine treat this string as an int?</li>\n</ul>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/19477823#19477823", "question_id": 5585779, "answer_id": 19477823}, {"body": "<p>Currently I'm doing an assignment for college, where I can't use certain expressions, such as the ones above, and by looking at the ASCII table, I managed to do it. It's a far more complex  code , but it could help others that are restricted like I was.</p>\n\n<p>The first thing to do is to receive the input, in this case, a String of digits, I'll call it <code>String number</code>, and in this case, I'll exemplify it using the number 12, therefore <code>String number = \"12\";</code></p>\n\n<p>Another limitation was the fact that I couldn't use repetitive cicles, therefore, a <code>for</code> cicle (which would have been perfect) can't be used either. This limits us a bit, but then again, that's the goal. Since I only needed two digits (taking the last two digits), a simple <code>charAt</code>solved it:</p>\n\n<pre><code>`\n//Obtaining the integer values of the char 1 and 2 in ASCII\nint semilastdigitASCII = number.charAt(number.length()-2);  \nint lastdigitASCII = number.charAt(number.length()-1);\n`\n</code></pre>\n\n<p>Having the codes, we just need to look up at the table, and make the necessary adjustments:</p>\n\n<pre><code>`\n  double semilastdigit = semilastdigitASCII - 48;  //A quick look, and -48 is the key\n  double lastdigit = lastdigitASCII - 48;\n\n\n`\n</code></pre>\n\n<p>Now, why double? Well, because of a really \"weird\" step. Currently we have two doubles, 1 and 2, but we need to turn it into 12, there isn't any mathematic operation that we can do.\nWhat we're doing is divide the latter (lastdigit) by 10, in this fashion \n<code>2/10 = 0.2</code> (hence why double) like this:\n<code>\n    lastdigit = lastdigit/10;\n</code></p>\n\n<p>This is merely playing with numbers. What we did here was turning the last digit into a decimal. But now, look at what happens:</p>\n\n<p><code>\ndouble jointdigits = semilastdigit + lastdigit; // 1.0 + 0.2 = 1.2\n</code></p>\n\n<p>Without getting too into the math, we're simply isolating units the digits of a number,\nyou see, since we only consider 0-9, dividing by a multiple of 10 is like creating a \"box\" where you store it (think back at when your first grade teacher explained you what a unit and a hundred were). So:</p>\n\n<p><code>int finalnumber = (int) (jointdigits*10); //Be sure to use parentheses \"()\"\n</code></p>\n\n<p>And there you go, you turned a String of digits (in this case, two digits), into an integer composed of those two digits, considering the following limitations:</p>\n\n<ul>\n<li>No Repetitive Cicles</li>\n<li>No \"Magic\" Expressions such as parseInt</li>\n</ul>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/22547555#22547555", "question_id": 5585779, "answer_id": 22547555}, {"body": "<p>I'm have a solution, but I do not know how effective it is. But it works well, and I think you could improve it. On the other hand, I did a couple of tests with <a href=\"http://en.wikipedia.org/wiki/JUnit\">JUnit</a> which step correctly. I attached the function and testing:</p>\n\n<pre><code>static public Integer str2Int(String str) {\n    Integer result = null;\n    if (null == str || 0 == str.length()) {\n        return null;\n    }\n    try {\n        result = Integer.parseInt(str);\n    } \n    catch (NumberFormatException e) {\n        String negativeMode = \"\";\n        if(str.indexOf('-') != -1)\n            negativeMode = \"-\";\n        str = str.replaceAll(\"-\", \"\" );\n        if (str.indexOf('.') != -1) {\n            str = str.substring(0, str.indexOf('.'));\n            if (str.length() == 0) {\n                return (Integer)0;\n            }\n        }\n        String strNum = str.replaceAll(\"[^\\\\d]\", \"\" );\n        if (0 == strNum.length()) {\n            return null;\n        }\n        result = Integer.parseInt(negativeMode + strNum);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Testing with JUnit:</p>\n\n<pre><code>@Test\npublic void testStr2Int() {\n    assertEquals(\"is numeric\", (Integer)(-5), Helper.str2Int(\"-5\"));\n    assertEquals(\"is numeric\", (Integer)50, Helper.str2Int(\"50.00\"));\n    assertEquals(\"is numeric\", (Integer)20, Helper.str2Int(\"$ 20.90\"));\n    assertEquals(\"is numeric\", (Integer)5, Helper.str2Int(\" 5.321\"));\n    assertEquals(\"is numeric\", (Integer)1000, Helper.str2Int(\"1,000.50\"));\n    assertEquals(\"is numeric\", (Integer)0, Helper.str2Int(\"0.50\"));\n    assertEquals(\"is numeric\", (Integer)0, Helper.str2Int(\".50\"));\n    assertEquals(\"is numeric\", (Integer)0, Helper.str2Int(\"-.10\"));\n    assertEquals(\"is numeric\", (Integer)Integer.MAX_VALUE, Helper.str2Int(\"\"+Integer.MAX_VALUE));\n    assertEquals(\"is numeric\", (Integer)Integer.MIN_VALUE, Helper.str2Int(\"\"+Integer.MIN_VALUE));\n    assertEquals(\"Not\n     is numeric\", null, Helper.str2Int(\"czv.,xcvsa\"));\n    /**\n     * Dynamic test\n     */\n    for(Integer num = 0; num &lt; 1000; num++) {\n        for(int spaces = 1; spaces &lt; 6; spaces++) {\n            String numStr = String.format(\"%0\"+spaces+\"d\", num);\n            Integer numNeg = num * -1;\n            assertEquals(numStr + \": is numeric\", num, Helper.str2Int(numStr));\n            assertEquals(numNeg + \": is numeric\", numNeg, Helper.str2Int(\"- \" + numStr));\n        }\n    }\n}\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/23833311#23833311", "question_id": 5585779, "answer_id": 23833311}, {"body": "<p>An alternate solution is to use <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\">Apache Commons'</a> NumberUtils:</p>\n\n<pre><code>int num = NumberUtils.toInt(\"1234\");\n</code></pre>\n\n<p>The Apache utility is nice because if the string is an invalid number format then 0 is always returned. Hence saving you the try catch block.</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/math/NumberUtils.html#toInt(java.lang.String)\">Apache NumberUtils API Version 3.4</a></p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/32248950#32248950", "question_id": 5585779, "answer_id": 32248950}, {"body": "<p>We can use the <code>parseInt(String str)</code> method of the <code>Integer</code> wrapper class for converting a String value to an integer value.</p>\n\n<p>For example:</p>\n\n<pre><code>String strValue = \"12345\";\nInteger intValue = Integer.parseInt(strVal);\n</code></pre>\n\n<p>The <code>Integer</code> class also provides the <code>valueOf(String str)</code> method:</p>\n\n<pre><code>String strValue = \"12345\";\nInteger intValue = Integer.valueOf(strValue);\n</code></pre>\n\n<p>We can also use <code>toInt(String strValue)</code> of <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/math/NumberUtils.html\">NumberUtils Utility Class</a> for the conversion:</p>\n\n<pre><code>String strValue = \"12345\";\nInteger intValue = NumberUtils.toInt(strValue);\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/33233407#33233407", "question_id": 5585779, "answer_id": 33233407}, {"body": "<p>You can use this code also, with some precautions.</p>\n\n<ul>\n<li><p>Option #1: Handle the exception explicitly, for example, showing a message dialog and then stop the execution of the current workflow. For example:</p>\n\n<pre><code>try\n    {\n        String stringValue = \"1234\";\n\n        // From String to Integer\n        int integerValue = Integer.valueOf(stringValue);\n\n        // Or\n        int integerValue = Integer.ParseInt(stringValue);\n\n        // Now from integer to back into string\n        stringValue = String.valueOf(integerValue);\n    }\ncatch (NumberFormatException ex) {\n    //JOptionPane.showMessageDialog(frame, \"Invalid input string!\");\n    System.out.println(\"Invalid input string!\");\n    return;\n}\n</code></pre></li>\n<li><p>Option #2: Reset the affected variable if the execution flow can continue in case of an exception. For example, with some modifications in the catch block</p>\n\n<pre><code>catch (NumberFormatException ex) {\n    integerValue = 0;\n}\n</code></pre></li>\n</ul>\n\n<p>Using a string constant for comparison or any sort of computing is always a good idea, because a constant never returns a null value.</p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/34541513#34541513", "question_id": 5585779, "answer_id": 34541513}, {"body": "<h3><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#decode-java.lang.String-\"><code>Integer.decode</code></a></h3>\n\n<p>You can also use <code>public static Integer decode(String nm) throws NumberFormatException</code>.</p>\n\n<p>It also works for base 8 and 16:</p>\n\n<pre><code>// base 10\nInteger.parseInt(\"12\");     // 12 - int\nInteger.valueOf(\"12\");      // 12 - Integer\nInteger.decode(\"12\");       // 12 - Integer\n// base 8\n// 10 (0,1,...,7,10,11,12)\nInteger.parseInt(\"12\", 8);  // 10 - int\nInteger.valueOf(\"12\", 8);   // 10 - Integer\nInteger.decode(\"012\");      // 10 - Integer\n// base 16\n// 18 (0,1,...,F,10,11,12)\nInteger.parseInt(\"12\",16);  // 18 - int\nInteger.valueOf(\"12\",16);   // 18 - Integer\nInteger.decode(\"#12\");      // 18 - Integer\nInteger.decode(\"0x12\");     // 18 - Integer\nInteger.decode(\"0X12\");     // 18 - Integer\n// base 2\nInteger.parseInt(\"11\",2);   // 3 - int\nInteger.valueOf(\"11\",2);    // 3 - Integer\n</code></pre>\n\n<p>If you want to get <code>int</code> instead of <code>Integer</code> you can use:</p>\n\n<ol>\n<li><p>Unboxing:</p>\n\n<pre><code>int val = Integer.decode(\"12\"); \n</code></pre></li>\n<li><p><code>intValue()</code>:</p>\n\n<pre><code>Integer.decode(\"12\").intValue();\n</code></pre></li>\n</ol>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/35834484#35834484", "question_id": 5585779, "answer_id": 35834484}, {"body": "<p>Whenever there is the slightest possibility that the given String does not contain an Integer, you have to handle this special case. Sadly, the standard Java methods <code>Integer::parseInt</code> and <code>Integer::valueOf</code> throw a <code>NumberFormatException</code> to signal this special case. Thus, you have to use exceptions for flow control, which is generally considered bad coding style.</p>\n\n<p>In my opinion, this special case should be handled by returning an <code>Optional&lt;Integer&gt;</code>. Since Java does not offer such a method, I use the following wrapper:</p>\n\n<pre><code>private Optional&lt;Integer&gt; tryParseInteger(String string) {\n    try {\n        return Optional.of(Integer.valueOf(string));\n    } catch (NumberFormatException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// prints 1234\nSystem.out.println(tryParseInteger(\"1234\").orElse(-1));\n// prints -1\nSystem.out.println(tryParseInteger(\"foobar\").orElse(-1));\n</code></pre>\n\n<p>While this is still using exceptions for flow control internally, the usage code becomes very clean.</p>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/36394016#36394016", "question_id": 5585779, "answer_id": 36394016}, {"body": "<pre><code>String str=\"1234\";\n\nint foo=Integer.parseInt(\"1234\");\n</code></pre>\n\n<p>make sure there is no non-numeric data in the string.</p>\n\n<p>For example, here are two ways:</p>\n\n<pre><code>   Integer x = Integer.valueOf(str);\n    // or\n   int y = Integer.parseInt(str);\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/36740121#36740121", "question_id": 5585779, "answer_id": 36740121}, {"body": "<pre><code>   int i = 0; // Initializing an integer.\n   try{\n       i = yourTextField.getText();\n   }catch(NumberFormatException ex){\n       // message or yourTextField.setText(&lt;Message&gt;);\n   }\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/36881204#36881204", "question_id": 5585779, "answer_id": 36881204}, {"body": "<p>As mentioned Apache Commons <code>NumberUtils</code> can do it. Which return <code>0</code> if it cannot convert string to int.</p>\n\n<p>You can also define your own default value.</p>\n\n<pre><code>NumberUtils.toInt(String str, int defaultValue)\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>NumberUtils.toInt(\"3244\", 1) = 3244\nNumberUtils.toInt(\"\", 1)     = 1\nNumberUtils.toInt(null, 5)   = 5\nNumberUtils.toInt(\"Hi\", 6)   = 6\nNumberUtils.toInt(\" 32 \", 1) = 1 //space in numbers are not allowed\nNumberUtils.toInt(StringUtils.trimToEmpty( \"  32 \",1)) = 32; \n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/38581630#38581630", "question_id": 5585779, "answer_id": 38581630}, {"body": "<p>Apart from these above answers, I would like to add several functions: </p>\n\n<pre><code>    public static int parseIntOrDefault(String value, int defaultValue) {\n    int result = defaultValue;\n    try {\n      result = Integer.parseInt(value);\n    } catch (Exception e) {\n\n    }\n    return result;\n  }\n\n  public static int parseIntOrDefault(String value, int beginIndex, int defaultValue) {\n    int result = defaultValue;\n    try {\n      String stringValue = value.substring(beginIndex);\n      result = Integer.parseInt(stringValue);\n    } catch (Exception e) {\n\n    }\n    return result;\n  }\n\n  public static int parseIntOrDefault(String value, int beginIndex, int endIndex, int defaultValue) {\n    int result = defaultValue;\n    try {\n      String stringValue = value.substring(beginIndex, endIndex);\n      result = Integer.parseInt(stringValue);\n    } catch (Exception e) {\n\n    }\n    return result;\n  }\n</code></pre>\n\n<p>And here are results while you running them: </p>\n\n<pre><code>  public static void main(String[] args) {\n    System.out.println(parseIntOrDefault(\"123\", 0)); // 123\n    System.out.println(parseIntOrDefault(\"aaa\", 0)); // 0\n    System.out.println(parseIntOrDefault(\"aaa456\", 3, 0)); // 456\n    System.out.println(parseIntOrDefault(\"aaa789bbb\", 3, 6, 0)); // 789\n  }\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/38701772#38701772", "question_id": 5585779, "answer_id": 38701772}, {"body": "<p>Guava has <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#tryParse(java.lang.String)\" rel=\"nofollow\">tryParse(String)</a>, which returns <code>null</code> if the string couldn't be parsed, for example:</p>\n\n<pre><code>Integer fooInt = Ints.tryParse(fooString);\nif (fooInt != null) {\n  ...\n}\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/38807214#38807214", "question_id": 5585779, "answer_id": 38807214}, {"body": "<p>For normal string you can use:</p>\n\n<pre><code>int number = Integer.parseInt(\"1234\");\n</code></pre>\n\n<p>For String builder and String buffer you can use:</p>\n\n<pre><code>Integer.parseInt(myBuilderOrBuffer.toString());\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/39011912#39011912", "question_id": 5585779, "answer_id": 39011912}, {"body": "<pre><code>String s=\"100\";\ntry {\n int i=Integer.parseInt( s );\n}catch( Exception e ) {\n System.out.println(e.getMessage());\n}\n\n\n\nString s=\"100L\";\ntry {\n  int i=Integer.parseInt( s );\n }catch( Exception e ) {\n  System.out.println(e.getMessage());\n}\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/39308673#39308673", "question_id": 5585779, "answer_id": 39308673}, {"body": "<p>I believe best solution would be to use a try / catch block</p>\n\n<pre><code>try {\n    int foo = Integer.parseInt(\"1234\");\n}\ncatch (NumberFormatException e) {System.out.println(\"Not a number\");}\n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/39344168#39344168", "question_id": 5585779, "answer_id": 39344168}, {"body": "<p>you need to use parseInt for </p>\n\n<pre><code>int value = Integer.parseInt(\"123\"); \n</code></pre>\n", "title": "Converting String to Int in Java?", "tags": ["java", "string", "type-conversion"], "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java/39463256#39463256", "question_id": 5585779, "answer_id": 39463256}], "creation_date": 1302200874, "score": 1705, "link": "http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java", "question_id": 5585779}, {"body": "<p>I'm working in the android environment and have tried the following code, but it doesn't seem to be working.</p>\n\n<pre><code>String [] stockArr = (String[]) stock_list.toArray();\n</code></pre>\n\n<p>If I define as follows:</p>\n\n<pre><code>String [] stockArr = {\"hello\", \"world\"};\n</code></pre>\n\n<p>it works. Is there something that I'm missing?</p>\n", "tags": ["java", "arraylist"], "title": "Convert ArrayList&lt;String&gt; to String[] array", "answers": [{"body": "<p>Try this</p>\n\n<pre><code>String[] arr = list.toArray(new String[list.size()]);\n</code></pre>\n", "title": "Convert ArrayList&lt;String&gt; to String[] array", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array/5374336#5374336", "question_id": 5374311, "answer_id": 5374336}, {"body": "<p>What is happening is that <code>stock_list.toArray()</code> is creating an <code>Object[]</code> rather than a <code>String[]</code> and hence the typecast is failing.</p>\n\n<p>The correct code would be:</p>\n\n<pre><code>  String [] stockArr = stockList.toArray(new String[stockList.size()]);\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>  String [] stockArr = stockList.toArray(new String[0]);\n</code></pre>\n\n<p>For more details, refer to the javadocs for the two overloads of <code>List.toArray</code>.</p>\n\n<p>(From a technical perspective, the reason for this API behaviour / design is that an implementation of the <code>List&lt;T&gt;.toArray()</code> method has no information of what the <code>&lt;T&gt;</code> is at runtime.  All it knows is that the raw element type is <code>Object</code>.  By contrast, in the other case, the array parameter gives the base type of the array.  (If the supplied array is big enough, it is used.  Otherwise a new array of the same type and a larger size will be allocated and returned as the result.)</p>\n", "title": "Convert ArrayList&lt;String&gt; to String[] array", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array/5374346#5374346", "question_id": 5374311, "answer_id": 5374346}, {"body": "<p>Use like this.</p>\n\n<pre><code>List&lt;String&gt; stockList = new ArrayList&lt;String&gt;();\nstockList.add(\"stock1\");\nstockList.add(\"stock2\");\n\nString[] stockArr = new String[stockList.size()];\nstockArr = stockList.toArray(stockArr);\n\nfor(String s : stockArr)\n    System.out.println(s);\n</code></pre>\n", "title": "Convert ArrayList&lt;String&gt; to String[] array", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array/5374359#5374359", "question_id": 5374311, "answer_id": 5374359}, {"body": "<p><sub>I can see many answers showing how to solve problem, but only <a href=\"http://stackoverflow.com/a/5374346/1393766\">Stephen's answer</a> is trying to explain why problem occurs so I will try to add something more on this subject. It is a story about possible reasons why <code>Object[] toArray</code> wasn't changed to <code>T[] toArray</code> where generics ware introduced to Java.</sub></p>\n\n<hr>\n\n<h3>Why <code>String[] stockArr = (String[]) stock_list.toArray();</code> wont work?</h3>\n\n<p>In Java, <strong><em>generic type exists at compile-time only</em></strong>. At runtime information about generic type (like in your case <code>&lt;String&gt;</code>) is removed and replaced with <code>Object</code> type (take a look at <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow\">type erasure</a>). That is why at runtime <code>toArray()</code> have no idea about what precise type to use to create new array, so it uses <code>Object</code> as safest type, because each class extends Object so it can safely store instance of any class. </p>\n\n<h3>Now the problem is that you can't cast instance of <code>Object[]</code> to <code>String[]</code>.</h3>\n\n<p>Why? Take a look at this example (lets assume that <code>class B extends A</code>): </p>\n\n<pre><code>//B extends A\nA a = new A();\nB b = (B)a;\n</code></pre>\n\n<p>Although such code will compile, at runtime we will see thrown <code>ClassCastException</code> because instance held by reference <code>a</code> is not actually of type <code>B</code> (or its subtypes). Why is this problem (why this exception needs to be cast)? One of the reasons is that <code>B</code> could have new methods/fields which <code>A</code> doesn't, so it is possible that someone will try to use these new members via <code>b</code> reference even if held instance doesn't have (doesn't support) them. In other words we could end up trying to use data which doesn't exist, which could lead to many problems. So to prevent such situation JVM throws exception, and stop further potentially dangerous code.</p>\n\n<p>You could ask now \"So why aren't we stopped even earlier? Why code involving such casting is even compilable? Shouldn't compiler stop it?\". Answer is: no because compiler can't know for sure what is the actual type of instance held by <code>a</code> reference, and there is a chance that it will hold instance of class <code>B</code> which will support interface of <code>b</code> reference. Take a look at this example:</p>\n\n<pre><code>A a = new B(); \n      //  ^------ Here reference \"a\" holds instance of type B\nB b = (B)a;    // so now casting is safe, now JVM is sure that `b` reference can \n               // safely access all members of B class\n</code></pre>\n\n<hr>\n\n<p>Now lets go back to your arrays. As you see in question, we can't cast instance of <code>Object[]</code> array to more precise type <code>String[]</code> like</p>\n\n<pre><code>Object[] arr = new Object[] { \"ab\", \"cd\" };\nString[] arr2 = (String[]) arr;//ClassCastException will be thrown\n</code></pre>\n\n<p>Here problem is a little different. Now we are sure that <code>String[]</code> array will not have additional fields or methods because every array support only:</p>\n\n<ul>\n<li><code>[]</code> operator, </li>\n<li><code>length</code> filed, </li>\n<li>methods inherited from Object supertype, </li>\n</ul>\n\n<p>So it is <em>not</em> arrays interface which is making it impossible. Problem is that <strong><em><code>Object[]</code> array beside <code>Strings</code> can store any objects</em></strong> (for instance <code>Integers</code>) so it is possible that one beautiful day we will end up with trying to invoke method like <code>strArray[i].substring(1,3)</code> on instance of <code>Integer</code> which doesn't have such method. </p>\n\n<p>So to make <em>sure</em> that this situation will <em>never</em> happen, in Java array references can hold only</p>\n\n<ul>\n<li>instances of array of same type as reference (reference <code>String[] strArr</code> can hold <code>String[]</code>)</li>\n<li>instances of array of subtype (<code>Object[]</code> can hold <code>String[]</code> because <code>String</code> is subtype of <code>Object</code>), </li>\n</ul>\n\n<p>but can't hold </p>\n\n<ul>\n<li>array of supertype of type of array from reference (<code>String[]</code> can't hold <code>Object[]</code>)</li>\n<li>array of type which is not related to type from reference (<code>Integer[]</code> can't hold <code>String[]</code>)</li>\n</ul>\n\n<p>In other words something like this is OK</p>\n\n<pre><code>Object[] arr = new String[] { \"ab\", \"cd\" }; //OK - because\n               //  ^^^^^^^^                  `arr` holds array of subtype of Object (String)\nString[] arr2 = (String[]) arr; //OK - `arr2` reference will hold same array of same type as \n                                //     reference\n</code></pre>\n\n<hr>\n\n<p>You could say that one way to resolve this problem is to find at runtime most common type between all list elements and create array of that type, but this wont work in situations where all elements of list will be of one type derived from generic one. Take a look</p>\n\n<pre><code>//B extends A\nList&lt;A&gt; elements = new ArrayList&lt;A&gt;();\nelements.add(new B());\nelements.add(new B());\n</code></pre>\n\n<p>now most common type is <code>B</code>, not <code>A</code> so <code>toArray()</code> </p>\n\n<pre><code>A[] arr = elements.toArray();\n</code></pre>\n\n<p>would return array of <code>B</code> class <code>new B[]</code>. Problem with this array is that while compiler would allow you to edit its content by adding <code>new A()</code> element to it, you would get <code>ArrayStoreException</code> because <code>B[]</code> array can hold only elements of class <code>B</code> or its subclass, to make sure that all elements will support interface of <code>B</code>, but instance of <code>A</code> may not have all methods/fields of <code>B</code>. So this solution is not perfect.</p>\n\n<hr>\n\n<p>Best solution to this problem is explicitly tell what type of array <code>toArray()</code> should be returned by passing this type as method argument like </p>\n\n<pre><code>String[] arr = list.toArray(new String[list.size()]);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>String[] arr = list.toArray(new String[0]); //if size of array is smaller then list it will be automatically adjusted.\n</code></pre>\n", "title": "Convert ArrayList&lt;String&gt; to String[] array", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array/17909134#17909134", "question_id": 5374311, "answer_id": 17909134}, {"body": "<p>The correct way to do this is:  </p>\n\n<pre><code>String[] stockArr = stock_list.toArray(new String[stock_list.size()]);\n</code></pre>\n\n<p>I'd like to add to the other great answers here and explain how you could have used the Javadocs to answer your question.</p>\n\n<p>The Javadoc for <code>toArray()</code> (no arguments) is <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/AbstractCollection.html#toArray%28%29\">here</a>. As you can see, this method returns an <code>Object[]</code> and <em>not</em> <code>String[]</code> which is an array of the runtime type of your list:</p>\n\n<blockquote>\n  <p><code>public Object[] toArray()</code>   </p>\n  \n  <p>Returns an array containing all of the\n  elements in this collection. If the collection makes any guarantees as\n  to what order its elements are returned by its iterator, this method\n  must return the elements in the same order. The returned array will be\n  \"safe\" in that no references to it are maintained by the collection.\n  (In other words, this method must allocate a new array even if the\n  collection is backed by an Array). The caller is thus free to modify\n  the returned array.</p>\n</blockquote>\n\n<p>Right below that method, though, is <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/AbstractCollection.html#toArray%28T%5b%5d%29\">the Javadoc</a> for <code>toArray(T[] a)</code>. As you can see, this method returns a <code>T[]</code> where <code>T</code> is the type of the array you pass in. At first this seems like what you're looking for, but it's unclear exactly why you're passing in an array (are you adding to it, using it for just the type, etc). The documentation makes it clear that the purpose of the passed array is essentially to define the type of array to return (which is exactly your use case):  </p>\n\n<blockquote>\n  <p><code>public &lt;T&gt; T[] toArray(T[] a)</code></p>\n  \n  <p>Returns an array containing all of the\n  elements in this collection; <strong>the runtime type of the returned array is\n  that of the specified array.</strong> If the collection fits in the specified\n  array, it is returned therein. Otherwise, a new array is allocated\n  with the runtime type of the specified array and the size of this\n  collection. If the collection fits in the specified array with room to\n  spare (i.e., the array has more elements than the collection), the\n  element in the array immediately following the end of the collection\n  is set to null. This is useful in determining the length of the\n  collection only if the caller knows that the collection does not\n  contain any null elements.)</p>\n  \n  <p>If this collection makes any guarantees as to what order its elements\n  are returned by its iterator, this method must return the elements in\n  the same order.</p>\n  \n  <p>This implementation checks if the array is large enough to contain the\n  collection; if not, it allocates a new array of the correct size and\n  type (using reflection). Then, it iterates over the collection,\n  storing each object reference in the next consecutive element of the\n  array, starting with element 0. If the array is larger than the\n  collection, a null is stored in the first location after the end of\n  the collection.</p>\n</blockquote>\n\n<p>Of course, an understanding of generics (as described in the other answers) is required to really understand the difference between these two methods. Nevertheless, if you first go to the Javadocs, you will usually find your answer and then see for yourself what else you need to learn (if you really do).  </p>\n\n<p>Also note that reading the Javadocs here helps you to understand what the structure of the array you pass in should be. Though it may not really practically matter, you should not pass in an empty array like this:  </p>\n\n<pre><code>String [] stockArr = stockList.toArray(new String[0]);  \n</code></pre>\n\n<p>Because, from the doc, this implementation checks if the array is large enough to contain the collection; <em>if not, it allocates a new array of the correct size and type (using reflection).</em> There's no need for the extra overhead in creating a new array when you could easily pass in the size.  </p>\n\n<p>As is usually the case, the Javadocs provide you with a wealth of information and direction.  </p>\n\n<p>Hey wait a minute, what's reflection?</p>\n", "title": "Convert ArrayList&lt;String&gt; to String[] array", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array/17909839#17909839", "question_id": 5374311, "answer_id": 17909839}, {"body": "<p>An alternative in Java 8:</p>\n\n<pre><code>String[] strings = list.stream().toArray(String[]::new);\n</code></pre>\n", "title": "Convert ArrayList&lt;String&gt; to String[] array", "tags": ["java", "arraylist"], "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array/23177604#23177604", "question_id": 5374311, "answer_id": 23177604}], "creation_date": 1300687079, "score": 564, "link": "http://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array", "question_id": 5374311}, {"body": "<p>It seems there are different ways to read and write data of files in Java.</p>\n\n<p>I want to read ASCII data from a file. What are the possible ways and their differences?</p>\n", "tags": ["java", "file-io", "ascii"], "title": "Reading a plain text file in Java", "answers": [{"body": "<p>ASCII is a TEXT file so you would use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html\">Readers</a> for reading. Java also supports reading from a binary file using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\">InputStreams</a>. If the files being read are huge then you would want to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\">BufferedReader</a> on top of a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html\">FileReader</a> to improve read performance.</p>\n\n<p>Go through <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=42\">this article</a> on how to use a Reader</p>\n\n<p>I'd also recommend you download and read this wonderful (yet free) book called <a href=\"http://www.mindviewinc.com/Books/downloads.html\"><strong>Thinking In Java</strong></a></p>\n\n<p><strong>In Java 7</strong>:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29\">new String(Files.readAllBytes(...))</a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29\">Files.readAllLines(...)</a></p>\n\n<p><strong>In Java 8</strong>:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-\">Files.lines(..).forEach(...)</a></p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/4716521#4716521", "question_id": 4716503, "answer_id": 4716521}, {"body": "<p>The easiest way is to use the <code>Scanner</code> class in Java and the FileReader object. Simple example:</p>\n\n<pre><code>Scanner in = new Scanner(new FileReader(\"filename.txt\"));\n</code></pre>\n\n<p><code>Scanner</code> has several methods for reading in strings, numbers, etc... You can look for more information on this on the Java documentation page.</p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/4716556#4716556", "question_id": 4716503, "answer_id": 4716556}, {"body": "<p>My favorite way to read a small file is to use a BufferedReader and a StringBuilder. It is very simple and to the point (though not particularly effective, but good enough for most cases):</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(\"file.txt\"));\ntry {\n    StringBuilder sb = new StringBuilder();\n    String line = br.readLine();\n\n    while (line != null) {\n        sb.append(line);\n        sb.append(System.lineSeparator());\n        line = br.readLine();\n    }\n    String everything = sb.toString();\n} finally {\n    br.close();\n}\n</code></pre>\n\n<p>Some has pointed out that after Java 7 you should use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\">try-with-resources</a> (i.e. auto close) features:</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new FileReader(\"file.txt\"))) {\n    StringBuilder sb = new StringBuilder();\n    String line = br.readLine();\n\n    while (line != null) {\n        sb.append(line);\n        sb.append(System.lineSeparator());\n        line = br.readLine();\n    }\n    String everything = sb.toString();\n}\n</code></pre>\n\n<p>When I read strings like this, I usually want to do some string handling per line anyways, so then I go for this implementation.</p>\n\n<p>Though if I want to actually just read a file into a String, I always use Apache <a href=\"http://commons.apache.org/proper/commons-io/\">Commons IO</a> with the class IOUtils.toString() method. You can have a look at the source here:</p>\n\n<p><a href=\"http://www.docjar.com/html/api/org/apache/commons/io/IOUtils.java.html\">http://www.docjar.com/html/api/org/apache/commons/io/IOUtils.java.html</a></p>\n\n<pre><code>FileInputStream inputStream = new FileInputStream(\"foo.txt\");\ntry {\n    String everything = IOUtils.toString(inputStream);\n} finally {\n    inputStream.close();\n}\n</code></pre>\n\n<p>And even simpler with Java 7:</p>\n\n<pre><code>try(FileInputStream inputStream = new FileInputStream(\"foo.txt\")) {\n    Session IOUtils;\n    String everything = IOUtils.toString(inputStream);\n}\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/4716623#4716623", "question_id": 4716503, "answer_id": 4716623}, {"body": "<p>The methods within <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow\"><code>org.apache.commons.io.FileUtils</code></a> may also be very handy, e.g.:</p>\n\n<pre><code>/**\n * Reads the contents of a file line by line to a List\n * of Strings using the default encoding for the VM.\n */\nstatic List readLines(File file)\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/4716651#4716651", "question_id": 4716503, "answer_id": 4716651}, {"body": "<p>I don't see it mentioned yet in the other answers so far.  But if \"Best\" means speed, then the new Java I/O (NIO) might provide the fastest preformance, but not always the easiest to figure out for someone learning.</p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/essential/io/file.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/essential/io/file.html</a></p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/4717154#4717154", "question_id": 4716503, "answer_id": 4717154}, {"body": "<p>What do you want to do with the text?  Is the file small enough to fit into memory?  I would try to find the simplest way to handle the file for your needs.  The FileUtils library is very handle for this.</p>\n\n<pre><code>for(String line: FileUtils.readLines(\"my-text-file\"))\n    System.out.println(line);\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/4718651#4718651", "question_id": 4716503, "answer_id": 4718651}, {"body": "<p>This code I programmed is much faster for very large files:</p>\n\n<pre><code>public String readDoc(File f) {\n    String text = \"\";\n    int read, N = 1024 * 1024;\n    char[] buffer = new char[N];\n\n    try {\n        FileReader fr = new FileReader(f);\n        BufferedReader br = new BufferedReader(fr);\n\n        while(true) {\n            read = br.read(buffer, 0, N);\n            text += new String(buffer, 0, read);\n\n            if(read &lt; N) {\n                break;\n            }\n        }\n    } catch(Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return text;\n}\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/10693861#10693861", "question_id": 4716503, "answer_id": 10693861}, {"body": "<p>Here's another way to do it without using external libraries:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic String readFile(String filename)\n{\n    String content = null;\n    File file = new File(filename); //for ex foo.txt\n    FileReader reader = null;\n    try {\n        reader = new FileReader(file);\n        char[] chars = new char[(int) file.length()];\n        reader.read(chars);\n        content = new String(chars);\n        reader.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if(reader !=null){reader.close();}\n    }\n    return content;\n}\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/10710115#10710115", "question_id": 4716503, "answer_id": 10710115}, {"body": "<p>Probably not as fast as with buffered IO but quite terse:</p>\n\n<pre><code>    String content;\n    try (Scanner scanner = new Scanner(textFile).useDelimiter(\"\\\\Z\")) {\n        content = scanner.next();\n    }\n</code></pre>\n\n<p>The <code>\\Z</code> pattern tells the <code>Scanner</code> that the delimiter is EOF</p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/27721509#27721509", "question_id": 4716503, "answer_id": 27721509}, {"body": "<p>Here is a simple solution:</p>\n\n<pre><code>String content;\n\ncontent = new String(Files.readAllBytes(Paths.get(\"sample.txt\")));\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/28219618#28219618", "question_id": 4716503, "answer_id": 28219618}, {"body": "<p>The most simple way to read data from a file in java is making use of <strong>File</strong> class to read the file and <strong>Scanner</strong> class to read the content of the file.</p>\n\n<pre><code>   public static void main(String args[])throws Exception\n    {\n       File f = new File(\"input.txt\");\n       takeInputIn2DArray(f);\n    }\n\n\npublic static void takeInputIn2DArray(File f) throws Exception\n{\n        Scanner s = new Scanner(f);\n        int a[][] = new int[20][20];\n        for(int i=0;i&lt;20;i++)\n        {\n            for(int j=0;j&lt;20;j++)\n            {\n                a[i][j]=s.nextInt();\n            }\n        }\n}\n</code></pre>\n\n<p>PS : Don't forget to import java.util.*; for Scanner to work.</p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/28280318#28280318", "question_id": 4716503, "answer_id": 28280318}, {"body": "<p>For JSF-based Maven web apps, just use ClassLoader and the Resources folder to read in any file you want:</p>\n\n<ol>\n<li>Put any file you want to read in the Resources folder.</li>\n<li><p>Put the Apache Commons IO dependency into your POM:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n<li><p>Use the code below to read it (e.g. below is reading in a .json file):</p>\n\n<pre><code>String metadata = null;\nFileInputStream inputStream;\ntry {\n\n    ClassLoader loader = Thread.currentThread().getContextClassLoader();\n    inputStream = (FileInputStream) loader\n            .getResourceAsStream(\"/metadata.json\");\n    metadata = IOUtils.toString(inputStream);\n    inputStream.close();\n} catch (FileNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nreturn metadata;\n</code></pre></li>\n</ol>\n\n<p>You can do the same for text files, .properties files, xsd schemas, etc.</p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/29575580#29575580", "question_id": 4716503, "answer_id": 29575580}, {"body": "<p>Using BufferedReader</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nBufferedReader br;\n        try {\n            br = new BufferedReader(new FileReader(\"/fileToRead.txt\"));\n            try {\n                String x;\n                while ( (x = br.readLine()) != null ) {\n                    // printing out each line in the file\n                    System.out.println(x);\n                } \n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(e);\n            e.printStackTrace();\n        }\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/34474897#34474897", "question_id": 4716503, "answer_id": 34474897}, {"body": "<p>This is basically the exact same as Jesus Ramos' answer, except with <strong>File</strong> instead of <strong>FileReader</strong> plus iteration to step through the contents of the file.</p>\n\n<pre><code>Scanner in = new Scanner(new File(\"filename.txt\"));\n\nwhile (in.hasNext()) { // iterates each line in the file\n    String line = in.nextLine();\n    // do something with line\n}\n\nin.close(); // don't forget to close resource leaks\n</code></pre>\n\n<p>... throws <code>FileNotFoundException</code></p>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/38450021#38450021", "question_id": 4716503, "answer_id": 38450021}, {"body": "<p><a href=\"http://github.com/wmacevoy/kiss\" rel=\"nofollow\">java kiss</a> If this is about simplicity of structure</p>\n\n<pre><code>import static kiss.API.*;\n\nclass App {\n  void run() {\n    String line;\n    try (Close in = inOpen(\"file.dat\")) {\n      while ((line = readLine()) != null) {\n        println(line);\n      }\n    }\n  }\n}\n</code></pre>\n", "title": "Reading a plain text file in Java", "tags": ["java", "file-io", "ascii"], "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java/38930350#38930350", "question_id": 4716503, "answer_id": 38930350}], "creation_date": 1295288953, "score": 542, "link": "http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java", "question_id": 4716503}, {"body": "<p>I'm looking to make my code more readable as well as use tooling like IDE code inspection and/or static code analysis (FindBugs and Sonar) to avoid NullPointerExceptions.  Many of the tools seem incompatible with each others' <code>@NotNull</code>/<code>@NonNull</code>/<code>@Nonnull</code> annotation and listing all of them in my code would be terrible to read.  Any suggestions of which one is the 'best'?  Here is the list of equivalent annotations I've found:</p>\n\n<ul>\n<li><p><strong><code>javax.validation.constraints.NotNull</code></strong><br>\n<em>Created for runtime validation, not static analysis.</em><br>\n<a href=\"http://download.oracle.com/javaee/6/api/javax/validation/constraints/NotNull.html\">documentation</a></p></li>\n<li><p><strong><code>edu.umd.cs.findbugs.annotations.NonNull</code></strong><br>\n<em>Used by Findbugs static analysis and therefore Sonar</em><br>\n<a href=\"http://findbugs.sourceforge.net/manual/annotations.html\">documentation</a></p></li>\n<li><p><strong><code>javax.annotation.Nonnull</code></strong><br>\n<em>This might work with Findbugs too, but JSR-305 is inactive.</em><br>\n<a href=\"http://code.google.com/p/jsr-305/source/browse/trunk/ri/src/main/java/javax/annotation/Nonnull.java\">source</a></p></li>\n<li><p><strong><code>org.jetbrains.annotations.NotNull</code></strong><br>\n<em>Used by IntelliJ IDEA IDE for static analysis.</em><br>\n<a href=\"http://www.jetbrains.com/idea/webhelp/nullable-and-notnull-annotations.html\">documentation</a></p></li>\n<li><p><strong><code>lombok.NonNull</code></strong><br>\n<em>Used to control code generation in Project Lombok.</em><br>\n<em>Placeholder annotation since there is no standard.</em><br>\n<a href=\"https://github.com/rzwitserloot/lombok/blob/master/src/core/lombok/NonNull.java\">source</a>, \n<a href=\"https://projectlombok.org/features/NonNull.html\">documentation</a></p></li>\n<li><p><strong><code>android.support.annotation.NonNull</code></strong><br>\n<em>Marker annotation available in Android, provided by support-annotations package</em><br>\n<a href=\"https://developer.android.com/reference/android/support/annotation/NonNull.html\">documentation</a></p></li>\n<li><p><strong><code>org.eclipse.jdt.annotation.NonNull</code></strong><br>\n<em>Used by Eclipse for static code analysis</em><br>\n<a href=\"http://help.eclipse.org/kepler/topic/org.eclipse.jdt.doc.isv/reference/api/org/eclipse/jdt/annotation/NonNull.html\">documentation</a></p></li>\n</ul>\n", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "title": "Which @NotNull Java annotation should I use?", "answers": [{"body": "<p>I use the IntelliJ one, because I'm mostly concerned with IntelliJ flagging things that might produce a NPE. I agree that it's frustrating not having a standard annotation in the JDK. There's talk of adding it, it might make it into Java 7. In which case there will be one more to choose from!</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/4963325#4963325", "question_id": 4963300, "answer_id": 4963325}, {"body": "<p>According to the <a href=\"http://openjdk.java.net/projects/jdk7/features/\">Java 7 features list</a> JSR-308 type annotations are deferred to Java 8.  JSR-305 annotations are not even mentioned.  </p>\n\n<p>There is a bit of info on the state of JSR-305 in an <a href=\"http://types.cs.washington.edu/jsr308/specification/java-annotation-design.html#semantics\">appendix</a> of the latest JSR-308 draft.  This includes the observation that JSR-305 annotations seem to be abandoned.  The JSR-305 page also shows it as \"inactive\".</p>\n\n<p>In the mean time, the pragmatic answer is to use the annotation types that are supported by the most widely used tools ... and be prepared to change them if the situation changes.</p>\n\n<hr>\n\n<p>In fact, JSR-308 does not define any annotation types/classes, and it looks like they think it is out of scope.  (And they are right, given the existence of JSR-305).</p>\n\n<p>However, if JSR-308 really looks like making it into Java 8, it wouldn't surprise me if interest in JSR-305 revived.  AFAIK, the JSR-305 team hasn't formally abandoned their work.  They have just been quiet for 2+ years.</p>\n\n<p>It is interesting that Bill Pugh (the tech lead for JSR-305) is one of the guy behind FindBugs.</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/4963420#4963420", "question_id": 4963300, "answer_id": 4963420}, {"body": "<p>Doesn't sun have their own now? What's this:<br>\n<a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-com.sun/istack/com.sun.istack.internal.htm\" rel=\"nofollow\">http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-com.sun/istack/com.sun.istack.internal.htm</a></p>\n\n<p>This seems to be packaged with all the versions of Java I've used within the last few years.</p>\n\n<p><strong>Edit:</strong> As mentioned in the comments below, you probably don't want to use these. In that case, my vote is for the IntelliJ jetbrains annotations!</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/4963565#4963565", "question_id": 4963300, "answer_id": 4963565}, {"body": "<p>I would only use things under the <code>javax</code> namespace (even though I love what Lombok and IntelliJ are doing). Otherwise, you might be creating a dependency on something other than what the run-time gives you for something that is pretty much <em>semantics</em>. Maybe for some projects, that's ok, but that'd be a deal-breaker for me.</p>\n\n<p>I would use <code>javax.validation.constraints.NotNull</code> because that's already here with Java EE 6. </p>\n\n<p>The <code>javax.annotation.NonNull</code> might not be here until Java 8 (as Stephen pointed out). And the others are not standard annotations.</p>\n\n<p>It would have been nice if annotations were extensible. That way you could define your own <code>non-null</code> annotation inheriting/extending from anything. Then when standards get ironed out, all you would have to do would be to redefine your own custom annotation.</p>\n\n<p>Unfortunately that's not the case.</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/4963586#4963586", "question_id": 4963300, "answer_id": 4963586}, {"body": "<p>I very much like the <a href=\"http://types.cs.washington.edu/checker-framework/\">Checker Framework</a>, which is an implementation of type annotations (<a href=\"http://types.cs.washington.edu/jsr308/\">JSR-308</a>) which is used to implement defect checkers like a nullness checker.  I haven't really tried any others to offer any comparison, but I've been happy with this implementation.</p>\n\n<p>I'm not affiliated with the group that offers the software, but I am a fan.</p>\n\n<p>Four things I like about this system:</p>\n\n<ol>\n<li><p>It has a defect checkers for <a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#nullness-checker\">nullness</a> (@Nullable), but also has ones for <a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#igj-checker\">immutability</a> and <a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#interning-checker\">interning</a> (and others).  I use the first one (nullness) and I'm trying to get into using the second one (immutability/IGJ).  I'm trying out the third one, but I'm not certain about using it long term yet.  I'm not convinced of the general usefulness of the other checkers yet, but its nice to know that the framework itself is a system for implementing a variety of additional annotations and checkers.</p></li>\n<li><p>The <a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#null-defaults\">default setting for nullness checking</a> works well: Non-null except locals (NNEL).  Basically this means that by default the checker treats everyhing (instance variables, method parameters, generic types, etc) except local variables as if they have a @NonNull type by default.  Per the documentation:</p>\n\n<blockquote>\n  <p>The NNEL default leads to the smallest number of explicit annotations in your code.</p>\n</blockquote>\n\n<p>You can set a different default for a class or for a method if NNEL doesn't work for you.</p></li>\n<li><p>This framework allows you to use with <strong><em><a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#backward-compatibility\">without creating a dependency on the framework</a></em></strong> by enclosing your annotations in a comment: e.g. <code>/*@Nullable*/</code>.  This is nice because you can annotate and check a library or shared code, but still be able to use that library/shared coded in another project that doesn't use the framework.  This is a nice feature.  I've grown accustom to using it, even though I tend to enable the Checker Framework on all my projects now. </p></li>\n<li><p>The framework has a way to <a href=\"http://types.cs.washington.edu/checker-framework/current/checkers-manual.html#annotating-libraries\">annotate APIs</a> you use that aren't already annotated for nullness by using stub files.</p></li>\n</ol>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/4963706#4963706", "question_id": 4963300, "answer_id": 4963706}, {"body": "<p>While waiting for this to be sorted out upstream (Java 8?), you could also just define your own project-local <code>@NotNull</code> and <code>@Nullable</code> annotations. This can be useful also in case you're working with Java SE, where <code>javax.validation.constraints</code> <a href=\"http://stackoverflow.com/questions/2707683/how-do-i-import-javax-validation-into-my-java-se-project\">isn't available</a> by default.</p>\n\n<pre><code>import java.lang.annotation.*;\n\n/**\n * Designates that a field, return value, argument, or variable is\n * guaranteed to be non-null.\n */\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE})\n@Documented\n@Retention(RetentionPolicy.CLASS)\npublic @interface NotNull {}\n\n/**\n * Designates that a field, return value, argument, or variable may be null.\n */\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.LOCAL_VARIABLE})\n@Documented\n@Retention(RetentionPolicy.CLASS)\npublic @interface Nullable {}\n</code></pre>\n\n<p>This would admittedly largely be for decorative or future-proofing purposes, since the above obviously doesn't in and of itself add any support for the static analysis of these annotations.</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/6828872#6828872", "question_id": 4963300, "answer_id": 6828872}, {"body": "<p>Just pointing out that the Java Validation API (<code>javax.validation.constraints.*</code>) doesn't come with a <code>@Nullable</code> annotation, which is very valuable in a static analysis context. It makes sense for runtime bean validation as this is the default for any non-primitive field in Java (i.e. nothing to validate/enforce). For the purposes stated that should weigh towards the alternatives.</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/6898182#6898182", "question_id": 4963300, "answer_id": 6898182}, {"body": "<p>Eclipse has also its own annotations.</p>\n\n<pre><code>org.eclipse.jdt.annotation.NonNull\n</code></pre>\n\n<p>See at <a href=\"http://wiki.eclipse.org/JDT_Core/Null_Analysis\" rel=\"nofollow\">http://wiki.eclipse.org/JDT_Core/Null_Analysis</a> for details.</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/7454307#7454307", "question_id": 4963300, "answer_id": 7454307}, {"body": "<p>JSR305 and FindBugs are authored by the same person. Both are poorly maintained but are as standard as it gets and are supported by all major IDEs. The good news is that they work well as-is.</p>\n\n<p>Here is how to apply @Nonnull to all classes, methods and fields by default.\nSee <a href=\"http://stackoverflow.com/a/13319541/14731\">http://stackoverflow.com/a/13319541/14731</a> and <a href=\"http://stackoverflow.com/a/9256595/14731\">http://stackoverflow.com/a/9256595/14731</a></p>\n\n<ol>\n<li>Define <code>@NotNullByDefault</code></li>\n</ol>\n\n\n\n<pre><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport javax.annotation.Nonnull;\nimport javax.annotation.meta.TypeQualifierDefault;\n\n\n    /**\n     * This annotation can be applied to a package, class or method to indicate that the class fields,\n     * method return types and parameters in that element are not null by default unless there is: &lt;ul&gt;\n     * &lt;li&gt;An explicit nullness annotation &lt;li&gt;The method overrides a method in a superclass (in which\n     * case the annotation of the corresponding parameter in the superclass applies) &lt;li&gt; there is a\n     * default parameter annotation applied to a more tightly nested element. &lt;/ul&gt;\n     * &lt;p/&gt;\n     * @see http://stackoverflow.com/a/9256595/14731\n     */\n    @Documented\n    @Nonnull\n    @TypeQualifierDefault(\n    {\n        ElementType.ANNOTATION_TYPE,\n        ElementType.CONSTRUCTOR,\n        ElementType.FIELD,\n        ElementType.LOCAL_VARIABLE,\n        ElementType.METHOD,\n        ElementType.PACKAGE,\n        ElementType.PARAMETER,\n        ElementType.TYPE\n    })\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface NotNullByDefault\n    {\n    }\n</code></pre>\n\n<p>2. Add the annotation to each package: <code>package-info.java</code></p>\n\n\n\n<pre><code>@NotNullByDefault\npackage com.example.foo;\n</code></pre>\n\n<p><strong>UPDATE</strong>: As of December 12th, 2012 <a href=\"http://jcp.org/en/jsr/detail?id=305\">JSR 305</a> is listed as \"Dormant\". According to the documentation:</p>\n\n<blockquote>\n  <p>A JSR that was voted as \"dormant\" by the Executive Committee, or one that has reached the end of its natural lifespan.</p>\n</blockquote>\n\n<p>It looks like <a href=\"http://types.cs.washington.edu/jsr308/\">JSR 308</a> <strong>is</strong> making it into JDK 8 and although the JSR does not define @NotNull, the accompanying <code>Checkers Framework</code> does. At the time of this writing, the Maven plugin is unusable due to this bug: <a href=\"http://code.google.com/p/checker-framework/issues/detail?id=183\">http://code.google.com/p/checker-framework/issues/detail?id=183</a></p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/13522552#13522552", "question_id": 4963300, "answer_id": 13522552}, {"body": "<p>Unfortunately, <code>JSR 308</code> will not add more values than this project local Not Null suggestion here</p>\n\n<p><code>Java 8</code> will not come with a single default annotation or its own <code>Checker</code> framework.\nSimilar to Find-bugs or <code>JSR 305</code>, this JSR is poorly maintained by a small bunch of mostly academic teams. </p>\n\n<p>No commercial power behind it, thus <code>JSR 308</code> launches <code>EDR 3</code> (Early Draft Review at <code>JCP</code>) NOW, while <code>Java 8</code> is supposed to ship in less than 6 months:-O\nSimilar to <code>310</code> btw. but unlike <code>308 Oracle</code> has taken charge of that now away from its founders to minimize harm it'll do to the Java Platform.</p>\n\n<p>Every project, vendor and academic class like the ones behind the <code>Checker Framework</code> and <code>JSR 308</code> will create its own proprietary checker annotation.</p>\n\n<p>Making source code incompatible for years to come, until a few popular compromises could be found and maybe added to <code>Java 9</code> or <code>10</code>, or via frameworks like <code>Apache Commons</code> or <code>Google Guava</code>;-)</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/15741240#15741240", "question_id": 4963300, "answer_id": 15741240}, {"body": "<p>If you're developing for android, you're <em>somewhat</em> tied to Eclipse (edit: at time of writing, not anymore), which has its own annotations.  It's included in Eclipse 3.8+ (Juno), but disabled by default.</p>\n\n<p>You can enable it at Preferences > Java > Compiler > Errors/Warnings > Null analysis (collapsable section at the bottom).</p>\n\n<p>Check \"Enable annotation-based null analysis\"</p>\n\n<p><a href=\"http://wiki.eclipse.org/JDT_Core/Null_Analysis#Usage\" rel=\"nofollow\">http://wiki.eclipse.org/JDT_Core/Null_Analysis#Usage</a> has recommendations on settings.  However, if you have external projects in your workspace (like the facebook SDK), they may not satisfy those recommendations, and you probably don't want to fix them with each SDK update ;-)</p>\n\n<p>I use:</p>\n\n<ol>\n<li>Null pointer access: Error</li>\n<li>Violation of null specification: Error (linked to point #1)</li>\n<li>Potential null pointer access: Warning (otherwise facebook SDK would have warnings)</li>\n<li>Conflict between null annotations and null inference: Warning (linked to point #3)</li>\n</ol>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/16311685#16311685", "question_id": 4963300, "answer_id": 16311685}, {"body": "<p>Another option is the annotations provided with ANTLR 4. Following <a href=\"https://github.com/antlr/antlr4/pull/434\" rel=\"nofollow\">Pull Request #434</a>, the artifact containing the <code>@NotNull</code> and <code>@Nullable</code> annotations includes an annotation processor that produces compile-time errors and/or warnings in the event one of these attributes is misused (for example, if both are applied to the same item, or if <code>@Nullable</code> is applied to item with a primitive type). The annotation processor provides additional assurance during the software development process that the information conveyed by the application of these annotations is accurate, including in cases of method inheritance.</p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/21269600#21269600", "question_id": 4963300, "answer_id": 21269600}, {"body": "<p>If anyone is just looking for the IntelliJ classes: you can get them from the maven repository with</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;13.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/23295673#23295673", "question_id": 4963300, "answer_id": 23295673}, {"body": "<p>For Android projects you should use <code>android.support.annotation.NonNull</code> and <code>android.support.annotation.Nullable</code>. These and other helpful Android-specific annotations are available in the <a href=\"http://developer.android.com/tools/support-library/index.html\">Support Library</a>.</p>\n\n<p>From <a href=\"http://tools.android.com/tech-docs/support-annotations\">http://tools.android.com/tech-docs/support-annotations</a>:</p>\n\n<blockquote>\n  <p>The support library itself has also been annotated with these\n  annotations, so as a user of the support library, Android Studio will\n  already check your code and flag potential problems based on these\n  annotations.</p>\n</blockquote>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/25683117#25683117", "question_id": 4963300, "answer_id": 25683117}, {"body": "<h1>Android</h1>\n\n<p>This answer is Android specific. Android has support package called <code>support-annotations</code>. This provides <a href=\"https://developer.android.com/reference/android/support/annotation/package-summary.html\" rel=\"nofollow\">dozens</a> of <a href=\"http://tools.android.com/tech-docs/support-annotations\" rel=\"nofollow\">Android specific</a> annotations and also provides <a href=\"http://shubham.chaudhary.xyz/blog/typedef-annotation/\" rel=\"nofollow\">common ones</a> like <code>NonNull</code>, <code>Nullable</code> etc.</p>\n\n<p>To add <em>support-annotations</em> package, add the following dependency in your build.gradle:</p>\n\n<pre><code>compile 'com.android.support:support-annotations:23.1.1'\n</code></pre>\n\n<p>and then use:</p>\n\n<pre><code>import android.support.annotation.NonNull;\n\nvoid foobar(@NonNull Foo bar) {}\n</code></pre>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/33058370#33058370", "question_id": 4963300, "answer_id": 33058370}, {"body": "<p>There is another way to do this in Java 8.\nI am doing 2 things to accomplish what I needed:</p>\n\n<ol>\n<li>Making nullable fields explicit with types by wrapping all nullable fields with <code>java.util.Optional</code></li>\n<li>Checking that all non nullable fields are not null at construction time with Guava's <code>com.google.common.base.Preconditions.checkNotNull</code> </li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>import static com.google.common.base.Preconditions.checkNotNull;\n\npublic class Role {\n\n  private final UUID guid;\n  private final String domain;\n  private final String name;\n  private final Optional&lt;String&gt; description;\n\n  public Role(UUID guid, String domain, String name, Optional&lt;String&gt; description) {\n    this.guid = checkNotNull(guid);\n    this.domain = checkNotNull(domain);\n    this.name = checkNotNull(name);\n    this.description = checkNotNull(description);\n  }\n</code></pre>\n\n<p>So my question is, do we even need to annotate when using java 8? </p>\n", "title": "Which @NotNull Java annotation should I use?", "tags": ["java", "nullpointerexception", "null", "annotations", "ide"], "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use/37031539#37031539", "question_id": 4963300, "answer_id": 37031539}], "creation_date": 1297375535, "score": 535, "link": "http://stackoverflow.com/questions/4963300/which-notnull-java-annotation-should-i-use", "question_id": 4963300}, {"body": "<p>I want to access my current working directory using </p>\n\n<pre><code> String current = new java.io.File( \".\" ).getCanonicalPath();\n        System.out.println(\"Current dir:\"+current);\n String currentDir = System.getProperty(\"user.dir\");\n        System.out.println(\"Current dir using System:\" +currentDir);\n</code></pre>\n\n<p>OutPut:  </p>\n\n<pre><code>Current dir: C:\\WINDOWS\\system32\nCurrent dir using System: C:\\WINDOWS\\system32\n</code></pre>\n\n<p>My output is not correct because C drive is not my current directory.\nNeed help in this regard.</p>\n", "tags": ["java", "working-directory"], "title": "Getting the Current Working Directory in Java", "answers": [{"body": "<p>Current working directory is defined differently in different Java implementations For certain prior to Java 7 there was no consistent way to get the working directory. You could work around this by launching Java with <code>-D</code> and defining a variable to hold the info</p>\n\n<p>Something like</p>\n\n<pre><code>java -Dcom.mycompany.workingDir=\"%0\"\n</code></pre>\n\n<p>That's not quite right, but you get the idea. Then <code>System.getProperty(\"com.mycompany.workingDir\")</code>...</p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/4871135#4871135", "question_id": 4871051, "answer_id": 4871135}, {"body": "<p>What makes you think that <em>c:\\windows\\system32</em> is not your current directory? The <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#getProperties()\" rel=\"nofollow\"><code>user.dir</code></a> property is explicitly to be \"User's current working directory\".</p>\n\n<p>To put it another way, unless you start Java from the command line, <em>c:\\windows\\system32</em> probably is your CWD. That is, if you are double-clicking to start your program, the CWD is unlikely to be the directory that you are double clicking from.</p>\n\n<p><em>Edit</em>: It appears that this is only true for old windows and/or Java versions. </p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/4871142#4871142", "question_id": 4871051, "answer_id": 4871142}, {"body": "<pre><code>public class JavaApplication1 {\n  public static void main(String[] args) {\n       System.out.println(\"Working Directory = \" +\n              System.getProperty(\"user.dir\"));\n  }\n}\n</code></pre>\n\n<p>This will print a <strong>complete absolute path from where your application was initialized.</strong></p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/7603444#7603444", "question_id": 4871051, "answer_id": 7603444}, {"body": "<p>I hope you want to access the current directory including the package i.e. If your Java program is in <code>c:\\myApp\\com\\foo\\src\\service\\MyTest.java</code> and you want to print until <code>c:\\myApp\\com\\foo\\src\\service</code> then you can try the following code:</p>\n\n<pre><code>String myCurrentDir = System.getProperty(\"user.dir\")\n            + File.separator\n            + System.getProperty(\"sun.java.command\")\n                    .substring(0, System.getProperty(\"sun.java.command\").lastIndexOf(\".\"))\n                    .replace(\".\", File.separator);\n    System.out.println(myCurrentDir);\n</code></pre>\n\n<p><em><strong>Note:</em></strong> This code is only tested in Windows with Oracle JRE.</p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/12618943#12618943", "question_id": 4871051, "answer_id": 12618943}, {"body": "<p>See: <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/pathOps.html\">http://docs.oracle.com/javase/tutorial/essential/io/pathOps.html</a></p>\n\n<p>Using <code>java.nio.file.Path</code> and <code>java.nio.file.Paths</code>, you can do the following to show what Java thinks is your current path. This for 7 and on, and uses NIO.</p>\n\n<pre><code>Path currentRelativePath = Paths.get(\"\");\nString s = currentRelativePath.toAbsolutePath().toString();\nSystem.out.println(\"Current relative path is: \" + s);\n</code></pre>\n\n<p>This outputs <code>Current relative path is: /Users/george/NetBeansProjects/Tutorials</code> that in my case is where I ran the class from. Constructing paths in a relative way, by not using a leading separator to indicate you are constructing an absolute path, will use this relative path as the starting point.</p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/15954821#15954821", "question_id": 4871051, "answer_id": 15954821}, {"body": "<pre><code>this.getClass().getClassLoader().getResource(\"\").getPath()\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/16566892#16566892", "question_id": 4871051, "answer_id": 16566892}, {"body": "<p>This is the solution for me</p>\n\n<pre><code>File currentDir = new File(\"\");\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/16802976#16802976", "question_id": 4871051, "answer_id": 16802976}, {"body": "<p>this is current directory name    </p>\n\n<pre><code>String path=\"/home/prasad/Desktop/folderName\";\nFile folder = new File(path);\nString folderName=folder.getAbsoluteFile().getName();\n</code></pre>\n\n<p>this is current directory path</p>\n\n<pre><code>String path=folder.getPath();\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/20091021#20091021", "question_id": 4871051, "answer_id": 20091021}, {"body": "<p>I'm on Linux and get same result for both of these approaches:</p>\n\n<pre><code>@Test\npublic void aaa()\n{\n    System.err.println(Paths.get(\"\").toAbsolutePath().toString());\n\n    System.err.println(System.getProperty(\"user.dir\"));\n}\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html#get%28java.lang.String,%20java.lang.String...%29\"><code>Paths.get(\"\")</code> docs</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\"><code>System.getProperty(\"user.dir\")</code> docs</a></p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/20810612#20810612", "question_id": 4871051, "answer_id": 20810612}, {"body": "<p>Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html#getLocation--\"><code>CodeSource#getLocation()</code></a>. </p>\n\n<p>This works fine in JAR files as well. You can obtain <code>CodeSource</code> by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html#getCodeSource--\"><code>ProtectionDomain#getCodeSource()</code></a> and the <code>ProtectionDomain</code> in turn can be obtained by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getProtectionDomain--\"><code>Class#getProtectionDomain()</code></a>.</p>\n\n<pre><code>public class Test {\n    public static void main(String... args) throws Exception {\n        URL location = Test.class.getProtectionDomain().getCodeSource().getLocation();\n        System.out.println(location.getFile());\n    }\n}\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/21274808#21274808", "question_id": 4871051, "answer_id": 21274808}, {"body": "<p>The following works on Java 7 and up (see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\">here</a> for documentation).</p>\n\n<pre><code>import java.nio.file.Paths;\n\nPaths.get(\".\").toAbsolutePath().normalize().toString();\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/22350931#22350931", "question_id": 4871051, "answer_id": 22350931}, {"body": "<pre><code>String workingdirectory = System.getProperty(\"user.dir\");\nSystem.out.println(workingdirectory);\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/22954459#22954459", "question_id": 4871051, "answer_id": 22954459}, {"body": "<p><code>System.getProperty(\"java.class.path\")</code></p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/27760556#27760556", "question_id": 4871051, "answer_id": 27760556}, {"body": "<p>generally, as a File object:</p>\n\n<pre><code>File getCwd() {\n  return new File(\"\").getAbsoluteFile();\n}\n</code></pre>\n\n<p>you may want to have full qualified string like \"D:/a/b/c\" doing:</p>\n\n<pre><code>getCwd().getAbsolutePath()\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/28149916#28149916", "question_id": 4871051, "answer_id": 28149916}, {"body": "<p>None of the answers posted here worked for me.  Here is what did work:</p>\n\n<pre><code>java.nio.file.Paths.get(\n  getClass().getProtectionDomain().getCodeSource().getLocation().toURI()\n);\n</code></pre>\n\n<p>Edit:  The final version in my code:</p>\n\n<pre><code>URL myURL = getClass().getProtectionDomain().getCodeSource().getLocation();\njava.net.URI myURI = null;\ntry {\n    myURI = myURL.toURI();\n} catch (URISyntaxException e1) \n{}\nreturn java.nio.file.Paths.get(myURI).toFile().toString()\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/29377048#29377048", "question_id": 4871051, "answer_id": 29377048}, {"body": "<p>assume that you're trying to run your project inside eclipse, or netbean or stand alone from command line. I have write a method to fix it</p>\n\n<pre><code>public static final String getBasePathForClass(Class&lt;?&gt; clazz) {\n    File file;\n    try {\n        String basePath = null;\n        file = new File(clazz.getProtectionDomain().getCodeSource().getLocation().toURI().getPath());\n        if (file.isFile() || file.getPath().endsWith(\".jar\") || file.getPath().endsWith(\".zip\")) {\n            basePath = file.getParent();\n        } else {\n            basePath = file.getPath();\n        }\n        // fix to run inside eclipse\n        if (basePath.endsWith(File.separator + \"lib\") || basePath.endsWith(File.separator + \"bin\")\n                || basePath.endsWith(\"bin\" + File.separator) || basePath.endsWith(\"lib\" + File.separator)) {\n            basePath = basePath.substring(0, basePath.length() - 4);\n        }\n        // fix to run inside netbean\n        if (basePath.endsWith(File.separator + \"build\" + File.separator + \"classes\")) {\n            basePath = basePath.substring(0, basePath.length() - 14);\n        }\n        // end fix\n        if (!basePath.endsWith(File.separator)) {\n            basePath = basePath + File.separator;\n        }\n        return basePath;\n    } catch (URISyntaxException e) {\n        throw new RuntimeException(\"Cannot firgue out base path for class: \" + clazz.getName());\n    }\n}\n</code></pre>\n\n<p>To use, everywhere you want to get base path to read file, you can pass your anchor class to above method, result may be the thing you need :D</p>\n\n<p>Best,</p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/29665447#29665447", "question_id": 4871051, "answer_id": 29665447}, {"body": "<p>On <strong>Linux</strong> when you run a <strong>jar</strong> file from <strong>terminal</strong>, these both will return the same <code>String</code>: <strong><em>\"/home/CurrentUser\"</em></strong>, no matter, where youre jar file is. It depends just on what current directory are you using with your terminal, when you start the jar file.</p>\n\n<pre><code>Paths.get(\"\").toAbsolutePath().toString();\n\nSystem.getProperty(\"user.dir\");\n</code></pre>\n\n<p>If your <code>Class</code> with <code>main</code> would be called <code>MainClass</code>, then try:</p>\n\n<pre><code>MainClass.class.getProtectionDomain().getCodeSource().getLocation().getFile();\n</code></pre>\n\n<p>This will return a <code>String</code> with <strong>absolute path</strong> of the <strong>jar</strong> file.</p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/34345487#34345487", "question_id": 4871051, "answer_id": 34345487}, {"body": "<p>Using Windows user.dir returns the directory as expected, but NOT when you start your application with elevated rights (run as admin), in that case you get C:\\WINDOWS\\system32</p>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/34463775#34463775", "question_id": 4871051, "answer_id": 34463775}, {"body": "<p>Here's what I did to get the current working directory of my JavaFX app running on Windows 7 (Java 8).</p>\n\n<pre><code>    FileChooser fc = new FileChooser();\n    fc.setInitialDirectory(new File(\".\"));\n</code></pre>\n", "title": "Getting the Current Working Directory in Java", "tags": ["java", "working-directory"], "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java/37939272#37939272", "question_id": 4871051, "answer_id": 37939272}], "creation_date": 1296624246, "score": 496, "link": "http://stackoverflow.com/questions/4871051/getting-the-current-working-directory-in-java", "question_id": 4871051}, {"body": "<p>I need to read a large text file of around 5-6 GB line by line using Java.</p>\n\n<p>How can I do this quickly? </p>\n", "tags": ["java", "performance", "file-io", "io"], "title": "How to read a large text file line by line using Java?", "answers": [{"body": "<p>Look at this blog:</p>\n\n<ul>\n<li><a href=\"http://www.roseindia.net/java/beginners/java-read-file-line-by-line.shtml\">Java Read File Line by Line - Java Tutorial</a></li>\n</ul>\n\n<blockquote>\n  <p>The buffer size may be specified, or\n  the default size may be used. The\n  default is large enough for most\n  purposes.</p>\n</blockquote>\n\n<pre><code>// Open the file\nFileInputStream fstream = new FileInputStream(\"textfile.txt\");\nBufferedReader br = new BufferedReader(new InputStreamReader(fstream));\n\nString strLine;\n\n//Read File Line By Line\nwhile ((strLine = br.readLine()) != null)   {\n  // Print the content on the console\n  System.out.println (strLine);\n}\n\n//Close the input stream\nbr.close();\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/5868412#5868412", "question_id": 5868369, "answer_id": 5868412}, {"body": "<p>You need to use the <code>readLine()</code> method in <code>class BufferedReader</code>.\nCreate a new object from that class and operate this method on him and save it to a string.</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/io/BufferedReader.html\" rel=\"nofollow\">BufferReader API</a></p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/5868454#5868454", "question_id": 5868369, "answer_id": 5868454}, {"body": "<p>You can use Scanner class</p>\n\n<pre><code>Scanner sc=new Scanner(file);\nsc.nextLine();\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/5868455#5868455", "question_id": 5868369, "answer_id": 5868455}, {"body": "<p>A common pattern is to use</p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new FileReader(file))) {\n    String line;\n    while ((line = br.readLine()) != null) {\n       // process the line.\n    }\n}\n</code></pre>\n\n<p>You can read the data faster if you assume there is no character encoding. e.g. ASCII-7 but it won't make much difference.  It is highly likely that what you do with the data will take much longer.</p>\n\n<p>EDIT: A less common pattern to use which avoids the scope of <code>line</code> leaking.</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new FileReader(file))) {\n    for(String line; (line = br.readLine()) != null; ) {\n        // process the line.\n    }\n    // line is not visible here.\n}\n</code></pre>\n\n<hr>\n\n<p>UPDATE: In Java 8 you can do</p>\n\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n        stream.forEach(System.out::println);\n}\n</code></pre>\n\n<p>NOTE: You have to place the Stream in a try-with-resource block to ensure the file is closed. If you don't do this, the GC might clean up/close the file before you run out of file handles (or it might not)</p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/5868528#5868528", "question_id": 5868369, "answer_id": 5868528}, {"body": "<p>Here is a sample with full error handling and supporting charset specification for pre-Java 7.  With Java 7 you can use try-with-resources syntax, which makes the code cleaner.</p>\n\n<p>If you just want the default charset you can skip the InputStream and use FileReader.</p>\n\n<pre><code>InputStream ins = null; // raw byte-stream\nReader r = null; // cooked reader\nBufferedReader br = null; // buffered for readLine()\ntry {\n    String s;\n    if (true) {\n        String data = \"#foobar\\t1234\\n#xyz\\t5678\\none\\ttwo\\n\";\n        ins = new ByteArrayInputStream(data.getBytes());\n    } else {\n        ins = new FileInputStream(\"textfile.txt\");\n    }\n    r = new InputStreamReader(ins, \"UTF-8\"); // leave charset out for default\n    br = new BufferedReader(r);\n    while ((s = br.readLine()) != null) {\n        System.out.println(s);\n    }\n}\ncatch (Exception e)\n{\n    System.err.println(e.getMessage()); // handle exception\n}\nfinally {\n    if (br != null) { try { br.close(); } catch(Throwable t) { /* ensure close happens */ } }\n    if (r != null) { try { r.close(); } catch(Throwable t) { /* ensure close happens */ } }\n    if (ins != null) { try { ins.close(); } catch(Throwable t) { /* ensure close happens */ } }\n}\n</code></pre>\n\n<p>Here is the Groovy version, with full error handling:</p>\n\n<pre><code>File f = new File(\"textfile.txt\");\nf.withReader(\"UTF-8\") { br -&gt;\n    br.eachLine { line -&gt;\n        println line;\n    }\n}\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/15651884#15651884", "question_id": 5868369, "answer_id": 15651884}, {"body": "<p>Once <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> is out (March 2014) you'll be able to use streams:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filename), Charset.defaultCharset())) {\n  lines.forEachOrdered(line -&gt; process(line));\n}\n</code></pre>\n\n<p>Printing all the lines in the file:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(file, Charset.defaultCharset())) {\n  lines.forEachOrdered(System.out::println);\n}\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/17866514#17866514", "question_id": 5868369, "answer_id": 17866514}, {"body": "<p>In Java 8, you could do:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines (file, StandardCharsets.UTF_8))\n{\n    for (String line : (Iterable&lt;String&gt;) lines::iterator)\n    {\n        ;\n    }\n}\n</code></pre>\n\n<p>Some notes: The stream returned by <code>Files.lines</code> (unlike most streams) needs to be closed. For the reasons <a href=\"http://stackoverflow.com/a/20177092/1151521\">mentioned here</a> I avoid using <code>forEach()</code>. The strange code <code>(Iterable&lt;String&gt;) lines::iterator</code> casts a Stream to an Iterable.</p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/20593147#20593147", "question_id": 5868369, "answer_id": 20593147}, {"body": "<p>In Java 7:</p>\n\n<pre><code>String folderPath = \"C:/folderOfMyFile\";\nPath path = Paths.get(folderPath, \"myFileName.csv\"); //or any text file eg.: txt, bat, etc\nCharset charset = Charset.forName(\"UTF-8\");\n\ntry (BufferedReader reader = Files.newBufferedReader(path , charset)) {\n  while ((line = reader.readLine()) != null ) {\n    //separate all csv fields into string array\n    String[] lineVariables = line.split(\",\"); \n  }\n} catch (IOException e) {\n    System.err.println(e);\n}\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/22950921#22950921", "question_id": 5868369, "answer_id": 22950921}, {"body": "<h1>Java-9 :</h1>\n\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {\n        stream.forEach(System.out::println);\n}\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/23759788#23759788", "question_id": 5868369, "answer_id": 23759788}, {"body": "<p>FileReader won't let you specify the encoding, use InputStreamReader instead if you need to specify it:</p>\n\n<pre><code>    try {\n        BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(filePath), \"Cp1252\"));         \n\n        String line;\n        while ((line = br.readLine()) != null) {\n            // process the line.\n        }\n        br.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>If you imported this file from Windows, it might have ANSI encoding (Cp1252), so you have to specify the encoding. </p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/28158401#28158401", "question_id": 5868369, "answer_id": 28158401}, {"body": "<p>You can also use <code>apache commons io</code>:</p>\n\n<pre><code>File file = new File(\"/home/user/file.txt\");\ntry {\n    List&lt;String&gt; lines = FileUtils.readLines(file);\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/29792319#29792319", "question_id": 5868369, "answer_id": 29792319}, {"body": "<p>I usually do the reading routine straightforward: </p>\n\n<pre><code>void readResource(InputStream source) throws IOException {\n    BufferedReader stream = null;\n    try {\n        stream = new BufferedReader(new InputStreamReader(source));\n        while (true) {\n            String line = stream.readLine();\n            if(line == null) {\n                break;\n            }\n            //process line\n            System.out.println(line)\n        }\n    } finally {\n        closeQuiet(stream);\n    }\n}\n\nstatic void closeQuiet(Closeable closeable) {\n    if (closeable != null) {\n        try {\n            closeable.close();\n        } catch (IOException ignore) {\n        }\n    }\n}\n</code></pre>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/30391507#30391507", "question_id": 5868369, "answer_id": 30391507}, {"body": "<p>In Java 8, there is also an alternative to using <a href=\"http://stackoverflow.com/a/17866514/2986905\"><code>Files.lines()</code></a>. If your input source isn't a file but something more abstract like a <code>Reader</code> or an <code>InputStream</code>, you can <em>stream</em> the lines via the <code>BufferedReader</code>s <code>lines()</code> method.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try( BufferedReader reader = new BufferedReader( ... ) ) {\n  reader.lines().foreach( line -&gt; processLine( line ) );\n}\n</code></pre>\n\n<p>will call <code>processLine()</code> for each input line read by the <code>BufferedReader</code>.</p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/31265714#31265714", "question_id": 5868369, "answer_id": 31265714}, {"body": "<p>What you can do is scan the entire text using Scanner and go through the text line by line.\nOf course you should import the following:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\npublic static void readText throws FileNotFoundException {\n    Scanner scan = new Scanner(new File(\"samplefilename.txt\"));\n    while(scan.hasNextLine()){\n        String line = scan.nextLine();\n        //Here you can manipulate the string the way you want\n    }\n}\n</code></pre>\n\n<p>Scanner basically scans all the text. The while loop is used to traverse through the entire text.</p>\n\n<p>The <code>.hasNextLine()</code> function is a boolean that returns true if there are still more lines in the text. The <code>.nextLine()</code> function gives you an entire line as a String which you can then use the way you want. Try <code>System.out.println(line)</code> to print the text.</p>\n\n<p>Side Note: .txt is the file type text.</p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/32542424#32542424", "question_id": 5868369, "answer_id": 32542424}, {"body": "<p>The clear way to achieve this,</p>\n\n<p>For example:</p>\n\n<p>If you have <code>dataFile.txt</code> on your current directory</p>\n\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class readByLine\n{\n    public readByLine() throws FileNotFoundException\n    {\n        Scanner linReader = new Scanner(new File(\"dataFile.txt\"));\n\n        while (linReader.hasNext())\n        {\n            String line = linReader.nextLine();\n            System.out.println(line);\n        }\n        linReader.close();\n\n    }\n\n    public static void main(String args[])  throws FileNotFoundException\n    {\n        new readByLine();\n    }\n}\n</code></pre>\n\n<p>The output like as below,\n<a href=\"http://i.stack.imgur.com/W3xLx.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/W3xLx.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "How to read a large text file line by line using Java?", "tags": ["java", "performance", "file-io", "io"], "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java/39055850#39055850", "question_id": 5868369, "answer_id": 39055850}], "creation_date": 1304420004, "score": 440, "link": "http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java", "question_id": 5868369}, {"body": "<p>How do I add local jar files (not yet part of the Maven repository) directly in my project's library sources?</p>\n", "tags": ["java", "maven", "repository", "libraries"], "title": "How to add local jar files in maven project?", "answers": [{"body": "<p>Yes , you can have but its not good idea.</p>\n\n<p>Instead install all these jars to maven repos</p>\n\n<p><strong>Also See</strong></p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">How to build maven project with propriatery libraries included</a></li>\n</ul>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/4955670#4955670", "question_id": 4955635, "answer_id": 4955670}, {"body": "<p>Install the JAR into your local Maven repository as follows:</p>\n\n<pre><code>mvn install:install-file\n   -Dfile=&lt;path-to-file&gt;\n   -DgroupId=&lt;group-id&gt;\n   -DartifactId=&lt;artifact-id&gt;\n   -Dversion=&lt;version&gt;\n   -Dpackaging=&lt;packaging&gt;\n   -DgeneratePom=true\n\nWhere: &lt;path-to-file&gt;  the path to the file to load\n   &lt;group-id&gt;      the group that the file should be registered under\n   &lt;artifact-id&gt;   the artifact name for the file\n   &lt;version&gt;       the version of the file\n   &lt;packaging&gt;     the packaging of the file e.g. jar\n</code></pre>\n\n<p><a href=\"http://maven.apache.org/general.html#importing-jars\">Reference</a></p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/4955695#4955695", "question_id": 4955635, "answer_id": 4955695}, {"body": "<p>The preferred way would be to create your own remote repository.</p>\n\n<p>See <a href=\"http://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow\">here</a> for details on how to do it.\nHave a look at the '<strong>Uploading to a Remote Repository</strong>' section.</p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/4955709#4955709", "question_id": 4955635, "answer_id": 4955709}, {"body": "<p>Of course you can add jars to that folder. But maybe it does not what you want to achieve...</p>\n\n<p>If you need these jars for compilation, check this related question: <a href=\"http://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them/\">Can I add jars to maven 2 build classpath without installing them?</a></p>\n\n<p>Also, before anyone suggests it, do NOT use the system scope.</p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/4955789#4955789", "question_id": 4955635, "answer_id": 4955789}, {"body": "<p>One way is to upload it to your own Maven repositoy manager (such as Nexus). It's good praxis to have an own repository manager anyway.</p>\n\n<p>Another nice way I've recently seen is to include the Maven Install Plugin in your build lifecycle: You declare in the POM to install the files to the local repository. It's a little but small overhead and no manual step involved.</p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html\">http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html</a></p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/4956037#4956037", "question_id": 4955635, "answer_id": 4956037}, {"body": "<p>You can add local dependencies directly (as mentioned in <a href=\"http://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">build maven project with propriatery libraries included</a>) like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;sample&lt;/groupId&gt;\n    &lt;artifactId&gt;com.sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/src/main/resources/yourJar.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/22300875#22300875", "question_id": 4955635, "answer_id": 22300875}, {"body": "<p>Firstly I would like to give credit for this answer to anonymous stackoverflow user - I am pretty sure I've seen similar answer here before - but now I cannot find it. </p>\n\n<p>The best option for having local jar files as a dependency is to create local maven repository. Such repo is nothing else than proper directory structure with pom files in it. </p>\n\n<p>On my example:\nI have master project on <code>${master_project}</code> location and subroject1 is on <code>${master_project}/${subproject1}</code></p>\n\n<p>then I am creating mvn repository in:\n<code>${master_project}/local-maven-repo</code></p>\n\n<p>In pom file in subproject1 located <code>${master_project}/${subproject1}/pom.xml</code> repository needs to be specified which would take file path as an url parameter:</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.parent.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Dependency can be specified as for any other repository. This makes your pom repository independent. For instance once desired jar is available in maven central you just need to delete it from your local repo and it will be pulled from default repo. </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.felix.servicebinder&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The last but not least thing to do is to add jar file to local repository using -DlocalRepositoryPath switch like here:</p>\n\n<pre><code>mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file  \\\n    -Dfile=/some/path/on/my/local/filesystem/felix/servicebinder/target/org.apache.felix.servicebinder-0.9.0-SNAPSHOT.jar \\\n    -DgroupId=org.apache.felix -DartifactId=org.apache.felix.servicebinder \\\n    -Dversion=0.9.0-SNAPSHOT -Dpackaging=jar \\\n    -DlocalRepositoryPath=${master_project}/local-maven-repo\n</code></pre>\n\n<p>Onece jar file is installed such mvn repo can be committed to code repository and whole set up is system independent. (<a href=\"https://github.com/jjromannet/apache-felix-tutorials\">working example in github</a>)</p>\n\n<p>I agree that having JARs committed to source code repo is not a good practice but in real life quick and dirty solution sometimes is better than full blown nexus repo to host one jar that you cannot publish. </p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/28762617#28762617", "question_id": 4955635, "answer_id": 28762617}, {"body": "<p>Also take a look at...</p>\n\n<pre><code>&lt;scope&gt;compile&lt;/scope&gt;\n</code></pre>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow\">Maven Dependencies</a>.  This is the default but I've found in some cases explicitly setting that scope also Maven to find local libraries in the local repository.</p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/29190953#29190953", "question_id": 4955635, "answer_id": 29190953}, {"body": "<p>Note that it is NOT necessarily a good idea to use a local repo.\nIf this project is shared with others then everyone else will have problems and questions when it doesn't work, and the jar won't be available even in your source control system!</p>\n\n<p>Although the shared repo is the best answer, if you cannot do this for some reason then embedding the jar is better than a local repo. Local-only repo contents can cause lots of problems, especially over time.</p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/34028118#34028118", "question_id": 4955635, "answer_id": 34028118}, {"body": "<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;group id name&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact name&lt;/artifactId&gt;\n    &lt;version&gt;version number&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n&lt;systemPath&gt;jar location&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/34691488#34691488", "question_id": 4955635, "answer_id": 34691488}, {"body": "<p>I want to share a code where you can upload a folder full of jars. It's useful when a provider doesn't have a public repository and you need to add lots of libraries  manually. I've decided to build a .bat instead of call directly to maven because It could be Out of Memory errors. It was prepared for a windows environment but is easy to adapt it to linux OS:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Date;\nimport java.util.jar.Attributes;\nimport java.util.jar.JarFile;\nimport java.util.jar.Manifest;\n\npublic class CreateMavenRepoApp {\n\n    private static final String OCB_PLUGIN_FOLDER = \"C://your_folder_with_jars\";\n\n    public static void main(String[] args) throws IOException {\n\n    File directory = new File();\n    //get all the files from a directory\n    PrintWriter writer = new PrintWriter(\"update_repo_maven.bat\", \"UTF-8\");\n    writer.println(\"rem \"+ new Date());  \n    File[] fList = directory.listFiles();\n    for (File file : fList){\n        if (file.isFile()){               \n        String absolutePath = file.getAbsolutePath() ;\n        Manifest  m = new JarFile(absolutePath).getManifest();\n        Attributes attributes = m.getMainAttributes();\n        String symbolicName = attributes.getValue(\"Bundle-SymbolicName\");\n\n        if(symbolicName!=null &amp;&amp;symbolicName.contains(\"com.yourCompany.yourProject\")) {\n            String[] parts =symbolicName.split(\"\\\\.\");\n            String artifactId = parts[parts.length-1];\n            String groupId = symbolicName.substring(0,symbolicName.length()-artifactId.length()-1);\n            String version = attributes.getValue(\"Bundle-Version\");\n            String mavenLine= \"call mvn org.apache.maven.plugins:maven-install-plugin:2.5.1:install-file -Dfile=\"+ absolutePath+\" -DgroupId=\"+ groupId+\" -DartifactId=\"+ artifactId+\" -Dversion=\"+ version+\" -Dpackaging=jar \";\n            writer.println(mavenLine);          \n        }\n\n        }\n    }\n    writer.close();\n    }\n\n}\n</code></pre>\n\n<p>After run this main from any IDE, run the update_repo_maven.bat.</p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/35349999#35349999", "question_id": 4955635, "answer_id": 35349999}, {"body": "<p>Create a new folder, let's say <code>local-maven-repo</code> at the root of your Maven project.</p>\n\n<p>Just add a local repo iside your <code>&lt;project&gt;</code> of your <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Then for each external jar you want to install, go at the root of your project and execute:</p>\n\n<pre><code>mvn deploy:deploy-file -DgroupId=[GROUP] -DartifactId=[ARTIFACT] -Dversion=[VERS] -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=[FILE_PATH]\n</code></pre>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/36602256#36602256", "question_id": 4955635, "answer_id": 36602256}, {"body": "<p>THIS ANSWER IS ONLY FOR ECLIPSE USERS:</p>\n\n<p>If you are using Eclipse, place the jar in lib/, right click on the jar name and click \"add to build path\". \nEclipse will create a \"referenced libraries\" and place the jar for you</p>\n\n<p>It resolved the import of the jar right away in the program for me </p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/36922786#36922786", "question_id": 4955635, "answer_id": 36922786}, {"body": "<p>I'd like such solution - use <code>maven-install-plugin</code> in pom file:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;install-file&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;file&gt;lib/yourJar.jar&lt;/file&gt;\n                        &lt;groupId&gt;com.somegroup.id&lt;/groupId&gt;\n                        &lt;artifactId&gt;artefact-id&lt;/artifactId&gt;\n                        &lt;version&gt;x.y.z&lt;/version&gt;\n                        &lt;packaging&gt;jar&lt;/packaging&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>In this case you can perform <code>mvn initialize</code> and jar will be installed in local maven repo. Now this jar is available during any maven step on this machine (do not forget to include this dependency as any other maven dependency in pom with <code>&lt;dependency&gt;&lt;/dependency&gt;</code> tag). It is also possible to bind jar install not to <code>initialize</code> step, but any other step you like.</p>\n", "title": "How to add local jar files in maven project?", "tags": ["java", "maven", "repository", "libraries"], "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project/38339518#38339518", "question_id": 4955635, "answer_id": 38339518}], "creation_date": 1297332206, "score": 420, "link": "http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project", "question_id": 4955635}, {"body": "<p>I am a bit confused about the meaning of a Maven Snapshot and why we build one?</p>\n", "tags": ["java", "maven", "dependency-management"], "title": "What exactly is a Maven Snapshot and why do we need it?", "answers": [{"body": "<p>A \"release\" is the final build for a version which does not change.</p>\n\n<p>A \"snapshot\" is a build which can be replaced by another build which has the same name.  It is implies the build could change at any time and is still under active development.</p>\n\n<p>You have different artifacts for different builds based on the same code. E.g. you might have one with debugging and one without. One for Java 5.0 and one for Java 6.  Generally its simpler to have one build which does everything you need. ;)</p>\n", "title": "What exactly is a Maven Snapshot and why do we need it?", "tags": ["java", "maven", "dependency-management"], "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it/5901419#5901419", "question_id": 5901378, "answer_id": 5901419}, {"body": "<p>The \"SNAPSHOT\" term means that the build is a snapshot of your code at a given time.</p>\n\n<p>It usually means that the version is a version still under heavy development.</p>\n\n<p>When it comes time to release your code, you will want to change the version listed in the pom.  So instead of having a \"SNAPSHOT\" you would have something like \"1.0\".</p>\n\n<p>For some help with versioning, check out the <a href=\"http://semver.org/\">Semantic Versioning specification</a>.</p>\n", "title": "What exactly is a Maven Snapshot and why do we need it?", "tags": ["java", "maven", "dependency-management"], "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it/5901426#5901426", "question_id": 5901378, "answer_id": 5901426}, {"body": "<p>A snapshot version in Maven is one that has not been released.</p>\n\n<p>The idea is that <strong>before</strong> a <code>1.0</code> release (or any other release) is done, there exists a <code>1.0-SNAPSHOT</code>. That version is what <em>might become</em> <code>1.0</code>. It's basically \"<code>1.0</code> under development\". This might be <em>close</em> to a real <code>1.0</code> release, or pretty far (right after the <code>0.9</code> release, for example).</p>\n\n<p>The difference between a \"real\" version and a snapshot version is that snapshots might get updates. That means that downloading <code>1.0-SNAPSHOT</code> today might give a different file than downloading it yesterday or tomorrow.</p>\n\n<p>Usually, snapshot dependencies should <strong>only</strong> exist during development and no released version (i.e. no non-snapshot) should have a dependency on a snapshot version.</p>\n", "title": "What exactly is a Maven Snapshot and why do we need it?", "tags": ["java", "maven", "dependency-management"], "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it/5901460#5901460", "question_id": 5901378, "answer_id": 5901460}, {"body": "<p>The three others answers provide you a good vision of what a <code>-SNAPSHOT</code> version is. I just wanted to add some information regarding the behavior of Maven when it finds a <code>SNAPSHOT</code> dependency.</p>\n\n<p>When you build an application, Maven will search for dependencies in the <strong>local</strong> repository. If a stable version is not found there, it will search the remote repositories (defined in <code>settings.xml</code> or <code>pom.xml</code>) to retrieve this dependency. Then, it will copy it into the local repository, to make it available for the next builds.</p>\n\n<p>For example, a <code>foo-1.0.jar</code> library is considered as a <strong>stable</strong> version, and if Maven finds it in the local repository, it will use this one for the current build.</p>\n\n<p>Now, if you need a <code>foo-1.0-SNAPSHOT.jar</code> library, Maven will know that this version is not stable and is subject to changes. That's why Maven will try to find a newer version in the remote repositories, even if a version of this library is found on the local repository. However, this check is made only once per day. That means that if you have a <code>foo-1.0-20110506.110000-1.jar</code> (i.e. this library has been generated on 2011/05/06 at 11:00:00) in your local repository, and if you run the Maven build again the same day, Maven will <strong>not</strong> check the repositories for a newer version.</p>\n\n<p>Maven provides you a way to can change this update policy in your repository definition:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;foo-repository&lt;/id&gt;\n    &lt;url&gt;...&lt;/url&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;updatePolicy&gt;XXX&lt;/updatePolicy&gt;\n    &lt;/snapshots&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>where <code>XXX</code> can be:</p>\n\n<ul>\n<li><strong>always</strong>: Maven will check for a newer version on every build;</li>\n<li><strong>daily</strong>, the default value;</li>\n<li><strong>interval:XXX</strong>: an interval in minutes (XXX)</li>\n<li><strong>never</strong>: Maven will never try to retrieve another version. It will do that only if it doesn't exist locally. With the configuration, <code>SNAPSHOT</code> version will be handled as the stable libraries.</li>\n</ul>\n\n<p>(model of the settings.xml can be found <a href=\"http://maven.apache.org/ref/2.2.1/maven-settings/settings.html\">here)</a></p>\n", "title": "What exactly is a Maven Snapshot and why do we need it?", "tags": ["java", "maven", "dependency-management"], "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it/5907727#5907727", "question_id": 5901378, "answer_id": 5907727}, {"body": "<p>This is how a snapshot looks like for a repository and in this case is not enabled, which means that the repository referred in here is stable and there's no need for updates.</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;lds-main&lt;/id&gt;\n            &lt;name&gt;LDS Main Repo&lt;/name&gt;\n            &lt;url&gt;http://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Another case would be for:</p>\n\n<pre><code>&lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n&lt;/snapshots&gt;\n</code></pre>\n\n<p>which means that Maven will look for updates for this repository. You can also specify an interval for the updates with  tag. </p>\n", "title": "What exactly is a Maven Snapshot and why do we need it?", "tags": ["java", "maven", "dependency-management"], "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it/20327963#20327963", "question_id": 5901378, "answer_id": 20327963}, {"body": "<p>usually in maven we have two types of builds \n1)Snapshot builds\n2)Release builds</p>\n\n<p>1)snapshot builds:SNAPSHOT is the special version that indicate current deployment copy not like a regular version, maven checks the version for every build in the remote repository\nso the snapshot builds are nothing but maintainance builds.</p>\n\n<p>2)Release builds:Release means removing the SNAPSHOT at the version for the build, these are the regular build versions.</p>\n", "title": "What exactly is a Maven Snapshot and why do we need it?", "tags": ["java", "maven", "dependency-management"], "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it/25197883#25197883", "question_id": 5901378, "answer_id": 25197883}], "creation_date": 1304614250, "score": 401, "link": "http://stackoverflow.com/questions/5901378/what-exactly-is-a-maven-snapshot-and-why-do-we-need-it", "question_id": 5901378}, {"body": "<p>I have a string like this: </p>\n\n<pre><code>mysz = \"name=john age=13 year=2001\";\n</code></pre>\n\n<p>I want to remove the whitespaces in the string. I tried <code>trim()</code> but this removes only whitespaces before and after the whole string. I also tried <code>replaceAll(\"\\\\W\", \"\")</code> but then the <code>=</code> also gets removed.</p>\n\n<p>How can I achieve a string with:</p>\n\n<pre><code>mysz2 = \"name=johnage=13year=2001\"\n</code></pre>\n", "tags": ["java", "whitespace"], "title": "Removing whitespace from strings in Java", "answers": [{"body": "<p><code>st.replaceAll(\"\\\\s+\",\"\")</code> removes all whitespaces and non-visible characters (e.g., tab, <code>\\n</code>).</p>\n\n<hr>\n\n<p><code>st.replaceAll(\"\\\\s+\",\"\")</code> and <code>st.replaceAll(\"\\\\s\",\"\")</code> produce the same result.</p>\n\n<p>The second regex is 20% faster than the first one, but as the number consecutive spaces increases, the first one performs better than the second one.</p>\n\n<hr>\n\n<p>Assign the value to a variable, if not used directly:</p>\n\n<pre><code>st = st.replaceAll(\"\\\\s+\",\"\")\n</code></pre>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/5455809#5455809", "question_id": 5455794, "answer_id": 5455809}, {"body": "<p>You've already got the correct answer from Gursel Koca but I believe that there's a good chance that this is not what you really want to do. How about parsing the key-values instead?</p>\n\n<pre><code>import java.util.Enumeration;\nimport java.util.Hashtable;\n\nclass SplitIt {\n  public static void main(String args[])  {\n\n    String person = \"name=john age=13 year=2001\";\n\n    for (String p : person.split(\"\\\\s\")) {\n      String[] keyValue = p.split(\"=\");\n      System.out.println(keyValue[0] + \" = \" + keyValue[1]);\n    }\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>output:<br>\n  name = john<br>\n  age = 13<br>\n  year = 2001  </p>\n</blockquote>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/5455812#5455812", "question_id": 5455794, "answer_id": 5455812}, {"body": "<p>How about <code>replaceAll(\"\\\\s\", \"\")</code>. Refer <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html\">here</a>.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/5455820#5455820", "question_id": 5455794, "answer_id": 5455820}, {"body": "<pre><code>replaceAll(\"\\\\s\",\"\")\n</code></pre>\n\n<p><code>\\w</code> = Anything that is a word character</p>\n\n<p><code>\\W</code> = Anything that isn't a word character (including punctuation etc)</p>\n\n<p><code>\\s</code> = Anything that is a space character (including space, tab characters etc)</p>\n\n<p><code>\\S</code> = Anything that isn't a space character (including both letters and numbers, as well as punctuation etc)</p>\n\n<p>(Edit: As pointed out, you need to escape the backslash if you want <code>\\s</code> to reach the regex engine, resulting in <code>\\\\s</code>.)</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/5455828#5455828", "question_id": 5455794, "answer_id": 5455828}, {"body": "<p><code>\\W</code> means \"non word character\". The pattern for whitespace characters is <code>\\s</code>. This is well documented in the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Pattern javadoc</a>.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/5455834#5455834", "question_id": 5455794, "answer_id": 5455834}, {"body": "<p>If you prefer utility classes to regexes, there is a method <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html#trimAllWhitespace%28java.lang.String%29\">trimAllWhitespace(String)</a> in StringUtils in the Spring Framework.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/14521255#14521255", "question_id": 5455794, "answer_id": 14521255}, {"body": "<p>In java we can do following operation:</p>\n\n<pre><code>String pattern=\"[\\\\s]\";\nString replace=\"\";\npart=\"name=john age=13 year=2001\";\nPattern p=Pattern.compile(pattern);\nMatcher m=p.matcher(part);\npart=m.replaceAll(replace);\nSystem.out.println(part);\n</code></pre>\n\n<p>for this you need to import following packages to your program:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n</code></pre>\n\n<p>i hope it will help you.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/15765014#15765014", "question_id": 5455794, "answer_id": 15765014}, {"body": "<p>The most correct answer to the question is:</p>\n\n<pre><code>String mysz2 = mysz.replaceAll(\"\\\\s\",\"\");\n</code></pre>\n\n<p>I just adapted this code from the other answers. I'm posting it because besides being exactly what the question requested, it also demonstrates that <strong>the result is returned as a new string, the original string is not modified</strong> as some of the answers sort of imply.</p>\n\n<p>(Experienced Java developers might say \"of course, you can't actually modify a String\", but the target audience for this question may well not know this.)</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/16035109#16035109", "question_id": 5455794, "answer_id": 16035109}, {"body": "<pre><code>mysz = mysz.replace(\" \",\"\");\n</code></pre>\n\n<p>First with space, second without space. </p>\n\n<p>Then it is done. </p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/16414602#16414602", "question_id": 5455794, "answer_id": 16414602}, {"body": "<p>The code you want is</p>\n\n<pre><code>str.replaceAll(\"\\\\s\",\"\");\n</code></pre>\n\n<p>This will remove all the white spaces.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/16834636#16834636", "question_id": 5455794, "answer_id": 16834636}, {"body": "<p>You should use</p>\n\n<pre><code>s.replaceAll(\"\\\\s+\", \"\");\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>s.replaceAll(\"\\\\s\", \"\");\n</code></pre>\n\n<p>This way, it will work with more than one spaces between each string. \nThe + sign in the above regex means \"one or more \\s\"</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/17661556#17661556", "question_id": 5455794, "answer_id": 17661556}, {"body": "<pre><code>public static void main(String[] args) {        \n    String s = \"name=john age=13 year=2001\";\n    String t = s.replaceAll(\" \", \"\");\n    System.out.println(\"s: \" + s + \", t: \" + t);\n}\n\nOutput:\ns: name=john age=13 year=2001, t: name=johnage=13year=2001\n</code></pre>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/22744505#22744505", "question_id": 5455794, "answer_id": 22744505}, {"body": "<p>One way to handle String manipulations is StringUtils from Apache commons.</p>\n\n<pre><code>String withoutWhitespace = StringUtils.deleteWhitespace(whitespaces);\n</code></pre>\n\n<p>You can find it <a href=\"http://commons.apache.org/proper/commons-lang/index.html\">here</a>.\ncommons-lang includes lots more and is well supported.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/24853116#24853116", "question_id": 5455794, "answer_id": 24853116}, {"body": "<p>If you need to remove unbreakable spaces too, you can upgrade your code like this :</p>\n\n<pre><code>st.replaceAll(\"[\\\\s\\\\u00A0]+$\", \"\");\n</code></pre>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/26931946#26931946", "question_id": 5455794, "answer_id": 26931946}, {"body": "<p>there are many ways to solve this problem.\nyou can use split function or replace function of Strings.</p>\n\n<p>for more info refer smilliar problem <a href=\"http://techno-terminal.blogspot.in/2015/10/how-to-remove-spaces-from-given-string.html\" rel=\"nofollow\">http://techno-terminal.blogspot.in/2015/10/how-to-remove-spaces-from-given-string.html</a></p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/33130732#33130732", "question_id": 5455794, "answer_id": 33130732}, {"body": "<pre><code>import java.util.*;\npublic class RemoveSpace {\npublic static void main(String[] args) {\n    String mysz = \"name=john age=13 year=2001\";\n    Scanner scan = new Scanner(mysz);\n\n    String result = \"\";\n    while(scan.hasNext()) {\n        result += scan.next();\n    }\n    System.out.println(result);\n}\n</code></pre>\n\n<p>}</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/33488296#33488296", "question_id": 5455794, "answer_id": 33488296}, {"body": "<p>You can do it so simply by</p>\n\n<pre><code>String newMysz = mysz.replace(\" \",\"\");\n</code></pre>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/34491993#34491993", "question_id": 5455794, "answer_id": 34491993}, {"body": "<pre><code>String a=\"string with                multi spaces \";\n//or this \nString b= a.replaceAll(\"\\\\s+\",\" \");\nString c= a.replace(\"    \",\" \").replace(\"   \",\" \").replace(\"  \",\" \").replace(\"   \",\" \").replace(\"  \",\" \");\n</code></pre>\n\n<p>//it work fine with any spaces \n*don't forget space in sting b</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/35444936#35444936", "question_id": 5455794, "answer_id": 35444936}, {"body": "<pre><code>var str =\"hello    the dog is big\"\nvar expression = /\\s+/g;\nvar x =str.replace(expression, \"\");\n\nreturn x;\n</code></pre>\n\n<p>This works for me and locates ll white spaces, not just spaces of a certain size.</p>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/36909560#36909560", "question_id": 5455794, "answer_id": 36909560}, {"body": "<p>Using Pattern And Matcher it is more Dynamic.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RemovingSpace {\n\n    /**\n     * @param args\n     * Removing Space Using Matcher\n     */\n    public static void main(String[] args) {\n        String str= \"jld fdkjg jfdg \";\n        String pattern=\"[\\\\s]\";\n        String replace=\"\";\n\n        Pattern p= Pattern.compile(pattern);\n        Matcher m=p.matcher(str);\n\n        str=m.replaceAll(replace);\n        System.out.println(str);    \n    }\n}\n</code></pre>\n", "title": "Removing whitespace from strings in Java", "tags": ["java", "whitespace"], "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java/37951761#37951761", "question_id": 5455794, "answer_id": 37951761}], "creation_date": 1301296921, "score": 400, "link": "http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java", "question_id": 5455794}, {"body": "<p>I have read multiple posts on StackOverFlow about checked vs unchecked exceptions. I'm honestly still not quite sure how to use them properly. </p>\n\n<p>Joshua Bloch in \"<em>Effective Java</em>\" said that </p>\n\n<blockquote>\n  <p>Use checked exceptions for\n  recoverable conditions and runtime\n  exceptions for programming errors\n  (Item 58 in 2nd edition)</p>\n</blockquote>\n\n<p>Let see if I understand this correctly</p>\n\n<p>Here is my understanding of a checked exception:</p>\n\n<pre><code>try{\n    String userInput = //read in user input\n    Long id = Long.parseLong(userInput);\n}catch(NumberFormatException e){\n    id = 0; //recover the situation by set the id to 0\n}\n</code></pre>\n\n<p><strong>1. Is the above consider a checked exception?</strong></p>\n\n<p><strong>2. Is RuntimeException an unchecked exception?</strong></p>\n\n<p>Here is my understanding of a unchecked exception</p>\n\n<pre><code>try{\n    File file = new File(\"my/file/path\");\n    FileInputStream fis = new FileInputStream(file);   \n}catch(FileNotFoundException e){\n\n//3. What should I do here?\n    //Should I \"throw new FileNotFoundException(\"File not found\");\"?\n    //Should I log?\n    //Or should I System.exit(0);?\n}\n</code></pre>\n\n<p><strong>4. Now, couldnt the above code also be a checked exception? I can try to recover the situation like this? Can I?</strong> (Note: my 3rd question is inside the <code>catch</code> above)</p>\n\n<pre><code>try{\n    String filePath = //read in from user input file path\n    File file = new File(filePath);\n    FileInputStream fis = new FileInputStream(file);   \n}catch(FileNotFoundException e){\n    //Kindly prompt the user an error message\n    //Somehow ask the user to re-enter the file path.\n}\n</code></pre>\n\n<p><strong>5. Why do people do this?</strong></p>\n\n<pre><code>public void someMethod throws Exception{\n\n}\n</code></pre>\n\n<p>Why do they let the exception bubble up? Isn't handling the error sooner better? Why bubble up? </p>\n\n<p><strong>EDIT: Should I bubble up the exact exception or mask it using Exception?</strong></p>\n\n<p><strong>Below are my readings</strong></p>\n\n<p><a href=\"http://stackoverflow.com/questions/499437/in-java-when-should-i-create-a-checked-exception-and-when-should-it-be-a-runtim\">In Java, when should I create a checked exception, and when should it be a runtime exception?</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/27578/when-to-choose-checked-and-unchecked-exceptions\">When to choose checked and unchecked exceptions</a></p>\n", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "title": "Java: checked vs unchecked exception explanation", "answers": [{"body": "<p>Many people say that checked exceptions (i.e. these that you should explicitly catch or rethrow) should not be used at all. They were eliminated in C# for example, and most languages don't have them. So you can always throw a subclass of <code>RuntimeException</code> (unchecked exception)</p>\n\n<p>However, I think checked exceptions are useful - they are used when you want to force the user of your API to think how to handle the exceptional situation (if it is recoverable). It's just that checked exceptions are overused in the Java platform, which makes people hate them.</p>\n\n<p><a href=\"http://techblog.bozho.net/?p=316\">Here's my extended view on the topic</a>.</p>\n\n<p>As for the particular questions:</p>\n\n<ol>\n<li><p><strong>Is the <code>NumberFormatException</code> consider a checked exception?</strong><br>\nNo. <code>NumberFormatException</code> is unchecked (= is subclass of <code>RuntimeException</code>). Why? I don't know. (but there should have been a method <code>isValidInteger(..)</code>)</p></li>\n<li><p><strong>Is <code>RuntimeException</code> an unchecked exception?</strong><br>\nYes, exactly.</p></li>\n<li><p><strong>What should I do here?</strong><br>\nIt depends on where this code is and what you want to happen. If it is in the UI layer - catch it and show a warning; if it's in the service layer - don't catch it at all - let it bubble. Just don't swallow the exception. If an exception occurs in most of the cases you should choose one of these:</p>\n\n<ul>\n<li>log it and return</li>\n<li>rethrow it (declare it to be thrown by the method)</li>\n<li>construct a new exception by passing the current one in constructor  </li>\n</ul></li>\n<li><p><strong>Now, couldn't the above code also be a checked exception? I can try to recover the situation like this? Can I?</strong><br>\nIt could've been. But nothing stops you from catching the unchecked exception as well</p></li>\n<li><p><strong>Why do people add class <code>Exception</code> in the throws clause?</strong><br>\nMost often because people are lazy to consider what to catch and what to rethrow. Throwing <code>Exception</code> is a bad practice and should be avoided.</p></li>\n</ol>\n\n<p>Alas, there is no single rule to let you determine when to catch, when to rethrow, when to use checked and when to use unchecked exceptions. I agree this causes much confusion and a lot of bad code. The general principle is stated by Bloch (you quoted a part of it). And the general principle is to rethrow an exception to the layer where you can handle it.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/6116020#6116020", "question_id": 6115896, "answer_id": 6116020}, {"body": "<ol>\n<li><p>Is the above consider a checked exception?\nNo\nThe fact that you are handling an exception does not make it a Checked Exception if it is a RuntimeException.</p></li>\n<li><p>Is RuntimeException an unchecked exception?\nYes</p></li>\n</ol>\n\n<p>Checked Exceptions are subclasses of java.lang.Exception\nUnchecked Exceptions are subclasses of java.lang.RuntimeException</p>\n\n<p>Calls throwing checked exceptions need to be enclosed in a try{} block or handled in a level above in the caller of the method. In that case the current method must declare that it throws said exceptions so that the callers can make appropriate arrangements to handle the exception.</p>\n\n<p>Hope this helps.</p>\n\n<blockquote>\n  <p>Q: should I bubble up the exact\n  exception or mask it using Exception?</p>\n</blockquote>\n\n<p>A: Yes this is a very good question and important design consideration. The class Exception is a very general exception class and can be used to wrap internal low level exceptions. You would better create a custom exception and wrap inside it. But, and a big one - Never ever obscure in underlying original root cause. For ex, <code>Dont ever</code> do following - </p>\n\n<pre><code>try {\n     attemptLogin(userCredentials);\n} catch (SQLException sqle) {\n     throw new LoginFailureException(\"Cannot login!!\"); //&lt;-- Eat away original root cause, thus obscuring underlying problem.\n}\n</code></pre>\n\n<p>Instead do following:</p>\n\n<pre><code>try {\n     attemptLogin(userCredentials);\n} catch (SQLException sqle) {\n     throw new LoginFailureException(sqle); //&lt;-- Wrap original exception to pass on root cause upstairs!.\n}\n</code></pre>\n\n<p>Eating away original root cause buries the actual cause beyond recovery is a nightmare for production support teams where all they are given access to is application logs and error messages.\nAlthough the latter is a better design but many people dont use it often because developers just fail to pass on the underlying message to caller. So make a firm note: <code>Always pass on the actual exception</code> back whether or not wrapped in any application specific exception.</p>\n\n<blockquote>\n  <p>On try-catching RuntimeExceptions</p>\n</blockquote>\n\n<p>RuntimeExceptions as a general rule should not be try-catched. They generally signal a programming error and should be left alone. Instead the programmer should check the error condition before invoking some code which might result in a RuntimeException. For ex:</p>\n\n<pre><code>try {\n    setStatusMessage(\"Hello Mr. \" + userObject.getName() + \", Welome to my site!);\n} catch (NullPointerException npe) {\n   sendError(\"Sorry, your userObject was null. Please contact customer care.\");\n}\n</code></pre>\n\n<p>This is a bad programming practice. Instead a null-check should have been done like - </p>\n\n<pre><code>if (userObject != null) {\n    setStatusMessage(\"Hello Mr. \" + userObject.getName() + \", Welome to my site!);\n} else {\n   sendError(\"Sorry, your userObject was null. Please contact customer care.\");\n}\n</code></pre>\n\n<p>But there are times when such error checking is expensive such as number formatting, consider this - </p>\n\n<pre><code>try {\n    String userAge = (String)request.getParameter(\"age\");\n    userObject.setAge(Integer.parseInt(strUserAge));\n} catch (NumberFormatException npe) {\n   sendError(\"Sorry, Age is supposed to be an Integer. Please try again.\");\n}\n</code></pre>\n\n<p>Here pre-invocation error checking is not worth the effort because it essentially means to duplicate all the string-to-integer conversion code inside parseInt() method - and is error prone if implemented by a developer. So it is better to just do away with try-catch. </p>\n\n<p>So NullPointerException and NumberFormatException are both RuntimeExceptions, catching a NullPointerException should replaced with a graceful null-check while I recommend catching a NumberFormatException explicitly to avoid possible introduction of error prone code.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/6116030#6116030", "question_id": 6115896, "answer_id": 6116030}, {"body": "<p>Whether something is a \"checked exception\" has nothing to do with whether you catch it or what you do in the catch block. It's a property of exception classes. Anything that is a subclass of <code>Exception</code> <em>except</em> for <code>RuntimeException</code> and its subclasses is a checked exception.</p>\n\n<p>The Java compiler forces you to either catch checked exceptions or declare them in the method signature. It was supposed to improve program safety, but the majority opinion seems to be that it's not worth the design problems it creates.</p>\n\n<blockquote>\n  <p>Why do they let the exception bubble\n  up? Isnt handle error the sooner the\n  better? Why bubble up?</p>\n</blockquote>\n\n<p>Because that's the entire <em>point</em> of exceptions. Without this possibility, you would not need exceptions. They enable you to handle errors at a level you choose, rather than forcing you to deal with them in low-level methods where they originally occur.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/6116051#6116051", "question_id": 6115896, "answer_id": 6116051}, {"body": "<p>All of those are checked exceptions.  Unchecked exceptions are subclasses of RuntimeException.  The decision is not how to handle them, it's should your code throw them.  If you don't want the compiler telling you that you haven't handled an exception then you use an unchecked (subclass of RuntimeException) exception.  Those should be saved for situations that you can't recover from, like out of memory errors and the like.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/6116055#6116055", "question_id": 6115896, "answer_id": 6116055}, {"body": "<p>1) No, a NumberFormatException is an unchecked Exception. Even though you caught it (you aren't required to) it is unchecked. This is because it is a subclass of IllegalArgumentException which is a subclass of RuntimeException.</p>\n\n<p>2) RuntimeException is the root of all unchecked Exceptions. Every subclass of RuntimeException is unchecked. All other Exceptions and Throwables are checked.</p>\n\n<p>3/4) You could alert the user that they picked a non-existent file and ask for a new one. Or just quit informing the user that they entered something invalid.</p>\n\n<p>5) Throwing and catching 'Exception' is bad practice. But more generally, you might throw other exceptions so the caller can decide how to deal with it. For example, if you wrote a library to handle reading some file input and your method was passed a non-existent file, you have no idea how to handle that. Does the caller want to ask again or quit? So you throw the Exception up the chain back to the caller.</p>\n\n<p>In many cases, an unchecked Exception occurs because the programmer did not verify inputs (in the case of NumberFormatException in your first question). That's why its optional to catch them, because there are more elegant ways to avoid generating those exceptions. </p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/6116104#6116104", "question_id": 6115896, "answer_id": 6116104}, {"body": "<p>1 . If you are unsure about an exception, check the API:</p>\n\n<blockquote>\n<pre><code> java.lang.Object\n extended by java.lang.Throwable\n  extended by java.lang.Exception\n   extended by java.lang.RuntimeException  //&lt;-NumberFormatException is a RuntimeException  \n    extended by java.lang.IllegalArgumentException\n     extended by java.lang.NumberFormatException\n</code></pre>\n</blockquote>\n\n<p>2 . Yes, and every exception that extends it.</p>\n\n<p>3 . There is no need to catch and throw the same exception. You can show a new File Dialog in this case.</p>\n\n<p>4 . FileNotFoundException <em>is</em> already a checked exception.</p>\n\n<p>5 . If it is expected that the method calling <code>someMethod</code> to catch the exception, the latter can be thrown. It just \"passes the ball\". An example of it usage would be if you want to throw it in your own private methods, and handle the exception in your public method instead.  </p>\n\n<p>A good reading is the Oracle doc itself: <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/runtime.html\">http://download.oracle.com/javase/tutorial/essential/exceptions/runtime.html</a></p>\n\n<blockquote>\n  <p>Why did the designers decide to force a method to specify all uncaught checked exceptions that can be thrown within its scope? Any Exception that can be thrown by a method is part of the method's public programming interface. Those who call a method must know about the exceptions that a method can throw so that they can decide what to do about them. These exceptions are as much a part of that method's programming interface as its parameters and return value.</p>\n  \n  <p>The next question might be: \"If it's so good to document a method's API, including the exceptions it can throw, why not specify runtime exceptions too?\" Runtime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small. </p>\n</blockquote>\n\n<p>There's also an important bit of information in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html\"><strong>Java Language Specification</strong></a>:</p>\n\n<blockquote>\n  <p><strong>The checked exception classes named in the throws clause are part of the contract between the implementor and user of the method or constructor</strong>.</p>\n</blockquote>\n\n<p>The bottom line IMHO is that you <em>can</em> catch any <code>RuntimeException</code>, but you are not required to and, in fact the implementation is not required to maintain the same non-checked exceptions thrown, as those are not part of the contract.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/6116180#6116180", "question_id": 6115896, "answer_id": 6116180}, {"body": "<p>To answer the final question (the others seem thoroughly answered above), \"Should I bubble up the exact exception or mask it using Exception?\"</p>\n\n<p>I am assuming you mean something like this:</p>\n\n<pre><code>public void myMethod() throws Exception {\n    // ... something that throws FileNotFoundException ...\n}\n</code></pre>\n\n<p>No, always declare the <em>most precise</em> exception possible, or a list of such.  The exceptions you declare your method as capable of throwing are a part of the contract between your method and the caller.  Throwing \"FileNotFoundException\" means that it is possible the file name isn't valid and the file will not be found; the caller will need to handle that intelligently.  Throwing \"Exception\" means \"Hey, sh*t happens.  Deal.\"  Which is a very poor API.</p>\n\n<p>In the comments on the first article there are some examples where \"throws Exception\" is a valid and reasonable declaration, but that's not the case for most \"normal\" code you will ever write.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/12681500#12681500", "question_id": 6115896, "answer_id": 12681500}, {"body": "<p>If anybody cares for yet another proof to dislike checked exceptions, see the first few paragraphs of the popular JSON library:</p>\n\n<p>\"Although this is a checked exception, it is rarely recoverable. Most callers should simply wrap this exception in an unchecked exception and rethrow: \"</p>\n\n<p>So why in the world would anyone make developers keep checking the exception, if we should \"simply wrap it\" instead? lol</p>\n\n<p><a href=\"http://developer.android.com/reference/org/json/JSONException.html\" rel=\"nofollow\">http://developer.android.com/reference/org/json/JSONException.html</a></p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/22926731#22926731", "question_id": 6115896, "answer_id": 22926731}, {"body": "<p><strong>Why do they let the exception bubble up? Isn't handling the error sooner better? Why bubble up?</strong></p>\n\n<p>For example let say you have some <strong>client-server application</strong> and client had made a request for some resource that couldn't be find out or for something else error some might have occurred at the server side while processing the user request then it is the duty of the server to tell the client why he couldn't get the thing he requested for,so to achieve that at server side, code is written to throw the exception using <strong>throw</strong> keyword instead of swallowing or handling it.if server handles it/swallow it, then there will be no chance of intimating to the client that what error had occurred.</p>\n\n<p>Note:To give a clear description of what the error type has occurred we can create our own     Exception object and throw it to the client.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/25116540#25116540", "question_id": 6115896, "answer_id": 25116540}, {"body": "<ul>\n<li>Java distinguish between two categories of exceptions (checked &amp; unchecked)</li>\n<li>Java enforce a catch or declared requirement for checked exceptions</li>\n<li>An exception's type determines whether an exception is checked or unchecked.</li>\n<li>All exception types that are direct or indirect subclasses of class RuntimeException\nare unchecked exception.</li>\n<li>All classes that inherit from class Exception but not RuntimeException are considered to be checked exceptions.</li>\n<li>Classes that inherit from class Error are considered to be unchecked.</li>\n<li>Compiler checks each method call and deceleration to determine whether the\nmethod throws checked exception.\n<ul>\n<li>If so the compiler ensures the exception is caught or is declared in a throws clause.</li>\n</ul></li>\n<li>To satisfy the declare part of the catch-or-declare requirement, the method that generates\nthe exception must provide a throws clause containing the checked-exception.</li>\n<li><strong>Exception classes are defined to be checked when they are considered important enough to catch or declare.</strong></li>\n</ul>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/26169012#26169012", "question_id": 6115896, "answer_id": 26169012}, {"body": "<p>Here is a simple rule that can help you decide. It is related to how interfaces are used in Java.</p>\n\n<p>Take your class and imagine designing an interface for it such that the interface describes the functionality of the class but none of the underlying implementation (as an interface should). Pretend perhaps that you might implement the class in another way.</p>\n\n<p>Look at the methods of the interface and consider the exceptions they might throw:</p>\n\n<p>If an exception can be thrown by a method, regardless of the underlying implementation (in other words, it describes the functionality only) then it should probably be a checked exception in the interface.</p>\n\n<p>If an exception is caused by the underlying implementation, it should not be in the interface. Therefore, it must either be an unchecked exception in your class (since unchecked exceptions need not appear in the interface signature), or you must wrap it and rethrow as a checked exception that is part of the interface method.</p>\n\n<p>To decide if you should wrap and rethrow, you should again consider whether it makes sense for a user of the interface to have to handle the exception condition immediately, or the exception is so general that there is nothing you can do about it and it should propagate up the stack. Does the wrapped exception make sense when expressed as functionality of the new interface you are defining or is it just a carrier for a bag of possible error conditions that could also happen to other methods? If the former, it might still be a checked exception, otherwise it should be unchecked.</p>\n\n<p>You should not usually plan to \"bubble-up\" exceptions (catch and rethrow). Either an exception should be handled by the caller (in which case it is checked) or it should go all the way up to a high level handler (in which case it is easiest if it is unchecked).</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/27960620#27960620", "question_id": 6115896, "answer_id": 27960620}, {"body": "<p>Checked exceptions are checked at compile time by the JVM and its related to resources(files/db/stream/socket etc). The motive of checked exception is that at compile time if the resources are not available the application should define an alternative behaviour to handle this in the catch/finally block.</p>\n\n<p>Unchecked exceptions are purely programmatic errors, wrong calculation, null data or even failures in business logic can lead to runtime exceptions. Its absolutely fine to handle/catch unchecked exceptions in code.</p>\n\n<p>Explanation taken from <a href=\"http://coder2design.com/java-interview-questions/\" rel=\"nofollow\">http://coder2design.com/java-interview-questions/</a></p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/31384407#31384407", "question_id": 6115896, "answer_id": 31384407}, {"body": "<p>Checked - Prone to happen. Checked in Compile time.  </p>\n\n<p>Eg.. FileOperations</p>\n\n<p>UnChecked - Due to Bad data. Checked in Run time.  </p>\n\n<p>Eg.. </p>\n\n<pre><code>String s = \"abc\";\nObject o = s;\nInteger i = (Integer) o;\n\nException in thread \"main\" java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n    at Sample.main(Sample.java:9)\n</code></pre>\n\n<p>Here exception is due to bad data and in no way it can be determined during compile time.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/31615950#31615950", "question_id": 6115896, "answer_id": 31615950}, {"body": "<p>My <em>absolute favorite</em> description of the difference between unchecked and checked exceptions is provided by the Java Tutorial trail article, \"<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow\">Unchecked Exceptions - the Controversy</a>\" (sorry to get all elementary on this post - but, hey, the basics are sometimes the best):</p>\n\n<blockquote>\n  <p>Here's the bottom line guideline: If a client can reasonably be\n  expected to recover from an exception, make it a checked exception. If\n  a client cannot do anything to recover from the exception, make it an\n  unchecked exception</p>\n</blockquote>\n\n<p>The heart of \"what type of exception to throw\" is semantic (to some degree) and the above quote provides and excellent guideline (hence, I am still blown away by the notion that C# got rid of checked exceptions - particularly as Liskov argues for their usefulness). </p>\n\n<p>The rest then becomes logical: to which exceptions does the compiler expect me to respond, explicitly? The ones from which you expect client to recover. </p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/32467449#32467449", "question_id": 6115896, "answer_id": 32467449}, {"body": "<p>I think that checked exceptions are a good reminder for the developer that uses an external library that things can go wrong with the code from that library in exceptional situations. </p>\n\n<p>Read more about checked vs unchecked exceptions here <a href=\"http://learnjava.today/2015/11/checked-vs-unchecked-exceptions/\" rel=\"nofollow\">http://learnjava.today/2015/11/checked-vs-unchecked-exceptions/</a></p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/33562395#33562395", "question_id": 6115896, "answer_id": 33562395}, {"body": "<p>I just want to add some reasoning for not using checked exceptions at all. This is not a full answer, but I feel it does answer part of your question, and complements many other answers.</p>\n\n<p>Whenever checked exceptions are involved, there's a <code>throws CheckedException</code> somewhere in a method signature (<code>CheckedException</code> could be any checked exception). A signature does NOT throw an Exception, throwing Exceptions is an aspect of implementation. Interfaces, method signatures, parent classes, all these things should NOT depend on their implementations. The usage of checked Exceptions here (actually the fact that you have to declare the <code>throws</code> in the method signature) is binding your higher-level interfaces with your implementations of these interfaces.</p>\n\n<p>Let me show you an example.</p>\n\n<p>Let's have a nice and clean interface like this</p>\n\n<pre><code>public interface IFoo {\n    public void foo();\n}\n</code></pre>\n\n<p>Now we can write many implementations of method <code>foo()</code>, like these</p>\n\n<pre><code>public class Foo implements IFoo {\n    @Override\n    public void foo() {\n        System.out.println(\"I don't throw and exception\");\n    }\n}\n</code></pre>\n\n<p>Class Foo is perfectly fine. Now let's make a first attempt at class Bar</p>\n\n<pre><code>public class Bar implements IFoo {\n    @Override\n    public void foo() {\n        //I'm using InterruptedExcepton because you probably heard about it somewhere. It's a checked exception. Any checked exception will work the same.\n        throw new InterruptedException();\n    }\n}\n</code></pre>\n\n<p>This class Bar won't compile. As InterruptedException is a checked exception, you must either capture it (with a try-catch inside method foo()) or declare that you're throwing it (adding <code>throws InterruptedException</code> to the method signature). As I don't want to capture this exception here, let's alter the signature.</p>\n\n<pre><code>public class Bar implements IFoo {\n    @Override\n    public void foo() throws InterruptedException {\n        throw new InterruptedException();\n    }\n}\n</code></pre>\n\n<p>This class Bar won't compile either! Bar's method foo() does NOT override IFoo's method foo() since their signatures are different. I could remove the @Override annotation, but I want to program against interface IFoo like <code>IFoo foo;</code> and later on decide on which implementation I want to use, like <code>foo = new Bar();</code>. If Bar's method foo() doesn't override IFoo's method foo, when I do <code>foo.foo();</code> it won't call Bar's implementation of foo().</p>\n\n<p>To make Bar's <code>public void foo() throws InterruptedException</code> override IFoo's <code>public void foo()</code> I MUST add <code>throws InterruptedException</code> to IFoo's method signature. This, however, will cause problems with my Foo class, since it's foo() method's signature differs from IFoo's method signature. Furthermore, if I added <code>throws InterruptedException</code> to Foo's method foo() I would get another error stating that Foo's method foo() declares that it throws an InterruptedException yet it never throws an InterruptedException.</p>\n\n<p>As you can see (if I did a decent job at explaining this stuff), the fact that I'm throwing a checked exception like InterruptedException is forcing me to tie my interface IFoo to one of it's implementations, which in turn causes havoc on IFoo's other implementations!</p>\n\n<p>This is one big reason why checked exceptions are BAD. In caps.</p>\n", "title": "Java: checked vs unchecked exception explanation", "tags": ["java", "exception", "runtimeexception", "checked-exceptions", "unchecked-exception"], "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation/38998100#38998100", "question_id": 6115896, "answer_id": 38998100}], "creation_date": 1306265911, "score": 381, "link": "http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation", "question_id": 6115896}, {"body": "<p>How can I use the <code>@link</code> tag to link to a method?</p>\n\n<p>I want to change</p>\n\n<pre><code>/**\n * Returns the Baz object owned by the Bar object owned by Foo owned by this.\n * A convenience method, equivalent to getFoo().getBar().getBaz()\n * @return baz\n */\npublic Baz fooBarBaz()\n</code></pre>\n\n<p>to</p>\n\n<pre><code>/**\n * Returns the Baz object owned by the Bar object owned by Foo owned by this.\n * A convenience method, equivalent to {@link getFoo()}.{@link getBar()}.{@link getBaz()}\n * @return baz\n */\npublic Baz fooBarBaz()\n</code></pre>\n\n<p>but I don't know how to format the <code>@link</code> tag correctly.</p>\n", "tags": ["java", "hyperlink", "javadoc"], "title": "How to reference a method in javadoc?", "answers": [{"body": "<p>The general format, from the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#CHDDIECH\">@link section of the javadoc documentation</a>, is:</p>\n\n<p><a href=\"http://i.stack.imgur.com/HGVDj.png\"><img src=\"http://i.stack.imgur.com/HGVDj.png\" alt=\"{@link package.class#member label}\"></a></p>\n\n<h1>Examples</h1>\n\n<p><strong>Method in the same class:</strong></p>\n\n<pre><code>/** See also the method {@link #myMethod(String)}. */\nvoid foo() { ... }\n</code></pre>\n\n<p><strong>Method in a <em>different class,</em></strong> either in the same package or imported:</p>\n\n<pre><code>/** See also the method {@link MyOtherClass#myMethod(String)}. */\nvoid foo() { ... }\n</code></pre>\n\n<p><strong>Method in a <em>different package</em></strong> and not imported:</p>\n\n<pre><code>/** See also the method {@link com.mypackage.YetAnotherClass#myMethod(String)}. */\nvoid foo() { ... }\n</code></pre>\n\n<p><strong>Label linked to method, in plain text</strong> rather than code font:</p>\n\n<pre><code>/** See also this {@linkplain #myMethod(String) implementation}. */\nvoid foo() { ... }\n</code></pre>\n\n<p><strong>A chain of method calls,</strong> as in your question. We have to specify labels for the links to methods outside this class, or we get <code>getFoo().Foo.getBar().Bar.getBaz()</code>. But these labels can be fragile; see \"Labels\" below.</p>\n\n<pre><code>/**\n * A convenience method, equivalent to \n * {@link #getFoo()}.{@link Foo#getBar() getBar()}.{@link Bar#getBaz() getBaz()}.\n * @return baz\n */\npublic Baz fooBarBaz()\n</code></pre>\n\n<h1>Labels</h1>\n\n<p><strong>Automated refactoring may not affect labels.</strong> This includes renaming the method, class or package; and changing the method signature.</p>\n\n<p><strong>Therefore, provide a label <em>only</em> if you want different text than the default.</strong> </p>\n\n<p>For example, you might link from human language to code:</p>\n\n<pre><code>/** You can also {@linkplain #getFoo() get the current foo}. */\nvoid setFoo( Foo foo ) { ... }\n</code></pre>\n\n<p>Or you might link from a code sample with text different than the default, as shown above under \"A chain of method calls.\" However, this can be fragile while APIs are evolving. </p>\n\n<h1>Type erasure and #member</h1>\n\n<p>If the method signature includes parameterized types, use the erasure of those types in the javadoc @link. For example:</p>\n\n<pre><code>int bar( Collection&lt;Integer&gt; receiver ) { ... }\n\n/** See also the method {@link #bar(Collection)}. */\nvoid foo() { ... }\n</code></pre>\n", "title": "How to reference a method in javadoc?", "tags": ["java", "hyperlink", "javadoc"], "link": "http://stackoverflow.com/questions/5915992/how-to-reference-a-method-in-javadoc/5916021#5916021", "question_id": 5915992, "answer_id": 5916021}, {"body": "<p>You will find much information about JavaDoc at the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html\">JavaDoc Tool reference page</a>, including the information on the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html#CHDDIECH\">{@link  package.class#member  label}</a> tag (that you are looking for):</p>\n\n<blockquote>\n  <p>For example, here is a comment that refers to the getComponentAt(int, int) method:</p>\n  \n  <p><code>Use the {@link #getComponentAt(int, int) getComponentAt} method.</code></p>\n</blockquote>\n\n<hr>\n\n<p>Other useful links about JavaDoc are:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/javadoc/index.html\">JavaDoc Technology</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html\">How to Write Doc Comments for the Javadoc Tool</a> </li>\n</ul>\n", "title": "How to reference a method in javadoc?", "tags": ["java", "hyperlink", "javadoc"], "link": "http://stackoverflow.com/questions/5915992/how-to-reference-a-method-in-javadoc/5916098#5916098", "question_id": 5915992, "answer_id": 5916098}], "creation_date": 1304709305, "score": 375, "link": "http://stackoverflow.com/questions/5915992/how-to-reference-a-method-in-javadoc", "question_id": 5915992}, {"body": "<p>I receive the following warning:</p>\n\n<pre><code>[javac] build.xml:9: warning: 'includeantruntime' was not set, \ndefaulting to build.sysclasspath=last; set to false for repeatable builds\n</code></pre>\n\n<p>What does this mean?</p>\n", "tags": ["java", "ant", "build", "javac", "build-tools"], "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "answers": [{"body": "<h1>Ant Runtime</h1>\n\n<p>Simply set <code>includeantruntime=\"false\"</code>:</p>\n\n<pre><code>&lt;javac includeantruntime=\"false\" ...&gt;...&lt;/javac&gt;\n</code></pre>\n\n<p>If you have to use the <code>javac</code>-task multiple times you might want to consider using <a href=\"http://ant.apache.org/manual/Tasks/presetdef.html\"><code>PreSetDef</code></a> to define your own <code>javac</code>-task that always sets <code>includeantruntime=\"false\"</code>.</p>\n\n<h1>Additional Details</h1>\n\n<p>From <a href=\"http://www.coderanch.com/t/503097/tools/warning-includeantruntime-was-not-set\">http://www.coderanch.com/t/503097/tools/warning-includeantruntime-was-not-set</a>:</p>\n\n<blockquote>\n  <p>That's caused by a misfeature\n  introduced in Ant 1.8. Just add an\n  attribute of that name to the javac\n  task, set it to false, and forget it\n  ever happened.</p>\n</blockquote>\n\n<p>From <a href=\"http://ant.apache.org/manual/Tasks/javac.html\">http://ant.apache.org/manual/Tasks/javac.html</a>:</p>\n\n<blockquote>\n  <p>Whether to include the Ant run-time\n  libraries in the classpath; defaults\n  to yes, unless build.sysclasspath is\n  set. It is usually best to set this to\n  false so the script's behavior is not\n  sensitive to the environment in which\n  it is run.</p>\n</blockquote>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/5103432#5103432", "question_id": 5103384, "answer_id": 5103432}, {"body": "<p><a href=\"http://ant.1045680.n5.nabble.com/template/NamlServlet.jtp?macro=user_nodes&amp;user=102399\">Chet Hosey</a> wrote a nice explanation <a href=\"http://ant.1045680.n5.nabble.com/warning-includeantruntime-was-not-set-tp2639463p2639765.html\">here</a>:</p>\n\n<blockquote>\n  <p>Historically, Ant always included its own runtime in the classpath made available to the javac task. So any libraries included with Ant, and any libraries available to ant, are automatically in your build's classpath whether you like it or not.</p>\n  \n  <p>It was decided that this probably wasn't what most people wanted. So now there's an option for it.</p>\n  \n  <p>If you choose \"true\" (for includeantruntime), then at least you know that your build classpath will include the Ant runtime. If you choose \"false\" then you are accepting the fact that the build behavior will change between older versions and 1.8+.</p>\n  \n  <p>As annoyed as you are to see this warning, you'd be even less happy if your builds broke entirely. Keeping this default behavior allows unmodified build files to work consistently between versions of Ant.</p>\n</blockquote>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/5103468#5103468", "question_id": 5103384, "answer_id": 5103468}, {"body": "<p>The answer from Daniel works just perfect. Here is a sample snippet that I added to my build.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target name=\"compile\"&gt;\n    &lt;mkdir dir=\"${classes.dir}\"/&gt;\n    &lt;javac srcdir=\"${src.dir}\" destdir=\"${classes.dir}\" includeantruntime=\"false\"&gt;\n                                                 &lt;!--   ^^^^^^^^^^^^^^^^^^^^^^^^^  --&gt;\n        &lt;classpath&gt;\n            &lt;path id=\"application\" location=\"${jar.dir}/${ant.project.name}.jar\"/&gt;\n            &lt;path id=\"junit\" location=\"${lib.dir}/junit-4.9b2.jar\"/&gt;\n        &lt;/classpath&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/7102481#7102481", "question_id": 5103384, "answer_id": 7102481}, {"body": "<p>If you like me work from commandline the quick answer is executing</p>\n\n<pre><code>export ANT_OPTS=-Dbuild.sysclasspath=ignore\n</code></pre>\n\n<p>And then run your ant script again.</p>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/7470960#7470960", "question_id": 5103384, "answer_id": 7470960}, {"body": "<p>As @Daniel Kutik mentioned, <a href=\"http://ant.apache.org/manual/Tasks/presetdef.html\"><code>presetdef</code></a> is a good option.  Especially if one is working on a project with many <code>build.xml</code> files which one cannot, or prefers not to, edit (e.g., those from third-parties.)</p>\n\n<p>To use <code>presetdef</code>, add these lines in your top-level <code>build.xml</code> file:</p>\n\n<pre><code>  &lt;presetdef name=\"javac\"&gt;\n    &lt;javac includeantruntime=\"false\" /&gt;\n  &lt;/presetdef&gt;\n</code></pre>\n\n<p>Now all subsequent <code>javac</code> tasks will essentially inherit <code>includeantruntime=\"false\"</code>.  If your projects do actually need ant runtime libraries, you can either add them explicitly to your build files OR set <code>includeantruntime=\"true\"</code>.  The latter will also get rid of warnings.</p>\n\n<p>Subsequent <code>javac</code> tasks can still explicitly change this if desired, for example:</p>\n\n<pre><code>&lt;javac destdir=\"out\" includeantruntime=\"true\"&gt;\n  &lt;src path=\"foo.java\" /&gt;\n  &lt;src path=\"bar.java\" /&gt;\n&lt;/javac&gt;\n</code></pre>\n\n<p>I'd recommend against using <code>ANT_OPTS</code>.  It works, but it defeats the purpose of the warning.  The warning tells one that one's build <em>might</em> behave differently on another system.  Using <code>ANT_OPTS</code> makes this even more likely because now every system needs to use <code>ANT_OPTS</code> in the same way.  Also, <code>ANT_OPTS</code> will apply globally, suppressing warnings willy-nilly in all your projects</p>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/8114557#8114557", "question_id": 5103384, "answer_id": 8114557}, {"body": "<p>Use <code>&lt;property name=\"build.sysclasspath\" value=\"last\"/&gt;</code> in your build.xml file</p>\n\n<p>For more details search <code>includeAntRuntime</code> in <a href=\"https://ant.apache.org/manual/Tasks/javac.html\">Ant javac</a></p>\n\n<p>Other possible values could be found <a href=\"https://ant.apache.org/manual/sysclasspath.html\">here</a></p>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/17193726#17193726", "question_id": 5103384, "answer_id": 17193726}, {"body": "<p>i faced this same, i check in in program and feature. there was an update has install for jdk1.8 which is not compatible with my old setting(jdk1.6.0) for ant in eclipse. \nI install that update. \nright now, my ant project is build success.</p>\n\n<p>Try it, hope this will be helpful.</p>\n", "title": "ant warning: &quot;&#39;includeantruntime&#39; was not set&quot;", "tags": ["java", "ant", "build", "javac", "build-tools"], "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set/34238295#34238295", "question_id": 5103384, "answer_id": 34238295}], "creation_date": 1298543387, "score": 334, "link": "http://stackoverflow.com/questions/5103384/ant-warning-includeantruntime-was-not-set", "question_id": 5103384}, {"body": "<p>I'm using a <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\">StringBuilder</a> in a loop and every x iterations I want to empty it and start with an empty <code>StringBuilder</code>, but I can't see any method similar to the .Net <a href=\"http://msdn.microsoft.com/en-us/library/system.text.stringbuilder.clear.aspx\">StringBuilder.Clear</a> in the docs, just the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html#delete%28int,%20int%29\">delete</a> method which seems overly complicated.<br>\nSo what is the best way to clean out a <code>StringBuilder</code> in Java?</p>\n", "tags": ["java", "stringbuilder"], "title": "How can I clear or empty a StringBuilder?", "answers": [{"body": "<p><em>Edit</em> Updated to bring in feedback.</p>\n\n<p>So two ways that work:</p>\n\n<ol>\n<li>Use <code>StringBulderObj.setLength(0)</code>.</li>\n<li>Allocate a new one instead of clearing the buffer</li>\n</ol>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/5192545#5192545", "question_id": 5192512, "answer_id": 5192545}, {"body": "<p><code>delete</code> is not overly complicated :</p>\n\n<pre><code>myStringBuilder.delete(0, myStringBuilder.length());\n</code></pre>\n\n<p>You can also do :</p>\n\n<pre><code>myStringBuilder.setLength(0);\n</code></pre>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/5192552#5192552", "question_id": 5192512, "answer_id": 5192552}, {"body": "<p>There are basically two alternatives, using <code>setLength(0)</code> to reset the StringBuilder or creating a new one in each iteration. Both can have pros and cons depending on the usage.</p>\n\n<p>If you know the expected capacity of the StringBuilder beforehand, creating a new one each time should be just as fast as setting a new length. It will also help the garbage collector, since each StringBuilder will be relatively short-lived and the gc is optimized for that.</p>\n\n<p>When you don't know the capacity, reusing the same StringBuilder might be faster. Each time you exceed the capacity when appending, a new backing array has to be allocated and the previous content has to be copied. By reusing the same StringBuilder, it will reach the needed capacity after some iterations and there won't be any copying thereafter.</p>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/5193094#5193094", "question_id": 5192512, "answer_id": 5193094}, {"body": "<p>If you look at the source code for a StringBuilder or StringBuffer the setLength() call just resets an index value for the character array. IMHO using the setLength method will always be faster than a new allocation. They should have named the method 'clear' or 'reset' so it would be clearer.</p>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/7488673#7488673", "question_id": 5192512, "answer_id": 7488673}, {"body": "<p>If performance is the main concern ... the irony (imo) is the java constructs to format the text that goes <em>into</em> the buffer will be far more time consuming on the CPU than the alloc/realloc/garbage collection ... well, possibly not the GC depending on how many builders you create and discard.</p>\n\n<p>But simply appending a compound string (\"Hello World of \" + 6E9 + \" earthlings.\") to the buffer is likely to make the whole matter inconsequential.</p>\n\n<p>And, really, if StringBuilder's involved the content is complex and lengthy and longer than a simple String str = \"Hi\";  (nevermind java probably uses a builder in the background anyway)</p>\n\n<p>Personally, I try not to abuse the GC. So if it's something that's going to be used a lot in rapid fire scenario - like, say, writing debug output messages ... I just assume declare it elsewhere and zero it out for reuse.</p>\n\n<pre><code>class MyLogger {\n    StringBuilder strBldr = new StringBuilder(256);\n\n    public LogMsg( String stuff ) {\n\n        strBldr.setLength(0);\n\n        // ... prepend status level\n        strBldr.append(\"Info\");\n        // ... prepend timestamp\n        strBldr.append(\" \" + getTimestamp());\n        // ... user msg\n        strBldr.append(\":\" + msg);\n\n        log.write(strBldr.toString());\n    }\n}\n</code></pre>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/12581006#12581006", "question_id": 5192512, "answer_id": 12581006}, {"body": "<p>you should use sb.delete(0, sb.length()) or sb.setLength( 0 ) and NOT create a new StringBuilder().</p>\n\n<p>see related post for performance <a href=\"http://stackoverflow.com/questions/242438/java-performance-of-stringbuilder-in-a-loop\">Java performance of StringBuilder in a loop</a></p>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/13407733#13407733", "question_id": 5192512, "answer_id": 13407733}, {"body": "<pre><code>StringBuilder s = new StringBuilder();\ns.append(\"a\");\ns.append(\"a\");\n// System.out.print(s); is return \"aa\"\ns.delete(0, s.length());\nSystem.out.print(s.length()); // is return 0\n</code></pre>\n\n<p>is the easy way. </p>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/18026583#18026583", "question_id": 5192512, "answer_id": 18026583}, {"body": "<p>I think many of the answers here may be missing a quality method included in <code>StringBuilder</code>: <code>.delete(int start, [int] end)</code>. I know this is a late reply; however, this should be made known (and explained a bit more thoroughly).</p>\n\n<p>Let's say you have a StringBuilder table - which you wish to modify, dynamically, throughout your program (one I am working on right now does this), e.g. </p>\n\n<pre><code>StringBuilder table = new StringBuilder();\n</code></pre>\n\n<p>If you are looping through the method and alter the content, use the content, then wish to discard the content to \"clean up\" the <code>StringBuilder</code> for the next iteration, you can delete it's contents, e.g. </p>\n\n<pre><code>table.delete(int start, int end). \n</code></pre>\n\n<p>start and end being the indices of the chars you wish to remove. Don't know the length in chars and want to delete the whole thing?</p>\n\n<pre><code>table.delete(0, table.length());\n</code></pre>\n\n<p>NOW, for the kicker. <code>StringBuilders</code>, as mentioned previously, take a lot of overhead when altered  frequently (and can cause safety issues with regard to threading); therefore, use <code>StringBuffer</code> - same as <code>StringBuilder</code> (with a few exceptions) - if your <code>StringBuilder</code> is used for the purpose of interfacing with the user. </p>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/22694891#22694891", "question_id": 5192512, "answer_id": 22694891}, {"body": "<p>I'll vote for <code>sb.setLength(0);</code> not only because it's one function call but <strong>because it don't actually copy the array into another array</strong> like <code>sb.delete(0, builder.length());</code>, It just fill the remaining characters to be 0 and set the length variable to the new length.</p>\n\n<p>You can take a look into their implementation to validate my point from <a href=\"https://android.googlesource.com/platform/libcore/+/android-5.1.1_r2/luni/src/main/java/java/lang/AbstractStringBuilder.java\" rel=\"nofollow\">here</a> at <code>setLength</code> function and <code>delete0</code> function.</p>\n", "title": "How can I clear or empty a StringBuilder?", "tags": ["java", "stringbuilder"], "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder/30190425#30190425", "question_id": 5192512, "answer_id": 30190425}], "creation_date": 1299234379, "score": 333, "link": "http://stackoverflow.com/questions/5192512/how-can-i-clear-or-empty-a-stringbuilder", "question_id": 5192512}, {"body": "<p>I have just tried to change my font size in Eclipse 3.6.0 in the following way:</p>\n\n<blockquote>\n  <p>General &rarr; Appearance &rarr; Colors and Fonts &rarr; Java Editor text font</p>\n</blockquote>\n\n<p>However, the font size only changed in the file I had open. How can I change the font size for all Java files and projects I open in Eclipse?</p>\n", "tags": ["java", "eclipse", "fonts", "font-size"], "title": "How can I change font size in Eclipse for Java text editors?", "answers": [{"body": "<p>If you are changing the font size, but it is only working for the currently open file, then I suspect that you are changing the wrong preferences.  </p>\n\n<ol>\n<li>On the eclipse toolbar, select Window ! Preferences</li>\n<li>Set the font size (General \u2192 Appearance \u2192 Colors and Fonts \u2192 Java > Java  Editor text font).</li>\n<li>Save the preferences.</li>\n</ol>\n\n<p>Check that you do not have per-project preferences, these will override the top level preferences.</p>\n\n<p><strong>Juno Note</strong><br>\nPer comment below, This has moved to the Eclipse ! Preferences menu (no longer named the Window menu).</p>\n\n<p><strong>Kepler Note</strong><br>\nThe <code>Window</code> menu is live again i.e. <code>Window ! Preferences</code></p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/4923243#4923243", "question_id": 4922305, "answer_id": 4923243}, {"body": "<p>You can have a look at <a href=\"http://eclipsecolorthemes.org/\" rel=\"nofollow\">eclipse color theme</a> also which has a hell lot of options for customizing font, bg color etc. </p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/11744332#11744332", "question_id": 4922305, "answer_id": 11744332}, {"body": "<ul>\n<li>On the eclipse toolbar, select <code>Window ! Preferences</code></li>\n<li>Set the font size (General \u2192 Appearance \u2192 Colors and Fonts \u2192 structure Editor text font).</li>\n<li>Save the preferences.</li>\n</ul>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/15151327#15151327", "question_id": 4922305, "answer_id": 15151327}, {"body": "<p>This worked for me:</p>\n\n<ol>\n<li><p>On the eclipse toolbar, select Window \u2192 Preferences. </p></li>\n<li><p>Set the font size (General \u2192 Appearance \u2192 Colors and Fonts \u2192 Basic \u2192 Text Font):</p>\n\n<p><img src=\"http://i.stack.imgur.com/JzVRf.png\" alt=\"enter image description here\"></p></li>\n<li><p>Save the preferences.</p></li>\n</ol>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/18097855#18097855", "question_id": 4922305, "answer_id": 18097855}, {"body": "<p>On Mac:</p>\n\n<ol>\n<li><p>Eclipse toolbar Eclipse --> Preferences OR <kbd>command</kbd>+<kbd>,</kbd> (comma)</p></li>\n<li><p>General --> Appearance --> Colors and Fonts --> Basic --> Text Font</p></li>\n<li><p>Apply</p></li>\n</ol>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/18584284#18584284", "question_id": 4922305, "answer_id": 18584284}, {"body": "<p>I tend to use Windows ----> Preferences -----> General -----> Appearances ------> Colors and Fonts -----> Java Text Editors ------> Change ------> Apply</p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/20124592#20124592", "question_id": 4922305, "answer_id": 20124592}, {"body": "<p>On the eclipse toolbar, select Window ! Preferences\n  Set the font size (General \u2192 Appearance \u2192 Colors and Fonts \u2192 Basic - Text Font).\n  Save the preferences.</p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/21138312#21138312", "question_id": 4922305, "answer_id": 21138312}, {"body": "<p>Running Kepler, the steps outlined by AlvaroCachoperro do the trick for the Java text editor and console window text.  Many of the text font options including the Java Editor Text Font note they are \"set to default: Text Font\".  The 'default' can be found and configured as follows:</p>\n\n<p>On the eclipse toolbar, select Window -> Preferences.\n  Drill down to: (General \u2192 Appearance \u2192 Colors and Fonts \u2192 Basic \u2192 Text Font) (at the bottom)</p>\n\n<ul>\n<li>Click Edit and select the font, style and size   </li>\n<li>Click OK in the Font dialog   </li>\n<li>Click Apply in the Preferences dialog to check it </li>\n<li><p>Click OK in the Preferences dialog to save it</p>\n\n<p>Eclipse will remember your settings for your current workspace.</p></li>\n</ul>\n\n<p>I teach programming and use the larger font for the students in the back.  Since I'm a teacher, I added a bit more detail to the steps.</p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/21959748#21959748", "question_id": 4922305, "answer_id": 21959748}, {"body": "<pre><code>General \u2192 Appearance \u2192 Colors and Fonts \u2192 Java Editor text font\n</code></pre>\n\n<p>See the image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/u9YuU.png\" alt=\"enter image description here\"></p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/22248894#22248894", "question_id": 4922305, "answer_id": 22248894}, {"body": "<p><img src=\"http://i.stack.imgur.com/dr3xs.png\" alt=\"enter image description here\"></p>\n\n<p>Window -> Preferences. General \u2192 Appearance \u2192 Colors and Fonts \u2192 Basic \u2192 Text Font</p>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/25885421#25885421", "question_id": 4922305, "answer_id": 25885421}, {"body": "<p>The <a href=\"https://code.google.com/p/eclipse-fonts/\">Eclipse-Fonts</a> extension will add toolbar buttons and keyboard shortcuts for changing font size. You can then use AutoHotkey to make <strong>Ctrl+Mousewheel</strong> zoom.</p>\n\n<p>Under <strong>Help | Install New Software...</strong> in the menu, paste the update URL (<a href=\"http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/\">http://eclipse-fonts.googlecode.com/svn/trunk/FontsUpdate/</a>) into the <strong>Works with:</strong> text box and press <strong>Enter</strong>. Expand the tree and select <strong>FontsFeature</strong> as in the following image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/R2Ni5.png\" alt=\"Eclipse extension installation screen capture\"></p>\n\n<p>Complete the installation and restart Eclipse, then you should see the <strong>A</strong> toolbar buttons (circled in red in the following image) and be able to use the keyboard shortcuts <strong>Ctrl+-</strong> and <strong>Ctrl+=</strong> to zoom (although you may have to unbind those keys from Eclipse first).</p>\n\n<p><img src=\"http://i.stack.imgur.com/XHaX5.jpg\" alt=\"Eclipse screen capture with the font size toolbar buttons circled\"></p>\n\n<p>To get <strong>Ctrl+MouseWheel</strong> zooming, you can use <a href=\"http://www.autohotkey.com/\">AutoHotkey</a> with the following script:</p>\n\n<pre><code>; Ctrl+MouseWheel zooming in Eclipse.\n; Requires Eclipse-Fonts (https://code.google.com/p/eclipse-fonts/).\n; Thank you for the unique window class, SWT/Eclipse.\n#IfWinActive ahk_class SWT_Window0\n    ^WheelUp:: Send ^{=}\n    ^WheelDown:: Send ^-\n#IfWinActive\n</code></pre>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/31018374#31018374", "question_id": 4922305, "answer_id": 31018374}, {"body": "<p>RicardoBalda's answer-as-a-comment:     </p>\n\n<blockquote>\n  <p>Other solution Windows -> Preferences -> General -> appareance ->\n  Colors a fonts -> Structured Text Editor -> Edit. this work for me :)</p>\n</blockquote>\n", "title": "How can I change font size in Eclipse for Java text editors?", "tags": ["java", "eclipse", "fonts", "font-size"], "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors/34169536#34169536", "question_id": 4922305, "answer_id": 34169536}], "creation_date": 1297088280, "score": 305, "link": "http://stackoverflow.com/questions/4922305/how-can-i-change-font-size-in-eclipse-for-java-text-editors", "question_id": 4922305}, {"body": "<p>What's the best way to get the current date/time? </p>\n", "tags": ["java", "datetime"], "title": "How to get the current date/time in java", "answers": [{"body": "<p>Have you looked at java.util.Date? It is exactly what you want.</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5175750#5175750", "question_id": 5175728, "answer_id": 5175750}, {"body": "<p>Just create a Date object...</p>\n\n<pre><code>Date date = new Date();\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5175758#5175758", "question_id": 5175728, "answer_id": 5175758}, {"body": "<p>There are many different methods:</p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#currentTimeMillis%28%29\">System.currentTimeMillis()</a></li>\n<li><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html\">Date</a></li>\n<li><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\">Calendar</a></li>\n</ul>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5175759#5175759", "question_id": 5175728, "answer_id": 5175759}, {"body": "<p>Have a look at the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Date.html\" rel=\"nofollow\">Date</a> class. There's also the newer <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"nofollow\">Calendar</a> class which is the preferred method of doing many date / time operations (a lot of the methods on Date have been deprecated.)</p>\n\n<p>If you just want the current date, then either create a new Date object or call <code>Calendar.getInstance();</code>.</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5175771#5175771", "question_id": 5175728, "answer_id": 5175771}, {"body": "<p>It depends on what form of date / time you want:</p>\n\n<ul>\n<li><p>If you want the date / time as a single numeric value, then <code>System.currentTimeMillis()</code> gives you that, expressed as the number of milliseconds after the UNIX epoch (as a Java <code>long</code>).  This value is a delta from a UTC time-point, and is independent of the local time-zone ... assuming that the system clock has been set correctly.</p></li>\n<li><p>If you want the date / time in a form that allows you to access the components (year, month, etc) numerically, you could use one of the following:</p>\n\n<ul>\n<li><p><code>new Date()</code> gives you a <code>Date</code> object initialized with the current date / time.  The problem is that the <code>Date</code> API methods are mostly flawed ... and deprecated.</p></li>\n<li><p><code>Calendar.getInstance()</code> gives you a <code>Calendar</code> object initialized with the current date / time, using the default <code>Locale</code> and <code>TimeZone</code>.  Other overloads allow you to use a specific <code>Locale</code> and/or <code>TimeZone</code>.  Calendar works ... but the APIs are still cumbersome.</p></li>\n<li><p><code>new org.joda.time.DateTime()</code> gives you a <a href=\"http://www.joda.org/joda-time/\">Joda-time</a> object initialized with the current date / time, using the default time zone and chronology.  There are lots of other Joda alternatives ... too many to describe here.</p></li>\n<li><p>in Java 8, calling <code>LocalDateTime.now()</code> and <code>ZonedDateTime.now()</code> will give you representations for the current date / time.</p></li>\n</ul></li>\n</ul>\n\n<p>Prior to Java 8, most people who know about these things recommended <a href=\"http://www.joda.org/joda-time/\">Joda-time</a> as having (by far) the best Java APIs for doing things involving time point and duration calculations.  With Java 8, this is no longer true.  However, if you are already using Joda time in your codebase, there is no strong reason to migrate.</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5175900#5175900", "question_id": 5175728, "answer_id": 5175900}, {"body": "<pre><code>java.util.Date date = new java.util.Date();\n</code></pre>\n\n<p>It's automatically populated with the time it's instantiated.</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5175975#5175975", "question_id": 5175728, "answer_id": 5175975}, {"body": "<p>As mentioned the basic Date() can do what you need in terms of getting the current time.  In my recent experience working heavily with Java dates there are a lot of oddities with the built in classes (as well as deprecation of many of the Date class methods).  One oddity that stood out to me was that months are 0 index based which from a technical standpoint makes sense, but in real terms can be very confusing.</p>\n\n<p>If you are only concerned with the current date that should suffice - however if you intend to do a lot of manipulating/calculations with dates it could be very beneficial to use a third party library (so many exist because many Java developers have been unsatisfied with the built in functionality).</p>\n\n<p>I second Stephen C's recommendation as I have found Joda-time to be very useful in simplifying my work with dates, it is also very well documented and you can find many useful examples throughout the web.  I even ended up writing a static wrapper class (as DateUtils) which I use to consolidate and simplify all of my common date manipulation.  </p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/5176149#5176149", "question_id": 5175728, "answer_id": 5176149}, {"body": "<p>If you just need to output a time stamp in format YYYY.MM.DD-HH.MM.SS (very frequent case) then here's the way to do it:</p>\n\n<pre><code>String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Calendar.getInstance().getTime());\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/6953926#6953926", "question_id": 5175728, "answer_id": 6953926}, {"body": "<pre><code>String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Calendar.getInstance().getTime());\nSystem.out.println(timeStamp );\n</code></pre>\n\n<p>(Its Working)</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/15474891#15474891", "question_id": 5175728, "answer_id": 15474891}, {"body": "<p>Create object of date and simply print it down.</p>\n\n<pre><code>Date d = new Date(System.currentTimeMillis());\nSystem.out.print(d);\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/17040841#17040841", "question_id": 5175728, "answer_id": 17040841}, {"body": "<p>If you want the current date as String, try this:</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nDate date = new Date();\nSystem.out.println(dateFormat.format(date));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance();\nSystem.out.println(dateFormat.format(cal.getTime()));\n</code></pre>\n\n<p><a href=\"http://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/\">http://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/</a></p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/19218035#19218035", "question_id": 5175728, "answer_id": 19218035}, {"body": "<p>Similar to above solutions.  But I always find myself looking for this chunk of code:</p>\n\n<pre><code>Date date=Calendar.getInstance().getTime();\nSystem.out.println(date);\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/20333576#20333576", "question_id": 5175728, "answer_id": 20333576}, {"body": "<p>In <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\">Java 8</a> it is:</p>\n\n<pre><code>LocalDateTime.now()\n</code></pre>\n\n<p>and in case you need time zone info:</p>\n\n<pre><code>ZonedDateTime.now()\n</code></pre>\n\n<p>and in case you want to print fancy formatted string:</p>\n\n<pre><code>System.out.println(ZonedDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME))\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/26225884#26225884", "question_id": 5175728, "answer_id": 26225884}, {"body": "<p>I find this the best way :</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\");\nCalendar cal = Calendar.getInstance();\nSystem.out.println(dateFormat.format(cal.getTime())); //2014/08/06 16:00:22\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/26678331#26678331", "question_id": 5175728, "answer_id": 26678331}, {"body": "<pre><code>    // 2015/09/27 15:07:53\n    System.out.println( new SimpleDateFormat(\"yyyy/MM/dd HH:mm:ss\").format(Calendar.getInstance().getTime()) );\n\n    // 15:07:53\n    System.out.println( new SimpleDateFormat(\"HH:mm:ss\").format(Calendar.getInstance().getTime()) );\n\n    // 09/28/2015\n    System.out.println(new SimpleDateFormat(\"MM/dd/yyyy\").format(Calendar.getInstance().getTime()));\n\n    // 20150928_161823\n    System.out.println( new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Calendar.getInstance().getTime()) );\n\n    // Mon Sep 28 16:24:28 CEST 2015\n    System.out.println( Calendar.getInstance().getTime() );\n\n    // Mon Sep 28 16:24:51 CEST 2015\n    System.out.println( new Date(System.currentTimeMillis()) );\n\n    // Mon Sep 28\n    System.out.println( new Date().toString().substring(0, 10) );\n\n    // 2015-09-28\n    System.out.println( new java.sql.Date(System.currentTimeMillis()) );\n\n    // 14:32:26\n    Date d = new Date();\n    System.out.println( (d.getTime() / 1000 / 60 / 60) % 24 + \":\" + (d.getTime() / 1000 / 60) % 60 + \":\" + (d.getTime() / 1000) % 60 );\n\n    // 2015-09-28 17:12:35.584\n    System.out.println( new Timestamp(System.currentTimeMillis()) );\n\n    // Java 8\n\n    // 2015-09-28T16:16:23.308+02:00[Europe/Belgrade]\n    System.out.println( ZonedDateTime.now() );\n\n    // Mon, 28 Sep 2015 16:16:23 +0200\n    System.out.println( ZonedDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME) );\n\n    // 2015-09-28\n    System.out.println( LocalDate.now(ZoneId.of(\"Europe/Paris\")) ); // rest zones id in ZoneId class\n\n    // 16\n    System.out.println( LocalTime.now().getHour() );\n\n    // 2015-09-28T16:16:23.315\n    System.out.println( LocalDateTime.now() );\n</code></pre>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/26776016#26776016", "question_id": 5175728, "answer_id": 26776016}, {"body": "<p><strong>1st</strong> Understand the java.util.Date class </p>\n\n<p>1.1 How to obtain current Date</p>\n\n<pre><code>import java.util.Date;\nclass Demostration{\n public static void main(String[]args){\n  Date date=new Date(); // date object\n  System.out.println(date); // try to print the date object   \n } \n}\n</code></pre>\n\n<p>1.2 How to use getTime() method</p>\n\n<pre><code>import java.util.Date;\npublic class Main {\n    public static void main(String[]args){\n        Date date =new Date();\n        long timeInMilliSeconds=date.getTime();\n        System.out.println(timeInMilliSeconds);\n    }\n}\n</code></pre>\n\n<p>this will return the number of milliseconds since January 1, 1970, 00:00:00 GMT for time comparison purposes.</p>\n\n<p>1.3 How to format time using SimpleDateFormat class</p>\n\n<pre><code>import java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nclass Demostration{\n public static void main(String[]args){\n  Date date=new Date();\n  DateFormat dateFormat=new SimpleDateFormat(\"yyyy-MM-dd\");\n  String formattedDate=dateFormat.format(date);\n  System.out.println(formattedDate);    \n } \n}\n</code></pre>\n\n<p>Also try using different format patterns like \"yyyy-MM-dd hh:mm:ss\" and select desired pattern. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n\n<p><strong>2nd</strong> Understand the java.util.Calendar class </p>\n\n<p>2.1 Using Calendar Class to obtain current time stamp  </p>\n\n<pre><code>import java.util.Calendar;\nclass Demostration{\n public static void main(String[]args){\n  Calendar calendar=Calendar.getInstance();  \n  System.out.println(calendar.getTime());    \n } \n}\n</code></pre>\n\n<p>2.2 Try using\n    setTime\n    and other set methods for set calendar to different date.</p>\n\n<p>source: <a href=\"http://javau91.blogspot.com/\" rel=\"nofollow\">http://javau91.blogspot.com/</a></p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/32720392#32720392", "question_id": 5175728, "answer_id": 32720392}, {"body": "<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy:MM:dd::HH:mm:ss\");\nSystem.out.println(sdf.format(System.currentTimeMillis()));\n</code></pre>\n\n<p>the print statement will print the time when it is called and not when the <code>SimpleDateFormat</code> was created. So it can be called repeatedly  without creating any new objects.</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/36803397#36803397", "question_id": 5175728, "answer_id": 36803397}, {"body": "<pre><code>import java.util.*;\n</code></pre>\n\n<p>import java.text.*;</p>\n\n<p>public class DateDemo {\n   public static void main(String args[]) {</p>\n\n<pre><code>  Date dNow = new Date( );\n  SimpleDateFormat ft = \n  new SimpleDateFormat (\"E yyyy.MM.dd 'at' hh:mm:ss a zzz\");\n\n  System.out.println(\"Current Date: \" + ft.format(dNow));\n</code></pre>\n\n<p>}\n}</p>\n\n<blockquote>\n  <p>you can use date for fet currunt data. so using SimpleDateFormat get format</p>\n</blockquote>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/37537115#37537115", "question_id": 5175728, "answer_id": 37537115}, {"body": "<h1>tl;dr</h1>\n\n<pre><code>Instant.now()\n</code></pre>\n\n<p>\u2026 or \u2026</p>\n\n<pre><code>ZonedDateTime.now( ZoneId.of( \"America/Montreal\" ) )\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>A few of the Answers mention that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow\">java.time</a> classes are the modern replacement for the troublesome old legacy date-time classes bundled with the earliest versions of Java. Below is a bit more information.</p>\n\n<h1>Time zone</h1>\n\n<p>The other Answers fail to explain how a time zone is crucial in determining the current date and time. For any given moment, the date <em>and</em> the time vary around the globe by zone. For example, a few minutes after midnight is a new day in <a href=\"https://en.wikipedia.org/wiki/Paris\" rel=\"nofollow\">Paris France</a> while still being \u201cyesterday\u201d in <a href=\"https://en.wikipedia.org/wiki/Montreal\" rel=\"nofollow\">Montr\u00e9al Qu\u00e9bec</a>.</p>\n\n<h1><code>Instant</code></h1>\n\n<p>Much of your business logic and data storage/exchange should be done in <a href=\"https://duckduckgo.com/coordinated_Universal_Time\" rel=\"nofollow\">UTC</a>, as a best practice. To get the current moment in <a href=\"https://duckduckgo.com/coordinated_Universal_Time\" rel=\"nofollow\">UTC</a> with a resolution in <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow\">nanoseconds</a>, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow\"><code>Instant</code></a> class.</p>\n\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>You can adjust that <code>Instant</code> into other time zones. Apply a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow\"><code>ZoneId</code></a> object to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow\"><code>ZonedDateTime</code></a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n\n<p>We can skip the <code>Instant</code> and get the current <code>ZonedDateTime</code> directly.</p>\n\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z );\n</code></pre>\n\n<p>Always pass that optional time zone argument. If omitted, your JVM\u2019s current default time zone is applied. The default can change at <em>any</em> moment, even <em>during</em> runtime. Do not subject your app to an externality out of your control. Always specify the desired/expected time zone.</p>\n\n<pre><code>ZonedDateTime do_Not_Do_This = ZonedDateTime.now(); // BAD - Never rely implicitly on the current default time zone.\n</code></pre>\n\n<p>You can later extract an <code>Instant</code> from the <code>ZonedDateTime</code>.</p>\n\n<pre><code>Instant instant = zdt.toInstant();\n</code></pre>\n\n<p>Always use an <code>Instant</code> or <code>ZonedDateTime</code> rather than a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow\"><code>LocalDateTime</code></a> when you want an actual moment on the timeline. The <code>Local\u2026</code> types purposely have no concept of time zone so they represent only a rough idea of a possible moment. To get an actual moment you must assign a time zone to transform the <code>Local\u2026</code> types into a <code>ZonedDateTime</code> and thereby make it meaningful.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate today = LocalDate.now( z );  // Always pass a time zone.\n</code></pre>\n\n<h1>Strings</h1>\n\n<p>To generate a String representing the date-time value, simply call <code>toString</code> on the java.time classes for the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> formats.</p>\n\n<pre><code>    String output = myLocalDate.toString();  // 2016-09-23\n</code></pre>\n\n<p>\u2026 or \u2026</p>\n\n<pre><code>String output = zdt.toString();  // 2016-09-23T12:34:56.789+03:00[America/Montreal]\n</code></pre>\n\n<p>The <code>ZonedDateTime</code> class extends the standard format by wisely appending the name of the time zone in square brackets.</p>\n\n<p>For other formats, search Stack Overflow for many Questions and Answers on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow\"><code>DateTimeFormatter</code></a> class.</p>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. </p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow\">ThreeTenABP</a> (see <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use\u2026</em></a>).</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n", "title": "How to get the current date/time in java", "tags": ["java", "datetime"], "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java/39379431#39379431", "question_id": 5175728, "answer_id": 39379431}], "creation_date": 1299116889, "score": 304, "link": "http://stackoverflow.com/questions/5175728/how-to-get-the-current-date-time-in-java", "question_id": 5175728}, {"body": "<p>I've a <code>String</code> representing a date.</p>\n\n<pre><code>String date_s = \"2011-01-18 00:00:00.0\";\n</code></pre>\n\n<p>I'd like to convert it to a <code>Date</code> and output it in <code>YYYY-MM-DD</code> format.</p>\n\n<blockquote>\n  <p>2011-01-18</p>\n</blockquote>\n\n<p>How can I achieve this?</p>\n\n<hr>\n\n<p>Okay, based on the answers I retrieved below, here's something I've tried:</p>\n\n<pre><code>String date_s = \" 2011-01-18 00:00:00.0\"; \nSimpleDateFormat dt = new SimpleDateFormat(\"yyyyy-mm-dd hh:mm:ss\"); \nDate date = dt.parse(date_s); \nSimpleDateFormat dt1 = new SimpleDateFormat(\"yyyyy-mm-dd\");\nSystem.out.println(dt1.format(date));\n</code></pre>\n\n<p>But it outputs <code>02011-00-1</code> instead of the desired <code>2011-01-18</code>. What am I doing wrong?</p>\n", "tags": ["java", "string", "date", "formatting"], "title": "Change date format in a Java string", "answers": [{"body": "<p>The answer is of course to create a SimpleDateFormat object and use it to parse Strings to Date and to format Dates to Strings.  If you've tried SimpleDateFormat and it didn't work, then please show your code and any errors you may receive.</p>\n\n<p>Addendum:  \"mm\" in the format String is not the same as \"MM\".  Use MM for months and mm for minutes. Also, yyyyy is not the same as yyyy.  e.g.,:</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class FormateDate {\n\n    public static void main(String[] args) throws ParseException {\n        String date_s = \"2011-01-18 00:00:00.0\";\n\n        // *** note that it's \"yyyy-MM-dd hh:mm:ss\" not \"yyyy-mm-dd hh:mm:ss\"  \n        SimpleDateFormat dt = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\n        Date date = dt.parse(date_s);\n\n        // *** same for the format String below\n        SimpleDateFormat dt1 = new SimpleDateFormat(\"yyyy-MM-dd\");\n        System.out.println(dt1.format(date));\n    }\n\n}\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/4772431#4772431", "question_id": 4772425, "answer_id": 4772431}, {"body": "<p>[edited to include BalusC's corrections]\nThe <a href=\"http://www.java2s.com/Tutorial/Java/0040__Data-Type/SimpleDateFormat.htm\">SimpleDateFormat</a> class should do the trick:</p>\n\n<pre><code>String pattern = \"yyyy-MM-dd HH:mm:ss.S\";\nSimpleDateFormat format = new SimpleDateFormat(pattern);\ntry {\n  Date date = format.parse(\"2011-01-18 00:00:00.0\");\n  System.out.println(date);\n} catch (ParseException e) {\n  e.printStackTrace();\n}\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/4772449#4772449", "question_id": 4772425, "answer_id": 4772449}, {"body": "<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-\"><code>LocalDateTime#parse()</code></a> (or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-\"><code>ZonedDateTime#parse()</code></a> if the string happens to contain a time zone part) to parse a <code>String</code> in a certain pattern into a <code>LocalDateTime</code>.</p>\n\n<pre><code>String oldstring = \"2011-01-18 00:00:00.0\";\nLocalDateTime datetime = LocalDateTime.parse(oldstring, DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.S\"));\n</code></pre>\n\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#format-java.time.format.DateTimeFormatter-\"><code>LocalDateTime#format()</code></a> (or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#format-java.time.format.DateTimeFormatter-\"><code>ZonedDateTime#format()</code></a>) to format a <code>LocalDateTime</code> into a <code>String</code> in a certain pattern.</p>\n\n<pre><code>String newstring = datetime.format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"));\nSystem.out.println(newstring); // 2011-01-18\n</code></pre>\n\n<p><strong>Or</strong>, when you're not on Java 8 yet, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/DateFormat.html#parse-java.lang.String-\"><code>SimpleDateFormat#parse()</code></a> to parse a <code>String</code> in a certain pattern into a <code>Date</code>.</p>\n\n<pre><code>String oldstring = \"2011-01-18 00:00:00.0\";\nDate date = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.S\").parse(oldstring);\n</code></pre>\n\n<p>Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/DateFormat.html#format-java.util.Date-\"><code>SimpleDateFormat#format()</code></a> to format a <code>Date</code> into a <code>String</code> in a certain pattern.</p>\n\n<pre><code>String newstring = new SimpleDateFormat(\"yyyy-MM-dd\").format(date);\nSystem.out.println(newstring); // 2011-01-18\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/4216745/java-string-to-date-conversion/\">Java string to date conversion</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Update</strong>: as per your failed attempt: the patterns are <strong>case sensitive</strong>. Read the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\"><code>java.text.SimpleDateFormat</code> javadoc</a> what the individual parts stands for. So stands for example <code>M</code> for months and <code>m</code> for minutes. Also, years exist of four digits <code>yyyy</code>, not five <code>yyyyy</code>. Look closer at the code snippets I posted here above.</p>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/4772461#4772461", "question_id": 4772425, "answer_id": 4772461}, {"body": "<pre><code>   String str = \"2000-12-12\";\n   Date dt = null;\n   SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n\n    try \n    {\n         dt = formatter.parse(str);\n    }\n    catch (Exception e)\n    {\n    }\n\n    JOptionPane.showMessageDialog(null, formatter.format(dt));\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/10767247#10767247", "question_id": 4772425, "answer_id": 10767247}, {"body": "<pre><code>private SimpleDateFormat dataFormat = new SimpleDateFormat(\"dd/MM/yyyy\");\n\n@Override\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n    if(value instanceof Date) {\n        value = dataFormat.format(value);\n    }\n    return super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n};\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/17938162#17938162", "question_id": 4772425, "answer_id": 17938162}, {"body": "<p>remove one y form <code>SimpleDateFormat dt1 = new SimpleDateFormat(\"yyyyy-mm-dd\");</code> should be <code>SimpleDateFormat dt1 = new SimpleDateFormat(\"yyyy-mm-dd\");</code></p>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/18953213#18953213", "question_id": 4772425, "answer_id": 18953213}, {"body": "<p>You can also use substring()</p>\n\n<pre><code>String date_s = \"2011-01-18 00:00:00.0\";\ndate_s.substring(0,10);\n</code></pre>\n\n<p>If you want a space in front of the date, use</p>\n\n<pre><code>String date_s = \" 2011-01-18 00:00:00.0\";\ndate_s.substring(1,11);\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/19332502#19332502", "question_id": 4772425, "answer_id": 19332502}, {"body": "<p>Other answers are correct, basically you had the wrong number of \"y\" characters in your pattern.</p>\n\n<h2>Time Zone</h2>\n\n<p>One more problem though\u2026 You did not address time zones. If you intended <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow\">UTC</a>, then you should have said so. If not, the answers are not complete. If all you want is the date portion without the time, then no issue. But if you do further work that may involve time, then you should be specifying a time zone.</p>\n\n<h2>Joda-Time</h2>\n\n<p>Here is the same kind of code but using the third-party open-source <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> 2.3 library</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// \u00a9 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n\nString date_s = \"2011-01-18 00:00:00.0\";\n\norg.joda.time.format.DateTimeFormatter formatter = org.joda.time.format.DateTimeFormat.forPattern( \"yyyy-MM-dd' 'HH:mm:ss.SSS\" );\n// By the way, if your date-time string conformed strictly to ISO 8601 including a 'T' rather than a SPACE ' ', you could\n// use a formatter built into Joda-Time rather than specify your own: ISODateTimeFormat.dateHourMinuteSecondFraction().\n// Like this:\n//org.joda.time.DateTime dateTimeInUTC = org.joda.time.format.ISODateTimeFormat.dateHourMinuteSecondFraction().withZoneUTC().parseDateTime( date_s );\n\n// Assuming the date-time string was meant to be in UTC (no time zone offset).\norg.joda.time.DateTime dateTimeInUTC = formatter.withZoneUTC().parseDateTime( date_s );\nSystem.out.println( \"dateTimeInUTC: \" + dateTimeInUTC );\nSystem.out.println( \"dateTimeInUTC (date only): \" + org.joda.time.format.ISODateTimeFormat.date().print( dateTimeInUTC ) );\nSystem.out.println( \"\" ); // blank line.\n\n// Assuming the date-time string was meant to be in Kolkata time zone (formerly known as Calcutta). Offset is +5:30 from UTC (note the half-hour).\norg.joda.time.DateTimeZone kolkataTimeZone = org.joda.time.DateTimeZone.forID( \"Asia/Kolkata\" );\norg.joda.time.DateTime dateTimeInKolkata = formatter.withZone( kolkataTimeZone ).parseDateTime( date_s );\nSystem.out.println( \"dateTimeInKolkata: \" + dateTimeInKolkata );\nSystem.out.println( \"dateTimeInKolkata (date only): \" + org.joda.time.format.ISODateTimeFormat.date().print( dateTimeInKolkata ) );\n// This date-time in Kolkata is a different point in the time line of the Universe than the dateTimeInUTC instance created above. The date is even different.\nSystem.out.println( \"dateTimeInKolkata adjusted to UTC: \" + dateTimeInKolkata.toDateTime( org.joda.time.DateTimeZone.UTC ) );\n</code></pre>\n\n<p>When run\u2026</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>dateTimeInUTC: 2011-01-18T00:00:00.000Z\ndateTimeInUTC (date only): 2011-01-18\n\ndateTimeInKolkata: 2011-01-18T00:00:00.000+05:30\ndateTimeInKolkata (date only): 2011-01-18\ndateTimeInKolkata adjusted to UTC: 2011-01-17T18:30:00.000Z\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/20296770#20296770", "question_id": 4772425, "answer_id": 20296770}, {"body": "<pre><code>try\n {\n    String date_s = \"2011-01-18 00:00:00.0\";\n    SimpleDateFormat simpledateformat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.S\");\n    Date tempDate=simpledateformat.parse(date_s);\n    SimpleDateFormat outputDateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");           \n    System.out.println(\"Output date is = \"+outputDateFormat.format(tempDate));\n  } catch (ParseException ex) \n  {\n        System.out.println(\"Parse Exception\");\n  }\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/20963021#20963021", "question_id": 4772425, "answer_id": 20963021}, {"body": "<p>Using the <code>java.time</code> package in Java 8 and later:</p>\n\n<pre><code>String date = \"2011-01-18 00:00:00.0\";\nTemporalAccessor temporal = DateTimeFormatter\n    .ofPattern(\"yyyy-MM-dd HH:mm:ss.S\")\n    .parse(date); // use parse(date, LocalDateTime::from) to get LocalDateTime\nString output = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\").format(temporal);\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/23184340#23184340", "question_id": 4772425, "answer_id": 23184340}, {"body": "<p>Why not simply use this</p>\n\n<pre><code>Date convertToDate(String receivedDate) throws ParseException{\n        SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy\");\n        Date date = formatter.parse(receivedDate);\n        return date;\n    }\n</code></pre>\n\n<p>Also, this is the other way :</p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"dd/MM/yyyy\");\nString requiredDate = df.format(new Date()).toString();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>Date requiredDate = df.format(new Date());\n</code></pre>\n\n<p>Cheers!</p>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/23580430#23580430", "question_id": 4772425, "answer_id": 23580430}, {"body": "<p>You can just use:</p>\n\n<pre><code>Date yourDate = new Date();\n\nSimpleDateFormat DATE_FORMAT = new SimpleDateFormat(\"yyyy-MM-dd\");\nString date = DATE_FORMAT.format(yourDate);\n</code></pre>\n\n<p>It works perfectly!</p>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/23874519#23874519", "question_id": 4772425, "answer_id": 23874519}, {"body": "<p>Formatting are CASE-SENSITIVE so USE MM for month not mm (this is for minute) and yyyy \nFor <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\">Reference</a> you can use following cheatsheet.</p>\n\n<pre><code>G   Era designator  Text    AD\ny   Year    Year    1996; 96\nY   Week year   Year    2009; 09\nM   Month in year   Month   July; Jul; 07\nw   Week in year    Number  27\nW   Week in month   Number  2\nD   Day in year Number  189\nd   Day in month    Number  10\nF   Day of week in month    Number  2\nE   Day name in week    Text    Tuesday; Tue\nu   Day number of week (1 = Monday, ..., 7 = Sunday)    Number  1\na   Am/pm marker    Text    PM\nH   Hour in day (0-23)  Number  0\nk   Hour in day (1-24)  Number  24\nK   Hour in am/pm (0-11)    Number  0\nh   Hour in am/pm (1-12)    Number  12\nm   Minute in hour  Number  30\ns   Second in minute    Number  55\nS   Millisecond Number  978\nz   Time zone   General time zone   Pacific Standard Time; PST; GMT-08:00\nZ   Time zone   RFC 822 time zone   -0800\nX   Time zone   ISO 8601 time zone  -08; -0800; -08:00\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>\"yyyy.MM.dd G 'at' HH:mm:ss z\"  2001.07.04 AD at 12:08:56 PDT\n\"EEE, MMM d, ''yy\"  Wed, Jul 4, '01\n\"h:mm a\"    12:08 PM\n\"hh 'o''clock' a, zzzz\" 12 o'clock PM, Pacific Daylight Time\n\"K:mm a, z\" 0:08 PM, PDT\n\"yyyyy.MMMMM.dd GGG hh:mm aaa\"  02001.July.04 AD 12:08 PM\n\"EEE, d MMM yyyy HH:mm:ss Z\"    Wed, 4 Jul 2001 12:08:56 -0700\n\"yyMMddHHmmssZ\" 010704120856-0700\n\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\"   2001-07-04T12:08:56.235-0700\n\"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\"   2001-07-04T12:08:56.235-07:00\n\"YYYY-'W'ww-u\"  2001-W27-3\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/24423756#24423756", "question_id": 4772425, "answer_id": 24423756}, {"body": "<p>You could try java 8 new <code>date</code>, more information can be found on the <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow\">oracle documentation</a>.    </p>\n\n<p>Or you can try the old one </p>\n\n<pre><code>public static Date getDateFromString(String format, String dateStr) {\n\n        DateFormat formatter = new SimpleDateFormat(format);\n        Date date = null;\n        try {\n            date = (Date) formatter.parse(dateStr);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        return date;\n    }\n\n    public static String getDate(Date date, String dateFormat) {\n        DateFormat formatter = new SimpleDateFormat(dateFormat);\n        return formatter.format(date);\n    }\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/25520059#25520059", "question_id": 4772425, "answer_id": 25520059}, {"body": "<p>Please refer \"Date and Time Patterns\" here. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a>    </p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.text.ParseException;\n\npublic class DateConversionExample{\n\n  public static void main(String arg[]){\n\n    try{\n\n    SimpleDateFormat sourceDateFormat = new SimpleDateFormat(\"yyyy-MM-DD HH:mm:ss\");\n\n    Date date = sourceDateFormat.parse(\"2011-01-18 00:00:00.0\");\n\n\n    SimpleDateFormat targetDateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n    System.out.println(targetDateFormat.format(date));\n\n    }catch(ParseException e){\n        e.printStackTrace();\n    }\n  } \n\n}\n</code></pre>\n", "title": "Change date format in a Java string", "tags": ["java", "string", "date", "formatting"], "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string/29030112#29030112", "question_id": 4772425, "answer_id": 29030112}], "creation_date": 1295759388, "score": 289, "link": "http://stackoverflow.com/questions/4772425/change-date-format-in-a-java-string", "question_id": 4772425}, {"body": "<p>I am reading a book about Java and it says that you can declare the whole class as <code>final</code>. I cannot think of anything where I'd use this. </p>\n\n<p>I am just new to programming and I am wondering <strong>if programmers actually use this on their programs</strong>. If they do, when do they use it so I can understand it better and know when to use it. </p>\n\n<p>If Java is object oriented, and you declare a class <code>final</code>, doesn't it stop the idea of class having the characteristics of objects?</p>\n", "tags": ["java", "final"], "title": "Use of final class in Java", "answers": [{"body": "<blockquote>\n  <p><strong>If they do, when do they use it so I can understand it better and know when to use it.</strong></p>\n</blockquote>\n\n<p>A <code>final</code> class is simply a class that <strong>can't be extended</strong>.</p>\n\n<p>(This does not mean that all references to objects of the class would act as if they were declared as <code>final</code>.) </p>\n\n<p>When it's useful to declare a class as final is covered in the answers of this question:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/218744/good-reasons-to-prohibit-inheritance-in-java\">Good reasons to prohibit inheritance in Java?</a></li>\n</ul>\n\n<blockquote>\n  <p><strong>If Java is object oriented, and you declare a class <code>final</code>, doesn't it stop the idea of class having the characteristics of objects?</strong></p>\n</blockquote>\n\n<p>In some sense yes.</p>\n\n<p>By marking a class as final you disable a powerful and flexible feature of the language for that part of the code. Some classes however, should not (and in certain cases <em>can</em> not) be designed to take subclassing into account in a good way. In these cases it makes sense to mark the class as final, even though it limits OOP. (Remember however that a final class can still extend another non-final class.)</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181618#5181618", "question_id": 5181578, "answer_id": 5181618}, {"body": "<p>The best example is </p>\n\n<blockquote>\n  <p>public final class String</p>\n</blockquote>\n\n<p>which is an immutable class and cannot be extended.\nOf course, there is more than just making the class final to be immutable.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181626#5181626", "question_id": 5181578, "answer_id": 5181626}, {"body": "<p>Yes, sometimes you may want this though, either for security or speed reasons. It's done also in C++. It may not be <em>that</em> applicable for programs, but moreso for frameworks.\n<a href=\"http://www.glenmccl.com/perfj_025.htm\" rel=\"nofollow\">http://www.glenmccl.com/perfj_025.htm</a></p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181631#5181631", "question_id": 5181578, "answer_id": 5181631}, {"body": "<p>If the class is marked <code>final</code>, it means that the class' structure can't be modified by anything external. Where this is the most visible is when you're doing traditional polymorphic inheritance, basically <code>class B extends A</code> just won't work. It's basically a way to protect some parts of your code <em>(to extent)</em>.</p>\n\n<p>To clarify, marking class <code>final</code> doesn't mark its fields as <code>final</code> and as such doesn't protect the object properties but the actual class structure instead.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181643#5181643", "question_id": 5181578, "answer_id": 5181643}, {"body": "<p>One scenario where final is important, when you want to <strong>prevent inheritance</strong> of a class, for security reasons. This allows you to make sure that code you are running <em>cannot be overridden</em> by someone.</p>\n\n<p>Another scenario is for optimization: I seem to remember that the Java compiler inlines some function calls from final classes. So, if you call <code>a.x()</code> and a is declared <code>final</code>, we know at compile-time what the code will be and can inline into the calling function. I have no idea whether this is actually done, but with final it is a possibility.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181644#5181644", "question_id": 5181578, "answer_id": 5181644}, {"body": "<p>If you imagine the class hierarchy as a tree (as it is in Java), abstract classes can only be branches and final classes are those that can only be leafs. Classes that fall into neither of those categories can be both branches and leafs.</p>\n\n<p>There's no violation of OO principles here, final is simply providing a nice symmetry.</p>\n\n<p>In practice you want to use final if you want your objects to be immutable or if you're writing an API, to signal to the users of the API that the class is just not intended for extension.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181668#5181668", "question_id": 5181578, "answer_id": 5181668}, {"body": "<p>A final class is a class that can't be extended. Also methods could be declared as final to indicate that cannot be overridden by subclasses. </p>\n\n<p>Preventing the class from being subclassed could be particularly useful if you write APIs or libraries and want to avoid being extended to alter base behaviour.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181684#5181684", "question_id": 5181578, "answer_id": 5181684}, {"body": "<p>Relevant reading: <a href=\"http://www.objectmentor.com/resources/articles/ocp.pdf\">The Open-Closed Principle</a> by Bob Martin.</p>\n\n<p><strong>Key quote:</strong></p>\n\n<blockquote>\n  <p>Software Entities (Classes, Modules,\n  Functions, etc.)  should be open for\n  Extension, but closed for\n  Modification.</p>\n</blockquote>\n\n<p>The <code>final</code> keyword is the means to enforce this in Java, whether it's used on methods or on classes.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/5181693#5181693", "question_id": 5181578, "answer_id": 5181693}, {"body": "<p>In Java, items with the <code>final</code> modifier cannot be changed!</p>\n\n<p>This includes final classes, final variables, and final methods:</p>\n\n<ul>\n<li>A final class cannot be extended by any other class</li>\n<li>A final variable cannot be reassigned to another value</li>\n<li>A final method cannot be overridden</li>\n</ul>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/12335925#12335925", "question_id": 5181578, "answer_id": 12335925}, {"body": "<p>Final classes cannot be extended. So if you want a class to behave a certain way and don't someone to override the methods (with possibly less efficient and more malicious code), you can declare the whole class as final or specific methods which you don't want to be changed. </p>\n\n<p>Since declaring a class does not prevent a class from being instantiated, it does not mean it will stop the class from having the characteristics of an object. It's just that you will have to stick to the methods just the way they are declared in the class. </p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/13079276#13079276", "question_id": 5181578, "answer_id": 13079276}, {"body": "<p>One advantage of keeping a class as final :-</p>\n\n<p>String class is kept final so that no one can override its methods and change the functionality. e.g no one can change functionality of length() method. It will always return length of a string.</p>\n\n<p>Developer of this class wanted no one to change functionality of this class, so he kept it as final.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/14154684#14154684", "question_id": 5181578, "answer_id": 14154684}, {"body": "<p>As above told, if you want no one can change the functionality of the method then you can declare it as final.</p>\n\n<p>Example: Application server file path for download/upload, splitting string based on offset, such methods you can declare it Final so that these method functions will not be altered. And if you want such final methods in a separate class, then define that class as Final class. So Final class will have all final methods, where as Final method can be declared and defined in non-final class.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/15376273#15376273", "question_id": 5181578, "answer_id": 15376273}, {"body": "<p>Be careful when you make a class \"final\". Because if you want to write an unit test for a final class, you cannot subclass this final class in order to use the dependency-breaking technique \"Subclass and Override Method\" described in Michael C. Feathers' book \"Working Effectively with Legacy Code\". In this book, Feathers said, \"Seriously, it is easy to believe that sealed and final are a wrong-headed mistake, that they should never have been added to programming languages. But the real fault lies with us. When we depend directly on libraries that are out of our control, we are just asking for trouble.\"</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/17015476#17015476", "question_id": 5181578, "answer_id": 17015476}, {"body": "<p><strong>TO ADDRESS THE FINAL CLASS PROBLEM:</strong></p>\n\n<p>There are two ways to make a class final. The first is to use the keyword final in the class declaration:</p>\n\n<pre><code>public final class SomeClass {\n  //  . . . Class contents\n}\n</code></pre>\n\n<p>The second way to make a class final is to declare all of its constructors as private:</p>\n\n<pre><code>public class SomeClass {\n  public final static SOME_INSTANCE = new SomeClass(5);\n  private SomeClass(final int value) {\n  }\n</code></pre>\n\n<p>Marking it final saves you the trouble if finding out that it is actual a final, to demonstrate look at  this Test class. looks public at first glance.</p>\n\n<pre><code>public class Test{\n  private Test(Class beanClass, Class stopClass, int flags)\n    throws Exception{\n    //  . . . snip . . . \n  }\n}\n</code></pre>\n\n<p>Unfortunately, since the only constructor of the class is private, it is impossible to extend this class. In the case of the Test class, there is no reason that the class should be final. The Test class is a good example of how implicit final classes can cause problems.</p>\n\n<p><strong>So you should mark it final when you implicitly make a class final by making it's constructor private.</strong></p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/17228711#17228711", "question_id": 5181578, "answer_id": 17228711}, {"body": "<p>think of FINAL as the \"End of the line\" - that guy cannot produce offspring anymore. So when you see it this way, there are ton of real world scenarios that you will come across that requires you to flag an 'end of line' marker to the class. It is Domain Driven Design - if your domain demands that a given ENTITY (class) cannot create sub-classes, then mark it as FINAL.</p>\n\n<p>I should note that there is nothing stopping you from inheriting a \"should be tagged as final\" class. But that is generally classified as \"abuse of inheritance\", and done because most often you would like to inherit some function from the base class in your class.</p>\n\n<p>The best approach is to look at the domain and let it dictate your design decisions.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/19015018#19015018", "question_id": 5181578, "answer_id": 19015018}, {"body": "<p>Object Orientation is not about inheritance, it is about encapsulation. And inheritance breaks encapsulation.</p>\n\n<p>Declaring a class final makes perfect sense in a lot of cases. Any object representing a \u201cvalue\u201d like a color or an amount of money could be final. They stand on their own.</p>\n\n<p>If you are writing libraries, make your classes final unless you explicitly indent them to be derived. Otherwise, people may derive your classes and override methods, breaking your assumptions / invariants. This may have security implications as well.</p>\n\n<p>Joshua Bloch in \u201cEffective Java\u201d recommends designing explicitly for inheritance or prohibiting it and he notes that designing for inheritance is not that easy.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/25163817#25163817", "question_id": 5181578, "answer_id": 25163817}, {"body": "<p><code>final class</code> can <strong>avoid breaking the public API when you add new methods</strong>.</p>\n\n<p>Suppose that on version 1 of your <code>Base</code> class you do:</p>\n\n<pre><code>public class Base {}\n</code></pre>\n\n<p>and a client does:</p>\n\n<pre><code>class Derived extends Base {\n    public int method() { return 1; }\n}\n</code></pre>\n\n<p>Then if in version 2 you want to add a <code>method</code> method to <code>Base</code>:</p>\n\n<pre><code>class Base {\n    public String method() { return null; }\n}\n</code></pre>\n\n<p>it would break the client code.</p>\n\n<p>If we had used <code>final class Base</code> instead, the client wouldn't have been able to inherit, and the method addition wouldn't break the API.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/29231530#29231530", "question_id": 5181578, "answer_id": 29231530}, {"body": "<p>Android Looper class is a good practical example of this. \n<a href=\"http://developer.android.com/reference/android/os/Looper.html\" rel=\"nofollow\">http://developer.android.com/reference/android/os/Looper.html</a></p>\n\n<p>The Looper class provides certain functionality which is NOT intended to be overridden by any other class. Hence, no sub-class here.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/29296456#29296456", "question_id": 5181578, "answer_id": 29296456}, {"body": "<p>The keyword <code>final</code> itself means something is final and is not supposed to be modified in any way. If a class if marked <code>final</code> then it can not be extended or sub-classed. But the question is why do we mark a class <code>final</code>? IMO there are various reasons:</p>\n\n<ol>\n<li><strong>Standardization:</strong> Some classes perform standard functions and they are not meant to be modified e.g. classes performing various functions related to string manipulations or mathematical functions etc.</li>\n<li><strong>Security reasons</strong>: Sometimes we write classes which perform various authentication and password related functions and we do not want them to be altered by anyone else. </li>\n</ol>\n\n<p>I have heard that marking class <code>final</code> improves efficiency but frankly I could not find this argument to carry much weight.</p>\n\n<blockquote>\n  <p>If Java is object oriented, and you declare a class final, doesn't it\n  stop the idea of class having the characteristics of objects?</p>\n</blockquote>\n\n<p>Perhaps yes, but sometimes that is the intended purpose. Sometimes we do that to achieve bigger benefits of security etc. by sacrificing the ability of this class to be extended. But a final class can still extend one class if it needs to.</p>\n\n<p>On a side note we should <a href=\"http://stackoverflow.com/questions/11343840/favor-composition-over-inheritance\">prefer composition over inheritance</a> and <code>final</code> keyword actually helps in enforcing this principle.</p>\n", "title": "Use of final class in Java", "tags": ["java", "final"], "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java/31180174#31180174", "question_id": 5181578, "answer_id": 31180174}], "creation_date": 1299160343, "score": 283, "link": "http://stackoverflow.com/questions/5181578/use-of-final-class-in-java", "question_id": 5181578}, {"body": "<p>Why does the following code raise the exception shown below?</p>\n\n<pre><code>BigDecimal a = new BigDecimal(\"1.6\");\nBigDecimal b = new BigDecimal(\"9.2\");\na.divide(b) // results in the following exception.\n</code></pre>\n\n<p>--</p>\n\n<pre><code>java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.\n</code></pre>\n", "tags": ["java", "bigdecimal", "arithmeticexception"], "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "answers": [{"body": "<p>From the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html\">Java 5</a> docs (Java 8 docs <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\">here</a>): </p>\n\n<blockquote>\n  <p>When a MathContext object is supplied with a precision setting of 0 (for\n  example, MathContext.UNLIMITED), arithmetic operations are exact, as\n  are the arithmetic methods which take no MathContext object. (This is the\n  only behavior that was supported in releases prior to 5.) </p>\n  \n  <p>As a corollary of computing the exact result, the rounding mode setting of a MathContext\n  object with a precision setting of 0 is not used and thus irrelevant. In\n  the case of divide, the exact quotient could have an infinitely long decimal\n  expansion; for example, 1 divided by 3. </p>\n  \n  <p>If the quotient has a nonterminating decimal expansion and\n  the operation is specified to return an exact result, an ArithmeticException is thrown.\n  Otherwise, the exact result of the division is returned, as done for\n  other operations.</p>\n</blockquote>\n\n<p><strong>To fix, you need to do something like this</strong>:</p>\n\n<pre><code>a.divide(b, 2, RoundingMode.HALF_UP)\n\nwhere 2 is precision and RoundingMode.HALF_UP is rounding mode\n</code></pre>\n\n<p>More details: <a href=\"http://jaydeepm.wordpress.com/2009/06/04/bigdecimal-and-non-terminating-decimal-expansion-error/\">http://jaydeepm.wordpress.com/2009/06/04/bigdecimal-and-non-terminating-decimal-expansion-error/</a></p>\n", "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "tags": ["java", "bigdecimal", "arithmeticexception"], "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable/4591216#4591216", "question_id": 4591206, "answer_id": 4591216}, {"body": "<p>Because you're not specifying a precision and a rounding-mode.  BigDecimal is complaining that it could use 10, 20, 5000, or infinity decimal places, and it still wouldn't be able to give you an exact representation of the number.  So instead of giving you an incorrect BigDecimal, it just whinges at you.</p>\n\n<p>However, if you supply a RoundingMode and a precision, then it will be able to convert (eg. 1.333333333-to-infinity to something like 1.3333 ... but you as the programmer need to tell it what precision you're 'happy with'.</p>\n", "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "tags": ["java", "bigdecimal", "arithmeticexception"], "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable/4591223#4591223", "question_id": 4591206, "answer_id": 4591223}, {"body": "<p>You can do </p>\n\n<pre><code>a.divide(b, MathContext.DECIMAL128)\n</code></pre>\n\n<p>You can choose the number of bits you want either 32,64,128.</p>\n\n<p>Check out this link :</p>\n\n<p><a href=\"http://edelstein.pebbles.cs.cmu.edu/jadeite/main.php?api=java6&amp;state=class&amp;package=java.math&amp;class=MathContext\">http://edelstein.pebbles.cs.cmu.edu/jadeite/main.php?api=java6&amp;state=class&amp;package=java.math&amp;class=MathContext</a></p>\n", "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "tags": ["java", "bigdecimal", "arithmeticexception"], "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable/15238066#15238066", "question_id": 4591206, "answer_id": 15238066}, {"body": "<p>I had this same problem, because my line of code was:</p>\n\n<pre><code>txtTotalInvoice.setText(var1.divide(var2).doubleValue() + \"\");\n</code></pre>\n\n<p>I change to this, reading previous Answer, because I was not writing decimal precision:</p>\n\n<pre><code>txtTotalInvoice.setText(var1.divide(var2,4, RoundingMode.HALF_UP).doubleValue() + \"\");\n</code></pre>\n\n<p>4 is Decimal Precion </p>\n\n<p>AND RoundingMode are Enum constants, you could choose any of this \n<code>UP, DOWN, CEILING, FLOOR, HALF_DOWN, HALF_EVEN, HALF_UP</code></p>\n\n<p>In this Case HALF_UP, will have this result:</p>\n\n<pre><code>2.4 = 2   \n2.5 = 3   \n2.7 = 3\n</code></pre>\n\n<p>You can check the <code>RoundingMode</code> information here: <a href=\"http://www.javabeat.net/precise-rounding-of-decimals-using-rounding-mode-enumeration/\" rel=\"nofollow\">http://www.javabeat.net/precise-rounding-of-decimals-using-rounding-mode-enumeration/</a></p>\n", "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "tags": ["java", "bigdecimal", "arithmeticexception"], "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable/26950476#26950476", "question_id": 4591206, "answer_id": 26950476}, {"body": "<p>For fixing such an issue I have used below code</p>\n\n<pre><code>a.divide(b, 2, RoundingMode.HALF_EVEN)\n</code></pre>\n\n<p>2 is precision.  Now problem was resolved.</p>\n", "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "tags": ["java", "bigdecimal", "arithmeticexception"], "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable/29286070#29286070", "question_id": 4591206, "answer_id": 29286070}, {"body": "<p>Answer for <a href=\"http://stackoverflow.com/questions/37926745/bigdecimal-throws-arithmeticexception\">BigDecimal throws ArithmeticException</a></p>\n\n<pre><code>public static void main(String[] args) {\n        int age = 30;\n        BigDecimal retireMentFund = new BigDecimal(\"10000.00\");\n        retireMentFund.setScale(2,BigDecimal.ROUND_HALF_UP);\n        BigDecimal yearsInRetirement = new BigDecimal(\"20.00\");\n        String name = \" Dennis\";\n        for ( int i = age; i &lt;=65; i++){\n            recalculate(retireMentFund,new BigDecimal(\"0.10\"));\n        }\n        BigDecimal monthlyPension =   retireMentFund.divide(\n                yearsInRetirement.divide(new BigDecimal(\"12\"), new MathContext(2, RoundingMode.CEILING)), new MathContext(2, RoundingMode.CEILING));      \n        System.out.println(name+ \" will have \u00a3\" + monthlyPension +\" per month for retirement\");\n    }\npublic static void recalculate (BigDecimal fundAmount, BigDecimal rate){\n        fundAmount.multiply(rate.add(new BigDecimal(\"1.00\")));\n    }\n</code></pre>\n\n<p>Add MathContext object in your divide method call and adjust precision and rounding mode. This should fix your problem</p>\n", "title": "ArithmeticException: &quot;Non-terminating decimal expansion; no exact representable decimal result&quot;", "tags": ["java", "bigdecimal", "arithmeticexception"], "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable/37927904#37927904", "question_id": 4591206, "answer_id": 37927904}], "creation_date": 1294122877, "score": 277, "link": "http://stackoverflow.com/questions/4591206/arithmeticexception-non-terminating-decimal-expansion-no-exact-representable", "question_id": 4591206}, {"body": "<p>In the <code>File</code> class there are two strings, one called a \"separator\" and the other a \"path-separator\", right <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/File.html\">here</a>.</p>\n\n<p>What's the difference? When to use which one?</p>\n", "tags": ["java", "file", "path-separator"], "title": "File.separator or File.pathSeparator", "answers": [{"body": "<p>You use separator when you are building a file path. So in unix the separator is <code>/</code>. So if you wanted to build the unix path <code>/var/temp</code> you would do it like this: </p>\n\n<pre><code>String path = File.separator + \"var\"+ File.separator + \"temp\"\n</code></pre>\n\n<p>You use the <code>pathSeparator</code> when you are dealing with a list of files like in a classpath. For example, if your app took a list of jars as argument the standard way to format that list on unix is: <code>/path/to/jar1.jar:/path/to/jar2.jar:/path/to/jar3.jar</code></p>\n\n<p>So given a list of files you would do something like this: </p>\n\n<pre><code>String listOfFiles = ...\nString[] filePaths = listOfFiles.split(File.pathSeparator);\n</code></pre>\n", "title": "File.separator or File.pathSeparator", "tags": ["java", "file", "path-separator"], "link": "http://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator/5972006#5972006", "question_id": 5971964, "answer_id": 5972006}, {"body": "<p>If you mean <code>File.separator</code> and <code>File.pathSeparator</code> then:</p>\n\n<ul>\n<li><p><code>File.pathSeparator</code> is used to separate individual file paths in a list of file paths. Consider on windows, the PATH environment variable. You use a <code>;</code> to separate the file paths so on Windows <code>File.pathSeparator</code> would be <code>;</code>. </p></li>\n<li><p><code>File.separator</code> is either <code>/</code> or <code>\\</code> that is used to split up the path to a specific file. For example on Windows it is <code>\\</code> or <code>C:\\Documents\\Test</code> </p></li>\n</ul>\n", "title": "File.separator or File.pathSeparator", "tags": ["java", "file", "path-separator"], "link": "http://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator/5972020#5972020", "question_id": 5971964, "answer_id": 5972020}, {"body": "<p>java.io.File class contains four static separator variables. For better understanding, Let's understand with the help of some code</p>\n\n<ol>\n<li>separator: Platform dependent default name-separator character as String. For windows, it\u2019s \u2018\\\u2019 and for unix it\u2019s \u2018/\u2019</li>\n<li>separatorChar: Same as separator but it\u2019s char</li>\n<li>pathSeparator: Platform dependent variable for path-separator. For\nexample PATH or CLASSPATH variable list of paths separated by \u2018:\u2019 in\nUnix systems and \u2018;\u2019 in Windows system</li>\n<li>pathSeparatorChar: Same as pathSeparator but it\u2019s char</li>\n</ol>\n\n<p>Note that all of these are final variables and system dependent.</p>\n\n<p>Here is the java program to print these separator variables.\nFileSeparator.java</p>\n\n<pre><code>import java.io.File;\n\npublic class FileSeparator {\n\n    public static void main(String[] args) {\n        System.out.println(\"File.separator = \"+File.separator);\n        System.out.println(\"File.separatorChar = \"+File.separatorChar);\n        System.out.println(\"File.pathSeparator = \"+File.pathSeparator);\n        System.out.println(\"File.pathSeparatorChar = \"+File.pathSeparatorChar);\n    }\n\n}\n</code></pre>\n\n<p>Output of above program on Unix system:</p>\n\n<pre><code>File.separator = /\nFile.separatorChar = /\nFile.pathSeparator = :\nFile.pathSeparatorChar = :\n</code></pre>\n\n<p>Output of the program on Windows system:</p>\n\n<pre><code>File.separator = \\\nFile.separatorChar = \\\nFile.pathSeparator = ;\nFile.pathSeparatorChar = ;\n</code></pre>\n\n<p>To make our program platform independent, we should always use these separators to create file path or read any system variables like PATH, CLASSPATH.</p>\n\n<p>Here is the code snippet showing how to use separators correctly.</p>\n\n<pre><code>//no platform independence, good for Unix systems\nFile fileUnsafe = new File(\"tmp/abc.txt\");\n//platform independent and safe to use across Unix and Windows\nFile fileSafe = new File(\"tmp\"+File.separator+\"abc.txt\");\n</code></pre>\n", "title": "File.separator or File.pathSeparator", "tags": ["java", "file", "path-separator"], "link": "http://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator/27752648#27752648", "question_id": 5971964, "answer_id": 27752648}], "creation_date": 1305158899, "score": 262, "link": "http://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator", "question_id": 5971964}, {"body": "<p>I am getting this error in a program that creates several (hundreds of thousands) HashMap objects with a few (15-20) text entries each. These Strings have all to be collected (without breaking up into smaller amounts) before being submitted to a database.</p>\n\n<p>According to Sun, the error happens \"if too much time is being spent in garbage collection: if more than 98% of the total time is spent in garbage collection and less than 2% of the heap is recovered, an OutOfMemoryError will be thrown.\".</p>\n\n<p>Apparently, one could use the command line to pass arguments to the JVM for</p>\n\n<ul>\n<li>Increasing the heap size, via \"-Xmx1024m\" (or more), or </li>\n<li>Disabling the error check altogether, via \"-XX:-UseGCOverheadLimit\".</li>\n</ul>\n\n<p>The first approach works fine, the second ends up in another java.lang.OutOfMemoryError, this time about the heap.</p>\n\n<p>So, question: is there any programmatic alternative to this, for the particular use case (i.e., several small HashMap objects)? If I use the HashMap clear() method, for instance, the problem goes away, but so do the data stored in the HashMap! :-)</p>\n\n<p>The issue is also discussed in a <a href=\"http://stackoverflow.com/questions/1393486/what-means-the-error-message-java-lang-outofmemoryerror-gc-overhead-limit-excee\">related topic in StackOverflow.</a></p>\n", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "answers": [{"body": "<p>You're essentially running out of memory to run the process smoothly. Options that come to mind:</p>\n\n<ol>\n<li>Specify more memory like you mentioned, try something in between like <code>-Xmx512m</code> first</li>\n<li>Work with smaller batches of <code>HashMap</code> objects to process at once if possible</li>\n<li>If you have a lot of duplicate strings, use <a href=\"http://java.sun.com/javase/7/docs/api/java/lang/String.html#intern%28%29\"><code>String.intern()</code></a> on them before putting them into the <code>HashMap</code></li>\n<li>Use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html#HashMap%28int,%20float%29\"><code>HashMap(int initialCapacity, float loadFactor)</code></a> constructor to tune for your case</li>\n</ol>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/5839392#5839392", "question_id": 5839359, "answer_id": 5839392}, {"body": "<p>Ummm... you'll either need to: </p>\n\n<ol>\n<li><p>Completely rethink your algorithm &amp; data-structures, such that it doesn't need all these little HashMaps.</p></li>\n<li><p>Create a facade which allows you page those HashMaps in-and-out of memory as required. A simple LRU-cache might be just the ticket.</p></li>\n<li><p>Up the memory available to the JVM. If necessary, even purchasing more RAM might be the quickest, CHEAPEST solution, if you have the management of the machine that hosts this beast. Having said that: I'm generally not a fan of the \"throw more hardware at it\" solutions, especially if an alternative algorithmic solution can be thought up within a reasonable timeframe. If you keep throwing more hardware at every one of these problems you soon run into the law of diminishing returns.</p></li>\n</ol>\n\n<p>What are you actually trying to do anyway? I suspect there's a better approach to your actual problem.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/5839397#5839397", "question_id": 5839359, "answer_id": 5839397}, {"body": "<p>If you're creating hundreds of thousands of hash maps, you're probably using far more than you actually need; unless you're working with large files or graphics, storing simple data shouldn't overflow the Java memory limit.</p>\n\n<p>You should try and rethink your algorithm.  In this case, I would offer more help on that subject, but I can't give any information until you provide more about the context of the problem.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/5839410#5839410", "question_id": 5839359, "answer_id": 5839410}, {"body": "<p>For the record, we had the same problem today. We fixed it by using this option:</p>\n\n<pre><code>-XX:-UseConcMarkSweepGC\n</code></pre>\n\n<p>Apparently, this modified the strategy used for garbage collection, which made the issue disappear.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/7741841#7741841", "question_id": 5839359, "answer_id": 7741841}, {"body": "<p>@takrl: The default setting for this option is:</p>\n\n<pre><code>java -XX:+UseConcMarkSweepGC\n</code></pre>\n\n<p>which means, this option is not active by default. So when you say you used the option \n\"<code>+XX:UseConcMarkSweepGC</code>\" \nI assume you were using this syntax:</p>\n\n<pre><code>java -XX:+UseConcMarkSweepGC\n</code></pre>\n\n<p>which means you were explicitly activating this option.\nFor the correct syntax and default settings of <code>Java HotSpot VM Options</code> @ this \n<a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"nofollow\">document</a></p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/9126213#9126213", "question_id": 5839359, "answer_id": 9126213}, {"body": "<p>This helped me to get rid of this error.This option disables \n-XX:+DisableExplicitGC  </p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/13766797#13766797", "question_id": 5839359, "answer_id": 13766797}, {"body": "<p>Use alternative HashMap implementation (<a href=\"http://trove.starlight-systems.com/\">Trove</a>). Standard Java HashMap has >12x memory overhead.\nOne can read details <a href=\"http://www.cs.virginia.edu/kim/publicity/pldi09tutorials/memory-efficient-java-tutorial.pdf\">here</a>.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/14384239#14384239", "question_id": 5839359, "answer_id": 14384239}, {"body": "<p>In case of the error:</p>\n\n<blockquote>\n  <p>\"Internal compiler error: java.lang.OutOfMemoryError: GC overhead limit exceeded at java.lang.AbstractStringBuilder\" </p>\n</blockquote>\n\n<p>increase the java heap space to 2GB i.e., <code>-Xmx2g.</code></p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/14474849#14474849", "question_id": 5839359, "answer_id": 14474849}, {"body": "<p>Don't store the whole structure in memory while waiting to get to the end. </p>\n\n<p>Write intermediate results to a temporary table in the database instead of hashmaps - functionally, a database table is the equivalent of a hashmap, i.e. both support keyed access to data, but the table is not memory bound, so use an indexed table here rather than the hashmaps.</p>\n\n<p>If done correctly, your algorithm should not even notice the change - correctly here means to use a class to represent the table, even giving it a put(key, value) and a get(key) method just like a hashmap.</p>\n\n<p>When the intermediate table is complete, generate the required sql statement(s) from it instead of from memory.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/14569282#14569282", "question_id": 5839359, "answer_id": 14569282}, {"body": "<p>The parallel collector will throw an <code>OutOfMemoryError</code> if too much time is being spent in garbage collection. In particular, if more than 98% of the total time is spent in garbage collection and less than 2% of the heap is recovered, <code>OutOfMemoryError</code> will be thrown. This feature is designed to prevent applications from running for an extended period of time while making little or no progress because the heap is too small. If necessary, this feature can be disabled by adding the option <code>-XX:-UseGCOverheadLimit</code> to the command line.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/29247289#29247289", "question_id": 5839359, "answer_id": 29247289}, {"body": "<p>The following worked for me. Just add the following snippet:</p>\n\n<pre><code>dexOptions {\n        javaMaxHeapSize \"4g\"\n}\n</code></pre>\n\n<p>To your <code>build.gradle</code>:</p>\n\n<pre><code>android {\n    compileSdkVersion 23\n    buildToolsVersion '23.0.1'\n\n    defaultConfig {\n        applicationId \"yourpackage\"\n        minSdkVersion 14\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    packagingOptions {\n\n    }\n\n    dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n}\n</code></pre>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/33854389#33854389", "question_id": 5839359, "answer_id": 33854389}, {"body": "<p>For my case increasing the memory using <code>-Xmx</code> option was the solution. </p>\n\n<p>I had a 10g file read in java and each time I got the same error. This happened when the value in the <code>RES</code> column in <code>top</code> command reached to the value set in -Xmx option. Then by increasing the memory using <code>-Xmx</code> option everything went fine.</p>\n\n<p>There was another point as well. When I set <code>JAVA_OPTS</code> or <code>CATALINA_OPTS</code> in my user account and increased the amount of memory again I got the same error. Then, I printed the value of those environment variables in my code which gave me different values than what I set. The reason was that Tomcat was the root for that process and then as I was not a su-doer I asked the admin to increase the memory in <code>catalina.sh</code> in Tomcat.</p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/34296263#34296263", "question_id": 5839359, "answer_id": 34296263}, {"body": "<p>Fix memory leaks in your application with help of profile tools like eclipse <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow\">MAT</a>  or <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/visualvm/\" rel=\"nofollow\">VisualVM</a></p>\n\n<p>With <code>JDK 1.7.x</code> or later versions, use <code>G1GC</code>, <strong><em>which spends 10% on garbage collection unlike 2% in other GC algorithms.</em></strong></p>\n\n<p>Apart from setting heap memory with <code>-Xms1g -Xmx2g</code> , try ` </p>\n\n<pre><code>-XX:+UseG1GC \n-XX:G1HeapRegionSize=n, \n-XX:MaxGCPauseMillis=m, \n-XX:ParallelGCThreads=n, \n-XX:ConcGCThreads=n`\n</code></pre>\n\n<p>Have a look at <a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow\">oracle</a> article for fine-tuning these parameters. </p>\n\n<p>Some question related to G1GC in SE:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/8111310/java-7-jdk-7-garbage-collection-and-documentation/34254605#34254605\">Java 7 (JDK 7) garbage collection and documentation</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/2254041/java-g1-garbage-collection-in-production/34254401#34254401\">Java G1 garbage collection in production</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/7980177/agressive-garbage-collector-strategy/33985214#33985214\">Agressive garbage collector strategy</a></p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/34296665#34296665", "question_id": 5839359, "answer_id": 34296665}, {"body": "<p>You need to increase the memory size in Jdeveloper go to setDomainEnv.cmd.</p>\n\n<pre><code>set WLS_HOME=%WL_HOME%\\server\nset XMS_SUN_64BIT=256\nset XMS_SUN_32BIT=256\nset XMX_SUN_64BIT=3072\nset XMX_SUN_32BIT=3072\nset XMS_JROCKIT_64BIT=256\nset XMS_JROCKIT_32BIT=256\nset XMX_JROCKIT_64BIT=1024\nset XMX_JROCKIT_32BIT=1024\n\nif \"%JAVA_VENDOR%\"==\"Sun\" (\n    set WLS_MEM_ARGS_64BIT=-Xms256m -Xmx512m\n    set WLS_MEM_ARGS_32BIT=-Xms256m -Xmx512m\n) else (\n    set WLS_MEM_ARGS_64BIT=-Xms512m -Xmx512m\n    set WLS_MEM_ARGS_32BIT=-Xms512m -Xmx512m\n)\nand\n\nset MEM_PERM_SIZE_64BIT=-XX:PermSize=256m\nset MEM_PERM_SIZE_32BIT=-XX:PermSize=256m\n\nif \"%JAVA_USE_64BIT%\"==\"true\" (\n    set MEM_PERM_SIZE=%MEM_PERM_SIZE_64BIT%\n\n) else (\n    set MEM_PERM_SIZE=%MEM_PERM_SIZE_32BIT%\n)\n\nset MEM_MAX_PERM_SIZE_64BIT=-XX:MaxPermSize=1024m\nset MEM_MAX_PERM_SIZE_32BIT=-XX:MaxPermSize=1024m\n</code></pre>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/36620690#36620690", "question_id": 5839359, "answer_id": 36620690}, {"body": "<p>If you have <strong>java8</strong>, and you can use the <strong>G1 Garbage Collector</strong>, then run your application with:</p>\n\n<pre><code> -XX:+UseG1GC -XX:+UseStringDeduplication\n</code></pre>\n\n<p>This tells the G1 to find similar Strings and keep only one of them in memory, and the others are only a pointer to that String in memory.</p>\n\n<p>This is useful when you have a lot of repeated strings. This solution may or not work and depends on each application.</p>\n\n<p>More info on:<br>\n<a href=\"https://blog.codecentric.de/en/2014/08/string-deduplication-new-feature-java-8-update-20-2/\" rel=\"nofollow\">https://blog.codecentric.de/en/2014/08/string-deduplication-new-feature-java-8-update-20-2/</a>\n<a href=\"http://java-performance.info/java-string-deduplication/\" rel=\"nofollow\">http://java-performance.info/java-string-deduplication/</a></p>\n", "title": "java.lang.OutOfMemoryError: GC overhead limit exceeded", "tags": ["java", "hashmap", "heap", "heap-memory", "g1gc"], "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded/38919964#38919964", "question_id": 5839359, "answer_id": 38919964}], "creation_date": 1304135373, "score": 258, "link": "http://stackoverflow.com/questions/5839359/java-lang-outofmemoryerror-gc-overhead-limit-exceeded", "question_id": 5839359}, {"body": "<p>While playing <a href=\"http://www.sporcle.com/games/robv/java_keywords\">this puzzle</a> (It's a Java keyword trivia game), I came across the <code>native</code> keyword.</p>\n\n<p>What is the native keyword in Java used for?</p>\n", "tags": ["java", "jni", "native", "keyword"], "title": "What is the native keyword in Java for?", "answers": [{"body": "<p>The <code>native</code> keyword is applied to a method to indicate that the method is implemented in native code using JNI(Java Native Interface).</p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/6101324#6101324", "question_id": 6101311, "answer_id": 6101324}, {"body": "<p>As SLaks answered, the <code>native</code> keyword is for calling native code.</p>\n\n<p>It also used by <a href=\"http://code.google.com/webtoolkit/\">GWT</a> for implementing javascript methods.</p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/6101420#6101420", "question_id": 6101311, "answer_id": 6101420}, {"body": "<p>It marks a method, that it will be implemented in other languages, not in Java. It works together with JNI (Java Native Interface).</p>\n\n<p>Native methods were used in the past to write performance critical sections but with Java getting faster this is now less common. Native methods are currently needed when</p>\n\n<ul>\n<li><p>You need to call a library from Java that is written in other language.</p></li>\n<li><p>You need to access system or hardware resources that are only reachable from the other language (typically C). Actually, many system functions that interact with real computer (disk and network IO, for instance) can only do this because they call native code.</p></li>\n</ul>\n\n<p>See Also\n<a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/jniTOC.html\">Java Native Interface Specification</a></p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/6101439#6101439", "question_id": 6101311, "answer_id": 6101439}, {"body": "<p>Straight from <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.4.3.4\">the <em>Java Language Specification</em></a>:</p>\n\n<blockquote>\n  <p>A method that is <code>native</code> is implemented in platform-dependent code, typically written in another programming language such as C, C++, FORTRAN,or assembly language. The body of a <code>native</code> method is given as a semicolon only, indicating that the implementation is omitted, instead of a block.</p>\n</blockquote>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/6101528#6101528", "question_id": 6101311, "answer_id": 6101528}, {"body": "<p>functions that implement native code are declared native.</p>\n\n<blockquote>\n  <p>The Java Native Interface (JNI) is a programming framework that enables Java code running in a Java Virtual Machine (JVM) to call, and to be called by, native applications (programs specific to a hardware and operating system platform) and libraries written in other languages such as C, C++ and assembly.</p>\n</blockquote>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Java_Native_Interface\">http://en.wikipedia.org/wiki/Java_Native_Interface</a></p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/10040105#10040105", "question_id": 6101311, "answer_id": 10040105}, {"body": "<p>native is a keyword in java , which is used to make unimplemented structure(method) like as abstract but it would be a platform dependent such as native code and execute from native stack not java stack.</p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/14484237#14484237", "question_id": 6101311, "answer_id": 14484237}, {"body": "<p>NATIVE is Non access modifier.it can be applied only to METHOD.\nIt indicates the PLATFORM-DEPENDENT implimentation of method or code.</p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/20284948#20284948", "question_id": 6101311, "answer_id": 20284948}, {"body": "<p><strong>Minimal example</strong> to make things clearer:</p>\n\n<p><strong>Main.java</strong>:</p>\n\n<pre><code>public class Main {\n    public native int square(int i);\n    public static void main(String[] args) {\n        System.loadLibrary(\"Main\");\n        System.out.println(new Main().square(2));\n    }\n}\n</code></pre>\n\n<p><strong>Main.c</strong>:</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include \"Main.h\"\n\nJNIEXPORT jint JNICALL Java_Main_square(\n    JNIEnv *env, jobject obj, jint i) {\n  return i * i;\n}\n</code></pre>\n\n<p><strong>Compile and run</strong>:</p>\n\n<pre><code>sudo apt-get install build-essential openjdk-7-jdk\nexport JAVA_HOME='/usr/lib/jvm/java-7-openjdk-amd64'\njavac Main.java\njavah -jni Main\ngcc -shared -fpic -o libMain.so -I${JAVA_HOME}/include \\\n  -I${JAVA_HOME}/include/linux Main.c\njava -Djava.library.path=. Main\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>4\n</code></pre>\n\n<p>Tested on Ubuntu 14.04 AMD64. Also worked with Oracle JDK 1.8.0_45.</p>\n\n<p><a href=\"https://github.com/cirosantilli/java-cheat/tree/77437774e632ba6ecb483f6e69726431a23b5808/jni\">Example on GitHub</a> for you to play with.</p>\n\n<p><strong>Interpretation</strong>:</p>\n\n<p>It allows you to:</p>\n\n<ul>\n<li>call a compiled dynamically loaded library (here written in C) with arbitrary assembly code from Java</li>\n<li>and get results back into Java</li>\n</ul>\n\n<p>This could be used to:</p>\n\n<ul>\n<li>write faster code on a critical section with better CPU assembly instructions (not CPU portable)</li>\n<li>make direct system calls (not OS portable)</li>\n</ul>\n\n<p>with the tradeoff of lower portability.</p>\n\n<p>It is also possible for you to call Java from C, but you must first create a JVM in C: <a href=\"http://stackoverflow.com/questions/819536/how-to-call-java-function-from-c\">how to call java function from c++?</a></p>\n\n<p><strong>Example in the OpenJDK 8</strong></p>\n\n<p>Let's find find where <code>Object#clone</code> is defined in jdk8u60-b27.</p>\n\n<p>First we find:</p>\n\n<pre><code>find . -name Object.java\n</code></pre>\n\n<p>which leads us to <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/afbc08ea922b/src/share/classes/java/lang/Object.java#l212\">jdk/src/share/classes/java/lang/Object.java#l212</a>:</p>\n\n<pre><code>protected native Object clone() throws CloneNotSupportedException;\n</code></pre>\n\n<p>Now comes the hard part, finding where clone is amidst all the indirection. The query that helped me was:</p>\n\n<pre><code>find . -iname object.c\n</code></pre>\n\n<p>which would find either C or C++ files that might implement Object's native methods. It leads us to <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/afbc08ea922b/src/share/native/java/lang/Object.c#l47\">jdk/share/native/java/lang/Object.c#l47</a>:</p>\n\n<pre><code>static JNINativeMethod methods[] = {\n    ...\n    {\"clone\",       \"()Ljava/lang/Object;\",   (void *)&amp;JVM_Clone},\n};\n\nJNIEXPORT void JNICALL\nJava_java_lang_Object_registerNatives(JNIEnv *env, jclass cls)\n{\n    (*env)-&gt;RegisterNatives(env, cls,\n                            methods, sizeof(methods)/sizeof(methods[0]));\n}\n</code></pre>\n\n<p>which leads us to the <code>JVM_Clone</code> symbol:</p>\n\n<pre><code>grep -R JVM_Clone\n</code></pre>\n\n<p>which leads us to <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/hotspot/file/10ad4b9d79f9/src/share/vm/prims/jvm.cpp#l580\">hotspot/src/share/vm/prims/jvm.cpp#l580</a>:</p>\n\n<pre><code>JVM_ENTRY(jobject, JVM_Clone(JNIEnv* env, jobject handle))\n    JVMWrapper(\"JVM_Clone\");\n</code></pre>\n\n<p>After expanding a bunch of macros, we come to the conclusion that this is the definition point.</p>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/30635871#30635871", "question_id": 6101311, "answer_id": 30635871}, {"body": "<ul>\n<li><code>native</code> is a keyword in java, it indicates platform dependent.</li>\n<li><code>native</code> methods are acts as interface between Java(<strong>JNI</strong>) and other programming languages. </li>\n</ul>\n", "title": "What is the native keyword in Java for?", "tags": ["java", "jni", "native", "keyword"], "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for/34365169#34365169", "question_id": 6101311, "answer_id": 34365169}], "creation_date": 1306175385, "score": 248, "link": "http://stackoverflow.com/questions/6101311/what-is-the-native-keyword-in-java-for", "question_id": 6101311}, {"body": "<p>Today I was browsing through some questions on this site and I found a mention of an <code>enum</code> <a href=\"http://stackoverflow.com/questions/4706216/java-singleton-instantiation\">being used in singleton pattern</a> about purported thread safety benefits to such solution.</p>\n\n<p>I have never used <code>enum</code>s and I have been programing in Java for more than couple a years now. And apparently they changed a lot. Now they even do full blown support of OOP within themselves.</p>\n\n<h3>Now why and what for should I use enum in day to day programing?</h3>\n", "tags": ["java", "enums"], "title": "What are enums and why are they useful?", "answers": [{"body": "<p>From Java <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/enum.html\">documents</a> -</p>\n\n<blockquote>\n  <p>You should use enum types any time you\n  need to represent a fixed set of\n  constants. That includes natural enum\n  types such as the planets in our solar\n  system and data sets where you know\n  all possible values at compile\n  time\u2014for example, the choices on a\n  menu, command line flags, and so on.</p>\n</blockquote>\n\n<p>A common example is to replace a class with a set of private static final int constants (within reasonable number of constants) with an enum type. Basically if you think you know all possible values of \"something\" at compile time you can represent that as an enum type. Enums provide readability and flexibility over a class with constants.</p>\n\n<p>Few other advantages that I can think of enum types. They is always one instance of a particular enum class (hence the concept of using enums as singleton arrives). Another advantage is you can use enums as a type in switch-case statement. Also you can use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Enum.html#toString%28%29\">toString()</a> on the enum to print them as readable strings.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/4709193#4709193", "question_id": 4709175, "answer_id": 4709193}, {"body": "<p>You should always use enums when a variable (especially a method parameter) can only take one out of a small set of possible values. Examples would be things like type constants (contract status: \"permanent\", \"temp\", \"apprentice\"), or flags (\"execute now\", \"defer execution\").</p>\n\n<p>If you use enums instead of integers (or String codes), you increase compile-time checking and avoid errors from passing in invalid constants, and you document which values are legal to use.</p>\n\n<p>BTW, overuse of enums might mean that your methods do too much (it's often better to have several separate methods, rather than one method that takes several flags which modify what it does), but if you have to use flags or type codes, enums are the way to go.</p>\n\n<p>As an example, which is better?</p>\n\n<pre><code>/** Counts number of foobangs.\n * @param type Type of foobangs to count. Can be 1=green foobangs,\n * 2=wrinkled foobangs, 3=sweet foobangs, 0=all types.\n * @return number of foobangs of type\n */\npublic int countFoobangs(int type)\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>/** Types of foobangs. */\npublic enum FB_TYPE {\n GREEN, WRINKLED, SWEET, \n /** special type for all types combined */\n ALL;\n}\n\n/** Counts number of foobangs.\n * @param type Type of foobangs to count\n * @return number of foobangs of type\n */\npublic int countFoobangs(FB_TYPE type)\n</code></pre>\n\n<p>A method call like:</p>\n\n<pre><code>int sweetFoobangCount = countFoobangs(3);\n</code></pre>\n\n<p>then becomes:</p>\n\n<pre><code>int sweetFoobangCount = countFoobangs(FB_TYPE.SWEET);\n</code></pre>\n\n<hr>\n\n<p>In the second example, it's immediately clear which types are allowed, docs and implementation cannot go out of sync, and the compiler can enforce this.\nAlso, an invalid call like</p>\n\n<pre><code>int sweetFoobangCount = countFoobangs(99);\n</code></pre>\n\n<p>is no longer possible.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/4709224#4709224", "question_id": 4709175, "answer_id": 4709224}, {"body": "<blockquote>\n  <p>Now why and what for should I used\n  enum in day to day programing?</p>\n</blockquote>\n\n<p>You can use an Enum to represent a smallish fixed set of constants or an internal class mode while increasing readability. Also, Enums can enforce a certain rigidity when used in method parameters. They offer the interesting possibility of passing information to a constructor like in the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow\">Planets example on Oracle's site</a> and, as you've discovered, also allow a simple way to create a singleton pattern.</p>\n\n<p>ex: <code>Locale.setDefault(Locale.US)</code> reads better than <code>Locale.setDefault(1)</code> and enforces the use of fixed set of values shown in an IDE when you add the <code>.</code> separator instead of all integers.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/4709284#4709284", "question_id": 4709175, "answer_id": 4709284}, {"body": "<p>Something none of the other answers have covered that make enums particularly powerful are the ability to have <a href=\"http://en.wikipedia.org/wiki/Template_method_pattern\">template methods</a>. Methods can be part of the base enum and overridden by each type. And, with the behavior attached to the enum, it often eliminates the need for if-else constructs or switch statements as this <a href=\"http://www.ajaxonomy.com/2007/java/making-the-most-of-java-50-enum-tricks\">blog post demonstrates</a> - where <code>enum.method()</code> does what originally would be executed inside the conditional. The same example also shows the use of static imports with enums as well producing much cleaner DSL like code. </p>\n\n<p>Some other interesting qualities include the fact that enums provide implementation for <code>equals()</code>, <code>toString()</code> and <code>hashCode()</code> and implement <code>Serializable</code> and <code>Comparable</code>. </p>\n\n<p>For a complete rundown of all that enums have to offer I highly recommend Bruce Eckel's <a href=\"http://www.mindview.net/Books/TIJ4\">Thinking in Java 4th edition</a> which devotes an entire chapter to the topic. Particularly illuminating are the examples involving a Rock, Paper, Scissors (i.e. RoShamBo) game as enums. </p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/4709892#4709892", "question_id": 4709175, "answer_id": 4709892}, {"body": "<p>ENum stands for \"Enumerated Type\". It is a data type having a fixed set of constants which you define yourself.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15002704#15002704", "question_id": 4709175, "answer_id": 15002704}, {"body": "<p><code>What is a enum:</code></p>\n\n<ul>\n<li>enum is a keyword defined for Enumeration a new data type. Type safe enumerations should be used liberally.In particular, they are a robust alternative to the simple String or int constants used in many older APIs to represent sets of related items.</li>\n</ul>\n\n<p><code>Why to use enums:</code></p>\n\n<ul>\n<li>enums are implicitly final subclasses of java.lang.Enum</li>\n<li>if an enum is a member of a class, it's implicitly static</li>\n<li>new can never be used with an enum, even within the enum type itself</li>\n<li>name and valueOf simply use the text of the enum constants, while toString may be overridden to provide any content, if desired</li>\n<li>for enum constants, equals and == amount to the same thing, and can be used interchangeably</li>\n<li>enum constants are implicitly public static final</li>\n</ul>\n\n<p><code>Note:</code></p>\n\n<ul>\n<li>enums cannot extend any class.</li>\n<li>An enum cannot be a super class.</li>\n<li>the order of appearance of enum constants is called their \"natural order\", and defines the order used by other items as well : compareTo, iteration order of values , EnumSet, EnumSet.range.</li>\n<li>An enumeration can have constructors, static and instance blocks, variables and methods but cannot have abstract methods.</li>\n</ul>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15008356#15008356", "question_id": 4709175, "answer_id": 15008356}, {"body": "<p>Apart from all said by others.. In an older project that I used to work for, a lot of communication between entities(independent applications) was using integers which represented a small set. It was useful to declare the set as <code>enum</code> with static methods to get <code>enum</code> object from <code>value</code> and viceversa. The code looked cleaner, switch case usability and easier writing to logs.</p>\n\n<pre><code>enum ProtocolType {\n    TCP_IP (1, \"Transmission Control Protocol\"), \n    IP (2, \"Internet Protocol\"), \n    UDP (3, \"User Datagram Protocol\");\n\n    public int code;\n    public String name;\n\n    private ProtocolType(int code, String name) {\n        this.code = code;\n        this.name = name;\n    }\n\n    public static ProtocolType fromInt(int code) {\n    switch(code) {\n    case 1:\n        return TCP_IP;\n    case 2:\n        return IP;\n    case 3:\n        return UDP;\n    }\n\n    // we had some exception handling for this\n    // as the contract for these was between 2 independent applications\n    // liable to change between versions (mostly adding new stuff)\n    // but keeping it simple here.\n    return null;\n    }\n}\n</code></pre>\n\n<p>Create <code>enum</code> object from received values (e.g. 1,2) using <code>ProtocolType.fromInt(2)</code>\nWrite to logs using <code>myEnumObj.name</code></p>\n\n<p>Hope this helps.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15066871#15066871", "question_id": 4709175, "answer_id": 15066871}, {"body": "<p>In my opinion, all the answers you got up to now are valid, but in my experience, I would express it in a few words:</p>\n\n<p><strong>Use enums if you want the compiler to check the validity of the value of an identifier.</strong> </p>\n\n<p>Otherwise, you can use strings as you always did (probably you defined some \"conventions\" for your application) and you will be very flexible... but you will not get 100% security against typos on your strings and you will realize them only in runtime.  </p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15069169#15069169", "question_id": 4709175, "answer_id": 15069169}, {"body": "<p><code>Enum</code>s enumerate a fixed set of values, in a self-documenting way.<br/>\nThey make your code more explicit, and also less error-prone.</p>\n\n<p>Why not using <code>String</code>, or <code>int</code>, instead of <code>Enum</code>, for constants?</p>\n\n<ol>\n<li>The compiler won't allow <em>typos</em>, neither values out of the fixed\nset, as enums are <strong>types</strong> by themselves. Consequences:\n<ul>\n<li>You won't have to write a <strong>pre-condition</strong> (or a manual <code>if</code>) to assure your argument is in the valid range.</li>\n<li>The <strong>type invariant</strong> comes for free.</li>\n</ul></li>\n<li>Enums can have behaviour, just as any other class.</li>\n<li>You would probably need a similar amount of memory to use <code>String</code>s, anyway (this depends on the complexity of the <code>Enum</code>).</li>\n</ol>\n\n<p>Moreover, each of the <code>Enum</code>'s instances is a class, for which you can define its individual behaviour. </p>\n\n<p>Plus, they assure <em>thread safety</em> upon creation of the instances (when the enum is loaded), which has seen great application in simplifying the <strong>Singleton Pattern</strong>.</p>\n\n<p><a href=\"http://vanillajava.blogspot.pt/2011/06/java-secret-using-enum-as-state-machine.html\">This blog</a> illustrates some of its applications, such as a <strong>State Machine</strong> for a parser.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15074808#15074808", "question_id": 4709175, "answer_id": 15074808}, {"body": "<p>Besides the already mentioned use-cases, I often find enums useful for implementing the strategy pattern, following some basic OOP guidelines:</p>\n\n<ol>\n<li>Having the code where the data is (that is, within the enum itself -- or often within the enum constants, which may override methods).</li>\n<li>Implementing an interface (or more) in order to not bind the client code to the enum (which should only provide a set of default implementations).</li>\n</ol>\n\n<p>The simplest example would be a set of <code>Comparator</code> implementations:</p>\n\n<pre><code>enum StringComparator implements Comparator&lt;String&gt; {\n    NATURAL {\n        @Override\n        public int compare(String s1, String s2) {\n            return s1.compareTo(s2);\n        }\n    },\n    REVERSE {\n        @Override\n        public int compare(String s1, String s2) {\n            return -NATURAL.compare(s1, s2);\n        }\n    },\n    LENGTH {\n        @Override\n        public int compare(String s1, String s2) {\n            return new Integer(s1.length()).compareTo(s2.length());\n        }\n    };\n}\n</code></pre>\n\n<p>This \"pattern\" can be used in far more complex scenarios, making extensive use of all the goodies that come with the enum: iterating over the instances, relying on their implicit order, retrieving an instance by its name, static methods providing the right instance for specific contexts etc. And still you have this all hidden behind the interface so your code will work with custom implementations without modification in case you want something that's not available among the \"default options\".</p>\n\n<p>I've seen this successfully applied for modeling the concept of time granularity (daily, weekly, etc.) where all the logic was encapsulated in an enum (choosing the right granularity for a given time range, specific behavior bound to each granularity as constant methods etc.). And still, the <code>Granularity</code> as seen by the service layer was simply an interface.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15076852#15076852", "question_id": 4709175, "answer_id": 15076852}, {"body": "<p>So far, I have never needed to use enums. I have been reading about them since they were introduced in 1.5 or version tiger as it was called back in the day. They never really solved a 'problem' for me. For those who use it (and I see a lot of them do), am sure it definitely serves <em>some</em> purpose. Just my 2 quid.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15078145#15078145", "question_id": 4709175, "answer_id": 15078145}, {"body": "<p>Why use any programming language feature?  The reason we have languages at all is for</p>\n\n<ol>\n<li>Programmers to efficiently and <em>correctly</em> express algorithms in a form computers can use.</li>\n<li>Maintainers to understand algorithms others have written and <em>correctly</em> make changes.</li>\n</ol>\n\n<p>Enums improve both likelihood of correctness and readability without writing a lot of boilerplate.  If you are willing to write boilerplate, then you can \"simulate\" enums:</p>\n\n<pre><code>public class Color {\n    private Color() {} // Prevent others from making colors.\n    public static final Color RED = new Color();\n    public static final Color AMBER = new Color();\n    public static final Color GREEN = new Color();\n}\n</code></pre>\n\n<p>Now you can write:</p>\n\n<pre><code>Color trafficLightColor = Color.RED;\n</code></pre>\n\n<p>The boilerplate above has much the same effect as</p>\n\n<pre><code>public enum Color { RED, AMBER, GREEN };\n</code></pre>\n\n<p>Both provide the same level of checking help from the compiler.  Boilerplate is just more typing.  But saving a lot of typing makes the programmer more <em>efficient</em> (see 1), so it's a worthwhile feature.</p>\n\n<p>It's worthwhile for at least one more reason, too:</p>\n\n<p><strong>Switch statements</strong></p>\n\n<p>One thing that the <code>static final</code> enum simulation above does <em>not</em> give you is nice <code>switch</code> cases.  For enum types, the Java switch uses the type of its variable to infer the scope of enum cases, so for the <code>enum Color</code> above you merely need to say:</p>\n\n<pre><code>Color color = ... ;\nswitch (color) {\n    case RED:\n        ...\n        break;\n}\n</code></pre>\n\n<p>Note it's not <code>Color.RED</code> in the cases.  If you don't use enum, the only way to use named quantities with <code>switch</code> is something like:</p>\n\n<pre><code>public Class Color {\n    public static final int RED = 0;\n    public static final int AMBER = 1;\n    public static final int GREEN = 2;\n}\n</code></pre>\n\n<p>But now a variable to hold a color must have type <code>int</code>.  The nice compiler checking of the enum and the <code>static final</code> simulation is gone.  Not happy.</p>\n\n<p>A compromise is to use a scalar-valued member in the simulation:</p>\n\n<pre><code>public class Color {\n    public static final int RED_TAG = 1;\n    public static final int AMBER_TAG = 2;\n    public static final int GREEN_TAG = 3;\n\n    public final int tag;\n\n    private Color(int tag) { this.tag = tag; } \n    public static final Color RED = new Color(RED_TAG);\n    public static final Color AMBER = new Color(AMBER_TAG);\n    public static final Color GREEN = new Color(GREEN_TAG);\n}\n</code></pre>\n\n<p>Now:</p>\n\n<pre><code>Color color = ... ;\nswitch (color.tag) {\n    case Color.RED_TAG:\n        ...\n        break;\n}\n</code></pre>\n\n<p>But note, even more boilerplate!</p>\n\n<p><strong>Using an enum as a singleton</strong></p>\n\n<p>From the boilerplate above you can see why an enum provides a way to implement a singleton.  Instead of writing:</p>\n\n<pre><code>public class SingletonClass {\n    public static final void INSTANCE = new SingletonClass();\n    private SingletonClass() {}\n\n    // all the methods and instance data for the class here\n}\n</code></pre>\n\n<p>and then accessing it with</p>\n\n<pre><code>SingletonClass.INSTANCE\n</code></pre>\n\n<p>we can just say</p>\n\n<pre><code>public enum SingletonClass {\n    INSTANCE;\n\n    // all the methods and instance data for the class here\n}\n</code></pre>\n\n<p>which gives us the same thing.  We can get away with this because Java enums <em>are</em> implemented as full classes with only a little syntactic sugar sprinkled over the top.  This is again less boilerplate, but it's non-obvious unless the idiom is familiar to you.  I also dislike the fact that you get the various enum functions even though they don't make much sense for the singleton: <code>ord</code> and <code>values</code>, etc.  (There's actually a trickier simulation where <code>Color extends Integer</code> that will work with switch, but it's so tricky that it even more clearly shows why <code>enum</code> is a better idea.)</p>\n\n<p><strong>Thread safety</strong></p>\n\n<p>Thread safety is a potential problem only when singletons are created lazily with no locking.</p>\n\n<pre><code>public class SingletonClass {\n    private static SingletonClass INSTANCE;\n    private SingletonClass() {}\n    public SingletonClass getInstance() {\n        if (INSTANCE == null) INSTANCE = new SingletonClass();\n        return INSTANCE;\n    }\n\n    // all the methods and instance data for the class here\n}\n</code></pre>\n\n<p>If many threads call <code>getInstance</code> simultaneously while <code>INSTANCE</code> is still null, any number of instances can be created.  This is bad.  The only solution is to add <code>synchronized</code> access to protect the variable <code>INSTANCE</code>.</p>\n\n<p>However, the <code>static final</code> code above does not have this problem.  It creates the instance eagerly at class load time.  Class loading is synchronized.  So there is no problem.  </p>\n\n<p>The <code>enum</code> singleton does not provide lazy creation either.  </p>\n\n<p>So the claim that enums are more thread safe than a manually created singleton is not exactly right.  What can really be said is this: Singletons created at class load time (whether by enum or <code>static final</code> initialization) are thread safe.  Lazily created ones are not unless explicitly synchronized.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15080106#15080106", "question_id": 4709175, "answer_id": 15080106}, {"body": "<p>Enum inherits all the methods of <code>Object</code> class and abstract class <code>Enum</code>. So you can use it's methods for reflection, multithreading, serilization, comparable, etc. If you just declare a static constant instead of Enum, you can't. Besides that, the value of Enum can be passed to DAO layer as well.</p>\n\n<p>Here's an example program to demonstrate.</p>\n\n<pre><code>public enum State {\n\n    Start(\"1\"),\n    Wait(\"1\"),\n    Notify(\"2\"),\n    NotifyAll(\"3\"),\n    Run(\"4\"),\n    SystemInatilize(\"5\"),\n    VendorInatilize(\"6\"),\n    test,\n    FrameworkInatilize(\"7\");\n\n    public static State getState(String value) {\n        return State.Wait;\n    }\n\n    private String value;\n    State test;\n\n    private State(String value) {\n        this.value = value;\n    }\n\n    private State() {\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setCurrentState(State currentState) {\n        test = currentState;\n    }\n\n    public boolean isNotify() {\n        return this.equals(Notify);\n    }\n}\n\npublic class EnumTest {\n\n    State test;\n\n    public void setCurrentState(State currentState) {\n        test = currentState;\n    }\n\n    public State getCurrentState() {\n        return test;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(State.test);\n        System.out.println(State.FrameworkInatilize);\n        EnumTest test=new EnumTest();\n        test.setCurrentState(State.Notify);\n        test. stateSwitch();\n    }\n\n    public void stateSwitch() {\n        switch (getCurrentState()) {\n        case Notify:\n            System.out.println(\"Notify\");\n            System.out.println(test.isNotify());\n            break;\n        default:\n            break;\n        }\n    }\n}\n</code></pre>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15082184#15082184", "question_id": 4709175, "answer_id": 15082184}, {"body": "<p>Enum ? Why should be used . I think its more understood  when you will use it .\nI have the same experience .</p>\n\n<p>Say you have Create,delete, Edit and Read DB operation </p>\n\n<p>now if you create an enum as Operation </p>\n\n<pre><code>public enum operation {\ncreate(\"1\")\ndelete(\"2\")\nedit(\"3\")\nread(\"4\")\n\n//you may have is methods here\npublic boolean isCreate() {\n    return this.equals(create);\n}\n//more methods like the above can be written\n\n}\n</code></pre>\n\n<p>now , you may declare something like </p>\n\n<pre><code>private operation currentOperation;\n//and assign the value for it \ncurrentOperation=operation.create\n</code></pre>\n\n<p>So you can use it in many ways .\nIt's always good to have enum for specific things as the Db operation in above example can be controlled by checking  the <strong>currentOperation</strong>. Perhaps one can say this can be accomplished with variables and integer Values too .But I believe Enum is a safer and a programmer's  way.</p>\n\n<p>Another thing : I think every Programmer loves <strong>boolean</strong> don't we ?, because it can store only two values , two specific values . So Enum can be thought of having the same type of facilities where user will define how many and what type of value it will store , just in a slightly differently way. :)</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15085145#15085145", "question_id": 4709175, "answer_id": 15085145}, {"body": "<p>There are many answers here, just want to point two specific ones:</p>\n\n<p>1) Using as constants in <code>Switch-case</code> statement.\nSwitch case won't allow you to use String objects for case. Enums come in handy. More: <a href=\"http://www.javabeat.net/2009/02/how-to-use-enum-in-switch/\" rel=\"nofollow\">http://www.javabeat.net/2009/02/how-to-use-enum-in-switch/</a></p>\n\n<p>2) Implementing <code>Singleton Design Pattern</code> - Enum again, comes to rescue. Usage, here: <a href=\"http://stackoverflow.com/questions/427902/what-is-the-best-approach-for-using-an-enum-as-a-singleton-in-java\">What is the best approach for using an Enum as a singleton in Java?</a></p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/15086164#15086164", "question_id": 4709175, "answer_id": 15086164}, {"body": "<p>Use enums for TYPE SAFETY, this is a language feature so you will usually get:</p>\n\n<ul>\n<li>Compiler support (immediately see type issues)</li>\n<li>Tool support in IDEs (auto-completion in switch case ...)</li>\n</ul>\n\n<p>Enums can have methods, constructors, you can even use enums inside enums and combine enums with interfaces.</p>\n\n<p>Think of enums as types to replace a well defined set of int constants (which Java 'inherited' from C/C++).</p>\n\n<p>The book  Effective Java 2nd Edition has a whole chapter about them and goes into more details.\nAlso see this stackoverflow <a href=\"http://stackoverflow.com/questions/5092015/advantages-of-javas-enum-over-the-old-typesafe-enum-pattern\">post</a>.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/29920606#29920606", "question_id": 4709175, "answer_id": 29920606}, {"body": "<blockquote>\n  <p>An <strong>enum</strong> is a data type that contains fixed set of constants.</p>\n</blockquote>\n\n<p>OR</p>\n\n<blockquote>\n  <p><strong>An <code>enum</code> is just like a <code>class</code>, with a fixed set of instances known at compile time.</strong>  </p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>public class EnumExample {\n    interface SeasonInt {\n        String seasonDuration();\n    }\n\n    private enum Season implements SeasonInt {\n        // except the enum constants remaining code looks same as class\n        // enum constants are implicitly public static final we have used all caps to specify them like Constants in Java\n        WINTER(88, \"DEC - FEB\"), SPRING(92, \"MAR - JUN\"), SUMMER(91, \"JUN - AUG\"), FALL(90, \"SEP - NOV\");\n\n        private int days;\n        private String months;\n\n        Season(int days, String months) { // note: constructor is by default private \n            this.days = days;\n            this.months = months;\n        }\n\n        @Override\n        public String seasonDuration() {\n            return this+\" -&gt; \"+this.days + \"days,   \" + this.months+\" months\";\n        }\n\n    }\n    public static void main(String[] args) {\n        System.out.println(Season.SPRING.seasonDuration());\n        for (Season season : Season.values()){\n            System.out.println(season.seasonDuration());\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Advantages of enum:</strong>  </p>\n\n<ul>\n<li>enum improves type safety</li>\n<li>enum can be easily used in switch</li>\n<li>enum can be traversed</li>\n<li>enum can have fields, constructors and methods</li>\n<li>enum may implement many interfaces but cannot extend any class because it internally extends Enum class</li>\n</ul>\n\n<p>for <a href=\"http://www.javatpoint.com/enum-in-java\" rel=\"nofollow\">more</a></p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/31742900#31742900", "question_id": 4709175, "answer_id": 31742900}, {"body": "<p>Java lets you restrict variable to having one of only a few predefined values - in other words, one value from an enumerated list.\nUsing <code>enums</code> can help to reduce bug's in your code.\nHere is an example of <code>enums</code> outside a class:</p>\n\n<pre><code>enums coffeesize{BIG , HUGE , OVERWHELMING }; \n//This semicolon is optional.\n</code></pre>\n\n<p>This restricts <code>coffeesize</code> to having either: <code>BIG</code> , <code>HUGE</code> , or <code>OVERWHELMING</code> as a variable.</p>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/37450345#37450345", "question_id": 4709175, "answer_id": 37450345}, {"body": "<p>In addition to good answers here, it is useful to know that <code>enums</code> are just like the other classes with <code>Constant</code> fields and a <code>private constructor</code>.</p>\n\n<p>For example,</p>\n\n<pre><code>public enum Weekday\n{\n  MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\n} \n</code></pre>\n\n<p>The compiler compiles it as follows;</p>\n\n<pre><code>class Weekday extends Enum\n{\n  public static final Weekday MONDAY  = new Weekday( \"MONDAY\",   0 );\n  public static final Weekday TUESDAY = new Weekday( \"TUESDAY \", 1 );\n  public static final Weekday WEDNESDAY= new Weekday( \"WEDNESDAY\", 2 );\n  public static final Weekday THURSDAY= new Weekday( \"THURSDAY\", 3 );\n  public static final Weekday FRIDAY= new Weekday( \"FRIDAY\", 4 );\n  public static final Weekday SATURDAY= new Weekday( \"SATURDAY\", 5 );\n  public static final Weekday SUNDAY= new Weekday( \"SUNDAY\", 6 );\n\n  private Weekday( String s, int i )\n  {\n    super( s, i );\n  }\n\n  // other methods...\n}\n</code></pre>\n", "title": "What are enums and why are they useful?", "tags": ["java", "enums"], "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful/38524728#38524728", "question_id": 4709175, "answer_id": 38524728}], "creation_date": 1295225925, "score": 246, "link": "http://stackoverflow.com/questions/4709175/what-are-enums-and-why-are-they-useful", "question_id": 4709175}, {"body": "<p>The jackson data binding documentation (<a href=\"http://jackson.codehaus.org/DataBindingDeepDive\">http://jackson.codehaus.org/DataBindingDeepDive</a>) indicates that Jackson supports deserialising  \"Arrays of all supported types\" but I can't figure out the exact syntax for this.</p>\n\n<p>For a single object I would do this:</p>\n\n<pre><code>//json input\n{\n    \"id\" : \"junk\",\n    \"stuff\" : \"things\"\n}\n\n//Java\nMyClass instance = objectMapper.readValue(json, MyClass.class);\n</code></pre>\n\n<p>Now for an array I want to do this:</p>\n\n<pre><code>//json input\n[{\n    \"id\" : \"junk\",\n    \"stuff\" : \"things\"\n},\n{\n    \"id\" : \"spam\",\n    \"stuff\" : \"eggs\"\n}]\n\n//Java\nList&lt;MyClass&gt; entries = ?\n</code></pre>\n\n<p>Anyone know if there is a magic missing command? If not then what is the solution?</p>\n\n<p>Many thanks.</p>\n", "tags": ["java", "json", "jackson"], "title": "How to use Jackson to deserialise an array of objects", "answers": [{"body": "<p>First create a mapper :</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;// in play 2.3\nObjectMapper mapper = new ObjectMapper();\n</code></pre>\n\n<p>As Array:</p>\n\n<pre><code>MyClass[] myObjects = mapper.readValue(json, MyClass[].class);\n</code></pre>\n\n<p>As List:</p>\n\n<pre><code>List&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\n</code></pre>\n\n<p>Another way to specify the List type:</p>\n\n<pre><code>List&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, mapper.getTypeFactory().constructCollectionType(List.class, MyClass.class));\n</code></pre>\n", "title": "How to use Jackson to deserialise an array of objects", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects/6349488#6349488", "question_id": 6349421, "answer_id": 6349488}, {"body": "<p>From <a href=\"http://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects/28982591#comment37099398_6349488\">Eugene Tskhovrebov</a></p>\n\n<pre><code>List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.readValue(json, MyClass[].class))\n</code></pre>\n\n<p>This solution seems to be the best for me</p>\n", "title": "How to use Jackson to deserialise an array of objects", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects/28982591#28982591", "question_id": 6349421, "answer_id": 28982591}, {"body": "<pre><code>try {\n    ObjectMapper mapper = new ObjectMapper();\n    JsonFactory f = new JsonFactory();\n    List&lt;User&gt; lstUser = null;\n    JsonParser jp = f.createJsonParser(new File(\"C:\\\\maven\\\\user.json\"));\n    TypeReference&lt;List&lt;User&gt;&gt; tRef = new TypeReference&lt;List&lt;User&gt;&gt;() {};\n    lstUser = mapper.readValue(jp, tRef);\n    for (User user : lstUser) {\n        System.out.println(user.toString());\n    }\n\n} catch (JsonGenerationException e) {\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n", "title": "How to use Jackson to deserialise an array of objects", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects/29749600#29749600", "question_id": 6349421, "answer_id": 29749600}], "creation_date": 1308081911, "score": 244, "link": "http://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects", "question_id": 6349421}, {"body": "<p>I'm using Jackson JSON library to convert some JSON objects to POJO classes on an android application. The problem is, the JSON objects might change and have new fields added while the application is published, but currently it will break even when a simple String field is added, which can safely be ignored. </p>\n\n<p>Is there any way to tell Jackson to ignore newly added fields? (e.g. non-existing on the POJO objects)? A global ignore would be great.</p>\n", "tags": ["java", "json", "jackson"], "title": "Ignoring new fields on JSON objects using Jackson", "answers": [{"body": "<p>Jackson provides an annotation that can be used on class level (<a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html\">JsonIgnoreProperties</a>). </p>\n\n<p>Add the following to the top of your class (<em>not</em> to individual methods):</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Foo {\n    ...\n}\n</code></pre>\n\n<p>Depending on the jackson version you are using you would have to use a different import in the current version it is:</p>\n\n<pre><code>import org.codehaus.jackson.annotate.JsonIgnoreProperties;\n</code></pre>\n\n<p>in older versions it has been:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n</code></pre>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/5455563#5455563", "question_id": 5455014, "answer_id": 5455563}, {"body": "<p>You can annotate the specific property in your POJO with @JsonIgnore.</p>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/5460811#5460811", "question_id": 5455014, "answer_id": 5460811}, {"body": "<p>In addition two 2 mechanisms already mentioned, there is also global feature that can be used to suppress all failures caused by unknown (unmapped) properties:</p>\n\n<pre><code>// jackson 1.9 and before\nobjectMapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n// or jackson 2.0\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n\n<p>This is the default used in absence of annotations, and can be convenient fallback.</p>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/5462992#5462992", "question_id": 5455014, "answer_id": 5462992}, {"body": "<p>Make sure that you place the <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> annotation to the parent POJO class which you want to populate as a result of parsing the JSON response and not the class where the conversion from JSON to Java Object is taking place.</p>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/15781402#15781402", "question_id": 5455014, "answer_id": 15781402}, {"body": "<p>Up to date and complete answer with Jackson 2</p>\n\n<hr>\n\n<h2>Using Annotation</h2>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class MyMappingClass {\n\n}\n</code></pre>\n\n<p>See <a href=\"http://jackson.codehaus.org/1.4.0/javadoc/org/codehaus/jackson/annotate/JsonIgnoreProperties.html\">JsonIgnoreProperties</a> on Jackson online documentation. </p>\n\n<h2>Using Configuration</h2>\n\n<p>Less intrusive than annotation.</p>\n\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectReader;\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\nObjectReader objectReader = objectMapper.reader(MyMappingClass.class);\nMyMappingClass myMappingClass = objectReader.readValue(json);\n</code></pre>\n\n<p>See <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.0.0/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_UNKNOWN_PROPERTIES\">FAIL_ON_UNKNOWN_PROPERTIES</a> on Jackson online documentation. </p>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/25718495#25718495", "question_id": 5455014, "answer_id": 25718495}, {"body": "<p>As stated above the annotations only works if this is specified in the parent POJO class and not the class where the conversion from JSON to Java Object is taking place.</p>\n\n<p>The other alternative without touching the parent class and causing disruptions is to implement your own mapper config only for the mapper methods you need for this.</p>\n\n<p>Also the package of the Deserialization feature has been moved.\nDeserializationConfig.FAIL_ON_UNKNOWN_PROPERTIES to\nDeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES</p>\n\n<pre><code>import org.codehaus.jackson.map.DeserializationConfig;\n...\nobjectMapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/26066382#26066382", "question_id": 5455014, "answer_id": 26066382}, {"body": "<p>If using a pojo class based on JSON response. If chances are there that json changes frequently declare at pojo class level:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>and at the objectMapper add this if you are converting:</p>\n\n<pre><code>objectMapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n\n<p>So that code will not break.</p>\n", "title": "Ignoring new fields on JSON objects using Jackson", "tags": ["java", "json", "jackson"], "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson/34072067#34072067", "question_id": 5455014, "answer_id": 34072067}], "creation_date": 1301289976, "score": 243, "link": "http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson", "question_id": 5455014}, {"body": "<p>How can I find the number of cores available to my application from within Java code?</p>\n", "tags": ["java"], "title": "Finding Number of Cores in Java", "answers": [{"body": "<pre><code>int cores = Runtime.getRuntime().availableProcessors();\n</code></pre>\n\n<p>If <code>cores</code> is less than one, either your processor is about to die, or your JVM has a serious bug in it, or the universe is about to blow up.</p>\n", "title": "Finding Number of Cores in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/4759570/finding-number-of-cores-in-java/4759606#4759606", "question_id": 4759570, "answer_id": 4759606}, {"body": "<p>This works on Windows with Cygwin installed:</p>\n\n<p><code>System.getenv(\"NUMBER_OF_PROCESSORS\")</code></p>\n", "title": "Finding Number of Cores in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/4759570/finding-number-of-cores-in-java/19459145#19459145", "question_id": 4759570, "answer_id": 19459145}, {"body": "<p>If you want to get number of physical cores you can run cmd and terminal command and then to parse the output to get info you need. Below is shown function that returns number of physical cores.</p>\n\n<pre><code>private int getNumberOfCPUCores() {\n    OsValidator osValidator = new OsValidator();\n    String command = \"\";\n    if(osValidator.isMac()){\n        command = \"sysctl -n machdep.cpu.core_count\";\n    }else if(osValidator.isUnix()){\n        command = \"lscpu\";\n    }else if(osValidator.isWindows()){\n        command = \"cmd /C WMIC CPU Get /Format:List\";\n    }\n    Process process = null;\n    int numberOfCores = 0;\n    int sockets = 0;\n    try {\n        if(osValidator.isMac()){\n            String[] cmd = { \"/bin/sh\", \"-c\", command};\n            process = Runtime.getRuntime().exec(cmd);\n        }else{\n            process = Runtime.getRuntime().exec(command);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(process.getInputStream()));\n    String line;\n\n    try {\n        while ((line = reader.readLine()) != null) {\n            if(osValidator.isMac()){\n                numberOfCores = line.length() &gt; 0 ? Integer.parseInt(line) : 0;\n            }else if (osValidator.isUnix()) {\n                if (line.contains(\"Core(s) per socket:\")) {\n                    numberOfCores = Integer.parseInt(line.split(\"\\\\s+\")[line.split(\"\\\\s+\").length - 1]);\n                }\n                if(line.contains(\"Socket(s):\")){\n                    sockets = Integer.parseInt(line.split(\"\\\\s+\")[line.split(\"\\\\s+\").length - 1]);\n                }\n            } else if (osValidator.isWindows()) {\n                if (line.contains(\"NumberOfCores\")) {\n                    numberOfCores = Integer.parseInt(line.split(\"=\")[1]);\n                }\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    if(osValidator.isUnix()){\n        return numberOfCores * sockets;\n    }\n    return numberOfCores;\n}\n</code></pre>\n\n<p>OSValidator class:</p>\n\n<pre><code>public class OSValidator {\n\nprivate static String OS = System.getProperty(\"os.name\").toLowerCase();\n\npublic static void main(String[] args) {\n\n    System.out.println(OS);\n\n    if (isWindows()) {\n        System.out.println(\"This is Windows\");\n    } else if (isMac()) {\n        System.out.println(\"This is Mac\");\n    } else if (isUnix()) {\n        System.out.println(\"This is Unix or Linux\");\n    } else if (isSolaris()) {\n        System.out.println(\"This is Solaris\");\n    } else {\n        System.out.println(\"Your OS is not support!!\");\n    }\n}\n\npublic static boolean isWindows() {\n    return (OS.indexOf(\"win\") &gt;= 0);\n}\n\npublic static boolean isMac() {\n    return (OS.indexOf(\"mac\") &gt;= 0);\n}\n\npublic static boolean isUnix() {\n    return (OS.indexOf(\"nix\") &gt;= 0 || OS.indexOf(\"nux\") &gt;= 0 || OS.indexOf(\"aix\") &gt; 0 );\n}\n\npublic static boolean isSolaris() {\n    return (OS.indexOf(\"sunos\") &gt;= 0);\n}\npublic static String getOS(){\n    if (isWindows()) {\n        return \"win\";\n    } else if (isMac()) {\n        return \"osx\";\n    } else if (isUnix()) {\n        return \"uni\";\n    } else if (isSolaris()) {\n        return \"sol\";\n    } else {\n        return \"err\";\n    }\n}\n</code></pre>\n\n<p>}</p>\n", "title": "Finding Number of Cores in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/4759570/finding-number-of-cores-in-java/34525706#34525706", "question_id": 4759570, "answer_id": 34525706}], "creation_date": 1295618089, "score": 240, "link": "http://stackoverflow.com/questions/4759570/finding-number-of-cores-in-java", "question_id": 4759570}, {"body": "<p>It is supposed to be generally preferable to use a <code>StringBuilder</code> for string concatenation in Java. Is this always the case?</p>\n\n<p>What I mean is this: Is the overhead of creating a <code>StringBuilder</code> object, calling the <code>append()</code> method and finally <code>toString()</code> already smaller then concatenating existing strings with the <code>+</code> operator for two strings, or is it only advisable for more (than two) strings?</p>\n\n<p>If there is such a threshold, what does it depend on (perhaps the string length, but in which way)?</p>\n\n<p>And finally, would you trade the readability and conciseness of the <code>+</code> concatenation for the performance of the <code>StringBuilder</code> in smaller cases like two, three or four strings?</p>\n\n<p><strong>EDIT</strong><br>\nExplicit use of <code>StringBuilder</code> for regular concatenations is being mentioned as obsolete at <a href=\"http://stackoverflow.com/questions/4019180/obsolete-java-optimization-tips\">obsolete java optimization tips</a> as well as at <a href=\"http://stackoverflow.com/questions/2248278/java-urban-myths\">java urban myths</a>. </p>\n", "tags": ["java", "string", "performance"], "title": "when to use StringBuilder in java", "answers": [{"body": "<p>The Microsoft certification material addresses this same question. In the .NET world, the overhead for the StringBuilder object makes a simple concatenation of 2 String objects more efficient. I would assume a similar answer for Java strings.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645047#4645047", "question_id": 4645020, "answer_id": 4645047}, {"body": "<p>Have a look at: <a href=\"http://www.javaspecialists.eu/archive/Issue068.html\" rel=\"nofollow\">http://www.javaspecialists.eu/archive/Issue068.html</a> and <a href=\"http://www.javaspecialists.eu/archive/Issue105.html\" rel=\"nofollow\">http://www.javaspecialists.eu/archive/Issue105.html</a></p>\n\n<p>Do the same tests in your environment and check if newer JDK or your Java implementation do some type of string operation better with <code>String</code> or better with <code>StringBuilder</code>.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645066#4645066", "question_id": 4645020, "answer_id": 4645066}, {"body": "<p>As a general rule, always use the more readable code and only refactor if performance is an issue. In this specific case, most recent JDK's will actually optimize the code into the StringBuilder version in any case. </p>\n\n<p>You usually only really need to do it manually if you are doing string concatenation in a loop or in some complex code that the compiler can't easily optimize.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645106#4645106", "question_id": 4645020, "answer_id": 4645106}, {"body": "<p>The problem with String concatenation is that it leads to copying of the String object with all the associated cost. StringBuilder is not threadsafe and is therefore faster than StringBuffer, which used to be the preferred choice before Java 5. As a rule of thumb, you should not do String concatenation in a loop, which will be called often. I guess doing a few concatenations here and there will not hurt you as long as you are not talking about hundreds and this of course depends on your performance requirements. If you are doing real time stuff, you should be very careful.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645123#4645123", "question_id": 4645020, "answer_id": 4645123}, {"body": "<p>The + operator uses <code>public String concat(String str)</code> internally. This method copies the characters of the two strings, so it has memory requirements and runtime complexity proportional to the length of the two strings. StringBuilder works more efficent.</p>\n\n<p>However I have read <a href=\"http://www.coderanch.com/t/203045/Performance/java/Performance-Impact-String-vs-StringBuilder\" rel=\"nofollow\">here</a> that the concatination code using the + operater is changed to StringBuilder on post Java 4 compilers. So this might not be an issue at all. (Though I would really check this statement if I depend on it in my code!)</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645147#4645147", "question_id": 4645020, "answer_id": 4645147}, {"body": "<p>If you use String concatenation in a loop, something like this,</p>\n\n<pre><code>String s = \"\";\nfor (int i = 0; i &lt; 100; i++) {\n    s += \", \" + i;\n}\n</code></pre>\n\n<p>then you should use a <code>StringBuilder</code> (not <code>StringBuffer</code>) instead of a <code>String</code>, because it is much faster and consumes less memory.</p>\n\n<p>If you have a single statement,</p>\n\n<pre><code>String s = \"1, \" + \"2, \" + \"3, \" + \"4, \" ...;\n</code></pre>\n\n<p>then you can use <code>String</code>s, because the compiler will use <code>StringBuilder</code> automatically.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645155#4645155", "question_id": 4645020, "answer_id": 4645155}, {"body": "<p>Ralph's answer is fabulous. I would rather use StringBuilder class to build/decorate the String because the usage of it is more look like Builder pattern.</p>\n\n<pre><code>public String decorateTheString(String orgStr){\n            StringBuilder builder = new StringBuilder();\n            builder.append(orgStr);\n            builder.deleteCharAt(orgStr.length()-1);\n            builder.insert(0,builder.hashCode());\n            return builder.toString();\n}\n</code></pre>\n\n<p>It can be use as a helper/builder to build the String, not the String itself.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/4645385#4645385", "question_id": 4645020, "answer_id": 4645385}, {"body": "<p>For two strings concat is faster, in other cases StringBuilder is a better choice, see my explanation in <a href=\"http://stackoverflow.com/questions/8755063/concatenation-operator-vs-concat/13739225#13739225\"> concatenation operator (+) vs concat()</a></p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/13740382#13740382", "question_id": 4645020, "answer_id": 13740382}, {"body": "<p>Some compilers may not replace any string concatenations with StringBuilder equivalents.  Be sure to consider which compilers your source will use before relying on compile time optimizations.</p>\n", "title": "when to use StringBuilder in java", "tags": ["java", "string", "performance"], "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java/14836895#14836895", "question_id": 4645020, "answer_id": 14836895}], "creation_date": 1294649550, "score": 234, "link": "http://stackoverflow.com/questions/4645020/when-to-use-stringbuilder-in-java", "question_id": 4645020}, {"body": "<p>I want to convert a <code>java.util.Date</code> object to a <code>String</code> in Java.</p>\n\n<p>The format is <code>2010-05-30 22:15:52</code> </p>\n", "tags": ["java", "date", "formatting", "java.util.date"], "title": "Convert java.util.Date to String", "answers": [{"body": "<p>It looks like you are looking for <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\">SimpleDateFormat</a>.</p>\n\n<p>Format: yyyy-MM-dd kk:mm:ss</p>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/5683743#5683743", "question_id": 5683728, "answer_id": 5683743}, {"body": "<pre><code>Format formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\nString s = formatter.format(date);\n</code></pre>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/5683747#5683747", "question_id": 5683728, "answer_id": 5683747}, {"body": "<p>In Java, Convert a Date to a String using a format string:</p>\n\n<pre><code>// Create an instance of SimpleDateFormat used for formatting \n// the string representation of date (month/day/year)\nDateFormat df = new SimpleDateFormat(\"MM/dd/yyyy HH:mm:ss\");\n\n// Get the date today using Calendar object.\nDate today = Calendar.getInstance().getTime();        \n// Using DateFormat format method we can create a string \n// representation of a date with the defined format.\nString reportDate = df.format(today);\n\n// Print what date is today!\nSystem.out.println(\"Report Date: \" + reportDate);\n</code></pre>\n\n<p>From <a href=\"http://www.kodejava.org/examples/86.html\">http://www.kodejava.org/examples/86.html</a></p>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/5683761#5683761", "question_id": 5683728, "answer_id": 5683761}, {"body": "<p>Commons-lang <strong><em>DateFormatUtils</em></strong> is full of goodies (if you have commons-lang in your classpath)</p>\n\n<pre><code>//Formats a date/time into a specific pattern\n DateFormatUtils.format(yourDate, \"yyyy-MM-dd HH:mm:SS\");\n</code></pre>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/14515664#14515664", "question_id": 5683728, "answer_id": 14515664}, {"body": "<pre><code>public static String formateDate(String dateString) {\n    Date date;\n    String formattedDate = \"\";\n    try {\n        date = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss\",Locale.getDefault()).parse(dateString);\n        formattedDate = new SimpleDateFormat(\"dd/MM/yyyy\",Locale.getDefault()).format(date);\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return formattedDate;\n}\n</code></pre>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/20852935#20852935", "question_id": 5683728, "answer_id": 20852935}, {"body": "<p>Why don't you use Joda (org.joda.time.DateTime)?\nIt's basically a one-liner.</p>\n\n<pre><code>Date currentDate = GregorianCalendar.getInstance().getTime();\nString output = new DateTime( currentDate ).toString(\"yyyy-MM-dd HH:mm:ss\");\n\n// output: 2014-11-14 14:05:09\n</code></pre>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/26930846#26930846", "question_id": 5683728, "answer_id": 26930846}, {"body": "<pre><code>public static void main(String[] args) \n{\n    Date d = new Date();\n    SimpleDateFormat form = new SimpleDateFormat(\"dd-mm-yyyy hh:mm:ss\");\n    System.out.println(form.format(d));\n    String str = form.format(d); // or if you want to save it in String str\n    System.out.println(str); // and print after that\n}\n</code></pre>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/29266599#29266599", "question_id": 5683728, "answer_id": 29266599}, {"body": "<p>Altenative one-liners in plain-old java:</p>\n\n<pre><code>String.format(\"The date: %tY-%tm-%td\", date, date, date);\n\nString.format(\"The date: %1$tY-%1$tm-%1$td\", date);\n\nString.format(\"Time with tz: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS.%1$tL%1$tz\", date);\n</code></pre>\n\n<p>This uses <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#dt\" rel=\"nofollow\">Formatter</a> instead of <code>SimpleDateFormat</code> which is not thread-safe, btw.</p>\n\n<p>Slightly more repetitive but needs just one statement. \nThis may be handy in some cases.</p>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/31057149#31057149", "question_id": 5683728, "answer_id": 31057149}, {"body": "<p>The easiest way to use it is as following:</p>\n\n<pre><code>currentISODate = new Date().parse(\"yyyy-MM-dd'T'HH:mm:ss\", \"2013-04-14T16:11:48.000\");\n</code></pre>\n\n<p>where \"yyyy-MM-dd'T'HH:mm:ss\" is the format of the reading date</p>\n\n<p>output: Sun Apr 14 16:11:48 EEST 2013</p>\n\n<p>Notes: HH vs hh\n- HH refers to 24h time format\n- hh refers to 12h time format</p>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/32716552#32716552", "question_id": 5683728, "answer_id": 32716552}, {"body": "<p>If you only need the time from the date, you can just use the feature of String.</p>\n\n<pre><code>Date test = new Date();\nString dayString = test.toString();\nString timeString = dayString.substring( 11 , 19 );\n</code></pre>\n\n<p>This will automatically cut the time part of the String and save it inside the <code>timeString</code>.</p>\n", "title": "Convert java.util.Date to String", "tags": ["java", "date", "formatting", "java.util.date"], "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string/32986868#32986868", "question_id": 5683728, "answer_id": 32986868}], "creation_date": 1302915416, "score": 231, "link": "http://stackoverflow.com/questions/5683728/convert-java-util-date-to-string", "question_id": 5683728}, {"body": "<p>I'm trying to learn Gson and I'm struggling with field exclusion. Here are my classes</p>\n\n<pre><code>public class Student {    \n  private Long                id;\n  private String              firstName        = \"Philip\";\n  private String              middleName       = \"J.\";\n  private String              initials         = \"P.F\";\n  private String              lastName         = \"Fry\";\n  private Country             country;\n  private Country             countryOfBirth;\n}\n\npublic class Country {    \n  private Long                id;\n  private String              name;\n  private Object              other;\n}\n</code></pre>\n\n<p>I can use the GsonBuilder and add an ExclusionStrategy for a field name like <code>firstName</code> or <code>country</code> but I can't seem to manage to exclude properties of certain fields like <code>country.name</code>.</p>\n\n<p>Using the method <code>public boolean shouldSkipField(FieldAttributes fa)</code>, FieldAttributes doesn't contain enough information to match the field with a filter like <code>country.name</code>.</p>\n\n<p>I would appreciate any help with a solution for this problem.</p>\n\n<p>P.S: I want to avoid annotations since I want to improve on this and use RegEx to filter fields out.</p>\n\n<p>Thank you</p>\n\n<p><strong>Edit</strong>: I'm trying to see if it's possible to emulate the behavior of <a href=\"https://cwiki.apache.org/confluence/display/WW/JSON%20Plugin\">Struts2 JSON plugin</a></p>\n\n<p>using Gson</p>\n\n<pre><code>&lt;interceptor-ref name=\"json\"&gt;\n  &lt;param name=\"enableSMD\"&gt;true&lt;/param&gt;\n  &lt;param name=\"excludeProperties\"&gt;\n    login.password,\n    studentList.*\\.sin\n  &lt;/param&gt;\n&lt;/interceptor-ref&gt;\n</code></pre>\n\n<p><strong>Edit:</strong>\n    I reopened the question with the following addition:</p>\n\n<p>I added a second field with the same type to futher clarify this problem. Basically I want to exclude <code>country.name</code> but not <code>countrOfBirth.name</code>. I also don't want to exclude Country as a type.\nSo the types are the same it's the actual place in the object graph that I want to pinpoint and exclude.</p>\n", "tags": ["java", "json", "serialization", "gson"], "title": "Gson: How to exclude specific fields from Serialization without annotations", "answers": [{"body": "<p>So, you want to <strong>exclude</strong> <code>firstName</code> and <code>country.name</code>. Here is what your <code>ExclusionStrategy</code> should look like</p>\n\n<pre><code>    public class TestExclStrat implements ExclusionStrategy {\n\n        public boolean shouldSkipClass(Class&lt;?&gt; arg0) {\n            return false;\n        }\n\n        public boolean shouldSkipField(FieldAttributes f) {\n\n            return (f.getDeclaringClass() == Student.class &amp;&amp; f.getName().equals(\"firstName\"))||\n            (f.getDeclaringClass() == Country.class &amp;&amp; f.getName().equals(\"name\"));\n        }\n\n    }\n</code></pre>\n\n<p>If you see closely it returns <code>true</code> for <code>Student.firstName</code> and <code>Country.name</code>, which is what you want to exclude.</p>\n\n<p>You need to apply this <code>ExclusionStrategy</code> like this,</p>\n\n<pre><code>    Gson gson = new GsonBuilder()\n        .setExclusionStrategies(new TestExclStrat())\n        //.serializeNulls() &lt;-- uncomment to serialize NULL fields as well\n        .create();\n    Student src = new Student();\n    String json = gson.toJson(src);\n    System.out.println(json);\n</code></pre>\n\n<p>This returns:</p>\n\n<blockquote>\n  <p>{\"middleName\":\"J.\",\"initials\":\"P.F\",\"lastName\":\"Fry\",\"country\":{\"id\":91}}</p>\n</blockquote>\n\n<p>I assume the country object is initialized with <code>id = 91L</code> in student class.</p>\n\n<hr>\n\n<p>You may get fancy. For example, you do not want to serialize any field that contains \"name\" string in it's name. Do this</p>\n\n<pre><code>public boolean shouldSkipField(FieldAttributes f) {\n    return f.getName().toLowerCase().contains(\"name\"); \n}\n</code></pre>\n\n<p>this will return</p>\n\n<blockquote>\n  <p>{\"initials\":\"P.F\",\"country\":{\"id\":91}}</p>\n</blockquote>\n\n<hr>\n\n<p><strong>EDIT:</strong> Added more info as requested.</p>\n\n<p>This <code>ExclusionStrategy</code> will do the thing, but you need to pass \"Fully Qualified Field Name\". See below:</p>\n\n<pre><code>    public class TestExclStrat implements ExclusionStrategy {\n\n        private Class&lt;?&gt; c;\n        private String fieldName;\n        public TestExclStrat(String fqfn) throws SecurityException, NoSuchFieldException, ClassNotFoundException\n        {\n            this.c = Class.forName(fqfn.substring(0, fqfn.lastIndexOf(\".\")));\n            this.fieldName = fqfn.substring(fqfn.lastIndexOf(\".\")+1);\n        }\n        public boolean shouldSkipClass(Class&lt;?&gt; arg0) {\n            return false;\n        }\n\n        public boolean shouldSkipField(FieldAttributes f) {\n\n            return (f.getDeclaringClass() == c &amp;&amp; f.getName().equals(fieldName));\n        }\n\n    }\n</code></pre>\n\n<p>Here is how we can use it generically.</p>\n\n<pre><code>    Gson gson = new GsonBuilder()\n        .setExclusionStrategies(new TestExclStrat(\"in.naishe.test.Country.name\"))\n        //.serializeNulls()\n        .create();\n    Student src = new Student();\n    String json = gson.toJson(src);\n    System.out.println(json); \n</code></pre>\n\n<p>It returns</p>\n\n<blockquote>\n  <p>{\"firstName\":\"Philip\",\"middleName\":\"J.\",\"initials\":\"P.F\",\"lastName\":\"Fry\",\"country\":{\"id\":91}}</p>\n</blockquote>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/4803346#4803346", "question_id": 4802887, "answer_id": 4803346}, {"body": "<p>Any fields you don't want serialized in general you should use the \"transient\" modifier, and this also applies to json serializers (at least it does to a few that I have used, including gson).</p>\n\n<p>If you don't want name to show up in the serialized json give it a transient keyword, eg:</p>\n\n<pre><code>private transient String name;\n</code></pre>\n\n<p><a href=\"http://www.javacreed.com/gson-annotations-example/\">Details Here</a></p>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/5889590#5889590", "question_id": 4802887, "answer_id": 5889590}, {"body": "<p>Nishant provided a good solution, but there's an easier way. Simply mark the desired fields with the @Expose annotation, such as:</p>\n\n<pre><code>@Expose private Long id;\n</code></pre>\n\n<p>Leave out any fields that you do not want to serialize. Then just create your Gson object this way:</p>\n\n<pre><code>Gson gson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\n</code></pre>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/7811253#7811253", "question_id": 4802887, "answer_id": 7811253}, {"body": "<p>I came up with a class factory to support this functionality. Pass in any combination of either fields or classes you want to exclude.</p>\n\n<pre><code>public class GsonFactory {\n\n    public static Gson build(final List&lt;String&gt; fieldExclusions, final List&lt;Class&lt;?&gt;&gt; classExclusions) {\n        GsonBuilder b = new GsonBuilder();\n        b.addSerializationExclusionStrategy(new ExclusionStrategy() {\n            @Override\n            public boolean shouldSkipField(FieldAttributes f) {\n                return fieldExclusions == null ? false : fieldExclusions.contains(f.getName());\n            }\n\n            @Override\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n                return classExclusions == null ? false : classExclusions.contains(clazz);\n            }\n        });\n        return b.create();\n\n    }\n}\n</code></pre>\n\n<p>To use, create two lists (each is optional), and create your GSON object:</p>\n\n<pre><code>static {\n List&lt;String&gt; fieldExclusions = new ArrayList&lt;String&gt;();\n fieldExclusions.add(\"id\");\n fieldExclusions.add(\"provider\");\n fieldExclusions.add(\"products\");\n\n List&lt;Class&lt;?&gt;&gt; classExclusions = new ArrayList&lt;Class&lt;?&gt;&gt;();\n classExclusions.add(Product.class);\n GSON = GsonFactory.build(null, classExclusions);\n}\n\nprivate static final Gson GSON;\n\npublic String getSomeJson(){\n    List&lt;Provider&gt; list = getEntitiesFromDatabase();\n    return GSON.toJson(list);\n}\n</code></pre>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/10338912#10338912", "question_id": 4802887, "answer_id": 10338912}, {"body": "<p>Or can say whats fields not will expose with:</p>\n\n<pre><code>Gson gson = gsonBuilder.excludeFieldsWithModifiers(Modifier.TRANSIENT).create();\n</code></pre>\n\n<p>on your class on attribute:</p>\n\n<pre><code>private **transient** boolean nameAttribute;\n</code></pre>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/16887106#16887106", "question_id": 4802887, "answer_id": 16887106}, {"body": "<p>I ran into this issue, in which I had a small number of fields I wanted to exclude only from serialization, so I developed a fairly simple solution that uses Gson's <code>@Expose</code> annotation with custom exclusion strategies.</p>\n\n<p>The only built-in way to use <code>@Expose</code> is by setting <code>GsonBuilder.excludeFieldsWithoutExposeAnnotation()</code>, but as the name indicates, fields without an explicit <code>@Expose</code> are ignored. As I only had a few fields I wanted to exclude, I found the prospect of adding the annotation to every field very cumbersome.</p>\n\n<p>I effectively wanted the inverse, in which everything was included unless I explicitly used <code>@Expose</code> to exclude it. I used the following exclusion strategies to accomplish this:</p>\n\n<pre><code>new GsonBuilder()\n        .addSerializationExclusionStrategy(new ExclusionStrategy() {\n            @Override\n            public boolean shouldSkipField(FieldAttributes fieldAttributes) {\n                final Expose expose = fieldAttributes.getAnnotation(Expose.class);\n                return expose != null &amp;&amp; !expose.serialize();\n            }\n\n            @Override\n            public boolean shouldSkipClass(Class&lt;?&gt; aClass) {\n                return false;\n            }\n        })\n        .addDeserializationExclusionStrategy(new ExclusionStrategy() {\n            @Override\n            public boolean shouldSkipField(FieldAttributes fieldAttributes) {\n                final Expose expose = fieldAttributes.getAnnotation(Expose.class);\n                return expose != null &amp;&amp; !expose.deserialize();\n            }\n\n            @Override\n            public boolean shouldSkipClass(Class&lt;?&gt; aClass) {\n                return false;\n            }\n        })\n        .create();\n</code></pre>\n\n<p>Now I can easily exclude a few fields with <code>@Expose(serialize = false)</code> or <code>@Expose(deserialize = false)</code> annotations (note that the default value for both <code>@Expose</code> attributes is <code>true</code>). You can of course use <code>@Expose(serialize = false, deserialize = false)</code>, but that is more concisely accomplished by declaring the field <code>transient</code> instead (which does still take effect with these custom exclusion strategies).</p>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/17733569#17733569", "question_id": 4802887, "answer_id": 17733569}, {"body": "<p>You can explore the json tree with gson.</p>\n\n<p>Try something like this : </p>\n\n<pre><code>gson.toJsonTree(student).getAsJsonObject()\n.get(\"country\").getAsJsonObject().remove(\"name\");\n</code></pre>\n\n<p>You can add some properties also :</p>\n\n<pre><code>gson.toJsonTree(student).getAsJsonObject().addProperty(\"isGoodStudent\", false);\n</code></pre>\n\n<p>Tested with gson 2.2.4.</p>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/21597403#21597403", "question_id": 4802887, "answer_id": 21597403}, {"body": "<p>After reading all available answers I found out, that most flexible, in my case, was to use custom <code>@Exclude</code> annotation. So, I implemented simple strategy for this (I didn't want to mark all fields using <code>@Expose</code> nor I wanted to use <code>transient</code> which conflicted with in app <code>Serializable</code> serialization) :</p>\n\n<p>Annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Exclude {\n}\n</code></pre>\n\n<p>Strategy:</p>\n\n<pre><code>public class AnnotationExclusionStrategy implements ExclusionStrategy {\n\n    @Override\n    public boolean shouldSkipField(FieldAttributes f) {\n        return f.getAnnotation(Exclude.class) != null;\n    }\n\n    @Override\n    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>new GsonBuilder().setExclusionStrategies(new AnnotationExclusionStrategy()).create();\n</code></pre>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/27986860#27986860", "question_id": 4802887, "answer_id": 27986860}, {"body": "<p>Another approach (especially useful if you need to make a decision to exclude a field at runtime) is to register a TypeAdapter with your gson instance. Example below:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n.registerTypeAdapter(BloodPressurePost.class, new BloodPressurePostSerializer())\n</code></pre>\n\n<p>In the case below, the server would expect one of two values but since they were both ints then gson would serialize them both. My goal was to omit any value that is zero (or less) from the json that is posted to the server.</p>\n\n<pre><code>public class BloodPressurePostSerializer implements JsonSerializer&lt;BloodPressurePost&gt; {\n\n    @Override\n    public JsonElement serialize(BloodPressurePost src, Type typeOfSrc, JsonSerializationContext context) {\n        final JsonObject jsonObject = new JsonObject();\n\n        if (src.systolic &gt; 0) {\n            jsonObject.addProperty(\"systolic\", src.systolic);\n        }\n\n        if (src.diastolic &gt; 0) {\n            jsonObject.addProperty(\"diastolic\", src.diastolic);\n        }\n\n        jsonObject.addProperty(\"units\", src.units);\n\n        return jsonObject;\n    }\n}\n</code></pre>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/32251304#32251304", "question_id": 4802887, "answer_id": 32251304}, {"body": "<p>I used this strategy: \ni excluded every field which is <strong>not</strong> marked with <strong>@SerializedName</strong> annotation, i.e.:</p>\n\n<pre><code>public class Dummy {\n\n    @SerializedName(\"VisibleValue\")\n    final String visibleValue;\n    final String hiddenValue;\n\n    public Dummy(String visibleValue, String hiddenValue) {\n        this.visibleValue = visibleValue;\n        this.hiddenValue = hiddenValue;\n    }\n}\n\n\npublic class SerializedNameOnlyStrategy implements ExclusionStrategy {\n\n    @Override\n    public boolean shouldSkipField(FieldAttributes f) {\n        return f.getAnnotation(SerializedName.class) == null;\n    }\n\n    @Override\n    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n        return false;\n    }\n}\n\n\nGson gson = new GsonBuilder()\n                .setExclusionStrategies(new SerializedNameOnlyStrategy())\n                .create();\n\nDummy dummy = new Dummy(\"I will see this\",\"I will not see this\");\nString json = gson.toJson(dummy);\n</code></pre>\n\n<p>It returns</p>\n\n<blockquote>\n  <p>{\"VisibleValue\":\"I will see this\"}</p>\n</blockquote>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/38481054#38481054", "question_id": 4802887, "answer_id": 38481054}, {"body": "<p>I solved this problem with custom annotations.\nThis is my \"SkipSerialisation\" Annotation class: </p>\n\n<pre><code>@Target (ElementType.FIELD)\npublic @interface SkipSerialisation {\n\n}\n</code></pre>\n\n<p>and this is my GsonBuilder:</p>\n\n<pre><code>gsonBuilder.addSerializationExclusionStrategy(new ExclusionStrategy() {\n\n  @Override public boolean shouldSkipField (FieldAttributes f) {\n\n    return f.getAnnotation(SkipSerialisation.class) != null;\n\n  }\n\n  @Override public boolean shouldSkipClass (Class&lt;?&gt; clazz) {\n\n    return false;\n  }\n});\n</code></pre>\n\n<p>Example :</p>\n\n<pre><code>public class User implements Serializable {\n\n  public String firstName;\n\n  public String lastName;\n\n  @SkipSerialisation\n  public String email;\n}\n</code></pre>\n", "title": "Gson: How to exclude specific fields from Serialization without annotations", "tags": ["java", "json", "serialization", "gson"], "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations/39447327#39447327", "question_id": 4802887, "answer_id": 39447327}], "creation_date": 1296033591, "score": 229, "link": "http://stackoverflow.com/questions/4802887/gson-how-to-exclude-specific-fields-from-serialization-without-annotations", "question_id": 4802887}, {"body": "<ol>\n<li><p><code>a</code> can only be final here.  Why?  How can I reassign <code>a</code> in <code>onClick()</code> method without keeping it as private member?</p>\n\n<pre><code>private void f(Button b, final int a){\n        b.addClickHandler(new ClickHandler() {\n\n            @Override\n            public void onClick(ClickEvent event) {\n                int b = a*5;\n\n            }\n        });\n}\n</code></pre></li>\n<li><p>How can I return the <code>5*a</code> when it clicked? I mean,</p>\n\n<pre><code>private void f(Button b, final int a){\n        b.addClickHandler(new ClickHandler() {\n\n            @Override\n            public void onClick(ClickEvent event) {\n                 int b = a*5;\n                 return b; // but return type is void \n            }\n        });\n}\n</code></pre></li>\n</ol>\n", "tags": ["java", "event-handling", "anonymous-class"], "title": "Why are only final variables accessible in anonymous class?", "answers": [{"body": "<p>There is a trick that allows anonymous class to update data in the outer scope.</p>\n\n<pre><code>private void f(Button b, final int a) {\n    final int[] res = new int[1];\n    b.addClickHandler(new ClickHandler() {\n        @Override\n        public void onClick(ClickEvent event) {\n            res[0] = a*5;\n        }\n    });\n\n    // But at this point handler is most likely not executed yet!\n    // How should we now res[0] is ready?\n}\n</code></pre>\n\n<p>However, this trick is not very good due to the synchronization issues. If handler is invoked later, you need to 1) synchronize access to res if handler was invoked from the different thread 2) need to have some sort of flag or indication that res was updated</p>\n\n<p>This trick works OK, though, if anonymous class is invoked in the same thread immediately. Like:</p>\n\n<pre><code>...\nfinal int[] res = new int[1];\nRunnable r = new Runnable() { public void run() { res[0] = 123; } };\nr.run();\nSystem.out.println(res[0]);\n...\n</code></pre>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732586#4732586", "question_id": 4732544, "answer_id": 4732586}, {"body": "<p>You can create a class level variable to get returned value. I mean</p>\n\n<pre><code>class A {\nint k=0;\n       private void f(IButton b, int a){\n        b.addClickHandler(new ClickHandler() {\n        @Override\n        public void onClick(ClickEvent event) {\n            // TODO Auto-generated method stub\n            k = a*5;\n        }\n        });\n}\n</code></pre>\n\n<p>now you can get value of K and use it where you want.</p>\n\n<p><strong>Answer of your why is :</strong> </p>\n\n<p>A local inner class instance is tied to Main class and can access the final local variables of its containing method. When the instance uses a final local of its containing method, the variable retains the value it held at the time of the instance's creation, even if the variable has gone out of scope (this is effectively Java's crude, limited version of closures).</p>\n\n<p>Because a local inner class is neither the member of a class or package, it is not declared with an access level. (Be clear, however, that its own members have access levels like in a normal class.)</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732616#4732616", "question_id": 4732544, "answer_id": 4732616}, {"body": "<p>As noted in comments, some of this becomes irrelevant in Java 8, where <code>final</code> can be implicit. Only an <em>effectively</em> final variable can be used in an anonymous inner class or lambda expression though.</p>\n\n<hr>\n\n<p>It's basically due to the way Java manages <a href=\"http://en.wikipedia.org/wiki/Closure_%28computer_science%29\">closures</a>.</p>\n\n<p>When you create an instance of an anonymous inner class, any variables which are used within that class have their <em>values</em> copied in via the autogenerated constructor. This avoids the compiler having to autogenerate various extra types to hold the logical state of the \"local variables\", as for example the C# compiler does... (When C# captures a variable in an anonymous function, it really captures the variable - the closure can update the variable in a way which is seen by the main body of the method, and vice versa.)</p>\n\n<p>As the value has been copied into the instance of the anonymous inner class, it would look odd if the variable could be modified by the rest of the method - you could have code which appeared to be working with an out-of-date variable (because that's effectively what <em>would</em> be happening... you'd be working with a copy taken at a different time). Likewise if you could make changes within the anonymous inner class, developers might expect those changes to be visible within the body of the enclosing method.</p>\n\n<p>Making the variable final removes all these possibilities - as the value can't be changed  at all, you don't need to worry about whether such changes will be visible. The only ways to allow the method and the anonymous inner class see each other's changes is to use a mutable type of some description. This could be the enclosing class itself, an array, a mutable wrapper type... anything like that. Basically it's a bit like communicating between one method and another: changes made to the <em>parameters</em> of one method aren't seen by its caller, but changes made to the objects <em>referred to</em> by the parameters are seen.</p>\n\n<p>If you're interested in a more detailed comparison between Java and C# closures, I have an <a href=\"http://csharpindepth.com/Articles/Chapter5/Closures.aspx\">article</a> which goes into it further. I wanted to focus on the Java side in this answer :)</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732617#4732617", "question_id": 4732544, "answer_id": 4732617}, {"body": "<p>Methods within an anonomyous inner class may be invoked well after the thread that spawned it has terminated. In your example, the inner class will be invoked on the event dispatch thread and not in the same thread as that which created it. Hence, the scope of the variables will be different. So to protect such variable assignment scope issues you must declare them final.</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732638#4732638", "question_id": 4732544, "answer_id": 4732638}, {"body": "<p>Well, in Java, a variable can be final not just as a parameter, but as a class-level field, like</p>\n\n<pre><code>public class Test\n{\n public final int a = 3;\n</code></pre>\n\n<p>or as a local variable, like</p>\n\n<pre><code>public static void main(String[] args)\n{\n final int a = 3;\n</code></pre>\n\n<p>If you want to access and modify a variable from an anonymous class, you might want to make the variable a <strong>class-level</strong> variable in the <strong>enclosing</strong> class.</p>\n\n<pre><code>public class Test\n{\n public int a;\n public void doSomething()\n {\n  Runnable runnable =\n   new Runnable()\n   {\n    public void run()\n    {\n     System.out.println(a);\n     a = a+1;\n    }\n   };\n }\n}\n</code></pre>\n\n<p>You can't have a variable as final <strong>and</strong> give it a new value. <code>final</code> means just that: the value is unchangeable and final.</p>\n\n<p>And since it's final, Java can safely <strong>copy</strong> it to local anonymous classes. You're not getting some <em>reference</em> to the int (especially since you can't have references to primitives like int in Java, just references to <strong>Objects</strong>).</p>\n\n<p>It just copies over the value of a into an implicit int called a in your anonymous class.</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732711#4732711", "question_id": 4732544, "answer_id": 4732711}, {"body": "<p>An anonymous class is an <em>inner class</em> and the strict rule applies to <em>inner classes</em> <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.1.3\">(JLS 8.1.3)</a>:</p>\n\n<blockquote>\n  <p>Any local variable, formal method parameter or exception handler parameter used but not declared in an inner class <strong>must be declared final</strong>. Any local variable, used but not declared in an inner class <strong>must be definitely assigned before the body of the inner class</strong>.</p>\n</blockquote>\n\n<p>I haven't found a reason or an explanation on the jls or jvms yet, but we do know, that the compiler creates a separate class file for each inner class and it has to make sure, that the methods declared on this class file (on byte code level) at least have access to the values of local variables.</p>\n\n<p>(<a href=\"http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732617#4732617\">Jon has the complete answer</a> - I keep this one undeleted because one might interested in the JLS rule)</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/4732762#4732762", "question_id": 4732544, "answer_id": 4732762}, {"body": "<pre><code>private void f(Button b, final int a[]) {\n\n    b.addClickHandler(new ClickHandler() {\n\n        @Override\n        public void onClick(ClickEvent event) {\n            a[0] = a[0] * 5;\n\n        }\n    });\n}\n</code></pre>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/7219749#7219749", "question_id": 4732544, "answer_id": 7219749}, {"body": "<p>Maybe this trick gives u an idea</p>\n\n<pre><code>Boolean var= new anonymousClass(){\n    private String myVar; //String for example\n    @Overriden public Boolean method(int i){\n          //use myVar and i\n    }\n    public String setVar(String var){myVar=var; return this;} //Returns self instane\n}.setVar(\"Hello\").method(3);\n</code></pre>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/11697533#11697533", "question_id": 4732544, "answer_id": 11697533}, {"body": "<p>The reason why the access has been restricted only to the local final variables is that if all the local variables would be made accessible then they would first required to be copied to a separate section where inner classes can have access to them and maintaining multiple copies of mutable local variables may lead to inconsistent data. Whereas final variables are immutable and hence any number of copies to them will not have any impact on the consistency of data.</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/18555594#18555594", "question_id": 4732544, "answer_id": 18555594}, {"body": "<p>When an anonymous inner class is defined within the body of a method, all variables declared final in the scope of that method are accessible from within the inner class. For scalar values, once it has been assigned, the value of the final variable cannot change. For object values, the reference cannot change. This allows the Java compiler to \"capture\" the value of the variable at run-time and store a copy as a field in the inner class. Once the outer method has terminated and its stack frame has been removed, the original variable is gone but the inner class's private copy persists in the class's own memory.</p>\n\n<p>(<a href=\"http://en.wikipedia.org/wiki/Final_%28Java%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Final_%28Java%29</a>)</p>\n", "title": "Why are only final variables accessible in anonymous class?", "tags": ["java", "event-handling", "anonymous-class"], "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class/28561328#28561328", "question_id": 4732544, "answer_id": 28561328}], "creation_date": 1295420322, "score": 222, "link": "http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class", "question_id": 4732544}, {"body": "<p>How do I set up IntelliJ IDEA for Android applications?</p>\n", "tags": ["java", "android", "intellij-idea"], "title": "How do I set up IntelliJ IDEA for Android applications?", "answers": [{"body": "<p>I've spent a day on trying to put all the pieces together, been in hundreds of sites and tutorials, but they all skip trivial steps.</p>\n\n<p>So here's the full guide:</p>\n\n<ol>\n<li>Download and install <strong>Java JDK</strong> (<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">Choose the Java platform</a>)  </li>\n<li>Download and install <strong>Android SDK</strong> (<a href=\"http://developer.android.com/sdk/index.html\">Installer is recommended</a>)  </li>\n<li>After android SD finishes installing, open <strong>SDK Manager</strong> under <strong>Android SDK Tools</strong> (sometimes needs to be opened under admin's privileges)</li>\n<li>Choose everything and mark <strong>Accept All</strong> and install.</li>\n<li>Download and install <strong>IntelliJ IDEA</strong> (<a href=\"http://www.jetbrains.com/idea/download/index.html\">The community edition is free</a>)  </li>\n<li>Wait for all downloads and installations and stuff to finish.  </li>\n</ol>\n\n<p><strong>New Project:</strong> </p>\n\n<ol>\n<li>Run <strong>IntelliJ</strong>  </li>\n<li>Create a new project (there's a <a href=\"http://wiki.jetbrains.net/intellij/Developing_applications_for_Android_in_IntelliJ_IDEA\">tutorial here</a>)  </li>\n<li>Enter the name, choose <strong>Android</strong> type.</li>\n<li>There's a step missing in the tutorial, when you are asked to choose the <strong>JDK</strong> (before choosing the SDK) you need to choose the <strong>Java JDK</strong> you've installed earlier. Should be under <code>C:\\Program Files\\Java\\jdk{version}</code></li>\n<li>Choose a New platform ( if there's not one selected ) , the SDK platform is the android platform at <code>C:\\Program Files\\Android\\android-sdk-windows</code>.</li>\n<li>Choose the android version.</li>\n<li>Now you can write your program.</li>\n</ol>\n\n<p><strong>Compiling:</strong></p>\n\n<ol>\n<li>Near the <strong>Run</strong> button you need to select the drop-down-list, choose <strong>Edit Configurations</strong>  </li>\n<li>In the <strong>Prefer Android Virtual device</strong> select the <strong>...</strong> button</li>\n<li>Click on create, give it a name, press OK.  </li>\n<li>Double click the new device to choose it.  </li>\n<li>Press OK.  </li>\n<li>You're ready to run the program.</li>\n</ol>\n", "title": "How do I set up IntelliJ IDEA for Android applications?", "tags": ["java", "android", "intellij-idea"], "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications/5271194#5271194", "question_id": 5271182, "answer_id": 5271194}, {"body": "<p>The 5th step in \"New Project' has apparently changed slightly since.</p>\n\n<p>Where it says android sdk then has the drop down menu that says none, there is no longer a 'new' button.</p>\n\n<ul>\n<li><p>5.)</p>\n\n<ul>\n<li>a.)click the ... to the right of none.</li>\n<li>b.)click the + in the top left of new window dialog.  (Add new \nSdk)</li>\n<li>c.)click android sdk from drop down menu</li>\n<li>d.)select home directory for your android sdk</li>\n<li>e.)select java sdk version you want to use</li>\n<li>f.)select android build target.</li>\n<li>g.)hit ok!</li>\n</ul></li>\n</ul>\n", "title": "How do I set up IntelliJ IDEA for Android applications?", "tags": ["java", "android", "intellij-idea"], "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications/7070047#7070047", "question_id": 5271182, "answer_id": 7070047}, {"body": "<p>Once I have followed all these steps, I start to receive error messages in all android classes calls like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/avcLu.png\" alt=\"Cannot resolve Android Classes\"></p>\n\n<p>I revolved that including android.jar in the SDKs Platform Settings:</p>\n\n<p><img src=\"http://i.stack.imgur.com/UampT.png\" alt=\"SKDs Classpath\"></p>\n", "title": "How do I set up IntelliJ IDEA for Android applications?", "tags": ["java", "android", "intellij-idea"], "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications/14911366#14911366", "question_id": 5271182, "answer_id": 14911366}, {"body": "<p>Just in case someone is lost. For both new application or existing ones go to File->Project Structure. Then in Project settings on the left pane select Project for the Java SDK and select Modules for Android SDK.</p>\n", "title": "How do I set up IntelliJ IDEA for Android applications?", "tags": ["java", "android", "intellij-idea"], "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications/16066780#16066780", "question_id": 5271182, "answer_id": 16066780}, {"body": "<p>I had some issues that this didn't address in getting this environment set up on OSX. It had to do with the solution that I was maintaining having additional dependencies on some of the Google APIs. It wasn't enough to just download and install the items listed in the first response.</p>\n\n<p>You have to download these. </p>\n\n<ol>\n<li>Run <strong>Terminal</strong></li>\n<li>Navigate to the android/sdk directory</li>\n<li>Type \"android\" You will get a gui. Check the \"Tools\" directory and the latest Android API (at this time, it's 4.3 (API 18)).</li>\n<li>Click \"Install xx packages\" and go watch an episode of Breaking Bad or something. It'll take a while. </li>\n<li>Go back to IntelliJ and open the \"Project Structure...\" dialog (Cmd+;). </li>\n<li>In the left panel of the dialog, under \"Project Settings,\" select Project. In the right panel, under \"Project SDK,\" click \"New...\" > Android SDK and navigate to your android/sdk directory. Choose this and you will be presented with a dialog with which you can add the \"Google APIs\" build target. This is what I needed. You may need to do this more than once if you have multiple version targets. </li>\n<li>Now, under the left pane \"Modules,\" with your project selected in the center pane, select the appropriate module under the \"Dependencies\" tab in the right pane. </li>\n</ol>\n", "title": "How do I set up IntelliJ IDEA for Android applications?", "tags": ["java", "android", "intellij-idea"], "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications/18731299#18731299", "question_id": 5271182, "answer_id": 18731299}, {"body": "<p>You just need to install Android development kit from <a href=\"http://developer.android.com/sdk/installing/studio.html#Updating\" rel=\"nofollow\">http://developer.android.com/sdk/installing/studio.html#Updating</a></p>\n\n<p>and also Download and install Java JDK (Choose the Java platform)</p>\n\n<p>define the environment variable in windows System setting <a href=\"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows\" rel=\"nofollow\">https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows</a></p>\n\n<p>Voila ! You are Donezo !</p>\n", "title": "How do I set up IntelliJ IDEA for Android applications?", "tags": ["java", "android", "intellij-idea"], "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications/23611560#23611560", "question_id": 5271182, "answer_id": 23611560}], "creation_date": 1299835981, "score": 219, "link": "http://stackoverflow.com/questions/5271182/how-do-i-set-up-intellij-idea-for-android-applications", "question_id": 5271182}, {"body": "<p>I've been working with JPA (implementation Hibernate) for some time now and each time I need to create entities I find myself struggling with issues as AccessType, immutable properties, equals/hashCode, ... .<br>\nSo I decided to try and find out the general best practice for each issue and write this down for personal use.<br>\nI would not mind however for anyone to comment on it or to tell me where I'm wrong.</p>\n\n<h2>Entity Class</h2>\n\n<ul>\n<li><p>implement Serializable  </p>\n\n<p>Reason: <em>The specification says you have to, but some JPA providers do not enforce this. Hibernate as JPA provider does not enforce this, but it can fail somewhere deep in its stomach with ClassCastException, if Serializable has not been implemented.</em></p></li>\n</ul>\n\n<h2>Constructors</h2>\n\n<ul>\n<li><p>create a constructor with all required fields of the entity </p>\n\n<p><em>Reason: A constructor should always leave the instance created in a sane state.</em>  </p></li>\n<li><p>besides this constructor: have a package private default constructor  </p>\n\n<p><em>Reason: Default constructor is required to have Hibernate initialize the entity; private is allowed but package private (or public) visibility is required for runtime proxy generation and efficient data retrieval without bytecode instrumentation.</em></p></li>\n</ul>\n\n<h2>Fields/Properties</h2>\n\n<ul>\n<li><p>Use field access in general and property access when needed  </p>\n\n<p><em>Reason:  this is probably the most debatable issue since there are no clear and convincing  arguments for one or the other (property access vs field access); however, field access seems to be general favourite because of clearer code, better encapsulation and no need to create setters for immutable fields</em> </p></li>\n<li><p>Omit setters for immutable fields (not required for access type field)</p></li>\n<li>properties may be private<br>\nReason: I once heard that protected is better for (Hibernate) performance but all I can find on the web is: <em>Hibernate can access public, private, and protected accessor methods, as well as public, private and protected fields directly. The choice is up to you and you can match it to fit your application design.</em></li>\n</ul>\n\n<h2>Equals/hashCode</h2>\n\n<ul>\n<li>Never use a generated id if this id is only set when persisting the entity</li>\n<li>By preference: use immutable values to form a unique Business Key and use this to test equality</li>\n<li>if a unique Business Key is not available use a non-transient UUID which is created when the entity is initialized</li>\n<li><strong>never</strong> refer to related entities (ManyToOne); if this entity (like a parent entity) needs to be part of the Business Key then compare the ID's only. Calling getId() on a proxy will not trigger the loading of the entity, as long as you're using <a href=\"http://stackoverflow.com/questions/3736818/hibernate-generating-sql-queries-when-accessing-associated-entitys-id/3739197#3739197\">property access type</a>.</li>\n</ul>\n\n<h2>Example Entity</h2>\n\n<pre><code>@Entity\n@Table(name = \"ROOM\")\npublic class Room implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue\n    @Column(name = \"room_id\")\n    private Integer id;\n\n    @Column(name = \"number\") \n    private String number; //immutable\n\n    @Column(name = \"capacity\")\n    private Integer capacity;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"building_id\")\n    private Building building; //immutable\n\n    Room() {\n        // default constructor\n    }\n\n    public Room(Building building, String number) {\n        // constructor with required field\n        notNull(building, \"Method called with null parameter (application)\");\n        notNull(number, \"Method called with null parameter (name)\");\n\n        this.building = building;\n        this.number = number;\n    }\n\n    @Override\n    public boolean equals(final Object otherObj) {\n        if ((otherObj == null) || !(otherObj instanceof Room)) {\n            return false;\n        }\n        // a room can be uniquely identified by it's number and the building it belongs to\n        final Room other = (Room) otherObj;\n        return new EqualsBuilder().append(getNumber(), other.getNumber())\n                .append(getBuilding().getId(), other.getBuilding().getId())\n                .isEquals();\n        //this assumes that Building.id is annotated with @Access(value = AccessType.PROPERTY) \n    }\n\n    public Building getBuilding() {\n        return building;\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    @Override\n    public int hashCode() {\n        return new HashCodeBuilder().append(getNumber()).append(getBuilding().getId()).toHashCode();\n    }\n\n    public void setCapacity(Integer capacity) {\n        this.capacity = capacity;\n    }\n\n//no setters for number, building nor id\n    }\n</code></pre>\n\n<p>Other suggestions to add to this list are more than welcome...</p>\n", "tags": ["java", "hibernate", "jpa", "equals", "java-persistence-api"], "title": "Create the perfect JPA entity", "answers": [{"body": "<p>The <a href=\"http://www.jcp.org/en/jsr/detail?id=317\">JPA 2.0 Specification</a> states that:</p>\n\n<blockquote>\n  <ul>\n  <li>The entity class must have a no-arg constructor. It may have other constructors as well. The no-arg constructor must be public or protected.</li>\n  <li>The entity class must a be top-level class. An enum or interface must not    be\n  designated as an entity.</li>\n  <li>The entity class must not be final. No methods or persistent instance variables of the entity class may be final.</li>\n  <li><strong>If an entity instance is to be passed by value as a detached object</strong> (e.g., through a remote interface), the entity class must implement the Serializable interface.</li>\n  <li>Both abstract and concrete classes can be entities. Entities may extend non-entity classes as well as entity classes, and non-entity classes may extend entity classes.</li>\n  </ul>\n</blockquote>\n\n<p>The specification contains no requirements about the implementation of equals and hashCode methods for entities, only for primary key classes and map keys as far as I know.</p>\n", "title": "Create the perfect JPA entity", "tags": ["java", "hibernate", "jpa", "equals", "java-persistence-api"], "link": "http://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity/6034403#6034403", "question_id": 6033905, "answer_id": 6034403}, {"body": "<p>After expressing my admiration to the Stijns semi-comprehensive list, 2 corrections are:</p>\n\n<ol>\n<li><p>With reference to Field or Property access (away from performance considerations) both are legitimately accessed by means of getters and setters, thus, my model logic can set/get them in the same manner. \nThe difference comes to play when the persistence runtime provider (Hibernate, EclipseLink or else) needs to persist/set some record in Table A which has a foreign key referring to some column in Table B. In case of a Property access type, the persistence runtime system uses my coded setter method to assign the cell in Table B column a new value. In case of a Field access type, the persistence runtime system sets the cell in Table B column directly. \nThis difference is not of importance in the context of a uni-directional relationship, yet it is a MUST to use my own coded setter method (Property access type) for a bi-directional relationship provided the setter method is well designed to account for consistency. Consistency is a critical issue for bi-directional relationships refer to this <a href=\"http://meri-stuff.blogspot.com/2012/03/jpa-tutorial.html#RelationshipsOneToOneConsistency\">link</a> for a simple example for a well-designed setter.</p></li>\n<li><p>With reference to Equals/hashCode: It is impossible to use the Eclipse auto-generated Equals/hashCode methods for entities participating in a bi-directional relationship, otherwise they will have a circular reference resulting in a stackoverflow Exception. Once you try a bidirectional relationship (say OneToOne) and auto-generate Equals() or hashCode() or even toString() you will get caught in this stackoverflow exception. </p></li>\n</ol>\n", "title": "Create the perfect JPA entity", "tags": ["java", "hibernate", "jpa", "equals", "java-persistence-api"], "link": "http://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity/13105380#13105380", "question_id": 6033905, "answer_id": 13105380}, {"body": "<p>I'll try to answer several key points:  this is from long Hibernate/ persistence experience including several major applications.</p>\n\n<p><strong>Entity Class: implement Serializable?</strong></p>\n\n<p><em>Keys</em> needs to implement Serializable. Stuff that's going to go in the HttpSession, or be sent over the wire by RPC/Java EE, needs to implement Serializable. Other stuff: not so much. Spend your time on what's important.</p>\n\n<p><strong>Constructors: create a constructor with all required fields of the entity?</strong></p>\n\n<p>Constructor(s) for application logic, should have only a few critical \"foreign key\" or \"type/kind\" fields which will always be known when creating the entity. The rest should be set by calling the setter methods -- that's what they're for.</p>\n\n<p>Avoid putting too many fields into constructors. Constructors should be convenient, and give basic sanity to the object. Name, Type and/or Parents are all typically useful.</p>\n\n<p>OTOH if application rules (today) require a Customer to have an Address, leave that to a setter. That is an example of a \"weak rule\". Maybe next week, you want to create a Customer object before going to the Enter Details screen?  Don't trip yourself up, leave possibility for unknown, incomplete or \"partially entered\" data.</p>\n\n<p><strong>Constructors: also, package private default constructor?</strong></p>\n\n<p>Yes, but use 'protected' rather than package private. Subclassing stuff is a real pain when the necessary internals are not visible.</p>\n\n<p><strong>Fields/Properties</strong></p>\n\n<p>Use 'property' field access for Hibernate, and from outside the instance. Within the instance, use the fields directly. Reason:  allows standard reflection, the simplest &amp; most basic method for Hibernate, to work.</p>\n\n<p>As for fields 'immutable' to the application -- Hibernate still needs to be able to load these. You could try making these methods 'private', and/or put an annotation on them, to prevent application code making unwanted access.</p>\n\n<p>Note:  when writing an equals() function, use getters for values on the 'other' instance! Otherwise, you'll hit uninitialized/ empty fields on proxy instances.</p>\n\n<p><strong>Protected is better for (Hibernate) performance?</strong></p>\n\n<p>Unlikely.</p>\n\n<p><strong>Equals/HashCode?</strong></p>\n\n<p>This is relevant to working with entities, before they've been saved -- which is a thorny issue. Hashing/comparing on immutable values? In most business applications, there aren't any.</p>\n\n<p>A customer can change address, change the name of their business, etc etc -- not common, but it happens. Corrections also need to be possible to make, when the data was not entered correctly.</p>\n\n<p>The few things that are normally kept immutable, are Parenting and perhaps Type/Kind -- normally the user recreates the record, rather than changing these. But these do not uniquely identify the entity!</p>\n\n<p>So, long and short, the claimed \"immutable\" data isn't really. Primary Key/ ID fields are generated for the precise purpose, of providing such guaranteed stability &amp; immutability.</p>\n\n<p>You need to plan &amp; consider your need for comparison &amp; hashing &amp; request-processing work phases when A) working with \"changed/ bound data\" from the UI if you compare/hash on \"infrequently changed fields\", or B) working with \"unsaved data\", if you compare/hash on ID.</p>\n\n<p><strong>Equals/HashCode -- if a unique Business Key is not available, use a non-transient UUID which is created when the entity is initialized</strong></p>\n\n<p>Yes, this is a good strategy when required. Be aware that UUIDs are not free, performance-wise though -- and clustering complicates things.</p>\n\n<p><strong>Equals/HashCode -- never refer to related entities</strong></p>\n\n<p>\"If related entity (like a parent entity) needs to be part of the Business Key then add a non insertable, non updatable field to store the parent id (with the same name as the ManytoOne JoinColumn) and use this id in the equality check\"</p>\n\n<p>Sounds like good advice.</p>\n\n<p>Hope this helps!</p>\n", "title": "Create the perfect JPA entity", "tags": ["java", "hibernate", "jpa", "equals", "java-persistence-api"], "link": "http://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity/14822709#14822709", "question_id": 6033905, "answer_id": 14822709}, {"body": "<p>Entity interface</p>\n\n<pre><code>public interface Entity&lt;I&gt; extends Serializable {\n\n/**\n * @return entity identity\n */\nI getId();\n\n/**\n * @return HashCode of entity identity\n */\nint identityHashCode();\n\n/**\n * @param other\n *            Other entity\n * @return true if identities of entities are equal\n */\nboolean identityEquals(Entity&lt;?&gt; other);\n}\n</code></pre>\n\n<p>Basic implementation for all Entities, simplifies Equals/Hashcode implementations:</p>\n\n<pre><code>public abstract class AbstractEntity&lt;I&gt; implements Entity&lt;I&gt; {\n\n@Override\npublic final boolean identityEquals(Entity&lt;?&gt; other) {\n    if (getId() == null) {\n        return false;\n    }\n    return getId().equals(other.getId());\n}\n\n@Override\npublic final int identityHashCode() {\n    return new HashCodeBuilder().append(this.getId()).toHashCode();\n}\n\n@Override\npublic final int hashCode() {\n    return identityHashCode();\n}\n\n@Override\npublic final boolean equals(final Object o) {\n    if (this == o) {\n        return true;\n    }\n    if ((o == null) || (getClass() != o.getClass())) {\n        return false;\n    }\n\n    return identityEquals((Entity&lt;?&gt;) o);\n}\n\n@Override\npublic String toString() {\n    return getClass().getSimpleName() + \": \" + identity();\n    // OR \n    // return ReflectionToStringBuilder.reflectionToString(this, ToStringStyle.MULTI_LINE_STYLE);\n}\n}\n</code></pre>\n\n<p>Room Entity impl: </p>\n\n<pre><code>@Entity\n@Table(name = \"ROOM\")\npublic class Room extends AbstractEntity&lt;Integer&gt; {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"room_id\")\nprivate Integer id;\n\n@Column(name = \"number\") \nprivate String number; //immutable\n\n@Column(name = \"capacity\")\nprivate Integer capacity;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = \"building_id\")\nprivate Building building; //immutable\n\nRoom() {\n    // default constructor\n}\n\npublic Room(Building building, String number) {\n    // constructor with required field\n    notNull(building, \"Method called with null parameter (application)\");\n    notNull(number, \"Method called with null parameter (name)\");\n\n    this.building = building;\n    this.number = number;\n}\n\npublic Integer getId(){\n    return id;\n}\n\npublic Building getBuilding() {\n    return building;\n}\n\npublic String getNumber() {\n    return number;\n}\n\n\npublic void setCapacity(Integer capacity) {\n    this.capacity = capacity;\n}\n\n//no setters for number, building nor id\n}\n</code></pre>\n\n<p>I don't see a point of comparing equality of entities based on business fields in every case of JPA Entities. That might be more of a case if these JPA entities are thought of as Domain-Driven ValueObjects, instead of Domain-Driven Entities (which these code examples are for).</p>\n", "title": "Create the perfect JPA entity", "tags": ["java", "hibernate", "jpa", "equals", "java-persistence-api"], "link": "http://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity/16897830#16897830", "question_id": 6033905, "answer_id": 16897830}], "creation_date": 1305648960, "score": 215, "link": "http://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity", "question_id": 6033905}, {"body": "<p>I have a maven program, it compiles fine.  When I run <code>mvn test</code> it does not run any tests (under TESTs header says <code>There are no tests to run.</code>).  </p>\n\n<p>I've recreated this problem with a super simple setup which I will include below as well as the output when run with <code>-X</code>.</p>\n\n<p>The unit tests run fine from eclipse (both with its default junit package and when I instead include the junit.jar downloaded by maven).  Also mvn <code>test-compile</code> correctly creates the class under test-classes.  I am running this on OSX 10.6.7 with Maven 3.0.2 and java 1.6.0_24.</p>\n\n<p>Here is the directory structure:</p>\n\n<pre><code>/my_program/pom.xml\n/my_program/src/main/java/ClassUnderTest.java\n/my_program/src/test/java/ClassUnderTestTests.java\n</code></pre>\n\n<p><strong>pom.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;my_group&lt;/groupId&gt;\n    &lt;artifactId&gt;my_program&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;My Program&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.5&lt;/source&gt;\n                    &lt;target&gt;1.5&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>ClassUnderTest.java:</strong></p>\n\n<pre><code>public class ClassUnderTest {\n\n    public int functionUnderTest(int n) {\n        return n;\n    }\n\n}\n</code></pre>\n\n<p><strong>ClassUnderTestTests.java:</strong></p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class ClassUnderTestTests {\n\n    private ClassUnderTest o;\n\n    @Before\n    public void setUp() {\n        o = new ClassUnderTest();\n    }\n\n    @Test\n    public void testFunctionUnderTest_testCase1() {\n        Assert.assertEquals(1, o.functionUnderTest(1));\n    }\n\n    @Test\n    public void testFunctionUnderTest_testCase2() {\n        Assert.assertEquals(2, o.functionUnderTest(2));\n    }\n}\n</code></pre>\n\n<p><strong>End of mvn -X test:</strong></p>\n\n<pre><code>[DEBUG] Configuring mojo org.apache.maven.plugins:maven-surefire-plugin:2.7.1:test from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-surefire-plugin:2.7.1, parent: sun.misc.Launcher$AppClassLoader@5224ee]\n[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-surefire-plugin:2.7.1:test' with basic configurator --&gt;\n[DEBUG]   (s) basedir = /Users/aaron/Programs/my_program\n[DEBUG]   (s) childDelegation = false\n[DEBUG]   (s) classesDirectory = /Users/aaron/Programs/my_program/target/classes\n[DEBUG]   (s) disableXmlReport = false\n[DEBUG]   (s) enableAssertions = true\n[DEBUG]   (s) forkMode = once\n[DEBUG]   (s) junitArtifactName = junit:junit\n[DEBUG]   (s) localRepository =        id: local\n      url: file:///Users/aaron/.m2/repository/\n   layout: none\n\n[DEBUG]   (f) parallelMavenExecution = false\n[DEBUG]   (s) pluginArtifactMap = {org.apache.maven.plugins:maven-surefire-plugin=org.apache.maven.plugins:maven-surefire-plugin:maven-plugin:2.7.1:, org.apache.maven.surefire:surefire-booter=org.apache.maven.surefire:surefire-booter:jar:2.7.1:compile, org.apache.maven.surefire:surefire-api=org.apache.maven.surefire:surefire-api:jar:2.7.1:compile, org.apache.maven.surefire:maven-surefire-common=org.apache.maven.surefire:maven-surefire-common:jar:2.7.1:compile, org.apache.maven.shared:maven-common-artifact-filters=org.apache.maven.shared:maven-common-artifact-filters:jar:1.3:compile, org.codehaus.plexus:plexus-utils=org.codehaus.plexus:plexus-utils:jar:2.0.5:compile, junit:junit=junit:junit:jar:3.8.1:compile, org.apache.maven.reporting:maven-reporting-api=org.apache.maven.reporting:maven-reporting-api:jar:2.0.9:compile}\n[DEBUG]   (s) printSummary = true\n[DEBUG]   (s) project = MavenProject: my_group:my_program:1.0-SNAPSHOT @ /Users/aaron/Programs/my_program/pom.xml\n[DEBUG]   (s) projectArtifactMap = {junit:junit=junit:junit:jar:4.8.1:test}\n[DEBUG]   (s) redirectTestOutputToFile = false\n[DEBUG]   (s) remoteRepositories = [       id: central\n      url: http://repo1.maven.org/maven2\n   layout: default\nsnapshots: [enabled =&gt; false, update =&gt; daily]\n releases: [enabled =&gt; true, update =&gt; never]\n]\n[DEBUG]   (s) reportFormat = brief\n[DEBUG]   (s) reportsDirectory = /Users/aaron/Programs/my_program/target/surefire-reports\n[DEBUG]   (s) session = org.apache.maven.execution.MavenSession@dfbb43\n[DEBUG]   (s) skip = false\n[DEBUG]   (s) skipTests = false\n[DEBUG]   (s) testClassesDirectory = /Users/aaron/Programs/my_program/target/test-classes\n[DEBUG]   (s) testFailureIgnore = false\n[DEBUG]   (s) testNGArtifactName = org.testng:testng\n[DEBUG]   (s) testSourceDirectory = /Users/aaron/Programs/my_program/src/test/java\n[DEBUG]   (s) trimStackTrace = true\n[DEBUG]   (s) useFile = true\n[DEBUG]   (s) useManifestOnlyJar = true\n[DEBUG]   (s) workingDirectory = /Users/aaron/Programs/my_program\n[DEBUG] -- end configuration --\n[INFO] Surefire report directory: /Users/aaron/Programs/my_program/target/surefire-reports\n[DEBUG] Setting system property [user.dir]=[/Users/aaron/Programs/my_program]\n[DEBUG] Setting system property [localRepository]=[/Users/aaron/.m2/repository]\n[DEBUG] Setting system property [basedir]=[/Users/aaron/Programs/my_program]\n[DEBUG] Using JVM: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10 for /Users/aaron/.m2/repository\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.7.1:compile (selected for compile)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.7.1:compile (selected for compile)\n[DEBUG] Adding to surefire booter test classpath: /Users/aaron/.m2/repository/org/apache/maven/surefire/surefire-booter/2.7.1/surefire-booter-2.7.1.jar Scope: compile\n[DEBUG] Adding to surefire booter test classpath: /Users/aaron/.m2/repository/org/apache/maven/surefire/surefire-api/2.7.1/surefire-api-2.7.1.jar Scope: compile\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10 for /Users/aaron/.m2/repository\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.apache.maven.surefire:surefire-junit4:jar:2.7.1:test (selected for test)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.7.1:test (selected for test)\n[DEBUG] Adding to surefire test classpath: /Users/aaron/.m2/repository/org/apache/maven/surefire/surefire-junit4/2.7.1/surefire-junit4-2.7.1.jar Scope: test\n[DEBUG] Adding to surefire test classpath: /Users/aaron/.m2/repository/org/apache/maven/surefire/surefire-api/2.7.1/surefire-api-2.7.1.jar Scope: test\n[DEBUG] Test Classpath :\n[DEBUG]   /Users/aaron/Programs/my_program/target/test-classes\n[DEBUG]   /Users/aaron/Programs/my_program/target/classes\n[DEBUG]   /Users/aaron/.m2/repository/junit/junit/4.8.1/junit-4.8.1.jar\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10 for /Users/aaron/.m2/repository\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.7.1:compile (selected for compile)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.7.1:compile (selected for compile)\n[DEBUG] Adding to surefire booter test classpath: /Users/aaron/.m2/repository/org/apache/maven/surefire/surefire-booter/2.7.1/surefire-booter-2.7.1.jar Scope: compile\n[DEBUG] Adding to surefire booter test classpath: /Users/aaron/.m2/repository/org/apache/maven/surefire/surefire-api/2.7.1/surefire-api-2.7.1.jar Scope: compile\nForking command line: /bin/sh -c cd /Users/aaron/Programs/my_program &amp;&amp; /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java -jar /Users/aaron/Programs/my_program/target/surefire/surefirebooter6118081963679415631.jar /Users/aaron/Programs/my_program/target/surefire/surefire4887918564882595612tmp /Users/aaron/Programs/my_program/target/surefire/surefire9012255138269731406tmp\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nThere are no tests to run.\n\nResults :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.089s\n[INFO] Finished at: Mon May 30 12:03:09 EDT 2011\n[INFO] Final Memory: 7M/62M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "title": "Maven does not find JUnit tests to run", "answers": [{"body": "<p>By default Maven uses the following naming conventions when looking for tests to run:</p>\n\n<ul>\n<li><code>Test*</code></li>\n<li><code>*Test</code></li>\n<li><code>*TestCase</code></li>\n</ul>\n\n<p>Your test class doesn't follow these conventions. You should rename it or <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes\">configure Maven Surefire Plugin</a> to use another pattern for test classes.</p>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/6178629#6178629", "question_id": 6178583, "answer_id": 6178629}, {"body": "<p>I also found that the unit test code should put under the test folder, it can not be recognized as test class if you put it under the main folder.\neg.</p>\n\n<p><strong>Wrong</strong></p>\n\n<pre><code>/my_program/src/main/java/NotTest.java\n</code></pre>\n\n<p><strong>Right</strong></p>\n\n<pre><code>/my_program/src/test/java/MyTest.java\n</code></pre>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/15835716#15835716", "question_id": 6178583, "answer_id": 15835716}, {"body": "<p>If you have a shared Java / Groovy application and all you have are Groovy unit tests, then Maven won't find any tests.  This can be fixed by adding one unit test under src/test/java.</p>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/22386142#22386142", "question_id": 6178583, "answer_id": 22386142}, {"body": "<p>Also, check if your test classes directory (e.g. src/test/java) corresponds to directory listed in property <code>&lt;testSourceDirectory&gt;</code> in your pom.xml under <code>&lt;build&gt;</code> property. Took me a while to find that.</p>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/26697563#26697563", "question_id": 6178583, "answer_id": 26697563}, {"body": "<p>Check that (for jUnit - 4.12 and Eclipse surefire plugin)</p>\n\n<ol>\n<li>Add required jUnit version in POM.xml in dependencies. Do Maven -> Update project to see required jars exported in project.</li>\n<li>Test class is under the folder src/test/java and subdirectories of this folder (or base folder can be specified in POM in config testSourceDirectory). Name of the class should have tailng word 'Test'.</li>\n<li>Test Method in the test class should have annotation @Test</li>\n</ol>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/27794697#27794697", "question_id": 6178583, "answer_id": 27794697}, {"body": "<p>Another thing that can cause Maven to not find the tests if if the module's packaging is not declared correctly.</p>\n\n<p>In a recent case, someone had <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> and my tests never ran. I changed it to <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code> and now it works fine.</p>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/30986134#30986134", "question_id": 6178583, "answer_id": 30986134}, {"body": "<p>Discovered if you prefix a test with 'Abstract' it will be ignored by default aswell.</p>\n", "title": "Maven does not find JUnit tests to run", "tags": ["java", "maven", "junit", "junit4", "maven-3"], "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run/33389106#33389106", "question_id": 6178583, "answer_id": 33389106}], "creation_date": 1306772433, "score": 211, "link": "http://stackoverflow.com/questions/6178583/maven-does-not-find-junit-tests-to-run", "question_id": 6178583}, {"body": "<p>Given a number:</p>\n\n<pre><code>int number = 1234;\n</code></pre>\n\n<p>Which would be the \"best\" way to convert this to a string:</p>\n\n<pre><code>String stringNumber = \"1234\";\n</code></pre>\n\n<hr>\n\n<p><sup>\nI have tried searching (googling) for an answer but no many seemed \"trustworthy\".\n</sup></p>\n", "tags": ["java", "string", "numbers", "int"], "title": "Java - Convert integer to string", "answers": [{"body": "<p>There are multiple ways:</p>\n\n<ul>\n<li><code>String.valueOf(number)</code> (my preference)</li>\n<li><code>\"\" + number</code> (I don't know how the compiler handles it, perhaps it is as efficient as the above)</li>\n<li><code>Integer.toString(number)</code></li>\n</ul>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/5071064#5071064", "question_id": 5071040, "answer_id": 5071064}, {"body": "<p>This will do. Pretty trustworthy. : )</p>\n\n<pre><code>    \"\"+number;\n</code></pre>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/5071072#5071072", "question_id": 5071040, "answer_id": 5071072}, {"body": "<p>Integer class has static method toString() - you can use it:</p>\n\n<pre><code>int i = 1234;\nString str = Integer.toString(i);\n</code></pre>\n\n<blockquote>\n  <p>Returns a String object representing the specified integer. The argument is converted to signed decimal representation and returned as a string, exactly as if the argument and radix 10 were given as arguments to the toString(int, int) method.</p>\n</blockquote>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/5071140#5071140", "question_id": 5071040, "answer_id": 5071140}, {"body": "<p>One that I use often:</p>\n\n<pre><code> Integer.parseInt(\"1234\");\n</code></pre>\n\n<p>Point is, there are plenty of ways to do this, all equally valid. As to which is most optimum/efficient, you'd have to ask someone else.</p>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/17581092#17581092", "question_id": 5071040, "answer_id": 17581092}, {"body": "<p>The way I know how to convert an integer into a string is by using the following code:</p>\n\n<pre><code>Integer.toString(int);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>String.valueOf(int);\n</code></pre>\n\n<p>If you had an integer i, and a string s, then the following would apply:</p>\n\n<pre><code>int i;\nString s = Integer.toString(i); or\nString s = String.valueOf(i);\n</code></pre>\n\n<p>If you wanted to convert a string \"s\" into an integer \"i\", then the following would work:</p>\n\n<pre><code>i = Integer.valueOf(s).intValue();\n</code></pre>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/18153278#18153278", "question_id": 5071040, "answer_id": 18153278}, {"body": "<p>This is the method which i used to convert the integer to string.Correct me if i did wrong.</p>\n\n<pre><code>/**\n * @param a\n * @return\n */\nprivate String convertToString(int a) {\n\n    int c;\n    char m;\n    StringBuilder ans = new StringBuilder();\n    // convert the String to int\n    while (a &gt; 0) {\n        c = a % 10;\n        a = a / 10;\n        m = (char) ('0' + c);\n        ans.append(m);\n    }\n    return ans.reverse().toString();\n}\n</code></pre>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/19627286#19627286", "question_id": 5071040, "answer_id": 19627286}, {"body": "<p>Always use either <code>String.valueOf(number)</code> or <code>Integer.toString(number)</code>.</p>\n\n<p>Using \"\" + number is an overhead and does the following:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"\");\nsb.append(number);\nreturn sb.toString();\n</code></pre>\n", "title": "Java - Convert integer to string", "tags": ["java", "string", "numbers", "int"], "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string/22547954#22547954", "question_id": 5071040, "answer_id": 22547954}], "creation_date": 1298320983, "score": 209, "link": "http://stackoverflow.com/questions/5071040/java-convert-integer-to-string", "question_id": 5071040}, {"body": "<p>Is it possible to pass a method into a Java method as a parameter? If so, could someone please guide me? This doesn't seem trivial</p>\n", "tags": ["java"], "title": "How to pass a function as a parameter in Java?", "answers": [{"body": "<p>Thanks to Java 8 you don't need to do the steps below to pass a function to a method, that's what lambdas are for, see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow\">Oracle's Lambda Expression tutorial</a>. The rest of this post describes what we used to have to do in the bad old days in order to implement this functionality.</p>\n\n<p>Typically you declare your method as taking some interface with a single method, then you pass in an object that implements that interface. An example is in commons-collections, where you have interfaces for Closure, Transformer, and Predicate, and methods that you pass implementations of those into. Guava is the new improved commons-collections, you can find equivalent interfaces there.</p>\n\n<p>So for instance, commons-collections has org.apache.commons.collections.CollectionUtils, which has lots of static methods that take objects passed in, to pick one at random, there's one called exists with this signature:</p>\n\n<pre><code>static boolean exists(java.util.Collection collection, Predicate predicate) \n</code></pre>\n\n<p>It takes an object that implements the interface Predicate, which means it has to have a method on it that takes some Object and returns a boolean.</p>\n\n<p>So I can call it like this:</p>\n\n<pre><code>CollectionUtils.exists(someCollection, new Predicate() {\n    public boolean evaluate(Object object) { \n        return (\"a\".equals(object.toString());\n    }\n});\n</code></pre>\n\n<p>and it returns true or false depending on whether <code>someCollection</code> contains an object that the predicate returns true for.</p>\n\n<p>Anyway, this is just an example, and commons-collections is outdated. I just forget the equivalent in Guava.</p>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/4685599#4685599", "question_id": 4685563, "answer_id": 4685599}, {"body": "<blockquote>\n  <p><strong>Note</strong>: The following answer suffices for versions of Java BEFORE Java 8. If you're using Java 8, look up 'java 8 lambda expressions'.\n  It is syntactic sugar for what I describe below.</p>\n</blockquote>\n\n<p>A common pattern would be to 'wrap' it within an interface, like <code>Callable</code>, for example, then you pass in a Callable:</p>\n\n<pre><code>public T myMethod(Callable&lt;T&gt; func) {\n    return func.call();\n}\n</code></pre>\n\n<p>This pattern is known as the <a href=\"http://en.wikipedia.org/wiki/Command_pattern\">Command Pattern</a>.</p>\n\n<p>Keep in mind you would be best off creating an interface for your particular usage. If you chose to go with callable, then you'd replace T above with whatever type of return value you expect, such as String.</p>\n\n<p>In response to your comment below you could say:</p>\n\n<pre><code>public int methodToPass() { \n        // do something\n}\n\npublic void dansMethod(int i, Callable&lt;Integer&gt; myFunc) {\n       // do something\n}\n</code></pre>\n\n<p>then call it, perhaps using an anonymous inner class:</p>\n\n<pre><code>dansMethod(100, new Callable&lt;Integer&gt;() {\n   public Integer call() {\n        return methodToPass();\n   }\n});\n</code></pre>\n\n<p>Keep in mind this is not a 'trick'. It's just java's basic conceptual equivalent to function pointers.</p>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/4685606#4685606", "question_id": 4685563, "answer_id": 4685606}, {"body": "<p>You could use Java reflection to do this.  The method would be represented as an instance of <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Method.html\">java.lang.reflect.Method.</a></p>\n\n<pre><code>import java.lang.reflect.Method;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception{\n        Class[] parameterTypes = new Class[1];\n        parameterTypes[0] = String.class;\n        Method method1 = Demo.class.getMethod(\"method1\", parameterTypes);\n\n        Demo demo = new Demo();\n        demo.method2(demo, method1, \"Hello World\");\n    }\n\n    public void method1(String message) {\n        System.out.println(message);\n    }\n\n    public void method2(Object object, Method method, String message) throws Exception {\n        Object[] parameters = new Object[1];\n        parameters[0] = message;\n        method.invoke(object, parameters);\n    }\n\n}\n</code></pre>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/4685609#4685609", "question_id": 4685563, "answer_id": 4685609}, {"body": "<p>Java does not (yet) support closures. But there are other languages like <a href=\"http://www.scala-lang.org/\" rel=\"nofollow\" title=\"Scala\">Scala</a> and Groovy which run in the JVM and do support closures.</p>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/4685623#4685623", "question_id": 4685563, "answer_id": 4685623}, {"body": "<p>Java supports closures just fine. It just doesn't support <em>functions</em>, so the syntax you're used to for closures is much more awkward and bulky: you have to wrap everything up in a class with a method. For example,</p>\n\n<pre><code>public Runnable foo(final int x) {\n  return new Runnable() {\n    public void run() {\n      System.out.println(x);\n    }\n  };\n}\n</code></pre>\n\n<p>Will return a Runnable object whose <code>run()</code> method \"closes over\" the <code>x</code> passed in, just like in any language that supports first-class functions and closures.</p>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/5279912#5279912", "question_id": 4685563, "answer_id": 5279912}, {"body": "<p>I used the command pattern that @jk. mentioned, adding a return type:</p>\n\n<pre><code>public interface Callable&lt;I, O&gt; {\n\n    public O call(I input);\n\n}\n</code></pre>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/12661823#12661823", "question_id": 4685563, "answer_id": 12661823}, {"body": "<p>I know this is a rather old post but I have another slightly simpler solution.\nYou could create another class within and make it abstract. Next make an Abstract method name it whatever you like. In the original class make a method that takes the new class as a parameter, in this method call the abstract method. It will look something like this.</p>\n\n<pre><code>public class Demo {\n\npublic Demo(/.../){\n\n}\n\n\npublic void view(Action a){\n    a.preform();\n}\n\n\n/**\n * The Action Class is for making the Demo\n * View Custom Code\n */\npublic abstract class Action {\n\n    public Action(/.../){\n\n    }\n\n    abstract void preform();\n}\n}\n</code></pre>\n\n<p>Now you can do something like this to call a method from within the class.</p>\n\n<pre><code>/...\nDemo d = new Demo;\nAction a = new Action() {\n\n    @Override\n    void preform() {\n        //Custom Method Code Goes Here\n    }\n};\n\n/.../\nd.view(a)\n</code></pre>\n\n<p>Like I said I know its old but this way I think is a little easier. Hope it helps.</p>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/18109826#18109826", "question_id": 4685563, "answer_id": 18109826}, {"body": "<h1>Lambda Expressions</h1>\n\n<p>To add on to <a href=\"http://stackoverflow.com/a/4685606/2846923\">jk.'s excellent answer</a>, you can now pass a method more easily using <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\"><em>Lambda Expressions</em></a> (in Java 8). First, some background. A <em>functional interface</em> is an interface that has one and only one abstract method, although it can contain any number of <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\">default methods</a> (new in Java 8) and static methods. A lambda expression can quickly implement the abstract method, without all the unnecessary syntax needed if you don't use a lambda expression.</p>\n\n<p>Without lambda expressions:</p>\n\n<pre><code>obj.aMethod(new AFunctionalInterface() {\n    @Override\n    public boolean anotherMethod(int i)\n    {\n        return i == 982\n    }\n});\n</code></pre>\n\n<p>With lambda expressions:</p>\n\n<pre><code>obj.aMethod(i -&gt; i == 982);\n</code></pre>\n\n<hr>\n\n<p>Here is an excerpt from <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\">the Java tutorial on Lambda Expressions</a>:</p>\n\n<blockquote>\n  <h3>Syntax of Lambda Expressions</h3>\n  \n  <p>A lambda expression consists of the following:</p>\n  \n  <ul>\n  <li><p>A comma-separated list of formal parameters enclosed in parentheses. The CheckPerson.test method contains one parameter, p,\n  which represents an instance of the Person class.<br><br><strong>Note</strong>: You\n  can omit the data type of the parameters in a lambda expression. In\n  addition, you can omit the parentheses if there is only one parameter.\n  For example, the following lambda expression is also valid:</p>\n\n<pre><code>p -&gt; p.getGender() == Person.Sex.MALE \n    &amp;&amp; p.getAge() &gt;= 18\n    &amp;&amp; p.getAge() &lt;= 25\n</code></pre></li>\n  <li><p>The arrow token, <code>-&gt;</code></p></li>\n  <li><p>A body, which consists of a single expression or a statement block. This example uses the following expression:</p>\n\n<pre><code>p.getGender() == Person.Sex.MALE \n    &amp;&amp; p.getAge() &gt;= 18\n    &amp;&amp; p.getAge() &lt;= 25\n</code></pre>\n  \n  <p>If you specify a single expression, then the Java runtime evaluates the expression and then returns its value. Alternatively,\n  you can use a return statement:</p>\n\n<pre><code>p -&gt; {\n    return p.getGender() == Person.Sex.MALE\n        &amp;&amp; p.getAge() &gt;= 18\n        &amp;&amp; p.getAge() &lt;= 25;\n}\n</code></pre>\n  \n  <p>A return statement is not an expression; in a lambda expression, you must enclose statements in braces ({}). However, you do not have\n  to enclose a void method invocation in braces. For example, the\n  following is a valid lambda expression:</p>\n\n<pre><code>email -&gt; System.out.println(email)\n</code></pre></li>\n  </ul>\n  \n  <p>Note that a lambda expression looks a lot like a method declaration;\n  you can consider lambda expressions as anonymous methods\u2014methods\n  without a name.</p>\n</blockquote>\n\n<hr>\n\n<p>Here is how you can \"pass a method\" using a lambda expression:</p>\n\n<p><sup>Note: this uses a new standard functional interface, <a href=\"http://download.java.net/jdk8/docs/api/java/util/function/IntConsumer.html\"><code>java.util.function.IntConsumer</code></a>.</sup></p>\n\n<pre><code>class A {\n    public static void methodToPass(int i) { \n        // do stuff\n    }\n}\n</code></pre>\n\n\n\n<pre><code>import java.util.function.IntConsumer;\n\nclass B {\n    public void dansMethod(int i, IntConsumer aMethod) {\n        /* you can now call the passed method by saying aMethod.accept(i), and it\n        will be the equivalent of saying A.methodToPass(i) */\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class C {\n    B b = new B();\n\n    public C() {\n        b.dansMethod(100, j -&gt; A.methodToPass(j));   //Lambda Expression here\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The above example can be shortened even more using the <a href=\"http://stackoverflow.com/q/20001427/2846923\"><code>::</code> operator</a>.</p>\n\n<pre><code>public C() {\n    b.dansMethod(100, A::methodToPass);\n}\n</code></pre>\n", "title": "How to pass a function as a parameter in Java?", "tags": ["java"], "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java/21681010#21681010", "question_id": 4685563, "answer_id": 21681010}], "creation_date": 1294954652, "score": 205, "link": "http://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java", "question_id": 4685563}, {"body": "<p>What is the correct way to cast an Int to an enum in Java given the following enum?</p>\n\n<pre><code>public enum MyEnum\n{\n    EnumValue1,\n    EnumValue2\n}\n\n\nMyEnum enumValue = (MyEnum) x; //Doesn't work???\n</code></pre>\n", "tags": ["java", "casting", "enums", "ordinal"], "title": "Cast Int to enum in Java", "answers": [{"body": "<p>Try <code>MyEnum.values()[x]</code> where x must be 0 or 1, i.e. a valid ordinal for that enum. </p>\n\n<p>Note that in Java enums actually are classes (and enum values thus are objects) and thus you can't cast an <code>int</code> or even <code>Integer</code> to an enum.</p>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/5878986#5878986", "question_id": 5878952, "answer_id": 5878986}, {"body": "<p>Use <code>MyEnum enumValue = MyEnum.values()[x];</code></p>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/5878999#5878999", "question_id": 5878952, "answer_id": 5878999}, {"body": "<p>Java enums don't have the same kind of enum-to-int mapping that they do in C++.</p>\n\n<p>That said, all enums have a <code>values</code> method that returns an array of possible enum values, so</p>\n\n<pre><code>MyEnum enumValue = MyEnum.values()[x];\n</code></pre>\n\n<p>should work. It's a little nasty and it might be better to not try and convert from <code>int</code>s to <code>Enum</code>s (or vice versa) if possible.</p>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/5879004#5879004", "question_id": 5878952, "answer_id": 5879004}, {"body": "<p>This not something that is usually done, so I would reconsider. But having said that, the fundamental operations are: int --> enum using EnumType.values()[intNum], and enum --> int using enumInst.ordinal().</p>\n\n<p>However, since any implementation of values() has no choice but to give you a copy of the array (java arrays are never read-only), you would be better served using an EnumMap to cache the enum --> int mapping.</p>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/5879022#5879022", "question_id": 5878952, "answer_id": 5879022}, {"body": "<p><code>MyEnum.values()[x]</code> is an expensive operation. If the performance is a concern, you may want to do something like this:</p>\n\n<pre><code>public enum MyEnum {\n    EnumValue1,\n    EnumValue2;\n\n    public static MyEnum fromInteger(int x) {\n        switch(x) {\n        case 0:\n            return EnumValue1;\n        case 1:\n            return EnumValue2;\n        }\n        return null;\n    }\n}\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/8762387#8762387", "question_id": 5878952, "answer_id": 8762387}, {"body": "<p>A good option is to <strong>avoid</strong> conversion from <code>int</code> to <code>enum</code>: for example, if you need the maximal value, you may compare x.ordinal() to y.ordinal() and return x or y correspondingly. (You may need to re-order you values to make such comparison meaningful.)</p>\n\n<p>If that is not possible, I would store <code>MyEnum.values()</code> into a static array.</p>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/11291324#11291324", "question_id": 5878952, "answer_id": 11291324}, {"body": "<p>I cache the values and create a simple static access method:</p>\n\n<pre><code>public static enum EnumAttributeType {\n    ENUM_1,\n    ENUM_2;\n    private static EnumAttributeType[] values = null;\n    public static EnumAttributeType fromInt(int i) {\n        if(EnumAttributeType.values == null) {\n            EnumAttributeType.values = EnumAttributeType.values();\n        }\n        return EnumAttributeType.values[i];\n    }\n}\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/13941827#13941827", "question_id": 5878952, "answer_id": 13941827}, {"body": "<p>If you want to give your integer values, you can use a structure like below</p>\n\n<pre><code>public enum A\n{\n        B(0),\n        C(10),\n        None(11);\n        int id;\n        private A(int i){id = i;}\n\n        public int GetID(){return id;}\n        public boolean IsEmpty(){return this.equals(A.None);}\n        public boolean Compare(int i){return id == i;}\n        public static A GetValue(int _id)\n        {\n            A[] As = A.values();\n            for(int i = 0; i &lt; As.length; i++)\n            {\n                if(As[i].Compare(_id))\n                    return As[i];\n            }\n            return A.None;\n        }\n}\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/14217289#14217289", "question_id": 5878952, "answer_id": 14217289}, {"body": "<p>This is the same answer as the doctors but it shows how to eliminate the problem with mutable arrays. If you use this kind of approach because of branch prediction first if will have very little to zero effect and whole code only calls mutable array values() function only once. As both variables are static they will not consume n * memory for every usage of this enumeration too.</p>\n\n<pre><code>private static boolean arrayCreated = false;\nprivate static RFMsgType[] ArrayOfValues;\n\npublic static RFMsgType GetMsgTypeFromValue(int MessageID) {\n    if (arrayCreated == false) {\n        ArrayOfValues = RFMsgType.values();\n    }\n\n    for (int i = 0; i &lt; ArrayOfValues.length; i++) {\n        if (ArrayOfValues[i].MessageIDValue == MessageID) {\n            return ArrayOfValues[i];\n        }\n    }\n    return RFMsgType.UNKNOWN;\n}\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/16699406#16699406", "question_id": 5878952, "answer_id": 16699406}, {"body": "<p>Here's the solution I plan to go with.  Not only does this work with non-sequential integers, but it should work with any other data type you may want to use as the underlying id for your enum values.</p>\n\n<pre><code>public Enum MyEnum {\n    THIS(5),\n    THAT(16),\n    THE_OTHER(35);\n\n    private int id; // Could be other data type besides int\n    private MyEnum(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return this.id;\n    }\n\n    public static Map&lt;Integer, MyEnum&gt; buildMap() {\n        Map&lt;Integer, MyEnum&gt; map = new HashMap&lt;Integer, MyEnum&gt;();\n        MyEnum[] values = MyEnum.values();\n        for (MyEnum value : values) {\n            map.put(value.getId(), value);\n        }\n\n        return map;\n    }\n}\n</code></pre>\n\n<p>I only need to convert id's to enums at specific times (when loading data from a file), so there's no reason for me to keep the Map in memory at all times.  If you do need the map to be accessible at all times, you can always cache it as a static member of your Enum class.</p>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/28397894#28397894", "question_id": 5878952, "answer_id": 28397894}, {"body": "<p>You can try like this.<br>\nCreate Class with element id. </p>\n\n<pre><code>      public Enum MyEnum {\n        THIS(5),\n        THAT(16),\n        THE_OTHER(35);\n\n        private int id; // Could be other data type besides int\n        private MyEnum(int id) {\n            this.id = id;\n        }\n\n        public static MyEnum fromId(int id) {\n                for (MyEnum type : MyEnum.values()) {\n                    if (type.getId() == id) {\n                        return type;\n                    }\n                }\n                return null;\n            }\n      }\n</code></pre>\n\n<p>Now Fetch this Enum using id as int.<br></p>\n\n<pre><code>MyEnum myEnum = MyEnum.fromId(5);\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/33492702#33492702", "question_id": 5878952, "answer_id": 33492702}, {"body": "<pre><code>enum MyEnum {\n    A(0),\n    B(1);\n    private final int value;\n    private MyEnum(int val) {this.value = value;}\n    private static final MyEnum[] values = MyEnum.values();//cache for optimization\n    public static final getMyEnum(int value) { \n        try {\n            return values[value];//OOB might get triggered\n        } catch (ArrayOutOfBoundsException e) {\n        } finally {\n            return myDefaultEnumValue;\n        }\n    }\n}\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/34278312#34278312", "question_id": 5878952, "answer_id": 34278312}, {"body": "<p>This should address the indexes getting out of sync with the ordinal value issue.</p>\n\n<pre><code>package service.manager;\n\npublic enum Command {\n    PRINT_FOO(0),\n    PRINT_BAR(2),\n    PRINT_BAZ(3);\n\n    public int intVal;\n    Command(int intVal){\n        this.intVal = intVal;\n    }\n\n    /**\n     * Functionality to ascertain an enum from an int\n     * The static block initializes the array indexes to correspond with it's according ordinal value\n     * Simply use Command.values[index] or get the int value by e.g. Command.PRINT_FOO.intVal;\n     * */\n    public static Command values[];\n    static{\n        int maxVal = -1;\n        for(Command cmd : Command.values())\n            if(maxVal &lt; cmd.intVal)\n                maxVal = cmd.intVal;\n\n        values = new Command[maxVal + 1];\n\n        for(Command cmd : Command.values())\n            values[cmd.intVal] = cmd;\n    }\n}\n</code></pre>\n", "title": "Cast Int to enum in Java", "tags": ["java", "casting", "enums", "ordinal"], "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java/36458017#36458017", "question_id": 5878952, "answer_id": 36458017}], "creation_date": 1304486626, "score": 203, "link": "http://stackoverflow.com/questions/5878952/cast-int-to-enum-in-java", "question_id": 5878952}, {"body": "<p>What is the difference between a <code>.jar</code> and a <code>.war</code> file? Is it only the file extension or is there something more?</p>\n", "tags": ["java", "jar", "war"], "title": "Java war vs. jar - what is the difference?", "answers": [{"body": "<p>war and jar are archives for java files. war is web archive and they are running on web server. jar is java archive.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871087#5871087", "question_id": 5871053, "answer_id": 5871087}, {"body": "<p>A <code>.war</code> file is a Web Application Archive which runs inside an application server while a <code>.jar</code> is Java Application Archive that runs a desktop application on a user's machine.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871096#5871096", "question_id": 5871053, "answer_id": 5871096}, {"body": "<p>A <a href=\"http://en.wikipedia.org/wiki/WAR_%28Sun_file_format%29\"><code>.war</code> file</a> has a specific structure in terms of where certain files will be. Other than that, yes, it's just a <code>.jar</code>.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871097#5871097", "question_id": 5871053, "answer_id": 5871097}, {"body": "<p><strong>From <a href=\"http://www.java-tips.org/java-ee-tips-100042/17-enterprise-java-beans/1994-difference-between-ear-jar-and-war-files.html\">Java Tips: Difference between ear jar and war files</a>:</strong></p>\n\n<blockquote>\n  <p>These files are simply zipped files\n  using the java jar tool. These files are\n  created for different purposes. Here\n  is the description of these files:</p>\n  \n  <ul>\n  <li><p><strong>.jar files:</strong> The .jar files <strong>contain\n  libraries, resources and\n  accessories files</strong> like property files.</p></li>\n  <li><p><strong>.war files:</strong>  The war file <strong>contains\n  the web application</strong> that can be\n  deployed on any servlet/jsp\n  container. The .war file <strong>contains jsp,\n  html, javascript</strong> and other files\n  necessary for the development of web\n  applications.</p></li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p><strong>Official Sun/Oracle descriptions:</strong></p>\n\n<ul>\n<li><a href=\"https://web.archive.org/web/20120626020019/http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/WCC3.html\">The J2EETM Tutorial: <strong>Web Application Archives</strong></a></li>\n<li><a href=\"https://web.archive.org/web/20120626012843/http://java.sun.com/developer/Books/javaprogramming/JAR/basics\">The Java Archive (JAR) File Format: <strong>The Basics</strong></a></li>\n</ul>\n\n<hr>\n\n<p><strong>Wikipedia articles:</strong></p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/WAR_file_format_(Sun)\">WAR file format (Sun)</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Jar_file\">JAR file</a></li>\n</ul>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871102#5871102", "question_id": 5871053, "answer_id": 5871102}, {"body": "<p>Basicly both compressed archives. war is used for web application with a specific directory structure. </p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871108#5871108", "question_id": 5871053, "answer_id": 5871108}, {"body": "<blockquote>\n  <p>You add web components to a J2EE application in a package called a web application archive (WAR), which is a JAR similar to the package used for Java class libraries. A WAR usually contains other resources besides web components, including:</p>\n  \n  <ul>\n  <li>Server-side utility classes (database beans, shopping carts, and so on).</li>\n  <li>Static web resources (HTML, image, and sound files, and so on)</li>\n  <li>Client-side classes (applets and utility classes)</li>\n  </ul>\n  \n  <p>A WAR has a specific hierarchical directory structure. The top-level directory of a WAR is the document root of the application. The document root is where JSP pages, client-side classes and archives, and static web resources are stored. </p>\n</blockquote>\n\n<p>(<a href=\"http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/WebComponents3.html\">source</a>)</p>\n\n<p>So a .war is a .jar, but it contains web application components and is laid out according to a specific structure.  A .war is designed to be deployed to a web application server such as Tomcat or Jetty or a Java EE server such as JBoss or Glassfish.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871126#5871126", "question_id": 5871053, "answer_id": 5871126}, {"body": "<p>A war file is a special jar file that is used to package a web application to make it easy to deploy it on an application server. The content of the war file must follow a defined structure.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5871128#5871128", "question_id": 5871053, "answer_id": 5871128}, {"body": "<p>.jar and .war are both zipped archived files.\nBoth can have the optional META-INF/MANIFEST.MF manifest file which hold informative information like versioning, and instructional attributes like classpath and main-class for the JVM that will execute it.</p>\n\n<p>.war file - Web Application Archive intended to be execute inside a 'Servlet Container' and may include other jar files (at WEB-INF/lib directory) compiled classes (at WEB-INF/classes (servlet goes there too)) .jsp files images, files etc. \nAll WAR content that is there in order to create a self-contained module.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/5872620#5872620", "question_id": 5871053, "answer_id": 5872620}, {"body": "<p>The main difference between a JAR and a WAR is that a JAR is not really a single purpose format, while a WAR is. With a JAR file, you can package lots of different things. Usually you package up Java classes, but you could put pretty much anything into a JAR file, and you can create JARs that have whatever files and directory formats you want. For instance, Oracle (at least in 8.1.x) actually uses JAR files to distribute the Oracle software on the install CDs, and IBM uses them to distribute an installable version of the documentation for WebSphere. Technically you can put JSP pages, HTML pages, servlet classes, etc. in a JAR, but you generally don't -- you use a WAR. </p>\n\n<p>WAR files are JAR files with a specific format. This format is defined in the servlet spec (which you can look at on the java.sun.com site). Essentially, the WAR file is a standard format for web applications that has specific directories and specific files. This includes a WEB-INF directory, a WEB-INF/web.xml file used to describe the application, a WEB-INF/lib directory for JAR files used by the application, and a WEB-INF/classes directory for class files that aren't distributed in a JAR. You would put the pages (JSPs and HTML) in the WAR as well. Then, you can distribute your application as one file, instead of as a collection of images, HTML pages, and Java classes.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/20951940#20951940", "question_id": 5871053, "answer_id": 20951940}, {"body": "<p>Jar files (files with a .jar extension) are intended to hold generic libraries of Java classes, resources, auxiliary files, etc.Whereas War files (files with a .war extension) are intended to contain complete Web applications. In this context, a Web application is defined as a single group of files, classes, resources, .jar files that can be packaged and accessed as one servlet context.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/21986637#21986637", "question_id": 5871053, "answer_id": 21986637}, {"body": "<p><code>EAR</code> is an Enterprise Application archive and may contain ejb JAR files, WAR files, and RAR (connector) files. They may also contain third-party libraries - but you have to know how to manipulate the Java extension facilities (e.g. MANIFEST.MF Class-Path directive) to make that work well.</p>\n\n<p><code>WAR</code> is an Web Application archive and contains JSPs, \"normal\" HTTP served files (HTML, images, etc.), servlets, tag libraries.</p>\n\n<p><code>JAR</code> is the \"normal\" Java Application archive, but in this context it usually contains EJBs instead of code libraries or runnable (e.g. from outside an application container) applications.</p>\n", "title": "Java war vs. jar - what is the difference?", "tags": ["java", "jar", "war"], "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference/27603722#27603722", "question_id": 5871053, "answer_id": 27603722}], "creation_date": 1304433063, "score": 198, "link": "http://stackoverflow.com/questions/5871053/java-war-vs-jar-what-is-the-difference", "question_id": 5871053}, {"body": "<p>I know this question has been asked before and I have seen a plethora of solutions out there, yet none seem to work for me.  I was able to build my apk without issues until this error started cropping up.  I have tried cleaning my project, removing it from the workspace and reimporting it, removing \"Java Builder\" from my Builders for the project, building the project manually, reordering my java build path.  I have no visible compiler issues and no problems exist in my workspace.  </p>\n\n<p>I did experience this issue before and solved it once by removing the project form my workspace and re-importing it and another time I solved it by removing \"Java Builder\" from my java build path.  None seem to work this time.  I currently have most of the settings set back to default (i.e. java build is checked again).</p>\n\n<p>I am running windows 7 (64 bit) and using jdk1.6.0_21 via Eclipse 3.6.  </p>\n\n<p>Any suggestions would be greatly appreciated as I have lost loads of development time troubleshooting this already.</p>\n\n<p>[Update] My locale is English &amp; I have tried removing the debug.keystore, United States as related to <a href=\"http://code.google.com/p/android/issues/detail?id=834\">issue 834</a></p>\n", "tags": ["java", "android", "eclipse"], "title": "Android Eclipse - Could not find *.apk", "answers": [{"body": "<p>I figured it out.  I was referencing JavaSE-1.5 and using JDK 1.6.  I changed it to use 1.6 and that appears to fix it.  </p>\n\n<p>Seems like through my research that is an overloaded error message that covers a lot of error cases.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/4778593#4778593", "question_id": 4778113, "answer_id": 4778593}, {"body": "<p>the problem for me was I was trying to use IBM RAD which appears to not work properly for this, I installed Eclipse and now have a different error but I should be able to get past it</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/4831451#4831451", "question_id": 4778113, "answer_id": 4831451}, {"body": "<p>Delete the project from your workspace &amp; import again.<br>\nThis worked for me.</p>\n\n<p>Can't believe similar issue has been there since 2008.<br>\n<a href=\"http://code.google.com/p/android/issues/detail?id=834\">http://code.google.com/p/android/issues/detail?id=834</a>.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/4845887#4845887", "question_id": 4778113, "answer_id": 4845887}, {"body": "<p>On my machine (Windows7, 64bit) I could fix this by setting my execution environment to a 32bit variant of the jdk (I used 1.6.0_23). And I tried a lot of things before...</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/5704980#5704980", "question_id": 4778113, "answer_id": 5704980}, {"body": "<p>i'm no expert, but eclipse on Windows, doing android apps, refuses to create the default.properties file (in the app root directory).  I've just copied one from another app and it works fine.  Simple contents, for Android 2.2 project it just says (ignoring comments):</p>\n\n<p>target=android-8</p>\n\n<p>fwiw</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/6318195#6318195", "question_id": 4778113, "answer_id": 6318195}, {"body": "<p>Please follow these steps; this might help you out:</p>\n\n<ol>\n<li><p>Right-click your app project and go to Properties</p></li>\n<li><p>Select Android from left-hand side list</p></li>\n<li><p>Uncheck the \"Is Library\" checkbox</p></li>\n</ol>\n\n<p>If your app project relies on library projects which are in your workspace, those of course need to have the \"Is Library\" box checked.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/6450971#6450971", "question_id": 4778113, "answer_id": 6450971}, {"body": "<p>deleting the R.Java file in /Gen folder did the trick for me</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/6992533#6992533", "question_id": 4778113, "answer_id": 6992533}, {"body": "<p>I just fixed this by reselecting a default JRE for the execution environment (JRE6 for JavaSE-1.6 in my case). It got unchecked for some reason.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/8045450#8045450", "question_id": 4778113, "answer_id": 8045450}, {"body": "<p>In my case this problem started after eclipse updated the plugin with the v4.0 API release. I fixed it by going to the main preferences for Eclipse and under Android->Build uncheck 'Skip packaging and dexing until export or launch'</p>\n\n<p>Note: if you eclipse gives you the Unknown Command 'crunch' error then <a href=\"http://stackoverflow.com/questions/7816679/android-unknown-command-crunch\">follow this post</a></p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/8216497#8216497", "question_id": 4778113, "answer_id": 8216497}, {"body": "<p>This fixed my problem.  I kept getting the console error in eclipse \"Could not find com_android_vending_licensing.apk\" and even though it didnt seem to effect the way my app ran, it was annoying.  So going into the com_android_vending_licensing project properties and unchecking the \"is library\" option, building the project to produce the needed apk and then going back into the com_android_vending_licensing project properties and re checking the \"is library\" check box fixed the problem.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/9314579#9314579", "question_id": 4778113, "answer_id": 9314579}, {"body": "<p>I was having the same issue as the OP except that all these suggestions did not work. I found a solution for me.</p>\n\n<p><strong>Make sure that \"Skip packaging and dexing until export or launch.\" is selected.</strong></p>\n\n<p>Go to Window -> Preferences -> Android -> Build. Just make sure that option is selected and apply.</p>\n\n<p>I know this does not make a lot of sense, but having it unselected was giving me this error and with it selected it goes away and the apk is installed.</p>\n\n<hr>\n\n<p>I am using the auto generated ant build script from android and ONLY using it as my build process in eclipse. I am not using any other build methods.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/10095082#10095082", "question_id": 4778113, "answer_id": 10095082}, {"body": "<p>Run Eclipse as \"Administrator\" and then import the project.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/10301897#10301897", "question_id": 4778113, "answer_id": 10301897}, {"body": "<p>SHA1's answer did it for me: after updating to the latest sdk/adt, my project refused to build an apk; unchecking the option resolved the issue. </p>\n\n<p>I don't know if the update checked this, or if it was checked before but the new adt screwed things up, but things work again now :)</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/10453977#10453977", "question_id": 4778113, "answer_id": 10453977}, {"body": "<p>In my case this worked : </p>\n\n<p>Delete R.Java file in /Gen folder</p>\n\n<p>+</p>\n\n<p>Delete all <strong>\"R.Android\" imports</strong> that Eclipse added to some of my java classes !!!</p>\n\n<p>and rebuild the project.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/10860212#10860212", "question_id": 4778113, "answer_id": 10860212}, {"body": "<p>remove -- R.java -- Clean the project and run again.. this worked for me ..</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/10942680#10942680", "question_id": 4778113, "answer_id": 10942680}, {"body": "<p>None of these things worked for me. I'm trying to access native code through the jni, first with NDK samples. What I found was the build won't run if jarlist.cache is not present in the project bin directory. If I copy one from another project to that location (may need to refresh to see the folder in Eclipse), build works every time.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/10950670#10950670", "question_id": 4778113, "answer_id": 10950670}, {"body": "<p>I tried all the above solutions. but it didn't work.</p>\n\n<p>The solution was to restart eclipse !!!!!!!</p>\n\n<p>hope this will help someone :)</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/11383243#11383243", "question_id": 4778113, "answer_id": 11383243}, {"body": "<p>Clean the project and it will do. Sometimes it happens unknowingly but keep trying to solve using diff methods.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/12412342#12412342", "question_id": 4778113, "answer_id": 12412342}, {"body": "<p>None of the answers above worked for me, but then I found another answer which fixed it:  <a href=\"http://stackoverflow.com/questions/5580575/could-not-find-the-xxx-apk-message-in-console-while-starting-application-with\">&quot;Could not find the XXX.apk&quot; message in console while starting application with an Android lib linked</a>.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/12444566#12444566", "question_id": 4778113, "answer_id": 12444566}, {"body": "<p>Find the project's folder in your system, enter it's Properties via context menu and deselect \"Read only\" option. Worked in my case.</p>\n\n<p>This seems to be the source of the problem in many cases, moreover some solutions up there base on copying/rewriting the files in the project what makes them non-read-only.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/12482221#12482221", "question_id": 4778113, "answer_id": 12482221}, {"body": "<p>This is caused by JAVA_HOME not being set correctly. It can be easily resolved by following <a href=\"http://dotnetmackenzie.blogspot.co.uk/2011/12/android-could-not-find-helloworldapk.html\" rel=\"nofollow\">the steps in this article</a>.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/12697287#12697287", "question_id": 4778113, "answer_id": 12697287}, {"body": "<p>I've tried to gather the best of other peoples answers into a step by step list of things to try in order:</p>\n\n<ul>\n<li>Check the project is not set as a library:\n<ol>\n<li>Go to Project->Properties</li>\n<li>Select Android from left-hand side list</li>\n<li>Uncheck the \"Is Library\" checkbox</li>\n</ol></li>\n<li>Clean and rebuild the project - this should delete and recreate the entire <code>gen</code> folder, including the <code>R.java</code> file mentioned in some peoples answers</li>\n<li>Check eclipse and all the Android plugins are up to date</li>\n<li>Close the project, exit Eclipse, reopen eclipse, reopen the project.</li>\n<li>Go to Java Build Path > Projects and check for any incorrect project dependencies</li>\n<li>Go to the main preferences for Eclipse and under Android->Build uncheck 'Skip packaging and dexing until export or launch'</li>\n<li>Check <code>JAVA_HOME</code> is set correctly. Follow the steps in <a href=\"http://dotnetmackenzie.blogspot.co.uk/2011/12/android-could-not-find-helloworldapk.html\">this article</a></li>\n</ul>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/13866284#13866284", "question_id": 4778113, "answer_id": 13866284}, {"body": "<p>I had somehow done a Run configuration as a Java application instead of a Android. </p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/14384322#14384322", "question_id": 4778113, "answer_id": 14384322}, {"body": "<p>Mine was caused by <a href=\"http://stackoverflow.com/questions/11227335/this-android-sdk-requires-android-developer-toolkit-version-14-0-0-or-above\">this</a> problem (incompatibility between ADT and SDK), and was fixed thus:</p>\n\n<ul>\n<li>Eclipse > Help</li>\n<li>Install New Software</li>\n<li>Add '<a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a>' to 'Work With'\nsection and press enter</li>\n<li>After developer tools appears on the list, check it and click Next</li>\n<li>Restart eclipse once download is finished</li>\n</ul>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/24309083#24309083", "question_id": 4778113, "answer_id": 24309083}, {"body": "<p>I my case, I had to switch from API 21 to API 19, clean and build and everything was fine again. I am using a Mac and apparently API 21 is not fully supported on Yosemite.</p>\n", "title": "Android Eclipse - Could not find *.apk", "tags": ["java", "android", "eclipse"], "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk/28678414#28678414", "question_id": 4778113, "answer_id": 28678414}], "creation_date": 1295836572, "score": 194, "link": "http://stackoverflow.com/questions/4778113/android-eclipse-could-not-find-apk", "question_id": 4778113}, {"body": "<p>Platform: IntelliJ Community Edition 10.0.3<br>\nSDK: jdk1.6.0_21<br>\nOS: Windows 7</p>\n\n<p>So I have a strange situation with IntelliJ that has me completely stumped.  I setup a Maven project and add log4j as a dependency in the pom.xml file.  The IDEA inspections run fine and my unit tests all compile and run.</p>\n\n<p>I then added hunnysoft's jmime library to my local maven repository using the mvn install:install-file as follows.</p>\n\n<pre><code>mvn install:install-file -Dfile=jmime.jar -DgroupId=jmime \\\n-DartifactId=jmime -Dversion=3.1.1e -Dpackaging=jar\n</code></pre>\n\n<p>Maven installed the jar file just fine into my local repository.</p>\n\n<p>I then went into IntelliJ's Settings => Maven => Repository Services and Updated my local repository (so that IntelliJ would reindex the repository contents).</p>\n\n<p>Finally, I added the following dependency to my pom.xml file (just above the log4j dependency).</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jmime&lt;/groupId&gt;\n    &lt;artifactId&gt;jmime&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1e&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I now create a new class as follows:</p>\n\n<pre><code>package com.stackoverflow.question;\n\nimport org.apache.log4j.Logger;\nimport com.hunnysoft.jmime.ByteString;\nimport com.hunnysoft.jmime.Field;\nimport com.hunnysoft.jmime.FieldBody;\n\npublic class StackOverflowQuestion {\n    public Field create(String name, String text) {\n        Logger.getLogger(getClass()).debug(\"create entered\");\n        FieldBody body = new FieldBody();\n        body.setText(new ByteString(text));\n        Field field = new Field();\n        field.setFieldName(name);\n        field.setFieldBody(body);\n        return field;\n    }\n}\n</code></pre>\n\n<p>Now for the weirdness.  IntelliJ's intention mechanism picks up and recognizes the Logger import in the maven pom file just fine.  However, for all of the hunnysoft imports it reports: \"Cannot resolve symbol 'ByteString/Field/FieldBody'\", <em>BUT</em> Build => Compile 'StackOverflowQuestion.java' compiles everything correctly and the unit test I created for this class runs fine (though the intentions mark the call to create() as a problem area too).</p>\n\n<p>So somewhere, somehow IntelliJ is ignoring the jmime.jar file for the intention subsystem.  I'm confused because the log4j dependency works fine and everything compiles and runs fine.  F12 (\"Go To Declaration\") works on the Logger import, but breaks on all the jmime imports.</p>\n\n<p>Oh, one other thing, if I go to the 'Packages' view in the \"Projects\" window the \"com.hunnysoft.jmime\" package appears and I can see ALL of the classes I imported in the code snippet above under \"Libraries\".  Removing the above dependency from the pom.xml file causes this package to disappear and the compilation breaks.</p>\n\n<p>It appears that the inspection's classpath is broken, but there does not seem to be a setting for this anywhere in the Settings => Intentions | Compiler areas (not that I expected any such settings, I believe the IDEA should already know the correct classpath based on the pom file and JDK).</p>\n\n<p>As a final experiment I created a brand new standard J2SE application project (without using maven) and added the jmime.jar file directly to the project as one of its libraries.  I run into exactly the same problems as described above in this new project.</p>\n\n<p>Here is the MANIFEST.MF from the jmime jar file.</p>\n\n<pre><code>Manifest-Version: 1.0\nAnt-Version: Apache Ant 1.5.4\nCreated-By: 10.0-b23 (Sun Microsystems Inc.)\n\nName: com/hunnysoft/jmime/\nSealed: true\nSpecification-Title: Hunny JMIME\nSpecification-Version: 3.1.1\nSpecification-Vendor: Hunny Software, Inc.\nImplementation-Title: com.hunnysoft.jmime\nImplementation-Version: 3.1.1E\nImplementation-Vendor: Hunny Software, Inc.\n</code></pre>\n\n<p>I don't see anything unusual in this jar file.</p>\n\n<p>My best guess is that perhaps the problem might be a missing dependency issue.  But AFAIK jmime is supposed to be self contained (JarAnalyzer doesn't come up with anything, but I'm not sure it would if a dependency jar is missing).</p>\n\n<p>So, anyone have any IDEAs?</p>\n", "tags": ["java", "maven", "intellij-idea"], "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "answers": [{"body": "<p>Yes, sounds like you have to create libraries containing the JARs you need and add them as a dependency in your module.  </p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/5905913#5905913", "question_id": 5905896, "answer_id": 5905913}, {"body": "<p>First of all you should try <code>File | Invalidate Caches</code> and if it doesn't help, <a href=\"https://intellij-support.jetbrains.com/entries/23358108\">delete IDEA system directory</a>. Then re-import the Maven project and see if it helps.</p>\n\n<p>In some weird cases compiled classes may report wrong info and confuse IDEA. Verify that the classes from this jar report correct names using <code>javap</code>.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/5905931#5905931", "question_id": 5905896, "answer_id": 5905931}, {"body": "<p>I just had this issue and it would just not go away. I eventually wiped out the IntelliJ config directory in ~ and rebuilt my IntelliJ project from scratch. (This only took about 15 minutes in the end, compared to spending an hour trying to work out problems with cached files, etc.)</p>\n\n<p>Edit: Note that my guess is that the initial problem was caused by something like: <a href=\"http://javathings.blogspot.com/2009/11/too-many-open-files-in-intellij-idea.html\" rel=\"nofollow\">http://javathings.blogspot.com/2009/11/too-many-open-files-in-intellij-idea.html</a> or a disk space/memory issue causing java to crash. IntelliJ seemed to just get corrupted.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/7367432#7367432", "question_id": 5905896, "answer_id": 7367432}, {"body": "<p>Another thing to check: Be sure that dependencies are not duplicated. In my case I found that a module exhibiting this behavior was misconfigured as follows: it had a dependency on another module, and it had a dependency on a jar produced by that other module. This meant for every symbol referenced in duplicate, and was ambiguous.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/10046164#10046164", "question_id": 5905896, "answer_id": 10046164}, {"body": "<p>One extra step, when I did File -> Invalidate Caches and restarted the IDE, open a project. It popped up a toastbox on the top-right asking me whether to enable auto-import and that solved the problem.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/13629481#13629481", "question_id": 5905896, "answer_id": 13629481}, {"body": "<p>The following trick resolved this issue for me: </p>\n\n<ul>\n<li>Right click on the code editor</li>\n<li>Hover on Maven and expand</li>\n<li>Click on Reimport</li>\n</ul>\n\n<p>My idea version is 12.0.4</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/15893890#15893890", "question_id": 5905896, "answer_id": 15893890}, {"body": "<p>For another alternative.</p>\n\n<p>I got this problem also when I used JDK7_07. I tried all answers here (except deleting IDEA System Directory). But, I still got the problem. So what I did it is:</p>\n\n<p>Install newest JDK (it was JDK7_45), and set the Intellij's JDK to the new one, and it works.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/20217895#20217895", "question_id": 5905896, "answer_id": 20217895}, {"body": "<p>After invalidating my cache and restarting; and confirming my maven settings were okay, I was still seeing \"Cannot resolve symbol\" for a module that I definitely had set as a dependency. Turns out I had it set to the wrong scope. </p>\n\n<p>You can check by right clicking on your module and selecting Open Module Settings. Click the dependency tab and verify that the scope for your un-resolvable dependency is set to Compile. </p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/23249644#23249644", "question_id": 5905896, "answer_id": 23249644}, {"body": "<p>Re-importing the project worked for me.\nRight Click on Project -> Maven ->Reimport</p>\n\n<p>when I did File -> Invalidate Caches and restarted the IDE,open a project. It showed a dialogue on the top-right \"Maven changes detected\" and gave an option to import and enable auto-import. Even after importing the project here, I had the same issue. The above step solved the problem.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/28951950#28951950", "question_id": 5905896, "answer_id": 28951950}, {"body": "<p>Has a fixed been published? Appears issue originally affected v11/12 due to a \"Compiler overhaul\" back in 2013. With discussion on related issues in Jira up to end of 2014.\n<a href=\"http://youtrack.jetbrains.com/issue/IDEA-98425\" rel=\"nofollow\">http://youtrack.jetbrains.com/issue/IDEA-98425</a></p>\n\n<p>Also on Jira <strong>IDEA-98425</strong> was marked <strong><em>fixed</em></strong> but <strong><em>unverified</em></strong> (on v12.0.3). None of the following <strong>work-around</strong> helped resolve this <strong>\"Unable to Resolve Symbol\"</strong> issue with Version <strong>13.1.1</strong> on Windows </p>\n\n<p>a. Delete <strong>.IdealIC13</strong> folder (Then, File \\ Invalidate Caches / Restart)</p>\n\n<p>b. From <strong>Maven Projects</strong> window,      </p>\n\n<p>b.1 <strong>mvn -U idea:idea</strong> \u2013\u3009Executing this maven goal suppose to reload the dependencies. This works prev, but since last FRI, executing this maven goal failed as it tried to recompile the project (Of course it fails as \"Unable to resolve Symbols\", that's what I am trying to fix by running this command in the first place)          mvn -version \u2014 shows maven version referenced 3.2.5 and that it's working    </p>\n\n<p>b.2 Simply right click project, and <strong>Reimport</strong>    </p>\n\n<p>b.3 File \\ <strong>Invalidate Caches / Restart</strong></p>\n\n<p>c. Tried both Enable  &amp; Disable this setting: File -> Settings -> Maven -> Importing -> \"Use maven3 to import project\"</p>\n\n<p>d. Settings \\ Maven \\ Multiproject build fail policy = Fail at end (instead of Default) </p>\n\n<p>Nothing works. What's happenning to IntelliJ support on Maven.</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-99302\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/IDEA-99302</a></p>\n\n<p>From JetBeans release history, <a href=\"https://www.jetbrains.com/company/history.jsp\" rel=\"nofollow\">https://www.jetbrains.com/company/history.jsp</a></p>\n\n<p><strong>IntelliJ v14</strong> NOV 2014</p>\n\n<p><strong>IntelliJ v13</strong> DEC 2013</p>\n\n<p>I'd assume v12 fixed (although <strong>unverified</strong>) would be incorporated in subsequent releases. Any one having similar problems with which IntelliJ version? Please share your experience. IntelliJ maven support seems broken.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/30009963#30009963", "question_id": 5905896, "answer_id": 30009963}, {"body": "<p><strong>For Gradle users:</strong></p>\n\n<p>You may need to synchronize your project with your <code>build.gradle</code> file. </p>\n\n<p>You can right-click on your gradle file under the Project pane to do this, <strong>but</strong> that didn't seem to do anything for me (I suspect a bug in my version). You'll know if this happens because it wont' kick off any IntelliJ tasks that you will be waiting on. Instead, <strong><a href=\"https://www.jetbrains.com/idea/help/manipulating-the-tool-windows.html\">open up the Gradle Tool pane</a></strong>, then click the synchronize (refresh) button. This worked for me where invalidating the cache and restarting did not.</p>\n\n<p>My own circumstance: I was using a Scala project with Gradle and had to do this.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/31195053#31195053", "question_id": 5905896, "answer_id": 31195053}, {"body": "<p>For Intellij Idea users this commands before even importing project might help :</p>\n\n<p><strong>./gradlew build</strong>\n.<strong>/gradlew idea</strong></p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/33285109#33285109", "question_id": 5905896, "answer_id": 33285109}, {"body": "<p>My Project Structure:</p>\n\n<pre><code>src -&gt; main -&gt; scala -&gt; mypackages\n</code></pre>\n\n<p>What worked:</p>\n\n<p>Right click on the <code>scala</code> folder, and click \"Mark Directory as Sources Root\".</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/33863034#33863034", "question_id": 5905896, "answer_id": 33863034}, {"body": "<p>Inconsistent/duplicate module names in project structure was causing this issue for me.</p>\n\n<ol>\n<li>Go to <code>File -&gt; Project Strucutre -&gt; Modules</code></li>\n<li>In Click on modules which have red underline</li>\n<li>Got to \"Dependencies\" tab</li>\n<li>Make sure the dependencies which are red actually exist in dependency list. If not, rename them to match existing dependency names</li>\n</ol>\n\n<p>This can happen when IntelliJ doesn't shut down properly and thus cannot properly save renamed module names.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/34511539#34511539", "question_id": 5905896, "answer_id": 34511539}, {"body": "<p>In my case, only buildDir is removed.\nIn this case, <code>File | Invalidate Caches</code> does not work.</p>\n\n<p>When I do <code>Build | Make Project</code> before <code>File | Invalidate Caches</code>, everything works fine.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/38181130#38181130", "question_id": 5905896, "answer_id": 38181130}, {"body": "<p>None of the solutions above worked for me. What did was removing the main.iml file manually and it suddenly worked.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/39271103#39271103", "question_id": 5905896, "answer_id": 39271103}, {"body": "<p>if maven project then just go to settings ->build tools - >maven ->importing.\ncheck the checkbox \"import maven project automatically\".\nwill solve the problem.</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/39271289#39271289", "question_id": 5905896, "answer_id": 39271289}, {"body": "<ol>\n<li>Open \"Settings\"</li>\n<li>Search for \"Maven\"</li>\n<li>Click on \"Ignored Files\" under \"Maven\"</li>\n<li>Uncheck the pom.xml files contains the missing dependencies</li>\n<li>Click \"OK\"</li>\n<li>Click File -> Invalidate Caches/Restart...</li>\n<li>Click \"Invalidate and Restart\"</li>\n</ol>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/39463989#39463989", "question_id": 5905896, "answer_id": 39463989}, {"body": "<p>Invalidate Caches worked for me but after running the application had the same error.</p>\n\n<p>So I tried (<strong>Intellij</strong>): </p>\n\n<p>1 - Menu bar - Refactor | <strong>Build</strong> | Run | Tools \n - click <strong>Build</strong> then <strong>Rebuild Project</strong></p>\n\n<p>2 - MVN clean</p>\n\n<p>3 - Right click on project > Maven > Generate Sources and Update Folder</p>\n\n<p>Hope this works for you.</p>\n\n<p>Thanks</p>\n", "title": "IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code", "tags": ["java", "maven", "intellij-idea"], "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code/39475457#39475457", "question_id": 5905896, "answer_id": 39475457}], "creation_date": 1304645048, "score": 193, "link": "http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code", "question_id": 5905896}, {"body": "<p>I have copied the <code>sample.war</code> file into the <code>webapps</code> directory of Tomcat, and I can access <code>localhost:8080</code>.</p>\n\n<p>Now how will Tomcat deploy it, I mean do I need to open it in browser? How can I access the application?</p>\n", "tags": ["java", "tomcat", "war"], "title": "How to deploy a war file in Tomcat 7", "answers": [{"body": "<p>You can access your application from: <code>http://localhost:8080/sample</code></p>\n\n<p>Deploying or redeploying of war files is automatic by default - after copying/overwriting the file <code>sample.war</code>, check your <code>webapps</code> folder for an extracted folder <code>sample</code>.</p>\n\n<p>If it doesn't open properly, check the log files (e.g. tomcat/logs/catalina.out) for problems with deployment.</p>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/5109133#5109133", "question_id": 5109112, "answer_id": 5109133}, {"body": "<p>You just need to put your war file in webapps and then start your server.</p>\n\n<p>it will get deployed.</p>\n\n<p>otherwise you can also use tomcat manager a webfront to upload &amp; deploy  your war remotely. </p>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/5109140#5109140", "question_id": 5109112, "answer_id": 5109140}, {"body": "<p>In addition to the ways already mentioned (dropping the war-file directly into the <em>webapps</em>-directory), if you have the Tomcat Manager -application installed, you can deploy war-files via browser too. To get to the manager, browse to the root of the server (in your case, localhost:8080), select \"Tomcat Manager\" (at this point, you need to know username and password for a Tomcat-user with \"manager\"-role, the users are defined in <em>tomcat-users.xml</em> in the <em>conf</em>-directory of the tomcat-installation). From the opening page, scroll downwards until you see the \"Deploy\"-part of the page, where you can click \"browse\" to select a WAR file to deploy from your local machine. After you've selected the file, click deploy. After a while the manager should inform you that the application has been deployed (and if everything went well, started).</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html\">Here</a>'s a longer how-to and other instructions from the Tomcat 7 documentation pages.</p>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/5109843#5109843", "question_id": 5109112, "answer_id": 5109843}, {"body": "<p>Too simple either you can do hot deployment through console deployment or you can do cold deployment. Just use manager console for console deployment or simply copy and paste your application in webapp folder of your tomcat_home directory.(Hot deployment means deploying when server is running and cold deployment means deploying when server is stopped).\nNote: Make sure if your war file size is more than 52 MB (the default configuration value),\nyou need to make two little changes in web.xml file of Manager application of your webapp folder(Manager application is provided by Apache tomcat by default upon installing the server).</p>\n\n<ol>\n<li><p>Go to the web.xml of the manager application (for instance it could\n    be under /tomcat7/webapps/manager/WEB-INF/web.xml.</p></li>\n<li><p><code>Increase the max-file-size and max-request-size:</code></p></li>\n<li><p></p>\n\n<pre><code>&lt;!\u2013 50MB max \u2013&gt;\n\n&lt;max-file-size&gt;52428800&lt;/max-file-size&gt;\n\n&lt;max-request-size&gt;52428800&lt;/max-request-size&gt;\n\n&lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\n\n&lt;/multipart-config&gt;\n</code></pre>\n\n<p>Increase the size by putting the values for  and  according to your requirement.</p></li>\n</ol>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/15360585#15360585", "question_id": 5109112, "answer_id": 15360585}, {"body": "<p>This has been working for me:</p>\n\n<ol>\n<li>Create your war file (mysite.war) locally.</li>\n<li>Rename it locally to something besides .war, like mysite.www</li>\n<li>With tomcat still running, upload mysite.www to <em>webapps</em> directory.</li>\n<li>After it finishes uploading, delete the previous version mysite.war</li>\n<li>List the directory, watching for the directory /mysite to disappear.</li>\n<li>Rename mysite.www to be mysite.war</li>\n<li>List the directory, watching for the new /mysite to be created.</li>\n</ol>\n\n<p>If you try uploading the new file as a war file, with tomcat still running, it will attempt to expand it before it is all there.  It will fail.  Having failed, it will not try again.  Thus, uploading a www file, then renaming it, allows the whole war file to be present before tomcat notices it.</p>\n\n<p>Hint, don't forget to check that the war file's owner is tomcat (Use chown)</p>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/15410933#15410933", "question_id": 5109112, "answer_id": 15410933}, {"body": "<h3>Manual steps - Windows</h3>\n\n<ol>\n<li><p>Copy the .war file (E.g.: prj.war) to <code>%CATALINA_HOME%\\webapps</code> ( E.g.: C:\\tomcat\\webapps )</p></li>\n<li><p>Run <code>%CATALINA_HOME%\\bin\\startup.bat</code></p></li>\n<li><p>Your .war file will be extracted automatically to a <strong>folder</strong> that has the same name (without extension) (E.g.: prj)</p></li>\n<li><p>Go to <code>%CATALINA_HOME%\\conf\\server.xml</code> and take the <strong>port</strong> for the HTTP protocol. <code>&lt;Connector port=\"8080\" ... /&gt;</code>. The default value is <strong>8080</strong>.</p></li>\n<li><p>Access the following URL: </p>\n\n<p><code>[&lt;protocol&gt;://]localhost:&lt;port&gt;/folder/resourceName</code></p>\n\n<p>(E.g.: <code>localhost:8080/folder/resourceName</code>)</p></li>\n</ol>\n\n<p>Don't try to access the URL without the <code>resourceName</code> because it won't work if there is no file like <code>index.html</code>, or if there is no url pattern like \"<code>/</code>\" or \"<code>/*</code>\" in <strong>web.xml</strong>.</p>\n\n<p>The available main paths are here: <code>[&lt;protocol&gt;://]localhost:&lt;port&gt;/manager/html</code> (E.g.: <code>http://localhost:8080/manager/html</code>) and they have <code>true</code> on the \"Running\" column.</p>\n\n<hr>\n\n<h3>Using the UI manager:</h3>\n\n<ol>\n<li><p>Go to <code>[&lt;protocol&gt;://]localhost:&lt;port&gt;/manager/html/</code> (usually <code>localhost:8080/manager/html/</code>) </p>\n\n<p>This is also achievable from <code>[&lt;protocol&gt;://]localhost:&lt;port&gt;</code> > <strong>Manager App</strong>)</p>\n\n<p>If you get:</p>\n\n<blockquote>\n  <p>403 Access Denied</p>\n</blockquote>\n\n<p>go to <code>%CATALINA_HOME%\\conf\\tomcat-users.xml</code> and check that you have enabled a line like this:</p>\n\n<pre><code>&lt;user username=\"tomcat\" password=\"tomcat\" roles=\"tomcat,role1,manager-gui\"/&gt;\n</code></pre></li>\n<li><p>In the <strong>Deploy</strong> section, WAR file to deploy subsection, click on <strong>Browse...</strong>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/zX4Ig.png\"><img src=\"http://i.stack.imgur.com/zX4Ig.png\" alt=\"Deploy browse\"></a></p></li>\n<li><p>Select the .war file (E.g.: prj.war) > click on <strong>Deploy</strong>.</p></li>\n<li>In the <strong>Applications</strong> section, you can see the name of your project (E.g.: prj).</li>\n</ol>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/25641247#25641247", "question_id": 5109112, "answer_id": 25641247}, {"body": "<p>step-1. here I'm deploying <strong>pos.war</strong> First go to tomcat webapps folder and past it    </p>\n\n<p><img src=\"http://i.stack.imgur.com/Rb4m1.png\" alt=\"enter image description here\"></p>\n\n<p>step-2.  go to tomcat-><strong>bin</strong> folder  start tomcat by clicking <strong>startup.bat</strong></p>\n\n<p>step-3. go to browser write localhost:port/project name eg. <strong>localhost:8080/pos</strong> (here my tomcat run on port 8080)</p>\n\n<p>Done....</p>\n\n<p><img src=\"http://i.stack.imgur.com/Ksh0V.png\" alt=\"enter image description here\"></p>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/27270733#27270733", "question_id": 5109112, "answer_id": 27270733}, {"body": "<p>Perform the following steps:       </p>\n\n<ul>\n<li>Stop the Tomcat </li>\n<li>Right Click on Project and click on \"Clean and Build\"</li>\n<li>Go to your project Directory and inside Dist Folder you will get war file that you copy on your tomcat</li>\n<li>webApp Folder </li>\n<li>Start the tomcat </li>\n<li>automatic war file extract and run your project</li>\n</ul>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/30497330#30497330", "question_id": 5109112, "answer_id": 30497330}, {"body": "<p>I followed the instruction in the following link, it works for me.\n<a href=\"http://www.coderanch.com/t/487178/Tomcat/war-file-show-load\" rel=\"nofollow\">http://www.coderanch.com/t/487178/Tomcat/war-file-show-load</a></p>\n\n<blockquote>\n  <ol>\n  <li><p>Stop Tomcat</p></li>\n  <li><p>Delete all the logs in <strong>tomcat/logs</strong> and all files in <strong>tomcat/conf/Catalina/localhost</strong></p></li>\n  <li><p>Remove the war file and the directory it created (if it did) from <strong>tomact/webapps</strong></p></li>\n  <li><p>Start Tomcat</p></li>\n  <li><p>While watching the logs, copy the war file to the webapps directory again</p></li>\n  </ol>\n</blockquote>\n\n<p>After this, keep an eye on the <strong>catalina.xxxx-xx-xx.log</strong> to find out the issue.</p>\n", "title": "How to deploy a war file in Tomcat 7", "tags": ["java", "tomcat", "war"], "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7/33337816#33337816", "question_id": 5109112, "answer_id": 33337816}], "creation_date": 1298573550, "score": 190, "link": "http://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7", "question_id": 5109112}, {"body": "<p>I can use this:</p>\n\n<pre><code>String str = \"TextX Xto modifyX\";\nstr = str.replace('X','');//that does not work because there is no such character ''\n</code></pre>\n\n<p>Is there a way to remove all occurrences of character <code>X</code> from a String in Java?</p>\n\n<p>I tried this and is not what I want: <code>str.replace('X',' '); //replace with space</code></p>\n", "tags": ["java", "string", "character"], "title": "Remove all occurrences of char from string", "answers": [{"body": "<p>using</p>\n\n<pre><code>public String replaceAll(String regex, String replacement)\n</code></pre>\n\n<p>will work</p>\n\n<p>usage would be <code>str.replace(\"X\", \"\");</code></p>\n\n<p>executing </p>\n\n<pre><code>\"Xlakjsdf Xxx\".replaceAll(\"X\", \"\");\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>lakjsdf xx\n</code></pre>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/4576367#4576367", "question_id": 4576352, "answer_id": 4576367}, {"body": "<p>Try using the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\">overload that takes <code>CharSequence</code> arguments</a> (eg, <code>String</code>) rather than <code>char</code>:</p>\n\n<pre><code>str = str.replace(\"X\", \"\");\n</code></pre>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/4576372#4576372", "question_id": 4576352, "answer_id": 4576372}, {"body": "<p>If you want to do something with Java Strings, <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#remove%28java.lang.String,%20char%29\">Commons Lang StringUtils</a> is a great place to look.</p>\n\n<pre><code>StringUtils.remove(\"TextX Xto modifyX\", 'X');\n</code></pre>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/7776867#7776867", "question_id": 4576352, "answer_id": 7776867}, {"body": "<p>You can use <code>str = str.replace(\"X\", \"\");</code> as mentioned before and you will be fine. For your information <code>''</code> is not an empty (or a valid) character but <code>'\\0'</code> is. </p>\n\n<p>So you could use <code>str = str.replace('X', '\\0');</code> instead.</p>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/11325546#11325546", "question_id": 4576352, "answer_id": 11325546}, {"body": "<pre><code>String test = \"09-09-2012\";\nString arr [] = test.split(\"-\");\nString ans = \"\";\n\nfor(String t : arr)\n    ans+=t;\n</code></pre>\n\n<p>This is the example for where I have removed the character - from the String.</p>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/12624359#12624359", "question_id": 4576352, "answer_id": 12624359}, {"body": "<p>Hello Try this code below</p>\n\n<pre><code>public class RemoveCharacter {\n\n    public static void main(String[] args){\n        String str = \"MXy nameX iXs farXazX\";\n        char x = 'X';\n        System.out.println(removeChr(str,x));\n    }\n\n    public static String removeChr(String str, char x){\n        StringBuilder strBuilder = new StringBuilder();\n        char[] rmString = str.toCharArray();\n        for(int i=0; i&lt;rmString.length; i++){\n            if(rmString[i] == x){\n\n            } else {\n                strBuilder.append(rmString[i]);\n            }\n        }\n        return strBuilder.toString();\n    }\n}\n</code></pre>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/16017443#16017443", "question_id": 4576352, "answer_id": 16017443}, {"body": "<p>I like using RegEx in this occasion:</p>\n\n<pre><code>str = str.replace(/X/g, '');\n</code></pre>\n\n<p>where g means global so it will go through your whole string and replace all X with '';\nif you want to replace both X and x, you simply say:</p>\n\n<pre><code>str = str.replace(/X|x/g, '');\n</code></pre>\n\n<p>(see my fiddle here: <a href=\"http://jsfiddle.net/gerritb/HpBc2/2/\" rel=\"nofollow\">fiddle</a>)</p>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/18832027#18832027", "question_id": 4576352, "answer_id": 18832027}, {"body": "<pre><code>package com.acn.demo.action;\n\npublic class RemoveCharFromString {\n\n    static String input = \"\";\n    public static void main(String[] args) {\n        input = \"abadbbeb34erterb\";\n        char token = 'b';\n        removeChar(token);\n    }\n\n    private static void removeChar(char token) {\n        // TODO Auto-generated method stub\n        System.out.println(input);\n        for (int i=0;i&lt;input.length();i++) {\n            if (input.charAt(i) == token) {\n            input = input.replace(input.charAt(i), ' ');\n                System.out.println(\"MATCH FOUND\");\n            }\n            input = input.replaceAll(\" \", \"\");\n            System.out.println(input);\n        }\n    }\n}\n</code></pre>\n", "title": "Remove all occurrences of char from string", "tags": ["java", "string", "character"], "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string/29962305#29962305", "question_id": 4576352, "answer_id": 29962305}], "creation_date": 1293925383, "score": 187, "link": "http://stackoverflow.com/questions/4576352/remove-all-occurrences-of-char-from-string", "question_id": 4576352}, {"body": "<p>There have been <a href=\"http://stackoverflow.com/questions/4762573/should-embeddable-jpa-class-implement-equals-and-hashcode\">some</a> <a href=\"http://stackoverflow.com/questions/3147166/how-to-implement-equals-and-hashcode-methods-in-baseentity-of-jpa\">discussions</a> here about JPA entities and which <code>hashCode()</code>/<code>equals()</code> implementation should be used for JPA entity classes.  Most (if not all) of them depend on Hibernate, but I'd like to discuss them JPA-implementation-neutrally (I am using EclipseLink, by the way).</p>\n\n<p>All possible implementations are having their own <strong>advantages</strong> and <strong>disadvantages</strong> regarding:</p>\n\n<ul>\n<li><strong><code>hashCode()</code>/<code>equals()</code></strong> contract <strong>conformity</strong> (immutability) for <code>List</code>/<code>Set</code> operations</li>\n<li>Whether <strong>identical</strong> objects (e.g. from different sessions, dynamic proxies from lazily-loaded data structures) can be detected</li>\n<li>Whether entities behave correctly in <strong>detached (or non-persisted) state</strong> \n<br></li>\n</ul>\n\n<p>As far I can see, there are <strong>three options</strong>: </p>\n\n<ol>\n<li>Do not override them; rely on <code>Object.equals()</code> and <code>Object.hashCode()</code>\n<ul>\n<li><code>hashCode()</code>/<code>equals()</code> work</li>\n<li>cannot identify identical objects, problems with dynamic proxies</li>\n<li>no problems with detached entities</li>\n</ul></li>\n<li>Override them, based on the <strong>primary key</strong>\n<ul>\n<li><code>hashCode()</code>/<code>equals()</code> are broken</li>\n<li>correct identity (for all managed entities)</li>\n<li>problems with detached entities</li>\n</ul></li>\n<li>Override them, based on the <strong>Business-Id</strong> (non-primary key fields; what about foreign keys?)\n<ul>\n<li><code>hashCode()</code>/<code>equals()</code> are broken</li>\n<li>correct identity (for all managed entities)</li>\n<li>no problems with detached entities</li>\n</ul></li>\n</ol>\n\n<p><strong>My questions are:</strong></p>\n\n<ol>\n<li>Did I miss an option and/or pro/con point?<br></li>\n<li>What option did you choose and why?</li>\n</ol>\n\n<p><br><br>\n<strong>UPDATE 1:</strong></p>\n\n<p>By \"<code>hashCode()</code>/<code>equals()</code> are broken\", I mean that successive <code>hashCode()</code> invocations may return differing values, which is (when correctly implemented) not broken in the sense of the <code>Object</code> API documentation, but which causes problems when trying to retrieve a changed entity from a <code>Map</code>,  <code>Set</code> or other hash-based <code>Collection</code>.  Consequently, JPA implementations (at least EclipseLink) will not work correctly in some cases.</p>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>Thank you for your answers -- most of them have remarkable quality.<br>\nUnfortunately, I am still unsure which approach will be the best for a real-life application, or how to determine the best approach for my application.  So, I'll keep the question open and hope for some more discussions and/or opinions.</p>\n", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "title": "The JPA hashCode() / equals() dilemma", "answers": [{"body": "<p>I always override equals/hashcode and implement it based on the business id. Seems the most reasonable solution for me. See the following <a href=\"http://community.jboss.org/wiki/EqualsandHashCode\">link</a>.</p>\n\n<blockquote>\n  <p>To sum all this stuff up, here is a listing of what will work or won't work with the different ways to handle equals/hashCode: <img src=\"http://i.stack.imgur.com/Mkrab.png\" alt=\"enter image description here\"></p>\n</blockquote>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>To explain why this works for me:</p>\n\n<ol>\n<li>I don't usually use hashed-based collection (HashMap/HashSet) in my JPA application. If I must, I prefer to create UniqueList solution.</li>\n<li>I think changing business id on runtime is not a best practice for any database application. On rare cases where there is no other solution, I'd do special treatment like remove the element and put it back to the hashed-based collection.</li>\n<li>For my model, I set the business id on constructor and doesn't provide setters for it. I let JPA implementation to change the <strong>field</strong> instead of the property.</li>\n<li>UUID solution seems to be overkill. Why UUID if you have natural business id? I would after all set the uniqueness of the business id in the database. Why having <strong>THREE</strong> indexes for each table in the database then?</li>\n</ol>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5031954#5031954", "question_id": 5031614, "answer_id": 5031954}, {"body": "<p>I personally already used all of these three stategies in different projects. An I must say that option 1 is in my opinion the most practicable in a real life app. A made the experience breaking hashCode()/equals() conformity leads to many crazy bugs as you will every time end up in situations where result of equality changes after an entity has been added to a collection.</p>\n\n<p>But there are further options (also with their pros and cons):</p>\n\n<hr>\n\n<p>a) hashCode/equals based on a set of <strong>immutable</strong>, <strong>not null</strong>, <strong>constructor assigned</strong>, fields</p>\n\n<p>(+) all three criterias are guaranteed</p>\n\n<p>(-) field values must be available to create a new instance</p>\n\n<p>(-) complicate handling if you must change one of then</p>\n\n<hr>\n\n<p>b) hashCode/equals based on primary key that is assigned by application (in constructor) instead of JPA</p>\n\n<p>(+) all three criterias are guaranteed</p>\n\n<p>(-) you cannot take advantage of simple reliable ID generation stategies like DB sequences</p>\n\n<p>(-) complicated if new entities are created in a distributed environment (client/server) or app server cluster</p>\n\n<hr>\n\n<p>c) hashCode/equals based on a <a href=\"http://de.wikipedia.org/wiki/UUID\">UUID</a> assigned by constructor of entity</p>\n\n<p>(+) all three criterias are guaranteed</p>\n\n<p>(-) overhead of UUID generation</p>\n\n<p>(-) may be a little risk that twice the same UUID is used, depending on algorythm used (may be detected by an unique index on DB)</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5032013#5032013", "question_id": 5031614, "answer_id": 5032013}, {"body": "<p>If you want to use <code>equals()/hashCode()</code> for your Sets, in the sense that the <em>same entity</em> can only be in there once, then there is only one option: Option 2. That's because a <strong>primary key</strong> for an entity by definition never changes (if somebody indeed updates it, it's not the same entity anymore)</p>\n\n<p>You should take that literally: Since your <code>equals()/hashCode()</code> are based on the primary key, you must not use these methods, until the primary key is set. So you shouldn't put entities in the set, until they're assigned a primary key. (Yes, UUIDs and similar concepts may help to assign primary keys early.)</p>\n\n<p>Now, it's theoretically also possible to achieve that with Option 3, even though so-called \"business-keys\" have the nasty drawback that they can change: \"All you'll have to do is delete the already inserted entities from the set(s), and re-insert them.\" That is true - but it also means, that in a distributed system, you'll have to make sure, that this is done absolutely everywhere the data has been inserted to (and you'll have to make sure, that the update is performed, before other things occur). You'll need a sophisticated update mechanism, especially if some remote systems aren't currently reachable...</p>\n\n<p>Option 1 can only be used, if all the objects in your sets are from the same Hibernate session. The Hibernate documentation makes this very clear in chapter <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/transactions.html#transactions-basics-identity\">13.1.3. Considering object identity</a>:</p>\n\n<blockquote>\n  <p>Within a Session the application can safely use == to compare objects.</p>\n  \n  <p>However, an application that uses == outside of a Session might produce unexpected results. This might occur even in some unexpected places. For example, if you put two detached instances into the same Set, both might have the same database identity (i.e., they represent the same row). JVM identity, however, is by definition not guaranteed for instances in a detached state. The developer has to override the equals() and hashCode() methods in persistent classes and implement their own notion of object equality.</p>\n</blockquote>\n\n<p>It continues to argue in favor of Option 3:</p>\n\n<blockquote>\n  <p>There is one caveat: never use the database identifier to implement equality. Use a business key that is a combination of unique, usually immutable, attributes. The database identifier will change if a transient object is made persistent. If the transient instance (usually together with detached instances) is held in a Set, changing the hashcode breaks the contract of the Set.</p>\n</blockquote>\n\n<p>This is true, <strong>if</strong> you </p>\n\n<ul>\n<li>cannot assign the id early (e.g. by using UUIDs)</li>\n<li>and yet you absolutely want to put your objects in sets while they're in transient state.</li>\n</ul>\n\n<p>Otherwise, you're free to choose Option 2.</p>\n\n<p>Then it mentions the need for a relative stability:</p>\n\n<blockquote>\n  <p>Attributes for business keys do not have to be as stable as database primary keys; you only have to guarantee stability as long as the objects are in the same Set.</p>\n</blockquote>\n\n<p>This is correct. The practical problem I see with this is: If you can't guarantee absolute stability, how will you be able to guarantee stability \"as long as the objects are in the same Set\". I can imagine some special cases (like using sets only for a conversation and then throwing it away), but I would question the general practicability of this.</p>\n\n<hr>\n\n<p>Short version:</p>\n\n<ul>\n<li>Option 1 can only be used with objects within a single session.</li>\n<li>If you can, use Option 2. (Assign PK as early as possible, because you can't use the objects in sets until the PK is assigned.)</li>\n<li>If you can guarantee relative stability, you can use Option 3. But be careful with this.</li>\n</ul>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5032837#5032837", "question_id": 5031614, "answer_id": 5032837}, {"body": "<p>There are obviously already very informative answers here but I will tell you what we do.</p>\n\n<p>We do nothing (ie do not override).</p>\n\n<p>If we do need equals/hashcode to work for collections we use UUIDs.\nYou just create the UUID in the constructor. We use <a href=\"http://wiki.fasterxml.com/JugHome\" rel=\"nofollow\">http://wiki.fasterxml.com/JugHome</a> for UUID. UUID is a little more expensive CPU wise but is cheap compared to serialization and db access.</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5068348#5068348", "question_id": 5031614, "answer_id": 5068348}, {"body": "<p>We usually have two IDs in our entities: </p>\n\n<ol>\n<li>Is for persistence layer only (so that persistence provider and database can figure out relationships between objects).</li>\n<li>Is for our application needs (<code>equals()</code> and <code>hashCode()</code> in particular)</li>\n</ol>\n\n<p>Take a look: </p>\n\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    private int id;  // Persistence ID\n    private UUID uuid; // Business ID\n\n    // assuming all fields are subject to change\n    // If we forbid users change their email or screenName we can use these\n    // fields for business ID instead, but generally that's not the case\n    private String screenName;\n    private String email;\n\n    // I don't put UUID generation in constructor for performance reasons. \n    // I call setUuid() when I create a new entity\n    public User() {\n    }\n\n    // This method is only called when a brand new entity is added to \n    // persistence context - I add it as a safety net only but it might work \n    // for you. In some cases (say, when I add this entity to some set before \n    // calling em.persist()) setting a UUID might be too late. If I get a log \n    // output it means that I forgot to call setUuid() somewhere.\n    @PrePersist\n    public void ensureUuid() {\n        if (getUuid() == null) {\n            log.warn(format(\"User's UUID wasn't set on time. \" \n                + \"uuid: %s, name: %s, email: %s\",\n                getUuid(), getScreenName(), getEmail()));\n            setUuid(UUID.randomUUID());\n        }\n    }\n\n    // equals() and hashCode() rely on non-changing data only. Thus we \n    // guarantee that no matter how field values are changed we won't \n    // lose our entity in hash-based Sets.\n    @Override\n    public int hashCode() {\n        return getUuid().hashCode();\n    }\n\n    // Note that I don't use direct field access inside my entity classes and\n    // call getters instead. That's because Persistence provider (PP) might\n    // want to load entity data lazily. And I don't use \n    //    this.getClass() == other.getClass() \n    // for the same reason. In order to support laziness PP might need to wrap\n    // my entity object in some kind of proxy, i.e. subclassing it.\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj)\n            return true;\n        if (!(obj instanceof User))\n            return false;\n        return getUuid().equals(((User) obj).getUuid());\n    }\n\n    // Getters and setters follow\n}\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> to clarify my point regarding calls to <code>setUuid()</code> method. Here's a typical scenario:</p>\n\n<pre><code>User user = new User();\n// user.setUuid(UUID.randomUUID()); // I should have called it here\nuser.setName(\"Master Yoda\");\nuser.setEmail(\"yoda@jedicouncil.org\");\n\njediSet.add(user); // here's bug - we forgot to set UUID and \n                   //we won't find Yoda in Jedi set\n\nem.persist(user); // ensureUuid() was called and printed the log for me.\n\njediCouncilSet.add(user); // Ok, we got a UUID now\n</code></pre>\n\n<p>When I run my tests and see the log output I fix the problem:</p>\n\n<pre><code>User user = new User();\nuser.setUuid(UUID.randomUUID());\n</code></pre>\n\n<p>Alternatively, one can provide a separate constructor:</p>\n\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    private int id;  // Persistence ID\n    private UUID uuid; // Business ID\n\n    ... // fields\n\n    // Constructor for Persistence provider to use\n    public User() {\n    }\n\n    // Constructor I use when creating new entities\n    public User(UUID uuid) {\n        setUuid(uuid);\n    }\n\n    ... // rest of the entity.\n}\n</code></pre>\n\n<p>So my example would look like this:</p>\n\n<pre><code>User user = new User(UUID.randomUUID());\n...\njediSet.add(user); // no bug this time\n\nem.persist(user); // and no log output\n</code></pre>\n\n<p>I use a default constructor and a setter, but you may find two-constructors approach more suitable for you.</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5103360#5103360", "question_id": 5031614, "answer_id": 5103360}, {"body": "<p>I agree with Andrew's answer. We do the same thing in our application but instead of storing UUIDs as VARCHAR/CHAR, we split it into two long values. See UUID.getLeastSignificantBits() and UUID.getMostSignificantBits().</p>\n\n<p>One more thing to consider, is that calls to UUID.randomUUID() are pretty slow, so you might want to look into lazily generating the UUID only when needed, such as during persistence or calls to equals()/hashCode()</p>\n\n<pre><code>@MappedSuperclass\npublic abstract class AbstractJpaEntity extends AbstractMutable implements Identifiable, Modifiable {\n\n    private static final long   serialVersionUID    = 1L;\n\n    @Version\n    @Column(name = \"version\", nullable = false)\n    private int                 version             = 0;\n\n    @Column(name = \"uuid_least_sig_bits\")\n    private long                uuidLeastSigBits    = 0;\n\n    @Column(name = \"uuid_most_sig_bits\")\n    private long                uuidMostSigBits     = 0;\n\n    private transient int       hashCode            = 0;\n\n    public AbstractJpaEntity() {\n        //\n    }\n\n    public abstract Integer getId();\n\n    public abstract void setId(final Integer id);\n\n    public boolean isPersisted() {\n        return getId() != null;\n    }\n\n    public int getVersion() {\n        return version;\n    }\n\n    //calling UUID.randomUUID() is pretty expensive, \n    //so this is to lazily initialize uuid bits.\n    private void initUUID() {\n        final UUID uuid = UUID.randomUUID();\n        uuidLeastSigBits = uuid.getLeastSignificantBits();\n        uuidMostSigBits = uuid.getMostSignificantBits();\n    }\n\n    public long getUuidLeastSigBits() {\n        //its safe to assume uuidMostSigBits of a valid UUID is never zero\n        if (uuidMostSigBits == 0) {\n            initUUID();\n        }\n        return uuidLeastSigBits;\n    }\n\n    public long getUuidMostSigBits() {\n        //its safe to assume uuidMostSigBits of a valid UUID is never zero\n        if (uuidMostSigBits == 0) {\n            initUUID();\n        }\n        return uuidMostSigBits;\n    }\n\n    public UUID getUuid() {\n        return new UUID(getUuidMostSigBits(), getUuidLeastSigBits());\n    }\n\n    @Override\n    public int hashCode() {\n        if (hashCode == 0) {\n            hashCode = (int) (getUuidMostSigBits() &gt;&gt; 32 ^ getUuidMostSigBits() ^ getUuidLeastSigBits() &gt;&gt; 32 ^ getUuidLeastSigBits());\n        }\n        return hashCode;\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (obj == null) {\n            return false;\n        }\n        if (!(obj instanceof AbstractJpaEntity)) {\n            return false;\n        }\n        //UUID guarantees a pretty good uniqueness factor across distributed systems, so we can safely\n        //dismiss getClass().equals(obj.getClass()) here since the chance of two different objects (even \n        //if they have different types) having the same UUID is astronomical\n        final AbstractJpaEntity entity = (AbstractJpaEntity) obj;\n        return getUuidMostSigBits() == entity.getUuidMostSigBits() &amp;&amp; getUuidLeastSigBits() == entity.getUuidLeastSigBits();\n    }\n\n    @PrePersist\n    public void prePersist() {\n        // make sure the uuid is set before persisting\n        getUuidLeastSigBits();\n    }\n\n}\n</code></pre>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5130025#5130025", "question_id": 5031614, "answer_id": 5130025}, {"body": "<p>Read this very nice article on the subject: <a href=\"http://onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1\">Don't Let Hibernate Steal Your Identity</a>.</p>\n\n<p>The conclusion of the article goes like this:</p>\n\n<blockquote>\n  <p>Object identity is deceptively hard to implement correctly when\n  objects are persisted to a database. However, the problems stem\n  entirely from allowing objects to exist without an id before they are\n  saved. We can solve these problems by taking the responsibility of\n  assigning object IDs away from object-relational mapping frameworks\n  such as Hibernate. Instead, object IDs can be assigned as soon as the\n  object is instantiated. This makes object identity simple and\n  error-free, and reduces the amount of code needed in the domain model.</p>\n</blockquote>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/5729992#5729992", "question_id": 5031614, "answer_id": 5729992}, {"body": "<p>If UUID is the answer for many people, why don't we just use factory methods from business layer to create the entities and assign primary key at creation time?</p>\n\n<p>for example:</p>\n\n<pre><code>@ManagedBean\npublic class MyCarFacade {\n  public Car createCar(){\n    Car car = new Car();\n    em.persist(car);\n    return car;\n  }\n}\n</code></pre>\n\n<p>this way we would get a default primary key for the entity from the persistence provider, and our hashCode() and equals() functions could rely on that.</p>\n\n<p>We could also declare the Car's constructors protected and then use reflection in our business method to access them. This way developers would not be intent on instantiate Car with new, but through factory method.</p>\n\n<p>How'bout that?</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/11051931#11051931", "question_id": 5031614, "answer_id": 11051931}, {"body": "<p>As other people way smarter than me has pointed out already, there's a numerous amount of strategies out there. It seems to be the case though that the majority of applied design patterns try to hack their way to success. They limit constructor access if not hinder constructor invocations completely with specialized constructors and factory methods. Indeed it is always pleasant with a clear cut API. But if the sole reason is to make the equals- and hashcode overrides be compatible with the application, then I wonder if those strategies are in compliance with KISS (Keep It Simple Stupid).</p>\n\n<p>For me, I like to override equals and hashcode by way of examining the id. In these methods, I require the id to not be null and document this behavior well. Thus it will become the developers contract to persist a new entity before storing him somewhere else. An application that does not honor this contract would fail within the minute (hopefully).</p>\n\n<p>Word of caution though: If your entities are stored in different tables and your provider use an auto-generation strategy for the primary key, then you'll get duplicated primary keys across entity types. In such case, also compare run time types with a call to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#getClass%28%29\" rel=\"nofollow\">Object#getClass()</a> which of course will make it impossible that two different types are considered equal. That suits me just fine for the most part.</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/16382764#16382764", "question_id": 5031614, "answer_id": 16382764}, {"body": "<p>I have always used option 1 in the past because I was aware of these discussions and thought it was better to do nothing until I knew the right thing to do. Those systems are all still running successfully.</p>\n\n<p>However, next time I may try option 2 - using the database generated Id.</p>\n\n<p>Hashcode and equals will throw IllegalStateException if the id is not set.</p>\n\n<p>This will prevent subtle errors involving unsaved entities from appearing unexpectedly.</p>\n\n<p>What do people think of this approach?</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/18541744#18541744", "question_id": 5031614, "answer_id": 18541744}, {"body": "<p>Although using a business key (option 3) is the most commonly recommended approach (<a href=\"https://community.jboss.org/wiki/EqualsAndHashCode\">Hibernate community wiki</a>, \"Java Persistence with Hibernate\" p. 398), and this is what we mostly use, there's a Hibernate bug which breaks this for eager-fetched sets: <a href=\"https://hibernate.atlassian.net/browse/HHH-3799\">HHH-3799</a>.  In this case, Hibernate can add an entity to a set before its fields are initialized.  I'm not sure why this bug hasn't gotten more attention, as it really makes the recommended business-key approach problematic.</p>\n\n<p>I think the heart of the matter is that equals and hashCode should be based on immutable state (reference <a href=\"http://www.artima.com/lejava/articles/equality.html\">Odersky et al.</a>), and a Hibernate entity with Hibernate-managed primary key has <em>no</em> such immutable state.  The primary key is modified by Hibernate when a transient object becomes persistent.  The business key is also modified by Hibernate, when it hydrates an object in the process of being initialized.</p>\n\n<p>That leaves only option 1, inheriting the java.lang.Object implementations based on object identity, or using an application-managed primary key as suggested by James Brundege in <a href=\"http://www.onjava.com/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html\">\"Don't Let Hibernate Steal Your Identity\"</a> (already referenced by Stijn Geukens's answer) and by Lance Arlaus in <a href=\"http://www.devx.com/Java/Article/30396\">\"Object Generation: A Better Approach to Hibernate Integration\"</a>.</p>\n\n<p>The biggest problem with option 1 is that detached instances can't be compared with persistent instances using .equals().  But that's OK; the contract of equals and hashCode leaves it up to the developer to decide what equality means for each class.  So just let equals and hashCode inherit from Object.  If you need to compare a detached instance to a persistent instance, you can create a new method explicitly for that purpose, perhaps <code>boolean sameEntity</code> or <code>boolean dbEquivalent</code> or <code>boolean businessEquals</code>.</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/18776798#18776798", "question_id": 5031614, "answer_id": 18776798}, {"body": "<p>I tried to answer this question myself and was never totally happy with found solutions until i read this post and especially DREW one. I liked the way he lazy created UUID and optimally stored it.</p>\n\n<p>But I wanted to add even more flexibility, ie lazy create UUID ONLY when hashCode()/equals() is accessed before first persistence of the entity with each solution's advantages : </p>\n\n<ul>\n<li>equals() means \"object refers to the same logical entity\"</li>\n<li>use database ID as much as possible because why would I do the work twice (performance concern)</li>\n<li>prevent problem while accessing hashCode()/equals() on not yet persisted entity and keep the same behaviour after it is indeed persisted</li>\n</ul>\n\n<p>I would really apreciate feedback on my mixed-solution below</p>\n\n<blockquote>\n<pre><code>public class MyEntity { \n\n    @Id()\n    @Column(name = \"ID\", length = 20, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id = null;\n\n    @Transient private UUID uuid = null;\n\n    @Column(name = \"UUID_MOST\", nullable = true, unique = false, updatable = false)\n    private Long uuidMostSignificantBits = null;\n    @Column(name = \"UUID_LEAST\", nullable = true, unique = false, updatable = false)\n    private Long uuidLeastSignificantBits = null;\n\n    @Override\n    public final int hashCode() {\n        return this.getUuid().hashCode();\n    }\n\n    @Override\n    public final boolean equals(Object toBeCompared) {\n        if(this == toBeCompared) {\n            return true;\n        }\n        if(toBeCompared == null) {\n            return false;\n        }\n        if(!this.getClass().isInstance(toBeCompared)) {\n            return false;\n        }\n        return this.getUuid().equals(((MyEntity)toBeCompared).getUuid());\n    }\n\n    public final UUID getUuid() {\n        // UUID already accessed on this physical object\n        if(this.uuid != null) {\n            return this.uuid;\n        }\n        // UUID one day generated on this entity before it was persisted\n        if(this.uuidMostSignificantBits != null) {\n            this.uuid = new UUID(this.uuidMostSignificantBits, this.uuidLeastSignificantBits);\n        // UUID never generated on this entity before it was persisted\n        } else if(this.getId() != null) {\n            this.uuid = new UUID(this.getId(), this.getId());\n        // UUID never accessed on this not yet persisted entity\n        } else {\n            this.setUuid(UUID.randomUUID());\n        }\n        return this.uuid; \n    }\n\n    private void setUuid(UUID uuid) {\n        if(uuid == null) {\n            return;\n        }\n        // For the one hypothetical case where generated UUID could colude with UUID build from IDs\n        if(uuid.getMostSignificantBits() == uuid.getLeastSignificantBits()) {\n            throw new Exception(\"UUID: \" + this.getUuid() + \" format is only for internal use\");\n        }\n        this.uuidMostSignificantBits = uuid.getMostSignificantBits();\n        this.uuidLeastSignificantBits = uuid.getLeastSignificantBits();\n        this.uuid = uuid;\n    }\n</code></pre>\n</blockquote>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/21580054#21580054", "question_id": 5031614, "answer_id": 21580054}, {"body": "<p>Below is a <strong>simple</strong> (and tested) solution for Scala. </p>\n\n<ul>\n<li><p>Note that this solution does not fit into any of the 3 categories\ngiven in the question.  </p></li>\n<li><p>All my Entities are subclasses of the UUIDEntity so I follow the\ndon't-repeat-yourself (DRY) principle.</p></li>\n<li><p>If needed the UUID generation can be made more precise (by using more\npseudo-random numbers).</p></li>\n</ul>\n\n<p>Scala Code:</p>\n\n<pre><code>import javax.persistence._\nimport scala.util.Random\n\n@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nabstract class UUIDEntity {\n  @Id  @GeneratedValue(strategy = GenerationType.TABLE)\n  var id:java.lang.Long=null\n  var uuid:java.lang.Long=Random.nextLong()\n  override def equals(o:Any):Boolean= \n    o match{\n      case o : UUIDEntity =&gt; o.uuid==uuid\n      case _ =&gt; false\n    }\n  override def hashCode() = uuid.hashCode()\n}\n</code></pre>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/21628957#21628957", "question_id": 5031614, "answer_id": 21628957}, {"body": "<p>This is a common problem in every IT system that uses Java and JPA. The pain point extends beyond implementing equals() and hashCode(), it affects how an organization refer to an entity and how its clients refer to the same entity. I've seen enough pain of not having a business key to the point that I wrote <a href=\"http://geeksrandomthoughts.blogspot.com/2014/10/my-take-on-dont-let-hibernate-steal.html\" rel=\"nofollow\">my own blog</a> to express my view.</p>\n\n<p>In short: use a short, human readable, sequential ID with meaningful prefixes as business key that's generated without any dependency on any storage other than RAM. Twitter's <a href=\"https://github.com/twitter/snowflake\" rel=\"nofollow\">Snowflake</a> is a very good example.</p>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/26387579#26387579", "question_id": 5031614, "answer_id": 26387579}, {"body": "<ol>\n<li>If you have a <a href=\"http://vladmihalcea.com/2013/10/23/hibernate-facts-equals-and-hashcode/\" rel=\"nofollow\">business key</a>, then you should use that for <code>equals</code>/<code>hashCode</code>.</li>\n<li>If you don't have a business key, you should not leave it with the default <code>Object</code> equals and hashCode implementations because that does not work after you <code>merge</code> and entity.</li>\n<li><p>You can <a href=\"https://vladmihalcea.com/2016/06/06/how-to-implement-equals-and-hashcode-using-the-entity-identifier/\" rel=\"nofollow\">use the entity identifier as suggested in this post</a>. The only catch is that you need to use a <code>hashCode</code> implementation that always return the same value, like this:</p>\n\n<pre><code>@Entity\npublic class Book implements Identifiable&lt;Long&gt; {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String title;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Book)) return false;\n        Book book = (Book) o;\n        return Objects.equals(getId(), book.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return 31;\n    }\n\n    //Getters and setters omitted for brevity\n}\n</code></pre></li>\n</ol>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/26826084#26826084", "question_id": 5031614, "answer_id": 26826084}, {"body": "<p>Business keys approach doesn't suit for us. We use DB generated <strong>ID</strong>, temporary transient <strong>tempId</strong> and <strong>override</strong> equal()/hashcode() to solve the dilemma. All entities are descendants of Entity. Pros:</p>\n\n<ol>\n<li>No extra fields in DB</li>\n<li>No extra coding in descendants entities, one approach for all</li>\n<li>No performance issues (like with UUID), DB Id generation</li>\n<li>No problem with Hashmaps (don't need to keep in mind the use of equal &amp; etc.)</li>\n<li>Hashcode of new entity doesn't changed in time even after persisting</li>\n</ol>\n\n<p>Cons:</p>\n\n<ol>\n<li>There are may be problems with serializing and deserializing not persisted entities</li>\n<li>Hashcode of the saved entity may change after reloading from DB</li>\n<li>Not persisted objects considered always different (maybe this is right?)</li>\n<li>What else?</li>\n</ol>\n\n<p>Look at our code:</p>\n\n<pre><code>@MappedSuperclass\nabstract public class Entity implements Serializable {\n\n    @Id\n    @GeneratedValue\n    @Column(nullable = false, updatable = false)\n    protected Long id;\n\n    @Transient\n    private Long tempId;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    private void setTempId(Long tempId) {\n        this.tempId = tempId;\n    }\n\n    // Fix Id on first call from equal() or hashCode()\n    private Long getTempId() {\n        if (tempId == null)\n            // if we have id already, use it, else use 0\n            setTempId(getId() == null ? 0 : getId());\n        return tempId;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (super.equals(obj))\n            return true;\n        // take proxied object into account\n        if (obj == null || !Hibernate.getClass(obj).equals(this.getClass()))\n            return false;\n        Entity o = (Entity) obj;\n        return getTempId() != 0 &amp;&amp; o.getTempId() != 0 &amp;&amp; getTempId().equals(o.getTempId());\n    }\n\n    // hash doesn't change in time\n    @Override\n    public int hashCode() {\n        return getTempId() == 0 ? super.hashCode() : getTempId().hashCode();\n    }\n}\n</code></pre>\n", "title": "The JPA hashCode() / equals() dilemma", "tags": ["java", "hibernate", "jpa", "identity", "eclipselink"], "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma/29562376#29562376", "question_id": 5031614, "answer_id": 29562376}], "creation_date": 1297959733, "score": 186, "link": "http://stackoverflow.com/questions/5031614/the-jpa-hashcode-equals-dilemma", "question_id": 5031614}, {"body": "<p>I want to transfer a list object via Google Gson, but I don't know how to deserialize generic types. </p>\n\n<p>What I tried after looking at <a href=\"http://stackoverflow.com/questions/2496494/library-to-encode-decode-from-json-to-java-util-map\">this</a> (BalusC's answer):</p>\n\n<pre><code>MyClass mc = new Gson().fromJson(result, new List&lt;MyClass&gt;(){}.getClass());\n</code></pre>\n\n<p>but then I get an error in eclipse saying \"The type new List(){} must implement the inherited abstract method...\" and if I use a quick fix I get a monster of over 20 method stubs. </p>\n\n<p>I am pretty sure that there is an easier solution, but I seem unable to find it!</p>\n\n<p>Edit:</p>\n\n<p>Now I have </p>\n\n<pre><code>Type listType = new TypeToken&lt;List&lt;MyClass&gt;&gt;()\n                {\n                }.getType();\n\nMyClass mc = new Gson().fromJson(result, listType);\n</code></pre>\n\n<p>However, I do get the following exception at the \"fromJson\" line:</p>\n\n<pre><code>java.lang.NullPointerException\nat org.apache.harmony.luni.lang.reflect.ListOfTypes.length(ListOfTypes.java:47)\nat org.apache.harmony.luni.lang.reflect.ImplForType.toString(ImplForType.java:83)\nat java.lang.StringBuilder.append(StringBuilder.java:203)\nat com.google.gson.JsonDeserializerExceptionWrapper.deserialize(JsonDeserializerExceptionWrapper.java:56)\nat com.google.gson.JsonDeserializationVisitor.invokeCustomDeserializer(JsonDeserializationVisitor.java:88)\nat com.google.gson.JsonDeserializationVisitor.visitUsingCustomHandler(JsonDeserializationVisitor.java:76)\nat com.google.gson.ObjectNavigator.accept(ObjectNavigator.java:106)\nat com.google.gson.JsonDeserializationContextDefault.fromJsonArray(JsonDeserializationContextDefault.java:64)\nat com.google.gson.JsonDeserializationContextDefault.deserialize(JsonDeserializationContextDefault.java:49)\nat com.google.gson.Gson.fromJson(Gson.java:568)\nat com.google.gson.Gson.fromJson(Gson.java:515)\nat com.google.gson.Gson.fromJson(Gson.java:484)\nat com.google.gson.Gson.fromJson(Gson.java:434)\n</code></pre>\n\n<p>I <em>do</em> catch JsonParseExceptions and \"result\" is not null.</p>\n\n<p>I checked listType with the debugger and got the following:</p>\n\n<ul>\n<li>list Type \n\n<ul>\n<li>args = ListOfTypes\n\n<ul>\n<li>list = null</li>\n<li>resolvedTypes = Type[ 1 ]</li>\n</ul></li>\n<li>loader = PathClassLoader</li>\n<li>ownerType0 = null</li>\n<li>ownerTypeRes = null</li>\n<li>rawType = Class (java.util.ArrayList)</li>\n<li>rawTypeName = \"java.util.ArrayList\"</li>\n</ul></li>\n</ul>\n\n<p>so it seems the \"getClass\" invocation didn't work properly. Any suggestions...?</p>\n\n<p>Edit2:\nI'v checked on the <a href=\"http://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Gener\">Gson User Guide</a>. It mentions a Runtime Exception that should happen during parsing a generic type to Json. I did it \"wrong\" (not shown above), just as in the example, but didn't get that exception at all. So I changed the serialization as in the user guide suggested. Didn't help, though.</p>\n\n<p>Edit3: \nSolved, see my answer below.</p>\n", "tags": ["java", "json", "generics", "gson"], "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "answers": [{"body": "<p>Method to deserialize generic collection:</p>\n\n<pre><code>Type listType = new TypeToken&lt;ArrayList&lt;YourClass&gt;&gt;(){}.getType();\n\nList&lt;YourClass&gt; yourClassList = new Gson().fromJson(jsonArray, listType);\n</code></pre>\n\n<p>Import : <code>import java.lang.reflect.Type;</code></p>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/5554296#5554296", "question_id": 5554217, "answer_id": 5554296}, {"body": "<p>As it answers my original question, I have accepted doc_180's answer, but if someone runs into this problem again, I will answer the 2nd half of my question as well:</p>\n\n<p>The NullPointerError I described had nothing to do with the List itself, but with its content! </p>\n\n<p>The \"MyClass\" class didn't have a \"no args\" constructor, and neither had its superclass one. Once I added a simple \"MyClass()\" constructor to MyClass and its superclass, everything worked fine, including the List serialization and deserialization as suggested by doc_180.</p>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/5592457#5592457", "question_id": 5554217, "answer_id": 5592457}, {"body": "<p>Another way is to use an array as a type, e.g.:</p>\n\n<pre><code>MyClass[] mcArray = gson.fromJson(jsonString, MyClass[].class);\n</code></pre>\n\n<p>This way you avoid all the hassle with the Type object, and if you really need a list you can always convert the array to a list by:</p>\n\n<pre><code>List&lt;MyClass&gt; mcList = Arrays.asList(mcArray);\n</code></pre>\n\n<p>IMHO this is much more readable.</p>\n\n<p>And to make it be an actual list (that can be modified, see limitations of <code>Arrays.asList()</code>) then just do the following:</p>\n\n<pre><code>List&lt;MyClass&gt; mcList = new ArrayList&lt;&gt;(Arrays.asList(mcArray));\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/17300003#17300003", "question_id": 5554217, "answer_id": 17300003}, {"body": "<p>For those getting ambiguous Type import suggestions this is the one you want.</p>\n\n<pre><code>import java.lang.reflect.Type;\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/26051983#26051983", "question_id": 5554217, "answer_id": 26051983}, {"body": "<p>Refer to this post.\n<a href=\"http://stackoverflow.com/questions/14139437/java-type-generic-as-argument-for-gson\">Java Type Generic as Argument for GSON</a></p>\n\n<p>I have better solution for this. Here's the wrapper class for list so the wrapper can store the exactly type of list.</p>\n\n<pre><code>public class ListOfJson&lt;T&gt; implements ParameterizedType\n{\n  private Class&lt;?&gt; wrapped;\n\n  public ListOfJson(Class&lt;T&gt; wrapper)\n  {\n    this.wrapped = wrapper;\n  }\n\n  @Override\n  public Type[] getActualTypeArguments()\n  {\n      return new Type[] { wrapped };\n  }\n\n  @Override\n  public Type getRawType()\n  {\n    return List.class;\n  }\n\n  @Override\n  public Type getOwnerType()\n  {\n    return null;\n  }\n}\n</code></pre>\n\n<p>And then, the code can be simple:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; toList(String json, Class&lt;T&gt; typeClass)\n{\n    return sGson.fromJson(json, new ListOfJson&lt;T&gt;(typeClass));\n}\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/26394917#26394917", "question_id": 5554217, "answer_id": 26394917}, {"body": "<pre><code>public static final &lt;T&gt; List&lt;T&gt; getList(final Class&lt;T[]&gt; clazz, final String json)\n{\n    final T[] jsonToObject = new Gson().fromJson(json, clazz);\n\n    return Arrays.asList(jsonToObject);\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>getList(MyClass[].class, \"[{...}]\");\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/28805176#28805176", "question_id": 5554217, "answer_id": 28805176}, {"body": "<p>I want to add for one more possibility. If you don't want to use TypeToken and want to convert json objects array to an ArrayList, then you can proceed like this:</p>\n\n<p>If your json structure is like:</p>\n\n<pre><code>{\n\n\"results\": [\n    {\n        \"a\": 100,\n        \"b\": \"value1\",\n        \"c\": true\n    },\n    {\n        \"a\": 200,\n        \"b\": \"value2\",\n        \"c\": false\n    },\n    {\n        \"a\": 300,\n        \"b\": \"value3\",\n        \"c\": true\n    }\n]\n</code></pre>\n\n<p>}</p>\n\n<p>and your class structure is like:</p>\n\n<pre><code>public class ClassName implements Parcelable {\n\n    public ArrayList&lt;InnerClassName&gt; results = new ArrayList&lt;InnerClassName&gt;();\n    public static class InnerClassName {\n        int a;\n        String b;\n        boolean c;      \n    }\n}\n</code></pre>\n\n<p>then you can parse it like:</p>\n\n<pre><code>Gson gson = new Gson();\nfinal ClassName className = gson.fromJson(data, ClassName.class);\nint currentTotal = className.results.size();\n</code></pre>\n\n<p>Now you can access each element of className object.</p>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/32006864#32006864", "question_id": 5554217, "answer_id": 32006864}, {"body": "<p>I liked the answer from kays1 but I couldn't implement it. So I built my own version using his concept.</p>\n\n<pre><code>public class JsonListHelper{\n    public static final &lt;T&gt; List&lt;T&gt; getList(String json) throws Exception {\n        Gson gson = new GsonBuilder().setDateFormat(\"yyyy-MM-dd HH:mm:ss\").create();\n        Type typeOfList = new TypeToken&lt;List&lt;T&gt;&gt;(){}.getType();\n        return gson.fromJson(json, typeOfList);\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>List&lt;MyClass&gt; MyList= JsonListHelper.getList(jsonArrayString);\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/33226150#33226150", "question_id": 5554217, "answer_id": 33226150}, {"body": "<p>Wep, another way to achieve the same result. We use it for its readability.</p>\n\n<p>Instead of doing this hard-to-read sentence:</p>\n\n<pre><code>Type listType = new TypeToken&lt;ArrayList&lt;YourClass&gt;&gt;(){}.getType();\nList&lt;YourClass&gt; list = new Gson().fromJson(jsonArray, listType);\n</code></pre>\n\n<p>Create a empty class that extends a List of your object:</p>\n\n<pre><code>public class YourClassList extends ArrayList&lt;YourClass&gt; {}\n</code></pre>\n\n<p>And use it when parsing the JSON:</p>\n\n<pre><code>List&lt;YourClass&gt; list = new Gson().fromJson(jsonArray, YourClassList.class);\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/33956307#33956307", "question_id": 5554217, "answer_id": 33956307}, {"body": "<p>Here is a solution that works with a dynamically defined type.  The trick is creating the proper type of of array using Array.newInstance().</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; fromJsonList(String json, Class&lt;T&gt; clazz) {\n    Object [] array = (Object[])java.lang.reflect.Array.newInstance(clazz, 1);\n    array = gson.fromJson(json, array.getClass());\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    for (int i=0 ; i&lt;array.length ; i++)\n        list.add((T)array[i]);\n    return list; \n}\n</code></pre>\n", "title": "Google Gson - deserialize list&lt;class&gt; object? (generic type)", "tags": ["java", "json", "generics", "gson"], "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type/36338377#36338377", "question_id": 5554217, "answer_id": 36338377}], "creation_date": 1302016653, "score": 185, "link": "http://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type", "question_id": 5554217}, {"body": "<p>I have a requirement where I need to download a PDF from the website. The PDF needs to be generated within the code, which I thought would be a combination of freemarker and a PDF generation framework like iText. Any better way? </p>\n\n<p>However, my main problem is how do I allow the user to download a file through a Spring Controller?</p>\n", "tags": ["java", "spring", "file", "download", "controller"], "title": "Downloading a file from spring controllers", "answers": [{"body": "<p>What I can quickly think of is, generate the pdf and store it in webapp/downloads/&lt; RANDOM-FILENAME>.pdf from the code and send a forward to this file using HttpServletRequest</p>\n\n<pre><code>request.getRequestDispatcher(\"/downloads/&lt;RANDOM-FILENAME&gt;.pdf\").forward(request, response);\n</code></pre>\n\n<p>or if you can configure your view resolver something like, </p>\n\n<pre><code>  &lt;bean id=\"pdfViewResolver\"\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n              value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"order\" value=\u201d2\u2033/&gt;\n    &lt;property name=\"prefix\" value=\"/downloads/\" /&gt;\n    &lt;property name=\"suffix\" value=\".pdf\" /&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>then just return </p>\n\n<pre><code>return \"RANDOM-FILENAME\";\n</code></pre>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/5673326#5673326", "question_id": 5673260, "answer_id": 5673326}, {"body": "<pre><code>@RequestMapping(value = \"/files/{file_name}\", method = RequestMethod.GET)\npublic void getFile(\n    @PathVariable(\"file_name\") String fileName, \n    HttpServletResponse response) {\n    try {\n      // get your file as InputStream\n      InputStream is = ...;\n      // copy it to response's OutputStream\n      org.apache.commons.io.IOUtils.copy(is, response.getOutputStream());\n      response.flushBuffer();\n    } catch (IOException ex) {\n      log.info(\"Error writing file to output stream. Filename was '{}'\", fileName, ex);\n      throw new RuntimeException(\"IOError writing file to output stream\");\n    }\n\n}\n</code></pre>\n\n<p>Generally speaking, when you have <code>response.getOutputStream()</code>, you can write anything there. You can pass this output stream as a place to put generated PDF to your generator. Also, if you know what file type you are sending, you can set </p>\n\n<pre><code>response.setContentType(\"application/pdf\");\n</code></pre>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/5673356#5673356", "question_id": 5673260, "answer_id": 5673356}, {"body": "<p>You should be able to write the file on the response directly. Something like </p>\n\n<pre><code>response.setContentType(\"application/pdf\");      \nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=somefile.pdf\"); \n</code></pre>\n\n<p>and then write the file as a binary stream on <code>response.getOutputStream()</code>. Remember to do <code>response.flush()</code> at the end and that should do it.</p>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/5673375#5673375", "question_id": 5673260, "answer_id": 5673375}, {"body": "<p>I was able to stream line this by using the built in support in Spring with it's ResourceHttpMessageConverter.  This will set the content-length and content-type if it can determine the mime-type</p>\n\n<pre><code>@RequestMapping(value = \"/files/{file_name}\", method = RequestMethod.GET)\n@ResponseBody\npublic FileSystemResource getFile(@PathVariable(\"file_name\") String fileName) {\n    return new FileSystemResource(myService.getFileFor(fileName)); \n}\n</code></pre>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/10837053#10837053", "question_id": 5673260, "answer_id": 10837053}, {"body": "<p>With Spring 3.0 you can use the <code>HttpEntity</code> return object. If you use this, then your controller does not need a <code>HttpServletResponse</code> object, and therefore it is easier to test. \n<em>Except this, this answer is relative equals to the one of Infeligo</em>.</p>\n\n<p>If the return value of your pdf framework is an byte array <em>(read the second part of my answer for other return values)</em> :</p>\n\n<pre><code>@RequestMapping(value = \"/files/{fileName}\", method = RequestMethod.GET)\npublic HttpEntity&lt;byte[]&gt; createPdf(\n                 @PathVariable(\"fileName\") String fileName) throws IOException {\n\n    byte[] documentBody = this.pdfFramework.createPdf(filename);\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(new MediaType(\"application\", \"pdf\"));\n    header.set(\"Content-Disposition\",\n                   \"attachment; filename=\" + fileName.replace(\" \", \"_\"));\n    header.setContentLength(documentBody.length);\n\n    return new HttpEntity&lt;byte[]&gt;(documentBody, header);\n}\n</code></pre>\n\n<hr>\n\n<p><strong>If the return type of your PDF Framework (<code>documentBbody</code>) is not already a byte array</strong> (and also no <code>ByteArrayInputStream</code>) then it would been wise <strong>NOT</strong> to make it a byte array first. Instead it is better to use:</p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"nofollow\"><code>InputStreamResource</code></a>,</li>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/PathResource.html\" rel=\"nofollow\"><code>PathResource</code></a> (since Spring 4.0) or</li>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"nofollow\"><code>FileSystemResource</code></a>, </li>\n</ul>\n\n<p>example with <code>FileSystemResource</code>:</p>\n\n<pre><code>@RequestMapping(value = \"/files/{fileName}\", method = RequestMethod.GET)\npublic HttpEntity&lt;byte[]&gt; createPdf(\n                 @PathVariable(\"fileName\") String fileName) throws IOException {\n\n    File document = this.pdfFramework.createPdf(filename);\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(new MediaType(\"application\", \"pdf\"));\n    header.set(\"Content-Disposition\",\n                   \"attachment; filename=\" + fileName.replace(\" \", \"_\"));\n    header.setContentLength(document.length());\n\n    return new HttpEntity&lt;byte[]&gt;(new FileSystemResource(document),\n                                  header);\n}\n</code></pre>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/13120104#13120104", "question_id": 5673260, "answer_id": 13120104}, {"body": "<p>This code is working fine to download a file automatically from spring controller on clicking a link on jsp.     </p>\n\n<pre><code>@RequestMapping(value=\"/downloadLogFile\")\npublic void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\n    try {\n        String filePathToBeServed = //complete file name with path;\n        File fileToDownload = new File(filePathToBeServed);\n        InputStream inputStream = new FileInputStream(fileToDownload);\n        response.setContentType(\"application/force-download\");\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=\"+fileName+\".txt\"); \n        IOUtils.copy(inputStream, response.getOutputStream());\n        response.flushBuffer();\n        inputStream.close();\n    } catch (Exception e){\n        LOGGER.debug(\"Request could not be completed at this moment. Please try again.\");\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/20260077#20260077", "question_id": 5673260, "answer_id": 20260077}, {"body": "<p>If you:</p>\n\n<ul>\n<li>Don't want to load the whole file into a <code>byte[]</code> before sending to the response;</li>\n<li>Want/need to send/download it via <code>InputStream</code>;</li>\n<li>Want to have full control of the Mime Type and file name sent;</li>\n<li>Have other <code>@ControllerAdvice</code> picking up exceptions for you.</li>\n</ul>\n\n<p>The code below is what you need:</p>\n\n<pre><code>@RequestMapping(value = \"/stuff/{stuffId}\", method = RequestMethod.GET)\npublic ResponseEntity&lt;InputStreamResource&gt; downloadStuff(@PathVariable int stuffId)\n                                                                  throws IOException {\n    String fullPath = stuffService.figureOutFileNameFor(stuffId);\n    File file = new File(fullPath);\n\n    HttpHeaders respHeaders = new HttpHeaders();\n    respHeaders.setContentType(\"application/pdf\");\n    respHeaders.setContentLength(12345678);\n    respHeaders.setContentDispositionFormData(\"attachment\", \"fileNameIwant.pdf\");\n\n    InputStreamResource isr = new InputStreamResource(new FileInputStream(file));\n    return new ResponseEntity&lt;InputStreamResource&gt;(isr, respHeaders, HttpStatus.OK);\n}\n</code></pre>\n\n<p>Also notice that to avoid reading the whole file just to calculate its length, you'd better have it stored previously. Make sure you check the docs for <a href=\"http://docs.spring.io/spring/docs/4.1.1.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\"><code>InputStreamResource</code></a>.</p>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/26537519#26537519", "question_id": 5673260, "answer_id": 26537519}, {"body": "<p>Below code worked for me to generate and download a text file.</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic ResponseEntity&lt;byte[]&gt; getDownloadData() throws Exception {\n\n    String regData = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\n    byte[] output = regData.getBytes();\n\n    HttpHeaders responseHeaders = new HttpHeaders();\n    responseHeaders.set(\"charset\", \"utf-8\");\n    responseHeaders.setContentType(MediaType.valueOf(\"text/html\"));\n    responseHeaders.setContentLength(output.length);\n    responseHeaders.set(\"Content-disposition\", \"attachment; filename=filename.txt\");\n\n    return new ResponseEntity&lt;byte[]&gt;(output, responseHeaders, HttpStatus.OK);\n}\n</code></pre>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/34508533#34508533", "question_id": 5673260, "answer_id": 34508533}, {"body": "<p>something like below</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic void getFile(HttpServletResponse response) {\n    try {\n        DefaultResourceLoader loader = new DefaultResourceLoader();\n        InputStream is = loader.getResource(\"classpath:META-INF/resources/Accepted.pdf\").getInputStream();\n        IOUtils.copy(is, response.getOutputStream());\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=Accepted.pdf\");\n        response.flushBuffer();\n    } catch (IOException ex) {\n        throw new RuntimeException(\"IOError writing file to output stream\");\n    }\n}\n</code></pre>\n\n<p>You can display PDF or download it examples <a href=\"http://www.henryxi.com/display-pdf-in-spring-example\" rel=\"nofollow\">here</a></p>\n", "title": "Downloading a file from spring controllers", "tags": ["java", "spring", "file", "download", "controller"], "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers/37830837#37830837", "question_id": 5673260, "answer_id": 37830837}], "creation_date": 1302850004, "score": 185, "link": "http://stackoverflow.com/questions/5673260/downloading-a-file-from-spring-controllers", "question_id": 5673260}, {"body": "<p>I had asked a question about this earlier, but it didn't get answered right and led nowhere.</p>\n\n<p>So I've clarified few details on the problem and I would really like to hear your ideas on how could I fix this or what should I try. </p>\n\n<p>I've <strong>Java 1.6.0.12</strong> installed on my Linux server and the code below runs just perfectly.</p>\n\n<pre><code>String key = \"av45k1pfb024xa3bl359vsb4esortvks74sksr5oy4s5serondry84jsrryuhsr5ys49y5seri5shrdliheuirdygliurguiy5ru\";\ntry {\n    Cipher c = Cipher.getInstance(\"ARCFOUR\");\n\n    SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"ARCFOUR\");\n    c.init(Cipher.DECRYPT_MODE, secretKeySpec);\n\n    return new String(c.doFinal(Hex.decodeHex(data.toCharArray())), \"UTF-8\");\n\n} catch (InvalidKeyException e) {\n    throw new CryptoException(e);\n}\n</code></pre>\n\n<p>Today I installed <strong>Java 1.6.0.26</strong> on my server user and when I try to run my application, I get the following exception. My guess would be that it has something to do with the Java installation configuration because it works in the first one, but doesn't work in the later version.</p>\n\n<pre><code>Caused by: java.security.InvalidKeyException: Illegal key size or default parameters\n    at javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.a(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.init(DashoA13*..) ~[na:1.6]\n    at javax.crypto.Cipher.init(DashoA13*..) ~[na:1.6]\n    at my.package.Something.decode(RC4Decoder.java:25) ~[my.package.jar:na]\n    ... 5 common frames omitted\n</code></pre>\n\n<p><em>Line 25</em> is:\n<code>c.init(Cipher.DECRYPT_MODE, secretKeySpec);</code></p>\n\n<p><strong>Notes:</strong><br>\n* java.security on server's <strong>1.6.0.12</strong> java directory match almost completely with the <strong>1.6.0.26</strong> java.security file. There are no additional providers in the first one.<br>\n* The previous question is <a href=\"http://stackoverflow.com/questions/5929705/is-it-rc4-or-arcfour-invalidkeyexception-when-using-secretkeyspec\">here</a>.</p>\n", "tags": ["java"], "title": "Java Security: Illegal key size or default parameters?", "answers": [{"body": "<p>There's a short discussion of what appears to be this issue <a href=\"http://forums.project.net/archive/index.php/t-431.html\" rel=\"nofollow\">here</a>. The page it <a href=\"http://community.project.net/trac/pnet-community/wiki/Production-Tomcat55#a5.2%3aUpdatetheJavaSecurityforStrongEncryption\" rel=\"nofollow\">links to</a> appears to be gone, but one of the responses might be what you need:</p>\n\n<blockquote>\n  <p>Indeed, copying US_export_policy.jar and local_policy.jar from core/lib/jce to $JAVA_HOME/jre/lib/security helped. Thanks.</p>\n</blockquote>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/6481652#6481652", "question_id": 6481627, "answer_id": 6481652}, {"body": "<p>Most likely you don't have the unlimited strength file installed now.</p>\n\n<p>You may need to download this file:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6\n</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 7 Download</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8 Download</a></p>\n\n<p>Extract the jar files from the zip and save them in <code>${java.home}/jre/lib/security/</code>.</p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/6481658#6481658", "question_id": 6481627, "answer_id": 6481658}, {"body": "<p>I also got the issue but after replacing existing one with the downloaded (from JCE) one resolved the issue. New crypto files provided unlimited strength.</p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/8516110#8516110", "question_id": 6481627, "answer_id": 8516110}, {"body": "<p>\"Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6\"</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\">http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html</a></p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/8602592#8602592", "question_id": 6481627, "answer_id": 8602592}, {"body": "<p>I experienced the same error while using Windows 7 x64, Eclipse, and JDK 1.6.0_30. In the JDK installation folder there is a <code>jre</code> folder. This threw me off at first as I was adding the aforementioned jars to the JDK's lib/security folder with no luck. Full path:</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.6.0_30\\jre\\lib\\security\n</code></pre>\n\n<p>Download and extract the files contained in the <code>jce</code> folder of <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-6-download-429243.html\">this archive</a> into that folder.</p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/9844690#9844690", "question_id": 6481627, "answer_id": 9844690}, {"body": "<p>For JAVA 7 the download link is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\" rel=\"nofollow\">jce-7-download</a></p>\n\n<p>Copy the two downloaded jars in Java\\jdk1.7.0_10\\jre\\lib\\security<br>\nTake a backup of older jars to be on safer side.  </p>\n\n<p>For JAVA 8 the download link is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow\">jce-8-download</a><br>\nCopy the downloaded jars in Java\\jdk1.8.0_45\\jre\\lib\\security<br>\nTake a backup of older jars to be on safer side.  </p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/14237459#14237459", "question_id": 6481627, "answer_id": 14237459}, {"body": "<p>The JRE/JDK/Java 8 jurisdiction files can be found here:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8 Download</a></p>\n\n<p>Like James said above:<br>\nInstall the files in <code>${java.home}/jre/lib/security/</code>.</p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/23255246#23255246", "question_id": 6481627, "answer_id": 23255246}, {"body": "<p>I fix this by just downgrading my Java version to Java 7 and it works for me</p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/28561977#28561977", "question_id": 6481627, "answer_id": 28561977}, {"body": "<p>the problem is the <strong>content</strong> of the file <strong>default_local.policy</strong> in <strong>local_policy.jar</strong> in the folder <strong>jre\\lib\\security</strong>, if you install the JRE:</p>\n\n<pre><code>// Some countries have import limits on crypto strength. This policy file\n// is worldwide importable.\n\ngrant {\n    permission javax.crypto.CryptoPermission \"DES\", 64;\n    permission javax.crypto.CryptoPermission \"DESede\", *;\n    permission javax.crypto.CryptoPermission \"RC2\", 128,\n                                     \"javax.crypto.spec.RC2ParameterSpec\", 128;\n    permission javax.crypto.CryptoPermission \"RC4\", 128;\n    permission javax.crypto.CryptoPermission \"RC5\", 128,\n          \"javax.crypto.spec.RC5ParameterSpec\", *, 12, *;\n    permission javax.crypto.CryptoPermission \"RSA\", *;\n    permission javax.crypto.CryptoPermission *, 128;\n};\n</code></pre>\n\n<p>if you do not need worldwide valid settings you simply can edit this file and change the content to</p>\n\n<pre><code>// Country-specific policy file for countries with no limits on crypto strength.\ngrant {\n    // There is no restriction to any algorithms.\n    permission javax.crypto.CryptoAllPermission;\n};\n</code></pre>\n\n<p>this is what get if you download the JCE from Oracle.</p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/32790132#32790132", "question_id": 6481627, "answer_id": 32790132}, {"body": "<p>In Java, by default AES supports a 128 Bit key, if you plans to use 192 Bit or 256 Bit key, java complier will throw  Illegal key size Exception, which you are getting.</p>\n\n<p>The solution is as victor &amp; James suggested, you will need to download JCE (Java Cryptography Extension) as per your JRE version,(java6, java7 or java8).</p>\n\n<p>The JCE zip contains following JAR:</p>\n\n<ol>\n<li>local_policy.jar</li>\n<li>US_export_policy.jar</li>\n</ol>\n\n<p>You need to replace these jar form your /jre/lib/security.\n if you are on a unix system the  will probably refer to /home/urs/usr/lib/jvm/java--oracle/</p>\n\n<p>Sometimes just replacing local_policy.jar, US_export_policy.jar in security folder doesn't work on unix, so I suggest to copy security folder to your desktop first, replace the jar's @Desktop/security folder, delete the security folder from /jre/lib/ &amp; move the Desktop security folder to /jre/lib/.</p>\n\n<p>eg :: sudo mv security /usr/lib/jvm/java-7-oracle/jre/lib </p>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/33250851#33250851", "question_id": 6481627, "answer_id": 33250851}, {"body": "<p>By default, Java only supports AES 128 bit (16 bytes) key sizes for encryption. If you do not need more than default supported, you can trim the key to the proper size before using <code>Cipher</code>. See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow\">javadoc</a> for default supported keys.</p>\n\n<p>This is an example of generating a key that would work with any JVM version without modifying the policy files. Use at your own discretion.</p>\n\n<p>Here is a good article on whether key 128 to 256 key sizes matter on <a href=\"https://blog.agilebits.com/2013/03/09/guess-why-were-moving-to-256-bit-aes-keys/\" rel=\"nofollow\">AgileBits Blog</a></p>\n\n<pre><code>SecretKeySpec getKey() {\n    final pass = \"47e7717f0f37ee72cb226278279aebef\".getBytes(\"UTF-8\");\n    final sha = MessageDigest.getInstance(\"SHA-256\");\n\n    def key = sha.digest(pass);\n    // use only first 128 bit (16 bytes). By default Java only supports AES 128 bit key sizes for encryption.\n    // Updated jvm policies are required for 256 bit.\n    key = Arrays.copyOf(key, 16);\n    return new SecretKeySpec(key, AES);\n}\n</code></pre>\n", "title": "Java Security: Illegal key size or default parameters?", "tags": ["java"], "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters/34744663#34744663", "question_id": 6481627, "answer_id": 34744663}], "creation_date": 1309052415, "score": 183, "link": "http://stackoverflow.com/questions/6481627/java-security-illegal-key-size-or-default-parameters", "question_id": 6481627}, {"body": "<p>My application  has the following flow screens :</p>\n\n<p><code>Home-&gt;screen 1-&gt;screen 2-&gt;screen 3-&gt;screen 4-&gt;screen 5</code></p>\n\n<p>Now I have a common <code>log out</code>  button in each screens</p>\n\n<p>(<code>Home/ screen 1 / screen 2 /screen 3/ screen 4 / screen 5</code>) </p>\n\n<p>I want that when user clicks on the log out button(from any screen), all the screens will be finished and a new screen <code>Log in</code> will open . </p>\n\n<p>I have tried nearly all <code>FLAG_ACTIVITY</code> to achieve this.\nI also go through some answers in stackoverflow, but not being able to solve the problem.\nMy application is on Android 1.6 so not being able to use <code>FLAG_ACTIVITY_CLEAR_TASK</code> </p>\n\n<p>Is there any way to solve the issue ?</p>\n", "tags": ["java", "android", "android-activity", "screen", "flow"], "title": "Finish all previous activities", "answers": [{"body": "<p>Log in->Home->screen 1->screen 2->screen 3->screen 4->screen 5</p>\n\n<p>on screen 4 (or any other) -> <pre>StartActivity(Log in)</pre> with <pre>FLAG_ACTIVITY_CLEAR_TOP</pre></p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/6330317#6330317", "question_id": 6330260, "answer_id": 6330317}, {"body": "<p>If you log in the user in <code>screen 1</code> and from there you go to the other screens, use </p>\n\n<pre><code>Intent intent = new Intent(this, Screen1.class);\nintent.addFlags(FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/6330356#6330356", "question_id": 6330260, "answer_id": 6330356}, {"body": "<p>If you are using <code>startActivityForResult()</code> in your previous activities, just override <code>OnActivityResult()</code> and call the <code>finish();</code> method inside it in all activities.. This will do the job...</p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/6330376#6330376", "question_id": 6330260, "answer_id": 6330376}, {"body": "<p>Use: </p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), Home.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>This will clear all the activities on top of home. </p>\n\n<p>Assuming you are finishing the login screen when the user logs in and home is created and afterwards all the screens from 1 to 5 on top of that one. The code i posted will return you to home screen finishing all the other activites. You can add an extra in the intent and read that in the home screen activity and finish it also (maybe launch login screen again from there or something).</p>\n\n<p>I am not sure but you can also try going to login with this flag. I don't know how the activities will be ordered in that case. So don't know if it will clear the ones below the screen you are on including the one you are currently on but its definitely the way to go.</p>\n\n<p>Hope this helps. </p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/6330456#6330456", "question_id": 6330260, "answer_id": 6330456}, {"body": "<p>A solution I implemented for this (I think I found it on Stack&nbsp;Overflow somewhere, but I don't remember, so thanks to whoever did that in the first place):</p>\n\n<p>From any of your activities do this:</p>\n\n<pre><code>// Clear your session, remove preferences, etc.\nIntent intent  = new Intent(getBaseContext(), LoginActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>Then in your LoginActivity, overwrite onKeyDown:</p>\n\n<pre><code>public boolean onKeyDown(int keyCode, KeyEvent event) {\n    if (keyCode == KeyEvent.KEYCODE_BACK) {\n        moveTaskToBack(true);\n        return true;\n    }\n    return super.onKeyDown(keyCode, event);\n}\n</code></pre>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/7524977#7524977", "question_id": 6330260, "answer_id": 7524977}, {"body": "<p>Simply, when you go from the login screen, not when finishing the login screen.</p>\n\n<p>And then in all forward activities, use this for logout:</p>\n\n<pre><code>final Intent intent = new Intent(getBaseContext(), LoginScreen.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\ncontext.startActivity(intent);\n</code></pre>\n\n<p>It works perfectly.</p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/8987735#8987735", "question_id": 6330260, "answer_id": 8987735}, {"body": "<p>When user click on the logout button then write the following code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(this, LoginActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>And also when after login if you call new activity do not use finish();</p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/9906871#9906871", "question_id": 6330260, "answer_id": 9906871}, {"body": "<p><strong>When the user wishes to exit all open activities</strong>, they should press a button which loads the first Activity that runs when your application starts, clear all the other activities, then have the last remaining activity finish. Have the following code run when the user presses the exit button. In my case, <code>LoginActivity</code> is the first activity in my program to run.</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nintent.putExtra(\"EXIT\", true);\nstartActivity(intent);\n</code></pre>\n\n<p>The above code clears all the activities except for <code>LoginActivity</code>. Then put the following code inside the <code>LoginActivity</code>'s <code>onCreate(...)</code>, to listen for when <code>LoginActivity</code> is recreated and the 'EXIT' signal was passed:</p>\n\n<pre><code>if (getIntent().getBooleanExtra(\"EXIT\", false)) {\n    finish();  \n}\n</code></pre>\n\n<p><strong>Why is making an exit button in Android so hard?</strong></p>\n\n<p>Android tries hard to discourage you from having an \"exit\" button in your application, because they want the user to never care about whether or not the programs they use are running in the background or not. </p>\n\n<p>The Android OS developers want your program to be able to survive an unexpected shutdown and power off of the phone, and when the user restarts the program, they pick up right where they left off. So the user can receive a phone call while they use your application, and open maps which requires your application to be freed for more resources. </p>\n\n<p>When the user resumes your application, they pick up right where they left off with no interruption. This exit button is usurping power from the activity manager, potentially causing problems with the automatically managed android program life cycle.</p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/10407660#10407660", "question_id": 6330260, "answer_id": 10407660}, {"body": "<p>You may try <code>Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK</code>. It will totally clears all previous activity(s) and start new activity. </p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/13468685#13468685", "question_id": 6330260, "answer_id": 13468685}, {"body": "<p>From <a href=\"http://developer.android.com/reference/android/app/Activity.html#finishAffinity%28%29\">developer.android.com</a>:</p>\n\n<blockquote>\n<pre><code>public void finishAffinity ()\n</code></pre>\n  \n  <p>Added in API level 16</p>\n</blockquote>\n\n<p>Finish this activity as well as all activities immediately below it in the current task that have the same affinity. This is typically used when an application can be launched on to another task (such as from an ACTION_VIEW of a content type it understands) and the user has used the up navigation to switch out of the current task and in to its own task. In this case, if the user has navigated down into any other activities of the second application, all of those should be removed from the original task as part of the task switch.</p>\n\n<p>Note that this finish does not allow you to deliver results to the previous activity, and an exception will be thrown if you are trying to do so.</p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/13604666#13604666", "question_id": 6330260, "answer_id": 13604666}, {"body": "<p>For logout button on last screen of app, use this code on logout button listener to finish all open previous activities, and your problem is solved.    </p>\n\n<pre><code>{\nIntent intent = new Intent(this, loginScreen.class);\nntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(intent);\n}\n</code></pre>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/20214851#20214851", "question_id": 6330260, "answer_id": 20214851}, {"body": "<pre><code>Intent intent = new Intent(this, classObject);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(intent);\n</code></pre>\n\n<p>This Will work for all Android versions. Where <code>IntentCompat</code> the class added in Android Support library. </p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/23824210#23824210", "question_id": 6330260, "answer_id": 23824210}, {"body": "<p>Before launching your new Activity, simply add the following code:</p>\n\n<pre><code>finishAffinity();\n</code></pre>\n\n<p>Or if you want it to work in previous versions of Android:</p>\n\n<pre><code>ActivityCompat.finishAffinity(this);\n</code></pre>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/25016158#25016158", "question_id": 6330260, "answer_id": 25016158}, {"body": "<p>Use the following for activity</p>\n\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n</code></pre>\n\n<p>remove CLEAR_TASK flag for fragment use.</p>\n\n<p>I hope this may use for some people.</p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/28876153#28876153", "question_id": 6330260, "answer_id": 28876153}, {"body": "<p>i have same problem\nyou can use <code>IntentCompat</code> , like this :</p>\n\n<pre><code>import android.support.v4.content.IntentCompat;\nintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK |IntentCompat.FLAG_ACTIVITY_CLEAR_TASK);\n</code></pre>\n\n<hr>\n\n<p>this code work for me .</p>\n\n<p>Android api <strong>17</strong></p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/28877345#28877345", "question_id": 6330260, "answer_id": 28877345}, {"body": "<pre><code>    Intent i1=new Intent(getApplicationContext(),StartUp_Page.class);\ni1.setAction(Intent.ACTION_MAIN);\ni1.addCategory(Intent.CATEGORY_HOME);\ni1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\ni1.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\ni1.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(i1);\nfinish();\n</code></pre>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/30796412#30796412", "question_id": 6330260, "answer_id": 30796412}, {"body": "<p>I found this solution to work on every device despite API level (even for &lt; 11)</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\nComponentName cn = intent.getComponent();\nIntent mainIntent = IntentCompat.makeRestartActivityTask(cn);\nstartActivity(mainIntent);\n</code></pre>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/37639858#37639858", "question_id": 6330260, "answer_id": 37639858}, {"body": "<p>If your application has minimum sdk version 16 then you can use <strong>finishAffinity()</strong></p>\n\n<p>Finish this activity as well as all activities immediately below it in the current task that have the same affinity.</p>\n\n<p>This is work for me In Top Payment screen remove all back-stack activits,</p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n         finishAffinity();\n        startActivity(new Intent(PaymentDoneActivity.this,Home.class));\n    } \n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/app/Activity.html#finishAffinity%28%29\" rel=\"nofollow\">http://developer.android.com/reference/android/app/Activity.html#finishAffinity%28%29</a></p>\n", "title": "Finish all previous activities", "tags": ["java", "android", "android-activity", "screen", "flow"], "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities/38168720#38168720", "question_id": 6330260, "answer_id": 38168720}], "creation_date": 1307967224, "score": 180, "link": "http://stackoverflow.com/questions/6330260/finish-all-previous-activities", "question_id": 6330260}, {"body": "<p>I have a method that gets called twice, and I want to capture the argument of the second method call.</p>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>ArgumentCaptor&lt;Foo&gt; firstFooCaptor = ArgumentCaptor.forClass(Foo.class);\nArgumentCaptor&lt;Foo&gt; secondFooCaptor = ArgumentCaptor.forClass(Foo.class);\nverify(mockBar).doSomething(firstFooCaptor.capture());\nverify(mockBar).doSomething(secondFooCaptor.capture());\n// then do some assertions on secondFooCaptor.getValue()\n</code></pre>\n\n<p>But I get a <code>TooManyActualInvocations</code> Exception, as Mockito thinks that <code>doSomething</code> should only be called once.</p>\n\n<p>How can I verify the argument of the second call of <code>doSomething</code>?</p>\n", "tags": ["java", "unit-testing", "mocking", "mockito"], "title": "Can Mockito capture arguments of a method called multiple times?", "answers": [{"body": "<p>I think it should be</p>\n\n<pre><code>verify(mockBar, times(2)).doSomething(...)\n</code></pre>\n\n<p>Sample from <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#15\">mockito javadoc</a>:</p>\n\n<pre><code>ArgumentCaptor&lt;Person&gt; peopleCaptor = ArgumentCaptor.forClass(Person.class);\nverify(mock, times(2)).doSomething(peopleCaptor.capture());\n\nList&lt;Person&gt; capturedPeople = peopleCaptor.getAllValues();\nassertEquals(\"John\", capturedPeople.get(0).getName());\nassertEquals(\"Jane\", capturedPeople.get(1).getName());\n</code></pre>\n", "title": "Can Mockito capture arguments of a method called multiple times?", "tags": ["java", "unit-testing", "mocking", "mockito"], "link": "http://stackoverflow.com/questions/5981605/can-mockito-capture-arguments-of-a-method-called-multiple-times/5981825#5981825", "question_id": 5981605, "answer_id": 5981825}, {"body": "<p>If you don't want to validate all the calls to <code>doSomething()</code>, only the last one, you can just use <code>ArgumentCaptor.getValue()</code>.  According to the <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/ArgumentCaptor.html#getValue%28%29\">Mockito javadoc</a>:</p>\n\n<p><em>If the method was called multiple times then it returns the latest captured value</em></p>\n\n<p>So this would work (assumes <code>Foo</code> has a method <code>getName()</code>):</p>\n\n<pre><code>ArgumentCaptor&lt;Foo&gt; fooCaptor = ArgumentCaptor.forClass(Foo.class);\nverify(mockBar, times(2)).doSomething(fooCaptor.capture());\n//getValue() contains value set in second call to doSomething()\nassertEquals(\"2nd one\", fooCaptor.getValue().getName());\n</code></pre>\n", "title": "Can Mockito capture arguments of a method called multiple times?", "tags": ["java", "unit-testing", "mocking", "mockito"], "link": "http://stackoverflow.com/questions/5981605/can-mockito-capture-arguments-of-a-method-called-multiple-times/19235198#19235198", "question_id": 5981605, "answer_id": 19235198}, {"body": "<p>Since Mockito 2.0 there's also possibility to use static method <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#argThat(org.mockito.ArgumentMatcher)\">Matchers.argThat(ArgumentMatcher)</a>. With the help of Java 8 it is now much cleaner and more readable to write:</p>\n\n<pre><code>verify(mockBar).doSth(argThat((arg) -&gt; arg.getSurname().equals(\"OneSurname\")));\nverify(mockBar).doSth(argThat((arg) -&gt; arg.getSurname().equals(\"AnotherSurname\")));\n</code></pre>\n\n<p>If you're tied to lower Java version there's also not-that-bad:</p>\n\n<pre><code>verify(mockBar).doSth(argThat(new ArgumentMatcher&lt;Employee&gt;() {\n        @Override\n        public boolean matches(Object emp) {\n            return ((Employee) emp).getSurname().equals(\"SomeSurname\");\n        }\n    }));\n</code></pre>\n\n<p>Of course none of those can verify order of calls - for which you should use <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/InOrder.html\">InOrder</a> :</p>\n\n<pre><code>InOrder inOrder = inOrder(mockBar);\n\ninOrder.verify(mockBar).doSth(argThat((arg) -&gt; arg.getSurname().equals(\"FirstSurname\")));\ninOrder.verify(mockBar).doSth(argThat((arg) -&gt; arg.getSurname().equals(\"SecondSurname\")));\n</code></pre>\n\n<p>Please take a look at <a href=\"https://github.com/szpak/mockito-java8\">mockito-java8</a> project which makes possible to make calls such as:</p>\n\n<pre><code>verify(mockBar).doSth(assertArg(arg -&gt; assertThat(arg.getSurname()).isEqualTo(\"Surname\")));\n</code></pre>\n", "title": "Can Mockito capture arguments of a method called multiple times?", "tags": ["java", "unit-testing", "mocking", "mockito"], "link": "http://stackoverflow.com/questions/5981605/can-mockito-capture-arguments-of-a-method-called-multiple-times/34799635#34799635", "question_id": 5981605, "answer_id": 34799635}], "creation_date": 1305219427, "score": 180, "link": "http://stackoverflow.com/questions/5981605/can-mockito-capture-arguments-of-a-method-called-multiple-times", "question_id": 5981605}, {"body": "<p>I thought this would be easy to achieve, but so far I haven't found solutions for comment/uncomment shortcut on both <code>Java class editor</code> and <code>jsf faceted webapp XHTML file editor</code> :</p>\n\n<ol>\n<li>to quickly comment/uncomment a line (like <kbd>ctrl</kbd> + <kbd>d</kbd> is for removing single line)</li>\n<li>being able to choose multiple lines and comment/uncomment it</li>\n</ol>\n\n<hr>\n\n<p><strong>For example :</strong></p>\n\n<p><strong>single line java code</strong>, from :</p>\n\n<pre><code>private String name;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>//private String name;\n</code></pre>\n\n<hr>\n\n<p><strong>multiple line java code</strong>, from :</p>\n\n<pre><code>private String name;\nprivate int age;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>/*private String name;\nprivate int age;*/\n</code></pre>\n\n<hr>\n\n<p><strong>single line xhtml code</strong>, from :</p>\n\n<pre><code>&lt;h:inputText ... /&gt;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>&lt;!-- h:inputText ... / --&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>multiple line xhtml code</strong>, from :</p>\n\n<pre><code>&lt;h:inputTextarea\n  rows=\"xx\"\n  cols=\"yy\"\n  ...\n/&gt;\n</code></pre>\n\n<p>into</p>\n\n<pre><code>&lt;!-- h:inputTextarea\n  rows=\"xx\"\n  cols=\"yy\"\n  ...\n/ --&gt;\n</code></pre>\n\n<hr>\n", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "title": "Eclipse comment/uncomment shortcut?", "answers": [{"body": "<p>Select the code you want to comment, then use <kbd>Ctr</kbd> + <kbd>/</kbd> to comment and <kbd>Ctrl</kbd> + <kbd>\\</kbd> to uncomment. It may not work for all types of source files, but it works great for Java code.</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/5534771#5534771", "question_id": 5534748, "answer_id": 5534771}, {"body": "<p>For single line comment you can use <kbd>Ctrl</kbd> + <kbd>/</kbd> and for multiple line comment you can use <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>/</kbd> after selecting the lines you want to comment in java editor.</p>\n\n<p>On Mac/OS X you can use <kbd>\u2318</kbd> + <kbd>/</kbd> to comment out single lines or selected blocks.</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/5534773#5534773", "question_id": 5534748, "answer_id": 5534773}, {"body": "<p><kbd>CTRL</kbd> + <kbd>7</kbd></p>\n\n<p>does comment/uncomment in the Java Editor.  </p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/5534774#5534774", "question_id": 5534748, "answer_id": 5534774}, {"body": "<p>Use</p>\n\n<p><kbd>Ctrl</kbd> + <kbd>SHIFT</kbd> + <kbd>L</kbd> which will open a list of all major shortcuts for eclipse.</p>\n\n<ol>\n<li><p>For <strong>single line java code</strong> comment : <kbd>Ctrl</kbd> + <kbd>/</kbd> (Forwards\nSlash) and </p>\n\n<p>Single line uncomment : <kbd>Ctrl</kbd> + <kbd>\\</kbd> (Backslash)</p></li>\n<li><p>For <strong>multiple line java code</strong> comment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> +\n<kbd>/</kbd> (Forwards Slash) and</p>\n\n<p>Multiline uncomment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> +\n<kbd>\\</kbd> (Backslash)</p></li>\n<li><p>For <strong>single line xhtml code</strong> comment/uncomment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> +\n<kbd>c</kbd></p></li>\n<li><p>For <strong>multiple line xhtml code</strong> comment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> +\n<kbd>/</kbd> (Forwards Slash)</p>\n\n<p>For multiple uncomment : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> +\n<kbd>\\</kbd> (Backward Slash)</p></li>\n</ol>\n\n<p><strong>For Mac user it will be:</strong> <kbd>\u2318</kbd> instead of <kbd>Ctrl</kbd></p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/5534960#5534960", "question_id": 5534748, "answer_id": 5534960}, {"body": "<ol>\n<li>Single line <strong>comment</strong> <kbd>Ctrl</kbd> + <kbd>/</kbd></li>\n<li>Single line <strong>uncomment</strong> <kbd>Ctrl</kbd> + <kbd>/</kbd></li>\n</ol>\n\n<hr>\n\n<ol>\n<li>Multiline <strong>comment</strong> <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>/</kbd></li>\n<li>Multiline <strong>uncomment</strong> <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>\\</kbd> (note the backslash)</li>\n</ol>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/11282710#11282710", "question_id": 5534748, "answer_id": 11282710}, {"body": "<p>An easier way is to press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>, just like in Code::Blocks</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/13968625#13968625", "question_id": 5534748, "answer_id": 13968625}, {"body": "<p>For a Mac it is the following combination: <kbd>Cmd</kbd> + <kbd>/</kbd></p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/15880343#15880343", "question_id": 5534748, "answer_id": 15880343}, {"body": "<p>In eclipse Pressing <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd>, will list all the shortcuts.</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/17849646#17849646", "question_id": 5534748, "answer_id": 17849646}, {"body": "<p><kbd> Ctrl </kbd> + <kbd>7 </kbd> to comment a selected text.</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/19870117#19870117", "question_id": 5534748, "answer_id": 19870117}, {"body": "<p><kbd> Ctrl </kbd> + <kbd>Shift</kbd> + <kbd>C </kbd>. Works great on <strong>.java</strong>, <strong>.xhtml</strong>, <strong>.properties</strong> and maybe on others but I only tested these ones. Can comment single or multiple lines.</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/20899646#20899646", "question_id": 5534748, "answer_id": 20899646}, {"body": "<p><kbd>Ctrl</kbd>+<kbd>/</kbd> to toggle \"//\" comments and <kbd>Ctrl</kbd>+<kbd>Shift/</kbd> to toggle \"/* */\" comments. At least for Java, anyway - other tooling may have different shortcuts.</p>\n\n<p><kbd>Ctrl</kbd>+<kbd>\\</kbd> will remove a block of either comment, but won't add comments.</p>\n\n<p>EDIT: It's <kbd>Ctrl</kbd> on a PC, but on a Mac the shortcuts may all be <kbd>Cmd</kbd> instead. I don't have a Mac myself, so can't easily check</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/22558498#22558498", "question_id": 5534748, "answer_id": 22558498}, {"body": "<p>Single comment <kbd>ctrl</kbd> + <kbd>/</kbd> and also multiple line comment you can select multiple line and then <kbd>ctrl</kbd> + <kbd>/</kbd>. Then, to remove comment you can use <kbd>ctrl</kbd> + <kbd>c</kbd> for both single line and multiple line comment.</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/23931111#23931111", "question_id": 5534748, "answer_id": 23931111}, {"body": "<p>You can toggle the comment on one line or selection by using the shortcut <kbd>Ctrl</kbd> + <kbd>/</kbd>\nThis adds/removes the // infront of the code line</p>\n\n<p>You can block comment /*  */ using the <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + / eclipse shortcut</p>\n\n<p>You can find a complete list of useful eclipse shortcuts here <a href=\"http://javatutorial.net/eclipse-shortcuts\" rel=\"nofollow\">http://javatutorial.net/eclipse-shortcuts</a></p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/26783109#26783109", "question_id": 5534748, "answer_id": 26783109}, {"body": "<p>A simple way of doing is to press Ctrl + Shift + C, on the lines of your code.</p>\n\n<p>For comment and for uncomment do same .. :)</p>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/27314383#27314383", "question_id": 5534748, "answer_id": 27314383}, {"body": "<hr>\n\n<h2>Comments In Java class</h2>\n\n<hr>\n\n<ol>\n<li><strong><em>Toggle/Single line Comment</em></strong> ( <strong>Ctrl+/</strong> ) - Add/remove line comments (//\u2026) from the current line.</li>\n<li><strong><em>Add Block Comment</em></strong> ( <strong>Ctrl+Shift+/</strong> ) - Wrap the selected lines in a block comment (/*\u2026 */).</li>\n<li><strong><em>Remove Block Comment</em></strong> ( <strong>Ctrl+Shift+/</strong> ) - Remove a block comment (/*\u2026 */) surrounding the selected lines.</li>\n<li><strong><em>Add Javadoc Comment</em></strong> ( <strong>Alt+Shift+J</strong> ) - Add a Javadoc comment to the active field/method/class. See the notes below for    more details on where to position the cursor.</li>\n</ol>\n\n<hr>\n\n<h1>Comments In HTML/XML/Config file</h1>\n\n<hr>\n\n<ol>\n<li><strong><em>Add Block Comment</em></strong> ( <strong>Ctrl+Shift+/</strong> ) - Wrap the selected lines in a block comment (&lt; !-- -->).</li>\n<li><strong><em>Remove Block Comment</em></strong> ( <strong>Ctrl+Shift+\\</strong> ) - Remove a block comment (&lt; !-- -->) surrounding the selected lines.</li>\n</ol>\n", "title": "Eclipse comment/uncomment shortcut?", "tags": ["java", "eclipse", "keyboard-shortcuts", "shortcut"], "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut/33015352#33015352", "question_id": 5534748, "answer_id": 33015352}], "creation_date": 1301893464, "score": 179, "link": "http://stackoverflow.com/questions/5534748/eclipse-comment-uncomment-shortcut", "question_id": 5534748}, {"body": "<p>I want to convert a <code>java.util.Date</code> to <code>JodaTime</code> so as to carry out subtractions between dates. Is there a good concise way to convert from <code>Date</code> to <code>JodaTime</code>?</p>\n", "tags": ["java", "datetime", "jodatime"], "title": "Convert from java.util.date to JodaTime", "answers": [{"body": "<pre><code>java.util.Date date = ...\nDateTime dateTime = new DateTime(date);\n</code></pre>\n\n<p>Make sure <code>date</code> isn't <code>null</code>, though, otherwise it acts like <code>new DateTime()</code> - I <em>really</em> don't like that.</p>\n", "title": "Convert from java.util.date to JodaTime", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/5042587/convert-from-java-util-date-to-jodatime/5042604#5042604", "question_id": 5042587, "answer_id": 5042604}, {"body": "<p><a href=\"http://joda-time.sourceforge.net/quickstart.html\">http://joda-time.sourceforge.net/quickstart.html</a></p>\n\n<p>Each datetime class provides a variety of constructors. These include the Object constructor. This allows you to construct, for example, DateTime from the following objects:</p>\n\n<pre><code>* Date - a JDK instant\n* Calendar - a JDK calendar\n* String - in ISO8601 format\n* Long - in milliseconds\n* any Joda-Time datetime class\n</code></pre>\n", "title": "Convert from java.util.date to JodaTime", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/5042587/convert-from-java-util-date-to-jodatime/5042668#5042668", "question_id": 5042587, "answer_id": 5042668}], "creation_date": 1298039916, "score": 179, "link": "http://stackoverflow.com/questions/5042587/convert-from-java-util-date-to-jodatime", "question_id": 5042587}, {"body": "<p>I'm working on my usual projects on Eclipse, it's a J2EE application, made with Spring, Hibernate and so on. I'm using Tomcat 7 for this (no particular reason, I don't exploit any new feature, I just wanted to try that). Every time I debug my application, it happens that Eclipse debugger pops out like it has reached a breakpoint, but it is not the case, in fact it stops on a Java source file that is <code>ThreadPoolExecutor</code>. There is no stack trace on the console, it just stops. Then if I click on resume it goes on and the app works perfectly. This is what shows in the debugger window:</p>\n\n<pre><code>Daemon Thread [\"http-bio-8080\"-exec-2] (Suspended (exception RuntimeException)) \n    ThreadPoolExecutor$Worker.run() line: 912   \n    TaskThread(Thread).run() line: 619\n</code></pre>\n\n<p>I really can't explain this, because I'm not using <code>ThreadPoolExecutor</code> at all. Must be something from Tomcat, Hibernate or Spring. It's very annoying because I always have to resume during debugging.</p>\n\n<p>Any clues?</p>\n", "tags": ["java", "eclipse", "debugging", "tomcat"], "title": "Eclipse debugger always blocks on ThreadPoolExecutor without any obvious exception, why?", "answers": [{"body": "<p>The posted stack trace indicates that a RuntimeException was encountered in a Daemon thread. This is typically uncaught at runtime, unless the original developer caught and handled the exception.</p>\n\n<p>Typically, the debugger in Eclipse is configured to suspend execution at the location where the exception was thrown, on all uncaught exceptions. Note that the exception might be handled later, lower down in the stack frame and might not lead to the thread being terminated. This would be cause of the behavior observed.</p>\n\n<p><strong>Configuring the behavior of Eclipse</strong> is straightforward:<br>\nGo to <strong>Window</strong> > <strong>Preferences</strong> > <strong>Java</strong> > <strong>Debug</strong> and uncheck <strong>Suspend execution on uncaught exceptions</strong>.</p>\n", "title": "Eclipse debugger always blocks on ThreadPoolExecutor without any obvious exception, why?", "tags": ["java", "eclipse", "debugging", "tomcat"], "link": "http://stackoverflow.com/questions/6290470/eclipse-debugger-always-blocks-on-threadpoolexecutor-without-any-obvious-excepti/6291091#6291091", "question_id": 6290470, "answer_id": 6291091}, {"body": "<p>There's a more specific solution, which prevents Eclipse breaking on <code>RuntimeException</code>s thrown only from a given class.</p>\n\n<ol>\n<li>Add a new <strong>exception breakpoint</strong> from the Debugging perspective</li>\n<li>Go to its <strong>properties</strong></li>\n<li>Go to <strong>Filtering</strong></li>\n<li>In \"Restrict to Selected Location(s)\", click \"<strong>Add Class</strong>\"</li>\n<li>Add <code>java.util.concurrent.ThreadPoolExecutor</code></li>\n<li><strong>Untick the checkbox</strong>, meaning these will be <em>ignored</em></li>\n</ol>\n", "title": "Eclipse debugger always blocks on ThreadPoolExecutor without any obvious exception, why?", "tags": ["java", "eclipse", "debugging", "tomcat"], "link": "http://stackoverflow.com/questions/6290470/eclipse-debugger-always-blocks-on-threadpoolexecutor-without-any-obvious-excepti/15807147#15807147", "question_id": 6290470, "answer_id": 15807147}, {"body": "<p>I have noticed that this often occurs after modifying server files (jsp or java) and STS has trouble reloading the application.</p>\n\n<p>This usually leads to restarting the server in order to get it to get the changes synchronized. </p>\n\n<p>After introducing JRebel - it appears to have gone away. So, I would like to think it is a reproducible issue in STS when hotswapping code in debug mode. </p>\n\n<p>By removing the native hotswapping, it eliminates the issue with it breaking inside the ThreadPoolExecutor class. </p>\n", "title": "Eclipse debugger always blocks on ThreadPoolExecutor without any obvious exception, why?", "tags": ["java", "eclipse", "debugging", "tomcat"], "link": "http://stackoverflow.com/questions/6290470/eclipse-debugger-always-blocks-on-threadpoolexecutor-without-any-obvious-excepti/22465327#22465327", "question_id": 6290470, "answer_id": 22465327}, {"body": "<p>This behavior is triggered by tomcat when a webapp is reloaded. It's part of tomcat <a href=\"http://wiki.apache.org/tomcat/MemoryLeakProtection\">\"memory leak protection\" feature</a> that (among other things) forces the renewal of its threads.</p>\n\n<p>This is now fixed from versions 7.0.54 and 8.0.6 of tomcat :\n<a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=56492\">https://issues.apache.org/bugzilla/show_bug.cgi?id=56492</a></p>\n", "title": "Eclipse debugger always blocks on ThreadPoolExecutor without any obvious exception, why?", "tags": ["java", "eclipse", "debugging", "tomcat"], "link": "http://stackoverflow.com/questions/6290470/eclipse-debugger-always-blocks-on-threadpoolexecutor-without-any-obvious-excepti/23482098#23482098", "question_id": 6290470, "answer_id": 23482098}], "creation_date": 1307610472, "score": 178, "link": "http://stackoverflow.com/questions/6290470/eclipse-debugger-always-blocks-on-threadpoolexecutor-without-any-obvious-excepti", "question_id": 6290470}, {"body": "<p>I have an array A which is constantly being updated. Lets say A = [1,2,3,4,5]. I need to make an exact duplicate copy of A and call it B. If A were to change to [6,7,8,9,10], B should still be [1,2,3,4,5]. What is the best way to do this? I tried a for loop like:</p>\n\n<pre><code>for(int i=0; i&lt;5; i++){\n   B[i]=A[i]\n}\n</code></pre>\n\n<p>but that doesn't seem to work correctly. Please don't use advanced terms like deep copy etc because I do not know what that means.</p>\n", "tags": ["java", "arrays", "copy"], "title": "Make copy of array Java", "answers": [{"body": "<p>You can try using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\">System.arraycopy()</a></p>\n\n<pre><code>int[] src  = new int[]{1,2,3,4,5};\nint[] dest = new int[5];\n\nSystem.arraycopy( src, 0, dest, 0, src.length );\n</code></pre>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/5785754#5785754", "question_id": 5785745, "answer_id": 5785754}, {"body": "<p>you can use</p>\n\n<pre><code>int[] a = new int[]{1,2,3,4,5};\nint[] b = a.clone();\n</code></pre>\n\n<p>as well.</p>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/5785821#5785821", "question_id": 5785745, "answer_id": 5785821}, {"body": "<p>I have a feeling that all of these \"better ways to copy an array\" are not really going to solve your problem.</p>\n\n<p>You say</p>\n\n<blockquote>\n  <p>I tried a for loop like [...] but that doesn't seem to be working correctly?</p>\n</blockquote>\n\n<p>Looking at that loop, there's <strong>no obvious reason</strong> for it not to work ... unless:</p>\n\n<ul>\n<li>you somehow have the <code>a</code> and <code>b</code> arrays messed up (e.g. <code>a</code> and <code>b</code> refer to the same array), or</li>\n<li>you're application is multi-threaded and different threads are reading and updating the <code>a</code> array simultaneously.</li>\n</ul>\n\n<p>In either case, alternative ways of doing the copying won't solve the underlying problem.</p>\n\n<p>The fix for the first scenario is obvious.  For the second scenario you will have to figure out some way of synchronizing the threads.  Atomic array classes don't help because they have no atomic copy constructors or clone methods, but synchronizing using a primitive mutex will do the trick.</p>\n\n<p>(There are hints in your question that lead me to think that this is indeed thread related; e.g. your statement that <code>a</code> is constantly changing.)</p>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/5786075#5786075", "question_id": 5785745, "answer_id": 5786075}, {"body": "<p>If you want to make a copy of:</p>\n\n<pre><code>int[] a = {1,2,3,4,5};\n</code></pre>\n\n<p>This is the way to go:</p>\n\n<pre><code>int[] b = Arrays.copyOf(a, a.length);\n</code></pre>\n\n<p><code>Arrays.copyOf</code> may be faster than <code>a.clone()</code> on small arrays. Both copy elements equally fast but clone() returns <code>Object</code> so the compiler has to insert an implicit cast to <code>int[]</code>. You can see it in the bytecode, something like this:</p>\n\n<pre><code>ALOAD 1\nINVOKEVIRTUAL [I.clone ()Ljava/lang/Object;\nCHECKCAST [I\nASTORE 2\n</code></pre>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/15962949#15962949", "question_id": 5785745, "answer_id": 15962949}, {"body": "<p>All solution that call length from array, add your code redundant null checkersconsider example:</p>\n\n<pre><code>int[] a = {1,2,3,4,5};\nint[] b = Arrays.copyOf(a, a.length);\nint[] c = a.clone();\n\n//What if array a comes as local parameter? You need to use null check:\n\npublic void someMethod(int[] a) {\n    if (a!=null) {\n        int[] b = Arrays.copyOf(a, a.length);\n        int[] c = a.clone();\n    }\n}\n</code></pre>\n\n<p>I recommend you not inventing the wheel and use utility class where all necessary checks have already performed. Consider ArrayUtils from apache commons. You code become shorter:</p>\n\n<pre><code>public void someMethod(int[] a) {\n    int[] b = ArrayUtils.clone(a);\n}\n</code></pre>\n\n<p>Apache commons you can find <a href=\"http://mvnrepository.com/artifact/commons-lang/commons-lang\">there</a></p>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/19976527#19976527", "question_id": 5785745, "answer_id": 19976527}, {"body": "<p>You can also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOfRange-int:A-int-int-\"><code>Arrays.copyOfRange</code></a>.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] a = {1,2,3};\n    int[] b = Arrays.copyOfRange(a, 0, a.length);\n    a[0] = 5;\n    System.out.println(Arrays.toString(a)); // [5,2,3]\n    System.out.println(Arrays.toString(b)); // [1,2,3]\n}\n</code></pre>\n\n<p>This method is similar to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#copyOf-int:A-int-\"><code>Arrays.copyOf</code></a>, but it's more flexible. Both of them use <code>System.arraycopy</code> under the hood. </p>\n\n<p><strong>See</strong>:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\">https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html</a></li>\n<li><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Arrays.java?av=f\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Arrays.java?av=f</a></li>\n</ul>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/34845194#34845194", "question_id": 5785745, "answer_id": 34845194}, {"body": "<p>Nice explanation from <a href=\"http://www.journaldev.com/753/how-to-copy-arrays-in-java\" rel=\"nofollow\">http://www.journaldev.com/753/how-to-copy-arrays-in-java</a></p>\n\n<p><strong><em>Java Array Copy Methods</em></strong></p>\n\n<blockquote>\n  <p><strong>Object.clone()</strong>: Object class provides clone() method and since array\n  in java is also an Object, you can use this method to achieve full\n  array copy. This method will not suit you if you want partial copy of\n  the array.</p>\n  \n  <p><strong>System.arraycopy()</strong>: System class arraycopy() is the best way to do\n  partial copy of an array. It provides you an easy way to specify the\n  total number of elements to copy and the source and destination array\n  index positions. For example <strong>System.arraycopy(source, 3, destination,\n  2, 5)</strong> will copy 5 elements from source to destination, beginning from\n  3rd index of source to 2nd index of destination.</p>\n  \n  <p><strong>Arrays.copyOf():</strong> If you want to copy first few elements of an array or\n  full copy of array, you can use this method. Obviously it\u2019s not\n  versatile like System.arraycopy() but it\u2019s also not confusing and easy\n  to use.</p>\n  \n  <p><strong>Arrays.copyOfRange()</strong>: If you want few elements of an array to be\n  copied, where starting index is not 0, you can use this method to copy\n  partial array.</p>\n</blockquote>\n", "title": "Make copy of array Java", "tags": ["java", "arrays", "copy"], "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java/36513254#36513254", "question_id": 5785745, "answer_id": 36513254}], "creation_date": 1303790250, "score": 175, "link": "http://stackoverflow.com/questions/5785745/make-copy-of-array-java", "question_id": 5785745}, {"body": "<p>If I omit the -Xmxn option from the java command line a default value is used. According to \n<a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/java.html\">java documentation</a> \"the default value is chosen at runtime based on system configuration\".</p>\n\n<p>What system configuration settings influence the default value?</p>\n", "tags": ["java", "heap"], "title": "How is the default java heap size determined?", "answers": [{"body": "<p>According to <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/vm/gc-ergonomics.html\">Garbage Collector Ergonomics [Oracle]</a>:</p>\n\n<blockquote>\n  <p><strong>initial heap size:</strong></p>\n  \n  <p>Larger of 1/64th of the machine's physical memory on the machine or some\n  reasonable minimum. Before J2SE 5.0,\n  the default initial heap size was a\n  reasonable minimum, which varies by\n  platform. You can override this\n  default using the -Xms command-line\n  option.</p>\n  \n  <p><strong>maximum heap size:</strong></p>\n  \n  <p>Smaller of 1/4th of the physical memory or 1GB. Before J2SE 5.0, the\n  default maximum heap size was 64MB.\n  You can override this default using\n  the -Xmx command-line option.</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>As pointed out by Tom Anderson in his comment, the above is for server-class machines. From <a href=\"http://java.sun.com/docs/hotspot/gc5.0/ergo5.html\">Ergonomics in the 5.0 JavaTM Virtual Machine</a>:</p>\n\n<blockquote>\n  <p>In the J2SE platform version 5.0 a\n  class of machine referred to as a\n  server-class machine has been defined\n  as a machine with</p>\n  \n  <ul>\n  <li>2 or more physical processors</li>\n  <li>2 or more Gbytes of physical memory</li>\n  </ul>\n  \n  <p>with the exception of 32 bit platforms\n  running a version of the Windows\n  operating system. On all other\n  platforms the default values are the\n  same as the default values for version\n  1.4.2. </p>\n  \n  <p>In the J2SE platform version 1.4.2 by\n  default the following selections were\n  made</p>\n  \n  <ul>\n  <li>initial heap size of 4 Mbyte</li>\n  <li>maximum heap size of 64 Mbyte</li>\n  </ul>\n</blockquote>\n", "title": "How is the default java heap size determined?", "tags": ["java", "heap"], "link": "http://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined/4667635#4667635", "question_id": 4667483, "answer_id": 4667635}, {"body": "<p>This is changed with java 6 update 18. <a href=\"http://www.oracle.com/technetwork/java/javase/6u18-142093.html\">http://www.oracle.com/technetwork/java/javase/6u18-142093.html</a></p>\n\n<p>Assuming that we have more than 1gb of physical memory(quite common these days), it's always 1/4th of your physical memory.</p>\n", "title": "How is the default java heap size determined?", "tags": ["java", "heap"], "link": "http://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined/13133937#13133937", "question_id": 4667483, "answer_id": 13133937}, {"body": "<p>Ernesto is right.  According to the link he posted [1]:</p>\n\n<p>\"Updated Client JVM heap configuration \nIn the Client JVM...\nThe default maximum heap size is half of the physical memory up to a physical memory size of 192 megabytes and otherwise one fourth of the physical memory up to a physical memory size of 1 gigabyte. </p>\n\n<p>For example, if your machine has 128 megabytes of physical memory, then the maximum heap size is 64 megabytes, and greater than or equal to 1 gigabyte of physical memory results in a maximum heap size of 256 megabytes.</p>\n\n<p>The maximum heap size is not actually used by the JVM unless your program creates enough objects to require it. A much smaller amount, termed the initial heap size, is allocated during JVM initialization. </p>\n\n<p>...</p>\n\n<p>Server JVM heap configuration ergonomics are now the same as the Client, except that <strong>the default maximum heap size for 32-bit JVMs is 1 gigabyte</strong>, corresponding to a physical memory size of 4 gigabytes, and <strong>for 64-bit JVMs is 32 gigabytes</strong>, corresponding to a physical memory size of 128 gigabytes.\"</p>\n\n<p>[1] <a href=\"http://www.oracle.com/technetwork/java/javase/6u18-142093.html\">http://www.oracle.com/technetwork/java/javase/6u18-142093.html</a></p>\n", "title": "How is the default java heap size determined?", "tags": ["java", "heap"], "link": "http://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined/13310792#13310792", "question_id": 4667483, "answer_id": 13310792}, {"body": "<p>You can use the following command to find out the defaults on the system where your applications runs. </p>\n\n<blockquote>\n  <p>java -XX:+PrintFlagsFinal -version | findstr HeapSize</p>\n</blockquote>\n\n<p>Look for the options <code>MaxHeapSize</code> (for <code>-Xmx</code>) and <code>InitialHeapSize</code> for <code>-Xms</code>.</p>\n\n<p>On a Unix/Linux system, you can do</p>\n\n<blockquote>\n  <p>java -XX:+PrintFlagsFinal -version | grep HeapSize</p>\n</blockquote>\n\n<p>I believe the resulting output is in bytes.</p>\n", "title": "How is the default java heap size determined?", "tags": ["java", "heap"], "link": "http://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined/13871564#13871564", "question_id": 4667483, "answer_id": 13871564}, {"body": "<p>for IBM jvm the command is the following:</p>\n\n<pre><code>java -verbose:sizes -version\n</code></pre>\n\n<p>For more information about IBM SDK for Java 8 - <a href=\"http://www-01.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.lnx.80.doc/diag/appendixes/defaults.html?lang=en\" rel=\"nofollow\">http://www-01.ibm.com/support/knowledgecenter/SSYKE2_8.0.0/com.ibm.java.lnx.80.doc/diag/appendixes/defaults.html?lang=en</a></p>\n", "title": "How is the default java heap size determined?", "tags": ["java", "heap"], "link": "http://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined/32372094#32372094", "question_id": 4667483, "answer_id": 32372094}], "creation_date": 1294826798, "score": 174, "link": "http://stackoverflow.com/questions/4667483/how-is-the-default-java-heap-size-determined", "question_id": 4667483}, {"body": "<p>I am storing a SQL query in my strings.xml file and I want to use <code>String.Format</code> to build the final string in code.  The <code>SELECT</code> statement uses a like, something like this:</p>\n\n<pre><code>SELECT Field1, Field2 FROM mytable WHERE Field1 LIKE '%something%'\n</code></pre>\n\n<p>In order to format that I replace 'something' with %1$s so it becomes:</p>\n\n<pre><code>SELECT Field1, Field2 FROM mytable WHERE Field1 LIKE \\'%%1$s%\\'\n</code></pre>\n\n<p>I escape the single quotes with the backslash.  However I am not able to escape the % sign.  </p>\n\n<p>How can I include a like statement in my strings.xml file?</p>\n", "tags": ["java", "android", "syntax"], "title": "How to escape % in String.Format?", "answers": [{"body": "<p>To escape <code>%</code>, you will need to double it up: <code>%%</code>.</p>\n", "title": "How to escape % in String.Format?", "tags": ["java", "android", "syntax"], "link": "http://stackoverflow.com/questions/5011932/how-to-escape-in-string-format/5011981#5011981", "question_id": 5011932, "answer_id": 5011981}, {"body": "<p>To complement the previous stated solution, use:</p>\n\n<pre><code>str = str.replace(\"%\", \"%%\");\n</code></pre>\n", "title": "How to escape % in String.Format?", "tags": ["java", "android", "syntax"], "link": "http://stackoverflow.com/questions/5011932/how-to-escape-in-string-format/31545984#31545984", "question_id": 5011932, "answer_id": 31545984}, {"body": "<p>This is a stronger regex replace that won't replace %% that are already doubled in the input.</p>\n\n<pre><code>str = str.replaceAll(\"(?:[^%]|\\\\A)%(?:[^%]|\\\\z)\", \"%%\");\n</code></pre>\n", "title": "How to escape % in String.Format?", "tags": ["java", "android", "syntax"], "link": "http://stackoverflow.com/questions/5011932/how-to-escape-in-string-format/38605449#38605449", "question_id": 5011932, "answer_id": 38605449}], "creation_date": 1297823492, "score": 173, "link": "http://stackoverflow.com/questions/5011932/how-to-escape-in-string-format", "question_id": 5011932}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1238145/how-to-run-a-jar-file\">How to run a JAR file</a>  </p>\n</blockquote>\n\n<p>\nHow do we run a jar file in command prompt?</p>\n", "tags": ["java", "jar"], "title": "Run jar file in command prompt", "answers": [{"body": "<p>You can run a JAR file from the command line like this:</p>\n\n<pre><code>java -jar myJARFile.jar\n</code></pre>\n", "title": "Run jar file in command prompt", "tags": ["java", "jar"], "link": "http://stackoverflow.com/questions/5774970/run-jar-file-in-command-prompt/5774975#5774975", "question_id": 5774970, "answer_id": 5774975}, {"body": "<p>Try this</p>\n\n<pre><code>java -jar &lt;jar-file-name&gt;.jar\n</code></pre>\n", "title": "Run jar file in command prompt", "tags": ["java", "jar"], "link": "http://stackoverflow.com/questions/5774970/run-jar-file-in-command-prompt/5774976#5774976", "question_id": 5774970, "answer_id": 5774976}, {"body": "<p><code>java [any other JVM options you need to give it] -jar foo.jar</code></p>\n", "title": "Run jar file in command prompt", "tags": ["java", "jar"], "link": "http://stackoverflow.com/questions/5774970/run-jar-file-in-command-prompt/5774979#5774979", "question_id": 5774970, "answer_id": 5774979}, {"body": "<p>If you dont have a manifest in your jar invoking java -jar will not work.</p>\n\n<p>Use this command if you dont have a manifest:</p>\n\n<pre><code>java -cp foo.jar full.package.name.ClassName\n</code></pre>\n", "title": "Run jar file in command prompt", "tags": ["java", "jar"], "link": "http://stackoverflow.com/questions/5774970/run-jar-file-in-command-prompt/5775007#5775007", "question_id": 5774970, "answer_id": 5775007}], "creation_date": 1303703125, "score": 172, "link": "http://stackoverflow.com/questions/5774970/run-jar-file-in-command-prompt", "question_id": 5774970}, {"body": "<p>I have a kind of open-ended question..</p>\n\n<p>I want to have a HTML code based on condition (desktop/ipad)..say Condition 1/Condition 2</p>\n\n<p>I want to have separate HTML snippets for each of these conditions...</p>\n\n<pre><code>if (Condition 1)\nSome HTML code for con1\nelse if (Condition 2)\nSome HTML code for con2\n</code></pre>\n\n<p>The condition I want to test (in JS) is;</p>\n\n<pre><code>var isiPad = navigator.userAgent.match(/iPad/i) != null;\nif (isiPad)\n{}\nelse\n{}\n</code></pre>\n\n<p>Now this has to be implemented in a .jsp page...</p>\n\n<p>So how do I do that? Should I use JSTL ? \nWhat is the best way?</p>\n\n<p>The main thing is that only corresponding code should actually be loaded/rendered \ne.g. if condition 1 is true, the HTML code in condition 2 should not be executed at all (apart from being hidden in the browser)</p>\n", "tags": ["java", "javascript", "html", "jsp", "jstl"], "title": "if...else within JSP or JSTL", "answers": [{"body": "\n\n<blockquote>\n  <p>Should I use JSTL ? </p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>You can use <code>&lt;c:if&gt;</code> and <code>&lt;c:choose&gt;</code> tags to make conditional rendering in jsp using JSTL.</p>\n\n<p>To simulate <strong>if</strong> , you can use:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;c:if test=\"condition\"&gt;&lt;/c:if&gt;\n</code></pre>\n\n<p>To simulate <strong>if...else</strong>, you can use:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;c:choose&gt;\n    &lt;c:when test=\"${param.enter=='1'}\"&gt;\n        pizza. \n        &lt;br /&gt;\n    &lt;/c:when&gt;    \n    &lt;c:otherwise&gt;\n        pizzas. \n        &lt;br /&gt;\n    &lt;/c:otherwise&gt;\n&lt;/c:choose&gt;\n</code></pre>\n", "title": "if...else within JSP or JSTL", "tags": ["java", "javascript", "html", "jsp", "jstl"], "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl/5935934#5935934", "question_id": 5935892, "answer_id": 5935934}, {"body": "<p>The construct for this is:</p>\n\n<pre><code>&lt;c:choose&gt;\n   &lt;c:when test=\"${..}\"&gt;...&lt;/c:when&gt; &lt;!-- if condition --&gt;\n   &lt;c:when test=\"${..}\"&gt;...&lt;/c:when&gt; &lt;!-- else if condition --&gt;\n   &lt;c:otherwise&gt;...&lt;/c:otherwise&gt;    &lt;!-- else condition --&gt;\n&lt;/c:choose&gt;\n</code></pre>\n\n<p>If the condition isn't expensive, I sometimes prefer to simply use two distinct <code>&lt;c:if</code> tags - it makes it easier to read.</p>\n", "title": "if...else within JSP or JSTL", "tags": ["java", "javascript", "html", "jsp", "jstl"], "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl/5936219#5936219", "question_id": 5935892, "answer_id": 5936219}, {"body": "<p>If you just want to output different text, a more concise example would be </p>\n\n<pre><code>${condition ? \"some text when true\" : \"some text when false\"}\n</code></pre>\n\n<p>It is way shorter than <em>c:choose</em>.</p>\n", "title": "if...else within JSP or JSTL", "tags": ["java", "javascript", "html", "jsp", "jstl"], "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl/7242373#7242373", "question_id": 5935892, "answer_id": 7242373}, {"body": "<p>In case you want to <strong>compare strings</strong>, write the following JSTL:</p>\n\n<pre><code>&lt;c:choose&gt;\n    &lt;c:when test=\"${myvar.equals('foo')}\"&gt;\n        ...\n    &lt;/c:when&gt;\n    &lt;c:when test=\"${myvar.equals('bar')}\"&gt;\n        ...\n    &lt;/c:when&gt;\n    &lt;c:otherwise&gt;\n        ...\n    &lt;/c:otherwise&gt;\n&lt;/c:choose&gt;\n</code></pre>\n", "title": "if...else within JSP or JSTL", "tags": ["java", "javascript", "html", "jsp", "jstl"], "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl/22438276#22438276", "question_id": 5935892, "answer_id": 22438276}, {"body": "<pre><code>&lt;%@ taglib prefix='c' uri='http://java.sun.com/jsp/jstl/core' %&gt;\n&lt;c:set var=\"val\" value=\"5\"/&gt;\n&lt;c:choose&gt; \n  &lt;c:when test=\"${val == '5'}\"&gt;\n    Value is 5\n  &lt;/c:when&gt;\n  &lt;c:otherwise&gt;\n    Value is not 5\n  &lt;/c:otherwise&gt;\n&lt;/c:choose&gt;\n</code></pre>\n", "title": "if...else within JSP or JSTL", "tags": ["java", "javascript", "html", "jsp", "jstl"], "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl/28040842#28040842", "question_id": 5935892, "answer_id": 28040842}, {"body": "<pre><code>        &lt;%@ taglib prefix='c' uri='http://java.sun.com/jsp/jstl/core' %&gt;\n        &lt;c:set var=\"isiPad\" value=\"value\"/&gt;\n        &lt;c:choose&gt;\n           &lt;!-- if condition --&gt;\n           &lt;c:when test=\"${...}\"&gt;Html Code&lt;/c:when&gt; \n           &lt;!-- else condition --&gt;\n           &lt;c:otherwise&gt;Html code&lt;/c:otherwise&gt;   \n        &lt;/c:choose&gt;\n</code></pre>\n", "title": "if...else within JSP or JSTL", "tags": ["java", "javascript", "html", "jsp", "jstl"], "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl/28379729#28379729", "question_id": 5935892, "answer_id": 28379729}], "creation_date": 1304938624, "score": 171, "link": "http://stackoverflow.com/questions/5935892/if-else-within-jsp-or-jstl", "question_id": 5935892}, {"body": "<p>Well, I've tried to understand and read what could cause it but I just can't get it:</p>\n\n<p>I have somewhere in my code this:</p>\n\n<pre><code> try{\n ..\n m.invoke(testObject);\n ..\n } catch(AssertionError e){\n ...\n } catch(Exception e){\n ..\n }\n</code></pre>\n\n<p>Thing is that, when it tries to invoke some method it throws\n <code>InvocationTargetException</code> instead of some other expected exception (specifically <code>ArrayIndexOutOfBoundsException</code>).\n As I actually know what method is invoked I went straight to this method code and added a try-catch block for the line that suppose to throw  <code>ArrayIndexOutOfBoundsException</code> and it really threw <code>ArrayIndexOutOfBoundsException</code> as expected. Yet when going up it\n somehow changes to <code>InvocationTargetException</code> and in the code above <code>catch(Exception e)</code> \n e is <code>InvocationTargetException</code> and not <code>ArrayIndexOutOfBoundsException</code>\n as expected.</p>\n\n<p>What could cause such a behavior or how can I check such a thing?</p>\n", "tags": ["java", "exception", "reflection", "invoke"], "title": "What could cause java.lang.reflect.InvocationTargetException?", "answers": [{"body": "<p>From the Javadoc of Method.invoke()</p>\n\n<blockquote>\n  <p>Throws: InvocationTargetException - if the underlying method throws an exception. </p>\n</blockquote>\n\n<p>This exception is throw if the method called threw an exception.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/6020754#6020754", "question_id": 6020719, "answer_id": 6020754}, {"body": "<p>You've added an extra level of abstraction by calling the method with reflection. The reflection layer wraps any exception in an <code>InvocationTargetException</code>, which lets you tell the difference between an exception <em>actually</em> caused by a failure in the reflection call (maybe your argument list wasn't valid, for example) and a failure within the method called.</p>\n\n<p>Just unwrap the cause within the <code>InvocationTargetException</code> and you'll get to the original one.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/6020758#6020758", "question_id": 6020719, "answer_id": 6020758}, {"body": "<p>The exception is thrown if</p>\n\n<blockquote>\n  <p>InvocationTargetException - if the underlying method throws an exception.</p>\n</blockquote>\n\n<p>So if the method, that has been invoked with reflection API, throws an exception (runtime exception for example), the reflection API will wrap the exception into an <code>InvocationTargetException</code>.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/6020766#6020766", "question_id": 6020719, "answer_id": 6020766}, {"body": "<p>That <code>InvocationTargetException</code> is probably wrapping up your <code>ArrayIndexOutOfBoundsException</code>. There is no telling upfront when using reflection what that method can throw -- so rather than using a <code>throws Exception</code> approach, all the exceptions are being caught and wrapped up in <code>InvocationTargetException</code>.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/6020772#6020772", "question_id": 6020719, "answer_id": 6020772}, {"body": "<p>Use the <code>getCause()</code> method on the <code>InvocationTargetException</code> to retrieve the original exception.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/11276622#11276622", "question_id": 6020719, "answer_id": 11276622}, {"body": "<ol>\n<li>List all jar files from the Eclipse Navigator mode</li>\n<li>Verify that all the jar files are in binary mode</li>\n</ol>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/13304434#13304434", "question_id": 6020719, "answer_id": 13304434}, {"body": "<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/InvocationTargetException.html\" rel=\"nofollow\">This</a> describes something like,</p>\n\n<blockquote>\n  <p>InvocationTargetException is a checked exception that wraps an\n  exception thrown by an invoked method or constructor. As of release\n  1.4, this exception has been retrofitted to conform to the general purpose exception-chaining mechanism. The \"target exception\" that is\n  provided at construction time and accessed via the\n  getTargetException() method is now known as the cause, and may be\n  accessed via the Throwable.getCause() method, as well as the\n  aforementioned \"legacy method.\"</p>\n</blockquote>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/20525219#20525219", "question_id": 6020719, "answer_id": 20525219}, {"body": "<p>This exception is thrown if the underlying method(method called using Reflection) throws an exception.</p>\n\n<p>So if the method, that has been invoked by reflection API, throws an exception (as for example runtime exception), the reflection API will wrap the exception into an InvocationTargetException.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/26753333#26753333", "question_id": 6020719, "answer_id": 26753333}, {"body": "<p>This will print the exact line of code in the specific method, which when invoked, raised the exception:</p>\n\n<pre><code>try {\n\n    // try code\n    ..\n    m.invoke(testObject);\n    ..\n\n} catch (InvocationTargetException e) {\n\n    // Answer:\n    e.getCause().printStackTrace();\n} catch (Exception e) {\n\n    // generic exception handling\n    e.printStackTrace();\n}\n</code></pre>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/27611686#27611686", "question_id": 6020719, "answer_id": 27611686}, {"body": "<p>The error vanished after I did \nClean->Run xDoclet->Run xPackaging.</p>\n\n<p>In my workspace, in ecllipse.</p>\n", "title": "What could cause java.lang.reflect.InvocationTargetException?", "tags": ["java", "exception", "reflection", "invoke"], "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception/36983723#36983723", "question_id": 6020719, "answer_id": 36983723}], "creation_date": 1305565024, "score": 171, "link": "http://stackoverflow.com/questions/6020719/what-could-cause-java-lang-reflect-invocationtargetexception", "question_id": 6020719}, {"body": "<p>I have a string that has two single quotes in it, the <code>'</code> character. In between the single quotes is the data I want.</p>\n\n<p>How can I write a regex to extract \"the data i want\" from the following text?</p>\n\n<pre><code>mydata = \"some string with 'the data i want' inside\";\n</code></pre>\n", "tags": ["java", "regex", "string", "text-extraction"], "title": "How to extract a substring using regex", "answers": [{"body": "<p>as in javascript:</p>\n\n<pre><code>mydata.match(/'([^']+)'/)[1]\n</code></pre>\n\n<p>the actual regexp is: <code>/'([^']+)'/</code></p>\n\n<p>if you use the non greedy modifier (as per another post) it's like this:</p>\n\n<pre><code>mydata.match(/'(.*?)'/)[1]\n</code></pre>\n\n<p>it is cleaner.</p>\n", "title": "How to extract a substring using regex", "tags": ["java", "regex", "string", "text-extraction"], "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex/4662257#4662257", "question_id": 4662215, "answer_id": 4662257}, {"body": "<p>Assuming you want the part between single quotes, use this regular expression with a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html\"><code>Matcher</code></a>:</p>\n\n<pre><code>\"'(.*?)'\"\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String mydata = \"some string with 'the data i want' inside\";\nPattern pattern = Pattern.compile(\"'(.*?)'\");\nMatcher matcher = pattern.matcher(mydata);\nif (matcher.find())\n{\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre>\nthe data i want\n</pre>\n", "title": "How to extract a substring using regex", "tags": ["java", "regex", "string", "text-extraction"], "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex/4662265#4662265", "question_id": 4662215, "answer_id": 4662265}, {"body": "<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Test {\n    public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(\".*'([^']*)'.*\");\n        String mydata = \"some string with 'the data i want' inside\";\n\n        Matcher matcher = pattern.matcher(mydata);\n        if(matcher.matches()) {\n            System.out.println(matcher.group(1));\n        }\n\n    }\n}\n</code></pre>\n", "title": "How to extract a substring using regex", "tags": ["java", "regex", "string", "text-extraction"], "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex/4662395#4662395", "question_id": 4662215, "answer_id": 4662395}, {"body": "<p>Because you also ticked Scala, a solution without regex which easily deals with multiple quoted strings:</p>\n\n<pre><code>val text = \"some string with 'the data i want' inside 'and even more data'\"\ntext.split(\"'\").zipWithIndex.filter(_._2 % 2 != 0).map(_._1)\n\nres: Array[java.lang.String] = Array(the data i want, and even more data)\n</code></pre>\n", "title": "How to extract a substring using regex", "tags": ["java", "regex", "string", "text-extraction"], "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex/4662632#4662632", "question_id": 4662215, "answer_id": 4662632}, {"body": "<p>In Scala,</p>\n\n<pre><code>val ticks = \"'([^']*)'\".r\n\nticks findFirstIn mydata match {\n    case Some(ticks(inside)) =&gt; println(inside)\n    case _ =&gt; println(\"nothing\")\n}\n\nfor (ticks(inside) &lt;- ticks findAllIn mydata) println(inside) // multiple matches\n\nval Some(ticks(inside)) = ticks findFirstIn mydata // may throw exception\n\nval ticks = \".*'([^']*)'.*\".r    \nval ticks(inside) = mydata // safe, shorter, only gets the first set of ticks\n</code></pre>\n", "title": "How to extract a substring using regex", "tags": ["java", "regex", "string", "text-extraction"], "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex/4663445#4663445", "question_id": 4662215, "answer_id": 4663445}, {"body": "<p>You don't need regex for this.</p>\n\n<p>Add apache commons lang to your project (<a href=\"http://commons.apache.org/proper/commons-lang/\">http://commons.apache.org/proper/commons-lang/</a>), then use:</p>\n\n<pre><code>String dataYouWant = StringUtils.substringBetween(mydata, \"'\");\n</code></pre>\n", "title": "How to extract a substring using regex", "tags": ["java", "regex", "string", "text-extraction"], "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex/15395956#15395956", "question_id": 4662215, "answer_id": 15395956}], "creation_date": 1294777369, "score": 170, "link": "http://stackoverflow.com/questions/4662215/how-to-extract-a-substring-using-regex", "question_id": 4662215}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1844688/read-all-files-in-a-folder\">Read all files in a folder</a>  </p>\n</blockquote>\n\n\n\n<p>I need to create a list with all names of the files in a folder.</p>\n\n<p>For example, if I have:</p>\n\n<pre><code>000.jpg\n012.jpg\n013.jpg\n</code></pre>\n\n<p>I want to store them in a <code>ArrayList</code> with <code>[000,012,013]</code> as values.</p>\n\n<p>What's the best way to do it in Java ?</p>\n\n<p>PS: I'm on Mac OS X</p>\n", "tags": ["java", "file", "folder", "filenames"], "title": "Getting the filenames of all files in a folder", "answers": [{"body": "<p>You could do it like that:</p>\n\n<pre><code>File folder = new File(\"your/path\");\nFile[] listOfFiles = folder.listFiles();\n\n    for (int i = 0; i &lt; listOfFiles.length; i++) {\n      if (listOfFiles[i].isFile()) {\n        System.out.println(\"File \" + listOfFiles[i].getName());\n      } else if (listOfFiles[i].isDirectory()) {\n        System.out.println(\"Directory \" + listOfFiles[i].getName());\n      }\n    }\n</code></pre>\n\n<p>Do you want to only get JPEG files or all files?</p>\n", "title": "Getting the filenames of all files in a folder", "tags": ["java", "file", "folder", "filenames"], "link": "http://stackoverflow.com/questions/5694385/getting-the-filenames-of-all-files-in-a-folder/5694398#5694398", "question_id": 5694385, "answer_id": 5694398}, {"body": "<p>Rather than spoon-feed you code, here's how to look in the <a href=\"http://download.oracle.com/javase/6/docs/api/\">documentation</a>.</p>\n\n<p>First, you're dealing with IO, so look in the <code>java.io</code> <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/package-summary.html\">package</a>. </p>\n\n<p>There are two classes that look interesting: <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/FileFilter.html\">FileFilter</a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/FilenameFilter.html\">FileNameFilter</a>. When I clicked on the first, it showed me that there was a a <code>listFiles()</code> method in the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html\">File</a> class. And the documentation for that method says:</p>\n\n<blockquote>\n  <p>Returns an array of abstract pathnames\n  denoting the files in the directory\n  denoted by this abstract pathname.</p>\n</blockquote>\n\n<p>Scrolling up in the <code>File</code> JavaDoc, I see the constructors. And that's really all I need to be able to create a <code>File</code> instance and call <code>listFiles()</code> on it. Scrolling still further, I can see some information about how files are named in different operating systems.</p>\n", "title": "Getting the filenames of all files in a folder", "tags": ["java", "file", "folder", "filenames"], "link": "http://stackoverflow.com/questions/5694385/getting-the-filenames-of-all-files-in-a-folder/5694464#5694464", "question_id": 5694385, "answer_id": 5694464}, {"body": "<p>Create a <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html\"><code>File</code></a> object, passing the directory path to the constructor. Use the <code>listFiles()</code> to retrieve an array of <code>File</code> objects for each file in the directory, and then call the <code>getName()</code> method to get the filename.</p>\n\n<pre><code>List&lt;String&gt; results = new ArrayList&lt;String&gt;();\n\n\nFile[] files = new File(\"/path/to/the/directory\").listFiles();\n//If this pathname does not denote a directory, then listFiles() returns null. \n\nfor (File file : files) {\n    if (file.isFile()) {\n        results.add(file.getName());\n    }\n}\n</code></pre>\n", "title": "Getting the filenames of all files in a folder", "tags": ["java", "file", "folder", "filenames"], "link": "http://stackoverflow.com/questions/5694385/getting-the-filenames-of-all-files-in-a-folder/5694473#5694473", "question_id": 5694385, "answer_id": 5694473}], "creation_date": 1303054163, "score": 168, "link": "http://stackoverflow.com/questions/5694385/getting-the-filenames-of-all-files-in-a-folder", "question_id": 5694385}, {"body": "<p>I am looking for a library enabling the creation of PDFs, including files and bitmaps. The license should allows free usage in commercial applications. Good documentation is important too.</p>\n\n<p>Where is a list of current open source libraries for generating PDF files that can be used with Java? I would like to have some kind of comparison table as to functionality offered by various library alternatives?</p>\n\n<p>Criteria I am looking for (suggestions for additional criteria are welcome) are: </p>\n\n<ol>\n<li><p>ease of use of the library and the interfaces provided by the\nlibrary for a Java programmer to specify inputs and to\nprogrammatically provide text and image data to be included in the\nPDF output,</p></li>\n<li><p>output quality of the PDF output from the library and the output\ncompatibility with the most commonly used PDF readers,</p></li>\n<li><p>ability to include images into the PDF output with the ability to\nspecify many of the standard image formats such as bitmap, jpeg,\nGIF, and png,</p></li>\n<li><p>reliability and robustness of the library along with error detection\nand error handling, and error reporting,</p></li>\n<li><p>the ability to programmatically process an existing PDF file to\nsearch for content and extract content from the file including text, font data, and images,</p></li>\n<li><p>general acceptance by the Java community and expectation of\ncontinuing product support and innovation.</p></li>\n</ol>\n\n<p>I have heard about <a href=\"http://pdfbox.apache.org/\">Apache PDFBox</a>, is there any better library? Do you have experience to share?</p>\n", "tags": ["java", "pdf", "open-source"], "title": "What is the best PDF open source library for Java?", "answers": [{"body": "<p>You can't really compare all of them. Each one has its own features and uses.  </p>\n\n<p>Some of them, </p>\n\n<ul>\n<li><a href=\"http://pdfbox.apache.org/\">PDFBox - Java PDF library</a>  can only create simple PDFs based on text files; it supports few of the features iText does. It used for extracting text from PDF.</li>\n<li><a href=\"http://itextpdf.com/\">iText - Java PDF library</a> : It is used to generate PDF documents dynamically. It is used for creating and manipulating PDF.</li>\n<li><a href=\"http://www.pdfclown.org/\">PDFClown</a> is a PDF library helps to generate, read and edit PDF. It helps to split and merge the PDF documents.</li>\n<li><a href=\"https://pdf-renderer.java.net/\">PDF Renderer</a> - It's a Java library which renders PDF documents to the screen using Java2D in to swing panel. It is capable to view the PDF, Converts it to PNG, View PDF in to 3D scene, Print preview support. It does not support to create or manipulate the PDF. </li>\n<li><a href=\"http://sourceforge.net/projects/jpodlib/\">jPod</a> - PDF manipulating and rendering framework.</li>\n<li><a href=\"http://pdfjet.com/os/edition.html\">PDFJet</a> - PDF library for Java and .NET</li>\n<li>The <a href=\"http://code.google.com/p/flying-saucer/\">Flying Saucer</a> XHTML renderer project has support for outputting XHTML to PDF. Have a look at an example <a href=\"http://today.java.net/pub/a/today/2007/06/26/generating-pdfs-with-flying-saucer-and-itext.html\">here</a>.</li>\n</ul>\n\n<h2>EDIT</h2>\n\n<p>Note that <strong><a href=\"https://pdfbox.apache.org/\">PDFBox</a></strong> has been significantly updated since this answer and handles all PDF features: attachments, images, video, sound, text, custom fonts, links, etc.</p>\n", "title": "What is the best PDF open source library for Java?", "tags": ["java", "pdf", "open-source"], "link": "http://stackoverflow.com/questions/6118635/what-is-the-best-pdf-open-source-library-for-java/6118652#6118652", "question_id": 6118635, "answer_id": 6118652}, {"body": "<p>I have used iText Library for PDF creation .It is very flexible and easy to use.\nHere is link of simple <a href=\"http://tutorials.jenkov.com/java-itext/getting-started.html\" rel=\"nofollow\">tutorial</a> about iText.You can use iText.</p>\n", "title": "What is the best PDF open source library for Java?", "tags": ["java", "pdf", "open-source"], "link": "http://stackoverflow.com/questions/6118635/what-is-the-best-pdf-open-source-library-for-java/6120259#6120259", "question_id": 6118635, "answer_id": 6120259}, {"body": "<p>in this blog you will find some arguments for Apache FOP:\n<a href=\"http://blog.jaumesola.com/how-to-create-pdf-files-from-xml#more\" rel=\"nofollow\">How to create PDF files from XML</a></p>\n\n<p>basically it says, Apache FOP is open, in terms that it is a standard (not a proprietary API) , free and vendor independent since could replace the XSL-FO processor engine</p>\n", "title": "What is the best PDF open source library for Java?", "tags": ["java", "pdf", "open-source"], "link": "http://stackoverflow.com/questions/6118635/what-is-the-best-pdf-open-source-library-for-java/7937852#7937852", "question_id": 6118635, "answer_id": 7937852}], "creation_date": 1306287265, "score": 168, "link": "http://stackoverflow.com/questions/6118635/what-is-the-best-pdf-open-source-library-for-java", "question_id": 6118635}, {"body": "<p>I'm getting the following error when I try to run a simple JSP program on Tomcat in Eclipse. </p>\n\n<blockquote>\n  <p>Several ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use. The server may already be running in another process, or a system process may be using the port. To start this server you will need to stop the other process or change the port number(s).</p>\n</blockquote>\n\n<p>How is this caused and how can I solve it?</p>\n", "tags": ["java", "eclipse", "tomcat"], "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "answers": [{"body": "<p>You've another instance of Tomcat already running. You can confirm this by going to <code>http://localhost:8080</code> in your webbrowser and check if you get the Tomcat default home page or a Tomcat-specific 404 error page. Both are equally valid evidence that Tomcat runs fine; if it didn't, then you would have gotten a browser specific HTTP connection timeout error message.</p>\n\n<p>You need to shutdown it. Go to <code>/bin</code> subfolder of the Tomcat installation folder and execute the <code>shutdown.bat</code> (Windows) or <code>shutdown.sh</code> (Unix) script. If in vain, close Eclipse and then open the task manager and kill all <code>java</code> and/or <code>javaw</code> processes. Or if you actually installed it as a Windows service for some reason (this is namely intented for production and is unhelpful when you're just developing), open the services manager (<em>Start > Run > services.msc</em>) and stop the Tomcat service. If necessary, uninstall the Windows service altogether. For development, just the ZIP file is sufficient.</p>\n\n<p>Or if your <em>actual</em> intent is to run two instances of Tomcat simultaneously, then you have to configure the second instance to listen on different ports. Consult the Tomcat documentation for more detail.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/5065874#5065874", "question_id": 5064733, "answer_id": 5065874}, {"body": "<p>I have no another instance of Tomcat running ad no other process using \"Tomcat port\" (in my case, the 8088 port).\nEclipse send the same message on starting Tomcat:</p>\n\n<p><em>....The server may already be running in another process, or a system process may be using the port. To start this server you will need to stop the other process or change the port number(s).</em></p>\n\n<p>I solve the problem in this way:</p>\n\n<ul>\n<li>go to bin of tomcat by prompt</li>\n<li>launch startup.bat</li>\n<li>launch shutdown.bat</li>\n<li>start tomcat by Eclipse</li>\n</ul>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/8064108#8064108", "question_id": 5064733, "answer_id": 8064108}, {"body": "<p>Refer to the following blog \"how to kill tomcat without have to restart your computer\"</p>\n\n<p><a href=\"http://stanicblog.blogspot.fr/2012/01/how-to-kill-apache-tomcat-without.html\" rel=\"nofollow\">http://stanicblog.blogspot.fr/2012/01/how-to-kill-apache-tomcat-without.html</a></p>\n\n<p>Hope this will help someone in the future.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/8833421#8833421", "question_id": 5064733, "answer_id": 8833421}, {"body": "<p>If you are in Java EE prospective in Eclipse and trying to start the Tomcat Server in Eclipse in debug mode, then you will get such errors. You must switch to debug prospective in Eclipse. I have solved my problem like this. </p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/9210154#9210154", "question_id": 5064733, "answer_id": 9210154}, {"body": "<p>If you use Eclipse then double click on servers and double click on tomcat server then one file will open. In that file change HTTP port to some other port number and save(<kbd>Ctrl</kbd>+<kbd>S</kbd>) then again start the server.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/10349286#10349286", "question_id": 5064733, "answer_id": 10349286}, {"body": "<p>If you are running on windows try this in the command line prompt:</p>\n\n<pre><code>netstat -ano\n</code></pre>\n\n<p>This will show all ports in use and the process id PID # of the process that is using that port.\nThen <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> and open Task Manager to see which process is that.</p>\n\n<p>You can then choose either to close/stop it or configure your server to use another port.\nTo check if the new choosen port (let's say 8010) is available do this:</p>\n\n<pre><code>netstat -ano | grep 8010\n</code></pre>\n\n<p>If it does not return any lines then you are fine.</p>\n\n<p>To change the port go to the Server view, open <strong>server.xml</strong> and change the port there.\nMine has this entry:</p>\n\n<pre><code>Connector port=\"8010\" protocol=\"AJP/1.3\" redirectPort=\"8443\"\n</code></pre>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/10952187#10952187", "question_id": 5064733, "answer_id": 10952187}, {"body": "<p>On Eclipse make a raw delete of Tomcat configuration folder under project \"Servers\".\nI tried it as last hope and it worked.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/13627595#13627595", "question_id": 5064733, "answer_id": 13627595}, {"body": "<pre><code>kill $(ps -aef | grep java | grep apache | awk '{print $2}')\n</code></pre>\n\n<ul>\n<li>no need to restart Eclipse</li>\n<li>if you get the above error, just enter this line in terminal </li>\n<li>again start the tomcat in Eclipse.</li>\n<li>works only in Linux based system ( Ubuntu ..etc )</li>\n</ul>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/13820271#13820271", "question_id": 5064733, "answer_id": 13820271}, {"body": "<p>What I did after reading all the suggested answer and as I know my port was already in use. I double clicked on Tomcat under the Servers tab in eclipse and it opened overview information and then find port information. Just changed conflicting port as mine was 8009 port (error mentioned during starting the server). I have changed it to 8008 and it works fine. Give a try if the changed port would not be in use server will start.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/14290525#14290525", "question_id": 5064733, "answer_id": 14290525}, {"body": "<p>If Eclipse says </p>\n\n<blockquote>\n  <p>Several ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use</p>\n</blockquote>\n\n<p>This error comes because tomcat may be running in background so first stop that server..follow the below details.</p>\n\n<p>Solution is:</p>\n\n<ol>\n<li>Open the \"console\" view (window->show view->Console)</li>\n<li>Then stop the tomcat server.</li>\n<li>Then open the \"server\" view and start the server it will work.</li>\n</ol>\n\n<p>Thanks!</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/14806508#14806508", "question_id": 5064733, "answer_id": 14806508}, {"body": "<p>In case of windows, I experienced a new stuff...\nstopping tomcat from /bin folder will immediately not releasing the port 8080. It takes around 5-10 mins to release the port. After 10 mins again if i try to run my project\nRun-> Run on server .. it allows to run. </p>\n\n<p>I'm unsure whether my understanding is correct!</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/16141147#16141147", "question_id": 5064733, "answer_id": 16141147}, {"body": "<p>The simpler fix that works for me is deleting my current deployed webapps from tomcat through the \"Server\" tab. Once I remove them the problem goes away. Simply re-deploy your project by going on Run As > Run on Server.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/21404769#21404769", "question_id": 5064733, "answer_id": 21404769}, {"body": "<blockquote>\n  <p>Several ports (8005, 8080, 8009) required by Tomcat vX.X Server at localhost are already in use</p>\n</blockquote>\n\n<p>To check whether another instance of Tomcat already running or some other process is using the ports you can use:</p>\n\n<blockquote>\n  <p><code>netstat -b -a</code> in command prompt for windows. This lists the ports in use and gives you the executable that's using each one. You need to be in the admin group to do this.</p>\n</blockquote>\n\n<p>You might get something like this:</p>\n\n<blockquote>\n  <p><code>TCP   192.168.0.1:8009      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]</code></p>\n  \n  <p><code>TCP   192.168.0.1:8080      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]</code></p>\n  \n  <p><code>TCP   192.168.0.1:8005      192.168.0.1:0  LISTENING 196 [Tomcat7.exe]</code></p>\n</blockquote>\n\n<p>Open task manager <code>Cltr+Shift+Esc</code>, and kill <code>Tomcat7.exe</code> or any other process using these ports.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/24012817#24012817", "question_id": 5064733, "answer_id": 24012817}, {"body": "<p>It occurs when others in the project are also using the same port numbers as you are using!\ndouble click tomcat server, change port numbers to anything 8585 or whatever. The code will now begin to run!</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/24446140#24446140", "question_id": 5064733, "answer_id": 24446140}, {"body": "<p>Sometimes if the ports are not freed even after attempting shutdown.bat what @BalusC suggested,you can kill the javaw process. Do following steps :</p>\n\n<ol>\n<li>Click on Start Menu and open \"Windows powershell\"</li>\n<li>Right click before opening and select \"Run as administrator\"</li>\n<li><p>Enter command ps. You may see a image as follows :\n<img src=\"http://i.stack.imgur.com/jTupW.jpg\" alt=\"Powershell showing current proesses running\"></p></li>\n<li><p>See the process number of process \"javaw\".The process number is the rightmost number in the columns, I have highlighted in the image process number of javaw for example. </p></li>\n<li><p>Enter command kill . javaw is killed and now you must be able to run the program.</p></li>\n</ol>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/25334782#25334782", "question_id": 5064733, "answer_id": 25334782}, {"body": "<p>Easy way to solve your problem:</p>\n\n<p>The server may already be running in another process, or a system process may be using the port. In order to kill that port, do the following:</p>\n\n<p>1) Download <strong>TCPView(only 285kb)</strong> from following link.</p>\n\n<p><a href=\"http://technet.microsoft.com/en-in/sysinternals/bb897437.aspx\" rel=\"nofollow\">http://technet.microsoft.com/en-in/sysinternals/bb897437.aspx</a></p>\n\n<p>2) Extract folder and start <strong>TCPView</strong> application.</p>\n\n<p>3) Right click on <strong>java.exe</strong>(because 8009,8005 ports are commonly used by java process) and select <strong>End Process</strong> option.</p>\n\n<p>this would stop another process easily.. </p>\n\n<p><strong>NOTE</strong>: Running <strong>TOMCATPATH/bin/shutdown.bat</strong> may not shutdown Tomcat when it contains some demon or unmanaged \n      threads. In such cases <strong>TCPView</strong> works fine without any issues.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/26136890#26136890", "question_id": 5064733, "answer_id": 26136890}, {"body": "<p>If you are on mac environment, <a href=\"http://stackoverflow.com/a/18706913/926460\">here</a> is what I did.</p>\n\n<p>Find the process id running on this port from terminal, eg, 8080:</p>\n\n<pre><code>lsof -i :8080\n</code></pre>\n\n<p>and kill it:</p>\n\n<pre><code>kill -9 &lt;PID&gt;\n</code></pre>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/29644654#29644654", "question_id": 5064733, "answer_id": 29644654}, {"body": "<p><strong>Step 1:</strong> <strong>netstat -a -o -n</strong> and it will bring up a network list,search for the local address like 127.0.0.1:8080 and note the PID (eq 3624)    </p>\n\n<pre><code>C:\\&gt;netstat -a -o -n\n</code></pre>\n\n<p><strong>Step2 :</strong> <strong>taskkill /F /PID 3624</strong> . Run this command to kill that process.</p>\n\n<pre><code>C:\\&gt;taskkill /F /PID 3624\n</code></pre>\n\n<p>link to <a href=\"http://sandeepbhardwaj.github.io/2011/11/28/several-ports-8005-8080-8009-required.html\" rel=\"nofollow\">post</a></p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/33079253#33079253", "question_id": 5064733, "answer_id": 33079253}, {"body": "<p>On Windows use command </p>\n\n<p>net stop tomcat7 </p>\n\n<p>for stopping the already running tomcat instance  and try running again in eclipse ....it works or u can change the port in server's XML if u just want to run on some other ports. </p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/33800763#33800763", "question_id": 5064733, "answer_id": 33800763}, {"body": "<p>The problem often arises when Apache Tomcat fails to terminate, properly, even though a shutdown instruction was sent. In my case, using Tomcat 8, this happens with annoying regularity. Luckily, you can use Windows PowerShell and the <code>netstat</code> command to create a simple script to kill the process.</p>\n\n<p>The following PowerShell script will parse the output from <code>netstat</code> to find any process that is listening on <code>127.0.0.1:8005</code>, extract its PID and then kill that process:</p>\n\n<pre><code>netstat -a -o -n `\n | select -skip 4 `\n | % {$a = $_ -split ' {3,}'; New-Object 'PSObject' -Property @{Original=$_;Fields=$a}} `\n | ? {$_.Fields[1] -match '127\\.0\\.0\\.1\\:8005$'} `\n | % {Write-Host \"Killing PID\" $_.Fields[4] \"...\"; taskkill /F /PID $_.Fields[4] }\n</code></pre>\n\n<p>If your <code>server.xml</code> configures Tomcat to use a different port or IP, edit the regular expression on the script's fourth line accordingly.</p>\n\n<p>Finally, I should point out that the situation is better on Linux because you can instruct Tomcat to save its PID to a file at startup-time and use a switch to force the shutdown, later - the shutdown script for 'nix systems already features the ability to kill the process and the sleuth-work with <code>netstat</code> is not required.</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/36237964#36237964", "question_id": 5064733, "answer_id": 36237964}, {"body": "<p>How to kill a windows service using PID - </p>\n\n<ol>\n<li>open command prompt and type <code>netstat -ano</code></li>\n<li>find the PID of the ports which are in used, in this case, it will be 8080, 8005,8009. Let's say PID of these ports are 5760. </li>\n<li>Now Type <code>taskkill /f /pid 5760</code> </li>\n<li>it will close the PID and ports will be available for use. Now you can start tomcat as normal by Windows services or by eclipse itself.</li>\n</ol>\n\n<p>Thanks</p>\n\n<p><a href=\"http://www.examiner.com/list/how-to-kill-a-windows-service-that-s-stuck-on-stopping-or-starting\" rel=\"nofollow\">kill a Windows service that's stuck on stopping or starting</a></p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/36562492#36562492", "question_id": 5064733, "answer_id": 36562492}, {"body": "<p>Here's one more option to try if none of the efforts above helped. <strong>You might be using Eclipse from a Shared Drive (for eg, H:)</strong>. If so, move/copy it the entire Eclipse directory to C: and try again.</p>\n\n<p>My Eclipse could not open ports for Tomcat server (with the above error), nor even connect to internet. I also tried another Tomcat plugin (Sysdeo) which failed to open the ports too.</p>\n\n<p>These are the options I tried:</p>\n\n<p><strong>Check and Kill Other Tomcat Instances</strong></p>\n\n<ul>\n<li>In command prompt, <code>netstat -ano</code> and check if any other processes are using the conflicted ports.</li>\n<li>Find the PID and kill it</li>\n<li>Try starting the server again.</li>\n</ul>\n\n<p><strong>Change Tomcat Ports in Eclipse</strong></p>\n\n<ul>\n<li>In Eclipse Server tab, double click the Tomcat instance. This will open the configuration tab.</li>\n<li>Under Ports, change the port numbers. (for eg, 18080).</li>\n</ul>\n\n<p><strong>Kill java.exe and javaw</strong></p>\n\n<ul>\n<li>In Task Manager, find and kill java.exe and javaw (see <a href=\"http://stackoverflow.com/a/25334782/4212710\">http://stackoverflow.com/a/25334782/4212710</a> and <a href=\"http://stackoverflow.com/a/26136890/4212710\">http://stackoverflow.com/a/26136890/4212710</a>)</li>\n<li>Try starting the server again.</li>\n</ul>\n\n<p>See my other answer for Eclipse not connecting to Internet (<a href=\"http://stackoverflow.com/a/37246087/4212710\">http://stackoverflow.com/a/37246087/4212710</a>).</p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/37246227#37246227", "question_id": 5064733, "answer_id": 37246227}, {"body": "<p>Steps to free port which is already used to run tomcat server in Eclipse</p>\n\n<p>For example , suppose 8080 port is used , we need to make free 8080 to run tomcat</p>\n\n<p>Step 1:</p>\n\n<p>C:\\Users\\username>netstat -o -n -a | findstr 0.0:8080 </p>\n\n<p>TCP    0.0.0.0:3000      0.0.0.0:0              LISTENING       3116</p>\n\n<p>Now , we can see that LISTENING port is 3116 for 8080 ,</p>\n\n<p>We need to kill 3116 now</p>\n\n<p>Step 2:-</p>\n\n<p>C:\\Users\\username>taskkill /F /PID 3116</p>\n\n<p>Step 3:\nGo to Eclipse and start Server , it will run </p>\n", "title": "Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use", "tags": ["java", "eclipse", "tomcat"], "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre/38008476#38008476", "question_id": 5064733, "answer_id": 38008476}], "creation_date": 1298283589, "score": 167, "link": "http://stackoverflow.com/questions/5064733/several-ports-8005-8080-8009-required-by-tomcat-server-at-localhost-are-alre", "question_id": 5064733}, {"body": "<p>I'm trying to determine if a particular item in an Array of strings is an integer or not.</p>\n\n<p>I am <code>.split(\" \")'ing</code> an infix expression in <code>String</code> form, and then trying to split the resultant array into two arrays; one for integers, one for operators, whilst discarding parentheses, and other miscellaneous items. What would be the best way to accomplish this? </p>\n\n<p>I thought I might be able to find a <code>Integer.isInteger(String arg)</code> method or something, but no such luck.</p>\n", "tags": ["java", "string", "int"], "title": "Determine if a String is an Integer in Java", "answers": [{"body": "<p>You want to use the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\">Integer.parseInt(String)</a> method.</p>\n\n<pre><code>try{\n  int num = Integer.parseInt(str);\n  // is an integer!\n} catch (NumberFormatException e) {\n  // not an integer!\n}\n</code></pre>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/5439535#5439535", "question_id": 5439529, "answer_id": 5439535}, {"body": "<p>You can use <code>Integer.parseInt()</code> or <code>Integer.valueOf()</code> to get the integer from the string, and catch the exception if it is not a parsable int.  You want to be sure to catch the <code>NumberFormatException</code> it can throw.</p>\n\n<p>It may be helpful to note that valueOf() will return an Integer object, not the primitive int.  </p>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/5439543#5439543", "question_id": 5439529, "answer_id": 5439543}, {"body": "<p>The most naive way would be to iterate over the String and make sure all the elements are valid digits for the given radix. This is about as efficient as it could possibly get, since you must look at each element at least once. I suppose we could micro-optimize it based on the radix, but for all intents and purposes this is as good as you can expect to get.</p>\n\n<pre><code>public static boolean isInteger(String s) {\n    return isInteger(s,10);\n}\n\npublic static boolean isInteger(String s, int radix) {\n    if(s.isEmpty()) return false;\n    for(int i = 0; i &lt; s.length(); i++) {\n        if(i == 0 &amp;&amp; s.charAt(i) == '-') {\n            if(s.length() == 1) return false;\n            else continue;\n        }\n        if(Character.digit(s.charAt(i),radix) &lt; 0) return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>Alternatively, you can rely on the Java library to have this. It's not exception based, and will catch just about every error condition you can think of. It will be a little more expensive (you have to create a Scanner object, which in a critically-tight loop you don't want to do. But it generally shouldn't be too much more expensive, so for day-to-day operations it should be pretty reliable.</p>\n\n<pre><code>public static boolean isInteger(String s, int radix) {\n    Scanner sc = new Scanner(s.trim());\n    if(!sc.hasNextInt(radix)) return false;\n    // we know it starts with a valid int, now make sure\n    // there's nothing left!\n    sc.nextInt(radix);\n    return !sc.hasNext();\n}\n</code></pre>\n\n<p>If best practices don't matter to you, or you want to troll the guy who does your code reviews, try this on for size:</p>\n\n<pre><code>public static boolean isInteger(String s) {\n    try { \n        Integer.parseInt(s); \n    } catch(NumberFormatException e) { \n        return false; \n    } catch(NullPointerException e) {\n        return false;\n    }\n    // only got here if we didn't return false\n    return true;\n}\n</code></pre>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/5439547#5439547", "question_id": 5439529, "answer_id": 5439547}, {"body": "<p>As an alternative to trying to parse the string and catching <code>NumberFormatException</code>, you could use a regex; e.g.</p>\n\n<pre><code>if (Pattern.compile(\"-?[0-9]+\").matches(str)) {\n    // its an integer\n}\n</code></pre>\n\n<p>This is likely to be faster, especially if you precompile and reuse the regex.  However, the catch is that <code>Integer.parseInt(str)</code> will still fail if <code>str</code> represents a number that is outside range of legal <code>int</code> values.</p>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/5439600#5439600", "question_id": 5439529, "answer_id": 5439600}, {"body": "<p>Or you can enlist a little help from our good friends at Apache Commons : <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric%28java.lang.CharSequence%29\">StringUtils.isNumeric(String str)</a></p>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/5439632#5439632", "question_id": 5439529, "answer_id": 5439632}, {"body": "<p>You can use <code>Integer.parseInt(str)</code> and catch the <code>NumberFormatException</code> if the string is not a valid integer, in the following fashion (as pointed out by all answers):</p>\n\n<pre><code>static boolean isInt(String s)\n{\n try\n  { int i = Integer.parseInt(s); return true; }\n\n catch(NumberFormatException er)\n  { return false; }\n}\n</code></pre>\n\n<p>However, note here that if the evaluated integer overflows, the same exception will be thrown. Your purpose was to find out whether or not, it was a valid integer. So its safer to make your own method to check for validity:</p>\n\n<pre><code>static boolean isInt(String s)  // assuming integer is in decimal number system\n{\n for(int a=0;a&lt;s.length();a++)\n {\n    if(a==0 &amp;&amp; s.charAt(a) == '-') continue;\n    if( !Character.isDigit(s.charAt(a)) ) return false;\n }\n return true;\n}\n</code></pre>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/9991624#9991624", "question_id": 5439529, "answer_id": 9991624}, {"body": "<p>Or simply</p>\n\n<p><code>mystring.matches(\"\\\\d+\")</code></p>\n\n<p>though it would return true for numbers larger than an int</p>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/15357940#15357940", "question_id": 5439529, "answer_id": 15357940}, {"body": "<p>Using regular expression is better.</p>\n\n<pre><code>str.matches(\"^-?\\\\d+$\");\n\n\n-?     --&gt; negative sign, could have none or one\n\\\\d+   --&gt; one or more digits\n</code></pre>\n\n<p>It is not good to use <code>NumberFormatException</code> here if you can use <code>if-statement</code> instead.</p>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/15801999#15801999", "question_id": 5439529, "answer_id": 15801999}, {"body": "<pre><code>public boolean isInt(String str){\n    return (str.lastIndexOf(\"-\") == 0 &amp;&amp; !str.equals(\"-0\")) ? str.replace(\"-\", \"\").matches(\n            \"[0-9]+\") : str.matches(\"[0-9]+\");\n}\n</code></pre>\n", "title": "Determine if a String is an Integer in Java", "tags": ["java", "string", "int"], "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java/19394939#19394939", "question_id": 5439529, "answer_id": 19394939}], "creation_date": 1301099488, "score": 166, "link": "http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java", "question_id": 5439529}, {"body": "<pre><code>  Bitmap bmp   = intent.getExtras().get(\"data\");\n  int size     = bmp.getRowBytes() * bmp.getHeight();\n  ByteBuffer b = ByteBuffer.allocate(size);\n\n  bmp.copyPixelsToBuffer(b);\n\n  byte[] bytes = new byte[size];\n\n  try {\n     b.get(bytes, 0, bytes.length);\n  } catch (BufferUnderflowException e) {\n     // always happens\n  }\n  // do something with byte[]\n</code></pre>\n\n<p>When I look at the buffer after the call to <code>copyPixelsToBuffer</code> the bytes are all 0... The bitmap returned from the camera is immutable... but that shouldn't matter since it's doing a copy. </p>\n\n<p>What could be wrong with this code?</p>\n", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "title": "converting Java bitmap to byte array", "answers": [{"body": "<p>Do you need to rewind the buffer, perhaps?</p>\n\n<p>Also, this might happen if the stride (in bytes) of the bitmap is greater than the row length in pixels * bytes/pixel. Make the length of bytes b.remaining() instead of size.</p>\n", "title": "converting Java bitmap to byte array", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/4989267#4989267", "question_id": 4989182, "answer_id": 4989267}, {"body": "<p>Try something like this:</p>\n\n<pre><code>Bitmap bmp = intent.getExtras().get(\"data\");\nByteArrayOutputStream stream = new ByteArrayOutputStream();\nbmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\nbyte[] byteArray = stream.toByteArray();\n</code></pre>\n", "title": "converting Java bitmap to byte array", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/4989543#4989543", "question_id": 4989182, "answer_id": 4989543}, {"body": "<p>Your byte array is too small.  Each pixel takes up 4 bytes, not just 1, so multiply your size * 4 so that the array is big enough.</p>\n", "title": "converting Java bitmap to byte array", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/9832840#9832840", "question_id": 4989182, "answer_id": 9832840}, {"body": "<p>Use CompressFormat is too slow...</p>\n\n<p>Try use ByteBuffer.</p>\n\n<p>\u203b\u203b\u203bBitmap to byte\u203b\u203b\u203b</p>\n\n<pre><code>            width = bitmap.getWidth();\n            height = bitmap.getHeight();\n\n            int size = bitmap.getRowBytes() * bitmap.getHeight();\n            ByteBuffer byteBuffer = ByteBuffer.allocate(size);\n            bitmap.copyPixelsToBuffer(byteBuffer);\n            byteArray = byteBuffer.array();\n</code></pre>\n\n<p>\u203b\u203b\u203bbyte to bitmap\u203b\u203b\u203b</p>\n\n<pre><code>        Bitmap.Config configBmp = Bitmap.Config.valueOf(bitmap.getConfig().name());\n        Bitmap bitmap_tmp = Bitmap.createBitmap(width, height, configBmp);\n        ByteBuffer buffer = ByteBuffer.wrap(byteArray);\n        bitmap_tmp.copyPixelsFromBuffer(buffer);\n</code></pre>\n", "title": "converting Java bitmap to byte array", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/34165515#34165515", "question_id": 4989182, "answer_id": 34165515}, {"body": "<p>Ted Hopp is correct, from the API Documentation :</p>\n\n<pre><code>public void copyPixelsToBuffer (Buffer dst)\n</code></pre>\n\n<p>\"... After this method returns, the <em>current position</em> of the buffer is updated: the position is incremented by the number of elements written in the buffer.\n\"</p>\n\n<p>and</p>\n\n<pre><code>public ByteBuffer get (byte[] dst, int dstOffset, int byteCount)\n</code></pre>\n\n<p>\"Reads bytes from the <em>current position</em> into the specified byte array, starting at the specified offset, and increases the position by the number of bytes read.\"</p>\n", "title": "converting Java bitmap to byte array", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/35507338#35507338", "question_id": 4989182, "answer_id": 35507338}, {"body": "<p>Use below functions to encode bitmap into byte[] and vice versa</p>\n\n<pre><code>public static String encodeTobase64(Bitmap image) {\n            Bitmap immagex = image;\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            immagex.compress(Bitmap.CompressFormat.PNG, 90, baos);\n            byte[] b = baos.toByteArray();\n            String imageEncoded = Base64.encodeToString(b, Base64.DEFAULT);\n            return imageEncoded;\n        }\n\n public static Bitmap decodeBase64(String input) {\n    byte[] decodedByte = Base64.decode(input, 0);\n    return BitmapFactory.decodeByteArray(decodedByte, 0,      decodedByte.length);\n }\n</code></pre>\n", "title": "converting Java bitmap to byte array", "tags": ["java", "android", "serialization", "bitmap", "bytebuffer"], "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/36791309#36791309", "question_id": 4989182, "answer_id": 36791309}], "creation_date": 1297662171, "score": 166, "link": "http://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array", "question_id": 4989182}, {"body": "<p>In my application I use 3rd party library (Spring Data for MongoDb to be exact).</p>\n\n<p>Methods of this library return <code>Iterable&lt;T></code>, while the rest of my code expects <code>Collection&lt;T></code>.</p>\n\n<p>Is there any utility method somewhere that will let me quickly convert one to the other. I would like to avoid making a banch of <code>foreach</code> loops in my code for such a simple thing.</p>\n", "tags": ["java", "collections"], "title": "Easy way to change Iterable into Collection", "answers": [{"body": "<p>As soon as you call <code>contains</code>, <code>containsAll</code>, <code>equals</code>, <code>hashCode</code>, <code>remove</code>, <code>retainAll</code>, <code>size</code> or <code>toArray</code>, you'd have to traverse the elements anyway.</p>\n\n<p>If you're occasionally only calling methods such as <code>isEmpty</code> or <code>clear</code> I suppose you'd be better of by creating the collection lazily. You could for instance have a backing <code>ArrayList</code> for storing previously iterated elements.</p>\n\n<p>I don't know of any such class in any library, but it should be a fairly simple exercise to write up.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/6416788#6416788", "question_id": 6416706, "answer_id": 6416788}, {"body": "<p>With <a href=\"https://github.com/google/guava\">Guava</a> you can use <a href=\"https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/Lists.html#newArrayList%28java.lang.Iterable%29\">Lists.newArrayList(Iterable)</a> or <a href=\"https://google.github.io/guava/releases/18.0/api/docs/com/google/common/collect/Sets.html#newHashSet%28java.lang.Iterable%29\">Sets.newHashSet(Iterable)</a>, among other similar methods. This will of course copy all the elements in to memory. If that isn't acceptable, I think your code that works with these ought to take <code>Iterable</code> rather than <code>Collection</code>. Guava also happens to provide convenient methods for doing things you can do on a <code>Collection</code> using an <code>Iterable</code> (such as <code>Iterables.isEmpty(Iterable)</code> or <code>Iterables.contains(Iterable, Object)</code>), but the performance implications are more obvious.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/6416800#6416800", "question_id": 6416706, "answer_id": 6416800}, {"body": "<p>From <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html\" rel=\"nofollow\">CollectionUtils</a>:</p>\n\n<pre><code>List&lt;T&gt; targetCollection = new ArrayList&lt;T&gt;();\nCollectionUtils.addAll(targetCollection, iterable.iterator())\n</code></pre>\n\n<p>Here are the full sources of this utility method:</p>\n\n<pre><code>public static &lt;T&gt; void addAll(Collection&lt;T&gt; collection, Iterator&lt;T&gt; iterator) {\n    while (iterator.hasNext()) {\n        collection.add(iterator.next());\n    }\n}\n</code></pre>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/6416828#6416828", "question_id": 6416706, "answer_id": 6416828}, {"body": "<p>You may write your own utility method for this as well:</p>\n\n<pre><code>public static &lt;E&gt; Collection&lt;E&gt; makeCollection(Iterable&lt;E&gt; iter) {\n    Collection&lt;E&gt; list = new ArrayList&lt;E&gt;();\n    for (E item : iter) {\n        list.add(item);\n    }\n    return list;\n}\n</code></pre>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/6416921#6416921", "question_id": 6416706, "answer_id": 6416921}, {"body": "<p>While at it, do not forget that all collections are finite, while Iterable has no promises whatsoever. If something is Iterable you can get an Iterator and that is it.</p>\n\n<pre><code>for (piece : sthIterable){\n..........\n}\n</code></pre>\n\n<p>will be expanded to:</p>\n\n<pre><code>Iterator it = sthIterable.iterator();\nwhile (it.hasNext()){\n    piece = it.next();\n..........\n}\n</code></pre>\n\n<p>it.hasNext() is not required to ever return false. Thus in the general case you cannot expect to be able to convert every Iterable to a Collection. For example you can iterate over all positive natural numbers, iterate over something with cycles in it that produces the same results over and over again, etc.</p>\n\n<p>Otherwise: Atrey's answer is quite fine.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/12191363#12191363", "question_id": 6416706, "answer_id": 12191363}, {"body": "<p>Two remarks</p>\n\n<ol>\n<li>There is no need to convert Iterable to Collection to use foreach\nloop - Iterable may be used in such loop directly, there is no\nsyntactical difference, so I hardly understand why the original question was asked at all.</li>\n<li>Suggested way to convert Iterable to Collection is unsafe (the same relates to CollectionUtils)  - there is no guarantee that subsequent calls to the next() method return different object instances. Moreover, this concern is not pure theoretical. E.g. Iterable implementation used to pass values to a reduce method of Hadoop Reducer always returns the same value instance, just with different field values. So if you apply makeCollection from above (or CollectionUtils.addAll(Iterator)) you will end up with a collection with all identical elements. </li>\n</ol>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/14979639#14979639", "question_id": 6416706, "answer_id": 14979639}, {"body": "<p><a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/IteratorUtils.html\"><code>IteratorUtils</code></a> from <code>commons-collections</code> may help (although they don't support generics in the latest stable version 3.2.1):</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nCollection&lt;Type&gt; list = IteratorUtils.toList(iterable.iterator());\n</code></pre>\n\n<p>Version 4.0 (which is in SNAPSHOT at this moment) supports generics and you can get rid of the <code>@SuppressWarnings</code>.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/16263734#16263734", "question_id": 6416706, "answer_id": 16263734}, {"body": "<p>This is not an answer to your question but I believe it is the solution to your problem. The interface <code>org.springframework.data.repository.CrudRepository</code> does indeed have methods that return <code>java.lang.Iterable</code> but you should not use this interface. Instead use sub interfaces, in your case <code>org.springframework.data.mongodb.repository.MongoRepository</code>. This interface has methods that return objects of type <code>java.util.List</code>.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/17168403#17168403", "question_id": 6416706, "answer_id": 17168403}, {"body": "<p>I use <code>FluentIterable.from(myIterable).toList()</code> a lot.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/19460404#19460404", "question_id": 6416706, "answer_id": 19460404}, {"body": "<p>In Java 8 you can do this to add all elements from an <code>Iterable</code> to <code>Collection</code> and return it:</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; iterableToCollection(Iterable&lt;T&gt; iterable) {\n  Collection&lt;T&gt; collection = new ArrayList&lt;&gt;();\n  iterable.forEach(collection::add);\n  return collection;\n}\n</code></pre>\n\n<p>Inspired by @Afreys answer.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/23271272#23271272", "question_id": 6416706, "answer_id": 23271272}, {"body": "<p>Concise solution with Java 8 using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\"><code>java.util.stream</code></a>:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; toList(final Iterable&lt;T&gt; iterable) {\n    return StreamSupport.stream(iterable.spliterator(), false)\n                        .collect(Collectors.toList());\n}\n</code></pre>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/23996861#23996861", "question_id": 6416706, "answer_id": 23996861}, {"body": "<p>I use my custom utility to cast an existing Collection if available.</p>\n\n<p><strong>Main:</strong></p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; toCollection(Iterable&lt;T&gt; iterable) {\n    if (iterable instanceof Collection) {\n        return (Collection&lt;T&gt;) iterable;\n    } else {\n        return Lists.newArrayList(iterable);\n    }\n}\n</code></pre>\n\n<p>Ideally the above would use ImmutableList, but ImmutableCollection does not allow nulls which may provide undesirable results.</p>\n\n<p><strong>Tests:</strong></p>\n\n<pre><code>@Test\npublic void testToCollectionAlreadyCollection() {\n    ArrayList&lt;String&gt; list = Lists.newArrayList(FIRST, MIDDLE, LAST);\n    assertSame(\"no need to change, just cast\", list, toCollection(list));\n}\n\n@Test\npublic void testIterableToCollection() {\n    final ArrayList&lt;String&gt; expected = Lists.newArrayList(FIRST, null, MIDDLE, LAST);\n\n    Collection&lt;String&gt; collection = toCollection(new Iterable&lt;String&gt;() {\n        @Override\n        public Iterator&lt;String&gt; iterator() {\n            return expected.iterator();\n        }\n    });\n    assertNotSame(\"a new list must have been created\", expected, collection);\n    assertTrue(expected + \" != \" + collection, CollectionUtils.isEqualCollection(expected, collection));\n}\n</code></pre>\n\n<p>I implement similar utilities for all subtypes of Collections (Set,List,etc). I'd think these would already be part of Guava, but I haven't found it.</p>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/25660838#25660838", "question_id": 6416706, "answer_id": 25660838}, {"body": "<p>In JDK 8, without depending on additional libs:</p>\n\n<pre><code>Iterator&lt;T&gt; source = ...;\nList&lt;T&gt; target = new ArrayList&lt;&gt;();\nsource.forEachRemaining(target::add);\n</code></pre>\n\n<p>Edit: The above one is for <code>Iterator</code>. If you are dealing with <code>Iterable</code>, </p>\n\n<pre><code>source.forEach(target::add);\n</code></pre>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/30474348#30474348", "question_id": 6416706, "answer_id": 30474348}, {"body": "<p>Since RxJava is a hammer and this kinda looks like a nail, you can do</p>\n\n<pre><code>Observable.from(iterable).toList().toBlocking().single();\n</code></pre>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/33142968#33142968", "question_id": 6416706, "answer_id": 33142968}, {"body": "<p>Here's an SSCCE for a great way to do this in Java 8</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class IterableToCollection {\n    public interface CollectionFactory &lt;T, U extends Collection&lt;T&gt;&gt; {\n        U createCollection();\n    }\n\n    public static &lt;T, U extends Collection&lt;T&gt;&gt; U collect(Iterable&lt;T&gt; iterable, CollectionFactory&lt;T, U&gt; factory) {\n        U collection = factory.createCollection();\n        iterable.forEach(collection::add);\n        return collection;\n    }\n\n    public static void main(String[] args) {\n        Iterable&lt;Integer&gt; iterable = IntStream.range(0, 5).boxed().collect(Collectors.toList());\n        ArrayList&lt;Integer&gt; arrayList = collect(iterable, ArrayList::new);\n        HashSet&lt;Integer&gt; hashSet = collect(iterable, HashSet::new);\n        LinkedList&lt;Integer&gt; linkedList = collect(iterable, LinkedList::new);\n    }\n}\n</code></pre>\n", "title": "Easy way to change Iterable into Collection", "tags": ["java", "collections"], "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection/38822908#38822908", "question_id": 6416706, "answer_id": 38822908}], "creation_date": 1308599804, "score": 165, "link": "http://stackoverflow.com/questions/6416706/easy-way-to-change-iterable-into-collection", "question_id": 6416706}, {"body": "<p>I have String variable called <code>jsonString</code>:</p>\n\n<pre><code>{\"phonetype\":\"N95\",\"cat\":\"WP\"}\n</code></pre>\n\n<p>Now I want to convert it into JSON Object. I searched more on Google but didn't get any expected answers...</p>\n", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "title": "How to convert String to JSONObject in Java", "answers": [{"body": "<p>There are various Java JSON serializers and deserializers linked from the <a href=\"http://json.org\">JSON home page</a>.</p>\n\n<p>As of this writing, there are these 20:</p>\n\n<ul>\n<li><a href=\"http://www.JSON.org/java/index.html\">org.json</a> </li>\n<li><a href=\"https://github.com/upictec/org.json.me/\">org.json.me</a> </li>\n<li><a href=\"http://jackson.codehaus.org/\">Jackson JSON Processor</a> </li>\n<li><a href=\"http://json-lib.sourceforge.net/\">Json-lib</a> </li>\n<li><a href=\"http://developer.berlios.de/projects/jsontools/\">JSON Tools</a> </li>\n<li><a href=\"http://code.google.com/p/json-simple/\">json-simple</a> </li>\n<li><a href=\"http://www.stringtree.org/stringtree-json.html\">Stringtree</a> </li>\n<li><a href=\"http://sojo.sourceforge.net/\">SOJO</a> </li>\n<li><a href=\"http://www.restlet.org/\">Restlet</a> </li>\n<li><a href=\"http://jettison.codehaus.org/\">Jettison</a> </li>\n<li><a href=\"http://json-taglib.sourceforge.net/\">json-taglib</a> </li>\n<li><a href=\"http://xstream.codehaus.org/\">XStream</a> </li>\n<li><a href=\"http://code.google.com/p/jsonmarshaller/\">JsonMarshaller</a> </li>\n<li><a href=\"http://flexjson.sourceforge.net/\">Flexjson</a> </li>\n<li><a href=\"http://sourceforge.net/projects/jontools/\">JON tools</a> </li>\n<li><a href=\"http://code.google.com/p/google-gson/\">google-gson</a> </li>\n<li><a href=\"http://argo.sourceforge.net/\">Argo</a> </li>\n<li><a href=\"http://pivot.apache.org/\">Pivot</a> </li>\n<li><a href=\"http://jwm.slavitica.net/p/projects/jsonij\">jsonij</a> </li>\n<li><a href=\"http://sourceforge.net/projects/fastjson/\">fastjson</a> </li>\n</ul>\n\n<p>...but of course the list can change.</p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/5245866#5245866", "question_id": 5245840, "answer_id": 5245866}, {"body": "<p>Using <a href=\"http://www.json.org/java/\">org.json</a> library:</p>\n\n<pre><code>    JSONObject jsonObj = new JSONObject(\"{\\\"phonetype\\\":\\\"N95\\\",\\\"cat\\\":\\\"WP\\\"}\");\n</code></pre>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/5245881#5245881", "question_id": 5245840, "answer_id": 5245881}, {"body": "<p>You can use <code>google-gson</code>. Details:</p>\n\n<p><strong>Object Examples</strong></p>\n\n<pre><code>class BagOfPrimitives {\n  private int value1 = 1;\n  private String value2 = \"abc\";\n  private transient int value3 = 3;\n  BagOfPrimitives() {\n    // no-args constructor\n  }\n}\n</code></pre>\n\n<p><strong>(Serialization)</strong></p>\n\n<pre><code>BagOfPrimitives obj = new BagOfPrimitives();\nGson gson = new Gson();\nString json = gson.toJson(obj); \n==&gt; json is {\"value1\":1,\"value2\":\"abc\"}\n</code></pre>\n\n<p>Note that you can not serialize objects with circular references since that will result in infinite recursion.</p>\n\n<p><strong>(Deserialization)</strong></p>\n\n<pre><code>BagOfPrimitives obj2 = gson.fromJson(json, BagOfPrimitives.class);  \n==&gt; obj2 is just like obj\n</code></pre>\n\n<p><em><strong>Another example for Gson:</em></strong></p>\n\n<p>Gson is easy to learn and implement, you need to know is the following two methods:</p>\n\n<p>-> toJson() \u2013 convert java object to JSON format</p>\n\n<p>-> fromJson() \u2013 convert JSON into java object</p>\n\n<pre><code>import com.google.gson.Gson;\n\npublic class TestObjectToJson {\n  private int data1 = 100;\n  private String data2 = \"hello\";\n\n  public static void main(String[] args) {\n      TestObjectToJson obj = new TestObjectToJson();\n      Gson gson = new Gson();\n\n      //convert java object to JSON format\n      String json = gson.toJson(obj);\n\n      System.out.println(json);\n  }\n\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{\"data1\":100,\"data2\":\"hello\"}\n</code></pre>\n\n<p><strong>Resources:</strong> </p>\n\n<p><a href=\"http://code.google.com/p/google-gson/\">Google Gson Project Home Page</a> </p>\n\n<p><a href=\"http://sites.google.com/site/gson/gson-user-guide\">Gson User Guide</a></p>\n\n<p><a href=\"http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\">Example</a></p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/5245902#5245902", "question_id": 5245840, "answer_id": 5245902}, {"body": "<p>I like to use google-gson for this, and it's precisely because I don't need to work with JSONObject directly.</p>\n\n<p>In that case I'd have a class that will correspond to the properties of your JSON Object</p>\n\n<pre><code>class Phone {\n public String phonetype;\n public String cat;\n}\n\n\n...\nString jsonString = \"{\\\"phonetype\\\":\\\"N95\\\",\\\"cat\\\":\\\"WP\\\"}\";\nGson gson = new Gson();\nPhone fooFromJson = gson.fromJson(jsonString, Phone.class);\n...\n</code></pre>\n\n<p>However, I think your question is more like, How do I endup with an actual JSONObject object from a JSON String.</p>\n\n<p>I was looking at the google-json api and couldn't find anything as straight forward as\norg.json's api which is probably what you want to be using if you're so strongly in need of using a barebones JSONObject.</p>\n\n<p><a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\">http://www.json.org/javadoc/org/json/JSONObject.html</a></p>\n\n<p>With org.json.JSONObject (another completely different API) If you want to do something like...</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(\"{\\\"phonetype\\\":\\\"N95\\\",\\\"cat\\\":\\\"WP\\\"}\");\nSystem.out.println(jsonObject.getString(\"phonetype\"));\n</code></pre>\n\n<p>I think the beauty of google-gson is that you don't need to deal with JSONObject. You just grab json, pass the class to want to deserialize into, and your class attributes will be matched to the JSON, but then again, everyone has their own requirements, maybe you can't afford the luxury to have pre-mapped classes on the deserializing side because things might be too dynamic on the JSON Generating side. In that case just use json.org.</p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/5246240#5246240", "question_id": 5245840, "answer_id": 5246240}, {"body": "<p>If you are using <a href=\"http://json-lib.sourceforge.net\" rel=\"nofollow\">http://json-lib.sourceforge.net</a>\n(net.sf.json.JSONObject)</p>\n\n<p>it is pretty easy:</p>\n\n<pre><code>String myJsonString;\nJSONObject json = JSONObject.fromObject(myJsonString);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>JSONObject json = JSONSerializer.toJSON(myJsonString);\n</code></pre>\n\n<p>get the values then with\njson.getString(param), json.getInt(param) and so on.</p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/15785660#15785660", "question_id": 5245840, "answer_id": 15785660}, {"body": "<p>To convert a string to json and the sting is like json. <strong>{\"phonetype\":\"N95\",\"cat\":\"WP\"}</strong></p>\n\n<pre><code>String Data=response.getEntity().getText().toString(); // reading the string value \nJSONObject json = (JSONObject) new JSONParser().parse(Data);\nString x=(String) json.get(\"phonetype\");\nSystem.out.println(\"Check Data\"+x);\nString y=(String) json.get(\"cat\");\nSystem.out.println(\"Check Data\"+y);\n</code></pre>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/19288015#19288015", "question_id": 5245840, "answer_id": 19288015}, {"body": "<p>For setting json single object to list\n ie</p>\n\n<pre><code>\"locations\":{\n\n}\n</code></pre>\n\n<p>in to <code>List&lt;Location&gt;</code></p>\n\n<p>use </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(DeserializationConfig.Feature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n</code></pre>\n\n<p><strong>jackson.mapper-asl-1.9.7.jar</strong></p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/20092868#20092868", "question_id": 5245840, "answer_id": 20092868}, {"body": "<p>you must import org.json</p>\n\n<pre><code>JSONObject jsonObj = null;\n        try {\n            jsonObj = new JSONObject(\"{\\\"phonetype\\\":\\\"N95\\\",\\\"cat\\\":\\\"WP\\\"}\");\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/25784937#25784937", "question_id": 5245840, "answer_id": 25784937}, {"body": "<p>To anyone still looking for an answer:</p>\n\n<pre><code>JSONParser parser = new JSONParser();\nJSONObject json = (JSONObject) parser.parse(stringToParse);\n</code></pre>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/26111170#26111170", "question_id": 5245840, "answer_id": 26111170}, {"body": "<p>Better Go with more simpler way by using <code>org.json</code> lib. Just do a very simple approach as below:</p>\n\n<pre><code>JSONObject obj = new JSONObject();\nobj.put(\"phonetype\", \"N95\");\nobj.put(\"cat\", \"WP\");\n</code></pre>\n\n<p>Now <code>obj</code> is your converted <code>JSONObject</code> form of your respective String. This is in case if you have name-value pairs. </p>\n\n<p>For a string you can directly pass to the constructor of <code>JSONObject</code>. If it'll be a valid <code>json String</code>, then okay otherwise it'll throw an exception.        </p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/26865515#26865515", "question_id": 5245840, "answer_id": 26865515}, {"body": "<p><strong>Java 7 solution</strong></p>\n\n<pre><code>import javax.json.*;\n\n...\n\nString TEXT;\nJsonObject body = Json.createReader(new StringReader(TEXT)).readObject()\n</code></pre>\n\n<p>;</p>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/29216947#29216947", "question_id": 5245840, "answer_id": 29216947}, {"body": "<p>To convert <code>String</code> into <code>JSONObject</code> you just need to pass the String into Constructor of <code>JSONObject</code>; eg:-</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(\"your string\");\n</code></pre>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/33560642#33560642", "question_id": 5245840, "answer_id": 33560642}, {"body": "<p>Use JsonNode of fasterxml for the Generic Json Parsing. It internally creates a Map of key value for all the inputs.</p>\n\n<p>Example: </p>\n\n<pre><code>private void test(@RequestBody JsonNode node)\n</code></pre>\n\n<p>input String :</p>\n\n<pre><code>{\"a\":\"b\",\"c\":\"d\"}\n</code></pre>\n", "title": "How to convert String to JSONObject in Java", "tags": ["java", "arrays", "json", "parsing", "jsonobject"], "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java/39393089#39393089", "question_id": 5245840, "answer_id": 39393089}], "creation_date": 1299674028, "score": 164, "link": "http://stackoverflow.com/questions/5245840/how-to-convert-string-to-jsonobject-in-java", "question_id": 5245840}, {"body": "<p>I recently had a discussion with another developer who claimed to me that JOINs (SQL) are useless. This is technically true but he added that using joins is less efficient than making several requests and link tables in the code (C# or Java). </p>\n\n<p>For him joins are for lazy people that don't care about performance. Is this true? Should we avoid using joins?</p>\n", "tags": ["c#", "java", "sql", "join"], "title": "Joins are for lazy people?", "answers": [{"body": "<p>Well, he is wrong in the general case.</p>\n\n<p>Databases are able to optimize using a variety of methods, helped by optimizer hints, table indexes, foreign key relationships and possibly other database vendor specific information.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595450#5595450", "question_id": 5595418, "answer_id": 5595450}, {"body": "<p>Ummm, joins is how relational databases relate tables to each other.  I'm not sure what he's getting at.</p>\n\n<p>How can making several calls to the database be more efficient than one call?  Plus sql engines are optimized at doing this sort of thing.</p>\n\n<p>Maybe your coworker is too lazy to learn SQL.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595455#5595455", "question_id": 5595418, "answer_id": 5595455}, {"body": "<p>If \"lazy\" is defined as people who want to write less code, then I agree. If \"lazy\" is defined as people who want to have tools do what they are good at doing, I agree. So if he is merely agreeing with Larry Wall (regarding the attributes of good programmers), then I agree with him.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595483#5595483", "question_id": 5595418, "answer_id": 5595483}, {"body": "<p>Without joins how are you going to relate order items to orders?\nThat is the entire point of a relational database management system.\nWithout joins there is no relational data and you might as well use text files\nto process data.</p>\n\n<p>Sounds like he doesn't understand the concept so he's trying to make it seem they are useless.  He's the same type of person who thinks excel is a database application.\nSlap him silly and tell him to read more about databases.  Making multiple connections and pulling data and merging the data via C# is the wrong way to do things.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595490#5595490", "question_id": 5595418, "answer_id": 5595490}, {"body": "<p>No, we should avoid developers who hold such incredibly wrong opinions.</p>\n\n<p>In many cases, a database join is several orders of magnitude faster than anything done via the client, because it avoids DB roundtrips, and the DB can use indexes to perform the join.</p>\n\n<p><s>Off the top of my head, I can't even imagine a single scenario where a correctly used join would be slower than the equivalent client-side operation.</s></p>\n\n<p><strong>Edit:</strong> There are some rare cases where custom client code can do things more efficiently than a straightforward DB join (see comment by meriton). But this is very much the exception.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595501#5595501", "question_id": 5595418, "answer_id": 5595501}, {"body": "<p>No, you shouldnt. </p>\n\n<p>Databases are specifically designed to manipulate sets of data (obviously....). Therefore they are incredibly efficient at doing this. By doing what is essentially a manual join in his own code, he is attempting to take over the role of something specifically designed for the job. The chances of his code ever being as efficient as that in the database are very remote.</p>\n\n<p>As an aside, without joins, whats the point in using a database? he may as well just use text files.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595508#5595508", "question_id": 5595418, "answer_id": 5595508}, {"body": "<p>No, not only are joins better optimized in database code that ad-hoc C#/Java; but usually several filtering techniques can be applied, which yields even better performance.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595524#5595524", "question_id": 5595418, "answer_id": 5595524}, {"body": "<p>He is most certainly wrong. While there are definite pros to data manipulation within languages like C# or Java, joins are fastest in the database due to the nature of SQL itself.</p>\n\n<p>SQL keeps detailing statistics regarding the data, and if you have created your indexes correctly, can very quickly find one record in a couple of million. Besides the fact that why would you want to drag all your data into C# to do a join when you can just do it right on the database level?</p>\n\n<p>The pros for using C# come into play when you need to do something iteratively. If you need to do some function for each row, it's likely faster to do so within C#, otherwise, joining data is optimized in the DB.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595537#5595537", "question_id": 5595418, "answer_id": 5595537}, {"body": "<p>The last company I worked for didn't use SQL joins either. Instead they moved this work to application layer which is designed to scale horizontally. The rationale for this design is to avoid work at database layer. It is usually the database that becomes bottleneck. Its easier to replicate application layer than database. There could be other reasons. But this is the one that I can recall now.</p>\n\n<p>Yes I agree that joins done at application layer are inefficient compared to joins done by database. More network communication also.</p>\n\n<p>Please note that I'm not taking a hard stand on avoiding SQL joins. </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595546#5595546", "question_id": 5595418, "answer_id": 5595546}, {"body": "<p>It sounds to me like your colleague would do well with a no-sql document-database or key-value store. Which are themselves very good tools and a good fit for many problems.</p>\n\n<p>However, a <em>relational</em> database is heavily optimised for working with sets. There are many, many ways of querying the data based on joins that are <em>vastly</em> more efficient than lots of round trips. This is where the versatilty of a rdbms comes from. You can achieve the same in a nosql store too, but you often end up building a separate structure suited for  each different nature of query.</p>\n\n<p>In short: I disagree. In a RDBMS, joins are <strong><em>fundamental</em></strong>. If you aren't using them, you aren't using it as a RDBMS. </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595584#5595584", "question_id": 5595418, "answer_id": 5595584}, {"body": "<p>I don't understand the logic of the statement \"joins in SQL are useless\".\nIs it useful to filter and limit the data before working on it? As you're other respondants have stated this is what database engines do, it should be what they are good at.</p>\n\n<p>Perhaps a lazy programmer would stick to technologies with which they were familiar and eschew other possibilities for non technical reasons.</p>\n\n<p>I leave it to you to decide.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595619#5595619", "question_id": 5595418, "answer_id": 5595619}, {"body": "<p>I will say that I have run into a case where it was faster breaking the query down and doing the joins in code. That being said, it was only with one particular version of MySQL that I had to do that. Everything else, the database is probably going to be faster (note that you may have to optimize the queries, but it will still be faster).</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595621#5595621", "question_id": 5595418, "answer_id": 5595621}, {"body": "<p>I suspect he has a limited view on what databases should be used for.  One approach to maximise performance is to read the entire database into memory. In this situation, you may get better performance and you may want to perform joins if memory for efficiency.  However this is not really using a database, as a database IMHO. </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595671#5595671", "question_id": 5595418, "answer_id": 5595671}, {"body": "<p>\"This is technicaly true\" - similarly, a SQL database is useless: what's the point in using one when you can get the same result by using a bunch of CSV files, and correlating them in code? Heck, any abstraction is for lazy people, let's go back to programming in machine code right on the hardware! ;)</p>\n\n<p>Also, his asssertion is untrue in all but the most convoluted cases: RDBMSs are heavily optimized to make JOINs <em>fast</em>. <strong>Relational</strong> database management systems, right? </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595689#5595689", "question_id": 5595418, "answer_id": 5595689}, {"body": "<p>Let's consider an example: a table with invoice records, and a related table with invoice line item records.  Consider the client pseudo code:</p>\n\n<pre><code>for each (invoice in invoices)\n    let invoiceLines = FindLinesFor(invoice)\n...\n</code></pre>\n\n<p>If you have 100,000 invoices with 10 lines each, this code will look up 10 invoice lines from a table of 1 million, and it will do that 100,000 times.  As the table size increases, the number of select operations increases, <strong>and the cost of each select operation increases.</strong></p>\n\n<p>Becase computers are fast, you may not notice a performance difference between the two approaches if you have several thousand records or fewer.  Because the cost increase is more than linear, as the number of records increases (into the millions, say), you'll begin to notice a difference, and the difference will become less tolerable as the size of the data set grows.</p>\n\n<p>The join, however. will use the table's indexes and merge the two data sets.  This means that you're effectively scanning the second table once rather than randomly accessing it N times.  If there's a foreign key defined, the database already has the links between the related records stored internally.</p>\n\n<p>Imagine doing this yourself.  You have an alphabetical list of students and a notebook with all the students' grade reports (one page per class).  The notebook is sorted in order by the students' names, in the same order as the list.  How would you prefer to proceed?</p>\n\n<ol>\n<li>Read a name from the list.</li>\n<li>Open the notebook.</li>\n<li>Find the student's name.</li>\n<li>Read the student's grades, turning pages until you reach the next student or the last page.</li>\n<li>Close the notebook.</li>\n<li>Repeat.</li>\n</ol>\n\n<p>Or:</p>\n\n<ol>\n<li>Open the notebook to the first page.</li>\n<li>Read a name from the list.</li>\n<li>Read any grades for that name from the notebook.</li>\n<li>Repeat steps 2-3 until you get to the end</li>\n<li>Close the notebook.</li>\n</ol>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5595991#5595991", "question_id": 5595418, "answer_id": 5595991}, {"body": "<p>He is wrong, joins are what competent programmers use.  There may be a few limited cases where his proposed method is more efficient (and inthose I would probably be using a Documant database) but I can't see it if you have any deceent amount of data. For example take this query:</p>\n\n<pre><code>select t1.field1 \nfrom table1 t1\njoin table2 t2 \n    on t1.id = t2.id\nwhere t1.field2 = 'test'\n</code></pre>\n\n<p>Assume you have 10 million records in table1 and 1 million records in table2. Assume 9 million of the records in table 1 meet the where clause. Assume only 15 of them are in table2 as well. You can run this sql statement which if properly indexed will take milliseconds and return 15 records across the network with only 1 column of data. Or you can send ten million records with 2 columns of data and separately send another 1 millions records with one column of data across the network and combine them on the web server. </p>\n\n<p>Or of course you could keep the entire contents of the database on the web server at all times which is just plain silly if you have more than a trivial amount of data and data that is continually changing. If you don't need the qualities of a relational database then don't use one. But if you do, then use it correctly. </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5596004#5596004", "question_id": 5595418, "answer_id": 5596004}, {"body": "<p>I've heard this argument quite often during my career as a software developer. Almost everytime it has been stated, the guy making the claim didn't have much knowledge about relational database systems, the way they work and the way such systems should be used.</p>\n\n<p>Yes, when used <strong>incorrectly</strong>, joins seem to be useless or even dangerous. But when used in the correct way, there is a lot of potential for database implementation to perform optimizations and to \"help\" the developer retrieving the correct result most efficiently.</p>\n\n<p>Don't forget that using a <code>JOIN</code> you tell the database about the way you expect the pieces of data to relate to each other and therefore give the database more information about <strong>what</strong> you are trying to do and therefore making it able to better fit your needs.</p>\n\n<p>So the answer is definitely: No, <code>JOINS</code>aren't useless at all!</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5596579#5596579", "question_id": 5595418, "answer_id": 5596579}, {"body": "<p>Sounds like a classic case of \"<strong>I can write it better</strong>.\" In other words, he's seeing something that he sees as kind of a pain in the neck (writing a bunch of joins in SQL) and saying \"I'm sure I can write that better and get better performance.\" You should ask him if he is a) smarter and b) more educated than the typical person that's knee deep in the Oracle or SQL Server optimization code. Odds are he isn't. </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5596620#5596620", "question_id": 5595418, "answer_id": 5596620}, {"body": "<p>Yes, You should.</p>\n\n<p>And you should use C++ instead of C# because of performance. C# is for lazy people.</p>\n\n<p>No, no, no. You should use C instead of C++ because of performance. C++ is for lazy people.</p>\n\n<p>No, no, no. You should use assembly instead of C because of performance. C is for lazy people.</p>\n\n<p>Yes, I am joking. you can make faster programs without joins and you can make programs using less memory without joins. BUT in many cases, your development time is more important than CPU time and memory. Give up a little performance and enjoy your life. Don't waste your time for little little performance. And tell him \"Why don't you make a straight highway from your place to your office?\"</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5610379#5610379", "question_id": 5595418, "answer_id": 5610379}, {"body": "<p>This is \"technically true\" only in one case which is not used often in applications (when all the rows of all the tables in the join(s) are returned by the query). In most queries only a fraction of the rows of each table is returned. The database engine often uses indexes to eliminate the unwanted rows, sometimes even without reading the actual row as it can use the values stored in indexes. The database engine is itself written in C, C++, etc. and is at least as efficient as code written by a developer.  </p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5621127#5621127", "question_id": 5595418, "answer_id": 5621127}, {"body": "<p>Unless I've seriously misunderstood, the logic in the question is very flawed</p>\n\n<p>If there are 20 rows in B for each A, a 1000 rows in A implies 20k rows in B.\nThere can't be just 100 rows in B unless there is many-many table \"AB\" with 20k rows with the containing the mapping.</p>\n\n<p>So to get all information about which 20 of the 100 B rows map to each A row you table AB too. So this would be either:</p>\n\n<ul>\n<li>3 result sets of 100, 1000, and 20k rows and a client JOIN</li>\n<li>a single JOINed A-AB-B result set with 20k rows</li>\n</ul>\n\n<p>So \"JOIN\" in the client does add any value when you examine the data. Not that it isn't a bad idea. If I was retrieving one object from the database than maybe it makes more sense to break it down into separate results sets. For a report type call, I'd flatten it out into one almost always.</p>\n\n<p>In any case, I'd say there is almost no use for a cross join of this magnitude. It's a poor example.</p>\n\n<p>You have to JOIN somewhere, and that's what RDBMS are good at. I'd not like to work with any client code monkey who thinks they can do better.</p>\n\n<p>Afterthought:</p>\n\n<p>To join in the client requires persistent objects such as DataTables (in .net). If you have one flattened resultset it can be consumed via something lighter like a DataReader. High volume = lot of client resources used to avoid a database JOIN.</p>\n", "title": "Joins are for lazy people?", "tags": ["c#", "java", "sql", "join"], "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people/5908086#5908086", "question_id": 5595418, "answer_id": 5908086}], "creation_date": 1302267735, "score": 162, "link": "http://stackoverflow.com/questions/5595418/joins-are-for-lazy-people", "question_id": 5595418}, {"body": "<p><strong>In Java, I want to convert this:</strong></p>\n\n<pre><code>https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\n</code></pre>\n\n<p><strong>To this:</strong></p>\n\n<pre><code>https://mywebsite/docs/english/site/mybook.do&amp;request_type\n</code></pre>\n\n<p><strong>This is what I have so far:</strong></p>\n\n<pre><code>class StringUTF \n{\n    public static void main(String[] args) \n    {\n        try{\n            String url = \n               \"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do\" +\n               \"%3Frequest_type%3D%26type%3Dprivate\";\n\n            System.out.println(url+\"Hello World!-------&gt;\" +\n                new String(url.getBytes(\"UTF-8\"),\"ASCII\"));\n        }\n        catch(Exception E){\n        }\n    }\n}\n</code></pre>\n\n<p>But it doesn't work right.  What are these <code>%3A</code> and <code>%2F</code> formats called and how do I convert them?</p>\n", "tags": ["java", "url-encoding"], "title": "How to do URL decoding in Java?", "answers": [{"body": "<p>The string you've got is in <code>application/x-www-form-urlencoded</code> encoding.</p>\n\n<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URLDecoder.html\">URLDecoder</a> to convert it to Java String.</p>\n\n<pre><code>URLDecoder.decode( url, \"UTF-8\" );\n</code></pre>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/6138152#6138152", "question_id": 6138127, "answer_id": 6138152}, {"body": "<p><code>%3A</code> and <code>%2F</code> are URL encoded characters. Use this java code to convert them back into <code>:</code> and <code>/</code></p>\n\n<pre><code>String decoded = java.net.URLDecoder.decode(url, \"UTF-8\");\n</code></pre>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/6138168#6138168", "question_id": 6138127, "answer_id": 6138168}, {"body": "<p>This does not have anything to do with character encodings such as UTF-8 or ASCII. The string you have there is <em>URL encoded</em>. This kind of encoding is something entirely different than character encoding.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>String result = java.net.URLDecoder.decode(url, \"UTF-8\");\n</code></pre>\n\n<p>Note that a <em>character encoding</em> (such as UTF-8 or ASCII) is what determines the mapping of characters to raw bytes. For a good intro to character encodings, see <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\">this article</a>.</p>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/6138183#6138183", "question_id": 6138127, "answer_id": 6138183}, {"body": "<p>This has been answered <a href=\"http://stackoverflow.com/questions/6519746/url-decode-in-java-6#6603584\">before</a> (although this question was first!):</p>\n\n<blockquote>\n  <p>\"You should use java.net.URI to do this, as the URLDecoder class does x-www-form-urlencoded decoding which is wrong (despite the name, it's for form data).\"</p>\n</blockquote>\n\n<p><strong>Basically:</strong></p>\n\n<pre><code>String url = \"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\";\nSystem.out.println(new java.net.URI(url).getPath());\n</code></pre>\n\n<p>will give you:</p>\n\n<pre><code>https://mywebsite/docs/english/site/mybook.do?request_type\n</code></pre>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/16453677#16453677", "question_id": 6138127, "answer_id": 16453677}, {"body": "<pre><code>import java.io.UnsupportedEncodingException;\nimport java.net.URISyntaxException;\n\npublic class URLDecoding { \n\n    String decoded = \"\";\n\n    public String decodeMethod(String url) throws UnsupportedEncodingException\n    {\n        decoded = java.net.URLDecoder.decode(url, \"UTF-8\"); \n        return  decoded;\n//\"You should use java.net.URI to do this, as the URLDecoder class does x-www-form-urlencoded decoding which is wrong (despite the name, it's for form data).\"\n    }\n\n    public String getPathMethod(String url) throws URISyntaxException \n    {\n        decoded = new java.net.URI(url).getPath();  \n        return  decoded; \n    }\n\n    public static void main(String[] args) throws UnsupportedEncodingException, URISyntaxException \n    {\n        System.out.println(\" Here is your Decoded url with decode method : \"+ new URLDecoding().decodeMethod(\"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\")); \n        System.out.println(\"Here is your Decoded url with getPath method : \"+ new URLDecoding().getPathMethod(\"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest\")); \n\n    } \n\n}\n</code></pre>\n\n<p>You can select your method wisely :) </p>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/24053197#24053197", "question_id": 6138127, "answer_id": 24053197}, {"body": "<p>I use <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/net/URLCodec.html#decode(java.lang.String)\" rel=\"nofollow\">apache commons</a></p>\n\n<pre><code>String decodedUrl = new URLCodec().decode(url);\n</code></pre>\n\n<p>The default charset is <code>UTF-8</code></p>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/25228635#25228635", "question_id": 6138127, "answer_id": 25228635}, {"body": "<pre><code> try {\n        String result = URLDecoder.decode(urlString, \"UTF-8\");\n    } catch (UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/26935875#26935875", "question_id": 6138127, "answer_id": 26935875}, {"body": "<pre><code>public String decodeString(String URL)\n    {\n\n    String urlString=\"\";\n    try {\n        urlString = URLDecoder.decode(URL,\"UTF-8\");\n        } catch (UnsupportedEncodingException e) {\n            // TODO Auto-generated catch block\n\n        }\n\n        return urlString;\n\n    }\n</code></pre>\n", "title": "How to do URL decoding in Java?", "tags": ["java", "url-encoding"], "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java/30861038#30861038", "question_id": 6138127, "answer_id": 30861038}], "creation_date": 1306411219, "score": 162, "link": "http://stackoverflow.com/questions/6138127/how-to-do-url-decoding-in-java", "question_id": 6138127}, {"body": "<p>What is the difference between <code>getAttribute()</code> and <code>getParameter()</code> methods within <code>HttpServletRequest</code> class?</p>\n", "tags": ["java", "jsp", "servlets"], "title": "Difference between getAttribute() and getParameter()", "answers": [{"body": "<ul>\n<li><p><code>getParameter()</code> returns http request parameters. Those passed from the client to the server. For example <code>http://example.com/servlet?parameter=1</code>. Can only return <code>String</code></p></li>\n<li><p><code>getAttribute()</code> is for server-side usage only - you fill the request with attributes that you can use within the same request. For example - you set an attribute in a servlet, and read it from a JSP. Can be used for any object, not just string.</p></li>\n</ul>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/5243798#5243798", "question_id": 5243754, "answer_id": 5243798}, {"body": "<p>Generally, a parameter is a string value that is most commonly known for being sent from the client to the server (e.g. a form post) and retrieved from the <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html#getInitParameter%28java.lang.String%29\">servlet request</a>.  The frustrating exception to this is <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html#getInitParameter%28java.lang.String%29\">ServletContext initial parameters</a> which are string parameters that are configured in web.xml and exist on the server.</p>\n\n<p>An attribute is a server variable that exists within a specified scope i.e.:</p>\n\n<ul>\n<li><code>application</code>, available for the life of the entire application</li>\n<li><code>session</code>, available for the life of the session</li>\n<li><code>request</code>, only available for the life of the request</li>\n<li><code>page</code> (JSP only), available for the current JSP page only   </li>\n</ul>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/5243833#5243833", "question_id": 5243754, "answer_id": 5243833}, {"body": "<p>It is crucial to know that <strong>attributes</strong> are not <strong>parameters</strong>.</p>\n\n<p>The return type for attributes is an <strong>Object</strong>, whereas the return type for a parameter is a <strong>String</strong>. When calling the <code>getAttribute(String name)</code> method, bear in mind that the attributes must be cast. </p>\n\n<p>Additionally, there is <strong>no servlet specific attributes</strong>, and there are no <strong>session parameters</strong>. </p>\n\n<p>This post is written with the purpose to connect on @Bozho's response, as additional information that can be useful for other people. </p>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/13612866#13612866", "question_id": 5243754, "answer_id": 13612866}, {"body": "<p>The difference between getAttribute and getParameter is that getParameter will return the value of a parameter that was submitted by an HTML form or that was included in a query string. getAttribute returns an object that you have set in the request, the only way you can use this is in conjunction with a RequestDispatcher. You use a RequestDispatcher to forward a request to another resource (JSP / Servlet). So before you forward the request you can set an attribute which will be available to the next resource.</p>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/15119505#15119505", "question_id": 5243754, "answer_id": 15119505}, {"body": "<p><code>getParameter</code> - Is used for getting the information you need from the Client's HTML page</p>\n\n<p><code>getAttribute</code> - This is used for getting the parameters set previously in another or the same JSP or Servlet page. </p>\n\n<p>Basically, if you are forwarding or just going from one jsp/servlet to another one, there is no way to have the information you want unless you choose to put them in an Object and use the set-attribute to store in a Session variable. </p>\n\n<p>Using getAttribute, you can retrieve the Session variable.</p>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/24943756#24943756", "question_id": 5243754, "answer_id": 24943756}, {"body": "<p>-<strong>getParameter()</strong> :</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;form name=\"testForm\" method=\"post\" action=\"testJSP.jsp\"&gt;\n&lt;input type=\"text\" name=\"testParam\" value=\"ClientParam\"&gt;\n&lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n    &lt;html&gt;\n    &lt;body&gt;\n    &lt;%\n    String sValue = request.getParameter(\"testParam\");\n    %&gt;\n    &lt;%= sValue %&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p><code>request.getParameter(\"testParam\")</code> will get the value from the posted form of the input box named \"testParam\" which is \"Client param\". It will then print it out, so you should see \"Client Param\" on the screen. So request.getParameter() will retrieve a value that the client has submitted. You will get the value on the server side.</p>\n\n<p>-<strong>getAttribute() :</strong>\n <code>request.getAttribute()</code>, this is all done server side. YOU add the attribute to the request and YOU submit the request to another resource, the client does not know about this. So all the code handling this would typically be in servlets.getAttribute always return object.</p>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/25074487#25074487", "question_id": 5243754, "answer_id": 25074487}, {"body": "<p>Basic difference between <strong>getAttribute()</strong> and <strong>getParameter()</strong> is the return type.</p>\n\n<pre><code>java.lang.Object getAttribute(java.lang.String name)\njava.lang.String getParameter(java.lang.String name)\n</code></pre>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/25689455#25689455", "question_id": 5243754, "answer_id": 25689455}, {"body": "<p><strong>request.getParameter()</strong></p>\n\n<p>We use <code>request.getParameter()</code> to extract request parameters (i.e. data sent by posting a html form ). The <code>request.getParameter()</code> always returns <code>String</code> value and the data come from client.</p>\n\n<p><strong>request.getAttribute()</strong></p>\n\n<p>We use <code>request.getAttribute()</code> to get an object added to the request scope on the server side i.e. using <code>request.setAttribute()</code>. You can add any type of object you like here, <code>Strings</code>, Custom objects, in fact any object. You add the attribute to the request and forward the request to another resource, the client does not know about this. So all the code handling this would typically be in JSP/servlets. You can use <code>request.setAttribute()</code> to add extra-information and forward/redirect the current request to another resource.</p>\n\n<p>For example,consider about first.jsp, </p>\n\n<pre><code>//First Page : first.jsp\n&lt;%@ page import=\"java.util.*\" import=\"java.io.*\"%&gt;\n&lt;% request.setAttribute(\"PAGE\", \"first.jsp\");%&gt;\n&lt;jsp:forward page=\"/second.jsp\"/&gt;\n</code></pre>\n\n<p>and second.jsp:</p>\n\n<pre><code>&lt;%@ page import=\"java.util.*\" import=\"java.io.*\"%&gt;\nFrom Which Page : &lt;%=request.getAttribute(\"PAGE\")%&gt;&lt;br&gt;\nData From Client : &lt;%=request.getParameter(\"CLIENT\")%&gt;\n</code></pre>\n\n<p>From your browser, run <em>first.jsp?CLIENT=you</em> and the output on your browser is</p>\n\n<pre><code>From Which Page : *first.jsp*\nData From Client : you\n</code></pre>\n\n<p>The basic difference between <code>getAttribute()</code> and <code>getParameter()</code> is that the first method extracts a (serialized) Java object and the other provides a String value. For both cases a name is given so that its value (be it string or a java bean) can be looked up and extracted.</p>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/34295445#34295445", "question_id": 5243754, "answer_id": 34295445}, {"body": "<p>from <a href=\"http://www.coderanch.com/t/361868/Servlets/java/request-getParameter-request-getAttribute\" rel=\"nofollow\">http://www.coderanch.com/t/361868/Servlets/java/request-getParameter-request-getAttribute</a></p>\n\n<blockquote>\n  <p>A \"parameter\" is a name/value pair sent from the client to the server\n  - typically, from an HTML form. Parameters can only have String values. Sometimes (e.g. using a GET request) you will see these\n  encoded directly into the URL (after the ?, each in the form\n  name=value, and each pair separated by an &amp;). Other times, they are\n  included in the body of the request, when using methods such as POST.</p>\n  \n  <p>An \"attribute\" is a server-local storage mechanism - nothing stored in\n  scoped attribues is ever transmitted outside the server unless you\n  explicitly make that happen. Attributes have String names, but store\n  Object values. Note that attributes are specific to Java (they store\n  Java Objects), while parameters are platform-independent (they are\n  only formatted strings composed of generic bytes).</p>\n  \n  <p>There are four scopes of attributes in total: \"page\" (for JSPs and tag\n  files only), \"request\" (limited to the current client's request,\n  destroyed after request is completed), \"session\" (stored in the\n  client's session, invalidated after the session is terminated),\n  \"application\" (exist for all components to access during the entire\n  deployed lifetime of your application).</p>\n  \n  <p>The bottom line is: use parameters when obtaining data from the\n  client, use scoped attributes when storing objects on the server for\n  use internally by your application only.</p>\n</blockquote>\n", "title": "Difference between getAttribute() and getParameter()", "tags": ["java", "jsp", "servlets"], "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter/35715611#35715611", "question_id": 5243754, "answer_id": 35715611}], "creation_date": 1299663209, "score": 162, "link": "http://stackoverflow.com/questions/5243754/difference-between-getattribute-and-getparameter", "question_id": 5243754}, {"body": "<p>I am on the stage of development, where I have two modules and from one I got output as a <code>OutputStream</code> and second one, which accepts only <code>InputStream</code>. Do you know how to convert <code>OutputStream</code> to <code>InputStream</code> (not vice versa, I mean really this way) that I will be able to connect these two parts?</p>\n\n<p>Thanks</p>\n", "tags": ["java", "inputstream", "outputstream"], "title": "How to convert OutputStream to InputStream?", "answers": [{"body": "<p>An <code>OutputStream</code> is one where you write data to. If some module exposes an <code>OutputStream</code>, the expectation is that there is something at the other end that is reading.</p>\n\n<p>Something that exposes an <code>InputStream</code> on the other hand is indicating that you will need to listen to this stream, and there will be data that you can read. </p>\n\n<p>So it is possible to connect an <code>InputStream</code> to an <code>OutputStream</code></p>\n\n<p><code>InputStream----read---&gt; intermediateBytes[n] ----write----&gt; OutputStream</code></p>\n\n<p>As someone metioned, this is what the <code>copy()</code> method from <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/IOUtils.html\" rel=\"nofollow\">IOUtils</a> lets you do. It does not make sense to go the other way... hopefully this makes some sense</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Of course the more I think of this, the more I can see how this actually would be a requirement. I know some of the comments mentioned <code>Piped</code> input/ouput streams, but there is another possibility.</p>\n\n<p>If the output stream that is exposed is a <code>ByteArrayOutputStream</code>, then you can always get the full contents by calling the <code>toByteArray()</code> method. Then you can create an input stream wrapper by using the <code>ByteArrayInputStream</code> sub-class. These two are pseudo-streams, they both basically just wrap an array of bytes. Using the streams this way, therefore, is technically possible, but to me it is still very strange...</p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/5778863#5778863", "question_id": 5778658, "answer_id": 5778863}, {"body": "<p>You will need an intermediate class which will buffer between. Each time <code>InputStream.read(byte[]...)</code> is called, the buffering class will fill the passed in byte array with the next chunk passed in from <code>OutputStream.write(byte[]...)</code>. Since the sizes of the chunks may not be the same, the adapter class will need to store a certain amount until it has enough to fill the read buffer and/or be able to store up any buffer overflow.</p>\n\n<p>This article has a nice breakdown of a few different approaches to this problem:</p>\n\n<p><a href=\"http://blog.ostermiller.org/convert-java-outputstream-inputstream\" rel=\"nofollow\">http://blog.ostermiller.org/convert-java-outputstream-inputstream</a></p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/10768914#10768914", "question_id": 5778658, "answer_id": 10768914}, {"body": "<p>The <a href=\"http://io-tools.sourceforge.net/easystream/index.html\" rel=\"nofollow\">easystream</a> open source library has direct support to convert an OutputStream to an InputStream: <a href=\"http://io-tools.sourceforge.net/easystream/tutorial/tutorial.html\" rel=\"nofollow\">http://io-tools.sourceforge.net/easystream/tutorial/tutorial.html</a></p>\n\n<p>They also list other options: <a href=\"http://io-tools.sourceforge.net/easystream/OutputStream_to_InputStream.html\" rel=\"nofollow\">http://io-tools.sourceforge.net/easystream/OutputStream_to_InputStream.html</a></p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/16973800#16973800", "question_id": 5778658, "answer_id": 16973800}, {"body": "<p>If you want to make an OutputStream from an InputStream there is one basic problem. A method writing to an OutputStream blocks until it is done. So the result is available when the writing method is finished. This has 2 consequences:</p>\n\n<ol>\n<li>If you use only one thread, you need to wait until everything is written (so you need to store the stream's data in memory or disk).</li>\n<li>If you want to access the data before it is finished, you need a second thread.</li>\n</ol>\n\n<p>Variant 1 can be implemented using byte arrays or filed.\nVariant 1 can be implemented using pipies (either directly or with extra abstraction - e.g. RingBuffer or the google lib from the other comment).</p>\n\n<p>Indeed with standard java there is no other way to solve the problem. Each solution is an implementataion of one of these.</p>\n\n<p>There is one concept called \"continuation\" (see <a href=\"http://en.wikipedia.org/wiki/Continuation\" rel=\"nofollow\">wikipedia</a> for details). In this case basically this means:</p>\n\n<ul>\n<li>there is a special output stream that expects a certain amount of data</li>\n<li>if the ammount is reached, the stream gives control to it's counterpart which is a special input stream</li>\n<li>the input stream makes the amount of data available until it is read, after that, it passes back the control to the output stream</li>\n</ul>\n\n<p>While some languages have this concept built in, for java you need some \"magic\". For example \"commons-javaflow\" from apache implements such for java. The disadvantage is that this requires some special bytecode modifications at build time. So it would make sense to put all the stuff in an extra library whith custom build scripts.</p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/19326998#19326998", "question_id": 5778658, "answer_id": 19326998}, {"body": "<p>Old post but might help others, Use this way:</p>\n\n<pre><code>OutputStream out = new ByteArrayOutputStream();\n...\nout.write();\n...\nObjectInputStream ois = new ObjectInputStream(new ByteArrayInputStream(out.toString().getBytes()));\n</code></pre>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/19377148#19377148", "question_id": 5778658, "answer_id": 19377148}, {"body": "<p>As input and output streams are just start and end point, the solution is to temporary store data in byte array. So you must create intermediate <code>ByteArrayOutputStream</code>, from which you create <code>byte[]</code> that is used as input for new <code>ByteArrayInputStream</code>. </p>\n\n<pre><code>public void doTwoThingsWithStream(InputStream inStream, OutputStream outStream){ \n  //create temporary bayte array output stream\n  ByteArrayOutputStream baos = new ByteArrayOutputStream();\n  doFirstThing(inStream, baos);\n  //create input stream from baos\n  InputStream isFromFirstData = new ByteArrayInputStream(baos.toByteArray()); \n  doSecondThing(isFromFirstData, outStream);\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/23536722#23536722", "question_id": 5778658, "answer_id": 23536722}, {"body": "<p>There seem to be many links and other such stuff, but no actual code using pipes. The advantage of using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PipedInputStream.html\"><code>java.io.PipedInputStream</code></a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PipedOutputStream.html\"><code>java.io.PipedOutputStream</code></a> is that there is no additional consumption of memory. <code>ByteArrayOutputStream.toByteArray()</code> returns a copy of the original buffer, so that means that whatever you have in memory, you now have two copies of it. Then writing to an <code>InputStream</code> means you now have three copies of the data.</p>\n\n<p>The code:</p>\n\n<pre><code>// take the copy of the stream and re-write it to an InputStream\nPipedInputStream in = new PipedInputStream();\nfinal PipedOutputStream out = new PipedOutputStream(in);\nnew Thread(new Runnable() {\n    public void run () {\n        try {\n            // write the original OutputStream to the PipedOutputStream\n            originalByteArrayOutputStream.writeTo(out);\n        } catch (IOException e) {\n            // logging and exception handling should go here\n        }\n    }\n}).start();\n</code></pre>\n\n<p>This code assumes that the <code>originalByteArrayOutputStream</code> is a <code>ByteArrayOutputStream</code> as it is usually the only usable output stream, unless you're writing to a file. I hope this helps! The great thing about this is that since it's in a separate thread, it also is working in parallel, so whatever is consuming your input stream will be streaming out of your old output stream too. That is beneficial because the buffer can remain smaller and you'll have less latency and less memory usage.</p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/23874232#23874232", "question_id": 5778658, "answer_id": 23874232}, {"body": "<p>I encountered the same problem with converting a <code>ByteArrayOutputStream</code> to a <code>ByteArrayInputStream</code> and solved it by using a derived class from <code>ByteArrayOutputStream</code> which is able to return a <code>ByteArrayInputStream</code> that is initialized with the internal buffer of the <code>ByteArrayOutputStream</code>. This way no additional memory is used and the 'conversion' is very fast:</p>\n\n<pre><code>package info.whitebyte.utils;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\n/**\n * This class extends the ByteArrayOutputStream by \n * providing a method that returns a new ByteArrayInputStream\n * which uses the internal byte array buffer. This buffer\n * is not copied, so no additional memory is used. After\n * creating the ByteArrayInputStream the instance of the\n * ByteArrayInOutStream can not be used anymore.\n * &lt;p&gt;\n * The ByteArrayInputStream can be retrieved using &lt;code&gt;getInputStream()&lt;/code&gt;.\n * @author Nick Russler\n */\npublic class ByteArrayInOutStream extends ByteArrayOutputStream {\n    /**\n     * Creates a new ByteArrayInOutStream. The buffer capacity is\n     * initially 32 bytes, though its size increases if necessary.\n     */\n    public ByteArrayInOutStream() {\n        super();\n    }\n\n    /**\n     * Creates a new ByteArrayInOutStream, with a buffer capacity of\n     * the specified size, in bytes.\n     *\n     * @param   size   the initial size.\n     * @exception  IllegalArgumentException if size is negative.\n     */\n    public ByteArrayInOutStream(int size) {\n        super(size);\n    }\n\n    /**\n     * Creates a new ByteArrayInputStream that uses the internal byte array buffer \n     * of this ByteArrayInOutStream instance as its buffer array. The initial value \n     * of pos is set to zero and the initial value of count is the number of bytes \n     * that can be read from the byte array. The buffer array is not copied. This \n     * instance of ByteArrayInOutStream can not be used anymore after calling this\n     * method.\n     * @return the ByteArrayInputStream instance\n     */\n    public ByteArrayInputStream getInputStream() {\n        // create new ByteArrayInputStream that respects the current count\n        ByteArrayInputStream in = new ByteArrayInputStream(this.buf, 0, this.count);\n\n        // set the buffer of the ByteArrayOutputStream \n        // to null so it can't be altered anymore\n        this.buf = null;\n\n        return in;\n    }\n}\n</code></pre>\n\n<p>I put the stuff on github: <a href=\"https://github.com/nickrussler/ByteArrayInOutStream\" rel=\"nofollow\">https://github.com/nickrussler/ByteArrayInOutStream</a></p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/25673997#25673997", "question_id": 5778658, "answer_id": 25673997}, {"body": "<p>I think the best way to connect InputStream to an OutputStream is through <strong>piped streams</strong> - available in java.io package, as follow:</p>\n\n<pre><code>// 1- Define stream buffer\nprivate static final int PIPE_BUFFER = 2048;\n\n// 2 -Create PipedInputStream with the buffer\npublic PipedInputStream inPipe = new PipedInputStream(PIPE_BUFFER);\n\n// 3 -Create PipedOutputStream and bound it to the PipedInputStream object\npublic PipedOutputStream outPipe = new PipedOutputStream(inPipe);\n\n// 4- PipedOutputStream is an OutputStream, So you can write data to it\n// in any way suitable to your data. for example:\nwhile (Condition) {\n     outPipe.write(mByte);\n}\n\n/*Congratulations:D. Step 4 will write data to the PipedOutputStream\nwhich is bound to the PipedInputStream so after filling the buffer\nthis data is available in the inPipe Object. Start reading it to\nclear the buffer to be filled again by the PipedInputStream object.*/\n</code></pre>\n\n<p>In my opinion there are two main advantages for this code:</p>\n\n<p>1 - There is no additional consumption of memory except for the buffer.</p>\n\n<p>2 - You don't need to handle data queuing manually</p>\n", "title": "How to convert OutputStream to InputStream?", "tags": ["java", "inputstream", "outputstream"], "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream/28191880#28191880", "question_id": 5778658, "answer_id": 28191880}], "creation_date": 1303737117, "score": 161, "link": "http://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream", "question_id": 5778658}, {"body": "<p>In Java, it is perfectly legal to define <code>final</code> arguments in interface methods and do not obey that in the implementing class, e.g.:</p>\n\n<pre><code>public interface Foo {\n    public void foo(int bar, final int baz);\n}\n\npublic class FooImpl implements Foo {\n\n    @Override\n    public void foo(final int bar, int baz) {\n        ...\n    }\n}\n</code></pre>\n\n<p>In the above example, <code>bar</code> and <code>baz</code> has the opposite <code>final</code> definitions in the class VS the interface.</p>\n\n<p>In the same fashion, no <code>final</code> restrictions are enforced when one class method extends another, either <code>abstract</code> or not.</p>\n\n<p>While <code>final</code> has some practical value inside the class method body, is there any point specifying <code>final</code> for interface method parameters?</p>\n", "tags": ["java", "class", "interface", "methods", "final"], "title": "Final arguments in interface methods - what&#39;s the point?", "answers": [{"body": "<p>Some IDEs will copy the signature of the abstract/interface method when inserting an implementing method in a sub class.</p>\n\n<p>I don't believe it makes any difference to the compiler.</p>\n", "title": "Final arguments in interface methods - what&#39;s the point?", "tags": ["java", "class", "interface", "methods", "final"], "link": "http://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point/5380254#5380254", "question_id": 5380177, "answer_id": 5380254}, {"body": "<p>Final annotations of method parameters are always only relevant to the method implementation never to the caller. Therefore, there is no real reason to use them in interface method signatures. Unless you want to follow the same consistent coding standard, which requires final method parameters, in all method signatures. Then it is nice to be able to do so.</p>\n", "title": "Final arguments in interface methods - what&#39;s the point?", "tags": ["java", "class", "interface", "methods", "final"], "link": "http://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point/5380288#5380288", "question_id": 5380177, "answer_id": 5380288}, {"body": "<p>I believe it may be a superfluous detail, as whether it's final or not is an implementation detail.</p>\n\n<p>(Sort of like declaring methods/members in an interface as public.)</p>\n", "title": "Final arguments in interface methods - what&#39;s the point?", "tags": ["java", "class", "interface", "methods", "final"], "link": "http://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point/5380305#5380305", "question_id": 5380177, "answer_id": 5380305}, {"body": "<p>It doesn't seem like it. According to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\">Java Language Specification 4.12.4</a>:</p>\n\n<blockquote>\n  <p>Declaring a variable final can serve\n  as useful documentation that its value\n  will not change and can help avoid\n  programming errors.</p>\n</blockquote>\n\n<p>However, a <code>final</code> modifier on a method parameter is not mentioned in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#38649\">rules for matching signatures</a> of overridden methods, and it has no effect on the caller, only within the body of an implementation. Also, as noted by Robin in a comment, the <code>final</code> modifier on a method parameter has no effect on the generated byte code. (This is not true for other uses of <code>final</code>.)</p>\n", "title": "Final arguments in interface methods - what&#39;s the point?", "tags": ["java", "class", "interface", "methods", "final"], "link": "http://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point/5380309#5380309", "question_id": 5380177, "answer_id": 5380309}, {"body": "<p><strong>Update:</strong> Original answer below was written without fully understanding the question, and therefore does not directly address the question <code>:)</code> Nevertheless, it must be informative for those looking to understand the general use of <code>final</code> keyword.</p>\n\n<p>As for the question, I would like to quote my own comment from below.</p>\n\n<blockquote>\n  <p>I believe you're not forced to implement the finality of an argument to leave you free to decide whether it should be <em>final</em> or not in your own implementation.</p>\n  \n  <p>But yes, it sounds rather odd that you can declare it <code>final</code> in the interface, but have it <em>non-final</em> in the implementation. It would have made more sense if either:</p>\n  \n  <p><strong>a.</strong> <code>final</code> keyword was not allowed for interface (abstract) method arguments (but you can use it in implementation), or<br>\n  <strong>b.</strong> declaring an argument as <code>final</code> in interface would force it to be declared <code>final</code> in implementation (but not forced for non-finals).</p>\n</blockquote>\n\n<hr>\n\n<p>I can think of two reasons why a method signature can have <code>final</code> parameters: <strong>Beans</strong> and <strong>Objects</strong> (<em>Actually, they are both the same reason, but slightly different contexts.</em>)</p>\n\n<p><strong>Objects:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    StringBuilder cookingPot = new StringBuilder(\"Water \");\n    addVegetables(cookingPot);\n    addChicken(cookingPot);\n    System.out.println(cookingPot.toString());\n    // ^--- OUTPUT IS: Water Carrot Broccoli Chicken ChickenBroth \n    //      We forgot to add cauliflower. It went into the wrong pot.\n}\n\nprivate static void addVegetables(StringBuilder cookingPot) {\n    cookingPot.append(\"Carrot \");\n    cookingPot.append(\"Broccoli \");\n    cookingPot = new StringBuilder(cookingPot.toString());\n    //   ^--- Assignment allowed...\n    cookingPot.append(\"Cauliflower \");\n}\n\nprivate static void addChicken(final StringBuilder cookingPot) {\n    cookingPot.append(\"Chicken \");\n    //cookingPot = new StringBuilder(cookingPot.toString());\n    //     ^---- COMPILATION ERROR! It is final.\n    cookingPot.append(\"ChickenBroth \");\n}\n</code></pre>\n\n<p>The <code>final</code> keyword ensured that we will not accidentally create a new <em>local</em> cooking pot by showing a compilation error when we attempted to do so. This ensured the chicken broth is added to our original cooking pot which the <code>addChicken</code> method got. Compare this to <code>addVegetables</code> where we lost the cauliflower because it added that to a new <em>local</em> cooking pot instead of the original pot it got.</p>\n\n<p><strong>Beans:</strong>\nIt is the same concept as objects <em>(as shown above)</em>. Beans are essentially <code>Object</code>s in Java. However, beans (JavaBeans) are used in various applications as a convenient way to store and pass around a defined collection of related data. Just as the <code>addVegetables</code> could mess up the cooking process by creating a new cooking pot <code>StringBuilder</code> and throwing it away with the cauliflower, it could also do the same with a cooking pot <em>JavaBean</em>.</p>\n", "title": "Final arguments in interface methods - what&#39;s the point?", "tags": ["java", "class", "interface", "methods", "final"], "link": "http://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point/17419581#17419581", "question_id": 5380177, "answer_id": 17419581}], "creation_date": 1300722827, "score": 161, "link": "http://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point", "question_id": 5380177}, {"body": "<p><strong>I need to know where JDK is located on my machine.</strong> </p>\n\n<p>On running <code>Java -version</code> in <strong>cmd</strong>, it shows the version as '1.6.xx'.\nTo find the location of this SDK on my machine I tried using <code>echo %JAVA_HOME%</code> but it is only showing 'JAVA_HOME' (as there is no 'JAVA_PATH' var set in my environment variables).</p>\n", "tags": ["java", "windows"], "title": "How do I find where JDK is installed on my windows machine?", "answers": [{"body": "<p>If you are using Linux/Unix/Mac OS X:</p>\n\n<p>Try this:</p>\n\n<pre><code>$ which java\n</code></pre>\n\n<p>Should output the exact location.</p>\n\n<p>After that, you can set <code>JAVA_HOME</code> environment variable yourself.</p>\n\n<p>In my computer (Mac OS X - Snow Leopard):</p>\n\n<pre><code>$ which java\n/usr/bin/java\n$ ls -l /usr/bin/java\nlrwxr-xr-x  1 root  wheel  74 Nov  7 07:59 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n</code></pre>\n\n<p>If you are using Windows:</p>\n\n<pre><code>c:\\&gt; for %i in (java.exe) do @echo.   %~$PATH:i\n</code></pre>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/4681109#4681109", "question_id": 4681090, "answer_id": 4681109}, {"body": "<p>Have you tried looking at your %PATH% variable. That's what Windows uses to find any executable.</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/4681110#4681110", "question_id": 4681090, "answer_id": 4681110}, {"body": "<p>Run this program from commandline:</p>\n\n<pre><code>// File: Main.java\npublic class Main {\n\n    public static void main(String[] args) {\n       System.out.println(System.getProperty(\"java.home\"));\n    }\n\n}\n\n\n$ javac Main.java\n$ java Main\n</code></pre>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/4681121#4681121", "question_id": 4681090, "answer_id": 4681121}, {"body": "<p>This is OS specific. On Unix:</p>\n\n<pre><code>which java\n</code></pre>\n\n<p>will display the path to the executable. I don't know of a Windows equivalent, but there you typically have the <code>bin</code> folder of the JDK installation in the system <code>PATH</code>:</p>\n\n<pre><code>echo %PATH%\n</code></pre>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/4681129#4681129", "question_id": 4681090, "answer_id": 4681129}, {"body": "<p>Just execute the  <code>set</code> command in your command line. Then you see all the environments variables you have set.</p>\n\n<p>Or if on Unix you can simplify it:</p>\n\n<pre><code>$ set | grep \"JAVA_HOME\" \n</code></pre>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/4681147#4681147", "question_id": 4681090, "answer_id": 4681147}, {"body": "<p>Java installer puts several files into %WinDir%\\System32 folder (java.exe, javaws.exe and some others). When you type java.exe in command line or create process without full path, Windows runs these as last resort if they are missing in %PATH% folders. </p>\n\n<p>You can lookup all versions of Java installed in registry. Take a look at HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment and HKLM\\SOFTWARE\\Wow6432Node\\JavaSoft\\Java Runtime Environment for 32-bit java on 64 bit Windows.</p>\n\n<p>This is how java itself finds out different versions installed. And this is why both 32-bit and 64-bit version can co-exist and works fine without interfering.</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/9094539#9094539", "question_id": 4681090, "answer_id": 9094539}, {"body": "<p>Windows > Start > cmd > </p>\n\n<pre><code>C:&gt; for %i in (javac.exe) do @echo.   %~$PATH:i\n</code></pre>\n\n<p>If you have a JDK installed, the Path is displayed,<br>\nfor example: <code>C:\\Program Files\\Java\\jdk1.6.0_30\\bin\\javac.exe</code></p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/10520266#10520266", "question_id": 4681090, "answer_id": 10520266}, {"body": "<p>More on Windows... variable <em>java.home</em> is not always the same location as the binary that is run. </p>\n\n<p>As Denis The Menace says, the installer puts Java files into <em>Program Files</em>, but also <em>java.exe</em> into <em>System32</em>. With nothing Java related on the path <em>java -version</em> can still work. However when PeterMmm's program is run it reports the value of <em>Program Files</em> as <em>java.home</em>, this is not wrong (Java is installed there) but the actual binary being run is located in <em>System32</em>.</p>\n\n<p>One way to hunt down the location of the <em>java.exe</em> binary, add the following line to PeterMmm's code to keep the program running a while longer:</p>\n\n<pre><code>try{Thread.sleep(60000);}catch(Exception e) {}\n</code></pre>\n\n<p>Compile and run it, then hunt down the location of the <em>java.exe</em> image. E.g. in Windows 7 open the task manager, find the <em>java.exe</em> entry, right click and select 'open file location', this opens the exact location of the Java binary. In this case it would be <em>System32</em>.</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/13047287#13047287", "question_id": 4681090, "answer_id": 13047287}, {"body": "<p>I found it at c:\\Sun\\SDK\\jdk.. \nOr just try to search for jdk*</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/15855967#15855967", "question_id": 4681090, "answer_id": 15855967}, {"body": "<p>In Windows at the command prompt</p>\n\n<p><code>where javac</code></p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/17857502#17857502", "question_id": 4681090, "answer_id": 17857502}, {"body": "<p>In windows the default is: <code>C:\\Program Files\\Java\\jdk1.6.0_14</code> (where the numbers may differ, as they're the version).</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/19576957#19576957", "question_id": 4681090, "answer_id": 19576957}, {"body": "<p>Plain and simple on Windows platforms:</p>\n\n<p><strong>where java</strong></p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/21353157#21353157", "question_id": 4681090, "answer_id": 21353157}, {"body": "<p>In a Windows command prompt, just type:</p>\n\n<pre><code>set java_home\n</code></pre>\n\n<p>Or, if you don't like the command environment, you can check it from:</p>\n\n<p>Start menu > Computer > System Properties > Advanced System Properties. Then open Advanced tab > Environment Variables and in system variable try to find JAVA_HOME. </p>\n\n<p><img src=\"http://i.stack.imgur.com/3Atvv.jpg\" alt=\"enter image description here\"></p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/22436326#22436326", "question_id": 4681090, "answer_id": 22436326}, {"body": "<pre><code>#!/bin/bash\n\nif [[ $(which ${JAVA_HOME}/bin/java) ]]; then\n    exe=\"${JAVA_HOME}/bin/java\"\nelif [[ $(which java) ]]; then\n    exe=\"java\"\nelse \n    echo \"Java environment is not detected.\"\n    exit 1\nfi\n\n${exe} -version\n</code></pre>\n\n<p>For windows:</p>\n\n<pre><code>@echo off\nif \"%JAVA_HOME%\" == \"\" goto nojavahome\n\necho Using JAVA_HOME            :   %JAVA_HOME%\n\n\"%JAVA_HOME%/bin/java.exe\" -version\ngoto exit\n\n:nojavahome\necho The JAVA_HOME environment variable is not defined correctly\necho This environment variable is needed to run this program.\ngoto exit\n\n:exit\n</code></pre>\n\n<p>This link might help to explain how to find java executable from bash: <a href=\"http://srcode.org/2014/05/07/detect-java-executable/\" rel=\"nofollow\">http://srcode.org/2014/05/07/detect-java-executable/</a></p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/23534944#23534944", "question_id": 4681090, "answer_id": 23534944}, {"body": "<p>The batch script below will print out the existing default JRE. It can be easily modified to find the JDK version installed by replacing the <strong>Java Runtime Environment</strong> with <strong>Java Development Kit</strong>.</p>\n\n<pre><code>@echo off\n\nsetlocal\n\n::- Get the Java Version\nset KEY=\"HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\"\nset VALUE=CurrentVersion\nreg query %KEY% /v %VALUE% 2&gt;nul || (\n    echo JRE not installed \n    exit /b 1\n)\nset JRE_VERSION=\nfor /f \"tokens=2,*\" %%a in ('reg query %KEY% /v %VALUE% ^| findstr %VALUE%') do (\n    set JRE_VERSION=%%b\n)\n\necho JRE VERSION: %JRE_VERSION%\n\n::- Get the JavaHome\nset KEY=\"HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%\"\nset VALUE=JavaHome\nreg query %KEY% /v %VALUE% 2&gt;nul || (\n    echo JavaHome not installed\n    exit /b 1\n)\n\nset JAVAHOME=\nfor /f \"tokens=2,*\" %%a in ('reg query %KEY% /v %VALUE% ^| findstr %VALUE%') do (\n    set JAVAHOME=%%b\n)\n\necho JavaHome: %JAVAHOME%\n\nendlocal\n</code></pre>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/25249886#25249886", "question_id": 4681090, "answer_id": 25249886}, {"body": "<p>in Windows cmd:</p>\n\n<pre><code>set \"JAVA_HOME\" \n</code></pre>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/27649451#27649451", "question_id": 4681090, "answer_id": 27649451}, {"body": "<p>Under Windows, you can use</p>\n\n<pre><code>C:&gt;dir /b /s java.exe\n</code></pre>\n\n<p>to print the full path of each and every \"java.exe\" on your C: drive, regardless of whether they are on your PATH environment variable.</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/33899635#33899635", "question_id": 4681090, "answer_id": 33899635}, {"body": "<p>None of these answers are correct for Linux if you are looking for the home that includes the subdirs such as: bin, docs, include, jre, lib, etc.</p>\n\n<p>On Ubuntu for openjdk1.8.0, this is in:\n/usr/lib/jvm/java-1.8.0-openjdk-amd64</p>\n\n<p>and you may prefer to use that for JAVA_HOME since you will be able to find headers if you build JNI source files. While it's true <code>which java</code> will provide the binary path, it is not the true JDK home.</p>\n", "title": "How do I find where JDK is installed on my windows machine?", "tags": ["java", "windows"], "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine/35027301#35027301", "question_id": 4681090, "answer_id": 35027301}], "creation_date": 1294928773, "score": 160, "link": "http://stackoverflow.com/questions/4681090/how-do-i-find-where-jdk-is-installed-on-my-windows-machine", "question_id": 4681090}, {"body": "<p>How to convert a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html\"><code>Long</code></a> value into an <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html\"><code>Integer</code></a> value in Java?</p>\n", "tags": ["java"], "title": "Convert Long into Integer", "answers": [{"body": "<pre><code>Integer i = theLong != null ? theLong.intValue() : null;\n</code></pre>\n\n<p>or if you don't need to worry about null:</p>\n\n<pre><code>// auto-unboxing does not go from Long to int directly, so\nInteger i = (int) (long) theLong;\n</code></pre>\n\n<p>And in both situations, you might run into overflows (because a Long can store a wider range than an Integer).</p>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/5804066#5804066", "question_id": 5804043, "answer_id": 5804066}, {"body": "<p>You'll need to type cast it.</p>\n\n<pre><code>long i = 100L;\nint k = (int) i;\n</code></pre>\n\n<p>Bear in mind that a long has a bigger range than an int so you might lose data.</p>\n\n<p>If you are talking about the boxed types, then read the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html#intValue%28%29\">documentation</a>.</p>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/5804079#5804079", "question_id": 5804043, "answer_id": 5804079}, {"body": "<pre><code>Integer intValue = myLong.intValue();\n</code></pre>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/5804110#5804110", "question_id": 5804043, "answer_id": 5804110}, {"body": "<p>Here are three ways to do it:</p>\n\n<pre><code>Long l = 123L;\nInteger correctButComplicated = Integer.valueOf(l.intValue());\nInteger withBoxing = l.intValue();\nInteger terrible = (int) (long) l;\n</code></pre>\n\n<p>All three versions generate almost identical byte code:</p>\n\n<pre><code> 0  ldc2_w &lt;Long 123&gt; [17]\n 3  invokestatic java.lang.Long.valueOf(long) : java.lang.Long [19]\n 6  astore_1 [l]\n // first\n 7  aload_1 [l]\n 8  invokevirtual java.lang.Long.intValue() : int [25]\n11  invokestatic java.lang.Integer.valueOf(int) : java.lang.Integer [29]\n14  astore_2 [correctButComplicated]\n// second\n15  aload_1 [l]\n16  invokevirtual java.lang.Long.intValue() : int [25]\n19  invokestatic java.lang.Integer.valueOf(int) : java.lang.Integer [29]\n22  astore_3 [withBoxing]\n// third\n23  aload_1 [l]\n// here's the difference:\n24  invokevirtual java.lang.Long.longValue() : long [34]\n27  l2i\n28  invokestatic java.lang.Integer.valueOf(int) : java.lang.Integer [29]\n31  astore 4 [terrible]\n</code></pre>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/5804136#5804136", "question_id": 5804043, "answer_id": 5804136}, {"body": "<p>In java ,there is a rigorous way to convert a long to int</p>\n\n<p>not only lnog can convert into int,any type of class extends Number can convert to other Number type in general,here I will show you how to convert a long to int,other type vice versa.</p>\n\n<pre><code>Long l = 1234567L;\nint i = org.springframework.util.NumberUtils.convertNumberToTargetClass(l, Integer.class);\n</code></pre>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/15193070#15193070", "question_id": 5804043, "answer_id": 15193070}, {"body": "<p>If you care to check for overflows and have <a href=\"https://code.google.com/p/guava-libraries/\">Guava</a> handy, there is <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/primitives/Ints.html#checkedCast%28long%29\"><code>Ints.checkedCast()</code></a>:</p>\n\n<pre><code>int theInt = Ints.checkedCast(theLong);\n</code></pre>\n\n<p><a href=\"https://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/primitives/Ints.java#86\">The implementation</a> is dead simple, and throws <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html\">IllegalArgumentException</a> on overflow:</p>\n\n<pre><code>public static int checkedCast(long value) {\n  int result = (int) value;\n  checkArgument(result == value, \"Out of range: %s\", value);\n  return result;\n}\n</code></pre>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/16179476#16179476", "question_id": 5804043, "answer_id": 16179476}, {"body": "<p>The best simple way of doing so is:</p>\n\n<pre><code>public static int safeLongToInt( long longNumber ) \n    {\n        if ( longNumber &lt; Integer.MIN_VALUE || longNumber &gt; Integer.MAX_VALUE ) \n        {\n            throw new IllegalArgumentException( longNumber + \" cannot be cast to int without changing its value.\" );\n        }\n        return (int) longNumber;\n    }\n</code></pre>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/31318428#31318428", "question_id": 5804043, "answer_id": 31318428}, {"body": "<p>Assuming not null  longVal</p>\n\n<pre><code>Integer intVal = ((Number)longVal).intValue();\n</code></pre>\n\n<p>It works for example y you get an Object that can be an Integer or a Long. I know that is ugly, but it happens...</p>\n", "title": "Convert Long into Integer", "tags": ["java"], "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer/39260442#39260442", "question_id": 5804043, "answer_id": 39260442}], "creation_date": 1303907047, "score": 156, "link": "http://stackoverflow.com/questions/5804043/convert-long-into-integer", "question_id": 5804043}, {"body": "<p>I am new to Hibernate and am unclear of whether to use a <code>SessionFactory</code> or <code>EntityManagerFactory</code> to obtain the hibernate session.  What is the difference between the two?  Pros &amp; Cons?</p>\n", "tags": ["java", "hibernate", "jpa", "sessionfactory", "hibernate-entitymanager"], "title": "Hibernate SessionFactory vs. EntityManagerFactory", "answers": [{"body": "<p>Prefer <code>EntityManagerFactory</code> and <code>EntityManager</code>. They are defined by the JPA standard.</p>\n\n<p><code>SessionFactory</code> and <code>Session</code> are hibernate-specific. The <code>EntityManager</code> invokes the hibernate session under the hood. And if you need some specific features that are not available in the <code>EntityManager</code>, you can obtain the session by calling:</p>\n\n<pre><code>Session session = entityManager.unwrap(Session.class);\n</code></pre>\n", "title": "Hibernate SessionFactory vs. EntityManagerFactory", "tags": ["java", "hibernate", "jpa", "sessionfactory", "hibernate-entitymanager"], "link": "http://stackoverflow.com/questions/5640778/hibernate-sessionfactory-vs-entitymanagerfactory/5640796#5640796", "question_id": 5640778, "answer_id": 5640796}, {"body": "<p>I want to add on this that you can also get Hibernate's session by calling <code>getDelegate()</code> method from <code>EntityManager</code>.</p>\n\n<p>ex:</p>\n\n<pre><code>Session session = (Session) entityManager.getDelegate();\n</code></pre>\n", "title": "Hibernate SessionFactory vs. EntityManagerFactory", "tags": ["java", "hibernate", "jpa", "sessionfactory", "hibernate-entitymanager"], "link": "http://stackoverflow.com/questions/5640778/hibernate-sessionfactory-vs-entitymanagerfactory/14411903#14411903", "question_id": 5640778, "answer_id": 14411903}, {"body": "<p>Using EntityManagerFactory approach  allows us to use callback method annotations like @PrePersist, @PostPersist,@PreUpdate with no extra configuration. </p>\n\n<p>Using similar callbacks while using SessionFactory will require extra efforts.</p>\n\n<p>Related Hibernate docs can be found <a href=\"http://docs.jboss.org/hibernate/core/4.3/manual/en-US/html_single/#objectstate-interceptors\">here</a> and <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/event/spi/class-use/EventType.html\">here</a>.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/4133287/preupdate-and-prepersist-in-hibernate-jpa-using-session#answer-4133629\">Related SOF Question</a> and <a href=\"http://forum.springsource.org/showthread.php?54566-Hibernate-3-2-Persistent-Lifecycle-annotations-not-work\">Spring Forum discussion</a></p>\n", "title": "Hibernate SessionFactory vs. EntityManagerFactory", "tags": ["java", "hibernate", "jpa", "sessionfactory", "hibernate-entitymanager"], "link": "http://stackoverflow.com/questions/5640778/hibernate-sessionfactory-vs-entitymanagerfactory/18696223#18696223", "question_id": 5640778, "answer_id": 18696223}, {"body": "<p>By using EntityManager, code is no longer tightly coupled with hibernate. But for this, in usage we should use :</p>\n\n<pre><code>javax.persistence.EntityManager\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>org.hibernate.ejb.HibernateEntityManager\n</code></pre>\n\n<p>Similarly, for EntityManagerFactory, use javax interface. That way, the code is loosely coupled. If there is a better JPA 2 implementation than hibernate, switching would be easy. In extreme case, we could type cast to HibernateEntityManager. </p>\n", "title": "Hibernate SessionFactory vs. EntityManagerFactory", "tags": ["java", "hibernate", "jpa", "sessionfactory", "hibernate-entitymanager"], "link": "http://stackoverflow.com/questions/5640778/hibernate-sessionfactory-vs-entitymanagerfactory/26058976#26058976", "question_id": 5640778, "answer_id": 26058976}, {"body": "<p>I prefer the JPA2 <code>EntityManager</code> API over <code>SessionFactory</code>, because it feels more modern. One simple example:</p>\n\n<p>JPA:</p>\n\n<pre><code>@PersistenceContext\nEntityManager entityManager;\n\npublic List&lt;MyEntity&gt; findSomeApples() {\n  return entityManager\n     .createQuery(MyEntity.class, \"from MyEntity where apples=7\")\n     .getResultList();\n}\n</code></pre>\n\n<p>SessionFactory:</p>\n\n<pre><code>@Autowired\nSessionFactory sessionFactory;\n\npublic List&lt;MyEntity&gt; findSomeApples() {\n  Session session = sessionFactory.getCurrentSession();\n  List&lt;?&gt; result = session.createQuery(\"from MyEntity where apples=7\")\n      .list();\n  @SuppressWarnings(\"unchecked\")\n  List&lt;MyEntity&gt; resultCasted = (List&lt;MyEntity&gt;) result;\n  return resultCasted;\n}\n</code></pre>\n\n<p>I think it's clear that the first one looks cleaner and is also easier to test because EntityManager can be easily mocked.</p>\n", "title": "Hibernate SessionFactory vs. EntityManagerFactory", "tags": ["java", "hibernate", "jpa", "sessionfactory", "hibernate-entitymanager"], "link": "http://stackoverflow.com/questions/5640778/hibernate-sessionfactory-vs-entitymanagerfactory/28850010#28850010", "question_id": 5640778, "answer_id": 28850010}], "creation_date": 1302637884, "score": 153, "link": "http://stackoverflow.com/questions/5640778/hibernate-sessionfactory-vs-entitymanagerfactory", "question_id": 5640778}, {"body": "<p>I need to get a <code>String[]</code> out of a <code>Set&lt;String&gt;</code>, but I don't know how to do it. The following fails:</p>\n\n<pre><code>Map&lt;String, ?&gt; myMap = gpxlist.getAll();\nSet&lt;String&gt; myset = myMap.keySet();\nString[] GPXFILES1 = (String[]) myset.toArray(); // Here it fails.\n</code></pre>\n\n<p>How can I fix it so that it works?</p>\n", "tags": ["java"], "title": "How to convert Set&lt;String&gt; to String[]?", "answers": [{"body": "<p>Use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractCollection.html#toArray(T[])\"><code>Set#toArray(T[])</code></a> method taking a typed array argument of the same size.</p>\n\n<pre><code>String[] GPXFILES1 = myset.toArray(new String[myset.size()]);\n</code></pre>\n\n<p>A different size can also, but that would force the <code>toArray()</code> method to create a new array to return instead of reusing the provided argument, which may end up to be less efficient. See also <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/AbstractCollection.java#AbstractCollection.toArray%28java.lang.Object%5B%5D%29\">the source code of <code>AbstractCollection#toArray()</code></a>.</p>\n", "title": "How to convert Set&lt;String&gt; to String[]?", "tags": ["java"], "link": "http://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string/5982478#5982478", "question_id": 5982447, "answer_id": 5982478}, {"body": "<p>Use  <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html#toArray%28T%5B%5D%29\">toArray(T[] a)</a> method:</p>\n\n<pre><code>String[] array = set.toArray(new String[0]);\n</code></pre>\n", "title": "How to convert Set&lt;String&gt; to String[]?", "tags": ["java"], "link": "http://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string/5982539#5982539", "question_id": 5982447, "answer_id": 5982539}, {"body": "<p>In Java 8 we can use streams API:</p>\n\n<pre><code>String[] array = set.stream().toArray(String[]::new);\n</code></pre>\n", "title": "How to convert Set&lt;String&gt; to String[]?", "tags": ["java"], "link": "http://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string/32179686#32179686", "question_id": 5982447, "answer_id": 32179686}, {"body": "<p>Guava style:</p>\n\n<pre><code>Set&lt;String&gt; myset = myMap.keySet();\nFluentIterable.from(mySet).toArray(String.class);\n</code></pre>\n\n<p>more info: <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/FluentIterable.html\" rel=\"nofollow\">https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/FluentIterable.html</a></p>\n", "title": "How to convert Set&lt;String&gt; to String[]?", "tags": ["java"], "link": "http://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string/32521838#32521838", "question_id": 5982447, "answer_id": 32521838}], "creation_date": 1305224043, "score": 150, "link": "http://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string", "question_id": 5982447}, {"body": "<p>I know of Android Library projects, which allow you to create a shared-source project that can be pulled into Android Applications as needed. However, that requires that source be available.</p>\n\n<p>I'm looking for a way to build and distribute a closed-source library that can be used in other Android projects like a traditional JAR. This will require usage of the Android compiler, so it's not a vanilla-Java JAR file. FWIW, I do not need to embed resources/layouts in the JAR.</p>\n\n<p>I've seen <a href=\"http://andparcel.com/\">http://andparcel.com/</a> but it feels like a workaround, and I would rather use something 'officially supported' by Google. Also, I need to make sure that the JAR I build is compatible with old/new version of the Android SDK (i.e. I need a way to set the target platform version, etc).</p>\n\n<p>Do the latest Android toolsets allow for the creation/consumption of JAR binaries? Can you point to some documentation on how I can do it?</p>\n", "tags": ["java", "android", "jar"], "title": "Create an Android Jar library for distribution", "answers": [{"body": "<p>The only solution 'officially supported' by Google is the Library project, and it requires the source code to be distributed. You can create a JAR in the normal way, but you cannot include or reference resources within it. </p>\n\n<p>Unfortunately I think it is also not possible to include a packaged JAR within a Library project, as a means to get around the source code requirement.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/5014510#5014510", "question_id": 5014128, "answer_id": 5014510}, {"body": "<p>The ADT creates a bin folder which contains all of the class files for all matching source file and directories in your project, you could using the jar command,create a jar archive containing these class files and directories and presumable your library, but of course the class files platform level would only be targeted for current level of the project build- you would need a different jar file for each platform level; However  the great thing about this is that the R.class file is include in the project directory tree and therefor you have access to its resources. I don't know if this is the official way to do things in android, but it worked for me.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/5134735#5134735", "question_id": 5014128, "answer_id": 5134735}, {"body": "<p>In our project, we are creating apk (using apkbuilder) which is installed in /system/framework and added this apk in default classpath. For compilation of applications using the jar, we are creating a jar file (using jar c).</p>\n\n<p>Note: We don't have any resources in the library.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/5301236#5301236", "question_id": 5014128, "answer_id": 5301236}, {"body": "<p>Android doesn't provide a special kind of Android-JAR. But what you can do is adding a build.xml to your project and build the JAR with ant.</p>\n\n<p>My build.xml looks like this:</p>\n\n<pre><code>&lt;project name=\"MyAndroidLib\" default=\"dist\" basedir=\".\"&gt;\n  &lt;description&gt;\nThis is my Android lib\n  &lt;/description&gt;\n  &lt;!-- set global properties for this build --&gt;\n  &lt;property name=\"src\" location=\"src\" /&gt;\n  &lt;property name=\"bin\" location=\"bin\" /&gt;\n\n  &lt;target name=\"jar\"&gt;\n    &lt;jar destfile=\"MyAndroidLib.jar\" basedir=\"bin/classes/\"&gt;\n      &lt;!-- replace 'com' by what ever you are using --&gt;\n      &lt;!-- as first part of the package name --&gt;\n      &lt;!-- e.g. de, org, ... --&gt;\n      &lt;!-- the ** is important to include the directory recursively --&gt;\n      &lt;include name=\"com/**\" /&gt;\n    &lt;/jar&gt;\n  &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Build the JAR by running <code>ant jar</code> in your projects main folder.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/5599360#5599360", "question_id": 5014128, "answer_id": 5599360}, {"body": "<p>You can create a \"regular\" Java project and import from there Android.jar. Then, you will have access to every component in the SDK. Then, you can export your project as jar... and load it from your Android app. This works great and it seems a preety straightforward way to do it.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/5599403#5599403", "question_id": 5014128, "answer_id": 5599403}, {"body": "<p>If you create a Android Library project without having any resources, the ADT (first noticed in r16)  will create a .jar with the same name as the project in the 'bin' folder. </p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/8531923#8531923", "question_id": 5014128, "answer_id": 8531923}, {"body": "<p>just go to properties of the project of which you want to make jar.Click on Android tab. and tick in the Is library. now you can see .jar file in the bin folder.use it where you want to use.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/11607364#11607364", "question_id": 5014128, "answer_id": 11607364}, {"body": "<p>Try this: This works </p>\n\n<p>1) make your library project a normal project by deselecting IsLibrary flag.</p>\n\n<p>2) Execute your project as Android Application. (It will not show any error)</p>\n\n<p>3) you'll find a .jar file in bin folder along with .apk.</p>\n\n<p>4) Give you .jar who want to use your library.</p>\n\n<p>5) Tell them to just import external jar into build path.</p>\n\n<p>this will works fine with all the resources. best of luck.</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/17095381#17095381", "question_id": 5014128, "answer_id": 17095381}, {"body": "<p>.jar is just a .zip file which contains .class file \n(you can try change extension of any .jar file to .zip then see the result).\n<strong>Easily, you can create any .jar library for any purpose by zipping .class file.</strong></p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/17125639#17125639", "question_id": 5014128, "answer_id": 17125639}, {"body": "<p>In the latest build of Android Studio 1.2, the creation of JAR library has been made as simple as point and click.</p>\n\n<p>Steps to follow : </p>\n\n<ul>\n<li>Goto File -> New -> New Module\n<img src=\"http://i.stack.imgur.com/5iJYW.png\" alt=\"enter image description here\"></li>\n<li>Select \"Java Library\" at the end of the options list\n<img src=\"http://i.stack.imgur.com/EkBfY.png\" alt=\"enter image description here\"></li>\n<li>Enter the name of the jar lib and name of class in it and hit finish button\n<img src=\"http://i.stack.imgur.com/9tytt.png\" alt=\"enter image description here\"></li>\n<li>Thats it !</li>\n</ul>\n\n<p>The next step is adding your Jar Library as dependency in your app.\nSimple as that just </p>\n\n<ul>\n<li>Goto File -> Project Structure -> Select 'app' -> Select 'Dependency'</li>\n<li>Select the '+' at the bottom -> Select 'Module Dependency'\n<img src=\"http://i.stack.imgur.com/ABrBe.png\" alt=\"enter image description here\"></li>\n<li>Select your jar lib module you just created above\n<img src=\"http://i.stack.imgur.com/13C5g.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/R0Hjt.png\" alt=\"enter image description here\"></li>\n<li>Select Ok and thats it!</li>\n</ul>\n\n<p>....Or you could just add the below line to your App gradle file</p>\n\n<pre><code>dependencies {\n      compile fileTree(dir: 'libs', include: ['*.jar']) // Default Gradle Task, should be already present\n      compile 'com.android.support:appcompat-v7:21.0.3' // Default Gradle Task, should be already present\n\n      compile project(':nameOfYourJarLibraryModule') // This is your jar library module\n }\n</code></pre>\n\n<p>Google is promoting the Android Archive(AAR), even though JAR supported is brought back to android studio.To find out the difference between AAR and JAR refer <a href=\"http://stackoverflow.com/questions/23915619/android-archive-library-aar-vs-standard-jar\">this link</a></p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/29111568#29111568", "question_id": 5014128, "answer_id": 29111568}, {"body": "<p>Open file project.properties \nenter value \nandroid.library=true</p>\n\n<p>save file,\nfrom eclipse menu for project,\n select 'build automatically' \nthen select 'clean'\nbrand new jar is created under bin</p>\n", "title": "Create an Android Jar library for distribution", "tags": ["java", "android", "jar"], "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution/30466118#30466118", "question_id": 5014128, "answer_id": 30466118}], "creation_date": 1297844923, "score": 148, "link": "http://stackoverflow.com/questions/5014128/create-an-android-jar-library-for-distribution", "question_id": 5014128}, {"body": "<p>I need to use UTF-8 in my resource properties using Java's <code>ResourceBundle</code>. When I enter the text directly into the properties file, it displays as mojibake.</p>\n\n<p>My app runs on Google App Engine.</p>\n\n<p>Can anyone give me an example? I can't get this work.</p>\n", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "title": "How to use UTF-8 in resource properties with ResourceBundle", "answers": [{"body": "<p>Attention: java property files should be encoded in ISO 8859-1!</p>\n\n<blockquote>\n  <p>ISO 8859-1 character encoding.\n  Characters that cannot be directly\n  represented in this encoding can be\n  written using Unicode escapes  ; only\n  a single 'u' character is allowed in\n  an escape sequence.</p>\n</blockquote>\n\n<p>@see Properties Java Doc</p>\n\n<p>If you still really want to do this: have a look at:\n<a href=\"http://stackoverflow.com/questions/863838/problem-with-java-properties-utf8-encoding-in-eclipse\">Problem with Java properties utf8 encoding in Eclipse</a> -- there are some code samples</p>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/4660058#4660058", "question_id": 4659929, "answer_id": 4660058}, {"body": "<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\"><code>ResourceBundle#getBundle()</code></a> uses under the covers <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/PropertyResourceBundle.html\"><code>PropertyResourceBundle</code></a> when a <code>.properties</code> file is specified. This in turn uses by default <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\"><code>Properties#load(InputStream)</code></a> to load those properties files. As per <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.InputStream)\">the javadoc</a>, they are by default read as ISO-8859-1. </p>\n\n<blockquote>\n  <p><code>public void load(InputStream inStream) throws IOException</code></p>\n  \n  <p>Reads a property list (key and element pairs) from the input byte stream. The input stream is in a simple line-oriented format as specified in load(Reader) <strong>and is assumed to use the ISO 8859-1 character encoding</strong>; that is each byte is one Latin1 character. Characters not in Latin1, and certain special characters, are represented in keys and elements using Unicode escapes as defined in section 3.3 of The Java\u2122 Language Specification.</p>\n</blockquote>\n\n<p>So, you'd need to save them as ISO-8859-1. If you have any characters beyond ISO-8859-1 range and you can't use <code>\\uXXXX</code> off top of head and you're thus forced to save the file as UTF-8, then you'd need to use the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/native2ascii.html\"><em>native2ascii</em></a> tool to convert an UTF-8 saved properties file to an ISO-8859-1 saved properties file wherein all uncovered characters are converted into <code>\\uXXXX</code> format. The below example converts a UTF-8 encoded properties file <code>text_utf8.properties</code> to a valid ISO-8859-1 encoded properties file <code>text.properties</code>.</p>\n\n<pre>native2ascii -encoding UTF-8 text_utf8.properties text.properties</pre>\n\n<p>When using a sane IDE such as Eclipse, this is already automatically done when you create a <code>.properties</code> file in a Java based project and use Eclipse's own editor. Eclipse will transparently convert the characters beyond ISO-8859-1 range to <code>\\uXXXX</code> format. See also below screenshots (note the \"Properties\" and \"Source\" tabs on bottom, click for large):</p>\n\n<p><a href=\"http://i.stack.imgur.com/iQWWG.png\"><img src=\"http://i.stack.imgur.com/iQWWGm.png\" alt=\"&quot;Properties&quot; tab\"></a> <a href=\"http://i.stack.imgur.com/kjOCb.png\"><img src=\"http://i.stack.imgur.com/kjOCbm.png\" alt=\"&quot;Source&quot; tab\"></a></p>\n\n<p>Alternatively, you could also create a custom <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.Control.html\"><code>ResourceBundle.Control</code></a> implementation wherein you explicitly read the properties files as UTF-8 using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#InputStreamReader(java.io.InputStream,%20java.lang.String)\"><code>InputStreamReader</code></a>, so that you can just save them as UTF-8 without the need to hassle with <code>native2ascii</code>. Here's a kickoff example:</p>\n\n<pre><code>public class UTF8Control extends Control {\n    public ResourceBundle newBundle\n        (String baseName, Locale locale, String format, ClassLoader loader, boolean reload)\n            throws IllegalAccessException, InstantiationException, IOException\n    {\n        // The below is a copy of the default implementation.\n        String bundleName = toBundleName(baseName, locale);\n        String resourceName = toResourceName(bundleName, \"properties\");\n        ResourceBundle bundle = null;\n        InputStream stream = null;\n        if (reload) {\n            URL url = loader.getResource(resourceName);\n            if (url != null) {\n                URLConnection connection = url.openConnection();\n                if (connection != null) {\n                    connection.setUseCaches(false);\n                    stream = connection.getInputStream();\n                }\n            }\n        } else {\n            stream = loader.getResourceAsStream(resourceName);\n        }\n        if (stream != null) {\n            try {\n                // Only this line is changed to make it to read properties files as UTF-8.\n                bundle = new PropertyResourceBundle(new InputStreamReader(stream, \"UTF-8\"));\n            } finally {\n                stream.close();\n            }\n        }\n        return bundle;\n    }\n}\n</code></pre>\n\n<p>This can be used as follows:</p>\n\n<pre><code>ResourceBundle bundle = ResourceBundle.getBundle(\"com.example.i18n.text\", new UTF8Control());\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"http://balusc.blogspot.com/2009/05/unicode-how-to-get-characters-right.html\">Unicode - How to get the characters right?</a></li>\n</ul>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/4660195#4660195", "question_id": 4659929, "answer_id": 4660195}, {"body": "<p><a href=\"http://sourceforge.net/projects/eclipse-rbe/\" rel=\"nofollow\">http://sourceforge.net/projects/eclipse-rbe/</a></p>\n\n<p>as already stated property files should be encoded in ISO 8859-1</p>\n\n<p>You can use the above plugin for eclipse IDE to make the Unicode conversion for you.</p>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/4660258#4660258", "question_id": 4659929, "answer_id": 4660258}, {"body": "<p>We create a resources.utf8 file that contains the resources in UTF-8 and have a rule to run the following:</p>\n\n<pre><code>native2ascii -encoding utf8 resources.utf8 resources.properties\n</code></pre>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/4660327#4660327", "question_id": 4659929, "answer_id": 4660327}, {"body": "<pre><code>package com.varaneckas.utils;  \n\nimport java.io.UnsupportedEncodingException;  \nimport java.util.Enumeration;  \nimport java.util.PropertyResourceBundle;  \nimport java.util.ResourceBundle;  \n\n/** \n * UTF-8 friendly ResourceBundle support \n *  \n * Utility that allows having multi-byte characters inside java .property files. \n * It removes the need for Sun's native2ascii application, you can simply have \n * UTF-8 encoded editable .property files. \n *  \n * Use:  \n * ResourceBundle bundle = Utf8ResourceBundle.getBundle(\"bundle_name\"); \n *  \n * @author Tomas Varaneckas &lt;tomas.varaneckas@gmail.com&gt; \n */  \npublic abstract class Utf8ResourceBundle {  \n\n    /** \n     * Gets the unicode friendly resource bundle \n     *  \n     * @param baseName \n     * @see ResourceBundle#getBundle(String) \n     * @return Unicode friendly resource bundle \n     */  \n    public static final ResourceBundle getBundle(final String baseName) {  \n        return createUtf8PropertyResourceBundle(  \n                ResourceBundle.getBundle(baseName));  \n    }  \n\n    /** \n     * Creates unicode friendly {@link PropertyResourceBundle} if possible. \n     *  \n     * @param bundle  \n     * @return Unicode friendly property resource bundle \n     */  \n    private static ResourceBundle createUtf8PropertyResourceBundle(  \n            final ResourceBundle bundle) {  \n        if (!(bundle instanceof PropertyResourceBundle)) {  \n            return bundle;  \n        }  \n        return new Utf8PropertyResourceBundle((PropertyResourceBundle) bundle);  \n    }  \n\n    /** \n     * Resource Bundle that does the hard work \n     */  \n    private static class Utf8PropertyResourceBundle extends ResourceBundle {  \n\n        /** \n         * Bundle with unicode data \n         */  \n        private final PropertyResourceBundle bundle;  \n\n        /** \n         * Initializing constructor \n         *  \n         * @param bundle \n         */  \n        private Utf8PropertyResourceBundle(final PropertyResourceBundle bundle) {  \n            this.bundle = bundle;  \n        }  \n\n        @Override  \n        @SuppressWarnings(\"unchecked\")  \n        public Enumeration getKeys() {  \n            return bundle.getKeys();  \n        }  \n\n        @Override  \n        protected Object handleGetObject(final String key) {  \n            final String value = bundle.getString(key);  \n            if (value == null)  \n                return null;  \n            try {  \n                return new String(value.getBytes(\"ISO-8859-1\"), \"UTF-8\");  \n            } catch (final UnsupportedEncodingException e) {  \n                throw new RuntimeException(\"Encoding not supported\", e);  \n            }  \n        }  \n    }  \n}  \n</code></pre>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/6028900#6028900", "question_id": 4659929, "answer_id": 6028900}, {"body": "<p>Given that you have an instance of ResourceBundle and you can get String by:</p>\n\n<pre><code>String val = bundle.getString(key); \n</code></pre>\n\n<p>I solved my Japanese display problem by:</p>\n\n<pre><code>return new String(val.getBytes(\"ISO-8859-1\"), \"UTF-8\");\n</code></pre>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/6995374#6995374", "question_id": 4659929, "answer_id": 6995374}, {"body": "<p>ResourceBundle.Control with Utf-8 and new String methods don't work if properties file write in cp1251 charset, for example. </p>\n\n<p>So I recomended use common method - <strong>write in unicode</strong> symbols. For this:</p>\n\n<p><strong>IDEA</strong> -- has special <em>\"<a href=\"http://www.jetbrains.com/idea/webhelp/encoding.html\">Transparent native-to-ASCII conversion</a>\"</em> option (Settings > File Encoding).</p>\n\n<p><strong>Eclispes</strong> -- has plugin <em>\"<a href=\"http://propedit.sourceforge.jp/index_en.html\">Properties Editor</a>\"</em>. It can works as <em>separate application</em>.</p>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/9818962#9818962", "question_id": 4659929, "answer_id": 9818962}, {"body": "<p>look at this : <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)\">http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load(java.io.Reader)</a></p>\n\n<p>the properties accept an <strong>Reader</strong> object as arguments, which you can create from an InputStream.</p>\n\n<p>at the create time, you can specify the encoding of the Reader:</p>\n\n<pre><code>InputStreamReader isr = new InputStreamReader(stream, \"UTF-8\");\n</code></pre>\n\n<p>then apply this Reader to the load method :</p>\n\n<pre><code>prop.load(isr);\n</code></pre>\n\n<p>BTW: get the stream from <strong>.properties</strong> file :</p>\n\n<pre><code> InputStream stream = this.class.getClassLoader().getResourceAsStream(\"a.properties\");\n</code></pre>\n\n<p>hope this can help you !</p>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/17852323#17852323", "question_id": 4659929, "answer_id": 17852323}, {"body": "<p>Here's a Java 7 solution that uses Guava's excellent support library and the try-with-resources construct. It reads and writes properties files using UTF-8 for the simplest overall experience.</p>\n\n<p>To read a properties file as UTF-8:</p>\n\n<pre><code>File file =  new File(\"/path/to/example.properties\");\n\n// Create an empty set of properties\nProperties properties = new Properties();\n\nif (file.exists()) {\n\n  // Use a UTF-8 reader from Guava\n  try (Reader reader = Files.newReader(file, Charsets.UTF_8)) {\n    properties.load(reader);\n  } catch (IOException e) {\n    // Do something\n  }\n}\n</code></pre>\n\n<p>To write a properties file as UTF-8:</p>\n\n<pre><code>File file =  new File(\"/path/to/example.properties\");\n\n// Use a UTF-8 writer from Guava\ntry (Writer writer = Files.newWriter(file, Charsets.UTF_8)) {\n  properties.store(writer, \"Your title here\");\n  writer.flush();\n} catch (IOException e) {\n  // Do something\n}\n</code></pre>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/22537607#22537607", "question_id": 4659929, "answer_id": 22537607}, {"body": "<p>For what it's worth my issue was that the files themselves were in the wrong encoding. Using iconv worked for me</p>\n\n<pre><code>iconv -f ISO-8859-15 -t UTF-8  messages_nl.properties &gt; messages_nl.properties.new\n</code></pre>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/27240945#27240945", "question_id": 4659929, "answer_id": 27240945}, {"body": "<p>As one suggested, i went through implementation of resource bundle.. but that did not help.. as the bundle was always called under en_US locale... i tried to set my default locale to a different language and still my implementation of resource bundle control was being called with en_US... i tried to put log messages and do a step through debug and see if a different local call was being made after i change locale at run time through xhtml and JSF calls... that did not happend... then i tried to do a system set default to a utf8 for reading files by my server (tomcat server).. but that caused pronlem as all my class libraries were not compiled under utf8 and tomcat started to read then in utf8 format and server was not running properly...  then i ended up with implementing a method in my java controller to be called from xhtml files.. in that method i did the following:</p>\n\n<pre><code>        public String message(String key, boolean toUTF8) throws Throwable{\n            String result = \"\";\n            try{\n                FacesContext context = FacesContext.getCurrentInstance();\n                String message = context.getApplication().getResourceBundle(context, \"messages\").getString(key);\n\n                result = message==null ? \"\" : toUTF8 ? new String(message.getBytes(\"iso8859-1\"), \"utf-8\") : message;\n            }catch(Throwable t){}\n            return result;\n        }\n</code></pre>\n\n<p>I was particularly nervous as this could slow down performance of my application... however, after implementing this, it looks like as if my application is faster now.. i think it is because, i am now directly accessing the properties instead of letting JSF parse its way into accessing properties... i specifically pass Boolean argument in this call because i know some of the properties would not be translated and do not need to be in utf8 format...</p>\n\n<p>Now I have saved my properties file in UTF8 format and it is working fine as each user in my application has a referent locale preference.</p>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/32872605#32872605", "question_id": 4659929, "answer_id": 32872605}, {"body": "<p>I tried to use the approach provided by Rod, but taking into consideration BalusC concern about not repeating the same work-around in all the application and came with this class:</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.util.Locale;\nimport java.util.ResourceBundle;\n\npublic class MyResourceBundle {\n\n    // feature variables\n    private ResourceBundle bundle;\n    private String fileEncoding;\n\n    public MyResourceBundle(Locale locale, String fileEncoding){\n        this.bundle = ResourceBundle.getBundle(\"com.app.Bundle\", locale);\n        this.fileEncoding = fileEncoding;\n    }\n\n    public MyResourceBundle(Locale locale){\n        this(locale, \"UTF-8\");\n    }\n\n    public String getString(String key){\n        String value = bundle.getString(key); \n        try {\n            return new String(value.getBytes(\"ISO-8859-1\"), fileEncoding);\n        } catch (UnsupportedEncodingException e) {\n            return value;\n        }\n    }\n}\n</code></pre>\n\n<p>The way to use this would be very similar than the regular ResourceBundle usage:</p>\n\n<pre><code>private MyResourceBundle labels = new MyResourceBundle(\"es\", \"UTF-8\");\nString label = labels.getString(key)\n</code></pre>\n\n<p>Or you can use the alternate constructor which uses UTF-8 by default:</p>\n\n<pre><code>private MyResourceBundle labels = new MyResourceBundle(\"es\");\n</code></pre>\n", "title": "How to use UTF-8 in resource properties with ResourceBundle", "tags": ["java", "google-app-engine", "utf-8", "internationalization", "resourcebundle"], "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle/37039868#37039868", "question_id": 4659929, "answer_id": 37039868}], "creation_date": 1294763278, "score": 147, "link": "http://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle", "question_id": 4659929}, {"body": "<p>I want to change my <code>double</code> value to a <code>String</code>.</p>\n\n<pre><code>if((e.getSource() == jBook)) {\n    String name = jlbName.getText();\n    String date = jlbDateProduce.getText();\n    String time = jr1.getText();\n    int number = (Integer.parseInt(jtfNoOfTicket.getText().trim()));\n    String total = jlbTotal.getText();\n    String price = jlbPrice.getText();\n\n    //Passing\n    ticketReservation frame = new ticketReservation(\n        name, date, time, price, total, String.valueOf(number));\n}\n</code></pre>\n\n<p>In another class, I need to use that value to count the <strong>total</strong>. Is there any way to convert <code>String</code> back to <code>double</code>?</p>\n", "tags": ["java", "string", "casting", "double", "type-conversion"], "title": "Convert String to double in Java", "answers": [{"body": "<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Double.html#parseDouble%28java.lang.String%29\"><code>Double.parseDouble()</code></a> to convert a <code>String</code> to a <code>double</code>:</p>\n\n<pre><code>String text = \"12.34\"; // example String\ndouble value = Double.parseDouble(text);\n</code></pre>\n\n<p>For your case it looks like you want:</p>\n\n<pre><code>double total = Double.parseDouble(jlbTotal.getText());\ndouble price = Double.parseDouble(jlbPrice.getText());\n</code></pre>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/5769679#5769679", "question_id": 5769669, "answer_id": 5769679}, {"body": "<pre><code>double d = Double.parseDouble(aString);\n</code></pre>\n\n<p>This should convert the string aString into the double d.</p>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/5769685#5769685", "question_id": 5769669, "answer_id": 5769685}, {"body": "<p>Use <code>new BigDecimal(string)</code>. This will guarantee proper calculation later.</p>\n\n<p>As a rule of thumb - always use <code>BigDecimal</code> for sensitive calculations like money.</p>\n\n<p>Example:</p>\n\n<pre><code>String doubleAsString = \"23.23\";\nBigDecimal price = new BigDecimal(doubleAsString);\nBigDecimal total = price.plus(anotherPrice);\n</code></pre>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/5769690#5769690", "question_id": 5769669, "answer_id": 5769690}, {"body": "<p>There is another way too.</p>\n\n<pre><code>Double temp = Double.valueOf(str);\nnumber = temp.doubleValue();\n</code></pre>\n\n<p>Double is a class and \"temp\" is a variable.\n\"number\" is the final number you are looking for.</p>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/21392656#21392656", "question_id": 5769669, "answer_id": 21392656}, {"body": "<p>You only need to <strong>parse String values using Double</strong></p>\n\n<pre><code>String someValue= \"52.23\";\nDouble doubleVal = Double.parseDouble(someValue);\nSystem.out.println(doubleVal);\n</code></pre>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/22577302#22577302", "question_id": 5769669, "answer_id": 22577302}, {"body": "<p>If you have problems in parsing string to decimal values, you need to replace \",\" in the number to \".\"</p>\n\n<hr>\n\n<pre><code>String number = \"123,321\";\ndouble value = Double.parseDouble( number.replace(\",\",\".\") );\n</code></pre>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/22840910#22840910", "question_id": 5769669, "answer_id": 22840910}, {"body": "<p>To convert a string back into a double, try the following</p>\n\n<pre><code>String s = \"10\";\nDouble d = Double.parseDouble(s);\n</code></pre>\n\n<p>The parseDouble method will achieve the desired effect, and so will the Double.valueOf() method.</p>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/29691243#29691243", "question_id": 5769669, "answer_id": 29691243}, {"body": "<p>Citing the quote from Robertiano above again - because this is by far the most versatile and localization adaptive version. It deserves a full post!</p>\n\n<p>Another option: </p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(); \nDecimalFormatSymbols sfs = new DecimalFormatSymbols();\nsfs.setDecimalSeparator(','); \ndf.setDecimalFormatSymbols(sfs);\ndouble = df.parse(number).doubleValue();\n</code></pre>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/32384532#32384532", "question_id": 5769669, "answer_id": 32384532}, {"body": "<pre><code>String double_string = \"100.215\";\nDouble double = Double.parseDouble(double_string);\n</code></pre>\n", "title": "Convert String to double in Java", "tags": ["java", "string", "casting", "double", "type-conversion"], "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java/38695669#38695669", "question_id": 5769669, "answer_id": 38695669}], "creation_date": 1303636358, "score": 146, "link": "http://stackoverflow.com/questions/5769669/convert-string-to-double-in-java", "question_id": 5769669}, {"body": "<p>How can I create and fetch associative arrays in Java like I can in PHP?</p>\n\n<p>For example:</p>\n\n<pre><code>$arr[0]['name'] = 'demo';\n$arr[0]['fname'] = 'fdemo';\n$arr[1]['name'] = 'test';\n$arr[1]['fname'] = 'fname';\n</code></pre>\n", "tags": ["java", "associative-array"], "title": "Java associative-array", "answers": [{"body": "<p>Java doesn't support associative arrays, however this could easily be achieved using a <code>Map</code>. E.g., </p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"name\", \"demo\");\nmap.put(\"fname\", \"fdemo\");\n// etc\n\nmap.get(\"name\"); // returns \"demo\"\n</code></pre>\n\n<p>Even more accurate to your example (since you can replace String with any object that meet your needs) would be to declare: </p>\n\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; data = new ArrayList&lt;&gt;();\ndata.add(0, map);\ndata.get(0).get(\"name\"); \n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\">See the official documentation for more information</a></p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122948#5122948", "question_id": 5122913, "answer_id": 5122948}, {"body": "<p>There is no such thing as associative array in Java. Its closest relative is a <code>Map</code>, which is strongly typed, however has less elegant syntax/API.</p>\n\n<p>This is the closest you can get based on your example:</p>\n\n<pre><code>Map&lt;Integer, Map&lt;String, String&gt;&gt; arr = \n    org.apache.commons.collections.map.LazyMap.decorate(\n         new HashMap(), new InstantiateFactory(HashMap.class));\n\n//$arr[0]['name'] = 'demo';\narr.get(0).put(\"name\", \"demo\");\n\nSystem.out.println(arr.get(0).get(\"name\"));\nSystem.out.println(arr.get(1).get(\"name\"));    //yields null\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122950#5122950", "question_id": 5122913, "answer_id": 5122950}, {"body": "<p>Look at the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/list.html\">Map</a> interface, and at the concrete class <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\">HashMap</a>.</p>\n\n<p>To create a Map:</p>\n\n<pre><code>Map&lt;String, String&gt; assoc = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>To add a key-value pair:</p>\n\n<pre><code>assoc.put(\"name\", \"demo\");\n</code></pre>\n\n<p>To retrieve the value associated with a key:</p>\n\n<pre><code>assoc.get(\"name\")\n</code></pre>\n\n<p>And sure, you may create an array of Maps, as it seems to be what you want:</p>\n\n<pre><code>Map&lt;String, String&gt;[] assoc = ...\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122967#5122967", "question_id": 5122913, "answer_id": 5122967}, {"body": "<p>Java doesn't have associative arrays like PHP does.</p>\n\n<p>There are various solutions for what you are doing, such as using a Map, but it depends on how you want to look up the information. You can easily write a class that holds all your information and store instances of them in an <code>ArrayList</code>.</p>\n\n<pre><code>public class Foo{\n    public String name, fname;\n\n    public Foo(String name, String fname){\n        this.name = name;\n        this.fname = fname;\n    }\n}\n</code></pre>\n\n<p>And then...</p>\n\n<pre><code>List&lt;Foo&gt; foos = new ArrayList&lt;Foo&gt;();\nfoos.add(new Foo(\"demo\",\"fdemo\"));\nfoos.add(new Foo(\"test\",\"fname\"));\n</code></pre>\n\n<p>So you can access them like...</p>\n\n<pre><code>foos.get(0).name;\n=&gt; \"demo\"\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122973#5122973", "question_id": 5122913, "answer_id": 5122973}, {"body": "<p><a href=\"http://stackoverflow.com/questions/4769111/java-equivalent-of-perls-hash\">Java equivalent of Perl's hash</a></p>\n\n<pre><code>HashMap&lt;Integer, HashMap&lt;String, String&gt;&gt; hash;\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122975#5122975", "question_id": 5122913, "answer_id": 5122975}, {"body": "<p>You can accomplish this via Maps. Something like </p>\n\n<pre><code>Map&lt;String, String&gt;[] arr = new HashMap&lt;String, String&gt;[2]();\narr[0].put(\"name\", \"demo\");\n</code></pre>\n\n<p>But as you start using Java I am sure you will find that if you create a class/model that represents your data will be your best options. I would do</p>\n\n<pre><code>class Person{\nString name;\nString fname;\n}\nList&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\nPerson p = new Person();\np.name = \"demo\";\np.fname = \"fdemo\";\npeople.add(p);\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122980#5122980", "question_id": 5122913, "answer_id": 5122980}, {"body": "<p>Java doesn't have associative arrays, the closest thing you can get is the <a href=\"http://download.oracle.com/javase/tutorial/collections/interfaces/map.html\">Map interface</a></p>\n\n<p>Here's a sample from that page.</p>\n\n<pre><code>import java.util.*;\n\npublic class Freq {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\n\n        // Initialize frequency table from command line\n        for (String a : args) {\n            Integer freq = m.get(a);\n            m.put(a, (freq == null) ? 1 : freq + 1);\n        }\n\n        System.out.println(m.size() + \" distinct words:\");\n        System.out.println(m);\n    }\n}\n</code></pre>\n\n<p>If run with: </p>\n\n<pre><code>java Freq if it is to be it is up to me to delegate\n</code></pre>\n\n<p>You'll get:</p>\n\n<pre><code>8 distinct words:\n{to=3, delegate=1, be=1, it=2, up=1, if=1, me=1, is=2}\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/5122999#5122999", "question_id": 5122913, "answer_id": 5122999}, {"body": "<p>Actually Java does support associative arrays they are called dictionaries!</p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/6287991#6287991", "question_id": 5122913, "answer_id": 6287991}, {"body": "<p>In JDK 1.5 (http://tinyurl.com/3m2lxju) there is even a note: \"NOTE: This class is obsolete. New implementations should implement the Map interface, rather than extending this class.\"\nRegards, N.</p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/6505199#6505199", "question_id": 5122913, "answer_id": 6505199}, {"body": "<p>Well i also was in search of Associative array and found the List of maps as the best solution.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class testHashes {\n\npublic static void main(String args[]){\n    Map&lt;String,String&gt; myMap1 = new HashMap&lt;String, String&gt;();\n\n    List&lt;Map&lt;String , String&gt;&gt; myMap  = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\n\n    myMap1.put(\"URL\", \"Val0\");\n    myMap1.put(\"CRC\", \"Vla1\");\n    myMap1.put(\"SIZE\", \"Vla2\");\n    myMap1.put(\"PROGRESS\", \"Vla2\");\n\n    myMap.add(0,myMap1);\n    myMap.add(1,myMap1);\n\n    for (Map&lt;String, String&gt; map : myMap) {\n        System.out.println(map.get(\"URL\"));\n    }\n\n    //System.out.println(myMap);\n\n}\n\n\n}\n</code></pre>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/7185909#7185909", "question_id": 5122913, "answer_id": 7185909}, {"body": "<p>Regarding the PHP comment 'No, PHP wouldn't like it'. Actually, PHP would keep on chugging unless you set some very restrictive (for PHP) exception/error levels, (and maybe not even then).</p>\n\n<p>What WILL happen by default is that an access to a non existing variable/out of bounds array element 'unsets' your value that you're assigning to. NO, that is NOT null. PHP has a Perl/C lineage, from what I understand. So there are: unset and non existing variables, values which ARE set but are NULL, Boolean False values, then everything else that standard langauges have. You have to test for those separately, OR choose the RIGHT evaluation built in function/syntax.</p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/7313790#7313790", "question_id": 5122913, "answer_id": 7313790}, {"body": "<p>Thinking more about it, I would like to throw out tuples as a more general-purpose way of dealing with this problem.  While tuples are not native to Java, I use <a href=\"http://www.javatuples.org\" rel=\"nofollow\">Javatuples</a> to provide me the same functionality which would exist in other languages.  An example of how to deal with the question asked is</p>\n\n<pre><code>Map&lt;Pair&lt;Integer, String&gt;, String&gt; arr = new HashMap&lt;Pair&lt;Integer, String&gt;, String&gt;();\nPair p1 = new Pair(0, \"name\");\narr.put(p1, \"demo\");\n</code></pre>\n\n<p>I like this approach because it can be extended to triples and other higher ordered groupings with api provided classes and methods.</p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/12199554#12199554", "question_id": 5122913, "answer_id": 12199554}, {"body": "<p>Unlike languages like PHP, in Java, there are no associative arrays. A more convenient method to use an equivalent of associative array is to use a HashMap where you can use the key of the HashMap to provide the associative array quality.</p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/12418201#12418201", "question_id": 5122913, "answer_id": 12418201}, {"body": "<p>Associative arrays in Java like in PHP : </p>\n\n<pre><code>SlotMap hmap = new SlotHashMap();\nString key = \"k01\";\nString value = \"123456\";\n// Add key value\nhmap.put( key, value );\n\n// check if key exists key value\nif ( hmap.containsKey(key)) {\n    //.....        \n}\n\n// loop over hmap\nSet mapkeys =  hmap.keySet();\nfor ( Iterator iterator = mapkeys.iterator(); iterator.hasNext();) {\n  String key = (String) iterator.next();\n  String value = hmap.get(key);\n}\n</code></pre>\n\n<p>More info, see Class SoftHashMap : <a href=\"https://shiro.apache.org/static/1.2.2/apidocs/org/apache/shiro/util/SoftHashMap.html\" rel=\"nofollow\">https://shiro.apache.org/static/1.2.2/apidocs/org/apache/shiro/util/SoftHashMap.html</a></p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/32112826#32112826", "question_id": 5122913, "answer_id": 32112826}, {"body": "<pre><code>Object[][] data = {\n{\"mykey1\", \"myval1\"},\n{\"mykey2\", \"myval2\"},\n{new Date(), new Integer(1)},\n};\n</code></pre>\n\n<p>Yes, this require iteration for searchting value by key, but if you need all of them, this will be the best choice. </p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/32760200#32760200", "question_id": 5122913, "answer_id": 32760200}, {"body": "<p>Use ArrayList &lt; Map &lt;  String, String > ></p>\n\n<p>Here a code sample :</p>\n\n<pre><code>ArrayList&lt;Map&lt;String, String&gt;&gt; products = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\nwhile (iterator.hasNext()) {\n         Map&lt;String, String&gt; product = new HashMap&lt;String, String&gt;();\n         Element currentProduct = iterator.next();\n         product.put(\"id\",currentProduct.get(\"id\"));\n         product.put(\"name\" , currentProduct.get(\"name\") );\n         products.add(product );\n}\nSystem.out.println(\"products : \" + products);\n</code></pre>\n\n<p>Output :</p>\n\n<p>products : [{id=0001, name=prod1}, {id=0002, name=prod2}]</p>\n", "title": "Java associative-array", "tags": ["java", "associative-array"], "link": "http://stackoverflow.com/questions/5122913/java-associative-array/34654787#34654787", "question_id": 5122913, "answer_id": 34654787}], "creation_date": 1298669483, "score": 146, "link": "http://stackoverflow.com/questions/5122913/java-associative-array", "question_id": 5122913}, {"body": "<p>Is there a way to create an instance of a particular class given the class name (dynamic) and pass parameters to its constructor.</p>\n\n<p>Something like:</p>\n\n<pre><code>Object object = createInstance(\"mypackage.MyClass\",\"MyAttributeValue\");\n</code></pre>\n\n<p>Where <code>\"MyAttributeValue\"</code> is an argument to the constructor of <code>MyClass</code>.</p>\n", "tags": ["java", "reflection", "instantiation"], "title": "Creating an instance using the class name and calling constructor", "answers": [{"body": "<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName%28java.lang.String%29\"><code>Class.forName()</code></a> to get a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html\"><code>Class</code></a> object of the desired class.</p>\n\n<p>Then use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getConstructor%28java.lang.Class...%29\"><code>getConstructor()</code></a> to find the desired <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Constructor.html\"><code>Constructor</code></a> object.</p>\n\n<p>Finally, call <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Constructor.html#newInstance%28java.lang.Object...%29\"><code>newInstance()</code></a> on that object to get your new instance.</p>\n\n<pre><code>Class&lt;?&gt; c = Class.forName(\"mypackage.MyClass\");\nConstructor&lt;?&gt; cons = c.getConstructor(String.class);\nObject object = cons.newInstance(\"MyAttributeValue\");\n</code></pre>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/6094600#6094600", "question_id": 6094575, "answer_id": 6094600}, {"body": "<p>Yes, something like:</p>\n\n<pre><code>Class&lt;?&gt; clazz = Class.forName(className);\nConstructor&lt;?&gt; ctor = clazz.getConstructor(String.class);\nObject object = ctor.newInstance(new Object[] { ctorArgument });\n</code></pre>\n\n<p>That will only work for a single string parameter of course, but you can modify it pretty easily.</p>\n\n<p>Note that the class name has to be a fully-qualified one, i.e. including the namespace. For nested classes, you need to use a dollar (as that's what the compiler uses). For example:</p>\n\n<pre><code>package foo;\n\npublic class Outer\n{\n    public static class Nested {}\n}\n</code></pre>\n\n<p>To obtain the <code>Class</code> object for that, you'd need <code>Class.forName(\"foo.Outer$Nested\")</code>.</p>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/6094602#6094602", "question_id": 6094575, "answer_id": 6094602}, {"body": "<p>You can use reflections</p>\n\n<pre><code>return Class.forName(className).getConstructor(String.class).newInstance(arg);\n</code></pre>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/6094609#6094609", "question_id": 6094575, "answer_id": 6094609}, {"body": "<p>You want to be using <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/Constructor.html#newInstance%28java.lang.Object...%29\" rel=\"nofollow\">java.lang.reflect.Constructor.newInstance(Object...)</a></p>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/6094611#6094611", "question_id": 6094575, "answer_id": 6094611}, {"body": "<p>If class has only one empty constructor (like Activity or Fragment etc, android classes):</p>\n\n<pre><code>Class&lt;?&gt; myClass = Class.forName(\"com.example.MyClass\");    \nConstructor&lt;?&gt; constructor = myClass.getConstructors()[0];\n</code></pre>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/25797738#25797738", "question_id": 6094575, "answer_id": 25797738}, {"body": "<p>when using (i.e.) <code>getConstructor(String.lang)</code> the constructor has to be declared public.\nOtherwise a <code>NoSuchMethodException</code> is thrown.</p>\n\n<p>if you want to access a <strong>non-public constructor</strong> you have to use instead (i.e.) <code>getDeclaredConstructor(String.lang)</code>.</p>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/26159586#26159586", "question_id": 6094575, "answer_id": 26159586}, {"body": "<p>You can also invoke methods inside the created object.</p>\n\n<p>You can create object instant by invoking the first constractor and then invoke the first method in the created object. </p>\n\n<pre><code>    Class&lt;?&gt; c = Class.forName(\"mypackage.MyClass\");\n    Constructor&lt;?&gt; ctor = c.getConstructors()[0];\n    Object object=ctor.newInstance(new Object[]{\"ContstractorArgs\"});\n    c.getDeclaredMethods()[0].invoke(object,Object... MethodArgs);\n</code></pre>\n", "title": "Creating an instance using the class name and calling constructor", "tags": ["java", "reflection", "instantiation"], "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor/34257320#34257320", "question_id": 6094575, "answer_id": 34257320}], "creation_date": 1306138835, "score": 145, "link": "http://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor", "question_id": 6094575}, {"body": "<p>I have a date as a string in the following format <code>\"04/02/2011 20:27:05\"</code>. I am using Joda-Time library and would like to convert it to <code>DateTime</code> object. I did:</p>\n\n<pre><code>DateTime dt = new DateTime(\"04/02/2011 20:27:05\")\n</code></pre>\n\n<p>But I'm getting the following error :</p>\n\n<pre><code>Invalid format: \"04/02/2011 14:42:17\" is malformed at \"/02/2011 14:42:17\"\n</code></pre>\n\n<p>How to convert the above date to a <code>DateTime</code> object?</p>\n", "tags": ["java", "datetime", "jodatime"], "title": "Converting a date string to a DateTime object using Joda Time library", "answers": [{"body": "<p>Your format is not the expected ISO format, you should try</p>\n\n<pre><code>DateTimeFormatter format = DateTimeFormat.forPattern(\"dd/MM/yyyy HH:mm:ss\");\nDateTime time = format.parseDateTime(\"04/02/2011 20:27:05\");\n</code></pre>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/6252739#6252739", "question_id": 6252678, "answer_id": 6252739}, {"body": "<p>Use <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html\"><code>DateTimeFormat</code></a>:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormat.forPattern(\"dd/MM/yyyy HH:mm:ss\");\nDateTime dt = formatter.parseDateTime(string);\n</code></pre>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/6252782#6252782", "question_id": 6252678, "answer_id": 6252782}, {"body": "<pre><code>DateTimeFormat.forPattern(\"dd/MM/yyyy HH:mm:ss\").parseDateTime(\"04/02/2011 20:27:05\");\n</code></pre>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/6252794#6252794", "question_id": 6252678, "answer_id": 6252794}, {"body": "<p>You need a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormatter.html\" rel=\"nofollow\">DateTimeFormatter</a> appropriate to the format you're using.  Take a look at the docs for instructions on how to build one.</p>\n\n<p>Off the cuff, I think you need <code>format = DateTimeFormat.forPattern(\"M/d/y H:m:s\")</code></p>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/6252802#6252802", "question_id": 6252678, "answer_id": 6252802}, {"body": "<p>You can also use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>, as in <code>DateTimeFormat</code></p>\n\n<pre><code>Date startDate = null;\nDate endDate = null;\ntry {\n    if (validDateStart!= null) startDate = new SimpleDateFormat(\"MM/dd/yyyy HH:mm\", Locale.ENGLISH).parse(validDateStart + \" \" + validDateStartTime);\n    if (validDateEnd!= null) endDate = new SimpleDateFormat(\"MM/dd/yyyy HH:mm\", Locale.ENGLISH).parse(validDateEnd + \" \" + validDateEndTime);\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/15813514#15813514", "question_id": 6252678, "answer_id": 15813514}, {"body": "<p>I know this is an old question, but I wanted to add that, as of JodaTime 2.0, you can do this with a one-liner:</p>\n\n<pre><code>DateTime date = DateTime.parse(\"04/02/2011 20:27:05\", \n                  DateTimeFormat.forPattern(\"dd/MM/yyyy HH:mm:ss\"));\n</code></pre>\n\n<p>Here's a <a href=\"http://codetutr.com/2013/03/05/joda-time-how-to-parse-a-string-to-joda-localdate/\">blog post</a> I wrote about converting to/from JodaTime objects.</p>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/20617219#20617219", "question_id": 6252678, "answer_id": 20617219}, {"body": "<p>An simple method :</p>\n\n<pre><code>public static DateTime transfStringToDateTime(String dateParam, Session session) throws NotesException{\n\n            DateTime dateRetour;\n            dateRetour = session.createDateTime(dateParam);                 \n\n           return dateRetour;\n        }\n</code></pre>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/25689811#25689811", "question_id": 6252678, "answer_id": 25689811}, {"body": "<p>From comments i picked an answer like and also adding Timezone</p>\n\n<pre><code>    String dateTime = \"2015-07-18T13:32:56.971-0400\";\n\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSSZZ\")\n            .withLocale(Locale.ROOT)\n            .withChronology(ISOChronology.getInstanceUTC());\n\n    DateTime dt = formatter.parseDateTime(dateTime);\n</code></pre>\n", "title": "Converting a date string to a DateTime object using Joda Time library", "tags": ["java", "datetime", "jodatime"], "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library/32237691#32237691", "question_id": 6252678, "answer_id": 32237691}], "creation_date": 1307366728, "score": 145, "link": "http://stackoverflow.com/questions/6252678/converting-a-date-string-to-a-datetime-object-using-joda-time-library", "question_id": 6252678}, {"body": "<p>All I am trying to do is to get the current class name, and java appends a useless non-sense <strong>$1</strong> to the end of my class name. How can I get rid of it and only return the actual class name?</p>\n\n<pre><code>String className = this.getClass().getName();\n</code></pre>\n", "tags": ["java", "class", "classname"], "title": "Java - get the current class name?", "answers": [{"body": "<p>The \"$1\" is not \"useless non-sense\". If your class is anonymous, a number is appended.</p>\n\n<p>If you don't want the class itself, but its declaring class, then you can use <code>getEnclosingClass()</code>. For example:</p>\n\n<pre><code>Class&lt;?&gt; enclosingClass = getClass().getEnclosingClass();\nif (enclosingClass != null) {\n  System.out.println(enclosingClass.getName());\n} else {\n  System.out.println(getClass().getName());\n}\n</code></pre>\n\n<p>You can move that in some static utility method.</p>\n\n<p>But note that this is not the current class name. The anonymous class is different class than its enclosing class. The case is similar for inner classes.</p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/6271460#6271460", "question_id": 6271417, "answer_id": 6271460}, {"body": "<p>In your example, <code>this</code> probably refers to an anonymous class instance. Java gives a name to those classes by appending a <code>$number</code> to the name of the enclosing class.</p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/6271489#6271489", "question_id": 6271417, "answer_id": 6271489}, {"body": "<p>Try using\n<code>this.getClass().getCanonicalName()</code> or <code>this.getClass().getSimpleName()</code>.  If it's an anonymous class, use <code>this.getClass.getSuperclass.getName()</code></p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/6271520#6271520", "question_id": 6271417, "answer_id": 6271520}, {"body": "<p>I'm assuming this is happening for an anonymous class. When you create an anonymous class you actually create a class that extends the class whose name you got.</p>\n\n<p>The \"cleaner\" way to get the name you want is:</p>\n\n<p>If your class is an anonymous inner class, <code>getSuperClass()</code> should give you the class that it was created from. If you created it from an interface than you're sort of SOL because the best you can do is <code>getInterfaces()</code> which might give you more than one interface.</p>\n\n<p>The \"hacky\" way is to just get the name with <code>getClassName()</code> and use a regex to drop the <code>$1</code>.</p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/6271668#6271668", "question_id": 6271417, "answer_id": 6271668}, {"body": "<p>Try,</p>\n\n<pre><code>String className = this.getClass().getSimpleName();\n</code></pre>\n\n<p>This will work as long as you don't use it in a static method.</p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/11004550#11004550", "question_id": 6271417, "answer_id": 11004550}, {"body": "<p>I've found this to work for my code,, however my code is getting the class out of an array within a for loop.</p>\n\n<p>String className=\"\";</p>\n\n<p>className = list[i].getClass().getCanonicalName();</p>\n\n<p>System.out.print(className); //Use this to test it works</p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/23401032#23401032", "question_id": 6271417, "answer_id": 23401032}, {"body": "<p>this answer is late, but i think there is another way to do this in the context of anonymous handler class.</p>\n\n<p>let's say:</p>\n\n<pre><code>class A {\n    void foo() {\n        obj.addHandler(new Handler() {\n            void bar() {\n                String className=A.this.getClass().getName();\n                // ...\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>it will achieve the same result. additionally, it's actually quite convenience since every class is defined at compile time, so no dynamicity is damaged.</p>\n\n<p>above that, if the class is really nested, i.e. <code>A</code> actually is enclosed by <code>B</code>, the class of B can be easily known as:</p>\n\n<pre><code>B.this.getClass().getName()\n</code></pre>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/28684002#28684002", "question_id": 6271417, "answer_id": 28684002}, {"body": "<p>Use this method,but be careful to make an object in your main.</p>\n\n<p><code>public static void setName(Object obj){\n        Class setClass = obj.getClass();\n        String className = setClass.getName();\n        System.out.println(className);\n    }</code></p>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/29938300#29938300", "question_id": 6271417, "answer_id": 29938300}, {"body": "<p>use this.getClass().getSimpleName()</p>\n\n<p>Here is the Example </p>\n\n<pre><code>import java.lang.reflect.Field;\n\npublic class Test {\n\n    int x;\n    int y;  \n\n    public void getClassName(){\n        String className = this.getClass().getSimpleName(); \n        System.out.println(\"Name:\"+className);\n    }\n\n    public void getAttributes(){\n        Field[] Attributes = this.getClass().getDeclaredFields();   \n        for(int i=0;i&lt;Attributes.length;i++){\n            System.out.println(\"Declared Fields\"+Attributes[i]);    \n        }\n\n    }\n    public static void main(String args[]){\n\n        Test t = new Test();\n        t.getClassName();\n        t.getAttributes();\n    }\n\n}\n</code></pre>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/32791478#32791478", "question_id": 6271417, "answer_id": 32791478}, {"body": "<pre><code>    There are several Reflection APIs which return classes but these may only be accessed if a Class has already been obtained either directly or indirectly.\n\n        Class.getSuperclass()\n\nReturns the super class for the given class.\n        Class c = javax.swing.JButton.class.getSuperclass();\n        The super class of javax.swing.JButton is javax.swing.AbstractButton.\n        Class.getClasses()\n        Returns all the public classes, interfaces, and enums that are members of     the        class including inherited members.\n        Class&lt;?&gt;[] c = Character.class.getClasses();\n        Character contains two member classes Character.Subset and      Character.UnicodeBlock.\n        Class.getDeclaredClasses()\n        Returns all of the classes interfaces, and enums that are explicitly declared in this class.\n        Class&lt;?&gt;[] c = Character.class.getDeclaredClasses();\n    Character contains two public member classes Character.Subset and Character.UnicodeBlock and one private class Character.CharacterCache.\n        Class.getDeclaringClass()\n        java.lang.reflect.Field.getDeclaringClass()\n        java.lang.reflect.Method.getDeclaringClass()\n        java.lang.reflect.Constructor.getDeclaringClass()\n    Returns the Class in which these members were declared. Anonymous Class Declarations will not have a declaring class but will have an enclosing class.\n\n        import java.lang.reflect.Field;\n\n            Field f = System.class.getField(\"out\");\n            Class c = f.getDeclaringClass();\n            The field out is declared in System.\n            public class MyClass {\n                static Object o = new Object() {\n                    public void m() {} \n                };\n                static Class&lt;c&gt; = o.getClass().getEnclosingClass();\n            }\n\n    The declaring class of the anonymous class defined by o is null.\n    Class.getEnclosingClass()\n    Returns the immediately enclosing class of the class.\n    Class c = Thread.State.class().getEnclosingClass();\n    The enclosing class of the enum Thread.State is Thread.\n    public class MyClass {\n        static Object o = new Object() { \n            public void m() {} \n        };\n        static Class&lt;c&gt; = o.getClass().getEnclosingClass();\n    }\n    The anonymous class defined by o is enclosed by MyClass.\n</code></pre>\n", "title": "Java - get the current class name?", "tags": ["java", "class", "classname"], "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name/39383948#39383948", "question_id": 6271417, "answer_id": 39383948}], "creation_date": 1307479582, "score": 143, "link": "http://stackoverflow.com/questions/6271417/java-get-the-current-class-name", "question_id": 6271417}, {"body": "<p>This is an interview question.</p>\n\n<blockquote>\n  <p>Does subclasses inherit private\n  fields?</p>\n</blockquote>\n\n<p>I answered \"No\", because we can't access them using the \"normal OOP way\". But the interviewer thinks that they are inherited, because we can access such fields indirectly or using reflection and they still exist in the object.</p>\n\n<p>After I came back, I found the following quote in the <a href=\"http://download.oracle.com/javase/tutorial/java/IandI/subclasses.html\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Private Members in a Superclass</p>\n  \n  <p>A\n  subclass does not inherit the private\n  members of its parent class.</p>\n</blockquote>\n\n<p>Do you know any arguments for the interviewer's opinion?</p>\n", "tags": ["java", "oop", "inheritance", "private"], "title": "Do subclasses inherit private fields?", "answers": [{"body": "<p>It depends on your definition of \"inherit\". Does the subclass still have the fields in memory? Definitely. Can it access them directly? No. It's just subtleties of the definition; the point is to understand what's really happening.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/4716056#4716056", "question_id": 4716040, "answer_id": 4716056}, {"body": "<p>No. They don't inherit it. </p>\n\n<p>The fact some other class may use it indirectly says nothing about inheritance, but about encapsulation. </p>\n\n<p>For instance:</p>\n\n<pre><code>class Some { \n   private int count; \n   public void increment() { \n      count++;\n   }\n   public String toString() { \n       return Integer.toString( count );\n   }\n}\n\nclass UseIt { \n    void useIt() { \n        Some s = new Some();\n        s.increment();\n        s.increment();\n        s.increment();\n        int v = Integer.parseInt( s.toString() );\n        // hey, can you say you inherit it?\n     }\n}\n</code></pre>\n\n<p>You can also get the value of <code>count</code> inside <code>UseIt</code> via reflection. It doesn't means, you inherit it. </p>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>Even though the value is there, it is not inherited by the subclass.</p>\n\n<p>For instance a subclass defined as:</p>\n\n<pre><code>class SomeOther extends Some { \n    private int count = 1000;\n    @Override\n    public void increment() { \n        super.increment();\n        count *= 10000;\n    }\n}\n\nclass UseIt { \n    public static void main( String ... args ) { \n        s = new SomeOther();\n        s.increment();\n        s.increment();\n        s.increment();\n        v = Integer.parseInt( s.toString() );\n        // what is the value of v?           \n     }\n}\n</code></pre>\n\n<p>This is exactly the same situation as the first example. The attribute <code>count</code> is hidden and <strong>not</strong> inherited by the subclass at all. Still, as DigitalRoss points out, the value is there, but not by means on inheritance. </p>\n\n<p>Put it this way. If your father is wealthy and gives you a credit card, you can still buy thing with his money, but doesn't mean you have <strong><em>inherited</em></strong> all that money, does it? </p>\n\n<p><strong>Other update</strong></p>\n\n<p>It is very interesting though, <a href=\"http://stackoverflow.com/questions/4716040/does-subclasses-inherit-private-fields/4716140#4716140\">to know why the attribute is there.</a></p>\n\n<p>I frankly don't have the exact term to describe it, but it's the JVM and the way it works that loads also the \"not inherited\" parent definition. </p>\n\n<p>We could actually change the parent and the subclass will still work.</p>\n\n<p>For instance:</p>\n\n<pre><code>C:\\java&gt;more &gt; A.java\nclass A {\n   private int i;\n   public String toString() { return \"\"+ i; }\n}^C\nC:\\java&gt;more &gt; B.java\nclass B extends A {\n}^C\nC:\\java&gt;more &gt; Main.java\nclass Main {\n   public static void main( String [] args ) {\n      System.out.println( new B().toString() );\n    }\n}^C\nC:\\java&gt;javac A.java B.java Main.java\nC:\\java&gt;java Main\n0\nC:\\java&gt;more &gt; A.java\nclass A {\n   public String toString() {\n      return \"Nothing here\";\n   }\n}^C\nC:\\java&gt;javac A.java\nC:\\java&gt;java Main\nNothing here\n</code></pre>\n\n<p>I guess the exact term could be found here:  <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html\">The JavaTM Virtual Machine Specification</a></p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/4716076#4716076", "question_id": 4716040, "answer_id": 4716076}, {"body": "<p>No. Private fields are not inherited... and that's why <em>Protected</em> was invented. It is by design. I guess this justified the existence of protected modifier.</p>\n\n<hr>\n\n<p>Now coming to the contexts. What you mean by inherited -- if it is there in the object created from derived class? yes, it is.</p>\n\n<p>If you mean can it be useful to derived class. Well, no.</p>\n\n<p>Now, when you come to functional programming <em>the private field of super class is not inherited in a meaningful way for the subclass</em>. For the subclass, a private field of super class is same as a private field of any other class.</p>\n\n<p><em>Functionally, it's not inherited. But <strong>ideally</strong>, it is.</em></p>\n\n<hr>\n\n<p>OK, just looked into Java tutorial they quote this:</p>\n\n<blockquote>\n  <p><strong>Private Members in a Superclass</strong></p>\n  \n  <p>A subclass does not inherit the private members of its parent class. However, if the superclass has public or protected methods for accessing its private fields, these can also be used by the subclass. </p>\n</blockquote>\n\n<p>refer: <a href=\"http://download.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/IandI/subclasses.html</a></p>\n\n<p>I agree, that the field is there. But, subclass does not get any privilege on that private field. To a subclass, the private field is same as any private field of any other class.</p>\n\n<p><em>I believe it's purely matter of point-of-view. You may mould the argument either side. It's better justify both way.</em></p>\n\n<p>&nbsp;</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/4716127#4716127", "question_id": 4716040, "answer_id": 4716127}, {"body": "<h3>Yes</h3>\n\n<p>It's important to realize that while there <em>are</em> two classes, there is only one object.</p>\n\n<p>So, yes, of course it inherited the private fields. They are, presumably, essential for proper object functionality, and while an object of the parent class is not an object of the derived class, an instance of the derived class is mostly definitely an instance of the parent class. It could't very well be that without all of the fields.</p>\n\n<p>No, you can't directly access them. Yes, they are inherited. They <em>have</em> to be.</p>\n\n<p>It's a good question!</p>\n\n<hr>\n\n<p><strong><em>Update:</em></strong></p>\n\n<h3>Err, \"No\"</h3>\n\n<p>Well, I guess we all learned something. Since the <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#8.2\" rel=\"nofollow\">JLS</a> originated the exact \"not inherited\" wording, it is correct to answer <em>\"no\"</em>.  Since the subclass can't access or modify the private fields, then, in other words, they are not inherited. But there really <em>is</em> just <em>one</em> object, it really <em>does contain</em> the private fields, and so if someone takes the JLS and tutorial wording the wrong way, it will be quite difficult to understand OOP, Java objects, and what is really happening.</p>\n\n<p><strong><em>Update to update:</em></strong></p>\n\n<p>The controversy here involves a fundamental ambiguity: what exactly is being discussed? The <em>object?</em>  Or are we talking in some sense about <em>the class itself?</em>  A lot of latitude is allowed when describing the class as opposed to the object. So the subclass does not inherit private fields, but an object that is an instance of the subclass <strong>certainly does <em>contain</em> the private fields.</strong></p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/4716140#4716140", "question_id": 4716040, "answer_id": 4716140}, {"body": "<p>Most of the confusion in the question/answers here surrounds the definition of Inheritance.</p>\n\n<p>Obviously, as @DigitalRoss explains an <strong>OBJECT</strong> of a subclass must contain its superclass's private fields.  As he states, having no access to a private member doesn't mean its not there.</p>\n\n<p>However.  This is different than the notion of inheritance for a class.  As is the case in the java world, where there is a question of semantics the arbiter is the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/index.html\">Java Language Specification</a> (currently 3rd edition).</p>\n\n<p>As the JLS states (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.2\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.2</a>):  </p>\n\n<blockquote>\n  <p>Members of a class that are declared\n  private are not inherited by\n  subclasses of that class. Only members\n  of a class that are declared protected\n  or public are inherited by subclasses\n  declared in a package other than the\n  one in which the class is declared.</p>\n</blockquote>\n\n<p>This addresses the exact question posed by the interviewer:  \"do sub<strong>CLASSES</strong> inherit private fields\". (emphasis added by me)</p>\n\n<p>The answer is No.  They do not.  OBJECTS of subclasses contain private fields of their superclasses.  The subclass itself has NO NOTION of private fields of its superclass.</p>\n\n<p>Is it semantics of a pedantic nature?  Yes.  Is it a useful interview question? Probably not.  But the JLS establishes the definition for the Java world, and it does so (in this case) unambiguously.</p>\n\n<p>EDITED (removed a parallel quote from Bjarne Stroustrup which due to the differences between java and c++ probably only add to the confusion.  I'll let my answer rest on the JLS :)</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/4716335#4716335", "question_id": 4716040, "answer_id": 4716335}, {"body": "<p>It would seem that a subclass does inherit the private fields in that these very fields are utilized in the inner workings of the subclass (philosophically speaking). A subclass, in its constructor, calls the superclass constructor. The superclass private fields are obviously inherited by the subclass calling the superclass constructor if the superclass constructor has initialized these fields in its constructor. That's just an example. But of course without accessor methods the subclass cannot access the superclass private fields (it's like not being able to pop the back panel of an iPhone to take the battery out to reset the phone... but the battery is still there).</p>\n\n<p>PS\nOne of the many definitions of inheritance that I have come across:\n\"Inheritance -- a programming technique that allows a derived class to extend the functionality of a base class, inheriting all of its STATE (emphasis is mine) and behaviour.\"</p>\n\n<p>The private fields, even if not accessible by the subclass, are the inherited state of the superclass.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/9138045#9138045", "question_id": 4716040, "answer_id": 9138045}, {"body": "<p>Private members (state and behavior) are inherited. They (can) affect the behavior and size of the object which is instantiated by the class. Not to mention that they are very well visible to the subclasses via all the encaptulation-breaking mechanisms that are available, or can be assumed by their implementers.</p>\n\n<p>Although inheritance has a \"defacto\" definition, it definitely has no link to \"visibility\" aspects, which get assumed by the \"no\" answers.</p>\n\n<p>So, there is no need to be diplomatic. JLS is just wrong at this point.</p>\n\n<p>Any assumption that they are not \"inherited\" is unsafe and dangerous.</p>\n\n<p>So among two defacto (partially) conflicting definitions (which I will not repeat), the only one that should be followed is the one that is safer (or safe).</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/10829737#10829737", "question_id": 4716040, "answer_id": 10829737}, {"body": "<p>Ok, this is a very interesting problem I researched a lot and came to a conclusion that private members of a superclass are indeed available (but not accessible) in the subclass's objects. To prove this, here is a sample code with a parent class and a child class and I am writing child class object to a txt file and reading a private member named 'bhavesh' in the file, hence proving it is indeed available in the child class but not accessible due to the access modifier.</p>\n\n<pre><code>import java.io.Serializable;\npublic class ParentClass implements Serializable {\npublic ParentClass() {\n\n}\n\npublic int a=32131,b,c;\n\nprivate int bhavesh=5555,rr,weq,refw;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.io.*;\nimport java.io.Serializable;\npublic class ChildClass extends ParentClass{\npublic ChildClass() {\nsuper();\n}\n\npublic static void main(String[] args) {\nChildClass childObj = new ChildClass();\nObjectOutputStream oos;\ntry {\n        oos = new ObjectOutputStream(new FileOutputStream(\"C:\\\\MyData1.txt\"));\n        oos.writeObject(childObj); //Writing child class object and not parent class object\n        System.out.println(\"Writing complete !\");\n    } catch (IOException e) {\n    }\n\n\n}\n}\n</code></pre>\n\n<hr>\n\n<p>Open MyData1.txt and search for the private member named 'bhavesh'. Please let me know what you guys think.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/10832252#10832252", "question_id": 4716040, "answer_id": 10832252}, {"body": "<p>I believe, answer is totally dependent on the question, which has been asked. I mean, if question is </p>\n\n<blockquote>\n  <p>Can we <strong>directly</strong> access the private field of the super-class from\n  their sub-class ?</p>\n</blockquote>\n\n<p>Then answer is <strong>No</strong>, if we go through the <a href=\"http://xahlee.info/java-a-day/access_specifiers.html\" rel=\"nofollow\">access specifier details</a>, it is mentioned, private members are accessible only within the class itself.</p>\n\n<p>But, if question is</p>\n\n<blockquote>\n  <p>Can we access the private field of the super-class from\n  their sub-class ?</p>\n</blockquote>\n\n<p>Which means, it doesn't matters, what you will do to access the private member. In that case, we can make public method in the super-class and you can access the private member. So, in this case you are creating one interface/bridge to access the private member. </p>\n\n<p>Other OOPs language like C++, have the <strong><code>friend function</code></strong> concept, by which we can access the private member of other class.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/13645685#13645685", "question_id": 4716040, "answer_id": 13645685}, {"body": "<p>I think the private field is not inherited,  because subclass cannot access it directly. or put it another way, I think just the <strong>method</strong>(included the access to the private field) inherited but not the field.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/14208495#14208495", "question_id": 4716040, "answer_id": 14208495}, {"body": "<p>We can simply state that when a superclass is inherited, then the private members of superclass actually become private members of the subclass and cannot be further inherited or are inacessible to the objects of subclass.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/15621555#15621555", "question_id": 4716040, "answer_id": 15621555}, {"body": "<p>Well, my answer to interviewer's question is - <strong>Private members are not inherited in sub-classes but they are accessible to subclass or subclass's object only via public getter or setter methods or any such appropriate methods of original class.</strong> The normal practice is to keep the members private and access them using getter and setter methods which are public. So whats the point in only inheriting getter and setter methods when the private member they deal with are not available to the object? Here  'inherited' simply means it is available directly in the sub-class to play around by newly introduced methods in sub-class. </p>\n\n<p>Save the below file as ParentClass.java and try it yourself -></p>\n\n<pre><code>public class ParentClass {\n  private int x;\n\n  public int getX() {\n    return x;\n  }\n\n  public void setX(int x) {\n    this.x = x;\n  }\n}\n\nclass SubClass extends ParentClass {\n  private int y;\n\n  public int getY() {\n    return y;\n  }\n\n  public void setY(int y) {\n    this.y = y;\n  }\n\n  public void setXofParent(int x) {\n    setX(x); \n  }\n}\n\nclass Main {\n  public static void main(String[] args) {\n    SubClass s = new SubClass();\n    s.setX(10);\n    s.setY(12);\n    System.out.println(\"X is :\"+s.getX());\n    System.out.println(\"Y is :\"+s.getY());\n    s.setXofParent(13);\n    System.out.println(\"Now X is :\"+s.getX());\n  }\n}\n\nOutput:\nX is :10\nY is :12\nNow X is :13\n</code></pre>\n\n<p>If we try to use private variable x of ParentClass in SubClass's method then it is not directly accessible for any modifications (means not inherited). But x can be modified in SubClass via setX() method of original class as done in setXofParent() method OR it can be modified using ChildClass object using setX() method or setXofParent() method which ultimately calls setX(). So here setX() and getX() are kind of gates to the private member x of a ParentClass.</p>\n\n<p>Another simple example is Clock superclass has hours and mins as private members and appropriate getter and setter methods as public. Then comes DigitalClock as a sub-class of Clock. Here if the DigitalClock's object doesn't contain hours and mins members then things are screwed up. </p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/18602663#18602663", "question_id": 4716040, "answer_id": 18602663}, {"body": "<p>I will demonstrate the concept with code. Subclasses ACTUALLY <em>inherit</em> the private variables of super class. The only problem is that they are not <em>accessible</em> to the \nchild objects unless you provide public getters and setters for the private variables \nin the super class. </p>\n\n<p>Consider two class in package Dump. Child extends Parent. </p>\n\n<p>If I remember correctly, a child object in memory consists of two regions. One is the parent part only and the other is the child part only. A child can access the private \nsection in the code of its parent only via a public method in the parent.  </p>\n\n<p>Think of it this way. Borat's father Boltok has a safe containing $100,000. He does not want to share his \"private\" variable safe. So, he does not provide a key for the safe. Borat inherits the safe. But, what good is it if he cannot even open it ? If only his \ndad had provided the key.</p>\n\n<p><strong>Parent -</strong> </p>\n\n<pre><code>package Dump;\n\npublic class Parent {\n\n    private String reallyHidden;\n    private String notReallyHidden;\n\n    public String getNotReallyHidden() {\n        return notReallyHidden;\n    }\n\n    public void setNotReallyHidden(String notReallyHidden) {\n        this.notReallyHidden = notReallyHidden;\n    }\n\n}//Parent\n</code></pre>\n\n<p><strong>Child -</strong> </p>\n\n<pre><code>package Dump;\n\npublic class Child extends Parent {\n\n    private String childOnly;\n\n    public String getChildOnly() {\n        return childOnly;\n    }\n\n    public void setChildOnly(String childOnly) {\n        this.childOnly = childOnly;\n    }\n\n    public static void main(String [] args){\n\n        System.out.println(\"Testing...\");\n        Child c1 = new Child();\n        c1.setChildOnly(\"childOnly\");\n        c1.setNotReallyHidden(\"notReallyHidden\");\n\n        //Attempting to access parent's reallyHidden\n            c1.reallyHidden;//Does not even compile\n\n    }//main\n\n}//Child\n</code></pre>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/23599387#23599387", "question_id": 4716040, "answer_id": 23599387}, {"body": "<p>A subclass does not inherit the private members of its parent class. However, if the superclass has public or protected methods for accessing its private fields, these can also be used by the subclass.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/26128551#26128551", "question_id": 4716040, "answer_id": 26128551}, {"body": "<p>I would have to answer that private fields in Java <em>are</em> inherited. Allow me to demonstrate:</p>\n\n<pre><code>public class Foo {\n\n    private int x; // This is the private field.\n\n    public Foo() {\n        x = 0; // Sets int x to 0.\n    }\n\n    //The following methods are declared \"final\" so that they can't be overridden.\n    public final void update() { x++; } // Increments x by 1.\n    public final int getX() { return x; } // Returns the x value.\n\n}\n\n\npublic class Bar extends Foo {\n\n    public Bar() {\n\n        super(); // Because this extends a class with a constructor, it is required to run before anything else.\n\n        update(); //Runs the inherited update() method twice\n        update();\n        System.out.println(getX()); // Prints the inherited \"x\" int.\n\n    }\n\n}\n</code></pre>\n\n<p>If you run in a program <code>Bar bar = new Bar();</code>, then you will always see the number \"2\" in the output box. Because the integer \"x\" is encapsulated with the methods <code>update()</code> and <code>getX()</code>, then it can be proven that the integer is inherited.</p>\n\n<p>The confusion is that because you can't directly access the integer \"x\", then people argue that it isn't inherited. However, every non-static thing in a class, be it field or method, is inherited.</p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/28754954#28754954", "question_id": 4716040, "answer_id": 28754954}, {"body": "<p>A private class member or constructor is accessible only within the body of the top level class (<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-7.html#jls-7.6\" rel=\"nofollow\">\u00a77.6</a>) that encloses the declaration of the member or constructor. It is not inherited by subclasses. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"nofollow\">https://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6</a></p>\n", "title": "Do subclasses inherit private fields?", "tags": ["java", "oop", "inheritance", "private"], "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields/35076680#35076680", "question_id": 4716040, "answer_id": 35076680}], "creation_date": 1295285658, "score": 142, "link": "http://stackoverflow.com/questions/4716040/do-subclasses-inherit-private-fields", "question_id": 4716040}, {"body": "<p>Is there a way to capture a list of specific type using mockitos ArgumentCaptore. This doesn't work:</p>\n\n<pre><code>ArgumentCaptor&lt;ArrayList&lt;SomeType&gt;&gt; argument = ArgumentCaptor.forClass(ArrayList.class);\n</code></pre>\n", "tags": ["java", "unit-testing", "junit", "mockito"], "title": "How to capture a list of specific type with mockito", "answers": [{"body": "<p>Yeah, this is a general generics problem, not mockito-specific.</p>\n\n<p>There is no class object for <code>ArrayList&lt;SomeType&gt;</code>, and thus you can't type-safely pass such an object to a method requiring a <code>Class&lt;ArrayList&lt;SomeType&gt;&gt;</code>.</p>\n\n<p>You can cast the object to the right type:</p>\n\n<pre><code>Class&lt;ArrayList&lt;SomeType&gt;&gt; listClass =\n              (Class&lt;ArrayList&lt;SomeType&gt;&gt;)(Class)ArrayList.class;\nArgumentCaptor&lt;ArrayList&lt;SomeType&gt; argument = ArgumentCaptor.forClass(listClass);\n</code></pre>\n\n<p>This will give some warnings about unsafe casts, and of course your ArgumentCaptor can't really differentiate between <code>ArrayList&lt;SomeType&gt;</code> and <code>ArrayList&lt;AnotherType&gt;</code> without maybe inspecting the elements.</p>\n\n<p>(As mentioned in the other answer, while this is a general generics problem, there is a Mockito-specific solution for the type-safety problem with the <code>@Captor</code> annotation. It still can't distinguish between an <code>ArrayList&lt;SomeType&gt;</code> and an <code>ArrayList&lt;OtherType&gt;</code>.)</p>\n\n<h3>Edit:</h3>\n\n<p>Take also a look at <a href=\"https://stackoverflow.com/users/576766/tenshi\">tenshi</a>s comment. You can change the original code from <a href=\"https://stackoverflow.com/users/600500/pa%C5%ADlo-ebermann\">Pa\u016dlo Ebermann</a> to this (much simpler)</p>\n\n<pre><code>final ArgumentCaptor&lt;List&lt;SomeType&gt;&gt; listCaptor\n        = ArgumentCaptor.forClass((Class) List.class);\n</code></pre>\n", "title": "How to capture a list of specific type with mockito", "tags": ["java", "unit-testing", "junit", "mockito"], "link": "http://stackoverflow.com/questions/5606541/how-to-capture-a-list-of-specific-type-with-mockito/5606825#5606825", "question_id": 5606541, "answer_id": 5606825}, {"body": "<p>The nested generics-problem can be avoided with the <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Captor.html\">@Captor annotation</a>:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test{\n\n    @Mock\n    private Service service;\n\n    @Captor\n    private ArgumentCaptor&lt;ArrayList&lt;SomeType&gt;&gt; captor;\n\n    @Test \n    public void shouldDoStuffWithListValues() {\n        //...\n        verify(service).doStuff(captor.capture()));\n    }\n}\n</code></pre>\n", "title": "How to capture a list of specific type with mockito", "tags": ["java", "unit-testing", "junit", "mockito"], "link": "http://stackoverflow.com/questions/5606541/how-to-capture-a-list-of-specific-type-with-mockito/5655702#5655702", "question_id": 5606541, "answer_id": 5655702}, {"body": "<p>If you're not afraid of old java-style (non type safe generic) semantics, this also works and is reasonably simple(r):</p>\n\n<pre><code>ArgumentCaptor&lt;List&gt; argument = ArgumentCaptor.forClass(List.class);\nList&lt;SomeType&gt; list = argument.getValue(); // first captured List, etc.\n</code></pre>\n", "title": "How to capture a list of specific type with mockito", "tags": ["java", "unit-testing", "junit", "mockito"], "link": "http://stackoverflow.com/questions/5606541/how-to-capture-a-list-of-specific-type-with-mockito/27237918#27237918", "question_id": 5606541, "answer_id": 27237918}, {"body": "<p>I had the same issue with testing activity in my Android app. I used <code>ActivityInstrumentationTestCase2</code> and <code>MockitoAnnotations.initMocks(this);</code> didn't work.\nI solved this issue with another class with respectively field. For example:</p>\n\n<pre><code>class CaptorHolder {\n\n        @Captor\n        ArgumentCaptor&lt;Callback&lt;AuthResponse&gt;&gt; captor;\n\n        public CaptorHolder() {\n            MockitoAnnotations.initMocks(this);\n        }\n    }\n</code></pre>\n\n<p>Then, in activity test method:</p>\n\n<pre><code>HubstaffService hubstaffService = mock(HubstaffService.class);\nfragment.setHubstaffService(hubstaffService);\n\nCaptorHolder captorHolder = new CaptorHolder();\nArgumentCaptor&lt;Callback&lt;AuthResponse&gt;&gt; captor = captorHolder.captor;\n\nonView(withId(R.id.signInBtn))\n        .perform(click());\n\nverify(hubstaffService).authorize(anyString(), anyString(), captor.capture());\nCallback&lt;AuthResponse&gt; callback = captor.getValue();\n</code></pre>\n", "title": "How to capture a list of specific type with mockito", "tags": ["java", "unit-testing", "junit", "mockito"], "link": "http://stackoverflow.com/questions/5606541/how-to-capture-a-list-of-specific-type-with-mockito/32179221#32179221", "question_id": 5606541, "answer_id": 32179221}, {"body": "<pre><code>List&lt;String&gt; mockedList = mock(List.class);\n\nList&lt;String&gt; l = new ArrayList();\nl.add(\"someElement\");\n\nmockedList.addAll(l);\n\nArgumentCaptor&lt;List&gt; argumentCaptor =ArgumentCaptor.forClass(List.class);\n\nverify(mockedList).addAll(argumentCaptor.capture());\n\nList&lt;String&gt; capturedArgument = argumentCaptor.&lt;List&lt;String&gt;&gt;getValue();\n\nassertThat(capturedArgument, hasItem(\"someElement\"));\n</code></pre>\n", "title": "How to capture a list of specific type with mockito", "tags": ["java", "unit-testing", "junit", "mockito"], "link": "http://stackoverflow.com/questions/5606541/how-to-capture-a-list-of-specific-type-with-mockito/36713447#36713447", "question_id": 5606541, "answer_id": 36713447}], "creation_date": 1302369445, "score": 140, "link": "http://stackoverflow.com/questions/5606541/how-to-capture-a-list-of-specific-type-with-mockito", "question_id": 5606541}, {"body": "<p>I want to add <code>JTable</code> into <code>JPanel</code> whose layout is <code>null</code>.  <code>JPanel</code> contains other components. I have to add <code>JTable</code> at proper position.</p>\n", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "title": "How to add JTable in JPanel with null layout?", "answers": [{"body": "<p>Don't use a null layout.  Learn to use LayoutManagers:</p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/using.html\">http://download.oracle.com/javase/tutorial/uiswing/layout/using.html</a></p>\n\n<p>LayoutManagers allow you to properly handle things window resizing or dynamic component counts.  They might seem intimidating at first, but they are worth the effort to learn.</p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/5621466#5621466", "question_id": 5621338, "answer_id": 5621466}, {"body": "<p>If you are using null layout manager you always need to set the bounds of a component.\nThat is the problem in your case.</p>\n\n<p>You should do what everyone suggest here and go and use some layout manager believe they save time.\nGo and check out the tutorial in @jzd's post.</p>\n\n<p>Enjoy, Boro.</p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/5623084#5623084", "question_id": 5621338, "answer_id": 5623084}, {"body": "<h1>Nested/Combination Layout Example</h1>\n\n<p>The Java Tutorial has comprehensive information on using layout managers. See the <a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/index.html\">Laying Out Components Within a Container</a> lesson for further details.</p>\n\n<p>One aspect of layouts that is <em>not</em> covered well by the tutorial is that of nested layouts, putting one layout inside another to get complex effects.</p>\n\n<p>The following code puts a variety of components into a frame to demonstrate how to use nested layouts.  All the layouts that are explicitly set are shown as a titled-border for the panel on which they are used.</p>\n\n<p>Notable aspects of the code are:</p>\n\n<ul>\n<li>There is a combo-box to change PLAF (Pluggable Look and Feel) at run-time.</li>\n<li>The GUI is expandable to the user's need.</li>\n<li>The image in the bottom of the split-pane is centered in the scroll-pane.</li>\n<li>The label instances on the left are dynamically added using the button.</li>\n</ul>\n\n<h3>Nimbus PLAF</h3>\n\n<p><img src=\"http://i.stack.imgur.com/RljPH.png\" width=\"681\" height=\"580\" title=\"GUI screen shot with Nimbus PLAF\"></p>\n\n<h2>NestedLayoutExample.java</h2>\n\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.border.TitledBorder;\n\n/** A short example of a nested layout that can change PLAF at runtime.\nThe TitledBorder of each JPanel shows the layouts explicitly set.\n@author Andrew Thompson\n@version 2011-04-12 */\nclass NestedLayoutExample {\n\n    public static void main(String[] args) {\n\n        Runnable r = new Runnable() {\n\n            public void run() {\n                final JFrame frame = new JFrame(\"Nested Layout Example\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                final JPanel gui = new JPanel(new BorderLayout(5,5));\n                gui.setBorder( new TitledBorder(\"BorderLayout(5,5)\") );\n\n                //JToolBar tb = new JToolBar();\n                JPanel plafComponents = new JPanel(\n                    new FlowLayout(FlowLayout.RIGHT, 3,3));\n                plafComponents.setBorder(\n                    new TitledBorder(\"FlowLayout(FlowLayout.RIGHT, 3,3)\") );\n\n                final UIManager.LookAndFeelInfo[] plafInfos =\n                    UIManager.getInstalledLookAndFeels();\n                String[] plafNames = new String[plafInfos.length];\n                for (int ii=0; ii&lt;plafInfos.length; ii++) {\n                    plafNames[ii] = plafInfos[ii].getName();\n                }\n                final JComboBox plafChooser = new JComboBox(plafNames);\n                plafComponents.add(plafChooser);\n\n                final JCheckBox pack = new JCheckBox(\"Pack on PLAF change\", true);\n                plafComponents.add(pack);\n\n                plafChooser.addActionListener( new ActionListener(){\n                    public void actionPerformed(ActionEvent ae) {\n                        int index = plafChooser.getSelectedIndex();\n                        try {\n                            UIManager.setLookAndFeel(\n                                plafInfos[index].getClassName() );\n                            SwingUtilities.updateComponentTreeUI(frame);\n                            if (pack.isSelected()) {\n                                frame.pack();\n                                frame.setMinimumSize(frame.getSize());\n                            }\n                        } catch(Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n                } );\n\n                gui.add(plafComponents, BorderLayout.NORTH);\n\n                JPanel dynamicLabels = new JPanel(new BorderLayout(4,4));\n                dynamicLabels.setBorder(\n                    new TitledBorder(\"BorderLayout(4,4)\") );\n                gui.add(dynamicLabels, BorderLayout.WEST);\n\n                final JPanel labels = new JPanel(new GridLayout(0,2,3,3));\n                labels.setBorder(\n                    new TitledBorder(\"GridLayout(0,2,3,3)\") );\n\n                JButton addNew = new JButton(\"Add Another Label\");\n                dynamicLabels.add( addNew, BorderLayout.NORTH );\n                addNew.addActionListener( new ActionListener(){\n\n                    private int labelCount = 0;\n\n                    public void actionPerformed(ActionEvent ae) {\n                        labels.add( new JLabel(\"Label \" + ++labelCount) );\n                        frame.validate();\n                    }\n                } );\n\n                dynamicLabels.add( new JScrollPane(labels), BorderLayout.CENTER );\n\n                String[] header = {\"Name\", \"Value\"};\n                String[] a = new String[0];\n                String[] names = System.getProperties().\n                    stringPropertyNames().toArray(a);\n                String[][] data = new String[names.length][2];\n                for (int ii=0; ii&lt;names.length; ii++) {\n                    data[ii][0] = names[ii];\n                    data[ii][1] = System.getProperty(names[ii]);\n                }\n                DefaultTableModel model = new DefaultTableModel(data, header);\n                JTable table = new JTable(model);\n                try {\n                    // 1.6+\n                    table.setAutoCreateRowSorter(true);\n                } catch(Exception continuewithNoSort) {\n                }\n                JScrollPane tableScroll = new JScrollPane(table);\n                Dimension tablePreferred = tableScroll.getPreferredSize();\n                tableScroll.setPreferredSize(\n                    new Dimension(tablePreferred.width, tablePreferred.height/3) );\n\n                JPanel imagePanel = new JPanel(new GridBagLayout());\n                imagePanel.setBorder(\n                    new TitledBorder(\"GridBagLayout()\") );\n\n                BufferedImage bi = new BufferedImage(\n                    200,200,BufferedImage.TYPE_INT_ARGB);\n                Graphics2D g = bi.createGraphics();\n                GradientPaint gp = new GradientPaint(\n                    20f,20f,Color.red, 180f,180f,Color.yellow);\n                g.setPaint(gp);\n                g.fillRect(0,0,200,200);\n                ImageIcon ii = new ImageIcon(bi);\n                JLabel imageLabel = new JLabel(ii);\n                imagePanel.add( imageLabel, null );\n\n                JSplitPane splitPane = new JSplitPane(\n                    JSplitPane.VERTICAL_SPLIT,\n                    tableScroll,\n                    new JScrollPane(imagePanel));\n                gui.add( splitPane, BorderLayout.CENTER );\n\n                frame.setContentPane(gui);\n\n                frame.pack();\n\n                frame.setLocationRelativeTo(null);\n                try {\n                    // 1.6+\n                    frame.setLocationByPlatform(true);\n                    frame.setMinimumSize(frame.getSize());\n                } catch(Throwable ignoreAndContinue) {\n                }\n\n                frame.setVisible(true);\n            }\n        };\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n\n<h2>Other Screen Shots</h2>\n\n<h3>Windows PLAF</h3>\n\n<p><img src=\"http://i.stack.imgur.com/fHnCI.png\" width=\"681\" height=\"580\" title=\"GUI screen shot with Windows PLAF\"></p>\n\n<h3>Mac OS X Aqua PLAF</h3>\n\n<p><img src=\"http://i.stack.imgur.com/Jaqap.png\" width=\"681\" height=\"580\" title=\"GUI screen shot with Aqua PLAF\"></p>\n\n<h3>Ubuntu GTK+ PLAF</h3>\n\n<p><img src=\"http://i.stack.imgur.com/521zz.png\" width=\"681\" height=\"580\" title=\"GUI screen shot with GTK+ PLAF\"></p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/5630271#5630271", "question_id": 5621338, "answer_id": 5630271}, {"body": "<p>As I can remember, the <strong>null</strong> layout means an absolute position so it will be pretty hard you to count the X point for your JTable left upper corner location. But if you just want to have all panel components one by one you can use FlowLayout() manager as</p>\n\n<pre><code>JPanel panel=new JPanel(new FlowLayout());\npanel.add(new aComponent());\npanel.add(new bComponent());\npanel.add(new JTable());\n</code></pre>\n\n<p>or if you need to fill the panel you should use GridLayout() as...</p>\n\n<pre><code>int x=2,y=2;\nJPanel panel=new JPanel(new GridLayout(y,x));\npanel.add(new aComponent());\npanel.add(new bComponent());\npanel.add(new JTable());\n</code></pre>\n\n<p>Good luck</p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/6736230#6736230", "question_id": 5621338, "answer_id": 6736230}, {"body": "<p>You can make use of the following code. To add JTable to JPanel.</p>\n\n<pre><code>JPanel panel = new JPanel();\nthis.setContentPane(panel);\npanel.setLayout(null);\nString data[][] = {{\"1.\", \"ABC\"}, {\"2.\", \"DEF\"}, {\"3.\", \"GHI\" }};\nString col[] = {\"Sr. No\", \"Name\"};\nJTable table = new JTable(data,col);\ntable.setBounds(100, 100, 100, 80);\npanel.add(table);\nsetVisible(true);\nsetSize(300,300);\n</code></pre>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/12543988#12543988", "question_id": 5621338, "answer_id": 12543988}, {"body": "<p>JTable should be added into the JScrollPane which actually should be added into the JPanel.</p>\n\n<p>The JPanel should have some layout manager.</p>\n\n<p>If you don't care about the precision of components size you can use pure BorderLayout and combine it with FlowLayout and GridLayout. if you need precision - use jgoodies FormLayout.</p>\n\n<p>The FormLayout is really tricky one, but you can play a little with WindowBuilder (which is embedded into Eclipse) and a look at the code it generates. It may look complicated but it is just an ignorance.</p>\n\n<p>Good luck. </p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/12723353#12723353", "question_id": 5621338, "answer_id": 12723353}, {"body": "<pre><code>JPanel panel = new JPanel();\nJTable table = new JTable(rowData, colData);\nJScrollPane scrollPane = new JScrollPane(table);\npanel.add(scrollPane, BorderLayout.CENTER);\npanel.setSize(800, 150);\npanel.add(table);\npanel.setLocationRelativeTo(null);\npanel.setVisible(true);\n</code></pre>\n\n<p>Hope this helps.</p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/24994223#24994223", "question_id": 5621338, "answer_id": 24994223}, {"body": "<pre><code>JFrame frame = new JFrame(\"Sample Frame\");\nframe.setSize(600, 600);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JPanel panel = new JPanel();\n        DefaultTableModel dfm = new DefaultTableModel(data, columnNames);\n        JTable table = new JTable(dfm);\n        JScrollPane scrollPane = new JScrollPane(table);\n    panel.add(scrollPane);\nframe.add(panel);\nframe.setVisible(true);\n</code></pre>\n\n<p>table model depends on your requirement</p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/33938242#33938242", "question_id": 5621338, "answer_id": 33938242}, {"body": "<pre><code>this.setTitle(\"Sample\");\n        JPanel p = new JPanel(new BorderLayout());\n        WindowEvent we = new WindowEvent(this, WindowEvent.WINDOW_CLOSED);\n        this.addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent we) {\n                System.exit(0);\n            }\n        }); \n        // Create columns names\n        String columnNames[] = { \"FirstCol\", \"SecondCol\",\n                \"ThirdCol\", \"FourthCol\" };\n        dataModel = new DefaultTableModel();\n        for (int col = 0; col &lt; columnNames.length; col++) {\n            dataModel.addColumn(columnNames[col]);\n        }\n        // Create a new table instance\n        table = new JTable(dataModel);\n        table.setPreferredScrollableViewportSize(new Dimension(200, 120));\n        table.setFillsViewportHeight(true);\n        table.setShowGrid(true);\n        table.setAutoscrolls(true);\n\n        // Add the table to a scrolling pane\n        scrollPane = new JScrollPane(table,\n                JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\n                JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        scrollPane.setPreferredSize(new Dimension(700, 700));\n        JPanel jpResultPanel = new JPanel();\n        jpResultPanel.setBorder(BorderFactory.createTitledBorder(\n                BorderFactory.createEtchedBorder(), \"Result\",\n                TitledBorder.CENTER, TitledBorder.TOP));\n        jpResultPanel.add(scrollPane);\n        add(jpResultPanel);\n        pack();\n        setSize(720, 720);\n        setVisible(true);\n</code></pre>\n\n<p>Try this.</p>\n", "title": "How to add JTable in JPanel with null layout?", "tags": ["java", "swing", "layout", "layout-manager", "null-layout-manager"], "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout/35626538#35626538", "question_id": 5621338, "answer_id": 35626538}], "creation_date": 1302525334, "score": 139, "link": "http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout", "question_id": 5621338}, {"body": "<p>I have one activity which is the main activity used throughout the app and it has a number of variables. I have two other activities which I would like to be able to use the data from the first activity.\nNow I know I can do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>GlobalState gs = (GlobalState) getApplication();\nString s = gs.getTestMe();\n</code></pre>\n\n<p>However I want to share a lot of variables and some might be rather large so I don't want to be creating copies of them like above.</p>\n\n<p>Is there a way to directly get and change the variables without using get and set methods? I remember reading an article on the Google dev site saying this is not recommended for performance on Android.</p>\n", "tags": ["java", "android", "sharing"], "title": "What&#39;s the best way to share data between activities?", "answers": [{"body": "<p>Well I have a few ideas, but I don't know if they are what your looking for.</p>\n\n<p>You could use a service that holds all of the data and then just bind your activities to the service for data retrival.</p>\n\n<p>Or package your data into a serializable or parcelable and attach them to a bundle and pass the bundle between activities.</p>\n\n<p>This one may not be at all what your looking for, but you could also try using a SharedPreferences or a preference in general.</p>\n\n<p>Either way let me know what you decide.</p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4878258#4878258", "question_id": 4878159, "answer_id": 4878258}, {"body": "<p>Here a compilation of <a href=\"http://developer.android.com/guide/faq/framework.html#3\">most common ways to achieve this</a>:</p>\n\n<ul>\n<li>Send data inside intent</li>\n<li>Static fields</li>\n<li>HashMap of <code>WeakReferences</code></li>\n<li>Persist objects (sqlite, share preferences, file, etc.)</li>\n</ul>\n\n<p><strong>TL;DR</strong>: there are two ways of sharing data: passing data in the intent's extras or saving it somewhere else. If data is primitives, Strings or user-defined objects: send it as part of the intent extras (user-defined objects must implement <code>Parcelable</code>). If passing complex objects save an instance in a singleton somewhere else and access them from the launched activity.</p>\n\n<p>Some examples of how and why to implement each approach:</p>\n\n<h2>Send data inside intents</h2>\n\n<pre><code>Intent intent = new Intent(FirstActivity.this, SecondActivity.class);\nintent.putExtra(\"some_key\", value);\nintent.putExtra(\"some_other_key\", \"a value\");\nstartActivity(intent);\n</code></pre>\n\n<p>On the second activity:</p>\n\n<pre><code>Bundle bundle = getIntent().getExtras();\nint value = bundle.getInt(\"some_key\");\nString value2 = bundle.getString(\"some_other_key\");\n</code></pre>\n\n<p>Use this method <strong>if you are passing primitive data or Strings</strong>. You can also pass objects that implements <code>Serializable</code>.</p>\n\n<p>Although tempting, you should think twice before using <code>Serializable</code>: it's error prone and horribly slow. So in general: <strong>stay away from <code>Serializable</code></strong> if possible. If you want to pass complex user-defined objects, <strong>take a look at the <code>Parcelable</code> interface</strong>. It's harder to implement, but it has considerable speed gains compared to <code>Serializable</code>.</p>\n\n<h1>Share data without persisting to disk</h1>\n\n<p>It is possible to share data between activities by saving it in memory given that, in most cases, both activities run in the same process.</p>\n\n<p><strong>Note:</strong> sometimes, when the user leaves your activity (without quitting it), Android may decide to kill your application. In such scenario, I have experienced cases in which android attempts to launch the last activity using the intent provided before the app was killed. In this cases, data stored in a singleton (either yours or <code>Application</code>) will be gone and bad things could happen. To avoid such cases, you either persist objects to disk or check data before using it to make sure its valid.</p>\n\n<h2>Use a singleton class</h2>\n\n<p>Have a class to whole the data:</p>\n\n<pre><code>public class DataHolder {\n  private String data;\n  public String getData() {return data;}\n  public void setData(String data) {this.data = data;}\n\n  private static final DataHolder holder = new DataHolder();\n  public static DataHolder getInstance() {return holder;}\n}\n</code></pre>\n\n<p>From the launched activity:</p>\n\n<pre><code>String data = DataHolder.getInstance().getData();\n</code></pre>\n\n<h3>Use application singleton</h3>\n\n<p>The application singleton is an instance of <code>android.app.Application</code> which is created when the app is launched. You can provide a custom one by extending <code>Application</code>:</p>\n\n<pre><code>import android.app.Application;\npublic class MyApplication extends Application {\n  private String data;\n  public String getData() {return data;}\n  public void setData(String data) {this.data = data;}\n}\n</code></pre>\n\n<p>Before launching the activity:</p>\n\n<pre><code>MyApplication app = (MyApplication) getApplicationContext();\napp.setData(someData);\n</code></pre>\n\n<p>Then, from the launched activity:</p>\n\n<pre><code>MyApplication app = (MyApplication) getApplicationContext();\nString data = app.getData();\n</code></pre>\n\n<h3>Static fields</h3>\n\n<p>The idea is basically the same than the singleton, but in this case you provide static access to the data:</p>\n\n<pre><code>public class DataHolder {\n  private static String data;\n  public static String getData() {return data;}\n  public static String setData(String data) {DataHolder.data = data;}\n}\n</code></pre>\n\n<p>From the launched activity:</p>\n\n<pre><code>String data = DataHolder.getData();\n</code></pre>\n\n<h3>HashMap of <code>WeakReferences</code></h3>\n\n<p>Same idea, but allowing the garbage collector to removed unreferenced objects (e.g. when the user quits the activity):</p>\n\n<pre><code>public class DataHolder {\n  Map&lt;String, WeakReference&lt;Object&gt;&gt; data = new HashMap&lt;String, WeakReference&lt;Object&gt;&gt;();\n\n  void save(String id, Object object) {\n    data.put(id, new WeakReference&lt;Object&gt;(object));\n  }\n\n  Object retrieve(String id) {\n    WeakReference&lt;Object&gt; objectWeakReference = data.get(id);\n    return objectWeakReference.get();\n  }\n}\n</code></pre>\n\n<p>Before launching the activity:</p>\n\n<pre><code>DataHolder.getInstance().save(someId, someObject);\n</code></pre>\n\n<p>From the launched activity:</p>\n\n<pre><code>DataHolder.getInstance().retrieve(someId);\n</code></pre>\n\n<p>You may or may not have to pass the object id using the intent\u2019s extras. It all depends on your specific problem.</p>\n\n<h1>Persist objects to disk</h1>\n\n<p>The idea is to save the data in disk before launching the other activity.</p>\n\n<p><strong>Advantages:</strong> you can launch the activity from other places and, if the data is already persisted, it should work just fine.</p>\n\n<p><strong>Disadvantages:</strong> it\u2019s cumbersome and takes more time to implement. Requires more code and thus more chance of introducing bugs. It will also be much slower.</p>\n\n<p>Some of the ways to persist objects include:</p>\n\n<ul>\n<li><a href=\"http://developer.android.com/guide/topics/data/data-storage.html#pref\">Save them to the shared preferences</a></li>\n<li><a href=\"http://developer.android.com/guide/topics/data/data-storage.html#db\">Save them to a sqlite database</a></li>\n<li>Save them to a file (I\u2019d avoid this one)</li>\n</ul>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4878259#4878259", "question_id": 4878159, "answer_id": 4878259}, {"body": "<p>Assuming you are calling activity two from activity one using an Intent.<br>\nYou can pass the data with the intent.putExtra(),</p>\n\n<p>Take this for your reference.\n<a href=\"http://stackoverflow.com/questions/3848148/sending-information-with-intent-putextra\">Sending  information with Intent.putExtra</a></p>\n\n<p>Hope that's what you want.</p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4878271#4878271", "question_id": 4878159, "answer_id": 4878271}, {"body": "<p>If your intention is to call other Activities from the current Activity, you should use <a href=\"http://developer.android.com/reference/android/content/Intent.html\" rel=\"nofollow\">Intents</a>. Your focus could be less on persisting data than on sharing it on an as-needed basis.</p>\n\n<p>However, if you really need to persist these values then you could persist them in some kind of structured text file or database on local storage. A properties file, XML file, or JSON file could store your data and be easily parsed during activity creation. Don't forget also that you have SQLite on all Android devices, so you could store them in a database table. You could also use a Map to store key-value pairs and serialize the map to local storage, but this might be  too cumbersome to be useful for simple data structures.</p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4878278#4878278", "question_id": 4878159, "answer_id": 4878278}, {"body": "<p>What you can use:</p>\n\n<ol>\n<li>passing data between activities (like Cristian said)</li>\n<li>using a class with a lot of static variables (so you can call them without an instance of the class and without using getter/setter)</li>\n<li>Using a database</li>\n<li>Shared Preferences</li>\n</ol>\n\n<p>What you choose depends on your needs. Probably you will use more than one way when you have \"a lot of\" </p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4878297#4878297", "question_id": 4878159, "answer_id": 4878297}, {"body": "<blockquote>\n  <p>\"However I want to share alot of\n  variables and some might be rather\n  large so I don't want to be creating\n  copies of them like above.\"</p>\n</blockquote>\n\n<p>That doesn't make a copy (especially with <em>String</em>, but even objects are pass by value of the reference, not the object itself, and getter's like that are fine to use -- arguably better to use than other means because they are common and well understood). The older \"performance myths,\" such as not using getters and setters, still have some value, but <a href=\"http://developer.android.com/guide/practices/design/performance.html\">have also been updated in the docs</a>. </p>\n\n<p>But if you don't want to do that, you could also just make the variables public or protected in <em>GlobalState</em> and access them directly. And, you can make a static singleton as the <a href=\"http://developer.android.com/reference/android/app/Application.html\">Application object JavaDoc indicates</a>:</p>\n\n<blockquote>\n  <p>There is normally no need to subclass\n  Application. In most situation,\n  static singletons can provide the same\n  functionality in a more modular way.\n  If your singleton needs a global\n  context (for example to register\n  broadcast receivers), the function to\n  retrieve it can be given a Context\n  which internally uses\n  Context.getApplicationContext() when\n  first constructing the singleton.</p>\n</blockquote>\n\n<p>Using <em>Intent</em> data, as other answers here note is another way to pass data, but it's usually used for smaller data and simple types. You can pass larger/more complex data, but it's more involved than just using a static singleon. The <a href=\"http://developer.android.com/reference/android/app/Application.html\">Application</a> object is still my personal favorite for sharing larger/more complex non persistent data between Android application components though (because it has a well defined lifecycle in an Android app). </p>\n\n<p>Also, as others have noted, if the data gets very complex <em>and needs to be persistent</em> then you can use SQLite or the filesystem too.</p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4878302#4878302", "question_id": 4878159, "answer_id": 4878302}, {"body": "<p>You could extend the <a href=\"http://www.jameselsey.co.uk/blogs/techblog/android-implementing-global-state-share-data-between-activities-and-across-your-application/\">Application</a> class and tag on any objects you want there, they are then available anywhere in your application</p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/4891037#4891037", "question_id": 4878159, "answer_id": 4891037}, {"body": "<p>Do what google commands you to do! here:  <a href=\"http://developer.android.com/resources/faq/framework.html#3\" rel=\"nofollow\">http://developer.android.com/resources/faq/framework.html#3</a>  </p>\n\n<ul>\n<li>Primitive Data Types</li>\n<li>Non-Persistent Objects</li>\n<li>Singleton class - my favorite :D</li>\n<li>A public static field/method</li>\n<li>A HashMap of WeakReferences to Objects</li>\n<li>Persistent Objects (Application Preferences, Files, contentProviders, SQLite DB)</li>\n</ul>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/7945937#7945937", "question_id": 4878159, "answer_id": 7945937}, {"body": "<p>All of the aforementioned answers are great... I'm just adding one no one had mentioned yet about persisting data through activities and that is to use the built in android SQLite database to persist relevant data... In fact you can place your databaseHelper in the application state and call it as needed throughout the activates.. Or just make a helper class and make the DB calls when needed... Just adding another layer for you to consider... But all of the other answers would suffice as well.. Really just preference </p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/17983685#17983685", "question_id": 4878159, "answer_id": 17983685}, {"body": "<p>Using the hashmap of weak reference approach, described above, and in <a href=\"http://developer.android.com/guide/faq/framework.html\" rel=\"nofollow\">http://developer.android.com/guide/faq/framework.html</a> seems problematic to me. How are entire entries reclaimed, not just the map value? What scope do you allocate it in? As the framework is in control of the Activity lifecycle, having one of the participating Activities own it risks runtime errors when the owner is destroyed in advance of its clients. If the Application owns it, some Activity must explicitly remove the entry to avoid the hashmap from holding on to entries with a valid key and a potentially garbaged collected weak reference. Furthermore, what should a client do when the value returned for a key is null?</p>\n\n<p>It seems to me that a WeakHashMap owned by the Application or within a singleton is a better choice. An value in the map is accessed via a key object, and when no strong references to the key exist (i.e. all Activities are done with the key and what it maps to), GC can reclaim the map entry. </p>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/23350765#23350765", "question_id": 4878159, "answer_id": 23350765}, {"body": "<p>Sharing data between activites \nexample passing an email after login </p>\n\n<p>\"email\" is the name that can be used to reference the value on the activity that's being requested</p>\n\n<p>1 Code on the login page</p>\n\n<pre><code>Intent openLoginActivity = new Intent(getBaseContext(), Home.class);\n    openLoginActivity.putExtra(\"email\", getEmail);\n</code></pre>\n\n<p>2 code on the home page</p>\n\n<pre><code>Bundle extras = getIntent().getExtras();\n    accountEmail = extras.getString(\"email\");\n</code></pre>\n", "title": "What&#39;s the best way to share data between activities?", "tags": ["java", "android", "sharing"], "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities/26085039#26085039", "question_id": 4878159, "answer_id": 26085039}], "creation_date": 1296670278, "score": 137, "link": "http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities", "question_id": 4878159}, {"body": "<p>As per my understanding I think:</p>\n\n<ol>\n<li>It is perfectly legal for two objects to have the same hashcode.</li>\n<li>If two objects are equal (using the equals() method) then they have the same hashcode.</li>\n<li>If two objects are not equal then they cannot have the same hashcode</li>\n</ol>\n\n<p>Am I correct?</p>\n\n<p>Now if am correct, I have the following question:\nThe <code>HashMap</code> internally uses the hashcode of the object. So if two objects can have the same hashcode, then how can the <code>HashMap</code> track which key it uses?</p>\n\n<p>Can someone explain how the <code>HashMap</code> internally uses the hashcode of the object?</p>\n", "tags": ["java", "hashmap", "hashcode", "hash-function"], "title": "How does a Java HashMap handle different objects with the same hash code?", "answers": [{"body": "<p>The hashcode determines which bucket for the hashmap to check.  If there is more than one object in the bucket then a linear search is done to find which item in the bucket equals the desired item (using the <code>equals()</code>) method.</p>\n\n<p>In other words, if you have a perfect hashcode then hashmap access is constant, you will never have to iterate through a bucket (technically you would also have to have MAX_INT buckets, the Java implementation may share a few hash codes in the same bucket to cut down on space requirements).  If you have the worst hashcode (always returns the same number) then your hashmap access becomes linear since you have to search through every item in the map (they're all in the same bucket) to get what you want.</p>\n\n<p>Most of the time a well written hashcode isn't perfect but is unique enough to give you more or less constant access.</p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/6493650#6493650", "question_id": 6493605, "answer_id": 6493650}, {"body": "<p>Your third assertion is incorrect.</p>\n\n<p>It's perfectly legal for two unequal objects to have the same hash code. It's used by <code>HashMap</code> as a \"first pass filter\" so that the map can quickly find <em>possible</em> entries with the specified key. The keys with the same hash code are then tested for equality with the specified key.</p>\n\n<p>You wouldn't want a requirement that two unequal objects couldn't have the same hash code, as otherwise that would limit you to 2<sup>32</sup> possible objects. (It would also mean that different types couldn't even use an object's fields to generate hash codes, as other classes could generate the same hash.)</p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/6493659#6493659", "question_id": 6493605, "answer_id": 6493659}, {"body": "<p>You're mistaken on point three.  Two entries can have the same hash code but not be equal.  Take a look at the implementation of <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/HashMap.java\" rel=\"nofollow\">HashMap.get from the OpenJdk</a>.  You can see that it checks that the hashes are equal and the keys are equal.  Were point three true, then it would be unnecessary to check that the keys are equal.  The hash code is compared before the key because the former is a more efficient comparison.  </p>\n\n<p>If you're interested in learning a little more about this, take a look at the Wikipedia article on <a href=\"http://en.wikipedia.org/wiki/Hash_table#Open_addressing\" rel=\"nofollow\">Open Addressing collision resolution</a>, which I believe is the mechanism that the OpenJdk implementation uses.  That mechanism is subtly different than the \"bucket\" approach one of the other answers mentions.  </p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/6493893#6493893", "question_id": 6493605, "answer_id": 6493893}, {"body": "<p>A hashmap works like this (this is a little bit simplified, but it illustrates the basic mechanism):</p>\n\n<p>It has a number of \"buckets\" which it uses to store key-value pairs in. Each bucket has a unique number - that's what identifies the bucket. When you put a key-value pair into the map, the hashmap will look at the hash code of the key, and store the pair in the bucket of which the identifier is the hash code of the key. For example: The hash code of the key is 235 -> the pair is stored in bucket number 235. (Note that one bucket can store more then one key-value pair).</p>\n\n<p>When you lookup a value in the hashmap, by giving it a key, it will first look at the hash code of the key that you gave. The hashmap will then look into the corresponding bucket, and then it will compare the key that you gave with the keys of all pairs in the bucket, by comparing them with <code>equals()</code>.</p>\n\n<p>Now you can see how this is very efficient for looking up key-value pairs in a map: by the hash code of the key the hashmap immediately knows in which bucket to look, so that it only has to test against what's in that bucket.</p>\n\n<p>Looking at the above mechanism, you can also see what requirements are necessary on the <code>hashCode()</code> and <code>equals()</code> methods of keys:</p>\n\n<ul>\n<li><p>If two keys are the same (<code>equals()</code> returns <code>true</code> when you compare them), their <code>hashCode()</code> method must return the same number. If keys violate this, then keys that are equal might be stored in different buckets, and the hashmap would not be able to find key-value pairs (because it's going to look in the same bucket).</p></li>\n<li><p>If two keys are different, then it doesn't matter if their hash codes are the same or not. They will be stored in the same bucket if their hash codes are the same, and in this case, the hashmap will use <code>equals()</code> to tell them apart.</p></li>\n</ul>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/6493946#6493946", "question_id": 6493605, "answer_id": 6493946}, {"body": "<p>You can find excellent information at <a href=\"http://javarevisited.blogspot.com/2011/02/how-hashmap-works-in-java.html\">http://javarevisited.blogspot.com/2011/02/how-hashmap-works-in-java.html</a></p>\n\n<p>To Summarize: </p>\n\n<p><strong>HashMap works on the principle of hashing</strong></p>\n\n<p><strong>put(key, value):</strong> HashMap stores both key and value object as Map.Entry. Hashmap applies hashcode(key) to get the bucket. if there is collision ,HashMap uses LinkedList to store object. </p>\n\n<p><strong>get(key):</strong> HashMap uses Key Object's hashcode to find out bucket location and then call keys.equals() method to identify correct node in LinkedList and return associated value object for that key in Java HashMap.</p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/15401246#15401246", "question_id": 6493605, "answer_id": 15401246}, {"body": "<p><img src=\"http://i.stack.imgur.com/zHvEe.jpg\" alt=\"HashMap structure diagram\"></p>\n\n<p><code>HashMap</code> is an array of <code>Entry</code> objects.</p>\n\n<p>Consider <code>HashMap</code> as just an array of objects.</p>\n\n<p>Have a look at what this <code>Object</code> is:</p>\n\n<pre><code>static class Entry&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; {\n        final K key;\n        V value;\n        Entry&lt;K,V&gt; next;\n        final int hash;\n\u2026 \n}\n</code></pre>\n\n<p>Each <code>Entry</code> object represents a key-value pair. The field <code>next</code> refers to another <code>Entry</code> object if a bucket has more than one <code>Entry</code>.</p>\n\n<p>Sometimes it might happen that hash codes for 2 different objects are the same. In this case, two objects will be saved in one bucket and will be presented as a linked list. \nThe entry point is the more recently added object. This object refers to another object with the <code>next</code> field and so on. The last entry refers to <code>null</code>.</p>\n\n<p>When you create a <code>HashMap</code> with the default constructor</p>\n\n<pre><code>HashMap hashMap = new HashMap();\n</code></pre>\n\n<p>The array is created with size 16 and default 0.75 load balance.</p>\n\n<h3>Adding a new key-value pair</h3>\n\n<ol>\n<li>Calculate hashcode for the key</li>\n<li>Calculate position <code>hash % (arrayLength-1)</code> where element should be placed (bucket number)</li>\n<li>If you try to add a value with a key which has already been saved in <code>HashMap</code>, then value gets overwritten.</li>\n<li>Otherwise element is added to the bucket.</li>\n</ol>\n\n<p>If the bucket already has at least one element, a new one gets added and placed in the first position of the bucket. Its <code>next</code> field refers to the old element.</p>\n\n<h3>Deletion</h3>\n\n<ol>\n<li>Calculate hashcode for the given key</li>\n<li>Calculate bucket number <code>hash % (arrayLength-1)</code></li>\n<li>Get a reference to the first Entry object in the bucket and by means of equals method iterate over all entries in the given bucket. Eventually we will find the correct <code>Entry</code>.\nIf a desired element is not found, return <code>null</code> </li>\n</ol>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/18492835#18492835", "question_id": 6493605, "answer_id": 18492835}, {"body": "<pre><code>import java.util.HashMap;\n\npublic class Students  {\n    String name;\n    int age;\n\n    Students(String name, int age ){\n        this.name = name;\n        this.age=age;\n    }\n\n    @Override\n    public int hashCode() {\n        System.out.println(\"__hash__\");\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + age;\n        result = prime * result + ((name == null) ? 0 : name.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        System.out.println(\"__eq__\");\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Students other = (Students) obj;\n        if (age != other.age)\n            return false;\n        if (name == null) {\n            if (other.name != null)\n                return false;\n        } else if (!name.equals(other.name))\n            return false;\n        return true;\n    }\n\n    public static void main(String[] args) {\n\n        Students S1 = new Students(\"taj\",22);\n        Students S2 = new Students(\"taj\",21);\n\n        System.out.println(S1.hashCode());\n        System.out.println(S2.hashCode());\n\n        HashMap&lt;Students,String &gt; HM = new HashMap&lt;Students,String &gt; (); \n        HM.put(S1, \"tajinder\");\n        HM.put(S2, \"tajinder\");\n        System.out.println(HM.size());\n    }\n}\n\nOutput:\n\n__ hash __\n\n116232\n\n__ hash __\n\n116201\n\n__ hash __\n\n__ hash __\n\n2\n</code></pre>\n\n<p>So here we see that if both the objects S1 and S2 have different content, then we are pretty sure that our overridden Hashcode method will generate different Hashcode(116232,11601) for both objects. NOW since there are different hash codes, so it won't even bother to call EQUALS method. Because a different Hashcode GUARANTEES DIFFERENT content in an object.</p>\n\n<pre><code>    public static void main(String[] args) {\n\n        Students S1 = new Students(\"taj\",21);\n        Students S2 = new Students(\"taj\",21);\n\n        System.out.println(S1.hashCode());\n        System.out.println(S2.hashCode());\n\n        HashMap&lt;Students,String &gt; HM = new HashMap&lt;Students,String &gt; (); \n        HM.put(S1, \"tajinder\");\n        HM.put(S2, \"tajinder\");\n        System.out.println(HM.size());\n    }\n}\n\nNow lets change out main method a little bit. Output after this change is \n\n__ hash __\n\n116201\n\n__ hash __\n\n116201\n\n__ hash __\n\n__ hash __\n\n__ eq __\n\n1\nWe can clearly see that equal method is called. Here is print statement __eq__, since we have same hashcode, then content of objects MAY or MAY not be similar. So program internally  calls Equal method to verify this. \n\n\nConclusion \nIf hashcode is different , equal method will not get called. \nif hashcode is same, equal method will get called.\n\nThanks , hope it helps. \n</code></pre>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/22599123#22599123", "question_id": 6493605, "answer_id": 22599123}, {"body": "<p><strong>HashMap use 2 data structure:</strong></p>\n\n<ul>\n<li><p>Hash</p>\n\n<p>Use hash value to group elements into slots, control by hash() method of HashMap,</p></li>\n<li><p>linked list (singly)</p>\n\n<p>Each slot is a singly linked list, their key has the same hash value,<br/>\nthe slot index is control by indexFor() method of HashMap,</p></li>\n</ul>\n\n<p><strong>Find value:</strong></p>\n\n<p>First find the slot by hash value, then loop each element in the slot until found or end,</p>\n\n<p><strong>Add value:</strong></p>\n\n<p>First find the slot by hash value,<br />\nthen try find the value:<br />\n* if found, then replace the value,<br />\n* if not found, then add a new one to begining of the slot,<br /></p>\n\n<p><strong>capacity</strong></p>\n\n<p>Capacity is slot size,\nas element count increase, capacity is larger but liner to element count, and finally equals to size (Integer.MAX_VALUE),</p>\n\n<p><strong>linked list length:</strong></p>\n\n<p>As element count increase, length is liner to a small constant value, and finally equals to 1,</p>\n\n<p><strong>speed:</strong></p>\n\n<p>put / get, has O(1) speed, because slot is access via index, and linked list length is very small,</p>\n\n<p><strong>space:</strong></p>\n\n<p>The slot size increase as element count increase,<br />\nbut it's empty element are null, so not much space is taking,</p>\n\n<p><strong>resize:</strong></p>\n\n<p>When resize capacity, it also need to do rehash, this might take a while,</p>\n\n<p><strong>And I wrote a simple test class:</strong></p>\n\n<pre><code>import java.util.HashMap;\n\npublic class HashMapUnderstand {\npublic static void main(String[] args) {\n    test();\n}\n\npublic static void test() {\n    int size = 16; // slot size\n    Integer[] keys = { 1, 10, 16, 100, 1000, 10000, 2000000, 100000000 };\n    HashMap&lt;Integer, Object&gt; map = new HashMap&lt;Integer, Object&gt;();\n\n    for (Integer key : keys) {\n        int hash = hash(key.hashCode());\n        int i = indexFor(hash, size); \n\n        map.put(key, \"[\" + hash + \" : \" + i + \"]\");\n    }\n\n    for (Integer key : map.keySet()) {\n        System.out.printf(\"key: %11s, [inner hash : slot index]: %s,\\n\", key, map.get(key));\n    }\n}\n\nstatic int hash(int h) {\n    h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12);\n    return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);\n}\n\nstatic int indexFor(int h, int length) {\n    return h &amp; (length - 1);\n}\n}\n</code></pre>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/24059910#24059910", "question_id": 6493605, "answer_id": 24059910}, {"body": "<p>Hash map works on the principle of hashing </p>\n\n<p>HashMap get(Key k) method calls hashCode method on the key object and applies returned hashValue to its own static hash function to find a bucket location(backing array) where keys and values are stored in form of a nested class called Entry (Map.Entry) . So you have concluded that from the previous line that Both key and value is stored in the bucket as a form of  Entry object . So thinking that Only value is stored  in the bucket is not correct and will not give a good impression on the interviewer .</p>\n\n<ul>\n<li>Whenever we call get( Key k )  method on the HashMap object . First it checks that whether key is null or not .  Note that there can only be one null key in HashMap .  </li>\n</ul>\n\n<p>If key is null , then Null keys always map to hash 0, thus index 0.</p>\n\n<p>If key is not null then , it will call hashfunction on the key object , see line 4 in above method i.e. key.hashCode()  ,so after key.hashCode() returns hashValue , line 4 looks like</p>\n\n<pre><code>            int hash = hash(hashValue)\n</code></pre>\n\n<p>and now ,it applies returned hashValue into its own hashing function .</p>\n\n<p>We might wonder why we are calculating the hashvalue again using hash(hashValue). Answer is It defends against poor quality hash functions.</p>\n\n<p>Now final  hashvalue is used to find the bucket location at which the Entry object is stored . Entry object stores in the bucket like this (hash,key,value,bucketindex) </p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/25115717#25115717", "question_id": 6493605, "answer_id": 25115717}, {"body": "<p><strong>In a summerized form of How hashMap works in java?</strong></p>\n\n<p>HashMap  works on principle of hashing, we have put() and get() method for storing and retrieving object form HashMap .When we pass an both key and value to put() method to store on HashMap , it uses key object hashcode() method to calculate hashcode and they by applying hashing on that hashcode it identifies bucket location for storing value object. While retrieving it uses key object equals method to find out correct key value pair and return value object associated with that key. HashMap  uses linked list in case of collision and object will be stored in next node of linked list.\nAlso HashMap  stores both key+value tuple in every node of linked list.</p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/25116054#25116054", "question_id": 6493605, "answer_id": 25116054}, {"body": "<p>This is a Most Confusing Question for many of us in Interviews.But its not that complex.</p>\n\n<p><br>We know</p>\n\n<ul>\n<li><p>HashMap stores <strong>key-value pair</strong> in Map.Entry (we all know)</p></li>\n<li><p>HashMap works on hashing algorithm and uses <strong>hashCode() and equals() method in put() and get() methods.</strong> (even we know this)</p></li>\n<li><p><code>When we call put method by passing key-value pair, HashMap uses Key **hashCode()** with hashing to **find out the index** to store the key-value pair. (this is important)</code> </p></li>\n<li><p><code>The Entry is **stored in the LinkedList**, so if there are already existing entry, it uses **equals() method to check if the passed key already exists** (even this is important)</code></p></li>\n<li><p><strong>if yes it overwrites the value</strong> else it creates a new entry and store this key-value Entry.</p></li>\n<li><p>When we call <strong>get method</strong> by passing Key, again it uses the <strong>hashCode() to find the index</strong> in the array and then use <strong>equals() method to find the correct Entry</strong> and return it\u2019s value. (now this is obvious)</p></li>\n</ul>\n\n<p>THIS IMAGE WILL HELP YOU UNDERSTAND: </p>\n\n<p><img src=\"http://i.stack.imgur.com/HGkBN.png\" alt=\"enter image description here\"></p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/25912874#25912874", "question_id": 6493605, "answer_id": 25912874}, {"body": "<p>I will not get into the details of how HashMap works, but will give an example so we can remember how HashMap works by relating it to reality.</p>\n\n<p>We have Key, Value ,HashCode and bucket.</p>\n\n<p>For sometime, we will relate each of them with the following:</p>\n\n<ul>\n<li>Bucket -> A Society</li>\n<li>HashCode -> Society's address(unique always)</li>\n<li>Value -> A House in the Society</li>\n<li>Key -> House address.</li>\n</ul>\n\n<p>Using Map.get(key) :</p>\n\n<p>Stevie wants to get to his friend's(Josse) house who lives in a villa in a VIP society, let it be JavaLovers Society. \nJosse's address is his SSN(which is different for everyone).\nThere's an index maintained in which we find out the Society's name based on SSN.\nThis index can be considered to be an algorithm to find out the HashCode.</p>\n\n<ul>\n<li>SSN                Society's Name</li>\n<li>92313(Josse's)  -- JavaLovers</li>\n<li>13214           -- AngularJSLovers</li>\n<li>98080           -- JavaLovers</li>\n<li>53808           -- BiologyLovers</li>\n</ul>\n\n<hr>\n\n<ol>\n<li>This SSN(key) first gives us a HashCode(from the index table) which is nothing but Society's name.</li>\n<li>Now, mulitple houses can be in the same society, so the HashCode can be common.</li>\n<li>Suppose, the Society is common for two houses, how are we going to identify which house we are going to, yes, by using the (SSN)key which is nothing but the House address</li>\n</ol>\n\n<p>Using Map.put(key,Value)</p>\n\n<p>This finds a suitable society for this Value by finding the HashCode and then the value is stored.</p>\n\n<p>I hope this helps and this is open for modifications.</p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/30284174#30284174", "question_id": 6493605, "answer_id": 30284174}, {"body": "<p>It gonna be a long answer , grab a drink and read on \u2026</p>\n\n<p>Hashing is all about storing a key-value pair in memory that can be read and written faster. <strong>It stores keys in an array  and  values in a LinkedList .</strong></p>\n\n<p>Lets Say I want to store 4 key value pairs -</p>\n\n<pre><code>{\n\u201cgirl\u201d =&gt; \u201cahhan\u201d , \n\u201cmisused\u201d =&gt; \u201cManmohan Singh\u201d , \n\u201chorsemints\u201d =&gt; \u201cguess what\u201d, \n\u201cno\u201d =&gt; \u201cway\u201d\n}\n</code></pre>\n\n<p>So to store the keys we need an array of 4 element . Now how do I map one of these 4 keys to 4 array indexes (0,1,2,3)? </p>\n\n<p>So java finds the hashCode of individual keys and map them to a particular array index . \nHashcode Formulae is - </p>\n\n<pre><code>1) reverse the string.\n\n2) keep on multiplying ascii of each character with increasing power of 31 . then add the components .\n\n3) So hashCode() of girl would be \u2013(ascii values of  l,r,i,g are 108, 114, 105 and 103) . \n\ne.g. girl =  108 * 31^0  + 114 * 31^1  + 105 * 31^2 + 103 * 31^3  = 3173020\n</code></pre>\n\n<p>Hash and girl !! I know what you are thinking. Your fascination about that wild duet might made you miss an important thing . </p>\n\n<p><strong><em>Why java multiply it with 31 ?</em></strong></p>\n\n<blockquote>\n  <p>It\u2019s because, 31 is an odd prime in the form 2^5 \u2013 1 . And odd prime reduces the chance of Hash Collision</p>\n</blockquote>\n\n<p><strong><em>Now how this hash code is mapped to an array index?</em></strong> </p>\n\n<p>answer is , <code>Hash Code % (Array length -1)</code>  . So <code>\u201cgirl\u201d</code> is mapped to <code>(3173020 % 3) = 1</code> in our case . which is second element of the array . </p>\n\n<p>and the value \u201cahhan\u201d  is stored in a LinkedList associated with array index 1 .</p>\n\n<p><strong>HashCollision</strong> -  If you try to find <code>hasHCode</code> of the keys <code>\u201cmisused\u201d</code> and  <code>\u201chorsemints\u201d</code> using the formulae described above you\u2019ll see both giving us same <code>1069518484</code>. Whooaa !! lesson learnt -</p>\n\n<blockquote>\n  <p>2 equal objects must have same hashCode but there is no guarantee if\n  the hashCode matches then the objects are equal . So it should store\n  both values corresponding to \u201cmisused\u201d and \u201chorsemints\u201d to bucket 1\n  (1069518484 % 3) .</p>\n</blockquote>\n\n<p>Now the hash map looks like \u2013</p>\n\n<pre><code>Array Index 0 \u2013\nArray Index 1 - LinkedIst (\u201cahhan\u201d , \u201cManmohan Singh\u201d , \u201cguess what\u201d)\nArray Index 2 \u2013 LinkedList (\u201cway\u201d)\nArray Index 3 \u2013 \n</code></pre>\n\n<p>Now if some body tries to find the value for the key <code>\u201chorsemints\u201d</code> , java quickly will find the hashCode of it , module it and start searching for it\u2019s value in the LinkedList corresponding <code>index 1</code> . So this way we need not search all the 4 array indexes thus making data access faster.</p>\n\n<p>But , wait , one sec .   there are 3 values in that linkedList corresponding Array index 1, how it finds out which one was was the value for key \u201chorsemints\u201d ? </p>\n\n<p><strong><em>Actually I lied , when I said HashMap just stores values in LinkedList .</em></strong></p>\n\n<p>It stores both key value pair as map entry. So actually Map looks like this . </p>\n\n<pre><code>Array Index 0 \u2013\nArray Index 1 - LinkedIst (&lt;\u201dgirl\u201d =&gt; \u201cahhan\u201d&gt; , &lt;\u201d misused\u201d =&gt; \u201cManmohan Singh\u201d&gt; , &lt;\u201dhorsemints\u201d =&gt; \u201cguess what\u201d&gt;)\nArray Index 2 \u2013 LinkedList (&lt;\u201dno\u201d =&gt; \u201cway\u201d&gt;)\nArray Index 3 \u2013 \n</code></pre>\n\n<p>Now you can see While traversing through the linkedList corresponding to ArrayIndex1 it actually compares key of each entry to of that LinkedList to \u201chorsemints\u201d and when it finds one it just returns the value of it .</p>\n\n<p>Hope you had fun while reading it :)</p>\n", "title": "How does a Java HashMap handle different objects with the same hash code?", "tags": ["java", "hashmap", "hashcode", "hash-function"], "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code/36112918#36112918", "question_id": 6493605, "answer_id": 36112918}], "creation_date": 1309181500, "score": 136, "link": "http://stackoverflow.com/questions/6493605/how-does-a-java-hashmap-handle-different-objects-with-the-same-hash-code", "question_id": 6493605}, {"body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/363681/java-generating-random-number-in-a-range\">Java: generating random number in a range</a>  </p>\n</blockquote>\n\n\n\n<p>I want to generate random number in a specific range. (Ex. Range Between 65 to 80)</p>\n\n<p>I try as per below code, but it is not very use full. It also returns the value greater then max. value(greater then 80). </p>\n\n<pre><code>Random r = new Random();\nint i1 = (r.nextInt(80) + 65);\n</code></pre>\n\n<p>How can I generate random number in between range?</p>\n", "tags": ["java", "android"], "title": "How can I generate random number in specific range in Android?", "answers": [{"body": "<pre><code>int min = 65;\nint max = 80;\n\nRandom r = new Random();\nint i1 = r.nextInt(max - min + 1) + min;\n</code></pre>\n\n<p>Note that <code>nextInt(int max)</code> returns an <code>int</code> between 0 inclusive and max exclusive. Hence the <code>+1</code>.</p>\n", "title": "How can I generate random number in specific range in Android?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/6029495/how-can-i-generate-random-number-in-specific-range-in-android/6029518#6029518", "question_id": 6029495, "answer_id": 6029518}, {"body": "<pre><code>Random r = new Random();\nint i1 = r.nextInt(80 - 65) + 65;\n</code></pre>\n\n<p>This gives a random integer between 65 (inclusive) and 80 (exclusive), one of <code>65,66,...,78,79</code>.</p>\n", "title": "How can I generate random number in specific range in Android?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/6029495/how-can-i-generate-random-number-in-specific-range-in-android/6029519#6029519", "question_id": 6029495, "answer_id": 6029519}], "creation_date": 1305628075, "score": 135, "link": "http://stackoverflow.com/questions/6029495/how-can-i-generate-random-number-in-specific-range-in-android", "question_id": 6029495}, {"body": "<p>Is there a way I can configure maven to <em>always</em> download sources and javadocs? Specifying <code>-DdownloadSources=true -DdownloadJavadocs=true</code> everytime (which usually goes along with running mvn compile twice because I forgot the first time) becomes rather tedious.</p>\n", "tags": ["java", "maven"], "title": "Maven \u2013 Always download sources and javadocs", "answers": [{"body": "<p>I think it can be done per plugin. See <a href=\"http://books.sonatype.com/mvnref-book/reference/_configuring_maven_plugins.html\" rel=\"nofollow\">this chapter</a> from the Maven book.</p>\n\n<p>You might be able to configure the dependency plugin to download sources (even though I haven't tried it myself :-).</p>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/5782025#5782025", "question_id": 5780758, "answer_id": 5782025}, {"body": "<p>Open your settings.xml file (<code>~/.m2/settings.xml</code>). Add a section with the properties added. Then make sure the activeProfiles includes the new profile. </p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;downloadSources&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n            &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;activeProfiles&gt;\n    &lt;activeProfile&gt;downloadSources&lt;/activeProfile&gt;\n&lt;/activeProfiles&gt;\n</code></pre>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/5782039#5782039", "question_id": 5780758, "answer_id": 5782039}, {"body": "<p>Not sure, but you should be able to do something by setting a default active profile in your settings.xml</p>\n\n<p>See</p>\n\n<p>See <a href=\"http://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow\">http://maven.apache.org/guides/introduction/introduction-to-profiles.html</a></p>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/5782064#5782064", "question_id": 5780758, "answer_id": 5782064}, {"body": "<p>In my case the \"settings.xml\" solution didn't work so I use this command in order to download all the sources:</p>\n\n<pre><code>mvn dependency:sources\n</code></pre>\n\n<p>You also can use it with other maven commands, for example:</p>\n\n<pre><code>mvn clean install dependency:sources -Dmaven.test.skip=true\n</code></pre>\n\n<p>To download all documentation, use the following command:</p>\n\n<pre><code>mvn dependency:resolve -Dclassifier=javadoc\n</code></pre>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/25588977#25588977", "question_id": 5780758, "answer_id": 25588977}, {"body": "<p>As @xecaps12 said, the simplest/efficient approach is to change your Maven settings file (~/.m2/settings.xml) but if it is a <em>default</em> settings for you, you can also set it like that </p>\n\n<pre><code>&lt;profile&gt;\n  &lt;id&gt;downloadSources&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;properties&gt;\n      &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n      &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n  &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/29792186#29792186", "question_id": 5780758, "answer_id": 29792186}, {"body": "<p>I am using Maven 3.3.3 and cannot get the default profile to work in a user or global <code>settings.xml</code> file.</p>\n\n<p>As a workaround, you may also add an additional build plugin to your <code>pom.xml</code> file.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven-dependency-plugin.version&gt;2.10&lt;/maven-dependency-plugin.version&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Download Java source JARs. --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;sources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/30124916#30124916", "question_id": 5780758, "answer_id": 30124916}, {"body": "<p>Answer for people from Google</p>\n\n<p>In <strong>Eclipse</strong> you can automatically download <strong>javadoc</strong> and <strong>sources</strong>.</p>\n\n<p>To do that, right click on the project and use</p>\n\n<ul>\n<li>Maven -> Download JavaDoc</li>\n<li>Maven -> Download Sources</li>\n</ul>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/35658751#35658751", "question_id": 5780758, "answer_id": 35658751}, {"body": "<p>Just consolidating and prepared the single command to address source and docs download...</p>\n\n<p><strong><em>mvn dependency:sources dependency:resolve -Dclassifier=javadoc</em></strong></p>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/37462423#37462423", "question_id": 5780758, "answer_id": 37462423}, {"body": "<p>On <strong>NetBeans</strong> : \nopen your project explorer->Dependencies->[<em>file.jar</em>] rightclick->Download Javadoc</p>\n", "title": "Maven \u2013 Always download sources and javadocs", "tags": ["java", "maven"], "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs/38156205#38156205", "question_id": 5780758, "answer_id": 38156205}], "creation_date": 1303750608, "score": 135, "link": "http://stackoverflow.com/questions/5780758/maven-always-download-sources-and-javadocs", "question_id": 5780758}, {"body": "<p>I'm writing a REST web app (NetBeans 6.9, JAX-RS, TopLink Essentials) and trying to return JSON <strong>and</strong> HTTP status code. I have code ready and working that returns JSON when the HTTP GET method is called from the client. Essentially:</p>\n\n<pre><code>@Path(\"get/id\")\n@GET\n@Produces(\"application/json\")\npublic M_\u6a5f\u68b0 getMachineToUpdate(@PathParam(\"id\") String id) {\n\n    // some code to return JSON ...\n\n    return myJson;\n}\n</code></pre>\n\n<p>But I <em>also</em> want to return an HTTP status code (500, 200, 204, etc.) along with the JSON data.</p>\n\n<p>I tried to use <code>HttpServletResponse</code>:</p>\n\n<pre><code>response.sendError(\"error message\", 500);\n</code></pre>\n\n<p>But this made the browser think it's a \"real\" 500 so the output web page was a regular HTTP 500 error page.</p>\n\n<p>I want to return an HTTP status code so that my client-side JavaScript can handle some logic depending on it (to e.g. display the error code and message on an HTML page). Is this possible or should HTTP status codes not be used for such thing?</p>\n", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "answers": [{"body": "<p>I'm not using JAX-RS, but I've got a similar scenario where I use:</p>\n\n<pre><code>response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/4687794#4687794", "question_id": 4687271, "answer_id": 4687794}, {"body": "<p>JAX-RS has support for standard/custom HTTP codes.  See ResponseBuilder and ResponseStatus, for example:</p>\n\n<p><a href=\"http://jackson.codehaus.org/javadoc/jax-rs/1.0/javax/ws/rs/core/Response.ResponseBuilder.html#status%28javax.ws.rs.core.Response.Status%29\">http://jackson.codehaus.org/javadoc/jax-rs/1.0/javax/ws/rs/core/Response.ResponseBuilder.html#status%28javax.ws.rs.core.Response.Status%29</a></p>\n\n<p>Keep in mind that JSON information is more about the data associated with the resource/application.  The HTTP codes are more about the status of the CRUD operation being requested.  (at least that is how it's supposed to be in REST-ful systems)</p>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/4687813#4687813", "question_id": 4687271, "answer_id": 4687813}, {"body": "<p>Here's an example:</p>\n\n<pre><code>@GET\n@Path(\"retrieve/{uuid}\")\npublic Response retrieveSomething(@PathParam(\"uuid\") String uuid) {\n    if(uuid == null || uuid.trim().length() == 0) {\n        return Response.serverError().entity(\"UUID cannot be blank\").build();\n    }\n    Entity entity = service.getById(uuid);\n    if(entity == null) {\n        return Response.status(Response.Status.NOT_FOUND).entity(\"Entity not found for UUID: \" + uuid).build();\n    }\n    String json = //convert entity to json\n    return Response.ok(json, MediaType.APPLICATION_JSON).build();\n}\n</code></pre>\n\n<p>Take a look at the <a href=\"http://jackson.codehaus.org/javadoc/jax-rs/1.0/javax/ws/rs/core/Response.html\">Response</a> class.  </p>\n\n<p>Note that you should always specify a content type, especially if you are passing multiple content types, but if every message will be represented as JSON, you can just annotate the method with <code>@Produces(\"application/json\")</code></p>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/4687942#4687942", "question_id": 4687271, "answer_id": 4687942}, {"body": "<p>The answer by hisdrewness will work, but it modifies the whole approach to letting a provider such as Jackson+JAXB automatically convert your returned object to some output format such as JSON. Inspired by an Apache CFX <a href=\"http://cxf.547215.n5.nabble.com/JAX-RS-send-a-specific-object-in-response-amp-set-status-code-td5086867.html\">post</a> (which uses a CFX-specific class) I've found one way to set the response code that should work in any JAX-RS implementation: inject an HttpServletResponse context and manually set the response code. For example, here is how to set the response code to <code>CREATED</code> when appropriate.</p>\n\n<pre><code>@Path(\"/foos/{fooId}\")\n@PUT\n@Consumes(\"application/json\")\n@Produces(\"application/json\")\npublic Foo setFoo(@PathParam(\"fooID\") final String fooID, final Foo foo, @Context final HttpServletResponse response)\n{\n  //TODO store foo in persistent storage\n  if(itemDidNotExistBefore) //return 201 only if new object; TODO app-specific logic\n  {\n    response.setStatus(Response.Status.CREATED.getStatusCode());\n  }\n  return foo;  //TODO get latest foo from storage if needed\n}\n</code></pre>\n\n<p><em>Improvement:</em> After finding another related <a href=\"http://stackoverflow.com/a/4625289/421049\">answer</a>, I learned that one can inject the <code>HttpServletResponse</code> as a member variable, even for singleton service class (at least in RESTEasy)!! This is a much better approach than polluting the API with implementation details. It would look like this:</p>\n\n<pre><code>@Context  //injected response proxy supporting multiple threads\nprivate HttpServletResponse response;\n\n@Path(\"/foos/{fooId}\")\n@PUT\n@Consumes(\"application/json\")\n@Produces(\"application/json\")\npublic Foo setFoo(@PathParam(\"fooID\") final String fooID, final Foo foo)\n{\n  //TODO store foo in persistent storage\n  if(itemDidNotExistBefore) //return 201 only if new object; TODO app-specific logic\n  {\n    response.setStatus(Response.Status.CREATED.getStatusCode());\n  }\n  return foo;  //TODO get latest foo from storage if needed\n}\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/10076327#10076327", "question_id": 4687271, "answer_id": 10076327}, {"body": "<p>In case you want to change the status code because of an exception, with JAX-RS 2.0 you can implement an ExceptionMapper like this. This handles this kind of exception for the whole app.</p>\n\n<pre><code>@Provider\npublic class UnauthorizedExceptionMapper implements ExceptionMapper&lt;EJBAccessException&gt; {\n\n    @Override\n    public Response toResponse(EJBAccessException exception) {\n        return Response.status(Response.Status.UNAUTHORIZED.getStatusCode()).build();\n    }\n\n}\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/16638859#16638859", "question_id": 4687271, "answer_id": 16638859}, {"body": "<p>If your WS-RS needs raise an error why not just use the WebApplicationException?</p>\n\n<pre><code>@GET\n@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\n@Path(\"{id}\")\npublic MyEntity getFoo(@PathParam(\"id\") long id,  @QueryParam(\"lang\")long idLanguage) {\n\nif (idLanguage== 0){\n    // No URL parameter idLanguage was sent\n    ResponseBuilder builder = Response.status(Response.Status.BAD_REQUEST);\n    builder.entity(\"Missing idLanguage parameter on request\");\n    Response response = builder.build();\n    throw new WebApplicationException(response);\n    }\n... //other stuff to return my entity\nreturn myEntity;\n}\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/17187889#17187889", "question_id": 4687271, "answer_id": 17187889}, {"body": "<p>Please look at the example here, it best illustrates the problem and how it is solved in the latest (2.3.1) version of Jersey. </p>\n\n<p><a href=\"https://jersey.java.net/documentation/latest/representations.html#d0e3586\" rel=\"nofollow\">https://jersey.java.net/documentation/latest/representations.html#d0e3586</a></p>\n\n<p>It basically involves defining a custom Exception and keeping the return type as the entity. When there is an error, the exception is thrown, otherwise, you return the POJO.</p>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/19370466#19370466", "question_id": 4687271, "answer_id": 19370466}, {"body": "<p>There are several use cases for setting HTTP status codes in a REST web service, and at least one was not sufficiently documented in the existing answers (i.e. when you are using auto-magical JSON/XML serialization using JAXB, and you want to return an object to be serialized, but also a status code different than the default 200).</p>\n\n<p>So let me try and enumerate the different use cases and the solutions for each one:</p>\n\n<h1>1. Error code (500, 404,...)</h1>\n\n<p>The most common use case when you want to return a status code different than <code>200 OK</code> is when an error occurs.</p>\n\n<p>For example :</p>\n\n<ul>\n<li>an entity is requested but it doesn't exist (404)</li>\n<li>the request is semantically incorrect (400)</li>\n<li>the user is not authorized (401)</li>\n<li>there is a problem with the database connection (500)</li>\n<li>etc..</li>\n</ul>\n\n<h2>a) Throw and exception</h2>\n\n<p>In that case, I think that the cleanest way to handle the problem is to throw an exception. This exception will be handled by an <code>ExceptionMapper</code>, that will translate the exception into a response with the appropriate error code.</p>\n\n<p>You can use the default <code>ExceptionMapper</code> that comes pre-configured with Jersey (and I guess it's the same with other implementations) and throw any of the existing sub-classes of <code>javax.ws.rs.WebApplicationException</code>. These are pre-defined exception types that are pre-mapped to different error codes, for example :</p>\n\n<ul>\n<li>BadRequestException (400)</li>\n<li>InternalServerErrorException (500)</li>\n<li>NotFoundException (404)</li>\n</ul>\n\n<p>Etc. You can find the list here : <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/package-summary.html\">API</a></p>\n\n<p>Alternatively you can define your own custom exceptions and <code>ExceptionMapper</code> classes, and add these mappers to Jersey by the mean of the <code>@Provider</code> annotation (<a href=\"http://howtodoinjava.com/2013/06/03/exception-handling-in-jax-rs-resteasy-with-exceptionmapper/\">source of this example</a>) :</p>\n\n<pre><code>public class MyApplicationException extends Exception implements Serializable\n{\n    private static final long serialVersionUID = 1L;\n    public MyApplicationException() {\n        super();\n    }\n    public MyApplicationException(String msg)   {\n        super(msg);\n    }\n    public MyApplicationException(String msg, Exception e)  {\n        super(msg, e);\n    }\n}\n</code></pre>\n\n<p>Provider :</p>\n\n<pre><code>    @Provider\n    public class MyApplicationExceptionHandler implements ExceptionMapper&lt;MyApplicationException&gt; \n    {\n        @Override\n        public Response toResponse(MyApplicationException exception) \n        {\n            return Response.status(Status.BAD_REQUEST).entity(exception.getMessage()).build();  \n        }\n    }\n</code></pre>\n\n<p>Note : you can also write ExceptionMappers for existing exception types that you use.</p>\n\n<h2>b) Use the Response builder</h2>\n\n<p>Another way to set a status code is to use a <code>Response</code> builder to build a response with the intended code.</p>\n\n<p>In that case, your method's return type must be <code>javax.ws.rs.core.Response</code>. This is described in various other responses such as hisdrewness' accepted answer and looks like this :</p>\n\n<pre><code>@GET\n@Path(\"myresource({id}\")\npublic Response retrieveSomething(@PathParam(\"id\") String id) {\n    ...\n    Entity entity = service.getById(uuid);\n    if(entity == null) {\n        return Response.status(Response.Status.NOT_FOUND).entity(\"Resource not found for ID: \" + uuid).build();\n    }\n    ...\n}\n</code></pre>\n\n<h1>2. Success, but not 200</h1>\n\n<p>Another case when you want to set the return status is when the operation was successful, but you want to return a success code different than 200, along with the content that you return in the body.</p>\n\n<p>A frequent use case is when you create a new entity (<code>POST</code> request) and want to return info about this new entity or mabe the entity itself, together with a <code>201 Created</code> status code.</p>\n\n<p>One approach is to use the response object just like described above, and set the body of the request yourself. However by doing this you loose the ability to use the automatic serialization to XML or JSON provided by JAXB.</p>\n\n<p>This is the original method returning an entity object that will be serialized to JSON by JAXB:</p>\n\n<pre><code>@Path(\"/\")\n@POST\n@Consumes({ MediaType.APPLICATION_JSON })\n@Produces({ MediaType.APPLICATION_JSON })\npublic User addUser(User user){\n    User newuser = ... do something like DB insert ...\n    return newuser;\n}\n</code></pre>\n\n<p>This will return a JSON representation of the newly created user, but the return status will be 200, not 201.</p>\n\n<p>Now the problem is if I want to use the <code>Response</code> builder to set the return code, I have to return a <code>Response</code> object in my method. How do I still return the <code>User</code> object to be serialized ?</p>\n\n<h2>a) Set the code on the servlet response</h2>\n\n<p>One approach to solve this is to obtain a servlet request object and set the response code manually ourselves, like demonstrated in Garett Wilson's answer :</p>\n\n<pre><code>@Path(\"/\")\n@POST\n@Consumes({ MediaType.APPLICATION_JSON })\n@Produces({ MediaType.APPLICATION_JSON })\npublic User addUser(User user, @Context final HttpServletResponse response){\n\n    User newUser = ...\n\n    //set HTTP code to \"201 Created\"\n    response.setStatus(HttpServletResponse.SC_CREATED);\n    try {\n        response.flushBuffer();\n    }catch(Exception e){}\n\n    return newUser;\n}\n</code></pre>\n\n<p>The method still returns an entity object and the status code will be 201.</p>\n\n<p>Note that to make it work, I had to flush the response. This is an unpleasant resurgence of low-level Servlet API code in our nice JAX_RS resource, and much worse, it causes the headers to be unmodifiable after this because they were already sent on the wire.</p>\n\n<h2>b) Use the response object with the entity</h2>\n\n<p>The best solution in that case is to use the Response object, and set the entity to be serialized on this response object. It would be nice to make the Response object generic to indicate the type of the payload entity in that case, but is not the currently the case.</p>\n\n<pre><code>@Path(\"/\")\n@POST\n@Consumes({ MediaType.APPLICATION_JSON })\n@Produces({ MediaType.APPLICATION_JSON })\npublic Response addUser(User user){\n\n    User newUser = ...\n\n    return Response.created(hateoas.buildLinkUri(newUser, \"entity\")).entity(restResponse).build();\n}\n</code></pre>\n\n<p>In that case we use the created method of the Response builder class in order to set the stratus code to 201. We pass the entity object (user) to the response via the entity() method.</p>\n\n<p>The result is that the HTTP code is 401 as we wanted, and the body of the response is the exact same JSON as we had before when we just returned the User object. It also adds a location header.</p>\n\n<p>The Response class has a number of builder method for different statuses (stati ?) such as :</p>\n\n<p>Response.accepted()\nResponse.ok()\nResponse.noContent()\nResponse.notAcceptable()</p>\n\n<p>NB: the hateoas object is a helper class that I developed to help generate resources URIs. You will need to come up with your own mechanism here ;)</p>\n\n<p>That's about it.</p>\n\n<p>I hope this lengthy response helps somebody :)</p>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/22869076#22869076", "question_id": 4687271, "answer_id": 22869076}, {"body": "<p>If you like to keep your resource layer clean of <code>Response</code> objects, then I recommend you use <code>@NameBinding</code> and binding to implementations of <code>ContainerResponseFilter</code>.</p>\n\n<p>Here's the meat of the annotation:</p>\n\n<pre><code>package my.webservice.annotations.status;\n\nimport javax.ws.rs.NameBinding;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@NameBinding\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Status {\n  int CREATED = 201;\n  int value();\n}\n</code></pre>\n\n<p>Here's the meat of the filter:</p>\n\n<pre><code>package my.webservice.interceptors.status;\n\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerResponseContext;\nimport javax.ws.rs.container.ContainerResponseFilter;\nimport javax.ws.rs.ext.Provider;\nimport java.io.IOException;\n\n@Provider\npublic class StatusFilter implements ContainerResponseFilter {\n\n  @Override\n  public void filter(ContainerRequestContext containerRequestContext, ContainerResponseContext containerResponseContext) throws IOException {\n    if (containerResponseContext.getStatus() == 200) {\n      for (Annotation annotation : containerResponseContext.getEntityAnnotations()) {\n        if(annotation instanceof Status){\n          containerResponseContext.setStatus(((Status) annotation).value());\n          break;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>And then the implementation on your resource simply becomes:</p>\n\n<pre><code>package my.webservice.resources;\n\nimport my.webservice.annotations.status.StatusCreated;\nimport javax.ws.rs.*;\n\n@Path(\"/my-resource-path\")\npublic class MyResource{\n  @POST\n  @Status(Status.CREATED)\n  public boolean create(){\n    return true;\n  }\n}\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/25701949#25701949", "question_id": 4687271, "answer_id": 25701949}, {"body": "<p>I found it very useful to build also a json message with repeated code, like this:</p>\n\n<pre><code>@POST\n@Consumes(\"application/json\")\n@Produces(\"application/json\")\npublic Response authUser(JsonObject authData) {\n    String email = authData.getString(\"email\");\n    String password = authData.getString(\"password\");\n    JSONObject json = new JSONObject();\n    if (email.equalsIgnoreCase(user.getEmail()) &amp;&amp; password.equalsIgnoreCase(user.getPassword())) {\n        json.put(\"status\", \"success\");\n        json.put(\"code\", Response.Status.OK.getStatusCode());\n        json.put(\"message\", \"User \" + authData.getString(\"email\") + \" authenticated.\");\n        return Response.ok(json.toString()).build();\n    } else {\n        json.put(\"status\", \"error\");\n        json.put(\"code\", Response.Status.NOT_FOUND.getStatusCode());\n        json.put(\"message\", \"User \" + authData.getString(\"email\") + \" not found.\");\n        return Response.status(Response.Status.NOT_FOUND).entity(json.toString()).build();\n    }\n}\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/32260005#32260005", "question_id": 4687271, "answer_id": 32260005}, {"body": "<p>I'm using jersey 2.0 with message body readers and writers.  I had my method return type as a specific entity which was also used in the implementation of the message body writer and i was returning the same pojo, a SkuListDTO.\n    @GET\n    @Consumes({\"application/xml\", \"application/json\"})\n    @Produces({\"application/xml\", \"application/json\"})\n    @Path(\"/skuResync\")</p>\n\n<pre><code>public SkuResultListDTO getSkuData()\n    ....\nreturn SkuResultListDTO;\n</code></pre>\n\n<p>all i changed was this,  I left the writer implementation alone and it still worked.</p>\n\n<pre><code>public Response getSkuData()\n...\nreturn Response.status(Response.Status.FORBIDDEN).entity(dfCoreResultListDTO).build();\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/36780596#36780596", "question_id": 4687271, "answer_id": 36780596}, {"body": "<p>Also, notice that by default Jersey will override the response body in case of an http code 400 or more.</p>\n\n<p>In order to get your specified entity as the response body, try to add the following init-param to your Jersey  in your web.xml configuration file :</p>\n\n<pre><code>    &lt;init-param&gt;\n        &lt;!-- used to overwrite default 4xx state pages --&gt;\n        &lt;param-name&gt;jersey.config.server.response.setStatusOverSendError&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n</code></pre>\n", "title": "JAX-RS \u2014 How to return JSON and HTTP status code together?", "tags": ["java", "rest", "jax-rs", "http-status-codes"], "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together/39254621#39254621", "question_id": 4687271, "answer_id": 39254621}], "creation_date": 1294969535, "score": 134, "link": "http://stackoverflow.com/questions/4687271/jax-rs-how-to-return-json-and-http-status-code-together", "question_id": 4687271}, {"body": "<p>I sort of understand that AtomicInteger and other Atomic variables allow concurrent accesses. In what cases is this class typically used though?</p>\n", "tags": ["java", "concurrency", "atomic"], "title": "Practical uses for AtomicInteger", "answers": [{"body": "<p>There are two main uses of <code>AtomicInteger</code>:</p>\n\n<ul>\n<li><p>As an atomic counter (<code>incrementAndGet()</code>, etc) that can be used by many threads concurrently</p></li>\n<li><p>As a primitive that supports <a href=\"http://en.wikipedia.org/wiki/Compare-and-swap\">compare-and-swap</a> instruction (<code>compareAndSet()</code>) to implement non-blocking algorithms. </p>\n\n<p>Here is an example of non-blocking random number generator from <a href=\"http://rads.stackoverflow.com/amzn/click/0321349601\">Brian G\u00f6etz's Java Concurrency In Practice</a>:</p>\n\n<pre><code>public class AtomicPseudoRandom extends PseudoRandom {\n    private AtomicInteger seed;\n    AtomicPseudoRandom(int seed) {\n        this.seed = new AtomicInteger(seed);\n    }\n\n    public int nextInt(int n) {\n        while (true) {\n            int s = seed.get();\n            int nextSeed = calculateNext(s);\n            if (seed.compareAndSet(s, nextSeed)) {\n                int remainder = s % n;\n                return remainder &gt; 0 ? remainder : remainder + n;\n            }\n        }\n    }\n    ...\n}\n</code></pre>\n\n<p>As you can see, it basically works almost the same way as <code>incrementAndGet()</code>, but performs arbitrary calculation (<code>calculateNext()</code>) instead of increment (and processes the result before return).</p></li>\n</ul>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/4818753#4818753", "question_id": 4818699, "answer_id": 4818753}, {"body": "<p>The key is that they allow concurrent access and modification safely. They're commonly used as counters in a multithreaded environment - before their introduction this had to be a user written class that wrapped up the various methods in synchronized blocks.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/4818772#4818772", "question_id": 4818699, "answer_id": 4818772}, {"body": "<p>The absolute simplest example I can think of is to make incrementing an atomic operation.</p>\n\n<p>With standard ints:</p>\n\n<pre><code>private volatile int counter;\n\npublic int getNextUniqueIndex() {\n    return counter++; // Not atomic, multiple threads could get the same result\n}\n</code></pre>\n\n<p>With AtomicInteger:</p>\n\n<pre><code>private AtomicInteger counter;\n\npublic int getNextUniqueIndex() {\n    return counter.getAndIncrement();\n}\n</code></pre>\n\n<p>The latter is a very simple way to perform simple mutations effects (especially counting, or unique-indexing), without having to resort to synchronizing all access.</p>\n\n<p>More complex synchronization-free logic can be employed by using <code>compareAndSet()</code> as a type of optimistic locking - get the current value, compute result based on this, set this result <em>iff</em> value is still the input used to do the calculation, else start again - but the counting examples are very useful, and I'll often use <code>AtomicIntegers</code> for counting and VM-wide unique generators if there's any hint of multiple threads being involved, because they're so easy to work with I'd almost consider it premature optimisation to use plain <code>ints</code>.</p>\n\n<p>While you can almost always achieve the same synchronization guarantees with <code>ints</code> and appropriate <code>synchronized</code> declarations, the beauty of <code>AtomicInteger</code> is that the thread-safety is built into the actual object itself, rather than you needing to worry about the possible interleavings, and monitors held, of every method that happens to access the <code>int</code> value.  It's much harder to accidentally violate threadsafety when calling <code>getAndIncrement()</code> than when returning <code>i++</code> and remembering (or not) to acquire the correct set of monitors beforehand.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/4818783#4818783", "question_id": 4818699, "answer_id": 4818783}, {"body": "<p>For example, I have a library that generates instances of some class. Each of these instances must have a unique integer ID, as these instances represent commands being sent to a server, and each command must have a unique ID. Since multiple threads are allowed to send commands concurrently, I use an AtomicInteger to generate those IDs. An alternative approach would be to use some sort of lock and a regular integer, but that's both slower and less elegant.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/4818802#4818802", "question_id": 4818699, "answer_id": 4818802}, {"body": "<p>The primary use of <code>AtomicInteger</code> is when you are in a multithreaded context and you need to perform thread safe operations on an integer without using <code>synchronized</code>. The assignation and retrieval on the primitive type <code>int</code> are already atomic but <code>AtomicInteger</code> comes with many operations which are not atomic on <code>int</code>.</p>\n\n<p>The simplest are the <code>getAndXXX</code> or <code>xXXAndGet</code>. For instance <code>getAndIncrement()</code> is an atomic equivalent to <code>i++</code> which is not atomic because it is actually a short cut for three operations: retrieval, addition and assignation. <code>compareAndSet</code> is very useful to implements semaphores, locks, latches, etc.</p>\n\n<p>Using the <code>AtomicInteger</code> is faster and more readable than performing the same using synchronization.</p>\n\n<p>A simple test:</p>\n\n<pre><code>public synchronized int incrementNotAtomic() {\n    return notAtomic++;\n}\n\npublic void performTestNotAtomic() {\n    final long start = System.currentTimeMillis();\n    for (int i = 0 ; i &lt; NUM ; i++) {\n        incrementNotAtomic();\n    }\n    System.out.println(\"Not atomic: \"+(System.currentTimeMillis() - start));\n}\n\npublic void performTestAtomic() {\n    final long start = System.currentTimeMillis();\n    for (int i = 0 ; i &lt; NUM ; i++) {\n        atomic.getAndIncrement();\n    }\n    System.out.println(\"Atomic: \"+(System.currentTimeMillis() - start));\n}\n</code></pre>\n\n<p>On my PC with Java 1.6 the atomic test runs in 3 seconds while the synchronized one runs in about 5.5 seconds. The problem here is that the operation to synchronize (<code>notAtomic++</code>) is really short. So the cost of the synchronization is really important compared to the operation.</p>\n\n<p>Beside atomicity AtomicInteger can be use as a mutable version of <code>Integer</code> for instance in <code>Map</code>s as values.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/4818916#4818916", "question_id": 4818699, "answer_id": 4818916}, {"body": "<p>If you look at the methods AtomicInteger has, you'll notice that they tend to correspond to common operations on ints.  For instance:</p>\n\n<pre><code>static AtomicInteger i;\n\n// Later, in a thread\nint current = i.incrementAndGet();\n</code></pre>\n\n<p>is the thread-safe version of this:</p>\n\n<pre><code>static int i;\n\n// Later, in a thread\nint current = ++i;\n</code></pre>\n\n<p>The methods map like this:<br>\n<code>++i</code> is <code>i.incrementAndGet()</code><br>\n<code>i++</code> is <code>i.getAndIncrement()</code><br>\n<code>--i</code> is <code>i.decrementAndGet()</code><br>\n<code>i--</code> is <code>i.getAndDecrement()</code><br>\n<code>i = x</code> is <code>i.set(x)</code><br>\n<code>x = i</code> is <code>x = i.get()</code>  </p>\n\n<p>There are other convenience methods as well, like <code>compareAndSet</code> or <code>addAndGet</code></p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/4819109#4819109", "question_id": 4818699, "answer_id": 4819109}, {"body": "<p>Like gabuzo said, sometimes I use AtomicIntegers when I want to pass an int by reference.  It's a built-in class that has architecture-specific code, so it's easier and likely more optimized than any MutableInteger I could quickly code up.  That said, it feels like an abuse of the class.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/8396197#8396197", "question_id": 4818699, "answer_id": 8396197}, {"body": "<p>You can implement non-blocking locks using compareAndSwap (CAS) on atomic integers or longs. The <a href=\"http://labs.oracle.com/scalable/pubs/DISC2006.pdf\" rel=\"nofollow\">\"Tl2\" Software Transactional Memory</a> paper describes this:</p>\n\n<blockquote>\n  <p>We associate a special versioned write-lock with every transacted\n  memory location. In its simplest form, the versioned write-lock is a\n  single word spinlock that uses a CAS operation to acquire the lock and\n  a store to release it. Since one only needs a single bit to indicate\n  that the lock is taken, we use the rest of the lock word to hold a\n  version number.</p>\n</blockquote>\n\n<p>What it is describing is first read the atomic integer. Split this up into an ignored lock-bit and the version number. Attempt to CAS write it as the lock-bit cleared with the current version number to the lock-bit set and the next version number. Loop until you succeed and your are the thread which owns the lock. Unlock by setting the current version number with the lock-bit cleared.\u00a0The paper describes using the version numbers in the locks to coordinate that threads have a consistent set of reads when they write.</p>\n\n<p><a href=\"http://www.e-zest.net/blog/writing-thread-safe-programs-using-atomic-variables/\" rel=\"nofollow\">This article</a> describes that processors have hardware support for compare and swap operations making the very efficient.\u00a0It also claims:</p>\n\n<blockquote>\n  <p>non-blocking CAS-based counters using atomic variables have better\n  performance than lock-based counters in low to moderate contention</p>\n</blockquote>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/12466533#12466533", "question_id": 4818699, "answer_id": 12466533}, {"body": "<p>I usually use AtomicInteger when I need to give Ids to objects that can be accesed or created from multiple threads, and i usually use it as an static attribute on the class that i access in the constructor of the objects.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/15645288#15645288", "question_id": 4818699, "answer_id": 15645288}, {"body": "<p>In Java 8 atomic classes have been extended with two interesting functions:</p>\n\n<ul>\n<li>int getAndUpdate(IntUnaryOperator updateFunction)</li>\n<li>int updateAndGet(IntUnaryOperator updateFunction)</li>\n</ul>\n\n<p>Both are using the updateFunction to perform update of the atomic value. The difference is that the first one returns old value and the second one return the new value. The updateFunction may be implemented to do more complex \"compare and set\" operations than the standard one. For example it can check that atomic counter doesn't go below zero, normally it would require synchronization, and here the code is lock-free:</p>\n\n<pre><code>    public class Counter {\n\n      private final AtomicInteger number;\n\n      public Counter(int number) {\n        this.number = new AtomicInteger(number);\n      }\n\n      /** @return true if still can decrease */\n      public boolean dec() {\n        // updateAndGet(fn) executed atomically:\n        return number.updateAndGet(n -&gt; (n &gt; 0) ? n - 1 : n) &gt; 0;\n      }\n    }\n</code></pre>\n\n<p>The code is taken from <a href=\"http://farenda.com/java/java-atomic-example/\" rel=\"nofollow\">Java Atomic Example</a>.</p>\n", "title": "Practical uses for AtomicInteger", "tags": ["java", "concurrency", "atomic"], "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger/34062042#34062042", "question_id": 4818699, "answer_id": 34062042}], "creation_date": 1296144271, "score": 133, "link": "http://stackoverflow.com/questions/4818699/practical-uses-for-atomicinteger", "question_id": 4818699}, {"body": "<p>I want use logs in my program, and I heard about java.util.logging, but I dont know how to begin.</p>\n\n<p>Can show me examples what can I do with the logging?</p>\n", "tags": ["java", "logging", "java.util.logging"], "title": "Good examples using java.util.logging", "answers": [{"body": "<p>There are many examples and also of different types for logging. Take a look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/logging/package-summary.html\">java.util.logging</a> package.</p>\n\n<p>Example code:</p>\n\n<pre><code>import java.util.logging.Logger;\n\npublic class Main {\n\n  private static Logger LOGGER = Logger.getLogger(\"InfoLogging\");\n\n  public static void main(String[] args) {\n    LOGGER.info(\"Logging an INFO-level message\");\n  }\n}\n</code></pre>\n\n<p>Without hard-coding the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StackTraceElement.html#getClassName%28%29\">class name</a>:</p>\n\n<pre><code>import java.util.logging.Logger;\n\npublic class Main {\n  private static final Logger LOGGER = Logger.getLogger(\n    Thread.currentThread().getStackTrace()[0].getClassName() );\n\n  public static void main(String[] args) {\n    LOGGER.info(\"Logging an INFO-level message\");\n  }\n}\n</code></pre>\n", "title": "Good examples using java.util.logging", "tags": ["java", "logging", "java.util.logging"], "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging/5950605#5950605", "question_id": 5950557, "answer_id": 5950605}, {"body": "<p>I would suggest that you use Apache's commons logging utility. It is highly scalable and supports separate log files for different loggers. <a href=\"https://commons.apache.org/proper/commons-logging/guide.html#Configuration\" rel=\"nofollow\">See here</a>. </p>\n", "title": "Good examples using java.util.logging", "tags": ["java", "logging", "java.util.logging"], "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging/5950681#5950681", "question_id": 5950557, "answer_id": 5950681}, {"body": "<p>SLF4J is a better logging facade than Apache Commons Logging (ACL). It has bridges to other logging frameworks, making direct calls to ACL, Log4J, or Java Util Logging go through SLF4J, so that you can direct all output to one log file if you wish, with just one log configuration file. Why would your application use multiple logging frameworks? Because 3rd-party libraries you use, especially older ones, probably do.</p>\n\n<p>SLF4J supports various logging implementations. It can output everything to standard-out, use Log4J, or Logback (recommended over Log4J).</p>\n\n<p><a href=\"http://www.slf4j.org/\">http://www.slf4j.org/</a></p>\n\n<p><a href=\"http://logback.qos.ch/\">http://logback.qos.ch/</a></p>\n", "title": "Good examples using java.util.logging", "tags": ["java", "logging", "java.util.logging"], "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging/5950794#5950794", "question_id": 5950557, "answer_id": 5950794}, {"body": "<p>I'd use <a href=\"http://code.google.com/p/minlog/\">minlog</a>, personally. It's extremely simple, as the logging file is a few hundred lines of code.</p>\n", "title": "Good examples using java.util.logging", "tags": ["java", "logging", "java.util.logging"], "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging/5950890#5950890", "question_id": 5950557, "answer_id": 5950890}, {"body": "<p>Should declare logger like this:</p>\n\n<pre><code>private final static Logger LOGGER = Logger.getLogger(MyClass.class.getName());\n</code></pre>\n\n<p>so if you refactor your class name it follows.</p>\n\n<p>I wrote an article about java logger with <a href=\"http://hanoo.org/index.php?article=how-to-generate-logs-in-java\">examples here</a>.</p>\n", "title": "Good examples using java.util.logging", "tags": ["java", "logging", "java.util.logging"], "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging/13133568#13133568", "question_id": 5950557, "answer_id": 13133568}, {"body": "<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/logging/package-summary.html\"><code>java.util.logging</code></a> keeps you from having to tote one more jar file around with your application, and it works well with a good Formatter.  </p>\n\n<p>In general, <strong>at the top of every class</strong>, you should have:</p>\n\n<pre><code>private static final Logger LOGGER = Logger.getLogger( ClassName.class.getName() );\n</code></pre>\n\n<p>Then, you can just use various facilities of the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/logging/Logger.html\">Logger</a> class.</p>\n\n<hr>\n\n<p>Use <strong><code>Level.FINE</code></strong> for anything that is <strong>debugging</strong> at the top level of execution flow:</p>\n\n<pre><code>LOGGER.log( Level.FINE, \"processing {0} entries in loop\", list.size() );\n</code></pre>\n\n<hr>\n\n<p>Use <code>Level.FINER</code> / <code>Level.FINEST</code> inside of loops and in places where you may not always need to see that much detail when debugging basic flow issues:</p>\n\n<pre><code>LOGGER.log( Level.FINER, \"processing[{0}]: {1}\", new Object[]{ i, list.get(i) } );\n</code></pre>\n\n<p>Use the parameterized versions of the logging facilities to keep from generating tons of String concatenation garbage that GC will have to keep up with. <code>Object[]</code> as above is cheap, on the stack allocation usually.</p>\n\n<hr>\n\n<p>With exception handling, always log the complete exception details:</p>\n\n<pre><code>try {\n    ...something that can throw an ignorable exception\n} catch( Exception ex ) {\n    LOGGER.log( Level.SEVERE, ex.toString(), ex );\n}\n</code></pre>\n\n<p>I always pass <code>ex.toString()</code> as the message here, because then when I \"<code>grep -n</code>\" for \"<code>Exception</code>\" in log files, I can see the message too. Otherwise, it is going to be on the next line of output generated by the stack dump, and you have to have a more advanced RegEx to match that line too, which often gets you more output than you need to look through.</p>\n", "title": "Good examples using java.util.logging", "tags": ["java", "logging", "java.util.logging"], "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging/16448421#16448421", "question_id": 5950557, "answer_id": 16448421}], "creation_date": 1305033109, "score": 133, "link": "http://stackoverflow.com/questions/5950557/good-examples-using-java-util-logging", "question_id": 5950557}, {"body": "<p>How can we redirect the eclipse console output to a file? I can:</p>\n\n<ol>\n<li><code>Run Configuration</code>-><code>Commons</code>-><code>Select a file</code>.</li>\n<li>Use <code>System.setOut(PrintStream)</code> and <code>System.setErr(PrintStream)</code>.</li>\n</ol>\n\n<p>The problem with 1) is that I need to record console output to different files instead of one file. </p>\n\n<p>The problem with 2) is that it only stores console output generated by <code>System.out.println()</code> or stacktrace of an exception thrown. It does not capture other kind of outputs e.g. log4j warnings etc. </p>\n\n<p>How can we redirect console output to different files programmatically?</p>\n", "tags": ["java", "eclipse"], "title": "How can we redirect a Java program console output to multiple files?", "answers": [{"body": "<p>Go to run as and choose <code>Run Configurations</code> -> <code>Common</code> and in the Standard Input and Output you can choose a File also.</p>\n", "title": "How can we redirect a Java program console output to multiple files?", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/5714053/how-can-we-redirect-a-java-program-console-output-to-multiple-files/10187705#10187705", "question_id": 5714053, "answer_id": 10187705}, {"body": "<p>You can set the output of System.out programmatically by doing:</p>\n\n<pre><code>System.setOut(new PrintStream(new BufferedOutputStream(new FileOutputStream(\"/location/to/console.out\")), true));\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Due to the fact that this solution is based on a <code>PrintStream</code>, we can enable autoFlush, but according to the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#PrintStream%28java.io.OutputStream,%20boolean%29\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>autoFlush - A boolean; if true, the output buffer will be flushed\n  whenever a byte array is written, one of the println methods is\n  invoked, or a newline character or byte ('\\n') is written</p>\n</blockquote>\n\n<p>So if a new line isn't written, remember to <code>System.out.flush()</code> manually.</p>\n\n<p>(Thanks Robert Tupelo-Schneck)</p>\n", "title": "How can we redirect a Java program console output to multiple files?", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/5714053/how-can-we-redirect-a-java-program-console-output-to-multiple-files/27541724#27541724", "question_id": 5714053, "answer_id": 27541724}, {"body": "<p>You could use a \"variable\" inside the output filename, for example:</p>\n\n<pre><code>/tmp/FetchBlock-${current_date}.txt\n</code></pre>\n\n<p>current_date:</p>\n\n<blockquote>\n  <p>Returns the current system time formatted as yyyyMMdd_HHmm. An optional argument can be used to provide alternative formatting.  The argument must be valid pattern for java.util.SimpleDateFormat.</p>\n</blockquote>\n\n<p>Or you can also use a system_property or an env_var to specify something dynamic (either one needs to be specified as arguments)</p>\n", "title": "How can we redirect a Java program console output to multiple files?", "tags": ["java", "eclipse"], "link": "http://stackoverflow.com/questions/5714053/how-can-we-redirect-a-java-program-console-output-to-multiple-files/30013695#30013695", "question_id": 5714053, "answer_id": 30013695}], "creation_date": 1303204166, "score": 132, "link": "http://stackoverflow.com/questions/5714053/how-can-we-redirect-a-java-program-console-output-to-multiple-files", "question_id": 5714053}, {"body": "<p>A very simple &amp; quick question on Java libraries: is there a ready-made class that implements a <code>Queue</code> with a fixed maximum size - i.e. it always allows addition of elements, but it will silently remove head elements to accomodate space for newly added elements.</p>\n\n<p>Of course, it's trivial to implement it manually:</p>\n\n<pre><code>import java.util.LinkedList;\n\npublic class LimitedQueue&lt;E&gt; extends LinkedList&lt;E&gt; {\n    private int limit;\n\n    public LimitedQueue(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public boolean add(E o) {\n        super.add(o);\n        while (size() &gt; limit) { super.remove(); }\n        return true;\n    }\n}\n</code></pre>\n\n<p>As far as I see, there's no standard implementation in Java stdlibs, but may be there's one in Apache Commons or something like that?</p>\n", "tags": ["collections", "queue", "java"], "title": "Size-limited queue that holds last N elements in Java", "answers": [{"body": "<p>The only thing I know that has limited space is the BlockingQueue interface (which is e.g. implemented by the ArrayBlockingQueue class) - but they do not remove the first element if filled, but instead block the put operation until space is free (removed by other thread).</p>\n\n<p>To my knowledge your trivial implementation is the easiest way to get such an behaviour.</p>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/5637404#5637404", "question_id": 5498865, "answer_id": 5637404}, {"body": "<p>Use composition not extends (yes I mean extends, as in a reference to the extends keyword in java and yes this is inheritance).  Composition is superier because it completely shields your implementation, allowing you to change the implementation without impacting the users of your class.</p>\n\n<p>I recommend trying something like this (I'm typing directly into this window, so buyer beware of syntax errors):</p>\n\n<pre><code>public LimitedSizeQueue implements Queue\n{\n  private int maxSize;\n  private LinkedList storageArea;\n\n  public LimitedSizeQueue(final int maxSize)\n  {\n    this.maxSize = maxSize;\n    storageArea = new LinkedList();\n  }\n\n  public boolean offer(ElementType element)\n  {\n    if (storageArea.size() &lt; maxSize)\n    {\n      storageArea.addFirst(element);\n    }\n    else\n    {\n      ... remove last element;\n      storageArea.addFirst(element);\n    }\n  }\n\n  ... the rest of this class\n</code></pre>\n\n<p>A better option (based on the answer by Asaf) might be to wrap the <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/buffer/CircularFifoBuffer.html\" rel=\"nofollow\">Apache Collections CircularFifoBuffer</a> with a generic class.  For example:</p>\n\n<pre><code>public LimitedSizeQueue&lt;ElementType&gt; implements Queue&lt;ElementType&gt;\n{\n    private int maxSize;\n    private CircularFifoBuffer storageArea;\n\n    public LimitedSizeQueue(final int maxSize)\n    {\n        if (maxSize &gt; 0)\n        {\n            this.maxSize = maxSize;\n            storateArea = new CircularFifoBuffer(maxSize);\n        }\n        else\n        {\n            throw new IllegalArgumentException(\"blah blah blah\");\n        }\n    }\n\n    ... implement the Queue interface using the CircularFifoBuffer class\n}</code></pre>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/5637726#5637726", "question_id": 5498865, "answer_id": 5637726}, {"body": "<p>You can use a <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/MinMaxPriorityQueue.html\" rel=\"nofollow\">MinMaxPriorityQueue</a> from <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Google Guava</a>, from the javadoc:</p>\n\n<blockquote>\n  <p>A min-max priority queue can be configured with a maximum size. If so, each time the size of the queue exceeds that value, the queue automatically removes its greatest element according to its comparator (which might be the element that was just added). This is different from conventional bounded queues, which either block or reject new elements when full.</p>\n</blockquote>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/5637820#5637820", "question_id": 5498865, "answer_id": 5637820}, {"body": "<p>Apache commons collections 4 has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html\">CircularFifoQueue&lt;></a> which is what you are looking for. Quoting the javadoc:</p>\n\n<blockquote>\n  <p>CircularFifoQueue is a first-in first-out queue with a fixed size that replaces its oldest element if full.</p>\n</blockquote>\n\n<pre><code>    import java.util.Queue;\n    import org.apache.commons.collections4.queue.CircularFifoQueue;\n\n    Queue&lt;Integer&gt; fifo = new CircularFifoQueue&lt;Integer&gt;(2);\n    fifo.add(1);\n    fifo.add(2);\n    fifo.add(3);\n    System.out.println(fifo);\n\n    // Observe the result: \n    // [2, 3]\n</code></pre>\n\n<p>If you are using an older version of the Apache commons collections (3.x), you can use the <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/buffer/CircularFifoBuffer.html\">CircularFifoBuffer</a> which is basically the same thing without generics.</p>\n\n<p><em>Update</em>: updated answer following release of commons collections version 4 that supports generics.</p>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/5638128#5638128", "question_id": 5498865, "answer_id": 5638128}, {"body": "<p>An LRUMap is another possibility, also from Apache Commons.</p>\n\n<p><a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/map/LRUMap.html\" rel=\"nofollow\">http://commons.apache.org/collections/apidocs/org/apache/commons/collections/map/LRUMap.html</a></p>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/7144784#7144784", "question_id": 5498865, "answer_id": 7144784}, {"body": "<p>I like @FractalizeR solution. But I would in addition keep and return the value from super.add(o)!</p>\n\n<pre><code>public class LimitedQueue&lt;E&gt; extends LinkedList&lt;E&gt; {\n\n    private int limit;\n\n    public LimitedQueue(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public boolean add(E o) {\n        boolean added = super.add(o);\n        while (added &amp;&amp; size() &gt; limit) {\n           super.remove();\n        }\n        return added;\n    }\n}\n</code></pre>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/14322473#14322473", "question_id": 5498865, "answer_id": 14322473}, {"body": "<p>Guava now has an <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/EvictingQueue.html\">EvictingQueue</a>, <em>a non-blocking queue which automatically evicts elements from the head of the queue when attempting to add new elements onto the queue and it is full.</em></p>\n\n<pre><code>import java.util.Queue;\nimport com.google.common.collect.EvictingQueue;\n\nQueue&lt;Integer&gt; fifo = EvictingQueue.create(2); \nfifo.add(1); \nfifo.add(2); \nfifo.add(3); \nSystem.out.println(fifo); \n\n// Observe the result: \n// [2, 3]\n</code></pre>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/15156403#15156403", "question_id": 5498865, "answer_id": 15156403}, {"body": "<pre><code>    public class ArrayLimitedQueue&lt;E&gt; extends ArrayDeque&lt;E&gt; {\n\n    private int limit;\n\n    public ArrayLimitedQueue(int limit) {\n        super(limit + 1);\n        this.limit = limit;\n    }\n\n    @Override\n    public boolean add(E o) {\n        boolean added = super.add(o);\n        while (added &amp;&amp; size() &gt; limit) {\n            super.remove();\n        }\n        return added;\n    }\n\n    @Override\n    public void addLast(E e) {\n        super.addLast(e);\n        while (size() &gt; limit) {\n            super.removeLast();\n        }\n    }\n\n    @Override\n    public boolean offerLast(E e) {\n        boolean added = super.offerLast(e);\n        while (added &amp;&amp; size() &gt; limit) {\n            super.pollLast();\n        }\n        return added;\n    }\n}\n</code></pre>\n", "title": "Size-limited queue that holds last N elements in Java", "tags": ["collections", "queue", "java"], "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java/18290704#18290704", "question_id": 5498865, "answer_id": 18290704}], "creation_date": 1301569748, "score": 131, "link": "http://stackoverflow.com/questions/5498865/size-limited-queue-that-holds-last-n-elements-in-java", "question_id": 5498865}, {"body": "<p>Example: I have a number and I want to print it in binary. I dont want to do it by writing an algorithm, rather I want to use a built-in function.</p>\n", "tags": ["java"], "title": "Print an integer in binary format in Java", "answers": [{"body": "<p>Assuming you mean \"built-in\":</p>\n\n<pre><code>int x = 100;\nSystem.out.println(Integer.toBinaryString(x));\n</code></pre>\n\n<p>(<code>Long</code> has a similar method, <code>BigInteger</code> has an instance method where you can specify the radix.)</p>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/5263199#5263199", "question_id": 5263187, "answer_id": 5263199}, {"body": "<p><code>System.out.println(Integer.toBinaryString(343));</code></p>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/5263201#5263201", "question_id": 5263187, "answer_id": 5263201}, {"body": "<p>Look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html\">the API documentation of the Integer class</a>. Using the API doc is one of the first things you need to learn as a Java programmer, it will help you get along much faster than asking people...</p>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/5263208#5263208", "question_id": 5263187, "answer_id": 5263208}, {"body": "<p>Here no need to depend only on binary or any other format... one flexible built in function is available That prints whichever format you want in your program.. Integer.toString(int,representation);</p>\n\n<pre><code>Integer.toString(100,8) // prints 144 --octal representation\n\nInteger.toString(100,2) // prints 1100100 --binary representation\n\nInteger.toString(100,16) //prints 64 --Hex representation\n</code></pre>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/21560633#21560633", "question_id": 5263187, "answer_id": 21560633}, {"body": "<p>Old school:</p>\n\n<pre><code>    int value = 28;\n    for(int i = 1, j = 0; i &lt; 256; i = i &lt;&lt; 1, j++)\n        System.out.println(j + \" \" + ((value &amp; i) &gt; 0 ? 1 : 0));\n</code></pre>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/26914816#26914816", "question_id": 5263187, "answer_id": 26914816}, {"body": "<p>check out this logic can convert a number to any base</p>\n\n<pre><code>public static void toBase(int number, int base) {\n    String binary = \"\";\n    int temp = number/2+1;\n    for (int j = 0; j &lt; temp ; j++) {\n        try {\n            binary += \"\" + number % base;\n\n            number /= base;\n        } catch (Exception e) {\n        }\n    }\n    for (int j = binary.length() - 1; j &gt;= 0; j--) {\n        System.out.print(binary.charAt(j));\n    }\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>StringBuilder binary = new StringBuilder();\nint n=15;\nwhile (n&gt;0) {\n    if((n&amp;1)==1){\n        binary.append(1);\n    }else\n        binary.append(0);\n    n&gt;&gt;=1;\n}\nSystem.out.println(binary.reverse());\n</code></pre>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/27266610#27266610", "question_id": 5263187, "answer_id": 27266610}, {"body": "<p>I needed something to print things out nicely and separate the bits every n-bit. In other words display the leading zeros and show something like this:</p>\n\n<pre><code>n = 5463\noutput = 0000 0000 0000 0000 0001 0101 0101 0111\n</code></pre>\n\n<p>So here's what I wrote:</p>\n\n<pre><code>/**\n * Converts an integer to a 32-bit binary string\n * @param number\n *      The number to convert\n * @param groupSize\n *      The number of bits in a group\n * @return\n *      The 32-bit long bit string\n */\npublic static String intToString(int number, int groupSize) {\n    StringBuilder result = new StringBuilder();\n\n    for(int i = 31; i &gt;= 0 ; i--) {\n        int mask = 1 &lt;&lt; i;\n        result.append((number &amp; mask) != 0 ? \"1\" : \"0\");\n\n        if (i % groupSize == 0)\n            result.append(\" \");\n    }\n    result.replace(result.length() - 1, result.length(), \"\");\n\n    return result.toString();\n}\n</code></pre>\n\n<p>Invoke it like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(intToString(5463, 4));\n}\n</code></pre>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/31639411#31639411", "question_id": 5263187, "answer_id": 31639411}, {"body": "<p>The question is tricky in java (and probably also in other language).</p>\n\n<p>A Integer is a 32-bit <strong>signed</strong> data type, but Integer.toBinaryString() returns a string representation of the integer argument as an <strong>unsigned</strong> integer in base 2.</p>\n\n<p>So, Integer.parseInt(Integer.toBinaryString(X),2) can generate an exception (signed vs. unsigned).</p>\n\n<p>The safe way is to use Integer.toString(X,2); this will generate something less elegant:</p>\n\n<p>-11110100110</p>\n\n<p>But it works!!!</p>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/37174994#37174994", "question_id": 5263187, "answer_id": 37174994}, {"body": "<p>It works with signed and unsigned values used powerful bit manipulation and generates the first zeroes on the left.</p>\n\n<pre><code>public static String representDigits(int num) {\n\n        int checkBit = 1 &lt;&lt; (Integer.SIZE * 8 - 2 );    // avoid the first digit        \n        StringBuffer sb = new StringBuffer();\n\n        if (num &lt; 0 ) {     // checking the first digit\n            sb.append(\"1\");\n        } else {\n            sb.append(\"0\");\n        }\n\n        while(checkBit != 0) {          \n            if ((num &amp; checkBit) == checkBit){\n                sb.append(\"1\");\n            } else {\n                sb.append(\"0\");\n            }           \n            checkBit &gt;&gt;= 1;     \n        }       \n\n        return sb.toString();\n    }\n</code></pre>\n", "title": "Print an integer in binary format in Java", "tags": ["java"], "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java/39056535#39056535", "question_id": 5263187, "answer_id": 39056535}], "creation_date": 1299776942, "score": 130, "link": "http://stackoverflow.com/questions/5263187/print-an-integer-in-binary-format-in-java", "question_id": 5263187}, {"body": "<p>I'm curious to know, what people here think about using \n<code>org.apache.commons.lang.builder</code> <code>EqualsBuilder</code>/<code>HashCodeBuilder</code>\nfor implementing the <code>equals</code>/<code>hashCode</code>? Would it be a better practice than writing your own? Does it play well with Hibernate? What's your opinion?</p>\n", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "title": "Apache Commons equals/hashCode builder", "answers": [{"body": "<p>If you don't to write your own, there is also the possibility to use <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html\" rel=\"nofollow\">google guava (formerly google collections)</a></p>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/5038916#5038916", "question_id": 5038204, "answer_id": 5038916}, {"body": "<p>The EqualsBuilder and HashCodeBuilder have two main aspects that are different from manually written code:</p>\n\n<ul>\n<li>null handling</li>\n<li>instance creation</li>\n</ul>\n\n<p>The EqualsBuilder and HashCodeBuilder make it easier to compare fields that could be null. With manually writen code this creates a lot of boilerplate.</p>\n\n<p>The EqualsBuilder will on the other hand create an instance per equals method call. If your equals methods are call often this will create a lot of instances.</p>\n\n<p>For Hibernate the equals and hashCode implementation make no difference. They are just an implementation detail. <strong>For almost all domain objects loaded with hibernate the runtime overhead  (even without escape analysis) of the Builder can be ignored</strong>. Database and communication overhead will be significant.</p>\n\n<p>As skaffman mentioned the reflection version cannot be used in production code. Reflection will be to slow and the \"implementation\" will not be correct for all but the simplest classes. Taking all members into account is also dangerous as newly introduced members change the equals method behaviour. The reflection version can be useful in test code.</p>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/5038961#5038961", "question_id": 5038204, "answer_id": 5038961}, {"body": "<p>The commons/lang builders are great and I have been using them for years without noticeable performance overhead (with and without hibernate). But as Alain writes, the Guava way is even nicer:</p>\n\n<p>Here's a sample Bean:</p>\n\n<pre><code>public class Bean{\n\n    private String name;\n    private int length;\n    private List&lt;Bean&gt; children;\n\n}\n</code></pre>\n\n<p>Here's equals() and hashCode() implemented with Commons/Lang:</p>\n\n<pre><code>@Override\npublic int hashCode(){\n    return new HashCodeBuilder()\n        .append(name)\n        .append(length)\n        .append(children)\n        .toHashCode();\n}\n\n@Override\npublic boolean equals(final Object obj){\n    if(obj instanceof Bean){\n        final Bean other = (Bean) obj;\n        return new EqualsBuilder()\n            .append(name, other.name)\n            .append(length, other.length)\n            .append(children, other.children)\n            .isEquals();\n    } else{\n        return false;\n    }\n}\n</code></pre>\n\n<p>and here with Guava:</p>\n\n<pre><code>@Override\npublic int hashCode(){\n    return Objects.hashCode(name, length, children);\n}\n\n@Override\npublic boolean equals(final Object obj){\n    if(obj instanceof Bean){\n        final Bean other = (Bean) obj;\n        return Objects.equal(name, other.name)\n            &amp;&amp; length == other.length // special handling for primitives\n            &amp;&amp; Objects.equal(children, other.children);\n    } else{\n        return false;\n    }\n}\n</code></pre>\n\n<p>As you can see the Guava version is shorter and avoids superfluous helper objects. In case of equals, it even allows for short-circuiting the evaluation if an earlier <code>Object.equal()</code> call returns false (to be fair: commons / lang has an <code>ObjectUtils.equals(obj1, obj2)</code> method with identical semantics which could be used instead of <code>EqualsBuilder</code> to allow short-circuiting as above).</p>\n\n<p>So: yes, the commons lang builders are very preferable over manually constructed <code>equals()</code> and <code>hashCode()</code> methods (or those awful monsters Eclipse will generate for you), but the Guava versions are even better.</p>\n\n<p>And a note about Hibernate:</p>\n\n<p>be careful about using lazy collections in your equals(), hashCode() and toString() implementations. That will fail miserably if you don't have an open Session.</p>\n\n<hr>\n\n<p>Note (about equals()):</p>\n\n<p>a) in both versions of equals() above, you might want to use one or both of these shortcuts also:</p>\n\n<pre><code>@Override\npublic boolean equals(final Object obj){\n    if(obj == this) return true;  // test for reference equality\n    if(obj == null) return false; // test for null\n    // continue as above\n</code></pre>\n\n<p>b) depending on your interpretation of the equals() contract, you might also change the line(s)</p>\n\n<pre><code>    if(obj instanceof Bean){\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    // make sure you run a null check before this\n    if(obj.getClass() == getClass()){ \n</code></pre>\n\n<p>If you use the second version, you probably also want to call <code>super(equals())</code> inside your <code>equals()</code> method. Opinions differ here, the topic is discussed in this question: </p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/q/8248970/342852\">right way to incorporate superclass into a Guava Objects.hashcode() implementation?</a></p>\n</blockquote>\n\n<p>(although it's about <code>hashCode()</code>, the same applies to <code>equals()</code>)</p>\n\n<hr>\n\n<p><strong>Note (inspired by Comment from <a href=\"http://stackoverflow.com/users/274473/kayahr\">kayahr</a>)</strong></p>\n\n<p><code>Objects.hashCode(..)</code> (just as the underlying <code>Arrays.hashCode(...)</code>) might perform badly if you have many primitive fields. In such cases, <code>EqualsBuilder</code> may actually be the better solution.</p>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/5039178#5039178", "question_id": 5038204, "answer_id": 5039178}, {"body": "<p>If you do not want to depend on a 3rd party library (maybe you are running an a device with limited resources) and you even do not want to type your own methods, you can also let the IDE do the job, e.g. in eclipse use</p>\n\n<pre><code>Source -&gt; Generate hashCode() and equals()...\n</code></pre>\n\n<p>You will get 'native' code which you <em>can</em> configure as you like and which you <em>have to</em> support on changes.</p>\n\n<hr>\n\n<p>Example (eclipse Juno):</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class FooBar {\n\n    public String string;\n    public List&lt;String&gt; stringList;\n    public String[] stringArray;\n\n    /* (non-Javadoc)\n     * @see java.lang.Object#hashCode()\n     */\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((string == null) ? 0 : string.hashCode());\n        result = prime * result + Arrays.hashCode(stringArray);\n        result = prime * result\n                + ((stringList == null) ? 0 : stringList.hashCode());\n        return result;\n    }\n    /* (non-Javadoc)\n     * @see java.lang.Object#equals(java.lang.Object)\n     */\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        FooBar other = (FooBar) obj;\n        if (string == null) {\n            if (other.string != null)\n                return false;\n        } else if (!string.equals(other.string))\n            return false;\n        if (!Arrays.equals(stringArray, other.stringArray))\n            return false;\n        if (stringList == null) {\n            if (other.stringList != null)\n                return false;\n        } else if (!stringList.equals(other.stringList))\n            return false;\n        return true;\n    }\n\n}\n</code></pre>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/5040414#5040414", "question_id": 5038204, "answer_id": 5040414}, {"body": "<p>If you are just dealing with the entity bean where id is a primary key, you can simplify.</p>\n\n<pre><code>   @Override\n   public boolean equals(Object other)\n   {\n      if (this == other) { return true; }\n      if ((other == null) || (other.getClass() != this.getClass())) { return false; }\n\n      EntityBean castOther = (EntityBean) other;\n      return new EqualsBuilder().append(this.getId(), castOther.getId()).isEquals();\n   }\n</code></pre>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/21292200#21292200", "question_id": 5038204, "answer_id": 21292200}, {"body": "<p>In my opinion it doesn't play well with Hibernate, especially the examples from the answer comparing length, name and children for some entity. Hibernate advises <a href=\"http://docs.jboss.org/hibernate/stable/core.old/reference/en/html/persistent-classes-equalshashcode.html\" rel=\"nofollow\">to use business key</a> to be used in equals() and hashCode(), and they have their reasons. If you use auto equals() and hashCode() generator on your business key, it's ok, just the performance problems need to be considered as mentioned previously. But people usually uses all properties what is IMO very wrong. For example I'm currently working on project where entities are written using Pojomatic with @AutoProperty, what I consider a really bad pattern.</p>\n\n<p>Their two main scenarios to use hashCode() and equals() are:</p>\n\n<ul>\n<li>when you put instances of persistent classes in a Set (the\nrecommended way to represent many-valued associations) and </li>\n<li>when you use reattachment of detached instances</li>\n</ul>\n\n<p>So let's assume our entity looks like this:</p>\n\n<pre><code>class Entity {\n  protected Long id;\n  protected String someProp;\n  public Entity(Long id, String someProp);\n}\n\nEntity entity1 = new Entity(1, \"a\");\nEntity entity2 = new Entity(1, \"b\");\n</code></pre>\n\n<p>Both are the same entity for Hibernate, which have been fetched from some session at some point (their id and class/table are equal). But when we implement auto equals() a hashCode() on all props, what do we have?</p>\n\n<ol>\n<li>When you put the entity2 to the persistent set where the entity1 already exists, this will be put twice and will result in exception during commit.</li>\n<li>If you want to attach the detached entity2 to the session, where entity1 already exists they (probably, I haven't tested this especially) won't be merged properly.</li>\n</ol>\n\n<p>So, for 99% project I make, we use the following implementation of equals() and hashCode() written once in base entity class, which is consistent with the Hibernate concepts:</p>\n\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    if (StringUtils.isEmpty(id))\n        return super.equals(obj);\n\n    return getClass().isInstance(obj) &amp;&amp; id.equals(((IDomain) obj).getId());\n}\n\n@Override\npublic int hashCode() {\n    return StringUtils.isEmpty(id)\n        ? super.hashCode()\n        : String.format(\"%s/%s\", getClass().getSimpleName(), getId()).hashCode();\n}\n</code></pre>\n\n<p>For the transient entity I do the same what Hibernate will do on persistence step, ie. I use the instance match. For the persistent objects I compare the unique key, which is the table/id (I never use composite keys).</p>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/23803947#23803947", "question_id": 5038204, "answer_id": 23803947}, {"body": "<p>Just in case, others will find it useful, I've come up with this Helper class for hash code computation that avoids extra object creation overhead mentioned above (in fact, the overhead of Objects.hash() method is even bigger when you have inheritance as it will create an new array on each level!).</p>\n\n<p>Usage example:</p>\n\n<pre><code>public int hashCode() {\n    return HashCode.hash(HashCode.hash(timestampMillis), name, dateOfBirth); // timestampMillis is long\n}\n\npublic int hashCode() {\n    return HashCode.hash(super.hashCode(), occupation, children);\n}\n</code></pre>\n\n<p>The HashCode helper:</p>\n\n<pre><code>public class HashCode {\n\n    public static int hash(Object o1, Object o2) {\n        return add(Objects.hashCode(o1), o2);\n    }\n\n    public static int hash(Object o1, Object o2, Object o3) {\n        return hash(Objects.hashCode(o1), o2, o3);\n    }\n\n    ...\n\n    public static int hash(Object o1, Object o2, ..., Object o10) {\n        return hash(Objects.hashCode(o1), o2, o3, ..., o10);\n    }\n\n    public static int hash(int initial, Object o1, Object o2) {\n        return add(add(initial, o1), o2);\n    }\n\n    ...\n\n    public static int hash(int initial, Object o1, Object o2, ... Object o10) {\n        return add(... add(add(add(initial, o1), o2), o3) ..., o10);\n    }\n\n    public static int hash(long value) {\n        return (int) (value ^ (value &gt;&gt;&gt; 32));\n    }\n\n    public static int hash(int initial, long value) {\n        return add(initial, hash(value));\n    }\n\n    private static int add(int accumulator, Object o) {\n        return 31 * accumulator + Objects.hashCode(o);\n    }\n}\n</code></pre>\n\n<p>I've figured that 10 is the maximum reasonable number of properties in a domain model, if you have more you should think of refactoring and introducing more class instead of maintaining a heap of Strings and primitives. </p>\n\n<p>The drawbacks are: it's not useful if you have mainly primitives and/or arrays that you need to hash deeply. (Normally this is the case when you have to deal with flat (transfer) objects that is out of your control).</p>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/27597450#27597450", "question_id": 5038204, "answer_id": 27597450}, {"body": "<p>Folks, wake up! <strong>Since Java 7</strong> there are helper methods for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#equals-java.lang.Object-java.lang.Object-\">equals</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#hash-java.lang.Object...-\">hashCode</a> in the standard library. Their usage is fully equivalent to usage of Guava methods.</p>\n", "title": "Apache Commons equals/hashCode builder", "tags": ["java", "hibernate", "equals", "apache-commons", "hashcode"], "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder/36397183#36397183", "question_id": 5038204, "answer_id": 36397183}], "creation_date": 1298009415, "score": 130, "link": "http://stackoverflow.com/questions/5038204/apache-commons-equals-hashcode-builder", "question_id": 5038204}, {"body": "<p>I want to do something like this in Java but I don't know the way:</p>\n\n<p>When event \"object 1 say 'hello'\" happens,\nthen object 2 responds to that event by saying \"hello\".</p>\n\n<p>Can somebody give me a hint or sample code?</p>\n", "tags": ["java", "events", "listener", "handler"], "title": "Create a custom event in Java", "answers": [{"body": "<p>You probably want to look into the <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\">observer pattern</a>.</p>\n\n<p>Here's some sample code to get you started:</p>\n\n<pre><code>import java.util.*;\n\n// An interface to be implemented by everyone interested in \"Hello\" events\ninterface HelloListener {\n    void someoneSaidHello();\n}\n\n// Someone who says \"Hello\"\nclass Initiater {\n    private List&lt;HelloListener&gt; listeners = new ArrayList&lt;HelloListener&gt;();\n\n    public void addListener(HelloListener toAdd) {\n        listeners.add(toAdd);\n    }\n\n    public void sayHello() {\n        System.out.println(\"Hello!!\");\n\n        // Notify everybody that may be interested.\n        for (HelloListener hl : listeners)\n            hl.someoneSaidHello();\n    }\n}\n\n// Someone interested in \"Hello\" events\nclass Responder implements HelloListener {\n    @Override\n    public void someoneSaidHello() {\n        System.out.println(\"Hello there...\");\n    }\n}\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>class Test {\n    public static void main(String[] args) {\n        Initiater initiater = new Initiater();\n        Responder responder = new Responder();\n\n        initiater.addListener(responder);\n\n        initiater.sayHello();  // Prints \"Hello!!!\" and \"Hello there...\"\n    }\n}\n</code></pre>\n", "title": "Create a custom event in Java", "tags": ["java", "events", "listener", "handler"], "link": "http://stackoverflow.com/questions/6270132/create-a-custom-event-in-java/6270150#6270150", "question_id": 6270132, "answer_id": 6270150}, {"body": "<p>What you want is an implementation of the <a href=\"http://www.javaworld.com/javaworld/javaqa/2001-05/04-qa-0525-observer.html\">observer pattern</a>. You can do it yourself completely, or use java classes like <code>java.util.Observer</code> and <code>java.util.Observable</code></p>\n", "title": "Create a custom event in Java", "tags": ["java", "events", "listener", "handler"], "link": "http://stackoverflow.com/questions/6270132/create-a-custom-event-in-java/6270171#6270171", "question_id": 6270132, "answer_id": 6270171}, {"body": "<p>There are 3 different ways you may wish to set this up:</p>\n\n<ol>\n<li><code>Thrower</code> inside of <code>Catcher</code></li>\n<li><code>Catcher</code> inside of <code>Thrower</code></li>\n<li><code>Thrower</code> and <code>Catcher</code> inside of another class in this example <code>Test</code></li>\n</ol>\n\n<p><strong><a href=\"https://github.com/GlassGhost/EventTest#hexed\" rel=\"nofollow\">THE WORKING GITHUB EXAMPLE I AM CITING</a></strong> Defaults to Option 3, to try the others simply uncomment the \"<code>Optional</code>\" code block of the class you want to be main, and set that class as the <code>${Main-Class}</code> variable in the <code>build.xml</code> file:</p>\n\n<p><strong>4 Things needed on throwing side code:</strong></p>\n\n<pre><code>import java.util.*;//import of java.util.event\n\n//Declaration of the event's interface type, OR import of the interface,\n//OR declared somewhere else in the package\ninterface ThrowListener {\n    public void Catch();\n}\n/*_____________________________________________________________*/class Thrower {\n//list of catchers &amp; corresponding function to add/remove them in the list\n    List&lt;ThrowListener&gt; listeners = new ArrayList&lt;ThrowListener&gt;();\n    public void addThrowListener(ThrowListener toAdd){ listeners.add(toAdd); }\n    //Set of functions that Throw Events.\n        public void Throw(){ for (ThrowListener hl : listeners) hl.Catch();\n            System.out.println(\"Something thrown\");\n        }\n////Optional: 2 things to send events to a class that is a member of the current class\n. . . go to github link to see this code . . .\n}\n</code></pre>\n\n<hr>\n\n<p><strong>2 Things needed in a class file to receive events from a class</strong></p>\n\n<pre><code>/*_______________________________________________________________*/class Catcher\nimplements ThrowListener {//implement added to class\n//Set of @Override functions that Catch Events\n    @Override public void Catch() {\n        System.out.println(\"I caught something!!\");\n    }\n////Optional: 2 things to receive events from a class that is a member of the current class\n. . . go to github link to see this code . . .\n}\n</code></pre>\n", "title": "Create a custom event in Java", "tags": ["java", "events", "listener", "handler"], "link": "http://stackoverflow.com/questions/6270132/create-a-custom-event-in-java/10647601#10647601", "question_id": 6270132, "answer_id": 10647601}], "creation_date": 1307472534, "score": 129, "link": "http://stackoverflow.com/questions/6270132/create-a-custom-event-in-java", "question_id": 6270132}, {"body": "<p>How can I get the <code>e.printStackTrace()</code> and store it into a <code>String</code> variable?\nI want to use the string generated by <code>e.printStackTrace()</code> later in my program.</p>\n\n<p>I'm still new to Java so I'm not too familiar with <code>StringWriter</code> that I think\nwill be the solution. Or if you have any other ideas please let me know.  Thanks</p>\n", "tags": ["java", "stack-trace"], "title": "How to store printStackTrace into a string", "answers": [{"body": "<pre><code>StackTraceElement[] stack = new Exception().getStackTrace();\nString theTrace = \"\";\nfor(StackTraceElement line : stack)\n{\n   theTrace += line.toString();\n}\n</code></pre>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/4812583#4812583", "question_id": 4812570, "answer_id": 4812583}, {"body": "<p>You have to use <code>getStackTrace ()</code> method instead of <code>printStackTrace()</code>. Here is a <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=78\">good example</a>:</p>\n\n<pre><code>import java.io.*;\n\n/**\n* Simple utilities to return the stack trace of an\n* exception as a String.\n*/\npublic final class StackTraceUtil {\n\n  public static String getStackTrace(Throwable aThrowable) {\n    final Writer result = new StringWriter();\n    final PrintWriter printWriter = new PrintWriter(result);\n    aThrowable.printStackTrace(printWriter);\n    return result.toString();\n  }\n\n  /**\n  * Defines a custom format for the stack trace as String.\n  */\n  public static String getCustomStackTrace(Throwable aThrowable) {\n    //add the class name and any message passed to constructor\n    final StringBuilder result = new StringBuilder( \"BOO-BOO: \" );\n    result.append(aThrowable.toString());\n    final String NEW_LINE = System.getProperty(\"line.separator\");\n    result.append(NEW_LINE);\n\n    //add each element of the stack trace\n    for (StackTraceElement element : aThrowable.getStackTrace() ){\n      result.append( element );\n      result.append( NEW_LINE );\n    }\n    return result.toString();\n  }\n\n  /** Demonstrate output.  */\n  public static void main (String... aArguments){\n    final Throwable throwable = new IllegalArgumentException(\"Blah\");\n    System.out.println( getStackTrace(throwable) );\n    System.out.println( getCustomStackTrace(throwable) );\n  }\n} \n</code></pre>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/4812585#4812585", "question_id": 4812570, "answer_id": 4812585}, {"body": "<p>Something along the lines of </p>\n\n<pre><code>StringWriter errors = new StringWriter();\nex.printStackTrace(new PrintWriter(errors));\nreturn errors.toString();\n</code></pre>\n\n<p>Ought to be what you need. </p>\n\n<p>Relevant documentation:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/StringWriter.html\">StringWriter</a></li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html\">PrintWriter</a></li>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html\">Throwable</a></li>\n</ul>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/4812589#4812589", "question_id": 4812570, "answer_id": 4812589}, {"body": "<p><a href=\"http://guava-libraries.googlecode.com\">Guava</a> makes this easy with <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Throwables.html#getStackTraceAsString%28java.lang.Throwable%29\">Throwables.getStackTraceAsString(Throwable)</a>:</p>\n\n<pre><code>Exception e = ...\nString stackTrace = Throwables.getStackTraceAsString(e);\n</code></pre>\n\n<p>Internally, this does what @Zach L suggests.</p>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/4812658#4812658", "question_id": 4812570, "answer_id": 4812658}, {"body": "<p>Along the lines of Guava, Apache Commons Lang has <code>ExceptionUtils.getFullStackTrace</code> in <code>org.apache.commons.lang.exception</code>. <a href=\"http://stackoverflow.com/questions/1149703/stacktrace-to-string-in-java\">From a prior answer</a> on StackOverflow.</p>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/14184450#14184450", "question_id": 4812570, "answer_id": 14184450}, {"body": "<pre><code>call:  getStackTraceAsString(sqlEx)\n\npublic String getStackTraceAsString(Exception exc)  \n{  \nString stackTrace = \"*** Error in getStackTraceAsString()\";\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nPrintStream ps = new PrintStream( baos );\nexc.printStackTrace(ps);\ntry {\n    stackTrace = baos.toString( \"UTF8\" ); // charsetName e.g. ISO-8859-1\n    } \ncatch( UnsupportedEncodingException ex )\n    {\n    Logger.getLogger(sss.class.getName()).log(Level.SEVERE, null, ex);\n    }\nps.close();\ntry {\n    baos.close();\n    } \ncatch( IOException ex )\n    {\n    Logger.getLogger(sss.class.getName()).log(Level.SEVERE, null, ex);\n    }\nreturn stackTrace;\n}\n</code></pre>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/16466028#16466028", "question_id": 4812570, "answer_id": 16466028}, {"body": "<p>You can use the <code>ExceptionUtils.getStackTrace(Throwable t);</code> from Apache Commons 3 class <code>org.apache.commons.lang3.exception.ExceptionUtils</code>. </p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/\">http://commons.apache.org/proper/commons-lang/</a></p>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/21765043#21765043", "question_id": 4812570, "answer_id": 21765043}, {"body": "<p>Use apache commons-lang3 lib,</p>\n\n<pre><code>        String[] ss = ExceptionUtils.getRootCauseStackTrace(e);\n        logger.error(StringUtils.join(ss, \"\\n\"));\n</code></pre>\n", "title": "How to store printStackTrace into a string", "tags": ["java", "stack-trace"], "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string/27024104#27024104", "question_id": 4812570, "answer_id": 27024104}], "creation_date": 1296100539, "score": 128, "link": "http://stackoverflow.com/questions/4812570/how-to-store-printstacktrace-into-a-string", "question_id": 4812570}, {"body": "<p>I have a <a href=\"http://developer.android.com/reference/android/os/Handler.html\">handler</a> from my sub-Activity that was called by the main <a href=\"http://developer.android.com/reference/android/app/Activity.html\">Activity</a>. This handler is used by sub-classes to <a href=\"http://developer.android.com/reference/android/os/Handler.html#postDelayed%28java.lang.Runnable,%20long%29\">postDelay</a> some Runnables, and I can't manage them. Now, in onStop event, I need to remove them before finish the activity (somehow I called finish(), but it still call again and again). Is there anyway to remove all callbacks from a Handler?</p>\n\n<p>Thanks.</p>\n", "tags": ["java", "android", "callback", "handler"], "title": "How to remove all callback from a Handler?", "answers": [{"body": "<p>For any specific <code>Runnable</code> instance, call <code>Handler.removeCallbacks()</code>.  Note that it uses the <code>Runnable</code> instance itself to determine which callbacks to unregister, so if you are creating a new instance each time a post is made, you need to make sure you have references to the exact <code>Runnable</code> to cancel.  Example:</p>\n\n<pre><code>Handler myHandler = new Handler();\nRunnable myRunnable = new Runnable() {\n    public void run() {\n        //Some interesting task\n    }\n};\n</code></pre>\n\n<p>You can call <code>myHandler.postDelayed(myRunnable, x)</code> to post another callback to the message queue at other places in your code, and remove all pending callbacks with <code>myHandler.removeCallbacks(myRunnable)</code></p>\n\n<p>Unfortunately, you cannot simply \"clear\" the entire <code>MessageQueue</code> for a <code>Handler</code>, even if you make a request for the <code>MessageQueue</code> object associated with it because the methods for adding and removing items are package protected (only classes within the android.os package can call them).  You may have to create a thin <code>Handler</code> subclass to manage a list of <code>Runnable</code>s as they are posted/executed...or look at another paradigm for passing your messages between each <code>Activity</code></p>\n\n<p>Hope that Helps!</p>\n", "title": "How to remove all callback from a Handler?", "tags": ["java", "android", "callback", "handler"], "link": "http://stackoverflow.com/questions/5883635/how-to-remove-all-callback-from-a-handler/5883776#5883776", "question_id": 5883635, "answer_id": 5883776}, {"body": "<p>If you don't have the Runnable references, on the first callback, get the obj of the message, and use <a href=\"http://developer.android.com/reference/android/os/Handler.html#removeCallbacksAndMessages%28java.lang.Object%29\">removeCallbacksAndMessages()</a> to remove all related callbacks.</p>\n", "title": "How to remove all callback from a Handler?", "tags": ["java", "android", "callback", "handler"], "link": "http://stackoverflow.com/questions/5883635/how-to-remove-all-callback-from-a-handler/5884027#5884027", "question_id": 5883635, "answer_id": 5884027}, {"body": "<p>In my experience calling this worked great!</p>\n\n<pre><code>handler.removeCallbacksAndMessages(null);\n</code></pre>\n\n<p>In the docs for removeCallbacksAndMessages it says...</p>\n\n<p>\"Remove any pending posts of callbacks and sent messages whose obj is token. <strong>If token is      null, all callbacks and messages will be removed.</strong>\"</p>\n", "title": "How to remove all callback from a Handler?", "tags": ["java", "android", "callback", "handler"], "link": "http://stackoverflow.com/questions/5883635/how-to-remove-all-callback-from-a-handler/10145615#10145615", "question_id": 5883635, "answer_id": 10145615}, {"body": "<p>Define a new handler and runnable:</p>\n\n<pre><code>private Handler handler = new Handler(Looper.getMainLooper());\nprivate Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            // Do what ever you want\n        }\n    };\n</code></pre>\n\n<p>Call post delayed:</p>\n\n<pre><code>handler.postDelayed(runnable, sleep_time);\n</code></pre>\n\n<p>Remove your callback from your handler:</p>\n\n<pre><code>handler.removeCallbacks(runnable);\n</code></pre>\n", "title": "How to remove all callback from a Handler?", "tags": ["java", "android", "callback", "handler"], "link": "http://stackoverflow.com/questions/5883635/how-to-remove-all-callback-from-a-handler/28048111#28048111", "question_id": 5883635, "answer_id": 28048111}, {"body": "<p>If you used Runnables only (no Messages), then call:</p>\n\n<pre><code>handler.removeCallbacks(null);\n</code></pre>\n\n<p>If there were Messages involved as well:</p>\n\n<pre><code>handler.removeCallbacksAndMessages(null);\n</code></pre>\n\n<p>If there was only one Runnable that has been posted:</p>\n\n<pre><code>handler.removeCallbacks(runnable);\n</code></pre>\n", "title": "How to remove all callback from a Handler?", "tags": ["java", "android", "callback", "handler"], "link": "http://stackoverflow.com/questions/5883635/how-to-remove-all-callback-from-a-handler/39081267#39081267", "question_id": 5883635, "answer_id": 39081267}], "creation_date": 1304513308, "score": 127, "link": "http://stackoverflow.com/questions/5883635/how-to-remove-all-callback-from-a-handler", "question_id": 5883635}, {"body": "<p>If I have a method </p>\n\n<pre><code>void f(byte b);\n</code></pre>\n\n<p>how can I call it with a numeric argument without casting?</p>\n\n<pre><code>f(0);\n</code></pre>\n\n<p>gives an error.</p>\n", "tags": ["java", "byte", "literals"], "title": "How do you specify a byte literal in Java?", "answers": [{"body": "<p>You cannot. A basic numeric constant is considered an integer (or long if followed by a \"L\"), so you must explicitly downcast it to a byte to pass it as a parameter. As far as I know there is no shortcut.</p>\n", "title": "How do you specify a byte literal in Java?", "tags": ["java", "byte", "literals"], "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java/5193919#5193919", "question_id": 5193883, "answer_id": 5193919}, {"body": "<p>What about overriding the method with</p>\n\n<pre><code>void f(int value)\n{\n  f((byte)value);\n}\n</code></pre>\n\n<p>this will allow for <code>f(0)</code></p>\n", "title": "How do you specify a byte literal in Java?", "tags": ["java", "byte", "literals"], "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java/5193937#5193937", "question_id": 5193883, "answer_id": 5193937}, {"body": "<p>If you're passing literals in code, what's stopping you from simply declaring it ahead of time?</p>\n\n<pre><code>byte b = 0; //Set to desired value.\nf(b);\n</code></pre>\n", "title": "How do you specify a byte literal in Java?", "tags": ["java", "byte", "literals"], "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java/5193962#5193962", "question_id": 5193883, "answer_id": 5193962}, {"body": "<p>You have to cast, I'm afraid:</p>\n\n<pre><code>f((byte)0);\n</code></pre>\n\n<p>I believe that will perform the appropriate conversion at <em>compile</em>-time instead of <em>execution</em> time, so it's not actually going to cause performance penalties. It's just inconvenient :(</p>\n", "title": "How do you specify a byte literal in Java?", "tags": ["java", "byte", "literals"], "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java/5193983#5193983", "question_id": 5193883, "answer_id": 5193983}, {"body": "<p>You can use a byte literal in Java... sort of.</p>\n\n<pre><code>    byte f = 0;\n    f = 0xa;\n</code></pre>\n\n<p><code>0xa</code> (int literal) gets automatically cast to byte. It's not a real byte literal (see JLS &amp; comments below), but <a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow\">if it quacks like a duck, I call it a duck.</a></p>\n\n<p>What you can't do is this:</p>\n\n<pre><code>void foo(byte a) {\n   ...\n}\n\n foo( 0xa ); // will not compile\n</code></pre>\n\n<p>You have to cast as follows:</p>\n\n<pre><code> foo( (byte) 0xa ); \n</code></pre>\n\n<p>But keep in mind that these will all compile, and they are using \"byte literals\":</p>\n\n<pre><code>void foo(byte a) {\n   ...\n}\n\n    byte f = 0;\n\n    foo( f = 0xa ); //compiles\n\n    foo( f = 'a' ); //compiles\n\n    foo( f = 1 );  //compiles\n</code></pre>\n\n<p>Of course this compiles too</p>\n\n<pre><code>    foo( (byte) 1 );  //compiles\n</code></pre>\n", "title": "How do you specify a byte literal in Java?", "tags": ["java", "byte", "literals"], "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java/19476611#19476611", "question_id": 5193883, "answer_id": 19476611}, {"body": "<p>With Java 7 and later version, you can specify a byte literal in this way:\n<code>byte aByte = (byte)0b00100001;</code></p>\n\n<p>Reference: <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/language/binary-literals.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/technotes/guides/language/binary-literals.html</a></p>\n", "title": "How do you specify a byte literal in Java?", "tags": ["java", "byte", "literals"], "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java/30208097#30208097", "question_id": 5193883, "answer_id": 30208097}], "creation_date": 1299242723, "score": 127, "link": "http://stackoverflow.com/questions/5193883/how-do-you-specify-a-byte-literal-in-java", "question_id": 5193883}, {"body": "<p>What is the easy way to concatenate two byte arrays?</p>\n\n<p>Say,</p>\n\n<pre><code>byte a[];\nbyte b[];\n</code></pre>\n\n<p>How do I concatenate two byte arrays and store it in another byte array?</p>\n", "tags": ["java", "bytearray", "concatenation"], "title": "Easy way to concatenate two byte arrays", "answers": [{"body": "<p>Most straightforward:</p>\n\n<pre><code>byte[] c = new byte[a.length + b.length];\nSystem.arraycopy(a, 0, c, 0, a.length);\nSystem.arraycopy(b, 0, c, a.length, b.length);\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/5513188#5513188", "question_id": 5513152, "answer_id": 5513188}, {"body": "<pre><code>byte[] result = new byte[a.length + b.length];\n// copy a to result\nSystem.arraycopy(a, 0, result, 0, a.length);\n// copy b to result\nSystem.arraycopy(b, 0, result, a.length, b.length);\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/5513243#5513243", "question_id": 5513152, "answer_id": 5513243}, {"body": "<p>The most elegant way to do this is with a ByteArrayOutputStream.</p>\n\n<pre><code>byte a[];\nbyte b[];\n\nByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\noutputStream.write( a );\noutputStream.write( b );\n\nbyte c[] = outputStream.toByteArray( );\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/9133993#9133993", "question_id": 5513152, "answer_id": 9133993}, {"body": "<p>Another way is to use a utility function (you could make this a static method of a generic utility class if you like):</p>\n\n<pre><code>byte[] concat(byte[]...arrays)\n{\n    // Determine the length of the result array\n    int totalLength = 0;\n    for (int i = 0; i &lt; arrays.length; i++)\n    {\n        totalLength += arrays[i].length;\n    }\n\n    // create the result array\n    byte[] result = new byte[totalLength];\n\n    // copy the source arrays into the result array\n    int currentIndex = 0;\n    for (int i = 0; i &lt; arrays.length; i++)\n    {\n        System.arraycopy(arrays[i], 0, result, currentIndex, arrays[i].length);\n        currentIndex += arrays[i].length;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>Invoke like so:</p>\n\n<pre><code>byte[] a;\nbyte[] b;\nbyte[] result = concat(a, b);\n</code></pre>\n\n<p>It will also work for concatenating 3, 4, 5 arrays, etc.</p>\n\n<p>Doing it this way gives you the advantage of fast arraycopy code which is also very easy to read and maintain.</p>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/12141556#12141556", "question_id": 5513152, "answer_id": 12141556}, {"body": "<p>Another possibility is using <code>java.nio.ByteBuffer</code>.</p>\n\n<p>Something like</p>\n\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(a.length + b.length + c.length);\nbb.put(a);\nbb.put(b);\nbb.put(c);\nbyte[] result = bb.array();\n</code></pre>\n\n<p>Note that the array must be appropriately sized to start with, so the allocation line is required (as <code>array()</code> simply returns the backing array, without taking the offset, position or limit into account).</p>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/15825271#15825271", "question_id": 5513152, "answer_id": 15825271}, {"body": "<p>Here's a nice solution using <a href=\"https://github.com/google/guava\">Guava</a>'s <code>com.google.common.primitives.Bytes</code>:</p>\n\n<pre><code>byte[] c = Bytes.concat(a, b);\n</code></pre>\n\n<p>The great thing about this method is that its signature is </p>\n\n<pre><code>public static byte[] concat(byte[]... arrays)\n</code></pre>\n\n<p>-which means that you can concatenate an arbitrary number of arrays in a single method call.</p>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/23292834#23292834", "question_id": 5513152, "answer_id": 23292834}, {"body": "<p>If you prefer <code>ByteBuffer</code> like @kalefranz, there is always the posibility to concatenate two <code>byte[]</code> (or even more) in one line, like this:</p>\n\n<pre><code>byte[] c = ByteBuffer.allocate(a.length+b.length).put(a).put(b).array();\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/25569682#25569682", "question_id": 5513152, "answer_id": 25569682}, {"body": "<p>For two or multiple arrays, this simple and clean utility method can be used:</p>\n\n<pre><code>/**\n * Append the given byte arrays to one big array\n *\n * @param arrays The arrays to append\n * @return The complete array containing the appended data\n */\npublic static final byte[] append(final byte[]... arrays) {\n    final ByteArrayOutputStream out = new ByteArrayOutputStream();\n    if (arrays != null) {\n        for (final byte[] array : arrays) {\n            if (array != null) {\n                out.write(array, 0, array.length);\n            }\n        }\n    }\n    return out.toByteArray();\n}\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/26058660#26058660", "question_id": 5513152, "answer_id": 26058660}, {"body": "<p>You can use third party libraries for Clean Code like Apache Commons Lang and use it like:</p>\n\n<pre><code>byte[] bytes = ArrayUtils.addAll(a, b);\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/27123204#27123204", "question_id": 5513152, "answer_id": 27123204}, {"body": "<h3>Merge two PDF byte arrays</h3>\n\n<p>If you are merging two byte arrays which contain PDF, this logic will not work. We need to use a third-party tool like PDFbox from Apache:</p>\n\n<pre><code>ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\nmergePdf.addSource(new ByteArrayInputStream(a));\nmergePdf.addSource(new ByteArrayInputStream(b));\nmergePdf.setDestinationStream(byteArrayOutputStream);\nmergePdf.mergeDocuments();\nc = byteArrayOutputStream.toByteArray();\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/27821823#27821823", "question_id": 5513152, "answer_id": 27821823}, {"body": "<p>Two <code>System.arraycopy</code> calls are lean and mean, but not easy on the eyes (harder to understand as a code reviewer, that is).</p>\n\n<p>A more readable approach using <code>java.nio.ByteBuffer</code>:</p>\n\n<pre><code>byte[] ab = ByteBuffer.wrap(new byte[a.length + b.length]).put(a).put(b).array();\n</code></pre>\n", "title": "Easy way to concatenate two byte arrays", "tags": ["java", "bytearray", "concatenation"], "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays/38648716#38648716", "question_id": 5513152, "answer_id": 38648716}], "creation_date": 1301659764, "score": 126, "link": "http://stackoverflow.com/questions/5513152/easy-way-to-concatenate-two-byte-arrays", "question_id": 5513152}, {"body": "<p>I need to format a float to \"n\"decimal places.</p>\n\n<p>was trying to BigDecimal, but the return value is not correct...</p>\n\n<pre><code>public static float Redondear(float pNumero, int pCantidadDecimales) {\n    // the function is call with the values Redondear(625.3f, 2)\n    BigDecimal value = new BigDecimal(pNumero);\n    value = value.setScale(pCantidadDecimales, RoundingMode.HALF_EVEN); // here the value is correct (625.30)\n    return value.floatValue(); // but here the values is 625.3\n}\n</code></pre>\n\n<p>I need to return a float value with the number of decimal places that I specify.</p>\n\n<p>I need <code>Float</code> value return not <code>Double</code></p>\n\n<p>.</p>\n", "tags": ["java", "android", "floating-point", "numbers", "format"], "title": "Format Float to n decimal places", "answers": [{"body": "<p>Take a look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\">DecimalFormat</a>.  You can easily use it to take a number and give it a set number of decimal places.</p>\n\n<p><em>Edit</em>: <a href=\"http://www.kodejava.org/examples/102.html\">Example</a></p>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/5195976#5195976", "question_id": 5195837, "answer_id": 5195976}, {"body": "<p>I think what you want ist </p>\n\n<pre><code>return value.toString();\n</code></pre>\n\n<p>and use the return value to display.</p>\n\n<pre><code>value.floatValue();\n</code></pre>\n\n<p>will always return 625.3 because its mainly used to calculate something.</p>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/5195983#5195983", "question_id": 5195837, "answer_id": 5195983}, {"body": "<p>You may also pass the float value, and use:</p>\n\n<pre><code>String.format(\"%.2f\", floatValue);\n</code></pre>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/5383201#5383201", "question_id": 5195837, "answer_id": 5383201}, {"body": "<p>Try this this helped me a lot</p>\n\n<pre><code>BigDecimal roundfinalPrice = new BigDecimal(5652.25622f).setScale(2,BigDecimal.ROUND_HALF_UP);\n</code></pre>\n\n<p>Result will be\nroundfinalPrice --> 5652.26</p>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/13758367#13758367", "question_id": 5195837, "answer_id": 13758367}, {"body": "<p>Kinda surprised nobody's pointed out the direct way to do it, which is easy enough.</p>\n\n<pre><code>double roundToDecimalPlaces(double value, int decimalPlaces)\n{\n      double shift = Math.pow(10,decimalPlaces);\n      return Math.round(value*shift)/shift;\n}\n</code></pre>\n\n<p>Pretty sure this does not do half-even rounding though. </p>\n\n<p>For what it's worth, half-even rounding is going to be chaotic and unpredictable any time you mix binary-based floating-point values with base-10 arithmetic. I'm pretty sure it cannot be done. The basic problem is that a value like 1.105 cannot be represented exactly in floating point. The floating point value is going to be something like 1.105000000000001, or 1.104999999999999. So any attempt to perform half-even rounding is going trip up on representational encoding errors. </p>\n\n<p>IEEE floating point implementations will do half-rounding, but they do binary half-rounding, not decimal half-rounding. So you're probably ok</p>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/33889423#33889423", "question_id": 5195837, "answer_id": 33889423}, {"body": "<pre><code>public static double roundToDouble(float d, int decimalPlace) {\n        BigDecimal bd = new BigDecimal(Float.toString(d));\n        bd = bd.setScale(decimalPlace, BigDecimal.ROUND_HALF_UP);\n        return bd.doubleValue();\n    }\n</code></pre>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/36350201#36350201", "question_id": 5195837, "answer_id": 36350201}, {"body": "<p>Here's a quick sample using the <code>DecimalFormat</code> class mentioned by Nick.</p>\n\n<pre><code>float f = 12.345f;\nDecimalFormat df = new DecimalFormat(\"#.00\");\nSystem.out.println(df.format(f));\n</code></pre>\n\n<p>The output of the print statement will be 12.35. Notice that it will round it for you.</p>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/36612682#36612682", "question_id": 5195837, "answer_id": 36612682}, {"body": "<p>Of note, use of <code>DecimalFormat</code> constructor is discouraged. The javadoc for this class states: </p>\n\n<blockquote>\n  <p>In general, do not call the DecimalFormat constructors directly, since the NumberFormat factory methods may return subclasses other than DecimalFormat.</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html</a></p>\n\n<p>So what you need to do is (for instance):</p>\n\n<pre><code>NumberFormat formatter = NumberFormat.getInstance(Locale.US);\nformatter.setMaximumFractionDigits(2);\nformatter.setMinimumFractionDigits(2);\nformatter.setRoundingMode(RoundingMode.HALF_UP); \nFloat formatedFloat = new Float(formatter.format(floatValue));\n</code></pre>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/37878834#37878834", "question_id": 5195837, "answer_id": 37878834}, {"body": "<p>This is a much less professional and much more expensive way but it should be easier to understand and more helpful for beginners. </p>\n\n<pre><code>public static float roundFloat(float F, int roundTo){\n\n    String num = \"#########.\";\n\n    for (int count = 0; count &lt; roundTo; count++){\n        num += \"0\";\n    }\n\n    DecimalFormat df = new DecimalFormat(num);\n\n    df.setRoundingMode(RoundingMode.HALF_UP);\n\n    String S = df.format(F);\n    F = Float.parseFloat(S);\n\n    return F;\n}\n</code></pre>\n", "title": "Format Float to n decimal places", "tags": ["java", "android", "floating-point", "numbers", "format"], "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places/39057360#39057360", "question_id": 5195837, "answer_id": 39057360}], "creation_date": 1299252966, "score": 126, "link": "http://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places", "question_id": 5195837}], "quota_max": 300, "page_size": 100, "quota_remaining": 96, "page": 1}