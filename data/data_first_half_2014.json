{"has_more": true, "items": [{"body": "<p>I generated two matrices of <code>1000</code> x <code>1000</code>:</p>\n\n<p>First Matrix: <code>O</code> and <code>#</code>.<br>\nSecond Matrix: <code>O</code> and <code>B</code>.</p>\n\n<p>Using the following code, the first matrix took 8.52 seconds to complete:</p>\n\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if(r.nextInt(4) == 0) {\n            System.out.print(\"O\");\n        } else {\n            System.out.print(\"#\");\n        }\n    }\n\n   System.out.println(\"\");\n }\n</code></pre>\n\n<p>With this code, the second matrix took 259.152 seconds to complete:</p>\n\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if(r.nextInt(4) == 0) {\n            System.out.print(\"O\");\n        } else {\n            System.out.print(\"B\"); //only line changed\n        }\n    }\n\n    System.out.println(\"\");\n}\n</code></pre>\n\n<p>What is the reason behind the dramatically different run times?</p>\n\n<hr>\n\n<p>As suggested in the comments, printing only <code>System.out.print(\"#\");</code> takes 7.8871 seconds, whereas <code>System.out.print(\"B\");</code> gives <code>still printing...</code>.</p>\n\n<p>As others who pointed out that it works for them normally, I tried <a href=\"http://ideone.com\">Ideone.com</a> for instance, and both pieces of code execute at the same speed.</p>\n\n<p>Test Conditions:</p>\n\n<ul>\n<li>I ran this test from Netbeans 7.2, with the output into its console</li>\n<li>I used <code>System.nanoTime()</code> for measurements</li>\n</ul>\n", "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "tags": ["java", "performance", "system.out"], "answers": [{"body": "<p><em>Pure speculation</em> is that you're using a terminal that attempts to do <a href=\"http://en.wikipedia.org/wiki/Word_wrap\">word-wrapping</a> rather than character-wrapping, and treats <code>B</code> as a word character but <code>#</code> as a non-word character. So when it reaches the end of a line and searches for a place to break the line, it sees a <code>#</code> almost immediately and happily breaks there; whereas with the <code>B</code>, it has to keep searching for longer, and may have more text to wrap (which may be expensive on some terminals, e.g., outputting backspaces, then outputting spaces to overwrite the letters being wrapped).</p>\n\n<p>But that's pure speculation.</p>\n", "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "tags": ["java", "performance", "system.out"], "link": "http://stackoverflow.com/questions/21947452/why-is-printing-b-dramatically-slower-than-printing/21947627#21947627", "question_id": 21947452, "answer_id": 21947627}, {"body": "<p>I performed tests on Eclipse vs Netbeans 8.0.2, both with Java version 1.8;\nI used <code>System.nanoTime()</code> for measurements.</p>\n\n<h2>Eclipse:</h2>\n\n<p>I got the <strong>same time on both cases</strong> - around <strong>1.564 seconds</strong>.</p>\n\n<h2>Netbeans:</h2>\n\n<ul>\n<li>Using \"#\": <strong>1.536 seconds</strong></li>\n<li>Using \"B\": <strong>44.164 seconds</strong></li>\n</ul>\n\n<p>So, it looks like Netbeans has bad performance on print to console.</p>\n\n<p>After more research I realized that the problem is <a href=\"http://en.wikipedia.org/wiki/Line_wrap_and_word_wrap\">line-wrapping</a> of the max buffer of Netbeans (it's not restricted to <code>System.out.println</code> command), demonstrated by this code:</p>\n\n<pre><code>for (int i = 0; i &lt; 1000; i++) {\n    long t1 = System.nanoTime();\n    System.out.print(\"BBB......BBB\"); \\\\&lt;-contain 1000 \"B\"\n    long t2 = System.nanoTime();\n    System.out.println(t2-t1);\n    System.out.println(\"\");\n}\n</code></pre>\n\n<p>The time results are less then 1 millisecond every iteration except <strong>every fifth iteration</strong>, when the time result is around 225 millisecond. Something like (in nanoseconds):</p>\n\n<pre><code>BBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\n.\n.\n.\n</code></pre>\n\n<p>And so on..</p>\n\n<h2>Summary:</h2>\n\n<ol>\n<li>Eclipse works perfectly with \"B\"</li>\n<li>Netbeans has a line-wrapping problem that can be solved (because the problem does not occur in eclipse)(without adding space after B (\"B \")).</li>\n</ol>\n", "title": "Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?", "tags": ["java", "performance", "system.out"], "link": "http://stackoverflow.com/questions/21947452/why-is-printing-b-dramatically-slower-than-printing/29434641#29434641", "question_id": 21947452, "answer_id": 29434641}], "link": "http://stackoverflow.com/questions/21947452/why-is-printing-b-dramatically-slower-than-printing", "question_id": 21947452}, {"body": "<p><strong>What I am looking for:</strong></p>\n\n<p>A way to style one <strong>HALF</strong> of a character. (In this case, half the letter being transparent)</p>\n\n<p><strong>What I have currently searched for and tried (With no luck):</strong></p>\n\n<ul>\n<li>Methods for styling half of a character/letter</li>\n<li>Styling part of a character with CSS or JavaScript</li>\n<li>Apply CSS to 50% of a character</li>\n</ul>\n\n<p>Below is an example of what I am trying to obtain.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SaH8v.png\" alt=\"x\"></p>\n\n<p>Does a CSS or JavaScript solution exist for this, or am I going to have to resort to images? I would prefer not to go the image route as this text will end up being generated dynamically.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Since many have asked why I would ever want to style half of a character, this is why. My city had recently spent $250,000 to define a new \"brand\" for itself. This <strong><a href=\"http://halifaxdefined.ca/img/halifax_logo_new.png\">logo</a></strong> is what they came up with. Many people have complained about the simplicity and lack of creativity and continue to do so. My goal was to come up with this <strong><a href=\"http://gameovercancer.ca/tests/brandgenerator/\">website</a></strong> as a joke. Type in 'Halifax' and you will see what I mean. :)</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "answers": [{"body": "<p>Closest I can get:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  $('span').width($('span').width()/2);\r\n  $('span:nth-child(2)').css('text-indent', -$('span').width());\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  font-family: arial;\r\n}\r\nspan{\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\nspan:nth-child(2){\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;span&gt;X&lt;/span&gt;&lt;span&gt;X&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/9wxfY/2/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/2/</a></p>\n\n<p>Heres a version that just uses one span: <a href=\"http://jsfiddle.net/9wxfY/4/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/4/</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23569649#23569649", "question_id": 23569441, "answer_id": 23569649}, {"body": "<p><img src=\"http://i.imgur.com/G07u5An.png\" alt=\"enter image description here\"><br><br><br></p>\n\n<p>I've just finished developing the plugin and it is available for everyone to use! Hope you will enjoy it. </p>\n\n<h3>View Project on <a href=\"https://github.com/emisfera/Splitchar\">GitHub</a> - View Project <a href=\"http://razvanbalosin.com/Splitchar.js/\">Website</a>. <b>(so you can see all the split styles)</b></h3>\n\n<h2><b>Usage</b></h2>\n\n<p>First of all, make sure you have the <code>jQuery</code> library is included. The best way to get the latest jQuery version is to update your head tag with:</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>After downloading the files, make sure you include them in your project:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/splitchar.css\"&gt;\n&lt;script type=\"text/javascript\" src=\"js/splitchar.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<h2><b>Markup</b></h2>\n\n<p>All you have to do is to asign the class <code>splitchar</code> , followed by the desired style to the element wrapping your text. e.g</p>\n\n<pre><code>&lt;h1 class=\"splitchar horizontal\"&gt;Splitchar&lt;/h1&gt;\n</code></pre>\n\n<p>After all this is done, just make sure you call the jQuery function in your document ready file like this:</p>\n\n<pre><code>$(\".splitchar\").splitchar();\n</code></pre>\n\n<h2><b>Customizing</b></h2>\n\n<p>In order to make the text look exactly as you want it to, all you have to do is apply your design like this:</p>\n\n<pre><code>.horizontal { /* Base CSS - e.g font-size */ }\n.horizontal:before { /* CSS for the left half */ }\n.horizontal:after { /* CSS for the right half */ }\n</code></pre>\n\n<p><br>\nThat's it! Now you have the <code>Splitchar</code> plugin all set. More info about it at <a href=\"http://razvanbalosin.com/Splitchar.js/\">http://razvanbalosin.com/Splitchar.js/</a>.</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23569710#23569710", "question_id": 23569441, "answer_id": 23569710}, {"body": "<p><img src=\"http://i.stack.imgur.com/oBWFs.png\" alt=\"Example\"></p>\n\n<hr>\n\n<h2><a href=\"http://jsfiddle.net/CL82F/14/\">JSFiddle DEMO</a></h2>\n\n<p>We'll do it using just CSS pseudo selectors! </p>\n\n<p>This technique will work with dynamically generated content and different font sizes and widths.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class='split-color'&gt;Two is better than one.&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.split-color &gt; span {\n    white-space: pre-line;\n    position: relative;\n    color: #409FBF;\n}\n\n.split-color &gt; span:before {\n    content: attr(data-content);\n    pointer-events: none;  /* Prevents events from targeting pseudo-element */\n    position: absolute;\n    overflow: hidden;\n    color: #264A73;\n    width: 50%;\n    z-index: 1;\n}\n</code></pre>\n\n<p>To wrap the dynamically generated string, you could use a function like this:</p>\n\n<pre><code>// Wrap each letter in a span tag and return an HTML string\n// that can be used to replace the original text\nfunction wrapString(str) {\n  var output = [];\n  str.split('').forEach(function(letter) {\n    var wrapper = document.createElement('span');\n    wrapper.dataset.content = wrapper.innerHTML = letter;\n\n    output.push(wrapper.outerHTML);\n  });\n\n  return output.join('');\n}\n\n// Replace the original text with the split-color text\nwindow.onload = function() {\n    var el  = document.querySelector('.split-color'),\n        txt = el.innerHTML;\n\n    el.innerHTML = wrapString(txt);\n}\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23569745#23569745", "question_id": 23569441, "answer_id": 23569745}, {"body": "<p><strong>Limited CSS and jQuery Solution</strong></p>\n\n<p>I am not sure how elegant this solution is, but it cuts everything exactly in half: <a href=\"http://jsfiddle.net/9wxfY/11/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/11/</a></p>\n\n<p>Otherwise, I have created a nice solution for you... All you need to do is have this for your HTML:</p>\n\n<p>Take a look at this most recent, and accurate, edit as of 6/13/2016 : <a href=\"http://jsfiddle.net/9wxfY/41/\" rel=\"nofollow\">http://jsfiddle.net/9wxfY/41/</a></p>\n\n<p>As for the CSS, it is very limited... You only need to apply it to <code>:nth-child(even)</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  var $hc = $('.half-color');\r\n  var str = $hc.text();\r\n  $hc.html(\"\");\r\n\r\n  var i = 0;\r\n  var chars;\r\n  var dupText;\r\n\r\n  while(i &lt; str.length){\r\n    chars = str[i];\r\n    dupText = \"&lt;span&gt;\" + chars + \"&lt;/span&gt;\";\r\n\r\n    var firstHalf = $(dupText);\r\n    var secondHalf = $(dupText);\r\n\r\n    $hc.append(firstHalf)\r\n    $hc.append(secondHalf)\r\n\r\n    var width = firstHalf.width()/2;\r\n\r\n    firstHalf.width(width);\r\n    secondHalf.css('text-indent', -width);\r\n\r\n    i++;\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.half-color span{\r\n  font-size: 2em;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n}\r\n.half-color span:nth-child(even){\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"half-color\"&gt;This is a sentence&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23569840#23569840", "question_id": 23569441, "answer_id": 23569840}, {"body": "<h1><a href=\"https://github.com/arbelh/HalfStyle\">Now on GitHub as a Plugin!</a></h1>\n\n<p><img src=\"http://i.stack.imgur.com/Glo2Q.png\" alt=\"enter image description here\"> Feel free to fork and improve.</p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/820/\">Demo</a> | <a href=\"https://github.com/arbelh/HalfStyle/archive/master.zip\">Download Zip</a> | <a href=\"http://www.half-style.com\">Half-Style.com</a> (Redirects to GitHub)</h1>\n\n<hr>\n\n<ul>\n<li><strong>Pure CSS</strong> for a Single Character</li>\n<li>JavaScript used for automation accross text or multiple characters</li>\n<li>Preserves Text Accessibility for screen readers for the blind or visually\nimpaired</li>\n</ul>\n\n<h1>Part1: Basic Solution</h1>\n\n<p><img src=\"http://i.stack.imgur.com/ZYic1.png\" alt=\"Half Style on text\"></p>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/pd9yB/817/\">http://jsfiddle.net/pd9yB/817/</a></p>\n\n<hr>\n\n<p>This works on any dynamic text, or a single character, and is all automated. All you need to do is add a class on the target text and the rest is taken care of.</p>\n\n<p>Also, the accessibility of the original text is preserved for screen readers for the blind or visually impaired.</p>\n\n<p><strong>Explanation for a single character:</strong></p>\n\n<p>Pure CSS. All you need to do is to apply <code>.halfStyle</code> class to each element that contains the character you want to be half-styled.</p>\n\n<p>For each span element containing the character, you can create a data attribute, for example here <code>data-content=\"X\"</code>, and on the pseudo element use <code>content: attr(data-content);</code> so the <code>.halfStyle:before</code> class will be dynamic and you won't need to hard code it for every instance.</p>\n\n<p><strong>Explanation for any text:</strong></p>\n\n<p>Simply add <code>textToHalfStyle</code> class to the element containing the text.</p>\n\n<hr>\n\n<p><strong>CSS:</strong></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: black; /* or transparent, any color */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    left:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: #f00;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;p&gt;Single Characters:&lt;/p&gt;\n&lt;span class=\"halfStyle\" data-content=\"X\"&gt;X&lt;/span&gt;\n&lt;span class=\"halfStyle\" data-content=\"Y\"&gt;Y&lt;/span&gt;\n&lt;span class=\"halfStyle\" data-content=\"Z\"&gt;Z&lt;/span&gt;\n&lt;span class=\"halfStyle\" data-content=\"A\"&gt;A&lt;/span&gt;\n\n&lt;hr/&gt;\n&lt;p&gt;Automated:&lt;/p&gt;\n\n&lt;span class=\"textToHalfStyle\"&gt;Half-style, please.&lt;/span&gt;\n</code></pre>\n\n<hr>\n\n<p>To make it automated, simply add <code>textToHalfStyle</code> class to the element containing the text.</p>\n\n<p><strong>jQuery</strong> for automated mode:</p>\n\n<pre><code>jQuery(function($) {\n    var text, chars, $el, i, output;\n\n    // Iterate over all class occurences\n    $('.textToHalfStyle').each(function(idx, el) {\n        $el = $(el);\n        text = $el.text();\n        chars = text.split('');\n\n        // Set the screen-reader text\n        $el.html('&lt;span style=\"position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);\"&gt;' + text + '&lt;/span&gt;');\n\n        // Reset output for appending\n        output = '';\n\n        // Iterate over all chars in the text\n        for (i = 0; i &lt; chars.length; i++) {\n            // Create a styled element for each character and append to container\n            output += '&lt;span aria-hidden=\"true\" class=\"halfStyle\" data-content=\"' + chars[i] + '\"&gt;' + chars[i] + '&lt;/span&gt;';\n        }\n\n        // Write to DOM only once\n        $el.append(output);\n    });\n});\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/pd9yB/819/\">http://jsfiddle.net/pd9yB/819/</a></p>\n\n<hr>\n\n<h1>Part2: Advanced solution - Independent left and right parts</h1>\n\n<p><img src=\"http://i.stack.imgur.com/zYa0F.png\" alt=\"Half Style on text - advanced\"></p>\n\n<p><strong><em>With this solution you can style left and right parts, individually and independently</em></strong>.</p>\n\n<p>Everything is the same, only more advanced CSS does the magic.</p>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/pd9yB/819/\">http://jsfiddle.net/pd9yB/819/</a></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent; /* hide the base character */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n}\n.halfStyle:before { /* creates the left part */\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the right part */\n    display:block;\n    direction: rtl; /* very important, will make the width to start from right */\n    position:absolute;\n    z-index:2;\n    top:0;\n    left:50%;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n</code></pre>\n\n<p><hr/>\n<hr/></p>\n\n<h1>Part3: Mix-Match and Improve</h1>\n\n<p>Now that we know what is possible, let's create some variations.</p>\n\n<hr/>\n\n<h2>-Horizontal Half Parts</h2>\n\n<p><img src=\"http://i.stack.imgur.com/2eDaQ.png\" alt=\"halfStyle - Horizontal Half Parts\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/821/\">Demo</a></h1>\n\n<pre><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent; /* hide the base character */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n}\n.halfStyle:before { /* creates the top part */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    height: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the bottom part */\n    display:block;\n    position:absolute;\n    z-index:1;\n    top:0;\n    height: 100%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n</code></pre>\n\n<hr/>\n\n<hr/>\n\n<h2>-Vertical 1/3 Parts</h2>\n\n<p><img src=\"http://i.stack.imgur.com/ypn4X.png\" alt=\"halfStyle - Vertical 1/3 Parts\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/850/\">Demo</a></h1>\n\n<pre><code>.halfStyle { /* base char and also the right 1/3 */\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent; /* hide the base character */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #f0f; /* for demo purposes */\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n.halfStyle:before { /* creates the left 1/3 */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    width: 33.33%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #af0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the middle 1/3 */\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 66.66%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\n}\n</code></pre>\n\n<hr/>\n\n<hr/>\n\n<h2>-Horizontal 1/3 Parts</h2>\n\n<p><img src=\"http://i.stack.imgur.com/UeuxW.png\" alt=\"halfStyle - Horizontal 1/3 Parts\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/823/\">Demo</a></h1>\n\n<pre><code>.halfStyle { /* base char and also the bottom 1/3 */\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent;\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #f0f;\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n.halfStyle:before { /* creates the top 1/3 */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    height: 33.33%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #fa0; /* for demo purposes */\n}\n.halfStyle:after { /* creates the middle 1/3 */\n    display:block;\n    position:absolute;\n    z-index:1;\n    top:0;\n    height: 66.66%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\n}\n</code></pre>\n\n<hr/>\n\n<hr/>\n\n<h2>-HalfStyle Improvement By @KevinGranger</h2>\n\n<p><img src=\"http://i.stack.imgur.com/PgdJ6.png\" alt=\"halfStyle - KevinGranger\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/824/\">DEMO</a></h1>\n\n<pre><code>body{\n    background-color: black;\n}\n\n.textToHalfStyle{\n    display:block;\n    margin: 200px 0 0 0;\n    text-align:center;\n}\n\n.halfStyle {\n    font-family: 'Libre Baskerville', serif;\n    position:relative;\n    display:inline-block;\n    width:1;\n    font-size:70px;\n    color: black;\n    overflow:hidden;\n    white-space: pre;\n    text-shadow: 1px 2px 0 white;\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n}\n</code></pre>\n\n<p><hr/>\n<hr/></p>\n\n<h2>-PeelingStyle improvement of HalfStyle by @SamTremaine</h2>\n\n<p><img src=\"http://i.stack.imgur.com/r67KC.png\" alt=\"halfStyle - SamTremaine\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/826/\">Demo</a> and on <a href=\"http://experimental.samtremaine.co.uk/half-style/\">samtremaine.co.uk</a></h1>\n\n<pre><code>.halfStyle {\n    position: relative;\n    display: inline-block;\n    font-size: 68px;\n    color: rgba(0, 0, 0, 0.8);\n    overflow: hidden;\n    white-space: pre;\n    transform: rotate(4deg);\n    text-shadow: 2px 1px 3px rgba(0, 0, 0, 0.3);\n}\n.halfStyle:before { /* creates the left part */\n    display: block;\n    z-index: 1;\n    position: absolute;\n    top: -0.5px;\n    left: -3px;\n    width: 100%;\n    content: attr(data-content);\n    overflow: hidden;\n    pointer-events: none;\n    color: #FFF;\n    transform: rotate(-4deg);\n    text-shadow: 0px 0px 1px #000;\n}\n</code></pre>\n\n<p><hr/>\n<hr/></p>\n\n<h1>Part4: Ready for Production</h1>\n\n<p>Customized different Half-Style style-sets can be used on desired elements on the same page.\nYou can define multiple style-sets and tell the plugin which one to use.</p>\n\n<p>The plugin uses data attribute <code>data-halfstyle=\"[-CustomClassName-]\"</code> on the target <code>.textToHalfStyle</code> elements and makes all the necessary changes automatically.</p>\n\n<p>So, simply on the element containing the text add <code>textToHalfStyle</code> class and data attribute <code>data-halfstyle=\"[-CustomClassName-]\"</code>. The plugin will do the rest of the job.</p>\n\n<p><img src=\"http://i.stack.imgur.com/RxjKF.png\" alt=\"halfStyle - Multiple on Same Page\"></p>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/787/\">Demo</a> of Multiple Half-Styles on the same page.</h1>\n\n<pre><code>jQuery(function($) {\n    var halfstyle_text, halfstyle_chars, $halfstyle_el, halfstyle_i, halfstyle_output, halfstyle_style;\n\n    // Iterate over all class occurrences\n    $('.textToHalfStyle').each(function(idx, halfstyle_el) {\n        $halfstyle_el = $(halfstyle_el);\n        halfstyle_style = $halfstyle_el.data('halfstyle');\n        halfstyle_text = $halfstyle_el.text();\n        halfstyle_chars = halfstyle_text.split('');\n\n        // Set the screen-reader text\n        $halfstyle_el.html('&lt;span style=\"position: absolute !important;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);\"&gt;' + halfstyle_text + '&lt;/span&gt;');\n\n        // Reset output for appending\n        halfstyle_output = '';\n\n        // Iterate over all chars in the text\n        for (halfstyle_i = 0; halfstyle_i &lt; halfstyle_chars.length; halfstyle_i++) {\n            // Create a styled element for each character and append to container\n            halfstyle_output += '&lt;span aria-hidden=\"true\" class=\"halfStyle ' + halfstyle_style + '\" data-content=\"' + halfstyle_chars[halfstyle_i] + '\"&gt;' + halfstyle_chars[halfstyle_i] + '&lt;/span&gt;';\n        }\n\n        // Write to DOM only once\n        $halfstyle_el.append(halfstyle_output);\n    });\n});\n</code></pre>\n\n<p>Also the CSS style-sets' class definitions match the <code>[-CustomClassName-]</code> part mentioned above and is chained to <code>.halfStyle</code>, so we will have <code>.halfStyle.[-CustomClassName-]</code></p>\n\n<pre><code> /* start half-style hs-base */\n .halfStyle.hs-base {\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #000; /* for demo purposes */\n}\n.halfStyle.hs-base:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    pointer-events: none; /* so the base char is selectable by mouse */\n    overflow:hidden;\n    color: #f00; /* for demo purposes */\n}\n /* end half-style hs-base */\n\n/* start half-style hs-horizontal-third */\n.halfStyle.hs-horizontal-third { /* base char and also the bottom 1/3 */\n    position:relative;\n    display:inline-block;\n    font-size:80px; /* or any font size will work */\n    color: transparent;\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    color: #f0f;\n    text-shadow: 2px 2px 0px #0af; /* for demo purposes */\n}\n.halfStyle.hs-horizontal-third:before { /* creates the top 1/3 */\n    display:block;\n    z-index:2;\n    position:absolute;\n    top:0;\n    height: 33.33%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #f00; /* for demo purposes */\n    text-shadow: 2px -2px 0px #fa0; /* for demo purposes */\n}\n.halfStyle.hs-horizontal-third:after { /* creates the middle 1/3 */\n    display:block;\n    position:absolute;\n    z-index:1;\n    top:0;\n    height: 66.66%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    pointer-events: none; /* so the base char is selectable by mouse */\n    color: #000; /* for demo purposes */\n    text-shadow: 2px 2px 0px #af0; /* for demo purposes */\n}\n/* end half-style hs-horizontal-third */\n\n/* start half-style hs-PeelingStyle, by user SamTremaine on Stackoverflow.com */\n.halfStyle.hs-PeelingStyle {\n    position: relative;\n    display: inline-block;\n    font-size: 68px;\n    color: rgba(0, 0, 0, 0.8);\n    overflow: hidden;\n    white-space: pre;\n    transform: rotate(4deg);\n    text-shadow: 2px 1px 3px rgba(0, 0, 0, 0.3);\n}\n.halfStyle.hs-PeelingStyle:before { /* creates the left part */\n    display: block;\n    z-index: 1;\n    position: absolute;\n    top: -0.5px;\n    left: -3px;\n    width: 100%;\n    content: attr(data-content);\n    overflow: hidden;\n    pointer-events: none;\n    color: #FFF;\n    transform: rotate(-4deg);\n    text-shadow: 0px 0px 1px #000;\n}\n/* end half-style hs-PeelingStyle */\n\n/* start half-style hs-KevinGranger, by user KevinGranger on StackOverflow.com*/\n.textToHalfStyle.hs-KevinGranger {\n    display:block;\n    margin: 200px 0 0 0;\n    text-align:center;\n}\n\n.halfStyle.hs-KevinGranger {\n    font-family: 'Libre Baskerville', serif;\n    position:relative;\n    display:inline-block;\n    width:1;\n    font-size:70px;\n    color: black;\n    overflow:hidden;\n    white-space: pre;\n    text-shadow: 1px 2px 0 white;\n}\n.halfStyle.hs-KevinGranger:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:0;\n    width: 50%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n}\n/* end half-style hs-KevinGranger\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;p&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-base\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-horizontal-third\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-PeelingStyle\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n&lt;p style=\"background-color:#000;\"&gt;\n    &lt;span class=\"textToHalfStyle\" data-halfstyle=\"hs-KevinGranger\"&gt;Half-style, please.&lt;/span&gt;\n&lt;/p&gt;\n</code></pre>\n\n<h1><a href=\"http://jsfiddle.net/pd9yB/787/\">Demo</a> of Multiple Half-Styles on the same page.</h1>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23569891#23569891", "question_id": 23569441, "answer_id": 23569891}, {"body": "<p>Yes, you can do this with only one character and only CSS. </p>\n\n<p>Webkit (and Chrome) only, though:</p>\n\n<p><a href=\"http://jsbin.com/rexoyice/1/\">http://jsbin.com/rexoyice/1/</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;h1&gt;X&lt;/h1&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>h1 {\n  display: inline-block;\n  font-family: helvetica, arial, sans-serif;\n  font-weight: bold;\n  font-size: 300px;\n  background: linear-gradient(to right, #7db9e8 50%,#1e5799 50%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n</code></pre>\n\n<p>Visually, all the examples that use two characters (be it via JS, CSS pseudo elements, or just HTML) look fine, but note that that all adds content to the DOM which may cause accessibility--as well as text selection/cut/paste issues. </p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23569898#23569898", "question_id": 23569441, "answer_id": 23569898}, {"body": "<p>A nice WebKit-only solution that takes advantage of the <code>background-clip: text</code> support: <a href=\"http://jsfiddle.net/sandro_paganotti/wLkVt/\">http://jsfiddle.net/sandro_paganotti/wLkVt/</a></p>\n\n<pre><code>span{\n   font-size: 100px;\n   background: linear-gradient(to right, black, black 50%, grey 50%, grey);\n   -webkit-background-clip: text;\n   -webkit-text-fill-color: transparent;\n}\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23571018#23571018", "question_id": 23569441, "answer_id": 23571018}, {"body": "<p>Here an ugly implementation in canvas. I tried this solution, but the results are worse than I expected, so here it is anyway.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ltPQu.png\" alt=\"Canvas example\"></p>\n\n<p><a href=\"http://jsfiddle.net/kLXmL/2/\">http://jsfiddle.net/kLXmL/2/</a></p>\n\n<pre><code>&lt;div&gt;Example Text&lt;/div&gt;\n\n$(function(){\n    $(\"div\").each(function(){\n        var CHARS = $(this).text().split('');\n        $(this).html(\"\");\n        $.each(CHARS,function(index, char){\n            var canvas = $(\"&lt;canvas /&gt;\")\n                    .css(\"width\", \"40px\")\n                    .css(\"height\", \"40px\")\n                    .get(0);\n            $(\"div\").append(canvas);\n            var ctx = canvas.getContext(\"2d\");\n            var gradient = ctx.createLinearGradient(0, 0, 130, 0);\n            gradient.addColorStop(\"0\", \"blue\");\n            gradient.addColorStop(\"0.5\", \"blue\");\n            gradient.addColorStop(\"0.51\", \"red\");\n            gradient.addColorStop(\"1.0\", \"red\");\n            ctx.font = '130pt Calibri';\n            ctx.fillStyle = gradient;\n            ctx.fillText(char, 10, 130);\n        });\n    });\n});\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23572567#23572567", "question_id": 23569441, "answer_id": 23572567}, {"body": "<p>Another CSS-only solution (though data-attribute is needed if you don't want to write letter-specific CSS). This one works more across the board (Tested IE 9/10, Chrome latest &amp; FF latest)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>span {\r\n  position: relative;\r\n  color: rgba(50,50,200,0.5);\r\n}\r\n\r\nspan:before {\r\n  content: attr(data-char);\r\n  position: absolute;\r\n  width: 50%;\r\n  overflow: hidden;\r\n  color: rgb(50,50,200);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;span data-char=\"X\"&gt;X&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23616496#23616496", "question_id": 23569441, "answer_id": 23616496}, {"body": "<p>Nice trick, <a href=\"http://en.wikipedia.org/wiki/Cascading_Style_Sheets\" rel=\"nofollow\">CSS</a> is everything :)</p>\n\n<p><img src=\"http://i.stack.imgur.com/RftEr.png\" alt=\"Enter image description here\"></p>\n\n<p>I just played with @Arbel's solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  background-color: black;\r\n}\r\n.textToHalfStyle{\r\n  display: block;\r\n  margin: 200px 0 0 0;\r\n  text-align:center;\r\n}\r\n.halfStyle {\r\n  font-family: 'Libre Baskerville', serif;\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 1;\r\n  font-size: 70px;\r\n  color: black;\r\n  overflow: hidden;\r\n  white-space: pre;\r\n  text-shadow: 1px 2px 0 white;\r\n}\r\n.halfStyle:before {\r\n  display: block;\r\n  z-index: 1;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 50%;\r\n  content: attr(data-content); /* Dynamic content for the pseudo element */\r\n  overflow: hidden;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;span class=\"textToHalfStyle\"&gt;Dr. Jekyll and M. Hide&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23618313#23618313", "question_id": 23569441, "answer_id": 23618313}, {"body": "<pre><code>.halfStyle {\n    position:relative;\n    display:inline-block;\n    font-size:68px; /* or any font size will work */\n    color: rgba(0,0,0,0.8); /* or transparent, any color */\n    overflow:hidden;\n    white-space: pre; /* to preserve the spaces from collapsing */\n    transform:rotate(4deg);\n    -webkit-transform:rotate(4deg);\n    text-shadow:2px 1px 3px rgba(0,0,0,0.3);\n}\n.halfStyle:before {\n    display:block;\n    z-index:1;\n    position:absolute;\n    top:-0.5px;\n    left:-3px;\n    width: 100%;\n    content: attr(data-content); /* dynamic content for the pseudo element */\n    overflow:hidden;\n    color: white;\n    transform:rotate(-4deg);\n    -webkit-transform:rotate(-4deg);\n    text-shadow:0 0 1px black;\n\n}\n</code></pre>\n\n<p><a href=\"http://experimental.samtremaine.co.uk/half-style/\">http://experimental.samtremaine.co.uk/half-style/</a></p>\n\n<p>You can crowbar this code into doing all sorts of interesting things - this is just one implementation my associate and I came up with last night.</p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23627436#23627436", "question_id": 23569441, "answer_id": 23627436}, {"body": "<p>It may be irrelevant, maybe not, but sometime ago, I created a jQuery function that does the same thing, but horizontally.</p>\n\n<p>I called it \"Strippex\" For 'stripe'+'text', demo : <a href=\"http://cdpn.io/FcIBg\">http://cdpn.io/FcIBg</a></p>\n\n<p>I'm not saying this is the solution of any problems, but I already tried to apply css to half of a character, but horizontally, So the idea is the same, the realisation may be horrible, but it works.</p>\n\n<p>Ah, and the most important, I had fun creating it !</p>\n\n<p><img src=\"http://i.stack.imgur.com/z15N0.png\" alt=\"enter image description here\"></p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23629512#23629512", "question_id": 23569441, "answer_id": 23629512}, {"body": "<p>You can also do it using SVG, if you wish:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var title = document.querySelector('h1'),\r\n    text = title.innerHTML,\r\n    svgTemplate = document.querySelector('svg'),\r\n    charStyle = svgTemplate.querySelector('#text');\r\n\r\nsvgTemplate.style.display = 'block';\r\n\r\nvar space = 0;\r\n\r\nfor (var i = 0; i &lt; text.length; i++) {\r\n  var x = charStyle.cloneNode();\r\n  x.textContent = text[i];\r\n  svgTemplate.appendChild(x);\r\n  x.setAttribute('x', space);\r\n  space += x.clientWidth || 15;\r\n}\r\n\r\ntitle.innerHTML = '';\r\ntitle.appendChild(svgTemplate);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg style=\"display: none; height: 100px; width: 100%\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"&gt;\r\n    &lt;defs id=\"FooDefs\"&gt;\r\n        &lt;linearGradient id=\"MyGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\"&gt;\r\n            &lt;stop offset=\"50%\" stop-color=\"blue\" /&gt;\r\n            &lt;stop offset=\"50%\" stop-color=\"red\" /&gt;\r\n        &lt;/linearGradient&gt;\r\n    &lt;/defs&gt;\r\n    &lt;text y=\"50%\" id=\"text\" style=\"font-size: 72px; fill: url(#MyGradient)\"&gt;&lt;/text&gt;\r\n&lt;/svg&gt;\r\n\r\n&lt;h1&gt;This is not a solution X&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"http://codepen.io/nicbell/pen/jGcbq\">http://codepen.io/nicbell/pen/jGcbq</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23679647#23679647", "question_id": 23569441, "answer_id": 23679647}, {"body": "<p>FWIW, here's my take on this doing it only with CSS: <a href=\"http://codepen.io/ricardozea/pen/uFbts/\">http://codepen.io/ricardozea/pen/uFbts/</a></p>\n\n<p>Several notes:</p>\n\n<ul>\n<li><p>The main reason I did this was to test myself and see if I was able to accomplish styling half of a character while actually providing a meaningful answer to the OP.</p></li>\n<li><p>I am aware that this is not an ideal or the most scalable solution and the solutions proposed by the people here are far better for \"real world\" scenarios.</p></li>\n<li><p>The CSS code I created is based on the first thoughts that came to my mind and my own personal approach to the problem.</p></li>\n<li><p>My solution only works on symmetrical characters, like X, A, O, M. **It does not work on asymmetric characters like B, C, F, K or lower case letters.</p></li>\n<li><p>** HOWEVER, this approach creates very interesting 'shapes' with asymmetric characters. Try changing the X to a K or to a lower case letter like an <em>h</em> or a <em>p</em> in the CSS :)</p></li>\n</ul>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;span class=\"half-letter\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p><strong>SCSS</strong></p>\n\n<pre><code>.half-character { \n  display: inline-block;\n  font: bold 350px/.8 Arial;\n  position: relative;\n\n  &amp;:before, &amp;:after {\n    content: 'X'; //Change character here\n    display: inline-block;\n    width: 50%;\n    overflow: hidden;\n    color: #7db9e8;\n  }\n  &amp;:after {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    color: #1e5799;\n    transform: rotateY(-180deg);\n  }\n}\n</code></pre>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/23703938#23703938", "question_id": 23569441, "answer_id": 23703938}, {"body": "<p>If you are interested in this, then Lucas Bebber's Glitch is a very similar and super cool effect:</p>\n\n<p><img src=\"http://i.stack.imgur.com/63fkI.gif\" alt=\"enter image description here\"></p>\n\n<p>Created using a simple SASS Mixin such as</p>\n\n<pre><code>.example-one {\n  font-size: 100px;\n  @include textGlitch(\"example-one\", 17, white, black, red, blue, 450, 115);\n}\n</code></pre>\n\n<p>More details at <a href=\"http://css-tricks.com/glitch-effect-text-images-svg/\">Chris Coyer's CSS Tricks</a> and <a href=\"http://codepen.io/lbebber/pen/ypgql\">Lucas Bebber's Codepen page</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/26141587#26141587", "question_id": 23569441, "answer_id": 26141587}, {"body": "<p>This can be achieved with just CSS <code>:before</code> selector and <code>content property value</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.halfed, .halfed1 {\r\n  float: left;\r\n}\r\n\r\n.halfed, .halfed1 {\r\n  font-family: arial;\r\n  font-size: 300px;\r\n  font-weight: bolder;\r\n  width: 200px;\r\n  height: 300px;\r\n  position: relative; /* To help hold the content value within */\r\n  overflow: hidden;\r\n  color: #000;\r\n}\r\n\r\n\r\n\r\n\r\n.halfed:before, .halfed1:before   {\r\n  width: 50%; /* How much we'd like to show */\r\n  overflow: hidden; /* Hide what goes beyond our dimension */  \r\n  content: 'X'; /* Halfed character */\r\n  height: 100%;\r\n  position: absolute;\r\n  color: #28507D;\r\n\r\n}\r\n\r\n\r\n\r\n/* For Horizontal cut off */ \r\n\r\n.halfed1:before   {\r\n  width: 100%;\r\n  height: 55%;\r\n  \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"halfed\"&gt; X &lt;/div&gt;\r\n\r\n&lt;div class=\"halfed1\"&gt; X &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsfiddle.net/u5c03mjt/\">>> See on jsFiddle</a></p>\n", "title": "Is it possible to apply CSS to half of a character?", "tags": ["javascript", "html", "css", "styling"], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character/34792308#34792308", "question_id": 23569441, "answer_id": 34792308}], "link": "http://stackoverflow.com/questions/23569441/is-it-possible-to-apply-css-to-half-of-a-character", "question_id": 23569441}, {"body": "<p>I have recently stumbled upon the game <a href=\"http://gabrielecirulli.github.io/2048/\">2048</a>. You merge similar tiles by moving them in any of the four directions to make \"bigger\" tiles. After each move, a new tile appears at random empty position with value of either <code>2</code> or <code>4</code>. The game terminates when all the boxes are filled and there are no moves that can merge tiles, or you create a tile with a value of <code>2048</code>.</p>\n\n<p>One, I need to follow a well-defined strategy to reach the goal. So, I thought of writing a program for it.</p>\n\n<p>My current algorithm:</p>\n\n<pre><code>while (!game_over) {\n    for each possible move:\n        count_no_of_merges_for_2-tiles and 4-tiles\n    choose the move with large number of merges\n}\n</code></pre>\n\n<p>What I am doing is at any point, I will try to merge the tiles with values <code>2</code> and <code>4</code>, that is, I try to have <code>2</code> and <code>4</code> tiles, as minimum as possible. If I try it this way, all other tiles were automatically getting merged and the strategy seems good.</p>\n\n<p>But, when I actually use this algorithm, I only get around 4000 points before the game terminates. Maximum points AFAIK is slightly more than 20,000 points which is way larger than my current score. Is there a better algorithm than the above?</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "answers": [{"body": "<p><strong>EDIT:</strong> This is a naive algorithm, modelling human conscious thought process, and gets very weak results compared to AI that search all possibilities since it only looks one tile ahead. It was submitted early in the response timeline.</p>\n\n<p>I have refined the algorithm and beaten the game! It may fail due to simple bad luck close to the end (you are forced to move down, which you should never do, and a tile appears where your highest should be. Just try to keep the top row filled, so moving left does not break the pattern), but basically you end up having a fixed part and a mobile part to play with. This is your objective:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZBprh.png\" alt=\"Ready to finish\"></p>\n\n<p>This is the model I chose by default.</p>\n\n<pre><code>1024 512 256 128\n  8   16  32  64\n  4   2   x   x\n  x   x   x   x\n</code></pre>\n\n<p>The chosen corner is arbitrary, you basically never press one key (the forbidden move), and if you do, you press the contrary again and try to fix it. For future tiles the model always expects the next random tile to be a 2 and appear on the opposite side to the current model (while the first row is incomplete, on the bottom right corner, once the first row is completed, on the bottom left corner).</p>\n\n<p>Here goes the algorithm. Around 80% wins (it seems it is always possible to win with more \"professional\" AI techniques, I am not sure about this, though.)</p>\n\n<pre><code>initiateModel();\n\nwhile(!game_over)\n{    \n    checkCornerChosen(); // Unimplemented, but it might be an improvement to change the reference point\n\n    for each 3 possible move:\n        evaluateResult()\n    execute move with best score\n    if no move is available, execute forbidden move and undo, recalculateModel()\n }\n\n evaluateResult() {\n     calculatesBestCurrentModel()\n     calculates distance to chosen model\n     stores result\n }\n\n calculateBestCurrentModel() {\n      (according to the current highest tile acheived and their distribution)\n  }\n</code></pre>\n\n<p>A few pointers on the missing steps. Here: <img src=\"http://i.stack.imgur.com/oe0QJ.png\" alt=\"model change\"></p>\n\n<p>The model has changed due to the luck of being closer to the expected model. The model the AI is trying to achieve is</p>\n\n<pre><code> 512 256 128  x\n  X   X   x   x\n  X   X   x   x\n  x   x   x   x\n</code></pre>\n\n<p>And the chain to get there has become:</p>\n\n<pre><code> 512 256  64  O\n  8   16  32  O\n  4   x   x   x\n  x   x   x   x\n</code></pre>\n\n<p>The <code>O</code> represent forbidden spaces... </p>\n\n<p>So it will press right, then right again, then (right or top depending on where the 4 has created) then will proceed to complete the chain until it gets:</p>\n\n<p><img src=\"http://i.stack.imgur.com/FCQKU.png\" alt=\"Chain completed\"></p>\n\n<p>So now the model and chain are back to:</p>\n\n<pre><code> 512 256 128  64\n  4   8  16   32\n  X   X   x   x\n  x   x   x   x\n</code></pre>\n\n<p>Second pointer, it has had bad luck and its main spot has been taken. It is likely that it will fail, but it can still achieve it:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ERU2p.png\" alt=\"Enter image description here\"></p>\n\n<p>Here the model and chain is:</p>\n\n<pre><code>  O 1024 512 256\n  O   O   O  128\n  8  16   32  64\n  4   x   x   x\n</code></pre>\n\n<p>When it manages to reach the 128 it gains a whole row is gained again:</p>\n\n<pre><code>  O 1024 512 256\n  x   x  128 128\n  x   x   x   x\n  x   x   x   x\n</code></pre>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22357256#22357256", "question_id": 22342854, "answer_id": 22357256}, {"body": "<p>I think I found an algorithm which works quite well, as I often reach scores over 10000, my personal best being around 16000. My solution does not aim at keeping biggest numbers in a corner, but to keep it in the top row.             </p>\n\n<p>Please see the code below:</p>\n\n<pre><code>while( !game_over ) {\n    move_direction=up;\n    if( !move_is_possible(up) ) {\n        if( move_is_possible(right) &amp;&amp; move_is_possible(left) ){\n            if( number_of_empty_cells_after_moves(left,up) &gt; number_of_empty_cells_after_moves(right,up) ) \n                move_direction = left;\n            else\n                move_direction = right;\n        } else if ( move_is_possible(left) ){\n            move_direction = left;\n        } else if ( move_is_possible(right) ){\n            move_direction = right;\n        } else {\n            move_direction = down;\n        }\n    }\n    do_move(move_direction);\n}\n</code></pre>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22361253#22361253", "question_id": 22342854, "answer_id": 22361253}, {"body": "<p><strong>Algorithm</strong></p>\n\n<pre><code>while(!game_over)\n{\n    for each possible move:\n        evaluate next state\n\n    choose the maximum evaluation\n}\n</code></pre>\n\n<p><strong>Evaluation</strong></p>\n\n<pre><code>Evaluation =\n    128 (Constant)\n    + (Number of Spaces x 128)\n    + Sum of faces adjacent to a space { (1/face) x 4096 }\n    + Sum of other faces { log(face) x 4 }\n    + (Number of possible next moves x 256)\n    + (Number of aligned values x 2)\n</code></pre>\n\n<hr>\n\n<p><strong>Evaluation Details</strong></p>\n\n<pre><code>128 (Constant)\n</code></pre>\n\n<p>This is a constant, used as a base-line and for other uses like testing.</p>\n\n<pre><code>+ (Number of Spaces x 128)\n</code></pre>\n\n<p>More spaces makes the state more flexible, we multiply by 128 (which is the median) since a grid filled with 128 faces is an optimal impossible state.</p>\n\n<pre><code>+ Sum of faces adjacent to a space { (1/face) x 4096 }\n</code></pre>\n\n<p>Here we evaluate faces that have the possibility to getting to merge, by evaluating them backwardly, tile 2 become of value 2048, while tile 2048 is evaluated 2.</p>\n\n<pre><code>+ Sum of other faces { log(face) x 4 }\n</code></pre>\n\n<p>In here we still need to check for stacked values, but in a lesser way that doesn't interrupt the flexibility parameters, so we have the sum of { x in [4,44] }.</p>\n\n<pre><code>+ (Number of possible next moves x 256)\n</code></pre>\n\n<p>A state is more flexible if it has more freedom of possible transitions.</p>\n\n<pre><code>+ (Number of aligned values x 2)\n</code></pre>\n\n<p>This is a simplified check of the possibility of having merges within that state, without making a look-ahead.</p>\n\n<p><em>Note: The constants can be tweaked..</em></p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22362818#22362818", "question_id": 22342854, "answer_id": 22362818}, {"body": "<p>There is already an AI implementation for this game: <a href=\"https://github.com/ov3y/2048-AI\">here</a>. Excerpt from README:</p>\n\n<blockquote>\n  <p>The algorithm is iterative deepening depth first alpha-beta search. The evaluation function tries to keep the rows and columns monotonic (either all decreasing or increasing) while minimizing the number of tiles on the grid.</p>\n</blockquote>\n\n<p>There is also a discussion on <a href=\"https://news.ycombinator.com/item?id=7379821\">ycombinator</a> about this algorithm that you may find useful.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22373932#22373932", "question_id": 22342854, "answer_id": 22373932}, {"body": "<p>I'm the author of the AI program that others have mentioned in this thread. You can view the AI in <a href=\"http://ovolve.github.io/2048-AI/\">action</a> or read the <a href=\"https://github.com/ovolve/2048-AI\">source</a>.</p>\n\n<p>Currently, the program achieves about a 90% win rate running in javascript in the browser on my laptop given about 100 milliseconds of thinking time per move, so while not perfect (yet!) it performs pretty well.</p>\n\n<p>Since the game is a discrete state space, perfect information, turn-based game like chess and checkers, I used the same methods that have been proven to work on those games, namely <a href=\"http://www.flyingmachinestudios.com/programming/minimax/\">minimax</a> <a href=\"http://xkcd.com/832/\">search</a> with <a href=\"http://cs.ucla.edu/~rosen/161/notes/alphabeta.html\">alpha-beta pruning</a>. Since there is already a lot of info on that algorithm out there, I'll just talk about the two main heuristics that I use in the <a href=\"http://en.wikipedia.org/wiki/Evaluation_function\">static evaluation function</a> and which formalize many of the intuitions that other people have expressed here.</p>\n\n<h3>Monotonicity</h3>\n\n<p>This heuristic tries to ensure that the values of the tiles are all either increasing or decreasing along both the left/right and up/down directions. This heuristic alone captures the intuition that many others have mentioned, that higher valued tiles should be clustered in a corner. It will typically prevent smaller valued tiles from getting orphaned and will keep the board very organized, with smaller tiles cascading in and filling up into the larger tiles.</p>\n\n<p>Here's a screenshot of a perfectly monotonic grid. I obtained this by running the algorithm with the eval function set to disregard the other heuristics and only consider monotonicity.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Oce4N.png\" alt=\"A perfectly monotonic 2048 board\"></p>\n\n<h3>Smoothness</h3>\n\n<p>The above heuristic alone tends to create structures in which adjacent tiles are decreasing in value, but of course in order to merge, adjacent tiles need to be the same value. Therefore, the smoothness heuristic just measures the value difference between neighboring tiles, trying to minimize this count. </p>\n\n<p>A commenter on Hacker News gave <a href=\"https://news.ycombinator.com/item?id=7381082\">an interesting formalization</a> of this idea in terms of graph theory. </p>\n\n<p>Here's a screenshot of a perfectly smooth grid, courtesy of <a href=\"http://jennypeng.me/2048/\">this excellent parody fork</a>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/wxgDV.png\" alt=\"A perfectly smooth 2048 board\"></p>\n\n<h3>Free Tiles</h3>\n\n<p>And finally, there is a penalty for having too few free tiles, since options can quickly run out when the game board gets too cramped.</p>\n\n<p>And that's it! Searching through the game space while optimizing these criteria yields remarkably good performance. One advantage to using a generalized approach like this rather than an explicitly coded move strategy is that the algorithm can often find interesting and unexpected solutions. If you watch it run, it will often make surprising but effective moves, like suddenly switching which wall or corner it's building up against.</p>\n\n<h2><em>Edit:</em></h2>\n\n<p>Here's a demonstration of the power of this approach. I uncapped the tile values (so it kept going after reaching 2048) and here is the best result after eight trials.</p>\n\n<p><img src=\"https://i.stack.imgur.com/x69jZ.png\" alt=\"4096\"></p>\n\n<p>Yes, that's a 4096 alongside a 2048. =) That means it achieved the elusive 2048 tile three times on the same board. </p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22389702#22389702", "question_id": 22342854, "answer_id": 22389702}, {"body": "<p>This algorithm is not optimal for winning the game, but it is fairly optimal in terms of performance and amount of code needed:</p>\n\n<pre><code>  if(can move neither right, up or down)\n    direction = left\n  else\n  {\n    do\n    {\n      direction = random from (right, down, up)\n    }\n    while(can not move in \"direction\")\n  }\n</code></pre>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22416421#22416421", "question_id": 22342854, "answer_id": 22416421}, {"body": "<p>I developed a 2048 AI using <em>expectimax</em> optimization, instead of the minimax search used by @ovolve's algorithm. The AI simply performs maximization over all possible moves, followed by expectation over all possible tile spawns (weighted by the probability of the tiles, i.e. 10% for a 4 and 90% for a 2). As far as I'm aware, it is not possible to prune expectimax optimization (except to remove branches that are exceedingly unlikely), and so the algorithm used is a carefully optimized brute force search.</p>\n\n<h2>Performance</h2>\n\n<p>The AI in its default configuration (max search depth of 8) takes anywhere from 10ms to 200ms to execute a move, depending on the complexity of the board position. In testing, the AI achieves an average move rate of 5-10 moves per second over the course of an entire game. If the search depth is limited to 6 moves, the AI can easily execute 20+ moves per second, which makes for some <a href=\"https://www.youtube.com/watch?v=96ab_dK6JM0\">interesting watching</a>.</p>\n\n<p>To assess the score performance of the AI, I ran the AI 100 times (connected to the browser game via remote control). For each tile, here are the proportions of games in which that tile was achieved at least once:</p>\n\n<pre><code>2048: 100%\n4096: 100%\n8192: 100%\n16384: 94%\n32768: 36%\n</code></pre>\n\n<p>The minimum score over all runs was 124024; the maximum score achieved was 794076. The median score is 387222. The AI never failed to obtain the 2048 tile (so it never lost the game even once in 100 games); in fact, it achieved the <strong>8192</strong> tile at least once in every run!</p>\n\n<p>Here's the screenshot of the best run:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jG2CL.png\" alt=\"32768 tile, score 794076\"></p>\n\n<p>This game took 27830 moves over 96 minutes, or an average of 4.8 moves per second. </p>\n\n<h2>Implementation</h2>\n\n<p>My approach encodes the entire board (16 entries) as a single 64-bit integer (where tiles are the nybbles, i.e. 4-bit chunks). On a 64-bit machine, this enables the entire board to be passed around in a single machine register.</p>\n\n<p>Bit shift operations are used to extract individual rows and columns. A single row or column is a 16-bit quantity, so a table of size 65536 can encode transformations which operate on a single row or column. For example, moves are implemented as 4 lookups into a precomputed \"move effect table\" which describes how each move affects a single row or column (for example, the \"move right\" table contains the entry \"1122 -> 0023\" describing how the row [2,2,4,4] becomes the row [0,0,4,8] when moved to the right).</p>\n\n<p>Scoring is also done using table lookup. The tables contain heuristic scores computed on all possible rows/columns, and the resultant score for a board is simply the sum of the table values across each row and column.</p>\n\n<p>This board representation, along with the table lookup approach for movement and scoring, allows the AI to search a huge number of game states in a short period of time (over 10,000,000 game states per second on one core of my mid-2011 laptop).</p>\n\n<p>The expectimax search itself is coded as a recursive search which alternates between \"expectation\" steps (testing all possible tile spawn locations and values, and weighting their optimized scores by the probability of each possibility), and \"maximization\" steps (testing all possible moves and selecting the one with the best score). The tree search terminates when it sees a previously-seen position (using a <a href=\"http://en.wikipedia.org/wiki/Transposition_table\">transposition table</a>), when it reaches a predefined depth limit, or when it reaches a board state that is highly unlikely (e.g. it was reached by getting 6 \"4\" tiles in a row from the starting position). The typical search depth is 4-8 moves.</p>\n\n<h2>Heuristics</h2>\n\n<p>Several heuristics are used to direct the optimization algorithm towards favorable positions. The precise choice of heuristic has a huge effect on the performance of the algorithm. The various heuristics are weighted and combined into a positional score, which determines how \"good\" a given board position is. The optimization search will then aim to maximize the average score of all possible board positions. The actual score, as shown by the game, is <em>not</em> used to calculate the board score, since it is too heavily weighted in favor of merging tiles (when delayed merging could produce a large benefit).</p>\n\n<p>Initially, I used two very simple heuristics, granting \"bonuses\" for open squares and for having large values on the edge. These heuristics performed pretty well, frequently achieving 16384 but never getting to 32768.</p>\n\n<p>Petr Mor\u00e1vek (@xificurk) took my AI and added two new heuristics. The first heuristic was a penalty for having non-monotonic rows and columns which increased as the ranks increased, ensuring that  non-monotonic rows of small numbers would not strongly affect the score, but non-monotonic rows of large numbers hurt the score substantially. The second heuristic counted the number of potential merges (adjacent equal values) in addition to open spaces. These two heuristics served to push the algorithm towards monotonic boards (which are easier to merge), and towards board positions with lots of merges (encouraging it to align merges where possible for greater effect).</p>\n\n<p>Furthermore, Petr also optimized the heuristic weights using a \"meta-optimization\" strategy (using an algorithm called <a href=\"https://en.wikipedia.org/wiki/CMA-ES\">CMA-ES</a>), where the weights themselves were adjusted to obtain the highest possible average score.</p>\n\n<p>The effect of these changes are extremely significant. The algorithm went from achieving the 16384 tile around 13% of the time to achieving it over 90% of the time, and the algorithm began to achieve 32768 over 1/3 of the time (whereas the old heuristics never once produced a 32768 tile).</p>\n\n<p>I believe there's still room for improvement on the heuristics. This algorithm definitely isn't yet \"optimal\", but I feel like it's getting pretty close.</p>\n\n<hr>\n\n<p>That the AI achieves the 32768 tile in over a third of its games is a huge milestone; I will be surprised to hear if any human players have achieved 32768 on the official game (i.e. without using tools like savestates or undo). I think the 65536 tile is within reach!</p>\n\n<p>You can try the AI for yourself. The code is available at <a href=\"https://github.com/nneonneo/2048-ai\">https://github.com/nneonneo/2048-ai</a>.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22498940#22498940", "question_id": 22342854, "answer_id": 22498940}, {"body": "<p>I copy here the content of a <a href=\"http://diaryofatinker.blogspot.it/2014/03/an-artificial-intelligence-for-2048-game.html\">post on my blog</a></p>\n\n<hr>\n\n<p>The solution I propose is very simple and easy to implement. Although, it has reached the score of 131040. Several benchmarks of the algorithm performances are presented.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ahJt2.png\" alt=\"Score\"></p>\n\n<h2><strong>Algorithm</strong></h2>\n\n<p><strong>Heuristic scoring algorithm</strong></p>\n\n<p>The assumption on which my algorithm is based is rather simple: if you want to achieve higher score, the board must be kept as tidy as possible. In particular, the optimal setup is given by a linear and monotonic decreasing order of the tile values.\nThis intuition will give you also the upper bound for a tile value: <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=2%5E%7Bn%7D%20%5Crightarrow%202%5E%7B16%7D%20%3D%2065536\" alt=\"s\"> where n is the number of tile on the board. </p>\n\n<p>(There's a possibility to reach the 131072 tile if the 4-tile is randomly generated instead of the 2-tile when needed)</p>\n\n<p>Two possible ways of organizing the board are shown in the following images:</p>\n\n<p><img src=\"http://i.stack.imgur.com/pNEFG.png\" alt=\"enter image description here\"></p>\n\n<p>To enforce the ordination of the tiles in a monotonic decreasing order, the score si computed as the sum of the linearized values on the board multiplied by the values of a geometric sequence with common ratio r&lt;1 .</p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=p_n%20%5Cin%20Path_%7B0%20%5Ccdots%20N-1%7D\" alt=\"s\"></p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=score%20%3D%20%5Csum_%7Bn%3D0%7D%5E%7BN-1%7D%20value%28p_n%29%20%2a%20r%5En\" alt=\"s\"></p>\n\n<p>Several linear path could be evaluated at once, the final score will be the maximum score of any path.</p>\n\n<p><strong>Decision rule</strong></p>\n\n<p>The decision rule implemented is not quite smart, the code in Python is presented here:</p>\n\n<pre><code>@staticmethod\ndef nextMove(board,recursion_depth=3):\n    m,s = AI.nextMoveRecur(board,recursion_depth,recursion_depth)\n    return m\n\n@staticmethod\ndef nextMoveRecur(board,depth,maxDepth,base=0.9):\n    bestScore = -1.\n    bestMove = 0\n    for m in range(1,5):\n        if(board.validMove(m)):\n            newBoard = copy.deepcopy(board)\n            newBoard.move(m,add_tile=True)\n\n            score = AI.evaluate(newBoard)\n            if depth != 0:\n                my_m,my_s = AI.nextMoveRecur(newBoard,depth-1,maxDepth)\n                score += my_s*pow(base,maxDepth-depth+1)\n\n            if(score &gt; bestScore):\n                bestMove = m\n                bestScore = score\n    return (bestMove,bestScore);\n</code></pre>\n\n<p>An implementation of the minmax or the Expectiminimax will surely improve the algorithm. Obviously a more\nsophisticated decision rule will slow down the algorithm and it will require some time to be implemented.I will try a minimax implementation in the near future. (stay tuned)</p>\n\n<h2>Benchmark</h2>\n\n<ul>\n<li>T1 - 121 tests - 8 different paths - r=0.125  </li>\n<li>T2 - 122 tests - 8-different paths - r=0.25  </li>\n<li>T3 - 132 tests - 8-different paths - r=0.5 </li>\n<li>T4 - 211 tests - 2-different paths - r=0.125 </li>\n<li>T5 - 274 tests - 2-different paths - r=0.25 </li>\n<li>T6 - 211 tests - 2-different paths - r=0.5</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/6w4qY.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/gYbmS.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/suxOr.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/KQi8C.png\" alt=\"enter image description here\"></p>\n\n<p>In case of T2, four tests in ten generate the 4096 tile with an average score of <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Csim%20\" alt=\"s\"> 42000</p>\n\n<h2>Code</h2>\n\n<p>The code can be found on GiHub at the following link: <a href=\"https://github.com/Nicola17/term2048-AI\">https://github.com/Nicola17/term2048-AI</a>\nIt is based on <a href=\"https://github.com/bfontaine/term2048\">term2048</a> and it's written in Python. I will implement a more efficient version in C++ as soon as possible.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22674149#22674149", "question_id": 22342854, "answer_id": 22674149}, {"body": "<p>I wrote a 2048 solver in Haskell, mainly because I'm learning this language right now.</p>\n\n<p>My implementation of the game slightly differs from the actual game, in that a new tile is always a '2' (rather than 90% 2 and 10% 4). And that the new tile is not random, but always the first available one from the top left.</p>\n\n<p>As a consequence, this solver is deterministic.</p>\n\n<p>I used an exhaustive algorithm that favours empty tiles. It performs pretty quickly for depth 1-4, but on depth 5 it gets rather slow at a around 1 second per move.</p>\n\n<p>Below is the code implementing the solving algorithm. The grid is represented as a 16-length array of Integers. And scoring is done simply by counting the number of empty squares.</p>\n\n<pre><code>bestMove :: Int -&gt; [Int] -&gt; Int\nbestMove depth grid = maxTuple [ (gridValue depth (takeTurn x grid), x) | x &lt;- [0..3], takeTurn x grid /= [] ]\n\ngridValue :: Int -&gt; [Int] -&gt; Int\ngridValue _ [] = -1\ngridValue 0 grid = length $ filter (==0) grid  -- &lt;= SCORING\ngridValue depth grid = maxInList [ gridValue (depth-1) (takeTurn x grid) | x &lt;- [0..3] ]\n</code></pre>\n\n<p>I thinks it's quite successful for its simplicity. The result it reaches when starting with an empty grid and solving at depth 5 is:</p>\n\n<pre><code>Move 4006\n[2,64,16,4]\n[16,4096,128,512]\n[2048,64,1024,16]\n[2,4,16,2]\n\nGame Over\n</code></pre>\n\n<p>Source code can be found here: <a href=\"https://github.com/popovitsj/2048-haskell\">https://github.com/popovitsj/2048-haskell</a></p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/22851600#22851600", "question_id": 22342854, "answer_id": 22851600}, {"body": "<p>I became interested in the idea of an AI for this game containing <strong>no hard-coded intelligence</strong> (i.e no heuristics, scoring functions etc). The AI should <em>\"know\"</em> only the game rules, and <em>\"figure out\"</em> the game play. This is in contrast to most AIs (like the ones in this thread) where the game play is essentially brute force steered by a scoring function representing human understanding of the game.</p>\n\n<h2>AI Algorithm</h2>\n\n<p>I found a simple yet surprisingly good playing algorithm: To determine the move for a given board, the AI plays the game til the end using <strong>random moves</strong>. This is done many times while keeping track of the end score. Then the average end score <em>per starting move</em> is calculated. The move with the highest score is chosen.</p>\n\n<p>Using just 100 runs per move the AI achieves the 2048 tile 80% of the times and the 4096 tile 50% of the times. Using 10000 runs gets the 2048 tile 100%, 70% for 4096 tile, and about 1% for the 8192 tile.</p>\n\n<p><a href=\"http://ronzil.github.io/2048-AI/\">See it in action</a></p>\n\n<p>The best achieved score is shown here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/zk5Pu.png\" alt=\"best score\"></p>\n\n<p>An interesting fact about this AI is that the random-play games are (unsurprisingly) quite bad, yet choosing the best (or least bad) move leads to very good game play: A typical AI game can reach 70000 points and last 3000 moves, yet the random-play runs yield an average of 340 extra points and only 40 moves before dying. (You can see this for yourself by running the AI and opening the debug console.)</p>\n\n<p>This graph illustrates this point: The blue line shows the board score after each move. The red line shows the AI's best end game score at that point. In essence, the red values are \"pulling\" the blue values upwards towards them, as they are the AI's best guess. Note that the red line is just a tiny bit over the blue line at each point, yet the blue line continues to increase more and more.</p>\n\n<p><img src=\"http://i.stack.imgur.com/gXI6b.png\" alt=\"scoring graph\"></p>\n\n<p>I find this quite surprising, that the AI doesn't need to actually foresee good game play in order to chose the moves that produce it.</p>\n\n<p>Searching later I found this algorithm might be classified as a <a href=\"http://en.wikipedia.org/wiki/Monte-Carlo_tree_search#Pure_Monte_Carlo_game_search\">Pure Monte Carlo Tree Search</a> algorithm.</p>\n\n<h2>Implementation and Links</h2>\n\n<p>First I created a JavaScript version which can be <a href=\"http://ronzil.github.io/2048-AI/\">seen in action here</a>. This version can run 100's of runs in decent time. Open the console for extra info. \n(<a href=\"https://github.com/ronzil/2048-AI\">source</a>)</p>\n\n<p>Later, in order to play around some more I used @nneonneo highly optimized infrastructure and implemented my version in C++. This version allows for up to 100000 runs per move and even 1000000 if you have the patience. Building instructions provided. It runs in the console and also has a remote-control to play the web version.\n(<a href=\"https://github.com/ronzil/2048-ai-cpp\">source</a>)</p>\n\n<h2>Results</h2>\n\n<p>Surprisingly, increasing the number of runs does not drastically improve the game play. There seems to be a limit to this strategy at around 80000 points with the 4096 tile and all the smaller ones, very close to the achieving the 8192 tile. Increasing the number of runs from 100 to 100000 increases the <strong>odds</strong> of getting to around this score limit (from 5% to 40%) but not breaking through it. </p>\n\n<p>Running 10000 runs with a temporary increase to 1000000 near critical positions managed to break this barrier less than 1% of the times achieving a max score of 129892 and a 8192 tile.</p>\n\n<h2>Improvements</h2>\n\n<p>After implementing this algorithm I tried many improvements including using the min or max scores, or a combination of min,max,and avg. I also tried using depth: Instead of trying K runs per move, I tried K moves per move <em>list</em> of a given length (\"up,up,left\" for example) and selecting the first move of the best scoring move list.</p>\n\n<p>Later I implemented a scoring tree that took into account the conditional probability of being able to play a move after a given move list.</p>\n\n<p>However, none of these ideas showed any real advantage over the simple first idea. I left the code for these ideas commented out in the C++ code.</p>\n\n<p>I did add a \"Deep Search\" mechanism that increased the run number temporarily to 1000000 when any of the runs managed to accidentally reach the next highest tile. This offered a time improvement. </p>\n\n<p>I'd be interested to hear if anyone has other improvement ideas that maintain the domain-independence of the AI.</p>\n\n<h2>2048 Variants and Clones</h2>\n\n<p>Just for fun, I've also <a href=\"http://ronzil.github.io/2048AI-AllClones/\">implemented the AI as a bookmarklet</a>, hooking into the game's controls. This allows the AI to work with the original game and <strong>many of its variants</strong>.</p>\n\n<p>This is possible due to domain-independent nature of the AI. Some of the variants are quite distinct, such as the Hexagonal clone.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/23853848#23853848", "question_id": 22342854, "answer_id": 23853848}, {"body": "<p>My attempt uses expectimax like others solutions above, but without bitboards. Nneonneo's solution can check 10millions of moves which is approximately a depth of 4 with 6 tiles left and 4 moves possible (2*6*4)<sup>4</sup>. In my case, this depth takes too long to explore, I adjust the depth of expectimax search according to the number of free tiles left:</p>\n\n<pre><code>depth = free &gt; 7 ? 1 : (free &gt; 4 ? 2 : 3)\n</code></pre>\n\n<p>The scores of the boards are computed with the weighted sum of the square of the number of free tiles and the dot product of the 2D grid with this:</p>\n\n<pre><code>[[10,8,7,6.5],\n [.5,.7,1,3],\n [-.5,-1.5,-1.8,-2],\n [-3.8,-3.7,-3.5,-3]]\n</code></pre>\n\n<p>which forces to organize tiles descendingly in a sort of snake from the top left tile.</p>\n\n<p>Code below or <a href=\"http://jsbin.com/yawewe\">jsbin</a>:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  \r\nvar n = 4,\r\n\tM = new MatrixTransform(n);\r\n\r\nvar ai = {weights: [1, 1], depth: 1}; // depth=1 by default, but we adjust it on every prediction according to the number of free tiles\r\n\r\nvar snake= [[10,8,7,6.5],\r\n            [.5,.7,1,3],\r\n            [-.5,-1.5,-1.8,-2],\r\n            [-3.8,-3.7,-3.5,-3]]\r\nsnake=snake.map(function(a){return a.map(Math.exp)})\r\n\r\ninitialize(ai)\r\n\r\nfunction run(ai) {\r\n\tvar p;\r\n\twhile ((p = predict(ai)) != null) {\r\n\t\tmove(p, ai);\r\n\t}\r\n\t//console.log(ai.grid , maxValue(ai.grid))\r\n\tai.maxValue = maxValue(ai.grid)\r\n\tconsole.log(ai)\r\n}\r\n\r\nfunction initialize(ai) {\r\n\tai.grid = [];\r\n\tfor (var i = 0; i &lt; n; i++) {\r\n\t\tai.grid[i] = []\r\n\t\tfor (var j = 0; j &lt; n; j++) {\r\n\t\t\tai.grid[i][j] = 0;\r\n\t\t}\r\n\t}\r\n\trand(ai.grid)\r\n\trand(ai.grid)\r\n\tai.steps = 0;\r\n}\r\n\r\nfunction move(p, ai) { //0:up, 1:right, 2:down, 3:left\r\n\tvar newgrid = mv(p, ai.grid);\r\n\tif (!equal(newgrid, ai.grid)) {\r\n\t\t//console.log(stats(newgrid, ai.grid))\r\n\t\tai.grid = newgrid;\r\n\t\ttry {\r\n\t\t\trand(ai.grid)\r\n\t\t\tai.steps++;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log('no room', e)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction predict(ai) {\r\n\tvar free = freeCells(ai.grid);\r\n\tai.depth = free &gt; 7 ? 1 : (free &gt; 4 ? 2 : 3);\r\n\tvar root = {path: [],prob: 1,grid: ai.grid,children: []};\r\n\tvar x = expandMove(root, ai)\r\n\t//console.log(\"number of leaves\", x)\r\n\t//console.log(\"number of leaves2\", countLeaves(root))\r\n\tif (!root.children.length) return null\r\n\tvar values = root.children.map(expectimax);\r\n\tvar mx = max(values);\r\n\treturn root.children[mx[1]].path[0]\r\n\r\n}\r\n\r\nfunction countLeaves(node) {\r\n\tvar x = 0;\r\n\tif (!node.children.length) return 1;\r\n\tfor (var n of node.children)\r\n\t\tx += countLeaves(n);\r\n\treturn x;\r\n}\r\n\r\nfunction expectimax(node) {\r\n\tif (!node.children.length) {\r\n\t\treturn node.score\r\n\t} else {\r\n\t\tvar values = node.children.map(expectimax);\r\n\t\tif (node.prob) { //we are at a max node\r\n\t\t\treturn Math.max.apply(null, values)\r\n\t\t} else { // we are at a random node\r\n\t\t\tvar avg = 0;\r\n\t\t\tfor (var i = 0; i &lt; values.length; i++)\r\n\t\t\t\tavg += node.children[i].prob * values[i]\r\n\t\t\treturn avg / (values.length / 2)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction expandRandom(node, ai) {\r\n\tvar x = 0;\r\n\tfor (var i = 0; i &lt; node.grid.length; i++)\r\n\t\tfor (var j = 0; j &lt; node.grid.length; j++)\r\n\t\t\tif (!node.grid[i][j]) {\r\n\t\t\t\tvar grid2 = M.copy(node.grid),\r\n\t\t\t\t\tgrid4 = M.copy(node.grid);\r\n\t\t\t\tgrid2[i][j] = 2;\r\n\t\t\t\tgrid4[i][j] = 4;\r\n\t\t\t\tvar child2 = {grid: grid2,prob: .9,path: node.path,children: []};\r\n\t\t\t\tvar child4 = {grid: grid4,prob: .1,path: node.path,children: []}\r\n\t\t\t\tnode.children.push(child2)\r\n\t\t\t\tnode.children.push(child4)\r\n\t\t\t\tx += expandMove(child2, ai)\r\n\t\t\t\tx += expandMove(child4, ai)\r\n\t\t\t}\r\n\treturn x;\r\n}\r\n\r\nfunction expandMove(node, ai) { // node={grid,path,score}\r\n\tvar isLeaf = true,\r\n\t\tx = 0;\r\n\tif (node.path.length &lt; ai.depth) {\r\n\t\tfor (var move of[0, 1, 2, 3]) {\r\n\t\t\tvar grid = mv(move, node.grid);\r\n\t\t\tif (!equal(grid, node.grid)) {\r\n\t\t\t\tisLeaf = false;\r\n\t\t\t\tvar child = {grid: grid,path: node.path.concat([move]),children: []}\r\n\t\t\t\tnode.children.push(child)\r\n\t\t\t\tx += expandRandom(child, ai)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (isLeaf) node.score = dot(ai.weights, stats(node.grid))\r\n\treturn isLeaf ? 1 : x;\r\n}\r\n\r\n\r\n\r\nvar cells = []\r\nvar table = document.querySelector(\"table\");\r\nfor (var i = 0; i &lt; n; i++) {\r\n\tvar tr = document.createElement(\"tr\");\r\n\tcells[i] = [];\r\n\tfor (var j = 0; j &lt; n; j++) {\r\n\t\tcells[i][j] = document.createElement(\"td\");\r\n\t\ttr.appendChild(cells[i][j])\r\n\t}\r\n\ttable.appendChild(tr);\r\n}\r\n\r\nfunction updateUI(ai) {\r\n\tcells.forEach(function(a, i) {\r\n\t\ta.forEach(function(el, j) {\r\n\t\t\tel.innerHTML = ai.grid[i][j] || ''\r\n\t\t})\r\n\t});\r\n}\r\nupdateUI(ai)\r\n\r\nfunction runAI() {\r\n\tvar p = predict(ai);\r\n\tif (p != null &amp;&amp; ai.running) {\r\n\t\tmove(p, ai)\r\n\t\tupdateUI(ai)\r\n\t\trequestAnimationFrame(runAI)\r\n\t}\r\n}\r\nrunai.onclick = function() {\r\n\tif (!ai.running) {\r\n\t\tthis.innerHTML = 'stop AI';\r\n\t\tai.running = true;\r\n\t\trunAI();\r\n\t} else {\r\n\t\tthis.innerHTML = 'run AI';\r\n\t\tai.running = false;\r\n\t}\r\n}\r\n\r\n\r\nhint.onclick = function() {\r\n\thintvalue.innerHTML = ['up', 'right', 'down', 'left'][predict(ai)]\r\n}\r\ndocument.addEventListener(\"keydown\", function(event) {\r\n\tif (event.which in map) {\r\n\t\tmove(map[event.which], ai)\r\n\t\tconsole.log(stats(ai.grid))\r\n\t\tupdateUI(ai)\r\n\t}\r\n})\r\nvar map = {\r\n\t38: 0, // Up\r\n\t39: 1, // Right\r\n\t40: 2, // Down\r\n\t37: 3, // Left\r\n};\r\ninit.onclick = function() {\r\n\tinitialize(ai);\r\n\tupdateUI(ai)\r\n}\r\n\r\n\r\nfunction stats(grid, previousGrid) {\r\n\r\n\tvar free = freeCells(grid);\r\n\r\n\tvar c = dot2(grid, snake);\r\n\r\n\treturn [c, free * free];\r\n}\r\n\r\nfunction dist2(a, b) { //squared 2D distance\r\n\treturn Math.pow(a[0] - b[0], 2) + Math.pow(a[1] - b[1], 2)\r\n}\r\n\r\nfunction dot(a, b) {\r\n\tvar r = 0;\r\n\tfor (var i = 0; i &lt; a.length; i++)\r\n\t\tr += a[i] * b[i];\r\n\treturn r\r\n}\r\n\r\nfunction dot2(a, b) {\r\n\tvar r = 0;\r\n\tfor (var i = 0; i &lt; a.length; i++)\r\n\t\tfor (var j = 0; j &lt; a[0].length; j++)\r\n\t\t\tr += a[i][j] * b[i][j]\r\n\treturn r;\r\n}\r\n\r\nfunction product(a) {\r\n\treturn a.reduce(function(v, x) {\r\n\t\treturn v * x\r\n\t}, 1)\r\n}\r\n\r\nfunction maxValue(grid) {\r\n\treturn Math.max.apply(null, grid.map(function(a) {\r\n\t\treturn Math.max.apply(null, a)\r\n\t}));\r\n}\r\n\r\nfunction freeCells(grid) {\r\n\treturn grid.reduce(function(v, a) {\r\n\t\treturn v + a.reduce(function(t, x) {\r\n\t\t\treturn t + (x == 0)\r\n\t\t}, 0)\r\n\t}, 0)\r\n}\r\n\r\nfunction max(arr) { // return [value, index] of the max\r\n\tvar m = [-Infinity, null];\r\n\tfor (var i = 0; i &lt; arr.length; i++) {\r\n\t\tif (arr[i] &gt; m[0]) m = [arr[i], i];\r\n\t}\r\n\treturn m\r\n}\r\n\r\nfunction min(arr) { // return [value, index] of the min\r\n\tvar m = [Infinity, null];\r\n\tfor (var i = 0; i &lt; arr.length; i++) {\r\n\t\tif (arr[i] &lt; m[0]) m = [arr[i], i];\r\n\t}\r\n\treturn m\r\n}\r\n\r\nfunction maxScore(nodes) {\r\n\tvar min = {\r\n\t\tscore: -Infinity,\r\n\t\tpath: []\r\n\t};\r\n\tfor (var node of nodes) {\r\n\t\tif (node.score &gt; min.score) min = node;\r\n\t}\r\n\treturn min;\r\n}\r\n\r\n\r\nfunction mv(k, grid) {\r\n\tvar tgrid = M.itransform(k, grid);\r\n\tfor (var i = 0; i &lt; tgrid.length; i++) {\r\n\t\tvar a = tgrid[i];\r\n\t\tfor (var j = 0, jj = 0; j &lt; a.length; j++)\r\n\t\t\tif (a[j]) a[jj++] = (j &lt; a.length - 1 &amp;&amp; a[j] == a[j + 1]) ? 2 * a[j++] : a[j]\r\n\t\tfor (; jj &lt; a.length; jj++)\r\n\t\t\ta[jj] = 0;\r\n\t}\r\n\treturn M.transform(k, tgrid);\r\n}\r\n\r\nfunction rand(grid) {\r\n\tvar r = Math.floor(Math.random() * freeCells(grid)),\r\n\t\t_r = 0;\r\n\tfor (var i = 0; i &lt; grid.length; i++) {\r\n\t\tfor (var j = 0; j &lt; grid.length; j++) {\r\n\t\t\tif (!grid[i][j]) {\r\n\t\t\t\tif (_r == r) {\r\n\t\t\t\t\tgrid[i][j] = Math.random() &lt; .9 ? 2 : 4\r\n\t\t\t\t}\r\n\t\t\t\t_r++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction equal(grid1, grid2) {\r\n\tfor (var i = 0; i &lt; grid1.length; i++)\r\n\t\tfor (var j = 0; j &lt; grid1.length; j++)\r\n\t\t\tif (grid1[i][j] != grid2[i][j]) return false;\r\n\treturn true;\r\n}\r\n\r\nfunction conv44valid(a, b) {\r\n\tvar r = 0;\r\n\tfor (var i = 0; i &lt; 4; i++)\r\n\t\tfor (var j = 0; j &lt; 4; j++)\r\n\t\t\tr += a[i][j] * b[3 - i][3 - j]\r\n\treturn r\r\n}\r\n\r\nfunction MatrixTransform(n) {\r\n\tvar g = [],\r\n\t\tig = [];\r\n\tfor (var i = 0; i &lt; n; i++) {\r\n\t\tg[i] = [];\r\n\t\tig[i] = [];\r\n\t\tfor (var j = 0; j &lt; n; j++) {\r\n\t\t\tg[i][j] = [[j, i],[i, n-1-j],[j, n-1-i],[i, j]]; // transformation matrix in the 4 directions g[i][j] = [up, right, down, left]\r\n\t\t\tig[i][j] = [[j, i],[i, n-1-j],[n-1-j, i],[i, j]]; // the inverse tranformations\r\n\t\t}\r\n\t}\r\n\tthis.transform = function(k, grid) {\r\n\t\treturn this.transformer(k, grid, g)\r\n\t}\r\n\tthis.itransform = function(k, grid) { // inverse transform\r\n\t\treturn this.transformer(k, grid, ig)\r\n\t}\r\n\tthis.transformer = function(k, grid, mat) {\r\n\t\tvar newgrid = [];\r\n\t\tfor (var i = 0; i &lt; grid.length; i++) {\r\n\t\t\tnewgrid[i] = [];\r\n\t\t\tfor (var j = 0; j &lt; grid.length; j++)\r\n\t\t\t\tnewgrid[i][j] = grid[mat[i][j][k][0]][mat[i][j][k][1]];\r\n\t\t}\r\n\t\treturn newgrid;\r\n\t}\r\n\tthis.copy = function(grid) {\r\n\t\treturn this.transform(3, grid)\r\n\t}\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n\ttext-align: center\r\n}\r\ntable, th, td {\r\n    border: 1px solid black;\r\n    margin: 5px auto;\r\n}\r\ntd {\r\n    width: 35px;\r\n    height: 35px;\r\n    text-align: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;&lt;/table&gt;\r\n&lt;button id=init&gt;init&lt;/button&gt;&lt;button id=runai&gt;run AI&lt;/button&gt;&lt;button id=hint&gt;hint&lt;/button&gt;&lt;span id=hintvalue&gt;&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/28824788#28824788", "question_id": 22342854, "answer_id": 28824788}, {"body": "<p>Many of the other answers use AI with computationally expensive searching of possible futures, or are a sort of artificial mind that can learn, and the such, these are very impressive and probably the correct way forward, but I wish to contribute another idea.</p>\n\n<p>Model the sort of strategy that good players of the game use.</p>\n\n<p>For example:</p>\n\n<pre><code>13 14 15 16\n12 11 10  9\n 5  6  7  8\n 4  3  2  1\n</code></pre>\n\n<p>Read the squares in the order shown above until the next squares value is greater the current one, then try to merge another tile of the same value into this square.</p>\n\n<p>To resolve this problem their are 2 ways to move that arn't left or worse up and examining both possibilities may emmidatly reveal more problems, this forms a list of dependancies, each problem requiring another problem to be solved first. I think I have this chain or sometimes tree of dependancies Internally when deciding my next move, particularly when stuck.</p>\n\n<p>Tile needs merging with neighbour but is too small: Merge another neighbour with this one.</p>\n\n<p>Larger tile in the way: Increase the value of a smaller surrounding tile.</p>\n\n<p>etc...</p>\n\n<p>The whole aproach will likely be complicated than this, and even as I write it seems to contain too much hidden issues behind implementing every part of the strategy, but could perhaps be this mechanical in feel, without scores, weights, neurones and deep searches of possibilities.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/31922473#31922473", "question_id": 22342854, "answer_id": 31922473}, {"body": "<p>I am a co-author of a 2048 controller that scores better than any other program mentioned in this thread. It is available on <a href=\"https://github.com/aszczepanski/2048\" rel=\"nofollow\">github</a> and it is described in the <a href=\"http://arxiv.org/abs/1604.05085\" rel=\"nofollow\">paper</a>.</p>\n\n<p>It uses expectimax search with a state evaluation function learned from scratch (without human 2048 expertise) by a variant of <strong>temporal difference learning</strong> (a reinforcement learning technique). The state-value  function uses an <strong>n-tuple network</strong>, which is basically a weighted linear function of patterns observed on the board. It involved more than <strong>1 billion weights</strong>, in total.</p>\n\n<h2>Performance</h2>\n\n<p>At 1 moves/s: <strong>609104</strong> (100 games average)</p>\n\n<p>At 10 moves/s: <strong>589355</strong> (300 games average)</p>\n\n<p>At 3-ply (ca. 1500 moves/s): <strong>511759</strong> (1000 games average)</p>\n\n<p>The tile statistics for 10 moves/s are as follows:</p>\n\n<pre><code>2048: 100%\n4096: 100%\n8192: 100%\n16384: 97%\n32768: 64%\n32768,16384,8192,4096: 10%\n</code></pre>\n\n<p>(The last line means having the given tiles at the same time on the board).</p>\n\n<p>For 3-ply:</p>\n\n<pre><code>2048: 100%\n4096: 100%\n8192: 100%\n16384: 96%\n32768: 54%\n32768,16384,8192,4096: 8%\n</code></pre>\n\n<p>However, I have never observed it obtaining the 65536 tile.</p>\n", "title": "What is the optimal algorithm for the game 2048?", "tags": ["algorithm", "logic", "artificial-intelligence"], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048/34393913#34393913", "question_id": 22342854, "answer_id": 34393913}], "link": "http://stackoverflow.com/questions/22342854/what-is-the-optimal-algorithm-for-the-game-2048", "question_id": 22342854}, {"body": "<p>So apparently because of the recent scams, the developer tools is exploited by people to post spam and even used to \"hack\" accounts. Facebook has blocked the developer tools, and I can't even use the console.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Wiatp.png\" alt=\"Enter image description here\"></p>\n\n<p>How did they do that?? <a href=\"http://stackoverflow.com/questions/7559409/disable-developer-tools\">One Stack Overflow post claimed that it is not possible</a>, but Facebook has proven them wrong.</p>\n\n<p>Just go to Facebook and open up the developer tools, type one character into the console, and this warning pops up. No matter what you put in, it will not get executed.</p>\n\n<p>How is this possible?</p>\n\n<p>They even blocked auto-complete in the console:</p>\n\n<p><img src=\"http://i.stack.imgur.com/j0Zmx.png\" alt=\"Enter image description here\"></p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "answers": [{"body": "<p>It works fine for me in Chrome - but Facebook do seem to be trying to disable the JavaScript console to prevent a recent scam.</p>\n\n<p>Edit: As per my comment - something like <a href=\"http://kspace.in/blog/2013/02/22/disable-javascript-execution-from-console/\" rel=\"nofollow\">this</a> could prevent JavaScript execution from the console.</p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/21692733#21692733", "question_id": 21692646, "answer_id": 21692733}, {"body": "<p>I couldn't get it to trigger that on any page. A more robust version of this would do it:</p>\n\n<pre><code>window.console.log = function(){\n    console.error('The developer console is temp...');\n    window.console.log = function() {\n        return false;\n    }\n}\n\nconsole.log('test');\n</code></pre>\n\n<p>To style the output: <a href=\"http://stackoverflow.com/a/13017382/3189029\">Colors in JavaScript console</a></p>\n\n<p><strong>Edit</strong> Thinking <a href=\"http://stackoverflow.com/a/21692733/282110\">@joeldixon66</a> has the right idea: <a href=\"http://kspace.in/blog/2013/02/22/disable-javascript-execution-from-console/\">Disable JavaScript execution from console &laquo;  ::: KSpace :::</a></p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/21692858#21692858", "question_id": 21692646, "answer_id": 21692858}, {"body": "<p>I'm a security engineer at Facebook and this is my fault. We're testing this for some users to see if it can slow down some attacks where users are tricked into pasting (malicious) JavaScript code into the browser console.</p>\n\n<p>Just to be clear: trying to block hackers client-side is a <a href=\"http://stackoverflow.com/questions/7559409/disable-developer-tools\">bad idea</a> in general;\nthis is to protect against a <a href=\"https://www.facebook.com/photo.php?v=956977232793\">specific social engineering attack</a>.</p>\n\n<p>If you ended up in the test group and are annoyed by this, sorry.\nI tried to make the old opt-out page (now <a href=\"https://www.facebook.com/selfxss\">help page</a>)  as simple as possible while still being scary enough to stop at least <em>some</em> of the victims.</p>\n\n<p>The actual code is pretty similar to <a href=\"http://stackoverflow.com/a/21692733\">@joeldixon66's link</a>; ours is a little more complicated for no good reason.</p>\n\n<p>Chrome wraps all console code in</p>\n\n<pre><code>with ((console &amp;&amp; console._commandLineAPI) || {}) {\n  &lt;code goes here&gt;\n}\n</code></pre>\n\n<p>... so the site redefines <code>console._commandLineAPI</code> to throw:</p>\n\n<pre><code>Object.defineProperty(console, '_commandLineAPI',\n   { get : function() { throw 'Nooo!' } })\n</code></pre>\n\n<p>This is <a href=\"http://escape.alf.nu/20\">not quite enough (try it!)</a>, but that's the\nmain trick.</p>\n\n<hr>\n\n<p>Epilogue: The Chrome team decided that defeating the console from user-side JS was a bug and <a href=\"https://code.google.com/p/chromium/issues/detail?id=349993\">fixed the issue</a>, rendering this technique invalid. Afterwards, additional protection was added to <a href=\"https://code.google.com/p/chromium/issues/detail?id=345205#c21\">protect users from self-xss</a>. </p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/21693931#21693931", "question_id": 21692646, "answer_id": 21693931}, {"body": "<p>I located the Facebook's console buster script using Chrome developer tools. Here is the script with minor changes for readability. I have removed the bits that I could not understand:</p>\n\n<pre><code>Object.defineProperty(window, \"console\", {\n    value: console,\n    writable: false,\n    configurable: false\n});\n\nvar i = 0;\nfunction showWarningAndThrow() {\n    if (!i) {\n        setTimeout(function () {\n            console.log(\"%cWarning message\", \"font: 2em sans-serif; color: yellow; background-color: red;\");\n        }, 1);\n        i = 1;\n    }\n    throw \"Console is disabled\";\n}\n\nvar l, n = {\n        set: function (o) {\n            l = o;\n        },\n        get: function () {\n            showWarningAndThrow();\n            return l;\n        }\n    };\nObject.defineProperty(console, \"_commandLineAPI\", n);\nObject.defineProperty(console, \"__commandLineAPI\", n);\n</code></pre>\n\n<p>With this, the console auto-complete fails silently while statements typed in console will fail to execute (the exception will be logged).</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\">Object.getOwnPropertyDescriptor</a></li>\n<li><a href=\"https://developers.google.com/chrome-developer-tools/docs/console-api#consolelogobject_object\">Chrome's console.log function (for tips on formatting output)</a></li>\n</ul>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/21795086#21795086", "question_id": 21692646, "answer_id": 21795086}, {"body": "<p>Besides redefining <code>console._commandLineAPI</code>,\nthere are some other ways to break into InjectedScriptHost on webkit browsers, to prevent or alter the evaluation of expressions entered into the developers console.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Chrome has fixed this in a past release. <em>- which must have been before February 2015, as i created the gist at that time</em>  </p>\n\n<p>So here's another possibilty. This time we hook in, a level above, directly into <code>InjectedScript</code> rather than <code>InjectedScriptHost</code> as opposed to the prior version. </p>\n\n<p>Which is kind of nice, as you can directly monkey patch <code>InjectedScript._evaluateAndWrap</code> instead of having to rely on <code>InjectedScriptHost.evaluate</code> as that gives you more finegrained control about what should happen. </p>\n\n<p>Another pretty intersting thing is, that we can intercept the internal result when an expression is evaluated and <em>return that</em> to the user instead of the normal behaviour. </p>\n\n<p>Here is the code, that does exactly that, return the internal result when a user evaluates something in the console.</p>\n\n<pre><code>var is;\nObject.defineProperty(Object.prototype,\"_lastResult\",{\n   get:function(){\n       return this._lR;\n   },\n   set:function(v){\n       if (typeof this._commandLineAPIImpl==\"object\") is=this;\n       this._lR=v;\n   }\n});\nsetTimeout(function(){\n   var ev=is._evaluateAndWrap;\n   is._evaluateAndWrap=function(){\n       var res=ev.apply(is,arguments);\n       console.log();\n       if (arguments[2]===\"completion\") {\n           //This is the path you end up when a user types in the console and autocompletion get's evaluated\n\n           //Chrome expects a wrapped result to be returned from evaluateAndWrap.\n           //You can use `ev` to generate an object yourself.\n           //In case of the autocompletion chrome exptects an wrapped object with the properties that can be autocompleted. e.g.;\n           //{iGetAutoCompleted: true}\n           //You would then go and return that object wrapped, like\n           //return ev.call (is, '', '({test:true})', 'completion', true, false, true);\n           //Would make `test` pop up for every autocompletion.\n           //Note that syntax as well as every Object.prototype property get's added to that list later,\n           //so you won't be able to exclude things like `while` from the autocompletion list,\n           //unless you wou'd find a way to rewrite the getCompletions function.\n           //\n           return res; //Return the autocompletion result. If you want to break that, return nothing or an empty object\n       } else {\n           //This is the path where you end up when a user actually presses enter to evaluate an expression.\n           //In order to return anything as normal evaluation output, you have to return a wrapped object.\n\n           //In this case, we want to return the generated remote object. \n           //Since this is already a wrapped object it would be converted if we directly return it. Hence,\n           //`return result` would actually replicate the very normal behaviour as the result is converted.\n           //to output what's actually in the remote object, we have to stringify it and `evaluateAndWrap` that object again.`\n           //This is quite interesting;\n           return ev.call (is, null, '(' + JSON.stringify (res) + ')', \"console\", true, false, true)\n       }\n   };\n},0);\n</code></pre>\n\n<p><em>It's a bit verbose, but i thought i put some comments into it</em></p>\n\n<p>So normally, if a user for example evaluates <code>[1,2,3,4]</code> you'd expect the following output:</p>\n\n<p><a href=\"http://i.stack.imgur.com/FLAnR.png\"><img src=\"http://i.stack.imgur.com/FLAnR.png\" alt=\"enter image description here\"></a> </p>\n\n<p>After monkeypatching <code>InjectedScript._evaluateAndWrap</code> evaluating the very same expression, gives the following output: </p>\n\n<p><a href=\"http://i.stack.imgur.com/1fOfj.png\"><img src=\"http://i.stack.imgur.com/1fOfj.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you see the little left arrow, indicating output, is still there, but this time we get an object. Where the result of the expression, the array <code>[1,2,3,4]</code> is represented as an object with all its properties described.</p>\n\n<p>I recommend trying to evaluate this and that expression, including those that generate errors. It's quite interesting. </p>\n\n<p>Additionally, take a look at the <code>is</code> <em>- <code>InjectedScriptHost</code> -</em> object. It provides some methods to play with and get a bit of insight at the internals of the inspector. </p>\n\n<p>Of course you could intercept all that information and still return the original result to the user. </p>\n\n<p>Just replace the return statement in the else path by a <code>console.log (res)</code> following a <code>return res</code>. Then you'd end up with the following. </p>\n\n<p><a href=\"http://i.stack.imgur.com/4X4Ep.png\"><img src=\"http://i.stack.imgur.com/4X4Ep.png\" alt=\"enter image description here\"></a> </p>\n\n<p><em>End of Edit</em>  </p>\n\n<hr>\n\n<p>This is the prior version which was fixed by google. Henve not a possible way anymore.</p>\n\n<p><s>One of it is hooking into <code>Function.prototype.call</code></p>\n\n<p>Chrome evaluates the entered expression by <code>call</code>ing its eval function with <code>InjectedScriptHost</code> as <code>thisArg</code></s></p>\n\n<p><code>var result = evalFunction.call(object, expression);</code></p>\n\n<p>Given this, you can listen for the <code>thisArg</code> of <code>call</code> being <code>evaluate</code> and get a reference to the first argument (<code>InjectedScriptHost</code>)</p>\n\n<pre><code>if (window.URL) {\n    var ish, _call = Function.prototype.call;\n    Function.prototype.call = function () { //Could be wrapped in a setter for _commandLineAPI, to redefine only when the user started typing.\n        if (arguments.length &gt; 0 &amp;&amp; this.name === \"evaluate\" &amp;&amp; arguments [0].constructor.name === \"InjectedScriptHost\") { //If thisArg is the evaluate function and the arg0 is the ISH\n            ish = arguments[0];\n            ish.evaluate = function (e) { //Redefine the evaluation behaviour\n                throw new Error ('Rejected evaluation of: \\n\\'' + e.split ('\\n').slice(1,-1).join (\"\\n\") + '\\'');\n            };\n            Function.prototype.call = _call; //Reset the Function.prototype.call\n            return _call.apply(this, arguments);  \n        }\n    };\n}\n</code></pre>\n\n<p>You could e.g. throw an error, that the evaluation was rejected.</p>\n\n<p><img src=\"http://i.imgur.com/YYDovbt.png\" alt=\"enter image description here\"></p>\n\n<p><sub>\nHere is an <a href=\"http://jsfiddle.net/Glutamat/jW7jp/show\">example</a> where the entered expression gets passed to a CoffeScript compiler before passing it to the <code>evaluate</code> function.</p>\n\n<p></sub></p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/21883967#21883967", "question_id": 21692646, "answer_id": 21883967}, {"body": "<p>Netflix also implements this feature</p>\n\n<pre><code>(function() {\n    try {\n        var $_console$$ = console;\n        Object.defineProperty(window, \"console\", {\n            get: function() {\n                if ($_console$$._commandLineAPI)\n                    throw \"Sorry, for security reasons, the script console is deactivated on netflix.com\";\n                return $_console$$\n            },\n            set: function($val$$) {\n                $_console$$ = $val$$\n            }\n        })\n    } catch ($ignore$$) {\n    }\n})();\n</code></pre>\n\n<p>They just override <code>console._commandLineAPI</code> to throw security error.</p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/22216648#22216648", "question_id": 21692646, "answer_id": 22216648}, {"body": "<p>This is actually possible since Facebook was able to do it.\nWell, not the actual web developer tools but the execution of Javascript in console.</p>\n\n<p>See this: <a href=\"http://stackoverflow.com/questions/21692646/\">How does Facebook disable the browser&#39;s integrated Developer Tools?</a></p>\n\n<p>This really wont do much though since there are other ways to bypass this type of client-side security.</p>\n\n<p>When you say it is client-side, it happens outside the control of the server, so there is not much you can do about it. If you are asking why Facebook still does this, this is not really for security but to protect normal users that do not know javascript from running code (that they don't know how to read) into the console. This is common for sites that promise auto-liker service or other Facebook functionality bots after you do what they ask you to do, where in most cases, they give you a snip of javascript to run in console.</p>\n\n<p>If you don't have as much users as Facebook, then I don't think there's any need to do what Facebook is doing.</p>\n\n<p>Even if you disable Javascript in console, running javascript via address bar is still possible.</p>\n\n<p><a href=\"http://i.stack.imgur.com/pCtTk.png\"><img src=\"http://i.stack.imgur.com/pCtTk.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/QxDLs.png\"><img src=\"http://i.stack.imgur.com/QxDLs.png\" alt=\"enter image description here\"></a></p>\n\n<p>and if the browser disables javascript at address bar, (When you paste code to the address bar in Google Chrome, it deletes the phrase 'javascript:') pasting javascript into one of the links via inspect element is still possible.</p>\n\n<p>Inspect the anchor:</p>\n\n<p><a href=\"http://i.stack.imgur.com/VHXyy.png\"><img src=\"http://i.stack.imgur.com/VHXyy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Paste code in href:</p>\n\n<p><a href=\"http://i.stack.imgur.com/hwmKo.png\"><img src=\"http://i.stack.imgur.com/hwmKo.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/UTUFH.png\"><img src=\"http://i.stack.imgur.com/UTUFH.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/kwLjP.png\"><img src=\"http://i.stack.imgur.com/kwLjP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Bottom line is server-side validation and security should be first, then do client-side after.</p>\n", "title": "How does Facebook disable the browser&#39;s integrated Developer Tools?", "tags": ["javascript", "facebook", "google-chrome-devtools"], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools/33534889#33534889", "question_id": 21692646, "answer_id": 33534889}], "link": "http://stackoverflow.com/questions/21692646/how-does-facebook-disable-the-browsers-integrated-developer-tools", "question_id": 21692646}, {"body": "<p>After I upgraded to latest stable <code>node</code> and <code>npm</code>, I tried <code>npm install moment --save</code>. It saves the entry in the package.json with the <code>caret(^)</code> prefix. Previously, it was a <code>tilde(~)</code> prefix. </p>\n\n<ol>\n<li>Why are these changes made in npm? </li>\n<li>What is the difference between tilde(~) and caret(^)?</li>\n<li>What is the advantages over others?</li>\n</ol>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "answers": [{"body": "<blockquote>\n  <p>In the simplest terms, the tilde matches the most recent minor version\n  (the middle number). ~1.2.3 will match all 1.2.x versions but will\n  miss 1.3.0.</p>\n  \n  <p>The caret, on the other hand, is more relaxed. It will update you to\n  the most recent major version (the first number). ^1.2.3 will match\n  any 1.x.x release including 1.3.0, but will hold off on 2.0.0.</p>\n</blockquote>\n\n<p><a href=\"http://fredkschott.com/post/2014/02/npm-no-longer-defaults-to-tildes/\">http://fredkschott.com/post/2014/02/npm-no-longer-defaults-to-tildes/</a></p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/22345808#22345808", "question_id": 22343224, "answer_id": 22345808}, {"body": "<p><code>~</code> fixes major and minor numbers. It is used when you're ready to accept bug-fixes in your dependency, but don't want any potentially incompatible changes.</p>\n\n<p><code>^</code> fixes the major number only. It is used when you're closely watching your dependencies and are ready to quickly change your code if minor release will be incompatible.</p>\n\n<p>In addition to that, <code>^</code> is <a href=\"https://stackoverflow.com/questions/22270244/install-grunt-phonegap-error-no-compatible-version-found-urijs1-12-0#comment33861904_22270244\">not supported</a> by old npm versions, and should be used with caution.</p>\n\n<p>So, <code>^</code> is a good default, but it's not perfect. I suggest to carefully pick and configure the semver operator that is most useful to you.</p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/22365742#22365742", "question_id": 22343224, "answer_id": 22365742}, {"body": "<p><code>~</code> : Reasonably <strong>close</strong> to</p>\n\n<pre><code>   ~1.1.5: 1.1.0 &lt;= accepted &lt; 1.2.0\n</code></pre>\n\n<p><code>^</code>: <strong>Compatible</strong> with</p>\n\n<pre><code>   ^1.1.5: 1.1.5 &lt;= accepted &lt; 2.0.0\n\n   ^0.1.3: 0.1.3 &lt;= accepted &lt; 0.2.0\n\n   ^0.0.4: 0.0.4 &lt;= accepted &lt; 0.1.0\n</code></pre>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/24456372#24456372", "question_id": 22343224, "answer_id": 24456372}, {"body": "<p>I would like to add the official npmjs documentation as well which describes all methods for version specificity including the ones referred to in the question - </p>\n\n<p><a href=\"https://www.npmjs.org/doc/files/package.json.html\" rel=\"nofollow\">https://www.npmjs.org/doc/files/package.json.html</a></p>\n\n<p><a href=\"https://docs.npmjs.com/misc/semver#x-ranges-12x-1x-12-\" rel=\"nofollow\">https://docs.npmjs.com/misc/semver#x-ranges-12x-1x-12-</a></p>\n\n<ul>\n<li><code>~version</code> \"Approximately equivalent to version\" See <a href=\"https://docs.npmjs.com/misc/semver#prerelease-identifiers\" rel=\"nofollow\">npm semver - Tilde Ranges</a> &amp; <a href=\"http://semver.org/\" rel=\"nofollow\">semver (7)</a></li>\n<li><code>^version</code> \"Compatible with version\" See <a href=\"https://docs.npmjs.com/misc/semver#prerelease-identifiers\" rel=\"nofollow\">npm semver - Caret Ranges</a> &amp; <a href=\"http://semver.org/\" rel=\"nofollow\">semver (7)</a></li>\n<li><code>version</code> Must match version exactly</li>\n<li><code>&gt;version</code> Must be greater than version</li>\n<li><code>&gt;=version</code> etc</li>\n<li><code>&lt;version</code></li>\n<li><code>&lt;=version</code></li>\n<li><code>1.2.x</code> 1.2.0, 1.2.1, etc., but not 1.3.0</li>\n<li><code>http://sometarballurl</code> (this may be the URL of a tarball which will be downloaded and installed locally</li>\n<li><code>*</code> Matches any version</li>\n<li><code>latest</code> Obtains latest release</li>\n</ul>\n\n<p>The above list is not exhaustive. Other version specifiers include GitHub urls and GitHub user repo's, local paths and packages with specific npm tags</p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/25861938#25861938", "question_id": 22343224, "answer_id": 25861938}, {"body": "<p><code>^</code> is 1.[any].[any] (latest minor version)<br/>\n<code>~</code> is 1.2.[any] (latest patch)</p>\n\n<p>A great read is <a href=\"http://blog.npmjs.org/post/98131109725/npm-2-0-0\">this blog post</a> on how semver applies to npm<br/>\nand what they're doing to make it match <a href=\"http://semver.org/spec/v2.0.0.html\">the semver standard</a><br/>\n<a href=\"http://blog.npmjs.org/post/98131109725/npm-2-0-0\">http://blog.npmjs.org/post/98131109725/npm-2-0-0</a></p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/27490301#27490301", "question_id": 22343224, "answer_id": 27490301}, {"body": "<p>Npm allows installing newer version of a package than the one specified. Using tilde (~) gives you bug fix releases and caret (^) gives you backwards compatible new functionality as well. </p>\n\n<p>The problem is old versions usually don't receive bug fixes that much, so npm uses caret (^) as the default for <code>--save</code>.</p>\n\n<blockquote>\n  <p><img src=\"http://bytearcher.com/articles/semver-explained-why-theres-a-caret-in-my-package-json/promopics/1-table-semver-plain.png\" alt=\"semver table\"></p>\n</blockquote>\n\n<p>According to: <a href=\"http://bytearcher.com/articles/semver-explained-why-theres-a-caret-in-my-package-json/\">\"Semver explained - why there's a caret (^) in my package.json?\"</a>.</p>\n\n<p>Note that the rules apply to versions above 1.0.0 and not every project follows semantic versioning.</p>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/31733623#31733623", "question_id": 22343224, "answer_id": 31733623}, {"body": "<h2>Semver</h2>\n\n<pre><code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;-beta.&lt;beta&gt; == 1.2.3-beta.2\n</code></pre>\n\n<p><strong>^</strong> (caret)</p>\n\n<ul>\n<li>find left-most non-zero - freeze it</li>\n<li>find sublevel (0 if none) - set as starting number</li>\n</ul>\n\n<p><strong>~</strong> (tilde)</p>\n\n<ul>\n<li>find right-most non-zero (0 if none)</li>\n<li>set as starting number</li>\n<li>freeze super levels</li>\n</ul>\n\n<p>&nbsp;</p>\n\n<pre><code>^semver~  // graphically to help you remember\n</code></pre>\n\n<p><em>Avoid numbering from 0, because with ^ as default in npm, your users won't get minor updates or even patches!</em></p>\n\n<p>Missing major, minor, patch or specifying <code>beta</code> without number, is the same as x (any) for the missing level.</p>\n\n<p><em><code>..</code> in the right column is range in my notation: <code>1.2..*.3</code> means <code>1.x.3</code>, where <code>x &gt;= 2</code> and initial patch is <code>3</code>.</em></p>\n\n<p><strong>Allow major-level changes</strong></p>\n\n<pre><code>*                 *\n\"\" (empty string) *\n                  1..*              // Not possible with semver? Maybe 1 - *?\n</code></pre>\n\n<p><strong>Allow minor-level changes</strong></p>\n\n<pre><code>~0 (0)            0.0..*            // No minor and no non-zero, allow minor-level changes\n0.2               0.2..*            // Can't do that with carret or tilde \n~1 (1, ^1)        1.0..*\n^1.2              1.2..*\n^1.2.3            1.2..*.3          // Start from 1.2.3\n^1.2.3-beta.4     1.2..*.3-beta.4   // Start from 1.2.3-beta.4\n</code></pre>\n\n<p><strong>Allow patch-level changes</strong></p>\n\n<pre><code>^0.0 (0.0)        0.0.0..*          // No patch and no non-zero, allow patch-level changes\n~0.2              0.2.0..*\n~1.2              1.2.0..*\n~0.2.3 (^0.2.3)   0.2.3..*\n~1.2.3            1.2.3..*\n</code></pre>\n\n<p><strong>Allow beta-level changes</strong></p>\n\n<pre><code>~1.2.3-beta.4     1.2.3-beta.4..*\n^0.0.3-beta       0.0.3-beta.0..*, 0.0.3-pr.0..*\n^0.0.3-beta.4     0.0.3-beta.4..*, 0.0.3-pr.4..*\n</code></pre>\n\n<p><strong>Disallow changes</strong></p>\n\n<pre><code>1.2.3             1.2.3\n^0.0.3 (0.0.3)    0.0.3\n</code></pre>\n\n<ul>\n<li><a href=\"https://docs.npmjs.com/misc/semver\">https://docs.npmjs.com/misc/semver</a></li>\n<li><a href=\"https://docs.npmjs.com/files/package.json#dependencies\">https://docs.npmjs.com/files/package.json#dependencies</a></li>\n</ul>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/33067594#33067594", "question_id": 22343224, "answer_id": 33067594}, {"body": "<p>Hat matching may be considered \"broken\" because it wont update <code>^0.1.2</code> to <code>0.2.0</code>. When the software is emerging use <code>0.x.x</code> versions and hat matching will only match the (varying) last digit. This is done on purpose so that when the software is finally ready it doesn't have version <code>10.0.0</code> but instead has version <code>1.0.0</code> (because people will be using the software when it's <code>0.1.x</code>, <code>0.2.x</code>, etc, and you wouldn't like to break all that code while modifying the public API of your software).</p>\n\n<p>The rule is: use <code>0.x.x</code> versioning when your software hasn't yet matured and release it with incrementing the middle digit when your public API changes (therefore people having <code>^0.1.0</code> won't get <code>0.2.0</code> update and it won't break their code). Then, when the software matures, release it under <code>1.0.0</code> and increment the leftmost digit each time your public API changes (therefore people having <code>^1.0.0</code> won't get <code>2.0.0</code> update and it won't break their code).</p>\n\n<pre><code>Given a version number MAJOR.MINOR.PATCH, increment the:\n\nMAJOR version when you make incompatible API changes,\nMINOR version when you add functionality in a backwards-compatible manner, and\nPATCH version when you make backwards-compatible bug fixes.\n</code></pre>\n", "title": "Difference between tilde(~) and caret(^) in package.json", "tags": ["javascript", "node.js", "npm"], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json/33213161#33213161", "question_id": 22343224, "answer_id": 33213161}], "link": "http://stackoverflow.com/questions/22343224/difference-between-tilde-and-caret-in-package-json", "question_id": 22343224}, {"body": "<p>I'm coming from a Java background and have started working with objects in C++. But one thing that occurred to me is that people often use pointers to objects rather than the objects themselves, for example this declaration:</p>\n\n<pre><code>Object *myObject = new Object;\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>Object myObject;\n</code></pre>\n\n<p>Or instead of using a function, let's say <code>testFunc()</code>, like this:</p>\n\n<pre><code>myObject.testFunc();\n</code></pre>\n\n<p>we have to write:</p>\n\n<pre><code>myObject-&gt;testFunc();\n</code></pre>\n\n<p>But I can't figure out why should we do it this way. I would assume it has to do with efficiency and speed since we get direct access to the memory address. Am I right?</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "answers": [{"body": "<p>In C++, objects allocated on the stack (using <code>Object object;</code> statement within a block) will only live within the scope they are declared in. When the block of code finishes execution, the object declared are destroyed. \nWhereas if you allocate memory on heap, using <code>Object* obj = new Object()</code>, they continue to live in heap until you call <code>delete obj</code>.</p>\n\n<p>I would create an object on heap when I like to use the object not only in the block of code which declared/allocated it.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146231#22146231", "question_id": 22146094, "answer_id": 22146231}, {"body": "<p>It's very unfortunate that you see dynamic allocation so often. That just shows how many bad C++ programmers there are.</p>\n\n<p>In a sense, you have two questions bundled up into one. The first is when should we use dynamic allocation (using <code>new</code>)? The second is when should we use pointers?</p>\n\n<p>The important take-home message is that you should <strong>always use the appropriate tool for the job</strong>. In almost all situations, there is something more appropriate and safer than performing manual dynamic allocation and/or using raw pointers.</p>\n\n<h2>Dynamic allocation</h2>\n\n<p>In your question, you've demonstrated two ways of creating an object. The main difference is the storage duration of the object. When doing <code>Object myObject;</code> within a block, the object is created with automatic storage duration, which means it will be destroyed automatically when it goes out of scope. When you do <code>new Object()</code>, the object has dynamic storage duration, which means it stays alive until you explicitly <code>delete</code> it. You should only use dynamic storage duration when you need it. \nThat is, <strong>you should <em>always</em> prefer creating objects with automatic storage duration when you can</strong>.</p>\n\n<p>The main two situations in which you might require dynamic allocation:</p>\n\n<ol>\n<li><strong>You need the object to outlive the current scope</strong> - that specific object at that specific memory location, not a copy of it. If you're okay with copying/moving the object (most of the time you should be), you should prefer an automatic object.</li>\n<li><strong>You need to allocate a lot of memory</strong>, which may easily fill up the stack. It would be nice if we didn't have to concern ourselves with this (most of the time you shouldn't have to), as it's really outside the purview of C++, but unfortunately we have to deal with the reality of the systems we're developing for.</li>\n</ol>\n\n<p>When you do absolutely require dynamic allocation, you should encapsulate it in a smart pointer or some other type that performs <a href=\"http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization\">RAII</a> (like the standard containers). Smart pointers provide ownership semantics of dynamically allocated objects. Take a look at <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\"><code>std::unique_ptr</code></a> and <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\"><code>std::shared_ptr</code></a>, for example. If you use them appropriately, you can almost entirely avoid performing your own memory management (see the <a href=\"http://flamingdangerzone.com/cxx11/rule-of-zero/\">Rule of Zero</a>).</p>\n\n<h2>Pointers</h2>\n\n<p>However, there are other more general uses for raw pointers beyond dynamic allocation, but most have alternatives that you should prefer. As before, <strong>always prefer the alternatives unless you really need pointers</strong>.</p>\n\n<ol>\n<li><p><strong>You need reference semantics</strong>. Sometimes you want to pass an object using a pointer (regardless of how it was allocated) because you want the function to which you're passing it to have access that that specific object (not a copy of it). However, in most situations, you should prefer reference types to pointers, because this is specifically what they're designed for. Note this is not necessarily about extending the lifetime of the object beyond the current scope, as in situation 1 above. As before, if you're okay with passing a copy of the object, you don't need reference semantics.</p></li>\n<li><p><strong>You need polymorphism</strong>. You can only call functions polymorphically (that is, according to the dynamic type of an object) through a pointer or reference to the object. If that's the behaviour you need, then you need to use pointers or references. Again, references should be preferred.</p></li>\n<li><p><strong>You want to represent that an object is optional</strong> by allowing a <code>nullptr</code> to be passed when the object is being omitted. If it's an argument, you should prefer to use default arguments or function overloads. Otherwise, you should prefer use a type that encapsulates this behaviour, such as <code>boost::optional</code> (or perhaps soon, <code>std::optional</code> - <strong>Edit</strong> <code>std::optional</code> is voted out of the current C++14 draft n3797).</p></li>\n<li><p><strong>You want to decouple compilation units to improve compilation time</strong>. The useful property of a pointer is that you only require a forward declaration of the pointed-to type (to actually use the object, you'll need a definition). This allows you to decouple parts of your compilation process, which may significantly improve compilation time. See the <a href=\"http://en.wikipedia.org/wiki/Opaque_pointer\">Pimpl idiom</a>.</p></li>\n<li><p><strong>You need to interface with a C library</strong> or a C-style library. At this point, you're forced to use raw pointers. The best thing you can do is make sure you only let your raw pointers loose at the last possible moment. You can get a raw pointer from a smart pointer, for example, by using its <code>get</code> member function. If a library performs some allocation for you which it expects you to deallocate via a handle, you can often wrap the handle up in a smart pointer with a custom deleter that will deallocate the object appropriately.</p></li>\n</ol>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146244#22146244", "question_id": 22146094, "answer_id": 22146244}, {"body": "<p>Let's say that you have <code>class A</code> that contain <code>class B</code> When you want to call some function of <code>class B</code> outside <code>class A</code> you will simply obtain a pointer to this class and you can do whatever you want and it will also change context of <code>class B</code> in your <code>class A</code></p>\n\n<p>But be careful with dynamic object</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146270#22146270", "question_id": 22146094, "answer_id": 22146270}, {"body": "<p>Technically it is a memory allocation issue, however here are two more practical aspects of this.\nIt has to do with two things:\n1) Scope, when you define an object without a pointer you will no longer be able to access it after the code block it is defined in, whereas if you define a pointer with \"new\" then you can access it from anywhere you have a pointer to this memory until you call \"delete\" on the same pointer.\n2) If you want to pass arguments to a function you want to pass a pointer or a reference in order to be more efficient. When you pass an Object then the object is copied, if this is an object that uses a lot of memory this might be CPU consuming (e.g. you copy a vector full of data). When you pass a pointer all you pass is one int (depending of implementation but most of them are one int).</p>\n\n<p>Other than that you need to understand that \"new\" allocates memory on the heap that needs to be freed at some point. When you don't have to use \"new\" I suggest you use a regular object definition \"on the stack\".</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146335#22146335", "question_id": 22146094, "answer_id": 22146335}, {"body": "<p>There are many use cases for pointers. </p>\n\n<p><strong>Polymorphic behavior</strong>. For polymorphic types, pointers (or references) are used to avoid slicing:</p>\n\n<pre><code>class Base { ... };\nclass Derived : public Base { ... };\n\nvoid fun(Base b) { ... }\nvoid gun(Base* b) { ... }\nvoid hun(Base&amp; b) { ... }\n\nDerived d;\nfun(d);    // oops, all Derived parts silently \"sliced\" off\ngun(&amp;d);   // OK, a Derived object IS-A Base object\nhun(d);    // also OK, reference also doesn't slice\n</code></pre>\n\n<p><strong>Reference semantics and avoiding copying</strong>. For non-polymorphic types, a pointer (or a reference) will avoid copying a potentially expensive object</p>\n\n<pre><code>Base b;\nfun(b);  // copies b, potentially expensive \ngun(&amp;b); // takes a pointer to b, no copying\nhun(b);  // regular syntax, behaves as a pointer\n</code></pre>\n\n<p>Note that C++11 has move semantics that can avoid many copies of expensive objects into function argument and as return values. But using a pointer will definitely avoid those and will allow multiple pointers on the same object (whereas an object can only be moved from once).</p>\n\n<p><strong>Resource acquisition</strong>. Creating a pointer to a resource using the <code>new</code> operator is an <strong>anti-pattern</strong> in modern C++. Use a special resource class (one of the Standard containers) or a <strong>smart pointer</strong> (<code>std::unique_ptr&lt;&gt;</code> or <code>std::shared_ptr&lt;&gt;</code>). Consider:   </p>\n\n<pre><code>{\n    auto b = new Base;\n    ...       // oops, if an exception is thrown, destructor not called!\n    delete b;\n}\n</code></pre>\n\n<p>vs. </p>\n\n<pre><code>{\n    auto b = std::make_unique&lt;Base&gt;();\n    ...       // OK, now exception safe\n}\n</code></pre>\n\n<p>A raw pointer should only be used as a \"view\" and not in any way involved in ownership, be it through direct creation or implicitly through return values. See also <a href=\"http://stackoverflow.com/questions/8706192/which-kind-of-pointer-do-i-use-when?lq=1\"><strong>this Q&amp;A from the C++ FAQ</strong></a>.</p>\n\n<p><strong>More fine-grained life-time control</strong> Every time a shared pointer is being copied (e.g. as a function argument) the resource it points to is being kept alive. Regular objects (not created by <code>new</code>, either directly by you or inside a resource class) are destroyed when going out of scope.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146344#22146344", "question_id": 22146094, "answer_id": 22146344}, {"body": "<p>There are many benefits of using pointers to object - </p>\n\n<ol>\n<li>Efficiency (as you already pointed out). Passing objects to\nfunctions mean creating new copies of object. </li>\n<li>Working with objects from third party libraries. If your object\nbelongs to a third party code and the authors intend the usage of their objects through pointers only (no copy constructors etc) the only way you can pass around this\nobject is using pointers. Passing by value may cause issues. (Deep\ncopy / shallow copy issues).</li>\n<li>if the object owns a resource and you want that the ownership should not be sahred with other objects.</li>\n</ol>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146600#22146600", "question_id": 22146094, "answer_id": 22146600}, {"body": "<blockquote>\n  <p>But I can't figure out why should we use it like this?</p>\n</blockquote>\n\n<p>I will compare how it works inside function body, if you use:</p>\n\n<pre><code>Object myObject;\n</code></pre>\n\n<p>inside function, your <code>myObject</code> will get destroyed once this function returns. So this is usefull if you dont need your object outside your function. This object will be put on current thread stack.</p>\n\n<p>If you write inside function body:</p>\n\n<pre><code> Object *myObject = new Object;\n</code></pre>\n\n<p>then Object class instance pointed by <code>myObject</code> will not get destroyed once function ends, and allocation is on heap.</p>\n\n<p>Now if you are java programmer, then the second example is closer to how object allocation works under java. This line: <code>Object *myObject = new Object;</code> is equivalent to java: <code>Object myObject = new Object();</code>. The difference is that under java myObject will get garbage collected, while under c++ it will not get freed, you must somewhere explicitly call `delete myObject;' otherwise you will introduce memory leaks.</p>\n\n<p>Since c++11 you can use safe ways of dynamic allocations: <code>new Object</code>, by storing values in shared_ptr/unique_ptr.</p>\n\n<pre><code>std::shared_ptr&lt;std::string&gt; safe_str = make_shared&lt;std::string&gt;(\"make_shared\");\n\n// since c++14\nstd::unique_ptr&lt;std::string&gt; safe_str = make_unique&lt;std::string&gt;(\"make_shared\"); \n</code></pre>\n\n<p>also, objects are very often stored in containers, like map-s or vector-s, they will automatically manage lifetime of your objects.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22146614#22146614", "question_id": 22146094, "answer_id": 22146614}, {"body": "<p>Another good reason to use pointers would be for <a href=\"http://en.wikipedia.org/wiki/Forward_declaration\">forward declarations</a>. In a large enough project they can really speed up compile time. </p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22149438#22149438", "question_id": 22146094, "answer_id": 22149438}, {"body": "<p>A pointer directly references the memory location of an object. Java has nothing like this. Java has references that reference the location of object through hash tables. You cannot do anything like pointer arithmetic in Java with these references.</p>\n\n<p>To answer your question, it's just your preference. I prefer using the Java-like syntax.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22182492#22182492", "question_id": 22146094, "answer_id": 22182492}, {"body": "<p>\"Necessity is the mother of invention.\"\nThe most of important difference that I would like to point out is the outcome of my own experience of coding.\nSometimes you need to pass objects to  functions . In that case if your object is  of a very  big class then passing it as an object will copy its state  (which you might not want ..AND CAN BE BIG OVERHEAD) thus resulting in overhead of copying object .while pointer is fixed 4 byte size (assuming 32 bit).Other reasons are already mentioned above...</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22194306#22194306", "question_id": 22146094, "answer_id": 22194306}, {"body": "<p>There are many excellent answers to this question, including the important use cases of forward declarations, polymorphism etc. but I feel a part of the \"soul\" of your question is not answered - namely what the different syntaxes mean across Java and C++.</p>\n\n<p>Let's examine these two statements:</p>\n\n<h3>Java:</h3>\n\n<pre><code>Object object1 = new Object(); //A new object is allocated by Java\nObject object2 = new Object(); //Another new object is allocated by Java\n\nobject1 = object2; \n//object1 now points to the object originally allocated for object2\n//The object originally allocated for object1 is now \"dead\" - nothing points to it, so it\n//will be reclaimed by the Garbage Collector.\n//If either object1 or object2 is changed, the change will be reflected to the other\n</code></pre>\n\n<p>The closest equivalent to this, is:</p>\n\n<h3>C++:</h3>\n\n<pre><code>Object * object1 = new Object(); //A new object is allocated on the heap\nObject * object2 = new Object(); //Another new object is allocated on the heap\ndelete object1;\n//Since C++ does not have a garbage collector, if we don't do that, the next line would \n//cause a \"memory leak\", i.e. a piece of claimed memory that the app cannot use \n//and that we have no way to reclaim...\n\nobject1 = object2; //Same as Java, object1 points to object2.\n</code></pre>\n\n<p>Let's see the alternative C++ way:</p>\n\n<pre><code>Object object1; //A new object is allocated on the STACK\nObject object2; //Another new object is allocated on the STACK\nobject1 = object2;//!!!! This is different! The CONTENTS of object2 are COPIED onto object1,\n//using the \"copy assignment operator\", the definition of operator =.\n//But, the two objects are still different. Change one, the other remains unchanged.\n//Also, the objects get automatically destroyed once the function returns...\n</code></pre>\n\n<p>The best way to think of it is that -- more or less -- Java (implicitly) handles pointers to objects, while C++ may handle either pointers to objects, or the objects themselves.\nThere are exceptions to this -- for example, if you declare Java \"primitive\" types, they are actual values that are copied, and not pointers.\nSo,</p>\n\n<h3>Java:</h3>\n\n<pre><code>int object1; //An integer is allocated on the stack.\nint object2; //Another integer is allocated on the stack.\nobject1 = object2; //The value of object2 is copied to object1.\n</code></pre>\n\n<p>That said, using pointers is NOT necessarily either the correct or the wrong way to handle things; however other answers have covered that satisfactorily. The general idea though is that in C++ you have much more control on the lifetime of the objects, and on where they will live.</p>\n\n<p>Take home point -- the <code>Object * object = new Object()</code> construct is actually what is closest to typical Java (or C# for that matter) semantics.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22233179#22233179", "question_id": 22146094, "answer_id": 22233179}, {"body": "<h2>Preface</h2>\n\n<p>Java is nothing like C++, contrary to hype. The Java hype machine would like you to believe that because Java has C++ like syntax, that the languages are similar. Nothing can be further from the truth. This misinformation is part of the reason why Java programmers go to C++ and use Java-like syntax without understanding the implications of their code.</p>\n\n<h2>Onwards we go</h2>\n\n<blockquote>\n  <p>But I can't figure out why should we do it this way. I would assume it\n  has to do with efficiency and speed since we get direct access to the\n  memory address. Am I right?</p>\n</blockquote>\n\n<p>To the contrary, actually. <a href=\"http://stackoverflow.com/questions/2264969/why-memory-allocation-on-heap-is-much-slower-than-on-stack\">The heap is much slower</a> than the stack, because the stack is very simple compared to the heap. Automatic storage variables (aka stack variables) have their destructors called once they go out of scope. For example:</p>\n\n<pre><code>{\n    std::string s;\n}\n// s is destroyed here\n</code></pre>\n\n<p>On the other hand, if you use a pointer dynamically allocated, its destructor must be called manually. <code>delete</code> calls this destructor for you.</p>\n\n<pre><code>{\n    std::string* s = new std::string;\n}\ndelete s; // destructor called\n</code></pre>\n\n<p>This has nothing to do with the <code>new</code> syntax prevalent in C# and Java. They are used for completely different purposes. </p>\n\n<h2>Benefits of dynamic allocation</h2>\n\n<blockquote>\n  <p><strong>1. You don't have to know the size of the array in advance</strong></p>\n</blockquote>\n\n<p>One of the first problems many C++ programmers run into is that when they are accepting arbitrary input from users, you can only allocate a fixed size for a stack variable. You cannot change the size of arrays either. For example:</p>\n\n<pre><code>char buffer[100];\nstd::cin &gt;&gt; buffer;\n// bad input = buffer overflow\n</code></pre>\n\n<p>Of course if you used an <code>std::string</code> instead, <code>std::string</code> internally resizes itself so that shouldn't be a problem. But essentially the solution to this problem is dynamic allocation. You can allocate dynamic memory based on input of the user, for example:</p>\n\n<pre><code>int * pointer;\nstd::cout &lt;&lt; \"How many items do you need?\";\nstd::cin &gt;&gt; n;\npointer = new int[n];\n</code></pre>\n\n<blockquote>\n  <p><b>Side note</b>: One mistake many beginners make is the usage of\n  variable length arrays. This is a GNU extension and also one in Clang\n  because they mirror many of GCC's extensions. So the following \n  <code>int arr[n]</code> should not be relied on.</p>\n</blockquote>\n\n<p>Because the heap is much bigger than the stack, one can arbitrary allocate/reallocate as much memory as he/she needs, whereas the stack has a limitation. </p>\n\n<blockquote>\n  <p><strong>2. Arrays are not pointers</strong></p>\n</blockquote>\n\n<p>How is this a benefit you ask? The answer will become clear once you understand the confusion/myth behind arrays and pointers. It is commonly assumed that they are the same, but they are not. This myth comes from the fact that pointers can be subscripted just like arrays and because arrays decay to pointers at the top level in a function declaration. However, once an array decays to a pointer, the pointer loses its <code>sizeof</code> information. So <code>sizeof(pointer)</code> will give the size of the pointer in bytes, which is usually 8 bytes on a 64-bit system. </p>\n\n<p>You cannot assign to arrays, only initialize them. For example:</p>\n\n<pre><code>int arr[5] = {1, 2, 3, 4, 5}; // initialization \nint arr[] = {1, 2, 3, 4, 5}; // The standard dictates that the size of the array\n                             // be given by the amount of members in the initializer  \narr = { 1, 2, 3, 4, 5 }; // ERROR\n</code></pre>\n\n<p>On the other hand, you can do whatever you want with pointers. Unfortunately because the distinction between pointers and arrays are hand-waved in Java and C#, beginners don't understand the difference. </p>\n\n<blockquote>\n  <p><strong>3. Polymorphism</strong></p>\n</blockquote>\n\n<p>Java and C# have facilities that allow you to treat objects as another, for example using the <code>as</code> keyword. So if somebody wanted to treat an <code>Entity</code> object as a <code>Player</code> object, one could do <code>Player player = Entity as Player;</code> This is very useful if you intend to call functions on a homogeneous container that should only apply to a specific type. The functionality can be achieved in a similar fashion below:</p>\n\n<pre><code>std::vector&lt;Base*&gt; vector;\nvector.push_back(&amp;square);\nvector.push_back(&amp;triangle);\nfor (auto&amp; e : vector)\n{\n     auto test = dynamic_cast&lt;Triangle*&gt;(e); // I only care about triangles\n     if (!test) // not a triangle\n        e.GenericFunction();\n     else\n        e.TriangleOnlyMagic();\n}\n</code></pre>\n\n<p>So say if only Triangles had a Rotate function, it would be a compiler error if you tried to call it on all objects of the class. Using <code>dynamic_cast</code>, you can simulate the <code>as</code> keyword. To be clear, if a cast fails, it returns an invalid pointer. So <code>!test</code> is essentially a shorthand for checking if <code>test</code> is NULL or an invalid pointer, which means the cast failed.</p>\n\n<h2>Benefits of automatic variables</h2>\n\n<p>After seeing all the great things dynamic allocation can do, you're probably wondering why wouldn't anyone NOT use dynamic allocation all the time? I already told you one reason, the heap is slow. And if you don't need all that memory, you shouldn't abuse it. So here's some disadvantages in no particular order:</p>\n\n<ul>\n<li><p>It is error prone. Manual memory allocation is dangerous and you are prone to leaks. If you are not proficient at using the debugger or <code>valgrind</code> (a memory leak tool), you may pull your hair out of your head. Luckily RAII idioms and smart pointers alleviate this a bit, but you must be familiar with practices such as The Rule Of Three and The Rule Of Five. It is a lot of information to take in, and beginners who either don't know or don't care will fall into this trap.</p></li>\n<li><p>It is not necessary. Unlike Java and C# where it is idiomatic to use the <code>new</code> keyword everywhere, in C++, you should only use it if you need to. The common phrase goes, everything looks like a nail if you have a hammer. Whereas beginners who start with C++ are scared of pointers and learn to use stack variables by habit, Java and C# programmers <b>start</b> by using pointers without understanding it! That is literally stepping off on the wrong foot. You must abandon everything you know because syntax is one thing, learning the language is another.</p></li>\n</ul>\n\n<blockquote>\n  <p><b>1. (N)RVO - Aka, (Named) Return Value Optimization</b></p>\n</blockquote>\n\n<p>One optimization many compilers make are things called <b>elision</b> and <b>return value optimization</b>. These things can obviate unnecessary copys which is useful for objects that are very large, such as a vector containing many elements. Normally the common practice is to use pointers to <b>transfer ownership</b> rather than copying the large objects to <b>move</b> them around. This has lead to the inception of <b>move semantics</b> and <b>smart pointers</b>.</p>\n\n<p>If you are using pointers, (N)RVO does <b>NOT</b> occur. It is more beneficial and less error-prone to take advantage of (N)RVO rather than returning or passing pointers if you are worried about optimization. Error leaks can happen if the caller of a function is responsible for <code>delete</code>ing a dynamically allocated object and such. It can be difficult to track the ownership of an object if pointers are being passed around like a hot potato. Just use stack variables because it is simpler and better.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22244097#22244097", "question_id": 22146094, "answer_id": 22244097}, {"body": "<p>C++ gives you three ways to pass an object: by pointer, by reference, and by value. Java limits you with the latter one (the only exception is primitive types like int, boolean etc). If you want to use C++ not just like a weird toy, then you'd better get to know the difference between these three ways.</p>\n\n<p>Java pretends that there is no such problem as 'who and when should destroy this?'. The answer is: The Garbage Collector, Great and Awful. Nevertheless, it can't provide 100% protection against memory leaks (yes, <a href=\"http://iwillgetthatjobatgoogle.tumblr.com/post/12591334729/java-memory-leaks\">java <strong>can</strong> leak memory</a>). Actually, GC gives you a false sense of safety. The bigger your SUV, the longer your way to the evacuator.</p>\n\n<p>C++ leaves you face-to-face with object's lifecycle management. Well, there are means to deal with that (<a href=\"http://en.wikipedia.org/wiki/Smart_pointer\">smart pointers</a> family, QObject in Qt and so on), but none of them can be used in 'fire and forget' manner like GC: you should <strong>always</strong> keep in mind memory handling. Not only should you care about destroying an object, you also have to avoid destroying the same object more than once.</p>\n\n<p>Not scared yet? Ok: cyclic references - handle them yourself, human. And remember: kill each object precisely once, we C++ runtimes don't like those who mess with corpses, leave dead ones alone.</p>\n\n<p>So, back to your question.</p>\n\n<p>When you pass your object around by value, not by pointer or by reference, you copy the object (the whole object, whether it's a couple of bytes or a huge database dump - you're smart enough to care to avoid latter, aren't you?) every time you do '='. And to access the object's members, you use '.' (dot).</p>\n\n<p>When you pass your object by pointer, you copy just a few bytes (4 on 32-bit systems, 8 on 64-bit ones), namely - the address of this object. And to show this to everyone, you use this fancy '->' operator when you access the members. Or you can use the combination of '*' and '.'.</p>\n\n<p>When you use references, then you get the pointer that pretends to be a value. It's a pointer, but you access the members through '.'.</p>\n\n<p>And, to blow your mind one more time: when you declare several variables separated by commas, then (watch the hands):</p>\n\n<ul>\n<li>Type is given to everyone</li>\n<li>Value/pointer/reference modifier is individual</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>struct MyStruct\n{\n    int* someIntPointer, someInt; //here comes the surprise\n    MyStruct *somePointer;\n    MyStruct &amp;someReference;\n};\n\nMyStruct s1; //we allocated an object on stack, not in heap\n\ns1.someInt = 1; //someInt is of type 'int', not 'int*' - value/pointer modifier is individual\ns1.someIntPointer = &amp;s1.someInt;\n*s1.someIntPointer = 2; //now s1.someInt has value '2'\ns1.somePointer = &amp;s1;\ns1.someReference = s1; //note there is no '&amp;' operator: reference tries to look like value\ns1.somePointer-&gt;someInt = 3; //now s1.someInt has value '3'\n*(s1.somePointer).someInt = 3; //same as above line\n*s1.somePointer-&gt;someIntPointer = 4; //now s1.someInt has value '4'\n\ns1.someReference.someInt = 5; //now s1.someInt has value '5'\n                              //although someReference is not value, it's members are accessed through '.'\n\nMyStruct s2 = s1; //'NO WAY' the compiler will say. Go define your '=' operator and come back.\n\n//OK, assume we have '=' defined in MyStruct\n\ns2.someInt = 0; //s2.someInt == 0, but s1.someInt is still 5 - it's two completely different objects, not the references to the same one\n</code></pre>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22246945#22246945", "question_id": 22146094, "answer_id": 22246945}, {"body": "<p>This is has been discussed at length, but in Java everything is a pointer. It makes no distinction between stack and heap allocations (all objects are allocated on the heap), so you don't realize you're using pointers. In C++, you can mix the two, depending on your memory requirements. Performance and memory usage is more deterministic in C++ (duh).  </p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22263437#22263437", "question_id": 22146094, "answer_id": 22263437}, {"body": "<p>Well the main question is <strong>Why should I use a pointer rather than the object itself?</strong> And my answer, you should (almost) never use pointer instead of object, because C++ has <a href=\"http://www.cprogramming.com/tutorial/references.html\" rel=\"nofollow\">references</a>, it is safer then pointers and guarantees the same performance as pointers.</p>\n\n<p>Another thing you mentioned in your question:</p>\n\n<pre><code>Object *myObject = new Object;\n</code></pre>\n\n<p>How does it work? It creates pointer of <code>Object</code> type, allocates memory to fit one object and calls default constructor, sounds good, right? But actually it isn't so good, if you dynamically allocated memory (used keyword <code>new</code>), you also have to free memory manually, that means in code you should have:</p>\n\n<pre><code>delete myObject;\n</code></pre>\n\n<p>This calls destructor and frees memory, looks easy, however in big projects may be difficult to detect if one thread freed memory or not, but for that purpose you can try <a href=\"https://www.google.lt/?gws_rd=cr&amp;ei=ge4aU_OqC-PoywPVsoL4BA#q=c%2b%2b%20shared%20pointer\" rel=\"nofollow\">shared pointers</a>, these slightly decreases performance, but it is much easier to work with them.</p>\n\n<hr>\n\n<p>And now some introduction is over and go back to question.</p>\n\n<p>You can use pointers instead of objects to get better performance while transferring data between function.</p>\n\n<p>Take a look, you have <code>std::string</code> (it is also object) and it contains really much data, for example big XML, now you need to parse it, but for that you have function <code>void foo(...)</code> which can be declarated in different ways:</p>\n\n<ol>\n<li><code>void foo(std::string xml);</code>\nIn this case you will copy all data from your variable to function stack, it takes some time, so your performance will be low.</li>\n<li><code>void foo(std::string* xml);</code>\nIn this case you will pass pointer to object, same speed as passing <code>size_t</code> variable, however this declaration has error prone, because you can pass <code>NULL</code> pointer or invalid pointer. Pointers usually used in <code>C</code> because it doesn't have references.</li>\n<li><code>void foo(std::string&amp; xml);</code>\nHere you pass reference, basically it is the same as passing pointer, but compiler does some stuff and you cannot pass invalid reference (actually it is possible to create situation with invalid reference, but it is tricking compiler).</li>\n<li><code>void foo(const std::string* xml);</code>\nHere is the same as second, just pointer value cannot be changed.</li>\n<li><code>void foo(const std::string&amp; xml);</code>\nHere is the same as third, but object value cannot be changed.</li>\n</ol>\n\n<p>What more I want to mention, you can use these 5 ways to pass data no matter which allocation way you have chosen (with <code>new</code> or <em>regular</em>).</p>\n\n<hr>\n\n<p>Another thing to mention, when you create object in <em>regular</em> way, you allocate memory in stack, but while you create it with <code>new</code> you allocate heap. It is much faster to allocate stack, but it is kind a small for really big arrays of data, so if you need big object you should use heap, because you may get stack overflow, but usually this issue is solved using <a href=\"http://www.cplusplus.com/reference/stl/\" rel=\"nofollow\">STL containers</a> and remember <code>std::string</code> is also container, some guys forgot it :)</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/22268280#22268280", "question_id": 22146094, "answer_id": 22268280}, {"body": "<p>There are many excellent answers already, but let me give you one example:</p>\n\n<p>I have an simple Item class:</p>\n\n<pre><code> class Item\n    {\n    public: \n      std::string name;\n      int weight;\n      int price;\n    };\n</code></pre>\n\n<p>I make a vector to hold a bunch of them.</p>\n\n<p><code>std::vector&lt;Item&gt; inventory;</code></p>\n\n<p>I create one million Item objects, and push them back onto the vector. I sort the vector by name, and then do a simple iterative binary search for a particular item name. I test the program, and it takes over 8 minutes to finish executing. Then I change my inventory vector like so:</p>\n\n<p><code>std::vector&lt;Item *&gt; inventory;</code></p>\n\n<p>...and create my million Item objects via new. The ONLY changes I make to my code are to use the pointers to Items, excepting a loop I add for memory cleanup at the end. That program runs in under 40 seconds, or better than a 10x speed increase.\nEDIT: The code is at <a href=\"http://pastebin.com/DK24SPeW\" rel=\"nofollow\">http://pastebin.com/DK24SPeW</a>\nWith compiler optimizations it shows only a 3.4x increase on the machine I just tested it on, which is still considerable.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/28350447#28350447", "question_id": 22146094, "answer_id": 28350447}, {"body": "<p>You <em>shouldn't</em>. People (many people, sadly) write it out of ignorance.</p>\n\n<p>Sometimes dynamic allocation has its place but, in the examples you give, it is <em>wrong</em>.</p>\n\n<p>If you want to think about efficiency, then this is <em>worse</em>, because it introduces indirection for no good reason. This sort of programming is <em>slower</em> and <em>more error-prone</em>.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/33726825#33726825", "question_id": 22146094, "answer_id": 33726825}, {"body": "<p><strong>With pointers</strong> , </p>\n\n<ul>\n<li><p>can directly talk to the memory. </p></li>\n<li><p>can prevent lot of memory leaks of a program by manipulating pointers.</p></li>\n</ul>\n\n<p>for a example, in java java it has its own garbage collector which might not efficient enough for a particular program you use. but in C++ ,using pointers , you can create a custom garbage collector for your own program</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/37565638#37565638", "question_id": 22146094, "answer_id": 37565638}, {"body": "<p>Suppose you want to visit your friends home, \nTell him to bring his home to your place. This is Passing object itself.</p>\n\n<p>Then ask him his home address, he will give you the address. Now you can visit his home this is Pass by Pointer. </p>\n\n<p>getting address from your friend is easier than copying his home everywhere.\nthis is why you should use pointers to objects.</p>\n", "title": "Why should I use a pointer rather than the object itself?", "tags": ["c++", "pointers", "c++11"], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself/39248439#39248439", "question_id": 22146094, "answer_id": 39248439}], "link": "http://stackoverflow.com/questions/22146094/why-should-i-use-a-pointer-rather-than-the-object-itself", "question_id": 22146094}, {"body": "<p>I am new to AngularJS. I find Angular quite interesting and planning to use angular in my big apps. So I am in the process to find out the right modules to use.</p>\n\n<p>What is the difference between <strong>ngRoute (angular-route.js)</strong> and <strong>ui-router (angular-ui-router.js)</strong> modules?</p>\n\n<p>In many articles when <em>ngRoute</em> is used, route is configured with <strong><em>$routeProvider</em></strong>. However, when used with <em>ui-router</em>, route is configured with <strong><em>$stateProvider and $urlRouterProvider</em></strong>. </p>\n\n<p>This creates a bit of confusion for me. Which module should I use for better manageability and extensibility?</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "answers": [{"body": "<p><a href=\"https://github.com/angular-ui/ui-router\">ui-router</a> is a 3rd-party module and is very powerful.  It supports everything the normal ngRoute can do as well as many extra functions.</p>\n\n<p>Here are some common reason ui-router is chosen over ngRoute:</p>\n\n<ul>\n<li><p>ui-router allows for <a href=\"https://github.com/angular-ui/ui-router/wiki/Nested-States-%26-Nested-Views\">nested views</a> and <a href=\"https://github.com/angular-ui/ui-router/wiki/Multiple-Named-Views\">multiple named views</a>.  This is very useful with larger app where you may have pages that inherit from other sections.</p></li>\n<li><p>ui-router allows for you to have strong-type linking between states based on state names.  Change the url in one place will update every link to that state when you build your links with <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state.directive:ui-sref\"><code>ui-sref</code></a>. Very useful for larger projects where URLs might change.</p></li>\n<li><p>There is also the concept of the <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state.$stateProvider#methods_decorator\">decorator</a> which could be used to allow your routes to be dynamically created based on the URL that is trying to be accessed. This could mean that you will not need to specify all of your routes before hand.</p></li>\n<li><p><a href=\"https://github.com/angular-ui/ui-router/wiki#state-manager\">states</a> allow you to map and access different information about different states and you can easily pass information between states via <a href=\"https://github.com/angular-ui/ui-router/wiki/URL-Routing#stateparams-service\"><code>$stateParams</code></a>.</p></li>\n<li><p>You can easily determine if you are in a state or parent of a state to adjust UI element (highlighting the navigation of the current state) within your templates via <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.state.$state\"><code>$state</code></a> provided by ui-router which you can expose via setting it in <code>$rootScope</code> on <code>run</code>.</p></li>\n</ul>\n\n<p>In essence, ui-router is ngRouter with more features, under the sheets it is quite different. These additional features are very useful for larger applications.</p>\n\n<p>More Information:</p>\n\n<ul>\n<li>Github: <a href=\"https://github.com/angular-ui/ui-router\">https://github.com/angular-ui/ui-router</a></li>\n<li>Documentation:\n<ul>\n<li>API Reference: <a href=\"http://angular-ui.github.io/ui-router/site/#/api\">http://angular-ui.github.io/ui-router/site/#/api</a></li>\n<li>Guide: <a href=\"https://github.com/angular-ui/ui-router/wiki\">https://github.com/angular-ui/ui-router/wiki</a></li>\n</ul></li>\n<li>FAQs: <a href=\"https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions\">https://github.com/angular-ui/ui-router/wiki/Frequently-Asked-Questions</a></li>\n<li>Sample Application: <a href=\"http://angular-ui.github.io/ui-router/sample/#/\">http://angular-ui.github.io/ui-router/sample/#/</a> </li>\n</ul>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/21024270#21024270", "question_id": 21023763, "answer_id": 21024270}, {"body": "<p>ngRoute is part of the core AngularJS framework.</p>\n\n<p>ui-router is a community library that has been created to attempt to improve upon the default routing capabilities.</p>\n\n<p>here is a good article about configuring/setting up ui-router:</p>\n\n<p><a href=\"http://www.ng-newsletter.com/posts/angular-ui-router.html\">http://www.ng-newsletter.com/posts/angular-ui-router.html</a></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/21024339#21024339", "question_id": 21023763, "answer_id": 21024339}, {"body": "<p><strong>ngRoute</strong> is a module developed by the Angular.js team which was earlier part of the Angular core.</p>\n\n<p><strong>ui-router</strong> is a framework which was made outside the Angular.js project to improve and enhance routing capabalities. </p>\n\n<p>From the ui-router <a href=\"https://github.com/angular-ui/ui-router\">documentation</a>:</p>\n\n<blockquote>\n  <p>AngularUI Router is a routing framework for AngularJS, which allows\n  you to organize the parts of your interface into a state machine.\n  Unlike the $route service in Angular core, which is organized around\n  URL routes, UI-Router is organized around states, which may optionally\n  have routes, as well as other behavior, attached.</p>\n  \n  <p>States are bound to named, nested and parallel views, allowing you to\n  powerfully manage your application's interface.</p>\n</blockquote>\n\n<p>Neither of them is better, you will have to chose the most appropriate for your project.</p>\n\n<p>However, if you plan to have complex views in your application and you would like to deal with the \"$state\" notion. I recommend you to chose ui-router.</p>\n\n<p>Hope that help !</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/21024396#21024396", "question_id": 21023763, "answer_id": 21024396}, {"body": "<p>If you want to make use of nested views functionality implemented within ngRoute paradigm, try <a href=\"http://angular-route-segment.com\">angular-route-segment</a> - it aims to extend ngRoute rather than to replace it.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/22921263#22921263", "question_id": 21023763, "answer_id": 22921263}, {"body": "<p>ngRoute is basic routing library, where you can specify just one view and controller for any route.</p>\n\n<p>With ui-router, you can specify multiple views, both parallel and nested. So if you app requires (or may require in future) any kind of complex routing/views, then go ahead with ui-router. </p>\n\n<p><a href=\"http://www.ng-newsletter.com/posts/angular-ui-router.html\" rel=\"nofollow\">This</a> is best getting started guide for AngularUI Router.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/25546125#25546125", "question_id": 21023763, "answer_id": 25546125}, {"body": "<blockquote>\n  <p>ngRoute is a angular core module which is good for basic scenarios. I believe that they will add more powerful features in upcoming releases.</p>\n</blockquote>\n\n<p>URL: <a href=\"https://docs.angularjs.org/api/ngRoute\">https://docs.angularjs.org/api/ngRoute</a></p>\n\n<blockquote>\n  <p>Ui-router is a contributed module which is overcome the problems of ngRoute. Mainly Nested/Complex views.</p>\n</blockquote>\n\n<p>URL: <a href=\"https://github.com/angular-ui/ui-router\">https://github.com/angular-ui/ui-router</a></p>\n\n<p>Some of the difference between ui-router and ngRoute</p>\n\n<p><a href=\"http://www.amasik.com/angularjs-ngroute-vs-ui-router/\">http://www.amasik.com/angularjs-ngroute-vs-ui-router/</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/PkUq0.png\" alt=\"enter image description here\"></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/27547301#27547301", "question_id": 21023763, "answer_id": 27547301}, {"body": "<p>ngRoute is a module built by the Angular team that provides basic client-side routing functionality. This module provides a fairly powerful base for routing, and can be built upon pretty easily to give solid routing functionality, as exemplified in <a href=\"http://www.bennadel.com/blog/2801-revisiting-routing-nested-views-and-caching-with-ngroute-in-angularjs-1-x.htm\" rel=\"nofollow\">this blog post</a> (be sure to read the comment trail between Ward Bell and Ben Nadel, the author - they are a couple of Angular pros)</p>\n\n<p>ui-router shifts the focus from url-centric routes to application \"states\", which may or may not be reflected in the url.</p>\n\n<p>The primary features added by ui-router are nested states and named views.</p>\n\n<p>Nested states allow you to separate controller logic for the various pieces of the application. A very simple example of this would be an app with primary navigation across the top, a secondary navigation list along the left, and content on the right. Without nested states, a single controller would typically have to handle the display logic for the secondary navigation as well as the content. Nested routing allows you to separate these concerns.</p>\n\n<p>Named views are another additional feature of ui-router. With ngRoute, you can only have a single ngView directive on a page, whereas with named views in ui-router you can specify multiple ui-view directives, and then each state is able to affect the template and controller of the names views. A super simple example of this would be to have the main content of your app be the primary view, and then to also have a footer bar that would be a separate ui-view. In this scenario, the footer's controller no longer has to listen for state/route changes.</p>\n\n<p>A good comparison of ngRoute and ui-router can be found on <a href=\"http://devchat.tv/adventures-in-angular/032-aia-angular-ui-router-with-craig-mckeachie\" rel=\"nofollow\">this podcast</a> episode.</p>\n\n<p>Just to make things more confusing, keep an eye on the new \"official\" routing module that the Angular team is expecting to release for versions 1.5 and 2.0 of Angular. This will be replacing the ngRoute module. <a href=\"http://angular.github.io/router/\" rel=\"nofollow\">Here</a>  is the current documentation for the new Router module - it is fairly sparse as of this posting since the implementation has not yet been finalized. Watch <a href=\"https://blog.angularjs.org/\" rel=\"nofollow\">here</a> for more news on when this module will actually be released.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/31085000#31085000", "question_id": 21023763, "answer_id": 31085000}, {"body": "<p>ui router make ur life easier! you can add it to you Angular app via injecting it into your app.. </p>\n\n<p>ng-route comes as part of the core Angular, so it's simpler and give u less options...</p>\n\n<p>Look at here to understand ng-route better : <a href=\"https://docs.angularjs.org/api/ngRoute\" rel=\"nofollow\">https://docs.angularjs.org/api/ngRoute</a></p>\n\n<p>Also when using it , don't forget to use: ngView ..</p>\n\n<p>ng-ui-router is different but:</p>\n\n<p><a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">https://github.com/angular-ui/ui-router</a> but gives you more options....</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/33171868#33171868", "question_id": 21023763, "answer_id": 33171868}, {"body": "<p>Generally ui-router work on state mechanism...\nIt can be understand with an easy example...\nLets say we have a big application of music library ( like ..gaana or saavan or any other)\nAnd at the bottom of the page you have music player which is shared across all the state of the page.\nNow let's say you just click on some songs to play.\nIn this case only that music player state should change instead of reloading full page.\nThat can be easily handled  by ui-router.</p>\n\n<p>While in ngRoute we just attach the view and the controller.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/34571427#34571427", "question_id": 21023763, "answer_id": 34571427}, {"body": "<p>AngularUI Router is a routing framework for AngularJS, which allows you to organize the parts of your interface into a state machine. Unlike the $route service in the Angular ngRoute module, which is organized around URL routes, UI-Router is organized around states, which may optionally have routes, as well as other behavior, attached.</p>\n\n<p><a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">https://github.com/angular-ui/ui-router</a></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/35262754#35262754", "question_id": 21023763, "answer_id": 35262754}, {"body": "<p>Why You Should Use UI-Router:</p>\n\n<p>Multiple Views:\n    Most applications can be broken up into regions. At a minimum, applications usually have a header, a main content area, and a footer.</p>\n\n<p>Commonly, applications may have an additional sidebar on the left or right side of the page as shown below.\n    <a href=\"http://i.stack.imgur.com/qyYgX.jpg\"><img src=\"http://i.stack.imgur.com/qyYgX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In most use cases, all of these regions (views) are shown on the page at the same time. With the built-in AngularJS router, ngRoute, only one view (ng-view) is allowed per page. This limitation causes people to use includes (ng-include) or other workarounds to create a layout or master page for their application. UI-Router supports multiple views and each can have it\u2019s own corresponding Controller so that each of these regions can be encapsulated and reused throughout the application if needed.</p>\n\n<p>Nested Views:\n    The common example of a nested view in applications is a master/detail or, more specifically, a list/detail page. Many applications show a list of items then when you click on an item you see the detail for that item. Taking this example further, you might then click an edit link when viewing the item\u2019s details that takes you to an editable form for the item (see the diagram below to visualize).\n    <a href=\"http://i.stack.imgur.com/oJcUe.jpg\"><img src=\"http://i.stack.imgur.com/oJcUe.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This scenario is easily achieved with the built-in AngularJS router, <code>ngRoute</code>, if the list and detail are on separate pages (or views as they are called in AngularJS). However, if you want the list to remain on the page while you show the detail to the right or below the list this becomes more challenging.</p>\n\n<p>To be clear, this requirement can be achieved with <code>ngRoute</code> by sharing a single view with two controllers: one for the list and one for the detail and hiding and showing the detail as needed.</p>\n\n<p>The result is not ideal because we would like the list and detail to each have their own controller and view with only one responsibility (showing a list or showing item details). By encapsulating these user interface areas in their own view we can have a more composable UI that allows us to bring the pieces together or break them apart as needed to meet requirements.</p>\n\n<p>Nested views enable us to not only to bring these views together at the same time, but also to nest a view inside another view.</p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/37274246#37274246", "question_id": 21023763, "answer_id": 37274246}, {"body": "<p>ng-route is Developed by the angularJS Team for routing.\nng-route:  url (Location) based routing</p>\n\n<p>ui-router is develoepd by 3rd party module\nui-router : state based routing\nui-router allows for nested views \nui-router more powerful ng-route</p>\n\n<p><a href=\"https://docs.angularjs.org/api/ngRoute\" rel=\"nofollow\">ng-router</a>, \n<a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">ui-router</a></p>\n", "title": "AngularJS : Difference between angular-route and angular-ui-router", "tags": ["javascript", "angularjs", "angularjs-routing", "angular-ui-router", "angularjs-module"], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router/39227183#39227183", "question_id": 21023763, "answer_id": 39227183}], "link": "http://stackoverflow.com/questions/21023763/angularjs-difference-between-angular-route-and-angular-ui-router", "question_id": 21023763}, {"body": "<p>When planning out my programs, I often start with a chain of thought like so:</p>\n\n<blockquote>\n  <p>A football team is just a list of football players. Therefore, I should represent it with:</p>\n\n<pre><code>var football_team = new List&lt;FootballPlayer&gt;();\n</code></pre>\n  \n  <p>The ordering of this list represent the order in which the players are listed in the roster.</p>\n</blockquote>\n\n<p>But I realize later that teams also have other properties, besides the mere list of players, that must be recorded. For example, the running total of scores this season, the current budget, the uniform colors, a <code>string</code> representing the name of the team, etc..</p>\n\n<p>So then I think:</p>\n\n<blockquote>\n  <p>Okay, a football team is just like a list of players, but additionally, it has a name (a <code>string</code>) and a running total of scores (an <code>int</code>). .NET does not provide a class for storing football teams, so I will make my own class. The most similar and relevant existing structure is <code>List&lt;FootballPlayer&gt;</code>, so I will inherit from it:</p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n</blockquote>\n\n<p>But it turns out that <a href=\"http://stackoverflow.com/a/5376343/1042555\">a guideline says you shouldn't inherit from <code>List&lt;T&gt;</code></a>. I'm thoroughly confused by this guideline in two respects.</p>\n\n<h2>Why not?</h2>\n\n<p>Apparently <a href=\"http://stackoverflow.com/a/5376358/1042555\"><code>List</code> is somehow optimized for performance</a>. How so? What performance problems will I cause if I extend <code>List</code>? What exactly will break?</p>\n\n<p>Another reason I've seen is that <code>List</code> is provided by Microsoft, and I have no control over it, so <a href=\"http://stackoverflow.com/questions/5376203/inherit-listt#comment6077237_5376343\">I cannot change it later, after exposing a \"public API\"</a>. But I struggle to understand this. What is a public API and why should I care? If my current project does not and is not likely to ever have this public API, can I safely ignore this guideline? If I do inherit from <code>List</code> <em>and</em> it turns out I need a public API, what difficulties will I have?</p>\n\n<p>Why does it even matter? A list is a list. What could possibly change? What could I possibly want to change?</p>\n\n<p>And lastly, if Microsoft did not want me to inherit from <code>List</code>, why didn't they make the class <code>sealed</code>?</p>\n\n<h2>What else am I supposed to use?</h2>\n\n<p>Apparently, for custom collections, Microsoft has provided a <code>Collection</code> class which should be extended instead of <code>List</code>. But this class is very bare, and does not have many useful things, <a href=\"http://stackoverflow.com/questions/1474863/addrange-to-a-collection\">such as <code>AddRange</code></a>, for instance. <a href=\"http://stackoverflow.com/a/12039943/1042555\">jvitor83's answer</a> provides a performance rationale for that particular method, but how is a slow <code>AddRange</code> not better than no <code>AddRange</code>?</p>\n\n<p>Inheriting from <code>Collection</code> is way more work than inheriting from <code>List</code>, and I see no benefit. Surely Microsoft wouldn't tell me to do extra work for no reason, so I can't help feeling like I am somehow misunderstanding something, and inheriting <code>Collection</code> is actually not the right solution for my problem.</p>\n\n<p>I've seen suggestions such as implementing <code>IList</code>. Just no. This is dozens of lines of boilerplate code which gains me nothing.</p>\n\n<p>Lastly, some suggest wrapping the <code>List</code> in something: </p>\n\n<pre><code>class FootballTeam \n{ \n    public List&lt;FootballPlayer&gt; Players; \n}\n</code></pre>\n\n<p>There are two problems with this:</p>\n\n<ol>\n<li><p>It makes my code needlessly verbose. I must now call <code>my_team.Players.Count</code> instead of just <code>my_team.Count</code>. Thankfully, with C# I can define indexers to make indexing transparent, and forward all the methods of the internal <code>List</code>... But that's a lot of code! What do I get for all that work?</p></li>\n<li><p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It <em>is</em> the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\". You don't add a letter to \"a string's characters\", you add a letter to a string. You don't add a book to a library's books, you add a book to a library.</p></li>\n</ol>\n\n<p>I realize that what happens \"under the hood\" can be said to be \"adding X to Y's internal list\", but this seems like a very counter-intuitive way of thinking about the world.</p>\n\n<h2>My question (summarized)</h2>\n\n<p>What is the correct C# way of representing a data structure, which, \"logically\" (that is to say, \"to the human mind\") is just a <code>list</code> of <code>things</code> with a few bells and whistles?</p>\n\n<p>Is inheriting from <code>List&lt;T&gt;</code> always unacceptable? When is it acceptable? Why/why not? What must a programmer consider, when deciding whether to inherit from <code>List&lt;T&gt;</code> or not?</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "answers": [{"body": "<blockquote>\n  <p>Lastly, some suggest wrapping the List in something:</p>\n</blockquote>\n\n<p>That is the correct way. \"Needlessly wordy\" is a bad way to look at this. It has an explicit meaning when you write <code>my_team.Players.Count</code>. You want to count the players.</p>\n\n<pre><code>my_team.Count\n</code></pre>\n\n<p>..means nothing. Count what?</p>\n\n<p>Your design is broken when you want to inherit from <code>List</code>. Your team isn't a list.. it's an enclosing entity that owns other entities. A team owns players, so players should be part of it (a member).</p>\n\n<p>If you're <em>really</em> worried about it being \"needlessly wordy\", you can always expose properties from the team:</p>\n\n<pre><code>public int PlayerCount {\n    get {\n        return Players.Count;\n    }\n}\n</code></pre>\n\n<p>..which becomes:</p>\n\n<pre><code>my_team.PlayerCount\n</code></pre>\n\n<p>This has meaning now and adheres to <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\">The Law Of Demeter</a>.</p>\n\n<p>You should also consider adhering to the <a href=\"http://en.wikipedia.org/wiki/Composition_over_inheritance\">Composite reuse principle</a>. By inheriting from <code>List&lt;T&gt;</code>, you're saying a team <strong>is a</strong> list of players and exposing needless methods out of it. This is incorrect - as you stated, a team is more than a list of players: it has a name, managers, board members, trainers, medical staff, salary caps, etc. By having your team class contain a list of players, you're saying \"A team <strong>has a</strong> list of players\", but it can also have other things.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21692228#21692228", "question_id": 21692193, "answer_id": 21692228}, {"body": "<p>First of all, it has to do with usability. If you use inheritance, the <code>Team</code> class will expose behavior (methods) that are designed purely for object manipulation. For example, <code>AsReadOnly()</code> or <code>CopyTo(obj)</code> methods make no sense for the team object. Instead of the <code>AddRange(items)</code> method you would probably want a more descriptive <code>AddPlayers(players)</code> method.</p>\n\n<p>If you want to use LINQ, implementing a generic interface such as <code>ICollection&lt;T&gt;</code> or <code>IEnumerable&lt;T&gt;</code> would make more sense.</p>\n\n<p>As mentioned, composition is the right way to go about it. Just implement a list of players as a private variable.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21692455#21692455", "question_id": 21692193, "answer_id": 21692455}, {"body": "<p>Wow, your post has an entire slew of questions and points. Most of the reasoning you get from Microsoft is exactly on point. Let's start with everything about <code>List&lt;T&gt;</code></p>\n\n<ul>\n<li><code>List&lt;T&gt;</code> <strong>is</strong> highly optimized. It's main usage is to be used as a private member of an object.</li>\n<li>Microsoft did not seal it because sometimes you might want to create a class that has a friendlier name: <code>class MyList&lt;T, TX&gt; : List&lt;CustomObject&lt;T, Something&lt;TX&gt;&gt; { ... }</code>. Now it's as easy as doing <code>var list = new MyList&lt;int, string&gt;();</code>.</li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms182142.aspx\" rel=\"nofollow\">CA1002: Do not expose generic lists</a>: Basically, even if you plan to use this app as the sole developer, it's worthwhile to develop with good coding practices, so they become instilled into you and second nature. You are still allowed to expose the list as an <code>IList&lt;T&gt;</code> if you need any consumer to have an indexed list. This let's you change the implementation within a class later on.</li>\n<li>Microsoft made <code>Collection&lt;T&gt;</code> very generic because it is a generic concept... the name says it all; it is just a collection. There are more precise versions such as <code>SortedCollection&lt;T&gt;</code>, <code>ObservableCollection&lt;T&gt;</code>, <code>ReadOnlyCollection&lt;T&gt;</code>, etc. each of which implement <code>IList&lt;T&gt;</code> but <strong>not</strong> <code>List&lt;T&gt;</code>.</li>\n<li><code>Collection&lt;T&gt;</code> allows for members (i.e. Add, Remove, etc.) to be overridden because they are virtual. <code>List&lt;T&gt;</code> does not.</li>\n<li>The last part of your question is spot on. A Football team is more than just a list of players, so it should be a class that contains that list of players. Think <a href=\"http://stackoverflow.com/a/49016/347172\">Composition vs Inheritance</a>. A Football team <em>has</em> a list of players (a roster), it isn't a list of players.</li>\n</ul>\n\n<hr>\n\n<p>If I were writing this code the class would probably look something like so:</p>\n\n<pre><code>public class FootballTeam\n{\n    // Football team rosters are generally 53 total players.\n    private readonly List&lt;T&gt; _roster = new List&lt;T&gt;(53);\n\n    public IList&lt;T&gt; Roster\n    {\n        get { return _roster; }\n    }\n\n    // Yes. I used LINQ here. This is so I don't have to worry about\n    // _roster.Length vs _roster.Count vs anything else.\n    public int PlayerCount\n    {\n        get { return _roster.Count(); }\n    }\n\n    // Any additional members you want to expose/wrap.\n}\n</code></pre>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21692470#21692470", "question_id": 21692193, "answer_id": 21692470}, {"body": "<p>There are some good answers here. I would add to them the following points.</p>\n\n<blockquote>\n  <p>What is the correct C# way of representing a data structure, which, \"logically\" (that is to say, \"to the human mind\") is just a list of things with a few bells and whistles?</p>\n</blockquote>\n\n<p>Ask any ten non-computer-programmer people who are familiar with the existence of football to fill in the blank:</p>\n\n<pre><code>A football team is a particular kind of _____\n</code></pre>\n\n<p>Did <em>anyone</em> say \"list of football players with a few bells and whistles\", or did they all say \"sports team\" or \"club\" or \"organization\"?  Your notion that a football team is <em>a particular kind of list of players</em> is in your human mind and your human mind alone. </p>\n\n<p><code>List&lt;T&gt;</code> is a <em>mechanism</em>.  Football team is a <em>business object</em> -- that is, an object that represents some concept that is in the <em>business domain</em> of the program. Don't mix those! A football team <em>is a kind of</em> team; it <em>has a</em> roster, a roster <em>is a list of players</em>. A roster is not a <em>particular kind of list of players</em>. A roster <em>is</em> a list of players. So make a property called <code>Roster</code> that is a <code>List&lt;Player&gt;</code>. And make it <code>ReadOnlyList&lt;Player&gt;</code> while you're at it, unless you believe that everyone who knows about a football team gets to delete players from the roster.</p>\n\n<blockquote>\n  <p>Is inheriting from <code>List&lt;T&gt;</code> always unacceptable? </p>\n</blockquote>\n\n<p>Unacceptable to who? Me? No.</p>\n\n<blockquote>\n  <p>When is it acceptable? </p>\n</blockquote>\n\n<p>When you're building a mechanism that <em>extends the <code>List&lt;T&gt;</code> mechanism</em>.</p>\n\n<blockquote>\n  <p>What must a programmer consider, when deciding whether to inherit from <code>List&lt;T&gt;</code> or not?</p>\n</blockquote>\n\n<p>Am I building a <em>mechanism</em> or a <em>business object</em>? </p>\n\n<blockquote>\n  <p>But that's a lot of code! What do I get for all that work?</p>\n</blockquote>\n\n<p>You spent more time typing up your question that it would have taken you to write forwarding methods for the relevant members of <code>List&lt;T&gt;</code> fifty times over. You're clearly not afraid of verbosity, and we are talking about a very small amount of code here; this is a few minutes work.</p>\n\n<h2>UPDATE</h2>\n\n<p>I gave it some more thought and there is another reason to not model a football team as a list of players. In fact it might be a bad idea to model a football team as <em>having</em> a list of players too. The problem with a team as/having a list of players is that what you've got is a <em>snapshot</em> of the team <em>at a moment in time</em>. I don't know what your business case is for this class, but if I had a class that represented a football team I would want to ask it questions like \"how many Seahawks players missed games due to injury between 2003 and 2013?\" or \"What Denver player who previously played for another team had the largest year-over-year increase in yards ran?\" or \"<a href=\"http://theoatmeal.com/comics/working_home\">Did the Piggers go all the way this year?</a>\" </p>\n\n<p>That is, a football team seems to me to be well modeled as <em>a collection of historical facts</em> such as when a player was recruited, injured, retired, etc. Obviously the current player roster is an important fact that should probably be front-and-center, but there may be other interesting things you want to do with this object that require a more historical perspective.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21694054#21694054", "question_id": 21692193, "answer_id": 21694054}, {"body": "<h1>It depends on the context</h1>\n\n<p>When you consider your team as a list of players, you are projecting the \"idea\" of a foot ball team down to one aspect: You reduce the \"team\" to the people you see on the field. This projection is only correct in a certain context. In a different context, this might be completely wrong. Imagine you want to become a sponsor of the team. So you have to talk to the managers of the team. In this context the team is projected to the list of its managers. And these two lists usually don't overlap very much. Other contexts are the current versus the former players, etc.</p>\n\n<h2>Unclear semantics</h2>\n\n<p>So the problem with considering a team as a list of its players is that its semantic depends on the context and that it cannot be extended when the context changes. Additionally it is hard to express, which context you are using.</p>\n\n<h2>Classes are extensible</h2>\n\n<p>When you using a class with only one member (e.g. <code>IList activePlayers</code>), you can use the name of the member (and additionally its comment) to make the context clear. When there are additional contexts, you just add an additional member.</p>\n\n<h2>Classes are more complex</h2>\n\n<p>In some cases it might be overkill to create a extra class. Each class definition must be loaded through the classloader and will be cached by the virtual machine. This costs you runtime performance and memory. When you have a very specific context it might be OK to consider a football team as a list of players. But in this case, you should really just use a <code> IList </code>, not a class derived from it.</p>\n\n<h1>Conclusion / Considerations</h1>\n\n<p>When you have a very specific context, it is OK to consider a team as a list of players. For example inside a method it is completely OK to write</p>\n\n<pre><code>IList&lt;Player&gt; footballTeam = ...\n</code></pre>\n\n<p>When using F#, it can even be OK to create a type abbreviation</p>\n\n<pre><code>type FootballTeam = IList&lt;Player&gt;\n</code></pre>\n\n<p>But when the context is broader or even unclear, you should not do this. This is especially the case, when you create a new class, where it is not clear in which context it may be used in the future. A warning sign is when you start to add additional attributes to your class (name of the team, coach, etc.). This is a clear sign that the context where the class will be used is not fixed and will change in the future. In this case you cannot consider the team as a list of players, but you should model the list of the (currently active, not injured, etc.) players as an attribute of the team.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21698789#21698789", "question_id": 21692193, "answer_id": 21698789}, {"body": "<p>This is a classic example of <a href=\"https://en.wikipedia.org/wiki/Object_composition\">composition</a> vs <a href=\"https://en.wikipedia.org/wiki/Inheritance_%28object-oriented_programming%29\">inheritance</a>.</p>\n\n<p>In this specific case:</p>\n\n<p>Is the team a list of players with added behavior</p>\n\n<p>or</p>\n\n<p>Is the team an object of its own that happens to contain a list of players.</p>\n\n<p>By extending List you are limiting yourself in a number of ways:</p>\n\n<ol>\n<li><p>You cannot restrict access (for example, stopping people changing the roster). You get all the List methods whether you need/want them all or not.</p></li>\n<li><p>What happens if you want to have lists of other things as well. For example, teams have coaches, managers, fans, equipment, etc. Some of those might well be lists in their own right.</p></li>\n<li><p>You limit your options for inheritance. For example you might want to create a generic Team object, and then have BaseballTeam, FootballTeam, etc. that inherit from that. To inherit from List you need to do the inheritance from Team, but that then means that all the various types of team are forced to have the same implementation of that roster.</p></li>\n</ol>\n\n<p>Composition - including an object giving the behavior you want inside your object.</p>\n\n<p>Inheritance - your object becomes an instance of the object that has the behavior you want.</p>\n\n<p>Both have their uses, but this is a clear case where composition is preferable.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21699942#21699942", "question_id": 21692193, "answer_id": 21699942}, {"body": "<p>This reminds me of the \"Is a\" versus \"has a\" tradeoff.  Sometimes it is easier and makesmore sense to inherit directly from a super class.  Other times it makes more sense to create a standalone class and include the class you would have inherited from as a member variable.  You can still access the functionality of the class but are not bound to the interface or any other constraints that might come from inheriting from the class.</p>\n\n<p>Which do you do?  As with a lot of things...it depends on the context.  The guide I would use is that in order to inherit from another class there truly should be an \"is a\" relationship.  So if you a writing a class called BMW, it could inherit from Car because a BMW truly is a car.  A Horse class can inherit from the Mammal class because a horse actually is a mammal in real life and any Mammal functionality should be relevant to Horse.  But can you say that a team is a list?  From what I can tell, it does not seem like a Team really \"is a\" List.  So in this case, I would have a List as a member variable.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21705278#21705278", "question_id": 21692193, "answer_id": 21705278}, {"body": "<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n\n<p>Previous code means: a bunch of guys from the street playing football, and they happen to have a name. Something like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/PqKUd.jpg\" alt=\"enter image description here\"></p>\n\n<p>Anyway, this code (from m-y's answer) </p>\n\n<pre><code>public class FootballTeam\n{\n    // Football team rosters are generally 53 total players.\n    private readonly List&lt;T&gt; _roster = new List&lt;T&gt;(53);\n\n    public IList&lt;T&gt; Roster\n    {\n        get { return _roster; }\n    }\n\n    public int PlayerCount\n    {\n    get { return _roster.Count(); }\n    }\n\n    // Any additional members you want to expose/wrap.\n}\n</code></pre>\n\n<p>Means: this is a football team which has management, players, admins, etc. Something like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/4QQ31.jpg\" alt=\"enter image description here\"></p>\n\n<p>This is how is your logic presented in pictures...</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21706411#21706411", "question_id": 21692193, "answer_id": 21706411}, {"body": "<p>A football team <strong>is not</strong> a list of football players. A football team <strong>is composed of</strong> a list of football players! </p>\n\n<p>This is logically wrong:</p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n\n<p>and this is correct:</p>\n\n<pre><code>class FootballTeam \n{ \n    public List&lt;FootballPlayer&gt; players\n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21707359#21707359", "question_id": 21692193, "answer_id": 21707359}, {"body": "<p>It depends on the <em>behaviour</em> of your \"team\" object.  If it behaves just like a collection, it might be OK to represent it first with a plain List.  Then you might start to notice that you keep duplicating code that iterates on the list; at this point you have the option of creating a FootballTeam object that wraps the list of players.  The FootballTeam class becomes the home for all the code that iterates on the list of players.</p>\n\n<blockquote>\n  <p>It makes my code needlessly verbose. I must now call my_team.Players.Count instead of just my_team.Count. Thankfully, with C# I can define indexers to make indexing transparent, and forward all the methods of the internal List... But that's a lot of code! What do I get for all that work?</p>\n</blockquote>\n\n<p>Encapsulation.  Your clients need not know what goes on inside of FootballTeam.  For all your clients know, it might be implemented by looking the list of players up in a database.  They don't need to know, and this improves your design.</p>\n\n<blockquote>\n  <p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It is the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\". You don't add a letter to \"a string's characters\", you add a letter to a string. You don't add a book to a library's books, you add a book to a library.</p>\n</blockquote>\n\n<p>Exactly :) you will say footballTeam.Add(john), not footballTeam.List.Add(john).  The internal list will not be visible.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21707971#21707971", "question_id": 21692193, "answer_id": 21707971}, {"body": "<p>As everyone has pointed out, a team of players is not a list of players. This mistake is made by many people everywhere, perhaps at various levels of expertise. Often the problem is subtle and occasionally very gross, as in this case. Such designs are bad because these violate the  <strong>Liskov Substitution Principle</strong>. The internet has many good articles explaining this concept e.g., <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\">http://en.wikipedia.org/wiki/Liskov_substitution_principle</a> </p></p>\n\n<p>In summary, there are two rules to be preserved in a Parent/Child relationship among classes:</p>\n\n<ul>\n<li>a Child should require no characteristic less than what completely defines the Parent.</li>\n<li>a Parent should require no characteristic in addition to what completely defines the Child.</li>\n</ul>\n\n<p>In other words, a Parent is a necessary definition of a child, and a child is a sufficient definition of a Parent.</p>\n\n<p>Here is a way to think through ones solution and apply the above principle that should help one avoid such a mistake. One should test ones hypothesis by verifying if all the operations of a parent class are valid for the derived class both structurally and semantically.</p>\n\n<ul>\n<li>Is a football team a list of football players? ( Do all properties of a list apply to a team in the same meaning)\n<ul>\n<li>Is a team a collection of homogenous entities? Yes, team is a collection of Players</li>\n<li>Is the order of inclusion of players descriptive of the state of the team and does the team ensure that the sequence is preserved unless explicitly changed? No, and No</li>\n<li>Are players expected to be included/dropped based on their sequencial position in the team? No</li>\n</ul></li>\n</ul>\n\n<p>As you see, only the first characteristic of a list is applicable to a team. Hence a team is not a list. A list would be a implementation detail of how you manage your team, so it should only be used to store the player objects and be manipulated with methods of Team class.</p>\n\n<p>At this point I'd like to remark that a Team class should, in my opinion, not even be implemented using a List; it should be implemented using a Set data structure (HashSet, for example) in most cases.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21708083#21708083", "question_id": 21692193, "answer_id": 21708083}, {"body": "<blockquote>\n  <p>What is the <strong>correct</strong> C# way of representing a data structure...</p>\n</blockquote>\n\n<p>Remeber, \"All models are wrong, but some are useful.\" -<a href=\"http://en.wikiquote.org/wiki/George_E._P._Box\" rel=\"nofollow\">George E. P. Box</a></p>\n\n<p>There is no a \"correct way\", only a useful one.</p>\n\n<p>Choose one that is useful to you and/your users. That's it. <strike>Develop economically, don't over-engineer. The less code you write, the less code you will need to debug.</strike> (read the following editions).</p>\n\n<p>-- Edited</p>\n\n<p>My best answer would be... it depends. Inheriting from a List would expose the clients of this class to methods that may be should not be exposed, primarily because FootballTeam looks like a business entity. </p>\n\n<p>-- Edition 2</p>\n\n<p>I sincerely don't remember to what I was referring on the \u201cdon't over-engineer\u201d comment. While I believe the <a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow\">KISS</a> mindset is a good guide, I want to emphasize that inheriting a business class from List would create more problems than it resolves, due <a href=\"https://en.wikipedia.org/wiki/Leaky_abstraction\" rel=\"nofollow\" title=\"abstraction leakage\">abstraction leakage</a>.</p>\n\n<p>On the other hand, I believe there are a limited number of cases where simply to inherit from List is useful. As I wrote in the previous edition, it depends. The answer to each case is heavily influenced by both knowledge, experience and personal preferences.</p>\n\n<p>Thanks to @kai for helping me to think more precisely about the answer.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21709589#21709589", "question_id": 21692193, "answer_id": 21709589}, {"body": "<p>Does allowing people to say</p>\n\n<pre><code>myTeam.subList(3, 5);\n</code></pre>\n\n<p>make any sense at all? If not then it shouldn't be a List.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21713663#21713663", "question_id": 21692193, "answer_id": 21713663}, {"body": "<h2>Design > Implementation</h2>\n\n<p>What methods and properties you expose is a design decision. What base class you inherit from is an implementation detail. I feel it's worth taking a step back to the former.</p>\n\n<p>An object is a collection of data and behaviour.</p>\n\n<p>So your first questions should be:</p>\n\n<ul>\n<li>What data does this object comprise in the model I'm creating?</li>\n<li>What behaviour does this object exhibit in that model?</li>\n<li>How might this change in future?</li>\n</ul>\n\n<p>Bear in mind that inheritance implies an \"isa\" (is a) relationship, whereas composition implies a \"has a\" (hasa) relationship. Choose the right one for your situation in your view, bearing in mind where things might go as your application evolves.</p>\n\n<p>Consider thinking in interfaces before you think in concrete types, as some people find it easier to put their brain in \"design mode\" that way.</p>\n\n<p>This isn't something everyone does consciously at this level in day to day coding. But if you're mulling this sort of topic, you're treading in design waters. Being aware of it can be liberating.</p>\n\n<h2>Consider Design Specifics</h2>\n\n<p>Take a look at List&lt;T&gt; and IList&lt;T&gt; on MSDN or Visual Studio. See what methods and properties they expose. Do these methods all look like something someone would want to do to a FootballTeam in your view?</p>\n\n<p>Does footballTeam.Reverse() make sense to you? Does footballTeam.ConvertAll&lt;TOutput&gt;() look like something you want? </p>\n\n<p>This isn't a trick question; the answer might genuinely be \"yes\". If you implement/inherit List&lt;Player&gt; or IList&lt;Player&gt;, you're stuck with them; if that's ideal for your model, do it.</p>\n\n<p>If you decide yes, that makes sense, and you want your object to be treatable as a collection/list of players (behaviour), and you therefore want to implement ICollection or IList, by all means do so. Notionally:</p>\n\n<pre><code>class FootballTeam : ... ICollection&lt;Player&gt;\n{\n    ...\n}\n</code></pre>\n\n<p>If you want your object to contain a collection/list of players (data), and you therefore want the collection or list to be a property or member, by all means do so. Notionally:</p>\n\n<pre><code>class FootballTeam ...\n{\n    public ICollection&lt;Player&gt; Players { get { ... } }\n}\n</code></pre>\n\n<p>You might feel that you want people to be able to only enumerate the set of players, rather than count them, add to them or remove them. IEnumerable&lt;Player&gt; is a perfectly valid option to consider.</p>\n\n<p>You might feel that none of these interfaces are useful in your model at all. This is less likely (IEnumerable&lt;T&gt; is useful in many situations) but it's still possible.</p>\n\n<p>Anyone who attempts to tell you that one of these it is categorically and definitively <strong>wrong</strong> in every case is misguided. Anyone who attempts to tell you it is categorically and definitively <strong>right</strong> in every case is misguided.</p>\n\n<h2>Move on to Implementation</h2>\n\n<p>Once you've decided on data and behaviour, you can make a decision about implementation. This includes which concrete classes you depend on via inheritance or composition.</p>\n\n<p>This may not be a big step, and people often conflate design and implementation since it's quite possible to run through it all in your head in a second or two and start typing away.</p>\n\n<h2>A Thought Experiment</h2>\n\n<p>An artificial example: as others have mentioned, a team is not always \"just\" a collection of players. Do you maintain a collection of match scores for the team? Is the team interchangable with the club, in your model? If so, and if your team isa collection of players, perhaps it also isa collection of staff and/or a collection of scores. Then you end up with:</p>\n\n<pre><code>class FootballTeam : ... ICollection&lt;Player&gt;, \n                         ICollection&lt;StaffMember&gt;,\n                         ICollection&lt;Score&gt;\n{\n    ....\n}\n</code></pre>\n\n<p>Design notwithstanding, at this point in C# you won't be able to implement all of these by inheriting from List&lt;T&gt; anyway, since C# \"only\" supports single inheritance. (If you've tried this malarky in C++, you may consider this a Good Thing.) Implementing one collection via inheritance and one via composition is likely to <em>feel</em> dirty. And properties such as Count become confusing to users unless you implement ILIst&lt;Player&gt;.Count and IList&lt;StaffMember&gt;.Count etc. explicitly, and then they're just painful rather than confusing. You can see where this is going; gut feeling whilst thinking down this avenue may well tell you it feels wrong to head in this direction (and rightly or wrongly, your colleagues might also if you implemented it this way!)</p>\n\n<h2>The Short Answer (Too Late)</h2>\n\n<p>The guideline about not inheriting from collection classes isn't C# specific, you'll find it in many programming languages. It is received wisdom not a law. One reason is that in practice composition is considered to often win out over inheritance in terms of comprehensibility, implementability and maintainability. It's more common with real world / domain objects to find useful and consistent \"hasa\" relationships than useful and consistent \"isa\" relationships unless you're deep in the abstract, most especially as time passes and the precise data and behaviour of objects in code changes. This shouldn't cause you to always rule out inheriting from collection classes; but it may be suggestive.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21714467#21714467", "question_id": 21692193, "answer_id": 21714467}, {"body": "<p>What if the <code>FootballTeam</code> has a reserves team along with the main team?</p>\n\n<pre><code>class FootballTeam\n{\n    List&lt;FootballPlayer&gt; Players { get; set; }\n    List&lt;FootballPlayer&gt; ReservePlayers { get; set; }\n}\n</code></pre>\n\n<p>How would you model that with? </p>\n\n<pre><code>class FootballTeam : List&lt;FootballPlayer&gt; \n{ \n    public string TeamName; \n    public int RunningTotal \n}\n</code></pre>\n\n<p>The relationship is clearly <em>has a</em> and not <em>is a</em>.</p>\n\n<p>or <code>RetiredPlayers</code>?</p>\n\n<pre><code>class FootballTeam\n{\n    List&lt;FootballPlayer&gt; Players { get; set; }\n    List&lt;FootballPlayer&gt; ReservePlayers { get; set; }\n    List&lt;FootballPlayer&gt; RetiredPlayers { get; set; }\n}\n</code></pre>\n\n<p>As a rule of thumb, if you ever want to inherit from a collection, name the class <code>SomethingCollection</code>. </p>\n\n<p>Does your <code>SomethingCollection</code> semantically make sense? Only do this if your type <em>is a</em> collection of <code>Something</code>.</p>\n\n<p>In the case of <code>FootballTeam</code> it doesn't sound right. A <code>Team</code> is more than a <code>Collection</code>. A <code>Team</code> can have coaches, trainers, etc as the other answers have pointed out.</p>\n\n<p><code>FootballCollection</code> sounds like a collection of footballs or maybe a collection of football paraphernalia. <code>TeamCollection</code>, a collection of teams. </p>\n\n<p><code>FootballPlayerCollection</code> sounds like a collection of players which would be a valid name for a class that inherits from <code>List&lt;FootballPlayer&gt;</code> if you really wanted to do that. </p>\n\n<p>Really <code>List&lt;FootballPlayer&gt;</code> is a perfectly good type to deal with. Maybe <code>IList&lt;FootballPlayer&gt;</code> if you are returning it from a method.</p>\n\n<p><strong>In summary</strong></p>\n\n<p>Ask yourself</p>\n\n<ol>\n<li><p><em>Is</em> <code>X</code> a <code>Y</code>? or <em>Has</em> <code>X</code> a <code>Y</code>?</p></li>\n<li><p>Do my class names mean what they are?</p></li>\n</ol>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21726950#21726950", "question_id": 21692193, "answer_id": 21726950}, {"body": "<p>My dirty secret: I don't care what people say, and I do it. .NET Framework is spread with \"XxxxCollection\" (UIElementCollection for top of my head example).</p>\n\n<p>So what stops me saying:</p>\n\n<pre><code>team.Players.ByName(\"Nicolas\")\n</code></pre>\n\n<p>When I find it better than</p>\n\n<pre><code>team.ByName(\"Nicolas\")\n</code></pre>\n\n<p>Moreover, my PlayerCollection might be used by other class, like \"Club\" without any code duplication.</p>\n\n<pre><code>club.Players.ByName(\"Nicolas\")\n</code></pre>\n\n<p>Best practices of yesterday, might not be the one of tomorrow. There is no reason behind most best practices, most are only wide agreement among the community. Instead of asking the community if it will blame you when you do that ask yourself, what is more readable and maintainable?</p>\n\n<pre><code>team.Players.ByName(\"Nicolas\") \n</code></pre>\n\n<p>or</p>\n\n<pre><code>team.ByName(\"Nicolas\")\n</code></pre>\n\n<p>Really. Do you have any doubt? Now maybe you need to play with other technical constraints that prevent you to use List&lt;T> in your real use case. But don't add a constraint that should not exist. If Microsoft did not document the why, then it is surely a \"best practice\" coming from nowhere.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21729992#21729992", "question_id": 21692193, "answer_id": 21729992}, {"body": "<p>There are a lot excellent answers here, but I want to touch on something I didn't see mentioned: Object oriented design is about <strong><em>empowering objects</em></strong>.</p>\n\n<p>You want to encapsulate all your rules, additional work and internal details inside an appropriate object. In this way other objects interacting with this one don't have to worry about it all. In fact, you want to go a step further and actively <em>prevent</em> other objects from bypassing these internals.</p>\n\n<p>When you inherit from <code>List</code>, all other objects can see you as a List. They have direct access to the methods for adding and removing players. And you'll have lost your control; for example:</p>\n\n<p>Suppose you want to differentiate when a player leaves by knowing whether they retired, resigned or were fired. You could implement a <code>RemovePlayer</code> method that takes an appropriate input enum. However, by inheriting from <code>List</code>, you would be unable to prevent direct access to <code>Remove</code>, <code>RemoveAll</code> and even <code>Clear</code>. As a result, you've actually <strong><em>disempowered</em></strong> your <code>FootballTeam</code> class.</p>\n\n<hr>\n\n<p>Additional thoughts on encapsulation... You raised the following concern:</p>\n\n<blockquote>\n  <p>It makes my code needlessly verbose. I must now call my_team.Players.Count instead of just my_team.Count.</p>\n</blockquote>\n\n<p>You're correct, that would be needlessly verbose for all clients to use you team. However, that problem is very small in comparison to the fact that you've exposed <code>List Players</code> to all and sundry so they can fiddle with your team without your consent.</p>\n\n<p>You go on to say:</p>\n\n<blockquote>\n  <p>It just plain doesn't make any sense. A football team doesn't \"have\" a list of players. It is the list of players. You don't say \"John McFootballer has joined SomeTeam's players\". You say \"John has joined SomeTeam\".</p>\n</blockquote>\n\n<p>You're wrong about the first bit: Drop the word 'list', and it's actually obvious that a team does have players.<br>\nHowever, you hit the nail on the head with the second. You don't want clients calling <code>ateam.Players.Add(...)</code>. You do want them calling <code>ateam.AddPlayer(...)</code>. And your implemention would (possibly amongst other things) call <code>Players.Add(...)</code> internally.</p>\n\n<hr>\n\n<p>Hopefully you can see how important encapsulation is to the objective of empowering your objects. You want to allow each class to do its job well without fear of interference from other objects.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21802931#21802931", "question_id": 21692193, "answer_id": 21802931}, {"body": "<p>When they say <code>List&lt;T&gt;</code> is \"optimized\" I think they want to mean that it doesn't have features like virtual methods which are bit more expensive. So the problem is that once you expose <code>List&lt;T&gt;</code> in your <strong><em>public API</em></strong>, you loose ability to enforce business rules or customize its functionality later. But if you are using this inherited class as internal within your project (as opposed to potentially exposed to thousands of your customers/partners/other teams as API) then it may be OK if it saves your time and it is the functionality you want to duplicate. The advantage of inheriting from <code>List&lt;T&gt;</code> is that you eliminate lot of dumb wrapper code that is just never going to be customized in foreseeable future. Also if you want your class to explicitly have exact same semantics as <code>List&lt;T&gt;</code> for the life of your APIs then also it may be OK.</p>\n\n<p>I often see lot of people doing tons of extra work just because of FxCop rule says so or someone's blog says it's a \"bad\" practice. Many times, this turns code in to design pattern palooza weirdness. As with lot of guideline, treat it as guideline that <em>can</em> have exceptions.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21808655#21808655", "question_id": 21692193, "answer_id": 21808655}, {"body": "<p>Let me rewrite your question. so you might see the subject from a different perspective.</p>\n\n<p>When I need to represent a football team, I understand that it is basically a name. Like: \"The Eagles\"</p>\n\n<pre><code>string team = new string();\n</code></pre>\n\n<p>Then later I realized teams also have players.</p>\n\n<p>Why can't I just extend the string type so that it also holds a list of players?</p>\n\n<p>Your point of entry into the problem is arbitrary. Try to think what does a team <strong>have</strong> (properties), not what it <strong>is</strong>.</p>\n\n<p>After you do that, you could see if it shares properties with other classes. And think about inheritance.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21808698#21808698", "question_id": 21692193, "answer_id": 21808698}, {"body": "<p>If your class users need all the methods and properties** List has, you should derive your class from it. If they don't need them, enclose the List and make wrappers for methods your class users actually need. </p>\n\n<p>This is a strict rule, if you write a <strong>public API</strong>, or any other code that will be used by many people. You may ignore this rule if you have a tiny app and no more than 2 developers. This will save you some time. </p>\n\n<p>For tiny apps, you may also consider choosing another, less strict language. Ruby, JavaScript - anything that allows you to write less code.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21808715#21808715", "question_id": 21692193, "answer_id": 21808715}, {"body": "<p>What the guidelines say is that the public API should not reveal the internal design decision of whether you are using a list, a set, a dictionary, a tree or whatever. A \"team\" is not necessarily a list. You may implement it as a list but users of your public API should use you class on a need to know basis. This allows you to change your decision and use a different data structure without affecting the public interface.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/21843443#21843443", "question_id": 21692193, "answer_id": 21843443}, {"body": "<p>Just because I think the other answers pretty much go off on a tangent of whether a football team \"is-a\" <code>List&lt;FootballPlayer&gt;</code> or \"has-a\" <code>List&lt;FootballPlayer&gt;</code>, which really doesn't answer this question as written.</p>\n\n<p>The OP chiefly asks for clarification on guidelines for inheriting from <code>List&lt;T&gt;</code>:</p>\n\n<blockquote>\n  <p>A guideline says that you shouldn't inherit from <code>List&lt;T&gt;</code>. Why not?</p>\n</blockquote>\n\n<p>Because <code>List&lt;T&gt;</code> has no virtual methods. This is less of a problem in your own code, since you can usually switch out the implementation with relatively little pain - but can be a much bigger deal in a public API.</p>\n\n<blockquote>\n  <p>What is a public API and why should I care?</p>\n</blockquote>\n\n<p>A public API is an interface you expose to 3rd party programmers. Think framework code. And recall that the guidelines being referenced are the \".NET <em>Framework</em> Design Guidelines\" and not the \".NET <em>Application</em> Design Guidelines\". There is a difference, and - generally speaking - public API design is a lot more strict.</p>\n\n<blockquote>\n  <p>If my current project does not and is not likely to ever have this public API, can I safely ignore this guideline? If I do inherit from List and it turns out I need a public API, what difficulties will I have?</p>\n</blockquote>\n\n<p>Pretty much, yeah. You may want to consider the rationale behind it to see if it applies to your situation anyway, but if you're not building a public API then you don't particularly need to worry about API concerns like versioning (of which, this is a subset).</p>\n\n<p>If you add a public API in the future, you will either need to abstract out your API from your implementation (by not exposing your <code>List&lt;T&gt;</code> directly) or violate the guidelines with the possible future pain that entails.</p>\n\n<blockquote>\n  <p>Why does it even matter? A list is a list. What could possibly change? What could I possibly want to change?</p>\n</blockquote>\n\n<p>Depends on the context, but since we're using <code>FootballTeam</code> as an example - imagine that you can't add a <code>FootballPlayer</code> if it would cause the team to go over the salary cap. A possible way of adding that would be something like:</p>\n\n<pre><code> class FootballTeam : List&lt;FootballPlayer&gt; {\n     override void Add(FootballPlayer player) {\n        if (this.Sum(p =&gt; p.Salary) + player.Salary &gt; SALARY_CAP)) {\n          throw new InvalidOperationException(\"Would exceed salary cap!\");\n        }\n     }\n }\n</code></pre>\n\n<p>Ah...but you can't <code>override Add</code> because it's not <code>virtual</code> (for performance reasons). </p>\n\n<p>If you're in an application (which, basically, means that you and all of your callers are compiled together) then you can now change to using <code>IList&lt;T&gt;</code> and fix up any compile errors:</p>\n\n<pre><code> class FootballTeam : IList&lt;FootballPlayer&gt; {\n     private List&lt;FootballPlayer&gt; Players { get; set; }\n\n     override void Add(FootballPlayer player) {\n        if (this.Players.Sum(p =&gt; p.Salary) + player.Salary &gt; SALARY_CAP)) {\n          throw new InvalidOperationException(\"Would exceed salary cap!\");\n        }\n     }\n     /* boiler plate for rest of IList */\n }\n</code></pre>\n\n<p>but, if you've publically exposed to a 3rd party you just made a breaking change that will cause compile and/or runtime errors.</p>\n\n<p>TL;DR - the guidelines are for public APIs. For private APIs, do what you want.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/29480078#29480078", "question_id": 21692193, "answer_id": 29480078}, {"body": "<p>I just wanted to add that Bertrand Meyer, the inventor of Eiffel and design by contract, would have <code>Team</code> inherit from <code>List&lt;Player&gt;</code> without so much as batting an eyelid.</p>\n\n<p>In his book, <em>Object-Oriented Software Construction</em>, he discusses the implementation of a GUI system where rectangular windows can have child windows. He simply has <code>Window</code> inherit from both <code>Rectangle</code> and <code>Tree&lt;Window&gt;</code> to reuse the implementation.</p>\n\n<p>However, C# is not Eiffel. The latter supports multiple inheritance and <em>renaming of features</em>. In C#, when you subclass, you inherit both the interface and the implemenation. You can override the implementation, but the calling conventions are copied directly from the superclass. In Eiffel, however, you can modify the names of the public methods, so you can rename <code>Add</code> and <code>Remove</code> to <code>Hire</code> and <code>Fire</code> in your <code>Team</code>. If an instance of <code>Team</code> is upcast back to <code>List&lt;Player&gt;</code>, the caller will use <code>Add</code> and <code>Remove</code> to modify it, but your virtual methods <code>Hire</code> and <code>Fire</code> will be called.</p>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/29894600#29894600", "question_id": 21692193, "answer_id": 29894600}, {"body": "<p>I think I don't agree with your generalization.  A team isn't just a collection of players.  A team has so much more information about it - name, emblem, collection of management/admin staff, collection of coaching crew, then collection of players. So properly, your FootballTeam class should have 3 collections and not itself be a collection; if it is to properly model the real world.</p>\n\n<p>You could consider a PlayerList class which like the Specialized StringCollection offers some other facilities - like validation and checks before objects are added to or removed from the internal store.</p>\n\n<p>Perhaps, the notion of a PlayerList betters suits your preferred approach?</p>\n\n<pre><code>public class PlayerList : List&lt;Player&gt; \n{ \n}\n</code></pre>\n\n<p>And then the FootballTeam can look like this:</p>\n\n<pre><code>public class FootballTeam \n{ \n    public string Name { get; set; }\n    public string Location { get; set; }\n\n    public ManagementList Management { get; protected set; } = new ManagementList();\n\n    public CoachingList CoachingCrew { get; protected set; } = new CoachingList();\n\n    public PlayerList Players { get; protected set; } = new PlayerList();\n}\n</code></pre>\n", "title": "Why not inherit from List&lt;T&gt;?", "tags": ["c#", ".net", "oop", "inheritance", "design"], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt/38284299#38284299", "question_id": 21692193, "answer_id": 38284299}], "link": "http://stackoverflow.com/questions/21692193/why-not-inherit-from-listt", "question_id": 21692193}, {"body": "<p>I was implementing an algorithm in Swift and noticed that the performance was very poor. After digging deeper I realised that one of the bottlenecks was something as simple as sorting arrays. The relevant part is here:</p>\n\n<pre><code>let n = 1000000\nlet x = Int[](count: n, repeatedValue: 0)\nfor i in 0..n {\n    x[i] = random()\n}\n// start clock here\nlet y = sort(x)\n// stop clock here\n</code></pre>\n\n<p>In C++, a similar operation takes <strong>0.06 s</strong> on my computer.</p>\n\n<p>In Python it takes <strong>0.6 s</strong> (no tricks, just y = sorted(x) for a list of integers).</p>\n\n<p>In Swift it takes <strong>6 s</strong> if I compile it with the following command:</p>\n\n<pre><code>xcrun swift -O3 -sdk `xcrun --show-sdk-path --sdk macosx`\n</code></pre>\n\n<p>And it takes as much as <strong>88 s</strong> if I compile it with the following command:</p>\n\n<pre><code>xcrun swift -O0 -sdk `xcrun --show-sdk-path --sdk macosx`\n</code></pre>\n\n<p>Timings in Xcode with \"Release\" vs. \"Debug\" builds are similar.</p>\n\n<p>What is wrong here? I could understand some performance loss in comparison with C++, but not a 10-fold slowdown in comparison with pure Python.</p>\n\n<hr>\n\n<p><strong>Edit:</strong> mweathers noticed that changing <code>-O3</code> to <code>-Ofast</code> makes this code run almost as fast as the C++ version! However, <code>-Ofast</code> changes the semantics of the language a lot \u2014 in my testing, it <strong>disabled the checks for integer overflows and array indexing overflows</strong>. For example, with <code>-Ofast</code> the following Swift code runs silently without crashing (and prints out some garbage):</p>\n\n<pre><code>let n = 10000000\nprintln(n*n*n*n*n)\nlet x = Int[](count: n, repeatedValue: 10)\nprintln(x[n])\n</code></pre>\n\n<p>So <code>-Ofast</code> is not what we want; the whole point of Swift is that we have the safety nets in place. Of course the safety nets have some impact on the performance, but they should not make the programs 100 times slower. Remember that Java already checks for array bounds, and in typical cases the slowdown is by a factor much less than 2. And in Clang and GCC we have got <code>-ftrapv</code> for checking (signed) integer overflows, and it is not that slow, either.</p>\n\n<p>Hence the question: how can we get a reasonable performance in Swift without losing the safety nets?</p>\n\n<hr>\n\n<p><strong>Edit 2:</strong> I did some more benchmarking, with very simple loops along the lines of</p>\n\n<pre><code>for i in 0..n {\n    x[i] = x[i] ^ 12345678\n}\n</code></pre>\n\n<p>(Here the xor operation is there just so that I can more easily find the relevant loop in the assembly code. I tried to pick an operation that is easy to spot but also \"harmless\" in the sense that it should not require any checks related to integer overflows.)</p>\n\n<p>Again, there was a huge difference in the performance between <code>-O3</code> and <code>-Ofast</code>. So I had a look at the assembly code:</p>\n\n<ul>\n<li><p>With <code>-Ofast</code> I get pretty much what I would expect. The relevant part is a loop with 5 machine language instructions.</p></li>\n<li><p>With <code>-O3</code> I get something that was beyond my wildest imagination. The inner loop spans 88 lines of assembly code. I did not try to understand all of it, but the most suspicious parts are 13 invocations of \"callq _swift_retain\" and another 13 invocations of \"callq _swift_release\". That is, <strong>26 subroutine calls in the inner loop</strong>!</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Edit 3:</strong> In comments, Ferruccio asked for benchmarks that are fair in the sense that they do not rely on built-in functions (e.g. sort). I think the following program is a fairly good example:</p>\n\n<pre><code>let n = 10000\nlet x = Int[](count: n, repeatedValue: 1)\nfor i in 0..n {\n    for j in 0..n {\n        x[i] = x[j]\n    }\n}\n</code></pre>\n\n<p>There is no arithmetic, so we do not need to worry about integer overflows. The only thing that we do is just lots of array references. And the results are here\u2014Swift -O3 loses by factor almost 500 in comparison with -Ofast:</p>\n\n<ul>\n<li>C++ -O3: <strong>0.05 s</strong></li>\n<li>C++ -O0: 0.4 s</li>\n<li>Java: <strong>0.2 s</strong></li>\n<li>Python with PyPy: 0.5 s</li>\n<li>Python: <strong>12 s</strong></li>\n<li>Swift -Ofast: 0.05 s</li>\n<li>Swift -O3: <strong>23 s</strong></li>\n<li>Swift -O0: 443 s</li>\n</ul>\n\n<p>(If you are concerned that the compiler might optimise out the pointless loops entirely, you can change it to e.g. <code>x[i] ^= x[j]</code>, and add a print statement that outputs <code>x[0]</code>. This does not change anything; the timings will be very similar.)</p>\n\n<p>And yes, here the Python implementation was a stupid pure Python implementation with a list of ints and nested for loops. It should be <strong>much</strong> slower than unoptimised Swift. Something seems to be seriously broken with Swift and array indexing.</p>\n\n<hr>\n\n<p><strong>Edit 4:</strong> These issues (as well as some other performance issues) seems to have been fixed in Xcode 6 beta 5.</p>\n\n<p>For sorting, I now have the following timings:</p>\n\n<ul>\n<li>clang++ -O3: 0.06 s</li>\n<li>swiftc -Ofast: 0.1 s</li>\n<li>swiftc -O: 0.1 s</li>\n<li>swiftc: 4 s</li>\n</ul>\n\n<p>For nested loops:</p>\n\n<ul>\n<li>clang++ -O3: 0.06 s</li>\n<li>swiftc -Ofast: 0.3 s</li>\n<li>swiftc -O: 0.4 s</li>\n<li>swiftc: 540 s</li>\n</ul>\n\n<p>It seems that there is no reason anymore to use the unsafe <code>-Ofast</code> (a.k.a. <code>-Ounchecked</code>); plain <code>-O</code> produces equally good code.</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "answers": [{"body": "<p>From <a href=\"https://itun.es/ca/jEUH0.l\"><code>The Swift Programming Language</code></a>:</p>\n\n<blockquote>\n  <p>The Sort Function Swift\u2019s standard library provides a function called\n  sort, which sorts an  array of values of a known type, based on the\n  output of a sorting closure  that you provide. Once it completes the\n  sorting process, the sort function returns a new array of the same\n  type and size as the old one, with its elements in the correct sorted\n  order.</p>\n</blockquote>\n\n<p>The <code>sort</code> function has two declarations.</p>\n\n<p>The default declaration which allows you to specify a comparison closure:</p>\n\n<pre><code>func sort&lt;T&gt;(array: T[], pred: (T, T) -&gt; Bool) -&gt; T[]\n</code></pre>\n\n<p>And a second declaration that only take a single parameter (the array) and is \"hardcoded to use the less-than comparator.\"</p>\n\n<pre><code>func sort&lt;T : Comparable&gt;(array: T[]) -&gt; T[]\n\nExample:\nsort( _arrayToSort_ ) { $0 &gt; $1 }\n</code></pre>\n\n<p>I tested a modified version of your code in a playground with the closure added on so I could monitor the function a little more closely, and I found that with n set to 1000, the closure was being called about 11,000 times.</p>\n\n<pre><code>let n = 1000\nlet x = Int[](count: n, repeatedValue: 0)\nfor i in 0..n {\n    x[i] = random()\n}\nlet y = sort(x) { $0 &gt; $1 }\n</code></pre>\n\n<p>It is not an efficient function, an I would recommend using a better sorting function implementation.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I took a look at the Quicksort wikipedia page and wrote a Swift implementation for it. Here is the full program I used (in a playground)</p>\n\n<pre><code>import Foundation\n\nfunc quickSort(inout array: Int[], begin: Int, end: Int) {\n    if (begin &lt; end) {\n        let p = partition(&amp;array, begin, end)\n        quickSort(&amp;array, begin, p - 1)\n        quickSort(&amp;array, p + 1, end)\n    }\n}\n\nfunc partition(inout array: Int[], left: Int, right: Int) -&gt; Int {\n    let numElements = right - left + 1\n    let pivotIndex = left + numElements / 2\n    let pivotValue = array[pivotIndex]\n    swap(&amp;array[pivotIndex], &amp;array[right])\n    var storeIndex = left\n    for i in left..right {\n        let a = 1 // &lt;- Used to see how many comparisons are made\n        if array[i] &lt;= pivotValue {\n            swap(&amp;array[i], &amp;array[storeIndex])\n            storeIndex++\n        }\n    }\n    swap(&amp;array[storeIndex], &amp;array[right]) // Move pivot to its final place\n    return storeIndex\n}\n\nlet n = 1000\nvar x = Int[](count: n, repeatedValue: 0)\nfor i in 0..n {\n    x[i] = Int(arc4random())\n}\n\nquickSort(&amp;x, 0, x.count - 1) // &lt;- Does the sorting\n\nfor i in 0..n {\n    x[i] // &lt;- Used by the playground to display the results\n}\n</code></pre>\n\n<p>Using this with n=1000, I found that</p>\n\n<ol>\n<li>quickSort() got called about 650 times,</li>\n<li>about 6000 swaps were made,</li>\n<li>and there are about 10,000 comparisons</li>\n</ol>\n\n<p>It seems that the built-in sort method is (or is close to) quick sort, and is really slow...</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/24101903#24101903", "question_id": 24101718, "answer_id": 24101903}, {"body": "<p>tl;dr Swift is now as fast as C by this benchmark using the default release optimisation level [-O].</p>\n\n<p>Here is an in-place quicksort in Swift:</p>\n\n<pre><code>func quicksort_swift(inout a:CInt[], start:Int, end:Int) {\n    if (end - start &lt; 2){\n        return\n    }\n    var p = a[start + (end - start)/2]\n    var l = start\n    var r = end - 1\n    while (l &lt;= r){\n        if (a[l] &lt; p){\n            l += 1\n            continue\n        }\n        if (a[r] &gt; p){\n            r -= 1\n            continue\n        }\n        var t = a[l]\n        a[l] = a[r]\n        a[r] = t\n        l += 1\n        r -= 1\n    }\n    quicksort_swift(&amp;a, start, r + 1)\n    quicksort_swift(&amp;a, r + 1, end)\n}\n</code></pre>\n\n<p>And the same in C:</p>\n\n<pre><code>void quicksort_c(int *a, int n) {\n    if (n &lt; 2)\n        return;\n    int p = a[n / 2];\n    int *l = a;\n    int *r = a + n - 1;\n    while (l &lt;= r) {\n        if (*l &lt; p) {\n            l++;\n            continue;\n        }\n        if (*r &gt; p) {\n            r--;\n            continue;\n        }\n        int t = *l;\n        *l++ = *r;\n        *r-- = t;\n    }\n    quicksort_c(a, r - a + 1);\n    quicksort_c(l, a + n - l);\n}\n</code></pre>\n\n<p>Both work:</p>\n\n<pre><code>var a_swift:CInt[] = [0,5,2,8,1234,-1,2]\nvar a_c:CInt[] = [0,5,2,8,1234,-1,2]\n\nquicksort_swift(&amp;a_swift, 0, a_swift.count)\nquicksort_c(&amp;a_c, CInt(a_c.count))\n\n// [-1, 0, 2, 2, 5, 8, 1234]\n// [-1, 0, 2, 2, 5, 8, 1234]\n</code></pre>\n\n<p>Both are called in the same program as written.</p>\n\n<pre><code>var x_swift = CInt[](count: n, repeatedValue: 0)\nvar x_c = CInt[](count: n, repeatedValue: 0)\nfor var i = 0; i &lt; n; ++i {\n    x_swift[i] = CInt(random())\n    x_c[i] = CInt(random())\n}\n\nlet swift_start:UInt64 = mach_absolute_time();\nquicksort_swift(&amp;x_swift, 0, x_swift.count)\nlet swift_stop:UInt64 = mach_absolute_time();\n\nlet c_start:UInt64 = mach_absolute_time();\nquicksort_c(&amp;x_c, CInt(x_c.count))\nlet c_stop:UInt64 = mach_absolute_time();\n</code></pre>\n\n<p>This converts the absolute times to seconds:</p>\n\n<pre><code>static const uint64_t NANOS_PER_USEC = 1000ULL;\nstatic const uint64_t NANOS_PER_MSEC = 1000ULL * NANOS_PER_USEC;\nstatic const uint64_t NANOS_PER_SEC = 1000ULL * NANOS_PER_MSEC;\n\nmach_timebase_info_data_t timebase_info;\n\nuint64_t abs_to_nanos(uint64_t abs) {\n    if ( timebase_info.denom == 0 ) {\n        (void)mach_timebase_info(&amp;timebase_info);\n    }\n    return abs * timebase_info.numer  / timebase_info.denom;\n}\n\ndouble abs_to_seconds(uint64_t abs) {\n    return abs_to_nanos(abs) / (double)NANOS_PER_SEC;\n}\n</code></pre>\n\n<p>Here is a summary of the compiler's optimazation levels:</p>\n\n<pre><code>[-Onone] no optimizations, the default for debug.\n[-O]     perform optimizations, the default for release.\n[-Ofast] perform optimizations and disable runtime overflow checks and runtime type checks.\n</code></pre>\n\n<p>Time in seconds with <strong>[-Onone]</strong> for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift:            0.895296452\nC:                0.001223848\n</code></pre>\n\n<p>Here is Swift's builtin sort() for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift_builtin:    0.77865783\n</code></pre>\n\n<p>Here is <strong>[-O]</strong> for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift:            0.045478346\nC:                0.000784666\nSwift_builtin:    0.032513488\n</code></pre>\n\n<p>As you can see, Swift's performance improved by a factor of 20.</p>\n\n<p>As per <a href=\"http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/24102759#24102759\">mweathers' answer</a>, setting <strong>[-Ofast]</strong> makes the real difference, resulting in these times for <strong>n=10_000</strong>:</p>\n\n<pre><code>Swift:            0.000706745\nC:                0.000742374\nSwift_builtin:    0.000603576\n</code></pre>\n\n<p>And for <strong>n=1_000_000</strong>:</p>\n\n<pre><code>Swift:            0.107111846\nC:                0.114957179\nSwift_sort:       0.092688548\n</code></pre>\n\n<p>For comparison, this is with <strong>[-Onone]</strong> for <strong>n=1_000_000</strong>:</p>\n\n<pre><code>Swift:            142.659763258\nC:                0.162065333\nSwift_sort:       114.095478272\n</code></pre>\n\n<p>So Swift with no optimizations was almost 1000x slower than C in this benchmark, at this stage in its development.  On the other hand with both compilers set to [-Ofast] Swift actually performed at least as well if not slightly better than C.</p>\n\n<p>It has been pointed out that [-Ofast] changes the semantics of the language, making it potentially unsafe. This is what Apple states in the Xcode 5.0 release notes:</p>\n\n<blockquote>\n  <p>A new optimization level -Ofast, available in LLVM, enables aggressive optimizations. -Ofast relaxes some conservative restrictions, mostly for floating-point operations, that are safe for most code. It can yield significant high-performance wins from the compiler.</p>\n</blockquote>\n\n<p>They all but advocate it. Whether that's wise or not I couldn't say, but from what I can tell it seems reasonable enough to use [-Ofast] in a release if you're not doing high-precision floating point arithmetic and you're confident no integer or array overflows are possible in your program. If you do need high performance <em>and</em> overflow checks / precise arithmetic then choose another language for now.</p>\n\n<p>BETA 3 UPDATE:</p>\n\n<p><strong>n=10_000</strong> with <strong>[-O]</strong>:</p>\n\n<pre><code>Swift:            0.019697268\nC:                0.000718064\nSwift_sort:       0.002094721\n</code></pre>\n\n<p>Swift in general is a bit faster and it looks like Swift's built-in sort has changed quite significantly.</p>\n\n<p><strong>FINAL UPDATE:</strong></p>\n\n<p><strong>[-Onone]</strong>:</p>\n\n<pre><code>Swift:   0.678056695\nC:       0.000973914\n</code></pre>\n\n<p><strong>[-O]</strong>:</p>\n\n<pre><code>Swift:   0.001158492\nC:       0.001192406\n</code></pre>\n\n<p><strong>[-Ounchecked]</strong>:</p>\n\n<pre><code>Swift:   0.000827764\nC:       0.001078914\n</code></pre>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/24102237#24102237", "question_id": 24101718, "answer_id": 24102237}, {"body": "<p><strong>TL;DR</strong>: Yes, the only Swift language implementation is slow, <em>right now</em>. If you need fast, numeric (and other types of code, presumably) code, just go with another one. In the future, you should re-evaluate your choice. It might be good enough for most application code that is written at a higher level, though.</p>\n\n<p>From what I'm seeing in SIL and LLVM IR, it seems like they need a bunch of optimizations for removing retains and releases, which might be implemented in <a href=\"http://en.wikipedia.org/wiki/Clang\">Clang</a> (for Objective-C), but they haven't ported them yet. That's the theory I'm going with (for now\u2026 I still need to confirm that Clang does something about it), since a profiler run on the last test-case of this question yields this \u201cpretty\u201d result:</p>\n\n<p><img src=\"http://i.imgur.com/ujaJ4aA.png\" alt=\"Time profiling on -O3\">\n<img src=\"http://i.imgur.com/t0s6DsZ.png\" alt=\"Time profiling on -Ofast\"></p>\n\n<p>As was said by many others, <code>-Ofast</code> is totally unsafe and changes language semantics. For me, it's at the \u201cIf you're going to use that, just use another language\u201d stage. I'll re-evaluate that choice later, if it changes.</p>\n\n<p><code>-O3</code> gets us a bunch of <code>swift_retain</code> and <code>swift_release</code> calls that, honestly, don't look like they should be there for this example. The optimizer should have elided (most of) them AFAICT, since it knows most of the information about the array, and knows that it has (at least) a strong reference to it.</p>\n\n<p>It shouldn't emit more retains when it's not even calling functions which might release the objects. I don't think an array constructor can return an array which is smaller than what was asked for, which means that a lot of checks that were emitted are useless. It also knows that the integer will never be above 10k, so the overflow checks <em>can</em> be optimized (not because of <code>-Ofast</code> weirdness, but because of the semantics of the language (nothing else is changing that var nor can access it, and adding up to 10k is safe for the type <code>Int</code>).</p>\n\n<p>The compiler might not be able to unbox the array or the array elements, though, since they're getting passed to <code>sort()</code>, which is an external function and has to get the arguments it's expecting. This will make us have to use the <code>Int</code> values indirectly, which would make it go a bit slower. This could change if the <code>sort()</code> generic function (not in the multi-method way) was available to the compiler and got inlined.</p>\n\n<p>This is a very new (publicly) language, and it is going through what I assume are lots of changes, since there are people (heavily) involved with the Swift language asking for feedback and they all say the language isn't finished and <em>will</em> change.</p>\n\n<p>Code used:</p>\n\n<pre><code>import Cocoa\n\nlet swift_start = NSDate.timeIntervalSinceReferenceDate();\nlet n: Int = 10000\nlet x = Int[](count: n, repeatedValue: 1)\nfor i in 0..n {\n    for j in 0..n {\n        let tmp: Int = x[j]\n        x[i] = tmp\n    }\n}\nlet y: Int[] = sort(x)\nlet swift_stop = NSDate.timeIntervalSinceReferenceDate();\n\nprintln(\"\\(swift_stop - swift_start)s\")\n</code></pre>\n\n<p>P.S: I'm not an expert on Objective-C nor all the facilities from <a href=\"http://en.wikipedia.org/wiki/Cocoa_%28API%29\">Cocoa</a>, Objective-C, or the Swift runtimes. I might also be assuming some things that I didn't write.</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/24114795#24114795", "question_id": 24101718, "answer_id": 24114795}, {"body": "<p>I decided to take a look at this for fun, and here are the timings that I get:</p>\n\n<pre><code>Swift 2.0             :   0.77s \nC++ (Apple LLVM 7.0.0):   0.69s\n</code></pre>\n\n<h2>Swift</h2>\n\n<pre><code>import Foundation\n\nfunc doTest() -&gt; Void {\n    let arraySize = 10000000\n    var randomNumbers = [UInt32]()\n\n    for _ in 0..&lt;arraySize {\n        randomNumbers.append(arc4random_uniform(UInt32(arraySize)))\n    }\n\n    let start = NSDate()\n    randomNumbers.sortInPlace()\n    let end = NSDate()\n\n    print(randomNumbers[0])\n    print(\"Elapsed time: \\(end.timeIntervalSinceDate(start))\")\n}\n\ndoTest()\n</code></pre>\n\n<p>Results:</p>\n\n<p><strong>Swift 1.1</strong></p>\n\n<pre><code>xcrun swiftc --version\nSwift version 1.1 (swift-600.0.54.20)\nTarget: x86_64-apple-darwin14.0.0\n\nxcrun swiftc -O SwiftSort.swift\n./SwiftSort     \nElapsed time: 1.02204304933548\n</code></pre>\n\n<p><strong>Swift 1.2</strong></p>\n\n<pre><code>xcrun swiftc --version\nApple Swift version 1.2 (swiftlang-602.0.49.6 clang-602.0.49)\nTarget: x86_64-apple-darwin14.3.0\n\nxcrun -sdk macosx swiftc -O SwiftSort.swift\n./SwiftSort     \nElapsed time: 0.738763988018036\n</code></pre>\n\n<p><strong>Swift 2.0</strong></p>\n\n<pre><code>xcrun swiftc --version\nApple Swift version 2.0 (swiftlang-700.0.59 clang-700.0.72)\nTarget: x86_64-apple-darwin15.0.0\n\nxcrun -sdk macosx swiftc -O SwiftSort.swift\n./SwiftSort     \nElapsed time: 0.767306983470917\n</code></pre>\n\n<p>It seems to be the same performance if I compile with <code>-Ounchecked</code>.</p>\n\n<h2>C++</h2>\n\n<pre><code>#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cstdint&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\nusing namespace std::chrono;\n\nint main(int argc, const char * argv[]) {\n    const auto arraySize = 10000000;\n    vector&lt;uint32_t&gt; randomNumbers;\n\n    for (int i = 0; i &lt; arraySize; ++i) {\n        randomNumbers.emplace_back(arc4random_uniform(arraySize));\n    }\n\n    const auto start = high_resolution_clock::now();\n    sort(begin(randomNumbers), end(randomNumbers));\n    const auto end = high_resolution_clock::now();\n\n    cout &lt;&lt; randomNumbers[0] &lt;&lt; \"\\n\";\n    cout &lt;&lt; \"Elapsed time: \" &lt;&lt; duration_cast&lt;duration&lt;double&gt;&gt;(end - start).count() &lt;&lt; \"\\n\";\n\n    return 0;\n}\n</code></pre>\n\n<p>Results:</p>\n\n<p><strong>Apple Clang 6.0</strong></p>\n\n<pre><code>clang++ --version\nApple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)\nTarget: x86_64-apple-darwin14.0.0\nThread model: posix\n\nclang++ -O3 -std=c++11 CppSort.cpp -o CppSort\n./CppSort     \nElapsed time: 0.688969\n</code></pre>\n\n<p><strong>Apple Clang 6.1.0</strong></p>\n\n<pre><code>clang++ --version\nApple LLVM version 6.1.0 (clang-602.0.49) (based on LLVM 3.6.0svn)\nTarget: x86_64-apple-darwin14.3.0\nThread model: posix\n\nclang++ -O3 -std=c++11 CppSort.cpp -o CppSort\n./CppSort     \nElapsed time: 0.670652\n</code></pre>\n\n<p><strong>Apple Clang 7.0.0</strong></p>\n\n<pre><code>clang++ --version\nApple LLVM version 7.0.0 (clang-700.0.72)\nTarget: x86_64-apple-darwin15.0.0\nThread model: posix\n\nclang++ -O3 -std=c++11 CppSort.cpp -o CppSort\n./CppSort     \nElapsed time: 0.690152\n</code></pre>\n\n<h2>Verdict</h2>\n\n<p>As of the time of this writing, Swift's sort is fast, but not yet as fast as C++'s sort, with the above compilers &amp; libraries. Since Swift is still young, it's conceivable that this gap will be closed in the future, and the gap has been significantly narrowed in Swift 1.2 and 2.0.</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/26578347#26578347", "question_id": 24101718, "answer_id": 26578347}, {"body": "<p>As of Xcode 7 you can turn on <code>Fast, Whole Module Optimization</code>. This should increase your performance immediately.</p>\n\n<p><img src=\"http://i.stack.imgur.com/4VnSy.png\" alt=\"enter image description here\"></p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/30786931#30786931", "question_id": 24101718, "answer_id": 30786931}, {"body": "<p>Swift Array performance revisited: </p>\n\n<p>I wrote my own benchmark comparing Swift with C/Objective-C. My benchmark calculates prime numbers. It uses the array of previous prime numbers to look for prime factors in each new candidate, so it is quite fast. However, it does TONS of array reading, and less writing to arrays.</p>\n\n<p>I originally did this benchmark against Swift 1.2. I decided to update the project and run it against Swift 2.0. </p>\n\n<p>The project lets you select between using normal swift arrays and using Swift unsafe memory buffers using array semantics.</p>\n\n<p>For C/Objective-C, you can either opt to use NSArrays, or C malloc'ed arrays.</p>\n\n<p>The test results seem to be pretty similar with fastest, smallest code optimization ([-0s]) or fastest, aggressive ([-0fast]) optimization.</p>\n\n<p>Swift 2.0 performance is still horrible with code optimization turned off, whereas C/Objective-C performance is only moderately slower.</p>\n\n<p>The bottom line is that C malloc'd array-based calculations are the fastest, by a modest margin</p>\n\n<p>Swift with unsafe buffers takes around 1.19X - 1.20X longer than C malloc'd arrays when using fastest, smallest code optimization. the difference seems slightly less with fast, aggressive optimization (Swift takes more like 1.18x to 1.16x longer than C.</p>\n\n<p>If you use regular Swift arrays, the difference with C is <em>slightly</em> greater. (Swift takes ~1.22 to 1.23 longer.) </p>\n\n<p>Regular Swift arrays are <code>DRAMATICALLY</code> faster than they were in Swift 1.2/Xcode 6. Their performance is so close to Swift unsafe buffer based arrays that using unsafe memory buffers does not really seem worth the trouble any more, which is big. </p>\n\n<p>BTW, Objective-C NSArray performance stinks. If you're going to use the native container objects in both languages, Swift is <strong>DRAMATICALLY</strong> faster.</p>\n\n<p>You can check out my project on github at <a href=\"https://github.com/DuncanMC/SwiftPerformanceBenchmark.git\" rel=\"nofollow\"><strong>SwiftPerformanceBenchmark</strong></a></p>\n\n<p>It has a simple UI that makes collecting stats pretty easy.</p>\n\n<p>It's interesting that sorting seems to be slightly faster in Swift than in C now, but that this prime number algorithm is still faster in Swift.</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/35641763#35641763", "question_id": 24101718, "answer_id": 35641763}, {"body": "<p>The main issue that is mentioned by others but not called out enough is that <code>-O3</code> does nothing at all in Swift (and never has) so when compiled with that it is effectively non-optimised (<code>-Onone</code>).</p>\n\n<p>Option names have changed over time so some other answers have obsolete flags for the build options. Correct current options (Swift 2.2) are:</p>\n\n<pre><code>-Onone // Debug - slow\n-O     // Optimised\n-O -whole-module-optimization //Optimised across files\n</code></pre>\n\n<p>Whole module optimisation has a slower compile but can optimise across files within the module i.e. within each framework and within the actual application code but not between them. You should use this for anything performance critical)</p>\n\n<p>You can also disable safety checks for even more speed but with all assertions and preconditions not just disabled but optimised on the basis that they are correct. If you ever hit an assertion this means that you are into undefined behaviour. Use with extreme caution and only if you determine that the speed boost is worthwhile for you (by testing). If you do find it valuable for some code I recommend separating that code into a separate framework and only disabling the safety checks for that module.</p>\n", "title": "Swift performance: sorting arrays", "tags": ["swift", "algorithm", "performance", "sorting"], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays/36596287#36596287", "question_id": 24101718, "answer_id": 36596287}], "link": "http://stackoverflow.com/questions/24101718/swift-performance-sorting-arrays", "question_id": 24101718}, {"body": "<h1>In the new Swift language from Apple, how does one call Objective-C code?</h1>\n\n<p>Apple mentioned that they could co-exist in one application, but does this mean that one could technically re-use old classes made in Objective-C whilst building new classes in swift?</p>\n\n<h1>The Reasoning</h1>\n\n<p>Objective-C is a platform-independent language, whereas Swift is platform-dependent. Writing non-platform-dependent code (business logic libraries) in swift would thus not be wise. However writing platform-dependent code in it (interface related for example) would be perfectly fine. Not to say it would be a good idea, however it is definitely an interest</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "answers": [{"body": "<p>See Apple's guide to <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/index.html#//apple_ref/doc/uid/TP40014216\">Using Swift with Cocoa and Objective-C</a>. This guide covers how to use ObjC and C code from Swift and vice versa, and has recommendations for how to convert a project or mix and match ObjC/C and Swift parts in an existing project.</p>\n\n<p>The compiler automatically generates Swift syntax for calling C functions and ObjC methods. As seen in the docs, this ObjC:</p>\n\n<pre><code>UITableView *myTableView = [[UITableView alloc] initWithFrame:CGRectZero style:UITableViewStyleGrouped];\n</code></pre>\n\n<p>turns into this Swift:</p>\n\n<pre><code>let myTableView: UITableView = UITableView(frame: CGRectZero, style: .Grouped)\n</code></pre>\n\n<p>Xcode also does this translation on the fly \u2014 you can use Open Quickly while editing a Swift file and type an ObjC class name, and it'll take you to a Swift-ified version of the class header. (You can also get this by cmd-clicking on an API symbol in a Swift file.) And all the API reference documentation in the <a href=\"https://developer.apple.com/library/prerelease/ios/\">iOS 8</a> and <a href=\"https://developer.apple.com/library/prerelease/osx/\">OS X Yosemite</a> developer libraries is visible in both ObjC and Swift forms (e.g. <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIView_Class/index.html\"><code>UIView</code></a>).</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/24002963#24002963", "question_id": 24002369, "answer_id": 24002963}, {"body": "<p>Quote from the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/index.html#//apple_ref/doc/uid/TP40014216\">documentation</a>:</p>\n\n<blockquote>\n  <p>Any Objective-C framework (or C library) that\u2019s accessible as a module\n  can be imported directly into Swift. This includes all of the\n  Objective-C system frameworks\u2014such as Foundation, UIKit, and\n  SpriteKit\u2014as well as common C libraries supplied with the system. For\n  example, to import Foundation, simply add this import statement to the\n  top of the Swift file you\u2019re working in:</p>\n  \n  <p><code>import Foundation</code></p>\n  \n  <p>This import makes all of the Foundation APIs\u2014including NSDate, NSURL,\n  NSMutableData, and all of their methods, properties, and\n  categories\u2014directly available in Swift.</p>\n</blockquote>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/24002965#24002965", "question_id": 24002369, "answer_id": 24002965}, {"body": "<h1> Using Objective-C Classes in Swift </h1>\n\n<p>**\nIf you have an existing class that you'd like to use, perform <b>Step 2</b> and then skip to <b>Step 5</b>.  (For some cases, I had to add an explicit <code>#import &lt;Foundation/Foundation.h</code> to an older ObjC File)\n**</p>\n\n<h3> Step 1: Add Objective-C Implementation -- .m </h3>\n\n<p>Add a <code>.m</code> file to your class, and name it <code>CustomObject.m</code></p>\n\n<h3> Step 2: Add Bridging Header </h3>\n\n<p>When adding your <code>.m</code> file, you'll likely be hit with a prompt that looks like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/nakLZ.png\" alt=\"enter image description here\"></p>\n\n<p>Click <b> YES </b>!  </p>\n\n<p>If you did not see the prompt, or accidentally deleted your bridging header, add a new <code>.h</code> file to your project and name it <code>&lt;#YourProjectName#&gt;-Bridging-Header.h</code></p>\n\n<p>In some situations, particularly when working with ObjC frameworks, you don't add an Objective-C class explicitly and Xcode can't find the linker.  In this case, create your <code>.h</code> file named as mentioned above, then make sure you link its path in your target's project settings like so:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8LiwF.gif\" alt=\"enter image description here\"></p>\n\n<p><b>Note</b></p>\n\n<p>It's best practice to link your project using the <code>$(SRCROOT)</code> macro so that if you move your project, or work on it with others using a remote repo, it will still work. <code>$(SRCROOT)</code> can be thought of as the directory that contains your .xcodeproj file.  It might look like this:</p>\n\n<p><code>$(SRCROOT)/Folder/Folder/&lt;#YourProjectName#&gt;-Bridging-Header.h</code></p>\n\n<h3> Step 3: Add Objective-C Header -- .h </h3>\n\n<p>Add another <code>.h</code> file and name it <code>CustomObject.h</code></p>\n\n<h3> Step 4: Build your Objective-C Class </h3>\n\n<p>In <code>CustomObject.h</code></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface CustomObject : NSObject\n\n@property (strong, nonatomic) id someProperty;\n\n- (void) someMethod;\n\n@end\n</code></pre>\n\n<p>In <code>CustomObject.m</code></p>\n\n<pre><code>#import \"CustomObject.h\"\n\n@implementation CustomObject \n\n- (void) someMethod {\n    NSLog(@\"SomeMethod Ran\");\n}\n\n@end\n</code></pre>\n\n<h3> Step 5: Add Class to Bridging-Header </h3>\n\n<p>In <code>YourProject-Bridging-Header.h</code>:</p>\n\n<pre><code>#import \"CustomObject.h\"\n</code></pre>\n\n<h3> Step 6: Use your Object </h3>\n\n<p>In <code>SomeSwiftFile.swift</code>:</p>\n\n<pre><code>var instanceOfCustomObject: CustomObject = CustomObject()\ninstanceOfCustomObject.someProperty = \"Hello World\"\nprintln(instanceOfCustomObject.someProperty)\ninstanceOfCustomObject.someMethod()\n</code></pre>\n\n<p>No need to import explicitly, that's what the bridging header is for.  </p>\n\n<h1> Using Swift Classes in Objective-C </h1>\n\n<h3> Step 1: Create New Swift Class </h3>\n\n<p>Add a <code>.swift</code> file to your project, and name it <code>MySwiftObject.swift</code></p>\n\n<p>In <code>MySwiftObject.swift</code>:</p>\n\n<pre><code>import Foundation\n\nclass MySwiftObject : NSObject {\n\n    var someProperty: AnyObject = \"Some Initializer Val\"\n\n    init() {}\n\n    func someFunction(someArg:AnyObject) -&gt; String {\n        var returnVal = \"You sent me \\(someArg)\"\n        return returnVal\n    }\n\n}\n</code></pre>\n\n<h3> Step 2: Import Swift Files to ObjC Class </h3>\n\n<p>In <code>SomeRandomClass.m</code>:</p>\n\n<pre><code>#import \"&lt;#YourProjectName#&gt;-Swift.h\"\n</code></pre>\n\n<p>The file:<code>&lt;#YourProjectName#&gt;-Swift.h</code> should already be created automatically in your project, even if you can not see it.</p>\n\n<h3> Step 3: Use your class </h3>\n\n<pre><code>MySwiftObject * myOb = [MySwiftObject new];\nNSLog(@\"MyOb.someProperty: %@\", myOb.someProperty);\nmyOb.someProperty = @\"Hello World\";\nNSLog(@\"MyOb.someProperty: %@\", myOb.someProperty);\nNSString * retString = [myOb someFunction:@\"Arg\"];\nNSLog(@\"RetString: %@\", retString);\n</code></pre>\n\n<h2>Note:</h2>\n\n<p><b>1.</b> CodeCompletion wasn't behaving as accurately as I'd like it to.  On my system, running a quick build w/ \"cmd + r\" seemed to help Swift find some of the Objc code and vice versa. </p>\n\n<p><b>2.</b> If you add <code>.swift</code> file to an older project and get error: <code>dyld: Library not loaded: @rpath/libswift_stdlib_core.dylib</code>, try completely <a href=\"http://stackoverflow.com/q/24002836/2611971\">restarting Xcode.</a></p>\n\n<p><b>3.</b> While it was originally possible to use pure Swift classes in Objective-C by using the <code>@objc</code> prefix, after Swift 2.0, this is no longer possible.  See edit history for original explanation.  If this functionality is reenabled in future Swift versions, the answer will be updated accordingly.</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/24005242#24005242", "question_id": 24002369, "answer_id": 24005242}, {"body": "<p>You can read this nice post <a href=\"https://medium.com/@stigi/swift-cocoapods-da09d8ba6dd2\">Swift &amp; Cocoapods</a>. Basically, we need to create a bridging header file and put all objective c headers there. And then we need to reference it from our build settings. After that, we can use the objective c code.</p>\n\n<pre><code>let manager = AFHTTPRequestOperationManager()\nmanager.GET(\n  \"http://example.com/resources.json\",\n  parameters: nil,\n  success: { (operation: AFHTTPRequestOperation!,\n              responseObject: AnyObject!) in\n      println(\"JSON: \" + responseObject.description)\n  },\n  failure: { (operation: AFHTTPRequestOperation!,\n              error: NSError!) in\n      println(\"Error: \" + error.localizedDescription)\n  })\n</code></pre>\n\n<p>Also have a look at Apple's document <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/buildingcocoaapps/MixandMatch.html\">Using Swift with Cocoa and Objective-C\n</a> as well.</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/24027921#24027921", "question_id": 24002369, "answer_id": 24027921}, {"body": "<p>I wrote a simple Xcode 6 project that show how to mix C++, Objective C and Swift code:</p>\n\n<p><a href=\"https://github.com/romitagl/shared/tree/master/C-ObjC-Swift/Performance_Console\">https://github.com/romitagl/shared/tree/master/C-ObjC-Swift/Performance_Console</a></p>\n\n<p>In particular the example <strong><em>call an Objective C and a C++ function from the Swift</em></strong>.</p>\n\n<p>The key is to create a shared header Project-Bridging-Header.h and put the Objective C headers there. </p>\n\n<p>Please download the project as a complete example.</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/24202870#24202870", "question_id": 24002369, "answer_id": 24202870}, {"body": "<p>Here are step-by-step instructions for using Objective-C code (in this case, a framework provided by a third-party) in a Swift project:</p>\n\n<ol>\n<li><strong>Add any Objective-C file to your Swift project</strong> by choosing File > New > New File > Objective-C File. Upon saving, <strong>XCode will ask if you want to add a bridging header</strong>. Choose '<strong>Yes</strong>'. <img src=\"http://www.derrrick.com/stackoverflow/1-empty-file.gif\" alt=\"Gif: adding empty file to project and generating bridging header\"></li>\n</ol>\n\n<p>In simple step 1: prompt appear than click on ok.. if it is not appear  than we create manually like follow.. create one header file from iOS source and give the name ProjectName-Bridging-Header(ex:Test-Bridging-Header)  and than go to build setting  in swift compiler code-> Objective-C bridge add Objective-C bridge name ..(Test/Test-Bridging-Header.h) yeah thats complete.     </p>\n\n<ol start=\"2\">\n<li><p>Optionally, delete the Objective-C file you added (named \"anything\" in the gif above), you don't need it anymore.</p></li>\n<li><p><strong>Open the bridging header file</strong> -- the filename is of the form <strong>[YourProject]-Bridging-Header.h</strong>. It includes an Xcode-provided comment. <strong>Add a line of code for the Objective-C file you want to include</strong>, such as a 3rd-party framework. For example, to add Mixpanel to your project, you will need to add the following line of code to the bridging header file:</p>\n\n<pre>#import \"Mixpanel.h\"</pre></li>\n<li><p>Now in any Swift file you can <strong>use existing Objective-C code, in the Swift syntax</strong> (in the case of this example, you can call Mixpanel SDK methods, etc.). You need to familiarize yourself with how Xcode translates Objective-C to Swift. <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps\">Apple's guide</a> is a quick read. Or see this answer for an incomplete summary.</p></li>\n</ol>\n\n<p>Example for Mixpanel:</p>\n\n<pre><code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool {\n    Mixpanel.sharedInstanceWithToken(\"your-token\")\n    return true\n}\n</code></pre>\n\n<p>That's it!</p>\n\n<p>Note: <strong>if you remove the bridging header file from your project</strong>, be sure to go into Build Settings and remove the value for \"<strong>Objective-C Bridging Header</strong>\" under \"Swift Compiler - Code Generation\". </p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/28486246#28486246", "question_id": 24002369, "answer_id": 28486246}, {"body": "<p>Click on New file menu chose file select language Objective  that time automatically   generate \"Objective-C Bridging Header\" file  that  is use to define some class name  </p>\n\n<p>\"Objective-C Bridging Header\" under \"Swift Compiler - Code Generation\". </p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/32501638#32501638", "question_id": 24002369, "answer_id": 32501638}, {"body": "<h3>One more thing I would like to add here:</h3>\n\n<p>I am very thankful to @Logan answer. It helps a  lot to create a bridge file and setups.</p>\n\n<p>But after doing all these steps I'm still not getting Objective C class in Swift.</p>\n\n<p>I used <code>cocoapods</code> library and integrate in my project. Which is <code>pod \"pop\"</code></p>\n\n<p>So If are using Objective C pods in Swift than there may be a chance that you can not able to get or <code>import</code> the classes into Swift.</p>\n\n<p>The simple thing you have to do that is:</p>\n\n<ol>\n<li>Go to <code>&lt;YOUR-PROJECT&gt;-Bridging-Header</code> file and</li>\n<li>Replace the statement <code>#import &lt;ObjC_Framework&gt;</code> to <code>@import ObjC_Framework</code></li>\n</ol>\n\n<p><strong>For example: (Pop library)</strong></p>\n\n<p>Replace </p>\n\n<pre><code>#import &lt;pop/POP.h&gt;\n</code></pre>\n\n<p>To</p>\n\n<pre><code>@import pop;\n</code></pre>\n\n<p><em>Use <code>clang import</code> when <code>#import</code> is not working.</em></p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/32601768#32601768", "question_id": 24002369, "answer_id": 32601768}, {"body": "<p>After you created Bridging header.</p>\n\n<p>Go to Build Setting =>Search for \"Objective-C Bridging Header\" </p>\n\n<p>Just below you will find \"\"Objective-C Generated Interface Header Name\" file </p>\n\n<p>and  import That file in your view controller.</p>\n\n<p>ex.In  my case: \"Dauble-Swift.h\"</p>\n\n<p><a href=\"http://i.stack.imgur.com/cEuwx.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/cEuwx.png\" alt=\"enter image description here\"></a></p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/33911656#33911656", "question_id": 24002369, "answer_id": 33911656}, {"body": "<p>Just a note for whoever trying to add Objective C library to swift, you should add <strong>-ObjC</strong> in Build Settings -> Linking -> Other Linker Flags</p>\n", "title": "How to call Objective C code from Swift", "tags": ["objective-c", "swift"], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift/36117343#36117343", "question_id": 24002369, "answer_id": 36117343}], "link": "http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift", "question_id": 24002369}, {"body": "<p>My app that worked fine on iOS&nbsp;7 doesn't work with the iOS&nbsp;8 SDK.</p>\n\n<p><code>CLLocationManager</code> doesn't return a location, and I don't see my app under <em>Settings</em> -> <em>Location Services</em> either. I did a Google search on the issue, but nothing came up. What could be wrong?</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "answers": [{"body": "<p>I ended up solving my own problem. </p>\n\n<p>Apparently in iOS 8 SDK, <code>requestAlwaysAuthorization</code> (for background location) or <code>requestWhenInUseAuthorization</code> (location only when foreground) call on <code>CLLocationManager</code> is needed before starting location updates.</p>\n\n<p>There also needs to be <code>NSLocationAlwaysUsageDescription</code> or <code>NSLocationWhenInUseUsageDescription</code> key in <code>Info.plist</code> with a message to be displayed in the prompt. Adding these solved my problem.</p>\n\n<p><a href=\"http://i.stack.imgur.com/iuOzB.jpg\"><img src=\"http://i.stack.imgur.com/iuOzB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Hope it helps someone else.</p>\n\n<p>EDIT: For more extensive information, have a look at: <a href=\"http://nevan.net/2014/09/core-location-manager-changes-in-ios-8/\">Core-Location-Manager-Changes-in-ios-8</a></p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/24063578#24063578", "question_id": 24062509, "answer_id": 24063578}, {"body": "<p>I was pulling my hair out with the same problem. Xcode gives you the error:</p>\n\n<blockquote>\n  <p>Trying to start <code>MapKit</code> location updates without prompting for\n  location authorization. Must call <code>-[CLLocationManager\n  requestWhenInUseAuthorization]</code> or <code>-[CLLocationManager\n  requestAlwaysAuthorization]</code> first.</p>\n</blockquote>\n\n<p>But even if you implement one of the above methods, it won't prompt the user unless there is an entry in the info.plist for <code>NSLocationAlwaysUsageDescription</code> or <code>NSLocationWhenInUseUsageDescription</code>.</p>\n\n<p>Add the following lines to your info.plist where the string values represent the reason you you need to access the users location </p>\n\n<pre><code>&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;This application requires location services to work&lt;/string&gt;\n\n&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n&lt;string&gt;This application requires location services to work&lt;/string&gt;\n</code></pre>\n\n<p>I think these entries may have been missing since I started this project in Xcode 5. I'm guessing Xcode 6 might add default entries for these keys but have not confirmed. </p>\n\n<p>You can find more information on these two Settings <a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html\">here</a> </p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/24064860#24064860", "question_id": 24062509, "answer_id": 24064860}, {"body": "<p>According to the Apple docs:</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization\">https://developer.apple.com/library/prerelease/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization</a></p>\n\n<p>As of iOS 8, the presence of a <code>NSLocationWhenInUseUsageDescription</code> or a <code>NSLocationAlwaysUsageDescription</code> key value in your app's Info.plist file is required. It's then also necessary to request permission from the user prior to registering for location updates, either by calling <code>[self.myLocationManager requestWhenInUseAuthorization]</code> or <code>[self.myLocationManager requestAlwaysAuthorization]</code> depending on your need. The string you entered into the Info.plist will then be displayed in the ensuing dialog.</p>\n\n<p>If the user grants permission, it's business as usual. If they deny permission, then the delegate is not informed of location updates.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/24111434#24111434", "question_id": 24062509, "answer_id": 24111434}, {"body": "<p>To ensure that this is backwards compatible with iOS 7, you should check whether the user is running iOS 8 or iOS 7. For example:</p>\n\n<pre><code>#define IS_OS_8_OR_LATER ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= 8.0)\n\n//In ViewDidLoad\nif(IS_OS_8_OR_LATER) {\n   [self.locationManager requestAlwaysAuthorization];\n}\n\n[self.locationManager startUpdatingLocation];\n</code></pre>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/24442603#24442603", "question_id": 24062509, "answer_id": 24442603}, {"body": "<p>Solution with backward compatibility:</p>\n\n<pre><code>SEL requestSelector = NSSelectorFromString(@\"requestWhenInUseAuthorization\");\nif ([CLLocationManager authorizationStatus] == kCLAuthorizationStatusNotDetermined &amp;&amp;\n    [self.locationManager respondsToSelector:requestSelector]) {\n    [self.locationManager performSelector:requestSelector withObject:NULL];\n} else {\n    [self.locationManager startUpdatingLocation];\n}\n</code></pre>\n\n<p>Setup NSLocationWhenInUseUsageDescription key in your Info.plist</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/25779636#25779636", "question_id": 24062509, "answer_id": 25779636}, {"body": "<p>Solution with backward compatibility which doesn't produce Xcode warnings:</p>\n\n<pre><code>SEL requestSelector = NSSelectorFromString(@\"requestWhenInUseAuthorization\");\nif ([CLLocationManager authorizationStatus] == kCLAuthorizationStatusNotDetermined &amp;&amp;\n  [self.locationManager respondsToSelector:requestSelector]) {\n((void (*)(id, SEL))[self.locationManager methodForSelector:requestSelector])(self.locationManager, requestSelector);\n  [self.locationManager startUpdatingLocation];\n} else {\n  [self.locationManager startUpdatingLocation];\n}\n</code></pre>\n\n<p>Setup NSLocationWhenInUseUsageDescription key in your Info.plist</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/25783861#25783861", "question_id": 24062509, "answer_id": 25783861}, {"body": "<p>My solution which can be compiled in Xcode 5:</p>\n\n<pre><code>#ifdef __IPHONE_8_0\n    NSUInteger code = [CLLocationManager authorizationStatus];\n    if (code == kCLAuthorizationStatusNotDetermined &amp;&amp; ([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)] || [self.locationManager respondsToSelector:@selector(requestWhenInUseAuthorization)])) {\n        // choose one request according to your business.\n        if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationAlwaysUsageDescription\"]){\n            [self.locationManager requestAlwaysAuthorization];\n        } else if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationWhenInUseUsageDescription\"]) {\n            [self.locationManager  requestWhenInUseAuthorization];\n        } else {\n            NSLog(@\"Info.plist does not contain NSLocationAlwaysUsageDescription or NSLocationWhenInUseUsageDescription\");\n        }\n    }\n#endif\n    [self.locationManager startUpdatingLocation];\n</code></pre>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26016645#26016645", "question_id": 24062509, "answer_id": 26016645}, {"body": "<p>The old code for asking location won't work in iOS 8. You can try this method for location authorization:</p>\n\n<pre><code>- (void)requestAlwaysAuthorization\n{\n    CLAuthorizationStatus status = [CLLocationManager authorizationStatus];\n\n    // If the status is denied or only granted for when in use, display an alert\n    if (status == kCLAuthorizationStatusAuthorizedWhenInUse || status ==        kCLAuthorizationStatusDenied) {\n        NSString *title;\n        title = (status == kCLAuthorizationStatusDenied) ? @\"Location services are off\" :   @\"Background location is not enabled\";\n        NSString *message = @\"To use background location you must turn on 'Always' in the Location Services Settings\";\n\n        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:title\n                                                            message:message\n                                                           delegate:self\n                                                  cancelButtonTitle:@\"Cancel\"\n                                                  otherButtonTitles:@\"Settings\", nil];\n        [alertView show];\n    }\n    // The user has not enabled any location services. Request background authorization.\n    else if (status == kCLAuthorizationStatusNotDetermined) {\n        [self.locationManager requestAlwaysAuthorization];\n    }\n}\n\n- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex\n{\n    if (buttonIndex == 1) {\n        // Send the user to the Settings for this app\n        NSURL *settingsURL = [NSURL URLWithString:UIApplicationOpenSettingsURLString];\n        [[UIApplication sharedApplication] openURL:settingsURL];\n    }\n}\n</code></pre>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26073432#26073432", "question_id": 24062509, "answer_id": 26073432}, {"body": "<pre><code>- (void)startLocationManager\n{\n    locationManager = [[CLLocationManager alloc] init];\n    locationManager.delegate = self;\n    locationManager.distanceFilter = kCLDistanceFilterNone; //whenever we move\n    locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n\n    [locationManager startUpdatingLocation];\n    [locationManager requestWhenInUseAuthorization]; // Add This Line\n\n\n}\n</code></pre>\n\n<p>And to your info.plist File\n<img src=\"http://i.stack.imgur.com/bQcRQ.png\" alt=\"enter image description here\"></p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26118453#26118453", "question_id": 24062509, "answer_id": 26118453}, {"body": "<p>Add this to your code</p>\n\n<pre><code>if (IS_OS_8_OR_LATER)\n{\n    [locationmanager requestWhenInUseAuthorization];\n\n    [locationmanager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>and to <strong>info.plist:</strong></p>\n\n<pre><code>&lt;key&gt;NSLocationUsageDescription&lt;/key&gt;\n&lt;string&gt;I need location&lt;/string&gt;\n&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n&lt;string&gt;I need location&lt;/string&gt;\n&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;I need location&lt;/string&gt;\n</code></pre>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26155568#26155568", "question_id": 24062509, "answer_id": 26155568}, {"body": "<p>A little helper for all of you that have more than one Info.plist file...</p>\n\n<pre><code>find . -name Info.plist | xargs -I {} /usr/libexec/PlistBuddy -c 'Add NSLocationWhenInUseUsageDescription string' {} \n</code></pre>\n\n<p>It will add the needed tag to all of the Info.plist files in the current directory (and subfolders).</p>\n\n<p>Another is:</p>\n\n<pre><code>find . -name Info.plist | xargs -I {} /usr/libexec/PlistBuddy -c 'Set NSLocationWhenInUseUsageDescription $YOURDESCRIPTION' {} \n</code></pre>\n\n<p>It will add your description to all files.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26231542#26231542", "question_id": 24062509, "answer_id": 26231542}, {"body": "<p>Before <code>[locationManager startUpdatingLocation];</code>, add an iOS8 location services request:</p>\n\n<pre><code>if([locationManager respondsToSelector:@selector(requestAlwaysAuthorization)])\n    [locationManager requestAlwaysAuthorization];\n</code></pre>\n\n<p>Edit your app's <code>Info.plist</code> and add key <code>NSLocationAlwaysUsageDescription</code> with the string value that will be displayed to the user (for example, <code>We do our best to preserve your battery life.</code>)</p>\n\n<p>If your app needs location services only while the app is open, replace:</p>\n\n<p><code>requestAlwaysAuthorization</code> with <code>requestWhenInUseAuthorization</code> and</p>\n\n<p><code>NSLocationAlwaysUsageDescription</code> with <code>NSLocationWhenInUseUsageDescription</code>.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26867020#26867020", "question_id": 24062509, "answer_id": 26867020}, {"body": "<ol>\n<li><p>Add key <code>NSLocationWhenInUseUsageDescription</code> or <code>NSLocationAlwaysUsageDescription</code> (background GPS use) with string asking to use GPS on each <code>info.plist</code> from each target.</p></li>\n<li><p>Ask for permission by running:</p>\n\n<p>[self initLocationManager:locationManager];</p></li>\n</ol>\n\n<p>Where <code>initLocationManager</code> is:</p>\n\n<pre><code>// asks for GPS authorization on iOS 8\n-(void) initLocationManager:(CLLocationManager *) locationManager{\n\n    locationManager = [[CLLocationManager alloc]init];\n\n    if([locationManager respondsToSelector:@selector(requestAlwaysAuthorization)])\n        [locationManager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>Remember that if the keys are not on each <code>info.plist</code> for each target the app will not ask the user. The <code>if</code> provides compatibility with iOS 7 and the <code>respondsToSelector:</code> method guarantees future compatibility rather than just solving the issue for iOS 7 and 8.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26962576#26962576", "question_id": 24062509, "answer_id": 26962576}, {"body": "<p>To Access User Location in iOS 8 you will have to add,</p>\n\n<pre><code>NSLocationAlwaysUsageDescription in the Info.plist \n</code></pre>\n\n<p>This will ask the user for the permission to get their current location.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26965727#26965727", "question_id": 24062509, "answer_id": 26965727}, {"body": "<pre><code>        // ** Don't forget to add NSLocationWhenInUseUsageDescription in MyApp-Info.plist and give it a string\n\n        self.locationManager = [[CLLocationManager alloc] init];\n        self.locationManager.delegate = self;\n        // Check for iOS 8. Without this guard the code will crash with \"unknown selector\" on iOS 7.\n        if ([self.locationManager respondsToSelector:@selector(requestWhenInUseAuthorization)]) {\n            [self.locationManager requestWhenInUseAuthorization];\n        }\n        [self.locationManager startUpdatingLocation];\n\n\n    // Location Manager Delegate Methods    \n    - (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray *)locations\n    {\n        NSLog(@\"%@\", [locations lastObject]);\n\n}\n</code></pre>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/26995963#26995963", "question_id": 24062509, "answer_id": 26995963}, {"body": "<p>For those using <strong>Xamarin</strong>, I had to add the key <strong><code>NSLocationWhenInUseUsageDescription</code></strong> to the info.plist manually since it was not available in the dropdowns in either Xamarin 5.5.3 Build 6 or XCode 6.1 - only  <code>NSLocationUsageDescription</code> was in the list, and that caused the <code>CLLocationManager</code> to continue to fail silently.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/27066378#27066378", "question_id": 24062509, "answer_id": 27066378}, {"body": "<p>I was working on an app that was upgraded to iOS&nbsp;8 and location services stopped working. You'll probably get and error in the Debug area like so:</p>\n\n<p><code>Trying to start MapKit location updates without prompting for location authorization. Must call -[CLLocationManager requestWhenInUseAuthorization] or -[CLLocationManager requestAlwaysAuthorization] first.</code></p>\n\n<p>I did the least intrusive procedure. First add <code>NSLocationAlwaysUsageDescription</code> entry to your info.plist:</p>\n\n<p><img src=\"http://i.stack.imgur.com/N4M21.png\" alt=\"Enter image description here\"></p>\n\n<p>Notice I didn't fill out the value for this key. This still works, and I'm not concerned because this is a in house app. Also, there is already a title asking to use location services, so I didn't want to do anything redundant.</p>\n\n<p>Next I created a conditional for iOS 8:</p>\n\n<pre><code>if ([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)]) {\n    [_locationManager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>After this the <code>locationManager:didChangeAuthorizationStatus:</code> method is call:</p>\n\n<pre><code>- (void)locationManager:(CLLocationManager *)manager didChangeAuthorizationStatus:  (CLAuthorizationStatus)status\n{\n    [self gotoCurrenLocation];\n}\n</code></pre>\n\n<p>And now everything works fine. As always, check out the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/CoreLocation/Reference/CLLocationManager_Class/index.html#//apple_ref/occ/instm/CLLocationManager/requestWhenInUseAuthorization\">documentation</a>.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/27109214#27109214", "question_id": 24062509, "answer_id": 27109214}, {"body": "<pre><code>- (void)viewDidLoad\n{\n\n    [super viewDidLoad];\n    self.locationManager = [[CLLocationManager alloc] init];\n\n    self.locationManager.delegate = self;\n    if([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)]){\n        NSUInteger code = [CLLocationManager authorizationStatus];\n        if (code == kCLAuthorizationStatusNotDetermined &amp;&amp; ([self.locationManager respondsToSelector:@selector(requestAlwaysAuthorization)] || [self.locationManager respondsToSelector:@selector(requestWhenInUseAuthorization)])) {\n            // choose one request according to your business.\n            if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationAlwaysUsageDescription\"]){\n                [self.locationManager requestAlwaysAuthorization];\n            } else if([[NSBundle mainBundle] objectForInfoDictionaryKey:@\"NSLocationWhenInUseUsageDescription\"]) {\n                [self.locationManager  requestWhenInUseAuthorization];\n            } else {\n                NSLog(@\"Info.plist does not contain NSLocationAlwaysUsageDescription or NSLocationWhenInUseUsageDescription\");\n            }\n        }\n    }\n    [self.locationManager startUpdatingLocation];\n}\n\n&gt;  #pragma mark - CLLocationManagerDelegate\n\n    - (void)locationManager:(CLLocationManager *)manager didFailWithError:(NSError *)error\n    {\n        NSLog(@\"didFailWithError: %@\", error);\n        UIAlertView *errorAlert = [[UIAlertView alloc]\n                                   initWithTitle:@\"Error\" message:@\"Failed to Get Your Location\" delegate:nil cancelButtonTitle:@\"OK\" otherButtonTitles:nil];\n        [errorAlert show];\n    }\n\n    - (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation\n    {\n        NSLog(@\"didUpdateToLocation: %@\", newLocation);\n        CLLocation *currentLocation = newLocation;\n\n        if (currentLocation != nil) {\n            longitudeLabel.text = [NSString stringWithFormat:@\"%.8f\", currentLocation.coordinate.longitude];\n            latitudeLabel.text = [NSString stringWithFormat:@\"%.8f\", currentLocation.coordinate.latitude];\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>In iOS 8 you need to do two extra things to get location working: Add\n  a key to your Info.plist and request authorization from the location\n  manager asking it to start. There are two Info.plist keys for the new\n  location authorization. One or both of these keys is required. If\n  neither of the keys are there, you can call startUpdatingLocation but\n  the location manager won\u2019t actually start. It won\u2019t send a failure\n  message to the delegate either (since it never started, it can\u2019t\n  fail). It will also fail if you add one or both of the keys but forget\n  to explicitly request authorization. So the first thing you need to do\n  is to add one or both of the following keys to your Info.plist file:  </p>\n</blockquote>\n\n<ul>\n<li>NSLocationWhenInUseUsageDescription  </li>\n<li>NSLocationAlwaysUsageDescription</li>\n</ul>\n\n<p>Both of these keys take a string</p>\n\n<blockquote>\n  <p>which is a description of why you need location services. You can\n  enter a string like \u201cLocation is required to find out where you are\u201d\n  which, as in iOS 7, can be localized in the InfoPlist.strings file.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/aQuZf.png\" alt=\"enter image description here\">   </p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/27517837#27517837", "question_id": 24062509, "answer_id": 27517837}, {"body": "<p><strong>One common error for Swift developers:</strong></p>\n\n<p>First make sure you add a value to the plist for either <code>NSLocationWhenInUseUsageDescription</code> or <code>NSLocationAlwaysUsageDescription</code>.</p>\n\n<p>If you are <em>still</em> not seeing a window pop up asking for authorization, look to see if you are putting the line <code>var locationManager = CLLocationManager()</code> in your View Controller's <code>viewDidLoad</code> method. If you do, then even if you call <code>locationManager.requestWhenInUseAuthorization()</code>, nothing will show up. This is because after viewDidLoad executes, the locationManager variable is deallocated (cleared out).</p>\n\n<p>The solution is to locate the line <code>var locationManager = CLLocationManager()</code> at the top of the class method.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/28572543#28572543", "question_id": 24062509, "answer_id": 28572543}, {"body": "<p>The problem for me was that the class that was the <code>CLLocationManagerDelegate</code> was private, which prevented all the delegate methods from being called. Guess it's not a very common situation but thought I'd mention it in case t helps anyone.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/31260480#31260480", "question_id": 24062509, "answer_id": 31260480}, {"body": "<p>I add those key in <code>InfoPlist.strings</code> in <strong>iOS 8.4, iPad mini 2.</strong> It works too. I don't set any key, like <code>NSLocationWhenInUseUsageDescription</code>, in my <code>Info.plist</code>.</p>\n\n<hr>\n\n<p><em>InfoPlist.strings</em>:</p>\n\n<pre><code>\"NSLocationWhenInUseUsageDescription\" = \"I need GPS information....\";\n</code></pre>\n\n<hr>\n\n<p><a href=\"http://nevan.net/2014/09/core-location-manager-changes-in-ios-8/\" rel=\"nofollow\">Base on this thread</a>, it said, <code>as in iOS 7</code>, can be localized in the InfoPlist.strings. In my test, those keys can be configured directly in the file <code>InfoPlist.strings</code>.</p>\n\n<blockquote>\n  <p>So the first thing you need to do is to add one or both of the > following keys to your Info.plist file:</p>\n  \n  <ul>\n  <li>NSLocationWhenInUseUsageDescription</li>\n  <li>NSLocationAlwaysUsageDescription</li>\n  </ul>\n  \n  <p>Both of these keys take a string which is a description of why you\n  need location services. You can enter a string like \u201cLocation is\n  required to find out where you are\u201d which, as in <strong>iOS 7</strong>, can be\n  localized in the InfoPlist.strings file.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I think <a href=\"http://stackoverflow.com/a/27517837/419348\"><code>@IOS</code>'s method is better.</a> Add key to <code>Info.plist</code> with empty value and add localized strings to <code>InfoPlist.strings</code>.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/31720631#31720631", "question_id": 24062509, "answer_id": 31720631}, {"body": "<p>Keep <strong>Cocoa Keys</strong> information always at your fingertips for those updates, here is the link:</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW26\" rel=\"nofollow\">https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW26</a></p>\n\n<p>Enjoy.</p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/31735930#31735930", "question_id": 24062509, "answer_id": 31735930}, {"body": "<p>This is issue with ios 8 \nAdd this to your code</p>\n\n<pre><code>if (IS_OS_8_OR_LATER)\n{\n    [locationmanager requestWhenInUseAuthorization];\n\n    [locationmanager requestAlwaysAuthorization];\n}\n</code></pre>\n\n<p>and to info.plist:</p>\n\n<pre><code> &lt;key&gt;NSLocationUsageDescription&lt;/key&gt;\n &lt;string&gt;I need location&lt;/string&gt;\n &lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n &lt;string&gt;I need location&lt;/string&gt;\n &lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n &lt;string&gt;I need location&lt;/string&gt;\n</code></pre>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/32346867#32346867", "question_id": 24062509, "answer_id": 32346867}, {"body": "<p>I get a similar error in iOS9 (working with Xcode 7 and Swift 2):\n<strong>Trying to start MapKit location updates without prompting for location authorization. Must call -[CLLocationManager requestWhenInUseAuthorization] or -[CLLocationManager requestAlwaysAuthorization] first.</strong>\nI was following a tutorial but the tutor was using iOS8 and Swift 1.2. There are some changes in Xcode 7 and Swift 2, I found this code and it works fine for me (if somebody needs help):</p>\n\n<pre><code>import UIKit\nimport MapKit\nimport CoreLocation\n\nclass MapViewController: UIViewController, MKMapViewDelegate, CLLocationManagerDelegate {\n\n    // MARK: Properties\n    @IBOutlet weak var mapView: MKMapView!\n\n    let locationManager = CLLocationManager()\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        self.locationManager.delegate = self\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest\n        self.locationManager.requestWhenInUseAuthorization()\n        self.locationManager.startUpdatingLocation()\n        self.mapView.showsUserLocation = true\n\n    }\n\n    // MARK: - Location Delegate Methods\n\n    func locationManager(manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\n        let location = locations.last\n        let center = CLLocationCoordinate2D(latitude: location!.coordinate.latitude, longitude: location!.coordinate.longitude)\n        let region = MKCoordinateRegion(center: center, span: MKCoordinateSpan(latitudeDelta: 1, longitudeDelta: 1))\n        self.mapView.setRegion(region, animated: true)\n    }\n\n    func locationManager(manager: CLLocationManager, didFailWithError error: NSError) {\n        print(\"Errors: \" + error.localizedDescription)\n    }\n}\n</code></pre>\n\n<p>Finally, I put that in info.plist:\nInformation Property List: <strong>NSLocationWhenInUseUsageDescription</strong>\nValue: <strong>App needs location servers for staff</strong></p>\n", "title": "Location Services not working in iOS 8", "tags": ["objective-c", "ios8"], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8/34515785#34515785", "question_id": 24062509, "answer_id": 34515785}], "link": "http://stackoverflow.com/questions/24062509/location-services-not-working-in-ios-8", "question_id": 24062509}, {"body": "<p>In Objective C, I can use <code>#pragma mark</code> to mark sections of my code in the symbol navigator. Since this is a C preprocessor command, it's not available in Swift. Is there a stand-in for this in Swift, or do I have to use ugly comments?</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "answers": [{"body": "<p>In Objective-C code Xcode detects comments like <code>// MARK: - foo</code> which is a bit more portable than <code>#pragma</code>. But these do not seem to be picked up, too (yet?).</p>\n\n<p>Edit: Fixed in Xcode 6 beta 4.</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24017460#24017460", "question_id": 24017316, "answer_id": 24017460}, {"body": "<p>Apple states in the latest version of <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/BuildingCocoaApps.pdf\" rel=\"nofollow\"><em>Building Cocoa Apps</em></a>, </p>\n\n<blockquote>\n  <p>The Swift compiler does not include a preprocessor. Instead, it takes\n  advantage of compile-time attributes, build configurations, and\n  language features to accomplish the same functionality. For this\n  reason, preprocessor directives are not imported in Swift.</p>\n</blockquote>\n\n<p>The # character appears to still be how you work with various build configurations and things like that, but it looks like they're trying to cut back on your need for most preprocessing in the vein of pragma and forward you to other language features altogether.  Perhaps this is to aid in the operation of the Playgrounds and the REPL behaving as close as possible to the fully compiled code.</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24017635#24017635", "question_id": 24017316, "answer_id": 24017635}, {"body": "<p>You can use <code>// MARK:</code></p>\n\n<hr>\n\n<p><strong>Historical, Prior to Xcode 6 Beta 4</strong></p>\n\n<p>Just talked to an Engineer here at WWDC, and the current beta of Xcode doesn't implement the </p>\n\n<p><code>// MARK:</code> </p>\n\n<p>style yet, but I'm told future versions will. </p>\n\n<p>It was also suggested that making liberal use of class extensions might be a better practice anyway. Since extensions can implement protocols, you can e.g. put all of your table view delegate methods in an extension and group your code at a more semantic level than <code>#pragma mark</code> is capable of. </p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24037870#24037870", "question_id": 24017316, "answer_id": 24037870}, {"body": "<p>For those who are interested in using extensions vs pragma marks (as mentioned in the first comment), here is how to implement it from a Swift Engineer: </p>\n\n<pre><code>import UIKit\n\nclass SwiftTableViewController: UITableViewController {\n\n    init(coder aDecoder: NSCoder!) {\n        super.init(coder: aDecoder)\n\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n    }\n}\n\nextension SwiftTableViewController {\n    override func numberOfSectionsInTableView(tableView: UITableView?) -&gt; Int {\n        return 1\n    }\n\n    override func tableView(tableView: UITableView?, numberOfRowsInSection section: Int) -&gt; Int {\n        return 5\n    }\n\n    override func tableView(tableView: UITableView?, cellForRowAtIndexPath indexPath: NSIndexPath?) -&gt; UITableViewCell? {\n        let cell = tableView?.dequeueReusableCellWithIdentifier(\"myCell\", forIndexPath: indexPath) as UITableViewCell;\n\n        cell.textLabel.text = \"Hello World\"\n\n        return cell\n    }\n\n}\n</code></pre>\n\n<p>It's also not necessarily the best practice, but this is how you do it if you like. </p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24069206#24069206", "question_id": 24017316, "answer_id": 24069206}, {"body": "<p>Confirmed with an Apple Engineer in the Swift lab this morning at WWDC that there currently aren't any #pragma or equivalent at the moment, they consider this a bug, and it will arrive soon, so I am guessing beta 2, I hope.</p>\n\n<p>Anyway, it's on it's way. </p>\n\n<hr>\n\n<p>Xcode now supports //MARK:, //TODO: and //FIXME landmarks to annotate your code and \nlists them in the jump bar</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24091250#24091250", "question_id": 24017316, "answer_id": 24091250}, {"body": "<p>I ran into this problem as well, and got into a lab with a swift engineer at WWDC. Xcode currently doesn't have the // MARK: style implemented yet. The next beta probably will.</p>\n\n<p>I was suggested that making a liberal use of class extensions might be a better practice anyways. Since extensions can implement protocols. You could (in example) put all of your delegation methods in an extension and group your code better than the pragma mark can.</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24146553#24146553", "question_id": 24017316, "answer_id": 24146553}, {"body": "<pre><code>// #pragma mark - Navigation\n\n// In a storyboard-based application, you will often want to do a little preparation before navigation\noverride func prepareForSegue(segue: UIStoryboardSegue?, sender: AnyObject?) {\n    // Get the new view controller using [segue destinationViewController].\n    // Pass the selected object to the new view controller.\n}\n</code></pre>\n\n<p>this is auto function when create ViewController. i thinks it still use //#pragram mark. but i don't see mark when show jumb bar. perhap xcode 6 beta don't have. i hope when release it will have</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24238954#24238954", "question_id": 24017316, "answer_id": 24238954}, {"body": "<p>The extensions seams like a good idea but it doesn't solve the problem of showing a clear distinction on the navigation drop down  menu. What does solve the problem and seam to me a  more elegant solution is the definition of a different class that responsible only to handle the protocol. This in only of course if you can keep the logic with the original class separated.</p>\n\n<pre><code>protocol MyClassProtocol {\n    func numberOfThings() -&gt; Integer\n    func randomThing() -&gt; MyClass?\n}\n\nclass MyClass {\n    var delegate : MyClassProtocol?\n\n    init() {\n        delegate = MyClassDelegate()\n    }\n}\n\nclass MyClassDelegate : MyClassProtocol {\n    func numberOfThings() -&gt; Integer  {\n        return 1\n    }\n\n    func randomThing() -&gt; MyClass?  {\n        return nil\n    }\n}\n</code></pre>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24351649#24351649", "question_id": 24017316, "answer_id": 24351649}, {"body": "<p>I think <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Extensions.html#//apple_ref/doc/uid/TP40014097-CH24-XID_189\"><code>Extensions</code></a> is a better way instead of <code>#pragma mark</code>.</p>\n\n<p>The Code before using <code>Extensions</code>:</p>\n\n<pre><code>class ViewController: UIViewController, UICollectionViewDataSource, UICollectionViewDelegate {\n    ...\n\n    func collectionView(collectionView: UICollectionView!, numberOfItemsInSection section: Int) -&gt; Int {\n        ...\n    }\n\n    func collectionView(collectionView: UICollectionView!, cellForItemAtIndexPath indexPath: NSIndexPath!) -&gt; UICollectionViewCell! {\n        ...\n    }\n\n    func collectionView(collectionView: UICollectionView!, didSelectItemAtIndexPath indexPath: NSIndexPath!) {\n        ...\n    }\n}\n</code></pre>\n\n<p>The code after using <code>Extensions</code>:</p>\n\n<pre><code>class ViewController: UIViewController {\n    ...\n}\n\nextension ViewController: UICollectionViewDataSource {\n    func collectionView(collectionView: UICollectionView!, numberOfItemsInSection section: Int) -&gt; Int {\n        ...\n    }\n\n    func collectionView(collectionView: UICollectionView!, cellForItemAtIndexPath indexPath: NSIndexPath!) -&gt; UICollectionViewCell! {\n        ...\n    }\n}\n\nextension ViewController: UICollectionViewDelegate {\n    func collectionView(collectionView: UICollectionView!, didSelectItemAtIndexPath indexPath: NSIndexPath!) {\n       ...\n    }\n}\n</code></pre>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24486497#24486497", "question_id": 24017316, "answer_id": 24486497}, {"body": "<p>Swift 1.0 beta version  of Xcode doesn't have any #pragma mark.<br>\nBut SWift 1.2 version of xcode support the <code>// MARK:</code>, <code>// TODO:</code> and <code>// FIXME:</code></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24525702#24525702", "question_id": 24017316, "answer_id": 24525702}, {"body": "<p>Added in iOS 8 Beta 4 w/ Xcode 6:</p>\n\n<p><code>// MARK:</code>, <code>// TODO:</code> and // <code>FIXME:</code></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24876311#24876311", "question_id": 24017316, "answer_id": 24876311}, {"body": "<p>Its confirmed now. Xcode 6 Beta 4 supports <code>//MARK:</code>,\u00a0<code>//TODO:</code>\u00a0and\u00a0<code>//FIXME</code> as per the documentation :)</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/24883422#24883422", "question_id": 24017316, "answer_id": 24883422}, {"body": "<p>Up to Xcode 5 the preprocessor directive <code>#pragma mark</code> existed.</p>\n\n<p>From Xcode 6 on, you have to use <code>// MARK:</code></p>\n\n<p>These preprocessor features allow to bring some structure to the function drop down box of the source code editor.</p>\n\n<p>some examples :</p>\n\n<pre><code>// MARK:\n</code></pre>\n\n<p>-> will be preceded by a horizontal divider</p>\n\n<pre><code>// MARK: your text goes here\n</code></pre>\n\n<p>-> puts 'your text goes here' in bold in the drop down list</p>\n\n<pre><code>// MARK: - your text goes here\n</code></pre>\n\n<p>-> puts 'your text goes here' in bold in the drop down list, preceded by a horizontal divider</p>\n\n<p>update : added screenshot 'cause some people still seem to have issues with this :</p>\n\n<p><img src=\"http://i.stack.imgur.com/w27aK.png\" alt=\"enter image description here\"></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/26408706#26408706", "question_id": 24017316, "answer_id": 26408706}, {"body": "<p>This one worked for me Xcode 6 beta 4.\n//MARK: - TextField Delegates\nShows up in navigation drop down too.</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/28007397#28007397", "question_id": 24017316, "answer_id": 28007397}, {"body": "<p>Just do something like this using //Mark: whatever text you want</p>\n\n<pre><code>//MARK: Table view implementation\n</code></pre>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/29061530#29061530", "question_id": 24017316, "answer_id": 29061530}, {"body": "<p>Use a comment like this:</p>\n\n<p><code>// MARK: Your text here.</code></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/29294352#29294352", "question_id": 24017316, "answer_id": 29294352}, {"body": "<p>Just use //MARK:, //TODO: or //FIXME: instead of #pragma</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/29815064#29815064", "question_id": 24017316, "answer_id": 29815064}, {"body": "<p>Went through above answers and my summary is:</p>\n\n<p>1)  </p>\n\n<pre><code>//MARK: UITexFieldDelegate\n</code></pre>\n\n<p>do pretty much the same what</p>\n\n<pre><code>#pragma mark UITexFieldDelegate\n</code></pre>\n\n<p>2) Adding <code>-</code> adds extra line (separator) on the methods list in <code>XCode</code> (if you find it more clear)</p>\n\n<pre><code>//MARK: - UITexFieldDelegate\n</code></pre>\n\n<p>do pretty much the same what</p>\n\n<pre><code>#pragma mark - UITexFieldDelegate\n</code></pre>\n\n<p>Tested with <code>Xcode 6.3.2</code>, also tried with <code>AppCode 3.1.7</code> and it looks like unsupported for now. Anyway using extensions (also mentioned in other answers here) might be more in a <em>Swift style</em>. </p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/31093439#31093439", "question_id": 24017316, "answer_id": 31093439}, {"body": "<p><code>//MARK:</code> does not <strong><em>seem</em></strong> to work for me in Xcode 6.3.2.  However, this is what I did to <strong><em>get it to work</em></strong>:</p>\n\n<p>1) Code:</p>\n\n<pre><code>import Cocoa\n\nclass MainWindowController: NSWindowController {\n\n    //MARK: - My cool methods\n\n    func fly() {\n    }\n\n    func turnInvisible() {\n\n    }\n}\n</code></pre>\n\n<p>2) In the <code>jump bar</code> nothing appears to change when adding the <code>//MARK</code>: comment.  However, if I click on the rightmost name in the jump bar, in my case it says <code>MainWindowController(with a leading C icon)</code>, then a popup window will display showing the effects of the //MARK: comment, namely a heading that says \"My cool methods\":</p>\n\n<p><img src=\"http://i.stack.imgur.com/os9sk.jpg\" alt=\"enter image description here\"></p>\n\n<p>3) I also notice that if I click on one of the methods in my code, then the method becomes the rightmost entry in the jump bar.  In order to get <code>MainWindowController(with a leading C icon)</code> to be the rightmost entry in the jump bar, I have to click on the whitespace above my methods.</p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/31198613#31198613", "question_id": 24017316, "answer_id": 31198613}, {"body": "<p><code>Pragma mark - [SOME TEXT HERE]</code> was used in <em>Objective-C to group several function together</em> by line separating.</p>\n\n<p>In <em>Swift</em> you can achieve this using <code>MARK, TODO OR FIXME</code></p>\n\n<p>i. <em>MARK :</em>  <code>//MARK: viewDidLoad</code>  </p>\n\n<p>This will create a <em>horizontal line</em> with functions grouped under viewDidLoad(shown in screenshot 1)</p>\n\n<p><a href=\"http://i.stack.imgur.com/etMuG.png\"><img src=\"http://i.stack.imgur.com/etMuG.png\" alt=\"Screenshot 1\"></a></p>\n\n<p>ii. <em>TODO :</em> <code>//TODO: - viewDidLoad</code></p>\n\n<p>This will group function under <em>TODO: - viewDidLoad</em> category (shown in screenshot 2)</p>\n\n<p><a href=\"http://i.stack.imgur.com/ltmSl.png\"><img src=\"http://i.stack.imgur.com/ltmSl.png\" alt=\"Screenshot 2\"></a></p>\n\n<p>iii. <em>FIXME :</em> <code>//FIXME - viewDidLoad</code> </p>\n\n<p>This will group function under <em>FIXME: - viewDidLoad</em> category (shown in screenshot 3)</p>\n\n<p><a href=\"http://i.stack.imgur.com/1oLFC.png\"><img src=\"http://i.stack.imgur.com/1oLFC.png\" alt=\"Screenshot 3\"></a></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/33040068#33040068", "question_id": 24017316, "answer_id": 33040068}, {"body": "<p>I comment my files MARK in the following way. I do not include a space between the // and keyword. For example:</p>\n\n<p>This makes a section: </p>\n\n<pre><code>//MARK: Comment\n</code></pre>\n\n<p>This makes a section with a seperator preceding it:</p>\n\n<pre><code>//MARK:- Another Comment\n</code></pre>\n\n<p>Also there is: </p>\n\n<pre><code>//TODO: I have to do this\n//FIXME: This is WRONG!\n</code></pre>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/34909821#34909821", "question_id": 24017316, "answer_id": 34909821}, {"body": "<pre><code>//# MARK: - Spinner Class Methods\n</code></pre>\n\n<p>Add a line between the colon and your description to insert a separator line. This helps to organize your code even more. The code and screenshot above make use of the MARK comment with a line included.</p>\n\n<ol>\n<li>//# MARK: \u2013 Text Methods (LINE) </li>\n<li>//# MARK: Text Methods (NO LINE)</li>\n</ol>\n\n<p>This only works with the MARK comment.</p>\n\n<p><a href=\"http://i.stack.imgur.com/k6qsi.png\"><img src=\"http://i.stack.imgur.com/k6qsi.png\" alt=\"enter image description here\"></a></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/35696072#35696072", "question_id": 24017316, "answer_id": 35696072}, {"body": "<pre><code>// MARK: - Navigation\n</code></pre>\n\n<p>Above is the way Apple developer using in WWDC sessions.\n<a href=\"http://i.stack.imgur.com/GLZD6.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/GLZD6.png\" alt=\"enter image description here\"></a></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/37656042#37656042", "question_id": 24017316, "answer_id": 37656042}, {"body": "<p>Xcode 8 now handles it as followed and shows up like this in the method dropdown:</p>\n\n<p><a href=\"http://i.stack.imgur.com/nnCOM.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/nnCOM.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/37871345#37871345", "question_id": 24017316, "answer_id": 37871345}, {"body": "<p>Following @NatashaTheRobot answer and using @AshFurrow post regarding <a href=\"http://artsy.github.io/blog/2016/06/24/typealias-for-great-good/\" rel=\"nofollow\">Type Aliases</a>:</p>\n\n<pre><code>import UIKit\n\nclass SwiftTableViewController: UITableViewController {\n\n    init(coder aDecoder: NSCoder!) {\n        super.init(coder: aDecoder)\n\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n    }\n}\n\nprivate typealias DataSource = SwiftTableViewController\nextension DataSource {\n    override func numberOfSectionsInTableView(tableView: UITableView?) -&gt; Int {\n        return 1\n    }\n\n    override func tableView(tableView: UITableView?, numberOfRowsInSection section: Int) -&gt; Int {\n        return 5\n    }\n\n    override func tableView(tableView: UITableView?, cellForRowAtIndexPath indexPath: NSIndexPath?) -&gt; UITableViewCell? {\n        let cell = tableView?.dequeueReusableCellWithIdentifier(\"myCell\", forIndexPath: indexPath) as UITableViewCell;\n\n        cell.textLabel.text = \"Hello World\"\n\n        return cell\n    }\n\n}\n</code></pre>\n", "title": "#pragma mark in Swift?", "tags": ["xcode", "swift"], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift/38741659#38741659", "question_id": 24017316, "answer_id": 38741659}], "link": "http://stackoverflow.com/questions/24017316/pragma-mark-in-swift", "question_id": 24017316}, {"body": "<p>I updated Eclipse with the new SDK tools (rev 23) but now when Eclipse starts I receive the error:</p>\n\n<blockquote>\n  <p>This Android SDK requires Android Developer Toolkit version 23.0.0 or above. Current version is 22.6.3.v201404151837-1123206. Please update ADT to the latest version.</p>\n</blockquote>\n\n<p>No updates were found with <strong>\"Check for updates\"</strong>. If I try <strong>\"Install new software\"</strong>, I can see the version 23, but I can't upgrade due to the following error:</p>\n\n<pre><code>Cannot complete the install because of a conflicting dependency.\nSoftware being installed: Android Development Tools 23.0.0.1245622 (com.android.ide.eclipse.adt.feature.feature.group 23.0.0.1245622)\nSoftware currently installed: Android Developer Tools 22.2.1.v201309180102-833290 (com.android.ide.eclipse.adt.package.product 22.2.1.v201309180102-833290)\nOnly one of the following can be installed at once: \n    ADT Package 22.6.3.v201404151837-1123206 (com.android.ide.eclipse.adt.package 22.6.3.v201404151837-1123206)\n    ADT Package 23.0.0.1245622 (com.android.ide.eclipse.adt.package 23.0.0.1245622)\nCannot satisfy dependency:\n    From: Android Development Tools 23.0.0.1245622 (com.android.ide.eclipse.adt.feature.feature.group 23.0.0.1245622)\n    To: com.android.ide.eclipse.adt.package [23.0.0.1245622]\nCannot satisfy dependency:\n    From: Android Development Tools 22.6.3.v201404151837-1123206 (com.android.ide.eclipse.adt.feature.group 22.6.3.v201404151837-1123206)\n    To: com.android.ide.eclipse.adt.package [22.6.3.v201404151837-1123206]\nCannot satisfy dependency:\n    From: ADT Package 22.2.1.v201309180102-833290 (com.android.ide.eclipse.adt.package.feature.group 22.2.1.v201309180102-833290)\n    To: com.android.ide.eclipse.adt.feature.group 22.2.0\nCannot satisfy dependency:\n    From: Android Developer Tools 22.2.1.v201309180102-833290 (com.android.ide.eclipse.adt.package.product 22.2.1.v201309180102-833290)\n    To: com.android.ide.eclipse.adt.package.feature.group [22.2.1.v201309180102-833290]\n</code></pre>\n\n<p>After download of the last ADT from the web site, it seems there's another problem.\nWith SDK Tools rev. 23 proguard is not installed, the folder SDK <code>dir/tools/proguard</code> is missing and other tools are missing. This version contains several bugs.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "answers": [{"body": "<p><strong>UPDATE</strong>: Google has released ADT v23.0.2. This solved many problems of previous ADT version 23.</p>\n\n<p>Step-by-step:</p>\n\n<ul>\n<li>Help -> Install New Software...</li>\n<li>For \"Work with\", select the Android source <code>https://dl-ssl.google.com/android/eclipse</code>\n<img src=\"http://i.stack.imgur.com/gkxdA.png\" alt=\"Work with Android source\"></li>\n<li>Tick ADT v23.0 for installation, then click \"Next\"</li>\n<li>Eclipse will show \"Install Remediation Page\" since there is conflict with previous version. (If it does not, see below.) Select \"Update my installation to be compatible with items being installed\" to uninstall the old version and install the new one. After that, proceed with the usual steps\n<img src=\"http://i.stack.imgur.com/CYZHN.png\" alt=\"Install remediation page\"></li>\n</ul>\n\n<p>Note: When I installed the new version of ADT, I didn't include the new version of \"Android Native Development Tools\" package. Instead, I installed the rest of packages first, and then installed \"Android Native Development Tools\". For a reason, if I try to install all the new packages including \"Android Native Development Tools\", the installation fails.</p>\n\n<p>UPDATE: If there is no \"Remediation page\", <a href=\"http://stackoverflow.com/a/9097282/755804\">the only way to remove the ADT plugin from Eclipse is to go to <code>Help &gt; About Eclipse &gt; Installation Details</code> and uninstall from there</a> But there is a risk of uninstalling eclipse itself.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24437737#24437737", "question_id": 24437564, "answer_id": 24437737}, {"body": "<p>For me it helped to delete Android 4.4W which is also API 20 and might be a cause for the conflict. So only install Android 4.4W or Android L until they fix it.</p>\n\n<p>And (again this might only be for me) it only works in Android Studio not in Eclipse ...</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24437803#24437803", "question_id": 24437564, "answer_id": 24437803}, {"body": "<p>I have done following to resolve an issue.</p>\n\n<ol>\n<li><p>Go to <a href=\"http://developer.android.com/sdk/installing/installing-adt.html\">http://developer.android.com/sdk/installing/installing-adt.html</a> and download the latest ADT ZIP file (at the bottom of page).</p></li>\n<li><p>Go to <strong>Eclipse -> help -> About Eclipse -> Installation details</strong></p></li>\n<li><p>Delete <strong>Android DDM, Android Development Tools, Hierarchy Viewer, Native Development Tools, TraceView, etc, 22.X version</strong>.</p></li>\n<li><p>Help -> Install New Software -> Add -> Archive - > Select the downloaded ZIP file in step 1.</p></li>\n<li><p>Select all the latest version of all 23 which I have deleted in step 3 and accept the license agreement.</p></li>\n</ol>\n\n<p>Restart Eclipse, and it fixes my issue.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24438136#24438136", "question_id": 24437564, "answer_id": 24438136}, {"body": "<p>On ADT bundled Eclipse I had to first uninstall the ADT and then do a fresh install.\nTo remove the ADT plugin from Eclipse go to Help > About Eclipse > Installation Details.\nSelect ADT plug-in, then click Uninstall.\nAfter uninstallation install ADT from Help > Install new software.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24438977#24438977", "question_id": 24437564, "answer_id": 24438977}, {"body": "<p><strong>DO NOT DO THIS</strong></p>\n\n<p><strong>Warning: Please see the comments below this answer. These steps have had a negative impact for many people.</strong></p>\n\n<ol>\n<li>Click Help / Install new software...</li>\n<li>Click on What is \"already installed\" (as in picture below)</li>\n<li>In the new window you can uninstall the old ADT (uninstall Android Development Tools, Android DDMS, Android Hierarchy Viewer, Android TraceView, Android Native Development Tools and Tracer for OpenGL ES)</li>\n<li>Restart Eclipse</li>\n<li>Then again click on Help / Install New Software</li>\n<li>Choose ADT... Install </li>\n</ol>\n\n<p>I hope it helps!</p>\n\n<p><img src=\"http://i.stack.imgur.com/NnOi3.jpg\" alt=\"Picture Demonstration\"></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24439028#24439028", "question_id": 24437564, "answer_id": 24439028}, {"body": "<p>I had to delete ADT and install it again.</p>\n\n<p><strong>However be warned</strong>, this caused me and one other person to have an annotations.jar missing errors in the Java Build path for certain projects, probably because it was trying to look for an old SDK, so upgrading projects is the next step I have to take.</p>\n\n<p>The errors relate to libraries mostly, Google Play Services, Facebook SDK, ActionBarCompat.</p>\n\n<p>For this step, you uninstall ADT, then put the URL back in to download them. The url is: <code>https://dl-ssl.google.com/android/eclipse</code></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24439206#24439206", "question_id": 24437564, "answer_id": 24439206}, {"body": "<p>None of the other answers worked for me using the ADT bundle published on developer.android.com. </p>\n\n<p>I ended up downloading the latest version of Eclipse (<strong>not the ADT bundle</strong>) and then installing the ADT plugin via Help > Install new software > entering <code>https://dl-ssl.google.com/android/eclipse</code> (mentioned by @RED_). </p>\n\n<p>I also had to update my workspace to point to my previous workspace, and most things seemed to be restored.</p>\n\n<p>On a side note: this seems like a good time to migrate to Android Studio...</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24440091#24440091", "question_id": 24437564, "answer_id": 24440091}, {"body": "<p>I found a solution for the problem with \"conflicting dependency\". I don't have the same page of Daniel D\u00edaz's response, but a page show \"conflicting dependency\", and I can't make anything.</p>\n\n<p>The problem is that I'm not the owner of the file. Eclipse was installed in other session (on OS&nbsp;X). I have the right to read and write the Eclipse file, but I'm not the owner. Make a \"chown\" command on all Eclipse files to solve the problem. After, I have the same result as Daniel Diaz. </p>\n\n<p>I hope this helps someone.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24442754#24442754", "question_id": 24437564, "answer_id": 24442754}, {"body": "<ul>\n<li>Just uninstall previous ADT.</li>\n<li>Go to About Eclipse -> Installation Details</li>\n<li>Uninstall all plugins which Id start with com.andoird.ide</li>\n<li>Install ADT again from the update site.</li>\n</ul>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24447821#24447821", "question_id": 24437564, "answer_id": 24447821}, {"body": "<p>If you install a new <a href=\"http://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow\">Eclipse</a> version it will work.\nHere's what I did:</p>\n\n<ol>\n<li>Installed the new Eclipse version, Luna</li>\n<li>Made a backup of the current workspace.</li>\n<li>Ran the new Eclipse, Luna, and updated the workspace</li>\n<li>Installed the <a href=\"http://developer.android.com/sdk/installing/installing-adt.html\" rel=\"nofollow\">ADT plugin</a> (Help -> Install New Software)</li>\n<li>Restarted Eclipse</li>\n<li>Done</li>\n</ol>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24448503#24448503", "question_id": 24437564, "answer_id": 24448503}, {"body": "<p><strong>NOTE: Use this approach with caution because this might break your eclipse installation.</strong> <em>(see comments)</em></p>\n\n<p>This might help you if you installed the ADT plugin <strong>manually</strong> But if you are using the eclipse from the <a href=\"https://developer.android.com/sdk/installing/index.html?pkg=adt\">Eclipse ADT Bundle</a> the below steps could break your eclipse and you may not be able to use the eclipse again!</p>\n\n<p>Go to </p>\n\n<blockquote>\n  <p>Help --> About Eclipse SDK --> Installation Details..</p>\n</blockquote>\n\n<p>Now you will see all <code>22.0</code> version and then click <code>Uninstall</code> button at bottom</p>\n\n<p>After uninstallation goto </p>\n\n<blockquote>\n  <p>Help --> Install New Software -->\n  <a href=\"http://dl-ssl.google.com/android/eclipse/\">http://dl-ssl.google.com/android/eclipse/</a></p>\n</blockquote>\n\n<p>then install all the things now it is ready</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24448709#24448709", "question_id": 24437564, "answer_id": 24448709}, {"body": "<p>After trying the approaches in other answers without success, I just installed a new bundle from <a href=\"http://developer.android.com/sdk/installing/index.html?pkg=adt\" rel=\"nofollow\">http://developer.android.com/sdk/installing/index.html?pkg=adt</a> and that worked fine.</p>\n\n<p>Do the following:</p>\n\n<ol>\n<li>As you don't want to re-download all the platforms again, copy the existing one from <em>/OLD_ANDROID_SDK_PATH/sdk/platforms</em> to <em>/NEW_ANDROID_SDK_PATH/sdk/platforms</em>.</li>\n<li>When opening the new Eclipse from the recent downloaded bundle, make sure you reuse the previous 'workspace' folder. That will ensure that all your previous settings will be remembered.</li>\n<li>After opening the new Eclipse on the previous workspace, please check if the used Android SDK is pointing to the new one (Eclipse preferences -> Android). It might be pointing to the old one, as you've reused the previews workspace settings.</li>\n</ol>\n\n<p>With these steps, you should't have to reconfigure everything, and you won't need to spend time troubleshooting this <strong>BUG</strong> on this upgrade from Google Developers.</p>\n\n<p>Good luck! ;-)</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24448771#24448771", "question_id": 24437564, "answer_id": 24448771}, {"body": "<p>After hours of struggling with this issue I finally decided to get rid of the update. I'm posting this just in case you want to go back to version 22.6.2:</p>\n\n<ol>\n<li>Open the SDK Manager</li>\n<li>Leave everything unchecked but the first option (the one with ADT version 23)</li>\n<li>Delete that package</li>\n<li>Restart Eclipse</li>\n</ol>\n\n<p>Hope this helps</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24450223#24450223", "question_id": 24437564, "answer_id": 24450223}, {"body": "<p>What I have just found is that you need to update your ADT plugin in your Eclipse (whether stand alone or ADT Bundle) before updating your build tool.</p>\n\n<p>If your Eclipse installation points to the most recent Build Tool and your Eclipse is having ADT 22.x, it will show those errors.</p>\n\n<p><strong>What worked for me: (on Ubuntu 14.04 64-bit)</strong>  </p>\n\n<ul>\n<li>Installed an older version of Eclipse and ADT (from the Bundle)</li>\n<li>This copy of Eclipse was pointing to an older SDK verion with old build tools (before 20)</li>\n<li>Updated the ADT to v23 (via archive, in my case)</li>\n<li>Pointed Eclipse to the latest version of build tools.</li>\n</ul>\n\n<p>You may not have an older copy of Eclipse and Build tools, in that case you can uninstall latest build tool from SDK Manager and install the older copy.<br>\nOnce everything starts working fine, do the above steps.</p>\n\n<p>I am trying to upload older copies of such bundles somewhere on the Internet, will update the links here, once I am done uploading.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24450781#24450781", "question_id": 24437564, "answer_id": 24450781}, {"body": "<p>If Eclipse gives an error after uninstalling the ADT plugin from your Eclipse installation, try to edit file <code>config.ini</code> in the Eclipse folder -> configuration. Find:</p>\n\n<pre><code>eclipse.application=\n</code></pre>\n\n<p>And change it to:</p>\n\n<pre><code>eclipse.application=org.eclipse.ui.ide.workbench\n</code></pre>\n\n<p>I hope it works for you too.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24453171#24453171", "question_id": 24437564, "answer_id": 24453171}, {"body": "<p>Only helped:</p>\n\n<ol>\n<li>Fresh Eclipse installation (<a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/lunar\">http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/lunar</a>)</li>\n<li>Help --> Install New Software --> <a href=\"https://dl-ssl.google.com/android/eclipse/\">https://dl-ssl.google.com/android/eclipse/</a></li>\n</ol>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24454988#24454988", "question_id": 24437564, "answer_id": 24454988}, {"body": "<p><a href=\"http://code.google.com/p/android/issues/detail?id=72419\">Google response</a>:</p>\n\n<p><strong>This is a packaging bug. The entire proguard file is missing. We'll have an update asap, but until then just copy it over from a previous version of the tools:</strong></p>\n\n<ul>\n<li><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz\">http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz</a></li>\n<li><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-windows.zip\">http://dl.google.com/android/android-sdk_r22.6.2-windows.zip</a></li>\n<li><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip\">http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip</a></li>\n</ul>\n\n<p>and copy over the following files:</p>\n\n<ul>\n<li>tools/hprof-conv </li>\n<li>tools/support/annotations.jar </li>\n<li>tools/proguard</li>\n</ul>\n\n<p>So at the end if you started from a new ADT copy by hand the files :)</p>\n\n<p><strong>Edit:</strong> with the latest ADT release, the bundle should now work with auto-update, so <strong>install these new versions</strong>:</p>\n\n<ul>\n<li>linux 64 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a></li>\n<li>linux 32 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a></li>\n<li>mac: <a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a></li>\n<li>win32: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a></li>\n<li>win64: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></li>\n</ul>\n\n<p><strong>Don't try to upgrade from previous version</strong> because it doesn\u2019t work at all.\nIf you have got problems with zipalign, it's now under build-tools and no more under tools/ so you can do a symbolic link or just copy it into the expected folder.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24455640#24455640", "question_id": 24437564, "answer_id": 24455640}, {"body": "<p>I was updating my build server today and came across the same issue. It has been reported here:\n<a href=\"https://code.google.com/p/android/issues/detail?id=72419\">https://code.google.com/p/android/issues/detail?id=72419</a></p>\n\n<p>The fix is in progress and the work around according to the project manager is:</p>\n\n<blockquote>\n  <p>Please wait for an updated version within a day or two. Until then, your workaround is to do download one of</p>\n  \n  <p><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz\">http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz</a></p>\n  \n  <p><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-windows.zip\">http://dl.google.com/android/android-sdk_r22.6.2-windows.zip</a></p>\n  \n  <p><a href=\"http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip\">http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip</a></p>\n  \n  <p>and copy over the following files:</p>\n\n<pre><code>    tools/hprof-conv\n    tools/support/annotations.jar\n    tools/proguard\n</code></pre>\n</blockquote>\n\n<p>[edit]\nzipalign was missing for me too, check to see if you need to copy this as well</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24456942#24456942", "question_id": 24437564, "answer_id": 24456942}, {"body": "<p>I was getting the same \"conflicting dependency\" error on Mac OS X 10.9.3 and simply upgrading was not an option.  What finally worked was downloading the latest <strong><em>Eclipse ADT bundle</em></strong> zip file from developer.android.com, extracting it and moving only \"eclipse\" folder to the place where my old eclipse folder was. (extracting the Eclipse ADT bundle zip file will give you \"eclipse\" and \"sdk\" folders).</p>\n\n<p>If you decide to go the same route, first make sure you know what your Workspace path is. This can be found in Preferences.  Then rename your old \"eclipse\" directory (not Eclipse.app) to something like eclipse-22.6.3, then move extracted \"eclipse\" folder into its place. Run new Eclipse.app inside, and when it asks you about Workspace, just enter the same path as you noted above.  Or it can also be set later in Preferences.</p>\n\n<p>Maybe worth adding is that to re-enable <strong>Android SDK Manager</strong> and <strong>Android Virtual Device Manager</strong> choose <em>Window -> Customize Perspective -> Command Groups Availability</em> and select <strong>Android SDK and AVD Manager</strong>. This will add these 2 items to the \"Window\" menu item for the current perspective (Java).</p>\n\n<p>I didn't move the extracted \"sdk\" folder, because I already had sdk folder in the same directory as eclipse, which I have already updated to the latest Android tools. But if it makes you feel safer, you can also rename your old sdk folder (for backup purposes) and move the freshly extracted one into its place.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24465160#24465160", "question_id": 24437564, "answer_id": 24465160}, {"body": "<p>It works for me :)</p>\n\n<p>If for some reason you installed an ADT preview and need to <strong>revert back</strong> to the current stable, you can't use the dialog to install \"new\" software since what you want is actually an older one. Instead do this:</p>\n\n<ul>\n<li>Open Help > About Eclipse... on Windows or Linux. On Mac, use the app's menu > About...</li>\n<li>Click the \"Installation Details\" button.</li>\n<li>Select the \"Installation History\" tab.</li>\n<li>Select one of the previous configurations.</li>\n<li>Click the \"Revert\" button at the bottom.</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/w3CR9.png\" alt=\"enter image description here\"></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24480207#24480207", "question_id": 24437564, "answer_id": 24480207}, {"body": "<p>WARNING</p>\n\n<p>There is now an update for ADT 23.0.1, but the Windows and Linux scripts are messed up, so wait with the upgrade!</p>\n\n<p>You could check for example tools/proguard/bin/*.sh in <a href=\"http://dl.google.com/android/android-sdk_r23.0.1-windows.zip\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r23.0.1-windows.zip</a>.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24500955#24500955", "question_id": 24437564, "answer_id": 24500955}, {"body": "<p>There is a new update available.</p>\n\n<ul>\n<li>Update your Android SDK Tool to 23.0.1</li>\n<li>Update your Eclipse. Go to <em>Help</em> -> <em>Check for update</em></li>\n<li>Then restart your Eclipse</li>\n</ul>\n\n<p>This will fix the empty src &amp; layout issue.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZGEDD.png\" alt=\"Enter image description here\"></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24503051#24503051", "question_id": 24437564, "answer_id": 24503051}, {"body": "<p>Download the ADT v23 plugin from Google and install it as local archive from the downloaded zip file in Eclipse.</p>\n\n<p><a href=\"http://developer.android.com/sdk/installing/installing-adt.html#Download\" rel=\"nofollow\">http://developer.android.com/sdk/installing/installing-adt.html#Download</a></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24523437#24523437", "question_id": 24437564, "answer_id": 24523437}, {"body": "<p>I simply went to my Android resources folder on my C:/ drive (C:/Android) deleted the 'eclipse' folder and all its contents. Downloaded Android Developer Tools once more and just moved over the 'eclipse' folder.</p>\n\n<p>Started up and everything was fine, I had updated to version 23.</p>\n\n<p>Hopefully this helps, possibly not suitable for everyone as some of you have Eclipse modifications but for someone who, like me, wanted a quick fix and get back to developing this seemed to be the easiest path.</p>\n\n<p>Regards.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24526658#24526658", "question_id": 24437564, "answer_id": 24526658}, {"body": "<p>There is no way to update an existing ADT bundle that you might have downloaded.</p>\n\n<p>You can do one of two options:</p>\n\n<ol>\n<li><p>Install Eclipse from eclipse.org and install ADT by pointing to the update site: <a href=\"https://dl-ssl.google.com/android/eclipse\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse</a></p></li>\n<li><p>Download bundles from:</p>\n\n<ul>\n<li><p>Linux 64 bit VM: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a></p></li>\n<li><p>Linux 32 bit VM: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a></p></li>\n<li><p>Mac: <a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a></p></li>\n<li><p>Windows 32 bit: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a></p></li>\n<li><p>Windows 64 bit: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></p></li>\n</ul></li>\n</ol>\n\n<p>Starting with ADT bundle 23.0.2, you should be able to update to future versions of ADT.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24549211#24549211", "question_id": 24437564, "answer_id": 24549211}, {"body": "<p>I faced the same problem and solved it. You need to uninstall the Android plugin entirely from within Eclipse (from the \"about\" section..), including trace view..</p>\n\n<p>Then added the ADT Plugin again (<a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a>) and install it.</p>\n\n<p>The problem is solved!</p>\n\n<p>I guess it's a bug with the SDK manager or ADT Plugin update mechanism...</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24549723#24549723", "question_id": 24437564, "answer_id": 24549723}, {"body": "<p>There is a lot of confusion going around in this thread. There are two solutions depending on how you installed ADT.</p>\n\n<ol>\n<li><p>If you installed the ADT plugin manually then I believe you can use the \"Delete ADT\" -> \"Install New Software\" approach.</p></li>\n<li><p>If you are using the ADT Bundle then do not follow that solution! You will break Eclipse. Here is an update from a Google member - read #18: </p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=72912\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=72912</a></p></li>\n</ol>\n\n<p>You must download a new version of the ADT-Bundle (yep, it's frustrating!).</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24556377#24556377", "question_id": 24437564, "answer_id": 24556377}, {"body": "<p>I have followed instructions found here and tried to fix my old Eclipse + SDK + ADT, but with no luck. The basic problem keeps beeing the same; I still get the error message:</p>\n\n<blockquote>\n  <p>This Android SDK requires Android Developer Toolkit version 23.0.0 or above. Current version is 22.6.3.v201404151837-1123206. Please update ADT to the latest version.</p>\n</blockquote>\n\n<p>But my eclipse can't find updates and can't install ADT 23 as new software. So I can't compile my old project in my workspace.</p>\n\n<p>I tested a fresh eclipode bundle for Windows&nbsp;8, followed instructions found from Android's developers page, step by step, and it worked fine. So it seems that the Windows Eclipse build is not broken. But I wan't use my Linux installation, my old Ubuntu 10. It seems obvious, that to getting the Linux Eclipse environment working again, I must install a new Eclipse bundle, my old Eclipse won't ever see updates for ADT 23 to get things working. Again, these intructions are for Linux developers that wan't to get their old workspace projects working again without changes in the developing environment, except you must install a new Eclipse bundle, but after that your projects will work as well as before the version 23 SDK/ADT-mess.</p>\n\n<ol>\n<li>If you are an Android developer you want to be sure, that you developing environment won't be messed up. Backup:\n<ul>\n<li>~./android (Here are your developer keys)</li>\n<li>Your old SDK dirrectory</li>\n<li>Your workspace</li>\n</ul></li>\n<li>Download the Eclipse bundle, <a href=\"http://developer.android.com/sdk/index.html\" rel=\"nofollow\">Get the Android SDK</a>.</li>\n<li>Follow instructions, create directory <code>~/Development</code> and unzip bundle there. You get Eclipse and SDK directories.</li>\n<li>Start Eclipse from that directory</li>\n<li>Eclipse asks for a workspace. You can give it the old one.</li>\n<li>In Eclipse settings set SDK as downloaded SDK.</li>\n<li>Start Android SDK manager and download tools, Android versions you use and extras said in the Android developer tool page instructions</li>\n<li>You should now be ready to compile your old projects again, but for me it was not that simple. My old projects had errors. So open problems windows and you get to know that annotation.jar is missing. So you must copy <code>annotations.jar</code> from your old SDK, from, the backup you made, or from the older <code>sdk.zip</code> explained in this thread to &lt;new SDK>/tools/support/annotations.jar</li>\n</ol>\n\n<p>After that I could use my old workspace in Ubuntu and compile and launch applications to Android devices. It was that simple. Thanks Google ;-(</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24600853#24600853", "question_id": 24437564, "answer_id": 24600853}, {"body": "<p>There are many possible answers to this question, I think it all depends on what your environment and installation procedure is. I'm running into the same issue as stated multiple times above. Cannot install ADT 23 because of conflict dependency.</p>\n\n<p>This is my environment:</p>\n\n<p>I'm running Windows 7 64-bit with Eclipse 4.2.2. I installed ADT through Help -> Install New Software. </p>\n\n<p>My solution:</p>\n\n<p>Help -> About Eclipse -> Uninstall -> ALL_ANDROID. Then I simply installed each of the ADT 23 tools through the \"Install New Software\". </p>\n\n<p>Note: This is with the LATEST ADT release.</p>\n\n<p>Hope this helps!</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24726143#24726143", "question_id": 24437564, "answer_id": 24726143}, {"body": "<p>I am using Eclipse Kepler and this is how i solved my problem.</p>\n\n<p>Goto Help -> Install new software -> Click Add.</p>\n\n<p>In the popup, give any name (i named it as Eclipse ADT Plugin), and in the link's place, use <a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a></p>\n\n<p>Once you click OK, you will be displayed with new packages that will be installed and old packages that will be deleted. Don't worry about these packages. Click ok.</p>\n\n<p>New packages will be installed and this should solve your problem.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24749910#24749910", "question_id": 24437564, "answer_id": 24749910}, {"body": "<p>It's working to uninstall the old Files, but you don't have to restart Eclipse. After the uninstall process, install the new software and then restart Eclipse. </p>\n\n<p>It was quite simple and works for me. </p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24752656#24752656", "question_id": 24437564, "answer_id": 24752656}, {"body": "<ul>\n<li><p>I solved these problem by deleting the Adt Bundle Which was shown\nerror.</p></li>\n<li><p>Then <em>Extract</em> the new adt bundle to solve these problem.After that just updated the Android 4.4.2(API 19) in Android Sdk Manager.</p></li>\n<li><p>you are getting these <code>error</code> because of updating the <code>Android Sdk\nTools 22.6.2</code>.Below I shown the  Screenshot of it.</p>\n\n<p><img src=\"http://i.stack.imgur.com/xZOlr.png\" alt=\"enter image description here\"></p></li>\n<li><p>Install everything as shown in the screenshot itself.Then these\nproblem will not occur again.</p></li>\n</ul>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24754659#24754659", "question_id": 24437564, "answer_id": 24754659}, {"body": "<p><a href=\"http://bazalabs.com/solution-for-the-update-problem-of-android-developer-toolkit-version-23-0-0-or-above/\" rel=\"nofollow\">solution</a></p>\n\n<p>This is solution is the correct way of how you should change the files and keep your Eclipse ADT and not downloading a new one. Hope it helps everyone.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24762403#24762403", "question_id": 24437564, "answer_id": 24762403}, {"body": "<p>This is what they are saying about this:</p>\n\n<p><strong>Ok, guys, sorry about all this trouble, and we apologize for the messed up releases. Here's the summary:</strong></p>\n\n<ul>\n<li>There is no way to update an existing ADT bundle that you might have downloaded.</li>\n<li><p>You can do one of two options:</p>\n\n<ol>\n<li><p>Install eclipse from eclipse.org and install ADT by pointing to the update site: <a href=\"https://dl-ssl.google.com/android/eclipse\">https://dl-ssl.google.com/android/eclipse</a></p></li>\n<li><p>Download bundles from here:</p></li>\n</ol></li>\n</ul>\n\n<p>linux 64 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a>\nlinux 32 bit vm: <a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a>\nmac: <a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a>\nwin32: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a>\nwin64: <a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></p>\n\n<p>Starting with ADT bundle 23.0.2, you should be able to update to future versions of ADT.</p>\n\n<p><strong>Source:</strong>  <a href=\"https://code.google.com/p/android/issues/detail?id=72912\">https://code.google.com/p/android/issues/detail?id=72912</a></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24777848#24777848", "question_id": 24437564, "answer_id": 24777848}, {"body": "<p>The answers already provided display how much the solution depends on your particular environment. I initially tried upgrading a Windows 8.1 machine; when that failed I tried upgrading a Vista PC. When that failed, I tried Android Studio on the Win 8.1. The problems that we all are encountering are resulting in different solutions because of version conflicts between O/S, Eclipse, Java and, of course, the Google debacle.</p>\n\n<p>Here's what I did:\nI gave up on the bundle. For Vista I installed Eclipse 4.3.2 (Kepler) and downloaded the SDK installer which loaded 23.0.2. Already had jdk1.6 installed. Only gotcha left was to use the SDK manager to download my minimum platform (API 8) - V20 isn't that far backward compatible. But at least now I am not totally dead in the water.</p>\n\n<p>For Windows 8.1 Android Studio seemed to install. But when I tried to install my Project, it stopped when it complained that google-play-services_lib was not included. I had not been using it, so it appears this is a requirement of Android Studio. Really?</p>\n\n<p>So I went back to Eclipse. I had installed Luna and jdk8u5 but then tried to revert to what worked for Vista. jdk1.6 is not available from Oracle so I had to download 1.7 and hope. Downloaded the SDK which again got 23.0.2. So far so good. </p>\n\n<p>Problem then was installer-r23.0.2-windows apparently is hardwired to find JDK at 'C:\\Windows\\system32\\java.exe':[2]. I set the PATH to jdk1.7.0_65\\bin and set JAVA_HOME environment variable to it also. Neither worked. Installer still choked on java8 in Windows\\System32.</p>\n\n<p>So I renamed C:\\Windows\\System32\\java.exe to disable it and the installer-r23 found C:\\Program Files\\Java\\jre8\\bin\\java.exe. The installer completed successfully. Why it didn't like the same file (V8.0.5.13) in Windows\\System 32 is a mystery to me but maybe a clue to someone.</p>\n\n<p>Still had to download API 8, but I thought I was operational on the 8.1 machine too.</p>\n\n<p>Except for getting Eclipse to recognize my Motorola RazrM as a USB-attached device. That required going to the Win8.1 DeviceManager and updating the Mot Composite ADB Interface in ADB Interface. That required a download of the Motorola Device Manager. Still the phone did not appear in the Eclipse Devices View. It was waiting for a new confirmation on the phone that apparently has been added to the latest ADT. While I needed to upgrade the driver on my Samsung 10.1 tablet, it had not added the connection request confirmation.</p>\n\n<p>Finally, the nightmares were over. My biggest problem appears to have been leaping to the latest versions - and then trying to regress when 23.0 broke. I think I learned a hard lesson. But, really, does it have to be this hard???</p>\n\n<p>Hope this helps. </p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24828896#24828896", "question_id": 24437564, "answer_id": 24828896}, {"body": "<p>Complete Procedure to <strong>download ADT , configure it in eclipse and fixing dependency issues</strong>:</p>\n\n<p><strong>Download ADT:-</strong></p>\n\n<ol>\n<li><p>Open this link : <a href=\"https://dl-ssl.google.com/android/eclipse/\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse/</a></p></li>\n<li><p>Download ADT-23.0.2.zip which is the latest version in zip folder and don't unzip it.</p></li>\n</ol>\n\n<p><strong>Configure ADT in eclipse:-</strong></p>\n\n<ol>\n<li>Open Eclipse -> Go to Help -> Install New Software... </li>\n<li>Click on ADD button on the right.</li>\n<li>Add Repository dialog will open.</li>\n<li>In Name : write ADT Plugin</li>\n<li>In Location : give path of ADT zipped folder which you have downloaded by clicking on <strong>Archive..</strong> button.</li>\n</ol>\n\n<p>**An error may come as Duplicate location , to solve it follow the below steps:</p>\n\n<p>1.1 Close the current diolog box.</p>\n\n<p>1.2 Click on <strong>Available software sites</strong> link. and select the entry which has same location as you have added zipped file or ADT Plugin entry. After selecting , remove it.</p>\n\n<p>1.3 Then again , come to the previous ADD dialog.</p>\n\n<p>1.4 Again, add Name and Location in Add Repository dialog box.</p>\n\n<p><strong>Select all the options in Development Tools and Click on Next to install the ADT completely.</strong></p>\n\n<p><strong>Fixing dependency issues in ADT :</strong> After all the above steps , dependency issues may come to solve it follow the following steps:</p>\n\n<ol>\n<li><p>Click on <strong>Already installed</strong> in Install dialog box.</p></li>\n<li><p>Click on Installed Software Tab , now select all the development tools of previous version looking at versions and uninstall them.</p></li>\n</ol>\n\n<p>Now all the issues of Dependency issues would evaporate and follow the Next , Next wizard to install:)</p>\n\n<p><strong>All the best. It will definitely help.</strong></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/24990730#24990730", "question_id": 24437564, "answer_id": 24990730}, {"body": "<p><strong>How to update from 22.xx.x to 23.0.2 (My solution).  This will beat the <em>dependency issues</em></strong></p>\n\n<p>I was suffering from this issue for days, and I have tried every single solution on this link, but no luck. </p>\n\n<p>I finally figured out a solution that actually works!</p>\n\n<p>Please note that this solution works in Windows 7 (64bit).</p>\n\n<p>It should probably work for other Windows operation system.</p>\n\n<p>I am just trying to help, so please don't down-vote me if it doesn't work for your situation.</p>\n\n<p>Here we go:</p>\n\n<p><strong>1</strong> - download the latest ADT bundle from</p>\n\n<p><a href=\"http://developer.android.com/sdk/index.html#download\" rel=\"nofollow\">http://developer.android.com/sdk/index.html#download</a></p>\n\n<p><strong>2</strong> - unzip it and open \"eclipse\" folder --> \"plugins\" folder</p>\n\n<p><strong>3</strong> - Now go to your old eclipse and open \"eclipse\" folder --> \"plugins\" folder, and copy everything inside.</p>\n\n<p><strong>4</strong> - Now paste them into the \"plugins\" folder of the (NEW ECLIPSE), but DO NOT overwrite anything.</p>\n\n<p><strong>5</strong> - While inside of the \"plugins\" folder of your new eclipse, do the search. Type in 22. (notice 22 with a dot) and hit enter.</p>\n\n<p><strong>6</strong> - The search result will show up all the files or folders with .....22.6...... For example,</p>\n\n<p>com.android.ide.eclipse.adt_<strong>22.6.2</strong>.v201403212031-1085508</p>\n\n<p><strong>7</strong> - Highlight all of these files/folders and hit delete key.</p>\n\n<p><strong>8</strong> - Make sure to update your old API/SDK to the latest version and load this sdk directory to work with your new eclipse.</p>\n\n<p><strong>or</strong></p>\n\n<p>You can watch this video, which shows you how to move all your SDK/API to your new SDK folder. Please give him credit for making this video.</p>\n\n<p>Link: <a href=\"https://www.youtube.com/watch?v=jPZpJdnbbN0\" rel=\"nofollow\">https://www.youtube.com/watch?v=jPZpJdnbbN0</a></p>\n\n<p>I have not tried to update from any other ADT versions, but I think it should work for any old ADT versions too....</p>\n\n<p><strong><em>Don't forget to backup stuff before attempting.</em></strong></p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/25049891#25049891", "question_id": 24437564, "answer_id": 25049891}, {"body": "<p>I did this to solve the same issue (in OS X):</p>\n\n<ol>\n<li>Help > Install New Software > Add or select this repository \"<a href=\"http://download.eclipse.org/eclipse/updates/4.3\" rel=\"nofollow\">http://download.eclipse.org/eclipse/updates/4.3</a>\" </li>\n<li>Under \"Eclipse platform\" select the newest version of Eclipse.</li>\n<li>The installer will ask if you want to uninstall the ADT, click finish.</li>\n<li>Restart Eclipse and install ONLY the ADT 23 using this repository: <a href=\"https://dl-ssl.google.com/android/eclipse\" rel=\"nofollow\">https://dl-ssl.google.com/android/eclipse</a>.</li>\n<li>Restart Eclipse and install DDMS, Hierarchy Viewer, Trace View etc.</li>\n<li>Restart Eclipse again.</li>\n</ol>\n\n<p>Hope it helps.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/25212793#25212793", "question_id": 24437564, "answer_id": 25212793}, {"body": "<p>You need to uninstall the old version and install 23</p>\n\n<p>uninstall:\nHelp > about Eclipse SDK > Installation Details \nselect Android related packages to uninstall</p>\n\n<p>And then install V23.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/25216079#25216079", "question_id": 24437564, "answer_id": 25216079}, {"body": "<p>This worked for me. I kept upgrading to version 23.02 (or 23.03 if presented) using a new install of ADT bundle, and migrating the your original workspace across and add the patches. <strong>This is the procedure for ADT Bundle only.</strong></p>\n\n<p>(Backup your workspace first)</p>\n\n<p>1/ install latest adt bundle from google. (For some reason using Googles download page just goes around in a loop on Chrome!?!)</p>\n\n<ul>\n<li>linux 64 bit vm:<a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</a></li>\n<li>linux 32 bit vm:<a href=\"http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-linux-x86-20140702.zip</a>    </li>\n<li>mac:<a href=\"http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-mac-x86_64-20140702.zip</a></li>\n<li>win32:<a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86-20140702.zip</a></li>\n<li>win64:<a href=\"http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip\" rel=\"nofollow\">http://dl.google.com/android/adt/adt-bundle-windows-x86_64-20140702.zip</a></li>\n</ul>\n\n<p>2/ download the patch from here:</p>\n\n<ul>\n<li>linux <a href=\"http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r22.6.2-linux.tgz</a></li>\n<li>Windoze <a href=\"http://dl.google.com/android/android-sdk_r22.6.2-windows.zip\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r22.6.2-windows.zip</a></li>\n<li>Mac <a href=\"http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip\" rel=\"nofollow\">http://dl.google.com/android/android-sdk_r22.6.2-macosx.zip</a></li>\n</ul>\n\n<p>3/ Apply the patch as per <a href=\"https://code.google.com/p/android/issues/detail?id=72419#c12\" rel=\"nofollow\">Googles (poorly described) instructions</a></p>\n\n<p><i><br>...and copy over the following files:</p>\n\n<p>tools/hprof-conv<br>\ntools/support/annotations.jar<br>\ntools/proguard<br></i></p>\n\n<p>Which means => Copy the file only of tools/hprof-conv<br>\nWhich means => Copy the file only of tools/support/annotations.jar<br>\nWhich means => Copy the directory and all contents for tools/proguard<br></p>\n\n<p>3/ Point your old workspace to the new install on startup.\n(Projects will still come up with errors, don't worry)</p>\n\n<p>4/ select Help-> Install new software, select update site, and select version 23.03 when prompted.</p>\n\n<ul>\n<li>Check the update sites, and edit the one for google from https => http like this:\n<img src=\"http://i.stack.imgur.com/EcT2N.jpg\" alt=\"Change to &quot;http&quot;\">. This seems to make Eclipse Updater build a new update profile that avoided download errors. You might also get \"unsigned\" prompt warning prompts from Windoze but just \"Allow Access\" to prevent blocking.</li>\n</ul>\n\n<p>5/ If you still get errors on references to \"android.R\", this is because you may not have the appropriate \"platform build tools\". Check the \"Android SDK Manager\" for which build tools you have like this:\n<img src=\"http://i.stack.imgur.com/hq6Bc.jpg\" alt=\"enter image description here\">\nAlso check your \"Android\" build for the project to make sure you have the compatible Android API.</p>\n\n<p>Version 23.02 should be downloaded, and your projects should now compile. </p>\n\n<p>Google have abandoned all the UI trimmings for Eclipse ADT (ie you'll see the Juno splash). I thought this would be a problem but it seems ok. I think it shows how desperate Google were to get the fix out. Given that Android studio is not far away Google don't want invest any more time into ADT. I suppose this is what you get with \"free\" software. Hopefully the adults are back in charge now, and Google Studio won't be such a disaster.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/25357091#25357091", "question_id": 24437564, "answer_id": 25357091}, {"body": "<p>Based on win7.\nEclipse \nVersion: 4.2.2\nBuild id: M20130204-1200</p>\n\n<p>For those who broke Eclipse after trying to uninstall ADT plugin.</p>\n\n<p>You need to remove all <em>android</em> folder/jars from plugin folder and features folder.</p>\n\n<p>Then check your config.ini in /configuration. Probably you have these lines:</p>\n\n<pre><code>eclipse.product=\n</code></pre>\n\n<p>...</p>\n\n<pre><code>eclipse.application=\n</code></pre>\n\n<p>change them like this:</p>\n\n<pre><code>eclipse.product=org.eclipse.platform.ide\neclipse.application=org.eclipse.ui.ide.workbench\n</code></pre>\n\n<p>Maybe needed to run your eclipse from command line:</p>\n\n<pre><code>eclipsec.exe -clean.\n</code></pre>\n\n<p>Then I could install the newest ADT plugin, without needing to download whole eclipse packages and loosing all configuration/plugins.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/25423839#25423839", "question_id": 24437564, "answer_id": 25423839}, {"body": "<p>I found these instructions in a comment.</p>\n\n<p>Download the newest version of ADT and use your existing workspace.  This is actually the least pain-full upgrade you'll ever do.  It didn't mess with the .android folder so I still had my original debug key.  Only things missing were a couple of add ons I hardly ever use and they are easily installed into the new version.  </p>\n\n<p>Note don't install into your existing adt folder create a new folder so you can still fall back if the new install doesn't work.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/26237056#26237056", "question_id": 24437564, "answer_id": 26237056}, {"body": "<p>The prefect answers is. Enter the follow path,copy all of them\n<code>Macintosh HD \u25b8 \u5e94\u7528\u7a0b\u5e8f \u25b8 adt-bundle-mac \u25b8 sdk \u25b8 platform-tools</code>\nthen parse into  <code>Macintosh HD \u25b8 \u5e94\u7528\u7a0b\u5e8f \u25b8 adt-bundle-mac \u25b8 sdk \u25b8 tools</code>,\nlast,edit the line <code>plugin.version=23.0.0</code> of file <code>Macintosh HD \u25b8 \u5e94\u7528\u7a0b\u5e8f \u25b8 adt-bundle-mac \u25b8 sdk \u25b8 tools \u25b8plugin.prop</code> ,such as <code>plugin.version=21.0.0</code>.\n  restart eclipse.everything is all-right.</p>\n", "title": "Update Eclipse with Android development tools v. 23", "tags": ["java", "android", "eclipse", "adt"], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23/27496105#27496105", "question_id": 24437564, "answer_id": 27496105}], "link": "http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23", "question_id": 24437564}, {"body": "<p>Will Swift-based applications work on <a href=\"http://en.wikipedia.org/wiki/OS_X_Mavericks\">OS X 10.9</a> (Mavericks)/iOS&nbsp;7 and lower?</p>\n\n<p>For example, I have a machine running <a href=\"http://en.wikipedia.org/wiki/OS_X_Mountain_Lion\">OS X 10.8</a> (Mountain Lion), and I am wondering if an application I write in Swift will run on it.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "answers": [{"body": "<p>Swift uses the same runtime as <a href=\"http://en.wikipedia.org/wiki/Objective-C\">Objective-C</a> and can even live side-by-side Objective-C in the same application (as per the WWDC 2014 keynote).</p>\n\n<p>This will need to be checked/verified using <a href=\"http://en.wikipedia.org/wiki/Xcode\">Xcode</a> 6 and the new SDK to find a final answer.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24001974#24001974", "question_id": 24001778, "answer_id": 24001974}, {"body": "<p>I just tested it for you, Swift applications compile into standard binaries and can be run on OS X 10.9 and iOS 7.</p>\n\n<hr>\n\n<p>Simple Swift application used for testing:</p>\n\n<pre><code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool {\n    self.window = UIWindow(frame: UIScreen.mainScreen().bounds)\n\n    var controller = UIViewController()\n    var view = UIView(frame: CGRectMake(0, 0, 320, 568))\n    view.backgroundColor = UIColor.redColor()\n    controller.view = view\n\n    var label = UILabel(frame: CGRectMake(0, 0, 200, 21))\n    label.center = CGPointMake(160, 284)\n    label.textAlignment = NSTextAlignment.Center\n    label.text = \"I'am a test label\"\n    controller.view.addSubview(label)\n\n    self.window!.rootViewController = controller\n    self.window!.makeKeyAndVisible()\n    return true\n}\n</code></pre>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24002461#24002461", "question_id": 24001778, "answer_id": 24002461}, {"body": "<p>Apple has announced that Swift apps will be backward compatible with iOS 7 and OS X Mavericks. The WWDC app is written in Swift.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24005168#24005168", "question_id": 24001778, "answer_id": 24005168}, {"body": "<p>Swift code can be deployed to OS X 10.9 and iOS 7.0. It will usually crash at launch on older OS versions.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24010399#24010399", "question_id": 24001778, "answer_id": 24010399}, {"body": "<p>While code confirms it, Apple itself has said that Swift will be compatible on iOS 7 and Mavericks in their technical keynote (<em>State of the platforms</em>, session 102, around the 34&nbsp;min 00&nbsp;sec mark) at <a href=\"https://en.wikipedia.org/wiki/Apple_Worldwide_Developers_Conference#2010s\">WWDC 2014</a>.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24024111#24024111", "question_id": 24001778, "answer_id": 24024111}, {"body": "<p>I read all answers that said: No, Swift does not work with less than iOS&nbsp;7. But I said <strong>YES</strong>, I just created a Swift project that does run in Xcode&nbsp;5 with 6.0 deployment target.</p>\n\n<ul>\n<li>I just create a demo project in <strong>Xcode&nbsp;6 BETA</strong> with the Swift programming language selected.</li>\n<li>Close Xcode&nbsp;6 beta, and I open this demo project in Xcode&nbsp;5 with deployment target 6.0</li>\n<li>And also select simulator 6.1.</li>\n</ul>\n\n<p>Then that project runs well in simulator 6.1. My Mac&nbsp;OS&nbsp;X is 10.9.3, so I said yes, that runs in lower than <strong>iOS&nbsp;7. with 10.9.3 Mac&nbsp;OS&nbsp;X</strong>.</p>\n\n<p>Here it is a screenshot of the simulator:</p>\n\n<p><img src=\"http://i.stack.imgur.com/jRymf.png\" alt=\"Enter image description here\"></p>\n\n<p><strong>Here is a demo as well</strong>: <a href=\"http://www.filedropper.com/demo_5\">http://www.filedropper.com/demo_5</a></p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24038727#24038727", "question_id": 24001778, "answer_id": 24038727}, {"body": "<h3>Update - As per  Xcode 6 Beta 4</h3>\n\n<blockquote>\n  <h3>iOS 7 and OS X 10.9 minimum deployment target</h3>\n  \n  <p>The Swift compiler and Xcode now enforce a minimum deployment target of iOS 7 or OS X \n  Mavericks. Setting an earlier deployment target results in a build failure.  </p>\n</blockquote>\n\n<p><a href=\"http://adcdownload.apple.com//Developer_Tools/xcode_6_beta_4_o2p8fz/xcode_6_beta_4_release_notes.pdf\">From Xcode 6 release note</a>  </p>\n\n<p><strong>So my previous answer(Shown below) will not be applicable to any further development. Swift will no longer available for iOS6 and below</strong> </p>\n\n<hr>\n\n<p>A Swift application can be run on iOS&nbsp;6. Even though many people are saying that Swift will support only iOS 7+ and OS&nbsp;X 10.9+, from my experience it's not.</p>\n\n<p><strong><em>I have tested a simple application written completely in Swift in an iOS&nbsp;6 device. It works perfectly fine</em></strong>. As Apple says, Swift code is binary compatible with Objective-C code. It uses the same compiler and runtime to create the binary.</p>\n\n<p>Here is the code I have tested:</p>\n\n<pre><code>import UIKit\n\nclass ViewController: UIViewController {\n\n    override func viewDidLoad() {\n\n        super.viewDidLoad()\n\n        let button   = UIButton.buttonWithType(UIButtonType.System) as UIButton\n        button.frame = CGRectMake(100, 100, 100, 50)\n        button.backgroundColor = UIColor.greenColor()\n        button.setTitle(\"Test Button\", forState: UIControlState.Normal)\n        button.addTarget(self, action: \"buttonTapped:\", forControlEvents: UIControlEvents.TouchUpInside)\n\n        self.view.addSubview(button)\n    }\n\n    func buttonTapped(sender: UIButton!) {\n        println(\"buttonTapped\")\n    }\n}\n</code></pre>\n\n<p>It is a simple application, just adding a button programmatically. My application contains only two files, <code>AppDelegate.swift</code> and <code>ViewController.swift</code>.</p>\n\n<p>So if you are not using any new APIs added as part of the iOS&nbsp;8 SDK or some Swift specific APIs (corresponding API is not available for Objective-C) your application will seamlessly work on iOS&nbsp;6 or later (tested and working), even on iOS&nbsp;5 (not tested). Most of the APIs in Swift are just the replacement of the existing Objective-C APIs. In fact they are the same in binary.  </p>\n\n<p><strong><em>Note: As per Xcode 6 beta 4 for swift apps deployment target should be iOS 7 or OS X 10.9(see the above update). So swift will no longer available for iOS6 and below</em></strong>  </p>\n\n<hr>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24038997#24038997", "question_id": 24001778, "answer_id": 24038997}, {"body": "<p>Try the following code:</p>\n\n<p>It's working without StoryBoard:</p>\n\n<pre><code>func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool {\n    self.window = UIWindow(frame: UIScreen.mainScreen().bounds)\n    self.window!.backgroundColor = UIColor.whiteColor()\n\n    // Create a nav/vc pair using the custom ViewController class\n\n    let nav = UINavigationController()\n    let vc = ViewController(nibName: \"ViewController\", bundle: nil)\n\n    // Push the vc onto the nav\n    nav.pushViewController(vc, animated: false)\n\n    // Set the window\u2019s root view controller\n    self.window!.rootViewController = nav\n\n    // Present the window\n    self.window!.makeKeyAndVisible()\n    return true\n}\n</code></pre>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24040184#24040184", "question_id": 24001778, "answer_id": 24040184}, {"body": "<p>It appears Swift applications <strong>don't</strong> run on <strong>OS X 10.7</strong>. I just created a simple GUI application (a view, a lable, a button) which runs fine on Mavericks. The base SDK is set to 10.9 and the deployment target to 10.7. I copied that application from the DerivedData folder over to my 10.7 virtual machine, and it crashs when starting, show this error:</p>\n\n<pre><code>Crashed Thread:  0\n\nException Type:  EXC_BREAKPOINT (SIGTRAP)\nException Codes: 0x0000000000000002, 0x0000000000000000\n\nApplication Specific Information:\ndyld: launch, loading dependent libraries\n\n    Dyld Error Message:\n\n  Library not loaded: /System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics\n  Referenced from: /Users/USER/Desktop/Swift-Test.app/Contents/MacOS/../Frameworks/libswiftAppKit.dylib\n  Reason: image not found\n\nBinary Images:\n       0x109c65000 -        0x109c6afff +private.Swift-Test (1.0 - 1) &lt;649695D0-58FD-3D02-9176-2D40D4E711F2&gt; /Users/USER/Desktop/Swift-Test.app/Contents/MacOS/Swift-Test\n       0x109c83000 -        0x109dbffff +libswift_stdlib_core.dylib (1.0 - 600.0.34.4.5) &lt;10AAC369-9404-321D-A892-49F65856D7AF&gt; /Users/USER/Desktop/Swift-Test.app/Contents/Frameworks/libswift_stdlib_core.dylib\n...\n</code></pre>\n\n<p>However this message is irritating, since there's certainly a CoreGraphics library in this VM. Other applications that make heavy use of CoreGraphics work just fine.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24118124#24118124", "question_id": 24001778, "answer_id": 24118124}, {"body": "<p>I tested running a bare-bone, Swift-based app on an iPod Touch (3rd gen) device. It appears Swift-based apps <strong>don't</strong> work with iOS 5.x but <strong>do</strong> work with iOS 6.x.</p>\n\n<p>Here's what shows up in the debug log when I tried to launch the test app with iOS 5.0.1:</p>\n\n<pre><code>dyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswift_stdlib_core.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftCoreGraphics.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftDarwin.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftDispatch.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftFoundation.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftObjectiveC.dylib with errno=1\ndyld: F_ADDFILESIGS failed for /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswiftUIKit.dylib with errno=1\ndyld: Symbol not found: _OBJC_CLASS_$_NSObject\n  Referenced from: /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswift_stdlib_core.dylib\n  Expected in: /usr/lib/libobjc.A.dylib\n in /private/var/mobile/Applications/59E31E79-9525-43B0-9DF6-8FEF3C0080F1/SwiftTestApp.app/Frameworks/libswift_stdlib_core.dylib\n</code></pre>\n\n<p>For iOS 6.1.6, the app runs fine without displaying those error messages.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24129563#24129563", "question_id": 24001778, "answer_id": 24129563}, {"body": "<p>I also tried a very simple app on 10.8 (one button, sets text on a label).  It crashed at startup, as Greg Parker stated:</p>\n\n<pre><code>Dyld Error Message:\n  Symbol not found: __dispatch_source_type_memorypressure\n  Referenced from: /Volumes/*/SwifTest.app/Contents/MacOS/../Frameworks/libswiftDispatch.dylib\n  Expected in: /usr/lib/libSystem.B.dylib\nin /Volumes/*/SwifTest.app/Contents/MacOS/../Frameworks/libswiftDispatch.dylib\n</code></pre>\n\n<p>(This was using a deployment target of 10.7)</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24129850#24129850", "question_id": 24001778, "answer_id": 24129850}, {"body": "<p>Swift applications are supported on <strong>iOS 7 and above</strong> as stated in Beta 4 release notes. <strike>iOS 6.0, 6.1, 7.0, 7.1, 8.0 in Xcode 6 Beta</strike></p>\n\n<p>Swift applications are supported on platforms <strong>OS X 10.9 and above</strong>. <strike>OS X 10.4 to 10.10 in Deployment Target. I have tested on targeting 10.5 to 10.10, and running on 10.9.3</strike></p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24292164#24292164", "question_id": 24001778, "answer_id": 24292164}, {"body": "<p>This is the post I read from apple Swift blog, might be helpful:</p>\n\n<h2><strong>App Compatibility</strong>:</h2>\n\n<p>If you write a Swift app you can trust that your app will work well into the future. In fact, you can target back to <strong><em>OS X Mavericks or iOS 7</em></strong> with that same app. This is possible because Xcode embeds a small Swift runtime library within your app's bundle. Because the library is embedded, your app uses a consistent version of Swift that runs on past, present, and future OS releases.</p>\n\n<h2>Binary Compatibility and Frameworks:</h2>\n\n<p>While your app's runtime compatibility is ensured, the Swift language itself will continue to evolve, and the binary interface will also change. To be safe, all components of your app should be built with the same version of Xcode and the Swift compiler to ensure that they work together.</p>\n\n<p>This means that frameworks need to be managed carefully. For instance, if your project uses frameworks to share code with an embedded extension, you will want to build the frameworks, app, and extensions together. It would be dangerous to rely upon binary frameworks that use Swift \u2014 especially from third parties. As Swift changes, those frameworks will be incompatible with the rest of your app. When the binary interface stabilizes in a year or two, the Swift runtime will become part of the host OS and this limitation will no longer exist.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/24824608#24824608", "question_id": 24001778, "answer_id": 24824608}, {"body": "<h2>In brief:</h2>\n\n<p>Swift based applications can target back to <strong>OS X Mavericks</strong> or <strong>iOS 7</strong> with that same app.</p>\n\n<h2>How is it possible ?</h2>\n\n<p>Xcode embeds a <strong>small Swift runtime library within your app\u2019s bundle</strong>. Because the library is embedded, your app uses a consistent version of Swift that runs on past, present, and future OS releases.</p>\n\n<h2>Why should I trust this answer ?</h2>\n\n<p>Because I am not saying this answer as one apple guy told me in twitter or I wrote hello world and tested it.</p>\n\n<p>I took it from <a href=\"https://developer.apple.com/swift/blog/?id=2\">apple developer blog</a>.</p>\n\n<p>so you can trust this.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/26408879#26408879", "question_id": 24001778, "answer_id": 26408879}, {"body": "<p>There seems to be a lot of old answers here so I just wanted to post the official response from the Swift team. Swift is backwards compatible with OS X Mavericks and iOS 7</p>\n\n<p><a href=\"https://developer.apple.com/swift/blog/\">https://developer.apple.com/swift/blog/</a></p>\n\n<p>Jul 11, 2014</p>\n\n<p>Compatibility</p>\n\n<p>One of the most common questions we heard at WWDC was, \u201cWhat is the compatibility story for Swift?\u201d. This seems like a great first topic.</p>\n\n<p>App Compatibility\nSimply put, if you write a Swift app today and submit it to the App Store this Fall when iOS 8 and OS X Yosemite are released, you can trust that your app will work well into the future. <strong>In fact, you can target back to OS X Mavericks or iOS 7 with that same app.</strong> This is possible because Xcode embeds a small Swift runtime library within your app\u2019s bundle. Because the library is embedded, your app uses a consistent version of Swift that runs on past, present, and future OS releases.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/26554274#26554274", "question_id": 24001778, "answer_id": 26554274}, {"body": "<p>When it comes to Swift Frameworks.\nAs for today, with Xcode version 6.1.1 (6A2008a), if the Swift framework is targeted to iOS 7.1, linker report warning</p>\n\n<pre><code>ld: warning: embedded dylibs/frameworks only run on iOS 8 or later.\n</code></pre>\n\n<p>and application can't be submitted to AppStore. Check this issue <a href=\"https://github.com/CocoaPods/CocoaPods/issues/3193\">https://github.com/CocoaPods/CocoaPods/issues/3193</a></p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/28740912#28740912", "question_id": 24001778, "answer_id": 28740912}, {"body": "<p>Yes, in fact Apple has announced that Swift apps will be backward compatible with iOS 7 and OS X Mavericks. Furthermore the WWDC app is written in the Swift programming language.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/29122035#29122035", "question_id": 24001778, "answer_id": 29122035}, {"body": "<p>Quick Update, effective from <strong>February 15th, 2015</strong>, we cannot submit apps to the store that were developed using an <strong>SDK prior to iOS 8</strong>. So, keeping that in mind , its better to not to worry about this issue as many people have suggested that apps made in Swift can be deployed to <strong>OS X 10.9 and iOS 7.0</strong> as well.</p>\n", "title": "Do Swift-based applications work on OS X 10.9/iOS 7 and lower?", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower/29582061#29582061", "question_id": 24001778, "answer_id": 29582061}], "link": "http://stackoverflow.com/questions/24001778/do-swift-based-applications-work-on-os-x-10-9-ios-7-and-lower", "question_id": 24001778}, {"body": "<p>A few months ago I tattooed a <a href=\"http://en.wikipedia.org/wiki/Fork_bomb\" rel=\"nofollow\">fork bomb</a> on my arm, and I skipped the whitespaces, because I think it looks nicer without them. But to my dismay, <strong>sometimes</strong> (not always) when I run it in a shell it doesn't start a fork bomb, but it just gives a syntax error. </p>\n\n<pre><code>bash: syntax error near unexpected token `{:'\n</code></pre>\n\n<p>Yesterday it happened when I tried to run it in a friend's <a href=\"http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29\" rel=\"nofollow\">Bash</a> shell, and then I added the whitespace and it suddenly worked, <code>:(){ :|:&amp; };:</code> instead of <code>:(){:|:&amp;};:</code></p>\n\n<p>Does the whitespace matter; have I tattooed a syntax error on my arm?!</p>\n\n<p>It seems to always work in <a href=\"http://en.wikipedia.org/wiki/Z_shell\" rel=\"nofollow\">zsh</a>, but not in Bash.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/991142/how-does-this-bash-fork-bomb-work\">A related question</a> does not explain anything about the whitespaces, which really is my question; <strong>Why is the whitespace needed for Bash to be able to parse it correctly?</strong></p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "answers": [{"body": "<p>Braces are more like odd keywords than special symbols, and do need spaces. This is different to parentheses, for example. Compare:</p>\n\n<pre><code>(ls)\n</code></pre>\n\n<p>which works, and:</p>\n\n<pre><code>{ls}\n</code></pre>\n\n<p>which looks for a command named <code>{ls}</code>. To work, it has to be:</p>\n\n<pre><code>{ ls; }\n</code></pre>\n\n<p>The semicolon stops the closing brace being taken as a parameter to <code>ls</code>.</p>\n\n<p>All you have to do is tell people that you are using a proportional-font with a rather narrow space character.</p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters/21186844#21186844", "question_id": 21186724, "answer_id": 21186844}, {"body": "<blockquote>\n  <p>and then I added the whitespace and it suddenly worked ...</p>\n</blockquote>\n\n<p>It's because of how the shell parses.  You need a space after the function definition begins, i.e. after the <code>{</code>.</p>\n\n<pre><code>foo() { echo hey&amp; }\nfoo() { echo hey&amp;}\nfoo(){ echo hey&amp;}\n</code></pre>\n\n<p>are valid.  On the other hand,</p>\n\n<pre><code>foo() {echo hey&amp;}\n</code></pre>\n\n<p>isn't.</p>\n\n<hr>\n\n<p>You actually need a tatoo like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/w2Dmj.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>From the <a href=\"http://git.savannah.gnu.org/cgit/bash.git/tree/braces.c\">source</a>:</p>\n\n<pre><code>  /* We ignore an open brace surrounded by whitespace, and also\n     an open brace followed immediately by a close brace preceded\n     by whitespace.  */\n</code></pre>\n\n<p>Omitting a space after the <code>{</code> causes the <code>{echo</code> to be interpreted as a single token.</p>\n\n<hr>\n\n<p>An equivalent form of</p>\n\n<pre><code>:(){ :|:&amp; };:\n</code></pre>\n\n<p>would be</p>\n\n<pre><code>:(){\n:|:&amp; };:\n</code></pre>\n\n<p>Note that there is no space after <code>{</code> in the alternate version, but a line-break causes the shell to recognize <code>{</code> as a token.</p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters/21186898#21186898", "question_id": 21186724, "answer_id": 21186898}, {"body": "<p>There is a list of characters that separate tokens in BASH. These characters are called <em>metacharacters</em> and they are <code>|</code>, <code>&amp;</code>, <code>;</code>, <code>(</code>, <code>)</code>, <code>&lt;</code>, <code>&gt;</code>, <strong>space</strong> and <strong>tab</strong>. On the other hand, curly braces (<code>{</code> and <code>}</code>) are just ordinary characters that make up words.</p>\n\n<p>Omitting the second space before <code>}</code> will do, since <code>&amp;</code> is a metacharacter. Therefore, your tattoo should have at least one space character.</p>\n\n<pre><code>:(){ :|:&amp;};:\n</code></pre>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters/21187095#21187095", "question_id": 21186724, "answer_id": 21187095}, {"body": "<p>Although not easily visible in the tatoo font, there's actually a Byte-Order Mark (BOM) between the brace and the colon (you may have been sufficiently intoxicated when you got the tatoo that you didn't notice it, but it's really there). This leaves three obvious possibilities:</p>\n\n<ol>\n<li>You've failed to type in the BOM when you transcribed the code. The result is an obvious application of GIGO. The shell simply doesn't recognize a BOM that isn't present in your failed transcription.</li>\n<li>Your shell is too old. It doesn't recognize Unicode characters, so the BOM (and probably all other Unicode characters) is being ignored completely, even though a BOM anywhere but the beginning of a file is supposed to be treated as a zero-width, non-breaking space.</li>\n<li>Your shell is too new. Use of a BOM as a ZWNBS is deprecated, and the authors have implemented a future version of Unicode in which this usage is no longer allowed.</li>\n</ol>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters/21273884#21273884", "question_id": 21186724, "answer_id": 21273884}, {"body": "<p>Just tattoo a</p>\n\n<pre><code>#!/bin/zsh\n</code></pre>\n\n<p>shebang above it and you'll be fine.</p>\n", "title": "Why is whitespace sometimes needed around metacharacters?", "tags": ["bash", "shell", "syntax-error"], "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters/21431106#21431106", "question_id": 21186724, "answer_id": 21431106}], "link": "http://stackoverflow.com/questions/21186724/why-is-whitespace-sometimes-needed-around-metacharacters", "question_id": 21186724}, {"body": "<p>In Dockerfiles there are two commands that look similar to me: <code>CMD</code> and <code>ENTRYPOINT</code>. But I guess that there is a (subtle?) difference between them - otherwise it would not make any sense to have two commands for the very same thing.</p>\n\n<p>The documentation states for <code>CMD</code></p>\n\n<blockquote>\n  <p>The main purpose of a CMD is to provide defaults for an executing container.</p>\n</blockquote>\n\n<p>and for <code>ENTRYPOINT</code>:</p>\n\n<blockquote>\n  <p>An ENTRYPOINT helps you to configure a container that you can run as an executable.</p>\n</blockquote>\n\n<p>So, what's the difference between those two commands?</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "answers": [{"body": "<p>Yes, that is a good question. I don't understand it fully yet, but:</p>\n\n<p>I understand that <code>ENTRYPOINT</code> is the binary that is being executed. You can overide entrypoint by --entrypoint=\"\".</p>\n\n<pre><code>docker run -t -i --entrypoint=\"/bin/bash\" ubuntu\n</code></pre>\n\n<p>CMD is the default argument to container. Without entrypoint, default argument is command that is executed. With entrypoint, cmd is passed to entrypoint as argument. You can emulate a command with entrypoint.</p>\n\n<pre><code># no entrypoint\ndocker run ubuntu /bin/cat /etc/passwd\n\n# with entry point, emulating cat command\ndocker run --entrypoint=\"/bin/cat\" ubuntu /etc/passwd\n</code></pre>\n\n<p>So, main advantage is that with entrypoint you can pass arguments (cmd) to your container. To accomplish this, you need to use both:</p>\n\n<pre><code># Dockerfile\nFROM ubuntu\nENTRYPOINT [\"/bin/cat\"]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>docker build -t=cat .\n</code></pre>\n\n<p>then you can use:</p>\n\n<pre><code>docker run cat /etc/passwd\n#              ^^^^^^^^^^^\n#                   CMD\n#          ^^^      \n#          image (tag)- using the default ENTRYPOINT\n</code></pre>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/21558992#21558992", "question_id": 21553353, "answer_id": 21558992}, {"body": "<p>Docker has a default entrypoint which is <code>/bin/sh -c</code> but does not have a default command.</p>\n\n<p>When you run docker like this:\n<code>docker run -i -t ubuntu bash</code>\nthe entrypoint is the default <code>/bin/sh -c</code>, the image is <code>ubuntu</code> and the command is <code>bash</code>.  </p>\n\n<p>The command is run via the entrypoint. i.e., the actual thing that gets executed is <code>/bin/sh -c bash</code>. This allowed docker to implement <code>RUN</code> quickly by relying on the shell's parser.\nLater on, people asked to be able to customize this so <code>ENTRYPOINT</code> and <code>-entrypoint</code> has been introduced.</p>\n\n<p>Everything after <code>ubuntu</code> in the example above is the command and is passed to the entrypoint. When using the <code>CMD</code> instruction, it is exactly as if you were doing <code>docker run -i -t ubuntu &lt;cmd&gt;</code>. <code>&lt;cmd&gt;</code> will be the parameter of the entrypoint.</p>\n\n<p>You will also get the same result if you instead type this command <code>docker run -i -t ubuntu</code>. You will still start a bash shell in the container because of the <a href=\"https://github.com/dockerfile/ubuntu/blob/master/Dockerfile\">ubuntu Dockerfile</a> specified a default CMD: <code>CMD [\"bash\"]</code></p>\n\n<p>As everything is passed to the entrypoint, you can have a very nice behavior from your images. @Jiri example is good, it shows how to use an image as a \"binary\". When using <code>[\"/bin/cat\"]</code> as entrypoint and then doing <code>docker run catimg /etc/passwd</code>, you get it, <code>/etc/passwd</code> is the command and is passed to the entrypoint so the end result execution is simply <code>/bin/cat /etc/passwd</code>.</p>\n\n<p>An other example would be to have any cli as entrypoint. For instance, if you have a redis image, instead of running <code>docker run redisimg redis -H something -u toto get key</code>, you can simply have <code>ENTRYPOINT [\"redis\", \"-H\", \"something\", \"-u\", \"toto\"]</code> and then run like this for the same result: <code>docker run redisimg get key</code>.</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/21564990#21564990", "question_id": 21553353, "answer_id": 21564990}, {"body": "<p>The <code>ENTRYPOINT</code> specifies a command that will always be executed when the container starts.</p>\n\n<p>The <code>CMD</code> specifies arguments that will be fed to the <code>ENTRYPOINT</code>.</p>\n\n<p>If you want to make an image dedicated to a specific command you will use <code>ENTRYPOINT [\"/path/dedicated_command\"]</code></p>\n\n<p>Otherwise, if you want to make an image for general purpose, you can leave <code>ENTRYPOINT</code> unspecified and use <code>CMD [\"/path/dedicated_command\"]</code> as you will be able to override the setting by supplying arguments to <code>docker run</code>.</p>\n\n<p>For example, if your Dockerfile is:</p>\n\n<pre><code>FROM debian:wheezy\nENTRYPOINT [\"/bin/ping\"]\nCMD [\"localhost\"]\n</code></pre>\n\n<p>Running the image without any argument will ping the localhost:</p>\n\n<pre><code>$ docker run -it test\nPING localhost (127.0.0.1): 48 data bytes\n56 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.096 ms\n56 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.088 ms\n56 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.088 ms\n^C--- localhost ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max/stddev = 0.088/0.091/0.096/0.000 ms\n</code></pre>\n\n<p>Now, running the image with an argument will ping the argument:</p>\n\n<pre><code>$ docker run -it test google.com\nPING google.com (173.194.45.70): 48 data bytes\n56 bytes from 173.194.45.70: icmp_seq=0 ttl=55 time=32.583 ms\n56 bytes from 173.194.45.70: icmp_seq=2 ttl=55 time=30.327 ms\n56 bytes from 173.194.45.70: icmp_seq=4 ttl=55 time=46.379 ms\n^C--- google.com ping statistics ---\n5 packets transmitted, 3 packets received, 40% packet loss\nround-trip min/avg/max/stddev = 30.327/36.430/46.379/7.095 ms\n</code></pre>\n\n<p>For comparison, if your Dockerfile is:</p>\n\n<pre><code>FROM debian:wheezy\nCMD [\"/bin/ping\", \"localhost\"]\n</code></pre>\n\n<p>Running the image without any argument will ping the localhost:</p>\n\n<pre><code>$ docker run -it test\nPING localhost (127.0.0.1): 48 data bytes\n56 bytes from 127.0.0.1: icmp_seq=0 ttl=64 time=0.076 ms\n56 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.087 ms\n56 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.090 ms\n^C--- localhost ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max/stddev = 0.076/0.084/0.090/0.000 ms\n</code></pre>\n\n<p>But running the image with an argument will run the argument:</p>\n\n<pre><code>docker run -it test bash\nroot@e8bb7249b843:/#\n</code></pre>\n\n<p>See this article from Brian DeHamer for even more details:\n<a href=\"https://www.ctl.io/developers/blog/post/dockerfile-entrypoint-vs-cmd/\">https://www.ctl.io/developers/blog/post/dockerfile-entrypoint-vs-cmd/</a></p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/34245657#34245657", "question_id": 21553353, "answer_id": 34245657}, {"body": "<p>CMD:</p>\n\n<ul>\n<li><code>CMD [\"executable\",\"param1\",\"param2\"]</code>: <code>[\"executable\",\"param1\",\"param2\"]</code> is the first process.</li>\n<li><code>CMD command param1 param2</code>: <code>/bin/sh -c CMD command param1 param2</code> is the first process. <code>CMD command param1 param2</code> is forked from the first process.</li>\n<li><code>CMD [\"param1\",\"param2\"]</code>: This form is used to provide default arguments for <code>ENTRYPOINT</code>.</li>\n</ul>\n\n<p>ENTRYPOINT (The following list does not consider the case where CMD and ENTRYPOINT are used together):</p>\n\n<ul>\n<li><code>ENTRYPOINT [\"executable\", \"param1\", \"param2\"]</code>: <code>[\"executable\", \"param1\", \"param2\"]</code> is the first process.</li>\n<li><code>ENTRYPOINT command param1 param2</code>: <code>/bin/sh -c command param1 param2</code> is the first process. <code>command param1 param2</code> is forked from the first process.</li>\n</ul>\n\n<p>As <a href=\"http://stackoverflow.com/users/884978/creack\">creack</a> said, CMD was developed first. Then ENTRYPOINT was developed for more customization. Since they are not designed together, there are some functionality overlaps between CMD and ENTRYPOINT, which often confuse people.</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/34605662#34605662", "question_id": 21553353, "answer_id": 34605662}, {"body": "<p>Comments on EntryPoint function in <a href=\"https://github.com/docker/docker/blob/670c8696a29825b23208496bd4d8e88b5faa7773/builder/dispatchers.go#L77\" rel=\"nofollow\">code</a></p>\n\n<blockquote>\n  <p>// ENTRYPOINT /usr/sbin/nginx. </p>\n  \n  <p>// Set the entrypoint (which defaults to sh -c) to /usr/sbin/nginx.</p>\n  \n  <p>// Will accept the CMD as the arguments to /usr/sbin/nginx.</p>\n</blockquote>\n\n<p>Another reference from documents</p>\n\n<blockquote>\n  <p>You can use the exec form of ENTRYPOINT to set <strong>fairly stable default commands and arguments</strong> and then use CMD to set additional defaults that are more likely to be changed.</p>\n</blockquote>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>FROM ubuntu:14.04.3\nENTRYPOINT [\"/bin/ping\"]\nCMD [\"localhost\", \"-c\", \"2\"]\n</code></pre>\n\n<p><em>Build</em>:  sudo docker build -t ent_cmd . </p>\n\n<pre><code>CMD arguments are easy to override.\n\nNO argument (sudo docker -it ent_cmd)                :  ping localhost \nargument    (sudo docker run -it ent_cmd google.com) :  ping google.com\n</code></pre>\n\n<p>.</p>\n\n<pre><code>To override EntryPoint argument, you need to supply entrypoint\nsudo docker run -it --entrypoint=\"/bin/bash\" ent_cmdd\n</code></pre>\n\n<p>p.s:\nIn presence of EntryPoint, CMD will hold arguments to fed to EntryPoint.\nIn absense of EntryPoint, CMD will be the command which will be run.</p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/34824638#34824638", "question_id": 21553353, "answer_id": 34824638}, {"body": "<p>In a nutshell:</p>\n\n<ul>\n<li>CMD sets default command and/or parameters, which can be overwritten from command line when docker container runs.</li>\n<li>ENTRYPOINT command and parameters will not be overwritten from command line. Instead, all command line arguments will be added after ENTRYPOINT parameters.</li>\n</ul>\n\n<p>If you need more details or would like to see difference on example, there is a blog post that comprehensively compare CMD and ENTRYPOINT with lots of examples - <a href=\"http://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/\">http://goinbigdata.com/docker-run-vs-cmd-vs-entrypoint/</a> </p>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/36383735#36383735", "question_id": 21553353, "answer_id": 36383735}, {"body": "<h2>According to <a href=\"https://docs.docker.com/engine/reference/builder/#/understand-how-cmd-and-entrypoint-interact\" rel=\"nofollow\">docker docs</a></h2>\n\n<blockquote>\n  <p>Both CMD and ENTRYPOINT instructions define what command gets executed\n  when running a container. There are few rules that describe their\n  co-operation.</p>\n  \n  <ol>\n  <li>Dockerfile should specify at least one of <code>CMD</code> or <code>ENTRYPOINT</code> commands.</li>\n  <li><code>ENTRYPOINT</code> should be defined when using the container as an executable.</li>\n  <li><code>CMD</code> should be used as a way of defining default arguments for an <code>ENTRYPOINT</code> command or for executing an ad-hoc command in a\n  container.</li>\n  <li><code>CMD</code> will be overridden when running the container with alternative arguments.</li>\n  </ol>\n</blockquote>\n\n<p>The tables below shows <strong>what command is executed for different <code>ENTRYPOINT</code> / <code>CMD</code> combinations</strong>:</p>\n\n<p>-- <strong><code>No ENTRYPOINT</code></strong></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 No CMD                     \u2551 error, not allowed          \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cexec_cmd\u201d, \u201cp1_cmd\u201d] \u2551 exec_cmd p1_cmd             \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cp1_cmd\u201d, \u201cp2_cmd\u201d]   \u2551 p1_cmd p2_cmd               \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD exec_cmd p1_cmd        \u2551 /bin/sh -c exec_cmd p1_cmd  \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n\n<p>-- <strong><code>ENTRYPOINT exec_entry p1_entry</code></strong></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 No CMD                     \u2551 /bin/sh -c exec_entry p1_entry                            \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cexec_cmd\u201d, \u201cp1_cmd\u201d] \u2551 /bin/sh -c exec_entry p1_entry exec_cmd p1_cmd            \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cp1_cmd\u201d, \u201cp2_cmd\u201d]   \u2551 /bin/sh -c exec_entry p1_entry p1_cmd p2_cmd              \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD exec_cmd p1_cmd        \u2551 /bin/sh -c exec_entry p1_entry /bin/sh -c exec_cmd p1_cmd \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n\n<p>-- <strong><code>ENTRYPOINT [\u201cexec_entry\u201d, \u201cp1_entry\u201d]</code></strong></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2566\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u2551 No CMD                     \u2551 exec_entry p1_entry                             \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cexec_cmd\u201d, \u201cp1_cmd\u201d] \u2551 exec_entry p1_entry exec_cmd p1_cmd             \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD [\u201cp1_cmd\u201d, \u201cp2_cmd\u201d]   \u2551 exec_entry p1_entry p1_cmd p2_cmd               \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256b\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 CMD exec_cmd p1_cmd        \u2551 exec_entry p1_entry /bin/sh -c exec_cmd p1_cmd  \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n</code></pre>\n", "title": "What is the difference between CMD and ENTRYPOINT in a Dockerfile?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/39408777#39408777", "question_id": 21553353, "answer_id": 39408777}], "link": "http://stackoverflow.com/questions/21553353/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile", "question_id": 21553353}, {"body": "<p>I'm trying to create an <code>NSTimer</code> in <code>Swift</code> but I'm having some trouble.</p>\n\n<pre><code>NSTimer(timeInterval: 1, target: self, selector: test(), userInfo: nil, repeats: true)\n</code></pre>\n\n<p><em><code>test()</code> is a function in the same class.</em></p>\n\n<hr>\n\n<p>I get an error in the editor: </p>\n\n<blockquote>\n  <p>Could not find an overload for 'init' that accepts the supplied\n  arguments</p>\n</blockquote>\n\n<p>When I change <code>selector: test()</code> to <code>selector: nil</code> the error disappears.</p>\n\n<p>I've tried:</p>\n\n<ul>\n<li><code>selector: test()</code></li>\n<li><code>selector: test</code></li>\n<li><code>selector: Selector(test())</code></li>\n</ul>\n\n<p>But nothing works and I can't find a solution in the references.</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "answers": [{"body": "<p>Swift <em>itself</em> doesn't use selectors \u2014 several design patterns that in Objective-C make use of selectors work differently in Swift. (For example, use optional chaining on protocol types instead of <code>respondsToSelector:</code> tests, and use closures wherever you can instead of <code>performSelector:</code> for better type/memory safety.)</p>\n\n<p>But there are still a number of important ObjC-based APIs that use selectors, including timers and the target/action pattern. Swift provides the <code>Selector</code> type for working with these. (Swift automatically uses this in place of ObjC's <code>SEL</code> type.)</p>\n\n<h3>In Swift 2.2 (Xcode 7.3) and later:</h3>\n\n<p>You can construct a <code>Selector</code> from a Swift function type using the <code>#selector</code> expression.</p>\n\n<pre><code>let timer = NSTimer(timeInterval: 1, target: object,\n                    selector: #selector(MyClass.test),\n                    userInfo: nil, repeats: false)\nbutton.addTarget(object, action: #selector(MyClass.buttonTapped),\n                 forControlEvents: .TouchUpInside)\nview.performSelector(#selector(UIView.insertSubview(_:aboveSubview:)),\n                     withObject: button, withObject: otherButton)\n</code></pre>\n\n<p>The great thing about this approach? A function reference is checked by the Swift compiler, so you can use the <code>#selector</code> expression only with class/method pairs that actually exist and are eligible for use as selectors (see \"Selector availability\" below). You're also free to make your function reference only as specific as you need, as per <a href=\"https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/Swift_Programming_Language/Expressions.html#//apple_ref/doc/uid/TP40014097-CH32-ID400\">the new Swift 2.2 rules for function naming</a>.</p>\n\n<p>(This is actually an improvement over ObjC's <code>@selector()</code> directive, because the compiler's <code>-Wundeclared-selector</code> check verifies only that the named selector exists. The Swift function reference you pass to <code>#selector</code> checks existence, membership in a class, and type signature.)</p>\n\n<p>Sometimes you don't have a function reference to make a selector with (for example, with actions bound to the first responder, Cocoa KVC accessors, or methods dynamically registered in the ObjC runtime). In that case, you can construct a <code>Selector</code> from a string: e.g. <code>Selector(\"paste:\")</code> \u2014 though you lose the compiler's validity checking.</p>\n\n<p>There are a couple of extra caveats for the function references you pass to the <code>#selector</code> expression:</p>\n\n<ul>\n<li>Multiple functions with the same base name can be differentiated by their parameter labels using the aforementioned <a href=\"https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/Swift_Programming_Language/Expressions.html#//apple_ref/doc/uid/TP40014097-CH32-ID400\">syntax for function references</a> (e.g. <code>insertSubview(_:, atIndex:)</code> vs <code>insertSubview(_:aboveSubview:)</code>). But if a function has no parameters, the only way to disambiguate it is to use an <code>as</code> cast with the function's type signature (e.g. <code>foo as () -&gt; ()</code> vs <code>foo(_:)</code>).</li>\n<li>Swift doesn't know about the ObjC accessors for property getter/setter pairs. So, for example, given a <code>var foo: Int</code>, there isn't a <code>func setFoo(_:)</code> that you can construct a <code>#selector</code> from, even though there is a <code>Selector(setFoo:)</code>.</li>\n</ul>\n\n<h3>In older Swift versions:</h3>\n\n<p>The simplest way to pass a <code>Selector</code> is with a string literal:</p>\n\n<pre><code>let timer = NSTimer(timeInterval: 1, target: object,\n                    selector: \"test:\",\n                    userInfo: nil, repeats: false)\nbutton.addTarget(object, action: \"buttonTapped:\",\n                 forControlEvents: .TouchUpInside)\nview.performSelector(\"insertSubview:aboveSubview:\",\n                     withObject: button, withObject: otherButton)\n</code></pre>\n\n<p>This works because <code>Selector</code> conforms to <code>StringLiteralConvertible</code>. However, that protocol conformance is going away with Swift 2.2, so you'll want to use the new <code>#selector</code> directive there. (To make code that compiles on both, albeit with warnings in 2.2, just directly call a <code>Selector</code> initializer: <code>Selector(\"test:\")</code>, <code>Selector(\"insertSubview:aboveSubview:\")</code>, etc.)</p>\n\n<h3>General notes:</h3>\n\n<p><strong>Selector availability:</strong> The method referenced by the selector must be exposed to the ObjC runtime. This is already the case if it's in a class that (ultimately) inherits from <code>NSObject</code>, but if it's in a pure Swift class you'll need to preface that method's declaration with <code>@objc</code>. Remember that <code>private</code> symbols aren't exposed to the runtime, too \u2014 your method needs to have at least <code>internal</code> visibility.</p>\n\n<p><strong>Selector names:</strong> Because selectors are an ObjC thing, they follow ObjC method naming rules, including colons (<code>:</code>) for each parameter. For example, the selector for a method named  <code>test()</code> is just <code>\"test\"</code>, but the selector for <code>test(this: String)</code> is <code>\"test:\"</code>, and for <code>test(this: String, andThat: Int)</code> it's <code>\"test:andThat:\"</code>. Note that as the relationship between Swift and ObjC evolves, the names of some ObjC methods and their Swift syntax may diverge \u2014 but you can always <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-ID53\">use the <code>@objc()</code> attribute</a> to control how a Swift method is exposed to ObjC.</p>\n\n<p>You can read more about selectors under <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-XID_26\">Interacting with Objective-C APIs</a> in <em>Using Swift with Cocoa and Objective-C</em>.</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24007718#24007718", "question_id": 24007650, "answer_id": 24007718}, {"body": "<p>Here's a quick example on how to use the <code>Selector</code> class on Swift:</p>\n\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    var rightButton = UIBarButtonItem(title: \"Title\", style: UIBarButtonItemStyle.Plain, target: self, action: Selector(\"method\"))\n    self.navigationItem.rightBarButtonItem = rightButton\n}\n\nfunc method() {\n    // Something cool here   \n}\n</code></pre>\n\n<p>Note that if the method passed as a string doesn't work, it will fail at runtime, not compile time, and crash your app. Be careful</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24007769#24007769", "question_id": 24007650, "answer_id": 24007769}, {"body": "<p>Selectors are an internal representation of a method name in Objective-C. In Objective-C \"@selector(methodName)\" would convert a source-code method into a data type of SEL. Since you can't use the @selector syntax in Swift (rickster is on point there), you have to manually specify the method name as a String object directly, or by passing a String object to the Selector type. Here is an example:</p>\n\n<pre><code>var rightBarButton = UIBarButtonItem(\n    title: \"Logout\", \n    style: UIBarButtonItemStyle.Plain, \n    target: self, \n    action:\"logout\"\n)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>var rightBarButton = UIBarButtonItem(\n    title: \"Logout\", \n    style: UIBarButtonItemStyle.Plain, \n    target: self, \n    action:Selector(\"logout\")\n)\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24052465#24052465", "question_id": 24007650, "answer_id": 24052465}, {"body": "<p>Also, if your (Swift) class does not descend from an Objective-C class, then you must have a colon at the end of the target method name string and you must use the @objc property with your target method e.g.</p>\n\n<pre><code>var rightButton = UIBarButtonItem(title: \"Title\", style: UIBarButtonItemStyle.Plain, target: self, action: Selector(\"method\"))\n\n@objc func method() {\n    // Something cool here   \n} \n</code></pre>\n\n<p>otherwise you will get a \"Unrecognised Selector\" error at runtime.</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24390503#24390503", "question_id": 24007650, "answer_id": 24390503}, {"body": "<p>you create the Selector like below.<br>\n1.</p>\n\n<pre><code>UIBarButtonItem(\n    title: \"Some Title\",\n    style: UIBarButtonItemStyle.Done,\n    target: self,\n    action: \"flatButtonPressed\"\n)\n</code></pre>\n\n<p>2.<br></p>\n\n<pre><code>flatButton.addTarget(self, action: \"flatButtonPressed:\", forControlEvents: UIControlEvents.TouchUpInside)\n</code></pre>\n\n<p>Take note that the @selector syntax is gone and replaced with a simple String naming the method to call. There\u2019s one area where we can all agree the verbosity got in the way. Of course, if we declared that there is a target method called flatButtonPressed: we better write one:<br></p>\n\n<pre><code>func flatButtonPressed(sender: AnyObject) {\n  NSLog(\"flatButtonPressed\")\n}\n</code></pre>\n\n<p>set the timer:<br></p>\n\n<pre><code>    var timer = NSTimer.scheduledTimerWithTimeInterval(1.0, \n                    target: self, \n                    selector: Selector(\"flatButtonPressed\"), \n                    userInfo: userInfo, \n                    repeats: true)\n    let mainLoop = NSRunLoop.mainRunLoop()  //1\n    mainLoop.addTimer(timer, forMode: NSDefaultRunLoopMode) //2 this two line is optinal\n</code></pre>\n\n<p>In order to be complete, here\u2019s the flatButtonPressed  </p>\n\n<pre><code>func flatButtonPressed(timer: NSTimer) {\n}\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24704917#24704917", "question_id": 24007650, "answer_id": 24704917}, {"body": "<p>It may be useful to note where you setup the control that triggers the action matters.</p>\n\n<p>For example, I have found that when setting up a UIBarButtonItem, I had to create the button within viewDidLoad or else I would get an unrecognized selector exception.</p>\n\n<pre><code>override func viewDidLoad() {\n        super.viewDidLoad()\n\n\n        // add button\n        let addButton = UIBarButtonItem(image: UIImage(named: \"746-plus-circle.png\"), style: UIBarButtonItemStyle.Plain, target: self, action: Selector(\"addAction:\"))\n        self.navigationItem.rightBarButtonItem = addButton\n    }\n\n\n    func addAction(send: AnyObject?) {\n\n        NSLog(\"addAction\")\n    }\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24716579#24716579", "question_id": 24007650, "answer_id": 24716579}, {"body": "<p>Just in case somebody else have the same problem I had with NSTimer where none of the other answers fixed the issue, is really important to mention that, if you are using a class that do not inherits from NSObject either directly or deep in the hierarchy(e.g. manually created swift files), none of the other answers will work even when is specified as follows:</p>\n\n<pre><code>let timer = NSTimer(timeInterval: 1, target: self, selector: \"test\", \n                    userInfo: nil, repeats: false)\nfunc test () {}\n</code></pre>\n\n<p>Without changing anything else other than just making the class inherit from NSObject I stopped getting the \"Unrecognized selector\" Error and got my logic working as expected.</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24719842#24719842", "question_id": 24007650, "answer_id": 24719842}, {"body": "<pre><code>Create Refresh control using Selector method.   \n    var refreshCntrl : UIRefreshControl!\n    refreshCntrl = UIRefreshControl()\n    refreshCntrl.tintColor = UIColor.whiteColor()\n    refreshCntrl.attributedTitle = NSAttributedString(string: \"Please Wait...\")\n    refreshCntrl.addTarget(self, action:\"refreshControlValueChanged\", forControlEvents: UIControlEvents.ValueChanged)\n    atableView.addSubview(refreshCntrl)\n</code></pre>\n\n<p>//Refresh Control Method</p>\n\n<pre><code>func refreshControlValueChanged(){\n    atableView.reloadData()\n    refreshCntrl.endRefreshing()\n\n}\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/24837430#24837430", "question_id": 24007650, "answer_id": 24837430}, {"body": "<p>If you want to pass a parameter to the function from the NSTimer then here is your solution:</p>\n\n<pre><code>var somethingToPass = \"It worked\"\n\nlet timer = NSTimer.scheduledTimerWithTimeInterval(0.01, target: self, selector: \"tester:\", userInfo: somethingToPass, repeats: false)\n\nfunc tester(timer: NSTimer)\n{\n    let theStringToPrint = timer.userInfo as String\n    println(theStringToPrint)\n}\n</code></pre>\n\n<p>Include the colon in the selector text (tester:), and your parameter(s) go in userInfo.</p>\n\n<p>Your function should take NSTimer as a parameter.  Then just extract userInfo to get the parameter that passed.</p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/25186427#25186427", "question_id": 24007650, "answer_id": 25186427}, {"body": "<p>Change as a simple string naming in the method calling for <strong>selector syntax</strong></p>\n\n<pre><code>var timer1 : NSTimer? = nil\ntimer1= NSTimer(timeInterval: 0.1, target: self, selector: Selector(\"test\"), userInfo: nil, repeats: true)\n</code></pre>\n\n<p>After that, type func test(). </p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/26352829#26352829", "question_id": 24007650, "answer_id": 26352829}, {"body": "<p>you create the Selector like below.</p>\n\n<p>1.add the event to a button like:\n<br></p>\n\n<pre><code>button.addTarget(self, action: \"clickedButton:\", forControlEvents: UIControlEvents.TouchUpInside)\n</code></pre>\n\n<p>and the function will be like below:\n<br></p>\n\n<pre><code>func clickedButton(sender: AnyObject) {\n  NSLog(\"clickedButton\")\n}\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/26376815#26376815", "question_id": 24007650, "answer_id": 26376815}, {"body": "<p>For future readers, I found that I experienced a problem and was getting an <strong><em><code>unrecognised selector sent to instance</code></em></strong> error that was caused by marking the target <code>func</code> as private.</p>\n\n<p>The <code>func</code> <strong>MUST</strong> be publicly visible to be called by an object with a reference to a selector. </p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/29568047#29568047", "question_id": 24007650, "answer_id": 29568047}, {"body": "<p>I found many of these answers to be helpful but it wasn't clear how to do this with something that wasn't a button. I was adding a gesture recognizer to a UILabel in swift and struggled so here's what I found worked for me after reading everything above:</p>\n\n<pre><code>let tapRecognizer = UITapGestureRecognizer(\n            target: self,\n            action: \"labelTapped:\")\n</code></pre>\n\n<p>Where the \"Selector\" was declared as:</p>\n\n<pre><code>func labelTapped(sender: UILabel) { }\n</code></pre>\n\n<p>Note that it is public and that I am not using the Selector() syntax but it is possible to do this as well.</p>\n\n<pre><code>let tapRecognizer = UITapGestureRecognizer(\n            target: self,\n            action: Selector(\"labelTapped:\"))\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/35395140#35395140", "question_id": 24007650, "answer_id": 35395140}, {"body": "<p>When using <code>performSelector()</code> </p>\n\n<p><code>/addtarget()/NStimer.scheduledTimerWithInterval()</code> methods your method (matching the selector) should be marked as </p>\n\n<pre><code>@objc\nFor Swift 2.0:\n    {  \n        //...\n        self.performSelector(\u201cperformMethod\u201d, withObject: nil , afterDelay: 0.5)\n        //...\n\n\n    //...\n    btnHome.addTarget(self, action: \u201cbuttonPressed:\", forControlEvents: UIControlEvents.TouchUpInside)\n    //...\n\n    //...\n     NSTimer.scheduledTimerWithTimeInterval(0.5, target: self, selector : \u201ctimerMethod\u201d, userInfo: nil, repeats: false)\n    //...\n\n}\n\n@objc private func performMethod() {\n\u2026\n}\n@objc private func buttonPressed(sender:UIButton){\n\u2026.\n}\n@objc private func timerMethod () {\n\u2026.\n}\n</code></pre>\n\n<p>For Swift 2.2,\nyou need to write '#selector()' instead of string and selector name so the possibilities of spelling error and crash due to that will not be there anymore. Below is example</p>\n\n<pre><code>self.performSelector(#selector(MyClass.performMethod), withObject: nil , afterDelay: 0.5)\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/36053404#36053404", "question_id": 24007650, "answer_id": 36053404}, {"body": "<p><strong>Swift 2.2 / Xcode 7.3 Update</strong></p>\n\n<p>Use the new <code>#selector</code> expression, which eliminates the need to use string literals, making usage less error-prone. For reference:</p>\n\n<pre><code>Selector(\"keyboardDidHide:\")\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>#selector(keyboardDidHide(_:))\n</code></pre>\n\n<p>See also: <a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0022-objc-selectors.md\">Swift Evolution Proposal</a></p>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/36456499#36456499", "question_id": 24007650, "answer_id": 36456499}, {"body": "<p>Using <strong>#selector</strong> will check your code at compile time to make sure the method you want to call actually exists. Even better, if the method doesn\u2019t exist, you\u2019ll get a compile error: Xcode will refuse to build your app, thus banishing to oblivion another possible source of bugs.</p>\n\n<pre><code>override func viewDidLoad() {\n        super.viewDidLoad()\n\n        navigationItem.rightBarButtonItem =\n            UIBarButtonItem(barButtonSystemItem: .Add, target: self,\n                            action: #selector(addNewFireflyRefernce))\n    }\n\n    func addNewFireflyReference() {\n        gratuitousReferences.append(\"Curse your sudden but inevitable betrayal!\")\n    }\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/37345596#37345596", "question_id": 24007650, "answer_id": 37345596}, {"body": "<pre><code>// for swift 2.2\n// version 1\nbuttton.addTarget(self, action: #selector(ViewController.tappedButton), forControlEvents: .TouchUpInside)\nbuttton.addTarget(self, action: #selector(ViewController.tappedButton2(_:)), forControlEvents: .TouchUpInside)\n\n// version 2\nbuttton.addTarget(self, action: #selector(self.tappedButton), forControlEvents: .TouchUpInside)\nbuttton.addTarget(self, action: #selector(self.tappedButton2(_:)), forControlEvents: .TouchUpInside)\n\n// version 3\nbuttton.addTarget(self, action: #selector(tappedButton), forControlEvents: .TouchUpInside)\nbuttton.addTarget(self, action: #selector(tappedButton2(_:)), forControlEvents: .TouchUpInside)\n\nfunc tappedButton() {\n  print(\"tapped\")\n}\n\nfunc tappedButton2(sender: UIButton) {\n  print(\"tapped 2\")\n}\n</code></pre>\n", "title": "@selector() in Swift?", "tags": ["swift", "selector", "nstimer"], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift/37559037#37559037", "question_id": 24007650, "answer_id": 37559037}], "link": "http://stackoverflow.com/questions/24007650/selector-in-swift", "question_id": 24007650}, {"body": "<p>I'm trying to work out an appropriate singleton model for usage in Swift. So far, I've been able to get a non-thread safe model working as:</p>\n\n<pre><code>class var sharedInstance:TPScopeManager {\n    get {\n        struct Static {\n            static var instance : TPScopeManager? = nil\n        }\n\n        if !Static.instance {\n            Static.instance = TPScopeManager()\n        }\n\n        return Static.instance!\n    }\n}\n</code></pre>\n\n<p>Wrapping the singleton instance in the Static struct should allow a single instance that doesn't collide with singleton instances without complex naming schemings, and it should make things fairly private.  Obviously though, this model isn't thread safe, so I tried to add dispatch_once to the whole thing:</p>\n\n<pre><code>class var sharedInstance:TPScopeManager {\n    get {\n        struct Static {\n            static var instance : TPScopeManager? = nil\n            static var token : dispatch_once_t = 0\n        }\n\n        dispatch_once(Static.token) { Static.instance = TPScopeManager() }\n\n        return Static.instance!\n    }\n}\n</code></pre>\n\n<p>But I get a compiler error on the dispatch_once line:</p>\n\n<blockquote>\n  <p>Cannot convert the expression's type 'Void' to type '()'</p>\n</blockquote>\n\n<p>I've tried several different variants of the syntax, but they all seem to have the same results:</p>\n\n<pre><code>dispatch_once(Static.token, { Static.instance = TPScopeManager() })\n</code></pre>\n\n<p>What is the proper usage of <code>dispatch_once</code> using Swift? I initially thought the problem was with the block due to the <code>()</code> in the error message, but the more I look at it, the more I think it may be a matter of getting the <code>dispatch_once_t</code> correctly defined.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "answers": [{"body": "<p><strong>For Swift 1.2 and beyond:</strong></p>\n\n<pre><code>class Singleton  {\n   static let sharedInstance = Singleton()\n}\n</code></pre>\n\n<p>With a proof of correctness (all credit goes <a href=\"http://krakendev.io/blog/the-right-way-to-write-a-singleton\">here</a>), there is little to no reason now to use any of the previous methods for singletons.</p>\n\n<p><strong>Update</strong>: This is now the <strong>official</strong> way to define singletons as described in the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#singleton\">official docs</a>!</p>\n\n<p>As for concerns on using <code>static</code> vs <code>class</code>. <code>static</code> should be the one to use even when <code>class</code> variables become available. Singletons are not meant to be subclassed since that would result in multiple instances of the base singleton. Using <code>static</code> enforces this in a beautiful, Swifty way.</p>\n\n<p><strong>For Swift 1.0 and 1.1:</strong></p>\n\n<p>With the recent changes in Swift, mostly new access control methods, I am now leaning towards the cleaner way of using a global variable for singletons.</p>\n\n<pre><code>private let _singletonInstance = SingletonClass()\nclass SingletonClass {\n  class var sharedInstance: SingletonClass {\n    return _singletonInstance\n  }\n}\n</code></pre>\n\n<p>As mentioned in the Swift blog article <a href=\"https://developer.apple.com/swift/blog/?id=7\">here</a>:</p>\n\n<blockquote>\n  <p>The lazy initializer for a global variable (also for static members of\n  structs and enums) is run the first time that global is accessed, and\n  is launched as dispatch_once to make sure that the initialization is\n  atomic. This enables a cool way to use dispatch_once in your code:\n  just declare a global variable with an initializer and mark it\n  private.</p>\n</blockquote>\n\n<p>This way of creating a singleton is thread safe, fast, lazy, and also bridged to ObjC for free.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24024762#24024762", "question_id": 24024549, "answer_id": 24024762}, {"body": "<p>Looking at Apple's sample code I came across this pattern. I'm not sure how swift deals with statics, but this would be thread safe in C#.  I include both the property and method for ObjC interop.</p>\n\n<pre><code>struct StaticRank {\n    static let shared = RankMapping()\n}\n\nclass func sharedInstance() -&gt; RankMapping {\n    return StaticRank.shared\n}\n\nclass var shared:RankMapping {\n    return StaticRank.shared\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24050674#24050674", "question_id": 24024549, "answer_id": 24050674}, {"body": "<p>There is a better way to do it.  You can declare a global variable in your class above the class decleration like so</p>\n\n<pre><code>var tpScopeManagerSharedInstance = TPScopeManager()\n</code></pre>\n\n<p>This just calls your default init or whichever init and global variables are dispatch_once by default in Swift. Then in whichever class you want to get a reference, you just do this:</p>\n\n<pre><code>var refrence = tpScopeManagerSharedInstance\n// or you can just access properties and call methods directly\ntpScopeManagerSharedInstance.someMethod()\n</code></pre>\n\n<p>So basically you can get rid of the entire block of shared instance code.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24067062#24067062", "question_id": 24024549, "answer_id": 24067062}, {"body": "<p>Since Apple has now clarified that static struct variables are initialized both lazy and wrapped in dispatch_once (see the note at the end of the post), I think my final solution is going to be:</p>\n\n<pre><code>class WithSingleton {\n    class var sharedInstance :WithSingleton {\n        struct Singleton {\n            static let instance = WithSingleton()\n        }\n\n        return Singleton.instance\n    }\n}\n</code></pre>\n\n<p>This takes advantage of the automatic lazy, thread-safe initialization of static struct elements, safely hides the actual implementation from the consumer, keeps everything compactly compartmentalized for legibility, and eliminates a visible global variable.</p>\n\n<p>Apple has clarified that lazy initializer are thread-safe, so there's no need for <code>dispatch_once</code> or similar protections</p>\n\n<blockquote>\n  <p>The lazy initializer for a global variable (also for static members of structs and enums) is run the first time that global is accessed, and is launched as dispatch_once to make sure that the initialization is atomic. This enables a cool way to use dispatch_once in your code: just declare a global variable with an initializer and mark it private.</p>\n</blockquote>\n\n<p>From <a href=\"http://developer.apple.com/swift/blog/?id=7\">here</a></p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24073016#24073016", "question_id": 24024549, "answer_id": 24073016}, {"body": "<pre><code>class UtilSingleton: NSObject {\n\n    var iVal: Int = 0\n\n    class var shareInstance: UtilSingleton {\n        get {\n            struct Static {\n                static var instance: UtilSingleton? = nil\n                static var token: dispatch_once_t = 0\n            }\n            dispatch_once(&amp;Static.token, {\n                Static.instance = UtilSingleton()\n            })\n            return Static.instance!\n        }\n    }\n\n}\n</code></pre>\n\n<p>how to use:</p>\n\n<pre><code>UtilSingleton.shareInstance.iVal++\nprintln(\"singleton new iVal = \\(UtilSingleton.shareInstance.iVal)\")\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24076990#24076990", "question_id": 24024549, "answer_id": 24076990}, {"body": "<p>After seeing David's implementation. It seems like there's no need to have a singleton class function instanceMethod since [let] is doing pretty much the same thing as a sharedInstance class method. All you need to do is declare it as a global constant and that would be it. </p>\n\n<pre><code>let gScopeManagerSharedInstance = ScopeManager()\n\nclass ScopeManager {\n // no need for a class method to return the shared instance. Use the gScopeManagerSharedInstance directly. \n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24093460#24093460", "question_id": 24024549, "answer_id": 24093460}, {"body": "<p><em>tl;dr: Use the <strong>class constant</strong> approach if you are using Swift 1.2 or above and the <strong>nested struct</strong> approach if you need to support earlier versions.</em></p>\n\n<p>From my experience with Swift there are three approaches to implement the Singleton pattern that support lazy initialization and thread safety.</p>\n\n<h1>Class constant</h1>\n\n<pre><code>class Singleton  {\n   static let sharedInstance = Singleton()\n}\n</code></pre>\n\n<p>This approach supports lazy initialization because Swift lazily initializes class constants (and variables), and is thread safe by the definition of <code>let</code>. This is now <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#//apple_ref/doc/uid/TP40014216-CH7-ID14\">officially recommended way</a> to instantiate a singleton.</p>\n\n<p>Class constants were introduced in Swift 1.2. If you need to support an earlier version of Swift, use the nested struct approach below or a global constant.</p>\n\n<h1>Nested struct</h1>\n\n<pre><code>class Singleton {\n    class var sharedInstance: Singleton {\n        struct Static {\n            static let instance: Singleton = Singleton()\n        }\n        return Static.instance\n    }\n}\n</code></pre>\n\n<p>Here we are using the static constant of a nested struct as a class constant. This is a workaround for the lack of static class constants in Swift 1.1 and earlier, and still works as a workaround for the lack of static constants and variables in functions.</p>\n\n<h1>dispatch_once</h1>\n\n<p>The traditional Objective-C approach ported to Swift. I'm fairly certain there's no advantage over the nested struct approach but I'm putting it here anyway as I find the differences in syntax interesting.</p>\n\n<pre><code>class Singleton {\n    class var sharedInstance: Singleton {\n        struct Static {\n            static var onceToken: dispatch_once_t = 0\n            static var instance: Singleton? = nil\n        }\n        dispatch_once(&amp;Static.onceToken) {\n            Static.instance = Singleton()\n        }\n        return Static.instance!\n    }\n}\n</code></pre>\n\n<p>See this <a href=\"https://github.com/hpique/SwiftSingleton\">GitHub</a> project for unit tests.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24147830#24147830", "question_id": 24024549, "answer_id": 24147830}, {"body": "<p>I prefer this implementation:</p>\n\n<pre><code>class APIClient {\n\n}\n\nvar sharedAPIClient: APIClient = {\n    return APIClient()\n}()\n\nextension APIClient {\n    class func sharedClient() -&gt; APIClient {\n        return sharedAPIClient\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24174127#24174127", "question_id": 24024549, "answer_id": 24174127}, {"body": "<p>If you are planning on using your Swift singleton class in Objective-C, this setup will have the compiler generate appropriate Objective-C-like header(s):</p>\n\n<pre><code>class func sharedStore() -&gt; ImageStore {\nstruct Static {\n    static let instance : ImageStore = ImageStore()\n    }\n    return Static.instance\n}\n</code></pre>\n\n<p>Then in Objective-C class you can call your singleton the way you did it in pre-Swift days:</p>\n\n<pre><code>[ImageStore sharedStore];\n</code></pre>\n\n<p>This is just my simple implementation.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24231694#24231694", "question_id": 24024549, "answer_id": 24231694}, {"body": "<p>I would suggest an Enum, like you would use in Java, e.g.:</p>\n\n<pre><code>enum SharedTPScopeManager: TPScopeManager {\n  case Singleton\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24318482#24318482", "question_id": 24024549, "answer_id": 24318482}, {"body": "<p>Just for reference, here is an example Singleton implementation of Jack Wu/hpique's Nested Struct implementation. The implementation also shows how archiving could work, as well as some accompanying functions. I couldn't find this complete of an example, so hopefully this helps somebody!</p>\n\n<pre><code>import Foundation\n\nclass ItemStore: NSObject {\n\n    class var sharedStore : ItemStore {\n        struct Singleton {\n            // lazily initiated, thread-safe from \"let\"\n            static let instance = ItemStore()\n        }\n        return Singleton.instance\n    }\n\n    var _privateItems = Item[]()\n    // The allItems property can't be changed by other objects\n    var allItems: Item[] {\n        return _privateItems\n    }\n\n    init() {\n        super.init()\n        let path = itemArchivePath\n        // Returns \"nil\" if there is no file at the path\n        let unarchivedItems : AnyObject! = NSKeyedUnarchiver.unarchiveObjectWithFile(path)\n\n        // If there were archived items saved, set _privateItems for the shared store equal to that\n        if unarchivedItems {\n            _privateItems = unarchivedItems as Array&lt;Item&gt;\n        } \n\n        delayOnMainQueueFor(numberOfSeconds: 0.1, action: {\n            assert(self === ItemStore.sharedStore, \"Only one instance of ItemStore allowed!\")\n        })\n    }\n\n    func createItem() -&gt; Item {\n        let item = Item.randomItem()\n        _privateItems.append(item)\n        return item\n    }\n\n    func removeItem(item: Item) {\n        for (index, element) in enumerate(_privateItems) {\n            if element === item {\n                _privateItems.removeAtIndex(index)\n                // Delete an items image from the image store when the item is \n                // getting deleted\n                ImageStore.sharedStore.deleteImageForKey(item.itemKey)\n            }\n        }\n    }\n\n    func moveItemAtIndex(fromIndex: Int, toIndex: Int) {\n        _privateItems.moveObjectAtIndex(fromIndex, toIndex: toIndex)\n    }\n\n    var itemArchivePath: String {\n        // Create a filepath for archiving\n        let documentDirectories = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.UserDomainMask, true)\n        // Get the one document directory from that list\n        let documentDirectory = documentDirectories[0] as String\n        // append with the items.archive file name, then return\n        return documentDirectory.stringByAppendingPathComponent(\"items.archive\")\n    }\n\n    func saveChanges() -&gt; Bool {\n        let path = itemArchivePath\n        // Return \"true\" on success\n        return NSKeyedArchiver.archiveRootObject(_privateItems, toFile: path)\n    }\n}\n</code></pre>\n\n<p>And if you didn't recognize some of those functions, here is a little living Swift utility file I've been using:</p>\n\n<pre><code>import Foundation\nimport UIKit\n\ntypealias completionBlock = () -&gt; ()\n\nextension Array {\n    func contains(#object:AnyObject) -&gt; Bool {\n        return self.bridgeToObjectiveC().containsObject(object)\n    }\n\n    func indexOf(#object:AnyObject) -&gt; Int {\n        return self.bridgeToObjectiveC().indexOfObject(object)\n    }\n\n    mutating func moveObjectAtIndex(fromIndex: Int, toIndex: Int) {\n        if ((fromIndex == toIndex) || (fromIndex &gt; self.count) ||\n            (toIndex &gt; self.count)) {\n                return\n        }\n        // Get object being moved so it can be re-inserted\n        let object = self[fromIndex]\n\n        // Remove object from array\n        self.removeAtIndex(fromIndex)\n\n        // Insert object in array at new location\n        self.insert(object, atIndex: toIndex)\n    }\n}\n\nfunc delayOnMainQueueFor(numberOfSeconds delay:Double, action closure:()-&gt;()) {\n    dispatch_after(\n        dispatch_time(\n            DISPATCH_TIME_NOW,\n            Int64(delay * Double(NSEC_PER_SEC))\n        ),\n        dispatch_get_main_queue()) {\n            closure()\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24439255#24439255", "question_id": 24024549, "answer_id": 24439255}, {"body": "<p>My way of implementation in Swift...</p>\n\n<p><strong>ConfigurationManager.swift</strong></p>\n\n<pre><code>import Foundation\n\n    let ConfigurationManagerSharedInstance = ConfigurationManager()\n class ConfigurationManager : NSObject {\n    var globalDic: NSMutableDictionary = NSMutableDictionary()\n\nclass var sharedInstance:ConfigurationManager {\n    return ConfigurationManagerSharedInstance\n\n}\n\ninit() {\n\n    super.init()\n\n    println (\"Config Init been Initiated, this will be called only onece irrespective of many calls\")   \n\n}\n</code></pre>\n\n<p>Access the globalDic from any screen of the application by the below.</p>\n\n<p>Read:</p>\n\n<pre><code> println(ConfigurationManager.sharedInstance.globalDic)  \n</code></pre>\n\n<p>Write:</p>\n\n<pre><code> ConfigurationManager.sharedInstance.globalDic = tmpDic // tmpDict is any value that to be shared among the application\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/24930634#24930634", "question_id": 24024549, "answer_id": 24930634}, {"body": "<p><strong>First solution</strong></p>\n\n<pre><code>let SocketManager = SocketManagerSingleton();\n\nclass SocketManagerSingleton {\n\n}\n</code></pre>\n\n<p>Later in your code:</p>\n\n<pre><code>func someFunction() {        \n    var socketManager = SocketManager        \n}\n</code></pre>\n\n<p><strong>Second solution</strong></p>\n\n<pre><code>func SocketManager() -&gt; SocketManagerSingleton {\n    return _SocketManager\n}\nlet _SocketManager = SocketManagerSingleton();\n\nclass SocketManagerSingleton {\n\n}\n</code></pre>\n\n<p>And later in your code you will be able to keep braces for less confusion:</p>\n\n<pre><code>func someFunction() {        \n    var socketManager = SocketManager()        \n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/25474418#25474418", "question_id": 24024549, "answer_id": 25474418}, {"body": "<p>Swift Singletons are exposed in the cocoa frameworks as class functions, e.g. <code>NSFileManager.defaultManager()</code>, <code>NSNotificationCenter.defaultCenter()</code>, so I feel it makes more sense as a class function to mirror this behaviour, rather than a class variable as some other solutions use e.g.</p>\n\n<pre><code>class MyClass {\n\n    private static let _sharedInstance = MyClass()\n\n    class func sharedInstance() -&gt; MyClass {\n        return _sharedInstance\n    }\n}\n</code></pre>\n\n<p>Retrieve the singleton via <code>MyClass.sharedInstance()</code></p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/27914514#27914514", "question_id": 24024549, "answer_id": 27914514}, {"body": "<pre><code>   func init() -&gt; ClassA {\n    struct Static {\n        static var onceToken : dispatch_once_t = 0\n        static var instance : ClassA? = nil\n    }\n\n    dispatch_once(&amp;Static.onceToken) {\n        Static.instance = ClassA()\n    }\n\n    return Static.instance!\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/28165503#28165503", "question_id": 24024549, "answer_id": 28165503}, {"body": "<p>Swift 1.2 now supports static variables/constants in classes. So you can just use a static constant:</p>\n\n<pre><code>class MySingleton {\n\n    static let sharedMySingleton = MySingleton()\n\n    private init() {\n        // ...\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/28436202#28436202", "question_id": 24024549, "answer_id": 28436202}, {"body": "<p>Per the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/AdoptingCocoaDesignPatterns.html#singleton\">Apple documentation</a>, it has been repeated many times that the easiest way to do this in Swift is with a static type property:</p>\n\n<pre><code>class Singleton {\n    static let sharedInstance = Singleton()\n}\n</code></pre>\n\n<p>However, if you're looking for a way to perform additional setup beyond a simple constructor call, the secret is to use an immediately invoked closure:</p>\n\n<pre><code>class Singleton {\n    static let sharedInstance: Singleton = {\n        let instance = Singleton()\n        // setup code\n        return instance\n    }()\n}\n</code></pre>\n\n<p>This is guaranteed to be thread-safe and lazily initialized only once.</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/32646313#32646313", "question_id": 24024549, "answer_id": 32646313}, {"body": "<pre><code>final class MediaModel: NSObject {\n\n    static let sharedMyManager = MediaModel()\n\n    private override init() {\n        super.init()\n    }\n}\n</code></pre>\n\n<p>Then call it;</p>\n\n<pre><code>let sharedManager = MediaModel.sharedMyManager\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/33758825#33758825", "question_id": 24024549, "answer_id": 33758825}, {"body": "<p>This is my implementation. It also prevents the programmer from creating a new instance:</p>\n\n<pre><code>let TEST = Test()\n\nclass Test {\n\n    private init() {\n        // This is a private (!) constructor\n    }\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/34491400#34491400", "question_id": 24024549, "answer_id": 34491400}, {"body": "<p>In brief,</p>\n\n<pre><code>class Manager {\n    static let sharedInstance = Manager()\n    private init() {}\n}\n</code></pre>\n\n<p>You may want to read <a href=\"https://developer.apple.com/swift/blog/?id=7\" rel=\"nofollow\">Files and Initialization</a></p>\n\n<blockquote>\n  <p>The lazy initializer for a global variable (also for static members of\n  structs and enums) is run the first time that global is accessed, and\n  is launched as <code>dispatch_once</code> to make sure that the initialization is\n  atomic.</p>\n</blockquote>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/34996627#34996627", "question_id": 24024549, "answer_id": 34996627}, {"body": "<p>I just came across with this, but i required my singleton to allow inheritance, and none of these solutions actually allowed it.</p>\n\n<p>So i came up with this:</p>\n\n<pre><code>public class Singleton {\n  private static var sharedInstanceVar = Singleton()\n\n  public class func sharedInstance()-&gt;Singleton {\n    return sharedInstanceVar\n  }\n}\n\n\n\npublic class SubSingleton: Singleton {\n\n  private static var sharedInstanceToken:dispatch_once_t = 0\n\n  public class override func sharedInstance()-&gt;SubSingleton {\n    dispatch_once(&amp;sharedInstanceToken){\n      sharedInstanceVar = SubSingleton()\n    }\n    return sharedInstanceVar as! SubSingleton\n  }\n}\n</code></pre>\n\n<ul>\n<li>This way when doing Singleton.sharedInstance() first it will return the instance of Singleton</li>\n<li>When doing SubSingleton.sharedInstance() first it will return the instance of SubSingleton created. </li>\n<li>If the above is done, then SubSingleton.sharedInstance() is Singleton is true and the same instance is used.</li>\n</ul>\n\n<p>The issue with this first dirty approach is that i cannot guarantee that subclasses would implement the dispatch_once_t and make sure that sharedInstanceVar is only modified once per class... </p>\n\n<p>I will try to refine this further but it would be interesting to see if anyone has strong feelings against this (besides the fact that is verbose and requires to manually update it)</p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/35190136#35190136", "question_id": 24024549, "answer_id": 35190136}, {"body": "<p>The best approach in swift above 1.2 is one line singleton as - </p>\n\n<pre><code>class Shared: NSObject {\n\nstatic let sharedInstance = Shared()\n\nprivate override init() { }\n}\n</code></pre>\n\n<p>To know more detail about this approach you can visit this <a href=\"http://iosbucket.blogspot.in/2016/04/singleton-in-swift-best-way-to-create.html\" rel=\"nofollow\">link</a></p>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/36814044#36814044", "question_id": 24024549, "answer_id": 36814044}, {"body": "<pre><code>private var sharedURLCacheForRequestsKey:Void?\nextension URLCache{\npublic static func sharedURLCacheForRequests()-&gt;URLCache{\n    var cache = objc_getAssociatedObject(OperationQueue.main, &amp;sharedURLCacheForRequestsKey)\n    if cache is URLCache {\n\n    }else{\n        cache = URLCache(memoryCapacity: 0, diskCapacity: 1*1024*1024*1024, diskPath: \"sharedURLCacheForRequestsKey\")\n        objc_setAssociatedObject(OperationQueue.main, &amp;sharedURLCacheForRequestsKey, cache, .OBJC_ASSOCIATION_RETAIN_NONATOMIC)\n\n    }\n    return cache as! URLCache\n}}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/38324914#38324914", "question_id": 24024549, "answer_id": 38324914}, {"body": "<p><strong>Swift 3+</strong></p>\n\n<pre><code>protocol Singleton: class {\n    static var sharedInstance: Self { get }\n}\n\nfinal class Kraken: Singleton {\n    static let sharedInstance = Kraken()\n    private init() {}\n}\n</code></pre>\n", "title": "Using a dispatch_once singleton model in Swift", "tags": ["swift", "singleton", "dispatch"], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift/39412048#39412048", "question_id": 24024549, "answer_id": 39412048}], "link": "http://stackoverflow.com/questions/24024549/using-a-dispatch-once-singleton-model-in-swift", "question_id": 24024549}, {"body": "<p>Keyboard does not show up when I run the simulator, and then click in the UITextView. How do I re-enable the keyboard?</p>\n\n<p>It used to work but now it doesn't - I don't know what I might have clicked on accident... any tips would be appreciated!</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "answers": [{"body": "<p>It would be difficult to say if there's any issue with your code without checking it out, however this happens to me quite a lot in (Version 6.0 (6A216f)). I usually have to reset the simulator's Content and Settings and/or restart xCode to get it working again. Try those and see if that solves the problem.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/24420893#24420893", "question_id": 24420873, "answer_id": 24420893}, {"body": "<p>I had the same issue. My solution was as follows:</p>\n\n<ol>\n<li>iOS Simulator -> Hardware -> Keyboard</li>\n<li>Uncheck \"Connect Hardware Keyboard\"</li>\n</ol>\n\n<p>Mine was checked because I was using my mac keyboard, but if you make sure it is unchecked the iPhone keyboard will always come up.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/24497773#24497773", "question_id": 24420873, "answer_id": 24497773}, {"body": "<p>While testing in the ios8 beta simulator, you may toggle between the \"software keyboard\" and \"hardware keyboard\" with <strong>\u2318K</strong>.</p>\n\n<p><strong>UPDATE</strong>: Since iOS Simulator 8.0, the shortcut is <strong>\u21e7\u2318K</strong>.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/25053454#25053454", "question_id": 24420873, "answer_id": 25053454}, {"body": "<p><em>Simulator -> Hardware -> Keyboard -> Toggle Software Keyboard</em> should solve this problem.</p>\n\n<p><img src=\"http://i.stack.imgur.com/mJcDq.png\" alt=\"Simulator-&gt;Hardware-&gt;Keyboard-&gt;Toggle Software Keyboard\"></p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/26417447#26417447", "question_id": 24420873, "answer_id": 26417447}, {"body": "<p>You can use Command + Shift + K to show keyboard</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/26587740#26587740", "question_id": 24420873, "answer_id": 26587740}, {"body": "<p><em>To enable/disable simulator keyboard,</em></p>\n\n<p><strong>\u2318 + K (Ctrl + k)</strong></p>\n\n<p><em>To disable input from your keyboard,</em></p>\n\n<p><strong>iOS Simulator -> Hardware -> Keyboard -> Uncheck \"Connect Hardware Keyboard\"</strong></p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/26816314#26816314", "question_id": 24420873, "answer_id": 26816314}, {"body": "<p>This seems to be bug in iOS 8. There are two fix to this problem :</p>\n\n<ol>\n<li><p>Toggle between simulator keyboard and MacBook keyboard using <strong>[Command+K]</strong> shortcut key.</p></li>\n<li><p>Reattach keyboard to simulator :</p>\n\n<p>a. Open Simulator</p>\n\n<p>b. Select <strong>Hardware -> Keyboard</strong></p>\n\n<p>c. Uncheck and then check '<strong>Connect Hardware Keyboard</strong>'</p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/AU9Qd.png\" alt=\"Screenshot for step 2\"></p>\n\n<p>OR simply press <strong>[Shit + Command + K] shortcut key</strong></p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/26884074#26884074", "question_id": 24420873, "answer_id": 26884074}, {"body": "<p>By using Cmd + Shift + K will enable as well as disable keypad.</p>\n", "title": "Xcode 6: Keyboard does not show up in simulator", "tags": ["ios", "keyboard"], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator/35193990#35193990", "question_id": 24420873, "answer_id": 35193990}], "link": "http://stackoverflow.com/questions/24420873/xcode-6-keyboard-does-not-show-up-in-simulator", "question_id": 24420873}, {"body": "<p>There are a lot of questions about this problem on SO:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/4401232/avfoundation-how-to-turn-off-the-shutter-sound-when-capturestillimageasynchrono\">AVFoundation, how to turn off the shutter sound when captureStillImageAsynchronouslyFromConnection?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/9557081/how-can-i-mute-the-capture-sound-in-avfoundation\">How can I mute the capture sound in AVFoundation?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/17040309/i-wish-i-could-mute-shutter-sound-of-camera-using-ios-sdk\">I wish i could mute shutter sound of camera using ios sdk</a></li>\n</ul>\n\n<p>But really no one answer works for me.</p>\n\n<p>How do I capture an image programmatically without the camera shutter sound activating?</p>\n", "title": "Capture image via captureStillImageAsynchronouslyFromConnection with no shutter sound", "question_id": 23758875, "link": "http://stackoverflow.com/questions/23758875/capture-image-via-capturestillimageasynchronouslyfromconnection-with-no-shutter", "tags": ["ios", "objective-c", "avfoundation"]}, {"body": "<p>How do you get the length of a <code>String</code>? For example I have a variable defined like:</p>\n\n<pre><code>var test1: String = \"Scott\"\n</code></pre>\n\n<p>However I can't seem to find a length method on the string.</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "answers": [{"body": "<p>Use the count characters method:</p>\n\n<pre><code>let unusualMenagerie = \"Koala &amp;#128040;, Snail &amp;#128012;, Penguin &amp;#128039;, Dromedary &amp;#128042;\"\nprintln(\"unusualMenagerie has \\(count(unusualMenagerie)) characters\")\n// prints \"unusualMenagerie has 40 characters\"\n</code></pre>\n\n<p>right from the Apple Swift Guide</p>\n\n<p>(note, for versions of Swift earlier than 1.2, this would be <code>countElements(unusualMenagerie)</code> instead)</p>\n\n<p>for your variable, it would be</p>\n\n<pre><code>length = count(test1) // was countElements in earlier versions of Swift\n</code></pre>\n\n<p>Or you can use test1.utf16count</p>\n\n<p><strong>EDIT:</strong>\n<strong>With Swift 2, Apple has changed global functions to protocol extensions</strong>, extensions that match any type conforming to a protocol. Thus the new syntax is:</p>\n\n<pre><code>test1.characters.count\n</code></pre>\n\n<p>(Thanks to JohnDifool for the heads up)</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/24037756#24037756", "question_id": 24037711, "answer_id": 24037756}, {"body": "<p>You could try like this  </p>\n\n<pre><code> var test1: String = \"Scott\"\n var length =  test1.bridgeToObjectiveC().length\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/24037757#24037757", "question_id": 24037711, "answer_id": 24037757}, {"body": "<h1>TLDR:</h1>\n\n<p>Use the <code>test1.characters.count</code>. But, there are a few things you should know. So, read on.</p>\n\n<h1>Counting characters in Swift</h1>\n\n<p>Before Swift 2.0, <code>count</code> was a global function. As of Swift 2.0, it can be called as a member function.</p>\n\n<pre><code>test1.characters.count\n</code></pre>\n\n<p>It will return the actual number of Unicode characters in a <code>String</code>, so it's the most correct alternative in the sense that, if you'd print the string and count characters by hand, you'd get the same result.</p>\n\n<p>However, because of the way <code>Strings</code> are implemented in Swift, characters don't always take up the same amount of memory, so be aware that this behaves quite differently than the usual character count methods in other languages. </p>\n\n<p>For example, you can also explicitly bridge to Objective-C and use the <code>NSString</code> <code>length</code> method.</p>\n\n<pre><code>test1.bridgeToObjectiveC().length\n</code></pre>\n\n<p>This is effectively the same as <code>test1.utf16Count</code></p>\n\n<p>But, as noted below, the returned value is not guaranteed to be the same as that of calling <code>count()</code></p>\n\n<p>From the language reference:</p>\n\n<blockquote>\n  <p>Different Unicode characters and different representations of the same\n  Unicode character can require different amounts of memory to store.\n  Because of this, characters in Swift do not each take up the same\n  amount of memory within a string\u2019s representation. As a result, the\n  length of a string cannot be calculated without iterating through the\n  string to consider each of its characters in turn. If you are working\n  with particularly long string values, be aware that the countElements\n  function must iterate over the characters within a string in order to\n  calculate an accurate character count for that string.</p>\n  \n  <p>Note also that the character count returned by countElements is not\n  always the same as the length property of an NSString that contains\n  the same characters. The length of an NSString is based on the number\n  of 16-bit code units within the string\u2019s UTF-16 representation and not\n  the number of Unicode characters within the string. To reflect this\n  fact, the length property from NSString is called utf16Count when it\n  is accessed on a Swift String value.\u201d</p>\n</blockquote>\n\n<p>An example that perfectly illustrates the situation described above is that of checking the length of a string containing a single emoji character, as pointed out by <a href=\"http://stackoverflow.com/users/397230/n00neimp0rtant\">n00neimp0rtant</a> in the comments.</p>\n\n<pre><code>var emoji = \"\ud83d\udc4d\"\nemoji.characters.count              //returns 1\nemoji.utf16Count                  //returns 2\nemoji.bridgeToObjectiveC().length //returns 2\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/24037759#24037759", "question_id": 24037711, "answer_id": 24037759}, {"body": "<p>Here's something shorter, and more natural than using a global function:</p>\n\n<pre><code>aString.utf16count\n</code></pre>\n\n<p>I don't know if it's available in beta 1, though. But it's definitely there in beta 2.</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/24294267#24294267", "question_id": 24037711, "answer_id": 24294267}, {"body": "<p>Updated for Xcode 6 beta 4, change method utf16count --> utf16Count</p>\n\n<pre><code> var test1: String = \"Scott\"\n var length =  test1.utf16Count\n</code></pre>\n\n<p>Or</p>\n\n<pre><code> var test1: String = \"Scott\"\n var length = test1.lengthOfBytesUsingEncoding(NSUTF16StringEncoding)\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/24879473#24879473", "question_id": 24037711, "answer_id": 24879473}, {"body": "<p>If you are just trying to see if a string is empty or not (checking for length of 0), Swift offers a simple boolean test method on <code>String</code></p>\n\n<pre><code>myString.isEmpty\n</code></pre>\n\n<p>The other side of this coin was people asking in ObjectiveC how to ask if a string was empty where the answer was to check for a length of 0:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3436173/nsstring-is-empty\">NSString is empty</a></p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/25575326#25575326", "question_id": 24037711, "answer_id": 25575326}, {"body": "<p><strong>tl;dr</strong> If you want the length of a String type in terms of the number of human-readable characters, use <strong>countElements()</strong>. If you want to know the length in terms of the number of <em>extended grapheme clusters</em>, use <strong>endIndex</strong>. Read on for details.</p>\n\n<p>The <strong>String</strong> type is implemented as an ordered collection (i.e., sequence) of Unicode characters, and it conforms to the <strong>CollectionType</strong> protocol, which conforms to the <strong>_CollectionType</strong> protocol, which is the input type expected by <strong>countElements()</strong>. Therefore, <strong>countElements()</strong> can be called, passing a <strong>String</strong> type, and it will return the count of characters.</p>\n\n<p>However, in conforming to <strong>CollectionType</strong>, which in turn conforms to <strong>_CollectionType</strong>, <strong>String</strong> also implements the <strong>startIndex</strong> and <strong>endIndex</strong> computed properties, which actually represent the position of the index <em>before</em> the first character cluster, and position of the index <em>after</em> the last character cluster, respectively. So, in the string \"ABC\", the position of the index before A is 0 and after C is 3. Therefore, <strong>endIndex</strong> = 3, which is also the length of the string.</p>\n\n<p>So, <strong>endIndex</strong> can be used to get the length of any String type, then, right?</p>\n\n<p>Well, not always...Unicode characters are actually <em>extended grapheme clusters</em>, which are sequences of one <em>or more</em> Unicode scalars combined to create a single human-readable character.</p>\n\n<pre><code> let circledStar: Character = \"\\u{2606}\\u{20DD}\" // \u2606\u20dd\n</code></pre>\n\n<p><strong>circledStar</strong> is a single character made up of U+2606 (a white star), and U+20DD (a combining enclosing circle). Let's create a <strong>String</strong> from <strong>circledStar</strong> and compare the results of <strong>countElements()</strong> and <strong>endIndex</strong>.</p>\n\n<pre><code>  let circledStarString = \"\\(circledStar)\"\n  countElements(circledStarString) // 1\n  circledStarString.endIndex // 2\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/25581673#25581673", "question_id": 24037711, "answer_id": 25581673}, {"body": "<pre><code>var str = \"Hello, playground\"\nvar newString = str as NSString    \n\ncountElements(str)\n</code></pre>\n\n<p>This counts the characters in Regular Swift String</p>\n\n<pre><code>countElements((newString as String))    \n</code></pre>\n\n<p>This counts the characters in a NSString</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/26344319#26344319", "question_id": 24037711, "answer_id": 26344319}, {"body": "<pre><code>let str = \"Hello\"\nlet count = str.length    // returns 5 (Int)\n\nextension String {\n    var length: Int { return countElements(self) }  // Swift 1.1\n}\nextension String {\n    var length: Int { return count(self)         }  // Swift 1.2\n}\nextension String {\n    var length: Int { return characters.count    }  // Swift 2.0\n}\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/26516178#26516178", "question_id": 24037711, "answer_id": 26516178}, {"body": "<p>If you are looking for a cleaner way to get length of a string checkout this library which has bunch of extensions to the Swift built in classes <a href=\"http://www.dollarswift.org/#length\" rel=\"nofollow\">http://www.dollarswift.org/#length</a></p>\n\n<p>Using this library you can just do <code>\"Some Str\".length</code></p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/27083191#27083191", "question_id": 24037711, "answer_id": 27083191}, {"body": "<p>As of Swift 1.2 <code>utf16Count</code> has been removed. You should now use the global <code>count()</code> function and pass the UTF16 view of the string. Example below...</p>\n\n<pre><code>let string = \"Some string\"\ncount(string.utf16)\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/28728313#28728313", "question_id": 24037711, "answer_id": 28728313}, {"body": "<p>in xcode 6.1.1 </p>\n\n<pre><code>extension String\n{    \n    var length : Int { return self.utf16Count  }\n}\n</code></pre>\n\n<p>i think that brainiacs will change this on every minor version.</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/29004701#29004701", "question_id": 24037711, "answer_id": 29004701}, {"body": "<p>another option would be:</p>\n\n<pre><code>Array(str).count\n</code></pre>\n\n<p>might not be as performance friendly tho</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/29546020#29546020", "question_id": 24037711, "answer_id": 29546020}, {"body": "<p>Best way to count String in Swift is this:</p>\n\n<pre><code>var str = \"Hello World\"\nvar length = count(str.utf16)\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/29602875#29602875", "question_id": 24037711, "answer_id": 29602875}, {"body": "<p><strike>Swift 1.2 Update: There's no longer a countElements for counting the size of collections. Just use the count function as a replacement: count(\"Swift\")</strike></p>\n\n<p>Swift 2.0 Update:</p>\n\n<blockquote>\n  <p><strong>let strLength = string.characters.count</strong></p>\n</blockquote>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/29640421#29640421", "question_id": 24037711, "answer_id": 29640421}, {"body": "<p>In Swift 2.0 <code>count</code> doesn't work anymore. You can use this instead:</p>\n\n<pre><code>var testString: String = \"Scott\"\nvar length = testString.characters.count\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/30829374#30829374", "question_id": 24037711, "answer_id": 30829374}, {"body": "<p>String and NSString are toll free bridge so you can use all methods available to NSString with swift String</p>\n\n<pre><code>let x = \"test\" as NSString\nlet y : NSString = \"string 2\"\nlet lenx = x.count\nlet leny = y.count\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/30942355#30942355", "question_id": 24037711, "answer_id": 30942355}, {"body": "<p>Using <strong>Xcode 6.4</strong>, <strong>Swift 1.2</strong> and <strong>iOS 8.4</strong>:</p>\n\n<pre><code>    //: Playground - noun: a place where people can play\n\n    import UIKit\n\n    var str = \"  He\\u{2606}  \"\n    count(str) // 7\n\n    let length = count(str.stringByTrimmingCharactersInSet(NSCharacterSet.whitespaceAndNewlineCharacterSet())) as Int // 3\n    println(length == 3) // true\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/31639074#31639074", "question_id": 24037711, "answer_id": 31639074}, {"body": "<p>None of this worked for me. After struggling, I found the following code:</p>\n\n<p>distance(string.startIndex, string.endIndex)</p>\n\n<p>At the moment I am working with swift 1.0., because swift 1.2 is in Xcode 7 and it is a beta.</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/31890476#31890476", "question_id": 24037711, "answer_id": 31890476}, {"body": "<p>You can add this function to your extention</p>\n\n<pre><code>extension NSString { \n    func charLength() -&gt; Int {\n        return count(self as String)\n    }\n}\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/32345213#32345213", "question_id": 24037711, "answer_id": 32345213}, {"body": "<p>Swift 2.0:\nGet a count: <code>yourString.text.characters.count</code></p>\n\n<p>Fun example of how this is useful would be to show a character countdown from some number (150 for example) in a UITextView:</p>\n\n<pre><code>func textViewDidChange(textView: UITextView) {\n    yourStringLabel.text = String(150 - yourStringTextView.text.characters.count)\n}\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/32881159#32881159", "question_id": 24037711, "answer_id": 32881159}, {"body": "<p>Objective C:- String.length\nSwift2.0 :- String.character.count</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/33910446#33910446", "question_id": 24037711, "answer_id": 33910446}, {"body": "<p>in Swift 2.x the following is how to find the length of a string</p>\n\n<pre><code>let findLength = \"This is a string of text\"\nfindLength.characters.count\n</code></pre>\n\n<p>returns 24</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/34481663#34481663", "question_id": 24037711, "answer_id": 34481663}, {"body": "<p>You could use SwiftString (<a href=\"https://github.com/amayne/SwiftString\" rel=\"nofollow\">https://github.com/amayne/SwiftString</a>) to do this. </p>\n\n<p><code>\"string\".length // 6</code></p>\n\n<p>DISCLAIMER: I wrote this extension</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/35243999#35243999", "question_id": 24037711, "answer_id": 35243999}, {"body": "<pre><code>test1.characters.count\n</code></pre>\n\n<p>will get you the number of letters/numbers etc in your string.</p>\n\n<p>ex:</p>\n\n<pre><code>test1 = \"StackOverflow\"\n\nprint(test1.characters.count)\n</code></pre>\n\n<p>(<strong>prints</strong> \"<strong><em>13</em></strong>\")</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/35817970#35817970", "question_id": 24037711, "answer_id": 35817970}, {"body": "<p>You can use <code>str.utf8.count</code> and <code>str.utf16.count</code> which, I think, are the best solution</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/37235729#37235729", "question_id": 24037711, "answer_id": 37235729}, {"body": "<p>For XCode 7.3 and Swift 2.2.</p>\n\n<pre><code>let str = \"\ud83d\udc36\"\n</code></pre>\n\n<p><strong>1)</strong> If you want the number of visual characters:</p>\n\n<pre><code>str.characters.count // 1\n</code></pre>\n\n<p><strong>2)</strong> If you want the <code>16-bit code units within the string\u2019s UTF-16 representation</code>:</p>\n\n<pre><code>str.utf16.count // 2\n</code></pre>\n\n<hr>\n\n<hr>\n\n<hr>\n\n<p>Most of the time, 1) is what you need.</p>\n\n<p>When would you need 2)? I've found a use case for 2):</p>\n\n<pre><code>let regex = try! NSRegularExpression(pattern:\"\ud83d\udc36\", \n    options: NSRegularExpressionOptions.UseUnixLineSeparators)\nlet str = \"\ud83d\udc36\ud83d\udc36\ud83d\udc36\ud83d\udc36\ud83d\udc36\ud83d\udc36\"\nlet result = regex.stringByReplacingMatchesInString(str, \n    options: NSMatchingOptions.WithTransparentBounds, \n    range: NSMakeRange(0, str.utf16.count), withTemplate: \"dog\")\nprint(result) // dogdogdogdogdogdog\n</code></pre>\n\n<p>If you use 1), the result is incorrect:</p>\n\n<pre><code>let result = regex.stringByReplacingMatchesInString(str, \n    options: NSMatchingOptions.WithTransparentBounds, \n    range: NSMakeRange(0, str.characters.count), withTemplate: \"dog\")\nprint(result) // dogdogdog\ud83d\udc36\ud83d\udc36\ud83d\udc36\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/38169126#38169126", "question_id": 24037711, "answer_id": 38169126}, {"body": "<pre><code>let myString = \"Hello this is testing string\"\nlet length = myString.utf16.count\nprint(\"Lenght of the string : \\(lenght)\")\n</code></pre>\n\n<p>This is one way to get the length of the string in swift. </p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/38276698#38276698", "question_id": 24037711, "answer_id": 38276698}, {"body": "<p>Apple made it different from other major language. The current way is to call:</p>\n\n<p>test1.characters.count</p>\n\n<p>However, to be careful, when you say length you mean the count of characters not the count of bytes, because those two can be different when you use non-ascii characters.</p>\n\n<p>For example;\n      <code>\"\u4f60\u597d\u554ahi\".characters.count</code> will give you 5 but this is not the count of the bytes.\n      To get the real count of bytes, you need to do <code>\"\u4f60\u597d\u554ahi\".lengthOfBytes(using: String.Encoding.utf8)</code>. This will give you 11.</p>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/39195419#39195419", "question_id": 24037711, "answer_id": 39195419}, {"body": "<p>Right now (in Swift 2.3) if you use:</p>\n\n<pre><code>myString.characters.count \n</code></pre>\n\n<p>the method will return a \"Distance\" type, if you need the method to return an Integer you should type cast like so:</p>\n\n<pre><code>var count = myString.characters.count as Int\n</code></pre>\n", "title": "Get the length of a String", "tags": ["ios", "string", "osx", "swift"], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string/39257372#39257372", "question_id": 24037711, "answer_id": 39257372}], "link": "http://stackoverflow.com/questions/24037711/get-the-length-of-a-string", "question_id": 24037711}, {"body": "<p>Searching the web, it is not clear if Java 8 is supported for Android development or not.</p>\n\n<p>Before I download/setup Java 8, can some one point me at any \"official\" documentation that say Java 8 is or is not supported for Android development.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "answers": [{"body": "<p>I think it is too early to say if Java 8 is suitable for Android development, officially Android needs the Java 6 JDK as mentioned at the bottom of this page: <a href=\"https://developer.android.com/sdk/installing/installing-adt.html\">https://developer.android.com/sdk/installing/installing-adt.html</a></p>\n\n<p>If you installed the Java 8 JDK, then give it a try, if any problems appears try to set the compiler as 1.6 in Eclipse from window menu \u2192 <strong>Preferences</strong> \u2192 <strong>Java</strong> \u2192 <strong>Compiler</strong>.\nBy the way, this is works for me with Java 7:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SCTyV.png\" alt=\"Eclipse Preferences -&gt; Java -&gt; Compiler\"></p>\n\n<h1>Update:</h1>\n\n<p>According to the <a href=\"http://developer.android.com/sdk/installing/index.html?pkg=studio\">Installing Android Studio</a> web page, to build apps for Android 5.0 and higher, JDK 7 is required:</p>\n\n<blockquote>\n  <p>Before you set up Android Studio, be sure you have installed JDK 6 or higher (the JRE alone is not sufficient)\u2014JDK 7 is required when developing for Android 5.0 and higher. To check if you have JDK installed (and which version), open a terminal and type <code>javac -version</code>. If the JDK is not available or the version is lower than 6, <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\">go download JDK</a>.</p>\n</blockquote>\n\n<h1>Update 2:</h1>\n\n<p>Officially:</p>\n\n<blockquote>\n  <p>Java 7 or higher is required if you are targeting Android 5.0 and\n  higher.</p>\n</blockquote>\n\n<p>this is implicit announce that Java 8 will work too, this is mentioned in eclipse plugin ADT page, but not mentioned in Android studio page or not updated yet. </p>\n\n<p>Unofficially: install multiple JDK and try.</p>\n\n<p><a href=\"http://developer.android.com/tools/sdk/eclipse-adt.html\">eclipse plugin ADT page:</a> </p>\n\n<p><a href=\"http://developer.android.com/sdk/index.html#Requirements\">Android studio page:</a></p>\n\n<h1>Java 8:</h1>\n\n<p>Now it is possible to use some features of java 8 using the new toolchain called <a href=\"http://tools.android.com/tech-docs/jackandjill\">Jack &amp; Jill</a>, as mentioned in <a href=\"https://youtu.be/B08iLAtS3AQ?t=28m14s\">GOOGLE I/O 2016</a> , but still does not support all java 8 features.\nFor a how-to see <a href=\"https://developer.android.com/preview/j8-jack.html\">Java 8 Language Features | Android Developers</a>.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/23318269#23318269", "question_id": 23318109, "answer_id": 23318269}, {"body": "<p>Android does not support Java 8. It only supports up to Java 7 (if you have kitkat) and still it doesn't have invokedynamic, only the new syntax sugar.</p>\n\n<p>If you want to use lambdas, one of the major features of Java 8 in Android, you can use <a href=\"https://github.com/evant/gradle-retrolambda\">gradle-retrolamba</a>. It's a gradle build dependency that integrates retrolambda, a tool that converts Java 8 bytecode back to Java 6/7. Basically, if you set the compiler in Android Studio to compile Java 8 bytecode, thus allowing lambdas, it'll convert it back to Java 6/7 bytecode which then in turn gets converted to dalvik bytecode. It's a hack for if you want to try out some JDK 8 features in Android in lieu of official support.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/23318644#23318644", "question_id": 23318109, "answer_id": 23318644}, {"body": "<p>Android uses a Java that branches off of Java 6.</p>\n\n<p>As of Android SDK version 19, you can use Java 7 features <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Using-sourceCompatibility-1.7\">by doing this</a>.  No full support for Java 8 (yet).</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/26476839#26476839", "question_id": 23318109, "answer_id": 26476839}, {"body": "<p>You can indeed use <code>gradle-retrolamba</code> gradle build dependency to use Java 8 for Android Development.</p>\n\n<p>Below is the complete guide that I have recently followed to run lambda expressions for Android development. The original source of this guide is mentioned at the end.</p>\n\n<blockquote>\n  <p>In this guide, a method for bringing some <strong>Java 8</strong> features into\n  Android Development Tools will be demonstrated, specifically aiming at\n  <em>Eclipse IDE</em>. However, steps which will be described throughout this guide might also be adapted to Google\u2019s new uprising development\n  environment, Android Studio. It is based on the community edition of\n  popular IntelliJ Idea IDE by JetBrains and it has recently been\n  upgraded to its \u2018beta\u2019 version by Google in early July 2014, slightly\n  before this guide was written. Eclipse will remain as the prominent\n  development environment, at least for a while, and considering the\n  fact that most Android projects have been developed using Eclipse, a\n  method for bringing new Java 8 features like lambda expressions into\n  ADT seems to be quite useful for developers.</p>\n  \n  <p>Android Development is based on a custom Java implementation called\n  Apache Harmony Project which was terminated back in 2011. The most\n  commonly used Java syntax in Android Development is Java 6 (v1.6) and\n  Java 7 (v1.7) is also partially supported on the KitKat edition\n  (Android 4.4.+). Therefore, Java 8 features like lambda expressions\n  cannot be used directly in the Android App Development without\n  applying some tweaks into the development tools. Luckily, these\n  constructs are basically some \u2018syntactic sugar\u2019 enhancements which\n  give developers the shortcomings of things like \u2018anonymous classes\u2019\n  and they can be translated into Java 6 or Java 7 classes.</p>\n  \n  <p>A recent approach for translating a Java 8 source code into lower Java\n  versions is called <strong>RetroLambda</strong>. This library makes developers run\n  Java 8 code with lambda expressions on Java 7 or even lower.\n  Unfortunately, Java 8 features other than lambda expressions are not\n  supported by RetroLambda for now but the concept of lambda expressions\n  is the biggest leap on Java 8 platform and it\u2019s a great tool for\n  Android developers anyway. </p>\n  \n  <p>Details about this library can be found on its GitHub page:</p>\n  \n  <p><a href=\"https://github.com/orfjackal/retrolambda#getting-started\">https://github.com/orfjackal/retrolambda#getting-started</a></p>\n  \n  <p>Also, a Gradle plugin for RetroLambda created by another developer\n  allows Gradle-based builds to be implemented in Java or Android\n  Projects. However, the developer only mentions about integrating this\n  plugin into Android Studio environment. Details can be found on its\n  GitHub page:</p>\n  \n  <p><a href=\"https://github.com/evant/gradle-retrolambda\">https://github.com/evant/gradle-retrolambda</a></p>\n  \n  <p>Using these infrastructures within an Eclipse-based development\n  environment cannot be approached directly but it\u2019s doable and will be\n  demonstrated throughout this guide.</p>\n</blockquote>\n\n<h2><strong>Preparation</strong></h2>\n\n<p>This guide assumes that the reader has a basic understanding of Android Development and it is based on ADT version 22.6.2 because recent ADT version 23.0.2 seems to have problems like layout folder creation. Details about this issue can be found under the following link:</p>\n\n<p><a href=\"http://code.google.com/p/android/issues/detail?id=72591\">http://code.google.com/p/android/issues/detail?id=72591</a></p>\n\n<p>Steps in this guide will be given for a <em>Windows 8.1, 64-bit</em> development machine but they can easily be adapted to other platforms. The new build system <code>Gradle</code> will be used for build/clean processes and its installation procedure will also be provided. Also, both <code>JDK 8</code> and <code>JDK 7</code> must coexist on the development machine. Steps given below must be followed to install them:</p>\n\n<ul>\n<li>Go to JDK 8 early access preview page <a href=\"http://jdk8.java.net\">http://jdk8.java.net</a></li>\n<li>Download JDK 8u20 and install it. JRE 8 installation is not necessary and it can be skipped</li>\n<li>Go to JDK 7 latest stable release page <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html\">http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html</a></li>\n<li>Download JDK 7u65 and install it. JRE 7 installation is again not necessary and it can be skipped</li>\n<li>Add JDK 8 home folder and JDK 8 <code>bin</code> folder to your <code>%PATH%</code> variable</li>\n<li>Create a new environment variable <code>JAVA_HOME</code> with the value of the path of JDK 8 home folder</li>\n<li>Create a new environment variable <code>JAVA8_HOME</code> again with the value of the path of JDK 8 home folder</li>\n<li>Create a new environment variable <code>JAVA7_HOME</code> with the value of the path of JDK 7 home folder</li>\n<li>Open a terminal window and run <code>java -version</code> command and verify that Java 8 is up and running</li>\n<li>Run <code>javac -version</code> command in the same window and verify that JDK 8 Java compiler is also up and running</li>\n</ul>\n\n<p>Now, ADT-22.6.2 must be downloaded from the following link:</p>\n\n<p><a href=\"http://dl.google.com/android/adt/22.6.2/adt-bundle-windows-x86_64-20140321.zip\">http://dl.google.com/android/adt/22.6.2/adt-bundle-windows-x86_64-20140321.zip</a></p>\n\n<ul>\n<li>Download ADT and unzip its contents into a folder, e.g. <code>D:\\adt</code></li>\n<li>Define a new environment variable called <code>ANDROID_HOME</code> with the value of the path of your ADT installation folder, e.g. <code>D:\\adt\\sdk</code></li>\n<li>Add your <code>Andoid SDK Platform Tools</code> and <code>Andoid SDK Tools</code> folders, e.g. <code>D:\\adt\\sdk\\tools</code> and <code>D:\\adt\\sdk\\platform-tools</code>, to your <code>%PATH%</code> variable</li>\n<li>Create a shortcut to Eclipse IDE if you like. It is located under your ADT installation folder, e.g. <code>D:\\adt\\eclipse</code></li>\n<li>Run Eclipse IDE and create a workspace, e.g. <code>D:\\adt\\workspace</code></li>\n<li>Click on the <code>Android SDK Manager</code> button which is located on the toolbar</li>\n<li>Select <code>Android SDK Build tools Rev. 19.1</code> and <code>Android Support Library</code> only. Un-select everything else and install these two packages.</li>\n</ul>\n\n<p>If everything goes well, ADT will be up and running.</p>\n\n<p><strong>The installation of the following tools is also highly recommended:</strong></p>\n\n<ul>\n<li><p>Eclipse Kepler Java 8 Support: It makes Eclipse recognize new Java 8 syntax extensions and makes you get rid of annoying <code>red dots</code> in your Java code editor. It might be installed through <code>Help -&gt; Install New Software</code> in Eclipse. Enter <a href=\"http://download.eclipse.org/eclipse/updates/4.3-P-builds/\">http://download.eclipse.org/eclipse/updates/4.3-P-builds/</a> into the <code>Work with</code> field and continue to install it.</p></li>\n<li><p>Nodeclipse/Enide Gradle: It is mainly used to highlight Groovy language keywords. Groovy is used as the DSL for Gradle build scripts. This plugin can be installed through <code>Eclipse Marketplace</code>. However, Eclipse within ADT-22.6.2 does not come along with <code>Eclipse Marketplace Client</code>. Therefore, you will first need to install <code>Eclipse Marketplace Client</code> by means of <code>Install New Software</code> tool in Eclipse. Enter http//:download.eclipse.org/mpc/kepler/ into the <code>Work with</code> field and continue to install it. After installing <code>Eclipse Marketplace Client</code>, you may search for <code>Nodeclipse/Enide Gradle</code> in the <code>Eclipse Marketplace Client</code> and install it.</p></li>\n<li><p>Genymotion Virtual Device: It is a great replacement of the default <code>Android Virtual Device</code> which comes along with ADT. AVD is annoyingly cumbersome and it keeps on crashing for no reason. Genymotion makes you prepare Android VD's using <code>CyanogenMod</code> images which are executed by <em>Oracle VirtualBox</em>. Its single user license is for free and it can be downloaded from <a href=\"http://www.genymotion.com\">http://www.genymotion.com</a>. Only a login is required and it can also be integrated into Eclipse. Details can be found under:</p></li>\n</ul>\n\n<p><a href=\"https://cloud.genymotion.com/page/doc/#collapse8\">https://cloud.genymotion.com/page/doc/#collapse8</a></p>\n\n<p>Below is a screenshot of an Android 4.3 based CyanogenMod virtual device,</p>\n\n<p><img src=\"http://i.stack.imgur.com/iow9j.png\" alt=\"enter image description here\"></p>\n\n<p>It might be considered as a fully-fledge Android device running on a x86 or x64 based personal computer. In order to use Google services like <code>Google PlayStore</code> on this virtual device, a <code>gapps</code> image for the Android version that it uses must be flashed onto the device. A proper <code>gapps</code> image for the device might be downloaded from CyanogenMod website:</p>\n\n<p><a href=\"http://wiki.cyanogenmod.org/w/Google_Apps\">http://wiki.cyanogenmod.org/w/Google_Apps</a></p>\n\n<p>Gradle installation is optional since it is also provided by Android SDK itself but its separate installation is highly recommended. Installation of it might be conducted by following these steps:</p>\n\n<ul>\n<li><p>Go to Gradle web site: <a href=\"http://www.gradle.org/\">http://www.gradle.org/</a></p></li>\n<li><p>Click <code>Downloads</code></p></li>\n<li>Under <code>Previous Releases</code> choose version 1.10 and download either gradle-1.10-all.zip or gradle-1.10-bin.zip</li>\n<li>Unzip its contents into a folder, e.g. <code>D:\\adt\\gradle</code></li>\n<li>Define a new environment variable called <code>GRADLE_HOME</code> with the value of the path of your Gradle installation folder, e.g. <code>D:\\adt\\gradle</code></li>\n<li>Add your Gradle binaries folder, e.g. <code>D:\\adt\\gradle\\bin</code>, to your <code>%PATH%</code> variable</li>\n<li>Open a terminal window and run <code>gradle -v</code> command and verify that it`s up and running\nIf you have come up to this point successfully then it means that you are ready to create your first Android App using Java 8 features.</li>\n</ul>\n\n<h2><strong>Demo App</strong></h2>\n\n<p>A simple app will be created to demonstrate the usage of the tools which were described in the previous section. \nYou may simply follow the steps given below to get an insight on using lambda expressions in Android Developer Tools:</p>\n\n<ul>\n<li>Run Eclipse IDE and create a new Android App by selecting <code>File -&gt; New -&gt; Other -&gt; Android -&gt; Android Application Project</code></li>\n<li>Fill in the form that comes up as shown below:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/JVoe4.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Simply click the <code>Next</code> button on the following forms and click the <code>Finish</code> button on the last one. Wait till ADT finishes loading up the project</li>\n<li>Right-click on the project and select <code>New -&gt; Folder</code> and name it <code>builders</code></li>\n<li>Right-click on the <code>gen (Generated Java Files)</code> folder and delete it. Gradle will generate the same files for us soon and we will add them into the project<code>s build path. The</code>gen` folder created by the default Ant builder is no longer needed and the artifacts under that folder will be obsolete</li>\n<li><p>Create following batch files under the <code>builders</code> folder:</p>\n\n<ul>\n<li>gradle_build.cmd</li>\n<li>gradle_post_build.cmd</li>\n<li>gradle_clean.cmd</li>\n</ul></li>\n<li><p>Fill in these batch files as follows:</p></li>\n</ul>\n\n<p><strong>gradle_build.cmd:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/8cUqV.png\" alt=\"enter image description here\"></p>\n\n<p><strong>gradle_post_build.cmd:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/5zYJt.png\" alt=\"enter image description here\"></p>\n\n<p><strong>gradle_clean.cmd:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/YBqEe.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Un-select <code>Project -&gt; Build Automatically</code> menu option</li>\n<li>Right-click on the project and select <code>Properties -&gt; Builders</code> and un-select all default builders provided by ADT</li>\n<li>Click the <code>New</code> button in the same window and select <code>Program</code> and click <code>OK</code></li>\n<li>New builder configuration window will appear. Fill in its tabs as follows:</li>\n</ul>\n\n<p><strong><code>Main</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/w1Rw4.png\" alt=\"enter image description here\"></p>\n\n<p><strong><code>Refresh</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/YpGL5.png\" alt=\"enter image description here\"></p>\n\n<p><strong><code>Environment</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/0OSHU.png\" alt=\"enter image description here\"></p>\n\n<p><strong><code>Build Options</code> Tab of the new Builder Configuration</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/5BoyE.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Create the second builder called <code>Gradle_Post_Build</code> that uses <code>gradle_post_build.cmd</code> as its program. All other settings of this builder must exactly be the same with the previously created builder. This builder will be responsible for copying the artifacts created by the build process into the <code>bin</code> folder.</li>\n<li>Create the third builder called <code>Gradle_Cleaner</code> that uses <code>gradle_clean.cmd</code> as its program. Only <code>Run the builder</code> setting in the final tab must be set as <code>During a Clean</code>. All other settings of this builder must exactly be the same with the first builder. This builder will be responsible for cleaning the artifacts created by the build process as the name suggests.</li>\n</ul>\n\n<p><strong>New Builders of the <code>HelloLambda</code> Project</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/0DC3V.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Right-click on the project and select <code>Export</code></li>\n<li>Select <code>Android -&gt; Generate Gradle Build Files</code> and click <code>Next</code></li>\n<li>Select the project in the next window and click <code>Finish</code></li>\n<li>Go to your project's root folder and delete the files <code>gradlew</code> and <code>gradlew.bat</code>. Also delete <code>gradle</code> folder</li>\n<li>Switch back to Eclipse and select <code>Project -&gt; Clean</code> menu option. Fill in the form that shows up as follows:</li>\n</ul>\n\n<p><strong><code>Clean Project</code> Window</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/Yn4Sz.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Click <code>OK</code> and wait till the cleaning process completes</li>\n<li>Add the Java code snippet given below right after the call to <code>setContentView</code> function in your <code>MainActivity</code> class:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/XqeCX.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Change the beginning of the <code>build.gradle</code> file till the <code>sourceCompatibility</code> section as follows:</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/GSS1F.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Right-click on the project and select <code>Properties -&gt; Java Compiler</code> option and set all compliance levels to Java 8. This will make Eclipse recognize new Java 8 constructs like lambda expressions.</li>\n<li>Click <code>No</code> in the notification window</li>\n<li>Right-click on the project and select <code>Build project</code>. Eclipse will start building the project.</li>\n</ul>\n\n<p><strong>Build Process</strong>\n<img src=\"http://i.stack.imgur.com/1JNEM.png\" alt=\"enter image description here\"></p>\n\n<ul>\n<li><p>Right-click on the project and go to <code>Properties -&gt; Java Build Path</code>. Add the following folders to the build path (also shown in below image):</p>\n\n<ul>\n<li><code>build\\source\\buildConfig\\debug</code></li>\n<li><code>build\\source\\r\\debug</code></li>\n</ul></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/q5Yiv.png\" alt=\"enter image description here\"></p>\n\n<p>Eclipse will now be able to recognize <code>R.java</code> and <code>buildConfig.java</code> files and it will not display any <code>red dots</code> which denote errors related to the resource files of the project.</p>\n\n<ul>\n<li>Create a new <code>Run Configuration</code> for your Android target platform by right-clicking on the project and then selecting <code>Run As -&gt; Run Configurations</code>. For instance, this demo application looks like shown below on the Genymotion VD:</li>\n</ul>\n\n<h2><strong>HelloLambda Application</strong></h2>\n\n<p><img src=\"http://i.stack.imgur.com/9paAZ.png\" alt=\"enter image description here\"></p>\n\n<p>You may observe in the <code>LogCat</code> window that the code snippet with a simple lambda expression works properly</p>\n\n<p><img src=\"http://i.stack.imgur.com/6lYDI.png\" alt=\"enter image description here\"></p>\n\n<p>Source: <a href=\"https://hakanyamanyar.wordpress.com/2014/07/08/using-java-8-lambda-expressions-in-android-developer-tools/\">Using Java 8 Lambda Expressions in Android Developer Tools</a></p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/28394024#28394024", "question_id": 23318109, "answer_id": 28394024}, {"body": "<h1>Update</h1>\n\n<p>Now it is possible </p>\n\n<p>But you will need to have your device rom run on java 1.8 to run it.</p>\n\n<p>add these lines to build_gradle </p>\n\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<hr>\n\n<p>Java 8 seem to be the running java engine of Android studio 2.0, \nBut it still does not accept the syntax of java 8 after I checked, and you cannot chose a compiler from android studio now. However, you can use the scala plugin if you need functional programming mechanism in your android client. </p>\n\n<p><a href=\"http://i.stack.imgur.com/XVIKB.png\"><img src=\"http://i.stack.imgur.com/XVIKB.png\" alt=\"enter image description here\"></a></p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/33918771#33918771", "question_id": 23318109, "answer_id": 33918771}, {"body": "<p>We Can Use Java 8 using:</p>\n\n\n\n<ol>\n<li><p>In build.gradle (Project: myProject) add following</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>classpath 'me.tatarka:gradle-retrolambda:x.x.x' //x.x.x is recent version\n</code></pre></li>\n<li><p>In build.gradle (Module: myModule) add following</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>apply plugin: 'me.tatarka.retrolambda'\n\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre></li>\n</ol>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/34395563#34395563", "question_id": 23318109, "answer_id": 34395563}, {"body": "<p>When I asked this question almost 2 years ago the answer really was \u201cofficially\u201d no,  but as pointed out by ekcr1's answer you can get one of the most highly anticipated features (lambdas) to work if you  use retrolamba.  At the time I was still using eclipse, as Android Studio was in \u201cpreview\u201d mode,  so I never did pursue this path.</p>\n\n<p>Today, I think the \u201cofficial\u201d answer is still no,  and while retrolamba still seems like a good way to go, there is another option for those willing to go down a somewhat \u201cunofficial\u201d  route can take, namely Kotlin.</p>\n\n<p>Today Kotlin reached 1.0.0.  For those not familiar with Kotlin,  more info can be found at their website found here:</p>\n\n<p><a href=\"https://kotlinlang.org\">https://kotlinlang.org</a></p>\n\n<p>or watch this utube video of a talk given by Jake Wharton</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=A2LukgT2mKc\">https://www.youtube.com/watch?v=A2LukgT2mKc</a></p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/35421762#35421762", "question_id": 23318109, "answer_id": 35421762}, {"body": "<p>Android OFFICIALLY supports Java 8 as of Android N. </p>\n\n<p><a href=\"http://android-developers.blogspot.com/2016/03/first-preview-of-android-n-developer.html\">Feature announcements are here</a>, the Java 8 language announcement is:</p>\n\n<blockquote>\n  <p><strong>Improved Java 8 language support</strong> - We\u2019re excited to bring Java 8 language features to Android. With Android's Jack compiler, you can\n  now use many popular Java 8 language features, including lambdas and\n  more, on Android versions as far back as Gingerbread. The new features\n  help reduce boilerplate code. For example, lambdas can replace\n  anonymous inner classes when providing event listeners. Some Java 8\n  language features --like default and static methods, streams, and\n  functional interfaces -- are also now available on N and above. With\n  Jack, we\u2019re looking forward to tracking the Java language more closely\n  while maintaining backward compatibility.</p>\n</blockquote>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/35900034#35900034", "question_id": 23318109, "answer_id": 35900034}, {"body": "<p>As of <strong><a href=\"http://android-developers.blogspot.com/2016/03/first-preview-of-android-n-developer.html\">Android N preview</a></strong> release Android support <strong>limited</strong> features of <strong>Java 8</strong> see <a href=\"https://developer.android.com/preview/j8-jack.html\">Java 8 Language Features</a></p>\n\n<blockquote>\n  <p>To start using these features, you need to download and set up <a href=\"http://tools.android.com/recent/androidstudio21previewnowavailableforandroidnpreview\">Android\n  Studio 2.1</a>  and the Android N Preview SDK, which includes the\n  required <a href=\"https://source.android.com/source/jack.html\">Jack</a> toolchain and updated Android Plugin for Gradle. If you\n  haven't yet installed the Android N Preview SDK, see <a href=\"https://developer.android.com/preview/setup-sdk.html\">Set Up to Develop\n  for Android N</a>.</p>\n</blockquote>\n\n<p><strong>Supported Java 8 Language Features and APIs</strong></p>\n\n<blockquote>\n  <p>Android does not currently support all Java 8 language features.\n  However, the following features are now available when developing apps\n  targeting the Android N Preview:</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\">Default and static interface methods</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\">Lambda expressions</a> (also available on API level 23 and lower)</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\">Repeatable annotations</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\">Method References</a> (also available on API level 23 and lower)</p>\n\n<p>There are some additional Java 8 features which Android support, you can see complete detail from <a href=\"https://developer.android.com/preview/j8-jack.html#supported-features\">Java 8 Language Features</a></p>\n\n<p><strong>Update</strong></p>\n\n<blockquote>\n  <p>Note: The Android N bases its implementation of lambda expressions on\n  anonymous classes. This approach allows them to be backwards\n  compatible and executable on earlier versions of Android. To test\n  lambda expressions on earlier versions, remember to go to your\n  build.gradle file, and set compileSdkVersion and targetSdkVersion to\n  23 or lower.</p>\n</blockquote>\n\n<p><em>Note: Answer last updated on May 6 2016</em></p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/35907821#35907821", "question_id": 23318109, "answer_id": 35907821}, {"body": "<p>To start using <strong>Java 8 Language</strong>  you need to download and set up Android Studio 2.1 (preview) and the Android N Preview SDK, which includes the required Jack toolchain and updated Android Plugin for Gradle.</p>\n\n<blockquote>\n  <p>Using the new Java 8 language features is not a requirement for developing apps that target the Android N platform. If you don't want to write code with Java 8 language features, you can keep your project's source and target compatibility values set to Java 7, but you still must compile with JDK 8 to build against the Android N platform.</p>\n  \n  <p><strong>Android does not currently support all Java 8 language features.</strong></p>\n</blockquote>\n\n<p><strong>Known Issues:</strong>\nInstant Run, introduced in Android Studio 2.0 (Beta), does not currently work with Jack and will be disabled while using the new toolchain.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/35916359#35916359", "question_id": 23318109, "answer_id": 35916359}, {"body": "<p>Latest news:</p>\n\n<p>Google announce that with Android N and Android Studio 2.1+, platform will support Java 8. Also stable version of studio 2.1 was released. </p>\n\n<p>At last we can use lambda expressions. No more list filter in for loop. Horeeey.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/36883704#36883704", "question_id": 23318109, "answer_id": 36883704}, {"body": "<p>I wrote a <a href=\"http://stackoverflow.com/a/30440855/4230345\">similar answer</a> to a <a href=\"http://stackoverflow.com/questions/30421389/android-studio-lambda-does-not-work/30440855#30440855_\">similar question</a> on Stack Overflow, but here is part of that answer.</p>\n\n<h2>Android Studio 2.1:</h2>\n\n<p>The new version of Android Studio (2.1) has support for Java 8 features. Here is an extract from the <a href=\"http://android-developers.blogspot.co.uk/2016/04/android-studio-21-supports-android-n.html\" rel=\"nofollow\">Android Developers blogspot post</a>:</p>\n\n<blockquote>\n  <p>... Android Studio 2.1 release includes support for the new <a href=\"https://source.android.com/source/jack.html\" rel=\"nofollow\">Jack compiler</a> and support for <a href=\"http://developer.android.com/intl/zh-cn/preview/j8-jack.html?utm_campaign=android_discussion_studiondeveloperpreview_042616&amp;utm_source=anddev&amp;utm_medium=blog\" rel=\"nofollow\">Java 8</a>. </p>\n  \n  <p>...</p>\n  \n  <p>To use Java 8 language features when developing with the N Developer Preview, you need to use the Jack compiler. The New Project Wizard [File\u2192 New\u2192 Project] generates the correct configurations for projects targeting the N.</p>\n</blockquote>\n\n<hr>\n\n<h2>Prior to Android Studio 2.1:</h2>\n\n<p>Android does not support Java 1.8 yet (it only supports up to 1.7), so you cannot use Java 8 features like lambdas.</p>\n\n<p><a href=\"http://stackoverflow.com/a/23318644/4230345\">This answer gives more detail on Android Studio's compatibility</a>; it states:</p>\n\n<blockquote>\n  <p>If you want to use lambdas, one of the major features of Java 8 in Android, you can use gradle-retrolamba</p>\n</blockquote>\n\n<p>If you want to know more about using <code>gradle-retrolambda</code>, <a href=\"http://stackoverflow.com/a/28394024/4230345\">this answer gives a lot of detail on doing that</a>.</p>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/36897453#36897453", "question_id": 23318109, "answer_id": 36897453}, {"body": "<p>Add this config build.gradle and sync gradle:</p>\n\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n        jackOptions {\n            enabled true\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n        // or\n        //sourceCompatibility 1.8\n        //targetCompatibility 1.8\n    }\n}\n</code></pre>\n", "title": "Is it possible to use Java 8 for Android development?", "tags": ["java", "android", "java-8", "android-gradle", "build.gradle"], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development/39508219#39508219", "question_id": 23318109, "answer_id": 39508219}], "link": "http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development", "question_id": 23318109}, {"body": "<p>I'm trying to make login with Facebook available in my script. I've done everything, but when I attempt to login with a Facebook account I get this error from Facebook:</p>\n\n<blockquote>\n  <p>Error</p>\n  \n  <p>App Not Setup: The developers of this app have not set up this app properly for Facebook Login.</p>\n</blockquote>\n\n<p>Here's error screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Cz7co.png\" alt=\"enter image description here\"></p>\n\n<p>Any ideas?</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "answers": [{"body": "<p>Many reasons including: </p>\n\n<ol>\n<li>Sandbox mode is ON</li>\n<li>Domain name is different</li>\n<li>Site URL is different. </li>\n</ol>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/21329316#21329316", "question_id": 21329250, "answer_id": 21329316}, {"body": "<p>the problem was you have to set </p>\n\n<blockquote>\n  <p>Do you want to make this app and all its live features available to the general public?</p>\n</blockquote>\n\n<p>set <code>status and review</code> to <code>ON</code> and problem solved </p>\n\n<p>enjoy coding</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/21329790#21329790", "question_id": 21329250, "answer_id": 21329790}, {"body": "<p>Since the UI of the facebook has changed recently, here's the latest update for setting the sandbox mode ON/OFF :</p>\n\n<ol>\n<li><p>Go to <a href=\"https://developers.facebook.com/\">https://developers.facebook.com/</a></p></li>\n<li><p>Click on the Apps menu on the top bar.</p></li>\n<li><p>Select the respective app from the drop down.</p></li>\n<li><p>Go to 'Status &amp; Review' from the table in the left side of the page.</p></li>\n<li><p>Do you want to make this app and all its live features available to the general public? - Select switch to set YES/NO value.</p></li>\n</ol>\n\n<p><strong>Update:</strong> \nThe YES/NO button will be disabled until and unless you provide your contact email.</p>\n\n<ol>\n<li><p>Go to \"Settings\" in the left menu.</p></li>\n<li><p>Update your Contact Email.</p></li>\n<li><p>Hit the \"Save\" button at the bottom of the page.</p></li>\n</ol>\n\n<p><strong>Update:</strong> \n'Status &amp; Review' is replaced by 'App Review' now</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/21426587#21426587", "question_id": 21329250, "answer_id": 21426587}, {"body": "<p>Okay - sandbox is off, domain has to be correct because 99% of the users can reach the app, and \"all its live features available to the general public\" is set to yes.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/21642171#21642171", "question_id": 21329250, "answer_id": 21642171}, {"body": "<p>If the app is still in <strong>private</strong> mode (<code>Status and Review</code> set to <strong>NO</strong>), then <strong>only</strong> Facebook users with role in the app can login. \nThat unless you set it to <strong>public</strong> (<code>Status and Review</code> set to <strong>YES</strong>).</p>\n\n<p>To add more users to be able to login to a private app:</p>\n\n<ol>\n<li>Go to <a href=\"https://developer.facebook.com\">https://developer.facebook.com</a></li>\n<li>Go to Apps ->  \"Your app\" -> Roles</li>\n<li>Choose Add Administrator,Developer or Tester.</li>\n</ol>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/21833077#21833077", "question_id": 21329250, "answer_id": 21833077}, {"body": "<p>There are a bunch of possible things which could trigger this error:</p>\n\n<p>In your case, you just need to <code>add your facebook account into either tester, developer or admin of your facebook app</code> as you want to use that account to test.</p>\n\n<p>But if you see the error upon clicking <code>connect to facebook</code>(before you have chance to enter facebook credentials), then it means your current facebook account detected from cookie is not a valid tester/developer/admin account for your app.\nYour could either <code>add your account in</code> or just <code>hit facebook.com and sign out(to remove the undesired cookie)</code>.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/22333466#22333466", "question_id": 21329250, "answer_id": 22333466}, {"body": "<p>This resolved my issue if you do not want to make the app available to the public (keeping Status &amp; Review on <strong>NO</strong>)</p>\n\n<p>I  had to sign out of the previous account on the <strong>Facebook App</strong> and also remove the Facebook account in <strong>Settings</strong>. Removing just from the Settings will not remove the error because the App itself still has the previous account logged in. </p>\n\n<p>If  you have set your Roles as Administrator/Developer/Tester, you can put in that account login info in and it should work then. </p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/24957253#24957253", "question_id": 21329250, "answer_id": 24957253}, {"body": "<p>This error also occurs when you try to log in in your <strong>test version of the Facebook app</strong> and you have not added the user you are trying to test the log in with in the <strong>Roles -> Testers</strong> section.</p>\n\n<p>To fix it, just <strong>add the email address of the Facebook account you are trying to log in with</strong> in the section above.</p>\n\n<p>Finally, make sure the user you added accepts the request sent before you try to test otherwise the log in process will fail in the second screen just after the user accept the conditions.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/25255723#25255723", "question_id": 21329250, "answer_id": 25255723}, {"body": "<p>I had the same problem but now here is how I solved it<br>\nGo to <a href=\"https://developers.facebook.com/\" rel=\"nofollow\">https://developers.facebook.com/</a><br>\n\u2022  Click on the Apps menu on the top bar.<br>\n\u2022  Select the respective app from the drop down.<br>\n\u2022  Click Settings from the table in the left side of the page<br>\n\u2022  Then under the Contact Email type in your email you would like to use<br>\n\u2022  Then click save settings  button<br>\n\u2022  Go to 'Status &amp; Review' from the table in the left side of the page.<br>\n\u2022  Do you want to make this app and all its live features available to the general public? - Select switch to set YES/NO value.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/26072994#26072994", "question_id": 21329250, "answer_id": 26072994}, {"body": "<p>With respect to the all the other answers, here's the screenshot to help someone.</p>\n\n<hr>\n\n<ol>\n<li>Go to <a href=\"https://developers.facebook.com/\">https://developers.facebook.com/</a></li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li>Click on the Apps menu on the top bar.</li>\n</ol>\n\n<hr>\n\n<ol start=\"3\">\n<li>Select the respective app from the drop down.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/kDflP.png\" alt=\"enter image description here\"></p>\n\n<p>The circle next to your app name is not fully green. When you hover mouse on it, you'll see a popup saying, \"Not available to all users because your app is not live.\"</p>\n\n<p>So next, you've to make it publicly available.</p>\n\n<hr>\n\n<ol start=\"4\">\n<li>Click on setting at left panel. [see the screenshot below]</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/4FEw5.png\"><img src=\"http://i.stack.imgur.com/4FEw5.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<ol start=\"5\">\n<li>In Basic tab add your \"Contact Email\" (a valid email address - I've added the one which I'm using with developers.facebook.com) and make \"Save changes\".</li>\n</ol>\n\n<hr>\n\n<ol start=\"6\">\n<li>Next click \"App Review\" at left panel. [see the screenshot below]</li>\n</ol>\n\n<hr>\n\n<ol start=\"7\">\n<li>Look for this, <strong>Do you want to make this app and all its live features available to the general public?</strong> and Turn ON the switch next to this.</li>\n</ol>\n\n<p><a href=\"http://i.stack.imgur.com/jq18d.png\"><img src=\"http://i.stack.imgur.com/jq18d.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<ol start=\"8\">\n<li>That's it! - App is now publicly available. See the fully green circle next to the app name.\n<img src=\"http://i.stack.imgur.com/W7SGr.png\" alt=\"enter image description here\"></li>\n</ol>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/26135600#26135600", "question_id": 21329250, "answer_id": 26135600}, {"body": "<p>For other users that run into this issue, the app I was testing against was a test version of our production app and didn't have the option to turn <code>status and review</code> to <code>ON</code> as others have mentioned here.</p>\n\n<p>The fix was to create a new app which is <em>not</em> a test app, and configure it like the production version. The non-test version allows the option to turn <code>status and review</code> to <code>ON</code>.</p>\n\n<p>My specific use was testing a user registered with a phone number instead of an email address. I tried adding that user into different roles of our test app (Developer and Tester), but to no avail. My guess is it has something to do with the user not having an email associated with it.</p>\n\n<p>Here's more info on test apps: <a href=\"https://developers.facebook.com/docs/apps/test-apps\">https://developers.facebook.com/docs/apps/test-apps</a></p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/27238629#27238629", "question_id": 21329250, "answer_id": 27238629}, {"body": "<p>Now, You need to add a \"Privacy Policy URL\" in the App Details tab (developers.facebook.com).\nThis is a new Policy of Facebook.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/29953223#29953223", "question_id": 21329250, "answer_id": 29953223}, {"body": "<p>do setup by following bellow link and domain name you need to mention as like wht you have mentioned in facebook app domain name.</p>\n\n<p>Go to <a href=\"https://developers.facebook.com/\" rel=\"nofollow\">https://developers.facebook.com/</a></p>\n\n<p>Click on the Apps menu on the top bar.</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/30573430#30573430", "question_id": 21329250, "answer_id": 30573430}, {"body": "<p>Hemang's answer was right, BUT, there's one extra step you'll need, which is to add a Facebook App ID. (I discovered I was missing this part):\n<img src=\"http://i.stack.imgur.com/x9LRX.png\" alt=\"enter image description here\"></p>\n\n<p>Once you've done that in addition to Hemang's answer, you'll be good to go!</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/30714171#30714171", "question_id": 21329250, "answer_id": 30714171}, {"body": "<p><a href=\"http://i.stack.imgur.com/z8JpO.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/z8JpO.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/bp1Gu.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/bp1Gu.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"http://i.stack.imgur.com/n8lzk.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/n8lzk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Make Sure in left panel App review tab selected (Your app is currently live and available to the public.) tab is <strong>ON</strong> and App status is <strong>GREEN</strong></p>\n\n<p>Happy Programming</p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/37565855#37565855", "question_id": 21329250, "answer_id": 37565855}, {"body": "<p>And addition to all these beautifull comments dont forget to Start A Submission</p>\n\n<p><a href=\"http://i.stack.imgur.com/ngNhs.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/ngNhs.png\" alt=\"enter image description here\"></a></p>\n", "title": "The developers of this app have not set up this app properly for Facebook Login?", "tags": ["android", "ios", "facebook", "facebook-graph-api"], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login/38684049#38684049", "question_id": 21329250, "answer_id": 38684049}], "link": "http://stackoverflow.com/questions/21329250/the-developers-of-this-app-have-not-set-up-this-app-properly-for-facebook-login", "question_id": 21329250}, {"body": "<p>Android Studio 0.4.5</p>\n\n<p>Android documentation for creating custom dialog boxes: <a href=\"http://developer.android.com/guide/topics/ui/dialogs.html\">http://developer.android.com/guide/topics/ui/dialogs.html</a></p>\n\n<p>If you want a custom dialog, you can instead display an Activity as a dialog instead of using the Dialog APIs. Simply create an activity and set its theme to Theme.Holo.Dialog in \nthe <code>&lt;activity&gt;</code> manifest element:</p>\n\n<pre><code>&lt;activity android:theme=\"@android:style/Theme.Holo.Dialog\" &gt;\n</code></pre>\n\n<p>However, when I tried this I get the following exception:</p>\n\n<pre><code>java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity\n</code></pre>\n\n<p>I am supporting the following, and I can't using something greater than 10 for the min:</p>\n\n<pre><code>minSdkVersion 10\ntargetSdkVersion 19\n</code></pre>\n\n<p>In my styles I have the following:</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n</code></pre>\n\n<p>And in my manifest I have this for the activity:</p>\n\n<pre><code> &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:theme=\"@android:style/Theme.Holo.Light.Dialog\"\n            android:name=\"com.ssd.register.Dialog_update\"\n            android:label=\"@string/title_activity_dialog_update\" &gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>Creating the dialog box like this was something I was hopping to do, as I have already completed the layout.</p>\n\n<p>Can anyone tell me how I can get around this problem?</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "answers": [{"body": "<p>min sdk is 10. <code>ActionBar</code> is available from api level 11. So for 10 you would be using <code>AppCompat</code> from the support library for which you need to use <code>Theme.AppCompat</code> or descendant of the same.</p>\n\n<p>Use</p>\n\n<pre><code>android:theme=\"@style/Theme.AppCompat\" &gt;\n</code></pre>\n\n<p>More info @</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/ui/actionbar.html\">http://developer.android.com/guide/topics/ui/actionbar.html</a></p>\n\n<p>Eidt:</p>\n\n<p>I might have misread op post.</p>\n\n<p>Seems op wants a Dialog with a Activity Theme. So as already suggest by Bobbake4 extend <code>Activity</code> instead of <code>ActionBarActivity</code>.</p>\n\n<p>Also have a look @ Dialog Attributes in the below link</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/frameworks/base/core/res/res/values/themes.xml/\">http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/frameworks/base/core/res/res/values/themes.xml/</a></p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/21814845#21814845", "question_id": 21814825, "answer_id": 21814845}, {"body": "<p>The reason you are having this problem is because the activity you are trying to apply the dialog theme to is extending <code>ActionBarActivity</code> which requires the <code>AppCompat</code> theme to be applied. </p>\n\n<p>Change the Java inheritance from <code>ActionBarActivity</code> to <code>Activity</code> and leave the dialog theme in the manifest as it is.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/21815015#21815015", "question_id": 21814825, "answer_id": 21815015}, {"body": "<p>NOTE: I had intended this as an answer, but further testing reveals it still fails when built using maven from the command line, so I've had to edit it to be a problem! :-(</p>\n\n<p>In my case when I got this error I was already using a AppCompat Theme and the error didn't make much sense.</p>\n\n<p>I was in the process of mavenizing my android build. I had already dependencies on the apklib and jar versions of app compat, thus:</p>\n\n<pre><code>    &lt;!-- See https://github.com/mosabua/maven-android-sdk-deployer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v7-appcompat&lt;/artifactId&gt;\n            &lt;version&gt;${compatibility.version}&lt;/version&gt;\n            &lt;type&gt;apklib&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v7-appcompat&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v7&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;android.support&lt;/groupId&gt;\n            &lt;artifactId&gt;compatibility-v4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Now, when I import the maven project and build and run from IntelliJ it's fine.</p>\n\n<p>But when I build and deploy and run from the command line with maven I still get this exception.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/23198169#23198169", "question_id": 21814825, "answer_id": 23198169}, {"body": "<p>All you need to do is add <code>android:theme=\"@style/Theme.AppCompat.Light\"</code> to your application tag in the <code>AndroidManifest.xml</code> file.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/25663447#25663447", "question_id": 21814825, "answer_id": 25663447}, {"body": "<p>You have came to this because you want to apply Material Design in your theme style in previous sdk versions to 21. <code>ActionBarActivity</code> requires <code>AppTheme</code>so if you also want to prevent your own customization about your AppTheme, only you have to change in your styles.xml (previous to sdk 21) so this way, can inherit for an App Compat theme.</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"android:Theme.Holo.Light.DarkActionBar\"&gt;\n</code></pre>\n\n<p>for this:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/27167979#27167979", "question_id": 21814825, "answer_id": 27167979}, {"body": "<p>go to your styles and put the parent</p>\n\n<pre><code>parent=\"Theme.AppCompat\"\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>parent=\"@android:style/Theme.Holo.Light\"\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/27269642#27269642", "question_id": 21814825, "answer_id": 27269642}, {"body": "<p>For me, the Android SDK didn't seem to be able to find the styles definition. Everything was wired correctly and doing a simple project clean fixed it for me. </p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/27825496#27825496", "question_id": 21814825, "answer_id": 27825496}, {"body": "<p>This is what fixed it for me: instead of specifying the theme in manifest, I defined it in <code>onCreate</code> for each activity that extends <code>ActionBarActivity</code>:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    setTheme(R.style.MyAppTheme);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity_layout);\n...\n}\n</code></pre>\n\n<p>Here <code>MyAppTheme</code> is a descendant of <code>Theme.AppCompat</code>, and is defined in xml. Note that the theme must be set before <code>super.onCreate</code> and <code>setContentView</code>.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/27952912#27952912", "question_id": 21814825, "answer_id": 27952912}, {"body": "<p>Change your theme style parent to </p>\n\n<pre><code> parent=\"Theme.AppCompat\"\n</code></pre>\n\n<p>This worked for me ...</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/28266265#28266265", "question_id": 21814825, "answer_id": 28266265}, {"body": "<p>Delete all the style folder in Library project.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/28826291#28826291", "question_id": 21814825, "answer_id": 28826291}, {"body": "<p>This one worked for me:</p>\n\n<pre><code>&lt;application\n           android:allowBackup=\"true\"\n           android:icon=\"@mipmap/ic_launcher\"\n           android:label=\"@string/app_name\"\n           android:theme=\"@style/AppTheme\" &gt;\n           &lt;activity\n               android:name=\".MainActivity\"\n               android:label=\"@string/app_name\"\n               android:theme=\"@style/Theme.AppCompat.NoActionBar\"&gt;\n\n               &lt;intent-filter&gt;\n                   &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                   &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n               &lt;/intent-filter&gt;\n           &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/29714024#29714024", "question_id": 21814825, "answer_id": 29714024}, {"body": "<p>Your Activity is extending <strong>ActionBarActivity</strong> which requires the <strong>AppCompat.theme</strong> to be applied.\nChange from <strong>ActionBarActivity</strong> to <strong>Activity</strong> or <strong>FragmentActivity</strong>, it will solve the problem. </p>\n\n<blockquote>\n  <p>If you use no Action bar then :</p>\n</blockquote>\n\n<pre><code>android:theme=\"@android:style/Theme.Light.NoTitleBar.Fullscreen\" \n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/29757315#29757315", "question_id": 21814825, "answer_id": 29757315}, {"body": "<p>I had such crash on <strong>Samsung</strong> devices even though the activity did use <em>Theme.AppCompat</em>.\nThe root cause was related to weird optimizations on Samsung side:</p>\n\n<pre><code>- if one activity of your app has theme not inherited from Theme.AppCompat\n- and it has also `android:launchMode=\"singleTask\"`\n- then all the activities that are launched from it will share the same Theme\n</code></pre>\n\n<p>My solution was just removing <code>android:launchMode=\"singleTask\"</code></p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/29932100#29932100", "question_id": 21814825, "answer_id": 29932100}, {"body": "<p>If you need to extend ActionBarActivity you need on your style.xml:</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"AppTheme.Base\"/&gt;\n\n&lt;style name=\"AppTheme.Base\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n</code></pre>\n\n<p>If you set as main theme of your application as android:Theme.Material.Light instead of <strong>AppTheme.Base</strong> then you\u2019ll get an \u201cIllegalStateException:You need to use a Theme.AppCompat theme (or descendant) with this activity\u201d error.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/30019988#30019988", "question_id": 21814825, "answer_id": 30019988}, {"body": "<p>You have many solutions to that error.</p>\n\n<ol>\n<li><p>You should use <em>Activity</em> or <em>FragmentActivity</em> instead of <em>ActionbarActivity</em> or <em>AppCompatActivity</em></p></li>\n<li><p>If you want use <em>ActionbarActivity</em> or <em>AppCompatActivity</em>, you should change in <em>styles.xml</em> <em>Theme.Holo.xxxx</em> to <em>Theme.AppCompat.Light</em> (if necessary add to <em>DarkActionbar</em>)</p></li>\n</ol>\n\n<p>If you don't need advanced attributes about action bar or <em>AppCompat</em> you don't need to use <em>Actionbar</em> or <em>AppCompat</em>.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/30846924#30846924", "question_id": 21814825, "answer_id": 30846924}, {"body": "<p>Copying answer from @MarkKeen in the comments above as I had the same problem.</p>\n\n<p>I had the error stated at the top of the post and happened after I added an alert dialog. I have all the relevant style information in the manifest. My problem was cured by changing a context reference in the alert builder - I changed: </p>\n\n<pre><code>new android.support.v7.app.AlertDialog.Builder(getApplicationContext())\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>new android.support.v7.app.AlertDialog.Builder(this)\n</code></pre>\n\n<p>And no more problems.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/32373424#32373424", "question_id": 21814825, "answer_id": 32373424}, {"body": "<p>My Activity with SectionsPagerAdapter and ViewPager &amp; Fragment</p>\n\n<pre><code>public class MyActivity extends AppCompatActivity implements ActionBar.TabListener\n...\n...\n     @Override\n        public void onPostResume(){\n            super.onPostResume();\n            try {\n               getSupportActionBar().setDisplayShowTitleEnabled(false);\n            }catch (NullPointerException ignored){\n            }\n        }\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/33255988#33255988", "question_id": 21814825, "answer_id": 33255988}, {"body": "<p>just make that </p>\n\n<blockquote>\n  <p>getApplicationContext().getTheme().applyStyle(R.style.Theme_Mc,\n  true);</p>\n</blockquote>\n\n<p>and In your values/styles.xml \nadd this </p>\n\n<pre><code> &lt;style  name=\"Theme.Mc\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n         &lt;!-- ADD Your Styles  --&gt;\n\n\n     &lt;/style&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/34983289#34983289", "question_id": 21814825, "answer_id": 34983289}, {"body": "<p>In Android Studio:\nAdd support library to the gradle file and sync.\nEdit build.gradle(Module:app) to have dependencies as follows:</p>\n\n<pre><code>dependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:appcompat-v7:23.1.1'\ncompile 'com.android.support:design:23.1.1'\ncompile 'com.android.support:support-v4:23.1.1'\n}\n</code></pre>\n\n<p>My support Library version is 23.1.1; Use your support library version as applicable.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/35069996#35069996", "question_id": 21814825, "answer_id": 35069996}, {"body": "<p>In Android manifest just change theme of activity to AppTheme as follow code snippet</p>\n\n<pre><code>&lt;activity\n  android:name=\".MainActivity\"\n  android:label=\"@string/app_name\"\n  android:theme=\"@style/AppTheme\"&gt;\n&lt;/activity&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/35285061#35285061", "question_id": 21814825, "answer_id": 35285061}, {"body": "<p>In case anybody still wondering about this issue.</p>\n\n<p>try this : </p>\n\n<pre><code>new android.support.v7.app.AlertDialog.Builder(this)\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/35788024#35788024", "question_id": 21814825, "answer_id": 35788024}, {"body": "<p>I had the same problem, but it solved when i put this on manifest: android:theme=\"@style/Theme.AppCompat.</p>\n\n<pre><code>    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/icon\"\n        android:label=\"@string/app_name_test\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.AppCompat\"&gt;\n\n        ...    \n\n    &lt;/application&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/35871457#35871457", "question_id": 21814825, "answer_id": 35871457}, {"body": "<p>I was experiencing this problem even though my Theme was an <code>AppCompat</code> Theme and my Activity was an <code>AppCompatActivity</code> (or <code>Activity</code>, as suggested in the other's answers). So I cleaned, rebuild and rerun the project. </p>\n\n<p>(<strong>Build -> Clean Project ; Build -> Rebuild Project ; Run -> Run</strong>)</p>\n\n<p><em>It may seem dumb, but now it <strong>works great</strong>!</em></p>\n\n<p><em>Just hope it helps!</em></p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/36930004#36930004", "question_id": 21814825, "answer_id": 36930004}, {"body": "<p>In my case i have no values-v21 file in my res directory. Then i created it and added in it following codes:</p>\n\n<pre><code>  &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/37986985#37986985", "question_id": 21814825, "answer_id": 37986985}, {"body": "<p>This solution worked for me. </p>\n\n<p>Design library depends on the Support v4 and AppCompat Support Libraries, so don't use different version for appcompat and design library in gradle.</p>\n\n<p>use </p>\n\n<pre><code> compile 'com.android.support:appcompat-v7:23.0.0'\n compile 'com.android.support:design:23.0.0'\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code> compile 'com.android.support:appcompat-v7:23.0.0'\n compile 'com.android.support:design:23.1.0'\n</code></pre>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/38742994#38742994", "question_id": 21814825, "answer_id": 38742994}, {"body": "<p>For me none of the above answers worked even after I had <code>Theme.AppCompat</code> as my base theme for the application. I was using <code>com.android.support:design:24.1.0</code> So I just changed the version to <code>24.1.1</code>. After the gradle sync, Its working again and the exception went away. Seems to me the issue was with gradle build.</p>\n\n<p>Just putting this here in case other answers don't work for some people.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/38819720#38819720", "question_id": 21814825, "answer_id": 38819720}, {"body": "<p>For my Xamarin Android project (in MainActivity.cs), I changed\u2026</p>\n\n<pre><code>public class MainActivity : global::Xamarin.Forms.Platform.Android.FormsAppCompatActivity\n</code></pre>\n\n<p>to</p>\n\n<pre><code>public class MainActivity : global::Xamarin.Forms.Platform.Android.FormsApplicationActivity\n</code></pre>\n\n<p>\u2026and the error went away. I realise that isn't a solution for everyone but it might give a clue to the underlying problem.</p>\n", "title": "You need to use a Theme.AppCompat theme (or descendant) with this activity", "tags": ["android", "android-layout", "android-studio"], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity/39112848#39112848", "question_id": 21814825, "answer_id": 39112848}], "link": "http://stackoverflow.com/questions/21814825/you-need-to-use-a-theme-appcompat-theme-or-descendant-with-this-activity", "question_id": 21814825}, {"body": "<p>From <a href=\"http://www.haskell.org/ghc/docs/7.6.3/html/users_guide/pragmas.html#idp49866112\">the docs</a> for GHC 7.6:</p>\n\n<blockquote>\n  <p>[Y]ou often don't even need the SPECIALIZE pragma in the first place. When compiling a module M, GHC's optimiser (with -O) automatically considers each top-level overloaded function declared in M, and specialises it for the different types at which it is called in M. The optimiser also considers each imported INLINABLE overloaded function, and specialises it for the different types at which it is called in M.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Moreover, given a SPECIALIZE pragma for a function f, GHC will automatically create specialisations for any type-class-overloaded functions called by f, if they are in the same module as the SPECIALIZE pragma, or if they are INLINABLE; and so on, transitively.</p>\n</blockquote>\n\n<p>So GHC should automatically specialize <a href=\"http://stackoverflow.com/questions/21071706/specialization-with-constraints\">some/most/all(?)</a> functions marked <code>INLINABLE</code> <em>without</em> a pragma, and if I use an explicit pragma, the specialization is transitive. My question is: \nis the <em>auto</em>-specialization transitive?</p>\n\n<p>Specifically, here's a small example:</p>\n\n<p>Main.hs:</p>\n\n<pre><code>import Data.Vector.Unboxed as U\nimport Foo\n\nmain =\n    let y = Bar $ Qux $ U.replicate 11221184 0 :: Foo (Qux Int)\n        (Bar (Qux ans)) = iterate (plus y) y !! 100\n    in putStr $ show $ foldl1' (*) ans\n</code></pre>\n\n<p>Foo.hs:</p>\n\n<pre><code>module Foo (Qux(..), Foo(..), plus) where\n\nimport Data.Vector.Unboxed as U\n\nnewtype Qux r = Qux (Vector r)\n-- GHC inlines `plus` if I remove the bangs or the Baz constructor\ndata Foo t = Bar !t\n           | Baz !t\n\ninstance (Num r, Unbox r) =&gt; Num (Qux r) where\n    {-# INLINABLE (+) #-}\n    (Qux x) + (Qux y) = Qux $ U.zipWith (+) x y\n\n{-# INLINABLE plus #-}\nplus :: (Num t) =&gt; (Foo t) -&gt; (Foo t) -&gt; (Foo t)\nplus (Bar v1) (Bar v2) = Bar $ v1 + v2\n</code></pre>\n\n<p>GHC specializes the call to <code>plus</code>, but does <em>not</em> specialize <code>(+)</code> in the <code>Qux</code> <code>Num</code> instance which kills performance. </p>\n\n<p>However, an explicit pragma </p>\n\n<pre><code>{-# SPECIALIZE plus :: Foo (Qux Int) -&gt; Foo (Qux Int) -&gt; Foo (Qux Int) #-}\n</code></pre>\n\n<p>results in <em>transitive</em> specialization as the docs indicate, so <code>(+)</code> is specialized and the code is 30x faster (both compiled with <code>-O2</code>). Is this expected behavior? Should I only expect <code>(+)</code> to be specialized transitively with an explicit pragma?</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The docs for 7.8.2 haven't changed, and the behavior is the same, so this question is still relevant.</p>\n", "title": "Transitivity of Auto-Specialization in GHC", "tags": ["haskell", "ghc"], "answers": [{"body": "<h2>Short answers:</h2>\n\n<p>The question's key points, as I understand them, are the following: </p>\n\n<blockquote>\n  <ul>\n  <li>\"is the auto-specialization transitive?\"</li>\n  <li>Should I only expect (+) to be specialized transitively with an explicit pragma?</li>\n  <li>(apparently intended) Is this a bug of GHC? Is it inconsistent with the documentation?</li>\n  </ul>\n</blockquote>\n\n<p>AFAIK, the answers are No, mostly yes but there are other means,  and No. </p>\n\n<p>Code inlining and type application specialization is a trade-off between speed (execution time) and code size. The default level gets some speedup without bloating the code. Choosing a more exhaustive level is left to the programmer's discretion via  <code>SPECIALISE</code> pragma.</p>\n\n<h2>Explanation:</h2>\n\n<blockquote>\n  <p>The optimiser also considers each imported INLINABLE overloaded function, and specialises it for the different types at which it is called in M.</p>\n</blockquote>\n\n<p>Suppose <code>f</code> is a function whose type includes a type variable <code>a</code> constrained by a type class <code>C a</code>. GHC by default specializes <code>f</code> with respect to a type application (substituting <code>a</code> for <code>t</code>) if <code>f</code> is called with that type application in the source code of (a) any function in the same module, or (b) if <code>f</code> is marked <code>INLINABLE</code>, then any other module that  <strong>imports</strong> <code>f</code> from <code>B</code>. Thus, auto-specialization is not transitive, it only touches <code>INLINABLE</code> functions imported and called for <em>in the source code</em> of <code>A</code>.</p>\n\n<p>In your example, if you rewrite the instance of <code>Num</code> as follows: </p>\n\n<pre><code>instance (Num r, Unbox r) =&gt; Num (Qux r) where\n    (+) = quxAdd\n\nquxAdd (Qux x) (Qux y) = Qux $ U.zipWith (+) x y\n</code></pre>\n\n<ul>\n<li><code>quxAdd</code> is not specifically imported by <code>Main</code>. <code>Main</code> imports the instance dictionary of <code>Num (Qux Int)</code>, and this dictionary contains <code>quxAdd</code> in the record for <code>(+)</code>. However, although the dictionary is imported, the contents used in the dictionary are not. </li>\n<li><code>plus</code> does not call <code>quxAdd</code>, it uses the function stored for the <code>(+)</code> record in the instance dictionary of <code>Num t</code>. This dictionary is set at the call site (in <code>Main</code>) by the compiler. </li>\n</ul>\n", "title": "Transitivity of Auto-Specialization in GHC", "tags": ["haskell", "ghc"], "link": "http://stackoverflow.com/questions/21502335/transitivity-of-auto-specialization-in-ghc/25414763#25414763", "question_id": 21502335, "answer_id": 25414763}], "link": "http://stackoverflow.com/questions/21502335/transitivity-of-auto-specialization-in-ghc", "question_id": 21502335}, {"body": "<p>I'm new to using npm and bower, building my first app in emberjs :).<br>\nI do have a bit of experience with rails, so I'm familiar with the idea of files for listing dependencies (such as bundler Gemfile)</p>\n\n<p>Question: when I want to add a package (and check in the dependency into git), where does it belong - into <code>package.json</code> or into <code>bower.json</code>?</p>\n\n<p>From what I gather,<br>\nrunning <code>bower install</code> will fetch the package and put it in <code>/vendor</code> directory,<br>\nrunning <code>npm install</code> it will fetch it and put it into <code>/node_modules</code> directory. </p>\n\n<p><a href=\"http://stackoverflow.com/a/16493586/1592915\">This SO answer</a> says bower is for front-end and npm is for backend stuff.<br>\n<a href=\"https://github.com/stefanpenner/ember-app-kit\">Ember-app-kit</a> seems to adhere to this distinction from the first glance... But instructions in gruntfile for <a href=\"https://github.com/stefanpenner/ember-app-kit/blob/master/Gruntfile.js#L40-L42\">enabling some functionality</a> give two explicit commands, so I'm totally confused here.</p>\n\n<p>Intuitively I would guess that  </p>\n\n<ol>\n<li><p><strong>npm install --save-dev package-name</strong> would be equivalent to adding the package-name to my package.json </p></li>\n<li><p><strong>bower install --save package-name</strong> might be the same as adding the package to my <em>bower.json</em> and running <strong>bower install</strong>?  </p></li>\n</ol>\n\n<p>If that is the case, when should I ever install packages explicitly like that without adding them to the file that manages dependencies (apart from installing command line tools globally)?</p>\n", "title": "Difference between Grunt, NPM and Bower ( package.json vs bower.json )", "tags": ["javascript", "gruntjs", "bower", "web-frontend"], "answers": [{"body": "<p>Npm and Bower are both dependency management tools. But the main difference between both is <strong>npm is used for installing Node js modules but bower js is used for managing front end components like html, css, js etc</strong>. </p>\n\n<p>A fact that makes this more confusing is that npm provides some packages which can be used in front-end development as well, like <code>grunt</code> and <code>jshint</code>.</p>\n\n<p>These lines add more meaning</p>\n\n<blockquote>\n  <p>Bower, unlike npm, can have multiple files (e.g. .js, .css, .html, .png, .ttf) which are considered the main file(s). Bower semantically considers these main files, when packaged together, a component.</p>\n</blockquote>\n\n<p><strong>Edit</strong>: <strong>Grunt</strong> is quite different from Npm and Bower. Grunt is a javascript task runner tool. You can do a lot of things using grunt which you had to do manually otherwise. Highlighting some of the uses of Grunt:</p>\n\n<ol>\n<li>Zipping some files (e.g. zipup plugin)</li>\n<li>Linting on js files (jshint)</li>\n<li>Compiling less files (grunt-contrib-less)</li>\n</ol>\n\n<p>There are grunt plugins for sass compilation, uglifying your javascript, copy files/folders, minifying javascript etc. </p>\n\n<p>Please Note that grunt plugin is also an npm package.</p>\n\n<p><strong>Question-1</strong></p>\n\n<blockquote>\n  <p>When I want to add a package (and check in the dependency into git), where does it belong - into package.json or into bower.json</p>\n</blockquote>\n\n<p>It really depends where does this package belong to. If it is a node module(like grunt,request) then it will go in package.json otherwise into bower json.</p>\n\n<p><strong>Question-2</strong></p>\n\n<blockquote>\n  <p>When should I ever install packages explicitly like that without adding them to the file that manages dependencies</p>\n</blockquote>\n\n<p>It does not matter whether you are installing packages explicitly or mentioning the dependency in .json file. Suppose you are in the middle of working on a node project and you need another project, say <code>request</code>, then you have two options:</p>\n\n<ul>\n<li>Edit the package.json file and add a dependency on 'request'</li>\n<li>npm install</li>\n</ul>\n\n<p>OR</p>\n\n<ul>\n<li>Use commandline: <code>npm install --save request</code></li>\n</ul>\n\n<p><code>--save</code> options adds the dependency to package.json file as well. If you don't specify <code>--save</code> option, it will only download the package but the json file will be unaffected.</p>\n\n<p>You can do this either way, there will not be a substantial difference.</p>\n", "title": "Difference between Grunt, NPM and Bower ( package.json vs bower.json )", "tags": ["javascript", "gruntjs", "bower", "web-frontend"], "link": "http://stackoverflow.com/questions/21198977/difference-between-grunt-npm-and-bower-package-json-vs-bower-json/21199026#21199026", "question_id": 21198977, "answer_id": 21199026}, {"body": "<p><strong>Update for mid 2016</strong>:</p>\n\n<p>The things are changing so fast that if it's late 2017 this answer might not be up to date anymore!</p>\n\n<p>Beginners can quickly get lost in choice of build tools and workflows, but what's most up to date in 2016 is not using Bower, Grunt or Gulp at all! With help of Webpack you can do everything directly in NPM!</p>\n\n<ul>\n<li><p>Google \"npm as build tool\" result:\n<a href=\"https://medium.com/@dabit3/introduction-to-using-npm-as-a-build-tool-b41076f488b0#.c33e74tsa\" rel=\"nofollow\">https://medium.com/@dabit3/introduction-to-using-npm-as-a-build-tool-b41076f488b0#.c33e74tsa</a></p></li>\n<li><p>Webpack: <a href=\"https://webpack.github.io/docs/installation.html\" rel=\"nofollow\">https://webpack.github.io/docs/installation.html</a></p></li>\n</ul>\n\n<p>Don't get me wrong people use other workflows and I still use GULP in my legacy project(but slowly moving out of it), but this is how it's done in the best companies and developers working in this workflow make a LOT of money!</p>\n\n<p>Look at this template it's a very up-to-date setup consisting of a mixture of the best and the latest technologies:\n<a href=\"https://github.com/coryhouse/react-slingshot\" rel=\"nofollow\">https://github.com/coryhouse/react-slingshot</a></p>\n\n<ul>\n<li>Webpack</li>\n<li>NPM as a build tool (no Gulp, Grunt or Bower)</li>\n<li>React with Redux</li>\n<li>ESLint</li>\n<li>the list is long. Go and explore!</li>\n</ul>\n\n<p>Your questions:</p>\n\n<blockquote>\n  <p>When I want to add a package (and check in the dependency into git),\n  where does it belong - into package.json or into bower.json</p>\n</blockquote>\n\n<ul>\n<li><p>Everything belongs in package.json now</p></li>\n<li><p>Dependencies required for build are in \"devDependencies\" i.e. <code>npm install require-dir --save-dev</code> (--save-dev updates your package.json by adding an entry to devDependencies)</p></li>\n<li>Dependencies required for your application during runtime are in \"dependencies\" i.e. <code>npm install lodash --save</code> (--save updates your package.json by adding an entry to dependencies)</li>\n</ul>\n\n<blockquote>\n  <p>If that is the case, when should I ever install packages explicitly like that without adding them to the file that manages dependencies (apart from installing command line tools globally)?</p>\n</blockquote>\n\n<p><strong>Always</strong>. Just because of comfort. When you add a flag (<code>--save-dev</code> or <code>--save</code>) the file that manages deps (package.json) gets updated automatically. Don't waste time by editing dependencies in it manually. Shortcut for <code>npm install --save-dev package-name</code> is <code>npm i -D package-name</code> and shortcut for <code>npm install --save package-name</code> is <code>npm i -S package-name</code></p>\n", "title": "Difference between Grunt, NPM and Bower ( package.json vs bower.json )", "tags": ["javascript", "gruntjs", "bower", "web-frontend"], "link": "http://stackoverflow.com/questions/21198977/difference-between-grunt-npm-and-bower-package-json-vs-bower-json/39234812#39234812", "question_id": 21198977, "answer_id": 39234812}], "link": "http://stackoverflow.com/questions/21198977/difference-between-grunt-npm-and-bower-package-json-vs-bower-json", "question_id": 21198977}, {"body": "<p>I understand that <code>ng-show</code> and <code>ng-hide</code> affect the class set on an element and that <code>ng-if</code> controls whether an element is rendered as part of the DOM. </p>\n\n<p><strong>Are there guidelines on choosing <code>ng-if</code> over <code>ng-show</code>/<code>ng-hide</code> or vice-versa?</strong></p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "answers": [{"body": "<p>Depends on your use case but to summarise the difference:</p>\n\n<ol>\n<li><code>ng-if</code> will remove elements from DOM. This means that all your handlers or anything else attached to those elements will be lost. For example, if you bound a click handler to one of child elements, when <code>ng-if</code> evaluates to false, that element will be removed from DOM and your click handler will not work any more, even after <code>ng-if</code> later evaluates to true and displays the element. You will need to reattach the handler.</li>\n<li><code>ng-show/ng-hide</code> does not remove the elements from DOM. It uses CSS styles to hide/show elements (note: you might need to add your own classes). This way your handlers that were attached to children will not be lost.</li>\n<li><code>ng-if</code> creates a child scope while <code>ng-show/ng-hide</code> does not</li>\n</ol>\n\n<p>Elements that are not in the DOM have less performance impact and your web app might appear to be faster when using <code>ng-if</code> compared to <code>ng-show/ng-hide</code>. In my experience, the difference is negligible. Animations are possible when using both ng-show/ng-hide and ng-if, with examples for both in the Angular documentation.</p>\n\n<p>Ultimately, the question you need to answer is whether you can remove element from DOM or not?</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/21870119#21870119", "question_id": 21869283, "answer_id": 21870119}, {"body": "<p>See <a href=\"http://christianlilley.wordpress.com/2013/11/04/angulars-ng-show-vs-ng-switch-and-new-ng-if-important-differences/\">here</a> for a CodePen that demonstrates the difference in how ng-if/ng-show work, DOM-wise.</p>\n\n<p>@markovuksanovic has answered the question well. But I'd come at it from another perspective: I'd <em>always</em> use <code>ng-if</code> and get those elements out of DOM, unless: </p>\n\n<ol>\n<li>you for some reason need the data-bindings and <code>$watch</code>-es on your elements to remain active while they're invisible. Forms might be a good case for this, if you want to be able to check validity on inputs that aren't currently visible, in order to determine whether the whole form is valid.</li>\n<li>You're using some really elaborate stateful logic with conditional event handlers, as mentioned above. <em>That said</em>, if you find yourself manually attaching and detaching handlers, such that you're losing important state when you use ng-if, ask yourself whether that state would be better represented in a data model, and the handlers applied conditionally by directives whenever the element is rendered. Put another way, the presence/absence of handlers is a form of state data. Get that data out of the DOM, and into a model. The presence/absence of the handlers should be determined by the data, and thus easy to recreate. </li>\n</ol>\n\n<p>Angular is written really well. It's fast, considering what it does. But what it does is a whole bunch of magic that makes hard things (like 2-way data-binding) look trivially easy. Making all those things look easy entails some performance overhead. You might be shocked to realize how many hundreds or thousands of times a setter function gets evaluated during the <code>$digest</code> cycle on a hunk of DOM that nobody's even looking at. And then you realize you've got dozens or hundreds of invisible elements all doing the same thing...</p>\n\n<p>Desktops may indeed be powerful enough to render most JS execution-speed issues moot. But if you're developing for mobile, using ng-if whenever humanly possible should be a no-brainer. JS speed still matters on mobile processors. Using ng-if is a very easy way to get potentially-significant optimization at very, very low cost.</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/23505047#23505047", "question_id": 21869283, "answer_id": 23505047}, {"body": "<p>ng-if on ng-include and on ng-controller will have a big impact matter\non ng-include it will not load the required partial and does not process unless flag is true\non ng-controller it will not load the controller unless flag is true\nbut the problem is when a flag gets false in ng-if it will remove from DOM when flag gets true back it will reload the DOM in this case ng-show is better, for one time show ng-if is better</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/24566438#24566438", "question_id": 21869283, "answer_id": 24566438}, {"body": "<p>One important note:</p>\n\n<p>ngIf (unlike ngShow) usually creates child scopes that may produce unexpected results.</p>\n\n<p>I had an issue related to this and I've spent MUCH time to figure out what was going on.</p>\n\n<p>(My directive was writing its model values to the wrong scope.)</p>\n\n<p>So, to save your hair just use ngShow unless you run too slow.</p>\n\n<p>The performance difference is barely noticable anyway and I am not sure yet on who's favour is it without a test...</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/25764526#25764526", "question_id": 21869283, "answer_id": 25764526}, {"body": "<p>From my experience:</p>\n\n<p>1) If your page has a toggle that uses ng-if/ng-show to show/hide something, ng-if causes more of a browser delay (slower). For example: if you have a button used to toggle between two views, ng-show seems to be faster.</p>\n\n<p>2) ng-if will create/destroy scope when it evaluates to true/false.  If you have a controller attached to the ng-if, that controller code will get executed every time the ng-if evaluates to true.  If you are using ng-show, the controller code only gets executed once.  So if you have a button that toggles between multiple views, using ng-if and ng-show would make a huge difference in how you write your controller code.</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/26246725#26246725", "question_id": 21869283, "answer_id": 26246725}, {"body": "<p>If you use <code>ng-show or ng-hide</code> the content (eg. thumbnails from server) will be loaded irrespective of the value of expression but will be displayed based on the value of the expression.</p>\n\n<p>If you use <code>ng-if</code> the content will be loaded only if the expression of the ng-if evaluates to truthy.</p>\n\n<p>Using ng-if is a good idea in a situation where you are going to load data or images from the server and show those only depending on users interaction. This way your page load will not be blocked by unnecessary nw intensive tasks.</p>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/32682332#32682332", "question_id": 21869283, "answer_id": 32682332}, {"body": "<p>The answer is not simple:</p>\n\n<p>It depends on the target machines (mobile vs desktop), it depends on the nature of your data, the browser, the OS, the hardware it runs on... you will need to benchmark if you really want to know.</p>\n\n<p>It is mostly a memory vs computation problem ... as with most performance issues the difference can become significant with <strong>repeated elements</strong> (n) like lists, especially when <strong>nested</strong> (n x n, or worse) and also what kind of <strong>computations you run inside</strong> these elements:</p>\n\n<ul>\n<li><p><strong>ng-show</strong>: If those optional elements are often present (dense), like say 90% of the\ntime, it may be faster to have them ready and only show/hide them, especially if their content is cheap (just plain text, nothing to compute or load). This consumes memory as it fills the DOM with hidden elements, but just show/hide something which already exists is likely to be a cheap operation for the browser.</p></li>\n<li><p><strong>ng-if</strong>: If on the contrary elements are likely not to be shown (sparse) just build them and destroy them in real time, especially if their content is expensive to get (computations/sorted/filtered, images, generated images). This is ideal for rare or 'on-demand' elements, it saves memory in terms of not filling the DOM but can cost a lot of computation (creating/destroying elements) and bandwidth (getting remote content). It also depends on how much you compute in the view (filtering/sorting) vs what you already have in the model (pre-sorted/pre-filtered data).</p></li>\n</ul>\n", "title": "When to favor ng-if vs. ng-show/ng-hide?", "tags": ["angularjs", "angularjs-directive"], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide/33231532#33231532", "question_id": 21869283, "answer_id": 33231532}], "link": "http://stackoverflow.com/questions/21869283/when-to-favor-ng-if-vs-ng-show-ng-hide", "question_id": 21869283}, {"body": "<p>The Swift Programming Language guide has the following example: </p>\n\n<pre><code>class Person {\n    let name: String\n    init(name: String) { self.name = name }\n    var apartment: Apartment?\n    deinit { println(\"\\(name) is being deinitialized\") }\n}\n\nclass Apartment {\n    let number: Int\n    init(number: Int) { self.number = number }\n    var tenant: Person?\n    deinit { println(\"Apartment #\\(number) is being deinitialized\") }\n}\n\nvar john: Person?\nvar number73: Apartment?\n\njohn = Person(name: \"John Appleseed\")\nnumber73 = Apartment(number: 73)\n\n//From Apple's \u201cThe Swift Programming Language\u201d guide (https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html)\n</code></pre>\n\n<p>Then when assigning the apartment to the person, they use an exclamation point to \"unwrap the instance\":</p>\n\n<pre><code>john!.apartment = number73\n</code></pre>\n\n<p>What does it mean to \"unwrap the instance\"? Why is it necessary? How is it different from just doing the following:</p>\n\n<pre><code>john.apartment = number73\n</code></pre>\n\n<p>I'm very new to the Swift language.  Just trying to get the basics down.</p>\n\n<p><br>\n<strong><em>UPDATE:</em></strong><br>\nThe big piece of the puzzle that I was missing (not directly stated in the answers - at least not at the time of writing this) is that when you do the following:</p>\n\n<pre><code>var john: Person?\n</code></pre>\n\n<p>that does NOT mean that \"<code>john</code> is of type <code>Person</code> and it might be nil\", as I originally thought. I was simply misunderstanding that <code>Person</code> and <code>Person?</code> are completely separate types.  Once I grasped that, all of the other <code>?</code>, <code>!</code> madness, and the great answers below, made a lot more sense.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "answers": [{"body": "<p><code>john</code> is an optional <code>var</code>. So can be contains a <code>nil</code> value. To ensure that the value isn't nil use a <code>!</code> at the end of the <code>var</code> name.</p>\n\n<p>From documentation</p>\n\n<p><strong>\u201cOnce you\u2019re sure that the optional does contain a value, you can access its underlying value by adding an exclamation mark (!) to the end of the optional\u2019s name. The exclamation mark effectively says, \u201cI know that this optional definitely has a value; please use it.\u201d</strong></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24018376#24018376", "question_id": 24018327, "answer_id": 24018376}, {"body": "<p>John is an optional Person, meaning it can hold a value or be nil. </p>\n\n<pre><code>john.apartment = number73\n</code></pre>\n\n<p>is used if john is not an optional. Since john is never nil we can be sure it won't call apartment on a nil value. While</p>\n\n<pre><code>john!.apartment = number73\n</code></pre>\n\n<p>promises the compiler that john is not nil then unwraps the optional to get john's value and accesses john's apartment property. Use this if you know that john is not nil. If you call this on a nil optional, you'll get a runtime error.</p>\n\n<p>The documentation includes a nice example for using this where convertedNumber is an optional.</p>\n\n<pre><code>if convertedNumber {\n    println(\"\\(possibleNumber) has an integer value of \\(convertedNumber!)\")\n} else {\n    println(\"\\(possibleNumber) could not be converted to an integer\")\n}\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24018403#24018403", "question_id": 24018327, "answer_id": 24018403}, {"body": "<p>If john were an optional var (declared thusly)</p>\n\n<pre><code>var john: Person?\n</code></pre>\n\n<p>then it would be possible for john to have no value (in ObjC parlance, nil value)</p>\n\n<p>The exclamation point basically tells the compiler \"I know this has a value, you don't need to test for it\". If you didn't want to use it, you could conditionally test for it:</p>\n\n<pre><code>if let otherPerson = john {\n    otherPerson.apartment = number73\n}\n</code></pre>\n\n<p>The interior of this will only evaluate if john has a value.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24018494#24018494", "question_id": 24018327, "answer_id": 24018494}, {"body": "<blockquote>\n  <p>What does it mean to \"unwrap the instance\"? Why is it necessary?</p>\n</blockquote>\n\n<p>As far as I can work out (this is very new to me, too)...</p>\n\n<p>The term \"wrapped\" implies we should <strong>think of an Optional variable as a present, wrapped in shiny paper, which might (sadly!) be empty</strong>.</p>\n\n<p>When \"wrapped\", the value of an Optional variable is an enum with two possible values (a little like a Boolean).  This enum describes whether the variable holds a value (<code>Some(T)</code>), or not (<code>None</code>).</p>\n\n<p>If there is a value, this can be obtained by \"unwrapping\" the variable (obtaining the <code>T</code> from <code>Some(T)</code>).</p>\n\n<blockquote>\n  <p>How is <code>john!.apartment = number73</code> different from <code>john.apartment = number73</code>?  (Paraphrased)</p>\n</blockquote>\n\n<p>If you write the name of an Optional variable (eg text <code>john</code>, without the <code>!</code>), this refers to the \"wrapped\" enum (Some/None), not the value itself (T).  So <code>john</code> isn't an instance of <code>Person</code>, and it doesn't have an <code>apartment</code> member:</p>\n\n<pre><code>john.apartment\n// 'Person?' does not have a member named 'apartment'\n</code></pre>\n\n<p>The actual <code>Person</code> value can be unwrapped in various ways:</p>\n\n<ul>\n<li>\"forced unwrapping\": <code>john!</code> (gives the <code>Person</code> value if it exists, runtime error if it is nil)</li>\n<li>\"optional binding\": <code>if let p = john { println(p) }</code> (executes the <code>println</code> if the value exists)</li>\n<li>\"optional chaining\": <code>john?.learnAboutSwift()</code> (executes this made-up method if the value exists)</li>\n</ul>\n\n<p>I guess you choose one of these ways to unwrap, depending upon what should happen in the nil case, and how likely that is.  This language design forces the nil case to be handled explicitly, which I suppose improves safety over Obj-C (where it is easy to forget to handle the nil case).</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>The exclamation mark is also used in the syntax for declaring \"Implicitly Unwrapped Optionals\".</p>\n\n<p>In the examples so far, the <code>john</code> variable has been declared as <code>var john:Person?</code>, and it is an Optional.  If you want the actual value of that variable, you must unwrap it, using one of the three methods above.</p>\n\n<p>If it were declared as <code>var john:Person!</code> instead, the variable would be an Implicitly Unwrapped Optional (see the section with this heading in Apple's book).  There is no need to unwrap this kind of variable when accessing the value, and <code>john</code> can be used without additional syntax.  But Apple's book says:</p>\n\n<blockquote>\n  <p>Implicitly unwrapped optionals should not be used when there is a possibility of a variable becoming nil at a later point. Always use a normal optional type if you need to check for a nil value during the lifetime of a variable.</p>\n</blockquote>\n\n<p><strong>Update 2</strong>:</p>\n\n<p>The article \"<a href=\"https://mikeash.com/pyblog/friday-qa-2014-06-20-interesting-swift-features.html\">Interesting Swift Features</a>\" by Mike Ash gives some motivation for optional types.  I think it is great, clear writing.</p>\n\n<p><strong>Update 3</strong>:</p>\n\n<p>Another useful article about the <em>implicitly unwrapped optional</em> use for the exclamation mark: \"<a href=\"http://www.subfurther.com/blog/2014/06/14/swift-and-the-last-mile/\">Swift and the Last Mile</a>\" by Chris Adamson.  The article explains that this is a pragmatic measure by Apple used to declare the types used by their Objective-C frameworks which might contain nil.  Declaring a type as optional (using <code>?</code>) or implicitly unwrapped (using <code>!</code>) is \"a tradeoff between safety and convenience\".  In the examples given in the article, Apple have chosen to declare the types as implicitly unwrapped, making the calling code more convenient, but less safe.</p>\n\n<p>Perhaps Apple might comb through their frameworks in the future, removing the uncertainty of implicitly unwrapped (\"probably never nil\") parameters and replacing them with optional (\"certainly could be nil in particular [hopefully, documented!] circumstances\") or standard non-optional (\"is never nil\") declarations, based on the exact behaviour of their Objective-C code.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24020951#24020951", "question_id": 24018327, "answer_id": 24020951}, {"body": "<p>In objective C variables with no value were equal to 'nil'(it was also possible to use 'nil' values same as 0 and false), hence it was possible to use variables in conditional statements (Variables having values are same as 'TRUE' and those with no values were equal to 'FALSE').</p>\n\n<p>Swift provides type safety by providing 'optional value'. i.e. It prevents errors formed from assigning variables of different types.</p>\n\n<p>So in Swift, only booleans can be provided on conditional statements.</p>\n\n<pre><code>var hw = \"Hello World\"\n</code></pre>\n\n<p>Here, even-though 'hw' is a string, it can't be used in an if statement like in objective C.</p>\n\n<pre><code>//This is an error\n\nif hw\n\n {..}\n</code></pre>\n\n<p>For that it needs to be created as,</p>\n\n<pre><code>var nhw : String? = \"Hello World\"\n\n//This is correct\n\nif nhw\n\n {..}\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24300590#24300590", "question_id": 24018327, "answer_id": 24300590}, {"body": "<p>Here is what I think is the difference:</p>\n\n<pre><code>var john: Person?\n</code></pre>\n\n<p>Means john can be nil</p>\n\n<pre><code>john?.apartment = number73\n</code></pre>\n\n<p>The compiler will interpret this line as:</p>\n\n<pre><code>if john != nil {\n    john.apartment = number73\n}\n</code></pre>\n\n<p>While</p>\n\n<pre><code>john!.apartment = number73\n</code></pre>\n\n<p>The compiler will interpret this line as simply:</p>\n\n<pre><code>john.apartment = number73\n</code></pre>\n\n<p>Hence, using ! will unwrap the if statement, and make it run faster, but if john is nil, then a runtime error will happen.</p>\n\n<p>So wrap here doesn't mean it is memory wrapped, but it means it is code wrapped, in this case it is wrapped with an if statement, and because Apple pay close attention to performance in runtime, they want to give you a way to make your app run with the best possible performance.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24319846#24319846", "question_id": 24018327, "answer_id": 24319846}, {"body": "<p>TL;DR</p>\n\n<p>What does an exclamation mark mean in the Swift language?</p>\n\n<blockquote>\n  <p>The exclamation mark effectively says, \u201cI know that this optional\n  definitely has a value; please use it.\u201d This is known as forced unwrapping of the optional\u2019s value: </p>\n</blockquote>\n\n<p>Example</p>\n\n<pre><code>let possibleString: String? = \"An optional string.\"\nprint(possibleString!) // requires an exclamation mark to access its value\n// prints \"An optional string.\"\n\nlet assumedString: String! = \"An implicitly unwrapped optional string.\"\nprint(assumedString)  // no exclamation mark is needed to access its value\n// prints \"An implicitly unwrapped optional string.\"\n</code></pre>\n\n<p>Source: <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_399\">https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_399</a></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24793853#24793853", "question_id": 24018327, "answer_id": 24793853}, {"body": "<p>In this case...</p>\n\n<p>var John: Person!</p>\n\n<p>it means, that initially John will have nil value, it will be set and once set will never be nil-led again. Therefore for convenience I can use the easier syntax for accessing an optional var because this is an \"Implicitly unwrapped optional\"</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/24944609#24944609", "question_id": 24018327, "answer_id": 24944609}, {"body": "<p>The ! means that you are force unwrapping the object the ! follows.  More info can be found  in Apples documentation, which can be found here: <a href=\"https://developer.apple.com/library/ios/documentation/swift/conceptual/Swift_Programming_Language/TheBasics.html\" rel=\"nofollow\">https://developer.apple.com/library/ios/documentation/swift/conceptual/Swift_Programming_Language/TheBasics.html</a></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/26953093#26953093", "question_id": 24018327, "answer_id": 26953093}, {"body": "<pre><code>var currentTitle:String?\n//currentTitle = \"Title Name\"\nprintln(\"title: \\(currentTitle?)\") //title: nil\nprintln(\"title: \\(currentTitle!)\") //runtime exception\n\nvar currentTitle:String?\ncurrentTitle = \"Title Name\"\nprintln(\"title: \\(currentTitle?)\") //title: Optonal(\"Title Name\")\nprintln(\"title: \\(currentTitle!)\") //title: Title Name\n</code></pre>\n\n<p>In some cases we cannot move forward when the optional value is nil</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/28447429#28447429", "question_id": 24018327, "answer_id": 28447429}, {"body": "<p>To put it simply, exclamation marks mean an optional is being unwrapped. An optional is a variable that can have a value or not -- so you can check if the variable is empty, using an if let statement <a href=\"https://medium.com/arthurs-coding-tips/optionals-in-swift-c94fd231e7a4\" rel=\"nofollow\">as shown here</a>, and then force unwrap it. If you force unwrap an optional that is empty though, your program will crash, so be careful! Optionals are declared by putting a question mark at the end of an explicit assignment to a variable, for example I could write:</p>\n\n<pre><code>var optionalExample: String?\n</code></pre>\n\n<p>This variable has no value. If I were to unwrap it, the program would crash and Xcode would tell you you tried to unwrap an optional with a value of nil. </p>\n\n<p>Hope that helped.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/28749962#28749962", "question_id": 24018327, "answer_id": 28749962}, {"body": "<p>The ! at the end of an object says the object is an optional and to unwrap if it can otherwise returns a nil. This is often used to trap errors that would otherwise crash the program.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/30724185#30724185", "question_id": 24018327, "answer_id": 30724185}, {"body": "<p>Here are some examples:</p>\n\n<pre><code>var a:Int = 5\nvar b:Int?\n</code></pre>\n\n<p>Where <code>b</code> is an optional value. means it may or may not contain a value.</p>\n\n<pre><code>b = a \n</code></pre>\n\n<p>Here <code>a</code> has a value so we can assign it</p>\n\n<pre><code>var c:Int = nil\nvar d:Int!\n</code></pre>\n\n<p>Where <code>d</code> is forcefully unwrapped means it must contain a value</p>\n\n<pre><code>d = c\n</code></pre>\n\n<p>The application will crash because we are assign <code>nil</code> to unwrapped</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/31336043#31336043", "question_id": 24018327, "answer_id": 31336043}, {"body": "<p>If you're familiar with C#, this is like Nullable types which are also declared using a question mark:</p>\n\n<pre><code>Person? thisPerson;\n</code></pre>\n\n<p>And the exclamation mark in this case is equivalent to accessing the .Value property of the nullable type like this:</p>\n\n<pre><code>thisPerson.Value\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/33239306#33239306", "question_id": 24018327, "answer_id": 33239306}, {"body": "<p>Some big picture perspective to add to the other useful but more detail-centric answers:</p>\n\n<p>In Swift, the exclamation point appears in several contexts:</p>\n\n<ul>\n<li>Forced unwrapping: <code>let name = nameLabel!.text</code></li>\n<li>Implicitly unwrapped optionals: <code>var logo: UIImageView!</code></li>\n<li>Forced casting: <code>logo.image = thing as! UIImage</code></li>\n<li>Unhandled exceptions: <code>try! NSJSONSerialization.JSONObjectWithData(data, [])</code></li>\n</ul>\n\n<p>Every one of these is a different language construct with a different meaning, but they all have three important things in common:</p>\n\n<h3>1. Exclamation points circumvent Swift\u2019s compile-time safety checks.</h3>\n\n<p>When you use <code>!</code> in Swift, you are essentially saying, \u201cHey, compiler, I know you think an error <em>could</em> happen here, but I <em>know</em> with total certainty that it never will.\u201d</p>\n\n<p>Not all valid code fits into the box of Swift\u2019s compile-time type system \u2014 or <em>any</em> language\u2019s static\u00a0type checking, for that matter. There are situations where you can logically prove that an error will never happen, but you can\u2019t prove it <em>to the compiler</em>. That\u2019s why Swift\u2019s designers added these features in the first place.</p>\n\n<p>However, whenever you use <code>!</code>, you\u2019re ruling out having a recovery path for an error, which means that\u2026</p>\n\n<h3>2. Exclamation points are potential crashes.</h3>\n\n<p>An exclamation point also says, \u201cHey Swift, I am <em>so</em> certain that this error can never happen that it\u2019s better for you to <em>crash my whole app</em> than it is for me to code a recovery path for it.\u201d</p>\n\n<p>That\u2019s a dangerous assertion. It <em>can</em> be the correct one: in mission-critical code where you have thought hard about your code\u2019s invariants, it may be that bogus output is worse than a crash.</p>\n\n<p>However, when I see <code>!</code> in the wild, it's rarely used so mindfully. Instead, it too often means, \u201cthis value was optional and I didn\u2019t really think too hard about why it could be nil or what to about that, but add <code>!</code> made it compile \u2026 so my code is good, right?\u201d</p>\n\n<p>Beware the arrogance of the exclamation point. Instead\u2026</p>\n\n<h3>3. Exclamation points are best used sparingly, almost never.</h3>\n\n<p>Every one of these <code>!</code> constructs has a <code>?</code> counterpart that forces you to deal with the error/nil case:</p>\n\n<ul>\n<li>Conditional unwrapping: <code>if let name = nameLabel?.text { ... }</code></li>\n<li>Optionals: <code>var logo: UIImageView?</code></li>\n<li>Conditional casts: <code>logo.image = thing as? UIImage</code></li>\n<li>Nil-on-failure exceptions: <code>try? NSJSONSerialization.JSONObjectWithData(data, [])</code></li>\n</ul>\n\n<p>If you are tempted to use <code>!</code>, it is always good to consider carefully why you are not using <code>?</code> instead. Is crashing your program really the best option if the <code>!</code> operation fails? Is there a reasonable recovery path your code could take in the nil/error case? If so, code it.</p>\n\n<p>I periodically search my entire codebase for <code>!</code> and audit every use of it. Very few usages stand up to scrutiny. (As of this writing, the entire Siesta framework has exactly <a href=\"https://github.com/bustoutsolutions/siesta/blob/0a23609737282b2834b770172410dde08e57e8a7/Source/Resource.swift#L422\" rel=\"nofollow\">two</a> <a href=\"https://github.com/bustoutsolutions/siesta/blob/0a23609737282b2834b770172410dde08e57e8a7/Source/Resource.swift#L438\" rel=\"nofollow\">instances</a> of it.)</p>\n\n<p>That\u2019s not to say you should <em>never</em> use <code>!</code> in your code \u2014\u00a0just that you should always use it <em>mindfully</em>, and never make it the default option.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/33399973#33399973", "question_id": 24018327, "answer_id": 33399973}, {"body": "<p>In Short (!):\nAfter you have declare a variable and that you are certain the variable is holding a value.</p>\n\n<pre><code>let assumedString: String! = \"Some message...\"\nlet implicitString: String = assumedString\n</code></pre>\n\n<p>else you would have to do this on every after passing value...</p>\n\n<pre><code>let possibleString: String? = \"An optional string.\"\nlet forcedString: String = possibleString! // requires an exclamation mark\n</code></pre>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/34649916#34649916", "question_id": 24018327, "answer_id": 34649916}, {"body": "<p>If you've come from a C-family language, you will be thinking \"pointer to object of type X which might be the memory address 0 (NULL)\", and if you're coming from a dynamically typed language you'll be thinking \"Object which is probably of type X but might be of type undefined\". Neither of these is actually correct, although in a roundabout way the first one is close.</p>\n\n<p>The way you should be thinking of it is as if it's an object like:</p>\n\n<pre><code>struct Optional&lt;T&gt; {\n   var isNil:Boolean\n   var realObject:T\n}\n</code></pre>\n\n<p>When you're testing your optional value with <code>foo == nil</code> it's really returning <code>foo.isNil</code>, and when you say <code>foo!</code> it's returning <code>foo.realObject</code> with an assertion that <code>foo.isNil == false</code>. It's important to note this because if <code>foo</code> actually is nil when you do <code>foo!</code>, that's a runtime error, so typically you'd want to use a conditional let instead unless you are very sure that the value will not be nil. This kind of trickery means that the language can be strongly typed without forcing you to test if values are nil everywhere.</p>\n\n<p>In practice, it doesn't truly behave like that because the work is done by the compiler. At a high level there is a type <code>Foo?</code> which is separate to <code>Foo</code>, and that prevents funcs which accept type <code>Foo</code> from receiving a nil value, but at a low level an optional value isn't a true object because it has no properties or methods; it's likely that in fact it is a pointer which may by NULL(0) with the appropriate test when force-unwrapping.</p>\n\n<p>There other situation in which you'd see an exclamation mark is on a type, as in:</p>\n\n<pre><code>func foo(bar: String!) {\n    print(bar)\n}\n</code></pre>\n\n<p>This is roughly equivalent to accepting an optional with a forced unwrap, i.e.:</p>\n\n<pre><code>func foo(bar: String?) {\n    print(bar!)\n}\n</code></pre>\n\n<p>You can use this to have a method which technically accepts an optional value but will have a runtime error if it is nil. In the current version of Swift this apparently bypasses the is-not-nil assertion so you'll have a low-level error instead. Generally not a good idea, but it can be useful when converting code from another language.</p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/35503514#35503514", "question_id": 24018327, "answer_id": 35503514}, {"body": "<p><strong><em>IN SIMPLE WORDS</em></strong></p>\n\n<p><strong>USING Exclamation mark indicates that variable must consists non nil value (it never be nil)</strong>  </p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/37391764#37391764", "question_id": 24018327, "answer_id": 37391764}, {"body": "<p><strong>ASK YOURSELF</strong></p>\n\n<ol>\n<li>Does the type <strong><code>person?</code></strong> have an <code>apartment</code> member/property?  OR</li>\n<li>Does the type <strong><code>person</code></strong> have an <code>apartment</code> member/property?</li>\n</ol>\n\n<p>If you can't answer this question, then I recommend seeing the images below, they are from the free <a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=ios9%20standford%20itunes%20u\" rel=\"nofollow\">iOS 9 Stanford Course</a>.\n<a href=\"http://i.stack.imgur.com/m6WwP.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/m6WwP.jpg\" alt=\"enter image description here\"></a>\n<a href=\"http://i.stack.imgur.com/nc9aj.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/nc9aj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Now that you know what optionals are implemented using enums, you that <code>person?</code> doesn't have any <code>apartment</code> member but its uwrapped ie <code>person!</code> value does.</p>\n\n<p>Had you defined <code>var john: Person</code> instead of: <code>var john: Person?</code> then you would have no longer needed to have the <code>!</code> used, because <code>Person</code> itself does have a member of <code>apartment</code></p>\n", "title": "What does an exclamation mark mean in the Swift language?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language/38830543#38830543", "question_id": 24018327, "answer_id": 38830543}], "link": "http://stackoverflow.com/questions/24018327/what-does-an-exclamation-mark-mean-in-the-swift-language", "question_id": 24018327}, {"body": "<p>I have a variable in PHP, and I need its value in my JavaScript code. How can I get my variable from PHP to JavaScript?</p>\n\n<p>I have code that looks like this:</p>\n\n<pre><code>&lt;$php\n     ...\n     $val = $myService-&gt;getValue(); // makes an api and db call\n$&gt;\n</code></pre>\n\n<p>I have JavaScript code that needs <code>val</code> and looks along the lines of:</p>\n\n<pre><code>&lt;script&gt;\n    myPlugin.start($val); // tried this, didn't work\n    &lt;?php myPlugin.start($val); ?&gt; // this didn't work either\n    myPlugin.start(&lt;?=$val?&gt; // this works sometimes, but sometimes it fails\n&lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "answers": [{"body": "<p>There are actually several approaches to do this. Some require more overhead than others, and some are considered better than others.</p>\n\n<p>In no particular order:</p>\n\n<ol>\n<li>Use AJAX to get the data you need from the server.</li>\n<li>Echo the data into the page somewhere, and use JavaScript to get the information from the DOM.</li>\n<li>Echo the data directly to JavaScript.</li>\n</ol>\n\n<p>In this post, we'll examine each of the above methods, and see the pros and cons of each, as well as how to implement them.</p>\n\n<h1>1. Use AJAX to get the data you need from the server</h1>\n\n<p>This method is considered the best, because <strong>your server side and client side scripts are completely separate</strong>.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Better separation between layers</strong> - If tomorrow you stop using PHP, and want to move to a servlet, a REST API, or some other service, you don't have to change much of the JavaScript code.</li>\n<li><strong>More readable</strong> - JavaScript is JavaScript, PHP is PHP. Without mixing the two, you get more readable code on both languages.</li>\n<li><strong>Allows for async data transfer</strong> - Getting the information from PHP might be time/resources expensive. Sometimes you just don't want to wait for the information, load the page, and have the information reach whenever.</li>\n<li><strong>Data is not directly found on the markup</strong> - This means that your markup is kept clean of any additional data, and only JavaScript sees it.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong>Latency</strong> - AJAX creates an HTTP request, and HTTP requests are carried over network and have network latencies.</li>\n<li><strong>State</strong> - Data fetched via a separate HTTP request won't include any information from the HTTP request that fetched the HTML document. You may need this information (e.g. if the HTML document is generated in response to a form submission) and, if you do, will have to transfer it across somehow. If you have ruled out embedding the data in the page (which you have if you are using this technique) then that limits you to cookies/sessions which may be subject to race conditions.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>With AJAX, you need two pages, one is where PHP generates the output, and the second is where JavaScript gets that output:</p>\n\n<h3>get-data.php</h3>\n\n<pre><code>/* Do some operation here, like talk to the database, the file-session\n * The world beyond, limbo, the city of shimmers, and Canada.\n * \n * AJAX generally uses strings, but you can output JSON, HTML and XML as well. \n * It all depends on the Content-type header that you send with your AJAX\n * request. */\n\necho json_encode(42); //In the end, you need to <strong>echo</strong> the result. \n                      //All data should be <em>json_encode()</em>d.\n\n                      //You can json_encode() any value in PHP, arrays, strings,\n                      //even objects.\n\n</code></pre>\n\n<h3>index.php (or whatever the actual page is named like)</h3>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;script&gt;\n    function reqListener () {\n      console.log(this.responseText);\n    }\n\n    var oReq = new XMLHttpRequest(); //New request object\n    oReq.onload = function() {\n        //This is where you handle what to do with the response.\n        //The actual data is found on this.responseText\n        alert(this.responseText); //Will alert: 42\n    };\n    oReq.open(\"get\", \"get-data.php\", true);\n    //                               ^ Don't block the rest of the execution.\n    //                                 Don't wait until the request finishes to \n    //                                 continue.\n    oReq.send();\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<p>The above combination of the two files will alert <code>42</code> when the file finishes loading.</p>\n\n<h2>Some more reading material</h2>\n\n<ul>\n<li><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\">Using XMLHttpRequest - MDN</a></strong></li>\n<li><strong><a href=\"https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest\">XMLHttpRequest object reference - MDN</a></strong></li>\n<li><strong><a href=\"http://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-ajax-call\">How do I return the response from an asynchronous call?</a></strong></li>\n</ul>\n\n<h1>2. Echo the data into the page somewhere, and use JavaScript to get the information from the DOM</h1>\n\n<p>This method is less preferable to AJAX, but it still has its advantages. It's still <em>relatively</em> separated between PHP and JavaScript in a sense that there is no PHP directly in the JavaScript.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Fast</strong> - DOM operations are often quick, and you can store and access a lot of data relatively quickly.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong>Potentially Unsemantic Markup</strong> - Usually, what happens is that you use some sort of <code>&lt;input type=hidden&gt;</code> to store the information, because it's easier to get the information out of <code>inputNode.value</code>, but doing so means that you have a meaningless element in your HTML. HTML has the <code>&lt;meta&gt;</code> element for data about the document, and HTML 5 introduces <code>data-*</code> attributes for data specifically for reading with JS that can be associated with particular elements.</li>\n<li><strong>Dirties up the Source</strong> - Data that PHP generates is outputted directly to the HTML source, meaning that you get a bigger and less focused HTML source.</li>\n<li><strong>Harder to get structured data</strong> - Structured data will have to be valid HTML, otherwise you'll have to escape and convert strings yourself.</li>\n<li><strong>Tightly couples PHP to your data logic</strong> - Because PHP is used in presentation, you can't separate the two cleanly.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>With this, the idea is to create some sort of element which will not be displayed to the user, but is visible to JavaScript.</p>\n\n<h3>index.php</h3>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;div id=\"dom-target\" style=\"display: none;\"&gt;\n    &lt;?php \n        $output = \"42\"; //Again, do some operation, get the output.\n        echo htmlspecialchars($output); /* You have to escape because the result\n                                           will not be valid HTML otherwise. */\n    ?&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    var div = document.getElementById(\"dom-target\");\n    var myData = div.textContent;\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<h1>3. Echo the data directly to JavaScript</h1>\n\n<p>This is probably the easiest to understand, and the most horrible to use. Don't do this unless you know what you're doing.</p>\n\n<h3>Pros</h3>\n\n<ul>\n<li><strong>Very easily implemented</strong> - It takes very little to implement this, and understand.</li>\n<li><strong>Does not dirty source</strong> - Variables are outputted directly to JavaScript, so the DOM is not affected.</li>\n</ul>\n\n<h3>Cons</h3>\n\n<ul>\n<li><strong><em>Insecure</em></strong> - PHP has no trivial JavaScript escape functions, and they aren't trivial to implement. Especially when using user inputs, you are <strong>extremely</strong> vulnerable to second tier injections. <strong>Disputed</strong> see comments</li>\n<li><strong>Tightly couples PHP to your data logic</strong> - Because PHP is used in presentation, you can't separate the two cleanly.</li>\n<li><strong>Structured data is hard</strong> - You can probably do JSON... kinda. But XML and HTML will require special attention.</li>\n</ul>\n\n<h2>Implementation Example</h2>\n\n<p>Implementation is relatively straightforward:</p>\n\n<pre><code>&lt;!-- snip --&gt;\n&lt;script&gt;\n    var data = &lt;?php echo json_encode(\"42\", JSON_HEX_TAG); ?&gt;; //Don't forget the extra semicolon!\n&lt;/script&gt;\n&lt;!-- snip --&gt;\n</code></pre>\n\n<p>Good luck!</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/23740549#23740549", "question_id": 23740548, "answer_id": 23740549}, {"body": "<p>I'm going to try a simpler answer:</p>\n\n<h2>Explanation of the problem</h2>\n\n<p>First, let's understand the flow of events when a page is served from our server:</p>\n\n<ul>\n<li>First PHP is run, it generates the HTML that is served to the client.</li>\n<li>Then, the HTML is delivered to the client, after PHP is done with it, I'd like to emphasize that once the code leaves the server - PHP is done with it and can no longer access it.</li>\n<li>Then, the HTML with JavaScript reaches the client, which can execute JS on that html.</li>\n</ul>\n\n<p>So really, the core thing to remember here is that <strong>HTTP is stateless</strong>. Once a request left the server, the server can not touch it. So, that leaves our options to:</p>\n\n<ol>\n<li>Send more requests from the client <em>after</em> the initial request is done.</li>\n<li>Encode what the server had to say in the initial request.</li>\n</ol>\n\n<h2>Solutions</h2>\n\n<p>That's the core question you should be asking yourself is:</p>\n\n<h2>Am I writing a website or an application?</h2>\n\n<p>Websites are mainly page based, and the page load times needs to be as fast as possible (for example - Wikipedia) . Web applications are more AJAX heavy and perform a lot of round trips to get the client fast information (for example - a stock dashboard).</p>\n\n<h3>Website</h3>\n\n<p>Sending more requests from the client after the initial request is done is <strong>slow</strong> as it requires more HTTP requests which have significant overhead. Moreover, it requires <em>asynchronousity</em> as making an AJAX request requires a handler for when it's complete.</p>\n\n<p>I would <em>not</em> recommend making another request <em>unless your site is an application</em> for getting that information from the server. </p>\n\n<p>You want fast response times which have a <em>huge</em> impact on conversion and load times. Making ajax requests is slow for the initial uptime in this case and unneeded.</p>\n\n<p>You have two ways to tackle the issue</p>\n\n<ul>\n<li><strong>Set a cookie</strong> - cookies are headers sent in HTTP requests that both the server and client can read.</li>\n<li><strong>Encode the variable as JSON</strong> - JSON looks very close to JavaScript objects and <em>most</em> JSON objects are valid JavaScript variables.</li>\n</ul>\n\n<p><a href=\"http://www.php.net/manual/en/function.setcookie.php\">Setting a cookie</a> is really not very difficult, you just assign it a value:</p>\n\n<pre><code>setcookie(\"MyCookie\", $value); // sets the cookie to the value, remember, do not\n                               // set it with HTTP only to true.\n</code></pre>\n\n<p>Then, you can <a href=\"http://stackoverflow.com/questions/5639346/shortest-function-for-reading-a-cookie-in-javascript\">read it with JavaScript</a> using <code>document.cookie</code>:</p>\n\n<p>Here is a short hand rolled parser, but the answer I linked to right above this has better tested ones: </p>\n\n<pre><code>var cookies = document.cookie.split(\";\").\n    map(function(el){ return el.split(\"=\"); }).\n    reduce(function(prev,cur){ prev[cur[0]] = cur[1];return prev },{});\n\ncookies[\"MyCookie\"] // value set with php.\n</code></pre>\n\n<p>Cookies are good for a little data. This is what tracking services often do.</p>\n\n<p>Once we have more data, we can encode it with JSON inside a JS variable instead:</p>\n\n<pre><code>&lt;script&gt;\n    var myServerData = &lt;?=json_encode($value)?&gt;; // don't forget to sanitize \n                                                 //server data\n&lt;/script&gt;\n</code></pre>\n\n<p>Assuming <code>$value</code> is <code>json_encode</code>able on the PHP side (it usually is). This technique is what StackOverflow does with its chat for example (only using .net instead of php).</p>\n\n<h3>Application</h3>\n\n<p>If you're writing an application - suddenly the initial load time isn't always as important as the ongoing performance of the app and it starts to pay off to load data and code separately.</p>\n\n<p>My answer <a href=\"http://stackoverflow.com/a/16825593/1348195\">here</a> explains how to load data using AJAX in JavaScript:</p>\n\n<pre><code>function callback(data){\n    // what do I do with the response?\n}\n\nvar httpRequest = new XMLHttpRequest;\nhttpRequest.onreadystatechange = function(){\n    if (httpRequest.readyState === 4) {// request is done\n        if (httpRequest.status === 200) {// successfully\n            callback(httpRequest.responseText);// we're calling our method\n        }\n    }\n};\nhttpRequest.open('GET', \"/echo/json\");\nhttpRequest.send();\n</code></pre>\n\n<p>Or with jQuery:</p>\n\n<pre><code>$.get(\"/your/url\").done(function(data){\n    // what do I do with the data?\n});\n</code></pre>\n\n<p>Now, the server just needs to contain a <code>/your/url</code> route/file that contains code that grabs the data and does something with it, in your case:</p>\n\n<pre><code>&lt;$php\n ...\n $val = myService-&gt;getValue(); // makes an api and db call\n echo json_encode($val); // write it to the output\n $&gt;\n</code></pre>\n\n<p>This way, our JS file asks for the data and shows it rather than asking for code or for layout. This is cleaner and starts to pay off as the application gets higher. It's also better separation of concerns and it allows testing the client side code without any server side technology involved which is another plus.</p>\n\n<p><strong>Postscript:</strong> You have to be <em>very</em> aware of XSS attack vectors when you inject anything from PHP to JavaScript. It's <em>very</em> hard to escape values properly and it's context sensitive. If you're unsure how to deal with XSS, or unaware of it - please read <a href=\"https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29\">this OWASP article</a>, <a href=\"https://www.owasp.org/index.php/XSS_%28Cross_Site_Scripting%29_Prevention_Cheat_Sheet\">this one</a> and <a href=\"http://stackoverflow.com/q/71328/1348195\">this question</a>. </p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/23741119#23741119", "question_id": 23740548, "answer_id": 23741119}, {"body": "<pre><code>myPlugin.start($val); // tried this, didn't work    \n</code></pre>\n\n<p>It doesn't work because <code>$val</code> is undefined as far as javascript is concerned, ie. the php did not output anything for <code>$val</code>. Try viewing the source in your browser and here is what you'll see:</p>\n\n<pre><code>myPlugin.start(); // tried this, didn't work    \n</code></pre>\n\n<p>And</p>\n\n<pre><code>&lt;?php myPlugin.start($val); ?&gt; // this didn't work either\n</code></pre>\n\n<p>This doesn't work because php will try to treat <code>myPlugin</code> as a constant and when that fails it will try to treat it as the string <code>'myPlugin'</code> which it will try to concatenate with the output of the php function <code>start()</code> and since that is undefined it will produce a fatal error</p>\n\n<p>And</p>\n\n<pre><code> myPlugin.start(&lt;?=$val?&gt; // this works sometimes, but sometimes it fails\n</code></pre>\n\n<p>While this is most likely to work, since the php is producing valid javascript with the expected arguments, if it fails, chances are its because <code>myPlugin</code> isn't ready yet. Check your order of execution.</p>\n\n<p>Also you should note that the php out put is insecure and should be filtered with <code>json_encode()</code></p>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>Because I didn't notice the missing parenthesis in <code>myPlugin.start(&lt;?=$val?&gt;</code> :-\\</p>\n\n<p>As @Second Rikudo points out, for it to work correctly <code>$val</code> would need to contain the closing parenthesis eg: <code>$val=\"42);\"</code> </p>\n\n<p>Meaning that the php will now produce <code>myPlugin.start(42);</code> and will work as expected when executed by the javascript</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/23741482#23741482", "question_id": 23740548, "answer_id": 23741482}, {"body": "<p>I usually use data-* attributes in html.</p>\n\n<pre><code>&lt;div class=\"service-container\" data-service=\"&lt;?php echo $myService-&gt;getValue(); ?&gt;\"&gt;\n\n&lt;/div&gt;\n\n&lt;script&gt;\n$(document).ready(function() {\n    $('.service-container').each(function() {\n        var container = $(this);\n        var service = container.data('container');\n\n        // service variable now contains the value of $myService-&gt;getValue();\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>This example uses jQuery but can be adapted for another library or vanilla Javascript.</p>\n\n<p>You can read more about the dataset property here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset\">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset</a></p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/23813274#23813274", "question_id": 23740548, "answer_id": 23813274}, {"body": "<pre><code>&lt;script&gt;\n  var jsvar = &lt;?php echo json_encode($PHPVar); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>json_encode() requires:</p>\n\n<ul>\n<li>PHP 5.2.0 or more</li>\n<li>$PHPVar encoded as UTF-8, Unicode.</li>\n</ul>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/24834434#24834434", "question_id": 23740548, "answer_id": 24834434}, {"body": "<p>try this </p>\n\n<pre><code>&lt;?php\n    echo \"&lt;script&gt; var x = \". json_encode($phpVariable).\"&lt;/script&gt;\";\n?&gt;\n</code></pre>\n\n<p>-- </p>\n\n<p>-After trying this for  a while \nAlthough it works , however  it slows down the performance. as php is a server side script while javascript is a user side.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/25620793#25620793", "question_id": 23740548, "answer_id": 25620793}, {"body": "<p>I quite like the way the Wordpress works with its <a href=\"http://codex.wordpress.org/Function_Reference/wp_enqueue_script\">enqueue</a> and <a href=\"http://codex.wordpress.org/Function_Reference/wp_localize_script\">localize</a> functions, so following that model, i wrote a simple class for putting a scripts into page according to the script dependencies, and for making additional data available for the script.</p>\n\n<pre><code>class mHeader {\n\n    private $scripts = array();\n\n    /**\n     * @param string $id        unique script identifier\n     * @param string $src   script src attribute\n     * @param array  $deps      an array of dependencies ( script identifiers ).\n     * @param array  $data      an array, data that will be json_encoded and available to the script.\n     */\n    function enqueue_script( $id, $src, $deps = array(), $data = array() ) {\n        $this-&gt;scripts[$id] = array( 'src' =&gt; $src, 'deps' =&gt; $deps, 'data' =&gt; $data );\n    }\n\n    private function dependencies( $script ) {\n        if ( $script['deps'] ) {\n            return array_map( array( $this, 'dependencies' ), array_intersect_key( $this-&gt;scripts, array_flip( $script['deps'] ) ) );\n        }\n    }\n\n    private function _unset( $key, &amp;$deps, &amp;$out ) {\n        $out[$key] = $this-&gt;scripts[$key];\n        unset( $deps[$key] );\n    }\n\n    private function flattern( &amp;$deps, &amp;$out = array() ) {\n\n        foreach( $deps as $key =&gt; $value ) {            \n            empty($value) ? $this-&gt;_unset( $key, $deps, $out ) : $this-&gt;flattern( $deps[$key], $out );\n        }\n    }   \n\n    function print_scripts() {\n\n        if ( !$this-&gt;scripts ) return;\n\n        $deps = array_map( array( $this, 'dependencies' ), $this-&gt;scripts );\n        while ( $deps ) \n            $this-&gt;flattern( $deps, $js );\n\n        foreach( $js as $key =&gt; $script ) {\n            $script['data'] &amp;&amp; printf( \"&lt;script&gt; var %s = %s; &lt;/script&gt;\" . PHP_EOL, key( $script['data'] ), json_encode( current( $script['data'] ) ) );\n            echo \"&lt;script id=\\\"$key-js\\\" src=\\\"$script[src]\\\" type=\\\"text/javascript\\\"&gt;&lt;/script&gt;\" . PHP_EOL;\n        }\n    }\n}\n</code></pre>\n\n<p>Call to <code>enqueue_script()</code> function is for adding script, setting the souce and dependencies on other scripts, and additional data needed for the script.</p>\n\n<pre><code>$header = new mHeader();\n\n$header-&gt;enqueue_script( 'jquery-ui', '//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js', array( 'jquery' ) );\n$header-&gt;enqueue_script( 'jquery', '//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js' );\n$header-&gt;enqueue_script( 'custom-script', '//custom-script.min.js', array( 'jquery-ui' ), array( 'mydata' =&gt; array( 'value' =&gt; 20 ) ) );\n\n$header-&gt;print_scripts();\n</code></pre>\n\n<p>And, <code>print_scripts()</code> method of the above example will send this output:</p>\n\n<pre><code>&lt;script id=\"jquery-js\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script id=\"jquery-ui-js\" src=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script&gt; var mydata = {\"value\":20}; &lt;/script&gt;\n&lt;script id=\"custom-script-js\" src=\"//custom-script.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Regardless the fact that the script 'jquery' is enqueued after the 'jquery-ui', it is printed before because it is defined in 'jquery-ui' that it depend on 'jquery'.\nAdditional data for the 'custom-script' are inside a new script block and are placed in front of it, it contains <code>mydata</code> object that holds additional data, now availible to 'custom-script'.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/26639988#26639988", "question_id": 23740548, "answer_id": 26639988}, {"body": "<p>I have come out with an easy method to assign JavaScript variables using PHP. </p>\n\n<p>It uses HTML5 data attributes to store PHP variables and then its assigned to JavaScript on page load.</p>\n\n<p>Complete Tutorial can be found <a href=\"http://qnimate.com/assign-javascript-variables-using-wordpressphp/\" rel=\"nofollow\">here</a></p>\n\n<p>Example:</p>\n\n<pre><code>&lt;?php\n\n$variable_1 = \"QNimate\";\n$variable_2 = \"QScutter\";\n\n?&gt;\n    &lt;span id=\"storage\" data-variable-one=\"&lt;?php echo $variable_1; ?&gt;\" data-variable-two=\"&lt;?php echo $variable_2; ?&gt;\"&gt;&lt;/span&gt;\n&lt;?php\n</code></pre>\n\n<p>Hers is the JS code</p>\n\n<pre><code>var variable_1 = undefined;\nvar variable_2 = undefined;\n\nwindow.onload = function(){\n    variable_1 = document.getElementById(\"storage\").getAttribute(\"data-variable-one\");\n    variable_2 = document.getElementById(\"storage\").getAttribute(\"data-variable-two\");\n}\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/28027575#28027575", "question_id": 23740548, "answer_id": 28027575}, {"body": "<p><strong>Simply use one of the following methods.</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar js_variable  = '&lt;?php echo $php_variable;?&gt;';\n&lt;script&gt;\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var js_variable = &lt;?php echo json_encode($php_variable); ?&gt;; \n&lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/29612988#29612988", "question_id": 23740548, "answer_id": 29612988}, {"body": "<p>As per your code</p>\n\n<pre><code>&lt;$php\n     $val = $myService-&gt;getValue(); // makes an api and db call\n     echo '&lt;span id=\"value\"&gt;'.$val.'&lt;/span&gt;';\n$&gt;\n</code></pre>\n\n<p>Now you can get value using DOM, use innerHTML of span id, in this case you dont need to do any call to server, or ajax or anyother thing. </p>\n\n<p>Your page will print it using php, and you javascript will get value using DOM.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/29648718#29648718", "question_id": 23740548, "answer_id": 29648718}, {"body": "<p>here is one i do not see posted as an option. it is similar to using ajax, but clearly different.</p>\n\n<p>first, set a script's source directly to a PHP file.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"url_to_your_php_file.php\" /&gt;&lt;/script&gt;\n</code></pre>\n\n<p>you could even pass a variable back to the PHP file such as this example:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"url_to_your_php_file.php?var1=value1\" /&gt;&lt;/script&gt;\n</code></pre>\n\n<p>then in \"your_php_file.php\":</p>\n\n<pre><code>&lt;?php\n// THIS IS A SIMPLE EXAMPLE\n// it demonstrates one method of using the src attribute to link\n// to a PHP file which can generate javascripts dynamically\n// and share data between PHP and javascript\n// you may take this learning example and develop it further\n// relying on your own coding skills for validating data\n// and avoiding errors, of course\nheader( 'content-type: text/javascript' );\n\n// if you pass a $_GET variable from the javascript\n// you should add code to validate your $_GET variable(s)\n\n// you can add code to query a database\n// using $_GET['var1'] or some other criteria\n\n// you can add simple variable assignments\n$value = 'some value';\n\n// for the OP's needs (assumes the class object has been defined)\n$val = $myService-&gt;getValue();\n\n?&gt;\nfunction name() {\n    // pay attention because you need to use quotes properly\n    // and account for possible quotes in the variable strings\n    // to avoid both php and javascript errors\n    // example assumes $val has been returned as a string\n    // validate $val as needed using your method of choice\n    var example1 = '&lt;?php echo '\"' . $val . '\"'; ?&gt;';\n    var example2 = '&lt;?php echo '\"' . $value . '\"'; ?&gt;';\n    var example3 = '&lt;?php echo '\"some other data\"'; ?&gt;';\n    alert( example1 + ' / ' + example2 );\n}\n&lt;?php\n// you may even want to include additional files (.php or .js, etc)\n@include 'local_path_to_some_other_js_file.js';\n@include 'local_path_to_some_other_php_file.php';\n\nexit;\n?&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/30312028#30312028", "question_id": 23740548, "answer_id": 30312028}, {"body": "<p>You can use it:</p>\n\n<pre><code>&lt;script language='javascript'&gt; var a=&lt;?php echo $a;?&gt;; &lt;/script&gt;\n</code></pre>\n\n<p>and remember php is prior to execute, when finish begin javascript to run. aren\u00b4t parallels, are sequencial.</p>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/30672703#30672703", "question_id": 23740548, "answer_id": 30672703}, {"body": "<p>For those who have some problem using below code and it keep showing <code>&lt;?php echo $username?&gt;</code> or something like this.Go edit the httpd.conf in mime_module section by add this 'AddType application/x-httpd-php .html .htm' because it may disable by default.</p>\n\n<pre><code>   &lt;?php\n        $username = 1;\n    ?&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n        var myData = &lt;?php echo $username ?&gt;;\n        console.log(myData);\n        alert(myData);\n    &lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/34400425#34400425", "question_id": 23740548, "answer_id": 34400425}, {"body": "<p>Following @Jess\u00e9 Catrinck' Answer,</p>\n\n<p>I would recommend:</p>\n\n<pre><code>&lt;?php \n    function phpObjToJsCompatibleJsonString($phpObj) { \n        return str_replace(\"'\", \"\\\\'\", str_replace(\"\\\\\",\"\\\\\\\\\", json_encode($phpObj, JSON_UNESCAPED_UNICODE)));\n    } \n?&gt;\n&lt;script&gt;\n    var phpObjAsJsonStr = '&lt;?php echo phpObjToJsCompatibleJsonString($php_obj); ?&gt;';\n    var jsObj = JSON.parse(jsObjAsJsonStr);\n&lt;/script&gt;\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/37143057#37143057", "question_id": 23740548, "answer_id": 37143057}, {"body": "<p>I'll assume that the data to transmit is a string.</p>\n\n<p>As other commenters have stated, AJAX is one possible solution, but the cons outweigh the pros: it has a latency and it is harder to program (it needs the code to retrieve the value both server- and client-side), when a simpler escaping function should suffice.</p>\n\n<p>So, we're back to escaping. <code>json_encode($string)</code> works <em>if</em> you encode the source string as UTF-8 first in case it is not already, because <code>json_encode</code> requires UTF-8 data. If the string is in ISO-8859-1 then you can simply use <code>json_encode(utf8_encode($string))</code>; otherwise you can always use <code>iconv</code> to do the conversion first.</p>\n\n<p>But there's a big gotcha. If you're using it in events, you need to run <code>htmlspecialchars()</code> on the result in order to make it correct code. And then you haver to either be careful to use double quotes to enclose the event, or always add <code>ENT_QUOTES</code> to htmlspecialchars. For example:</p>\n\n<pre><code>&lt;?php\n    $myvar = \"I'm in \\\"UTF-8\\\" encoding and I have &lt;script&gt;script tags&lt;/script&gt; &amp; ampersand!\";\n    // Fails:\n    //echo '&lt;body onload=\"alert(', json_encode($myvar), ');\"&gt;';\n    // Fails:\n    //echo \"&lt;body onload='alert(\", json_encode($myvar), \");'&gt;\";\n    // Fails:\n    //echo \"&lt;body onload='alert(\", htmlspecialchars(json_encode($myvar)), \");'&gt;\";\n\n    // Works:\n    //echo \"&lt;body onload='alert(\", htmlspecialchars(json_encode($myvar), ENT_QUOTES), \");'&gt;\";\n    // Works:\n    echo '&lt;body onload=\"alert(', htmlspecialchars(json_encode($myvar)), ');\"&gt;';\n\n    echo \"&lt;/body&gt;\";\n</code></pre>\n\n<p>However, you can't use <code>htmlspecialchars</code> on regular JS code (code enclosed in <code>&lt;script&gt;</code>...<code>&lt;/script&gt;</code> tags). That makes use of this function prone to mistakes, by forgetting to <code>htmlspecialchars</code> the result when writing event code.</p>\n\n<p>It's possible to write a function that does not have that problem, and can be used both in events and in regular JS code, as long as you enclose your events always in single quotes, or always in double quotes. Here is my proposal, requiring them to be in double quotes (which I prefer):</p>\n\n<pre><code>&lt;?php\n\n// Optionally pass the encoding of the source string, if not UTF-8\nfunction escapeJSString($string, $encoding = 'UTF-8')\n{\n    if ($encoding != 'UTF-8')\n        $string = iconv($encoding, 'UTF-8', $string);\n    $flags = JSON_HEX_TAG|JSON_HEX_AMP|JSON_HEX_APOS|JSON_HEX_QUOT|JSON_UNESCAPED_SLASHES;\n    $string = substr(json_encode($string, $flags), 1, -1);\n    return \"'$string'\";\n}\n</code></pre>\n\n<p>The function requires PHP 5.4+. Example usage:</p>\n\n<pre><code>&lt;?php\n    $myvar = \"I'm in \\\"UTF-8\\\" encoding and I have &lt;script&gt;script tags&lt;/script&gt; &amp; ampersand!\";\n    // Note use of double quotes to enclose the event definition!\n    echo '&lt;body onload=\"alert(', escapeJSString($myvar), ');\"&gt;';\n    // Example with regular code:\n    echo '&lt;script&gt;alert(', escapeJSString($myvar), ');&lt;/script&gt;';\n    echo '&lt;/body&gt;';\n</code></pre>\n", "title": "How to pass variables and data from PHP to JavaScript?", "tags": ["javascript", "php"], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript/37644940#37644940", "question_id": 23740548, "answer_id": 37644940}], "link": "http://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript", "question_id": 23740548}, {"body": "<p>In C/C++/Objective-C you can define a macro using compiler preprocesors.\nMoreover, you can include/exclude some parts of code using compiler preprocesors.</p>\n\n<pre><code>#ifdef DEBUG\n// debug only code\n#endif\n</code></pre>\n\n<p>Is there a similar solution in Swift?</p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "answers": [{"body": "<p>There is no Swift preprocessor. (For one thing, arbitrary code substitution breaks type- and memory-safety.)</p>\n\n<p>Swift does include build-time configuration options, though, so you can conditionally include code for certain platforms or build styles or in response to flags you define with <code>-D</code> compiler args. Unlike with C, though, a conditionally compiled section of your code must be syntactically complete. There's a section about this in <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-XID_21\">Using Swift With Cocoa and Objective-C</a>.</p>\n\n<p>For example:</p>\n\n<pre><code>#if os(iOS)\n    let color = UIColor.redColor()\n#else\n    let color = NSColor.redColor()\n#endif\n</code></pre>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/24003457#24003457", "question_id": 24003291, "answer_id": 24003457}, {"body": "<p>Yes you can do it.</p>\n\n<p>In Swift you can still use the \"#if/#else/#endif\" preprocessor macros (although more constrained), as per <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-ID34\">Apple docs</a>. Here's an example:</p>\n\n<pre><code>#if DEBUG\n    let a = 2\n#else\n    let a = 3\n#endif\n</code></pre>\n\n<p>Now, you must set the \"DEBUG\" symbol elsewhere, though. Set it in the \"Swift Compiler - Custom Flags\" section, \"Other Swift Flags\" line. You add the DEBUG symbol with the <code>-D DEBUG</code> entry.</p>\n\n<p>As usual, you can set a different value when in Debug or when in Release.</p>\n\n<p>I tested it in real code and it works; it doesn't seem to be recognized in a playground though.</p>\n\n<p>You can read my original post <a href=\"http://stackoverflow.com/questions/24111854/in-absence-of-preprocessor-macros-is-there-a-way-to-define-practical-scheme-spe/24112024#24112024\">here</a>.</p>\n\n<hr>\n\n<p><strong>IMPORTANT NOTE:</strong> <code>-DDEBUG=1</code> doesn't work. Only <code>-D DEBUG</code> works. Seems compiler is ignoring a flag with a specific value.</p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/24152730#24152730", "question_id": 24003291, "answer_id": 24152730}, {"body": "<p>In many situations, you don't really need conditional <em>compilation</em>; you just need conditional <em>behavior</em> that you can switch on and off. For that, you can use an environment variable. This has the huge advantage that you don't actually have to recompile.</p>\n\n<p>You can set the environment variable, and easily switch it on or off, in the scheme editor:</p>\n\n<p><img src=\"http://i.stack.imgur.com/opfbT.png\" alt=\"enter image description here\"></p>\n\n<p>You can retrieve the environment variable with NSProcessInfo:</p>\n\n<pre><code>    let dic = NSProcessInfo.processInfo().environment\n    if dic[\"TRIPLE\"] != nil {\n        // ... do secret stuff here ...\n    }\n</code></pre>\n\n<p>Here's a real-life example. My app runs only on the device, because it uses the music library, which doesn't exist on the Simulator. How, then, to take screen shots on the Simulator for devices I don't own? Without those screen shots, I can't submit to the AppStore.</p>\n\n<p>I need <em>fake data</em> and a <em>different way of processing it</em>. I have two environment variables: one which, when switched on, tells the app to generate the fake data from the real data while running on my device; the other which, when switched on, uses the fake data (not the missing music library) while running on the Simulator. Switching each of those special modes on / off is easy thanks to environment variable checkboxes in the Scheme editor. And the bonus is that I can't accidentally use them in my App Store build, because archiving has no environment variables. </p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/24344459#24344459", "question_id": 24003291, "answer_id": 24344459}, {"body": "<p>As of Swift 2.1, if all you need is just check whether the code is built with debug or release configuration, you may use the built-in functions:</p>\n\n<ul>\n<li><code>_isDebugAssertConfiguration()</code> (true when optimization is set to <code>-Onone</code>)</li>\n<li><code>_isReleaseAssertConfiguration()</code> (true when optimization is set to <code>-O</code>)</li>\n<li><code>_isFastAssertConfiguration()</code> (true when optimization is set to <code>-Ounchecked</code>)</li>\n</ul>\n\n<p>e.g.</p>\n\n<pre><code>func obtain() -&gt; AbstractThing {\n    if _isDebugAssertConfiguration() {\n        return DecoratedThingWithDebugInformation(Thing())\n    } else {\n        return Thing()\n    }\n}\n</code></pre>\n\n<p>Compared with preprocessor macros,</p>\n\n<ul>\n<li>\u2713 You don't need to define a custom <code>-D DEBUG</code> flag to use it</li>\n<li>~ It is actually defined in terms of optimization settings, not Xcode build configuration</li>\n<li>\u2717 Undocumented, which means the function can be removed in any update (but it should be AppStore-safe since the optimizer will turn these into constants)</li>\n<li>\u2717 Using in if/else will always generate a \"Will never be executed\" warning.</li>\n</ul>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/34532569#34532569", "question_id": 24003291, "answer_id": 34532569}, {"body": "<p>As stated in <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-ID34\">Apple Docs</a></p>\n\n<blockquote>\n  <p>The Swift compiler does not include a preprocessor. Instead, it takes advantage of compile-time attributes, build configurations, and language features to accomplish the same functionality. For this reason, preprocessor directives are not imported in Swift.</p>\n</blockquote>\n\n<p>I've managed to achieve what I wanted by using custom Build Configurations:</p>\n\n<ol>\n<li>Go to your project / select your target / Build Settings / search for Custom Flags</li>\n<li>For your chosen target set your custom flag using -D prefix (without white spaces), for both Debug and Release</li>\n<li>Do above steps for every target you have  </li>\n</ol>\n\n<p>Here's how you check for target:</p>\n\n<pre><code>#if BANANA\n    print(\"We have a banana\")\n#elseif MELONA\n    print(\"Melona\")\n#else\n    print(\"Kiwi\")\n#endif\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/zAKzJ.png\"><img src=\"http://i.stack.imgur.com/zAKzJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Tested using Swift 2.2</p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/36502874#36502874", "question_id": 24003291, "answer_id": 36502874}, {"body": "<p>my two cents for XCode 8:</p>\n\n<p>a) custom flag using -D prefix works fine but..</p>\n\n<p>b) \nsimpler use:</p>\n\n<p>in xcode 8 there is a new section: \"Active Compilation Conditions\",\n already with two rows, for debug and release.</p>\n\n<p>Simply add your define WITHOUT -D.</p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/39314551#39314551", "question_id": 24003291, "answer_id": 39314551}, {"body": "<p>A major change of <code>ifdef</code> replacement came up with Xcode 8. i.e use of <strong>Active Compilation Conditions</strong>.</p>\n\n<p>Refer to <strong>Building and Linking</strong> in <a href=\"https://developer.apple.com/library/prerelease/content/releasenotes/DeveloperTools/RN-Xcode/Introduction.html\" rel=\"nofollow\">Xcode 8 Release note</a>.</p>\n\n<p>New build settings</p>\n\n<p>New setting: <code>SWIFT_ACTIVE_COMPILATION_CONDITIONS</code></p>\n\n<pre><code>\u201cActive Compilation Conditions\u201d is a new build setting for passing conditional compilation flags to the Swift compiler.\n</code></pre>\n\n<p>Previously, we had to declare your conditional compilation flags under OTHER_SWIFT_FLAGS, remembering to prepend \u201c-D\u201d to the setting. For example, to conditionally compile with a MYFLAG value:</p>\n\n<pre><code>#if MYFLAG\n// do stuff\n#endif\n</code></pre>\n\n<p>The value to add to the setting <code>-DMYFLAG</code></p>\n\n<p>Now we only need to pass the value MYFLAG to the new setting. Time to move all those conditional compilation values!</p>\n\n<p>Please refer to below link for more Swift Build Settings feature in Xcode 8:\n<a href=\"http://www.miqu.me/blog/2016/07/31/xcode-8-new-build-settings-and-analyzer-improvements/\" rel=\"nofollow\">http://www.miqu.me/blog/2016/07/31/xcode-8-new-build-settings-and-analyzer-improvements/</a></p>\n", "title": "#ifdef replacement in swift language", "tags": ["ios", "osx", "swift"], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language/39435346#39435346", "question_id": 24003291, "answer_id": 39435346}], "link": "http://stackoverflow.com/questions/24003291/ifdef-replacement-in-swift-language", "question_id": 24003291}, {"body": "<h3>Overview</h3>\n\n<p>I'm relatively familiar with <code>data.table</code>, not so much with <code>dplyr</code>.  I've read through some <a href=\"http://rpubs.com/hadley/dplyr-intro\"><code>dplyr</code> vignettes</a> and examples that have popped up on SO, and so far my conclusions are that:</p>\n\n<ol>\n<li><code>data.table</code> and <code>dplyr</code> are comparable in speed, except when there are many (i.e. >10-100K) groups, and in some other circumstances (see benchmarks below)</li>\n<li><code>dplyr</code> has more accessible syntax</li>\n<li><code>dplyr</code> abstracts (or will) potential DB interactions</li>\n<li>There are some minor functionality differences (see \"Examples/Usage\" below)</li>\n</ol>\n\n<p>In my mind 2. doesn't bear much weight because I am fairly familiar with it <code>data.table</code>, though I understand that for users new to both it will be a big factor.  I would like to avoid an argument about which is more intuitive, as that is irrelevant for my specific question asked from the perspective of someone already familiar with <code>data.table</code>.  I also would like to avoid a discussion about how \"more intuitive\" leads to faster analysis (certainly true, but again, not what I'm most interested about here).</p>\n\n<h3>Question</h3>\n\n<p>What I want to know is:</p>\n\n<ol>\n<li>Are there analytical tasks that are a lot easier to code with one or the other package for people familiar with the packages (i.e. some combination of keystrokes required vs. required level of esotericism, where less of each is a good thing).</li>\n<li>Are there analytical tasks that are performed substantially (i.e. more than 2x) more efficiently in one package vs. another.</li>\n</ol>\n\n<p>One <a href=\"http://stackoverflow.com/questions/21421004/how-to-cumulatively-add-values-in-one-vector-in-r\">recent SO question</a> got me thinking about this a bit more, because up until that point I didn't think <code>dplyr</code> would offer much beyond what I can already do in <code>data.table</code>.  Here is the <code>dplyr</code> solution (data at end of Q):</p>\n\n<pre><code>dat %.%\n  group_by(name, job) %.%\n  filter(job != \"Boss\" | year == min(year)) %.%\n  mutate(cumu_job2 = cumsum(job2))\n</code></pre>\n\n<p>Which was much better than my hack attempt at a <code>data.table</code> solution.  That said, good <code>data.table</code> solutions are also pretty good (thanks Jean-Robert, Arun, and note here I favored single statement over the strictly most optimal solution):</p>\n\n<pre><code>setDT(dat)[,\n  .SD[job != \"Boss\" | year == min(year)][, cumjob := cumsum(job2)], \n  by=list(id, job)\n]\n</code></pre>\n\n<p>The syntax for the latter may seem very esoteric, but it actually is pretty straightforward if you're used to <code>data.table</code> (i.e. doesn't use some of the more esoteric tricks).</p>\n\n<p>Ideally what I'd like to see is some good examples were the <code>dplyr</code> or <code>data.table</code> way is substantially more concise or performs substantially better.</p>\n\n<h3>Examples</h3>\n\nUsage\n\n<ul>\n<li><code>dplyr</code> does not allow grouped operations that return arbitrary number of rows (from <strong><a href=\"http://stackoverflow.com/questions/21737815/grouped-operations-that-result-in-length-not-equal-to-1-or-length-of-group-in-dp\">eddi's question</a></strong>, note: this looks like it will be implemented in <strong><a href=\"https://github.com/hadley/dplyr/issues/154\">dplyr 0.5</a></strong>, also, @beginneR shows a potential work-around using <code>do</code> in the answer to @eddi's question).</li>\n<li><code>data.table</code> supports <strong><a href=\"http://stackoverflow.com/questions/12030932/rolling-joins-data-table-in-r\">rolling joins</a></strong> (thanks @dholstius) as well as <strong><a href=\"http://stackoverflow.com/questions/23371747/range-join-data-frames-specific-date-column-with-date-ranges-intervals-in-r/23377309#23377309\">overlap joins</a></strong></li>\n<li><code>data.table</code> internally optimises expressions of the form <code>DT[col == value]</code> or <code>DT[col %in% values]</code> for <em>speed</em> through <em>automatic indexing</em> which uses <em>binary search</em> while using the same base R syntax. <a href=\"https://gist.github.com/arunsrinivasan/dacb9d1cac301de8d9ff\">See here</a> for some more details and a tiny benchmark.</li>\n<li><code>dplyr</code> offers standard evaluation versions of functions (e.g. <code>regroup</code>, <code>summarize_each_</code>) that can simplify the programmatic use of <code>dplyr</code> (note programmatic use of <code>data.table</code> is definitely possible, just requires some careful though, substitution/quoting, etc, at least to my knowledge)</li>\n</ul>\n\nBenchmarks\n\n<ul>\n<li>I ran <strong><a href=\"http://www.brodieg.com/?p=7\">my own benchmarks</a></strong> and found both packages to be comparable in \"split apply combine\" style analysis, except when there are very large numbers of groups (>100K) at which point <code>data.table</code> becomes substantially faster.</li>\n<li>@Arun ran some <strong><a href=\"https://gist.github.com/arunsrinivasan/db6e1ce05227f120a2c9\">benchmarks on joins</a></strong>, showing that <code>data.table</code> scales better than <code>dplyr</code> as the number of groups increase (updated with recent enhancements in both packages and recent version of R).  Also, a benchmark when trying to get <strong><a href=\"http://stackoverflow.com/questions/23668593/using-fastmatch-package-in-r/23680560?noredirect=1#comment36389040_23680560\">unique values</a></strong> has <code>data.table</code> ~6x faster.</li>\n<li>(Unverified) has <code>data.table</code> 75% faster on larger versions of a group/apply/sort while <code>dplyr</code> was 40% faster on the smaller ones (<strong><a href=\"http://stackoverflow.com/questions/21477525/fast-frequency-and-percentage-table-with-dplyr/\">another SO question from comments</a></strong>, thanks danas).</li>\n<li>Matt, the main author of <code>data.table</code>, has <a href=\"https://github.com/Rdatatable/data.table/wiki/Benchmarks-%3A-Grouping\"><strong>benchmarked grouping operations on <code>data.table</code>, <code>dplyr</code> and python <code>pandas</code> on up to 2 billion rows (~100GB in RAM)</strong></a>.</li>\n<li>An <strong><a href=\"http://www.r-statistics.com/2013/09/a-speed-test-comparison-of-plyr-data-table-and-dplyr/\">older benchmark on 80K groups</a></strong> has <code>data.table</code> ~8x faster</li>\n</ul>\n\n<h3>Data</h3>\n\n<p>This is for the first example I showed in the question section.</p>\n\n<pre><code>dat &lt;- structure(list(id = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, \n2L, 2L, 2L, 2L, 2L, 2L), name = c(\"Jane\", \"Jane\", \"Jane\", \"Jane\", \n\"Jane\", \"Jane\", \"Jane\", \"Jane\", \"Bob\", \"Bob\", \"Bob\", \"Bob\", \"Bob\", \n\"Bob\", \"Bob\", \"Bob\"), year = c(1980L, 1981L, 1982L, 1983L, 1984L, \n1985L, 1986L, 1987L, 1985L, 1986L, 1987L, 1988L, 1989L, 1990L, \n1991L, 1992L), job = c(\"Manager\", \"Manager\", \"Manager\", \"Manager\", \n\"Manager\", \"Manager\", \"Boss\", \"Boss\", \"Manager\", \"Manager\", \"Manager\", \n\"Boss\", \"Boss\", \"Boss\", \"Boss\", \"Boss\"), job2 = c(1L, 1L, 1L, \n1L, 1L, 1L, 0L, 0L, 1L, 1L, 1L, 0L, 0L, 0L, 0L, 0L)), .Names = c(\"id\", \n\"name\", \"year\", \"job\", \"job2\"), class = \"data.frame\", row.names = c(NA, \n-16L))\n</code></pre>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "tags": ["r", "data.table", "dplyr"], "answers": [{"body": "<h2>In direct response to the <em>Question Title</em>...</h2>\n\n<h3><code>dplyr</code> <em>definitely</em> does things that <code>data.table</code> can not.</h3>\n\n<p>Your point #3</p>\n\n<blockquote>\n  <p>dplyr abstracts (or will) potential DB interactions</p>\n</blockquote>\n\n<p>is a direct answer to your own question but isn't elevated to a high enough level. <code>dplyr</code> is truly an extendable front-end to multiple data storage mechanisms where as <code>data.table</code> is an extension to a single one.</p>\n\n<p>Look at <code>dplyr</code> as a back-end agnostic interface, with all of the targets using the same grammer, where you can extend the targets and handlers at will. <code>data.table</code> is, from the <code>dplyr</code> perspective, one of those targets.</p>\n\n<p>You will never (I hope) see a day that <code>data.table</code> attempts to translate your queries to create SQL statements that operate with on-disk or networked data stores.</p>\n\n<h3><em><code>dplyr</code> can possibly do things <code>data.table</code> will not or might not do as well.</em></h3>\n\n<p>Based on the design of working in-memory, <code>data.table</code> could have a much more difficult time extending itself into parallel processing of queries than <code>dplyr</code>.</p>\n\n<hr>\n\n<h2>In response to the in-body questions...</h2>\n\n<h3><em>Usage</em></h3>\n\n<blockquote>\n  <p><sub><sup>Are there analytical tasks that are a lot easier to code with one or the other package <em>for people familiar with the packages</em> (i.e. some combination of keystrokes required vs. required level of esotericism, where less of each is a good thing).</sup></sub></p>\n</blockquote>\n\n<p>This may seem like a punt but the real answer is no. People <em>familiar</em> with tools seem to use the either the one most familiar to them or the one that is actually the right one for the job at hand. With that being said, sometimes you want to present a particular readability, sometimes a level of performance, and when you have need for a high enough level of both you may just need another tool to go along with what you already have to make clearer abstractions.</p>\n\n<h3><em>Performance</em></h3>\n\n<blockquote>\n  <p><sup><sub>Are there analytical tasks that are performed substantially (i.e. more than 2x) more efficiently in one package vs. another.</sub></sup></p>\n</blockquote>\n\n<p>Again, no.  <code>data.table</code> excels at being efficient in everything <em>it</em> does where <code>dplyr</code> gets the burden of being limited in some respects to the underlying data store and registered handlers.</p>\n\n<p>This means when you run into a performance issue with <code>data.table</code> you can be pretty sure it is in your query function and if it <em>is</em> actually a bottleneck with <code>data.table</code> then you've won yourself the joy of filing a report. This is also true when <code>dplyr</code> is using <code>data.table</code> as the back-end; you <em>may</em> see <em>some</em> overhead from <code>dplyr</code> but odds are it is your query.</p>\n\n<p>When <code>dplyr</code> has performance issues with back-ends you can get around them by registering a function for hybrid evaluation or (in the case of databases) manipulating the generated query prior to execution.</p>\n\n<p>Also see the accepted answer to <a href=\"http://stackoverflow.com/questions/16153947/when-is-plyr-better-than-data-table/16154157#16154157\">when is plyr better than data.table?</a></p>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "tags": ["r", "data.table", "dplyr"], "link": "http://stackoverflow.com/questions/21435339/data-table-vs-dplyr-can-one-do-something-well-the-other-cant-or-does-poorly/26962904#26962904", "question_id": 21435339, "answer_id": 26962904}, {"body": "<p>We need to cover at least these aspects to provide a comprehensive answer/comparison (in no particular order of importance): <code>Speed</code>, <code>Memory usage</code>, <code>Syntax</code> and <code>Features</code>.</p>\n\n<p>My intent is to cover each one of these as clearly as possible from data.table perspective.</p>\n\n<blockquote>\n  <p>Note: unless explicitly mentioned otherwise, by referring to dplyr, we refer to dplyr's data.frame interface whose internals are in C++ using Rcpp.</p>\n</blockquote>\n\n<hr>\n\n<p>The data.table syntax is consistent in its form - <code>DT[i, j, by]</code>. To keep <code>i</code>, <code>j</code> and <code>by</code> together is by design. By keeping related operations together, it allows to <em>easily optimise</em> operations for <em>speed</em> and more importantly <em>memory usage</em>, and also provide some <em>powerful features</em>, all while mainitaining the consistency in syntax.</p>\n\n<h3>1. Speed</h3>\n\n<p>Quite a few benchmarks (though mostly on grouping operations) have been added to the question already showing data.table gets <em>faster</em> than dplyr as the number of groups and/or rows to group by increase, including <a href=\"https://github.com/Rdatatable/data.table/wiki/Benchmarks-%3A-Grouping\">benchmarks by Matt</a> on grouping from <em>10 million to 2 billion rows</em> (100GB in RAM) on <em>100 - 10 million groups</em> and varying grouping columns, which also compares <code>pandas</code>.</p>\n\n<p>On benchmarks, it would be great to cover these remaining aspects as well:</p>\n\n<ul>\n<li><p>Grouping operations involving a <em>subset of rows</em> - i.e., <code>DT[x &gt; val, sum(y), by=z]</code> type operations.</p></li>\n<li><p>Benchmark other operations such as <em>update</em> and <em>joins</em>.</p></li>\n<li><p>Also benchmark <em>memory footprint</em> for each operation in addition to runtime.</p></li>\n</ul>\n\n<h3>2. Memory usage</h3>\n\n<ol>\n<li><p>Operations involving <code>filter()</code> or <code>slice()</code> in dplyr can be memory inefficient (on both data.frames and data.tables). <a href=\"http://stackoverflow.com/a/27520688/559784\">See this post</a>. </p>\n\n<blockquote>\n  <p>Note that <a href=\"http://stackoverflow.com/questions/27511604/dplyr-on-data-table-am-i-really-using-data-table/27520688#comment43492306_27520688\">Hadley's comment</a> talks about <em>speed</em> (that dplyr is plentiful fast for him), whereas the major concern here is <em>memory</em>.</p>\n</blockquote></li>\n<li><p>data.table interface at the moment allows one to modify/update columns <em>by reference</em> (note that we don't need to re-assign the result back to a variable).</p>\n\n<pre><code># sub-assign by reference, updates 'y' in-place\nDT[x &gt;= 1L, y := NA]\n</code></pre>\n\n<p>But dplyr <em>will never</em> update by reference. The dplyr equivalent would be (note that the result needs to be re-assigned):</p>\n\n<pre><code># copies the entire 'y' column\nans &lt;- DF %&gt;% mutate(y = replace(y, which(x &gt;= 1L), NA))\n</code></pre>\n\n<p>A concern for this is <a href=\"http://en.wikipedia.org/wiki/Referential_transparency_(computer_science)\"><em>referential transparency</em></a>. Updating a data.table object by reference, especially within a function may not be always desirable. But this is an incredibly useful feature: see <a href=\"http://stackoverflow.com/a/24070527/559784\">this</a> and <a href=\"http://stackoverflow.com/q/7235657/559784\">this</a> posts for interesting cases. And we want to keep it.</p>\n\n<p>Therefore we are working towards exporting <code>shallow()</code> function in data.table that will provide the user with <em>both possibilities</em>. For example, if it is desirable to not modify the input data.table within a function, one can then do:</p>\n\n<pre><code>foo &lt;- function(DT) {\n    DT = shallow(DT)          ## shallow copy DT\n    DT[, newcol := 1L]        ## does not affect the original DT \n    DT[x &gt; 2L, newcol := 2L]  ## no need to copy (internally), as this column exists only in shallow copied DT\n    DT[x &gt; 2L, x := 3L]       ## have to copy (like base R / dplyr does always); otherwise original DT will \n                              ## also get modified.\n}\n</code></pre>\n\n<p>By not using <code>shallow()</code>, the old functionality is retained:</p>\n\n<pre><code>bar &lt;- function(DT) {\n    DT[, newcol := 1L]        ## old behaviour, original DT gets updated by reference\n    DT[x &gt; 2L, x := 3L]       ## old behaviour, update column x in original DT.\n}\n</code></pre>\n\n<p>By creating a <em>shallow copy</em> using <code>shallow()</code>, we understand that you don't want to modify the original object. We take care of everything internally to ensure that while also ensuring to copy columns you modify <em>only when it is absolutely necessary</em>. When implemented, this should settle the <em>referential transparency</em> issue altogether while providing the user with both possibilties.</p>\n\n<blockquote>\n  <p>Also, once <code>shallow()</code> is exported dplyr's data.table interface should avoid almost all copies. So those who prefer dplyr's syntax can use it with data.tables.  </p>\n  \n  <p>But it will still lack many features that data.table provides, including (sub)-assignment by reference.</p>\n</blockquote></li>\n<li><p>Aggregate while joining:</p>\n\n<p>Suppose you have two data.tables as follows:</p>\n\n<pre><code>DT1 = data.table(x=c(1,1,1,1,2,2,2,2), y=c(\"a\", \"a\", \"b\", \"b\"), z=1:8, key=c(\"x\", \"y\"))\n#    x y z\n# 1: 1 a 1\n# 2: 1 a 2\n# 3: 1 b 3\n# 4: 1 b 4\n# 5: 2 a 5\n# 6: 2 a 6\n# 7: 2 b 7\n# 8: 2 b 8\nDT2 = data.table(x=1:2, y=c(\"a\", \"b\"), mul=4:3, key=c(\"x\", \"y\"))\n#    x y mul\n# 1: 1 a   4\n# 2: 2 b   3\n</code></pre>\n\n<p>And you would like to get <code>sum(z) * mul</code> for each row in <code>DT2</code> while joining by columns <code>x,y</code>. We can either:</p>\n\n<ul>\n<li><p>1) aggregate <code>DT1</code> to get <code>sum(z)</code>, 2) perform a join and 3) multiply (or)</p>\n\n<pre><code># data.table way\nDT1[, .(z=sum(z)), keyby=.(x,y)][DT2][, z := z*mul][]\n\n# dplyr equivalent\nDF1 %&gt;% group_by(x,y) %&gt;% summarise(z=sum(z)) %&gt;% \n    right_join(DF2) %&gt;% mutate(z=z*mul)\n</code></pre></li>\n<li><p>2) do it all in one go (using <code>by=.EACHI</code> feature):</p>\n\n<pre><code>DT1[DT2, list(z=sum(z) * mul), by=.EACHI]\n</code></pre></li>\n</ul>\n\n<p>What is the advantage?</p>\n\n<ul>\n<li><p>We don't have to allocate memory for the intermediate result.</p></li>\n<li><p>We don't have to group/hash twice (one for aggregation and other for joining).</p></li>\n<li><p>And more importantly, the operation what we wanted to perform is clear by looking at <code>j</code> in (2).</p></li>\n</ul>\n\n<p>Check <a href=\"http://stackoverflow.com/a/27004566/559784\">this post</a> for a detailed explanation of <code>by=.EACHI</code>. No intermediate results are materialised, and the join+aggregate is performed all in one go. </p>\n\n<p>Have a look at <a href=\"http://stackoverflow.com/a/27061800/559784\">this</a>, <a href=\"http://stackoverflow.com/a/26453795/559784\">this</a> and <a href=\"http://stackoverflow.com/q/27466284/559784\">this</a> posts for real usage scenarios.</p>\n\n<p>In <code>dplyr</code> you would have to <a href=\"https://gist.github.com/arunsrinivasan/b14441829e7f484fdf58\">join and aggregate or aggregate first and then join</a>, neither of which are as efficient, in terms of memory (which in turn translates to speed).</p></li>\n<li><p>Update and joins:</p>\n\n<p>Consider the data.table code shown below:</p>\n\n<pre><code>DT1[DT2, col := i.mul]\n</code></pre>\n\n<p>adds/updates <code>DT1</code>'s column <code>col</code> with <code>mul</code> from <code>DT2</code> on those rows where <code>DT2</code>'s key column matches <code>DT1</code>. I don't think there is an exact equivalent of this operation in <code>dplyr</code>, i.e., without avoiding a <code>*_join</code> operation, which would have to copy the entire <code>DT1</code> just to add a new column to it, which is unnecessary.</p>\n\n<p>Check <a href=\"http://stackoverflow.com/a/26720434/559784\">this post</a> for a real usage scenario. </p></li>\n</ol>\n\n<blockquote>\n  <p>To summarise, it is important to realise that every bit of optimisation matters. As <a href=\"http://en.wikipedia.org/wiki/Grace_Hopper\"><strong>Grace Hopper</strong></a> would say, <a href=\"http://highscalability.com/blog/2012/3/1/grace-hopper-to-programmers-mind-your-nanoseconds.html\"><strong>Mind your nanoseconds</strong></a>!</p>\n</blockquote>\n\n<h3>3. Syntax</h3>\n\n<p>Let's now look at <em>syntax</em>. Hadley commented <a href=\"https://news.ycombinator.com/item?id=8795778\">here</a>:</p>\n\n<blockquote>\n  <p>Data tables are extremely fast but I think their concision makes it <em>harder to learn</em> and <em>code that uses it is harder to read after you have written it</em> ...</p>\n</blockquote>\n\n<p>I find this remark pointless because it is very subjective. What we can perhaps try is to contrast <em>consistency in syntax</em>. We will compare data.table and dplyr syntax side-by-side. </p>\n\n<p>We will work with the dummy data shown below:</p>\n\n<pre><code>DT = data.table(x=1:10, y=11:20, z=rep(1:2, each=5))\nDF = as.data.frame(DT)\n</code></pre>\n\n<ol>\n<li><p>Basic aggregation/update operations. </p>\n\n<pre><code># case (a)\nDT[, sum(y), by=z]                       ## data.table syntax\nDF %&gt;% group_by(z) %&gt;% summarise(sum(y)) ## dplyr syntax\nDT[, y := cumsum(y), by=z]\nans &lt;- DF %&gt;% group_by(z) %&gt;% mutate(y = cumsum(y))\n\n# case (b)\nDT[x &gt; 2, sum(y), by=z]\nDF %&gt;% filter(x&gt;2) %&gt;% group_by(z) %&gt;% summarise(sum(y))\nDT[x &gt; 2, y := cumsum(y), by=z]\nans &lt;- DF %&gt;% group_by(z) %&gt;% mutate(y = replace(y, which(x&gt;2), cumsum(y)))\n\n# case (c)\nDT[, if(any(x &gt; 5L)) y[1L]-y[2L] else y[2L], by=z]\nDF %&gt;% group_by(z) %&gt;% summarise(if (any(x &gt; 5L)) y[1L]-y[2L] else y[2L])\nDT[, if(any(x &gt; 5L)) y[1L]-y[2L], by=z]\nDF %&gt;% group_by(z) %&gt;% filter(any(x &gt; 5L)) %&gt;% summarise(y[1L]-y[2L])\n</code></pre>\n\n<ul>\n<li><p>data.table syntax is compact and dplyr's quite verbose. Things are more or less equivalent in case (a). </p></li>\n<li><p>In case (b), we had to use <code>filter()</code> in dplyr while <em>summarising</em>. But while <em>updating</em>, we had to move the logic inside <code>mutate()</code>. In data.table however, we express both operations with the same logic - operate on rows where <code>x &gt; 2</code>, but in first case, get <code>sum(y)</code>, whereas in the second case update those rows for <code>y</code> with its cumulative sum.</p>\n\n<p>This is what we mean when we say the <code>DT[i, j, by]</code> form <em>is consistent</em>.</p></li>\n<li><p>Similarly in case (c), when we have <code>if-else</code> condition, we are able to express the logic <em>\"as-is\"</em> in both data.table and dplyr. However, if we would like to return just those rows where the <code>if</code> condition satisfies and skip otherwise, we cannot use <code>summarise()</code> directly (AFAICT). We have to <code>filter()</code> first and then summarise because <code>summarise()</code> always expects a <em>single value</em>. </p>\n\n<p>While it returns the same result, using <code>filter()</code> here makes the actual operation less obvious.</p>\n\n<p>It might very well be possible to use <code>filter()</code> in the first case as well (does not seem obvious to me), but my point is that we should not have to.</p></li>\n</ul></li>\n<li><p>Aggregation / update on multiple columns</p>\n\n<pre><code># case (a)\nDT[, lapply(.SD, sum), by=z]                     ## data.table syntax\nDF %&gt;% group_by(z) %&gt;% summarise_each(funs(sum)) ## dplyr syntax\nDT[, (cols) := lapply(.SD, sum), by=z]\nans &lt;- DF %&gt;% group_by(z) %&gt;% mutate_each(funs(sum))\n\n# case (b)\nDT[, c(lapply(.SD, sum), lapply(.SD, mean)), by=z]\nDF %&gt;% group_by(z) %&gt;% summarise_each(funs(sum, mean))\n\n# case (c)\nDT[, c(.N, lapply(.SD, sum)), by=z]     \nDF %&gt;% group_by(z) %&gt;% summarise_each(funs(n(), mean))\n</code></pre>\n\n<ul>\n<li><p>In case (a), the codes are more or less equivalent. data.table uses familiar base function <code>lapply()</code>, whereas <code>dplyr</code> introduces <code>*_each()</code> along with a bunch of functions to <code>funs()</code>. </p></li>\n<li><p>data.table's <code>:=</code> requires column names to be provided, whereas dplyr generates it automatically.</p></li>\n<li><p>In case (b), dplyr's syntax is relatively straightforward. Improving aggregations/updates on multiple functions is on data.table's list.</p></li>\n<li><p>In case (c) though, dplyr would return <code>n()</code> as many times as many columns, instead of just once. In data.table, all we need to do is to return a list in <code>j</code>. Each element of the list will become a column in the result. So, we can use, once again, the familiar base function <code>c()</code> to concatenate <code>.N</code> to a <code>list</code> which returns a <code>list</code>.</p></li>\n</ul>\n\n<blockquote>\n  <p>Note: Once again, in data.table, all we need to do is return a list in <code>j</code>. Each element of the list will become a column in result. You can use <code>c()</code>, <code>as.list()</code>, <code>lapply()</code>, <code>list()</code> etc... base functions to accomplish this, without having to learn any new functions.</p>\n  \n  <p>You will need to learn just the special variables - <code>.N</code> and <code>.SD</code> at least. The equivalent in dplyr are <code>n()</code> and <code>.</code></p>\n</blockquote></li>\n<li><p>Joins</p>\n\n<p>dplyr provides separate functions for each type of join where as data.table allows joins using the same syntax <code>DT[i, j, by]</code> (and with reason). It also provides an equivalent <code>merge.data.table()</code> function as an alternative.</p>\n\n<pre><code>setkey(DT1, x, y)\n\n# 1. normal join\nDT1[DT2]            ## data.table syntax\nleft_join(DT2, DT1) ## dplyr syntax\n\n# 2. select columns while join    \nDT1[DT2, .(z, i.mul)]\nleft_join(select(DT2, x,y,mul), select(DT1, x,y,z))\n\n# 3. aggregate while join\nDT1[DT2, .(sum(z)*i.mul), by=.EACHI]\nDF1 %&gt;% group_by(x, y) %&gt;% summarise(z=sum(z)) %&gt;% \n    inner_join(DF2) %&gt;% mutate(z = z*mul) %&gt;% select(-mul)\n\n# 4. update while join\nDT1[DT2, z := cumsum(z)*i.mul, by=.EACHI]\n??\n\n# 5. rolling join\nDT1[DT2, roll = -Inf]\n??\n\n# 6. other arguments to control output\nDT1[DT2, mult = \"first\"]\n??\n</code></pre>\n\n<ul>\n<li><p>Some might find a separate function for each joins much nicer (left, right, inner, anti, semi etc..), whereas as others might like data.table's <code>DT[i, j, by]</code>, or <code>merge()</code> which is similar to base R. </p></li>\n<li><p>However dplyr joins do just that. Nothing more. Nothing less. </p></li>\n<li><p>data.tables can select columns while joining (2), and in dplyr you will need to <code>select()</code> first on both data.frames before to join as shown above. Otherwise you would materialiase the join with unnecessary columns only to remove them later and that is inefficient.</p></li>\n<li><p>data.tables can <em>aggregate while joining</em> (3) and also <em>update while joining</em> (4), using <code>by=.EACHI</code> feature. Why materialse the entire join result to add/update just a few columns?</p></li>\n<li><p>data.table is capable of <em>rolling joins</em> (5) - roll <a href=\"http://stackoverflow.com/a/18915708/559784\">forward, LOCF</a>, <a href=\"http://stackoverflow.com/a/23342851/559784\">roll backward, NOCB</a>, <a href=\"http://stackoverflow.com/a/27763960/559784\">nearest</a>.</p></li>\n<li><p>data.table also has <code>mult=</code> argument which selects <em>first</em>, <em>last</em> or <em>all</em> matches (6).</p></li>\n<li><p>data.table has <a href=\"http://stackoverflow.com/a/23087759/559784\"><code>allow.cartesian=TRUE</code></a> argument to protect from accidental invalid joins.</p></li>\n</ul></li>\n</ol>\n\n<blockquote>\n  <p>Once again, the syntax is consistent with <code>DT[i, j, by]</code> with additional arguments allowing for controlling the output further.</p>\n</blockquote>\n\n<ol start=\"4\">\n<li><p><code>do()</code>...</p>\n\n<p>dplyr's summarise is specially designed for functions that return a single value. If your function returns multiple/unequal values, you will have to resort to <code>do()</code>. You have to know beforehand about all your functions return value. </p>\n\n<pre><code>DT[, list(x[1], y[1]), by=z]                 ## data.table syntax\nDF %&gt;% group_by(z) %&gt;% summarise(x[1], y[1]) ## dplyr syntax\nDT[, list(x[1:2], y[1]), by=z]\nDF %&gt;% group_by(z) %&gt;% do(data.frame(.$x[1:2], .$y[1]))\n\nDT[, quantile(x, 0.25), by=z]\nDF %&gt;% group_by(z) %&gt;% summarise(quantile(x, 0.25))\nDT[, quantile(x, c(0.25, 0.75)), by=z]\nDF %&gt;% group_by(z) %&gt;% do(data.frame(quantile(.$x, c(0.25, 0.75))))\n\nDT[, as.list(summary(x)), by=z]\nDF %&gt;% group_by(z) %&gt;% do(data.frame(as.list(summary(.$x))))\n</code></pre>\n\n<ul>\n<li><p><code>.SD</code>'s equivalent is <code>.</code></p></li>\n<li><p>In data.table, you can throw pretty much anything in <code>j</code> - the only thing to remember is for it to return a list so that each element of the list gets converted to a column.</p></li>\n<li><p>In dplyr, cannot do that. Have to resort to <code>do()</code> depending on how sure you are as to whether your function would always return a single value. And it is quite slow. </p></li>\n</ul></li>\n</ol>\n\n<blockquote>\n  <p>Once again, data.table's syntax is consistent with <code>DT[i, j, by]</code>. We can just keep throwing expressions in <code>j</code> without having to worry about these things.</p>\n</blockquote>\n\n<p>Have a look at <a href=\"http://stackoverflow.com/q/27695278/559784\">this SO question</a> and <a href=\"http://stackoverflow.com/q/16878905/559784\">this one</a>. I wonder if it would be possible to express the answer as straightforward using dplyr's syntax...</p>\n\n<blockquote>\n  <p>To summarise, I have particularly highlighted <em>several</em> instances where dplyr's syntax is either inefficient, limited or fails to make operations straightforward. This is particularly because data.table gets quite a bit of backlash about \"harder to read/learn\" syntax (like the one pasted/linked above). Most posts that cover dplyr talk about most straightforward operations. And that is great. But it is important to realise its syntax and feature limitations as well, and I am yet to see a post on it.</p>\n  \n  <p>data.table has its quirks as well (some of which I have pointed out that we are attempting to fix). We are also attempting to improve data.table's joins as I have highlighted <a href=\"http://stackoverflow.com/a/27615377/559784\">here</a>. </p>\n  \n  <p>But one should also consider the number of features that dplyr lacks in comparison to data.table.</p>\n</blockquote>\n\n<h3>4. Features</h3>\n\n<p>I have pointed out most of the features <a href=\"http://stackoverflow.com/a/27520688/559784\">here</a> and also in this post. In addition:</p>\n\n<ul>\n<li><p><strong>fread</strong> - fast file reader has been available for a long time now.</p></li>\n<li><p><strong>fwrite</strong> - NEW in the current devel, v1.9.7, a <em>parallelised</em> fast file writer is now available. See <a href=\"http://blog.h2o.ai/2016/04/fast-csv-writing-for-r/\">this post</a> for a detailed explanation on the implementation and <a href=\"https://github.com/Rdatatable/data.table/issues/1664\">#1664</a> for keeping track of further developments.</p></li>\n<li><p><a href=\"https://gist.github.com/arunsrinivasan/dacb9d1cac301de8d9ff\">Automatic indexing</a> - another handy feature to optimise base R syntax as is, internally.</p></li>\n<li><p><strong>Ad-hoc grouping</strong>: <code>dplyr</code> automatically sorts the results by grouping variables during <code>summarise()</code>, which may not be always desirable.</p></li>\n<li><p>Numerous advantages in data.table joins (for speed / memory efficiency and syntax) mentioned above.</p></li>\n<li><p><strong>Non-equi joins</strong>: is a NEW feature available from v1.9.7+. It allows joins using other operators <code>&lt;=, &lt;, &gt;, &gt;=</code> along with all other advantages of data.table joins.</p></li>\n<li><p><a href=\"https://github.com/Rdatatable/data.table/wiki/talks/EARL2014_OverlapRangeJoin_Arun.pdf\">Overlapping range joins</a> was implemented in data.table recently. Check <a href=\"http://stackoverflow.com/a/25655497/559784\">this post</a> for an overview with benchmarks. </p></li>\n<li><p><code>setorder()</code> function in data.table that allows really fast reordering of data.tables by reference.</p></li>\n<li><p>dplyr provides <a href=\"http://cran.r-project.org/web/packages/dplyr/vignettes/databases.html\">interface to databases</a> using the same syntax, which data.table does not at the moment.</p></li>\n<li><p><code>data.table</code> provides faster equivalents of <em>set operations</em> from v1.9.7+ (written by Jan Gorecki) - <em>fsetdiff()</em>, <em>fintersect()</em>, <em>funion()</em> and <em>fsetequal()</em> with additional <code>all</code> argument (as in SQL).</p></li>\n<li><p>data.table loads cleanly with no masking warnings and has a mechanism described <a href=\"http://stackoverflow.com/a/10529888/403310\">here</a> for <code>[.data.frame</code> compatibility when passed to any R package. dplyr changes base functions <code>filter</code>, <code>lag</code> and <code>[</code> which can cause problems; e.g. <a href=\"http://stackoverflow.com/a/35057612/403310\">here</a> and <a href=\"http://stackoverflow.com/a/35329418/403310\">here</a>.</p></li>\n</ul>\n\n<hr>\n\n<p>Finally:</p>\n\n<ul>\n<li><p>On databases - there is no reason why data.table cannot provide similar interface, but this is not a priority now. It might get bumped up if users would very much like that feature.. not sure.</p></li>\n<li><p>On parallelism - Everything is difficult, until someone goes ahead and does it. Of course it will take effort (being thread safe). </p>\n\n<ul>\n<li>Progress is being made currently (in v1.9.7 devel) towards parallelising known time consuming parts for incremental performance gains using <code>OpenMP</code>.</li>\n</ul></li>\n</ul>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "tags": ["r", "data.table", "dplyr"], "link": "http://stackoverflow.com/questions/21435339/data-table-vs-dplyr-can-one-do-something-well-the-other-cant-or-does-poorly/27718317#27718317", "question_id": 21435339, "answer_id": 27718317}, {"body": "<p>Here's my attempt at a comprehensive answer from the dplyr perspective,\nfollowing the broad outline of Arun's answer (but somewhat rearranged\nbased on differing priorities).</p>\n\n<h2>Syntax</h2>\n\n<p>There is some subjectivity to syntax, but I stand by my statement that\nthe concision of data.table makes it harder to learn and harder to read.\nThis is partly because dplyr is solving a much easier problem!</p>\n\n<p>One really important thing that dplyr does for you is that it\n<em>constrains</em> your options. I claim that most single table problems can\nbe solved with just five key verbs filter, select, mutate, arrange and\nsummarise, along with \"by group\" adverb. That constraint is big help\nwhen you're learning data manipulation, because it helps order your\nthinking about the problem. In dplyr, each of these verbs is mapped to a\nsingle function. Each function does one job, and is easy to understand\nin isolation.</p>\n\n<p>You create complexity by piping these simple operations together with\n<code>%&gt;%</code>. Here's an example from one of the posts Arun <a href=\"http://stackoverflow.com/questions/27511604/\">linked\nto</a>:</p>\n\n<pre><code>diamonds %&gt;%\n  filter(cut != \"Fair\") %&gt;%\n  group_by(cut) %&gt;%\n  summarize(\n    AvgPrice = mean(price),\n    MedianPrice = as.numeric(median(price)),\n    Count = n()\n  ) %&gt;%\n  arrange(desc(Count))\n</code></pre>\n\n<p>Even if you've never seen dplyr before (or even R!), you can still get\nthe gist of what's happening because the functions are all English\nverbs. The disadvantage of English verbs is that they require more typing than\n<code>[</code>, but I think that can be largely mitigated by better autocomplete.</p>\n\n<p>Here's the equivalent data.table code:</p>\n\n<pre><code>diamondsDT &lt;- data.table(diamonds)\ndiamondsDT[\n  cut != \"Fair\", \n  .(AvgPrice = mean(price),\n    MedianPrice = as.numeric(median(price)),\n    Count = .N\n  ), \n  by = cut\n][ \n  order(-Count) \n]\n</code></pre>\n\n<p>It's harder to follow this code unless you're already familiar with\ndata.table. (I also couldn't figure out how to indent the repeated <code>[</code>\nin a way that looks good to my eye). Personally, when I look at code I\nwrote 6 months ago, it's like looking at a code written by a stranger,\nso I've come to prefer straightforward, if verbose, code.</p>\n\n<p>Two other minor factors that I think slightly decrease readibility:</p>\n\n<ul>\n<li><p>Since almost every data table operation uses <code>[</code> you need additional\ncontext to figure out what's happening. For example, is <code>x[y]</code>\njoining two data tables or extracting columns from a data frame?\nThis is only a small issue, because in well-written code the\nvariable names should suggest what's happening.</p></li>\n<li><p>I like that <code>group_by()</code> is a separate operation in dplyr. It\nfundamentally changes the computation so I think should be obvious\nwhen skimming the code, and it's easier to spot <code>group_by()</code> than\nthe <code>by</code> argument to <code>[.data.table</code>.</p></li>\n</ul>\n\n<p>I also like that the <a href=\"https://github.com/smbache/magrittr\">the pipe</a>\nisn't just limited to just one package. You can start by tidying your\ndata with\n<a href=\"http://blog.rstudio.org/2014/07/22/introducing-tidyr/\">tidyr</a>, and\nfinish up with a plot in <a href=\"http://ggvis.rstudio.com\">ggvis</a>. And you're\nnot limited to the packages that I write - anyone can write a function\nthat forms a seamless part of a data manipulation pipe. In fact, I\nrather prefer the previous data.table code rewritten with <code>%&gt;%</code>:</p>\n\n<pre><code>diamonds %&gt;% \n  data.table() %&gt;% \n  .[cut != \"Fair\", \n    .(AvgPrice = mean(price),\n      MedianPrice = as.numeric(median(price)),\n      Count = .N\n    ), \n    by = cut\n  ] %&gt;% \n  .[order(-Count)]\n</code></pre>\n\n<p>And the idea of piping with <code>%&gt;%</code> is not limited to just data frames and\nis easily generalised to other contexts: <a href=\"http://rstudio.github.io/dygraphs/\">interactive web\ngraphics</a>, <a href=\"https://github.com/hadley/rvest\">web\nscraping</a>,\n<a href=\"https://github.com/ropensci/gistr\">gists</a>, <a href=\"https://github.com/smbache/ensurer\">run-time\ncontracts</a>, ...)</p>\n\n<h2>Memory and performance</h2>\n\n<p>I've lumped these together, because, to me, they're not that important.\nMost R users work with well under 1 million rows of data, and dplyr is\nsufficiently fast enough for that size of data that you're not aware of\nprocessing time. We optimise dplyr for expressiveness on medium data;\nfeel free to use data.table for raw speed on bigger data.</p>\n\n<p>The flexibilty of dplyr also means that you can easily tweak performance\ncharacteristcs using the same syntax. If the performance of dplyr with\nthe data frame backend is not good enough for you, you can use the\ndata.table backend (albeit a somewhat restricted set of functionality).\nIf the data you're working with doesn't fit in memory, then you can use\na database backend.</p>\n\n<p>All that said, dplyr performance will get better in the long-term. We'll\ndefinitely implement some of the great ideas of data.table like radix\nordering and using the same index for joins &amp; filters. We're also\nworking on parallelisation so we can take advantage of multiple cores.</p>\n\n<h2>Features</h2>\n\n<p>A few things that we're planning to work on in 2015:</p>\n\n<ul>\n<li><p>the fastread package, to make it easy to get files off disk and in\nto memory, analgous to <code>fread()</code>.</p></li>\n<li><p>More flexible joins, including support for non-equi-joins.</p></li>\n<li><p>More flexible grouping like bootstrap samples, rollups and more</p></li>\n</ul>\n\n<p>I'm also investing time into improving R's <a href=\"https://github.com/rstats-db/DBI\">database\nconnectors</a>, the ability to talk to\n<a href=\"https://github.com/hadley/httr\">web apis</a>, and making it easier to\n<a href=\"https://github.com/hadley/rvest\">scrape html pages</a>.</p>\n", "title": "data.table vs dplyr: can one do something well the other can&#39;t or does poorly?", "tags": ["r", "data.table", "dplyr"], "link": "http://stackoverflow.com/questions/21435339/data-table-vs-dplyr-can-one-do-something-well-the-other-cant-or-does-poorly/27840349#27840349", "question_id": 21435339, "answer_id": 27840349}], "link": "http://stackoverflow.com/questions/21435339/data-table-vs-dplyr-can-one-do-something-well-the-other-cant-or-does-poorly", "question_id": 21435339}, {"body": "<p>We all know that <code>String</code> is immutable in Java, but check the following code:</p>\n\n<pre><code>String s1 = \"Hello World\";  \nString s2 = \"Hello World\";  \nString s3 = s1.substring(6);  \nSystem.out.println(s1); // Hello World  \nSystem.out.println(s2); // Hello World  \nSystem.out.println(s3); // World  \n\nField field = String.class.getDeclaredField(\"value\");  \nfield.setAccessible(true);  \nchar[] value = (char[])field.get(s1);  \nvalue[6] = 'J';  \nvalue[7] = 'a';  \nvalue[8] = 'v';  \nvalue[9] = 'a';  \nvalue[10] = '!';  \n\nSystem.out.println(s1); // Hello Java!  \nSystem.out.println(s2); // Hello Java!  \nSystem.out.println(s3); // World  \n</code></pre>\n\n<p>Why does this program operate like this? And why is the value of <code>s1</code> and <code>s2</code> changed, but not <code>s3</code>?</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "answers": [{"body": "<p>You are using reflection to access the \"implementation details\" of string object. Immutability is the feature of the public interface of an object.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20945098#20945098", "question_id": 20945049, "answer_id": 20945098}, {"body": "<p>You are using reflection to circumvent the immutability of String - it's a form of \"attack\".</p>\n\n<p>There are lots of examples you can create like this (eg <a href=\"http://stackoverflow.com/questions/14060078/is-void-really-uninstantiable\">you can even instantiate a <code>Void</code> object</a> too), but it doesn't mean that String is not \"immutable\".</p>\n\n<p>There are use cases where this type of code may be used to your advantage and be \"good coding\", such as <a href=\"http://stackoverflow.com/questions/17151382/safely-using-string-for-passwords-by-using-reflection-to-scrub-contents-prior-to\">clearing passwords from memory at the earliest possible moment (before GC)</a>.</p>\n\n<p>Depending on the security manager, you may not be able to execute your code.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20945108#20945108", "question_id": 20945049, "answer_id": 20945108}, {"body": "<p><code>String</code> is immutable* but this only means you cannot change it using its public API. </p>\n\n<p>What you are doing here is circumventing the normal API, using reflection. The same way, you can change the values of enums, change the lookup table used in Integer autoboxing etc.</p>\n\n<p>Now, the reason <code>s1</code> and <code>s2</code> change value, is that they both refer to the same interned string. The compiler does this (as mentioned by other answers). </p>\n\n<p>The reason <code>s3</code> does <em>not</em> was actually a bit surprising to me, as I thought it would share the <code>value</code> array (<a href=\"http://java-performance.info/changes-to-string-java-1-7-0_06/\">it did in earlier version of Java</a>, before Java 7u6). However, looking at the source code of <code>String</code>, we can see that the <code>value</code> character array for a substring is actually copied (using <code>Arrays.copyOfRange(..)</code>). This is why it goes unchanged.</p>\n\n<p>You can install a <code>SecurityManager</code>, to avoid malicious code to do such things. But keep in mind that some libraries depend on using these kind of reflection tricks (typically ORM tools, AOP libraries etc).</p>\n\n<p>*) I initially wrote that <code>String</code>s aren't really immutable, just \"effective immutable\". This might be misleading in the current implementation of <code>String</code>, where the <code>value</code> array is indeed marked <code>private final</code>. It's still worth noting, though, that there is no way to declare an array in Java as immutable, so care must be taken not to expose it outside its class, even with the proper access modifiers.</p>\n\n<hr>\n\n<p>As this topic seems overwhelmingly popular, here's some suggested further reading: <a href=\"http://www.javaspecialists.eu/talks/oslo09/ReflectionMadness.pdf\">Heinz Kabutz's Reflection Madness talk</a> from JavaZone 2009, which covers a lot of the issues in the OP, along with other reflection... well... madness. </p>\n\n<p>It covers why this is sometimes useful. And why, most of the time, you should avoid it. :-)</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20945113#20945113", "question_id": 20945049, "answer_id": 20945113}, {"body": "<p>String immutability is from the interface perspective. You are using reflection to bypass the interface and directly modify the internals of the String instances.</p>\n\n<p><code>s1</code> and <code>s2</code> are both changed because they are both assigned to the same \"intern\" String instance. You can find out a bit more about that part from <a href=\"http://javatechniques.com/blog/string-equality-and-interning/\">this article</a> about string equality and interning.  You might be surprised to find out that in your sample code, <code>s1 == s2</code> returns <code>true</code>!</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20945157#20945157", "question_id": 20945049, "answer_id": 20945157}, {"body": "<p>Visibility modifiers and final (i.e. immutability) are not a measurement against malicious code in Java; they are merely tools to protect against mistakes and to make the code more maintainable (one of the big selling points of the system). That is why you can access internal implementation details like the backing char array for <code>String</code>s via reflection.</p>\n\n<p>The second effect you see is that all <code>String</code>s change while it looks like you only change <code>s1</code>. It is a certain property of Java String literals that they are automatically interned, i.e. cached. Two String literals with the same value will actually be the same object. When you create a String with <code>new</code> it will not be interned automatically and you will not see this effect.</p>\n\n<p><code>#substring</code> until recently (Java 7u6) worked in a similar way, which would have explained the behaviour in the original version of your question. It didn't create a new backing char array but reused the one from the original String; it just created a new String object that used an offset and a length to present only a part of that array. This generally worked as Strings are immutable - unless you circumvent that. This property of <code>#substring</code> also meant that the whole original String couldn't be garbage collected when a shorter substring created from it still existed.</p>\n\n<p>As of current Java and your current version of the question there is no strange behaviour of <code>#substring</code>.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20945259#20945259", "question_id": 20945049, "answer_id": 20945259}, {"body": "<p>In Java, if two string primitive variables are initialized to the same literal, it assigns the same reference to both variables:</p>\n\n<pre><code>String Test1=\"Hello World\";\nString Test2=\"Hello World\";\nSystem.out.println(test1==test2); // true\n</code></pre>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/WhdYU.png\" alt=\"initialization\"></p>\n</blockquote>\n\n<p>That is the reason the comparison returns true. The third string is created using <code>substring()</code> which makes a new string instead of pointing to the same.</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/AcNr9.png\" alt=\"sub string\"></p>\n</blockquote>\n\n<p>When you access a string using reflection, you get the actual pointer:</p>\n\n<pre><code>Field field = String.class.getDeclaredField(\"value\");\nfield.setAccessible(true);\n</code></pre>\n\n<p>So change to this will change the string holding a pointer to it, but as <code>s3</code> is created with a new string due to <code>substring()</code> it would not change.</p>\n\n<blockquote>\n  <p><img src=\"http://i.stack.imgur.com/Cv3m9.png\" alt=\"change\"></p>\n</blockquote>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20945268#20945268", "question_id": 20945049, "answer_id": 20945268}, {"body": "<p>Which version of Java are you using? From Java 1.7.0_06, Oracle has changed the internal representation of String, especially the substring. </p>\n\n<p>Quoting from <a href=\"http://www.infoq.com/news/2013/12/Oracle-Tunes-Java-String\" rel=\"nofollow\" title=\"Oracle Tunes Java's Internal String Representation\">Oracle Tunes Java's Internal String Representation</a>:</p>\n\n<blockquote>\n  <p>In the new paradigm, the String offset and count fields have been removed, so substrings no longer share the underlying char [] value. </p>\n</blockquote>\n\n<p>With this change, it may happen without reflection (???).</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20949917#20949917", "question_id": 20945049, "answer_id": 20949917}, {"body": "<p>According to the concept of pooling, all the String variables containing the same value will point to the same memory address. Therefore s1 and s2, both containing the same value of \u201cHello World\u201d, will point towards the same memory location (say M1).</p>\n\n<p>On the other hand, s3 contains \u201cWorld\u201d, hence it will point to a different memory allocation (say M2).</p>\n\n<p>So now what's happening is that the value of S1 is being changed (by using the char [ ] value). So the value at the memory location M1 pointed both by s1 and s2 has been changed.</p>\n\n<p>Hence as a result, memory location M1 has been modified which causes change in the value of s1 and s2.</p>\n\n<p>But the value of location M2 remains unaltered, hence s3 contains the same original value.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20950428#20950428", "question_id": 20945049, "answer_id": 20950428}, {"body": "<p>String is immutable, but through reflection you're allowed to change the String class. You've just redefined the String class as mutable in real-time. You could redefine methods to be public or private or static if you wanted.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20959594#20959594", "question_id": 20945049, "answer_id": 20959594}, {"body": "<p>There are really two questions here:</p>\n\n<ol>\n<li>Are strings really immutable?</li>\n<li>Why is s3 not changed?</li>\n</ol>\n\n<p>To point 1: Except for ROM there is no immutable memory in your computer. Nowadays even ROM is sometimes writable. There is always some code somewhere (whether it's the kernel or native code sidestepping your managed environment) that can write to your memory address. So, in \"reality\", no they are not <strong>absolutely</strong> immutable.</p>\n\n<p>To point 2: This is because substring is probably allocating a new string instance, which is likely copying the array. It is possible to implement substring in such a way that it won't do a copy, but that doesn't mean it does. There are tradeoffs involved.</p>\n\n<p>For example, should holding a reference to <code>reallyLargeString.substring(reallyLargeString.length - 2)</code> cause a large amount of memory to be held alive, or only a few bytes?</p>\n\n<p>That depends on how substring is implemented. A deep copy will keep less memory alive, but it will run slightly slower. A shallow copy will keep more memory alive, but it will be faster. Using a deep copy can also reduce heap fragmentation, as the string object and its buffer can be allocated in one block, as opposed to 2 separate heap allocations.</p>\n\n<p>In any case, it looks like your JVM chose to use deep copies for substring calls.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20968146#20968146", "question_id": 20945049, "answer_id": 20968146}, {"body": "<p>The reason s3 does not actually change is because in Java when you do a substring the value character array for a substring is internally copied (using Arrays.copyOfRange()).</p>\n\n<p>s1 and s2 are the same because in Java they both refer to the same interned string. It's by design in Java.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20972058#20972058", "question_id": 20945049, "answer_id": 20972058}, {"body": "<p>To add to the @haraldK's answer - this is a security hack which could lead to a serious impact in the app. </p>\n\n<p>First thing is a modification to a constant string stored in a String Pool. When string is declared as a <code>String s = \"Hello World\";</code>, it's being places into a special object pool for further potential reusing. The issue is that compiler will place a reference to the modified version at compile time and once the user modifies the string stored in this pool at runtime, all references in code will point to the modified version. This would result into a following bug:</p>\n\n<pre><code>System.out.println(\"Hello World\"); \n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>Hello Java!\n</code></pre>\n\n<p>There was another issue I experienced when I was implementing a heavy computation over such risky strings. There was a bug which happened in like 1 out of 1000000 times during the computation which made the result undeterministic. I was able to find the problem by switching off the JIT - I was always getting the same result with JIT turned off. My guess is that the reason was this String security hack which broke some of the JIT optimization contracts.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/20974227#20974227", "question_id": 20945049, "answer_id": 20974227}, {"body": "<p>[Disclaimer this is a deliberately opinionated style of answer as I feel a more \"don't do this at home kids\" answer is warranted] </p>\n\n<p>The sin is the line <code>field.setAccessible(true);</code> which says to violate the public api by allowing access to a private field. Thats a giant security hole which can be locked down by configuring a security manager. </p>\n\n<p>The phenomenon in the question are implementation details which you would never see when not using that dangerous line of code to violate the access modifiers via reflection. Clearly two (normally) immutable strings can share the same char array. Whether a substring shares the same array depends on whether it can and whether the developer thought to share it. Normally these are invisible implementation details which you should not have to know unless you shoot the access modifier through the head with that line of code. </p>\n\n<p>It is simply not a good idea to rely upon such details which cannot be experienced without violating the access modifiers using reflection. The owner of that class only supports the normal public API and is free to make implementation changes in the future. </p>\n\n<p>Having said all that the line of code is really very useful when you have a gun held you your head forcing you to do such dangerous things. Using that back door is usually a code smell that you need to upgrade to better library code where you don't have to sin. Another common use of that dangerous line of code is to write a \"voodoo framework\" (orm, injection container, ...). Many folks get religious about such frameworks (both for and against them) so I will avoid inviting a flame war by saying nothing other than the vast majority of programmers don't have to go there. </p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/21008747#21008747", "question_id": 20945049, "answer_id": 21008747}, {"body": "<p>Strings are created in permanent area of the JVM heap memory. So yes, it's really immutable and cannot be changed after being created.\nBecause in the JVM, there are three types of heap memory:\n 1. Young generation\n 2. Old generation\n 3. Permanent generation.</p>\n\n<p>When any object are created, it goes into the young generation heap area and PermGen area reserved for String pooling.</p>\n\n<p>Here is more detail you can go and grab more information from:\n<em><a href=\"http://javarevisited.blogspot.com/2011/04/garbage-collection-in-java.html#more\" rel=\"nofollow\">How Garbage Collection works in Java </a></em>.</p>\n", "title": "Is a Java string really immutable?", "tags": ["java", "string", "reflection", "immutability"], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable/36216059#36216059", "question_id": 20945049, "answer_id": 36216059}], "link": "http://stackoverflow.com/questions/20945049/is-a-java-string-really-immutable", "question_id": 20945049}, {"body": "<p>Our (PHP) framework sometimes renders hidden inputs with value <code>YTowOnt9</code>. I can't find that string anywhere in the (huge) codebase, and can't figure out where it came from. I decided to Google for that particular string, and the <a href=\"https://www.google.com/?q=%22YTowOnt9%22#q=%22YTowOnt9%22\">result</a> surprised me. Over half a million - kind of random - hits. I haven't found any page describing the value itself. It has 0 hits on Stack&nbsp;Overflow. </p>\n\n<p>Is <code>YTowOnt9</code> some kind of magic string?</p>\n", "title": "What is &#39;YTowOnt9&#39;?", "tags": ["php", "html", "web", "output"], "answers": [{"body": "<p>It seems to be a <a href=\"http://en.wikipedia.org/wiki/PHP\">PHP</a>-serialized empty array, base 64 encoded.</p>\n\n<pre><code>$ base64 -D &lt;&lt;&lt; 'YTowOnt9'\na:0:{}\n$ php -r 'var_dump(unserialize(base64_decode(\"YTowOnt9\")));'\narray(0) {\n}\n</code></pre>\n\n<p>There are many scripts that serialize arrays of data. When the arrays have data, they vary greatly, so the <a href=\"http://en.wikipedia.org/wiki/Base64\">Base64</a> encoded PHP-serialized values do too, but when they are empty they are all the same. It makes it look as if a lot of very different PHP scripts have this random string in common.</p>\n", "title": "What is &#39;YTowOnt9&#39;?", "tags": ["php", "html", "web", "output"], "link": "http://stackoverflow.com/questions/23223292/what-is-ytowont9/23223602#23223602", "question_id": 23223292, "answer_id": 23223602}], "link": "http://stackoverflow.com/questions/23223292/what-is-ytowont9", "question_id": 23223292}, {"body": "<p>I am developing an application, and everytime I run it, I get the message:</p>\n\n<blockquote>\n  <p>Unfortunately, MyApp has stopped.</p>\n</blockquote>\n\n<p>What can I do to solve this?</p>\n\n<hr/>\n\n<p><em>About this question - obviously inspired by <a href=\"http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>, there are lots of questions stating that their application has crashed, without any further detail. This question aims to instruct novice Android programmers on how to try and fix their problems themselves, or ask the right questions.</em></p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "answers": [{"body": "<p><em>This answer describes the process of retrieving the stack trace. Already have the stack trace? Read up on stack traces in \"<a href=\"http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>\"</em></p>\n\n<h1>The Problem</h1>\n\n<p>Your application quit because an uncaught <code>RuntimeException</code> was thrown.<br>\nThe most common of these is the <code>NullPointerException</code>.</p>\n\n<h1>How to solve it?</h1>\n\n<p>Every time an Android application crashes (or any Java application for that matter), a <code>Stack trace</code> is written to the console (in this case, logcat). This stack trace contains vital information for solving your problem.</p>\n\n<h2>Android Studio</h2>\n\n<p><img src=\"http://i.stack.imgur.com/ZL3Y8.png\" alt=\"Finding the stack trace in Android Studio\"></p>\n\n<p>In the bottom bar of the window, click on the <code>Android</code> button. Alternatively, you can press <kbd>alt</kbd>+<kbd>6</kbd>. Make sure your emulator or device is selected in the <code>Devices</code> panel. Next, try to find the stack trace, which is shown in red. There may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace is to clear the logcat (using the recycle bin on the right), and let the app crash again.</p>\n\n<h2>Eclipse</h2>\n\n<p><img src=\"http://i.stack.imgur.com/6qdhO.png\" alt=\"Finding the stack trace in Eclipse\"></p>\n\n<p>In the top right corner, click the <code>DDMS</code> button. If it is not there, you might need to add it first using the <code>Open Perspective</code> button to the left of the <code>Java</code> button. You will find the logcat pane at the bottom. First, make sure your device is selected in the topleft <code>devices</code> panel. Next, try to find the stack trace, which is shown in red. Again, there may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace here is to clear the logcat (using the <code>clear log</code> button on the top right), and let the app crash again. You should also click on the package name of your app, if it is not already selected. This will filter out only the log message made by your app.</p>\n\n<h1>I have found the stack trace, now what?</h1>\n\n<p>Yay! You're halfway to solving your problem.<br>\nYou only need to find out what exactly made your application crash, by analyzing the stack trace.</p>\n\n<p>Read up on stack traces in \"<a href=\"http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">What is a stack trace, and how can I use it to debug my application errors?</a>\"</p>\n\n<h1>I still can't solve my problem!</h1>\n\n<p>If you've found your <code>Exception</code> and the line where it occurred, and still cannot figure out how to fix it, don't hesitate to ask a question on StackOverflow.  </p>\n\n<p>Try to be as concise as possible: post the stack trace, and the <em>relevant</em> code (e.g. a few lines up to the line which threw the <code>Exception</code>).</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/23353174#23353174", "question_id": 23353173, "answer_id": 23353174}, {"body": "<p>First you check which point your app has crashed (<code>Unfortunately, MyApp has stopped.</code>). For this you can use <code>Log.e(\"TAG\",\"Message\");</code>, using this line you can see you app log in logcat.</p>\n\n<p>After that you find which point your app has stopped its very easy to solve at your side. </p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/29116807#29116807", "question_id": 23353173, "answer_id": 29116807}, {"body": "<p>You can also get this error message on its own, without any stack trace or any further error message.</p>\n\n<p>In this case you need to make sure your Android manifest is configured correctly (including any manifest merging happening from a library and any activity that would come from a library), and pay particular attention to the first activity displayed in your application in your manifest files.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/29192526#29192526", "question_id": 23353173, "answer_id": 29192526}, {"body": "<p>You can use Google's ADB tool to get Logcat file to analyze the issue.</p>\n\n<pre><code>adb logcat &gt; logcat.txt\n</code></pre>\n\n<p>open logcat.txt file and search for your application name. There should be information why it failed,The Line number ,Class name and ...</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/29200956#29200956", "question_id": 23353173, "answer_id": 29200956}, {"body": "<p>Just check the error in log cat. </p>\n\n<p>You get the log cat option from in eclipse:</p>\n\n<blockquote>\n  <p>window->show view->others->Android->Logcat</p>\n</blockquote>\n\n<p>Log cat contains error.</p>\n\n<p>Other wise you can also check the error by executing an application in debug mode.\nFirstly set breakpoint after that by doing:</p>\n\n<blockquote>\n  <p>right click on project->debug as->Android application</p>\n</blockquote>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/30778896#30778896", "question_id": 23353173, "answer_id": 30778896}, {"body": "<p>check your logcat message. \nand see your menifest file. there should be something missing like defining the activity, user permission, etc.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/31114928#31114928", "question_id": 23353173, "answer_id": 31114928}, {"body": "<p>You have to check the <code>Stack trace</code></p>\n\n<p><strong>How to do that?</strong></p>\n\n<p>on Your IDE Check the windows form LOGCAT </p>\n\n<p>If you cant see the logcat windows go to this path and open it </p>\n\n<pre><code>window-&gt;show view-&gt;others-&gt;Android-&gt;Logcat\n</code></pre>\n\n<p>if you are using Google-Api go to this path </p>\n\n<p><em>adb logcat > logcat.txt</em></p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/31378800#31378800", "question_id": 23353173, "answer_id": 31378800}, {"body": "<p>You can use any of these tools:</p>\n\n<blockquote>\n  <ol>\n  <li><p>adb logcat</p></li>\n  <li><p>adb logcat > logs.txt (you can use editors to open and search errors.)</p></li>\n  <li><p>eclipse logcat (If not visible in eclipse, Go to Windows->Show View->Others->Android->LogCat)</p></li>\n  <li>Android Debug Monitor or Android Device Monitor(type command <strong>monitor</strong> or open through UI)</li>\n  </ol>\n</blockquote>\n\n<p><a href=\"http://i.stack.imgur.com/4RoQc.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/4RoQc.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <ol start=\"5\">\n  <li>Android Studio</li>\n  </ol>\n</blockquote>\n\n<p>I suggest to use <strong>Android Debug Monitor</strong>, it is good. Because eclipse hangs when too many logs are there, and through adb logcat filter and all difficult.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/33492207#33492207", "question_id": 23353173, "answer_id": 33492207}, {"body": "<p>Use the <strong>LogCat</strong> and try to find what is causing the app to crash.</p>\n\n<p>To see Logcat if you use <strong>Android Studio</strong> then Press <strong>ALT + 6</strong>\nor</p>\n\n<p>if you use <strong>Eclipse</strong> then \n<strong>Window -> Open Perspective -> Other - LogCat</strong> </p>\n\n<p>Go to the LogCat, from the drop down menu select error. This will contain all the required information to help you debug. If that doesn't help, post the LogCat as an edit to your question and somebody will help you out.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/37235752#37235752", "question_id": 23353173, "answer_id": 37235752}, {"body": "<p>Let me share a basic Logcat analysis for when you meet a Force Close (when app stops working).</p>\n\n<p><strong>DOCS</strong></p>\n\n<p>Basic tool from Android to collect/analyse logs is the logcat. </p>\n\n<p><a href=\"https://developer.android.com/studio/command-line/logcat.html\" rel=\"nofollow\">HERE</a> is the Android's page about logcat</p>\n\n<p>If you use android Studio, you can also check this <a href=\"https://developer.android.com/studio/debug/index.html#systemLogView\" rel=\"nofollow\">LINK</a>.</p>\n\n<p><strong>Capturing</strong></p>\n\n<p>Basically, you can MANUALLY capture logcat with following command (or just check AndroidMonitor window in AndroidStudio):</p>\n\n<pre><code>adb logcat\n</code></pre>\n\n<p>There's a lot of parameters you can add to command which helps you to filter and display the message that you want... This is personal...  I always use the command below to get the message timestamp:</p>\n\n<pre><code>adb logcat -v time\n</code></pre>\n\n<p>You can redirect the output to a file and analyze it in a Text Editor.</p>\n\n<p><strong>Analyzing</strong></p>\n\n<p>If you app is Crashing, you'll get something like:</p>\n\n<pre><code>07-09 08:29:13.474 21144-21144/com.example.khan.abc D/AndroidRuntime: Shutting down VM\n07-09 08:29:13.475 21144-21144/com.example.khan.abc E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.khan.abc, PID: 21144\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v4.app.FragmentActivity.onBackPressed()' on a null object reference\n     at com.example.khan.abc.AudioFragment$1.onClick(AudioFragment.java:125)\n     at android.view.View.performClick(View.java:4848)\n     at android.view.View$PerformClick.run(View.java:20262)\n     at android.os.Handler.handleCallback(Handler.java:815)\n     at android.os.Handler.dispatchMessage(Handler.java:104)\n     at android.os.Looper.loop(Looper.java:194)\n     at android.app.ActivityThread.main(ActivityThread.java:5631)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at java.lang.reflect.Method.invoke(Method.java:372)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:959)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:754)\n07-09 08:29:15.195 21144-21144/com.example.khan.abc I/Process: Sending signal. PID: 21144 SIG: 9\n</code></pre>\n\n<p>This part of the log shows you a lot of information:</p>\n\n<ul>\n<li>When the issue happened: <code>07-09 08:29:13.475</code></li>\n</ul>\n\n<p>It is important to check when the issue happened... You may find several errors in a log... you must be sure that you are checking the proper messages :)</p>\n\n<ul>\n<li>Which app crashed: <code>com.example.khan.abc</code></li>\n</ul>\n\n<p>This way, you know which app crashed (to be sure that you are checking the logs about your message)</p>\n\n<ul>\n<li>Which ERROR: <code>java.lang.NullPointerException</code></li>\n</ul>\n\n<p>A NULL Pointer Exception error</p>\n\n<ul>\n<li>Detailed info about the error: <code>Attempt to invoke virtual method 'void android.support.v4.app.FragmentActivity.onBackPressed()' on a null object reference</code></li>\n</ul>\n\n<p>You tried to call method <code>onBackPressed()</code> from a <code>FragmentActivity</code> object. However, that object was <code>null</code> when you did it.</p>\n\n<ul>\n<li><p>Stack Trace: Stack Trace shows you the method invocation order... Sometimes, the error happens in the calling method (and not in the called method).</p>\n\n<p>at com.example.khan.abc.AudioFragment$1.onClick(AudioFragment.java:125)</p></li>\n</ul>\n\n<p>Error happened in file <code>com.example.khan.abc.AudioFragment.java</code>, inside <code>onClick()</code> method at line: <code>125</code> (stacktrace shows the line that error happened)</p>\n\n<p>It was called by:</p>\n\n<pre><code>at android.view.View.performClick(View.java:4848)\n</code></pre>\n\n<p>Which was called by:</p>\n\n<pre><code>at android.view.View$PerformClick.run(View.java:20262)\n</code></pre>\n\n<p>which was called by:</p>\n\n<pre><code>at android.os.Handler.handleCallback(Handler.java:815)\n</code></pre>\n\n<p>etc....</p>\n\n<p><strong>Overview</strong></p>\n\n<p>This was just an overview... Not all logs are simple etc... It is just to share the idea and provide a entry-level information to you... </p>\n\n<p>I hope I could help you someway...\nRegards</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/38364939#38364939", "question_id": 23353173, "answer_id": 38364939}, {"body": "<p>Don't forget to add your all activity name in manifest file...\nand run the project again.</p>\n\n<p>i hope this may help you.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/38523370#38523370", "question_id": 23353173, "answer_id": 38523370}, {"body": "<p><strong>Alternative Solution for Unfortunately App has stopped.</strong></p>\n\n<p>[![enter image description here][1]][1]</p>\n\n<p>We get this message whenever our <strong>App forced closed by any exceptions</strong> that is <strong>not handled</strong> in android or in our application.</p>\n\n<p>So we just need to take care of it when we are writing the code that will save a lots of time in tracking any type of exceptions in android.</p>\n\n<p><strong>Steps to track the exceptions in App :-</strong> </p>\n\n<p><strong>1.Open the Logcat and view the Exception.</strong></p>\n\n<p>If you cant see the logcat windows go to this path and open it</p>\n\n<pre><code>window-&gt;show view-&gt;others-&gt;Android-&gt;Logcat \n</code></pre>\n\n<p>We Use the LogCat and try to find, what is causing the app to crash.</p>\n\n<p><strong>2. Try to handle the exception</strong> which is shown in the logcat, and also check the other case's which may cause the exception .</p>\n\n<p><strong>3.</strong> <strong>Add an Uncaught Exception Handler</strong> in your Application to haldle all other exception . </p>\n\n<p><strong>I).Create a class MyExceptionHandler which implementsThread.UncaughtExceptionHandler</strong> </p>\n\n<pre><code>public class MyExceptionHandler implements\n    Thread.UncaughtExceptionHandler {\nprivate final Context myContext;\nprivate final Class&lt;?&gt; myActivityClass;\n\npublic MyExceptionHandler(Context context, Class&lt;?&gt; c) {\n\n    myContext = context;\n    myActivityClass = c;\n}\n\npublic void uncaughtException(Thread thread, Throwable exception) {\n    StringWriter stackTrace = new StringWriter();\n    exception.printStackTrace(new PrintWriter(stackTrace));\n    System.err.println(stackTrace);\n    // You can use LogCat too\n    Intent intent = new Intent(myContext, myActivityClass);\n    myContext.startActivity(intent);\n    //for restarting the Activity\n    Process.killProcess(Process.myPid());\n    System.exit(0);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>II).Handle exception in any class or activity or fragment.</strong></p>\n\n<pre><code>//We need to Caught the Unwanted exception whihc is not handled by Android:\n  Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler(this, SplashScreen.class));\n</code></pre>\n\n<p>It will restart the same Activity again if the app got crashed.</p>\n", "title": "Unfortunately MyApp has stopped. How can I solve this?", "tags": ["java", "android"], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this/38823591#38823591", "question_id": 23353173, "answer_id": 38823591}], "link": "http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this", "question_id": 23353173}, {"body": "<p>NodeJS interpreter name(<code>node</code>) on Ubuntu has been renamed to <code>nodejs</code> because of name conflict with another package. Here's what the readme.debian says:</p>\n\n<blockquote>\n  <p>The upstream name for the Node.js interpreter command is \"node\".\n    In Debian the interpreter command has been changed to \"nodejs\".</p>\n  \n  <p>This was done to prevent a namespace collision: other commands use\n    the same name in their upstreams, such as ax25-node from the \"node\"\n    package.</p>\n  \n  <p>Scripts calling Node.js as a shell command must be changed to instead\n    use the \"nodejs\" command.</p>\n</blockquote>\n\n<p>However, using nodejs mucks up installing packages using <code>npm</code>. Package installation fails with the following error:</p>\n\n<pre><code>sh: 1: node: not found\nnpm WARN This failure might be due to the use of legacy binary \"node\"\nnpm WARN For further explanations, please read /usr/share/doc/nodejs/README.Debian\n</code></pre>\n\n<p>How do I make npm understand that nodejs is already installed on the system but the interpreter name is different?</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "answers": [{"body": "<p>Try linking node to nodejs. First find out where nodejs is</p>\n\n<pre><code>whereis nodejs\n</code></pre>\n\n<p>Then soft link node to nodejs</p>\n\n<pre><code>ln -s [the path of nodejs] /usr/bin/node \n</code></pre>\n\n<p>I am assuming /usr/bin is in your execution path. Then you can test by typing node or npm into your command line, and everything should work now.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/21168305#21168305", "question_id": 21168141, "answer_id": 21168305}, {"body": "<p>TL;DR:</p>\n\n<pre><code>sudo apt-get install nodejs-legacy\n</code></pre>\n\n<hr>\n\n<p>First of all let me clarify the situation a bit. In summer 2012 Debian maintainers decided to rename Node.js executable to prevent some kind of namespace collision with another package. It was very hard decision for Debian Technical Committee, because it breaks backward compatibility.</p>\n\n<p>The following is a quote from Committee resolution draft, published in Debian <a href=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=614907#108\">mailing list</a>:</p>\n\n<blockquote>\n  <ol>\n  <li><p>The nodejs package shall be changed to provide /usr/bin/nodejs, not    /usr/bin/node.  The package should declare a Breaks: relationship with\n  any packages in Debian that reference /usr/bin/node.</p></li>\n  <li><p>The nodejs source package shall also provide a nodejs-legacy binary    package at Priority: extra that contains /usr/bin/node as a symlink to\n  /usr/bin/nodejs.  No package in the archive may depend on or recommend\n  the nodejs-legacy package, which is provided solely for upstream<br>\n  compatibility.  This package declares shall also declare a Conflicts: \n  relationship with the node package.</p></li>\n  </ol>\n  \n  <p>&lt;...></p>\n</blockquote>\n\n<p>Paragraph 2 is the actual solution for OP's issue. OP should try to install this package instead of doing symlink by hand. Here is a link to this package in Debian package index <a href=\"http://packages.debian.org/sid/nodejs-legacy\">website</a>.</p>\n\n<p>It can be installed using <code>sudo apt-get install nodejs-legacy</code>.</p>\n\n<p>I have not found any information about adopting the whole thing by NPM developers, but I think <code>npm</code> package will be fixed on some point and <code>nodejs-legacy</code> become really legacy.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/21171188#21171188", "question_id": 21168141, "answer_id": 21171188}, {"body": "<p>You can also install Nodejs using <strong>NVM</strong> or <em>Nodejs Version Manager</em> There are a lot of <a href=\"http://blog.romanliutikov.com/post/89681066018/tip-use-nvm-to-manage-multiple-node-js-versions\">benefits</a> to using a version manager. One of them being you don't have to worry about this issue. </p>\n\n<p><br></p>\n\n<h1>Instructions:</h1>\n\n<p><br></p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install build-essential libssl-dev\n</code></pre>\n\n<p>Once the prerequisite packages are installed, you can pull down the nvm installation script from the project's GitHub page. The version number may be different, but in general, you can download and install it with the following syntax:</p>\n\n<pre><code>curl https://raw.githubusercontent.com/creationix/nvm/v0.16.1/install.sh | sh\n</code></pre>\n\n<p>This will download the script and run it. It will install the software into a subdirectory of your home directory at <code>~/.nvm</code>. It will also add the necessary lines to your <code>~/.profile</code> file to use the file.</p>\n\n<p>To gain access to the nvm functionality, you'll need to log out and log back in again, or you can source the ~/.profile file so that your current session knows about the changes:</p>\n\n<pre><code>source ~/.profile\n</code></pre>\n\n<p>Now that you have nvm installed, you can install isolated Node.js versions.</p>\n\n<p>To find out the versions of Node.js that are available for installation, you can type:</p>\n\n<pre><code>nvm ls-remote\n. . .\n\nv0.11.10\nv0.11.11\nv0.11.12\nv0.11.13\nv0.11.14\n</code></pre>\n\n<p>As you can see, the newest version at the time of this writing is v0.11.14. You can install that by typing:</p>\n\n<pre><code>nvm install 0.11.14\n</code></pre>\n\n<p>Usually, nvm will switch to use the most recently installed version. You can explicitly tell nvm to use the version we just downloaded by typing:</p>\n\n<pre><code>nvm use 0.11.14\n</code></pre>\n\n<p>When you install Node.js using nvm, the executable is called node. You can see the version currently being used by the shell by typing:</p>\n\n<pre><code>node -v\n</code></pre>\n\n<p>The comeplete tutorial can be found <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-an-ubuntu-14-04-server\">here</a></p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/26895690#26895690", "question_id": 21168141, "answer_id": 26895690}, {"body": "<p>I fixed it unlinking /usr/sbin/node (which is linked to ax25-node package), then I have create a link to nodejs using this on command line</p>\n\n<pre><code>sudo ln -s /usr/bin/nodejs /usr/bin/node\n</code></pre>\n\n<p>Because package such as karma doesn't work with nodejs name, however changing the first line of karma script from node to nodejs, but I prefer resolve this issue once and for all</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/31905055#31905055", "question_id": 21168141, "answer_id": 31905055}, {"body": "<p>For me the fix was removing the node* packages and also the npm packages.</p>\n\n<p>Then a fresh install as:</p>\n\n<pre><code>sudo apt-get install autoclean\nsudo apt-get install nodejs-legacy\nnpm install\n</code></pre>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/32009077#32009077", "question_id": 21168141, "answer_id": 32009077}, {"body": "<p>Here's another approach I use since I like <a href=\"https://www.npmjs.com/package/n\" rel=\"nofollow\">n</a> for easy switching between node versions.</p>\n\n<p>On a new Ubuntu system, first install the 'system' node:</p>\n\n<pre><code>curl -sL https://deb.nodesource.com/setup | sudo bash -\n</code></pre>\n\n<p>Then install <em>n</em> module globally:</p>\n\n<pre><code>npm install -g n\n</code></pre>\n\n<p>Since the system node was installed first (above), the alternatives system can be used to cleanly point to the node provided by <em>n</em>. First make sure the alternatives system has nothing for node:</p>\n\n<pre><code>update-alternatives --remove-all node\n</code></pre>\n\n<p>Then add the node provided by <em>n</em>:</p>\n\n<pre><code>update-alternatives --install /usr/bin/node node /usr/local/bin/node 1\n</code></pre>\n\n<p>Next add node provided by the system (the one that was installed with curl):</p>\n\n<pre><code>update-alternatives --install /usr/bin/node node /usr/bin/nodejs 2\n</code></pre>\n\n<p>Now select the node provided by <em>n</em> using the interactive menu (select <code>/usr/local/bin/node</code> from the menu presented by the following command):</p>\n\n<pre><code>update-alternatives --config node\n</code></pre>\n\n<p>Finally, since <code>/usr/local/bin</code> usually has a higher precedence in PATH than <code>/usr/bin</code>, the following alias must be created (enter in your .bashrc or .zshrc) if the alternatives system node is to be effective; otherwise the node installed with <em>n</em> in /usr/local/bin takes always precedence:</p>\n\n<pre><code>alias node='/usr/bin/node'\n</code></pre>\n\n<p>Now you can easily switch between node versions with <code>n &lt;desired node version number&gt;</code>.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/34034792#34034792", "question_id": 21168141, "answer_id": 34034792}, {"body": "<p>you can create a link <code>ln -s nodejs</code> node in <code>/usr/bin</code>\nhope this solves your problem.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/34661947#34661947", "question_id": 21168141, "answer_id": 34661947}, {"body": "<p>On Linux Mint 17, I tried both solutions (creating a symlink or using the <code>nodejs-legacy</code> package) without success. </p>\n\n<p>The only thing  that finally worked for me was using the ppa from Chris Lea: </p>\n\n<pre><code>sudo apt-get purge node-*\nsudo apt-get autoremove \nsudo add-apt-repository ppa:chris-lea/node.js\nsudo apt-get update\nsudo apt-get install nodejs\n</code></pre>\n\n<p>This installed node version 10.37 and npm 1.4.28. After that, I could install packages globally. </p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/35305026#35305026", "question_id": 21168141, "answer_id": 35305026}, {"body": "<pre><code>sudo apt-get --purge remove node\nsudo apt-get --purge remove nodejs-legacy\nsudo apt-get --purge remove nodejs\n\nsudo apt-get install nodejs-legacy\nsource ~/.profile\n</code></pre>\n\n<p>Combined the accepted answer with <code>source ~/.profile</code> from the comment that has been folded and some clean up commands before. Most likely you will also need to <code>sudo apt-get install npm</code> after.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/35858630#35858630", "question_id": 21168141, "answer_id": 35858630}, {"body": "<p>Uninstall whatever node version you have</p>\n\n<pre><code>sudo apt-get --purge remove node\nsudo apt-get --purge remove nodejs-legacy\nsudo apt-get --purge remove nodejs\n</code></pre>\n\n<p>install nvm (Node Version Manager) <a href=\"https://github.com/creationix/nvm\" rel=\"nofollow\">https://github.com/creationix/nvm</a></p>\n\n<pre><code>wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash\n</code></pre>\n\n<p>Now you can install whatever version of node you want and switch between the versions.</p>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/36133262#36133262", "question_id": 21168141, "answer_id": 36133262}, {"body": "<ol>\n<li><p>Install <code>nvm</code> first using:</p>\n\n<pre><code>curl https://raw.githubusercontent.com/creationix/nvm/v0.11.1/install.sh | bash\n</code></pre></li>\n<li><p>Run command </p>\n\n<pre><code>source ~/.profile\n</code></pre></li>\n<li><p>Now run this and this will show will all installed or other versions of packages:</p>\n\n<pre><code>nvm ls-remote\n</code></pre></li>\n<li><p>Installed packages will be in green. Install whatever version you want:</p>\n\n<pre><code>nvm install 6.0.0\n</code></pre></li>\n<li><p>Check where is not installed:</p>\n\n<pre><code>which node\n</code></pre></li>\n<li><p>Check current version:</p>\n\n<pre><code>node -v\n\nn=$(which node);\nn=${n%/bin/node}; \nchmod -R 755 $n/bin/*; \nsudo cp -r $n/{bin,lib,share} /usr/local\n</code></pre></li>\n</ol>\n", "title": "Cannot install packages using node package manager in Ubuntu", "tags": ["node.js", "ubuntu", "npm"], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu/38325376#38325376", "question_id": 21168141, "answer_id": 38325376}], "link": "http://stackoverflow.com/questions/21168141/cannot-install-packages-using-node-package-manager-in-ubuntu", "question_id": 21168141}, {"body": "<p>Why would you create a <code>\"Implicitly Unwrapped Optional\"</code> vs creating just a regular variable or constant.\nIf you know that it can be successfully unwrapped then why create an optional in the first place?\nFor example, why is this: </p>\n\n<pre><code>let someString : String! = \"this is the string\"\n</code></pre>\n\n<p>going to be more useful vs: </p>\n\n<pre><code>let someString : String = \"this is the string\"\n</code></pre>\n\n<p>If <code>\u201coptional indicate that a constant or variable is allowed to have 'no value'\u201d</code>, but <code>\u201csometimes it is clear from a program\u2019s structure that an optional will always have a value after that value is first set\u201d</code>, what is the point of making it an optional in the first place?\nIf you know an optional is always going to have a value... Doesn't that make it.... not optional?</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "answers": [{"body": "<p>Consider the case of an object that may have nil properties while it's being constructed and configured, but is immutable and non-nil afterwards (NSImage is often treated this way, though in its case it's still useful to mutate sometimes). Implicitly unwrapped optionals would clean up its code a good deal, with relatively low loss of safety (as long as the one guarantee held, it would be safe). </p>\n\n<p>(Edit) To be clear though: regular optionals are nearly always preferable.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/24007032#24007032", "question_id": 24006975, "answer_id": 24007032}, {"body": "<p>One-line (or several-line) simple examples don't cover the behavior of optionals very well \u2014 yeah, if you declare a variable and provide it with a value right away, there's no point in an optional. </p>\n\n<p>The best case I've seen so far is setup that happens after object initialization, followed by use that's \"guaranteed\" to follow that setup, e.g. in a view controller:</p>\n\n<pre><code>class MyViewController: UIViewController {\n\n    var screenSize: CGSize?\n\n    override func viewDidLoad {\n        super.viewDidLoad()\n        screenSize = view.frame.size\n    }\n\n    @IBAction printSize(sender: UIButton) {\n        println(\"Screen size: \\(screenSize!)\")\n    }\n}\n</code></pre>\n\n<p>We know <code>printSize</code> will be called after the view is loaded \u2014 it's an action method hooked up to a control inside that view, and we made sure not to call it otherwise. So we can save ourselves some optional-checking/binding with the <code>!</code>. Swift can't recognize that guarantee (at least until Apple solves the halting problem), so you tell the compiler it exists. </p>\n\n<p>This breaks type safety to some degree, though. Anyplace you have an implicitly unwrapped optional is a place your app can crash if your \"guarantee\" doesn't always hold, so it's a feature to use sparingly. Besides, using <code>!</code> all the time makes it sound like you're yelling, and nobody likes that.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/24007117#24007117", "question_id": 24006975, "answer_id": 24007117}, {"body": "<p>Implicitly unwrapped optionals are useful for presenting a property as non-optional when really it needs to be optional under the covers.  This is often necessary for \"tying the knot\" between two related objects that each need a reference to the other.  It makes sense when neither reference is <em>actually</em> optional, but one of them needs to be nil while the pair is being initialized.</p>\n\n<p>For example:</p>\n\n<pre><code>// These classes are buddies that never go anywhere without each other\nclass B {\n    var name : String\n    weak var myBuddyA : A!\n    init(name : String) {\n        self.name = name\n    }\n}\n\nclass A {\n    var name : String\n    var myBuddyB : B\n    init(name : String) {\n        self.name = name\n        myBuddyB = B(name:\"\\(name)'s buddy B\")\n        myBuddyB.myBuddyA = self\n    }\n}\n\nvar a = A(name:\"Big A\")\nprintln(a.myBuddyB.name)   // prints \"Big A's buddy B\"\n</code></pre>\n\n<p>Any <code>B</code> instance should always have a valid <code>myBuddyA</code> reference, so we don't want to make the user treat it as optional, but we need it to be optional so that we can construct a <code>B</code> before we have an <code>A</code> to refer to.</p>\n\n<p>HOWEVER!  This sort of mutual reference requirement is often an indication of tight coupling and poor design.  If you find yourself relying on implicitly unwrapped optionals you should probably consider refactoring to eliminate the cross-dependencies.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/24026196#24026196", "question_id": 24006975, "answer_id": 24026196}, {"body": "<p>The rationale of implicit optionals is easier to explain by first looking at the rationale for forced unwrapping.</p>\n\n<p>Forced unwrapping of an optional (implicit or not), using the ! operator, means you're certain that your code has no bugs and the optional already has a value where it is being unwrapped. Without the ! operator, you would probably just assert with an optional binding:</p>\n\n<pre><code> if let value = optionalWhichTotallyHasAValue {\n     println(\"\\(value)\")\n } else {\n     assert(false)\n }\n</code></pre>\n\n<p>which is not as nice as</p>\n\n<pre><code>println(\"\\(value!)\")\n</code></pre>\n\n<p>Now, implicit optionals let you express having an optional which you expect to <em>always</em> to have a value when unwrapped, in all possible flows. So it just goes a step further in helping you - by relaxing the requirement of writing the ! to unwrap each time, and ensuring that the runtime will still error in case your assumptions about the flow are wrong.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/24026364#24026364", "question_id": 24006975, "answer_id": 24026364}, {"body": "<p>Implicitly unwrapped optionals are pragmatic compromise to make the work in hybrid environment that has to interoperate with existing Cocoa frameworks and their conventions more pleasant, while also allowing for stepwise migration into safer programing paradigm \u2014 without null pointers \u2014 enforced by the Swift compiler.</p>\n\n<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_436\">Swift book, in <em>The Basics</em> chapter, section <em>Implicitly Unwrapped Optionals</em></a> says:</p>\n\n<blockquote>\n  <p>Implicitly unwrapped optionals are useful when an optional\u2019s value is confirmed to exist immediately after the optional is first defined and can definitely be assumed to exist at every point thereafter. The primary use of implicitly unwrapped optionals in Swift is during class initialization, as described in <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-XID_60\">Unowned References and Implicitly Unwrapped Optional Properties</a>.\n  <br/>\u2026 <br/>\n  You can think of an implicitly unwrapped optional as giving permission for the optional to be unwrapped automatically whenever it is used. Rather than placing an exclamation mark after the optional\u2019s name each time you use it, you place an exclamation mark after the optional\u2019s type when you declare it.</p>\n</blockquote>\n\n<p>This comes down to use cases where the <em>non-<code>nil</code>-ness</em> of properties is established via usage convention, and can not be enforced by compiler during the class initialization. For example, the <code>UIViewController</code> properties that are initialized from NIBs or Storyboards, where the initialization is split into separate phases, but after the <code>viewDidLoad()</code> you can assume that properties generally exist. Otherwise, in order to satisfy the compiler, you had to be using the \n<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_430\">forced unwrapping</a>, \n<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-XID_432\">optional binding</a> \nor <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-XID_312\">optional chaining</a> \nonly to obscure the main purpose of the code.</p>\n\n<p>Above part from the Swift book refers also to the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-XID_60\"><em>Automatic Reference Counting</em> chapter</a>:</p>\n\n<blockquote>\n  <p>However, there is a third scenario, in which both properties should always have a value, and neither property should ever be <code>nil</code> once initialization is complete. In this scenario, it is useful to combine an unowned property on one class with an implicitly unwrapped optional property on the other class.</p>\n  \n  <p>This enables both properties to be accessed directly (without optional unwrapping) once initialization is complete, while still avoiding a reference cycle. </p>\n</blockquote>\n\n<p>This comes down to the quirks of not being a garbage collected language, therefore the breaking of retain cycles is on you as a programmer and implicitly unwrapped optionals are a tool to hide this quirk.</p>\n\n<p>That covers the \u201cWhen to use implicitly unwrapped optionals in your code?\u201d question. As an application developer, you\u2019ll mostly encounter them in method signatures of libraries written in Objective-C, which doesn\u2019t have the ability to express optional types.</p>\n\n<p>From <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-XID_31\">Using Swift with Cocoa and Objective-C, section <em>Working with nil</em></a>:</p>\n\n<blockquote>\n  <p>Because Objective-C does not make any guarantees that an object is non-nil, Swift makes all classes in argument types and return types optional in imported Objective-C APIs. Before you use an Objective-C object, you should check to ensure that it is not missing.</p>\n  \n  <p>In some cases, you might be <em>absolutely</em> certain that an Objective-C method or property never returns a <code>nil</code> object reference. To make objects in this special scenario more convenient to work with, Swift imports object types as <em>implicitly unwrapped optionals</em>. Implicitly unwrapped optional types include all of the safety features of optional types. In addition, you can access the value directly without checking for <code>nil</code> or unwrapping it yourself. When you access the value in this kind of optional type without safely unwrapping it first, the implicitly unwrapped optional checks whether the value is missing. If the value is missing, a runtime error occurs. As a result, you should always check and unwrap an implicitly unwrapped optional yourself, unless you are sure that the value cannot be missing.</p>\n</blockquote>\n\n<p>...and beyond here lay <img src=\"http://i.stack.imgur.com/mdCqJ.png\" alt=\"dragons\"></p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/24186511#24186511", "question_id": 24006975, "answer_id": 24186511}, {"body": "<p>Before I can describe the use cases for Implicitly Unwrapped Optionals, you should already understand what Optionals and Implicitly Unwrapped Optionals are in Swift. If you do not, I recommend you first read <a href=\"http://www.drewag.me/posts/what-is-an-optional-in-swift\">my article on optionals</a></p>\n\n<h1>When To Use An Implicitly Unwrapped Optional</h1>\n\n<p>There are four main reasons that one would create an Implicitly Unwrapped Optional. All have to do with defining a variable that will never be accessed when <code>nil</code> because otherwise, the Swift compiler will always force you to explicitly unwrap an Optional.</p>\n\n<h2>1. A Constant That Cannot Be Defined During Initialization</h2>\n\n<p>Every member constant must have a value by the time initialization is complete. Sometimes, a constant cannot be initialized with its correct value during initialization, but it can still be guaranteed to have a value before being accessed.</p>\n\n<p>Using an Optional variable gets around this issue because an Optional is automatically initialized with <code>nil</code> and the value it will eventually contain will still be immutable. However, it can be a pain to be constantly unwrapping a variable that you know for sure is not nil. Implicitly Unwrapped Optionals achieve the same benefits as an Optional with the added benefit that one does not have to explicitly unwrap it everywhere.</p>\n\n<p>A great example of this is when a member variable cannot be initialized in a UIView subclass until the view is loaded:</p>\n\n<pre><code>class MyView : UIView {\n    @IBOutlet var button : UIButton!\n    var buttonOriginalWidth : CGFloat!\n\n    override func awakeFromNib() {\n        self.buttonOriginalWidth = self.button.frame.size.width\n    }\n}\n</code></pre>\n\n<p>Here, you cannot calculate the original width of the button until the view loads, but you know that <code>viewDidLoad</code> will be called before any other method on the view (other than initialization). Instead of forcing the value to be explicitly unwrapped pointlessly all over your class, you can declare it as an Implicitly Unwrapped Optional.</p>\n\n<h2>2. Interacting with an Objective-C API</h2>\n\n<p>Every reference to an object in Objective-C is a pointer, which means that it can be <code>nil</code>. That means, that every interaction with an Objective-C API from Swift must use an optional where there is a reference to an object. You could use a normal Optional in every one of these cases, but if you know for sure that the reference will not be <code>nil</code>, you can save yourself unwrapping code by declaring it as an Implicitly Unwrapped Optional.</p>\n\n<p>A good example of this is a <code>UITableViewDataSource</code>:</p>\n\n<pre><code>override func tableView(tableView: UITableView!, cellForRowAtIndexPath indexPath: NSIndexPath!) -&gt; UITableViewCell? { return nil }\n</code></pre>\n\n<p>Here, you know that the method will never be called without a <code>tableView</code> or <code>indexPath</code>. It would be a waste of time to check it for <code>nil</code>. If this were a purely Swift API, one \nwould not declare it as an Optional at all.</p>\n\n<h2>3. When Your App Cannot Recover From a Variable Being <code>nil</code></h2>\n\n<p>This should be extremely rare, but if your app could literally not continue to run if a variable is <code>nil</code> when accessed, it would be a waste of time to bother testing it for <code>nil</code>. Normally if you have a condition that must absolutely be true for your app to continue running, you would use an <code>assert</code>. An Implicitly Unwrapped Optional has an assert for nil built right into it.</p>\n\n<h2>4. NSObject Initializers</h2>\n\n<p>Apple does have at least one strange case of Implicitly Unwrapped Optionals. Technically, all initializers from classes that inherit from <code>NSObject</code> return Implicitly Unwrapped Optionals. This is because initialization in Objective-C can return <code>nil</code>. That means, in some cases, that you will still want to be able to test the result of initialization for <code>nil</code>. A perfect example of this is with <code>UIImage</code> if the image does not exist:</p>\n\n<pre><code>var image : UIImage? = UIImage(named: \"NonExistentImage\")\nif image != nil {\n    println(\"image exists\")\n}\nelse {\n    println(\"image does not exist\")\n}\n</code></pre>\n\n<p>If you think there is a chance that your image does not exist and you can gracefully handle that scenario, you can declare the variable capturing the initialization explicitly as an Optional so that you can check it for <code>nil</code>. You could also use an Implicitly Unwrapped Optional here, but since you are planning to check it anyway, it is better to use a normal Optional.</p>\n\n<h1>When Not To Use An Implicitly Unwrapped Optional</h1>\n\n<h2>1. Lazily Calculated Member Variables</h2>\n\n<p>Sometimes you have a member variable that should never be nil, but it cannot be set to the correct value during initialization. One solution is to use an Implicitly Unwrapped Optional, but a better way is to use a lazy variable:</p>\n\n<pre><code>class FileSystemItem {\n}\n\nclass Directory : FileSystemItem {\n    lazy var contents : [FileSystemItem] = {\n        var loadedContents = [FileSystemItem]()\n        // load contents and append to loadedContents\n        return loadedContents\n    }()\n}\n</code></pre>\n\n<p>Now, the member variable <code>contents</code> is not initialized until the first time it is accessed. This gives the class a chance to get into the correct state before calculating the initial value.</p>\n\n<p><strong>Note:</strong> This may seem to contradict #1 from above. However, there is an important distinction to be made. The <code>buttonOriginalWidth</code> above must be set during viewDidLoad to prevent anyone changing the buttons width before the property is accessed.</p>\n\n<h2>2. Everywhere Else</h2>\n\n<p>For the most part, Implicitly Unwrapped Optionals should be avoided because if used mistakenly, your entire app will crash when it is accessed while <code>nil</code>. If you are ever not sure about whether a variable can be nil, always default to using a normal Optional. Unwrapping a variable that is never <code>nil</code> certainly doesn't hurt very much.</p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/24583157#24583157", "question_id": 24006975, "answer_id": 24583157}, {"body": "<p>I think forced unwrapping are considered as evil for no reason.</p>\n\n<p>Forced unwrapping optionals are much better than dealing with silent failures. If you think a value should never be nil, force unwrap it, as it will provide a nil check during the runtime. Its similar to NSParameterAssert() in objectiveC.</p>\n\n<p>I would rather prefer fastFail than dealing with the silent failures due to <code>if let</code></p>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/30814143#30814143", "question_id": 24006975, "answer_id": 30814143}, {"body": "<p>Apple gives a great example in <em>The Swift Programming Language</em> -> <strong>Automatic Reference Counting</strong> -> <strong>Resolving Strong Reference Cycles Between Class Instances</strong> -> <strong>Unowned References and Implicitly Unwrapped Optional Properties</strong></p>\n\n<pre><code>class Country {\n    let name: String\n    var capitalCity: City! // Apple finally correct this line until 2.0 Prerelease (let -&gt; var)\n    init(name: String, capitalName: String) {\n        self.name = name\n        self.capitalCity = City(name: capitalName, country: self)\n    }\n}\n\nclass City {\n    let name: String\n    unowned let country: Country\n    init(name: String, country: Country) {\n        self.name = name\n        self.country = country\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The initializer for <code>City</code> is called from within the initializer for <code>Country</code>. However, the initializer for <code>Country</code> cannot pass <code>self</code> to the <code>City</code> initializer until a new <code>Country</code> instance is fully initialized, as described in <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID220\">Two-Phase Initialization</a>. </p>\n  \n  <p>To cope with this requirement, you declare the <code>capitalCity</code> property of <code>Country</code> as an implicitly unwrapped optional property.</p>\n</blockquote>\n", "title": "Why create &quot;Implicitly Unwrapped Optionals&quot;?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals/32047317#32047317", "question_id": 24006975, "answer_id": 32047317}], "link": "http://stackoverflow.com/questions/24006975/why-create-implicitly-unwrapped-optionals", "question_id": 24006975}, {"body": "<p>I am trying to build a backup and restore solution for the docker containers that we work with.</p>\n\n<p>I have docker base image that I have created <code>ubuntu:base</code> and do not want have to rebuild it each time with a dockerfile to add files to it.</p>\n\n<p>I want to create a script that runs from the host machine and creates a new container using the <code>ubuntu:base</code> docker image and then copies files into that container. But I am stuck copy files on the container </p>\n\n<p>How can I copy files from the host to the container?</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "answers": [{"body": "<p>The following is a fairly ugly way of doing it but it works.</p>\n\n<pre><code>docker run -i ubuntu /bin/bash -c 'cat &gt; file' &lt; file\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/24167546#24167546", "question_id": 22907231, "answer_id": 24167546}, {"body": "<p>My solution is simply</p>\n\n<p>docker shell:</p>\n\n<pre><code>root@123abc:/root#  &lt;-- get the container ID\n</code></pre>\n\n<p>from the host:</p>\n\n<pre><code>cp thefile.txt /var/lib/docker/devicemapper/mnt/123abc&lt;bunch-o-hex&gt;/rootfs/root \n</code></pre>\n\n<p>That is, I copy the file directly to where the container sits on the filesystem.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/24371401#24371401", "question_id": 22907231, "answer_id": 24371401}, {"body": "<p>I simple copy the file directly from where the container is located from the host machine.</p>\n\n<p>Eg:</p>\n\n<p>First find out what is the container id.</p>\n\n<p><code>root@**3aed62678d54**:/home#</code></p>\n\n<p>And then from the host, let's say the file is in the home directory.</p>\n\n<p><code>root@saasdock:/home/dnepangue# cp cheering_nasa.gif /var/lib/docker/aufs/mnt/**3aed62678d54**a5df47a4a00a58bb0312009c2902f8a37498a1427052e8ac454b/home/</code></p>\n\n<p>Back to the container..</p>\n\n<p><code>root@**3aed62678d54**:/home# ls\n    cheering_nasa.gif</code></p>\n\n<p>Thanks. :)</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/24647181#24647181", "question_id": 22907231, "answer_id": 24647181}, {"body": "<ol>\n<li><p>Get container name or short container id :</p>\n\n<pre><code>$ docker ps\n</code></pre></li>\n<li><p>Get full container id</p>\n\n<pre><code>$ docker inspect -f   '{{.Id}}'  SHORT_CONTAINER_ID-or-CONTAINER_NAME\n</code></pre></li>\n<li><p>copy file :</p>\n\n<pre><code>$ sudo cp path-file-host /var/lib/docker/aufs/mnt/FULL_CONTAINER_ID/PATH-NEW-FILE \n</code></pre></li>\n</ol>\n\n<p><strong>EXAMPLE :</strong> </p>\n\n<pre><code>$ docker ps\n\nCONTAINER ID      IMAGE    COMMAND       CREATED      STATUS       PORTS        NAMES\n\nd8e703d7e303   solidleon/ssh:latest      /usr/sbin/sshd -D                      cranky_pare\n\n$ docker inspect -f   '{{.Id}}' cranky_pare\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$ docker inspect -f   '{{.Id}}' d8e703d7e303\n\nd8e703d7e3039a6df6d01bd7fb58d1882e592a85059eb16c4b83cf91847f88e5\n\n$ sudo cp file.txt /var/lib/docker/aufs/mnt/**d8e703d7e3039a6df6d01bd7fb58d1882e592a85059eb16c4b83cf91847f88e5**/root/file.txt\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/24805696#24805696", "question_id": 22907231, "answer_id": 24805696}, {"body": "<p>The best way for copying files to the container I found is mounting a directory on host using <code>-v</code> option of docker run command.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/25068959#25068959", "question_id": 22907231, "answer_id": 25068959}, {"body": "<p>The cleanest way is to mount a host dir on the container before running your command.</p>\n\n<pre><code>{host} docker run -v /path/to/hostdir:/mnt --name my_container my_image\n{host} docker exec -it my_container bash\n{container} cp /mnt/sourcefile /path/to/destfile\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/25274352#25274352", "question_id": 22907231, "answer_id": 25274352}, {"body": "<p>Where you don't have a directory defined as a volume in the Dockerfile, the /var/lib/docker/aufs/mnt// will work. But there are cases where the directory within the container is defined as a volume. In this case, the contents under aufs/mnt/*/ and the contents seen by the container are different.</p>\n\n<p>You will need to inspect the container using docker inspect  and then, look for volumes. There you will find a mention for something like /var/lib/docker/vfs/dir/fe940b... (the id). You will need to add/modify the files here instead of under aufs/mnt/*.</p>\n\n<p>The confusing part is that the files also appear under /aufs/mnt/*. I spent quite a while scratching my head why changes here didn't work for me. Hope this helps someone.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/26084057#26084057", "question_id": 22907231, "answer_id": 26084057}, {"body": "<p>Quick and easy way: (assuming the container is already running)</p>\n\n<pre><code># cat /path/to/host/file/ | docker exec -i -t &lt;container_id&gt; bash -c \"/bin/cat &gt; /path/to/container/file\"\n</code></pre>\n\n<p>That said, sharing files through a shared directory is far easier, but you need to run your container appropriately:</p>\n\n<pre><code># docker run -v /path/to/host/dir:/path/to/container/dir ...\n</code></pre>\n\n<p>Note: you might encounter problems with permissions as container users are not the same as the host's users.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/26881855#26881855", "question_id": 22907231, "answer_id": 26881855}, {"body": "<p>There are good answers but too specific. I find out <code>docker ps</code> is good way to get container id you're interested in. Then do \n<code>\nmount | grep &lt;id&gt;\n</code> to see where the volume is mounted. That's \n<code>\n/var/lib/docker/devicemapper/mnt/&lt;id&gt;/rootfs/\n</code> for me but might be a different path depending on OS and configuration. Now simply copy files to that path.</p>\n\n<p>Using <code>-v</code> is not always practical.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/26886779#26886779", "question_id": 22907231, "answer_id": 26886779}, {"body": "<p>Try <code>docker cp</code>, usage:</p>\n\n<pre><code>docker cp CONTAINER:PATH HOSTPATH\n</code></pre>\n\n<p>It copies files/folders from <code>PATH</code> to the <code>HOSTPATH</code></p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/27930517#27930517", "question_id": 22907231, "answer_id": 27930517}, {"body": "<p>My favorite method:</p>\n\n<h1>CONTAINERS:</h1>\n\n<pre><code>CONTAINER_ID=$(docker ps | grep &lt;string&gt; | awk '{ print $1 }' | xargs docker inspect -f '{{.Id}}')\n</code></pre>\n\n<h3>file.txt</h3>\n\n<pre><code>mv -f file.txt /var/lib/docker/devicemapper/mnt/$CONTAINER_ID/rootfs/root/file.txt\n</code></pre>\n\n<p>or </p>\n\n<pre><code>mv -f file.txt /var/lib/docker/aufs/mnt/$CONTAINER_ID/rootfs/root/file.txt\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/27976618#27976618", "question_id": 22907231, "answer_id": 27976618}, {"body": "<p>If you need to do this on a running container you can use docker exec (added in 1.3).</p>\n\n<p>First, find the container's name or ID:</p>\n\n<pre><code>$ docker ps\nCONTAINER ID        IMAGE                        COMMAND             CREATED             STATUS              PORTS                   NAMES\nb9b7400ddd8f        ubuntu:latest                \"/bin/bash\"         2 seconds ago       Up 2 seconds                                elated_hodgkin\n</code></pre>\n\n<p>In the example above we can either use <code>b9b7400ddd8f</code> or <code>elated_hodgkin</code>.</p>\n\n<p>If you wanted to copy everything in <code>/tmp/somefiles</code> on the host to <code>/var/www</code> in the container:</p>\n\n<pre><code>$ cd /tmp/somefiles\n$ tar -cv * | docker exec -i elated_hodgkin tar x -C /var/www\n</code></pre>\n\n<p>We can then exec <code>/bin/bash</code> in the container and verify it worked:</p>\n\n<pre><code>$ docker exec -it elated_hodgkin /bin/bash\nroot@b9b7400ddd8f:/# ls /var/www\nfile1  file2\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/28123384#28123384", "question_id": 22907231, "answer_id": 28123384}, {"body": "<p>Another solution for copying files into a running container is using tar:</p>\n\n<pre><code>tar -c foo.sh | docker exec -i theDockerContainer /bin/tar -C /tmp -x\n</code></pre>\n\n<p>Copies the file <code>foo.sh</code> into <code>/tmp</code> of the container.</p>\n\n<p>Edit: Remove reduntant <code>-f</code>, thanks to <a href=\"http://stackoverflow.com/users/636974/maarten\">Maarten</a>s comment.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/29774145#29774145", "question_id": 22907231, "answer_id": 29774145}, {"body": "<p>Actually, you can get all containers filesystem in <code>/var/lib/docker/aufs/YOUR DOCKER ID/</code>, so you can sudo copy your source directory/file to any part of your container fs as shown below:</p>\n\n<p><code>sudo cp -r mydir/ /var/lib/docker/aufs/mnt/2a6bfc9ecd32a81504ff853fc0a5144e1314624a6d7259eac010f9597ec600b4/mnt/</code></p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/30490190#30490190", "question_id": 22907231, "answer_id": 30490190}, {"body": "<p>Many that find this question may actually have the problem of copying files into a docker image <em>while it is being created</em>. (I did)</p>\n\n<p>In that case you can use the <code>COPY</code> command in the <code>Dockerfile</code> that you use to create the image.</p>\n\n<p><a href=\"https://docs.docker.com/reference/builder/#copy\" rel=\"nofollow\">See the documentation</a>.</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/30788804#30788804", "question_id": 22907231, "answer_id": 30788804}, {"body": "<p>To copy a file <strong>from host to running container</strong></p>\n\n<pre><code>docker exec -i $CONTAINER /bin/bash -c \"cat &gt; $CONTAINER_PATH\" &lt; $HOST_PATH\n</code></pre>\n\n<hr>\n\n<p><em>Based on <a href=\"http://stackoverflow.com/a/24167546/2093341\">Erik's answer</a> and Mikl's and z0r's comments.</em></p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/31157125#31157125", "question_id": 22907231, "answer_id": 31157125}, {"body": "<p>Create a new dockerfile and use the existing image as your base.</p>\n\n<pre><code>FROM myName/myImage:latest\n\nADD myFile.py bin/myFile.py\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>docker build .\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/31303405#31303405", "question_id": 22907231, "answer_id": 31303405}, {"body": "<p>You can just trace the ip address of your local machine using</p>\n\n<pre><code>ifconfig\n</code></pre>\n\n<p>then just enter into your docker container and type </p>\n\n<pre><code>scp user_name@ip_address:/path_to_the_file destination\n</code></pre>\n\n<p>In any case if you don't have ssh client and server installed just install it using `</p>\n\n<pre><code>sudo apt-get install openssh-server\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/31747554#31747554", "question_id": 22907231, "answer_id": 31747554}, {"body": "<p>With docker 1.8 docker cp is able to copy files from host to container,  see <a href=\"http://blog.docker.com/2015/08/docker-1-8-content-trust-toolbox-registry-orchestration/\" rel=\"nofollow\">docker blog</a></p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/31971654#31971654", "question_id": 22907231, "answer_id": 31971654}, {"body": "<p>The <code>cp</code> command can be used for that. For example:</p>\n\n<pre><code>docker cp foo.txt mycontainer:/foo.txt\ndocker cp mycontainer:/foo.txt foo.txt\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.docker.com/engine/reference/commandline/cp/\">Docker CLI docs for <code>cp</code></a> </p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/31971697#31971697", "question_id": 22907231, "answer_id": 31971697}, {"body": "<p>This is an direct answer to the question 'Copying files from host to docker container' raised in this thread in the title.</p>\n\n<p>Try <code>docker cp</code>, it is the easiest way to do that and works even on my mac, usage:</p>\n\n<pre><code>docker cp /root/some-file.txt some-docker-container:/root\n</code></pre>\n\n<p>This will copy the file <code>some-file.txt</code> in the directory <code>/root</code> on your host machine into the docker container named <code>some-docker-container</code> into the directory <code>/root</code>. Very close to the secure copy syntax. And as shown in the previous post, you can use it vice versa. I.e., you also copy files from the container to the host.</p>\n\n<p>And before you downlink this post, please enter <code>docker cp --help</code>. Reading the documentation can be very helpful, sometimes ... </p>\n\n<p>If you don't like that way and you want data volumes in your already created and running container, then recreation is your only option today. See also <a href=\"http://stackoverflow.com/questions/28302178/how-can-i-add-a-volume-to-an-existing-docker-container\">How can I add a volume to an existing Docker container?</a></p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/32740690#32740690", "question_id": 22907231, "answer_id": 32740690}, {"body": "<p>I'd mount and then run the image with a daemon, just any as given here;</p>\n\n<pre><code>docker run -d -v /blah1/blah2:/mnt --name mntcontainer ubuntu /bin/sh -c \"while true; do echo hello world; sleep 1; done\"\n</code></pre>\n\n<p>then</p>\n\n<pre><code>docker exec -it mntcontainer bash\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/35120941#35120941", "question_id": 22907231, "answer_id": 35120941}, {"body": "<p>If host <code>CentOS</code> or <code>Fedora</code> , there is a proxy NOT in <code>/var/lib/docker/aufs</code> , but it is under <code>/proc</code> </p>\n\n<pre><code>cp -r /home/user/mydata/* /proc/`docker inspect --format \"{{.State.Pid}}\" &lt;containerid&gt;`/root\n</code></pre>\n\n<p>This cmd will copy  all contents of  <code>data</code> directory to <code>/</code> of container with id is \"containerid\"</p>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/35604379#35604379", "question_id": 22907231, "answer_id": 35604379}, {"body": "<p><code>tar</code> and <code>docker cp</code> are a good combo for copying everything in a directory.</p>\n\n<p>Create a data volume container</p>\n\n<pre><code>docker create --name dvc --volume /path/on/container cirros\n</code></pre>\n\n<p>To preserve the directory hierarchy</p>\n\n<pre><code>tar -c -C /path/on/local/machine . | docker cp - dvc:/path/on/container\n</code></pre>\n\n<p>Check your work</p>\n\n<pre><code>docker run --rm --volumes-from dvc cirros ls -al /path/on/container\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/37123112#37123112", "question_id": 22907231, "answer_id": 37123112}, {"body": "<p>Another workaround is using the good old <code>scp</code>. This is useful in the case you need to copy a directory.</p>\n\n<p>From your host run:</p>\n\n<pre><code>scp FILE_PATH_ON_YOUR_HOST IP_CONTAINER:DESTINATION_PATH\nscp foo.txt 172.17.0.2:foo.txt\n</code></pre>\n\n<p>In the case you need to copy a directory:</p>\n\n<pre><code>scp -r DIR_PATH_ON_YOUR_HOST IP_CONTAINER:DESTINATION_PATH\nscp -r directory 172.17.0.2:directory\n</code></pre>\n\n<p>be sure to install ssh into your container too.</p>\n\n<pre><code>apt-get install openssh-server\n</code></pre>\n", "title": "Copying files from host to docker container", "tags": ["shell", "copy", "restore", "docker"], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container/39205320#39205320", "question_id": 22907231, "answer_id": 39205320}], "link": "http://stackoverflow.com/questions/22907231/copying-files-from-host-to-docker-container", "question_id": 22907231}, {"body": "<p>I've gone through the <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/BuildingCocoaApps.pdf\">iBook</a> from Apple, and couldn't find any definition of it :</p>\n\n<p>Can someone explain the structure of <code>dispatch_after</code>?</p>\n\n<pre><code>dispatch_after(&lt;#when: dispatch_time_t#&gt;, &lt;#queue: dispatch_queue_t?#&gt;, &lt;#block: dispatch_block_t?#&gt;)\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "answers": [{"body": "<p>A clearer idea of the structure:</p>\n\n<pre><code>dispatch_after(when: dispatch_time_t, queue: dispatch_queue_t, block: dispatch_block_t?)\n</code></pre>\n\n<p><code>dispatch_time_t</code> is a <code>UInt64</code>. The <code>dispatch_queue_t</code> is actually type aliased to an <code>NSObject</code>, but you should just use your familiar GCD methods to get queues. The block is a Swift closure. Specifically, <code>dispatch_block_t</code> is defined as <code>() -&gt; Void</code>, which is equivalent to <code>() -&gt; ()</code>.</p>\n\n<p>Example usage:</p>\n\n<pre><code>let delayTime = dispatch_time(DISPATCH_TIME_NOW, Int64(1 * Double(NSEC_PER_SEC)))\ndispatch_after(delayTime, dispatch_get_main_queue()) {\n    print(\"test\")\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I recommend using <a href=\"http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24318861#24318861\">@matt's really nice <code>delay</code> function</a>.</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>In Swift 3, there will be new wrappers for GCD. See here: <a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0088-libdispatch-for-swift3.md\">https://github.com/apple/swift-evolution/blob/master/proposals/0088-libdispatch-for-swift3.md</a></p>\n\n<p>The original example would be written as follows in Swift 3:</p>\n\n<pre><code>let deadlineTime = DispatchTime.now() + .seconds(1)\nDispatchQueue.main.asyncAfter(deadline: deadlineTime) {\n    print(\"test\")\n}\n</code></pre>\n\n<p>Note that you can write the <code>deadlineTime</code> declaration as <code>DispatchTime.now() + 1.0</code> and get the same result because the <code>+</code> operator is overridden as follows (similarly for <code>-</code>):</p>\n\n<ul>\n<li><code>func +(time: DispatchTime, seconds: Double) -&gt; DispatchTime</code></li>\n<li><code>func +(time: DispatchWalltime, interval: DispatchTimeInterval) -&gt; DispatchWalltime</code></li>\n</ul>\n\n<p>This means that if you don't use the <code>DispatchTimeInterval</code> <code>enum</code> and just write a number, it is assumed that you are using seconds.</p>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24034838#24034838", "question_id": 24034544, "answer_id": 24034838}, {"body": "<p>To expand on Cezary's answer, which will execute after 1 nanosecond, I had to do the following to execute after 4 and a half seconds.</p>\n\n<pre><code>    let delay = 4.5 * Double(NSEC_PER_SEC)\n    let time = dispatch_time(DISPATCH_TIME_NOW, Int64(delay))\n    dispatch_after(time, dispatch_get_main_queue(), block)\n</code></pre>\n\n<p>Edit: I discovered that my original code was slightly wrong.  Implicit typing causes a compile error if you don't cast NSEC_PER_SEC to a Double.</p>\n\n<p>If anyone can suggest a more optimal solution I'd be keen to hear it.</p>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24047459#24047459", "question_id": 24034544, "answer_id": 24047459}, {"body": "<p>I use <code>dispatch_after</code> so often that I wrote a top-level utility function to make the syntax simpler:</p>\n\n<pre><code>func delay(delay:Double, closure:()-&gt;()) {\n    dispatch_after(\n        dispatch_time(\n            DISPATCH_TIME_NOW,\n            Int64(delay * Double(NSEC_PER_SEC))\n        ),\n        dispatch_get_main_queue(), closure)\n}\n</code></pre>\n\n<p>And now you can talk like this:</p>\n\n<pre><code>delay(0.4) {\n    // do stuff\n}\n</code></pre>\n\n<p>Wow, a language where you can improve the language. What could be better?</p>\n\n<hr>\n\n<h3>Update for Swift 3, Xcode 8 Seed 6</h3>\n\n<p>Seems almost not worth bothering with, now that they've improved the calling syntax:</p>\n\n<pre><code>func delay(_ delay:Double, closure:@escaping ()-&gt;()) {\n    let when = DispatchTime.now() + delay\n    DispatchQueue.main.asyncAfter(deadline: when, execute: closure)\n}\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24318861#24318861", "question_id": 24034544, "answer_id": 24318861}, {"body": "<p><a href=\"http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/24318861#24318861\">matt's syntax</a> is very nice and if you need to invalidate the block, you may want to use this :</p>\n\n<pre><code>typealias dispatch_cancelable_closure = (cancel : Bool) -&gt; Void\n\nfunc delay(time:NSTimeInterval, closure:()-&gt;Void) -&gt;  dispatch_cancelable_closure? {\n\n    func dispatch_later(clsr:()-&gt;Void) {\n        dispatch_after(\n            dispatch_time(\n                DISPATCH_TIME_NOW,\n                Int64(time * Double(NSEC_PER_SEC))\n            ),\n            dispatch_get_main_queue(), clsr)\n    }\n\n    var closure:dispatch_block_t? = closure\n    var cancelableClosure:dispatch_cancelable_closure?\n\n    let delayedClosure:dispatch_cancelable_closure = { cancel in\n        if closure != nil {\n            if (cancel == false) {\n                dispatch_async(dispatch_get_main_queue(), closure!);\n            }\n        }\n        closure = nil\n        cancelableClosure = nil\n    }\n\n    cancelableClosure = delayedClosure\n\n    dispatch_later {\n        if let delayedClosure = cancelableClosure {\n            delayedClosure(cancel: false)\n        }\n    }\n\n    return cancelableClosure;\n}\n\nfunc cancel_delay(closure:dispatch_cancelable_closure?) {\n\n    if closure != nil {\n        closure!(cancel: true)\n    }\n}\n</code></pre>\n\n<p>Use as follow </p>\n\n<pre><code>let retVal = delay(2.0) {\n    println(\"Later\")\n}\ndelay(1.0) {\n    cancel_delay(retVal)\n}\n</code></pre>\n\n<p><a href=\"http://sebastienthiebaud.us/blog/ios/gcd/block/2014/04/09/diggint-into-gcd-1-cancel-dispatch-after.html\">credits</a></p>\n\n<p><em>Link above seems to be down. <a href=\"https://github.com/SebastienThiebaud/dispatch_cancelable_block\">Original Objc code from Github</a></em></p>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/25120393#25120393", "question_id": 24034544, "answer_id": 25120393}, {"body": "<p>Another way is to extend Double like this:</p>\n\n<pre><code>extension Double {\n   var dispatchTime: dispatch_time_t {\n       get {\n           return dispatch_time(DISPATCH_TIME_NOW,Int64(self * Double(NSEC_PER_SEC)))\n       }\n   }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>dispatch_after(Double(2.0).dispatchTime, dispatch_get_main_queue(), { () -&gt; Void in\n            self.dismissViewControllerAnimated(true, completion: nil)\n    })\n</code></pre>\n\n<p>I like matt's delay function but just out of preference I'd rather limit passing closures around.</p>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/26858092#26858092", "question_id": 24034544, "answer_id": 26858092}, {"body": "<p>Apple has a <em>dispatch_after snippet</em> for <strong>Objective-C</strong>:</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(&lt;#delayInSeconds#&gt; * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n    &lt;#code to be executed after a specified delay#&gt;\n});\n</code></pre>\n\n<p>Here is the same snippet ported to <strong>Swift</strong>:</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, Int64(&lt;#delayInSeconds#&gt; * NSEC_PER_SEC)), dispatch_get_main_queue()) {\n    &lt;#code to be executed after a specified delay#&gt;\n}\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/33662602#33662602", "question_id": 24034544, "answer_id": 33662602}, {"body": "<p>use this code to perform some UI related task after 2.0 seconds.</p>\n\n<pre><code>            let delay = 2.0\n            let delayInNanoSeconds = dispatch_time(DISPATCH_TIME_NOW, Int64(delay * Double(NSEC_PER_SEC)))\n            let mainQueue = dispatch_get_main_queue()\n\n            dispatch_after(delayInNanoSeconds, mainQueue, {\n\n                print(\"Some UI related task after delay\")\n            })\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/34929008#34929008", "question_id": 24034544, "answer_id": 34929008}, {"body": "<p>1) Add this method as a part of UIViewController Extension.</p>\n\n<pre><code>extension UIViewController{\nfunc runAfterDelay(delay: NSTimeInterval, block: dispatch_block_t) {\n        let time = dispatch_time(DISPATCH_TIME_NOW, Int64(delay * Double(NSEC_PER_SEC)))\n        dispatch_after(time, dispatch_get_main_queue(), block)\n    }\n}\n</code></pre>\n\n<p>Call this method on VC:     </p>\n\n<pre><code>    self.runAfterDelay(5.0, block: {\n     //Add code to this block\n        print(\"run After Delay Success\")\n    })\n</code></pre>\n\n<p>2) performSelector(\"yourMethod Name\", withObject: nil, afterDelay: 1)</p>\n\n<p>3) </p>\n\n<pre><code>override func viewWillAppear(animated: Bool) {\n\ndispatch_after(dispatch_time(DISPATCH_TIME_NOW, 2), dispatch_get_main_queue(), { () -&gt; () in\n    //Code Here\n})\n</code></pre>\n\n<p>//Compact Form</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, 2), dispatch_get_main_queue()) {\n    //Code here\n}\n</code></pre>\n\n<p>}</p>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/35428359#35428359", "question_id": 24034544, "answer_id": 35428359}, {"body": "<p>Although not the original question by the OP, certain <code>NSTimer</code> related questions have been marked as duplicates of this question, so it is worth including an <code>NSTimer</code> answer here.</p>\n\n<h1><code>NSTimer</code> vs <code>dispatch_after</code></h1>\n\n<ul>\n<li><code>NSTimer</code> is more high level while <code>dispatch_after</code> is more low level.</li>\n<li><code>NSTimer</code> is easier to cancel. Canceling <code>dispatch_after</code> requires writing <a href=\"http://stackoverflow.com/a/25120393/3681880\">more code</a>.</li>\n</ul>\n\n<h1>Delaying a task with <code>NSTimer</code></h1>\n\n<p>Create an <code>NSTimer</code> instance.</p>\n\n<pre><code>var timer = NSTimer()\n</code></pre>\n\n<p>Start the timer with the delay that you need.</p>\n\n<pre><code>// invalidate the timer if there is any chance that it could have been called before\ntimer.invalidate()\n// delay of 2 seconds\ntimer = NSTimer.scheduledTimerWithTimeInterval(2.0, target: self, selector: #selector(delayedAction), userInfo: nil, repeats: false) \n</code></pre>\n\n<p>Add a function to be called after the delay (using whatever name you used for the <code>selector</code> parameter above).</p>\n\n<pre><code>func delayedAction() {\n    print(\"Delayed action has now started.\"\n}\n</code></pre>\n\n<h1>Notes</h1>\n\n<ul>\n<li>If you need to cancel the action before it happens, simply call <code>timer.invalidate()</code>.</li>\n<li>For a repeated action use <code>repeats: true</code>. </li>\n<li><p>If you have a one time event with no need to cancel then there is no need to create the <code>timer</code> instance variable. The following will suffice:</p>\n\n<pre><code>NSTimer.scheduledTimerWithTimeInterval(2.0, target: self, selector: #selector(delayedAction), userInfo: nil, repeats: false) \n</code></pre></li>\n<li><p>See my fuller answer <a href=\"http://stackoverflow.com/a/34088708/3681880\">here</a>.</p></li>\n</ul>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/37247881#37247881", "question_id": 24034544, "answer_id": 37247881}, {"body": "<p>Another helper to delay your code that is <strong>100% Swift in usage</strong> and optionally allows for <strong>choosing a different thread</strong> to run your delayed code from:</p>\n\n<pre><code>func delay(bySeconds seconds: Double, dispatchLevel: DispatchLevel = .Main, closure: () -&gt; Void) {\n    let dispatchTime = dispatch_time(DISPATCH_TIME_NOW, Int64(seconds * Double(NSEC_PER_SEC)))\n    dispatch_after(dispatchTime, dispatchLevel.dispatchQueue, closure)\n}\n\nenum DispatchLevel {\n    case Main, UserInteractive, UserInitiated, Utility, Background\n    var dispatchQueue: OS_dispatch_queue {\n        switch self {\n        case .Main:             return dispatch_get_main_queue()\n        case .UserInteractive:  return dispatch_get_global_queue(QOS_CLASS_USER_INTERACTIVE, 0)\n        case .UserInitiated:    return dispatch_get_global_queue(QOS_CLASS_USER_INITIATED, 0)\n        case .Utility:          return dispatch_get_global_queue(QOS_CLASS_UTILITY, 0)\n        case .Background:       return dispatch_get_global_queue(QOS_CLASS_BACKGROUND, 0) }\n    }\n}\n</code></pre>\n\n<p>Now you simply <strong>delay your code on the Main thread</strong> like this:</p>\n\n<pre><code>delay(bySeconds: 1.5) { \n    // delayed code\n}\n</code></pre>\n\n<p>If you want to <strong>delay your code to a different thread</strong>:</p>\n\n<pre><code>delay(bySeconds: 1.5, dispatchLevel: .Background) { \n    // delayed code that will run on background thread\n}\n</code></pre>\n\n<hr>\n\n<p>If you prefer a <strong>Framework</strong> that also has some more handy features then checkout <strong><a href=\"https://github.com/Flinesoft/HandySwift\" rel=\"nofollow\">HandySwift</a></strong>. You can add it to your project <strong>via Carthage</strong> then use it exactly like in the examples above, e.g.:</p>\n\n<pre><code>import HandySwift    \n\ndelay(bySeconds: 1.5) { \n    // delayed code\n}\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/37732515#37732515", "question_id": 24034544, "answer_id": 37732515}, {"body": "<p><strong>In Swift 3.0</strong> </p>\n\n<p><strong>Dispatch queues</strong></p>\n\n<pre><code>  DispatchQueue(label: \"test\").async {\n        //long running Background Task\n        for obj in 0...1000 {\n            print(\"async \\(obj)\")\n        }\n\n        // UI update in main queue\n        DispatchQueue.main.async(execute: { \n            print(\"UI update on main queue\")\n        })\n\n    }\n\n    DispatchQueue(label: \"m\").sync {\n        //long running Background Task\n        for obj in 0...1000 {\n            print(\"sync \\(obj)\")\n        }\n\n        // UI update in main queue\n        DispatchQueue.main.sync(execute: {\n            print(\"UI update on main queue\")\n        })\n    }\n</code></pre>\n\n<p><strong>Dispatch after 5 seconds</strong></p>\n\n<pre><code>    DispatchQueue.main.after(when: DispatchTime.now() + 5) {\n        print(\"Dispatch after 5 sec\")\n    }\n</code></pre>\n", "title": "dispatch_after - GCD in swift?", "tags": ["ios", "swift", "grand-central-dispatch"], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift/38366155#38366155", "question_id": 24034544, "answer_id": 38366155}], "link": "http://stackoverflow.com/questions/24034544/dispatch-after-gcd-in-swift", "question_id": 24034544}, {"body": "<p>Since Android 4.3 we can now make use of the <code>res/mipmap</code> folders to store \"mipmap\" images.</p>\n\n<p>e.g. <em>Chrome for Android</em> stores its icons in these folders instead of the more normal <code>res/drawable</code> folders.</p>\n\n<p><strong>How are these mipmap images different from the other familiar drawable images?</strong></p>\n\n<p>I see that in my manifest, we use the <code>@mipmap/</code> qualifier, instead of <code>@drawable/</code>, which makes sense given the resource folder name:</p>\n\n<pre><code>&lt;activity\n    android:name=\".MipmapDemp\"\n    android:icon=\"@mipmap/ic_launcher\" /&gt;\n</code></pre>\n\n<hr>\n\n<h2>References:</h2>\n\n<p>The <a href=\"https://developer.android.com/about/versions/android-4.3.html\">Android 4.3 APIs</a> document has the following to say:</p>\n\n<blockquote>\n  <p>Using a mipmap as the source for your bitmap or drawable is a simple\n  way to provide a quality image and various image scales, which can be\n  particularly useful if you expect your image to be scaled during an\n  animation.</p>\n  \n  <p>Android 4.2 (API level 17) added support for mipmaps in the Bitmap\n  class\u2014Android swaps the mip images in your Bitmap when you've supplied\n  a mipmap source and have enabled setHasMipMap(). Now in Android 4.3,\n  you can enable mipmaps for a BitmapDrawable object as well, by\n  providing a mipmap asset and setting the android:mipMap attribute in a\n  bitmap resource file or by calling hasMipMap().</p>\n</blockquote>\n\n<p>I don't see anything in there that helps me to understand?</p>\n\n<hr>\n\n<p><a href=\"http://developer.android.com/guide/topics/resources/drawable-resource.html#Bitmap\">XML Bitmap resources</a> have an <code>android:mipMap</code> property:</p>\n\n<blockquote>\n  <p>Boolean. Enables or disables the mipmap hint. See setHasMipMap() for\n  more information. Default value is false.</p>\n</blockquote>\n\n<p>This does not apply to launcher icons as far as I can see.</p>\n\n<hr>\n\n<p>The question was raised on Google Groups (<a href=\"https://groups.google.com/forum/#!topic/android-developers/ZUyF0JEwibs\">The purpose of resource name \"mipmap\"?!</a>), to which Romain Guy replied:</p>\n\n<blockquote>\n  <p>It's useful to provide an image at a larger resolution that would\n  normally be computed (for instance, on an mdpi device, Launcher might\n  want the larger hdpi icon to display large app shortcuts.)</p>\n</blockquote>\n\n<p>I feel like this almost makes sense of it, but not quite.</p>\n\n<p>I'm still inclined to go with Randy Sugianto's follow up:</p>\n\n<blockquote>\n  <p>What are the advantages of this?  Is there any guide how to use\n  mipmaps,  probably for better launcher icons?</p>\n</blockquote>\n\n<hr>\n\n<p>Of course, <a href=\"http://en.wikipedia.org/wiki/Mipmap\">Wikipedia has a page for \"Mipmap\"</a>, which refers to an older technique invented in 1983, that I can't quite relate to the current Android implementation.</p>\n\n<hr>\n\n<p>Should we be storing all our <strong>app icons in <code>res/mipmap</code> folders</strong> these days, and what are the <strong>guidelines</strong> for these mipmap images?</p>\n\n<hr>\n\n<p><strong>Update #1</strong> </p>\n\n<p>Here's a blog post that tries to explain it a bit. </p>\n\n<ul>\n<li><a href=\"http://programmium.wordpress.com/2014/03/20/mipmapping-for-drawables-in-android-4-3/\">Mipmapping for drawables in Android 4.3</a></li>\n</ul>\n\n<p>But the image used in that blog post shows what looks like 1 file with many logo's in it. This is not what I see in Chrome's mipmap folder. </p>\n\n<p>Chrome's <code>mipmap-hdpi</code> folder contains 3 images. One is the Chrome logo, on its own.</p>\n\n<p><img src=\"http://i.stack.imgur.com/o75PM.png\" alt=\"Chrome mipmap-hdpi icon.png\"></p>\n\n<p>Strangely, it is 72x72, not 48x48 which I would expect to see. </p>\n\n<p>Perhaps that is all there is to this - we just need to keep bigger icons in the mipmap folders?</p>\n\n<hr>\n\n<p><strong>Update #2</strong></p>\n\n<p>The Android Developers Blog post of 23/10/2014 again confirms the idea of using the <code>mipmap</code> folders for application icons:</p>\n\n<ul>\n<li><a href=\"http://android-developers.blogspot.com/2014/10/getting-your-apps-ready-for-nexus-6-and.html\">Getting Your Apps Ready for Nexus 6 and Nexus 9</a></li>\n</ul>\n\n<p>When talking about the Nexus 6 screen density, the author writes:</p>\n\n<blockquote>\n  <p>It\u2019s best practice to place your app icons in mipmap- folders (not the\n  drawable- folders) because they are used at resolutions different from\n  the device\u2019s current density. For example, an xxxhdpi app icon can be\n  used on the launcher for an xxhdpi device.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Update #3</strong></p>\n\n<p>Note that Android Studio creates the <code>ic_launcher.png</code> icons in the <code>mipmap...</code> folders rather than the <code>drawable...</code> folders that Eclipse used to create them in.</p>\n\n<hr>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "answers": [{"body": "<p>There are two distinct uses of mipmaps.</p>\n\n<p>1) For launcher icons when building density specific APKs. Some developers build separate APKs for every density, to keep the APK size down. However some launchers (shipped with some devices, or available on the Play Store) use larger icon sizes than the standard 48dp. Launchers use getDrawableForDensity and scale down if needed, rather than up, so the icons are high quality. For example on an hdpi tablet the launcher might load the xhdpi icon. By placing your launcher icon in the mipmap-xhdpi directory, it will not be stripped the way a drawable-xhdpi directory is when building an APK for hdpi devices. If you're building a single APK for all devices, then this doesn't really matter as the launcher can access the drawable resources for the desired density.</p>\n\n<p>2) The actual mipmap API from 4.3. I haven't used this and am not familiar with it. It's not used by the Android Open Source Project launchers and I'm not aware of any other launcher using.</p>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/24066445#24066445", "question_id": 23935810, "answer_id": 24066445}, {"body": "<p>The understanding I have about mipmap is more or less like this:</p>\n\n<p>When an image needs to be drawn, given we have different screen sizes are resolutions,  some scaling will have to take part.</p>\n\n<p>If you have an image that is ok for a low end cell phone, when you scale it to the size of a 10\" tablet you have to \"invent\" pixels that don't actually exist. This is done with some interpolation algorithm. The more amount of pixels that have to be invented, the longer the process takes and quality starts to fail. Best quality is obtained with more complex algorithms that take longer (average of surrounding pixles vs copy the nearest pixel for example).</p>\n\n<p>To reduce the number of pixels that have to be invented, with mipmap you provide different sizes/rsolutions of the same image, and the system will choose the nearest image to the resolution that has to be rendered and do the scaling from there. This should reduce the number of invented pixels saving resources to be used in calculating these pixels to provide a good quality image.</p>\n\n<p>I read about this in an article explaining a performance problem in libgdx when scaling images:</p>\n\n<p><a href=\"http://www.badlogicgames.com/wordpress/?p=1403\" rel=\"nofollow\">http://www.badlogicgames.com/wordpress/?p=1403</a></p>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/24096950#24096950", "question_id": 23935810, "answer_id": 24096950}, {"body": "<p>The Android implementation of mipmaps in 4.3 is exactly the technique from 1983 explained in the Wikipedia article :)</p>\n\n<blockquote>\n  <p>Each bitmap image of the mipmap set is a downsized duplicate of the\n  main texture, but at a certain reduced level of detail. Although the\n  main texture would still be used when the view is sufficient to render\n  it in full detail, the renderer will switch to a suitable mipmap image\n  (...) when the texture is viewed from a distance or at a small size.</p>\n</blockquote>\n\n<p>Although this is described as a technique for 3D graphics (as it mentions \"viewing from a distance\"), it applies just as well to 2D (translated as \"drawn is a smaller space\", i.e. \"downscaled\").</p>\n\n<p>For a concrete Android example, imagine you have a View with a certain background drawable (in particular, a <code>BitmapDrawable</code>). You now use an animation to scale it to 0.15 of its original size. Normally, this would require downscaling the background bitmap for each frame. This \"extreme\" downscaling, however, may produce visual artifacts.</p>\n\n<p>You can, however, provide a mipmap, which means that the image is already pre-rendered for a few specific scales (let's say 1.0, 0.5, and 0.25). Whenever the animation \"crosses\" the 0.5 threshold, instead of continuing to downscale the original, 1.0-sized image, it will switch to the 0.5 image and downscale it, which should provide a better result. And so forth as the animation continues.</p>\n\n<p>This is a bit theoretical, since it's actually done by the renderer. According to the source of the Bitmap class, it's just a hint, and the renderer may or may not honor it.</p>\n\n<pre><code>/**\n * Set a hint for the renderer responsible for drawing this bitmap\n * indicating that it should attempt to use mipmaps when this bitmap\n * is drawn scaled down.\n *\n * If you know that you are going to draw this bitmap at less than\n * 50% of its original size, you may be able to obtain a higher\n * quality by turning this property on.\n * \n * Note that if the renderer respects this hint it might have to\n * allocate extra memory to hold the mipmap levels for this bitmap.\n *\n * This property is only a suggestion that can be ignored by the\n * renderer. It is not guaranteed to have any effect.\n *\n * @param hasMipMap indicates whether the renderer should attempt\n *                  to use mipmaps\n *\n * @see #hasMipMap()\n */\npublic final void setHasMipMap(boolean hasMipMap) {\n    nativeSetHasMipMap(mNativeBitmap, hasMipMap);\n}\n</code></pre>\n\n<p>I'm not quite sure why this would be especially suitable for application icons, though. Although Android on tablets, as well as some launchers (e.g. GEL), request an icon \"one density higher\" to show it bigger, this is supposed to be done using the regular mechanism (i.e. <code>drawable-xxxhdpi</code>, &amp;c).</p>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/24102352#24102352", "question_id": 23935810, "answer_id": 24102352}, {"body": "<blockquote>\n  <p>One thing I mentioned in another thread that is worth pointing out -- if you are building different versions of your app for different densities, you should know about the \"mipmap\" resource directory.  This is exactly like \"drawable\" resources, except it does not participate in density stripping when creating the different apk targets.</p>\n</blockquote>\n\n<p><a href=\"https://plus.google.com/105051985738280261832/posts/QTA9McYan1L\">https://plus.google.com/105051985738280261832/posts/QTA9McYan1L</a></p>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/27995266#27995266", "question_id": 23935810, "answer_id": 27995266}, {"body": "<p>It seems Google have <strong>updated their docs</strong> since all these answers, so hopefully this will help someone else in future :) Just came across this question myself, while creating a new (new new) project.</p>\n\n<p>TL;DR: drawables may be stripped out as part of dp-specific resource optimisation. Mipmaps will not be stripped.</p>\n\n<blockquote>\n  <p>Different home screen launcher apps on different devices show app launcher icons at various resolutions. When app resource optimization techniques remove resources for unused screen densities, launcher icons can wind up looking fuzzy because the launcher app has to upscale a lower-resolution icon for display. To avoid these display issues, apps should use the <code>mipmap/</code> resource folders for launcher icons. The Android system preserves these resources regardless of density stripping, and ensures that launcher apps can pick icons with the best resolution for display.</p>\n</blockquote>\n\n<p>(from <a href=\"http://developer.android.com/tools/projects/index.html#mipmap\">http://developer.android.com/tools/projects/index.html#mipmap</a>)</p>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/30365962#30365962", "question_id": 23935810, "answer_id": 30365962}, {"body": "<pre><code>res/\nmipmap-mdpi/ic_launcher.png (48x48 pixels)\nmipmap-hdpi/ic_launcher.png (72x72)\nmipmap-xhdpi/ic_launcher.png (96x96)\nmipmap-xxhdpi/ic_launcher.png (144x144)\nmipmap-xxxhdpi/ic_launcher.png (192x192)\n</code></pre>\n\n<p>MipMap for app icon for launcher</p>\n\n<p><a href=\"http://android-developers.blogspot.co.uk/2014/10/getting-your-apps-ready-for-nexus-6-and.html\" rel=\"nofollow\">http://android-developers.blogspot.co.uk/2014/10/getting-your-apps-ready-for-nexus-6-and.html</a></p>\n\n<p><a href=\"https://androidbycode.wordpress.com/2015/02/14/goodbye-launcher-drawables-hello-mipmaps/\" rel=\"nofollow\">https://androidbycode.wordpress.com/2015/02/14/goodbye-launcher-drawables-hello-mipmaps/</a></p>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/31203284#31203284", "question_id": 23935810, "answer_id": 31203284}, {"body": "<blockquote>\n  <p>How are these mipmap images different from the other familiar drawable images?</p>\n</blockquote>\n\n<p>Here is my two cents in trying to explain the difference. There are two cases you deal with when working with images in Android:</p>\n\n<ol>\n<li><p>You want to load an image for your device density and you are going to use it \"as is\", <em>without changing its actual size</em>. In this case you should work with <strong>drawables</strong> and Android will give you the best fitting image.</p></li>\n<li><p>You want to load an image for your device density, but this image <em>is going to be scaled up or down</em>. For instance this is needed when you want to show a bigger launcher icon, or you have an animation, which increases image's size. In such cases, to ensure best image quality, you should put your image into <strong>mipmap</strong> folder. What Android will do is, it will try to pick up the image from a higher density bucket instead of scaling it up. This will increase sharpness (quality) of the image.</p></li>\n</ol>\n\n<p>Thus, the rule of thumb to decide where to put your image into would be:</p>\n\n<ul>\n<li><em>Launcher icons</em> always go into <strong>mipmap</strong> folder.</li>\n<li>Images, which are often <em>scaled up</em> (or extremely scaled down) and whose quality is critical for the app, go into <strong>mipmap</strong> folder as well.</li>\n<li><em>All other images</em> are usual <strong>drawables</strong>.</li>\n</ul>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/32328336#32328336", "question_id": 23935810, "answer_id": 32328336}, {"body": "<p>Since I was looking for an clarifying answer to this to determine the right type for notification icons, I'd like to add this clear statement to the topic. It's from <a href=\"http://developer.android.com/tools/help/image-asset-studio.html#saving\" rel=\"nofollow\">http://developer.android.com/tools/help/image-asset-studio.html#saving</a></p>\n\n<blockquote>\n  <p>Note: Launcher icon files reside in a different location from that of\n  other icons. They are located in the mipmap/ folder. <strong>All other icon\n  files reside in the drawable/ folder</strong> of your project.</p>\n</blockquote>\n", "title": "mipmap drawables for icons", "tags": ["android", "android-drawable", "mipmaps"], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons/36144245#36144245", "question_id": 23935810, "answer_id": 36144245}], "link": "http://stackoverflow.com/questions/23935810/mipmap-drawables-for-icons", "question_id": 23935810}, {"body": "<p>Here's the scenario: I've written some code with a type signature and GHC complains could not deduce x ~ y for some <code>x</code> and <code>y</code>. You can usually throw GHC a bone and simply add the isomorphism to the function constraints, but this is a bad idea for several reasons:</p>\n\n<ol>\n<li>It does not emphasize understanding the code.</li>\n<li>You can end up with 5 constraints where one would have sufficed (for example, if the 5 are implied by one more specific constraint)</li>\n<li>You can end up with bogus constraints if you've done something wrong or if GHC is being unhelpful</li>\n</ol>\n\n<p>I just spent several hours battling case 3. I'm playing with <a href=\"https://hackage.haskell.org/package/syntactic-2.0\" rel=\"nofollow\"><code>syntactic-2.0</code></a>, and I was trying to define a domain-independent version of <code>share</code>, similar to the version defined in <a href=\"https://github.com/emilaxelsson/syntactic/blob/2.0/examples/NanoFeldspar.hs\" rel=\"nofollow\"><code>NanoFeldspar.hs</code></a>.</p>\n\n<p>I had this:</p>\n\n<pre><code>{-# LANGUAGE GADTs, FlexibleContexts, TypeOperators #-}\nimport Data.Syntactic\n\n-- Based on NanoFeldspar.hs\ndata Let a where\n    Let :: Let (a :-&gt; (a -&gt; b) :-&gt; Full b)\n\nshare :: (Let :&lt;: sup,\n          Domain a ~ sup,\n          Domain b ~ sup,\n          SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi) \n      =&gt; a -&gt; (a -&gt; b) -&gt; a\nshare = sugarSym Let\n</code></pre>\n\n<p>and GHC <code>could not deduce (Internal a) ~ (Internal b)</code>, which is certainly not what I was going for. So either I had written some code I didn't intend to (which required the constraint), or GHC wanted that constraint due to some other constraints I had written.</p>\n\n<p>It turns out I needed to add <code>(Syntactic a, Syntactic b, Syntactic (a-&gt;b))</code> to the constraint list, none of which imply <code>(Internal a) ~ (Internal b)</code>. I basically stumbled upon the correct constraints; I still don't have a systematic way to find them.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Why did GHC propose that constraint? Nowhere in syntactic is there a constraint <code>Internal a ~ Internal b</code>, so where did GHC pull that from?</li>\n<li>In general, what techniques can be used to trace the origin of a constraint which GHC believes it needs? Even for constraints that I <em>can</em> discover myself, my approach is essentially brute forcing the offending path by physically writing down recursive constraints. This approach is basically going down an infinite rabbit hole of constraints and is about the least efficient method I can imagine.</li>\n</ol>\n", "title": "Techniques for Tracing Constraints", "tags": ["haskell", "constraints", "ghc"], "answers": [{"body": "<p>First of all, your function has the wrong type; I am pretty sure it should be (without the context) <code>a -&gt; (a -&gt; b) -&gt; b</code>. GHC 7.10 is somewhat more helpful in pointing that out, because with your original code, it complains about a missing constraint \n<code>Internal (a -&gt; b) ~ (Internal a -&gt; Internal a)</code>. After fixing <code>share</code>'s type, GHC 7.10 remains helpful in guiding us:</p>\n\n<ol>\n<li><p><code>Could not deduce (Internal (a -&gt; b) ~ (Internal a -&gt; Internal b))</code> </p></li>\n<li><p>After adding the above, we get <code>Could not deduce (sup ~ Domain (a -&gt; b))</code></p></li>\n<li><p>After adding that, we get <code>Could not deduce (Syntactic a)</code>, <code>Could not deduce (Syntactic b)</code> and <code>Could not deduce (Syntactic (a -&gt; b))</code></p></li>\n<li><p>After adding these three, it finally typechecks; so we end up with</p>\n\n<pre><code>share :: (Let :&lt;: sup,\n          Domain a ~ sup,\n          Domain b ~ sup,\n          Domain (a -&gt; b) ~ sup,\n          Internal (a -&gt; b) ~ (Internal a -&gt; Internal b),\n          Syntactic a, Syntactic b, Syntactic (a -&gt; b),\n          SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi)\n      =&gt; a -&gt; (a -&gt; b) -&gt; b\nshare = sugarSym Let\n</code></pre></li>\n</ol>\n\n<p>So I'd say GHC hasn't been useless in leading us.</p>\n\n<p>As for your question about tracing where GHC gets its constraint requirements from, you could try <a href=\"https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/options-debugging.html\" rel=\"nofollow\">GHC's debugging flags</a>, in particular, <code>-ddump-tc-trace</code>, and then read through the resulting log to see where <code>Internal (a -&gt; b) ~ t</code> and <code>(Internal a -&gt; Internal a) ~ t</code> are added to the <code>Wanted</code> set, but that will be quite a long read.</p>\n", "title": "Techniques for Tracing Constraints", "tags": ["haskell", "constraints", "ghc"], "link": "http://stackoverflow.com/questions/23448150/techniques-for-tracing-constraints/34805287#34805287", "question_id": 23448150, "answer_id": 34805287}], "link": "http://stackoverflow.com/questions/23448150/techniques-for-tracing-constraints", "question_id": 23448150}, {"body": "<p>After installing <strong>Xcode 6</strong> my devices moved to greyed-out section <strong><code>Ineligible Devices</code></strong> and I can't select them as deploy target:</p>\n\n<p><img src=\"http://i.stack.imgur.com/EqDpl.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Update:</strong></p>\n\n<p>This error occurs in all versions of <code>Xcode 6.x.x</code>.\nThere are so many different reasons causing this problem</p>\n\n<p>Check this <strong><a href=\"http://stackoverflow.com/a/29538173/1698467\">solution list</a></strong>  for more details.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "answers": [{"body": "<p><strong>With the release of Xcode 6.3.1, check first the Update 5</strong> </p>\n\n<ol>\n<li><strong>Verify that \"iOS Deployment Target\" is &lt;= the version of your iDevice.</strong> </li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/PDctF.png\" alt=\"enter image description here\"></p>\n\n<p>You find this option in \"Build Settings\" tab when you click on a target of your project in Xcode.</p>\n\n<p><img src=\"http://i.stack.imgur.com/OFqQM.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"2\">\n<li><p><strong>Then if does not work, try to restart Xcode. Sometimes we have to restart the Mac and iPhone/iPad. Take a look at the Updates below before restarting Xcode</strong>  </p></li>\n<li><p><strong>Update: in Yosemite, Xcode 6.0.1 does not support iOS 8.1, you have to update to Xcode 6.1 if you want to debug on iOS 8.1 device, or you will probably have the same problem as described in the topic</strong></p></li>\n<li><p><strong>Update 2:</strong> Xcode Beta 6.3 does not support iOS 8.2 (and also 8.1 - thanks @steveb). You won't see your device in deploy target list. I don't know if other versions are supported.</p></li>\n<li><p><strong>Update 3.</strong> Use Xcode 6.2 instead of Xcode 6.3 beta in order to debug with a device running iOS 8.2</p></li>\n<li><p><strong>Updated 4 :</strong> <strong>for Xcode 6.3</strong> (and eventually 6.3 beta if someone use it :) ), if you have this problem, just go to Product > Destination to select your device. Even though it says your device is ineligible, it will still allow you to select it. If your device version is >= target version, the build should work. It must be a bug for Xcode 6.3 in debug with iOS 8.3 (or maybe other iOS version) (thanks @einfach).</p></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/9PJKU.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"7\">\n<li><strong>Update 5:</strong> Apple released Xcode 6.3.1 that fix the issue of ineligible device. If you have this problem with Xcode 6.3, upgrade to XCode 6.3.1</li>\n</ol>\n\n<p>From Release Notes (Xcode 6.3.1):</p>\n\n<blockquote>\n  <p>Fixed: Devices previously listed as \"ineligible for running\u201d\n  erroneously are listed correctly. (20121178)</p>\n</blockquote>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/24039323#24039323", "question_id": 24039010, "answer_id": 24039323}, {"body": "<p>Besides setting iOS Deployment Target to iOS 8.0, also <strong>restart your iOS8 iPhone/iPad</strong>. This did the trick for me. </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/24569417#24569417", "question_id": 24039010, "answer_id": 24569417}, {"body": "<p>After trying the 2 answers above (changing deployment target and restarting my iOS device), what finally fixed it for me was restarting my Mac.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/25650500#25650500", "question_id": 24039010, "answer_id": 25650500}, {"body": "<p>I changed my deployment target to 7.1 the same as my iphone, and now I can run swift programs on it. It was on 8.0 and showed up as ineligible.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/25718589#25718589", "question_id": 24039010, "answer_id": 25718589}, {"body": "<p>I simply restarted my Mac and my iPhone 6 and the problem was solved. I never had to change my deployment target.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26105425#26105425", "question_id": 24039010, "answer_id": 26105425}, {"body": "<p>I set my \"iOS Deployment Target\" in \"Project\" and \"Targets\" from 7.1 to 8.0 and restarted Xcode (with \"Quit\") and it worked.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26139044#26139044", "question_id": 24039010, "answer_id": 26139044}, {"body": "<p>Changing your deployment target is not a good idea to solve this problem (it will change which iOS versions you support on the app store).</p>\n\n<p>What I did is restart just Xcode and it was fixed.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26231205#26231205", "question_id": 24039010, "answer_id": 26231205}, {"body": "<p>I had a similar issue and for me I had upgraded to iOS8 and also changed the name of my Xcode project.  The fix for me was to create a new scheme by selecting Manage Schemes > (+) button.</p>\n\n<p>After doing this, my list of devices returned.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26451418#26451418", "question_id": 24039010, "answer_id": 26451418}, {"body": "<p>I agree with txulu, changing the deployment target is a ridiculous idea. I need to support devices back at least one version, that is non-negotiable to me.</p>\n\n<p>Restarting my iPhone 5 after updating to iOS 8.1 and Xcode to 6.1 worked for me.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26522289#26522289", "question_id": 24039010, "answer_id": 26522289}, {"body": "<p>What worked for me is to install XCode 6.1 (compatible with iOS 8.1)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26527041#26527041", "question_id": 24039010, "answer_id": 26527041}, {"body": "<p>My iPhone has updated to iOS8.1. My Xcode version is 6.0.1, and my mac os version is 10.10. When I want to run app in my iPhone, there is a section named <code>Ineligible Devices(OS Version)</code>. Then I update Xcode to 6.1 version, solved problem. </p>\n\n<p>Part of Xcode 6.1 release note: <code>Includes SDKS for OS X 10.10 Yosemite, OS X 10.9 Mavericks, and iOS 8.1</code>.</p>\n\n<p>That is, Xcode 6.0.x don't support iOS 8.1.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26581956#26581956", "question_id": 24039010, "answer_id": 26581956}, {"body": "<p>Simply  <strong>deploying to another device</strong> and then <strong>switching back</strong> to the former 'ineligible' device worked here.\n(saved the hassle of restarting anything)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26672159#26672159", "question_id": 24039010, "answer_id": 26672159}, {"body": "<p>In my case I had to reattach device and when it asks press \"Trust this computer\", then my device appears available again in xCode</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26681971#26681971", "question_id": 24039010, "answer_id": 26681971}, {"body": "<p>I can confirm that the answer it to upgrade Xcode to 6.1. If you are using Xcode 6.0.x you will not be able to select a device running 8.1. Your deployment targets and OS version should have nothing to do with this.</p>\n\n<p>If your OS version is greater than 10.9.4 I would recommend this. First, un-attaching all devices. Download <a href=\"https://developer.apple.com/xcode/downloads/\" rel=\"nofollow\">Xcode 6.1</a>. After opening the new version of Xcode attach your device. You should be good to go.</p>\n\n<p>Another good thing would be to look at the <a href=\"https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Chapters/xc6_release_notes.html\" rel=\"nofollow\">release notes</a>. It's and easy read and gives you a general idea of what still needs to be fixed.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26868616#26868616", "question_id": 24039010, "answer_id": 26868616}, {"body": "<p>make sure the deployment target version in setting is lower or equal than the iphone version </p>\n\n<p>if the deployment target is 7.1  but the iphone is 7.0.3</p>\n\n<p>you will see that error message </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/26899624#26899624", "question_id": 24039010, "answer_id": 26899624}, {"body": "<p>My iPad was 8.0, but i had deployment target set to 8.1. I changed the deployment target in build settings, and immediately, the ipad moved out of the \"ineligible\" category. (I am on Yosemite and XCode 6.1)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/27389910#27389910", "question_id": 24039010, "answer_id": 27389910}, {"body": "<p>I'm using the 6.3 Xcode Beta. I had the same issue as above. I restarted my computer and phone but did not work. Simply went to the build target under build settings and changed build target to 8.1. I hope this is fixed in the next released. Make sure that after you change your build setting - you need to restart your device and Xcode! </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/28911725#28911725", "question_id": 24039010, "answer_id": 28911725}, {"body": "<p>Ran into the same issue, using <code>Unity3D</code></p>\n\n<p><strong>=> <code>Xcode 6.3</code> requires <code>Unity 4.6.4</code></strong></p>\n\n<p>If you're using an older <code>Unity</code> version (e.g. <code>4.6.3</code>) you'll always get your devices in the <code>Ineligible Devices</code> section</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29535109#29535109", "question_id": 24039010, "answer_id": 29535109}, {"body": "<p><em>There is a lot of options <strong>(<s>10</s> <s>23</s> 29 answers for this question!)</strong>, that can cause this error. And no one is 100% solve this issue. Here is summarise of all solutions.</em></p>\n\n<h2>First of all:</h2>\n\n<p>0. <strong>Update to latest Xcode version</strong><br>\n<em>Most of the reasons, that cause this problem fixed in Xcode version <code>6.3.1</code> (6D1002 published April 21, 2015)</em></p>\n\n<h3>List of solutions in order frequency of occurrence:</h3>\n\n<ol>\n<li><p><strong>The most likely solution:</strong>:</p>\n\n<ul>\n<li>In Xcode status <strong>go to: <code>Menu bar</code>-> <code>Product</code> -> <code>Destination</code></strong> and find your device. It will be listed under <code>Ineligible</code> section</li>\n<li><strong>Select your device</strong>. After you will be able to build and deploy to device! (thanks, <a href=\"http://stackoverflow.com/a/29543682/1698467\">@joshstaiger</a>)</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/2cKE7.jpg\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<hr>\n\n<h3>If it doesn't work:</h3>\n\n<ol start=\"2\">\n<li><p><strong>iOS Deployment Target</strong> should be <code>&lt;=</code> of the version of your device. \nYou find this option in <code>Build Settings</code> tab when you click on a target of your project in Xcode.</p></li>\n<li><p>If version is correct - try to <strong>restart Mac and iPhone/iPad simultaneously.</strong> It resolve this issue in most cases! (thanks, <a href=\"http://stackoverflow.com/a/24039323/1698467\">@HoaParis</a>)</p></li>\n<li><p>Finally if either doesn't work - try to do this magic actions:</p>\n\n<ul>\n<li>switch <code>iOS Deployment Target</code> to 8.1</li>\n<li>restart <code>Xcode</code></li>\n<li>switch back to desired version.</li>\n</ul></li>\n</ol>\n\n<hr>\n\n<h3>Other problems, that cause this issue:</h3>\n\n<ol start=\"5\">\n<li><p><code>Xcode Beta 6.3</code> does not support <code>iOS 8.2</code> (and also 8.1). You won't see your iDevice in deploy target list. \n<strong>Use <code>Xcode 6.2</code> instead of <code>Xcode 6.3 beta</code> in order to debug with an iDevice iOS 8.2</strong></p></li>\n<li><p><code>Xcode 6.3</code> requires <code>Unity 4.6.4</code>\nIf you're using an older <code>Unity</code> version (e.g. <code>4.6.3</code>) you'll always get your devices in the <code>Ineligible Devices</code> section (thanks, <a href=\"http://stackoverflow.com/a/29535109/1698467\">@d4rk</a>)</p></li>\n<li><p>Also it appears in case of <strong>changing name of Xcode project</strong>. The fix it -  create a new scheme by selecting <code>Manage Schemes &gt; (+) button</code>. (thanks, <a href=\"http://stackoverflow.com/a/26451418/1698467\">@dale-moore</a>)</p></li>\n</ol>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29538173#29538173", "question_id": 24039010, "answer_id": 29538173}, {"body": "<p>Please check you device iOS version and your Xcode application build target version. This might be causing the issue.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29538457#29538457", "question_id": 24039010, "answer_id": 29538457}, {"body": "<p>Everyone should note that there seems to be a bug in XCode 6.3 (Beta and GM) that is aggravating this problem.</p>\n\n<p>I have iOS 8.3 installed on my device.  Setting the build target to iOS &lt;= 8.3 did not help.  Nor did any of the other solutions posted.</p>\n\n<p>What worked for me:</p>\n\n<p>Go to the Product Menu > Destination and select your device.  It will be listed under \"Ineligible\", but you will still be able to select it.  After doing this, I was able to build and deploy to my device.</p>\n\n<p><img src=\"http://i.stack.imgur.com/hqStg.png\" alt=\"Screenshot\"></p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29543682#29543682", "question_id": 24039010, "answer_id": 29543682}, {"body": "<p>My solution was that I had recently upgraded my iOS device to 8.3 and Xcode still didn't recognize it. The fix was to simply upgrade Xcode to 6.3 :)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29546303#29546303", "question_id": 24039010, "answer_id": 29546303}, {"body": "<p>My answer, perhaps listed already but i did not notice, was simple: I deleted the app in question from the target itself, then fired up Xcode and the target was then available. And yes, i tried most of the other suggestions, and was resorting to activating the target from the Product menu, but that was getting tedious.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29658832#29658832", "question_id": 24039010, "answer_id": 29658832}, {"body": "<p>If you have a chance to run any project on the 'ineligible' device from other Mac with Xcode, try it and then reconnect the device to your Mac (without restarting Xcode/Mac).<br>\nFor me, after doing that, the 'ineligible device' section disappears and my device returns to the normal status.<br>\nHope it helps for someone.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29696263#29696263", "question_id": 24039010, "answer_id": 29696263}, {"body": "<p>Fixed in Xcode version 6.3.1 (6D1002) published April 21, 2015.</p>\n\n<p>At least the problem magically went away for me after installing this Xcode version.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29790263#29790263", "question_id": 24039010, "answer_id": 29790263}, {"body": "<p>Tried all possible Updates, with Xcode 6.3, iOS 8.3 and OSX 10.10.3, but didn't got a permanent solution.</p>\n\n<p>Kudos to skywinder,the first option worked!</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29928549#29928549", "question_id": 24039010, "answer_id": 29928549}, {"body": "<p>For most people the cause of the problem is probably mismatch between Xcode, device version and app target version.<br>\nIf versions are not a problem for you, most likely is that the device (iPhone/iPad) has been used with another Mac to copy apps to. This happens particularly more with a team environment where an iDevice can be used between team members. Xcode knows some other developer's Mac has connected to this device, it will show up as \"Ineligible\". But the previous Mac that connected to it, it will show up as normal.<br>\nThe quickest work around is as shown by joshstaiger among others:<br>\nGo to Xcode ->Product->Destination<br>\nSelect the ineligible device as target. It should work. </p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/29973643#29973643", "question_id": 24039010, "answer_id": 29973643}, {"body": "<p>The most common cause for this issue is Xcode 6.3 and running iOS 8.2 on your device. Xcode 6.3 doesn't install the 8.2 simulator by default. It has the 8.3 simulator installed.</p>\n\n<p>The solution by @joshstaiger works, but it is not a permanent fix. You have to do this each time you want to run the app on your device</p>\n\n<p>The permanent fix is to simply install the 8.2 simulator in Xcode 6.3. Go the Xcode -> Preferences -> Downloads. Install the 8.2 simulator under Components. </p>\n\n<p>Now you will no longer see your device listed under ineligible devices.</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/30008873#30008873", "question_id": 24039010, "answer_id": 30008873}, {"body": "<p>I found the following useful:</p>\n\n<ol>\n<li>Connect to the new device, go to itunes, make sure you sync the\ndevice (you might have a certificate issue) </li>\n<li>Follow NateJC's advice (i.e. switch devices and switch back again)</li>\n</ol>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/30544513#30544513", "question_id": 24039010, "answer_id": 30544513}, {"body": "<p>You can try below solutions to run build in your device.</p>\n\n<ol>\n<li><p>Restart your iOS device (If device is recently updated) and your Xcode.</p></li>\n<li><p>Make Sure that in build settings \"iOS Deployment Target\" is &lt;= the version of your iDevice.\n<img src=\"http://i.stack.imgur.com/Fe24D.png\" alt=\"enter image description here\"></p></li>\n</ol>\n\n<p>Otherwise you can goto - Product > Destination, select your device which would be showing as ineligible device.You will be able to select your device and run your build.</p>\n\n<p>I also came across that if you have the iOS 8.4 then your Xcode doesn't have the SDK for iOS 8.4 due to which devices show as ineligible. To solve this issue</p>\n\n<p>Download Xcode 6.4</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/31319422#31319422", "question_id": 24039010, "answer_id": 31319422}, {"body": "<p>For iOS 9.1+ devices, the Xcode version should be upgraded to 7.1 (even 7.0x will not work)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/33426699#33426699", "question_id": 24039010, "answer_id": 33426699}, {"body": "<p>Upgrade XCode to ensure that it supports your current iOS version on device. </p>\n\n<p>(In my case, my phone was on iOS 9.1.x) `but XCode version was 7, which supported iOS 9.0 devices)</p>\n", "title": "Ineligible Devices section appeared in Xcode 6.x.x", "tags": ["ios", "xcode6"], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x/33582240#33582240", "question_id": 24039010, "answer_id": 33582240}], "link": "http://stackoverflow.com/questions/24039010/ineligible-devices-section-appeared-in-xcode-6-x-x", "question_id": 24039010}, {"body": "<p>I am trying to build a shared library using a C extension file but first I have to generate the output file using the command below:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>gcc -Wall utilsmodule.c -o Utilc\n</code></pre>\n\n<p>After executing the command, I get this error message:</p>\n\n<blockquote>\n  <p>utilsmodule.c:1:20: fatal error: Python.h: No such file or directory\n  compilation terminated.</p>\n</blockquote>\n\n<p>in fact I have tried all the suggested solutions over the internet but the problem still exists ... also I have no problem with <code>Python.h</code>. I managed to locate the file on my machine ... anybody has faced the same problem before??</p>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "answers": [{"body": "<p>Looks like you haven't properly installed the header files and static libraries for python dev.  Use your package manager to install them system-wide.  </p>\n\n<p>For apt (<strong>ubuntu, debian...</strong>):</p>\n\n<pre><code>sudo apt-get install python-dev\n</code></pre>\n\n<p>For yum (<strong>centos, redhat, fedora...</strong>):</p>\n\n<pre><code>sudo yum install python-devel\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/21530768#21530768", "question_id": 21530577, "answer_id": 21530768}, {"body": "<p>This means that <code>Python.h</code> isn't in your compiler's default include paths. Have you installed it system-wide or locally? What's your OS?</p>\n\n<p>You could use the <code>-I&lt;path&gt;</code> flag to specify an additional directory where your compiler should look for headers. You will probably have to follow up with <code>-L&lt;path&gt;</code> so that gcc can find the library you'll be linking with using <code>-l&lt;name&gt;</code>.</p>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/21530823#21530823", "question_id": 21530577, "answer_id": 21530823}, {"body": "<p>Two things you have to do.</p>\n\n<p>Install development package for Python, in case of Debian/Ubuntu/Mint it's done with command:</p>\n\n<pre><code>sudo apt-get install python-dev\n</code></pre>\n\n<p>Second thing is that include files are not by default in the include path, nor is Python library linked with executable by default. You need to add these flags (replace Python's version accordingly):</p>\n\n<pre><code>-I/usr/include/python2.7 -lpython2.7 \n</code></pre>\n\n<p>In other words your compile command ought to be:</p>\n\n<pre><code>gcc -Wall -I/usr/include/python2.7 -lpython2.7  utilsmodule.c -o Utilc \n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/21530866#21530866", "question_id": 21530577, "answer_id": 21530866}, {"body": "<p>Make sure that the Python dev files come with your OS.</p>\n\n<p>You should not hard code the library and include paths. Instead, use pkg-config, which will output the correct options for your specific system:</p>\n\n<pre><code>$ pkg-config --cflags --libs python2\n-I/usr/include/python2.7 -lpython2.7\n</code></pre>\n\n<p>You may add it to your <em>gcc</em> line:</p>\n\n<pre><code>gcc $(pkg-config --cflags --libs python2) -Wall utilsmodule.c -o Utilc\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/21531170#21531170", "question_id": 21530577, "answer_id": 21531170}, {"body": "<p>I managed to solve this issue and generate the .so file in one command </p>\n\n<pre><code>gcc -shared -o UtilcS.so\n-fPIC -I/usr/include/python2.7 -lpython2.7  utilsmodule.c\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/21548557#21548557", "question_id": 21530577, "answer_id": 21548557}, {"body": "<p>On Ubuntu, I was running Python 3 and I had to install </p>\n\n<pre><code>sudo apt-get install python3-dev\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/22077790#22077790", "question_id": 21530577, "answer_id": 22077790}, {"body": "<p>For the OpenSuse comrades out there:</p>\n\n<pre><code>sudo zypper install python3-devel\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/29326063#29326063", "question_id": 21530577, "answer_id": 29326063}, {"body": "<p>If you are using <a href=\"https://tox.readthedocs.org/en/latest/\">tox</a> to run tests on multiple versions of Python, you may need to install the Python dev libraries for each version of Python you are testing on.</p>\n\n<pre><code>sudo apt-get install python2.6-dev \nsudo apt-get install python2.7-dev \netc.\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/29830656#29830656", "question_id": 21530577, "answer_id": 29830656}, {"body": "<p>on Fedora try this..</p>\n\n<blockquote>\n  <p>sudo yum install python-devel</p>\n</blockquote>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/30676339#30676339", "question_id": 21530577, "answer_id": 30676339}, {"body": "<p>In AWS API (centOS) its </p>\n\n<pre><code>yum install python27-devel\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/31309573#31309573", "question_id": 21530577, "answer_id": 31309573}, {"body": "<p>If you are using a Raspberry Pi:</p>\n\n<pre><code>sudo apt-get install python-dev\n</code></pre>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/32030746#32030746", "question_id": 21530577, "answer_id": 32030746}, {"body": "<p>try apt-file. It is difficult to remember the package name where the missing file resides. It is generic and useful for any package files.</p>\n\n<p>For example:</p>\n\n<pre><code>root@ubuntu234:~/auto# apt-file search --regexp '/Python.h$'\npypy-dev: /usr/lib/pypy/include/Python.h\npython2.7-dbg: /usr/include/python2.7_d/Python.h\npython2.7-dev: /usr/include/python2.7/Python.h\npython3.2-dbg: /usr/include/python3.2dmu/Python.h\npython3.2-dev: /usr/include/python3.2mu/Python.h\nroot@ubuntu234:~/auto# \n</code></pre>\n\n<p>Now you can make an expert guess as to which one to choose from.</p>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/33499131#33499131", "question_id": 21530577, "answer_id": 33499131}, {"body": "<p>For me, changing it to this worked:</p>\n\n<pre><code>#include &lt;python2.7/Python.h&gt;\n</code></pre>\n\n<p>I found the file <code>/usr/include/python2.7/Python.h</code>, and since <code>/usr/include</code> is already in the include path, then <code>python2.7/Python.h</code> should be sufficient.</p>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/33711076#33711076", "question_id": 21530577, "answer_id": 33711076}, {"body": "<p>In my case, what fixed it in Ubuntu was to install the packages <code>libpython-all-dev</code> (or <code>libpython3-all-dev</code> if you use Python 3).</p>\n", "title": "fatal error: Python.h: No such file or directory", "tags": ["python", "gcc", "python-c-api", "python-c-extension"], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory/35121730#35121730", "question_id": 21530577, "answer_id": 35121730}], "link": "http://stackoverflow.com/questions/21530577/fatal-error-python-h-no-such-file-or-directory", "question_id": 21530577}, {"body": "<p>Github announced <a href=\"https://atom.io/\">Atom</a> which is very similar to Sublime. Even some keyboard shortcuts like <kbd>\u2318 + P</kbd>, <kbd>\u2318 + Shift + P</kbd> etc. are same.  </p>\n\n<ol>\n<li>How is Atom different from Sublime?  </li>\n<li>Does it include IDE features like build tools, function definition jumps, documentations, etc.?</li>\n<li>Has anyone using Sublime got a Beta invitation to point out the differences?</li>\n<li>Can I use the themes, schemes and packages from Sublime as is, like Sublime could do with <strong>text mate</strong>.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/0AZmH.png\" alt=\"Atom Shell\"><a href=\"http://i.stack.imgur.com/0AZmH.png\">1</a></p>\n\n<p>PS: Open image in new tab for bigger resolution.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "answers": [{"body": "<p>Another difference is that Sublime text is a closed source project, while Atom source code is/will be publicly available --although Github does not plan to release it as a real open source project. They want to give access to the code, without opening it to contributions. </p>\n\n<p>Github made the code public: <a href=\"http://blog.atom.io/2014/05/06/atom-is-now-open-source.html\" rel=\"nofollow\">http://blog.atom.io/2014/05/06/atom-is-now-open-source.html</a></p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/22126142#22126142", "question_id": 22126078, "answer_id": 22126142}, {"body": "<p>Atom is written using Node.js, CoffeeScript and LESS. It's then wrapped in a WebKit wrapper, which was originally only available for OSX, although there is now also a Windows version available. (Linux version has to be built from source, but there is a PPA for Ubuntu users.)</p>\n\n<p>A lot of the architecture and features have been duplicated from Sublime Text because they're tried and tested. The plugin system works almost the same, but opens up a lot of new features and potential by exposing new APIs too.</p>\n\n<p>I believe that the shortcuts remain mostly the same due to muscle memory \u2013 people will remember them and be able to instantly click with Atom.</p>\n\n<p>The preferences can be controlled with a GUI rather than by editing JSON directly, which might lower the entry barrier towards getting people started with Atom. <em>I myself find it difficult to navigate them all since there is no search feature in Preferences.</em></p>\n\n<p>You can signup for an invite on the <a href=\"http://webchat.freenode.net/?channels=##atom-invites\">##atom-invites</a> IRC channel or signup to their website and add your email. The first round of invites came quickly.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/22126195#22126195", "question_id": 22126078, "answer_id": 22126195}, {"body": "<p>I just got my beta invitation today and tried Atom right away. The GUI feels like Sublime, and yes, there some shortcuts adopted from Sublime.</p>\n\n<p>Besides everything mentioned above, here are some differences I have noticed so far:</p>\n\n<ol>\n<li><p>Vim mode is not as good as the Vintage mode on Sublime (which is not a fully featured vim either) because the vim package is in an early stage of development. See <a href=\"https://atom.io/packages/vim-mode\">https://atom.io/packages/vim-mode</a> for detail.</p></li>\n<li><p>As James mention, Atom is written using web tools, so you have access to the stylesheet of the text editor (styles.less) to do whatever appearance changes you want using CSS. There is also an option to change the startup CoffeeScript.</p></li>\n<li><p>Again, because Atom is still in the beta stage, Sublime has much more native plugin packages. However, since Atom is written in Node.js, the Atom official site said you can \"choose from over 50 thousand in Node's package repository.\" (Because I am not a Node.js pro, I haven't look into this feature though)</p></li>\n<li><p>Atom has better Github support out of the box, but Sublime has a several Git packages.</p></li>\n<li><p>Sublime is a paid application unlimited evaluation period. Atom is free at the beta stage but we don't know whether Github wants to charge it or not. </p></li>\n</ol>\n\n<p>So the bottom line is Atom is a text editor built with web technology at beta stage. By contrast, Sublime has evolved through many different iterations. Atom is still missing a lot of packages that Sublime supports, so the question is will Atom catch up with Sublime or become some better? Github seems to be confident about the future of this text edit because of its popular underlying technologies, and Atom is probably going to be a good alternative to Sublime in the long run.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/22286530#22286530", "question_id": 22126078, "answer_id": 22286530}, {"body": "<p>In addition to the points from prior answers, it's worth clarifying the differences between these two products from the perspective of choices made in their development.</p>\n\n<p>Sublime is binary compiled for the platform. Its core is written in C/C++ and a number of its features are implemented in Python, which is also the language used for extending it. Atom is written in Node.js/Coffeescript and runs under webkit, with Coffeescript being the extension language. Though similar in UI and UX, Sublime performs significantly better than Atom especially in \"heavy lifting\" like working with large files, complex SnR or plugins that do heavy processing on files/buffers. Though I expect improvements in Atom as it matures, design &amp; platform choices limit performance.</p>\n\n<p>The \"closed\" part of Sublime includes the API and UI. Apart from skins/themes and colourisers, the API currently makes it difficult to modify other aspects of the UI. For example, Sublime plugins can't interact with the sidebar, control or draw on the editing area (except in some limited ways eg. in the gutter) or manipulate the statusbar beyond basic text. <s>Atom's \"closed\" part is unknown at the moment, but I get the sense it's smaller.</s> Atom has a richer API (though poorly documented at present) with the design goal of allowing greater control of its UI. Being closely coupled with webkit offers numerous capabilities for UI feature enhancements not presently possible with Sublime. However, Sublime's extensions perform closer to native, so those that perform compute-intensive, highly repetitive or complex text manipulations in large buffers are feasible in Sublime.</p>\n\n<p><s>Since more of Atom will be open,</s> Github open-sourced Atom on May 6th. As a result it's likely that support and pace of development will be rapid. By contrast, Sublime's development has slowed significantly of late - <strong><a href=\"http://www.sublimetext.com/forum/viewtopic.php?f=2&amp;t=15477&amp;start=60#p58951\">but it's not dead</a></strong>. In particular there are a number of bugs, many quite trivial, that haven't been fixed by the developer. None are showstopping imo, but if you want something in rapid development with regular bugfixing and enhancements, Sublime will frustrate. That said, <s>installable Atom packages for Windows and Linux are yet to be released and</s> activity on the codebase seems to have cooled in the weeks before and since the announcement, according to Github's stats.</p>\n\n<p>In terms of IDE functions, from a webdev perspective Atom will allow extensions to the point of approaching products like Webstorm, though none have appeared yet. It remains to be seen how Atom will perform with such \"heavy\" extensions, since the editor natively feels sluggish. Due to restrictions in the API and lack of underlying webkit, Sublime won't allow this level of UI customisation although the developer may extend the API to support such features in future. Again, Sublime's underlying performance allows for things that involve computational grunt; ST3's symbol indexing being an example that performs well even with big projects. And though Atom's UI is certainly modelled upon Sublime, some refinements are noticeably missing, such as Sublime's learning panels and tab-complete popups which weight the defaults in accordance with those you most use.</p>\n\n<p>I see these products as complementary. The fact that they share similar visuals and keystrokes just adds to the fact. There will be situations where the use of either has advantages. Presently, Sublime is a mature product with feature parity across all three platforms, and a rich set of plugins. Atom is the new kid whose features will rapidly grow; it doesn't feel production ready just yet and there are concerns in the area of performance.</p>\n\n<p><em>[Update/Edit: May 18, 2015]</em></p>\n\n<p>A note about improvements to these two editors since the time of writing the above.</p>\n\n<p>In addition to bugfixes and improvements to its core, Atom has experienced a rapid growth in third-party extensions, with autocomplete-plus becoming part of the standard Atom distribution. Extension quality varies widely and a particular irritation is the frequency by which unstable third party packages can crash the editor. Within the last year, Atom has moved to using React by way of shifting reflow/repaint activity to the GPU for performance reasons, significantly improving the responsiveness of the UI for typical editing actions (scrolling, cursor movement etc.). While this has markedly improved the feel of the editor, it still feels cumbersome for CPU intensive tasks as described above, and is still slow in startup. Apart from performance improvements, Atom feels significantly more stable across the board.</p>\n\n<p>Development of Sublime has picked up again since Jan 2015, with bugfixes, some minor new features (tooltip API, build system improvements) and a major development in the form of a new yaml-based .sublime-syntax definition (to eventually replace the old xml .tmLanguage). Together with a custom regex engine which replaces Onigurama, the new system offers more potential for precise regex matching, is significantly faster (up to 4x) and can perform multiple matches in parallel. Apart from colouring syntax, Sublime uses these components for symbol indexing (goto definition etc.) and other language-aware features. In addition to further speeding up Sublime, particularly for large files, this feature should open up the potential for performant language-specific features such as code-refactoring etc.. Further 'big developments' are promised, though the author remains, as ever, tight lipped about them.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/22471391#22471391", "question_id": 22126078, "answer_id": 22471391}, {"body": "<p>I tried Atom and it looks really nice BUT there is one major problem (at least in v 0.84):</p>\n\n<p>It doesn't support vertical select <kbd>Alt</kbd>+Drag - this is a must for every modern code editor.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/23057134#23057134", "question_id": 22126078, "answer_id": 23057134}, {"body": "<p>Atom <a href=\"http://blog.atom.io/2014/05/06/atom-is-now-open-source.html\">is open source</a> (has been for a few hours by now), whereas Sublime Text is not.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/23503315#23503315", "question_id": 22126078, "answer_id": 23503315}, {"body": "<ol>\n<li><strong>How is Atom different from Sublime?</strong>\n\n<ul>\n<li>Atom is an open source text editor/IDE, built on JavaScript/HTML/CSS.</li>\n<li>Sublime Text is a commercial product, built on C/C++ and Python.</li>\n<li>Comparable to Atom is <a href=\"http://brackets.io\">Adobe Brackets</a>, another open source text editor/IDE built on JavaScript/HTML/CSS. Be minded that this makes Brackets more oriented towards Web development, specially in the front end.</li>\n<li>Advantages of open source projects are faster rate of development and, of course, price.</li>\n</ul></li>\n<li><strong>Does it include IDE features like build tools, function definition jumps, documentations, etc.?</strong>\n\n<ul>\n<li>The short answer is yes, yes, and yes. The app is completely modular. Open source will give people the freedom to fill the gaps on several of these features.</li>\n</ul></li>\n<li><strong>Has anyone using Sublime got a Beta invitation to point out the differences?</strong>\n\n<ul>\n<li>Advantages of Atom is entry-level hackability, since it's built on the same code that powers Web sites.</li>\n<li>Advantages of Sublime Text is performance, as it doesn't need to run on top of Node.js, and it's a more mature product, about to reach a stable version 3.</li>\n<li>There are a long list of minor differences that can be included in the comments (I wish this markdown could be able to draw a table for comparisons, but that's another issue). </li>\n<li>Because of Atom's rapid turnout, I am afraid some of differences I list here will become outdated over time. <s>Per example, at the time of this writing, Atom is only available on the Macintosh while Sublime Text is already multiplatform.</s></li>\n</ul></li>\n<li><strong>Can I use the themes, schemes and packages from Sublime as is, like Sublime could do with text mate.</strong>\n\n<ul>\n<li>The short answer is no, but because of Atom's hackability, it will be easy to retool packages from other editors to Atom.</li>\n</ul></li>\n</ol>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/23546497#23546497", "question_id": 22126078, "answer_id": 23546497}, {"body": "<p>One major difference is the support of \"Indic Fonts\" aka South Asian Scripts (including Southeast Asian languages such as Khmer, Lao, Myanmar and Thai). Also, there is much better support for East Asian languages (Chinese, Japanese, Korean). These are known bugs (actually the most highly rated bugs) that have been going on for years (thought it appears East Asian language support used to work better but have now become difficult to use):</p>\n\n<ul>\n<li><a href=\"http://sublimetext.userecho.com/topic/117587-thai-language-issue/\" rel=\"nofollow\">http://sublimetext.userecho.com/topic/117587-thai-language-issue/</a> </li>\n<li><a href=\"http://sublimetext.userecho.com/topic/99013-can-not-show-or-type-chinese-charactor-on-ubuntu-system/\" rel=\"nofollow\">http://sublimetext.userecho.com/topic/99013-can-not-show-or-type-chinese-charactor-on-ubuntu-system/</a></li>\n</ul>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/23591204#23591204", "question_id": 22126078, "answer_id": 23591204}, {"body": "<p><strong>Here are some differences between the two:</strong></p>\n\n<ul>\n<li>Atom <a href=\"https://github.com/blog/1831-atom-free-and-open-source-for-everyone\">is open source</a> (MIT License)</li>\n<li>A single user license for Sublime Text <a href=\"https://www.sublimetext.com/buy\">costs $70</a>.</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>Atom is written in <a href=\"http://zedapp.org/2014/02/thoughts-on-atom-vs-zed/\">Node.js, CoffeeScript, HTML and LESS</a>.</li>\n<li>Sublime Text is <a href=\"http://stackoverflow.com/questions/9473464/in-what-programming-language-is-sublime-text-2-written\">written in C++, Python for plugins, and Objective-C for Cocoa integration</a></li>\n</ul>\n\n<hr>\n\n<ul>\n<li>Atom has a <a href=\"https://github.com/atom/apm\">built-in package manager*</a></li>\n<li>Sublime Text depends on a third-party solution for package management\n(<a href=\"https://sublime.wbond.net/\">Wbond Package Control</a>)</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><s>At the time of writing this (05/20/2014), there are Atom binaries only for Mac OS X (10.8 or later). If you want to use it under Windows or Linux, you'll have to build it.</s> <strong>Update:</strong> Nowadays, <a href=\"https://github.com/atom/atom/releases/tag/v1.0.5\">there are Atom binaries for Mac OS X (10.8 or later) Windows and Linux</a>.</li>\n<li>Sublime Text binaries are <a href=\"http://www.sublimetext.com/3\">available for Mac OS X, Windows (installable or portable) and Linux (as a .deb or tarball)</a></li>\n</ul>\n\n<hr>\n\n<ul>\n<li>Atom settings can be configured <a href=\"http://www.youtube.com/watch?v=_T5hWtn2HPw\">either through a user-friendly interface or directly by editing configuration files</a>.</li>\n<li>Sublime Text <a href=\"http://www.sublimetext.com/docs/2/settings.html\">only allows you to change settings through configuration files</a>.</li>\n</ul>\n\n<hr>\n\n<p>*Though APM is a separated tool, it's bundled and installed automatically with Atom</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/23751041#23751041", "question_id": 22126078, "answer_id": 23751041}, {"body": "<p>I'm working in little extreme environment; edit files on remote filesystem (external network, surely) that is mounted on my Laptop thru ssh(aka. sshfs). Regardless why I'm doing like this, also though its cumbersome responsiveness, it's fairly edible when I'm using Sublime Text 2.</p>\n\n<p>I tried on Atom after reading this post, but it turned out to be somewhat painful to me; Atom seems that it doesn't cache directory structure so efficiently. Every time I expand a folder on Tree View, the UI froze for a short time, 2~3 seconds, maybe fetching file system info. Yes, it's because I'm using remote filesystem. But Sublime handles this more efficient, at least it doesn't freeze every time I expand a folder, so less painful.</p>\n\n<p>I think Atom is hell nice for free, and my story is trivial that might be enhanced someday, but it would be helpful to someone at this time.</p>\n\n<p>--</p>\n\n<p><strong>added on 8/26/2014</strong></p>\n\n<p>Recently, I changed my laptop from Macbook Air 2010 late to Macbook Pro 13\" 2013 late. It has likely 4 times faster CPU and much enhancements in performance. I want to mention my opinion is about in the case WHEN YOU MOUNT REMOTE FILE SYSTEM. (using <strong>OS X Mavericks</strong>, most recent version of Atom, FUSE 2.7.3 / OSXFUSE 2.6.4 / sshfs 2.5.0, and remote system is Ubuntu server) Eventually, UI freeze gets pretty shorter, but it is still there. Specifically, to open a folder with many folder/files in it and index it is requires certain amount of time. Also, if you expand a folder full of files, it just falters. (when collapsing the folder, it doesn't)</p>\n\n<p>According to @EliDuenisch , it seems not happen on Linux Mint. I'm not sure but it might be from difference between OSes. Surely, if you work on local file system, you don't have to care about this issue at all.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/23834820#23834820", "question_id": 22126078, "answer_id": 23834820}, {"body": "<p>Atom has been created by Github and it includes \"git awareness\". That is a feature I like quite a lot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/lvFqc.png\" alt=\"enter image description here\"></p>\n\n<p>Also it highlights the files in the git tree that have changed with different colours depending on their commit status:</p>\n\n<p><img src=\"http://i.stack.imgur.com/e4jvc.png\" alt=\"enter image description here\"></p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/24289756#24289756", "question_id": 22126078, "answer_id": 24289756}, {"body": "<p>Atom is still in beta (v0.123 as I'm writing this) but it's moving fast. Way faster than Sublime. New builds are released on a weekly basis, sometimes even few of them in the same week. In its short life span, it had more releases than Sublime which takes months to release a new feature or a bug fix. Here's an updated take on things looking back on the path Atom has taken since the launch of the beta:</p>\n\n<ol>\n<li><p>Sublime has better performance than Atom. Simply because it's written in C++. Atom on the other hand is a web based desktop app built on top of Chromium, and while they take performance close to heart, it will be really hard or even impossible to reach the same speed and responsiveness. Last July Atom began using React and it gave it a nice performance boost but you can still feel the difference. Apart from that, if Atom\u2019s performance issues will not push users away - Sublime better speed up the release cycle, brush up its small UX tweaks, and consider letting in more contributors because this is where Atom is winning. </p></li>\n<li><p>Atom's package ecosystem is also growing really fast, it might not be as big as Sublime's at the moment but I have a feeling that with GitHub at it's back it will keep growing even faster. It probably has the majority of IDE like plug-ins you can think of. A major difference right now is that it can't handle files bigger than 2MB so it's something to keep in mind.</p></li>\n<li><p>The one thing you'll notice first is that the Sublime minimap is gone! Other than that, the first impression is that Atom looks almost the same as Sublime. I wrote a more in depth comparison about it in this <a href=\"http://www.takipiblog.com/2014/08/13/sublime-vs-atom-text-editor-battles/\" rel=\"nofollow\">blog post</a>.</p></li>\n<li><p>No easy straightforward way to port your Sublime configurations, packages and such as far as I know.</p></li>\n</ol>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/25491307#25491307", "question_id": 22126078, "answer_id": 25491307}, {"body": "<p>ATTENTION :: </p>\n\n<p>-- because of poorly made caching system, in Atom loss of data occurs often when using big files. </p>\n\n<p>It has been proven numerous times.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/31965627#31965627", "question_id": 22126078, "answer_id": 31965627}, {"body": "<p>One major difference that no one has pointed out so far and that might be important to some people is that (at least on Windows) Atom doesn't fully support other keyboard layouts than US. There is an bug report on that with a few hundred posts that has been open for more than a year now (<a href=\"https://github.com/atom/atom-keymap/issues/35\" rel=\"nofollow\">https://github.com/atom/atom-keymap/issues/35</a>).</p>\n\n<p>Might be relevant when choosing an editor.</p>\n", "title": "What is the difference between Sublime text and Github&#39;s Atom", "tags": ["editor", "sublimetext2", "sublimetext", "text-editor", "atom-editor"], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom/33504858#33504858", "question_id": 22126078, "answer_id": 33504858}], "link": "http://stackoverflow.com/questions/22126078/what-is-the-difference-between-sublime-text-and-githubs-atom", "question_id": 22126078}, {"body": "<p>My vagrant was working perfectly fine last night. I've just turned the PC on, hit <code>vagrant up</code>, and this is what I get:</p>\n\n<pre><code>==&gt; default: Clearing any previously set network interfaces...\n==&gt; default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n    default: Adapter 2: hostonly\n==&gt; default: Forwarding ports...\n    default: 22 =&gt; 2222 (adapter 1)\n==&gt; default: Booting VM...\n==&gt; default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n    default: Error: Connection timeout. Retrying...\n</code></pre>\n\n<p>Has anyone had this before? vagrant isn't widely covered on the web yet and I can't find a reason why this is occurring.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "answers": [{"body": "<p>I solved this problem, and will answer in case anyone else has a similar issue.</p>\n\n<p>What I did was: I enabled the GUI of Virtual box to see that it was waiting for input on startup to select whether I wanted to boot directly to ubuntu or safemode etc.</p>\n\n<p>To turn on the GUI you have to put this in your vagrant config <code>Vagrantfile</code>:</p>\n\n<pre><code>config.vm.provider :virtualbox do |vb|\n  vb.gui = true\nend\n</code></pre>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/22575302#22575302", "question_id": 22575261, "answer_id": 22575302}, {"body": "<p>If you don't want to enable the GUI and then have to disable it later, you could also install the extension pack from Oracle:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html#extpack\" rel=\"nofollow\">http://www.oracle.com/technetwork/server-storage/virtualbox/downloads/index.html#extpack</a></p>\n\n<p>Then put this in your Vagrantfile to enable VRDP:</p>\n\n<pre><code>vb.customize [\"modifyvm\", :id, \"--vrde\", \"on\"]\n</code></pre>\n\n<p>Now you can use RDP to connect to your box on demand without SSH needing to be running or the GUI open all the time.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/22974236#22974236", "question_id": 22575261, "answer_id": 22974236}, {"body": "<p>When you are stuck with your vagrant machine the way described above there is no need to boot in gui mode (and is impossible without an X server).</p>\n\n<p>While your VM is booting, in a separate terminal window, just find out the id of the running machine.</p>\n\n<pre><code>vboxmanage list runningvms\n</code></pre>\n\n<p>This will result in something like this:</p>\n\n<pre><code>\"projects_1234567890\" {5cxxxx-cxxx-4xxx-8xxx-5xxxxxxxxxx}\n</code></pre>\n\n<p>Quite often, the VM is simply waiting for you to select an option in the bootloader.  You can send the appropriate keycode (in the case, <kbd>Enter</kbd>) to the vm with <code>controlvm</code>:</p>\n\n<pre><code>vboxmanage controlvm projects_1234567890 keyboardputscancode 1c\n</code></pre>\n\n<p>That's it. Your virtual machine will continue the boot process.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/23095019#23095019", "question_id": 22575261, "answer_id": 23095019}, {"body": "<p>It's a new 'feature' of vagrant. Take a look here:\n<a href=\"https://github.com/mitchellh/vagrant/issues/3329\" rel=\"nofollow\">https://github.com/mitchellh/vagrant/issues/3329</a></p>\n\n<p>They will change the 'Error' to 'Warning'. It's just telling you that the machine isn't booted yet, and it's trying to connect...</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/23550900#23550900", "question_id": 22575261, "answer_id": 23550900}, {"body": "<p>I experienced the same issue on a Windows 8.1 machine. The connection timeout and enabling the gui was not usefull at all, the screen was black. The fix in my case was disabling \"Hyper V\"</p>\n\n<p>Quote from Vagrant documentation <a href=\"https://docs.vagrantup.com/v2/hyperv/index.html\">https://docs.vagrantup.com/v2/hyperv/index.html</a></p>\n\n<blockquote>\n  <p>Warning: Enabling Hyper-V will cause VirtualBox, VMware, and any other virtualization technology to no longer work. See this blog post <a href=\"https://www.hanselman.com/blog/SwitchEasilyBetweenVirtualBoxAndHyperVWithABCDEditBootEntryInWindows81.aspx\">https://www.hanselman.com/blog/SwitchEasilyBetweenVirtualBoxAndHyperVWithABCDEditBootEntryInWindows81.aspx</a> for an easy way to create a boot entry to boot Windows without Hyper-V enabled, if there will be times you'll need other hypervisors.</p>\n</blockquote>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/23713516#23713516", "question_id": 22575261, "answer_id": 23713516}, {"body": "<p>If you are working on Windows 8 or 10, this is what worked for me:</p>\n\n<ol>\n<li>Change BIOS settings to allow virtualization of 64bit.</li>\n<li>Here is how:\n\n<ul>\n<li>Restart PC using Advanced Startup (Go to Advanced Startup -'restart now'-'troubleshoot' -'advanced option'- 'UEFI Firmware Setting' - 'Restart')</li>\n<li>Inside BIOS window - Go to 'Advanced' menu/tab - Enable 'Intel Virtual Technology'</li>\n<li>Save &amp; Exit.</li>\n</ul></li>\n</ol>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/24493536#24493536", "question_id": 22575261, "answer_id": 24493536}, {"body": "<p>I had the same issue when I was using x64 box(chef/ubuntu-14.04).</p>\n\n<p>I changed to x32 and it worked(hashicorp/precise32).</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/24953864#24953864", "question_id": 22575261, "answer_id": 24953864}, {"body": "<p>FWIW-- My problem was due to using a really old config file instead of a newer one. Using the new configuration file (and thus tweaked/changed DSL) fixed my problems instantly.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/25003673#25003673", "question_id": 22575261, "answer_id": 25003673}, {"body": "<p>What helped for me was the enabling the virtualization in BIOS, because the machine didn't boot.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/25359034#25359034", "question_id": 22575261, "answer_id": 25359034}, {"body": "<p>One thing to double check is if Hardware Virtualisation is enabled in your machine's BIOS.</p>\n\n<p>My problem is the same string of timeouts but I could only see a black screen in the GUI.</p>\n\n<p>A laptop which I was just setting up kept showing the same problem. After hours of searching I finally found a tip to see if the BIOS had Hardware Virtualisation was enabled.</p>\n\n<p>Here's the content of the post I found:</p>\n\n<p>I see there are still some users who are experiencing this issue. So, I will attempt to summarise a list below of some possible solutions to the SSH timeout problem:</p>\n\n<ul>\n<li>Make sure your firewall or antivirus is not blocking the program (which I doubt will happen often)</li>\n<li>Give your vagrant machine some time for timeouts to happen. If you dont have a very fast PC / Mac, the VM will take while to boot into an SSH ready state, so timeouts will happen.</li>\n<li>Therefore, first try to let vagrant timeout COMPLETELY before concluding that there is a fault.</li>\n<li>If vagrant times out completely then increase the timeout limit in the vagrant file to a few min and try again.</li>\n<li>If that still doesnt work, then try to clean boot your vagrant machine through the VirtualBox interface and enable the GUI of the machine beforehand. If the GUI doesn't show anything happening (ie. just blackscreen, no text) while it is booting, then your vagrant machine has got problems.</li>\n<li>Destroy the entire machine through the VB interface and reinstall.</li>\n<li>Delete the ubuntu image files in the Vagrant Images folder in the user folder and redownload and install.</li>\n<li>Do you even have an intel processor that supports 64bit hardware virtualisation? Google it. If you do, make sure there is no setting in your Bios disabling this feature.</li>\n<li>Disable hyper-v feature if you are running windows 7 or 8. Google how to disable.</li>\n<li>Make sure you are running through an SSH enabled client. Use Git bash. Download:\n<a href=\"http://git-scm.com/downloads\">http://git-scm.com/downloads</a></li>\n<li>Install a 32bit version of ubuntu like trusty32 or precise32. Just change the version in the vagrant file and reinstall vagrant in new directory.</li>\n<li>Make sure you are using the latest vagrant and virtualbox versions. Last resorts: Format your computer, reinstall windows and buy an intel core isomething processor.</li>\n</ul>\n\n<p>Hope that helps.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/25504245#25504245", "question_id": 22575261, "answer_id": 25504245}, {"body": "<p>Rather than ctrl-d-ing out of the virtual box as I'm wont to do whenever I ssh into anything, I believe vagrant would prefer you get into another terminal and do a:</p>\n\n<p><code>vagrant halt</code></p>\n\n<p>to stop the box.  Then there will be no issues getting <em>back</em> into the VB.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/25557550#25557550", "question_id": 22575261, "answer_id": 25557550}, {"body": "<p>I faced the same issue, however non of the mentioned solutions worked for me!\nI solved it by downgrading Vagrant to 1.6.2 and now it works!</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/25701594#25701594", "question_id": 22575261, "answer_id": 25701594}, {"body": "<p>What worked for me was allowing 64 bit visualization on a 64 bit OS (Ubuntu 13.10) from BIOS. </p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/26082722#26082722", "question_id": 22575261, "answer_id": 26082722}, {"body": "<p>I had the same trouble with Vagrant 1.6.5 and Virtual Box 4.3.16.\nThe solution described at <a href=\"https://github.com/mitchellh/vagrant/issues/4470\" rel=\"nofollow\">https://github.com/mitchellh/vagrant/issues/4470</a> worked fine for me, I just had to remove VirtualBox 4.3.16 and install the older version 4.3.12.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/26254138#26254138", "question_id": 22575261, "answer_id": 26254138}, {"body": "<p>I had exact the same problem. I thought the problem might be with SSH keys (wrong localization of file or something else but I checked it many times) but you may always add in configure section username and password (without using ssh keys) and running gui so the code in <code>Vagrantfile</code> should look like more or less as below:</p>\n\n<pre><code>Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n\n  config.ssh.username = \"vagrant\"\n  config.ssh.password = \"vagrant\"\n\n   config.vm.provider \"virtualbox\" do |vb|\n     vb.gui = true\n   end\nend\n</code></pre>\n\n<p>In my case even if GUI was displayed I got black screen (no errors or possibility to login or anything else) and in console I got the <code>Error: Connection timeout. Retrying...</code> many times. I made sure I had VT-x (virtualization) enabled in BIOS, I checked many combinations of versions of both Virtual Box and Vagrant together and many Vagrant boxes (for some of them I didn't have black screen in GUI but still have connection problems). Finally I've updated VirtualBox and Vagrant again to the last versions and the problem still occurred.</p>\n\n<p>The crucial thing was looking at icons in VirtualBox after running vagrantup (with GUI in <code>Vagrantfile</code> as I showed above) as on the below image</p>\n\n<p><img src=\"http://i.stack.imgur.com/sa5DG.jpg\" alt=\"enter image description here\"></p>\n\n<p>Although I had no errors in VirtualPC (no warnings that VT-x is not enabled) my <code>V</code> icon was earlier gray so it means the VT-x was disabled. As I said I had it enabled in my BIOS all the time. </p>\n\n<p>Finally I realized the problem might by <code>HYPER-V</code> which I also installed and enabled to test sites on older Internet Explorer. I went to Windows <code>Control Panel -&gt; Programs and functions / Software</code> and choose from the menu on left <code>Turn on or Turn off Windows functions</code> (hope you will find those, I use Polish Windows so don't know exact English names). I turned off Hyper-V, restarted PC and after running Virtual Box and <code>vagrant up</code> I finally had no errors, in GUI I have login screen and my <code>V</code> icon stopped to be gray. </p>\n\n<p>I wasted a lot of time solving this issue (and many PC restarts) so I hope this might be helpful to anyone that have problem on Windows - make sure you have Hyper-V turned off in your Control Panel.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/26482167#26482167", "question_id": 22575261, "answer_id": 26482167}, {"body": "<p>Installing an ubuntu32 bits on an AMD64 bits did the trick. I don't have access to the BIOs since its a restricted environment, but i was still able to get it to work with ubuntu/trusty32 instead of ubuntu/trusty64</p>\n\n<p>Using Vagrant 1.6.3 with VirtualBox 4.3.15 on Windows 7 SP1</p>\n\n<p>hope that helps.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/26606454#26606454", "question_id": 22575261, "answer_id": 26606454}, {"body": "<p>It used to help to switch to trusty32, but the situation now got worse again:\nI tried to use Homestead 2.0 and now I've got the Connection Timeout problem again,\nwhich would't usually be a problem, because switching to 32bit helped before.\nBut now I can't just add a line like\n    config.vm.box=\"ubuntu/trusty32\"\nbecause we don't have a classic Homestead.yaml file anymore,\nthe values in the new 2.0 Homestead.yaml file just seem to be inserted into\nthe real one in the background and there ist no Vagrantfile available that I\ncould manually edit ...</p>\n\n<p>Hope someone can help ...</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/27009390#27009390", "question_id": 22575261, "answer_id": 27009390}, {"body": "<p>Had this issue for more than one week, Tried all solutions, </p>\n\n<pre><code>1. giving SSH username and password\n2. Enabling GUI interface\n3. Updated Virtual Box and Vagrant\n</code></pre>\n\n<p>Nothing worked.</p>\n\n<p>Finally got the solution from <a href=\"http://laravel.io/forum/05-27-2014-laravel-homestead-not-connecting-when-wifi-is-enabled\" rel=\"nofollow\">this link</a></p>\n\n<p>Add the <code>Google public DNS IP</code> to your <code>Wifi Settings</code></p>\n\n<p><code>under Network Preferences &gt; Wifi &gt; Advanced &gt; DNS</code> add <strong>IP Address 8.8.8.8</strong> </p>\n\n<p>Worked perfectly. May be this helps anyone who have problem in Mac.\nThanks Skovmand</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/27044190#27044190", "question_id": 22575261, "answer_id": 27044190}, {"body": "<p>From the virtualbox interface, I booted on a \"CD\" first, and disabled the hard drive boot. Hence it was booting on from a CD iso, and obviously not on the expected machine... I hope it helps. And I hope it made someone smile too... PEBCAK. </p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/28189334#28189334", "question_id": 22575261, "answer_id": 28189334}, {"body": "<h2>Disabled iptables firewall inside the VM</h2>\n\n<p>This is how I solved it:</p>\n\n<ul>\n<li>I enabled the GUI interface in my <code>Vagrantfile</code> (this is the config file)</li>\n<li>I could login into the running VM in the Gui with the standard username vagrant and password vagrant</li>\n<li>I disabled the running iptables firewall inside the VM</li>\n</ul>\n\n<p>This solved my problem, I found out, that the firewall blocked all IPs from local networks like 192.168.x.x and 10.x.x.x</p>\n\n<p>Adding a rule in <code>/etc/iptables.d/199-allow-wan</code> to allow all connections from wan:</p>\n\n<pre><code>ip46tables -A wan-input -j ACCEPT\n</code></pre>\n\n<p>(ip46tables is an alias) see <a href=\"https://github.com/rubo77/ffnord-example/commit/4804fb0a69847511e1f6f53e44e29bd1df2f3927\" rel=\"nofollow\">this commit in my Vagrant example Freifunk community</a></p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/28421194#28421194", "question_id": 22575261, "answer_id": 28421194}, {"body": "<p>I had an issue with this with an existing box (not sure what changed), but I <em>could</em> connect via SSH, even though the Vagrant box failed to boot up. As it happens my SSH key had changed somehow.</p>\n\n<p>From the vagrant root folder I ran <code>vagrant ssh-config</code> which told me where the key file was. I opened this with <em>puttygen</em> and then it gave me a new key.</p>\n\n<p>On my Linux guest, I edited <code>~/.ssh/authorized_keys</code> and dropped the new public key in there.</p>\n\n<p>Everything is working again - for now!</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/28694358#28694358", "question_id": 22575261, "answer_id": 28694358}, {"body": "<p>Personally, for me, Tunnelblick VPN software was blocking the connection. Now when I'm booting up new VMs I temporary disable Tunnelblick.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/29484955#29484955", "question_id": 22575261, "answer_id": 29484955}, {"body": "<p>Maybe this is too simple an answer to help a lot of people, but worth trying if you haven't: Do a \"vagrant halt\" instead of a \"vagrant suspend\" then restart the VM with \"vagrant up\".</p>\n\n<p>I think my problem was due to some \"kworker\" process getting buggy and constantly timing out in the VM and so doing a hard reboot seemed to reload the process correctly whereas a save and restore was just restoring the broken process in its broken state.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/29671537#29671537", "question_id": 22575261, "answer_id": 29671537}, {"body": "<p>Mine was running fine and then this \"Warning: Remote connection disconnect. Retrying...\" over and over until after maybe 20 it connected.  Based on answers above I just</p>\n\n<pre><code>vagrant destroy\nvagrant up\n</code></pre>\n\n<p>and it was all good.  Mine was very simple but I made it that way by cutting down the Vagrantfile to just the <code>config.vm.box = \"ubuntu/trusty64\"</code> and it was still doing it.  So that is why destroying and starting again seemed the best choice.  Given the stateless nature of these Vagrant images I don't see why that wouldn't work in every case.  I'm just getting into this and I may yet learn that that isn't true.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/30010846#30010846", "question_id": 22575261, "answer_id": 30010846}, {"body": "<p>If you're using a wrapper layer (like Kitchen CI) and you're running a 32b host, you'll have to preempt the installation of Vagrant boxes. Their default provider is the opscode \"family\" of binaries.</p>\n\n<p>So before <code>kitchen create default-ubuntu-1204</code> make sure you use:</p>\n\n<pre><code>vagrant box add default-ubuntu-1204 http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-12.04-i386_chef-provisionerless.box\n</code></pre>\n\n<p>for using the 32b image if your host doesn't support word size virtualization</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/30202965#30202965", "question_id": 22575261, "answer_id": 30202965}, {"body": "<p>Look for this line in your <code>Homestead.yaml</code>:</p>\n\n<pre><code>config.vm.network \"forwarded_port\", guest: 80, host: 8080\n</code></pre>\n\n<p>and change to:</p>\n\n<pre><code>config.vm.network \"forwarded_port\", guest: 80, host: 8000\n</code></pre>\n\n<p>then in <code>Homestead</code> directory, run:</p>\n\n<pre><code>vagrant destroy\nvagrant up\n</code></pre>\n\n<p>See if it works.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/30576824#30576824", "question_id": 22575261, "answer_id": 30576824}, {"body": "<p>After enable GUI interface still got <code>Connection refused</code> message on <code>Vagrant UP</code>.</p>\n\n<p><a href=\"http://i.stack.imgur.com/PPMQi.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/PPMQi.jpg\" alt=\"enter image description here\"></a></p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/32330666#32330666", "question_id": 22575261, "answer_id": 32330666}, {"body": "<p>One more possible solution for users of the VMware provider:\nFor me the issue was resolved after removing a parallel installation of VirtualBox on the same host machine. Network interfaces between VMware and VirtualBox were apparently conflicting</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/32349934#32349934", "question_id": 22575261, "answer_id": 32349934}, {"body": "<p>I solved by just typing <code>\u02c6C</code>(or <code>ctrl+C</code> on Windows) twice and quitting the connection failure screen.</p>\n\n<p>Then, I could connect via SSH (<code>vagrant ssh</code>) and see the error by my own.</p>\n\n<p>In my case, it was a path mistyped.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/32730040#32730040", "question_id": 22575261, "answer_id": 32730040}, {"body": "<p>The way I had to solve this wasn't mentioned in this thread, so I'm posting the details here in case it helps anyone else.  </p>\n\n<p>What causes this is that vagrant can't ssh into the machine after it boots up.  There's various reasons for this, as mentioned in this thread, such as the machine not booting up all the way, or iptables firewall blocking SSH. </p>\n\n<p>In my case, the problem was that I inadvertently setup a \"private_network\" with an IP address in the same subnet as the built-in VirtualBox NAT network (in my case 10.0.2.0/24).  This messed up the NAT network for the machine (but no errors shown anywhere), and since vagrant connects via the NAT network, it wasn't able to connect even though the machine was running and no firewalls were enabled.</p>\n\n<pre><code>Vagrant.configure(\"2\") do |config|\n  config.vm.network \"private_network\", ip: \"10.0.2.31\"\nend\n</code></pre>\n\n<p>The fix was to update my VagrantFile and use a \"private_network\" IP that didn't conflict with VirtualBox's NAT network.</p>\n\n<pre><code>Vagrant.configure(\"2\") do |config|\n  config.vm.network \"private_network\", ip: \"10.0.4.31\"\nend\n</code></pre>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/32813981#32813981", "question_id": 22575261, "answer_id": 32813981}, {"body": "<p>I have faced the same problem. I fixed this by enabling <code>Virtualization</code> from <code>BIOS</code> setup.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/34073686#34073686", "question_id": 22575261, "answer_id": 34073686}, {"body": "<p>I had the same issue, but none of other answers fully solved my problem. Answer by @Kiee was helpful, although all I could see in the GUI was a <strong>black screen</strong> (with underscore in top-left, this issue in Virtual Box also has been raised separately in stack overflow, again nothing helped).</p>\n\n<p>Eventually, a solution proved to be very simple: <strong>check version</strong> of your virtual machine.</p>\n\n<p>More precisely, I had a box from someone else with 64-bit Debian, but Virtual Box insisted to treat it as 32-bit, what I didn't notice. To change it, open Virtual Box, then open terminal and run</p>\n\n<pre><code>vagrant up\n</code></pre>\n\n<p>wait for the line</p>\n\n<pre><code>default: SSH auth method: private key\n</code></pre>\n\n<p>now you can hit ctrl+C (or wait for timeout) and run</p>\n\n<pre><code>vagrant halt\n</code></pre>\n\n<p>your virtual machine won't be destroyed, so you can see it in the menu of Virtual Box, but will be powered off, so you can change settings. Chose your machine in the menu, click 'Settings'->'General' and chose proper 'Version', for me it was 'Debian (64-bit)'. After this type <code>vagrant up</code> again.</p>\n\n<p>If this is a case for you (or different changes in 'Settings' solved your issue), you can create new box from the repaired one typing</p>\n\n<pre><code>vagrant package --output mynew.box\n</code></pre>\n\n<p>Some more details: host 32-bit Ubuntu 12.04, guest 64-bit Debian 8.1, Virtual Box 5.0.14, Vagrant 1.8.1</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/35211069#35211069", "question_id": 22575261, "answer_id": 35211069}, {"body": "<p>I had the same issue after I deleted this line from my Vagrantfile:</p>\n\n<pre><code>config.vm.network \"private_network\", type: \"dhcp\"\n</code></pre>\n\n<p>VM loaded fine after I put this line back.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/35411749#35411749", "question_id": 22575261, "answer_id": 35411749}, {"body": "<p>I was testing a mounted folder in my vagrant VM by adding a new entry into <code>/etc/fstab</code>. Later on I logged out, ran vagrant halt, but when I ran <code>vagrant up</code> I got:</p>\n\n<pre><code>SSH auth method: private key\nWarning: Remote connection disconnect. Retrying...\n</code></pre>\n\n<p>I read all these posts and tried all the ones that seemed relevant for my case (except for vagrant destroy, which would have certainly fixed my problem, but was a last resort in my case).  The post by @Kiee gave me the idea to try to boot my VM directly from the VirtualBox GUI.  During the boot process the VM halted itself and was asking me if I wanted to skip mounting the test folder that I had added earlier to <code>/etc/fstab</code>. (That's why vagrant couldn't boot the VM.) After answering 'NO' the VM booted no problem.  I logged in, removed the naughty line from my fstab, and shutdown the VM.</p>\n\n<p>After that vagrant was able to boot just fine.</p>\n\n<p>Takeaway? If vagrant all of a sudden vagrant cannot boot back into your VM, try to boot directly from the provider (VirtualBox in my case).  Chances are your boot is hanging for something totally unrelated to SSH.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/36370300#36370300", "question_id": 22575261, "answer_id": 36370300}, {"body": "<p>Delete the file:</p>\n\n<pre><code>C:\\Users\\UserName\\\\.vagrant.d\\insecure_private_key\n</code></pre>\n\n<p>Then run:</p>\n\n<pre><code>vagrant up\n</code></pre>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/36989292#36989292", "question_id": 22575261, "answer_id": 36989292}, {"body": "<p>There are many good answers here, and I couldn't read it all, but, I just came by to gave my little contribution too. I had 2 different problems:</p>\n\n<ol>\n<li><p><code>vagrant up</code> wasn't able to find my ssh '<strong>id_rsa</strong>' (because I didn't have it yet, at that time):\nI ran <code>ssh-keygen -t rsa -b 4096 -C \"myemailaddress@mydomain.com\"</code>, based on <a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/\" rel=\"nofollow\">this GitHub's article</a>, and voil\u00e1, steped through that;</p></li>\n<li><p>Then, I got the same problem of this question \"<strong>Warning: Connection timed out. Retrying...</strong>\", eternally...:\nSo, after reading a lot, I've restarted my system and looked at my BIOS (F2 to get there, on PC), and there were <strong>Virtualization disabled</strong>. I've enabled that, saved, and started the system once again, to check if it has changed anything.</p></li>\n</ol>\n\n<p>After that, <code>vagrant up</code> worked like a charm! It's 4am but it is running! How cool, h\u00e3? :D As I know there are very few masochist developers like me, that would try this at Windows, specially at <strong>Windows 10</strong>, I just couldn't not to forget coming here and left my word... another important information, is that, I was trying to set-up <strong>Laravel 5</strong>, using Homestead, VirtualBox, composer etc. It has worked. So, hope this answer helps like this question and answers helped me. My best wishes. G-bye!</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/37340214#37340214", "question_id": 22575261, "answer_id": 37340214}, {"body": "<p>I got it resolved when I killed putty process. Because I have git-ssh and putty both running. They were appearing to fight each other for ssh accessing. Only one is enough.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/37460596#37460596", "question_id": 22575261, "answer_id": 37460596}, {"body": "<p>For me it was the compatibility between vagrant and virtual box.</p>\n\n<p>I'm on windows 10 and what I did I uninstalled vagrant and virtual box</p>\n\n<p>Then install an old version of virtual box specifically version 4.3.38 ( Install extension pack too for this version )</p>\n\n<p>Then installed latest copy of vagrant ( 1.8.5 at the moment )</p>\n\n<p>After that it worked.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/38680917#38680917", "question_id": 22575261, "answer_id": 38680917}, {"body": "<p>I got this when running vagrant/VirtualBox inside VirtualBox. I resolved this by running the vagrant machine in the host machine.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/39398968#39398968", "question_id": 22575261, "answer_id": 39398968}, {"body": "<p>Like some people here already pointed out, the error appears - among other things - if the VirtualBox image did not boot properly. For me using the GUI mode on Vagrant did not help much as it only showed a black window. In the VirutalBox GUI I checked the settings on my VM and figured out that somehow the OS was set incorrectly (Debian 32 instead of 64 Bit).</p>\n\n<p>So I can only recommend checking the VirtualBox settings of the VM manually and getting the VM to boot without using Vagrant in first place.</p>\n", "title": "Vagrant stuck connection timeout retrying", "tags": ["ssh", "virtualbox", "vagrant"], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying/39469424#39469424", "question_id": 22575261, "answer_id": 39469424}], "link": "http://stackoverflow.com/questions/22575261/vagrant-stuck-connection-timeout-retrying", "question_id": 22575261}, {"body": "<p>Is there a function that I can use to iterate over an array with a for having both index and element, like python's enumerate?</p>\n\n<pre><code>for index, element in enumerate(list):\n    ...\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "answers": [{"body": "<p>Yes. As of Swift 3.0, if you need the index for each element along with its value, you can use the <a href=\"https://developer.apple.com/library/ios/documentation/swift/conceptual/Swift_Programming_Language/CollectionTypes.html#//apple_ref/doc/uid/TP40014097-CH8-XID_177\"><code>enumerated()</code> method</a> to iterate over the array. It returns a tuple composed of the index and the value for each item in the array. For example:</p>\n\n<pre><code>for (index, element) in list.enumerated() {\n  print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n\n<p>Before Swift 3.0 and after Swift 2.0, the function was called <code>enumerate()</code>:</p>\n\n<pre><code>for (index, element) in list.enumerate() {\n    print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n\n<p>Prior to Swift 2.0, <code>enumerate</code> was a global function.</p>\n\n<pre><code>for (index, element) in enumerate(list) {\n    println(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/24028458#24028458", "question_id": 24028421, "answer_id": 24028458}, {"body": "<p>I found this answer while looking for a way to do that with a <strong>Dictionary</strong>, and it turns out it's quite easy to adapt it, just pass a tuple for the element.</p>\n\n<pre><code>// Swift 2\n\nvar list = [\"a\": 1, \"b\": 2]\n\nfor (index, (letter, value)) in list.enumerate() {\n    print(\"Item \\(index): \\(letter) \\(value)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/28408654#28408654", "question_id": 24028421, "answer_id": 28408654}, {"body": "<p>Starting with Swift 2, the enumerate function needs to be called on the collection like so:</p>\n\n<pre><code>for (index, element) in list.enumerate() {\n    print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/30798846#30798846", "question_id": 24028421, "answer_id": 30798846}, {"body": "<p>Swift 2 provides a method called <code>enumerate()</code> for types that conform to <code>SequenceType</code> protocol and, by extension, <code>CollectionType</code> protocol (including <code>Array</code>, <code>Set</code>, <code>String.CharacterView</code>, <code>Range</code> or any custom sequence/collection that you may need to create).</p>\n\n<p><code>enumerate()</code> has the following declaration:</p>\n\n<pre><code>@warn_unused_result func enumerate() -&gt; EnumerateSequence&lt;Self&gt;\n</code></pre>\n\n<p>Apple states about <code>enumerate()</code> in <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Reference/Swift_SequenceType_Protocol/index.html#//apple_ref/swift/intfm/SequenceType/s:FeRq_Ss12SequenceType_SsS_9enumerateuRq_S__Fq_FT_GVSs17EnumerateSequenceq__\" rel=\"nofollow\">Swift Standard Library Reference</a>:</p>\n\n<blockquote>\n  <p>Return a lazy <code>SequenceType</code> containing pairs <em>(n, x)</em>, where <code>n</code>s are consecutive <code>Int</code>s starting at zero, and <code>x</code>s are the elements of <code>base</code>.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>In the simplest cases, you may use <code>enumerate()</code> with a for loop.</strong></p>\n\n<p>For example:</p>\n\n<pre><code>let list = [\"Car\", \"Bike\", \"Plane\", \"Boat\"]\nfor (index, element) in list.enumerate() {\n    print(index, \":\", element)\n}\n\n/*\nprints:\n0 : Car\n1 : Bike\n2 : Plane\n3 : Boat\n*/\n</code></pre>\n\n\n\n<pre><code>for (index, character) in \"Iterate\".characters.enumerate() where index &lt; 3 {\n    print(index, \":\", character)\n}\n\n/*\nprints:\n0 : I\n1 : t\n2 : e\n*/\n</code></pre>\n\n<hr>\n\n<p><strong>Note however that you're not limited to use <code>enumerate()</code> with a for loop.</strong></p>\n\n<p>In fact, if you plan to use <code>enumerate()</code> with a for loop for something similar to the following code, you're doing it wrong:</p>\n\n<pre><code>let list = [Int](1...5)\nvar arrayOfTuples = [(Int, Int)]()\n\nfor (index, element) in list.enumerate() {\n    arrayOfTuples += [(index, element)]\n}\n\nprint(arrayOfTuples) // prints [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5)]\n</code></pre>\n\n<p>The correct way to do this is:</p>\n\n<pre><code>let list = [Int](1...5)\nlet arrayOfTuples = Array(list.enumerate())\nprint(arrayOfTuples) // prints [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5)]\n</code></pre>\n\n<hr>\n\n<p>As an alternative, you may also use <code>enumerate()</code> with <code>map</code>:</p>\n\n<pre><code>let list = [Int](1...5)\nlet arrayOfDictionaries = list.enumerate().map { (a, b) in return [a : b] }\nprint(arrayOfDictionaries) // prints [[0: 1], [1: 2], [2: 3], [3: 4], [4: 5]]\n</code></pre>\n\n<hr>\n\n<p>Moreover, although it has some <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Reference/Swift_SequenceType_Protocol/#//apple_ref/swift/intfm/SequenceType/s:FPSs12SequenceType7forEachuRq_S__Fq_FzFzqqq_S_9GeneratorSs13GeneratorType7ElementT_T_\" rel=\"nofollow\">limitations</a>, <code>forEach</code> can be a good replacement to a for loop:</p>\n\n<pre><code>let list = [Int](1...5)\nlist.reverse().enumerate().forEach { print($0, \":\", $1) }\n\n/*\nprints:\n0 : 5\n1 : 4\n2 : 3\n3 : 2\n4 : 1\n*/\n</code></pre>\n\n<hr>\n\n<p><strong>By using <code>enumerate()</code> and <code>generate()</code>, you can even iterate manually on your sequence/collection.</strong></p>\n\n<p>For example:</p>\n\n<pre><code>import UIKit\n\nclass ViewController: UIViewController {\n\n    var generator = [\"Car\", \"Bike\", \"Plane\", \"Boat\"].enumerate().generate()\n\n    // Link this IBAction to a UIButton or a UIBarButtonItem in your storyboard\n    @IBAction func iterate(sender: AnyObject) {\n        let tuple: (index: Int, element: String)? = generator.next()\n        print(tuple)\n    }\n\n}\n\n/*\nWill print the following lines for 6 `touch up inside`:\nOptional((0, \"Car\"))\nOptional((1, \"Bike\"))\nOptional((2, \"Plane\"))\nOptional((3, \"Boat\"))\nnil\nnil\n*/\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/34000948#34000948", "question_id": 24028421, "answer_id": 34000948}, {"body": "<p>This is the Formula of loop of Enumeration:</p>\n\n<pre><code>for (index, value) in shoppingList.enumerate() {\nprint(\"Item \\(index + 1): \\(value)\")\n}\n</code></pre>\n\n<p>for more detail you can check <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/CollectionTypes.html#//apple_ref/doc/uid/TP40014097-CH8-ID105\">Here</a>.</p>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/34437803#34437803", "question_id": 24028421, "answer_id": 34437803}, {"body": "<h3>Basic enumerate</h3>\n\n<pre><code>for (index, element) in arrayOfValues.enumerate() {\n// do something useful\n}\n</code></pre>\n\n<h3>Enumerate, Filter and Map</h3>\n\n<p>However, I most often use enumerate in combination with map or filter. For example with operating on a couple of arrays.</p>\n\n<p>In this array I wanted to filter odd or even indexed elements and convert them from Ints to Doubles. So <code>enumerate()</code> gets you index and the element, then filter checks the index, and finally to get rid of the resulting tuple I map it to just the element.</p>\n\n<pre><code>let evens = arrayOfValues.enumerate().filter({\n                            (index: Int, element: Int) -&gt; Bool in\n                            return index % 2 == 0\n                        }).map({ (_: Int, element: Int) -&gt; Double in\n                            return Double(element)\n                        })\nlet odds = arrayOfValues.enumerate().filter({\n                            (index: Int, element: Int) -&gt; Bool in\n                            return index % 2 != 0\n                        }).map({ (_: Int, element: Int) -&gt; Double in\n                            return Double(element)\n                        })\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/35068744#35068744", "question_id": 24028421, "answer_id": 35068744}, {"body": "<p>Using <code>.enumerate()</code> works, but it does not provide the true index of the element; it only provides an Int beginning with 0 and incrementing by 1 for each successive element. This is usually irrelevant, but there is the potential for unexpected behavior when used with the <code>ArraySlice</code> type. Take the following code:</p>\n\n<pre><code>let a = [\"a\", \"b\", \"c\", \"d\", \"e\"]\na.indices //=&gt; 0..&lt;5\n\nlet aSlice = a[1..&lt;4] //=&gt; ArraySlice with [\"b\", \"c\", \"d\"]\naSlice.indices //=&gt; 1..&lt;4\n\nvar test = [Int: String]()\nfor (index, element) in aSlice.enumerate() {\n    test[index] = element\n}\ntest //=&gt; [0: \"b\", 1: \"c\", 2: \"d\"] // indices presented as 0..&lt;3, but they are actually 1..&lt;4\ntest[0] == aSlice[0] // ERROR: out of bounds\n</code></pre>\n\n<p>It's a somewhat contrived example, and it's not a common issue in practice but still I think it's worth knowing this can happen.</p>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/37518410#37518410", "question_id": 24028421, "answer_id": 37518410}, {"body": "<p>Starting with Swift 3, it is </p>\n\n<pre><code>for (index, element) in list.enumerated() {\n  print(\"Item \\(index): \\(element)\")\n}\n</code></pre>\n", "title": "swift for loop: for index, element in array?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array/37922121#37922121", "question_id": 24028421, "answer_id": 37922121}], "link": "http://stackoverflow.com/questions/24028421/swift-for-loop-for-index-element-in-array", "question_id": 24028421}, {"body": "<p>I want to create a category on <code>UIColor</code> in my app using Xcode 6. But the thing is that in Xcode 6 there is no Objective-C category file template. </p>\n\n<p>Is there any option to create a category in Xcode 6?</p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "answers": [{"body": "<p>There is no predefined template to create category in Xcode 6 beta(for time being),they may add this option later. As a work around you can create a <code>Cocoa Touch Class</code>(its not proper i know but no other way) named <code>UIImage+Additions</code>(ClassName+CategoryName) and override its interface and implementation some thing like </p>\n\n<h3>UIImage+Additions.h</h3>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface UIImage(Additions)\n\n+(void)testMethod;\n\n@end \n</code></pre>\n\n<h3>UIImage+Additions.m</h3>\n\n<pre><code>#import \"UIImage+Additions.h\"\n\n@implementation UIImage (Additions)\n\n+(void)testMethod\n{\n\n}\n\n@end\n</code></pre>\n\n<p><strong>Edit</strong><br>\nThis answer was written before finding a way of creating category in the Xcode 6 beta. Check unmircea's answer for the right way of creating category</p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/24324417#24324417", "question_id": 24324021, "answer_id": 24324417}, {"body": "<p><strong>Xcode6-Beta5 update</strong></p>\n\n<p>The interface has now changed and it's possible to add a Category directly from the New > File window.</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/24324021/how-do-i-create-category-class-in-xcode-6-beta-1/24324565#25054512\">unmircea's answer</a>.</p>\n\n<hr>\n\n<p>I was surprised myself, and I guess because of Swift they <em>forgot</em> about good old Objective-C.</p>\n\n<p>You have two options:</p>\n\n\n\n<ol>\n<li><p>Create an Objective-C class with the category name, example <code>UIView+Powerups</code>, then manually change the interface to match the one of category. Note that the snippet for the category interface and implementation is still working, so that's extra easy: type <code>@interface-category</code> and <code>@implementation-category</code>.</p></li>\n<li><p>Import it from Xcode 5! Use this command:</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>cp -r /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/File\\ Templates/Cocoa\\ Touch/Objective-C\\ category.xctemplate /Applications/Xcode6-Beta.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/File\\ Templates/Source/\n</code></pre>\n</blockquote>\n\n<p>Close and reopen Xcode 6 and you'll find \"Objective-C Category\" in the wizard for the new file.</p></li>\n</ol>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/24324565#24324565", "question_id": 24324021, "answer_id": 24324565}, {"body": "<p>You could just copy the templates you want from an older version of Xcode, I made a shell script for this:<a href=\"https://github.com/cDigger/AddMissingTemplates\" rel=\"nofollow\">https://github.com/cDigger/AddMissingTemplates</a></p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/24974433#24974433", "question_id": 24324021, "answer_id": 24974433}, {"body": "<p>They didn't forget. They just moved it without telling anyone.</p>\n\n<ol>\n<li><p>Click <code>File</code> -> <code>New</code> -> <code>File</code></p></li>\n<li><p>Select <code>Objective-C file</code> under <code>Sources</code> in <code>iOS</code> or <code>Mac OS</code> respectively and Click Next</p></li>\n<li><p>Now under <code>File Type:</code> choose either <code>Category</code>, <code>Protocol</code>, or <code>Extension</code></p></li>\n</ol>\n\n<p>PS. Under <code>File Name:</code> whatever you type here will be either the <code>Category</code>, <code>Protocol</code>, or <code>Extension</code> Name.</p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/25054512#25054512", "question_id": 24324021, "answer_id": 25054512}, {"body": "<p>To create <strong>CategoryBaseClass+CategoryName.m/.h</strong>:</p>\n\n<ol>\n<li>File \u2192 New \u2192 File... or use <strong>\u2318N</strong>.</li>\n<li>Select <strong>Objective-C File</strong>.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/uiaeR.png\" alt=\"enter image description here\"></p>\n\n<ol start=\"3\">\n<li>Type in category name, select <strong>File Type: Category</strong>, and then select the base class. </li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/TWrYr.png\" alt=\"enter image description here\"> </p>\n\n<ol start=\"4\">\n<li>Complete the flow to create the category. </li>\n</ol>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/27555678#27555678", "question_id": 24324021, "answer_id": 27555678}, {"body": "<p>Extending <a href=\"http://stackoverflow.com/a/25054512/4475605\">unmircea's fantastic answer</a> re: how to create a custom category to implement a custom <code>UIColor</code> palette, you could create a category.</p>\n\n<p>Once you've created your category (in this example, it's a <strong>category</strong> called <code>ColorPalette</code> of <strong>class</strong> <code>UIColor</code>), you'll have a header and an implementation file.</p>\n\n<p><strong>UIColor+ColorPalette.h</strong> </p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface UIColor (ColorPalette)\n\n// Your custom colors\n\n+ (UIColor *) customRedButtonColor;\n+ (UIColor *) customGreenButtonColor;\n\n@end\n</code></pre>\n\n<p><strong>UIColor+ColorPalette.m</strong> </p>\n\n<pre><code>#import \"UIColor+ColorPalette.h\"\n\n@implementation UIColor (ColorPalette)\n\n// Button Colors\n\n+ (UIColor *) customRedButtonColor {\n    return [UIColor colorWithRed:178.0/255.0 green:25.0/255.0 blue:0.0/255.0 alpha:1.0];\n}\n\n+ (UIColor *) customGreenButtonColor {\n    return [UIColor colorWithRed:20.0/255.0 green:158.0/255.0 blue:96.0/255.0 alpha:1.0];\n}\n</code></pre>\n\n<p>To use your custom color palette, just import the header into the class where you'd like to implement your custom colors:</p>\n\n<pre><code>#import \"UIColor+ColorPalette.h\"\n</code></pre>\n\n<p>and call the color as you would a standard color like <code>redColor</code>, <code>greenColor</code>, or <code>blueColor</code>.</p>\n\n<p><a href=\"http://www.hesslerdesign.com/blog/ios/custom-uicolor-extensions-for-ios/\" rel=\"nofollow\">Here's a link to a slightly more in-depth discussion</a> of creating a custom palette.</p>\n\n<p>Additionally, here is <a href=\"https://color.adobe.com\" rel=\"nofollow\">a tool to help you select the custom color values</a></p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/31676701#31676701", "question_id": 24324021, "answer_id": 31676701}, {"body": "<p>Here's a visual demonstration:</p>\n\n<p><a href=\"http://i.stack.imgur.com/y03nW.gif\"><img src=\"http://i.stack.imgur.com/y03nW.gif\" alt=\"creating a category file\"></a></p>\n", "title": "How do I create a category in Xcode 6 and 7?", "tags": ["ios", "objective-c", "category", "xcode6"], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7/36380974#36380974", "question_id": 24324021, "answer_id": 36380974}], "link": "http://stackoverflow.com/questions/24324021/how-do-i-create-a-category-in-xcode-6-and-7", "question_id": 24324021}, {"body": "<p>Given the following examples, why is <code>outerScopeVar</code> undefined in all cases?</p>\n\n<pre><code>var outerScopeVar;\n\nvar img = document.createElement('img');\nimg.onload = function() {\n    outerScopeVar = this.width;\n};\nimg.src = 'lolcat.png';\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>var outerScopeVar;\nsetTimeout(function() {\n    outerScopeVar = 'Hello Asynchronous World!';\n}, 0);\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// Example using some jQuery\nvar outerScopeVar;\n$.post('loldog', function(response) {\n    outerScopeVar = response;\n});\nalert(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// Node.js example\nvar outerScopeVar;\nfs.readFile('./catdog.html', function(err, data) {\n    outerScopeVar = data;\n});\nconsole.log(outerScopeVar);\n</code></pre>\n\n<p></p>\n\n<pre><code>// with promises\nvar outerScopeVar;\nmyPromise.then(function (response) {\n    outerScopeVar = response;\n});\nconsole.log(outerScopeVar);\n</code></pre>\n\n<p>Why does it output <code>undefined</code> in all of these examples? I don't want workarounds, I want to know <strong>why</strong> this is happening.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note:</strong> This is a canonical question for <em>JavaScript asynchronicity</em>. Feel free to improve this question and add more simplified examples which the community can identify with.</p>\n</blockquote>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "answers": [{"body": "<p>One word answer: <strong>asynchronicity</strong>.</p>\n\n<h2>Forewords</h2>\n\n<p>This topic has been iterated at least a couple of thousands times, here, in Stack Overflow. Hence, first off I'd like to point out some extremely useful resources:</p>\n\n<ul>\n<li><p><a href=\"http://stackoverflow.com/a/14220323/1331430\">@Felix Kling's \"How to return the response from an AJAX call\"</a>. See his excellent answer explaining synchronous and asynchronous flows, as well as the \"Restructure code\" section.<br>\n@Benjamin Gruenbaum has also put a lot of effort explaining asynchronicity in the same thread.</p></li>\n<li><p><a href=\"http://stackoverflow.com/a/10058879/1331430\">@Matt Esch's answer to \"Get data from fs.readFile\"</a> also explains asynchronicity extremely well in a simple manner.</p></li>\n</ul>\n\n<hr>\n\n<h2>The answer to the question at hand</h2>\n\n<p>Let's trace the common behavior first. In all examples, the <code>outerScopeVar</code> is modified inside of a <em>function</em>. That function is clearly not executed immediately, it is being assigned or passed as an argument. That is what we call a <strong><em>callback</em></strong>.</p>\n\n<p>Now the question is, when is that callback called?</p>\n\n<p>It depends on the case. Let's try to trace some common behavior again:</p>\n\n<ul>\n<li><code>img.onload</code> may be called <em>sometime in the future</em>, when (and if) the image has successfully loaded.</li>\n<li><code>setTimeout</code> may be called <em>sometime in the future</em>, after the delay has expired and the timeout hasn't been cancelled by <code>clearTimeout</code>. Note: even when using <code>0</code> as delay, all browsers have a minimum timeout delay cap (specified to be 4ms in the HTML5 spec).</li>\n<li>jQuery <code>$.post</code>'s callback may be called <em>sometime in the future</em>, when (and if) the Ajax request has been completed successfully.</li>\n<li>Node.js's <code>fs.readFile</code> may be called <em>sometime in the future</em>, when the file has been read successfully or thrown an error.</li>\n</ul>\n\n<p>In all cases, we have a callback which may run <em>sometime in the future</em>. This \"sometime in the future\" is what we refer to as <strong>asynchronous flow</strong>.</p>\n\n<p>Asynchronous execution is pushed out of the synchronous flow. That is, asynchronous code will <strong>never</strong> execute while the synchronous code stack is executing. This is the meaning of JavaScript being single-threaded.</p>\n\n<p>More specifically, when the JS engine is idle -- not executing a stack of (a)synchronous code -- it will poll for events that may have triggered asynchronous callbacks (e.g. expired timeout, received network response) and execute them one after another. This is regarded as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/EventLoop\">Event Loop</a>.</p>\n\n<p>That is, the asynchronous code highlighted in the hand-drawn red shapes may execute only after all the remaining synchronous code in their respective code blocks have executed:</p>\n\n<p><img src=\"http://i.stack.imgur.com/40IwM.png\" alt=\"async code highlighted\"></p>\n\n<p>In short, the callback functions are created synchronously, but executed asynchronously. You just can't rely on the execution of an asynchronous function until you know it has executed, and how to do that?</p>\n\n<p>It is simple, really. The logic that depends on the asynchronous function execution should be started/called from inside this asynchronous function. For example, moving the <code>alert</code>s and <code>console.log</code>s to inside the callback function would output the expected result, because the result is available at that point.</p>\n\n<h3>Implementing your own callback logic</h3>\n\n<p>Often you need to do more things with the result from an asynchronous function, or do different things with the result depending from where the asynchronous function has been called. Let's tackle a bit more complex example:</p>\n\n<pre><code>var outerScopeVar;\nhelloCatAsync();\nalert(outerScopeVar);\n\nfunction helloCatAsync() {\n    setTimeout(function() {\n        outerScopeVar = 'Nya';\n    }, Math.random() * 2000);\n}\n</code></pre>\n\n<p><strong>Note:</strong> I'm using <code>setTimeout</code> with a random delay as a generic asynchronous function, the same example applies to Ajax, <code>readFile</code>, <code>onload</code> and any other asynchronous flow.</p>\n\n<p>This example clearly suffers from the same issue as the other examples, it is not waiting until the asynchronous function executes.</p>\n\n<p>Let's tackle it implementing a callback system of our own. First off, we get rid of that ugly <code>outerScopeVar</code> which is completely useless in this case. Then we add a parameter which accepts a function argument, our callback. When the asynchronous operation finishes, we call this callback passing the result. The implementation (please read the comments in order):</p>\n\n<pre><code>// 1. Call helloCatAsync passing a callback function,\n//    which will be called receiving the result from the async operation\nhelloCatAsync(function(result) {\n    // 5. Received the result from the async function,\n    //    now do whatever you want with it:\n    alert(result);\n});\n\n// 2. The \"callback\" parameter is a reference to the function which\n//    was passed as argument from the helloCatAsync call\nfunction helloCatAsync(callback) {\n    // 3. Start async operation:\n    setTimeout(function() {\n        // 4. Finished async operation,\n        //    call the callback passing the result as argument\n        callback('Nya');\n    }, Math.random() * 2000);\n}\n</code></pre>\n\n<p>Most often in real use cases, the DOM API and most libraries already provide the callback functionality (the <code>helloCatAsync</code> implementation in this demonstrative example). You only need to pass the callback function and understand that it will execute out of the synchronous flow, and restructure your code to accommodate for that.</p>\n\n<p>You will also notice that due to the asynchronous nature, it is impossible to <code>return</code> a value from an asynchronous flow back to the synchronous flow where the callback was defined, as the asynchronous callbacks are executed long after the synchronous code has already finished executing.</p>\n\n<p>Instead of <code>return</code>ing a value from an asynchronous callback, you will have to make use of the callback pattern, or... Promises.</p>\n\n<h3>Promises</h3>\n\n<p>Although there are ways to keep the <a href=\"http://callbackhell.com/\">callback hell</a> at bay with vanilla JS, promises are growing in popularity and are currently being standardized in ES6 (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">Promise - MDN</a>).</p>\n\n<p>Promises (a.k.a. Futures) provide a more linear, and thus pleasant, reading of asynchronous code, but explaining their entire functionality is out of the scope of this question. Instead, I'll leave these excellent resources for the interested:</p>\n\n<ul>\n<li><a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">JavaScript Promises - HTML5 Rocks</a></li>\n<li><a href=\"http://domenic.me/2012/10/14/youre-missing-the-point-of-promises/\">You're Missing the Point of Promises - domenic.me</a></li>\n</ul>\n\n<hr>\n\n<h3>More reading material about JavaScript asynchronicity</h3>\n\n<ul>\n<li><a href=\"https://github.com/maxogden/art-of-node#callbacks\">The Art of Node - Callbacks</a> explains asynchronous code and callbacks very well with vanilla JS examples and Node.js code as well.</li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p><strong>Note:</strong> I've marked this answer as Community Wiki, hence anyone with at least 100 reputation can edit and improve it! Please feel free to improve this answer, or submit a completely new answer if you'd like as well.</p>\n  \n  <p>I want to turn this question into a canonical topic to answer asynchronicity issues which are unrelated to Ajax (there is <a href=\"http://stackoverflow.com/q/14220321/1331430\">How to return the response from an AJAX call?</a> for that), hence this topic needs your help to be as good and helpful as possible!</p>\n</blockquote>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron/23667087#23667087", "question_id": 23667086, "answer_id": 23667087}, {"body": "<p><em>Fabr\u00edcio's answer is spot on; but I wanted to complement his answer with something less technical, which focusses on an analogy to help explain the concept of asynchronicity</em>.</p>\n\n<hr>\n\n<h3>An Analogy...</h3>\n\n<p>Yesterday, the work I was doing required some information from a colleague. I rang him up; here's how the conversation went:</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Hi Bob, I need to know how we <em>foo</em>'d the <em>bar</em>'d last week. Jim wants a report on it, and you're the only one who knows the details around it.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Bob</strong>: Sure thing, but it'll take me around 30 minutes?</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Me</strong>: That's great Bob. Give me a ring back when you've got the information!</p>\n</blockquote>\n\n<p>At this point, I hung up the phone. Since I needed information from Bob to complete my report, I left the report and went for a coffee instead, then I caught up on some email. 40 minutes later (Bob is slow), Bob called back and gave me the information I needed. At this point, I resumed my work with my report, as I had all the information I needed.</p>\n\n<hr>\n\n<p>Imagine if the conversation had gone like this instead;</p>\n\n<blockquote>\n  <p><strong>Me</strong>: Hi Bob, I need to know how we <em>foo</em>'d the <em>bar</em>'d last week. Jim want's a report on it, and you're the only one who knows the details around it.</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Bob</strong>: Sure thing, but it'll take me around 30 minutes?</p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><strong>Me</strong>: That's great Bob. I'll wait.</p>\n</blockquote>\n\n<p>And I sat there and waited. And waited. And waited. For 40 minutes. Doing nothing but waiting. Eventually Bob gave me the information, we hung up, and I completed my report. But I'd lost 40 minutes of productivity.</p>\n\n<hr>\n\n<h3>This is asynchronous vs. synchronous behaviour</h3>\n\n<p>This is exactly what is happening in all the examples in our question. Loading an image, loading a file off disk, and requesting a page via AJAX are all slow operations (in the context of modern computing). </p>\n\n<p>Rather than <em>waiting</em> for these slow operations to complete, JavaScript lets you register a callback function which will be executed when the slow operation has completed. In the meantime however, JavaScript will continue to execute other code. The fact that JavaScript executes <em>other code</em> whilst waiting for the slow operation to complete makes the behaviour <strong>asynchronous</strong>. Had JavaScript waited around for the operation to complete before executing any other code, this would have been <strong>synchronous</strong> behaviour.</p>\n\n<pre><code>var outerScopeVar;    \nvar img = document.createElement('img');\n\n// Here we register the callback function.\nimg.onload = function() {\n    // Code within this function will be executed once the image has loaded.\n    outerScopeVar = this.width;\n};\n\n// But, while the image is loading, JavaScript continues executing, and\n// processes the following lines of JavaScript.\nimg.src = 'lolcat.png';\nalert(outerScopeVar);\n</code></pre>\n\n<p>In the code above, we're asking JavaScript to load <code>lolcat.png</code>, which is a <em>sloooow</em> operation. The callback function will be executed once this slow operation has done, but in the meantime, JavaScript will keep processing the next lines of code; i.e. <code>alert(outerScopeVar)</code>. </p>\n\n<p>This is why we see the alert showing <code>undefined</code>; since the <code>alert()</code> is processed immediately, rather than after the image has been loaded. </p>\n\n<p>In order to fix our code, all we have to do is move the <code>alert(outerScopeVar)</code> code <em>into</em> the callback function. As a consequence of this, we no longer need the <code>outerScopeVar</code> variable declared as a global variable.</p>\n\n<pre><code>var img = document.createElement('img');\n\nimg.onload = function() {\n    var localScopeVar = this.width;\n    alert(localScopeVar);\n};\n\nimg.src = 'lolcat.png';\n</code></pre>\n\n<p>You'll <strong><em>always</em></strong> see a callback being specified as a function, because that's the only* way in JavaScript to define some code, but not execute it until later.</p>\n\n<p>Therefore, in all of our examples, the <code>function() { /* Do something */ }</code> is the callback; to fix <strong>all</strong> the examples, all we have to do is move the code which needs the response of the operation into there!</p>\n\n<p><sup>* Technically you can use <code>eval()</code> as well, but <a href=\"http://stackoverflow.com/questions/86513/why-is-using-the-javascript-eval-function-a-bad-idea\"><code>eval()</code> is evil</a> for this purpose</sup></p>\n\n<hr>\n\n<h3>How do I keep my caller waiting?</h3>\n\n<p>You might currently have some code similar to this;</p>\n\n<pre><code>function getWidthOfImage(src) {\n    var outerScopeVar;\n\n    var img = document.createElement('img');\n    img.onload = function() {\n        outerScopeVar = this.width;\n    };\n    img.src = src;\n    return outerScopeVar;\n}\n\nvar width = getWidthOfImage('lolcat.png');\nalert(width);\n</code></pre>\n\n<p>However, we now know that the <code>return outerScopeVar</code> happens immediately; before the <code>onload</code> callback function has updated the variable. This leads to <code>getWidthOfImage()</code> returning <code>undefined</code>, and <code>undefined</code> being alert'd.</p>\n\n<p>To fix this, we need to allow the function calling <code>getWidthOfImage()</code> to register a callback, then move the alert'ing of the width to be within that callback;</p>\n\n<pre><code>function getWidthOfImage(src, cb) {     \n    var img = document.createElement('img');\n    img.onload = function() {\n        cb(this.width);\n    };\n    img.src = src;\n}\n\ngetWidthOfImage('lolcat.png', function (width) {\n    alert(width);\n});\n</code></pre>\n\n<p>... as before, note that we've been able to remove the global variables (in this case <code>width</code>).</p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron/23929676#23929676", "question_id": 23667086, "answer_id": 23929676}, {"body": "<p>The other answers are excellent, but I wanted to provide a more concise answer for people that are looking for a quick reference as well as some examples using promises.</p>\n\n<p>Start with the naive approach (that doesn't work) for a function that calls an asynchronous method (in this case <code>setTimeout</code>) and returns a message:</p>\n\n<pre><code>function getMessage() {\n  var outerScopeVar;\n  setTimeout(function() {\n    outerScopeVar = 'Hello asynchronous world!';\n  }, 0);\n  return outerScopeVar;\n}\nconsole.log(getMessage());\n</code></pre>\n\n<p><code>undefined</code> gets logged in this case because <code>getMessage</code> returns before the <code>setTimeout</code> callback is called and updates <code>outerScopeVar</code>.</p>\n\n<p>The two main ways to solve it are using <strong>callbacks</strong> and <strong>promises</strong>:</p>\n\n<p><strong>Callbacks</strong></p>\n\n<p>The change here is that <code>getMessage</code> accepts a <code>callback</code> parameter that will be called to deliver the results back to the calling code once available.</p>\n\n<pre><code>function getMessage(callback) {\n  setTimeout(function() {\n    callback('Hello asynchronous world!');\n  }, 0);\n}\ngetMessage(function(message) {\n  console.log(message);\n});\n</code></pre>\n\n<p><strong><a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">Promises</a></strong></p>\n\n<p>Promises provide an alternative which is more flexible than callbacks because they can be naturally combined to coordinate multiple async operations. A <a href=\"https://promisesaplus.com/\">Promises/A+</a> standard implementation is natively provided in node.js (0.12+) and many current browsers, but is also implemented in libraries like <a href=\"https://github.com/petkaantonov/bluebird\">Bluebird</a> and <a href=\"https://github.com/kriskowal/q\">Q</a>.</p>\n\n<pre><code>function getMessage() {\n  return new Promise(function(resolve, reject) {\n    setTimeout(function() {\n      resolve('Hello asynchronous world!');\n    }, 0);\n  });\n}\n\ngetMessage().then(function(message) {\n  console.log(message);  \n});\n</code></pre>\n\n<p><strong>jQuery <a href=\"http://api.jquery.com/category/deferred-object/\">Deferreds</a></strong></p>\n\n<p>jQuery provides functionality that's similar to promises with its Deferreds.</p>\n\n<pre><code>function getMessage() {\n  var deferred = $.Deferred();\n  setTimeout(function() {\n    deferred.resolve('Hello asynchronous world!');\n  }, 0);\n  return deferred.promise();\n}\n\ngetMessage().done(function(message) {\n  console.log(message);  \n});\n</code></pre>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron/28057246#28057246", "question_id": 23667086, "answer_id": 28057246}, {"body": "<p>In all these scenarios <code>outerScopeVar</code> is modified or assigned a value <strong>asynchronously</strong> or <strong>happening in a later time(waiting or listening for some event to occur),for which the current execution will not wait</strong>.So all these cases current execution flow results in <code>outerScopeVar = undefined</code></p>\n\n<p>Let's discuss each examples(I marked the portion which is called asynchronously or delayed for some events to occur):</p>\n\n<p><strong>1.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/Ck9q6.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/Ck9q6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here we register an eventlistner which will be executed upon that particular event.Here loading of image.Then the current execution continuous with next lines <code>img.src = 'lolcat.png';</code> and <code>alert(outerScopeVar);</code> meanwhile the event may not occur. i.e, funtion <code>img.onload</code> wait for the referred image to load, asynchrously. This will happen all the folowing example- the event may differ.</p>\n\n<p><strong>2.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/rOzdX.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/rOzdX.png\" alt=\"2\"></a></p>\n\n<p>Here the timeout event plays the role, which will invoke the handler after the specified time. Here it is <code>0</code>, but still it registers an asynchronous event it will be added to the last position of the <code>Event Queue</code> for execution, which makes the guaranteed delay.</p>\n\n<p><strong>3.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/2VpYE.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/2VpYE.png\" alt=\"enter image description here\"></a>\nThis time ajax callback.</p>\n\n<p><strong>4.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/p8ZrL.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/p8ZrL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Node can be consider as a king of asynchronous coding.Here the marked function is registered as a callback handler which will be executed after reading the specified file.</p>\n\n<p><strong>5.</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/vpmGy.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/vpmGy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Obvious promise (something will be done in future) is asynchronous. see <a href=\"http://stackoverflow.com/questions/6801283/what-are-the-differences-between-deferred-promise-and-future-in-javascript\">What are the differences between Deferred, Promise and Future in Javascript?</a></p>\n\n<p><a href=\"https://www.quora.com/Whats-the-difference-between-a-promise-and-a-callback-in-Javascript\" rel=\"nofollow\">https://www.quora.com/Whats-the-difference-between-a-promise-and-a-callback-in-Javascript</a></p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron/33361333#33361333", "question_id": 23667086, "answer_id": 33361333}, {"body": "<p>To state the obvious, the cup represents <code>outerScopeVar</code>.  </p>\n\n<p>Asynchronous functions be like...</p>\n\n<p><a href=\"http://i.stack.imgur.com/yCASc.jpg\"><img src=\"http://i.stack.imgur.com/yCASc.jpg\" alt=\"asynchronous call for coffee\"></a></p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron/34161451#34161451", "question_id": 23667086, "answer_id": 34161451}, {"body": "<p>The other answers are excellent and I just want to provide a straight forward answer to this. Just limiting to jQuery asynchronous calls</p>\n\n<p>All ajax calls (including the <code>$.get</code> or <code>$.post</code> or <code>$.ajax</code>) are asynchronous.</p>\n\n<p>Considering your example</p>\n\n<pre><code>var outerScopeVar;  //line 1\n$.post('loldog', function(response) {  //line 2\n    outerScopeVar = response;\n});\nalert(outerScopeVar);  //line 3\n</code></pre>\n\n<p>The code execution starts from line 1, declares the variable and triggers and asynchronous call on line 2, (i.e., the post request) and it continues its execution from line 3, without waiting for the post request to complete its execution.</p>\n\n<p>Lets say that the post request takes 10 seconds to complete, the value of <code>outerScopeVar</code> will only be set after those 10 seconds.</p>\n\n<p>To try out,</p>\n\n<pre><code>var outerScopeVar; //line 1\n$.post('loldog', function(response) {  //line 2, takes 10 seconds to complete\n    outerScopeVar = response;\n});\nalert(\"Lets wait for some time here! Waiting is fun\");  //line 3\nalert(outerScopeVar);  //line 4\n</code></pre>\n\n<p>Now when you execute this, you would get an alert on line 3. Now wait for some time until you are sure the post request has returned some value. Then when you click OK, on the alert box, next alert would print the expected value, because you waited for it.</p>\n\n<p>In real life scenario, the code becomes,</p>\n\n<pre><code>var outerScopeVar;\n$.post('loldog', function(response) {\n    outerScopeVar = response;\n    alert(outerScopeVar);\n});\n</code></pre>\n\n<p>All the code that depends on the asynchronous calls, is moved inside the asynchronous block, or by waiting on the asynchronous calls.</p>\n", "title": "Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference", "tags": ["javascript", "asynchronous"], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron/35643195#35643195", "question_id": 23667086, "answer_id": 35643195}], "link": "http://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron", "question_id": 23667086}, {"body": "<p>I am creating my first Bower component. After running <code>bower init</code> the script asks me 'what types of modules does this package expose?' with these options:</p>\n\n<ul>\n<li>amd </li>\n<li>es6 </li>\n<li>globals </li>\n<li>node</li>\n</ul>\n\n<p>what is the difference between these options?</p>\n", "title": "bower init - difference between amd, es6, globals and node", "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"], "answers": [{"body": "<p>If you don't know, it's quite likely globals is the right answer for you.</p>\n\n<p>Either way, you need to understand:</p>\n\n<ul>\n<li><a href=\"http://requirejs.org/docs/whyamd.html\">what is and why AMD</a></li>\n<li><a href=\"http://nodejs.org/api/modules.html\">what is a nodejs module</a></li>\n<li><a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:modules\">what is ecmascript 6 and especially es6 modules</a></li>\n</ul>\n\n<h2>[UPDATE]</h2>\n\n<p>This feature was introduced very recently in bower and is not documented at all yet (AFAIK). It essentially describes the <code>moduleType</code>, which states for what module technology the package is meant to be consumed (see above).</p>\n\n<p>Right now, It doesn't have any effect apart from setting the <code>moduleType</code> property in the <code>bower.json</code> file of the package.</p>\n\n<p>See <a href=\"https://github.com/bower/bower/pull/934\">https://github.com/bower/bower/pull/934</a> for the original pull-request.</p>\n\n<h2>[UPDATE #2]</h2>\n\n<p>A few additional points, to answer comments:</p>\n\n<ul>\n<li>right now AFAIK there is no validation done on the <code>moduleType</code> property - which means that people are technically allowed to use whatever value they want for it, including <code>angularjs</code> if they feel inclined to do so</li>\n<li>the <a href=\"https://github.com/bower/bower/pull/1129#issuecomment-37359448\">bower committee</a> seems to not be keen toward the inclusion of additional <code>non-interoperable/proprietary moduleTypes</code> (think composer, angular, etc) - which is easily understandable, but yet again, nothing really prevents people from using the <code>moduleType</code> value they want</li>\n<li>an exception to the previous is the (somewhat) recent inclusion of the <code>yui moduleType</code>, so, there are \"exceptions\" to be made, assuming they are <a href=\"https://github.com/bower/bower/pull/1129#issuecomment-37828996\">part of a concerted plan</a></li>\n</ul>\n\n<p>What I would do if I were to author a package for a not-listed package manager and publish it on bower?</p>\n\n<p>I would author an es6 module, and use / patch <a href=\"https://github.com/square/es6-module-transpiler\">es6-transpiler</a> to output the package format I need. Then I would either/and:</p>\n\n<ul>\n<li>petition the bower guys to include my package technology as a choice (based on the fact it's supported by es6-transpiler as a target)</li>\n<li>publish my package including both the es6 module version of it and the transpiled XXX version of it, and use <code>es6</code> as a <code>moduleType</code></li>\n</ul>\n\n<p>Disclaimer: I don't have real-life experience authoring angularjs modules.</p>\n", "title": "bower init - difference between amd, es6, globals and node", "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"], "link": "http://stackoverflow.com/questions/22674018/bower-init-difference-between-amd-es6-globals-and-node/22683614#22683614", "question_id": 22674018, "answer_id": 22683614}, {"body": "<h2>Initial</h2>\n\n<p>I'm using <code>bower init</code> for first time too.</p>\n\n<p>The options should refer to the different ways to modularize some JavaScript code:</p>\n\n<ul>\n<li>amd: using AMD <code>define</code>, like requirejs.</li>\n<li>node: using Node.js <code>require</code>.</li>\n<li>globals: using JavaScript module pattern to expose a global variable (like window.JQuery).</li>\n<li>es6: using upcoming EcmaScript6 module feature.</li>\n</ul>\n\n<p>In my case I wrote a Node.js module <a href=\"http://g14n.info/dflow\" rel=\"nofollow\" title=\"dflow\">dflow</a> but I'm using browserify to create a <em>dist/dflow.js</em> file that exports a global <em>dflow</em> var: so I selected <strong>globals</strong>.</p>\n\n<h2>Other Updates</h2>\n\n<p>The command I used to browserify <a href=\"http://g14n.info/dflow\" rel=\"nofollow\" title=\"dflow\">dflow</a> as a <em>window</em> global object was</p>\n\n<p><code>\nbrowserify -s dflow -e index.js -o dist/dflow.js\n</code></p>\n\n<p>I changed it cause I prefer to use <em>require</em> also inside the browser, so now I am using</p>\n\n<p><code>\nbrowserify -r ./index.js:dflow -o dist/dflow.js\n</code></p>\n\n<p>and so I changed the <em>bower.moduleType</em> to <strong>node</strong> in my <em>bower.json</em> file.</p>\n\n<p>The main motivation was that if my module name has a dash, for example my project <a href=\"http://g14n.info/flow-view\" rel=\"nofollow\" title=\"flow-view\">flow-view</a>, I need to <em>camelize</em> the global name in <em>flowView</em>.</p>\n\n<p>This new approach has two other benefits:</p>\n\n<ol>\n<li>Node and browser interface are the same. Using <em>require</em> on both client side and server side, let me write only once the code examples, and reuse them easily on both contexts.</li>\n<li>I use npm scripts and so, I can take advantage of <code>${npm_package_name}</code> variable and write once the script I use to browserify.</li>\n</ol>\n\n<p>This is another topic, but, it is really worth that you consider how it is useful the latter benefit: let me share the <code>npm.scripts.browserify</code> attribute I use in my <em>package.json</em> </p>\n\n<p><code>\"browserify\": \"browserify -r ./index.js:${npm_package_name} -o dist/${npm_package_name}.js\"</code></p>\n", "title": "bower init - difference between amd, es6, globals and node", "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"], "link": "http://stackoverflow.com/questions/22674018/bower-init-difference-between-amd-es6-globals-and-node/26777353#26777353", "question_id": 22674018, "answer_id": 26777353}, {"body": "<p>Just for reference, this is precisely what bower specifies regarding the module types:</p>\n\n<blockquote>\n  <p>The type of module defined in the <code>main</code> JavaScript file. Can be one or an array of the following strings:</p>\n  \n  <ul>\n  <li><code>globals</code>: JavaScript module that adds to global namespace, using <code>window.namespace</code> or <code>this.namespace</code> syntax</li>\n  <li><code>amd</code>: JavaScript module compatible with AMD, like <a href=\"http://requirejs.org/\">RequireJS</a>, using <code>define()</code> syntax</li>\n  <li><code>node</code>: JavaScript module compatible with <a href=\"https://nodejs.org/\">node</a> and <a href=\"https://nodejs.org/docs/latest/api/modules.html\">CommonJS</a> using <code>module.exports</code> syntax</li>\n  <li><code>es6</code>: JavaScript module compatible with <a href=\"http://www.2ality.com/2014/09/es6-modules-final.html\">ECMAScript 6 modules</a>, using <code>export</code> and <code>import</code> syntax</li>\n  <li><code>yui</code>: JavaScript module compatible with <a href=\"http://yuilibrary.com/yui/docs/yui/create.html\">YUI Modules</a>, using <code>YUI.add()</code> syntax</li>\n  </ul>\n</blockquote>\n\n<p>Relevant link: <a href=\"https://github.com/bower/spec/blob/master/json.md#moduletype\">https://github.com/bower/spec/blob/master/json.md#moduletype</a></p>\n", "title": "bower init - difference between amd, es6, globals and node", "tags": ["node.js", "ecmascript-6", "bower", "js-amd", "es2015"], "link": "http://stackoverflow.com/questions/22674018/bower-init-difference-between-amd-es6-globals-and-node/35269660#35269660", "question_id": 22674018, "answer_id": 35269660}], "link": "http://stackoverflow.com/questions/22674018/bower-init-difference-between-amd-es6-globals-and-node", "question_id": 22674018}, {"body": "<p>I keep seeing this constant pop up in various graphics header files</p>\n\n<pre><code>0.0039215689\n</code></pre>\n\n<p>It seems to have something to do with color maybe?</p>\n\n<p>Here is the first <a href=\"http://ozmav.googlecode.com/svn-history/r178/trunk/badrdp/rdp.c\">hit on Google</a>:</p>\n\n<pre><code>void RDP_G_SETFOGCOLOR(void)\n{\n    Gfx.FogColor.R = _SHIFTR(w1, 24, 8) * 0.0039215689f;\n    Gfx.FogColor.G = _SHIFTR(w1, 16, 8) * 0.0039215689f;\n    Gfx.FogColor.B = _SHIFTR(w1, 8, 8) * 0.0039215689f;\n    Gfx.FogColor.A = _SHIFTR(w1, 0, 8) * 0.0039215689f;\n}\n\nvoid RDP_G_SETBLENDCOLOR(void)\n{\n    Gfx.BlendColor.R = _SHIFTR(w1, 24, 8) * 0.0039215689f;\n    Gfx.BlendColor.G = _SHIFTR(w1, 16, 8) * 0.0039215689f;\n    Gfx.BlendColor.B = _SHIFTR(w1, 8, 8) * 0.0039215689f;\n    Gfx.BlendColor.A = _SHIFTR(w1, 0, 8) * 0.0039215689f;\n\n    if(OpenGL.Ext_FragmentProgram &amp;&amp; (System.Options &amp; BRDP_COMBINER)) {\n        glProgramEnvParameter4fARB(GL_FRAGMENT_PROGRAM_ARB, 2, Gfx.BlendColor.R, Gfx.BlendColor.G, Gfx.BlendColor.B, Gfx.BlendColor.A);\n    }\n}\n\n//...more like this\n</code></pre>\n\n<p>What does this number represent? Why does no one seem to declare it as a const?</p>\n\n<p>I couldn't find anything on Google that explained it.</p>\n", "title": "What does the constant 0.0039215689 represent?", "tags": ["c", "floating-point", "constants", "magic-numbers"], "answers": [{"body": "<p>This multiplication by <code>0.0039215689f</code> converts an integer valued color intensity in the range 0 to 255 to a real valued color intensity in the range 0 to 1.</p>\n\n<p>As Ilmari Karonen points out, even if this is an optimisation it's a rather badly expressed one. It would be so much clearer to multiply by <code>(1.0f/255)</code>. </p>\n", "title": "What does the constant 0.0039215689 represent?", "tags": ["c", "floating-point", "constants", "magic-numbers"], "link": "http://stackoverflow.com/questions/22621241/what-does-the-constant-0-0039215689-represent/22621305#22621305", "question_id": 22621241, "answer_id": 22621305}, {"body": "<p><code>0.0039215689</code> is approximately equal to <code>1/255</code>.</p>\n\n<p>Seeing that this is OpenGL, performance is probably important. So it's probably safe to guess that this was done for performance reasons.</p>\n\n<p>Multiplying by the reciprocal is faster than repeatedly dividing by 255.</p>\n\n<hr>\n\n<p><strong>Side Note:</strong></p>\n\n<p>If you're wondering why such a micro-optimization isn't left to the compiler, it's because it is an unsafe floating-point optimization. In other words:</p>\n\n<pre><code>x / 255  !=  x * (1. / 255)\n</code></pre>\n\n<p>due to floating-point round-off errors.</p>\n\n<p>So while modern compilers may be smart enough to do this optimization, they are not allowed to do it unless you explicitly tell them to via a compiler flag.</p>\n\n<p><strong>Related:</strong> <a href=\"http://stackoverflow.com/q/6430448/922184\">Why doesn&#39;t GCC optimize a*a*a*a*a*a to (a*a*a)*(a*a*a)?</a></p>\n", "title": "What does the constant 0.0039215689 represent?", "tags": ["c", "floating-point", "constants", "magic-numbers"], "link": "http://stackoverflow.com/questions/22621241/what-does-the-constant-0-0039215689-represent/22621361#22621361", "question_id": 22621241, "answer_id": 22621361}], "link": "http://stackoverflow.com/questions/22621241/what-does-the-constant-0-0039215689-represent", "question_id": 22621241}, {"body": "<p>I wanted to use the MEAN JavaScript Stack, but I noticed that there are two different stacks with either their own website and installation methods: mean.js and mean.io. So I came up asking myself this question: \"Which one do I use?\".</p>\n\n<p>So in order to answer this question I ask the community if you could explain what are the differences between these two? And if possible pros and cons? Because they look very similar to me.</p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "answers": [{"body": "<p>They're essentially the same... They both use swig for templating, they both use karma and mocha for tests, passport integration, nodemon, etc. </p>\n\n<p>Why so similar? Mean.js is a fork of Mean.io and both initiatives were started by <a href=\"https://github.com/amoshaviv\">the same guy</a>... Mean.io is now under the umbrella of the company Linnovate and looks like the guy (Amos Haviv) stopped his collaboration with this company and started Mean.js. You can read more about the reasons <a href=\"http://blog.meanjs.org/post/76726660228/forking-out-of-an-open-source-conflict\">here</a>. </p>\n\n<p>Now... main (or little) differences you can see right now are:</p>\n\n<p><br></p>\n\n<p><strong>SCAFFOLDING AND BOILERPLATE GENERATION</strong></p>\n\n<p>Mean.io uses a custom cli tool named 'mean'<br>\nMean.js uses Yeoman Generators</p>\n\n<p><br>\n<strong>MODULARITY</strong></p>\n\n<p>Mean.io uses a more self-contained node packages modularity with client and server files inside the modules.<br>\nMean.js uses modules just in the front-end (for angular), and connects them with Express. Although they were working on vertical modules as well...</p>\n\n<p><br>\n<strong>BUILD SYSTEM</strong></p>\n\n<p>Mean.io has recently moved to gulp<br>\nMean.js uses grunt</p>\n\n<p><br>\n<strong>DEPLOYMENT</strong></p>\n\n<p>Both have Dockerfiles in their respective repos, and Mean.io has one-click install on <a href=\"https://cloud.google.com/solutions/mean/click-to-deploy\">Google Compute Engine</a>, while Mean.js can also be deployed with <a href=\"https://www.digitalocean.com/features/one-click-apps/mean/\">one-click install on Digital Ocean</a>.</p>\n\n<p><br>\n<strong>DOCUMENTATION</strong></p>\n\n<p>Mean.io has ok docs<br>\nMean.js has AWESOME docs</p>\n\n<p><br>\n<strong>COMMUNITY</strong></p>\n\n<p>Mean.io has a bigger community since it was the original boilerplate<br>\nMean.js has less momentum but steady growth</p>\n\n<p><br>\nOn a personal level, I like more the philosophy and openness of MeanJS and more the traction and modules/packages approach of MeanIO. Both are nice, and you'll end probably modifying them, so you can't really go wrong picking one or the other. Just take them as starting point and as a learning exercise.</p>\n\n<p><br></p>\n\n<h2>ALTERNATIVE \u201cMEAN\u201d SOLUTIONS</h2>\n\n<p>MEAN is a generic way (coined by <a href=\"http://blog.mongodb.org/post/49262866911/the-mean-stack-mongodb-expressjs-angularjs-and\">Valeri Karpov</a>) to describe a boilerplate/framework that takes \"Mongo + Express + Angular + Node\" as the base of the stack. You can find frameworks with this stack that use other denomination, some of them really good for RAD (Rapid Application Development) and building SPAs. Eg:</p>\n\n<ul>\n<li><strong><a href=\"https://www.meteor.com/\">Meteor</a></strong>. Now with official <a href=\"http://angular-meteor.com/\">Angular support</a>, represents a <a href=\"http://info.meteor.com/blog/thoughts-on-angular-meteor-as-a-great-mean-stack\">great MEAN stack</a> </li>\n<li><a href=\"http://strongloop.com/mobile-application-development/loopback/\">StrongLoop Loopback</a> (main Node.js core contributors and <a href=\"http://strongloop.com/strongblog/tj-holowaychuk-sponsorship-of-express/\">Express maintainers</a>)</li>\n<li><a href=\"https://github.com/DaftMonk/generator-angular-fullstack\">Generator Angular Fullstack</a></li>\n<li><a href=\"http://www.quora.com/Node-js/Should-I-use-a-MEAN-stack-or-Angular-+-Sails-js-for-a-node-js-powered-back-end-structure-or-framework\">Sails.js</a></li>\n<li><a href=\"http://cleverstack.io/\">Cleverstack</a></li>\n<li>Deployd, etc (there are more)</li>\n</ul>\n\n<p>You also have <a href=\"https://github.com/sahat/hackathon-starter\">Hackathon Starter</a>. It doesn't have A of MEAN (it is 'MEN'), but it rocks..</p>\n\n<p>Have fun!</p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io/23206972#23206972", "question_id": 23199392, "answer_id": 23206972}, {"body": "<p>First of all, <strong>MEAN</strong> stands for <strong>MongoDB</strong>, <strong>Express</strong>, <strong>Angular</strong> and <strong>Node.js</strong>. It <em>generically</em> identifies the combined used of these technologies. There is <strong>no</strong> such a thing as \"<strong>THE</strong> MEAN framework\".</p>\n\n<p><a href=\"http://www.linkedin.com/in/liorkesos\">Lior Kesos</a> at <a href=\"http://www.linnovate.net\">Linnovate</a> took advantage of this confusion. He bought the domain MEAN.io and put some code at <a href=\"https://github.com/linnovate/mean\">https://github.com/linnovate/mean</a></p>\n\n<p>They luckily received a lot of publicity. In the Internet lately there are more and more articles and video about MEAN. When you Google \"mean framework\" mean.io is the first in the list.</p>\n\n<p>Unfortunately the code at <a href=\"https://github.com/linnovate/mean\">https://github.com/linnovate/mean</a> seemed <em>poorly engineered</em>. In February I felt in the trap. The site mean.io had a catchy design and the Github repo had 1000+ stars. The idea of questioning the quality did not even pass through my mind. I started experimenting with it but it did not take too long to stumble in things that were not working and puzzling pieces of code. The commit history was also pretty concerning. They reengineered the code and directory structure multiple times and merging the new changes is too time consuming.</p>\n\n<p>The nice things about both mean.io and mean.js code is that they come with Bootstrap integration. They also come with Facebook, Github, Linkedin etc authentication through <a href=\"http://passportjs.org/\">PassportJs</a> and an example of a model (Article) on the backend on MongoDB that sync with the frontend model with AngularJS.</p>\n\n<p>According to Linnovate's website: </p>\n\n<blockquote>\n  <p>Linnovate is the leading Open Source company in Israel, with the most\n  experienced team in the country, dedicated to the creation of high-end\n  open source solutions. Linnovate is the only company in Israel which\n  gives an A-Z services for enterprises for building and maintaining\n  their next web project.</p>\n</blockquote>\n\n<p>From the website it looks like that their core skill set is Drupal (a PHP content management system) and only lately they started using Node.js and AngularJS.</p>\n\n<p>Lately I was reading the <a href=\"http://blog.meanjs.org/post/76726660228/forking-out-of-an-open-source-conflict\">Mean.js Blog</a> and things became clearer. My understanding is that the main Javascript developer (Amos Haviv) left Linnovate to work on Mean.js leaving MEAN.io project with people that are novice Node.js developers that are slowing understanding how things are supposed to work.</p>\n\n<p>In the future things may change but for now I would avoid to use mean.io. If you are looking for a boilerplate for a quickstart Mean.js seems a better option than mean.io.</p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io/23306356#23306356", "question_id": 23199392, "answer_id": 23306356}, {"body": "<p>Here is a side-by-side comparison of several application starters/generators and other technologies including MEAN.js, MEAN.io, and cleverstack.  I keep adding alternatives as I find time and as that happens, the list of potentially provided benefits keeps growing too.  Today it's up to around 1600.  If anyone wants to help improve its accuracy or completeness, click the next link and do a questionnaire about something you know.</p>\n\n<p><a href=\"http://www.dancancro.com/technology-questionnaires/\" rel=\"nofollow\">Compare app technologies project</a></p>\n\n<p>From this database, the system generates reports like the following:</p>\n\n<p><a href=\"http://dancancro.com/meanio_vs_meanjs.html\" rel=\"nofollow\">MeanJS vs MeanIO trade-off report</a></p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io/24441248#24441248", "question_id": 23199392, "answer_id": 24441248}, {"body": "<p>I'm surprised nobody has mentioned the Yeoman generator <a href=\"https://github.com/DaftMonk/generator-angular-fullstack\">angular-fullstack</a>.\nIt is the number one Yeoman community generator, with currently 1490 stars on the <a href=\"http://yeoman.io/generators/\">generator page</a> vs Mean.js' 81 stars (admittedly not a fair comparison given how new MEANJS is).  It is appears to be actively maintained and is in version 2.05 as I write this.  Unlike MEANJS, it doesn't use Swig for templating.  It can be scaffolded with passport built in.</p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io/24907475#24907475", "question_id": 23199392, "answer_id": 24907475}, {"body": "<p><a href=\"https://docs.google.com/spreadsheets/d/1r8rJy2Q5p5QORYKcye93UECwOlSgFL24c5fyF7dqhaM/edit#gid=239778472\" rel=\"nofollow\">The Starter Trade-offs sheet</a> of my comparison spreadsheet has comprehensive one-on-one comparisons between each generator.  So no more need to distortedly cherry-pick great things to say about your favorite.  </p>\n\n<p>Here is the one between generator-angular-fullstack and MEAN.js.  The percentages are values for each benefit based on my personal weightings, where a perfect generator would be 100% </p>\n\n<p>generator- angular- fullstack offers 8% that MEANJS.org doesn't</p>\n\n<ul>\n<li>1.9% Client-side end-to-end tests<br/></li>\n<li>0.6% factory<br/></li>\n<li>0.5% provider<br/></li>\n<li>0.4% SASS<br/></li>\n<li>0.4% LESS<br/></li>\n<li>0.4% Compass<br/></li>\n<li>0.4% decorator<br/></li>\n<li>0.4% Endpoint subgenerator<br/></li>\n<li>0.4% Comments<br/></li>\n<li>0.3% FontAwesome<br/></li>\n<li>0.3% Run server in debug mode<br/></li>\n<li>0.3% Save generator answers to a file<br/></li>\n<li>0.2% constant<br/></li>\n<li>0.2% Development build script: ...... replace 3rd party deps with CDN versions<br/></li>\n<li>0.2% Authentication - Cookie<br/></li>\n<li>0.2% Authentication - JSON Web Token (JWT)<br/></li>\n<li>0.2% Server-side logging<br/></li>\n<li>0.1% Development build script: run tasks in parallel to speed it up<br/></li>\n<li>0.1% Development build script: Renames asset files to prevent browser caching<br/></li>\n<li>0.1% Development build script: run end to end tests<br/></li>\n<li>0.1% Production build script: safe pre-minification<br/></li>\n<li>0.1% Production build script: add CSS vendor prefixes<br/></li>\n<li>0.1% Heroku deployment automation<br/></li>\n<li>0.1% value<br/></li>\n<li>0.1% Jade<br/></li>\n<li>0.1% Coffeescript<br/></li>\n<li>0.1% Serverside authenticated route restriction<br/></li>\n<li>0.1% SASS version of Twitter Bootstrap<br/></li>\n<li>0.1% Production build script: compress images<br/></li>\n<li>0.1% OpenShift deployment automation<br/></li>\n</ul>\n\n<p>MeanJS.org. offers 9% that generator-angular-fullstack doesn't</p>\n\n<ul>\n<li>3.7% Dedicated/searchable user group: response time mostly under a day<br/></li>\n<li>0.4% Generate routes<br/></li>\n<li>0.4% Authentication - Oauth<br/></li>\n<li>0.4% config<br/></li>\n<li>0.4% i18n, localization<br/></li>\n<li>0.4% Input application profile<br/></li>\n<li>0.3% FEATURE (a.k.a. module, entity, crud-mock)<br/></li>\n<li>0.3% Menus system<br/></li>\n<li>0.3% Options for making subcomponents<br/></li>\n<li>0.3% test - client side<br/></li>\n<li>0.3% Javascript performance thing<br/></li>\n<li>0.3% Production build script: make static pages for SEO<br/></li>\n<li>0.2% Quick install?<br/></li>\n<li>0.2% Dedicated/searchable user group<br/></li>\n<li>0.1% Development build script: reload build file upon change<br/></li>\n<li>0.1% Development build script: coffee files compiled to JS<br/></li>\n<li>0.1% controller - server side<br/></li>\n<li>0.1% model - server side<br/></li>\n<li>0.1% route - server side<br/></li>\n<li>0.1% test - server side<br/></li>\n<li>0.1% Swig<br/></li>\n<li>0.1% Safe from IP Spoofing<br/></li>\n<li>0.1% Production build script: uglification<br/></li>\n<li>0.0% Approach to views: URLs start with \"#!\"<br/></li>\n<li>0.0% Approach to frontend services and ajax calls: uses $resource<br/></li>\n</ul>\n\n<p>Here is the one between MEAN.io and MEAN.js in a more readable format</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table border=\"1\" cellpadding=\"10\"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td valign=\"top\" width=\"33%\"&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt;MeanJS.org. provides these benefits that MEAN.io. doesn't&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Help&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, using github issues&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* There's a book about it&lt;br&gt;&lt;b&gt;File Organization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Basic sourcecode organization, module(-&amp;gt;submodule)-&amp;gt;side&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold directives&lt;br&gt;&lt;b&gt;Code Modularization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, Only one module definition per file&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, Don\u2019t alter a module other than where it is defined&lt;br&gt;&lt;b&gt;Model&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Object-relational mapping&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Server-side validation, server-side example&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Client side validation, using Angular 1.3&lt;br&gt;&lt;b&gt;View&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS views, Directives start with \"data-\"&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to data readiness, Use ng-init&lt;br&gt;&lt;b&gt;Control&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, URLs start with '#!'&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, Use query parameters to store route state&lt;br&gt;&lt;b&gt;Support for things&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, LESS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, SASS&lt;br&gt;&lt;b&gt;Syntax, language and coding&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript 5 best practices, Don't use \"new\"&lt;br&gt;&lt;b&gt;Testing&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Testing, using Mocha&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* End-to-end tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* End-to-end tests, using Protractor&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Continuous integration (CI), using Travis&lt;br&gt;&lt;b&gt;Development and debugging&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Command line interface (CLI), using Yeoman&lt;br&gt;&lt;b&gt;Build&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build configurations file(s)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Azure&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Digital Ocean, screencast of it&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Heroku, screencast of it&lt;br&gt;&lt;b&gt;Code Generation&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Input application profile&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Quick install?&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Options for making subcomponents&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* config generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* controller (client side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* directive generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* filter generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* route (client side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* service (client side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* test - client side&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* view or view partial generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* controller (server side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* model (server side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* route (server side) generator&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* test (server side) generator&lt;br&gt;&lt;b&gt;Implemented Functionality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management, Forgotten Password with Resetting&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Chat&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* CSV processing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* E-mail sending system&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* E-mail sending system, using Nodemailer&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* E-mail sending system, using its own e-mail implementation&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Menus system, state-based&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Paypal integration&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Responsive design&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Social connections management page&lt;br&gt;&lt;b&gt;Performance&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Creates a favicon&lt;br&gt;&lt;b&gt;Security&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Safe from IP Spoofing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authorization, Access Contol List (ACL)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Cookie&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Websocket and RESTful http share security policies&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;td valign=\"top\" width=\"33%\"&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt;MEAN.io. provides these benefits that MeanJS.org. doesn't&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Quality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Sponsoring company&lt;br&gt;&lt;b&gt;Help&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Docs with flatdoc&lt;br&gt;&lt;b&gt;Code Modularization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Share code between projects&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module manager&lt;br&gt;&lt;b&gt;View&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to data readiness, Use state.resolve()&lt;br&gt;&lt;b&gt;Control&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend code loading, Use AMD with Require.js&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend code loading, using wiredep&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to error handling, Server-side logging&lt;br&gt;&lt;b&gt;Client/Server Communication&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Centralized event handling&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to XHR calls, using $http and $q&lt;br&gt;&lt;b&gt;Syntax, language and coding&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript 5 best practices, Wrap code in an IIFE (SEAF, SIAF)&lt;br&gt;&lt;b&gt;Development and debugging&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* API introspection report and testing interface, using Swagger&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Command line interface (CLI), using Independent command line interface&lt;br&gt;&lt;b&gt;Build&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, add IIFEs (SEAF, SIAF) to executable copies of code&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Deployment automation, using Heroku&lt;br&gt;&lt;b&gt;Code Generation&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Scaffolding undo&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(mean package -d &amp;lt;name&amp;gt;)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* FEATURE (a.k.a. module, entity) generator, Menu items added for new features&lt;br&gt;&lt;b&gt;Implemented Functionality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Admin page for users and roles&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Content Management System&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(Use special data-bound directives in your templates.&lt;br&gt;Switch to edit mode and you can edit the values right where you see them)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* File Upload&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* i18n, localization&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Menus system, submenus&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Search&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Search, actually works with backend API&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Search, using Elastic Search&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Styles, using Bootstrap, using UI Bootstrap AngularJS directives&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Text (WYSIWYG) Editor&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Text (WYSIWYG) Editor, using medium-editor&lt;br&gt;&lt;b&gt;Performance&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Instrumentation, server-side&lt;br&gt;&lt;b&gt;Security&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Serverside authenticated route restriction&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, using Oauth, Link multiple Oauth strategies to one account&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, JSON Web Token (JWT)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;&lt;td valign=\"top\" width=\"33%\"&gt;&lt;br&gt;&lt;br&gt;&lt;h1&gt;MEAN.io. and MeanJS.org. both provide these benefits&lt;/h1&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;Quality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Version Control, using git&lt;br&gt;&lt;b&gt;Platforms&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Client-side JS Framework, using AngularJS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Frontend Server/ Framework, using Node.JS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Frontend Server/ Framework, using Node.JS, using Express&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* API Server/ Framework, using NodeJS&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* API Server/ Framework, using NodeJS, using Express&lt;br&gt;&lt;b&gt;Help&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, using Google Groups&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, using Facebook&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated/searchable user group for questions, response time mostly under a day&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Example application&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Tutorial screencast in English&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Tutorial screencast in English, using Youtube&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Dedicated chatroom&lt;br&gt;&lt;b&gt;File Organization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Basic sourcecode organization, module(-&amp;gt;submodule)-&amp;gt;side, with type subfolders&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold controllers&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold services&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold templates&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Module directories hold unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Separate route configuration files for each module&lt;br&gt;&lt;b&gt;Code Modularization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Modularized Functionality&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, No global 'app' module variable&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to AngularJS modules, No global 'app' module variable without an IIFE&lt;br&gt;&lt;b&gt;Model&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Setup of persistent storage&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Setup of persistent storage, using NoSQL db&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Setup of persistent storage, using NoSQL db, using MongoDB&lt;br&gt;&lt;b&gt;View&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* No XHR calls in controllers&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Templates, using Angular directives&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to data readiness, prevents Flash of Unstyled/compiled Content (FOUC)&lt;br&gt;&lt;b&gt;Control&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, example of it&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, State-based routing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, State-based routing, using ui-router&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend routing or state changing, HTML5 Mode&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to frontend code loading, using angular.bootstrap()&lt;br&gt;&lt;b&gt;Client/Server Communication&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Serve status codes only as responses&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Accept nested, JSON parameters&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Add timer header to requests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Support for signed and encrypted cookies&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Serve URLs based on the route definitions&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Can serve headers only&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to XHR calls, using JSON&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Approach to XHR calls, using $resource (angular-resource)&lt;br&gt;&lt;b&gt;Support for things&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, JavaScript (server side)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Languages, Swig&lt;br&gt;&lt;b&gt;Syntax, language and coding&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript 5 best practices, Use 'use strict'&lt;br&gt;&lt;b&gt;Tool Configuration/customization&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Separate runtime configuration profiles&lt;br&gt;&lt;b&gt;Testing&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Testing, using Jasmine&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Testing, using Karma&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Client-side unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Continuous integration (CI)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Automated device testing, using Live Reload&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Server-side integration &amp;amp; unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Server-side integration &amp;amp; unit tests, using Mocha&lt;br&gt;&lt;b&gt;Development and debugging&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Command line interface (CLI)&lt;br&gt;&lt;b&gt;Build&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build-time Dependency Management, using npm&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build-time Dependency Management, using bower&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build tool / Task runner, using Grunt&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Build tool / Task runner, using gulp&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, script&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, reload build script file upon change&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, copy assets to build or dist or target folder&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing, inject references by searching directories&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing, inject references by searching directories, injects js references&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, html page processing, inject references by searching directories, injects css references&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, LESS/SASS/etc files are linted, compiled&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, JavaScript style checking&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, JavaScript style checking, using jshint or jslint&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Development build, run unit tests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, script&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, concatenation (aggregation, globbing, bundling)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(If you add debug:true to your config/env/development.js the will not be &lt;br&gt;uglified)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, minification&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, safe pre-minification, using ng-annotate&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, uglification&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Production build, make static pages for SEO&lt;br&gt;&lt;b&gt;Code Generation&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* FEATURE (a.k.a. module, entity) generator&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(README.md&lt;br&gt;feature css&lt;br&gt;routes&lt;br&gt;controller&lt;br&gt;view&lt;br&gt;additional menu item)&lt;br&gt;&lt;b&gt;Implemented Functionality&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* 404 Page&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* 500 Page&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management, register/login/logout&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Account Management, is password manager friendly&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Front-end CRUD&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Full-stack CRUD&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Full-stack CRUD, with Read&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Full-stack CRUD, with Create, Update and Delete&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Google Analytics&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Menus system&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Realtime data sync&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Realtime data sync, using socket.io&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Styles, using Bootstrap&lt;br&gt;&lt;b&gt;Performance&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Javascript performance thing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Javascript performance thing, using lodash&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* One event-loop thread handles all requests&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Configurable response caching&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(Express plugin&lt;br&gt;&lt;b&gt;https&lt;/b&gt;://www.npmjs.org/package/apicache)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Clustered HTTP sessions&lt;br&gt;&lt;b&gt;Security&lt;/b&gt;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* JavaScript obfuscation&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* https&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, using Oauth&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Basic&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(With Passport or others)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Digest&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(With Passport or others)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Authentication, Token&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(With Passport or others)&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "Difference between MEAN.js and MEAN.io", "tags": ["javascript", "node.js", "angularjs", "web-applications", "mean-stack"], "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io/24932110#24932110", "question_id": 23199392, "answer_id": 24932110}], "link": "http://stackoverflow.com/questions/23199392/difference-between-mean-js-and-mean-io", "question_id": 23199392}, {"body": "<p>Just downloaded 3.1 and found in the docs...</p>\n\n<blockquote>\n  <p>Turn any fixed-width grid layout into a full-width layout by changing your outermost <code>.container</code> to <code>.container-fluid</code>.</p>\n</blockquote>\n\n<p>Looking in bootstrap.css, it appears that .container-fluid is identical to .container.  Both have the same CSS, and every instance of .container-fluid is paired with .container, and all column classes are specified in percentages.</p>\n\n<p>When twiddling with examples I could not see any difference, as everything seemed fluid.</p>\n\n<p>As I'm new to Bootstrap, I assume I'm missing something. Could someone take a minute and enlighten me?</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "answers": [{"body": "<p>I think you are saying that a <code>container</code> vs <code>container-fluid</code> is the difference between responsive and non-responsive to the grid. This is not true...what is saying is that the width is not fixed...its full width!</p>\n\n<p>This is hard to explain so lets look at the examples</p>\n\n<hr>\n\n<p><strong>Example one</strong></p>\n\n<p><code>container-fluid</code>:</p>\n\n<p><a href=\"http://www.bootply.com/119981\">http://www.bootply.com/119981</a></p>\n\n<p>So you see how the container takes up the whole screen...that's a <code>container-fluid</code>.</p>\n\n<p>Now lets look at the other just a normal <code>container</code> and watch the edges of the preview</p>\n\n<p><strong>Example two</strong></p>\n\n<p><code>container</code></p>\n\n<p><a href=\"http://www.bootply.com/119982\">http://www.bootply.com/119982</a></p>\n\n<p>Now do you see the white space in the example? That's because its a fixed width <code>container</code> ! It might make more sense to open both examples up in two different tabs and switch back and forth.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Better yet here is an example with both containers at once! Now you can really tell the difference!</p>\n\n<p><a href=\"http://www.bootply.com/119983\">http://www.bootply.com/119983</a></p>\n\n<p>I hope this helped clarify a little bit!</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/22263828#22263828", "question_id": 22262311, "answer_id": 22263828}, {"body": "<p><strong>Quick version:</strong> <code>.container</code> has one fixed width for each screen size in bootstrap (xs,sm,md,lg); <code>.container-fluid</code> expands to fill the available width.</p>\n\n<hr>\n\n<p>The difference between <code>container</code> and <code>container-fluid</code> comes from these lines of CSS:</p>\n\n<pre><code>@media (min-width: 568px) {\n  .container {\n    width: 550px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    width: 970px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    width: 1170px;\n  }\n}\n</code></pre>\n\n<p>Depending on the width of the viewport that the webpage is being viewed on, the <code>container</code> class gives its div a specific fixed width. These lines don't exist in any form for <code>container-fluid</code>, so its width changes every time the viewport width changes.</p>\n\n<p>So for example, say your browser window is 1000px wide. As it's greater than the min-width of 992px, your <code>.container</code> element will have a width of 970px. You then slowly widen your browser window. The width of your <code>.container</code> won't change until you get to 1200px, at which it will jump to 1170px wide and stay that way for any larger browser widths.</p>\n\n<p>Your <code>.container-fluid</code> element, on the other hand, will constantly resize as you make even the smallest changes to your browser width.</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/22263969#22263969", "question_id": 22262311, "answer_id": 22263969}, {"body": "<p>Both <code>.container</code> and <code>.container-fluid</code> are responsive (i.e. they can change based on the screen width), but in different ways. It's a common misconception that only container-fluid is responsive.</p>\n\n<p><strong>From a functional perspective:</strong></p>\n\n<p><code>.container-fluid</code> continuously resizes as you change the width of your window/browser by any amount, leaving no extra empty space on the sides ever, unlike how <code>.container</code> does. (Hence the naming: \"fluid\" as opposed to \"digital\", \"discrete\", \"chunked\", or \"quantized\").</p>\n\n<p><code>.container</code> resizes in chunks at several certain widths. In other words, it will be different specific aka \"fixed\" widths different ranges of screen widths. </p>\n\n<p>You can see how naming confusion may arise. Technically, we can say <code>.container</code> is \"fixed width\" as opposed to \"fluid\" because width is a specific value at a given screen width range. But of course that \"fixed\" width changes to another \"fixed\" width value. So people may get the impression that <code>.container</code> can't change sizes and is thus not responsive when they hear (or when you say) <code>.container</code> is \"fixed width\". So if you want to communicate this clearly to someone new, you can say something like, \"<code>.container</code> makes it fixed width for a given screen width <em>range</em>, but can still be responsive.\"</p>\n\n<p><strong>From a fundamental perspective:</strong></p>\n\n<p><code>.container-fluid</code> has the CSS property <code>width: 100%;</code>, so it continually readjusts at every screen width granularity.</p>\n\n<pre><code>.container-fluid {\n  width: 100%;\n}\n</code></pre>\n\n<p><code>.container</code> has something like \"width = 800px\" (or em, rem etc.), a specific pixel width value at different screen widths. This of course is what causes the element width to abruptly jump to a different width when the screen width crosses a screen width threshold. And that threshold is governed by CSS3 media queries, which allow you to apply different styles for different conditions, such as screen width ranges.</p>\n\n<pre><code>@media screen and (max-width: 400px){\n  .container {\n    width: 123px;\n  }\n}\n@media screen and (min-width: 401px) and (max-width: 800px){\n\n  .container {\n    width: 456px;\n  }\n}\n@media screen and (min-width: 801px){\n  .container {\n    width: 789px;\n  }\n}\n</code></pre>\n\n<p><strong>Beyond</strong></p>\n\n<p>You can make any fixed widths element responsive via media queries, not just <code>.container</code> elements, since media queries is exactly how <code>.container</code> is implemented by bootstrap in the background (see JKillian's answer for the code).</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/25638864#25638864", "question_id": 22262311, "answer_id": 25638864}, {"body": "<p>After trying and failing, I realised that sometimes you have to bend rules to get what you want.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n    &lt;div class=\"first-row\"&gt;\n        //Continue with the normal bootstrap standards i.e row-&gt;col\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.first-row {\n    margin-right: 15px !important;\n    margin-left: 15px !important;\n}\n</code></pre>\n\n<p>This worked for me till I find a better solution</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/29688291#29688291", "question_id": 22262311, "answer_id": 29688291}, {"body": "<p>You are right in 3.1 .container-fluid and .container are same and works like container but if you remove them it works like .container-fluid (full width). They had removed .container-fluid for \"Mobile First Approach\", but now it's back in 3.3.4 (and they will work differently)</p>\n\n<p>To get latest bootstrap please read this post on stackoverflow it will help <strong><a href=\"http://stackoverflow.com/questions/19789954/fluid-container-in-bootstrap-3\">check it out</a></strong>. </p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/29867848#29867848", "question_id": 22262311, "answer_id": 29867848}, {"body": "<p><code>.container</code> has a max width pixel value, whereas <code>.container-fluid</code> is max-width 100%.</p>\n\n<p><code>.container-fluid</code> continuously resizes as you change the width of your window/browser by any amount.</p>\n\n<p><code>.container</code> resizes in chunks at several certain widths, controlled by media queries (technically we can say it\u2019s \u201cfixed width\u201d\nbecause pixels values are specified, but if you stop there, people may get the\nimpression that it can\u2019t change size \u2013 i.e. not responsive.)</p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/36743405#36743405", "question_id": 22262311, "answer_id": 36743405}, {"body": "<p>Some of these answers have become out of date for Bootstrap 3.3.x. The <code>container</code> has 4 sizes. Full width on <code>xs</code> screens, and then it's width varies based on the following media queries..</p>\n\n<pre><code>@media (min-width: 1200px)\n.container {\n    width: 1170px;\n}\n@media (min-width: 992px)\n.container {\n    width: 970px;\n}\n@media (min-width: 768px)\n.container {\n    width: 750px;\n}\n</code></pre>\n\n<p><a href=\"http://www.codeply.com/go/8YUeh6gIk0\" rel=\"nofollow\">container vs. container-fluid demo</a></p>\n", "title": "Container-fluid vs .container", "tags": ["twitter-bootstrap-3"], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container/39375592#39375592", "question_id": 22262311, "answer_id": 39375592}], "link": "http://stackoverflow.com/questions/22262311/container-fluid-vs-container", "question_id": 22262311}, {"body": "<p>There are two files included in the <code>CSS</code> folder with .map file extensions. They are:</p>\n\n<pre><code>bootstrap-theme.css.map\nbootstrap.css.map\n</code></pre>\n\n<p>They appear to be minified files but I don't know what they are for.</p>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "tags": ["twitter-bootstrap-3", "source-maps"], "answers": [{"body": "<p>These are source maps.  Provide these alongside compressed source files; developer tools such as those in Firefox and Chrome will use them to allow debugging as if the code was not compressed.</p>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "tags": ["twitter-bootstrap-3", "source-maps"], "link": "http://stackoverflow.com/questions/21504611/what-are-the-map-files-used-for-in-bootstrap-3-1/21504657#21504657", "question_id": 21504611, "answer_id": 21504657}, {"body": "<p>From <a href=\"https://developers.google.com/chrome-developer-tools/docs/css-preprocessors\">Working with CSS preprocessors in Chrome DevTools</a>:</p>\n\n<blockquote>\n  <p>Many developers generate CSS style sheets using a CSS preprocessor, such as Sass, Less, or Stylus. Because the CSS files are generated, editing the CSS files directly is not as helpful.</p>\n  \n  <p>For preprocessors that support CSS source maps, DevTools lets you live-edit your preprocessor source files in the Sources panel, and view the results without having to leave DevTools or refresh the page. When you inspect an element whose styles are provided by a generated CSS file, the Elements panel displays a link to the original source file, not the generated .css file.</p>\n</blockquote>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "tags": ["twitter-bootstrap-3", "source-maps"], "link": "http://stackoverflow.com/questions/21504611/what-are-the-map-files-used-for-in-bootstrap-3-1/21504707#21504707", "question_id": 21504611, "answer_id": 21504707}, {"body": "<p>The bootstrap css can be generated by Less. The main purpose of map file is used to link the css source code to less source code in the chrome dev tool.\nAs we used to do .If we inspect the element in the chrome dev tool. you can see the source code of css.\nBut if include the map file in the page with bootstrap css file. you can see the less code which apply to the element style you want to inspect. </p>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "tags": ["twitter-bootstrap-3", "source-maps"], "link": "http://stackoverflow.com/questions/21504611/what-are-the-map-files-used-for-in-bootstrap-3-1/24602582#24602582", "question_id": 21504611, "answer_id": 24602582}, {"body": "<p>If you just want to get rid of the error, you can also delete this line in <code>bootstrap.css</code>:</p>\n\n<pre><code>/*# sourceMappingURL=bootstrap.css.map */\n</code></pre>\n", "title": "what are the .map files used for in Bootstrap 3.1?", "tags": ["twitter-bootstrap-3", "source-maps"], "link": "http://stackoverflow.com/questions/21504611/what-are-the-map-files-used-for-in-bootstrap-3-1/24834942#24834942", "question_id": 21504611, "answer_id": 24834942}], "link": "http://stackoverflow.com/questions/21504611/what-are-the-map-files-used-for-in-bootstrap-3-1", "question_id": 21504611}, {"body": "<p>Is it possible for C++ code to conform to both the <a href=\"http://en.wikipedia.org/wiki/C++03\">C++03</a> standard and the <a href=\"http://en.wikipedia.org/wiki/C++11\">C++11</a> standard, but do different things depending on under which standard it is being compiled?</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "answers": [{"body": "<p>I point you to <a href=\"http://gustedt.wordpress.com/2013/12/15/a-disimprovement-observed-from-the-outside-right-angle-brackets/\">this article</a> and <a href=\"http://gustedt.wordpress.com/2013/12/18/right-angle-brackets-shifting-semantics/\">the follow-up</a>, which has a nice example of how <code>&gt;&gt;</code> can change meaning from C++03 to C++11 while still compiling in both.</p>\n\n<pre><code>bool const one = true;\nint const two = 2;\nint const three = 3;\n\ntemplate&lt;int&gt; struct fun {\n    typedef int two;\n};\n\ntemplate&lt;class T&gt; struct fon {\n    static int const three = ::three;\n    static bool const one = ::one;\n};\n\nint main(void) {\n    fon&lt; fun&lt; 1 &gt;&gt;::three &gt;::two &gt;::one; // valid for both  \n}\n</code></pre>\n\n<p>The key part is the line in <code>main</code>, which is an expression. </p>\n\n<h2>In C++03:</h2>\n\n<pre><code>1 &gt;&gt; ::three = 0\n=&gt; fon&lt; fun&lt; 0 &gt;::two &gt;::one;\n\nfun&lt; 0 &gt;::two = int\n=&gt; fon&lt; int &gt;::one\n\nfon&lt; int &gt;::one = true\n=&gt; true\n</code></pre>\n\n<h2>In C++11</h2>\n\n<pre><code>fun&lt; 1 &gt; is a type argument to fon\nfon&lt; fun&lt;1&gt; &gt;::three = 3\n=&gt; 3 &gt; ::two &gt; ::one\n\n::two is 2 and ::one is 1\n=&gt; 3 &gt; 2 &gt; 1\n=&gt; (3 &gt; 2) &gt; 1\n=&gt; true &gt; 1\n=&gt; 1 &gt; 1\n=&gt; false\n</code></pre>\n\n<p>Congratulations, two different results for the same expression. Granted, the C++03 one did come up with a warning form Clang when I tested it.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23048056#23048056", "question_id": 23047198, "answer_id": 23048056}, {"body": "<p>The answer is a definite yes. On the plus side there is:</p>\n\n<ul>\n<li>Code that previously implicitly copied objects will now implicitly move them when possible.</li>\n</ul>\n\n<p>On the negative side, several examples are listed in the appendix C of the standard. Even though there are many more negative ones than positive, each one of them is much less likely to occur.</p>\n\n<p><strong>String literals</strong></p>\n\n<pre><code>#define u8 \"abc\"\nconst char* s = u8\"def\"; // Previously \"abcdef\", now \"def\"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#define _x \"there\"\n\"hello \"_x // Previously \"hello there\", now a user defined string literal\n</code></pre>\n\n<p><strong>Type conversions of 0</strong></p>\n\n<p>In C++11, only literals are integer null pointer constants:</p>\n\n<pre><code>void f(void *); // #1\nvoid f(...); // #2\ntemplate&lt;int N&gt; void g() {\n    f(0*N); // Calls #2; used to call #1\n}\n</code></pre>\n\n<p><strong>Rounded results after integer division and modulo</strong></p>\n\n<p>In C++03 the compiler was allowed to either round towards 0 or towards negative infinity. In C++11 it is mandatory to round towards 0</p>\n\n<pre><code>int i = (-1) / 2; // Might have been -1 in C++03, is now ensured to be 0\n</code></pre>\n\n<p><strong>Whitespaces between nested template closing braces >> vs > ></strong></p>\n\n<p>Inside an specialization or instantiation the <code>&gt;&gt;</code> might instead be interpreted as an right-shift in C++03. This is more likely to break existing code though: (from <a href=\"http://gustedt.wordpress.com/2013/12/15/a-disimprovement-observed-from-the-outside-right-angle-brackets/\">http://gustedt.wordpress.com/2013/12/15/a-disimprovement-observed-from-the-outside-right-angle-brackets/</a>)</p>\n\n<pre><code>template&lt; unsigned len &gt; unsigned int fun(unsigned int x);\ntypedef unsigned int (*fun_t)(unsigned int);\ntemplate&lt; fun_t f &gt; unsigned int fon(unsigned int x);\n\nvoid total(void) {\n    // fon&lt;fun&lt;9&gt; &gt;(1) &gt;&gt; 2 in both standards\n    unsigned int A = fon&lt; fun&lt; 9 &gt; &gt;(1) &gt;&gt;(2);\n    // fon&lt;fun&lt;4&gt; &gt;(2) in C++03\n    // Compile time error in C++11\n    unsigned int B = fon&lt; fun&lt; 9 &gt;&gt;(1) &gt; &gt;(2);\n}\n</code></pre>\n\n<p><strong>Operator <code>new</code> may now throw other exceptions than <code>std::bad_alloc</code></strong></p>\n\n<pre><code>struct foo { void *operator new(size_t x){ throw std::exception(); } }\ntry {\n    foo *f = new foo();\ncatch (std::bad_alloc &amp;) {\n    // c++03 code\n} catch (std::exception &amp;) {\n    // c++11 code\n}\n</code></pre>\n\n<p><strong>User-declared destructors have an implicit exception specification</strong>\nexample from <a href=\"http://stackoverflow.com/questions/6399615/what-breaking-changes-are-introduced-in-c11\">What breaking changes are introduced in C++11?</a></p>\n\n<pre><code>struct A {\n    ~A() { throw \"foo\"; } // Calls std::terminate in C++11\n};\n//...\ntry { \n    A a; \n} catch(...) { \n    // C++03 will catch the exception\n} \n</code></pre>\n\n<p><strong><code>size()</code> of containers is now required to run in O(1)</strong></p>\n\n<pre><code>std::list&lt;double&gt; list;\n// ...\nsize_t s = list.size(); // Might be an O(n) operation in C++03\n</code></pre>\n\n<p><strong><code>std::ios_base::failure</code> does not derive from <code>std::exception</code> anymore</strong></p>\n\n<p>Code that expects it to derive directly from <code>std::exception</code> might behave differently.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23048287#23048287", "question_id": 23047198, "answer_id": 23048287}, {"body": "<p>One potentially dangerous backward-incompatible change is in constructors of sequence containers such as <code>std::vector</code>, specifically in the overload specifying initial size. Where in C++03, they copied a default-constructed element, in C++11 they default-construct each one.</p>\n\n<p>Consider this example (using <code>boost::shared_ptr</code> so that it's valid C++03):</p>\n\n<pre><code>#include &lt;deque&gt;\n#include &lt;iostream&gt;\n\n#include \"boost/shared_ptr.hpp\"\n\n\nstruct Widget\n{\n  boost::shared_ptr&lt;int&gt; p;\n\n  Widget() : p(new int(42)) {}\n};\n\n\nint main()\n{\n  std::deque&lt;Widget&gt; d(10);\n  for (size_t i = 0; i &lt; d.size(); ++i)\n    std::cout &lt;&lt; \"d[\" &lt;&lt; i &lt;&lt; \"] : \" &lt;&lt; d[i].p.use_count() &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/426fb7a77f020e4b\">C++03 Live example</a></p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/201f0609fec61325\">C++11 Live example</a></p>\n\n<p>The reason is that C++03 specified one overload for both \"specify size and prototype element\" and \"specify size only,\" like this (allocator arguments omitted for brevity):</p>\n\n<pre><code>container(size_type size, const value_type &amp;prototype = value_type());\n</code></pre>\n\n<p>This will always copy <code>prototype</code> into the container <code>size</code> times. When called with just one argument, it will therefore create <code>size</code> copies of a default-constructed element.</p>\n\n<p>In C++11, this constructor signature was removed and replaced with these two overloads:</p>\n\n<pre><code>container(size_type size);\n\ncontainer(size_type size, const value_type &amp;prototype);\n</code></pre>\n\n<p>The second one works as before, creating <code>size</code> copies of the <code>prototype</code> element. However, the first one (which now handles calls with only the size argument specified) default-constructs each element individually.</p>\n\n<p>My guess for the reason of this change is that the C++03 overload wouldn't be usable with a move-only element type. But it's a breaking change none the less, and one seldom documented at that.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23053731#23053731", "question_id": 23047198, "answer_id": 23053731}, {"body": "<p>The result of a failed read from an <code>std::istream</code> has changed.  <a href=\"http://en.cppreference.com/w/cpp/io/basic%5fistream/operator%5fgtgt\">CppReference</a> summarizes it nicely:</p>\n\n<blockquote>\n  <p>If extraction fails (e.g. if a letter was entered where a digit is expected), <code>value</code> is left unmodified and <code>failbit</code> is set. <strong>(until C++11)</strong></p>\n  \n  <p>If extraction fails, zero is written to <code>value</code> and <code>failbit</code> is set. If extraction results in the value too large or too small to fit in <code>value</code>, <code>std::numeric_limits&lt;T&gt;::max()</code> or <code>std::numeric_limits&lt;T&gt;::min()</code> is written and <code>failbit</code> flag is set. <strong>(since C++11)</strong></p>\n</blockquote>\n\n<p>This is primarily an issue if you are used to the new semantics and then have to write using C++03.  The following is not particularly good practice but well-defined in C++11:</p>\n\n<pre><code>int x, y;\nstd::cin &gt;&gt; x &gt;&gt; y;\nstd::cout &lt;&lt; x + y;\n</code></pre>\n\n<p>However, in C++03, the above code uses an uninitialized variable and thus has undefined behaviour.</p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23055151#23055151", "question_id": 23047198, "answer_id": 23055151}, {"body": "<p>This thread <a href=\"http://stackoverflow.com/a/6473994/809044\">What differences, if any, between C++03 and C++0x can be detected at run-time</a> has examples (copied from that thread) to determine language differences, for example by exploiting C++11 reference collapsing:</p>\n\n<pre><code>template &lt;class T&gt; bool f(T&amp;) {return true; } \ntemplate &lt;class T&gt; bool f(...){return false;} \n\nbool isCpp11() \n{\n    int v = 1;\n    return f&lt;int&amp;&gt;(v); \n}\n</code></pre>\n\n<p>and c++11 allowing local types as template parameters:</p>\n\n<pre><code>template &lt;class T&gt; bool cpp11(T)  {return true;} //T cannot be a local type in C++03\n                   bool cpp11(...){return false;}\n\nbool isCpp0x() \n{\n   struct local {} var; //variable with local type\n   return cpp11(var);\n}\n</code></pre>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23063891#23063891", "question_id": 23047198, "answer_id": 23063891}, {"body": "<p>Yes, there are number of changes that will cause the same code to result in different behavior between C++03 and C++11. The sequencing rules differences make for some interesting changes including some previously undefined behavior becoming well defined.</p>\n\n<p><B>1. multiple mutations of the same variable within an initializer list</B></p>\n\n<p>One very interesting corner case would multiple mutations of the same variable within an initializer list, for example:</p>\n\n<pre><code>int main()\n{\n    int count = 0 ;\n    int arrInt[2] = { count++, count++ } ;\n\n    return 0 ;\n}\n</code></pre>\n\n<p>In both C++03 and C++11 this is well defined but the <a href=\"http://stackoverflow.com/questions/19881803/are-multiple-mutations-of-the-same-variable-within-initializer-lists-undefined-b\">order of evaluation in C++03 is unspecified</a> but in <a href=\"http://stackoverflow.com/questions/14442894/are-multiple-mutations-within-initializer-lists-undefined-behavior\">C++11 they are evaluated in the order in which they appear</a>. So if we compile using <code>clang</code> in C++03 mode it provide the following warning (<em><a href=\"http://coliru.stacked-crooked.com/a/906eb652c8852d7a\">see it live</a></em>):</p>\n\n<pre><code>warning: multiple unsequenced modifications to 'count' [-Wunsequenced]\n\n    int arrInt[2] = { count++, count++ } ;\n\n                           ^        ~~\n</code></pre>\n\n<p>but does not provide a warning in C++11 (<em><a href=\"http://coliru.stacked-crooked.com/a/f64b518da84ecc4e\">see it live</a></em>).</p>\n\n<p><B>2. New sequencing rules make i = ++ i + 1; well defined in C++11 </B></p>\n\n<p>The new sequencing rules adopted after C++03 means that:</p>\n\n<pre><code>int i = 0 ;\ni = ++ i + 1;\n</code></pre>\n\n<p>is no longer undefined behavior in C++11, this is covered in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#637\">defect report 637. Sequencing rules and example disagree </a></p>\n\n<p><B>3. New sequencing rules also make ++++i ; well defined in C++11 </B></p>\n\n<p>The new sequencing rules adopted after C++03 means that:</p>\n\n<pre><code>int i = 0 ;\n++++i ;\n</code></pre>\n\n<p>is no longer undefined behavior in C++11.</p>\n\n<p><B>4. Slightly More Sensible Signed Left-Shifts</B></p>\n\n<p>Later drafts of C++11 include <code>N3485</code> which I link below <a href=\"http://blog.regehr.org/archives/738\">fixed the undefined behavior of shifting a 1 bit into or past the sign bit</a>. This is also covered in <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3367.html#1457\">defect report 1457</a>. Howard Hinnant commented on the significance of this change in the thread on <a href=\"http://stackoverflow.com/questions/19593938/is-left-shifting-a-negative-integer-undefined-behavior-in-c11#comment29091986_19593938\">Is left-shifting (&lt;&lt;) a negative integer undefined behavior in C++11?</a>. </p>\n\n<p><B>5. constexpr functions can be treated as compile time constant expressions in C++11</B></p>\n\n<p>C++11 introduced <a href=\"http://en.cppreference.com/w/cpp/language/constexpr\">constexpr</a> functions which:</p>\n\n<blockquote>\n  <p>The constexpr specifier declares that it is possible to evaluate the value of the function or variable at compile time. Such variables and functions can then be used where only compile time constant expressions are allowed. </p>\n</blockquote>\n\n<p>while C++03 does not have the <em>constexpr</em> feature we don't have to explicitly use the <em>constexpr</em> keyword since the standard library provides many functions in C++11 as <em>constexpr</em>. For example <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/min\">std::numeric_limits::min</a>. Which can lead to different behavior, for example:</p>\n\n<pre><code>#include &lt;limits&gt;\n\nint main()\n{\n    int x[std::numeric_limits&lt;unsigned int&gt;::min()+2] ;\n}\n</code></pre>\n\n<p>Using <code>clang</code> in C++03 this will cause <code>x</code> to be a variable length array, which is <a href=\"http://clang.llvm.org/compatibility.html#vla\">an extension</a> and will generate the following warning:</p>\n\n<pre><code>warning: variable length arrays are a C99 feature [-Wvla-extension]\n    int x[std::numeric_limits&lt;unsigned int&gt;::min()+2] ;\n         ^\n</code></pre>\n\n<p>while in C++11 <code>std::numeric_limits&lt;unsigned int&gt;::min()+2</code> is a compile time constant expression and does not require the VLA extension.</p>\n\n<p><B>6. In C++11 noexcept exception specifications are implicitly generated for your destructors </B></p>\n\n<p>Since in C++11 user defined destructor has implicit <code>noexcept(true)</code> specification as explained in <a href=\"http://akrzemi1.wordpress.com/2013/08/20/noexcept-destructors/\">noexcept destructors</a> it means that the following program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\n\nstruct S\n{\n  ~S() { throw std::runtime_error(\"\"); } // bad, but acceptable\n};\n\nint main()\n{\n  try { S s; }\n  catch (...) {\n    std::cerr &lt;&lt; \"exception occurred\";\n  } \n std::cout &lt;&lt; \"success\";\n}\n</code></pre>\n\n<p>In C++11 will call <code>std::terminate</code> but will run successfully in C++03.</p>\n\n<p><B>7. In C++03, template arguments could not have internal linkage</B></p>\n\n<p>This is covered nicely in <a href=\"http://stackoverflow.com/a/14596065/1708801\">Why std::sort doesn't accept Compare classes declared within a function</a>. So the following code should not work in C++03:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nclass Comparators\n{\npublic:\n    bool operator()(int first, int second)\n    {\n        return first &lt; second;\n    }\n};\n\nint main()\n{\n    class ComparatorsInner : public Comparators{};\n\n    std::vector&lt;int&gt; compares ;\n    compares.push_back(20) ;\n    compares.push_back(10) ;\n    compares.push_back(30) ;\n\n    ComparatorsInner comparatorInner;\n    std::sort(compares.begin(), compares.end(), comparatorInner);\n\n    std::vector&lt;int&gt;::iterator it;\n    for(it = compares.begin(); it != compares.end(); ++it)\n    {\n        std::cout &lt;&lt; (*it) &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>but currently <code>clang</code> allows this code in C++03 mode with a warning unless you use <code>-pedantic-errors</code> flag, which is kind of icky, <a href=\"http://coliru.stacked-crooked.com/a/316202b3a33a8ec6\">see it live</a>.</p>\n\n<p><B>8. >> is not longer ill-formed when closing multiple templates</B></p>\n\n<p>Using <code>&gt;&gt;</code> to close multiple templates is no longer ill-formed but can lead to code with different results in C++03 and C+11. The example below is taken from <a href=\"http://dev.krzaq.cc/right-angle-brackets-and-backwards-compatibility/\">Right angle brackets and backwards compatibility</a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\ntemplate&lt;int I&gt; struct X {\n  static int const c = 2;\n};\ntemplate&lt;&gt; struct X&lt;0&gt; {\n  typedef int c;\n};\ntemplate&lt;typename T&gt; struct Y {\n  static int const c = 3;\n};\nstatic int const c = 4;\nint main() {\n  std::cout &lt;&lt; (Y&lt;X&lt;1&gt; &gt;::c &gt;::c&gt;::c) &lt;&lt; '\\n';\n  std::cout &lt;&lt; (Y&lt;X&lt; 1&gt;&gt;::c &gt;::c&gt;::c) &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>and the result in C++03 is:</p>\n\n<pre><code>0\n3\n</code></pre>\n\n<p>and in C++11:</p>\n\n<pre><code>0\n0\n</code></pre>\n\n<p><B>9. C++11 changes some of std::vector constructors</B></p>\n\n<p>Slightly modified code from <a href=\"http://stackoverflow.com/a/6474857/1708801\">this answer</a> shows that using the following constructor from <a href=\"http://en.cppreference.com/w/cpp/container/vector/vector\">std::vector</a>:</p>\n\n<pre><code>std::vector&lt;T&gt; test(1);\n</code></pre>\n\n<p>produces different results in C++03 and C++11:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nstruct T\n{\n    bool flag;\n    T() : flag(false) {}\n    T(const T&amp;) : flag(true) {}\n};\n\n\nint main()\n{\n    std::vector&lt;T&gt; test(1);\n    bool is_cpp11 = !test[0].flag;\n\n    std::cout &lt;&lt; is_cpp11 &lt;&lt; std::endl ;\n}\n</code></pre>\n\n<p><B>10. Narrowing conversions in aggregate initializers</b></p>\n\n<p>In C++11 a narrowing conversion in aggregate initializers is ill-formed and it looks like <code>gcc</code> allows this in both C++11 and C++03 although it provide a warning by default in C++11:</p>\n\n<pre><code>int x[] = { 2.0 };\n</code></pre>\n\n<p>This is covered in the draft C++11 standard section <code>8.5.4</code> <em>List-initialization</em> paragraph <em>3</em>:</p>\n\n<blockquote>\n  <p>List-initialization of an object or reference of type T is defined as follows:</p>\n</blockquote>\n\n<p>and contains the following bullet (<em>emphasis mine</em>):</p>\n\n<blockquote>\n  <p>Otherwise, if T is a class type, constructors are considered. The applicable constructors are enumerated and the best one is chosen through overload resolution (13.3, 13.3.1.7). <strong>If a narrowing conversion (see below) is required to convert any of the arguments, the program is ill-formed</strong></p>\n</blockquote>\n\n<p>This and many more instance are covered in the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3485.pdf\">draft C++ standard</a> section <code>annex C.2</code> <em>C++ and ISO C++ 2003</em>. It also includes:</p>\n\n<ul>\n<li><p>New kinds of string literals [...] Specifically, macros named R, u8, u8R, u, uR, U, UR, or LR will not be expanded when adjacent to a string literal but will be interpreted as part of the string literal. For example</p>\n\n<pre><code>#define u8 \"abc\"\nconst char *s = u8\"def\"; // Previously \"abcdef\", now \"def\"\n</code></pre></li>\n<li><p>User-defined literal string support [...]Previously, #1 would have consisted of two separate preprocessing tokens and the macro _x would have been expanded. In this International Standard, #1 consists of a single preprocessing tokens, so the macro\nis not expanded.</p>\n\n<pre><code>#define _x \"there\"\n\"hello\"_x // #1\n</code></pre></li>\n<li><p>Specify rounding for results of integer / and % [...] 2003 code that uses integer division rounds the result toward 0 or toward negative infinity, whereas this \nInternational Standard always rounds the result toward 0.</p></li>\n<li><p>Complexity of size() member functions now constant [...] Some container implementations that conform to C++ 2003 may not conform to the specified size() requirements in this International Standard. Adjusting containers such as std::list to the stricter requirements may require incompatible changes.</p></li>\n<li><p>Change base class of std::ios_base::failure [...] std::ios_base::failure is no longer derived directly from std::exception, but is now derived from std::system_error, which in turn is derived from std::runtime_error. Valid C++ 2003 code that assumes that std::ios_base::failure is derived directly from std::exception may execute differently in this International Standard.</p></li>\n</ul>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23063914#23063914", "question_id": 23047198, "answer_id": 23063914}, {"body": "<p>Here's another example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;class T&gt;\nstruct has {\n  typedef char yes;\n  typedef yes (&amp;no)[2];    \n  template&lt;int&gt; struct foo;    \n  template&lt;class U&gt; static yes test(foo&lt;U::bar&gt;*);      \n  template&lt;class U&gt; static no  test(...);    \n  static bool const value = sizeof(test&lt;T&gt;(0)) == sizeof(yes);\n};\n\nenum foo { bar };\n\nint main()\n{\n    std::cout &lt;&lt; (has&lt;foo&gt;::value ? \"yes\" : \"no\") &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Using c++03: no\nUsing c++11: yes\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/760c5a986815c70c\">See the result on Coliru</a></p>\n", "title": "Can C++ code be valid in both C++03 and C++11 but do different things?", "tags": ["c++", "c++11", "language-lawyer", "c++03"], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things/23103018#23103018", "question_id": 23047198, "answer_id": 23103018}], "link": "http://stackoverflow.com/questions/23047198/can-c-code-be-valid-in-both-c03-and-c11-but-do-different-things", "question_id": 23047198}, {"body": "<p>I am trying to get my friend name and ids with graph api v2.0,\nbut data returns empty:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"data\": [\n  ]\n}\n</code></pre>\n\n<p>when I was using v1.0, everything was ok with following request:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>FBRequest* friendsRequest = [FBRequest requestForMyFriends];\n  [friendsRequest startWithCompletionHandler: ^(FBRequestConnection *connection,\n                                                NSDictionary* result,\n                                                NSError *error) {\n      NSArray* friends = [result objectForKey:@\"data\"];\n      NSLog(@\"Found: %i friends\", friends.count);\n      for (NSDictionary&lt;FBGraphUser&gt;* friend in friends) {\n          NSLog(@\"I have a friend named %@ with id %@\", friend.name, friend.id);\n      }\n  }];\n</code></pre>\n\n<p>but now I cannot get friends! </p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "answers": [{"body": "<p>In v2.0 of the Graph API, calling <code>/me/friends</code> returns the person's friends who also use the app.</p>\n\n<p>In addition, in v2.0, you must request the <code>user_friends</code> permission from each user. <code>user_friends</code> is no longer included by default in every login. Each user must grant the <code>user_friends</code> permission in order to appear in the response to <code>/me/friends</code>. See <a href=\"https://developers.facebook.com/docs/apps/upgrading#upgrading_v2_0_user_ids\">the Facebook upgrade guide</a> for more detailed information, or review the summary below.</p>\n\n<p>If you want to access a list of non-app-using friends, there are two options:</p>\n\n<ol>\n<li><p><strong><a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.0/user/taggable_friends\">If you want to let your people tag their friends</a></strong> in stories that they publish to Facebook using your App, you can use the <code>/me/taggable_friends</code> API. <a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.0/user/taggable_friends\">Use of this endpoint requires review by Facebook</a> and should only be used for the case where you're rendering a list of friends in order to let the user tag them in a post.</p></li>\n<li><p><strong><a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.0/user/invitable_friends\">If your App is a Game AND your Game supports Facebook Canvas</a></strong>, you can use the <code>/me/invitable_friends</code> endpoint in order to render <a href=\"https://developers.facebook.com/docs/games/invitable-friends/v2.0\">a custom invite dialog</a>, then pass the tokens returned by this API to <a href=\"https://developers.facebook.com/docs/games/requests/v2.0\">the standard Requests Dialog.</a></p></li>\n</ol>\n\n<p>In other cases, apps are no longer able to retrieve the full list of a user's friends (only those friends who have specifically authorized your app using the <code>user_friends</code> permission). <a href=\"https://developers.facebook.com/bugs/1502515636638396/\">This has been confirmed by Facebook as 'by design'.</a></p>\n\n<p>For apps wanting allow people to invite friends to use an app, you can still use the <a href=\"https://developers.facebook.com/docs/sharing/reference/send-dialog\">Send Dialog on Web</a> or the new <a href=\"https://developers.facebook.com/docs/ios/message-dialog/\">Message Dialog on iOS</a> and <a href=\"https://developers.facebook.com/docs/android/message-dialog/\">Android</a>.</p>\n\n<p>UPDATE: Facebook have published an FAQ on these changes here: <a href=\"https://developers.facebook.com/docs/apps/faq\">https://developers.facebook.com/docs/apps/faq</a> which explain all the options available to developers in order to invite friends etc.</p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u/23417628#23417628", "question_id": 23417356, "answer_id": 23417628}, {"body": "<p>As Simon mentioned, this is not possible in new facebook API. You may use browser automation as a <strong>workaround</strong>.</p>\n\n<p>Downsides:</p>\n\n<ul>\n<li>you'll have to ask user for his credentials directly (and possibly store them on your side)</li>\n<li>when facebook changes their api, you'll have to update browser automation code as well (if you can't force updates of your application, you should put browser automation piece out as webservice)</li>\n<li>this is bypassing OAuth concept, as user will relay on you to store/manipulate credentials in secure manner</li>\n<li>this is against Facebook policy (but since you'll have username/password you don't have to care about facebook policies)</li>\n</ul>\n\n<p>Avantage:</p>\n\n<ul>\n<li>currently there is no other way how to get list of <strong>all</strong> friends</li>\n<li>this is not different from what facebook does when they're getting list of all your contacts from your email account</li>\n<li>if a lot of developers start using it, it might give facebook a healthy push to put this back into Open Graph API</li>\n</ul>\n\n<p>Sample implementation using <a href=\"http://watin.org/\" rel=\"nofollow\">WatiN</a> </p>\n\n<pre><code>class FacebookUser\n{\n  public string Name { get; set; }\n  public long Id { get; set; }\n}\n\npublic IList&lt;FacebookUser&gt; GetFacebookFriends(string email, string password, int? maxTimeoutInMilliseconds)\n{\n  var users = new List&lt;FacebookUser&gt;();\n  Settings.Instance.MakeNewIeInstanceVisible = false;\n  using (var browser = new IE(\"https://www.facebook.com\"))\n  {\n    try\n    {\n      browser.TextField(Find.ByName(\"email\")).Value = email;\n      browser.TextField(Find.ByName(\"pass\")).Value = password;\n      browser.Form(Find.ById(\"login_form\")).Submit();\n      browser.WaitForComplete();\n    }\n    catch (ElementNotFoundException)\n    {\n      // we're already logged in\n    }\n    browser.GoTo(\"https://www.facebook.com/friends\");\n    var watch = new Stopwatch();\n    watch.Start();\n\n    Link previousLastLink = null;\n    while (maxTimeoutInMilliseconds.HasValue &amp;&amp; watch.Elapsed.TotalMilliseconds &lt; maxTimeoutInMilliseconds.Value)\n    {\n      var lastLink = browser.Links.Where(l =&gt; l.GetAttributeValue(\"data-hovercard\") != null\n&amp;&amp; l.GetAttributeValue(\"data-hovercard\").Contains(\"user.php\")\n&amp;&amp; l.Text != null\n).LastOrDefault();\n      if (lastLink == null || previousLastLink == lastLink)\n      {\n        break;\n      }\n\n      var ieElement = lastLink.NativeElement as IEElement;\n      if (ieElement != null)\n      {\n        var htmlElement = ieElement.AsHtmlElement;\n        htmlElement.scrollIntoView();\n        browser.WaitForComplete();\n      }\n\n      previousLastLink = lastLink;\n    }\n\n    var links = browser.Links.Where(l =&gt; l.GetAttributeValue(\"data-hovercard\") != null\n      &amp;&amp; l.GetAttributeValue(\"data-hovercard\").Contains(\"user.php\")\n      &amp;&amp; l.Text != null\n    ).ToList();\n\n    var idRegex = new Regex(\"id=(?&lt;id&gt;([0-9]+))\");\n    foreach (var link in links)\n    {\n      string hovercard = link.GetAttributeValue(\"data-hovercard\");\n      var match = idRegex.Match(hovercard);\n      long id = 0;\n      if (match.Success)\n      {\n        id = long.Parse(match.Groups[\"id\"].Value);\n      }\n      users.Add(new FacebookUser\n      {\n        Name = link.Text,\n        Id = id\n      });\n    }\n  }\n  return users;\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>I made a github repo with implementation of this approach (using C#/Watin), it is also allows dynamic update of facebook connector that is retrieving list of your contacts: <a href=\"https://github.com/svejdo1/ShadowApi\" rel=\"nofollow\">https://github.com/svejdo1/ShadowApi</a></p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u/24944396#24944396", "question_id": 23417356, "answer_id": 24944396}, {"body": "<p>Although <em>Simon Cross's</em> answer is accepted and correct, I thought I would beef it up a bit with an example (android) of what needs to be done. I'll keep it as general as I can and focus on just the question. Personally I wound up storing things in a database so the loading was smooth but that requires a CursorAdapter and ContentProvider which is a bit out of scope here.</p>\n\n<p>I came here myself and then thought, now what?!</p>\n\n<p><strong>The Issue</strong></p>\n\n<p>Just like <em>user3594351</em>, I was noticing the friend data was blank. I found this out by using the FriendPickerFragment. What worked three months ago, no longer works. Even facebook's examples broke. So my issue was 'How Do I create FriendPickerFragment by hand?</p>\n\n<p><strong>What Did Not Work</strong></p>\n\n<p>Option #1 from <em>Simon Cross</em> was not strong enough to invite friends to the app. <em>Simon Cross</em> also recommended the Requests Dialog but that would only allow 5 requests at a time. Requests dialog also showed the same friends during any given Facebook logged in session. Not useful. </p>\n\n<p><strong>What Worked (Summary)</strong></p>\n\n<p>Option #2 with some hard work. You must make sure you fulfill Facebook's new rules: 1.) You're a game 2.) You have a Canvas app (Web Presence) 3.) You're app is registered with Facebook. All done on Facebook developer website under settings. </p>\n\n<p>To emulate the friend picker by hand inside my app I did the following: </p>\n\n<ol>\n<li>Create a tab activity that shows two fragments. Each fragment shows a list. One fragment for available friend (/me/friends) and another for invitable friends (/me/invitable_friends). Use the same fragment code to render both tabs.</li>\n<li>Create an AsyncTask that will get the friend data from Facebook. Once that data is loaded, toss it to the adapter which will render the values to the screen.</li>\n</ol>\n\n<p><strong>Details</strong></p>\n\n<p>The AsynchTask</p>\n\n<pre><code>private class DownloadFacebookFriendsTask extends AsyncTask&lt;FacebookFriend.Type, Boolean, Boolean&gt; {\n        private final String TAG = DownloadFacebookFriendsTask.class.getSimpleName();\n        GraphObject graphObject;\n        ArrayList&lt;FacebookFriend&gt; myList = new ArrayList&lt;FacebookFriend&gt;();\n\n        @Override\n        protected Boolean doInBackground(FacebookFriend.Type... pickType) {\n            //\n            //Determine Type\n            //\n            String facebookRequest;\n            if (pickType[0] == FacebookFriend.Type.AVAILABLE) {\n                facebookRequest = \"/me/friends\";\n            } else {\n                facebookRequest = \"/me/invitable_friends\";\n            }\n\n            //\n            //Launch Facebook request and WAIT.\n            //\n            new Request(\n                    Session.getActiveSession(),\n                    facebookRequest,\n                    null,\n                    HttpMethod.GET,\n                    new Request.Callback() {\n                        public void onCompleted(Response response) {\n                            FacebookRequestError error = response.getError();\n                            if (error != null &amp;&amp; response != null) {\n                                Log.e(TAG, error.toString());\n                            } else {\n                                graphObject = response.getGraphObject();\n                            }\n                        }\n                    }\n            ).executeAndWait();\n\n            //\n            //Process Facebook response\n            //\n            //\n            if (graphObject == null) {\n                return false;\n            }\n\n            int numberOfRecords = 0;\n            JSONArray dataArray = (JSONArray) graphObject.getProperty(\"data\");\n            if (dataArray.length() &gt; 0) {\n\n                // Ensure the user has at least one friend ...\n                for (int i = 0; i &lt; dataArray.length(); i++) {\n\n                    JSONObject jsonObject = dataArray.optJSONObject(i);\n                    FacebookFriend facebookFriend = new FacebookFriend(jsonObject, pickType[0]);\n\n                    if (facebookFriend.isValid()) {\n                        numberOfRecords++;\n\n                        myList.add(facebookFriend);\n                    }\n                }\n            }\n\n            //make sure there are records to process\n            if (numberOfRecords &gt; 0){\n                return true;\n            } else {\n                return false;\n            }\n        }\n\n        @Override\n        protected void onProgressUpdate(Boolean... booleans) {\n            //no need to update this, wait until the whole thread finishes.\n        }\n\n        @Override\n        protected void onPostExecute(Boolean result) {\n            if (result) {\n                /*\n                User the array \"myList\" to create the adapter which will control showing items in the list.\n                 */\n\n            } else {\n                Log.i(TAG, \"Facebook Thread unable to Get/Parse friend data. Type = \" + pickType);\n            }\n        }\n    }\n</code></pre>\n\n<p>The FacebookFriend class I created</p>\n\n<pre><code>public class FacebookFriend {\n    String facebookId;\n    String name;\n    String pictureUrl;\n    boolean invitable;\n    boolean available;\n    boolean isValid;\n    public enum Type {AVAILABLE, INVITABLE};\n\n    public FacebookFriend(JSONObject jsonObject, Type type) {\n        //\n        //Parse the Facebook Data from the JSON object.\n        //\n        try {\n            if (type == Type.INVITABLE) {\n                //parse /me/invitable_friend\n                this.facebookId =  jsonObject.getString(\"id\");\n                this.name = jsonObject.getString(\"name\");\n\n                //Handle the picture data.\n                JSONObject pictureJsonObject = jsonObject.getJSONObject(\"picture\").getJSONObject(\"data\");\n                boolean isSilhouette = pictureJsonObject.getBoolean(\"is_silhouette\");\n                if (!isSilhouette) {\n                    this.pictureUrl = pictureJsonObject.getString(\"url\");\n\n                } else {\n                    this.pictureUrl = \"\";\n                }\n\n                this.invitable = true;\n            } else {\n                //parse /me/friends\n                this.facebookId =  jsonObject.getString(\"id\");\n                this.name = jsonObject.getString(\"name\");\n                this.available = true;\n                this.pictureUrl = \"\";\n            }\n\n            isValid = true;\n        } catch (JSONException e) {\n            Log.w(\"#\", \"Warnings - unable to process FB JSON: \" + e.getLocalizedMessage());\n        }\n    }\n}\n</code></pre>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u/25027778#25027778", "question_id": 23417356, "answer_id": 25027778}, {"body": "<p>I don't know if they have changed this or not. But this is the way I always get all my user's friend data. Even the ones that don't use the app.</p>\n\n<pre><code>//Configure the request\nNSString *fbToken = [FBSession activeSession].accessTokenData.accessToken;\nNSString *fbURL = @\"https://graph.facebook.com/me/friends?access_token=%@\";\nNSURL *URL = [NSURL URLWithString:[NSString stringWithFormat:@\"%@%@\",fbURL, fbToken]]; \nNSURLRequest *friendRequest = [NSURLRequest requestWithURL:URL];\n\n//Send the request\n[NSURLConnection sendAsynchronousRequest:friendRequest queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse *response, NSData *data, NSError *connectionError) {\n\n    if (!connectionError) {\n\n        NSDictionary *friendData = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:nil];\n\n        NSLog(@\"friend data = %@\",friendData);\n\n        //Grab friends ID (or whatever else you want, just replace dic[@\"id\"]] with dic[@\"name\"]] or something\n\n        NSMutableArray *friendIDArray = [NSMutableArray array];\n\n        for (NSDictionary *dic in friendData[@\"data\"]) {\n\n            [friendIDArray addObject:dic[@\"id\"]];\n        }\n\n    }\n\n}\n</code></pre>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u/25329365#25329365", "question_id": 23417356, "answer_id": 25329365}, {"body": "<p>Facebook has revised their policies now. You can\u00b4t get the whole friendlist anyway if your App does not have a Canvas implementation and if your App is not a game. Of course there\u00b4s also taggable_friends, but that one is for tagging only.</p>\n\n<p>You will be able to pull the list of friends who have authorised the app only.</p>\n\n<p>The apps that are using Graph API 1.0 will be working till April 30th, 2015 and after that it will be deprecated.</p>\n\n<p>See link below to get more details on this</p>\n\n<p><a href=\"https://developers.facebook.com/docs/graph-api/reference/v2.2/user/friends\">https://developers.facebook.com/docs/graph-api/reference/v2.2/user/friends</a></p>\n\n<p><a href=\"https://developers.facebook.com/docs/apps/faq#invite_to_app\">https://developers.facebook.com/docs/apps/faq#invite_to_app</a></p>\n\n<p>Hope this helps</p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u/29182403#29182403", "question_id": 23417356, "answer_id": 29182403}, {"body": "<p>Try /me/taggable_friends?limit=5000 using your javascript code</p>\n\n<p>OR</p>\n\n<p>try the graph API</p>\n\n<p><a href=\"https://graph.facebook.com/v2.3/user_id_here/taggable_friends?access_token=\" rel=\"nofollow\">https://graph.facebook.com/v2.3/user_id_here/taggable_friends?access_token=</a></p>\n\n<p>Have fun</p>\n", "title": "Facebook Graph Api v2.0+ - /me/friends returns empty, or only friends who also use my app", "tags": ["facebook", "facebook-graph-api", "facebook-ios-sdk", "facebook-graph-api-v2.0"], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u/30399892#30399892", "question_id": 23417356, "answer_id": 30399892}], "link": "http://stackoverflow.com/questions/23417356/facebook-graph-api-v2-0-me-friends-returns-empty-or-only-friends-who-also-u", "question_id": 23417356}, {"body": "<p>I'm thinking of using docker to build my dependencies on a CI server, to that I don't have to install all the runtimes and libraries on the agents themselves. To achieve this I would need to copy the build artefacts that are built inside the container back into the host.</p>\n\n<p>Is that possible?</p>\n", "title": "Docker - copy file from container to host", "tags": ["docker"], "answers": [{"body": "<p>In order to copy a file from a container to the host, you can use the command</p>\n\n<pre><code>docker cp &lt;containerId&gt;:/file/path/within/container /host/path/target\n</code></pre>\n", "title": "Docker - copy file from container to host", "tags": ["docker"], "link": "http://stackoverflow.com/questions/22049212/docker-copy-file-from-container-to-host/22050116#22050116", "question_id": 22049212, "answer_id": 22050116}, {"body": "<p>Mount a \"volume\" and copy the artifacts into there:</p>\n\n<pre><code>mkdir artifacts\ndocker run -i -v ${PWD}/artifacts:/artifacts ubuntu:14.04 sh &lt;&lt; COMMANDS\n# ... build software here ...\ncp &lt;artifact&gt; /artifacts\n# ... copy more artifacts into `/artifacts` ...\nCOMMANDS\n</code></pre>\n\n<p>Then when the build finishes and the container is no longer running, it has already copied the artifacts from the build into the <code>artifacts</code> directory on the host.</p>\n\n<p>EDIT:</p>\n\n<p>CAVEAT: When you do this, you may run into problems with the user id of the docker user matching the user id of the current running user. That is, the files in <code>/artifacts</code> will be shown as owned by the user with the UID of the user used inside the docker container. A way around this may be to use the calling user's UID:</p>\n\n<pre><code>docker run -i -v ${PWD}:/working_dir -w /working_dir -u $(id -u) \\\n    ubuntu:14.04 sh &lt;&lt; COMMANDS\n# Since $(id -u) owns /working_dir, you should be okay running commands here\n# and having them work. Then copy stuff into /working_dir/artifacts .\nCOMMANDS\n</code></pre>\n", "title": "Docker - copy file from container to host", "tags": ["docker"], "link": "http://stackoverflow.com/questions/22049212/docker-copy-file-from-container-to-host/26150548#26150548", "question_id": 22049212, "answer_id": 26150548}, {"body": "<p>Mount a volume, copy the artifacts, adjust owner id and group id:</p>\n\n<pre><code>mkdir artifacts\ndocker run -i --rm -v ${PWD}/artifacts:/mnt/artifacts centos:6 /bin/bash &lt;&lt; COMMANDS\nls -la &gt; /mnt/artifacts/ls.txt\necho Changing owner from \\$(id -u):\\$(id -g) to $(id -u):$(id -u)\nchown -R $(id -u):$(id -u) /mnt/artifacts\nCOMMANDS\n</code></pre>\n", "title": "Docker - copy file from container to host", "tags": ["docker"], "link": "http://stackoverflow.com/questions/22049212/docker-copy-file-from-container-to-host/29350174#29350174", "question_id": 22049212, "answer_id": 29350174}, {"body": "<p>As a more general solution, <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/CloudBees+Docker+Custom+Build+Environment+Plugin\" rel=\"nofollow\">there's a CloudBees plugin for Jenkins to build inside a Docker container</a>.  You can select an image to use from a Docker registry or define a Dockerfile to build and use. </p>\n\n<p>It'll mount the workspace into the container as a volume (with appropriate user), set it as your working directory, do whatever commands you request (inside the container).\nYou can also use the docker-workflow plugin (if you prefer code over UI) to do this, with the image.inside() {} command. </p>\n\n<p>Basically all of this, baked into your CI/CD server and then some. </p>\n", "title": "Docker - copy file from container to host", "tags": ["docker"], "link": "http://stackoverflow.com/questions/22049212/docker-copy-file-from-container-to-host/32546354#32546354", "question_id": 22049212, "answer_id": 32546354}], "link": "http://stackoverflow.com/questions/22049212/docker-copy-file-from-container-to-host", "question_id": 22049212}, {"body": "<p>I am new to AngularJS, and I am a little confused of how I can use angular-\"ui-router\" in the following scenario:</p>\n\n<p>I am building a web application which consists of two sections. The first section is the homepage with its login and signup views, and the second section is the dashboard (after successful login).</p>\n\n<p>I have created an <code>index.html</code> for the home section with its angular app and <code>ui-router</code> config to handle <code>/login</code> and <code>/signup</code> views,\nand there is another file <code>dashboard.html</code> for the dashboard section with its app and <code>ui-router</code> config to handle many sub views.</p>\n\n<p>Now I finished the dashboard section and don't know how to combine the two sections with their different angular apps. How could I tell the home app to redirect to the dashboard app?</p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "answers": [{"body": "<p>I think you need a <code>service</code> that handle the authentication process (and its storage).</p>\n\n<p>In this service you'll need some basic methods :</p>\n\n<ul>\n<li><code>isAuthenticated()</code></li>\n<li><code>login()</code></li>\n<li><code>logout()</code></li>\n<li>etc ...</li>\n</ul>\n\n<p>This service should be injected in your controllers of each module :</p>\n\n<ul>\n<li>In your dashboard section, use this service to check if user is authenticated (<code>service.isAuthenticated()</code> method) . if not, redirect to /login</li>\n<li>In your login section, just use the form data to authenticate the user through your <code>service.login()</code> method</li>\n</ul>\n\n<p>A good and robust example for this behavior is the project <a href=\"https://github.com/angular-app/angular-app\">angular-app</a> and specifically its <a href=\"https://github.com/angular-app/angular-app/tree/master/client/src/common/security\">security module</a> which is based over the awesome <a href=\"https://github.com/witoldsz/angular-http-auth\">HTTP Auth Interceptor Module</a></p>\n\n<p>Hope this helps</p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/22538364#22538364", "question_id": 22537311, "answer_id": 22538364}, {"body": "<p>I'm in the process of making a nicer demo as well as cleaning up some of these services into a usable module, but here's what I've come up with. This is a complex process to work around some caveats, so hang in there. You'll need to break this down into several pieces.</p>\n\n<p><a href=\"http://plnkr.co/edit/UkHDqFD8P7tTEqSaCOcc?p=preview\">Take a look at this plunk</a>.</p>\n\n<p>First, you need a service to store the user's identity. I call this <code>principal</code>. It can be checked to see if the user is logged in, and upon request, it can resolve an object that represents the essential information about the user's identity. This can be whatever you need, but the essentials would be a display name, a username, possibly an email, and the roles a user belongs to (if this applies to your app). Principal also has methods to do role checks.</p>\n\n<pre><code>.factory('principal', ['$q', '$http', '$timeout',\n  function($q, $http, $timeout) {\n    var _identity = undefined,\n      _authenticated = false;\n\n    return {\n      isIdentityResolved: function() {\n        return angular.isDefined(_identity);\n      },\n      isAuthenticated: function() {\n        return _authenticated;\n      },\n      isInRole: function(role) {\n        if (!_authenticated || !_identity.roles) return false;\n\n        return _identity.roles.indexOf(role) != -1;\n      },\n      isInAnyRole: function(roles) {\n        if (!_authenticated || !_identity.roles) return false;\n\n        for (var i = 0; i &lt; roles.length; i++) {\n          if (this.isInRole(roles[i])) return true;\n        }\n\n        return false;\n      },\n      authenticate: function(identity) {\n        _identity = identity;\n        _authenticated = identity != null;\n      },\n      identity: function(force) {\n        var deferred = $q.defer();\n\n        if (force === true) _identity = undefined;\n\n        // check and see if we have retrieved the \n        // identity data from the server. if we have, \n        // reuse it by immediately resolving\n        if (angular.isDefined(_identity)) {\n          deferred.resolve(_identity);\n\n          return deferred.promise;\n        }\n\n        // otherwise, retrieve the identity data from the\n        // server, update the identity object, and then \n        // resolve.\n        //           $http.get('/svc/account/identity', \n        //                     { ignoreErrors: true })\n        //                .success(function(data) {\n        //                    _identity = data;\n        //                    _authenticated = true;\n        //                    deferred.resolve(_identity);\n        //                })\n        //                .error(function () {\n        //                    _identity = null;\n        //                    _authenticated = false;\n        //                    deferred.resolve(_identity);\n        //                });\n\n        // for the sake of the demo, fake the lookup\n        // by using a timeout to create a valid\n        // fake identity. in reality,  you'll want \n        // something more like the $http request\n        // commented out above. in this example, we fake \n        // looking up to find the user is\n        // not logged in\n        var self = this;\n        $timeout(function() {\n          self.authenticate(null);\n          deferred.resolve(_identity);\n        }, 1000);\n\n        return deferred.promise;\n      }\n    };\n  }\n])\n</code></pre>\n\n<p>Second, you need a service that checks the state the user wants to go to, makes sure they're logged in (if necessary; not necessary for signin, password reset, etc.), and then does a role check (if your app needs this). If they are not authenticated, send them to the sign-in page. If they are authenticated, but fail a role check, send them to an access denied page. I call this service <code>authorization</code>.</p>\n\n<pre><code>.factory('authorization', ['$rootScope', '$state', 'principal',\n  function($rootScope, $state, principal) {\n    return {\n      authorize: function() {\n        return principal.identity()\n          .then(function() {\n            var isAuthenticated = principal.isAuthenticated();\n\n            if ($rootScope.toState.data.roles\n                &amp;&amp; $rootScope.toState\n                             .data.roles.length &gt; 0 \n                &amp;&amp; !principal.isInAnyRole(\n                   $rootScope.toState.data.roles))\n            {\n              if (isAuthenticated) {\n                  // user is signed in but not\n                  // authorized for desired state\n                  $state.go('accessdenied');\n              } else {\n                // user is not authenticated. Stow\n                // the state they wanted before you\n                // send them to the sign-in state, so\n                // you can return them when you're done\n                $rootScope.returnToState\n                    = $rootScope.toState;\n                $rootScope.returnToStateParams\n                    = $rootScope.toStateParams;\n\n                // now, send them to the signin state\n                // so they can log in\n                $state.go('signin');\n              }\n            }\n          });\n      }\n    };\n  }\n])\n</code></pre>\n\n<p>Now all you need to do is listen in on <code>ui-router</code>'s <a href=\"https://github.com/angular-ui/ui-router/wiki\"><code>$stateChangeStart</code></a>. This gives you a chance to examine the current state, the state they want to go to, and insert your authorization check. If it fails, you can cancel the route transition, or change to a different route.</p>\n\n<pre><code>.run(['$rootScope', '$state', '$stateParams', \n      'authorization', 'principal',\n    function($rootScope, $state, $stateParams, \n             authorization, principal)\n{\n      $rootScope.$on('$stateChangeStart', \n          function(event, toState, toStateParams)\n      {\n        // track the state the user wants to go to; \n        // authorization service needs this\n        $rootScope.toState = toState;\n        $rootScope.toStateParams = toStateParams;\n        // if the principal is resolved, do an \n        // authorization check immediately. otherwise,\n        // it'll be done when the state it resolved.\n        if (principal.isIdentityResolved()) \n            authorization.authorize();\n      });\n    }\n  ]);\n</code></pre>\n\n<p>The tricky part about tracking a user's identity is looking it up if you've already authenticated (say, you're visiting the page after a previous session, and saved an auth token in a cookie, or maybe you hard refreshed a page, or dropped onto a URL from a link). Because of the way <code>ui-router</code> works, you need to do your identity resolve once, before your auth checks. You can do this using the <code>resolve</code> option in your state config. I have one parent state for the site that all states inherit from, which forces the principal to be resolved before anything else happens. </p>\n\n<pre><code>$stateProvider.state('site', {\n  'abstract': true,\n  resolve: {\n    authorize: ['authorization',\n      function(authorization) {\n        return authorization.authorize();\n      }\n    ]\n  },\n  template: '&lt;div ui-view /&gt;'\n})\n</code></pre>\n\n<p>There's another problem here... <code>resolve</code> only gets called once. Once your promise for identity lookup completes, it won't run the resolve delegate again. So we have to do your auth checks in two places: once pursuant to your identity promise resolving in <code>resolve</code>, which covers the first time your app loads, and once in <code>$stateChangeStart</code> if the resolution has been done, which covers any time you navigate around states.</p>\n\n<p>OK, so what have we done so far?</p>\n\n<ol>\n<li>We check to see when the app loads if the user is logged in.</li>\n<li>We track info about the logged in user.</li>\n<li>We redirect them to sign in state for states that require the user to be logged in.</li>\n<li>We redirect them to an access denied state if they do not have authorization to access it.</li>\n<li>We have a mechanism to redirect users back to the original state they requested, if we needed them to log in.</li>\n<li>We can sign a user out (needs to be wired up in concert with any client or server code that manages your auth ticket).</li>\n<li>We <em>don't</em> need to send users back to the sign-in page every time they reload their browser or drop on a link.</li>\n</ol>\n\n<p>Where do we go from here? Well, you can organize your states into regions that require sign in. You can require authenticated/authorized users by adding <code>data</code> with <code>roles</code> to these states (or a parent of them, if you want to use inheritance). Here, we restrict a resource to Admins:</p>\n\n<pre><code>.state('restricted', {\n    parent: 'site',\n    url: '/restricted',\n    data: {\n      roles: ['Admin']\n    },\n    views: {\n      'content@': {\n        templateUrl: 'restricted.html'\n      }\n    }\n  })\n</code></pre>\n\n<p>Now you can control state-by-state what users can access a route. Any other concerns? Maybe varying only part of a view based on whether or not they are logged in? No problem. Use the <code>principal.isAuthenticated()</code> or even <code>principal.isInRole()</code> with any of the numerous ways you can conditionally display a template or an element.</p>\n\n<p>First, inject <code>principal</code> into a controller or whatever, and stick it to the scope so you can use it easily in your view:</p>\n\n<pre><code>.scope('HomeCtrl', ['$scope', 'principal', \n    function($scope, principal)\n{\n  $scope.principal = principal;\n});\n</code></pre>\n\n<p>Show or hide an element:</p>\n\n<pre><code>&lt;div ng-show=\"principal.isAuthenticated()\"&gt;\n   I'm logged in\n&lt;/div&gt;\n&lt;div ng-hide=\"principal.isAuthenticated()\"&gt;\n  I'm not logged in\n&lt;/div&gt;\n</code></pre>\n\n<p>Etc., so on, so forth. Anyways, in your example app, you would have a state for home page that would let unauthenticated users drop by. They could have links to the sign-in or sign-up states, or have those forms built into that page. Whatever suits you.</p>\n\n<p>The dashboard pages could all inherit from a state that requires the users to be logged in and, say, be a <code>User</code> role member. All the authorization stuff we've discussed would flow from there.</p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/22540482#22540482", "question_id": 22537311, "answer_id": 22540482}, {"body": "<p>Here is how we got out of the infinite routing loop and still used <code>$state.go</code> instead of <code>$location.path</code></p>\n\n<pre><code>if('401' !== toState.name) {\n  if (principal.isIdentityResolved()) authorization.authorize();\n}\n</code></pre>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/24559152#24559152", "question_id": 22537311, "answer_id": 24559152}, {"body": "<p>I Created this module to help make this process piece of cake</p>\n\n<p>You can do things like:</p>\n\n<pre><code>$routeProvider\n  .state('secret',\n    {\n      ...\n      permissions: {\n        only: ['admin', 'god']\n      }\n    });\n</code></pre>\n\n<p>Or also</p>\n\n<pre><code>$routeProvider\n  .state('userpanel',\n    {\n      ...\n      permissions: {\n        except: ['not-logged-in']\n      }\n    });\n</code></pre>\n\n<p>It's brand new but worth checking out!</p>\n\n<p><a href=\"https://github.com/Narzerus/angular-permission\">https://github.com/Narzerus/angular-permission</a></p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/25636872#25636872", "question_id": 22537311, "answer_id": 25636872}, {"body": "<p>The solutions posted so far are needlessly complicated, in my opinion. There's a simpler way. The <a href=\"http://angular-ui.github.io/ui-router/site/#/api/ui.router.router.$urlRouter#methods_sync\">documentation of <code>ui-router</code></a> says listen to <code>$locationChangeSuccess</code> and use <code>$urlRouter.sync()</code> to check a state transition, halt it, or resume it. But even that actually doesn't work. </p>\n\n<p>However, here's two simple alternatives. Pick one:</p>\n\n<h1>Solution 1: listening on <code>$locationChangeSuccess</code></h1>\n\n<p>You can listen to <code>$locationChangeSuccess</code> and you can perform some logic, even asynchronous logic there. Based on that logic, you can let the function return undefined, which will cause the state transition to continue as normal, or you can do <code>$state.go('logInPage')</code>, if the user needs to be authenticated. Here's an example:</p>\n\n<pre><code>angular.module('App', ['ui.router'])\n\n// In the run phase of your Angular application  \n.run(function($rootScope, user, $state) {\n\n  // Listen to '$locationChangeSuccess', not '$stateChangeStart'\n  $rootScope.$on('$locationChangeSuccess', function() {\n    user\n      .logIn()\n      .catch(function() {\n        // log-in promise failed. Redirect to log-in page.\n        $state.go('logInPage')\n      })\n  })\n})\n</code></pre>\n\n<p>Keep in mind that this doesn't actually prevent the target state from loading, but it does redirect to the log-in page if the user is unauthorized. That's okay since real protection is on the server, anyway.</p>\n\n<h1>Solution 2: using state <code>resolve</code></h1>\n\n<p>In this solution, you use <a href=\"https://github.com/angular-ui/ui-router/wiki#resolve\"><code>ui-router</code> resolve feature</a>. </p>\n\n<p>You basically reject the promise in <code>resolve</code> if the user is not authenticated and then redirect them to the log-in page.</p>\n\n<p>Here's how it goes:</p>\n\n<pre><code>angular.module('App', ['ui.router'])\n\n.config(\n  function($stateProvider) {\n    $stateProvider\n      .state('logInPage', {\n        url: '/logInPage',\n        templateUrl: 'sections/logInPage.html',\n        controller: 'logInPageCtrl',\n      })\n      .state('myProtectedContent', {\n        url: '/myProtectedContent',\n        templateUrl: 'sections/myProtectedContent.html',\n        controller: 'myProtectedContentCtrl',\n        resolve: { authenticate: authenticate }\n      })\n      .state('alsoProtectedContent', {\n        url: '/alsoProtectedContent',\n        templateUrl: 'sections/alsoProtectedContent.html',\n        controller: 'alsoProtectedContentCtrl',\n        resolve: { authenticate: authenticate }\n      })\n\n    function authenticate($q, user, $state, $timeout) {\n      if (user.isAuthenticated()) {\n        // Resolve the promise successfully\n        return $q.when()\n      } else {\n        // The next bit of code is asynchronously tricky.\n\n        $timeout(function() {\n          // This code runs after the authentication promise has been rejected.\n          // Go to the log-in page\n          $state.go('logInPage')\n        })\n\n        // Reject the authentication promise to prevent the state from loading\n        return $q.reject()\n      }\n    }\n  }\n)\n</code></pre>\n\n<p>Unlike the first solution, this solution actually prevents the target state from loading.</p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/28267504#28267504", "question_id": 22537311, "answer_id": 28267504}, {"body": "<p>The easiest solution is to use <code>$stateChangeStart</code> and <code>event.preventDefault()</code> to cancel the state change when the user is not authenticated and redirect him to the <strong>auth</strong> state that is the login page.</p>\n\n<pre><code>angular\n  .module('myApp', [\n    'ui.router',\n  ])\n    .run(['$rootScope', 'User', '$state',\n    function ($rootScope, User, $state) {\n      $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {\n        if (toState.name !== 'auth' &amp;&amp; !User.authenticaded()) {\n          event.preventDefault();\n          $state.go('auth');\n        }\n      });\n    }]\n  );\n</code></pre>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/31688242#31688242", "question_id": 22537311, "answer_id": 31688242}, {"body": "<p>I have another solution: that solution works perfectly when you have only content you want to show when you are logged in. Define a rule where you checking if you are logged in and its not path of whitelist routes. </p>\n\n<pre><code>$urlRouterProvider.rule(function ($injector, $location) {\n   var UserService = $injector.get('UserService');\n   var path = $location.path(), normalized = path.toLowerCase();\n\n   if (!UserService.isLoggedIn() &amp;&amp; path.indexOf('login') === -1) {\n     $location.path('/login/signin');\n   }\n});\n</code></pre>\n\n<p>In my example i ask if i am not logged in and the current route i want to route is not part of `/login', because my whitelist routes are the following</p>\n\n<pre><code>/login/signup // registering new user\n/login/signin // login to app\n</code></pre>\n\n<p>so i have instant access to this two routes and every other route will be checked if you are online.</p>\n\n<p>Here is my whole routing file for the login module</p>\n\n<pre><code>export default (\n  $stateProvider,\n  $locationProvider,\n  $urlRouterProvider\n) =&gt; {\n\n  $stateProvider.state('login', {\n    parent: 'app',\n    url: '/login',\n    abstract: true,\n    template: '&lt;ui-view&gt;&lt;/ui-view&gt;'\n  })\n\n  $stateProvider.state('signin', {\n    parent: 'login',\n    url: '/signin',\n    template: '&lt;login-signin-directive&gt;&lt;/login-signin-directive&gt;'\n  });\n\n  $stateProvider.state('lock', {\n    parent: 'login',\n    url: '/lock',\n    template: '&lt;login-lock-directive&gt;&lt;/login-lock-directive&gt;'\n  });\n\n  $stateProvider.state('signup', {\n    parent: 'login',\n    url: '/signup',\n    template: '&lt;login-signup-directive&gt;&lt;/login-signup-directive&gt;'\n  });\n\n  $urlRouterProvider.rule(function ($injector, $location) {\n    var UserService = $injector.get('UserService');\n    var path = $location.path();\n\n    if (!UserService.isLoggedIn() &amp;&amp; path.indexOf('login') === -1) {\n         $location.path('/login/signin');\n    }\n  });\n\n  $urlRouterProvider.otherwise('/error/not-found');\n}\n</code></pre>\n\n<p><code>() =&gt; { /* code */ }</code> is ES6 syntax, use instead <code>function() { /* code */ }</code></p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/33363220#33363220", "question_id": 22537311, "answer_id": 33363220}, {"body": "<p>First you'll need a service that you can inject into your controllers that has some idea of app authentication state. Persisting auth details with local storage is a decent way to approach it. </p>\n\n<p>Next, you'll need to check the state of auth right before state changes. Since your app has some pages that need to be authenticated and others that don't, create a parent route that checks auth, and make all other pages that require the same be a child of that parent. </p>\n\n<p>Finally, you'll need some way to tell if your currently logged in user can perform certain operations. This can be achieved by adding a 'can' function to your auth service. Can takes two parameters: \n - action - required - (ie 'manage_dashboards' or 'create_new_dashboard')\n - object - optional - object being operated on. For example, if you had a dashboard object, you may want to check to see if dashboard.ownerId === loggedInUser.id. (Of course, information passed from the client should never be trusted and you should always verify this on the server before writing it to your database). </p>\n\n<pre><code>angular.module('myApp', ['ngStorage']).config([\n   '$stateProvider',\nfunction(\n   $stateProvider\n) {\n   $stateProvider\n     .state('home', {...}) //not authed\n     .state('sign-up', {...}) //not authed\n     .state('login', {...}) //not authed\n     .state('authed', {...}) //authed, make all authed states children\n     .state('authed.dashboard', {...})\n}])\n.service('context', [\n   '$localStorage',\nfunction(\n   $localStorage\n) {\n   var _user = $localStorage.get('user');\n   return {\n      getUser: function() {\n         return _user;\n      },\n      authed: function() {\n         return (_user !== null);\n      },\n      // server should return some kind of token so the app \n      // can continue to load authenticated content without having to\n      // re-authenticate each time\n      login: function() {\n         return $http.post('/login.json').then(function(reply) {\n            if (reply.authenticated === true) {\n               $localStorage.set(_userKey, reply.user);\n            }\n         });\n      },\n      // this request should expire that token, rendering it useless\n      // for requests outside of this session\n      logout: function() {\n         return $http.post('logout.json').then(function(reply) {\n            if (reply.authenticated === true) {\n               $localStorage.set(_userKey, reply.user);\n            }\n         });\n      },\n      can: function(action, object) {\n         if (!this.authed()) {\n            return false;\n         }\n\n         var user = this.getUser();\n\n         if (user &amp;&amp; user.type === 'admin') {\n             return true;\n         }\n\n         switch(action) {\n            case 'manage_dashboards':\n               return (user.type === 'manager');\n         }\n\n         return false;\n\n\n      }\n   }\n}])\n.controller('AuthCtrl', [\n   'context', \n   '$scope', \nfunction(\n   context, \n   $scope\n) {\n   $scope.$root.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {\n      //only require auth if we're moving to another authed page\n      if (toState &amp;&amp; toState.name.indexOf('authed') &gt; -1) {\n         requireAuth();\n      }\n   });\n\n   function requireAuth() {\n      if (!context.authed()) {\n         $state.go('login');\n      }\n   }\n}]\n</code></pre>\n\n<p>** DISCLAIMER: The above code is pseudo-code and comes with no guarantees **</p>\n", "title": "angular ui-router login authentication", "tags": ["javascript", "angularjs", "angular-ui-router"], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication/36997668#36997668", "question_id": 22537311, "answer_id": 36997668}], "link": "http://stackoverflow.com/questions/22537311/angular-ui-router-login-authentication", "question_id": 22537311}, {"body": "<p>Normally in Gulp tasks look like this:</p>\n\n<pre><code>gulp.task('my-task', function() {\n    return gulp.src(options.SCSS_SOURCE)\n        .pipe(sass({style:'nested'}))\n        .pipe(autoprefixer('last 10 version'))\n        .pipe(concat('style.css'))\n        .pipe(gulp.dest(options.SCSS_DEST));\n});\n</code></pre>\n\n<p>Is it possible to pass a command line flag to gulp (that's not a task) and have it run tasks conditionally based on that? For instance</p>\n\n<pre><code>$ gulp my-task -a 1\n</code></pre>\n\n<p>And then in my gulpfile.js:</p>\n\n<pre><code>gulp.task('my-task', function() {\n        if (a == 1) {\n            var source = options.SCSS_SOURCE;\n        } else {\n            var source = options.OTHER_SOURCE;\n        }\n        return gulp.src(source)\n            .pipe(sass({style:'nested'}))\n            .pipe(autoprefixer('last 10 version'))\n            .pipe(concat('style.css'))\n            .pipe(gulp.dest(options.SCSS_DEST));\n});\n</code></pre>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "answers": [{"body": "<p>Gulp doesn't offer any kind of util for that, but you can use one of the many command args parsers. I like <a href=\"https://www.npmjs.org/package/yargs\"><code>yargs</code></a>. Should be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var argv = require('yargs').argv;\n\ngulp.task('my-task', function() {\n    return gulp.src(argv.a == 1 ? options.SCSS_SOURCE : options.OTHER_SOURCE)\n        .pipe(sass({style:'nested'}))\n        .pipe(autoprefixer('last 10 version'))\n        .pipe(concat('style.css'))\n        .pipe(gulp.dest(options.SCSS_DEST));\n});\n</code></pre>\n\n<p>You can also combine it with <a href=\"https://github.com/robrich/gulp-if\"><code>gulp-if</code></a> to conditionally pipe the stream, very useful for dev vs. prod building:</p>\n\n<pre><code>var argv = require('yargs').argv,\n    gulpif = require('gulp-if'),\n    rename = require('gulp-rename'),\n    uglify = require('gulp-uglify');\n\ngulp.task('my-js-task', function() {\n  gulp.src('src/**/*.js')\n    .pipe(concat('out.js'))\n    .pipe(gulpif(argv.production, uglify()))\n    .pipe(gulpif(argv.production, rename({suffix: '.min'})))\n    .pipe(gulp.dest('dist/'));\n});\n</code></pre>\n\n<p>And call with <code>gulp my-js-task</code> or <code>gulp my-js-task --production</code>.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/23038290#23038290", "question_id": 23023650, "answer_id": 23038290}, {"body": "<p>In my project I use the following flag:</p>\n\n<pre><code>gulp styles --theme literature\n</code></pre>\n\n<p>Gulp offers an object <code>gulp.env</code> for that. It's deprecated in newer versions, so you must use gulp-util for that. The tasks looks like this:</p>\n\n<pre><code>var util = require('gulp-util');\n\ngulp.task('styles', function() {\n  return gulp.src(['src/styles/' + (util.env.theme ? util.env.theme : 'main') + '.scss'])\n    .pipe(compass({\n        config_file: './config.rb',\n        sass   : 'src/styles',\n        css    : 'dist/styles',\n        style  : 'expanded'\n\n    }))\n    .pipe(autoprefixer('last 2 version', 'safari 5', 'ie 8', 'ie 9', 'ff 17', 'opera 12.1', 'ios 6', 'android 4'))\n    .pipe(livereload(server))\n    .pipe(gulp.dest('dist/styles'))\n    .pipe(notify({ message: 'Styles task complete' }));\n});\n</code></pre>\n\n<p>The environment setting is available during all subtasks. So I can use this flag on the watch task too:</p>\n\n<pre><code>gulp watch --theme literature\n</code></pre>\n\n<p>And my styles task also works.</p>\n\n<p>Ciao\nRalf</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/23088183#23088183", "question_id": 23023650, "answer_id": 23088183}, {"body": "<p>Here's a quick recipe I found:</p>\n\n<h2>gulpfile.js</h2>\n\n<pre><code>var gulp   = require('gulp');\n\n// npm install gulp yargs gulp-if gulp-uglify\nvar args   = require('yargs').argv;\nvar gulpif = require('gulp-if');\nvar uglify = require('gulp-uglify');\n\nvar isProduction = args.env === 'production';\n\ngulp.task('scripts', function() {\n  return gulp.src('**/*.js')\n    .pipe(gulpif(isProduction, uglify())) // only minify if production\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<h2>CLI</h2>\n\n<pre><code>gulp scripts --env production\n</code></pre>\n\n<p>Original Ref (not available anymore): <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-params-from-cli.md\">https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-params-from-cli.md</a>  </p>\n\n<h1>Alternative with minimist</h1>\n\n<p>From Updated Ref: <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-arguments-from-cli.md\">https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-arguments-from-cli.md</a></p>\n\n<h2>gulpfile.js</h2>\n\n<pre><code>// npm install --save-dev gulp gulp-if gulp-uglify minimist\n\nvar gulp = require('gulp');\nvar gulpif = require('gulp-if');\nvar uglify = require('gulp-uglify');\n\nvar minimist = require('minimist');\n\nvar knownOptions = {\n  string: 'env',\n  default: { env: process.env.NODE_ENV || 'production' }\n};\n\nvar options = minimist(process.argv.slice(2), knownOptions);\n\ngulp.task('scripts', function() {\n  return gulp.src('**/*.js')\n    .pipe(gulpif(options.env === 'production', uglify())) // only minify if production\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<h2>CLI</h2>\n\n<pre><code>gulp scripts --env production\n</code></pre>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/23698020#23698020", "question_id": 23023650, "answer_id": 23698020}, {"body": "<p>If you've some strict (ordered!) arguments, then you can get them simply by checking <code>process.argv</code>.</p>\n\n<pre><code>var args = process.argv.slice(2);\n\nif (args[0] === \"--env\" &amp;&amp; args[1] === \"production\");\n</code></pre>\n\n<p>Execute it: <code>gulp --env production</code></p>\n\n<p>...however, I think that this is <em>tooo</em> strict and not bulletproof! So, I fiddled a bit around... and ended up with this utility function:</p>\n\n<pre><code>function getArg(key) {\n  var index = process.argv.indexOf(key);\n  var next = process.argv[index + 1];\n  return (index &lt; 0) ? null : (!next || next[0] === \"-\") ? true : next;\n}\n</code></pre>\n\n<p>It eats an argument-name and will search for this in <code>process.argv</code>. If nothing was found it spits out <code>null</code>. Otherwise if their is no next argument or the next argument is a command and not a value (we differ with a dash) <code>true</code> gets returned. (That's because the key exist, but there's just no value). If all the cases before will fail, the next argument-value is what we get.</p>\n\n<p><strong><code>&gt; gulp watch --foo --bar 1337 -boom \"Foo isn't equal to bar.\"</code></strong></p>\n\n<pre><code>getArg(\"--foo\") // =&gt; true\ngetArg(\"--bar\") // =&gt; \"1337\"\ngetArg(\"-boom\") // =&gt; \"Foo isn't equal to bar.\"\ngetArg(\"--404\") // =&gt; null\n</code></pre>\n\n<p>Ok, enough for now... Here's a simple example using <em>gulp</em>:</p>\n\n<pre><code>var gulp = require(\"gulp\");\nvar sass = require(\"gulp-sass\");\nvar rename = require(\"gulp-rename\");\n\nvar env = getArg(\"--env\");\n\ngulp.task(\"styles\", function () {\n  return gulp.src(\"./index.scss\")\n  .pipe(sass({\n    style: env === \"production\" ? \"compressed\" : \"nested\"\n  }))\n  .pipe(rename({\n    extname: env === \"production\" ? \".min.css\" : \".css\"\n  }))\n  .pipe(gulp.dest(\"./build\"));\n});\n</code></pre>\n\n<p>Run it <code>gulp --env production</code></p>\n\n\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/26946499#26946499", "question_id": 23023650, "answer_id": 26946499}, {"body": "<p>There's a very simple way to do <code>on/off</code> flags without parsing the arguments. <code>gulpfile.js</code> is just a file that's executed like any other, so you can do:</p>\n\n<pre><code>var flags = {\n  production: false\n};\n\ngulp.task('production', function () {\n  flags.production = true;\n});\n</code></pre>\n\n<p>And use something like <code>gulp-if</code> to conditionally execute a step</p>\n\n<pre><code>gulp.task('build', function () {\n  gulp.src('*.html')\n    .pipe(gulp_if(flags.production, minify_html()))\n    .pipe(gulp.dest('build/'));\n});\n</code></pre>\n\n<p>Executing <code>gulp build</code> will produce a nice html, while <code>gulp production build</code> will minify it.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/27093644#27093644", "question_id": 23023650, "answer_id": 27093644}, {"body": "<p>I built a plugin to inject parameters from the commandline into the task callback.</p>\n\n<pre><code>gulp.task('mytask', function (production) {\n  console.log(production); // =&gt; true\n});\n\n// gulp mytask --production\n</code></pre>\n\n<p><a href=\"https://github.com/stoeffel/gulp-param\" rel=\"nofollow\">https://github.com/stoeffel/gulp-param</a></p>\n\n<p>If someone finds a bug or has a improvement to it, I am happy to merge PRs.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/27212119#27212119", "question_id": 23023650, "answer_id": 27212119}, {"body": "<h2>Pass arguments from the command line</h2>\n\n<pre><code>// npm install --save-dev gulp gulp-if gulp-uglify minimist\n\nvar gulp = require('gulp');\nvar gulpif = require('gulp-if');\nvar uglify = require('gulp-uglify');\n\nvar minimist = require('minimist');\n\nvar knownOptions = {\n  string: 'env',\n  default: { env: process.env.NODE_ENV || 'production' }\n};\n\nvar options = minimist(process.argv.slice(2), knownOptions);\n\ngulp.task('scripts', function() {\n  return gulp.src('**/*.js')\n    .pipe(gulpif(options.env === 'production', uglify())) // only minify in production\n    .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<p>Then run gulp with:</p>\n\n<pre><code>$ gulp scripts --env development\n</code></pre>\n\n<p><a href=\"https://github.com/gulpjs/gulp/edit/master/docs/recipes/pass-arguments-from-cli.md\" rel=\"nofollow\">Source</a></p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/27530438#27530438", "question_id": 23023650, "answer_id": 27530438}, {"body": "<pre><code>var isProduction = (process.argv.indexOf(\"production\")&gt;-1);\n</code></pre>\n\n<p>CLI <code>gulp production</code> calls my production task and sets a flag for any conditionals.</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/34314447#34314447", "question_id": 23023650, "answer_id": 34314447}, {"body": "<p>We wanted to pass a different config file for different environments -- one for production, dev and testing. This is the code in the gulp file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//passing in flag to gulp to set environment\r\n//var env = gutil.env.env;\r\n\r\nif (typeof gutil.env.env === 'string') {\r\n  process.env.NODE_ENV = gutil.env.env;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is the code in the app.js file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  if(env === 'testing'){\r\n      var Config = require('./config.testing.js');\r\n      var Api = require('./api/testing.js')(Config.web);\r\n    }\r\n    else if(env === 'dev'){\r\n       Config = require('./config.dev.js');\r\n        Api = require('./api/dev.js').Api;\r\n    }\r\n    else{\r\n       Config = require('./config.production.js');\r\n       Api = require('./api/production.js')(Config.web);\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And then to run it gulp --env=testing</p>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/36560466#36560466", "question_id": 23023650, "answer_id": 36560466}, {"body": "<p>And if you are using typescript (<code>gulpfile.ts</code>) then do this for <code>yargs</code> (building on @Caio Cunha's excellent answer <a href=\"http://stackoverflow.com/a/23038290/1019307\">http://stackoverflow.com/a/23038290/1019307</a> and other comments above):</p>\n\n<h2>Install</h2>\n\n<pre><code>npm install --save-dev yargs\n\ntypings install dt~yargs --global --save\n</code></pre>\n\n<h3><code>.ts</code> files</h3>\n\n<p>Add this to the .ts files:</p>\n\n<pre><code>import { argv } from 'yargs';\n\n...\n\n  let debug: boolean = argv.debug;\n</code></pre>\n\n<p>This has to be done in each .ts file individually (even the <code>tools/tasks/project</code> files that are imported into the <code>gulpfile.ts/js</code>).</p>\n\n<h2>Run</h2>\n\n<pre><code>gulp build.dev --debug\n</code></pre>\n\n<p>Or under <code>npm</code> pass the arg through to gulp:</p>\n\n<pre><code>npm run build.dev -- --debug\n</code></pre>\n", "title": "Is it possible to pass a flag to Gulp to have it run tasks in different ways?", "tags": ["javascript", "node.js", "gulp"], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways/39030269#39030269", "question_id": 23023650, "answer_id": 39030269}], "link": "http://stackoverflow.com/questions/23023650/is-it-possible-to-pass-a-flag-to-gulp-to-have-it-run-tasks-in-different-ways", "question_id": 23023650}, {"body": "<p>This crash has been a blocking issue, basically I used following steps to reproduce the issue:</p>\n\n<ul>\n<li>Create a Cocoa Touch Framework project</li>\n<li>Add a swift file and a class <em>Dog</em></li>\n<li>Build framework for device</li>\n<li>Create a Single View application in Swift</li>\n<li>Import framework into app project</li>\n<li>Instantiate swift class from the framework in ViewController</li>\n<li>Build and run app on device</li>\n</ul>\n\n<p>The app immediate crashed upon launching, here is console log:</p>\n\n<pre><code>dyld: Library not loaded: @rpath/FrameworkTest03.framework/FrameworkTest03\n  Referenced from: /var/mobile/Applications/FA6BAAC8-1AAD-49B4-8326-F30F66458CB6/FrameworkTest03App.app/FrameworkTest03App\n  Reason: image not found\n</code></pre>\n\n<p>I have tried to build on iOS 7.1 and 8.0 devices, they both have the same crash. However I can build app and run on simulator fine. Also I am aware that I can change the framework to from <em>Required</em> to <em>Optional</em> in <em>Link Binary With Libraries</em>, but it did not completely resolve the problem, the app crashed when I create an instance of <em>Dog</em>. The behavior is different on device and simulator, I suspect that we can't distribute framework for device using beta version of Xcode. Can anyone shed light on this?</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "answers": [{"body": "<p>You need to add the framework to a new Copy Files Build Phase to ensure that the framework is copied into the application bundle at runtime..</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/4365479/how-to-add-a-copy-files-build-phase-to-my-target\">How to add a &#39;Copy Files build phase&#39; to my Target</a> for more information.</p>\n\n<p>Official Apple Docs: <a href=\"https://developer.apple.com/library/mac/recipes/xcode_help-project_editor/Articles/CreatingaCopyFilesBuildPhase.html\">https://developer.apple.com/library/mac/recipes/xcode_help-project_editor/Articles/CreatingaCopyFilesBuildPhase.html</a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/24334837#24334837", "question_id": 24333981, "answer_id": 24334837}, {"body": "<p>In the target's <strong>General</strong> tab, there is an <strong>Embedded Binaries</strong> field. When you add the framework there the crash is resolved.</p>\n\n<p>Reference is <a href=\"https://devforums.apple.com/message/991384#991384\">here</a> on Apple Developer Forums.</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/24345546#24345546", "question_id": 24333981, "answer_id": 24345546}, {"body": "<p>For those who the fix didn't work, try updating the OS to Yosemite. It worked for me!</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/27183106#27183106", "question_id": 24333981, "answer_id": 27183106}, {"body": "<h3>For iOS greater than or equal to 8</h3>\n\n<p>Under the target's General tab, in the Embedded Binaries section add the framework. This will copy the framework into the compiled so that it can be linked to at runtime.</p>\n\n<p><img src=\"http://i.stack.imgur.com/zRwSS.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Why is this happening? :</strong> because the framework you are linking to is compiled as a dynamically linked framework and thus is linked to at runtime. </p>\n\n<p><strong>Note :</strong> Embedding custom frameworks is only supported in iOS > 8 and thus and alternative solution that works on older versions of iOS follows. </p>\n\n<h3>For iOS less than 8</h3>\n\n<p>If you have influence on this framework (have access to the source code / build process) you may change this framework to be statically linked rather than dynamically linked. This will cause the code to be include in your compiled app rather than linked to at runtime and thus the framework will not have to be embedded.</p>\n\n<p><strong>How :</strong> Under the framework's Build Setting tab, in the Linking section change the <em>Mach-O Type</em> to Static Library. You should now not need to include the framework under embedded binaries. </p>\n\n<p><img src=\"http://i.stack.imgur.com/6yKzU.png\" alt=\"Static Framework\"></p>\n\n<p><strong>Including Assets :</strong> To include things such as images, audio, or xib/nib files I recommend creating a bundle (essentially a directory, more info here bit.ly/ios_bundle) and then load the assets from the bundle using NSBundle. </p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/28469804#28469804", "question_id": 24333981, "answer_id": 28469804}, {"body": "<p>I had to (on top of what mentioned here) add the following line to <strong>Runpath Search Paths</strong> under <em>Build Settings</em> tab:<br>\n<code>@executable_path/Frameworks</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/yihsd.png\" alt=\"enter image description here\"></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/29281962#29281962", "question_id": 24333981, "answer_id": 29281962}, {"body": "<p>I had the same issue. I tried building my project with an iPhone that I never used before and I didn't add a new framework. For me, cleaning up worked fine (<strong>Shift+Command+K</strong>). Maybe it's because I use beta 5 of Xcode 7 and an iPhone 6 with iOS 9 Beta, but it worked.</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/32049363#32049363", "question_id": 24333981, "answer_id": 32049363}, {"body": "<p>My environment: Cocos2d 2.0, Box2d, Objective C</p>\n\n<p>In addition to doing the other answers above I finally went to the General tab and made WatchKit Optional.</p>\n\n<p><a href=\"http://i.stack.imgur.com/mUI4A.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/mUI4A.png\" alt=\"Target General Linked Frameworks and Libraries Watchkit.framework Optional \"></a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/32159978#32159978", "question_id": 24333981, "answer_id": 32159978}, {"body": "<p>In case anyone is still experiencing this issue, despite following all the steps outlined in the many other answers, you may need to <strong>revoke</strong> and <strong>recreate your code signing certificate</strong>, as per the following:</p>\n\n<p><a href=\"https://developer.apple.com/library/ios/qa/qa1886/_index.html\" rel=\"nofollow\">https://developer.apple.com/library/ios/qa/qa1886/_index.html</a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/32967231#32967231", "question_id": 24333981, "answer_id": 32967231}, {"body": "<p>If you are using a third-party framework, and using Cocoapods as your dependency manager, try doing a <code>pod install</code> to refresh your pods.</p>\n\n<p>This crash was occurring on a third-party library I was using, so glad the above solution worked for me, hope it works for you!</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/34300373#34300373", "question_id": 24333981, "answer_id": 34300373}, {"body": "<p>In my case the solution was to remove the compiled framework from the Embedded Binaries, which was a standalone project in the workspace, clean and rebuild it, and read to Embedded Binarie.</p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/37710336#37710336", "question_id": 24333981, "answer_id": 37710336}, {"body": "<p>If anybody is facing this error in Xcode 8 then change your framework status to <strong>Optional</strong> instead of Required under the General Tab of your target.</p>\n\n<p><a href=\"http://i.stack.imgur.com/VGhy1.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/VGhy1.png\" alt=\"enter image description here\"></a></p>\n", "title": "iOS app with framework crashed on device, dyld: Library not loaded, Xcode 6 Beta", "tags": ["ios", "crash", "swift", "xcode6"], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta/39447794#39447794", "question_id": 24333981, "answer_id": 39447794}], "link": "http://stackoverflow.com/questions/24333981/ios-app-with-framework-crashed-on-device-dyld-library-not-loaded-xcode-6-beta", "question_id": 24333981}, {"body": "<p>I get the following error when attempting to install <code>psycopg2</code> via pip on Mavericks 10.9:</p>\n\n<pre><code>clang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n</code></pre>\n\n<p>Not sure how to proceed and have searched here and elsewhere for this particular error.  Any help is much appreciated!</p>\n\n<p>Here is the complete output from pip:</p>\n\n<pre><code>$ pip install psycopg2\nDownloading/unpacking psycopg2\n  Downloading psycopg2-2.5.2.tar.gz (685kB): 685kB downloaded\n  Running setup.py (path:/private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2/setup.py) egg_info for package psycopg2\n\nInstalling collected packages: psycopg2\n  Running setup.py install for psycopg2\n    building 'psycopg2._psycopg' extension\n    cc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch x86_64 -arch i386 -pipe -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.5.2 (dt dec pq3 ext)\" -DPG_VERSION_HEX=0x090303 -DPSYCOPG_EXTENSIONS=1 -DPSYCOPG_NEW_BOOLEAN=1 -DHAVE_PQFREEMEM=1 -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I. -I/usr/local/Cellar/postgresql/9.3.3/include -I/usr/local/Cellar/postgresql/9.3.3/include/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-intel-2.7/psycopg/psycopgmodule.o\n    clang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n    clang: note: this will be a hard error (cannot be downgraded to a warning) in the future\n    error: command 'cc' failed with exit status 1\n    Complete output from command /usr/bin/python -c \"import setuptools, tokenize;__file__='/private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip-bnWiwB-record/install-record.txt --single-version-externally-managed --compile:\n    running install\n\nrunning build\n\nrunning build_py\n\ncreating build\n\ncreating build/lib.macosx-10.9-intel-2.7\n\ncreating build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/__init__.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/_json.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/_range.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/errorcodes.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/extensions.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/extras.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/pool.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/psycopg1.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncopying lib/tz.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2\n\ncreating build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/__init__.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/dbapi20.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/dbapi20_tpc.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_async.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_bug_gc.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_bugX000.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_cancel.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_connection.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_copy.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_cursor.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_dates.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_extras_dictcursor.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_green.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_lobject.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_module.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_notify.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_psycopg2_dbapi20.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_quote.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_transaction.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_types_basic.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_types_extras.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/test_with.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/testconfig.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\ncopying tests/testutils.py -&gt; build/lib.macosx-10.9-intel-2.7/psycopg2/tests\n\nrunning build_ext\n\nbuilding 'psycopg2._psycopg' extension\n\ncreating build/temp.macosx-10.9-intel-2.7\n\ncreating build/temp.macosx-10.9-intel-2.7/psycopg\n\ncc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch x86_64 -arch i386 -pipe -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.5.2 (dt dec pq3 ext)\" -DPG_VERSION_HEX=0x090303 -DPSYCOPG_EXTENSIONS=1 -DPSYCOPG_NEW_BOOLEAN=1 -DHAVE_PQFREEMEM=1 -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I. -I/usr/local/Cellar/postgresql/9.3.3/include -I/usr/local/Cellar/postgresql/9.3.3/include/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-intel-2.7/psycopg/psycopgmodule.o\n\nclang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n\nclang: note: this will be a hard error (cannot be downgraded to a warning) in the future\n\nerror: command 'cc' failed with exit status 1\n\n----------------------------------------\nCleaning up...\nCommand /usr/bin/python -c \"import setuptools, tokenize;__file__='/private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip-bnWiwB-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /private/var/folders/0z/ljjwsjmn4v9_zwm81vhxj69m0000gn/T/pip_build_tino/psycopg2\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "answers": [{"body": "<p>Update: 10.9.3 resolves the issue with system CPython.</p>\n\n<p>This is caused by the latest clang update from Apple that came with Xcode 5.1 today and is affecting many, many people, so hopefully a fix will appear soon.</p>\n\n<p>Update: Did not expect this to get so much attention, but here's more detail: the clang 3.4 Apple is shipping defaults to erroring on unknown flags, but CPython builds modules using the same set of flags it was compiled with originally. The system CPython was compiled with several flags that are unknown by clang, thus causing this problem. The following are the current Mavericks (10.9.2) CPython compile flags:</p>\n\n<pre><code>-I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE\n</code></pre>\n\n<p>To resolve this issue you have a few options:</p>\n\n<ul>\n<li>Add <code>ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future</code> to your compile flags.</li>\n<li>Pass <code>CFLAGS=\"\"</code></li>\n<li>Strip the unsupported flags from the sysconfigdata.py (as is noted in another answer).</li>\n<li>Compile a new python using <a href=\"http://brew.sh\">homebrew</a>.</li>\n<li>Wait for the next OS X update, which is rumored to include recompiled Python/Ruby to remove this issue for system runtimes.</li>\n</ul>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22315129#22315129", "question_id": 22313407, "answer_id": 22315129}, {"body": "<p>Here is a work around that involves removing the flag from the python installation.</p>\n\n<p>In <code>/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_sysconfigdata.py</code> are several places where the <code>-mfused-madd</code> / <code>-mno-fused-madd</code> flag is set.</p>\n\n<p>Edit this file and remove all of the references to that flag your compilation should work:</p>\n\n<pre><code>sudo sed -i '.old' 's/ -m\\(no-\\)\\{0,1\\}fused-madd //g' /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_sysconfigdata.py\n</code></pre>\n\n<p>You need to delete the corresponding <code>_sysconfigdata.pyc</code> and <code>_sysconfigdata.pyo</code> files as well - at least on my system these files did not automatically get rebuilt:</p>\n\n<pre><code>cd /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/\nsudo rm _sysconfigdata.pyo _sysconfigdata.pyc\n</code></pre>\n\n<p>Note that have to use root access to make those changes.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22322068#22322068", "question_id": 22313407, "answer_id": 22322068}, {"body": "<p>You can tell clang to not raise this as an error by setting the following environment variables prior compilation:</p>\n\n<pre><code>export CFLAGS=-Qunused-arguments\nexport CPPFLAGS=-Qunused-arguments\n</code></pre>\n\n<p>Then <code>pip install psycopg2</code>should work.</p>\n\n<p>I had the same when trying to <code>pip install lxml</code>.</p>\n\n<p>Edit: if you are installing as superuser (which will likely be the case if you are trying to append to <code>/Library/Python/2.7/site-packages</code>, the native Apple factory-installed Python distribution which ships with OS X, rather than to some other Python distribution which you have subsequently installed yourself), then you will need to do, as described by @Thijs Kuipers in comments below:</p>\n\n<pre><code>sudo -E pip install psycopg2\n</code></pre>\n\n<p>or the equivalent, for whatever other package name you may be substituting in place of <code>psycopg2</code>.</p>\n\n<p>UPDATE [2014-05-16]: Apple has fixed this problem with updated system Pythons (2.7, 2.6, and 2.5) in <code>OS X 10.9.3</code> so the workaround is no longer necessary when using the latest Mavericks and <code>Xcode 5.1+</code>.  However, as of now, the workaround is still required for <code>OS X 10.8.x</code> (Mountain Lion, currently 10.8.5) if you are using <code>Xcode 5.1+</code> there.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22322645#22322645", "question_id": 22313407, "answer_id": 22322645}, {"body": "<p>I used <a href=\"http://brew.sh/\" rel=\"nofollow\">homebrew</a> python package.\nWorks well after re-compilling.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22327627#22327627", "question_id": 22313407, "answer_id": 22327627}, {"body": "<p>xCode 5.1</p>\n\n<pre><code>ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future pip install psycopg2\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22372751#22372751", "question_id": 22313407, "answer_id": 22372751}, {"body": "<p>I also edited the system python's notion of its original compile flags (as @user3405479 did). Instead of an editor I used command line tools to edit the file \"in place\" (the inode does change). I also compiled new pyo and pyc files instead of leaving them deleted.</p>\n\n<p>The following commands are run as root, for example under <code>sudo -i</code></p>\n\n<p><code>pushd /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7</code></p>\n\n<p><code>sed 's/-mno-fused-madd//g' _sysconfigdata.py \\\n| diff -p _sysconfigdata.py - | patch -b</code></p>\n\n<p><code>python -m py_compile _sysconfigdata.py</code></p>\n\n<p><code>python -OO -m py_compile _sysconfigdata.py</code></p>\n\n<p><code>popd</code></p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22449324#22449324", "question_id": 22313407, "answer_id": 22449324}, {"body": "<p>I used homebrew to install postgresql, and then wanted to install psycopg2 into the system-provided python 2.7 on Mavericks.  To get that to work I ended up running this:</p>\n\n<pre><code>sudo ARCHFLAGS=\"-arch x86_64\" CFLAGS=-Wunused-command-line-argument-hard-error-in-future pip install psycopg2\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22667529#22667529", "question_id": 22313407, "answer_id": 22667529}, {"body": "<p>None of the above solutions worked for me.  My situation is slightly different.  I was trying to install rdiff-backup via homebrew when I got this error message.</p>\n\n<p>I apparently have both Apple's default python (2.7.5 @ /usr/bin/python) and Homebrew's python (2.7.6 @ /usr/local/Cellar/python/2.7.6/bin/python), but the error was coming from Apple's python.</p>\n\n<p>To fix the problem, basically I switched the python binaries.</p>\n\n<p>I did this via sudo:</p>\n\n<ul>\n<li>cp /usr/bin/python /usr/bin/python_orig</li>\n<li>ln -s /usr/local/Cellar/python/2.7.6/bin/python /usr/bin/python</li>\n</ul>\n\n<p>Then, 'brew install rdiff-backup' succeeded without any errors.</p>\n\n<p>Finally, I did \"mv /usr/bin/python_orig /usr/bin/python\"  to revert everything back.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22794591#22794591", "question_id": 22313407, "answer_id": 22794591}, {"body": "<p>Variation on the _sysconfigdata.py fix: use a virtual environment</p>\n\n<p><code>cp /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_sysconfigdata.py ${VIRTUAL_ENV}/lib/python2.7/_sysconfigdata.py</code></p>\n\n<p>Then edit your copy at ${VIRTUAL_ENV}/lib/python2.7/_sysconfigdata.py</p>\n\n<p>I removed all the occurences of '-mno-fused-madd' and then builds worked in that virtualenv.</p>\n\n<p>No root needed!</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22847326#22847326", "question_id": 22313407, "answer_id": 22847326}, {"body": "<p>At least Apple is aware of this as this issue is discussed in the Xcode 5.1 <a href=\"https://developer.apple.com/library/mac/releasenotes/DeveloperTools/RN-Xcode/Introduction/Introduction.html\" rel=\"nofollow\" title=\"Release Notes\">Release Notes</a> (Compiler section). Expect an updated Python and Ruby in the next OS update (fingers crossed!). Also take note that the <code>-Wno-error=unused-command-line-argument-hard-error-in-future</code> flag is meant to be a temporary workaround and will go away in the future (hopefully after system Python is fixed!).</p>\n\n<p>If you are a Python package maintainer like me and want to save your users the hassle of working around this themselves, here is a solution (besides providing binary wheels/eggs) that goes into your <code>setup.py</code> file:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from distutils.command.build_ext import build_ext\nimport subprocess\nimport sys\n\n# Workaround for OS X 10.9.2 and Xcode 5.1+\n# The latest clang treats unrecognized command-line options as errors and the\n# Python CFLAGS variable contains unrecognized ones (e.g. -mno-fused-madd).\n# See Xcode 5.1 Release Notes (Compiler section) and\n# http://stackoverflow.com/questions/22313407 for more details. This workaround\n# follows the approach suggested in http://stackoverflow.com/questions/724664.\nclass build_ext_subclass(build_ext):\n    def build_extensions(self):\n        if sys.platform == 'darwin':\n            # Test the compiler that will actually be used to see if it likes flags\n            proc = subprocess.Popen(self.compiler.compiler + ['-v'],\n                                    stdout=subprocess.PIPE, stderr=subprocess.PIPE,\n                                    universal_newlines=True)\n            stdout, stderr = proc.communicate()\n            clang_mesg = \"clang: error: unknown argument: '-mno-fused-madd'\"\n            if proc.returncode and stderr.splitlines()[0].startswith(clang_mesg):\n                for ext in self.extensions:\n                    # Use temporary workaround to ignore invalid compiler option\n                    # Hopefully -mno-fused-madd goes away before this workaround!\n                    ext.extra_compile_args += ['-Wno-error=unused-command-line-argument-hard-error-in-future']\n        build_ext.build_extensions(self)\n\nsetup(\n    name=\"mypackage\",\n    ...\n    cmdclass={'build_ext' : build_ext_subclass},\n    ...\n)\n</code></pre>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/22931866#22931866", "question_id": 22313407, "answer_id": 22931866}, {"body": "<p>You're probably on Python 2.7.5</p>\n\n<pre><code>$ python\n\nPython 2.7.5 (default, Aug 25 2013, 00:04:04)  [GCC 4.2.1 Compatible\nApple LLVM 5.0 (clang-500.0.68)] on darwin\n</code></pre>\n\n<p>Easiest solution go to www.python.org and install Python 2.7.6 which is compatible with the LLVM 5.1.</p>\n\n<p>Then toast your old virtual environment, <code>rmvirtualenv {virtual_env_name}</code>. </p>\n\n<p>Then make a new virtual env..</p>\n\n<pre><code>mkvirtualenv --no-site-packages -p/Library/Frameworks/Python.framework/Versions/2.7/bin/python {virtual_env_name}\n</code></pre>\n\n<p>pip should work fine after this.</p>\n", "title": "clang error: unknown argument: &#39;-mno-fused-madd&#39; (python package installation failure)", "tags": ["python", "clang", "pip", "osx-mavericks"], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa/23277571#23277571", "question_id": 22313407, "answer_id": 23277571}], "link": "http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa", "question_id": 22313407}, {"body": "<p><code>weak</code> references don't seem to work in Swift unless a <code>protocol</code> is declared as <code>@objc</code>, which I don't want in a pure Swift app.</p>\n\n<p>This code gives a compile error (<code>weak</code> cannot be applied to non-class type <code>MyClassDelegate</code>):</p>\n\n<pre><code>class MyClass {\n  weak var delegate: MyClassDelegate?\n}\n\nprotocol MyClassDelegate {\n}\n</code></pre>\n\n<p>I need to prefix the protocol with <code>@objc</code>, then it works.</p>\n\n<p>Question: What is the 'pure' Swift way to accomplish a <code>weak</code> <code>delegate</code>?</p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "tags": ["swift", "delegates", "swift-protocols"], "answers": [{"body": "<p><strong>Update:</strong> \nIt looks like the manual has been updated and the example I was referring to has been removed. See the edit to @flainez's answer above.</p>\n\n<p><strong>Original:</strong>\nUsing @objc is the right way to do it even if you're not interoperating with Obj-C. It ensures that your protocol is being applied to a class and not an enum or struct. See \"Checking for Protocol Conformance\" in the manual.</p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "tags": ["swift", "delegates", "swift-protocols"], "link": "http://stackoverflow.com/questions/24066304/how-can-i-make-a-weak-protocol-reference-in-pure-swift-w-o-objc/24094430#24094430", "question_id": 24066304, "answer_id": 24094430}, {"body": "<p>You need to declare the type of the protocol as <code>class</code>.</p>\n\n<pre><code>protocol ProtocolNameDelegate: class {\n    // Protocol stuff goes here\n}\n\nclass SomeClass {\n    weak var delegate: ProtocolNameDelegate?\n}\n</code></pre>\n\n<p>My understanding is that using <code>class</code>, you guarantee that this protocol will be used only on classes and no other stuff like enums or structs. </p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "tags": ["swift", "delegates", "swift-protocols"], "link": "http://stackoverflow.com/questions/24066304/how-can-i-make-a-weak-protocol-reference-in-pure-swift-w-o-objc/24104371#24104371", "question_id": 24066304, "answer_id": 24104371}, {"body": "<h1>Supplemental Answer</h1>\n\n<p>I was always confused about whether delegates should be weak or not. Recently I've learned more about delegates and when to use weak references, so let me add some supplemental points here for the sake of future viewers.</p>\n\n<ul>\n<li><p>The purpose of using the <code>weak</code> keyword is to avoid strong reference cycles (retain cycles). Strong reference cycles happen when two class instances have strong references to each other. Their reference counts never go to zero so they never get deallocated. </p></li>\n<li><p>You only need to use <code>weak</code> if the delegate is a class. Swift structs and enums are value types (their values are copied when a new instance is made), not reference types, so they don't make strong <em>reference</em> cycles.</p></li>\n<li><p><code>weak</code> references are always optional (otherwise you would used <code>unowned</code>) and always use <code>var</code> (not <code>let</code>) so that the optional can be set to <code>nil</code> when it is deallocated.</p></li>\n<li><p>A parent class should naturally have a strong reference to its child classes and thus not use the <code>weak</code> keyword. When a child wants a reference to its parent, though, it should make it a weak reference by using the <code>weak</code> keyword.</p></li>\n<li><p><code>weak</code> should be used when you want a reference to a class that you don't own, not just for a child referencing its parent. When two non-hierarchical classes need to reference each other, choose one to be weak. The one you choose depends on the situation. See the answers to <a href=\"http://stackoverflow.com/questions/34565760/two-weak-variables-referencing-each-other-in-swift\">this question</a> for more on this.</p></li>\n<li><p><strong>As a general rule, delegates should be marked as <code>weak</code></strong> because most delegates are referencing classes that they do not own. This is definitely true when a child is using a delegate to communicate with a parent. However, there are still <a href=\"http://stackoverflow.com/questions/17348523/is-it-ever-ok-to-have-a-strong-reference-for-a-delegate\">some situations</a> where a delegate can and should use a strong reference.</p></li>\n<li><p>Protocols can be used for both reference types (classes) and non-reference types (structs, enums). So in the likely case that you need to make a delegate weak, you have to add the <code>class</code> keyword to the protocol so that it knows it is only to be used with reference types.</p>\n\n<pre><code>protocol MyClassDelegate: class {\n    // ...\n}\n\nclass SomeClass {\n    weak var delegate: MyClassDelegate?\n}\n</code></pre></li>\n</ul>\n\n<h1>Further Study</h1>\n\n<p>Reading the following articles is what helped me to understand this much better. They also discuss related issues like the <code>unowned</code> keyword and the strong reference cycles that happen with closures.</p>\n\n<ul>\n<li>Swift documentation: <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html\">Automatic Reference Counting</a></li>\n<li><a href=\"http://krakendev.io/blog/weak-and-unowned-references-in-swift\">\"Weak, Strong, Unowned, Oh My!\" - A Guide to References in Swift</a></li>\n<li><a href=\"http://www.andrewcbancroft.com/2015/05/08/strong-weak-and-unowned-sorting-out-arc-and-swift/\">Strong, Weak, and Unowned \u2013 Sorting out ARC and Swift</a></li>\n</ul>\n\n<h1>Related</h1>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/33549729/3681880\">How to make delegates in Swift</a></li>\n<li><a href=\"http://natashatherobot.com/ios-weak-delegates-swift/\">iOS: How To Make Weak Delegates In Swift</a></li>\n<li><a href=\"http://stackoverflow.com/questions/30056526/swift-delegation-when-to-use-weak-pointer-on-delegate\">Swift delegation - when to use weak pointer on delegate</a></li>\n</ul>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "tags": ["swift", "delegates", "swift-protocols"], "link": "http://stackoverflow.com/questions/24066304/how-can-i-make-a-weak-protocol-reference-in-pure-swift-w-o-objc/34566876#34566876", "question_id": 24066304, "answer_id": 34566876}, {"body": "<p>Apple uses \"NSObjectProtocol\" instead of \"class\". </p>\n\n<pre><code>public protocol UIScrollViewDelegate : NSObjectProtocol {\n   ...\n}\n</code></pre>\n\n<p>This also works for me and removed the errors I was seeing when trying to implement my own delegate pattern.</p>\n", "title": "How can I make a weak protocol reference in &#39;pure&#39; Swift (w/o @objc)", "tags": ["swift", "delegates", "swift-protocols"], "link": "http://stackoverflow.com/questions/24066304/how-can-i-make-a-weak-protocol-reference-in-pure-swift-w-o-objc/36724654#36724654", "question_id": 24066304, "answer_id": 36724654}], "link": "http://stackoverflow.com/questions/24066304/how-can-i-make-a-weak-protocol-reference-in-pure-swift-w-o-objc", "question_id": 24066304}, {"body": "<p>Are there any crucial differences between Oracle and Open JDK? </p>\n\n<p>For example are the garbage collection and other JVM parameters the same? Does GC work differently between the two?</p>\n", "title": "Differences between Oracle JDK and Open JDK and garbage collection", "tags": ["java", "openjdk"], "answers": [{"body": "<p>Nothing crucial. The openjdk project is mostly based on hotspot source code donated by Sun.</p>\n\n<p>Moreover, openjdk was selected to be the <a href=\"https://blogs.oracle.com/henrik/entry/moving_to_openjdk_as_the\">reference implementation for java 7</a>, and is maintained by Oracle engineers.</p>\n\n<p>There's a more detailed answer to your question <a href=\"http://stackoverflow.com/questions/11547458/what-is-differences-between-jvm-jdk-jre-openjdk\">here</a>, which links to <a href=\"https://blogs.oracle.com/henrik/entry/java_7_questions_answers\">this</a> blog post:</p>\n\n<blockquote>\n  <p><strong>Q</strong>: What is the difference between the source code found in the OpenJDK\n  repository, and the code you use to build the Oracle JDK?</p>\n  \n  <p><strong>A</strong>: It is very close - our build process for Oracle JDK releases builds \n  on OpenJDK 7 by adding just a couple of pieces, like the deployment code,\n  which includes Oracle's implementation of the Java Plugin and Java\n  WebStart, as well as some closed source third party components like a\n  graphics rasterizer, some open source third party components, like\n  Rhino, and a few bits and pieces here and there, like additional\n  documentation or third party fonts. Moving forward, our intent is to\n  open source all pieces of the Oracle JDK except those that we consider\n  commercial features such as JRockit Mission Control (not yet available\n  in Oracle JDK), and replace encumbered third party components with\n  open source alternatives to achieve closer parity between the code\n  bases.</p>\n</blockquote>\n", "title": "Differences between Oracle JDK and Open JDK and garbage collection", "tags": ["java", "openjdk"], "link": "http://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-open-jdk-and-garbage-collection/22358234#22358234", "question_id": 22358071, "answer_id": 22358234}, {"body": "<p>Both openjdk and oracle jdk are created and maintained currently by Oracle only.</p>\n\n<p>openjdk and oracle jdk are implementations of same Java specification passed the TCK(Java Technology Certification Kit).</p>\n\n<p>Most of the vendors of JDK are written on top of openjdk by doing few tweaks  to [Mostly to replace licensed proprietary parts / replace with more performatic items that only work on specific OS] components without breaking the TCK compatibility.</p>\n\n<p>Many vendors implemented Java specification and got TCK passed. For example IBM J9 , Azul Zulu , Azul Zing , Oracle JDK.</p>\n\n<p>Almost every existing JDK is derived from openjdk.</p>\n\n<p>As suggested by many, licensing is a change between JDK's.</p>\n\n<p>Ref: <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines#Proprietary_implementations\" rel=\"nofollow\">https://en.wikipedia.org/wiki/List_of_Java_virtual_machines#Proprietary_implementations</a></p>\n", "title": "Differences between Oracle JDK and Open JDK and garbage collection", "tags": ["java", "openjdk"], "link": "http://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-open-jdk-and-garbage-collection/38685948#38685948", "question_id": 22358071, "answer_id": 38685948}], "link": "http://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-open-jdk-and-garbage-collection", "question_id": 22358071}, {"body": "<p>I've set up my controllers using <code>data-ng-controller=\"xyzController as vm\"</code></p>\n\n<p>I have a scenario with parent / child nested controllers. I have no problem accessing parent properties in the nested html by using <code>$parent.vm.property</code>, but I cannot figure out how to access the parent property from within my child controller.</p>\n\n<p>I've tried injecting $scope and then using <code>$scope.$parent.vm.property</code>, but this isn't working?</p>\n\n<p>Can anyone offer advice?</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "answers": [{"body": "<p>If your HTML is like below you could do something like this:</p>\n\n<pre><code>&lt;div ng-controller=\"ParentCtrl\"&gt;\n    &lt;div ng-controller=\"ChildCtrl\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then you can access the parent scope as follows</p>\n\n<pre><code>function ParentCtrl($scope) {\n    $scope.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\n}\n\nfunction ChildCtrl($scope) {\n    $scope.parentcities = $scope.$parent.cities;\n}\n</code></pre>\n\n<p>If you want to access a parent controller from your view you have to do something like this:</p>\n\n<pre><code>&lt;div ng-controller=\"xyzController as vm\"&gt;\n   {{$parent.property}}\n&lt;/div&gt;\n</code></pre>\n\n<p>See jsFiddle: <a href=\"http://jsfiddle.net/2r728/\">http://jsfiddle.net/2r728/</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>Actually since you defined <code>cities</code> in the parent controller your child controller will inherit all scope variables. So theoritically you don't have to call <code>$parent</code>. The above example can also be written as follows:</p>\n\n<pre><code>function ParentCtrl($scope) {\n    $scope.cities = [\"NY\",\"Amsterdam\",\"Barcelona\"];\n}\n\nfunction ChildCtrl($scope) {\n    $scope.parentCities = $scope.cities;\n}\n</code></pre>\n\n<p>The AngularJS docs use this approach, <a href=\"http://docs.angularjs.org/guide/scope\">here</a> you can read more about the <code>$scope</code>.</p>\n\n<p><strong>Another update</strong></p>\n\n<p>I think this is a better answer to the original poster. </p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div ng-app ng-controller=\"ParentCtrl as pc\"&gt;\n    &lt;div ng-controller=\"ChildCtrl as cc\"&gt;\n        &lt;pre&gt;{{cc.parentCities | json}}&lt;/pre&gt;\n        &lt;pre&gt;{{pc.cities | json}}&lt;/pre&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>function ParentCtrl() {\n    var vm = this;\n    vm.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\n}\n\nfunction ChildCtrl() {\n    var vm = this;\n    ParentCtrl.apply(vm, arguments); // Inherit parent control\n\n    vm.parentCities = vm.cities;\n}\n</code></pre>\n\n<p>If you use the <code>controller as</code> method you can also access the parent scope as follows</p>\n\n<pre><code>function ChildCtrl($scope) {\n    var vm = this;\n    vm.parentCities = $scope.pc.cities; // note pc is a reference to the \"ParentCtrl as pc\"\n}\n</code></pre>\n\n<p>As you can see there are many different ways in accessing <code>$scopes</code>.</p>\n\n<p><a href=\"http://jsfiddle.net/2r728/10/\"><h3>Updated fiddle</h3></a>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function ParentCtrl() {\r\n    var vm = this;\r\n    vm.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\r\n}\r\n    \r\nfunction ChildCtrl($scope) {\r\n    var vm = this;\r\n    ParentCtrl.apply(vm, arguments);\r\n    \r\n    vm.parentCitiesByScope = $scope.pc.cities;\r\n    vm.parentCities = vm.cities;\r\n}\r\n    </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.20/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;div ng-app ng-controller=\"ParentCtrl as pc\"&gt;\r\n  &lt;div ng-controller=\"ChildCtrl as cc\"&gt;\r\n    &lt;pre&gt;{{cc.parentCities | json}}&lt;/pre&gt;\r\n    &lt;pre&gt;{{cc.parentCitiesByScope | json }}&lt;/pre&gt;\r\n    &lt;pre&gt;{{pc.cities | json}}&lt;/pre&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/21454647#21454647", "question_id": 21453697, "answer_id": 21454647}, {"body": "<p>I've just checked</p>\n\n<pre><code>$scope.$parent.someProperty\n</code></pre>\n\n<p>works for me.</p>\n\n<p>and it will be </p>\n\n<pre><code>{{$parent.someProperty}}\n</code></pre>\n\n<p>for the view.</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/21454664#21454664", "question_id": 21453697, "answer_id": 21454664}, {"body": "<p>I believe I had a similar quandary recently</p>\n\n<pre><code>function parentCtrl() {\n   var pc = this; // pc stands for parent control\n   pc.foobar = 'SomeVal';\n}\n\nfunction childCtrl($scope) {\n\n   // now how do I get the parent control 'foobar' variable?\n   // I used $scope.$parent\n\n   var parentFoobarVariableValue = $scope.$parent.pc.foobar;\n\n   // that did it\n}\n</code></pre>\n\n<p>My setup was a little different, but the same thing should probably still work</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/26620726#26620726", "question_id": 21453697, "answer_id": 26620726}, {"body": "<p>Some times you may need to update parent properties directly within child scope. e.g. need to save a date and time of parent control after changes by a child controller. e.g <a href=\"http://jsfiddle.net/JHwxP/23/\" rel=\"nofollow\">Code in JSFiddle</a></p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div ng-app&gt;\n&lt;div ng-controller=\"Parent\"&gt;\n    event.date = {{event.date}} &lt;br/&gt;\n    event.time = {{event.time}} &lt;br/&gt;\n    &lt;div ng-controller=\"Child\"&gt;\n        event.date = {{event.date}}&lt;br/&gt;\n        event.time = {{event.time}}&lt;br/&gt;\n        &lt;br&gt;\n        event.date: &lt;input ng-model='event.date'&gt;&lt;br&gt;\n        event.time: &lt;input ng-model='event.time'&gt;&lt;br&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>JS</p>\n\n<pre><code>    function Parent($scope) {\n       $scope.event = {\n        date: '2014/01/1',\n        time: '10:01 AM'\n       }\n    }\n\n    function Child($scope) {\n\n    }\n</code></pre>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/26840453#26840453", "question_id": 21453697, "answer_id": 26840453}, {"body": "<p>Perhaps this is lame but you can also just point them both at some external object:</p>\n\n<pre><code>var cities = [];\n\nfunction ParentCtrl() {\n    var vm = this;\n    vm.cities = cities;\n    vm.cities[0] = 'Oakland';\n}\n\nfunction ChildCtrl($scope) {\n    var vm = this;\n    vm.cities = cities;\n}\n</code></pre>\n\n<p>The benefit here is that edits in ChildCtrl now propogate back to the data in the parent.</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/29664428#29664428", "question_id": 21453697, "answer_id": 29664428}, {"body": "<p>You can also circumvent scope inheritance and store things in the \"global\" scope.</p>\n\n<p>If you have a main controller in your application which wraps all other controllers, you can install a \"hook\" to the global scope:</p>\n\n<pre><code>function RootCtrl($scope) {\n    $scope.root = $scope;\n}\n</code></pre>\n\n<p>Then in any child controller, you can access the \"global\" scope with <code>$scope.root</code>. Anything you set here will be globally visible.</p>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function RootCtrl($scope) {\r\n  $scope.root = $scope;\r\n}\r\n\r\nfunction ChildCtrl($scope) {\r\n  $scope.setValue = function() {\r\n    $scope.root.someGlobalVar = 'someVal';\r\n  }\r\n}\r\n\r\nfunction OtherChildCtrl($scope) {\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div ng-app ng-controller=\"RootCtrl\"&gt;\r\n  \r\n  &lt;p ng-controller=\"ChildCtrl\"&gt;\r\n    &lt;button ng-click=\"setValue()\"&gt;Set someGlobalVar&lt;/button&gt;\r\n  &lt;/p&gt;\r\n  \r\n  &lt;p ng-controller=\"OtherChildCtrl\"&gt;\r\n    someGlobalVar value: {{someGlobalVar}}\r\n  &lt;/p&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/32268013#32268013", "question_id": 21453697, "answer_id": 32268013}, {"body": "<p>When you are using <code>as</code> syntax to define a controller then to access parent scope variable in <strong>child controller</strong> use following :</p>\n\n<pre><code>var id = $scope.parentCtrl.id;\n</code></pre>\n\n<p>Where <code>parentCtrl</code> is name of parent controller using <code>as</code> syntax and user is a variable defined in same controller.</p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/33389286#33389286", "question_id": 21453697, "answer_id": 33389286}, {"body": "<p>In the chosen answer (in the <code>controller as</code> case) above I noted one thing.</p>\n\n<p>When you use the <code>.apply()</code> method, you are calling the ParentCtrl function with <code>this</code> being the vm of the child controller.</p>\n\n<pre><code>function ParentCtrl() {\n    var vm = this;\n    vm.cities = [\"NY\", \"Amsterdam\", \"Barcelona\"];\n}\n\nfunction ChildCtrl() {\n\n    var vm = this;\n    ParentCtrl.apply(vm, arguments); // Inherit parent control\n\n    vm.parentCities = vm.cities;\n}\n</code></pre>\n\n<p><code>vm.cities</code> will be available in the child controller but it will a copy of the <code>vm.cities</code> of the parent. It won't be updated in case <code>vm.cities</code> changes in the parent.</p>\n\n<p>if you do:</p>\n\n<pre><code>function ChildCtrl($scope) {\n\n    var vm = this;\n    vm.parentCities = $scope.pc.cities; \n}\n</code></pre>\n\n<p><code>vm.parentCities</code> is a ref to <code>vm.cities</code> in the parent. So changes will be in the child and parent.</p>\n\n<p>Using a constructor you can do:</p>\n\n<pre><code>function ChildCtrl($scope) {\n\n    var vm = this;\n    vm.parent = Object.create($scope.pc); \n}\n</code></pre>\n\n<p><code>vm.cities</code> will be updated in the child controller if it changes in the parent but if it gets overridden in the child, then it won't affect the parent. </p>\n\n<p>In my case I needed this last approach as I wanted to share a parent object to many controllers without creating a shared reference to the parent object.</p>\n\n<p>Here is a plunker <a href=\"http://plnkr.co/edit/EJoQuz2aXIB6i4FVzY2U?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/EJoQuz2aXIB6i4FVzY2U?p=preview</a> </p>\n", "title": "angularjs Access parent scope from child controller", "tags": ["angularjs", "angularjs-scope"], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller/33975046#33975046", "question_id": 21453697, "answer_id": 33975046}], "link": "http://stackoverflow.com/questions/21453697/angularjs-access-parent-scope-from-child-controller", "question_id": 21453697}, {"body": "<p>How to transfer docker image from one machine to another one without using repository no matter private or public ?</p>\n\n<p>I am used to play and create own image in virtualbox, when it is finished, I try to deploy to other machines to have real usage.</p>\n\n<p>Since it is based on own based image (like redhat), it cannot be recreated from Dockerfile.</p>\n\n<p>Are there any simple command I can use ? or other solution ?</p>\n\n<p><strong>updated</strong> seems save/export can achieve similar purpose, see another question <a href=\"http://stackoverflow.com/questions/22655867/what-is-the-difference-between-save-and-export-in-docker\">What is the difference between save and export in Docker?</a>, and I prefer <code>save</code> command for my case.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "answers": [{"body": "<p>For a flattened export of a container's filesystem, use; </p>\n\n<p><code>docker export CONTAINER_ID &gt; my_container.tar</code></p>\n\n<p>Use <code>cat my_container.tar | docker import -</code> to import said image.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/23935593#23935593", "question_id": 23935141, "answer_id": 23935593}, {"body": "<p>You will need to save the docker image as a tar file:</p>\n\n<pre><code>docker save -o &lt;save image to path&gt; &lt;image name&gt;\n</code></pre>\n\n<p>Then copy your image to a new system with regular file transfer tools such as <code>cp</code> or <code>scp</code>. After that you will have to load the image into docker:</p>\n\n<pre><code>docker load -i &lt;path to image tar file&gt;\n</code></pre>\n\n<p>PS: You may need to <code>sudo</code> all commands.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/23938978#23938978", "question_id": 23935141, "answer_id": 23938978}, {"body": "<p>assume u need to save couchdb-cartridge which has a image id 7ebc8510bc2c,</p>\n\n<pre><code>stratos@Dev-PC:~$ docker images\nREPOSITORY                             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\ncouchdb-cartridge                      latest              7ebc8510bc2c        17 hours ago        1.102 GB\n192.168.57.30:5042/couchdb-cartridge   latest              7ebc8510bc2c        17 hours ago        1.102 GB\nubuntu                                 14.04               53bf7a53e890        3 days ago          221.3 MB\n</code></pre>\n\n<p>Save the archiveName image to a tar file. I will use the /media/sf_docker_vm/ to save the image.</p>\n\n<pre><code>stratos@Dev-PC:~$ docker save imageID &gt; /media/sf_docker_vm/archiveName.tar\n</code></pre>\n\n<p>Copy the archiveName.tar file to your new Docker instance using whatever method works in your environment, for example FTP, SCP, etc.</p>\n\n<p>Run the docker load command on your new Docker instance and specify the location of the image tar file.</p>\n\n<pre><code>stratos@Dev-PC:~$ docker load &lt; /media/sf_docker_vm/archiveName.tar\n</code></pre>\n\n<p>Finally, run the docker images command to check that the image is now available.</p>\n\n<pre><code>        stratos@Dev-PC:~$ docker imagesREPOSITORY                             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\n    couchdb-cartridge                      latest              7ebc8510bc2c        17 hours ago        1.102 GB\n192.168.57.30:5042/couchdb-cartridge   latest              7ebc8510bc2c        17 hours ago        1.102 GB\nubuntu                                 14.04               4d2eab1c0b9a        3 days ago          221.3 MB\n</code></pre>\n\n<p>Please find this <a href=\"http://sencs.blogspot.com/2014/09/how-to-save-and-load-docker-rimages.html\" rel=\"nofollow\">detailed post</a>.</p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/26093032#26093032", "question_id": 23935141, "answer_id": 26093032}, {"body": "<p>Transferring a Docker image via SSH, bzipping the content on the fly:</p>\n\n<pre><code>docker save &lt;image&gt; | bzip2 | \\\n     ssh user@host 'bunzip2 | docker load'\n</code></pre>\n\n<p>It's also a good idea to put <code>pv</code> in the middle of the pipe to see how the transfer is going:</p>\n\n<pre><code>docker save &lt;image&gt; | bzip2 | pv | \\\n     ssh user@host 'bunzip2 | docker load'\n</code></pre>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/26226261#26226261", "question_id": 23935141, "answer_id": 26226261}, {"body": "<p>To save image to any file path or shared nfs see following example.</p>\n\n<p>Get image id by doing:</p>\n\n<pre><code>sudo docker images\n</code></pre>\n\n<p>Say you have image with id \"matrix-data\"</p>\n\n<p>Save image with id:</p>\n\n<pre><code>sudo docker save -o /home/matrix/matrix-data.tar matrix-data\n</code></pre>\n\n<p>Copy image from path to any host\nNow import to your local docker using :</p>\n\n<pre><code>sudo docker load -i &lt;path to copied image file&gt;\n</code></pre>\n\n<p>Hope this make make more clear.</p>\n\n<p>Thanks</p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/26728606#26728606", "question_id": 23935141, "answer_id": 26728606}, {"body": "<p>All other answers are very helpful. I just went through the same problem and figure out a easy way with <code>docker machine scp</code>. </p>\n\n<p>Since docker machine v0.3.0, scp was introduced to copy files from one docker machine to another. This is very convenient if you want copying file from your local computer to a remote docker machine such as AWS EC2 or Digital Ocean because of docker machine is taking care of ssh credentials for you.</p>\n\n<ol>\n<li><p>Save you images using <code>docker save</code> like:</p>\n\n<p>docker save -o docker-images.tar app-web</p></li>\n<li><p>Copy images using <a href=\"https://docs.docker.com/machine/reference/scp/\" rel=\"nofollow\">docker-machine scp</a></p>\n\n<p>docker-machine scp ./docker-images.tar remote-machine:/home/ubuntu</p></li>\n</ol>\n\n<p>Assume your remote docker machine is <code>remote-machine</code> and the directory you want the tar file to be is <code>/home/ubuntu</code></p>\n\n<ol start=\"3\">\n<li><p>Load docker image </p>\n\n<p>docker-machine ssh remote-machine sudo docker load -i docker-images.tar</p></li>\n</ol>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/35283345#35283345", "question_id": 23935141, "answer_id": 35283345}, {"body": "<p>This is how you can move docker images between two remote registers/repositories\nWorks with <code>Docker version 1.10.2, build c3959b1</code></p>\n\n<pre><code>docker pull source-registry.com/myProject/myImageName:1.0.0\ndocker tag source-registry.com/myProject/myImageName:1.0.0 target-remote-registry.com/myProject/myImageName:1.0.0\ndocker push target-remote-registry.com/myProject/myImageName:1.0.0\n</code></pre>\n\n<p>It's a handy method if you want to migrate your images to AWS ECS/ECR service. </p>\n", "title": "How to copy docker images from one host to another without via repository?", "tags": ["docker"], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository/36364408#36364408", "question_id": 23935141, "answer_id": 36364408}], "link": "http://stackoverflow.com/questions/23935141/how-to-copy-docker-images-from-one-host-to-another-without-via-repository", "question_id": 23935141}, {"body": "<p>The following code does work how I need it to, but it's ugly, excessive or a number of other things. I've looked at formulas and attempted to write a few solutions, but I end up with a similar amount of statements.</p>\n\n<p>Is there a type of math formula that would benefit me in this instance or are 16 if statements acceptable?</p>\n\n<p>To explain the code, it's for a kind of simultaneous-turn-based game.. two players have four action buttons each and the results come from an array (0-3), but the variables 'one' &amp; 'two' can be assigned anything if this helps. The result is, 0 = neither win, 1 = p1 wins, 2 = p2 wins, 3 = both win.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n\n    if(one == 0 &amp;&amp; two == 0) { result = 0; }\n    else if(one == 0 &amp;&amp; two == 1) { result = 0; }\n    else if(one == 0 &amp;&amp; two == 2) { result = 1; }\n    else if(one == 0 &amp;&amp; two == 3) { result = 2; }\n    else if(one == 1 &amp;&amp; two == 0) { result = 0; }\n    else if(one == 1 &amp;&amp; two == 1) { result = 0; }\n    else if(one == 1 &amp;&amp; two == 2) { result = 2; }\n    else if(one == 1 &amp;&amp; two == 3) { result = 1; }\n    else if(one == 2 &amp;&amp; two == 0) { result = 2; }\n    else if(one == 2 &amp;&amp; two == 1) { result = 1; }\n    else if(one == 2 &amp;&amp; two == 2) { result = 3; }\n    else if(one == 2 &amp;&amp; two == 3) { result = 3; }\n    else if(one == 3 &amp;&amp; two == 0) { result = 1; }\n    else if(one == 3 &amp;&amp; two == 1) { result = 2; }\n    else if(one == 3 &amp;&amp; two == 2) { result = 3; }\n    else if(one == 3 &amp;&amp; two == 3) { result = 3; }\n\n    return result;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "answers": [{"body": "<p>Try it with <strong>switch casing.</strong>..</p>\n\n<p>Take a look <a href=\"http://www.dummies.com/how-to/content/switch-statements-in-java.html\">here</a> or <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">here</a> for more info about it</p>\n\n<pre><code>switch (expression)\n{ \n  case constant:\n        statements;\n        break;\n  [ case constant-2:\n        statements;\n        break;  ] ...\n  [ default:\n        statements;\n        break;  ] ...\n}\n</code></pre>\n\n<p>You can <strong>add multiple conditions</strong>(not simultaneously) to it and even <strong>have a default option</strong> where no other cases have been satisfied.</p>\n\n<p><strong>PS: Only if one condition is to be satisfied..</strong></p>\n\n<p>If 2 conditions arise simultaneously.. I don't think switch can be used.\nBut you can reduce your code here.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5086322/java-switch-statement-multiple-cases\">Java switch statement multiple cases</a></p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501293#22501293", "question_id": 22501230, "answer_id": 22501293}, {"body": "<p>You may use a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">switch case</a> instead of mutiple <code>if</code></p>\n\n<p>Also to mention that since you have two variables then you have to merge the two variables to use them in switch</p>\n\n<p>Check this <a href=\"http://stackoverflow.com/questions/15222918/java-switch-statement-to-handle-two-variables\">Java switch statement to handle two variables?</a></p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501296#22501296", "question_id": 22501230, "answer_id": 22501296}, {"body": "<p>Instead do something like this</p>\n\n<pre><code>   public int fightMath(int one, int two) {\n    return Calculate(one,two)\n\n    }\n\n\n    private int Calculate(int one,int two){\n\n    if (one==0){\n        if(two==0){\n     //return value}\n    }else if (one==1){\n   // return value as per condtiion\n    }\n\n    }\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501429#22501429", "question_id": 22501230, "answer_id": 22501429}, {"body": "<p>If you cannot come up with a formula, you can use a table for such a limited number of outcomes:</p>\n\n<pre><code>final int[][] result = new int[][] {\n  { 0, 0, 1, 2 },\n  { 0, 0, 2, 1 },\n  { 2, 1, 3, 3 },\n  { 1, 2, 3, 3 }\n};\nreturn result[one][two];\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501430#22501430", "question_id": 22501230, "answer_id": 22501430}, {"body": "<p>You can create matrix which contains results </p>\n\n<pre><code>int[][] results = {{0, 0, 1, 2}, {0, 0, 2, 1},{2, 1, 3, 3},{2, 1, 3, 3}};\n</code></pre>\n\n<p>When you want to get value you will use </p>\n\n<pre><code>public int fightMath(int one, int two) {\n  return this.results[one][two]; \n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501452#22501452", "question_id": 22501230, "answer_id": 22501452}, {"body": "<p>As I draw a table between one/two and the result, I see one pattern, </p>\n\n<pre><code>if(one&lt;2 &amp;&amp; two &lt;2) result=0; return;\n</code></pre>\n\n<p>The above would cut down atleast 3 if statements. I don't see a set pattern nor I am able to glean much from the code given - but if such logic can be derived, it would cut down a number of if statements.</p>\n\n<p>Hope this helps.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501779#22501779", "question_id": 22501230, "answer_id": 22501779}, {"body": "<p>To be quite honest, everyone has their own style of code. I wouldn't have thought performance would be affected too much. If you understand this better than using a switch case version, then carry on using this.</p>\n\n<p>You could nest the ifs , so potentially there would be a slight performance increase for your last if checks as it wouldn't have gone through as many if statements. But in your context of a basic java course it probably won't benefit.</p>\n\n<pre><code>else if(one == 3 &amp;&amp; two == 3) { result = 3; }\n</code></pre>\n\n<p>So, instead of...</p>\n\n<pre><code>if(one == 0 &amp;&amp; two == 0) { result = 0; }\nelse if(one == 0 &amp;&amp; two == 1) { result = 0; }\nelse if(one == 0 &amp;&amp; two == 2) { result = 1; }\nelse if(one == 0 &amp;&amp; two == 3) { result = 2; }\n</code></pre>\n\n<p>You'd do...</p>\n\n<pre><code>if(one == 0) \n{ \n    if(two == 0) { result = 0; }\n    else if(two == 1) { result = 0; }\n    else if(two == 2) { result = 1; }\n    else if(two == 3) { result = 2; }\n}\n</code></pre>\n\n<p>And just reformat it as you'd prefer.</p>\n\n<p>This doesn't make the code look better, but potentially speeds it up a little I believe.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22501941#22501941", "question_id": 22501230, "answer_id": 22501941}, {"body": "<p>Thanks to @Joe Harper as I ended up using a variation of his answer. To slim it down further as 2 results per 4 were the same I slimmed it down further.</p>\n\n<p>I may come back to this at some point, but if there's no major resistance caused by multiple <code>if</code>-statements then I'll keep this for now. I will look into the table matrix and switch statement solutions further.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n\n    if       (one == 0) {\n\n        if       (two == 2) {\n            result = 1;\n        } else if(two == 3) {\n            result = 2;\n        } else {\n            result = 0; }\n\n    } else if(one == 1) {\n        if       (two == 2) {\n            result = 2;\n        } else if(two == 3) {\n            result = 1;\n        } else {\n            result = 0; }\n\n    } else if(one == 2) {\n\n        if       (two == 0) {\n            result = 2;\n        } else if(two == 1) {\n            result = 1;\n        } else {\n            result = 3; }\n\n    } else if(one == 3) {\n\n        if       (two == 0) {\n            result = 1;\n        } else if(two == 1) {\n            result = 2;\n        } else {\n            result = 3; }\n    }\n\n    return result;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22506289#22506289", "question_id": 22501230, "answer_id": 22506289}, {"body": "<p>Other people have already suggested my initial idea, the matrix method, but in addition to consolidating the if statements you can avoid some of what you have by making sure the arguments supplied are in the expected range and by using in-place returns (some coding standards I've seen enforce one-point-of-exit for functions, but I've found that multiple returns are very useful for avoiding arrow coding and with the prevalence of exceptions in Java there's not much point in strictly enforcing such a rule anyway as any uncaught exception thrown inside the method is a possible point of exit anyway). Nesting switch statements is a possibility, but for the small range of values you're checking here I find if statements to be more compact and not likely to result in much of a performance difference, especially if your program is turn-based rather than real-time.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    if (one &gt; 3 || one &lt; 0 || two &gt; 3 || two &lt; 0) {\n        throw new IllegalArgumentException(\"Result is undefined for arguments outside the range [0, 3]\");\n    }\n\n    if (one &lt;= 1) {\n        if (two &lt;= 1) return 0;\n        if (two - one == 2) return 1;\n        return 2; // two can only be 3 here, no need for an explicit conditional\n    }\n\n    // one &gt;= 2\n    if (two &gt;= 2) return 3;\n    if (two == 1) return 1;\n    return 2; // two can only be 0 here\n}\n</code></pre>\n\n<p>This does end up being less readable than it might otherwise be due to the irregularity of parts of the input->result mapping. I favor the matrix style instead due to its simplicity and how you can set up the matrix to make sense visually (though that is in part influenced by my memories of Karnaugh maps):</p>\n\n<pre><code>int[][] results = {{0, 0, 1, 2},\n                   {0, 0, 2, 1},\n                   {2, 1, 3, 3},\n                   {2, 1, 3, 3}};\n</code></pre>\n\n<hr>\n\n<p>Update: Given your mention of blocking/hitting, here's a more radical change to the function that utilizes propertied/attribute-holding enumerated types for inputs and the result and also modifies the result a little to account for blocking, which should result in a more readable function.</p>\n\n<pre><code>enum MoveType {\n    ATTACK,\n    BLOCK;\n}\n\nenum MoveHeight {\n    HIGH,\n    LOW;\n}\n\nenum Move {\n    // Enum members can have properties/attributes/data members of their own\n    ATTACK_HIGH(MoveType.ATTACK, MoveHeight.HIGH),\n    ATTACK_LOW(MoveType.ATTACK, MoveHeight.LOW),\n    BLOCK_HIGH(MoveType.BLOCK, MoveHeight.HIGH),\n    BLOCK_LOW(MoveType.BLOCK, MoveHeight.LOW);\n\n    public final MoveType type;\n    public final MoveHeight height;\n\n    private Move(MoveType type, MoveHeight height) {\n        this.type = type;\n        this.height = height;\n    }\n\n    /** Makes the attack checks later on simpler. */\n    public boolean isAttack() {\n        return this.type == MoveType.ATTACK;\n    }\n}\n\nenum LandedHit {\n    NEITHER,\n    PLAYER_ONE,\n    PLAYER_TWO,\n    BOTH;\n}\n\nLandedHit fightMath(Move one, Move two) {\n    // One is an attack, the other is a block\n    if (one.type != two.type) {\n        // attack at some height gets blocked by block at same height\n        if (one.height == two.height) return LandedHit.NEITHER;\n\n        // Either player 1 attacked or player 2 attacked; whoever did\n        // lands a hit\n        if (one.isAttack()) return LandedHit.PLAYER_ONE;\n        return LandedHit.PLAYER_TWO;\n    }\n\n    // both attack\n    if (one.isAttack()) return LandedHit.BOTH;\n\n    // both block\n    return LandedHit.NEITHER;\n}\n</code></pre>\n\n<p>You don't even have to change the function itself if you want to add blocks/attacks of more heights, just the enums; adding additional types of moves will probably require modification of the function, though. Also, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html\"><code>EnumSet</code>s</a> might be more extensible than using extra enums as properties of the main enum, e.g. <code>EnumSet&lt;Move&gt; attacks = EnumSet.of(Move.ATTACK_HIGH, Move.ATTACK_LOW, ...);</code> and then <code>attacks.contains(move)</code> rather than <code>move.type == MoveType.ATTACK</code>, though using <code>EnumSet</code>s will probably be slightly slower than direct equals checks.</p>\n\n<hr>\n\n<p>For the case where a successful block results in a counter, you can replace <code>if (one.height == two.height) return LandedHit.NEITHER;</code> with</p>\n\n<pre><code>if (one.height == two.height) {\n    // Successful block results in a counter against the attacker\n    if (one.isAttack()) return LandedHit.PLAYER_TWO;\n    return LandedHit.PLAYER_ONE;\n}\n</code></pre>\n\n<p>Also, replacing some of the <code>if</code> statements with usage of the ternary operator (<code>boolean_expression ? result_if_true : result_if_false</code>) could make the code more compact (for example, the code in the preceding block would become <code>return one.isAttack() ? LandedHit.PLAYER_TWO : LandedHit.PLAYER_ONE;</code>), but that can lead to harder-to-read oneliners so I wouldn't recommend it for more complex branching.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22507048#22507048", "question_id": 22501230, "answer_id": 22507048}, {"body": "<p>Why not using an array?</p>\n\n<p>I will start from the beginning. I see a pattern, the values goes from 0 to 3 and you want catch all possible values. This is your table:</p>\n\n<pre><code>0 &amp; 0 = 0\n0 &amp; 1 = 0\n0 &amp; 2 = 1\n0 &amp; 3 = 2\n1 &amp; 0 = 0\n1 &amp; 1 = 0\n1 &amp; 2 = 2\n1 &amp; 3 = 1\n2 &amp; 0 = 2\n2 &amp; 1 = 1\n2 &amp; 2 = 3\n2 &amp; 3 = 3\n3 &amp; 0 = 2\n3 &amp; 1 = 1\n3 &amp; 2 = 3\n3 &amp; 3 = 3\n</code></pre>\n\n<p>when we look at this same table binary we see the following results:</p>\n\n<pre><code>00 &amp; 00 = 00\n00 &amp; 01 = 00\n00 &amp; 10 = 01\n00 &amp; 11 = 10\n01 &amp; 00 = 00\n01 &amp; 01 = 00\n01 &amp; 10 = 10\n01 &amp; 11 = 01\n10 &amp; 00 = 10\n10 &amp; 01 = 01\n10 &amp; 10 = 11\n10 &amp; 11 = 11\n11 &amp; 00 = 10\n11 &amp; 01 = 01\n11 &amp; 10 = 11\n11 &amp; 11 = 11\n</code></pre>\n\n<p>Now maybe you already see some pattern but when I combine value one and two I see that you're using all values 0000, 0001, 0010,..... 1110 and 1111. Now let's combine value one and two to make a single 4 bit integer. </p>\n\n<pre><code>0000 = 00\n0001 = 00\n0010 = 01\n0011 = 10\n0100 = 00\n0101 = 00\n0110 = 10\n0111 = 01\n1000 = 10\n1001 = 01\n1010 = 11\n1011 = 11\n1100 = 10\n1101 = 01\n1110 = 11\n1111 = 11\n</code></pre>\n\n<p>When we translate this back into decimal values we see an very possible array of values where the one and two combined could be used as index:</p>\n\n<pre><code>0 = 0\n1 = 0\n2 = 1\n3 = 2\n4 = 0\n5 = 0\n6 = 2\n7 = 1\n8 = 2\n9 = 1\n10 = 3\n11 = 3\n12 = 2\n13 = 1\n14 = 3\n15 = 3\n</code></pre>\n\n<p>The array is then {0, 0, 1, 2, 0, 0, 2, 1, 2, 1, 3, 3, 2, 1, 3, 3} which where it's index is simply one and two combined.</p>\n\n<p>I'm not a Java programmer but you can get rid of all if statements and just write it down as something like this:</p>\n\n<pre><code>int[] myIntArray = {0, 0, 1, 2, 0, 0, 2, 1, 2, 1, 3, 3, 2, 1, 3, 3};\nresult = myIntArray[one * 4 + two]; \n</code></pre>\n\n<p>Don't know if a bit shift of 2 is faster than multiplication. But it could be worth the try. </p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22508836#22508836", "question_id": 22501230, "answer_id": 22508836}, {"body": "<p>This uses a little bit of bitmagic (you're already doing it by holding two bits of information (low/high &amp; attack/block) in a single integer):</p>\n\n<p><s>I haven't run it, only typed it here, please doublecheck.</s> The idea surely works.\n<b>EDIT:</b> It is now tested for every input, works fine.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    if(one&lt;2 &amp;&amp; two&lt;2){ //both players blocking\n        return 0; // nobody hits\n    }else if(one&gt;1 &amp;&amp; two&gt;1){ //both players attacking\n        return 3; // both hit\n    }else{ // some of them attack, other one blocks\n        int different_height = (one ^ two) &amp; 1; // is 0 if they are both going for the same height - i.e. blocker wins, and 1 if height is different, thus attacker wins\n        int attacker = one&gt;1?1:0; // is 1 if one is the attacker, two is the blocker, and 0 if one is the blocker, two is the attacker\n        return (attacker ^ different_height) + 1;\n    }\n}\n</code></pre>\n\n<p>Or should I suggest to separate the two bits of information into separate variables?\nCode based mostly on bit operations like this above is usually really hard to maintain.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22509356#22509356", "question_id": 22501230, "answer_id": 22509356}, {"body": "<p>I don't like any of the solutions presented except for JAB's.  <strong>None of the others make it easy to read the code and understand what is being computed</strong>. </p>\n\n<p>Here's how I would write this code -- I only know C#, not Java, but you get the picture:</p>\n\n<pre><code>const bool t = true;\nconst bool f = false;\nstatic readonly bool[,] attackResult = {\n    { f, f, t, f }, \n    { f, f, f, t },\n    { f, t, t, t },\n    { t, f, t, t }\n};\n[Flags] enum HitResult \n{ \n    Neither = 0,\n    PlayerOne = 1,\n    PlayerTwo = 2,\n    Both = PlayerOne | PlayerTwo\n}\nstatic HitResult ResolveAttack(int one, int two)\n{\n    return \n        (attackResult[one, two] ? HitResult.PlayerOne : HitResult.Neither) | \n        (attackResult[two, one] ? HitResult.PlayerTwo : HitResult.Neither);\n}    \n</code></pre>\n\n<p>Now it is much more clear what is being computed here: this emphasizes that we are computing who gets hit by what attack, and returning both results.</p>\n\n<p>However this could be even better; that Boolean array is somewhat opaque. I like the table lookup approach but I would be inclined to write it in such a way that made it clear what the intended game semantics were. That is, rather than \"an attack of zero and a defense of one results in no hit\", instead find a way to make the code more clearly imply \"a low kick attack and a low block defense results in no hit\".  <strong>Make the code reflect the business logic of the game.</strong></p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22511214#22511214", "question_id": 22501230, "answer_id": 22511214}, {"body": "<p>Since your data set is so small, you can compress everything into 1 long integer and turn it into a formula</p>\n\n<pre><code>public int fightMath(int one,int two)\n{\n   return (int)(0xF9F66090L &gt;&gt; (2*(one*4 + two)))%4;\n}\n</code></pre>\n\n<h3>More bitwise variant:</h3>\n\n<p>This makes use of the fact everything is a multiple of 2</p>\n\n<pre><code>public int fightMath(int one,int two)\n{\n   return (0xF9F66090 &gt;&gt; ((one &lt;&lt; 3) | (two &lt;&lt; 1))) &amp; 0x3;\n}\n</code></pre>\n\n<h3>The Origin of the Magic Constant</h3>\n\n<p>What can I say? The world needs magic, sometimes the possibility of something calls for its creation. </p>\n\n<p>The essence of the function that solves OP's problem is a map from 2 numbers (one,two), domain {0,1,2,3} to the range {0,1,2,3}.  Each of the answers has approached how to implement that map.</p>\n\n<p>Also, you can see in a number of the answers a restatement of the problem as a map of 1 2-digit base 4 number N(one,two) where one is digit 1, two is digit 2, and N = 4*one + two; N = {0,1,2,...,15} -- sixteen different values, that's important. The output of the function is one 1-digit base 4 number {0,1,2,3} -- 4 different values, also important.</p>\n\n<p>Now, a 1-digit base 4 number can be expressed as a 2-digit base 2 number;  {0,1,2,3} = {00,01,10,11}, and so each output can be encoded with only 2 bits.  From above, there are only 16 different outputs possible, so 16*2 = 32 bits is all that is necessary to encode the entire map; this can all fit into 1 integer.</p>\n\n<p>The constant M is an encoding of the map m where m(0) is encoded in bits M[0:1], m(1) is encoded in bits M[2:3], and m(n) is encoded in bits M[n*2:n*2+1].</p>\n\n<p>All that remains is indexing and returning the right part of the constant, in this case you can shift M right 2*N times and take the 2 least significant bits, that is (M >> 2*N) &amp; 0x3.  The expressions (one &lt;&lt; 3) and (two &lt;&lt; 1) are just multiplying things out while noting that 2*x = x &lt;&lt; 1 and 8*x = x &lt;&lt; 3.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22511429#22511429", "question_id": 22501230, "answer_id": 22511429}, {"body": "<p>I don't have experience with Java so there might be some typos. Please consider the code as pseudo-code.</p>\n\n<p>I'd go with a simple switch. For that, you'd need a single number evaluation. However, for this case, since <code>0 &lt;= one &lt; 4 &lt;= 9</code> and <code>0 &lt;= two &lt; 4 &lt;= 9</code>, we can convert both ints to a simple int by multiplying <code>one</code> by 10 and adding <code>two</code>. Then use a switch in the resulting number like this:</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    // Convert one and two to a single variable in base 10\n    int evaluate = one * 10 + two;\n\n    switch(evaluate) {\n        // I'd consider a comment in each line here and in the original code\n        // for clarity\n        case 0: result = 0; break;\n        case 1: result = 0; break;\n        case 1: result = 0; break;\n        case 2: result = 1; break;\n        case 3: result = 2; break;\n        case 10: result = 0; break;\n        case 11: result = 0; break;\n        case 12: result = 2; break;\n        case 13: result = 1; break;\n        case 20: result = 2; break;\n        case 21: result = 1; break;\n        case 22: result = 3; break;\n        case 23: result = 3; break;\n        case 30: result = 1; break;\n        case 31: result = 2; break;\n        case 32: result = 3; break;\n        case 33: result = 3; break;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>There's another short method that I just want to point out as a theoretical code. However I wouldn't use it because it has some extra complexity that you don't normally want to deal with. The extra complexity comes from the <em>base 4</em>, because the counting is 0, 1, 2, 3, 10, 11, 12, 13, 20, ...</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    // Convert one and two to a single variable in base 4\n    int evaluate = one * 4 + two;\n\n    allresults = new int[] { 0, 0, 1, 2, 0, 0, 2, 1, 2, 1, 3, 3, 1, 2, 3, 3 };\n\n    return allresults[evaluate];\n}\n</code></pre>\n\n<p>Really just additional note, in case I'm missing something from Java. In PHP I'd do:</p>\n\n<pre><code>function fightMath($one, $two) {\n    // Convert one and two to a single variable in base 4\n    $evaluate = $one * 10 + $two;\n\n    $allresults = array(\n         0 =&gt; 0,  1 =&gt; 0,  2 =&gt; 1,  3 =&gt; 2,\n        10 =&gt; 0, 11 =&gt; 0, 12 =&gt; 2, 13 =&gt; 1,\n        20 =&gt; 2, 21 =&gt; 1, 22 =&gt; 3, 23 =&gt; 3,\n        30 =&gt; 1, 31 =&gt; 2, 32 =&gt; 3, 33 =&gt; 3 );\n\n    return $allresults[$evaluate];\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22513458#22513458", "question_id": 22501230, "answer_id": 22513458}, {"body": "<p>Since you prefer nested <code>if</code> conditionals , here's another way.<br>\nNote that it doesn't use the <code>result</code> member and it doesn't change any state.</p>\n\n<pre><code>public int fightMath(int one, int two) {\n    if (one == 0) {\n      if (two == 0) { return 0; }\n      if (two == 1) { return 0; }\n      if (two == 2) { return 1; }\n      if (two == 3) { return 2; }\n    }   \n    if (one == 1) {\n      if (two == 0) { return 0; }\n      if (two == 1) { return 0; }\n      if (two == 2) { return 2; }\n      if (two == 3) { return 1; }\n    }\n    if (one == 2) {\n      if (two == 0) { return 2; }\n      if (two == 1) { return 1; }\n      if (two == 2) { return 3; }\n      if (two == 3) { return 3; }\n    }\n    if (one == 3) {\n      if (two == 0) { return 1; }\n      if (two == 1) { return 2; }\n      if (two == 2) { return 3; }\n      if (two == 3) { return 3; }\n    }\n    return DEFAULT_RESULT;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22515309#22515309", "question_id": 22501230, "answer_id": 22515309}, {"body": "<p>I hope I understand the logic correctly. How about something like:</p>\n\n<pre><code>public int fightMath (int one, int two)\n{\n    int oneHit = ((one == 3 &amp;&amp; two != 1) || (one == 2 &amp;&amp; two != 0)) ? 1 : 0;\n    int twoHit = ((two == 3 &amp;&amp; one != 1) || (two == 2 &amp;&amp; one != 0)) ? 2 : 0;\n\n    return oneHit+twoHit;\n}\n</code></pre>\n\n<p>Checking one hit high or one hit low is not blocked and the same for player two. </p>\n\n<p>Edit: Algorithm was not fully understood, \"hit\" awarded when blocking which I did not realize (Thx elias):</p>\n\n<pre><code>public int fightMath (int one, int two)\n{\n    int oneAttack = ((one == 3 &amp;&amp; two != 1) || (one == 2 &amp;&amp; two != 0)) ? 1 : (one &gt;= 2) ? 2 : 0;\n    int twoAttack = ((two == 3 &amp;&amp; one != 1) || (two == 2 &amp;&amp; one != 0)) ? 2 : (two &gt;= 2) ? 1 : 0;\n\n    return oneAttack | twoAttack;\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22522197#22522197", "question_id": 22501230, "answer_id": 22522197}, {"body": "<p>Let's see what we know</p>\n\n<p>1: your answers are symmetrical for P1 (player one) and P2 (player two). This makes sense for a fighting game but is also something you can take advantage of to improve your logic.</p>\n\n<p>2: 3 beats 0 beats 2 beats 1 beats 3. The only cases not covered by these cases are combinations of 0 vs 1 and 2 vs 3. To put it another way the unique victory table looks like this: 0 beats 2, 1 beats 3, 2 beats 1, 3 beats 0. </p>\n\n<p>3: If 0/1 go up against each other then there's a hitless draw but if 2/3 go up against each then both hit</p>\n\n<p>First, let us build a one-way function telling us if we won:</p>\n\n<pre><code>// returns whether we beat our opponent\npublic boolean doesBeat(int attacker, int defender) {\n  int[] beats = {2, 3, 1, 0};\n  return defender == beats[attacker];\n}\n</code></pre>\n\n<p>We can then use this function to compose the final result:</p>\n\n<pre><code>// returns the overall fight result\n// bit 0 = one hits\n// bit 1 = two hits\npublic int fightMath(int one, int two)\n{\n  // Check to see whether either has an outright winning combo\n  if (doesBeat(one, two))\n    return 1;\n\n  if (doesBeat(two, one))\n    return 2;\n\n  // If both have 0/1 then its hitless draw but if both have 2/3 then they both hit.\n  // We can check this by seeing whether the second bit is set and we need only check\n  // one's value as combinations where they don't both have 0/1 or 2/3 have already\n  // been dealt with \n  return (one &amp; 2) ? 3 : 0;\n}\n</code></pre>\n\n<p>While this is arguably more complex and probably slower than the table lookup offered in many answers I believe it is a superior method because it actually encapsulates the logic of your code and describes it to anyone who's reading your code. I think this makes it a better implementation.</p>\n\n<p>(It's been a while since I did any Java so apologies if the syntax is off, hopefully it is still intelligible if I've got it slightly wrong)</p>\n\n<p>By the way, 0-3 clearly <em>mean</em> something; they're not arbitrary values so it would help to name them.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22531932#22531932", "question_id": 22501230, "answer_id": 22531932}, {"body": "<p>The first thing that occurred to me was essentially the same answer given by Francisco Presencia, but optimized somewhat:</p>\n\n<pre><code>public int fightMath(int one, int two)\n{\n    switch (one*10 + two)\n    {\n    case  0:\n    case  1:\n    case 10:\n    case 11:\n        return 0;\n    case  2:\n    case 13:\n    case 21:\n    case 30:\n        return 1;\n    case  3:\n    case 12:\n    case 20:\n    case 31:\n        return 2;\n    case 22:\n    case 23:\n    case 32:\n    case 33:\n        return 3;\n    }\n}\n</code></pre>\n\n<p>You could further optimize it by making the last case (for 3) the default case:</p>\n\n<pre><code>    //case 22:\n    //case 23:\n    //case 32:\n    //case 33:\n    default:\n        return 3;\n</code></pre>\n\n<p>The advantage of this method is that it is easier to see which values for <code>one</code> and <code>two</code> correspond to which return values than some of the other suggested methods.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22541274#22541274", "question_id": 22501230, "answer_id": 22541274}, {"body": "<p>I personally like to cascade ternary operators:</p>\n\n<pre><code>int result = condition1\n    ? result1\n    : condition2\n    ? result2\n    : condition3\n    ? result3\n    : resultElse;\n</code></pre>\n\n<p>But in your case, you can use:</p>\n\n<pre><code>final int[] result = new int[/*16*/] {\n    0, 0, 1, 2,\n    0, 0, 2, 1,\n    2, 1, 3, 3,\n    1, 2, 3, 3\n};\n\npublic int fightMath(int one, int two) {\n    return result[one*4 + two];\n}\n</code></pre>\n\n<p>Or, you can notice a pattern in bits:</p>\n\n<pre><code>one   two   result\n\nsection 1: higher bits are equals =&gt;\nboth result bits are equals to that higher bits\n\n00    00    00\n00    01    00\n01    00    00\n01    01    00\n10    10    11\n10    11    11\n11    10    11\n11    11    11\n\nsection 2: higher bits are different =&gt;\nlower result bit is inverse of lower bit of 'two'\nhigher result bit is lower bit of 'two'\n\n00    10    01\n00    11    10\n01    10    10\n01    11    01\n10    00    10\n10    01    01\n11    00    01\n11    01    10\n</code></pre>\n\n<p>So you can use magic:</p>\n\n<pre><code>int fightMath(int one, int two) {\n    int b1 = one &amp; 2, b2 = two &amp; 2;\n    if (b1 == b2)\n        return b1 | (b1 &gt;&gt; 1);\n\n    b1 = two &amp; 1;\n\n    return (b1 &lt;&lt; 1) | (~b1);\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22543548#22543548", "question_id": 22501230, "answer_id": 22543548}, {"body": "<p>A good point would be to define the rules as text, you can easier derive the correct formula then. This is extracted from laalto's nice array representation:</p>\n\n<pre><code>{ 0, 0, 1, 2 },\n{ 0, 0, 2, 1 },\n{ 2, 1, 3, 3 },\n{ 1, 2, 3, 3 }\n</code></pre>\n\n<p>And here we go with some general comments, but you should describe them in rule terms:</p>\n\n<pre><code>if(one&lt;2) // left half\n{\n    if(two&lt;2) // upper left half\n    {\n        result = 0; //neither hits\n    }\n    else // lower left half\n    {\n        result = 1+(one+two)%2; //p2 hits if sum is even\n    }\n}\nelse // right half\n{\n    if(two&lt;2) // upper right half\n    {\n        result = 1+(one+two+1)%2; //p1 hits if sum is even\n    }\n    else // lower right half\n    {\n        return 3; //both hit\n    }\n}\n</code></pre>\n\n<p>You could of course crunch this down to less code, but it is generally a good idea to understand what you code rather than finding a compact solution.</p>\n\n<pre><code>if((one&lt;2)&amp;&amp;(two&lt;2)) result = 0; //top left\nelse if((one&gt;1)&amp;&amp;(two&gt;1)) result = 3; //bottom right\nelse result = 1+(one+two+((one&gt;1)?1:0))%2; //no idea what that means\n</code></pre>\n\n<p>Some explanation on the complicated p1/p2 hits would be great, looks interesting!</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22547226#22547226", "question_id": 22501230, "answer_id": 22547226}, {"body": "<pre><code>((two&amp;2)*(1+((one^two)&amp;1))+(one&amp;2)*(2-((one^two)&amp;1)))/2\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22553284#22553284", "question_id": 22501230, "answer_id": 22553284}, {"body": "<p>Here's a fairly concise version, similar to <a href=\"http://stackoverflow.com/a/22507048/474189\">JAB's response</a>. This utilises a map to store which moves triumph over others.</p>\n\n<pre><code>public enum Result {\n  P1Win, P2Win, BothWin, NeitherWin;\n}\n\npublic enum Move {\n  BLOCK_HIGH, BLOCK_LOW, ATTACK_HIGH, ATTACK_LOW;\n\n  static final Map&lt;Move, List&lt;Move&gt;&gt; beats = new EnumMap&lt;Move, List&lt;Move&gt;&gt;(\n      Move.class);\n\n  static {\n    beats.put(BLOCK_HIGH, new ArrayList&lt;Move&gt;());\n    beats.put(BLOCK_LOW, new ArrayList&lt;Move&gt;());\n    beats.put(ATTACK_HIGH, Arrays.asList(ATTACK_LOW, BLOCK_LOW));\n    beats.put(ATTACK_LOW, Arrays.asList(ATTACK_HIGH, BLOCK_HIGH));\n  }\n\n  public static Result compare(Move p1Move, Move p2Move) {\n    boolean p1Wins = beats.get(p1Move).contains(p2Move);\n    boolean p2Wins = beats.get(p2Move).contains(p1Move);\n\n    if (p1Wins) {\n      return (p2Wins) ? Result.BothWin : Result.P1Win;\n    }\n    if (p2Wins) {\n      return (p1Wins) ? Result.BothWin : Result.P2Win;\n    }\n\n    return Result.NeitherWin;\n  }\n} \n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(Move.compare(Move.ATTACK_HIGH, Move.BLOCK_LOW));\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>P1Win\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22615213#22615213", "question_id": 22501230, "answer_id": 22615213}, {"body": "<p>I'd use a Map, either a HashMap or a TreeMap</p>\n\n<p>Especially if the parameters are not on the form <code>0 &lt;= X &lt; N</code></p>\n\n<p>Like a set of random positive integers ..</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>public class MyMap\n{\n    private TreeMap&lt;String,Integer&gt; map;\n\n    public MyMap ()\n    {\n        map = new TreeMap&lt;String,Integer&gt; ();\n    }\n\n    public void put (int key1, int key2, Integer value)\n    {\n        String key = (key1+\":\"+key2);\n\n        map.put(key, new Integer(value));\n    }\n\n    public Integer get (int key1, int key2)\n    {\n        String key = (key1+\":\"+key2);\n\n        return map.get(key);\n    }\n}\n</code></pre>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22652252#22652252", "question_id": 22501230, "answer_id": 22652252}, {"body": "<p><strong>The shortest and still readable solution:</strong></p>\n\n<pre><code>static public int fightMath(int one, int two)\n{\n    if (one &lt; 2 &amp;&amp; two &lt; 2) return 0;\n    if (one &gt; 1 &amp;&amp; two &gt; 1) return 3;\n    int n = (one + two) % 2;\n    return one &lt; two ? 1 + n : 2 - n;\n}\n</code></pre>\n\n<p><strong>or even shorter:</strong></p>\n\n<pre><code>static public int fightMath(int one, int two)\n{\n    if (one / 2 == two / 2) return (one / 2) * 3;\n    return 1 + (one + two + one / 2) % 2;\n}\n</code></pre>\n\n<p>Doesn't contain any \"magic\" numbers ;)\nHope it helps.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22661955#22661955", "question_id": 22501230, "answer_id": 22661955}, {"body": "<ol>\n<li>Use constants or enums to make the code more readable</li>\n<li>Try to split the code into more functions</li>\n<li>Try to use the symmetry of the problem</li>\n</ol>\n\n<p>Here is a suggestion how this could look like, but using an ints here is still kind of ugly:</p>\n\n<pre><code>static final int BLOCK_HIGH = 0;\nstatic final int BLOCK_LOW = 1;\nstatic final int ATTACK_HIGH = 2;\nstatic final int ATTACK_LOW = 3;\n\npublic static int fightMath(int one, int two) {\n    boolean player1Wins = handleAttack(one, two);\n    boolean player2Wins = handleAttack(two, one);\n    return encodeResult(player1Wins, player2Wins); \n}\n\n\n\nprivate static boolean handleAttack(int one, int two) {\n     return one == ATTACK_HIGH &amp;&amp; two != BLOCK_HIGH\n        || one == ATTACK_LOW &amp;&amp; two != BLOCK_LOW\n        || one == BLOCK_HIGH &amp;&amp; two == ATTACK_HIGH\n        || one == BLOCK_LOW &amp;&amp; two == ATTACK_LOW;\n\n}\n\nprivate static int encodeResult(boolean player1Wins, boolean player2Wins) {\n    return (player1Wins ? 1 : 0) + (player2Wins ? 2 : 0);\n}\n</code></pre>\n\n<p>It would be nicer to use a structured type for the input and the output. The input actually has two fields: the position and the type (block or attack). The output also has two fields: player1Wins and player2Wins. Encoding this into a single integer makes it harder to read the code.</p>\n\n<pre><code>class PlayerMove {\n    PlayerMovePosition pos;\n    PlayerMoveType type;\n}\n\nenum PlayerMovePosition {\n    HIGH,LOW\n}\n\nenum PlayerMoveType {\n    BLOCK,ATTACK\n}\n\nclass AttackResult {\n    boolean player1Wins;\n    boolean player2Wins;\n\n    public AttackResult(boolean player1Wins, boolean player2Wins) {\n        this.player1Wins = player1Wins;\n        this.player2Wins = player2Wins;\n    }\n}\n\nAttackResult fightMath(PlayerMove a, PlayerMove b) {\n    return new AttackResult(isWinningMove(a, b), isWinningMove(b, a));\n}\n\nboolean isWinningMove(PlayerMove a, PlayerMove b) {\n    return a.type == PlayerMoveType.ATTACK &amp;&amp; !successfulBlock(b, a)\n            || successfulBlock(a, b);\n}\n\nboolean successfulBlock(PlayerMove a, PlayerMove b) {\n    return a.type == PlayerMoveType.BLOCK \n            &amp;&amp; b.type == PlayerMoveType.ATTACK \n            &amp;&amp; a.pos == b.pos;\n}\n</code></pre>\n\n<p>Unfortunately, Java is not very good at expressing those kinds of data-types.</p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22734753#22734753", "question_id": 22501230, "answer_id": 22734753}, {"body": "<p><code>static int val(int i, int u){\n    int q = (i &amp; 1) ^ (u &amp; 1);\n    return ((i &gt;&gt; 1) &lt;&lt; (1 ^ q))|((u &gt;&gt; 1) &lt;&lt; q);\n}</code></p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/22851859#22851859", "question_id": 22501230, "answer_id": 22851859}, {"body": "<p>why don't you use <a href=\"http://www.informit.com/articles/article.aspx?p=1398607&amp;seqNum=2\" rel=\"nofollow\">Strategy pattern</a> to avoid lots of <code>if</code> <code>else</code> statements </p>\n", "title": "Too many &#39;if&#39; statements?", "tags": ["java", "math", "if-statement", "formula"], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements/30595116#30595116", "question_id": 22501230, "answer_id": 30595116}], "link": "http://stackoverflow.com/questions/22501230/too-many-if-statements", "question_id": 22501230}, {"body": "<p>Assuming I have this pseudo-code:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (conditionA){\n    bool conditionB = executeStepB();\n    if (conditionB){\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...\n        }\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Functions <code>executeStepX</code> should be executed if and only if the previous succeed.\nIn any case, the <code>executeThisFunctionInAnyCase</code> function should be called at the end.\nI'm a newbie in programming, so sorry for the very basic question: is there a way (in C/C++ for example) to avoid that long <code>if</code> chain producing that sort of \"pyramid of code\", at the expense of the code legibility?</p>\n\n<p>I know that if we could skip the <code>executeThisFunctionInAnyCase</code> function call, the code could be simplified as:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (!conditionA) return;\nbool conditionB = executeStepB();\nif (!conditionB) return;\nbool conditionC = executeStepC();\nif (!conditionC) return;\n</code></pre>\n\n<p>But the constraint is the <code>executeThisFunctionInAnyCase</code> function call.\nCould the <code>break</code> statement be used in some way?</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "answers": [{"body": "<blockquote>\n  <p>Could break statement be used in some way?</p>\n</blockquote>\n\n<p>Maybe not the best solution but you can put your statements in a <code>do ..  while (0)</code> loop and use <code>break</code> statements instead of  <code>return</code>.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24430542#24430542", "question_id": 24430504, "answer_id": 24430542}, {"body": "<p>You could put all the <code>if</code> conditions, formatted as you want it in a function of their own, the on return execute the <code>executeThisFunctionInAnyCase()</code> function.</p>\n\n<p>From the base example in the OP, the condition testing and execution can be split off as such;</p>\n\n<pre><code>void InitialSteps()\n{\n  bool conditionA = executeStepA();\n  if (!conditionA)\n    return;\n  bool conditionB = executeStepB();\n  if (!conditionB)\n    return;\n  bool conditionC = executeStepC();\n  if (!conditionC)\n    return;\n}\n</code></pre>\n\n<p>And then called as such;</p>\n\n<pre><code>InitialSteps();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>If C++11 lambdas are available (there was no C++11 tag in the OP, but they may still be an option), then we can forgo the seperate function and wrap this up into a lambda.</p>\n\n<pre><code>// Capture by reference (variable access may be required)\nauto initialSteps = [&amp;]() {\n  // any additional code\n  bool conditionA = executeStepA();\n  if (!conditionA)\n    return;\n  // any additional code\n  bool conditionB = executeStepB();\n  if (!conditionB)\n    return;\n  // any additional code\n  bool conditionC = executeStepC();\n  if (!conditionC)\n    return;\n};\n\ninitialSteps();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24430631#24430631", "question_id": 24430504, "answer_id": 24430631}, {"body": "<p>You can use an <code>&amp;&amp;</code> (logic AND):</p>\n\n<pre><code>if (executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC()){\n    ...\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>this will satisfy both of your requirements:</p>\n\n<ul>\n<li><code>executeStep&lt;X&gt;()</code> should evaluate only if the previous one succeeded (this is called <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\"><em>short circuit evaluation</em></a>)</li>\n<li><code>executeThisFunctionInAnyCase()</code> will be executed in any case</li>\n</ul>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24430662#24430662", "question_id": 24430504, "answer_id": 24430662}, {"body": "<p>Old school C programmers use <code>goto</code> in this case. It is the one usage of <code>goto</code> that's actually encouraged by the Linux styleguide, it's called the centralized function exit:</p>\n\n<pre><code>int foo() {\n    int result = /*some error code*/;\n    if(!executeStepA()) goto cleanup;\n    if(!executeStepB()) goto cleanup;\n    if(!executeStepC()) goto cleanup;\n\n    result = 0;\ncleanup:\n    executeThisFunctionInAnyCase();\n    return result;\n}\n</code></pre>\n\n<p>Some people work around using <code>goto</code> by wrapping the body into a loop and breaking from it, but effectively both approaches do the same thing. The <code>goto</code> approach is better if you need some other cleanup only if <code>executeStepA()</code> was successfull:</p>\n\n<pre><code>int foo() {\n    int result = /*some error code*/;\n    if(!executeStepA()) goto cleanupPart;\n    if(!executeStepB()) goto cleanup;\n    if(!executeStepC()) goto cleanup;\n\n    result = 0;\ncleanup:\n    innerCleanup();\ncleanupPart:\n    executeThisFunctionInAnyCase();\n    return result;\n}\n</code></pre>\n\n<p>With the loop approach you would end up with two levels of loops in that case.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24430718#24430718", "question_id": 24430504, "answer_id": 24430718}, {"body": "<p>There is actually a way to defer actions in C++: making use of an object's destructor.</p>\n\n<p>Assuming that you have access to C++11:</p>\n\n<pre><code>class Defer {\npublic:\n    Defer(std::function&lt;void()&gt; f): f_(std::move(f)) {}\n    ~Defer() { if (f_) { f_(); } }\n\n    void cancel() { f_ = std::function&lt;void()&gt;(); }\n\nprivate:\n    Defer(Defer const&amp;) = delete;\n    Defer&amp; operator=(Defer const&amp;) = delete;\n\n    std::function&lt;void()&gt; f_;\n}; // class Defer\n</code></pre>\n\n<p>And then using that utility:</p>\n\n<pre><code>int foo() {\n    Defer const defer{&amp;executeThisFunctionInAnyCase}; // or a lambda\n\n    // ...\n\n    if (!executeA()) { return 1; }\n\n    // ...\n\n    if (!executeB()) { return 2; }\n\n    // ...\n\n    if (!executeC()) { return 3; }\n\n    // ...\n\n    return 4;\n} // foo\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24431003#24431003", "question_id": 24430504, "answer_id": 24431003}, {"body": "<p>You could also do this:</p>\n\n<pre><code>bool isOk = true;\nstd::vector&lt;bool (*)(void)&gt; funcs; //vector of function ptr\n\nfuncs.push_back(&amp;executeStepA);\nfuncs.push_back(&amp;executeStepB);\nfuncs.push_back(&amp;executeStepC);\n//...\n\n//this will stop at the first false return\nfor (auto it = funcs.begin(); it != funcs.end() &amp;&amp; isOk; ++it) \n    isOk = (*it)();\nif (isOk)\n //doSomeStuff\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>This way you have a minimal linear growth size, +1 line per call, and it's easily maintenable.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: (Thanks @Unda) Not a big fan because you loose visibility IMO :</p>\n\n<pre><code>bool isOk = true;\nauto funcs { //using c++11 initializer_list\n    &amp;executeStepA,\n    &amp;executeStepB,\n    &amp;executeStepC\n};\n\nfor (auto it = funcs.begin(); it != funcs.end() &amp;&amp; isOk; ++it) \n    isOk = (*it)();\nif (isOk)\n //doSomeStuff\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24431069#24431069", "question_id": 24430504, "answer_id": 24431069}, {"body": "<p>Because you also have <em>[...block of code...]</em> between executions, I guess you have memory allocation or object initializations. In this way you have to care about cleaning all you already initialized at exit, and also clean it if you will meet problem and any of functions will return false.</p>\n\n<p>In this case, best what I had in my experience (when I worked with CryptoAPI) was creating small classes, in constructor you initialize your data, in destructor you uninitialize it. Each next function class have to be child of previous function class. If something went wrong - throw exception.</p>\n\n<pre><code>class CondA\n{\npublic:\n    CondA() { \n        if (!executeStepA()) \n            throw int(1);\n        [Initialize data]\n    }\n    ~CondA() {        \n        [Clean data]\n    }\n    A* _a;\n};\n\nclass CondB : public CondA\n{\npublic:\n    CondB() { \n        if (!executeStepB()) \n            throw int(2);\n        [Initialize data]\n    }\n    ~CondB() {        \n        [Clean data]\n    }\n    B* _b;\n};\n\nclass CondC : public CondB\n{\npublic:\n    CondC() { \n        if (!executeStepC()) \n            throw int(3);\n        [Initialize data]\n    }\n    ~CondC() {        \n        [Clean data]\n    }\n    C* _c;\n};\n</code></pre>\n\n<p>And then in your code you just need to call:</p>\n\n<pre><code>shared_ptr&lt;CondC&gt; C(nullptr);\ntry{\n    C = make_shared&lt;CondC&gt;();\n}\ncatch(int&amp; e)\n{\n    //do something\n}\nif (C != nullptr)\n{\n   C-&gt;a;//work with\n   C-&gt;b;//work with\n   C-&gt;c;//work with\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>I guess it is best solution if every call of ConditionX initialize something, allocs memory and etc. Best to be sure everything will be cleaned.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24431475#24431475", "question_id": 24430504, "answer_id": 24431475}, {"body": "<p>Regarding your <em>current</em> code example, essentially a question #2,</p>\n\n<pre><code>[...block of code...]\nbool conditionA = executeStepA();    \nif (conditionA){\n    [...block of code...]\n    bool conditionB = executeStepB();\n    if (conditionB){\n        [...block of code...]\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...other checks again...\n        }\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Except for storing the function results in variables this is typical C code.</p>\n\n<p>If the boolean function results signal failure then a <strong>C++ way</strong> would be to use exceptions, and code this up as</p>\n\n<pre><code>struct Finals{ ~Finals() { executeThisFunctionInAnyCase(); } };\n\nFinals finals;\n// [...block of code...]\nexecuteStepA();\n// [...block of code...]\nexecuteStepB();\n// [...block of code...]\nexecuteStepC();\n//...other checks again...\n</code></pre>\n\n<p>However, the details can vary greatly depending on the real problem.</p>\n\n<p><sup>When I need such general <em>final actions</em>, instead of defining a custom <code>struct</code> on the spot, I often use a general <strong>scope guard</strong> class. Scope guards were <a href=\"http://www.drdobbs.com/cpp/generic-change-the-way-you-write-excepti/184403758\" rel=\"nofollow\">invented by Petru Marginean</a> for C++98, then using the temporary lifetime extension trick. In C++11 a general scope guard class can be trivially implemented based on client code supplying a lambda expression.</sup></p>\n\n<p>At the end of the question you suggest a good <strong>C way</strong> to do this, namely by using a <code>break</code> statement:</p>\n\n<pre><code>for( ;; ) // As a block one can 'break' out of.\n{\n    // [...block of code...]\n    if( !executeStepA() ) { break; }\n    // [...block of code...]\n    if( !executeStepB() ) { break; }\n    // [...block of code...]\n    if( !executeStepC() ) { break; }\n    //...other checks again...\n    break;\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Alternatively, for C, refactor the code in the block as a separate function and use <code>return</code> instead of <code>break</code>. That&rsquo;s both more clear and more general, in that it supports nested loops or switches. However, you asked about <code>break</code>.</p>\n\n<p>Compared with the C++ exception based approach this relies on the programmer remembering to check each function result, and do the proper thing, both of which are automated in C++.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24431778#24431778", "question_id": 24430504, "answer_id": 24431778}, {"body": "<p>Just use an additional function to get your second version to work:</p>\n\n<pre><code>void foo()\n{\n  bool conditionA = executeStepA();\n  if (!conditionA) return;\n\n  bool conditionB = executeStepB();\n  if (!conditionB) return;\n\n  bool conditionC = executeStepC();\n  if (!conditionC) return;\n}\n\nvoid bar()\n{\n  foo();\n  executeThisFunctionInAnyCase();\n}\n</code></pre>\n\n<p>Using either deeply nested ifs (your first variant) or the desire to break out of \"part of a function\" usually means you do need an extra function.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24431792#24431792", "question_id": 24430504, "answer_id": 24431792}, {"body": "<p>It's seems like you want to do all your call from a single block. \nAs other have proposed it, you should used either a <code>while</code> loop and leave using <code>break</code> or a new function that you can leave with <code>return</code> (may be cleaner).</p>\n\n<p>I personally banish <code>goto</code>, even for function exit. They are harder to spot when debugging. </p>\n\n<p>An elegant alternative that should work for your workflow is to build a function array and iterate on this one.</p>\n\n<pre><code>const int STEP_ARRAY_COUNT = 3;\nbool (*stepsArray[])() = {\n   executeStepA, executeStepB, executeStepC\n};\n\nfor (int i=0; i&lt;STEP_ARRAY_COUNT; ++i) {\n    if (!stepsArray[i]()) {\n        break;\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24435091#24435091", "question_id": 24430504, "answer_id": 24435091}, {"body": "<p>Have your execute functions throw an exception if they fail instead of returning false. Then your calling code could look like this:</p>\n\n<pre><code>try {\n    executeStepA();\n    executeStepB();\n    executeStepC();\n}\ncatch (...)\n</code></pre>\n\n<p>Of course I'm assuming that in your original example the execution step would only return false in the case of an error occuring inside the step?</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24435263#24435263", "question_id": 24430504, "answer_id": 24435263}, {"body": "<p>There's a nice technique which doesn't need an additional wrapper function with the return statements (the method prescribed by Itjax). It makes use of a do <code>while(0)</code> pseudo-loop. The <code>while (0)</code> ensures that it is actually not a loop but executed only once. However, the loop syntax allows the use of the break statement. </p>\n\n<pre><code>void foo()\n{\n  // ...\n  do {\n      if (!executeStepA())\n          break;\n      if (!executeStepB())\n          break;\n      if (!executeStepC())\n          break;\n  }\n  while (0);\n  // ...\n}\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24435904#24435904", "question_id": 24430504, "answer_id": 24435904}, {"body": "<p>What about just moving the conditional stuff to the else as in:</p>\n\n<pre><code>if (!(conditionA = executeStepA()){}\nelse if (!(conditionB = executeStepB()){}\nelse if (!(conditionC = executeStepC()){}\nelse if (!(conditionD = executeStepD()){}\n</code></pre>\n\n<p>This does solve the indentation problem.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24436043#24436043", "question_id": 24430504, "answer_id": 24436043}, {"body": "<p>Assuming the desired code is as I currently see it:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (conditionA){\n    bool conditionB = executeStepB();\n    if (conditionB){\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...\n        }\n    }\n}    \nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>I would say that the correct approach, in that it's the simplest to read and easiest to maintain, would have fewer levels of indentation, which is (currently) the stated purpose of the question.</p>\n\n<pre><code>// Pre-declare the variables for the conditions\nbool conditionA = false;\nbool conditionB = false;\nbool conditionC = false;\n\n// Execute each step only if the pre-conditions are met\nconditionA = executeStepA();\nif (conditionA)\n    conditionB = executeStepB();\nif (conditionB)\n    conditionC = executeStepC();\nif (conditionC) {\n    ...\n}\n\n// Unconditionally execute the 'cleanup' part.\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>This avoids <em>any</em> need for <code>goto</code>s, exceptions, dummy <code>while</code> loops, or other difficult constructs and simply gets on with the simple job at hand.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24437036#24437036", "question_id": 24430504, "answer_id": 24437036}, {"body": "<p>In C++ (the question is tagged both C and C++), if you can't change the functions to use exceptions, you still can use the exception mechanism if you write a little helper function like</p>\n\n<pre><code>struct function_failed {};\nvoid attempt(bool retval)\n{\n  if (!retval)\n    throw function_failed(); // or a more specific exception class\n}\n</code></pre>\n\n<p>Then your code could read as follows:</p>\n\n<pre><code>try\n{\n  attempt(executeStepA());\n  attempt(executeStepB());\n  attempt(executeStepC());\n}\ncatch (function_failed)\n{\n  // -- this block intentionally left empty --\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>If you're into fancy syntax, you could instead make it work via explicit cast:</p>\n\n<pre><code>struct function_failed {};\nstruct attempt\n{\n  attempt(bool retval)\n  {\n    if (!retval)\n      throw function_failed();\n  }\n};\n</code></pre>\n\n<p>Then you can write your code as</p>\n\n<pre><code>try\n{\n  (attempt) executeStepA();\n  (attempt) executeStepB();\n  (attempt) executeStepC();\n}\ncatch (function_failed)\n{\n  // -- this block intentionally left empty --\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24439044#24439044", "question_id": 24430504, "answer_id": 24439044}, {"body": "<p>Just do</p>\n\n<pre><code>if( executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC() )\n{\n    // ...\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>It's that simple.</p>\n\n<hr>\n\n<p>Due to three edits that each has <em>fundamentally</em> changed the question (four if one counts the revision back to version #1), I include the code example I'm answering to:</p>\n\n<pre><code>bool conditionA = executeStepA();\nif (conditionA){\n    bool conditionB = executeStepB();\n    if (conditionB){\n        bool conditionC = executeStepC();\n        if (conditionC){\n            ...\n        }\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24439517#24439517", "question_id": 24430504, "answer_id": 24439517}, {"body": "<p>The chains of IF/ELSE in your code is not the language issue, but the design of your program. If you're able to re-factor  or re-write your program I'd like to suggest that you look in Design Patterns (<a href=\"http://sourcemaking.com/design_patterns\">http://sourcemaking.com/design_patterns</a>) to find a better solution.</p>\n\n<p>Usually, when you see a lot of IF's &amp; else's in your code , it is an opportunity to implement the Strategy Design Pattern (<a href=\"http://sourcemaking.com/design_patterns/strategy/c-sharp-dot-net\">http://sourcemaking.com/design_patterns/strategy/c-sharp-dot-net</a>) or maybe a combination of other patterns.</p>\n\n<p>I'm sure there're alternatives to write a long list of if/else , but I doubt they will change anything except that the chain will look pretty to you (However, the beauty is in the eye of the beholder still applies to code too:-) ) . You should be concerned about things like (in 6 months when I have a new condition and I don't remember anything about this code , will I be able to add it easily? Or what if the chain changes, how quickly and error-free will I be implement it) </p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24439730#24439730", "question_id": 24430504, "answer_id": 24439730}, {"body": "<p>This is a common situation and there are many common ways to deal with it.  Here's my attempt at a canonical answer.  Please comment if I missed anything and I'll keep this post up to date.</p>\n\n<h1>This is an Arrow</h1>\n\n<p>What you are discussing is known as the <a href=\"http://c2.com/cgi/wiki?ArrowAntiPattern\">arrow anti-pattern</a>.  It is called an arrow because the chain of nested ifs form code blocks that expand farther and farther to the right and then back to the left, forming a visual arrow that \"points\" to the right side of the code editor pane.  </p>\n\n<h2>Flatten the Arrow with the Guard</h2>\n\n<p>Some common ways of avoiding the Arrow are discussed <a href=\"http://blog.codinghorror.com/flattening-arrow-code/\">here</a>.  The most common method is to use a <a href=\"http://smart421.wordpress.com/2011/03/01/using-the-guard-pattern-to-simplify-code-contracts/\">guard</a> pattern, in which the code handles the exception flows first and then handles the basic flow, e.g. instead of</p>\n\n<pre><code>if (ok)\n{\n    DoSomething();\n}\nelse\n{\n    _log.Error(\"oops\");\n    return;\n}\n</code></pre>\n\n<p>... you'd use....</p>\n\n<pre><code>if (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nDoSomething(); //notice how this is already farther to the left than the example above\n</code></pre>\n\n<p>When there is a long series of guards this flattens the code considerably as all the guards appear all the way to the left and your ifs are not nested.  In addition, you are visually pairing the logic condition with its associated error, which makes it far easier to tell what is going on:</p>\n\n<p>Arrow:</p>\n\n<pre><code>ok = DoSomething1();\nif (ok)\n{\n    ok = DoSomething2();\n    if (ok)\n    {\n        ok = DoSomething3();\n        if (!ok)\n        {\n            _log.Error(\"oops\");  //Tip of the Arrow\n            return;\n        }\n    }\n    else\n    {\n       _log.Error(\"oops\");\n       return;\n    }\n}\nelse\n{\n    _log.Error(\"oops\");\n    return;\n}\n</code></pre>\n\n<p>Guard:</p>\n\n<pre><code>ok = DoSomething1();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nok = DoSomething2();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nok = DoSomething3();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \nok = DoSomething4();\nif (!ok)\n{\n    _log.Error(\"oops\");\n    return;\n} \n</code></pre>\n\n<p>This is objectively and quantifiably easier to read because</p>\n\n<ol>\n<li>The { and } characters for a given logic block are closer together</li>\n<li>The amount of mental context needed to understand a particular line is smaller</li>\n<li>The entirety of logic associated with an if condition is more likely to be on one page</li>\n<li>The need for the coder to scroll the page/eye track is greatly lessened</li>\n</ol>\n\n<h1>How to add common code at the end</h1>\n\n<p>The problem with the guard pattern is that it relies on what is called \"opportunistic return\" or \"opportunistic exit.\"  In other words, it breaks the pattern that each and every function should have exactly one point of exit.  This is a problem for two reasons:</p>\n\n<ol>\n<li>It rubs some people the wrong way, e.g. people who learned to code on Pascal have learned that one function = one exit point.</li>\n<li><strong>It does not provide a section of code that executes upon exit no matter what</strong>, which is the subject at hand.</li>\n</ol>\n\n<p>Below I've provided some options for working around this limitation either by using language features or by avoiding the problem altogether.</p>\n\n<h2>Option 1.  You can't do this: use <code>finally</code></h2>\n\n<p>Unfortunately, as a c++ developer, you can't do this.  But this is the number one answer for languages that contain a finally keyword, since this is exactly what it is for.</p>\n\n<pre><code>try\n{\n    if (!ok)\n    {\n        _log.Error(\"oops\");\n        return;\n    } \n    DoSomething(); //notice how this is already farther to the left than the example above\n}\nfinally\n{\n    DoSomethingNoMatterWhat();\n}\n</code></pre>\n\n<h2>Option 2.  Avoid the issue: Restructure your functions</h2>\n\n<p>You can avoid the problem by breaking the code into two functions.  This solution has the benefit of working for any language, and additionally it can reduce <a href=\"http://en.wikipedia.org/wiki/Cyclomatic_complexity\">cyclomatic complexity</a>, which is a proven way to reduce your defect rate, and improves the specificity of any automated unit tests.  </p>\n\n<p>Here's an example:</p>\n\n<pre><code>void OuterFunction()\n{\n    DoSomethingIfPossible();\n    DoSomethingNoMatterWhat();\n}\n\nvoid DoSomethingIfPossible()\n{\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n        return;\n    }\n    DoSomething();\n}\n</code></pre>\n\n<h2>Option 3.  Language trick: Use a fake loop</h2>\n\n<p>Another common trick I see is using while(true) and break, as shown in the other answers.  </p>\n\n<pre><code>while(true)\n{\n     if (!ok) break;\n     DoSomething();\n     break;  //important\n}\nDoSomethingNoMatterWhat();\n</code></pre>\n\n<p>While this is less \"honest\" than using <code>goto</code>, it is less prone to being messed up when refactoring, as it clearly marks the boundaries of logic scope.  A naive coder who cuts and pastes your labels or your <code>goto</code> statements can cause major problems!  (And frankly the pattern is so common now I think it clearly communicates the intent, and is therefore not \"dishonest\" at all).</p>\n\n<p>There are other variants of this options.  For example, one could use <code>switch</code> instead of <code>while</code>.  Any language construct with a <code>break</code> keyword would probably work.</p>\n\n<h2>Option 4.  Leverage the object life cycle</h2>\n\n<p>One other approach leverages the object life cycle.  Use a context object to carry around your parameters (something which our naive example suspiciously lacks) and dispose of it when you're done.</p>\n\n<pre><code>class MyContext\n{\n   ~MyContext()\n   {\n        DoSomethingNoMatterWhat();\n   }\n}\n\nvoid MainMethod()\n{\n    MyContext myContext;\n    ok = DoSomething(myContext);\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n        return;\n    }\n    ok = DoSomethingElse(myContext);\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n        return;\n    }\n    ok = DoSomethingMore(myContext);\n    if (!ok)\n    {\n        _log.Error(\"Oops\");\n    }\n\n    //DoSomethingNoMatterWhat will be called when myContext goes out of scope\n}\n</code></pre>\n\n<p>Note: Be sure you understand the object life cycle of your language of choice.  You need some sort of deterministic garbage collection for this to work, i.e. you have to know when the destructor will be called.  In some languages you will need to use <code>Dispose</code> instead of a destructor.</p>\n\n<h2>Option 4.1.  Leverage the object life cycle (wrapper pattern)</h2>\n\n<p>If you're going to use an object-oriented approach, may as well do it right.  This option uses a class to \"wrap\" the resources that require cleanup, as well as its other operations.  </p>\n\n<pre><code>class MyWrapper \n{\n   bool DoSomething() {...};\n   bool DoSomethingElse() {...}\n\n\n   void ~MyWapper()\n   {\n        DoSomethingNoMatterWhat();\n   }\n}\n\nvoid MainMethod()\n{\n    bool ok = myWrapper.DoSomething();\n    if (!ok)\n        _log.Error(\"Oops\");\n        return;\n    }\n    ok = myWrapper.DoSomethingElse();\n    if (!ok)\n       _log.Error(\"Oops\");\n        return;\n    }\n}\n//DoSomethingNoMatterWhat will be called when myWrapper is destroyed\n</code></pre>\n\n<p>Again, be sure you understand your object life cycle.</p>\n\n<h2>Option 5.  Language trick: Use short-circuit evaluation</h2>\n\n<p>Another technique is to take advantage of <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\">short-circuit evaluation</a>.</p>\n\n<pre><code>if (DoSomething1() &amp;&amp; DoSomething2() &amp;&amp; DoSomething3())\n{\n    DoSomething4();\n}\nDoSomethingNoMatterWhat();\n</code></pre>\n\n<p>This solution takes advantage of the way the &amp;&amp; operator works.  When the left hand side of &amp;&amp; evaluates to false, the right hand side is never evaluated.</p>\n\n<p>This trick is most useful when compact code is required and when the code is not likely to see much maintenance, e.g you are implementing a well-known algorithm.  For more general coding the structure of this code is too brittle; even a minor change to the logic could trigger a total rewrite.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24442170#24442170", "question_id": 24430504, "answer_id": 24442170}, {"body": "<p>Would this work? I think this is equivalent with your code.</p>\n\n<pre><code>bool condition = true; // using only one boolean variable\nif (condition) condition = executeStepA();\nif (condition) condition = executeStepB();\nif (condition) condition = executeStepC();\n...\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24447993#24447993", "question_id": 24430504, "answer_id": 24447993}, {"body": "<p>A lot of good answers already, but most of them seem to tradeoff on some (admittedly very little) of the flexibility. A common approach which doesn't require this tradeoff is adding a <em>status/keep-going</em> variable. The price is, of course, one extra value to keep track of:</p>\n\n<pre><code>bool ok = true;\nbool conditionA = executeStepA();\n// ... possibly edit conditionA, or just ok &amp;= executeStepA();\nok &amp;= conditionA;\n\nif (ok) {\n    bool conditionB = executeStepB();\n    // ... possibly do more stuff\n    ok &amp;= conditionB;\n}\nif (ok) {\n    bool conditionC = executeStepC();\n    ok &amp;= conditionC;\n}\nif (ok &amp;&amp; additionalCondition) {\n    // ...\n}\n\nexecuteThisFunctionInAnyCase();\n// can now also:\nreturn ok;\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24450077#24450077", "question_id": 24430504, "answer_id": 24450077}, {"body": "<p>Several answers hinted at a pattern that I saw and used many times, especially in network programming. In network stacks there is often a long sequence of requests, any of which can fail and will stop the process. </p>\n\n<p>The common pattern was to use <code>do { } while (false);</code></p>\n\n<p>I used a macro for the <code>while(false)</code> to make it <code>do { } once;</code> The common pattern was:</p>\n\n<pre><code>do\n{\n    bool conditionA = executeStepA();\n    if (! conditionA) break;\n    bool conditionB = executeStepB();\n    if (! conditionB) break;\n    // etc.\n} while (false);\n</code></pre>\n\n<p>This pattern was relatively easy to read, and allowed objects to be used that would properly destruct and also avoided multiple returns making stepping and debugging a bit easier.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24455183#24455183", "question_id": 24430504, "answer_id": 24455183}, {"body": "<p>Don't.  Sometimes you need the complexity.  The trick is how you do it.  Having the \"what you do when the condition exists\" may take up some room, making the if statement tree appear larger than it really is.   So instead of doing things if a condition is set, just set a variable to a specific value for that case( enumeration or number, like 10,014.  After the if tree, then have a case statement, and for that specific value, do whatever you would have done in the if tree.  It will lighten up the tree.\nif x1\n   if x2\n      if x3\n          Var1:=100016;\n      endif\n   endif\nend if\ncase\nvar=100016\n    do case 100016 things...</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24455776#24455776", "question_id": 24430504, "answer_id": 24455776}, {"body": "<p>Here's a trick I've used on several occasions, in both C-whatever and Java:</p>\n\n<pre><code>do {\n    if (!condition1) break;\n    doSomething();\n    if (!condition2) break;\n    doSomethingElse()\n    if (!condition3) break;\n    doSomethingAgain();\n    if (!condition4) break;\n    doYetAnotherThing();\n} while(FALSE);  // Or until(TRUE) or whatever your language likes\n</code></pre>\n\n<p>I prefer it over nested ifs for the clarity of it, especially when properly formatted with clear comments for each condition.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24457699#24457699", "question_id": 24430504, "answer_id": 24457699}, {"body": "<p>Assuming you don't need individual condition variables, inverting the tests and using the else-falthrough as the \"ok\" path would allow you do get a more vertical set of if/else statements:</p>\n\n<pre><code>bool failed = false;\n\n// keep going if we don't fail\nif (failed = !executeStepA())      {}\nelse if (failed = !executeStepB()) {}\nelse if (failed = !executeStepC()) {}\nelse if (failed = !executeStepD()) {}\n\nrunThisFunctionInAnyCase();\n</code></pre>\n\n<p>Omitting the failed variable makes the code a bit too obscure IMO.</p>\n\n<p>Declaring the variables inside is fine, no worry about = vs ==.</p>\n\n<pre><code>// keep going if we don't fail\nif (bool failA = !executeStepA())      {}\nelse if (bool failB = !executeStepB()) {}\nelse if (bool failC = !executeStepC()) {}\nelse if (bool failD = !executeStepD()) {}\nelse {\n     // success !\n}\n\nrunThisFunctionInAnyCase();\n</code></pre>\n\n<p>This is obscure, but compact:</p>\n\n<pre><code>// keep going if we don't fail\nif (!executeStepA())      {}\nelse if (!executeStepB()) {}\nelse if (!executeStepC()) {}\nelse if (!executeStepD()) {}\nelse { /* success */ }\n\nrunThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24459810#24459810", "question_id": 24430504, "answer_id": 24459810}, {"body": "<p>As Rommik mentioned, you could apply a design pattern for this, but I would use the Decorator pattern rather than Strategy since you are wanting to chain calls.  If the code is simple, then I would go with one of the nicely structured answers to prevent nesting.  However, if it is complex or requires dynamic chaining, then the Decorator pattern is a good choice.  Here is a <a href=\"http://yuml.me/\" rel=\"nofollow\">yUML class diagram</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/lkall.png\" alt=\"yUML class diagram\"></p>\n\n<p>Here is a sample <a href=\"http://www.linqpad.net/\" rel=\"nofollow\">LinqPad</a> C# program:</p>\n\n<pre><code>void Main()\n{\n    IOperation step = new StepC();\n    step = new StepB(step);\n    step = new StepA(step);\n    step.Next();\n}\n\npublic interface IOperation \n{\n    bool Next();\n}\n\npublic class StepA : IOperation\n{\n    private IOperation _chain;\n    public StepA(IOperation chain=null)\n    {\n        _chain = chain;\n    }\n\n    public bool Next() \n    {\n        bool localResult = false;\n        //do work\n        //...\n        // set localResult to success of this work\n        // just for this example, hard coding to true\n        localResult = true;\n        Console.WriteLine(\"Step A success={0}\", localResult);\n\n        //then call next in chain and return\n        return (localResult &amp;&amp; _chain != null) \n            ? _chain.Next() \n            : true;\n    }\n}\n\npublic class StepB : IOperation\n{\n    private IOperation _chain;\n    public StepB(IOperation chain=null)\n    {\n        _chain = chain;\n    }\n\n    public bool Next() \n    {   \n        bool localResult = false;\n\n        //do work\n        //...\n        // set localResult to success of this work\n        // just for this example, hard coding to false, \n            // to show breaking out of the chain\n        localResult = false;\n        Console.WriteLine(\"Step B success={0}\", localResult);\n\n        //then call next in chain and return\n        return (localResult &amp;&amp; _chain != null) \n            ? _chain.Next() \n            : true;\n    }\n}\n\npublic class StepC : IOperation\n{\n    private IOperation _chain;\n    public StepC(IOperation chain=null)\n    {\n        _chain = chain;\n    }\n\n    public bool Next() \n    {\n        bool localResult = false;\n        //do work\n        //...\n        // set localResult to success of this work\n        // just for this example, hard coding to true\n        localResult = true;\n        Console.WriteLine(\"Step C success={0}\", localResult);\n        //then call next in chain and return\n        return (localResult &amp;&amp; _chain != null) \n            ? _chain.Next() \n            : true;\n    }\n}\n</code></pre>\n\n<p>The best book to read on design patterns, IMHO, is <a href=\"http://smile.amazon.com/Head-First-Design-Patterns-Freeman/dp/0596007124/\" rel=\"nofollow\">Head First Design Patterns</a>.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24469882#24469882", "question_id": 24430504, "answer_id": 24469882}, {"body": "<p>For C++11 and beyond, a nice approach might be to implement a <em>scope exit</em> system similar to <a href=\"http://dlang.org/statement.html#ScopeGuardStatement\" rel=\"nofollow\">D's scope(exit)</a> mechanism.</p>\n\n<p>One possible way to implement it is using C++11 lambdas and some helper macros:</p>\n\n<pre><code>template&lt;typename F&gt; struct ScopeExit \n{\n    ScopeExit(F f) : fn(f) { }\n    ~ScopeExit() \n    { \n         fn();\n    }\n\n    F fn;\n};\n\ntemplate&lt;typename F&gt; ScopeExit&lt;F&gt; MakeScopeExit(F f) { return ScopeExit&lt;F&gt;(f); };\n\n#define STR_APPEND2_HELPER(x, y) x##y\n#define STR_APPEND2(x, y) STR_APPEND2_HELPER(x, y)\n\n#define SCOPE_EXIT(code)\\\n    auto STR_APPEND2(scope_exit_, __LINE__) = MakeScopeExit([&amp;](){ code })\n</code></pre>\n\n<p>This will allow you to return early from the function and ensure whatever cleanup code you define is always executed upon scope exit:</p>\n\n<pre><code>SCOPE_EXIT(\n    delete pointerA;\n    delete pointerB;\n    close(fileC); );\n\nif (!executeStepA())\n    return;\n\nif (!executeStepB())\n    return;\n\nif (!executeStepC())\n    return;\n</code></pre>\n\n<p>The macros are really just decoration. <code>MakeScopeExit()</code> can be used directly.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24470369#24470369", "question_id": 24430504, "answer_id": 24470369}, {"body": "<p>If you dislike <code>goto</code> and dislike <code>do { } while (0);</code> loops and like to use C++ you can also use a temporary lambda to have the same effect.</p>\n\n<pre><code>[&amp;]() { // create a capture all lambda\n  if (!executeStepA()) { return; }\n  if (!executeStepB()) { return; }\n  if (!executeStepC()) { return; }\n}(); // and immediately call it\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24474756#24474756", "question_id": 24430504, "answer_id": 24474756}, {"body": "<p>In certain special situations a virtual inheritance tree and virtual method calls may handle your decision tree logic. </p>\n\n<pre><code>objectp -&gt; DoTheRightStep();\n</code></pre>\n\n<p>I have met situations, when this worked like a magic wand.\nOf course this makes sense if your ConditionX can be consistently translated into \"object Is A\" Conditions.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24478288#24478288", "question_id": 24430504, "answer_id": 24478288}, {"body": "<p>You can use a \"switch statement\"</p>\n\n<pre><code>switch(x)\n{\n  case 1:\n    //code fires if x == 1\n    break;\n  case 2:\n    //code fires if x == 2\n    break;\n\n  ...\n\n  default:\n    //code fires if x does not match any case\n}\n</code></pre>\n\n<p>is equivalent to:  </p>\n\n<pre><code>if (x==1)\n{\n  //code fires if x == 1\n}\nelse if (x==2)\n{\n  //code fires if x == 2\n}\n\n...\n\nelse\n{\n  //code fires if x does not match any of the if's above\n}\n</code></pre>\n\n<p>However, I would argue that it's not necessary to avoid if-else-chains.  One limitation of switch statements is that they only test for exact equality; that is you can't test for \"case x&lt;3\" --- in C++ that throws an error &amp; in C it may work, but behave unexpected ways, which is worse than throwing an error, because your program will malfunction in unexpected ways.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24493493#24493493", "question_id": 24430504, "answer_id": 24493493}, {"body": "<p>This looks like a state machine, which is handy because you can easily implement it with a <a href=\"http://en.wikipedia.org/wiki/State_pattern\">state-pattern</a>.</p>\n\n<p>In Java it would look something like this:</p>\n\n<pre><code>interface StepState{\npublic StepState performStep();\n}\n</code></pre>\n\n<p>An implementation would work as follows:</p>\n\n<pre><code>class StepA implements StepState{ \n    public StepState performStep()\n     {\n         performAction();\n         if(condition) return new StepB()\n         else return null;\n     }\n}\n</code></pre>\n\n<p>And so on. Then you can substitute the big if condition with:</p>\n\n<pre><code>Step toDo = new StepA();\nwhile(toDo != null)\n      toDo = toDo.performStep();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24495398#24495398", "question_id": 24430504, "answer_id": 24495398}, {"body": "<p>If your code is as simple as your example and your language supports short-circuit evaluations, you could try this:</p>\n\n<pre><code>StepA() &amp;&amp; StepB() &amp;&amp; StepC() &amp;&amp; StepD();\nDoAlways();\n</code></pre>\n\n<p>If you are passing arguments to your functions and getting back other results so that your code cannot be written in the previous fashion, many of the other answers would be better suited to the problem.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24511880#24511880", "question_id": 24430504, "answer_id": 24511880}, {"body": "<p>Given the function:</p>\n\n<pre><code>string trySomething ()\n{\n    if (condition_1)\n    {\n        do_1();\n        ..\n            if (condition_k)\n            {\n                do_K();\n\n                return doSomething();\n            }\n            else\n            {\n                return \"Error k\";\n            }\n        ..\n    }\n    else\n    {\n        return \"Error 1\";\n    }\n}\n</code></pre>\n\n<p>We can get rid of the syntactical nesting, by reversing the validation process:</p>\n\n<pre><code>string trySomething ()\n{\n    if (!condition_1)\n    {\n        return \"Error 1\";\n    }\n\n    do_1();\n\n    ..\n\n    if (!condition_k)\n    {\n        return \"Error k\";\n    }\n\n    do_K();\n\n    return doSomething ();\n}\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24517645#24517645", "question_id": 24430504, "answer_id": 24517645}, {"body": "<p>As @Jefffrey said, you can use the conditional short-circuit feature in almost every language, I personally dislike conditional statements with more than 2 condition (more than a single <code>&amp;&amp;</code> or <code>||</code>), just a matter of style. This code does the same (and probably would compile the same) and it looks a bit cleaner to me. You don't need curly braces, breaks, returns, functions, lambdas (only c++11), objects, etc. as long as every function in <code>executeStepX()</code> returns a value that can be cast to <code>true</code> if the next statement is to be executed or <code>false</code> otherwise.</p>\n\n<pre><code>if (executeStepA())\n if (executeStepB())\n  if (executeStepC())\n   //...\n    if (executeStepN()); // &lt;-- note the ';'\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Any time any of the functions return <code>false</code>, none of the next functions are called.</p>\n\n<p>I liked the answer of @Mayerz, as you can vary the functions that are to be called (and their order) in runtime. This kind of feels like the <a href=\"http://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow\">observer pattern</a> where you have a group of subscribers (functions, objects, whatever) that are called and executed whenever a given arbitrary condition is met. This might be an over-kill in many cases, so use it wisely <code>:)</code></p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24526869#24526869", "question_id": 24430504, "answer_id": 24526869}, {"body": "<p>an interesting way is to work with exceptions.</p>\n\n<pre><code>try\n{\n    executeStepA();//function throws an exception on error\n    ......\n}\ncatch(...)\n{\n    //some error handling\n}\nfinally\n{\n    executeThisFunctionInAnyCase();\n}\n</code></pre>\n\n<p>If you write such code you are going somehow in the wrong direction. I wont see it as \"the problem\" to have such code, but to have such a messy \"architecture\".</p>\n\n<p>Tip: discuss those cases with a seasoned developer which you trust ;-)</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24530355#24530355", "question_id": 24430504, "answer_id": 24530355}, {"body": "<p>Just a side note; when an <code>if</code> scope always causes a <code>return</code> (or break in a loop), then don't use an <code>else</code> statement. This can save you a lot of indentation overall.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24531745#24531745", "question_id": 24430504, "answer_id": 24531745}, {"body": "<p>You just do this..</p>\n\n<pre><code>coverConditions();\nexecuteThisFunctionInAnyCase();\n\nfunction coverConditions()\n {\n bool conditionA = executeStepA();\n if (!conditionA) return;\n bool conditionB = executeStepB();\n if (!conditionB) return;\n bool conditionC = executeStepC();\n if (!conditionC) return;\n }\n</code></pre>\n\n<p>99 times of 100, this is the only way to do it.</p>\n\n<p>Never, ever, ever try to do something \"tricky\" in computer code.</p>\n\n<hr>\n\n<p>By the way, I'm pretty sure the following is the <strong>actual solution you had in mind...</strong></p>\n\n<p>The <strong>continue</strong> statement is critical in algorithmic programming. (Much as, the goto statement is critical in algorithmic programming.)</p>\n\n<p>In many programming languages you can do this:</p>\n\n<pre><code>-(void)_testKode\n    {\n    NSLog(@\"code a\");\n    NSLog(@\"code b\");\n    NSLog(@\"code c\\n\");\n\n    int x = 69;\n\n    {\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code d---\\n\");\n        continue;\n        }\n\n    if ( x == 69 )\n        {\n        NSLog(@\"code e---\\n\");\n        continue;\n        }\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code f---\\n\");\n        continue;\n        }\n\n    }\n\n    NSLog(@\"code g\");\n    }\n</code></pre>\n\n<p>(Note first of all: naked blocks like that example are a critical and important part of writing beautiful code, particularly if you are dealing with \"algorithmic\" programming.)</p>\n\n<p>Again, that's <strong>exactly what you had in your head, right?</strong> And that's the beautiful way to write it, so you have good instincts.</p>\n\n<p>However, tragically, in the <strong>current version of objective-c</strong> (Aside - I don't know about Swift, sorry) there is a risible feature where it checks if the enclosing block is a loop.</p>\n\n<p><img src=\"http://i.stack.imgur.com/glq81.png\" alt=\"enter image description here\"></p>\n\n<h1>Here's how you get around that...</h1>\n\n<pre><code>-(void)_testKode\n    {\n    NSLog(@\"code a\");\n    NSLog(@\"code b\");\n    NSLog(@\"code c\\n\");\n\n    int x = 69;\n\n    do{\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code d---\\n\");\n        continue;\n        }\n\n    if ( x == 69 )\n        {\n        NSLog(@\"code e---\\n\");\n        continue;\n        }\n\n    if ( x == 13 )\n        {\n        NSLog(@\"code f---\\n\");\n        continue;\n        }\n\n    }while(false);\n\n    NSLog(@\"code g\");\n    }\n</code></pre>\n\n<p>So don't forget that ..</p>\n\n<h1>do { } while(false);</h1>\n\n<p>just means \"do this block once\".</p>\n\n<p>ie, there is utterly no difference between writing <code>do{}while(false);</code> and simply writing <code>{}</code> .</p>\n\n<p>This now works perfectly as you wanted...here's the output...</p>\n\n<p><img src=\"http://i.stack.imgur.com/trGXZ.png\" alt=\"enter image description here\"></p>\n\n<p>So, it's possible that's how you see the algorithm in your head. You should always try to write what's in your head. ( Particularly if you are not sober, because that's when the pretty comes out! :) )</p>\n\n<p>In \"algorithmic\" projects where this happens a lot, in objective-c, we always have a  macro like...</p>\n\n<pre><code>#define RUNONCE while(false)\n</code></pre>\n\n<p>... so then you can do this ...</p>\n\n<pre><code>-(void)_testKode\n    {\n    NSLog(@\"code a\");\n    int x = 69;\n\n    do{\n    if ( x == 13 )\n        {\n        NSLog(@\"code d---\\n\");\n        continue;\n        }\n    if ( x == 69 )\n        {\n        NSLog(@\"code e---\\n\");\n        continue;\n        }\n    if ( x == 13 )\n        {\n        NSLog(@\"code f---\\n\");\n        continue;\n        }\n    }RUNONCE\n\n    NSLog(@\"code g\");\n    }\n</code></pre>\n\n<p>There are two points:</p>\n\n<p>a, even though it's stupid that objective-c checks the type of block a continue statement is in, it's troubling to \"fight that\".  So it's a tough decision.</p>\n\n<p>b, there's the question should you indent, in the example, that block? I lose sleep over questions like that, so I can't advise.</p>\n\n<p>Hope it helps.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24588605#24588605", "question_id": 24430504, "answer_id": 24588605}, {"body": "<pre><code>while(executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC() &amp;&amp; 0);\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>executeThisFunctionInAnyCase() had to be executed in any case even if the other functions do not complete.</p>\n\n<p>The while statement:</p>\n\n<pre><code>while(executeStepA() &amp;&amp; executeStepB() &amp;&amp; executeStepC() &amp;&amp; 0)\n</code></pre>\n\n<p>will execute all the functions and <strong>will not loop</strong> as its a definite false statement.\nThis can also be made to retry a certain times before quitting.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24615725#24615725", "question_id": 24430504, "answer_id": 24615725}, {"body": "<p>To improve on Mathieu's C++11 answer and avoid the runtime cost incurred through the use of <code>std::function</code>, I would suggest to use the following</p>\n\n<pre><code>template&lt;typename functor&gt;\nclass deferred final\n{\npublic:\n    template&lt;typename functor2&gt;\n    explicit deferred(functor2&amp;&amp; f) : f(std::forward&lt;functor2&gt;(f)) {}\n    ~deferred() { this-&gt;f(); }\n\nprivate:\n    functor f;\n};\n\ntemplate&lt;typename functor&gt;\nauto defer(functor&amp;&amp; f) -&gt; deferred&lt;typename std::decay&lt;functor&gt;::type&gt;\n{\n    return deferred&lt;typename std::decay&lt;functor&gt;::type&gt;(std::forward&lt;functor&gt;(f));\n}\n</code></pre>\n\n<p>This simple template class will accept any functor that can be called without any parameters, and does so without any dynamic memory allocations and therefore better conforms to C++'s goal of abstraction without unnecessary overhead. The additional function template is there to simplify use by template parameter deduction (which is not available for class template parameters)</p>\n\n<p>Usage example:</p>\n\n<pre><code>auto guard = defer(executeThisFunctionInAnyCase);\nbool conditionA = executeStepA();\nif (!conditionA) return;\nbool conditionB = executeStepB();\nif (!conditionB) return;\nbool conditionC = executeStepC();\nif (!conditionC) return;\n</code></pre>\n\n<p>Just as Mathieu's answer this solution is fully exception safe, and <code>executeThisFunctionInAnyCase</code> will be called in all cases. Should <code>executeThisFunctionInAnyCase</code> itself throw, destructors are implicitly marked <code>noexcept</code>and therefore a call to <code>std::terminate</code> would be issued instead of causing an exception to be thrown during stack unwinding.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24616375#24616375", "question_id": 24430504, "answer_id": 24616375}, {"body": "<p>Another approach - <code>do - while</code> loop, even though it was mentioned before there was no example of it which would show how it looks like:</p>\n\n<pre><code>do\n{\n    if (!executeStepA()) break;\n    if (!executeStepB()) break;\n    if (!executeStepC()) break;\n    ...\n\n    break; // skip the do-while condition :)\n}\nwhile (0);\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p><sub>(Well there's already an answer with <code>while</code> loop but <code>do - while</code> loop does not redundantly check for true (at the start) but instead at the end xD (this can be skipped, though)).</sub></p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24620630#24620630", "question_id": 24430504, "answer_id": 24620630}, {"body": "<p>After reading all the answers, I want to provide one new approach, which could be quite clear and readable in the right circumstances: A State-Pattern.</p>\n\n<p>If you pack all Methods (executeStepX) into an Object-class, it can have an Attribute getState()</p>\n\n<pre><code>class ExecutionChain\n{\n    public:\n        enum State\n        {\n          Start,\n          Step1Done,\n          Step2Done,\n          Step3Done,\n          Step4Done,\n          FinalDone,\n        };\n        State getState() const;\n\n        void executeStep1();\n        void executeStep2();\n        void executeStep3();\n        void executeStep4();\n        void executeFinalStep();\n    private:\n        State _state;\n};\n</code></pre>\n\n<p>This would allow you to flatten your execution code to this:</p>\n\n<pre><code>void execute\n{\n    ExecutionChain chain;\n\n    chain.executeStep1();\n\n    if ( chain.getState() == Step1Done )\n    {\n        chain.executeStep2();\n    }\n\n    if ( chain.getState() == Step2Done )\n    {\n        chain.executeStep3();\n    }\n\n    if ( chain.getState() == Step3Done )\n    {\n        chain.executeStep4();\n    }\n\n    chain.executeFinalStep();\n}\n</code></pre>\n\n<p>This way it is easily readable, easy to debug, you have a clear flow control and can also insert new more complex behaviors (e.g. execute Special Step only if at least Step2 is executed)...</p>\n\n<p>My problem with other approaches like ok = execute(); and if (execute()) are that your code should be clear and readable like a flow-diagram of what is happening. In the flow diagram you would have two steps: 1. execute 2. a decision based on the result</p>\n\n<p>So you shouldn't hide your important heavy-lifting methods inside of if-statements or similar, they should stand on their own!</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24630875#24630875", "question_id": 24430504, "answer_id": 24630875}, {"body": "<pre><code>[&amp;]{\n  bool conditionA = executeStepA();\n  if (!conditionA) return; // break\n  bool conditionB = executeStepB();\n  if (!conditionB) return; // break\n  bool conditionC = executeStepC();\n  if (!conditionC) return; // break\n}();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>We create an anonymous lambda function with implicit reference capture, and run it.  The code within it runs immediately.</p>\n\n<p>When it wants to stop, it simply <code>return</code>s.</p>\n\n<p>Then, after it runs, we run <code>executeThisFunctionInAnyCase</code>.</p>\n\n<p><code>return</code> within the lambda is a <code>break</code> to end of block.  Any other kind of flow control just works.</p>\n\n<p>Exceptions are left alone -- if you want to catch them, do it explicitly.  Be careful about running <code>executeThisFunctionInAnyCase</code> if exceptions are thrown -- you generally do not want to run <code>executeThisFunctionInAnyCase</code> if it can throw an exception in an exception handler, as that results in a mess (which mess will depend on the language).</p>\n\n<p>A nice property of such capture based inline functions is you can refactor existing code in place.  If your function gets really long, breaking it down into component parts is a good idea.</p>\n\n<p>A variant of this that works in more languages is:</p>\n\n<pre><code>bool working = executeStepA();\nworking = working &amp;&amp; executeStepB();\nworking = working &amp;&amp; executeStepC();\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>where you write individual lines that each short-circuit.  Code can be injected between these lines, giving you multiple \"in any case\", or you can do <code>if(working) { /* code */ }</code> between execution steps to include code that should run if and only if you haven't already bailed out.</p>\n\n<p>A good solution to this problem should be robust in the face of adding new flow control.</p>\n\n<p>In C++, a better solution is throwing together a quick scope_guard class:</p>\n\n<pre><code>#ifndef SCOPE_GUARD_H_INCLUDED_\n#define SCOPE_GUARD_H_INCLUDED_\ntemplate&lt;typename F&gt;\nstruct scope_guard_t {\n  F f;\n  ~scope_guard_t() { f(); }\n};\ntemplate&lt;typename F&gt;\nscope_guard_t&lt;F&gt; scope_guard( F&amp;&amp; f ) { return {std::forward&lt;F&gt;(f)}; }\n#endif\n</code></pre>\n\n<p>then in the code in question:</p>\n\n<pre><code>auto scope = scope_guard( executeThisFunctionInAnyCase );\nbool conditionA = executeStepA();\nif (!conditionA) return;\nbool conditionB = executeStepB();\nif (!conditionB) return;\nbool conditionC = executeStepC();\nif (!conditionC) return;\n</code></pre>\n\n<p>and the destructor of <code>scope</code> automaticlaly runs <code>executeThisFunctionInAnyCase</code>.  You can inject more and more such \"at end of scope\" (giving each a different name) whenever you create a non-RAII resource that needs cleaning up.  It can also take lambdas, so you can manipulate local variables.</p>\n\n<p>Fancier scope guards can support aborting the call in the destructor (with a <code>bool</code> guard), block/allow copy and move, and support type-erased \"portable\" scope-guards that can be returned from inner contexts.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24635457#24635457", "question_id": 24430504, "answer_id": 24635457}, {"body": "<blockquote>\n  <p>How to avoid \u201cif\u201d chains?</p>\n</blockquote>\n\n<p>I did not yet find an answer using recursion.  (Stop me now if you've heard this one;)</p>\n\n<p>I also did not find support for identifying which of the if-clauses failed (think multi thread) ... (I once confronted a 40 deep chain in an embedded system.)  As part of the debug support, I used a bitset.</p>\n\n<pre><code>  // here I use 26 bits in a result bitset - you can use as many bits as you need\n  typedef  std::bitset&lt;26&gt;  BitSet26;  \n</code></pre>\n\n<p>My recursion approach requires some support ... to perform step selection:</p>\n\n<pre><code>  int executeStep(int i, bool&amp; retVal)\n  {\n     int nxt = 0;\n     switch (i)\n     {\n     case 'A': { retVal = executeStepA(); nxt = 'B'; } break;\n     case 'B': { retVal = executeStepB(); nxt = 'C'; } break;\n     case 'C': { retVal = executeStepC(); nxt = 'D'; } break;\n     case 'D': { retVal = executeStepD(); nxt = 'I'; } break;\n        // ...\n     case 'I': { retVal = executeStepI(); nxt = 'J'; } break;\n     case 'J': { retVal = executeStepJ(); nxt = 'R'; } break;\n        // ...\n     case 'R': { retVal = executeStepR(); nxt = 'S'; } break;\n     case 'S': { retVal = executeStepS(); nxt = 'Z'; } break;\n        // ...\n     case 'Z': { retVal = executeStepZ(); nxt = 0;   } break;\n\n     default:  { retVal = false;          nxt = 0;   } break;\n     }\n     return(nxt);\n  }\n</code></pre>\n\n<p>I think the above is sufficiently simple, but in practice I did not have all the \"executeStepN()\" methods, and often installed the code they contained in the appropriate switch clause.</p>\n\n<p>Starting the sequence can look like:</p>\n\n<pre><code>     BitSet26  b (0); // clear all bits\n\n     int retVal = tRecurse(b, 'A'); // launch the sequence, \n     //                                starting with step 'A'\n\n     executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>This runs the recursion through the sequence, without a chain of if's.  When a step returns false, the recursion terminates.  A unique retVal (error code) could easily be passed back at the end of the tRecurse(), but I wanted to show the use of bit pattern to deliver pass/fail info. </p>\n\n<p>And the recursion looks like this:</p>\n\n<pre><code>  int tRecurse(BitSet26&amp; b, int i)\n  {\n     int  retVal = 0;\n     bool result = false;\n     int     nxt = executeStep(i, result);\n\n     if (result) // if (previous step return true)\n     {\n        b[i-'A'] = 1;  // map 'A' to 0 index\n\n        retVal = tRecurse(b, nxt); // recurse\n\n     } // else done, b initialized to 0\n\n     return(retVal);\n  }\n</code></pre>\n\n<p>No if-chains involved.  Ok, I admit it, I like recursion.  </p>\n\n<p>Here is an example that starts the recursion, and reports results:</p>\n\n<pre><code>  int foo(void)\n  {\n     BitSet26  b;\n\n     int retVal = tRecurse(b, 'A'); // launch the sequence, starting with step A\n\n     executeThisFunctionInAnyCase();\n\n#ifndef  ndbg          \n     { \n        // development diagnostics\n        std::cout &lt;&lt; \"BitSet26: \" &lt;&lt;  b.to_string() &lt;&lt; std::endl;\n        std::string c = \"ZYXWVUTSRQPONMLKJIHGFEDCBA\";\n        std::cout &lt;&lt; \"          \";\n        for (int i=0; i &lt; 26; i++)\n        {\n           char kar = c[i];\n           if(!b[kar-'A']) kar = ' ';\n           std::cout &lt;&lt; kar;\n        }\n\n        std::cout &lt;&lt; \"   : PASS\" &lt;&lt; std::endl &lt;&lt; \"          \";\n        for (int i=0; i &lt; 26; i++)\n        {\n           char kar = static_cast&lt;char&gt;(tolower(c[i]));\n           if(b[kar-'A']) kar = ' ';\n           std::cout &lt;&lt; kar;\n        }\n        std::cout &lt;&lt; \"   : Failed (or incomplete)\" &lt;&lt; std::endl;\n     }\n#endif\n     return(retVal);\n  }\n</code></pre>\n\n<p>User output is development diagnostic, so don't mind the messy.  </p>\n\n<p>Instead, think how your error handling might decide recovery based on the bit patterns found.</p>\n\n<p>A quick example, with only 8 execute steps that succeed, and the 9th, 'Z' fails.  I suppose I should have used only 9 bits in the bitset ... eh.</p>\n\n<pre><code>./dumy104 \nA\nB\nC\nD\n...\nI\nJ\n...\nR\nS\n...\nZ\nexecuteThisFunctionInAnyCase()\n\nBitSet26: 00000001100000001100001111\n                 SR       JI    DCBA   : PASS\n          zyxwvut  qponmlk  hgfe       : Failed (Z) (or incomplete)\n\nFINI\n</code></pre>\n\n<hr>\n\n<p>UPDATE 2014 07 30</p>\n\n<p>Forgot to mention the key idea:</p>\n\n<p>You have heard of un-rolling a loop as a optimization technique?  </p>\n\n<p>Here, I have used recursion to roll the if-then chain into a loop. And of course, recursion is not the only way to write a loop.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24643152#24643152", "question_id": 24430504, "answer_id": 24643152}, {"body": "<p>Fake loops already got mentioned, but I didn't see the following trick in the answers given so far: You can use a <code>do { /* ... */ } while( evaulates_to_zero() );</code> to implement a two-way early-out breaker. Using <code>break</code> terminates the loop without going through evaluating the condition statement, whereas a <code>continue</code> will evaulate the condition statement.</p>\n\n<p>You can use that if you have two kinds of finalization, where one path must do a little more work than the other:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;ctype.h&gt;\n\nint finalize(char ch)\n{\n    fprintf(stdout, \"read a character: %c\\n\", (char)toupper(ch));\n\n    return 0;\n}\n\nint main(int argc, char *argv[])\n{\n    int ch;\n    do {\n        ch = fgetc(stdin);\n        if( isdigit(ch) ) {\n            fprintf(stderr, \"read a digit (%c): aborting!\\n\", (char)ch);\n            break;\n        }\n        if( isalpha(ch) ) {\n            continue;\n        }\n        fprintf(stdout, \"thank you\\n\");\n    } while( finalize(ch) );\n\n    return 0;\n}\n</code></pre>\n\n<p>Executing this gives the following session protocol:</p>\n\n<pre><code>dw@narfi ~/misc/test/fakeloopbreak $ ./fakeloopbreak \n-\nthank you\nread a character: -\n\ndw@narfi ~/misc/test/fakeloopbreak $ ./fakeloopbreak \na\nread a character: A\n\ndw@narfi ~/misc/test/fakeloopbreak $ ./fakeloopbreak \n1\nread a digit (1): aborting!\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24643421#24643421", "question_id": 24430504, "answer_id": 24643421}, {"body": "<p>Why is nobody giving the simplest solution ? :D</p>\n\n<p>If all your functions have the same signature then you can do it this way (for C language):</p>\n\n<pre><code>bool (*step[])() = {\n    &amp;executeStepA,\n    &amp;executeStepB,\n    &amp;executeStepC,\n    ... \n};\n\nfor (int i = 0; i &lt; numberOfSteps; i++) {\n    bool condition = step[i]();\n\n    if (!condition) {\n        break;\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>For a clean C++ solution, you should create an interface class that contains an  <em>execute</em> method and wraps your steps in objects.<br>\nThen, the solution above will look like this:</p>\n\n<pre><code>Step *steps[] = {\n    stepA,\n    stepB,\n    stepC,\n    ... \n};\n\nfor (int i = 0; i &lt; numberOfSteps; i++) {\n    Step *step = steps[i];\n\n    if (!step-&gt;execute()) {\n        break;\n    }\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24672437#24672437", "question_id": 24430504, "answer_id": 24672437}, {"body": "<p>Well, 50+ answers so far and nobody has mentioned what I usually do in this situation! (i.e. an operation that consists of several steps, but it would be overkill to use a state machine or a function pointer table):</p>\n\n<pre><code>if ( !executeStepA() )\n{\n    // error handling for \"A\" failing\n}\nelse if ( !executeStepB() )\n{\n    // error handling for \"B\" failing\n}\nelse if ( !executeStepC() )\n{\n    // error handling for \"C\" failing\n}\nelse\n{\n    // all steps succeeded!\n}\n\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Does not end up with huge indent level</li>\n<li>Error handling code (optional) is on the lines just after the call to the function that failed </li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Can get ugly if you have a step that's not just wrapped up in a single function call</li>\n<li>Gets ugly if any flow is required other than \"execute steps in order, aborting if one fails\"</li>\n</ul>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24691689#24691689", "question_id": 24430504, "answer_id": 24691689}, {"body": "<p>In my opinion function pointers are the best way to go through this.</p>\n\n<p>This approach was mentioned before, but I'd like to go even deeper into the pros of using such approach against an arrowing type of code.</p>\n\n<p>From my experience, this sort of if chains happen in an initialization part of a certain action of the program. The program needs to be sure that everything is peachy before attempting to start.</p>\n\n<p>In often cases in many of the do stuff functions some things might get allocated , or ownership could be changed. You will want to reverse the process if you fail.</p>\n\n<p>Let's say you have the following 3 functions :</p>\n\n<pre><code>bool loadResources()\n{\n   return attemptToLoadResources();\n}\nbool getGlobalMutex()\n{\n   return attemptToGetGlobalMutex();\n}\nbool startInfernalMachine()\n{\n   return attemptToStartInfernalMachine();\n}\n</code></pre>\n\n<p>The prototype for all of the functions will be:</p>\n\n<pre><code>typdef bool (*initializerFunc)(void);\n</code></pre>\n\n<p>So as mentioned above, you will add into a vector using push_back the pointers and just run them in the order. However, if your program fails at the startInfernalMachine , you will need to manually return the mutex and unload resources . If you do this in your RunAllways function, you will have a baad time.</p>\n\n<p>But wait! functors are quite awesome (sometimes) and you can just change the prototype to the following :</p>\n\n<pre><code>typdef bool (*initializerFunc)(bool);\n</code></pre>\n\n<p>Why ? Well, the new functions will now look something like :</p>\n\n<pre><code>bool loadResources(bool bLoad)\n{\n   if (bLoad)\n     return attemptToLoadResources();\n   else\n     return attemptToUnloadResources();\n}\nbool getGlobalMutex(bool bGet)\n{\n  if (bGet)\n    return attemptToGetGlobalMutex();\n  else\n    return releaseGlobalMutex();\n}\n...\n</code></pre>\n\n<p>So now,the whole of the code, will look something like :</p>\n\n<pre><code>vector&lt;initializerFunc&gt; funcs;\nfuncs.push_back(&amp;loadResources);\nfuncs.push_back(&amp;getGlobalMutex);\nfuncs.push_back(&amp;startInfernalMachine);\n// yeah, i know, i don't use iterators\nint lastIdx;\nfor (int i=0;i&lt;funcs.size();i++)\n{\n   if (funcs[i](true))\n      lastIdx=i;\n   else \n      break;\n}\n// time to check if everything is peachy\nif (lastIdx!=funcs.size()-1)\n{\n   // sad face, undo\n   for (int i=lastIdx;i&gt;=0;i++)\n      funcs[i](false);\n}\n</code></pre>\n\n<p>So it's definately a step forward to autoclean your project, and get past this phase.\nHowever, implementation is a bit awkward, since you will need to use this pushback mechanism over and over again. If you have only 1 such place, let's say it's ok, but if you have it 10 places, with an oscilating number of functions... not so fun.</p>\n\n<p>Fortunately, there's another mechanism that will allow you to make a even better abstraction : variadic functions.\nAfter all, there's a varying number of functions you need to go thorough.\nA variadic function would look something like this :</p>\n\n<pre><code>bool variadicInitialization(int nFuncs,...)\n{\n    bool rez;\n    int lastIdx;\n    initializerFunccur;\n    vector&lt;initializerFunc&gt; reverse;\n    va_list vl;\n    va_start(vl,nFuncs);\n    for (int i=0;i&lt;nFuncs;i++)\n    {\n        cur = va_arg(vl,initializerFunc);\n        reverse.push_back(cur);\n        rez= cur(true);\n        if (rez)\n            lastIdx=i;\n        if (!rez)\n            break;\n    }\n    va_end(vl);\n\n    if (!rez)\n    {\n\n        for (int i=lastIdx;i&gt;=0;i--)\n        {\n            reverse[i](false);\n        }\n    }\n    return rez;\n}\n</code></pre>\n\n<p>And now your code will be reduced (anywhere in the application) to this :</p>\n\n<pre><code>bool success = variadicInitialization(&amp;loadResources,&amp;getGlobalMutex,&amp;startInfernalMachine);\ndoSomethingAllways();\n</code></pre>\n\n<p>So this way you can do all those nasty if lists with just one function call, and be sure that when the function exits you will not have any residues from initializations. </p>\n\n<p>Your fellow team mates will be really grateful for making 100 lines of code possible in just 1.</p>\n\n<p>BUT WAIT!\nThere's more!\nOne of the main traits of the arrow-type code is that you need to have a specific order!\nAnd that specific order needs to be the same in the whole application (multithreading deadlock avoidance rule no 1 : always take mutexes in the same order throughout the whole application)\nWhat if one of the newcomers, just makes the functions in a random order ? Even worse, what if you are asked to expose this to java or C# ? (yeah, cross platform is a pain)</p>\n\n<p>Fortunately there's an approach for this.\nIn bullet points , this is what I would suggest :</p>\n\n<ul>\n<li><p>create an enum , starting from the first resource to the last</p></li>\n<li><p>define a pair which takes a value from the enum and pairs it to the function pointer</p></li>\n<li><p>put these pairs in a vector (I know, I just defined the use of a map :) , but I always go vector for small numbers)</p></li>\n<li><p>change the variadic macro from taking function pointers to integers (which are easily exposed in java or C# ;) ) )</p></li>\n<li><p>in the variadic function, sort those integers</p></li>\n<li><p>when running, run the function assigned to that integer.</p></li>\n</ul>\n\n<p>At the end, your code will ensure the following :</p>\n\n<ul>\n<li><p>one line of code for initialization, no matter how many stuff needs to be ok</p></li>\n<li><p>enforcing of the order of calling : you cannot call startInfernalMachine before loadResources unless you (the architect) decides to allow this</p></li>\n<li><p>complete cleanup if something fails along the way (considering you made deinitialization properly)</p></li>\n<li><p>changing the order of the initialization in the whole application means only changing the order in the enum </p></li>\n</ul>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24698270#24698270", "question_id": 24430504, "answer_id": 24698270}, {"body": "<p>An easy solution is using a condition boolean variable, and the same one can be reused over and over again in order to check all the results of the steps being executed in sequence:</p>\n\n<pre><code>    bool cond = executeStepA();\n    if(cond) cond = executeStepB();\n    if(cond) cond = executeStepC();\n    if(cond) cond = executeStepD();\n\n    executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>Not that it was not necessary to do this beforehand: <code>bool cond = true;</code> ... and then followed by if(cond) cond = executeStepA(); The <code>cond</code> variable can be immediately assigned to the result of <code>executeStepA()</code>, therefore making the code even shorter and simpler to read.</p>\n\n<p>Another more peculiar but fun approach would be this (some might think that this is a good candidate for the IOCCC though, but still):</p>\n\n<pre><code>    !executeStepA() ? 0 :\n      !executeStepB() ? 0 :\n      !executeStepC() ? 0 :\n      !executeStepD() ? 0 : 1 ;\n\n    executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>The result is exactly the same as if we did what the OP posted, i.e.:</p>\n\n<pre><code>    if(executeStepA()){\n        if(executeStepB()){\n            if(executeStepC()){\n                if(executeStepD()){\n                }\n            }\n        }\n    }\n\n    executeThisFunctionInAnyCase();\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24718773#24718773", "question_id": 24430504, "answer_id": 24718773}, {"body": "<p>An alternative solution would be to define an idiom through macro hacks.  </p>\n\n<pre><code> #define block for(int block = 0; !block; block++)\n</code></pre>\n\n<p>Now, a \"block\" can be exited with <code>break</code>, in the same way as <code>for(;;)</code> and <code>while()</code> loops. Example:  </p>\n\n<pre><code>int main(void) {\n\n    block {\n       if (conditionA) {\n          // Do stuff A...\n          break; \n       }\n       if (conditionB) {\n          // Do stuff B...\n          break; \n       }\n       if (conditionC) {\n          // Do stuff C...\n          break; \n       }\n       else {\n         // Do default stuff...\n       }\n    } /* End of \"block\" statement */\n    /* ---&gt;   The \"break\" sentences jump here */\n\n    return 0;\n} \n</code></pre>\n\n<p>In despite of the \"for(;;)\" construction, the \"block\" statement is executed just once.<br>\nThis \"blocks\" are able to be exited with <code>break</code> sentences.<br>\nHence, the chains of <code>if else if else if...</code> sentences are avoided.<br>\nAt most, one lastly <code>else</code> can hang at the end of the \"block\", to handle \"default\" cases.  </p>\n\n<p>This technique is intended to avoid the typical and ugly <code>do { ... } while(0)</code> method.<br>\nIn the macro <code>block</code> it is defined a variable also named <code>block</code> defined in such a way that exactly 1 iteration of for is executed. According to the substitution rules for macros, the identifier <code>block</code> inside the definition of the macro <code>block</code> is not recursively replaced, therefore <code>block</code> becomes an identifier inaccesible to the programmer, but internally works well to control de \"hidden\" <code>for(;;)</code> loop.  </p>\n\n<p>Moreover: these \"blocks\" can be nested, since the hidden variable <code>int block</code> would have different scopes.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24719900#24719900", "question_id": 24430504, "answer_id": 24719900}, {"body": "<p>Conditions can be simplified if conditions are moved under individual steps, here's a c# pseudo code,</p>\n\n<p>the idea is to use a choreography instead of a central orchestration. </p>\n\n<pre><code>void Main()\n{\n    Request request = new Request();\n    Response response = null;\n\n    // enlist all the processors\n    var processors = new List&lt;IProcessor&gt;() {new StepA() };\n\n    var factory = new ProcessorFactory(processors);\n\n    // execute as a choreography rather as a central orchestration.\n    var processor = factory.Get(request, response);\n    while (processor != null)\n    {\n        processor.Handle(request, out response);\n        processor = factory.Get(request, response); \n    }\n\n    // final result...\n    //response\n}\n\npublic class Request\n{\n}\n\npublic class Response\n{\n}\n\npublic interface IProcessor\n{\n    bool CanProcess(Request request, Response response);\n    bool Handle(Request request, out Response response);\n}\n\npublic interface IProcessorFactory\n{\n    IProcessor Get(Request request, Response response);\n}   \n\npublic class ProcessorFactory : IProcessorFactory\n{\n    private readonly IEnumerable&lt;IProcessor&gt; processors;\n\n    public ProcessorFactory(IEnumerable&lt;IProcessor&gt; processors)\n    {\n        this.processors = processors;\n    }\n\n    public IProcessor Get(Request request, Response response)\n    {\n        // this is an iterator\n        var matchingProcessors = processors.Where(x =&gt; x.CanProcess(request, response)).ToArray();\n\n        if (!matchingProcessors.Any())\n        {\n            return null;\n        }\n\n        return matchingProcessors[0];\n    }\n}\n\n// Individual request processors, you will have many of these...\npublic class StepA: IProcessor\n{\n    public bool CanProcess(Request request, Response response)\n    {\n        // Validate wether this can be processed -- if condition here\n        return false;\n    }\n\n    public bool Handle(Request request, out Response response)\n    {\n        response = null;\n        return false;\n    }\n}\n</code></pre>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24729492#24729492", "question_id": 24430504, "answer_id": 24729492}, {"body": "<p>Why using OOP? in pseudocode:</p>\n\n<pre><code>abstract class Abstraction():\n   function executeStepA(){...};\n   function executeStepB(){...};   \n   function executeStepC(){...};\n   function executeThisFunctionInAnyCase(){....}\n   abstract function execute():\n\nclass A(Abstraction){\n   function execute(){\n      executeStepA();\n      executeStepB();\n      executeStepC();\n   }\n}\n class B(Abstraction){\n   function execute(){\n      executeStepA();\n      executeStepB();\n   }\n}\nclass C(Abstraction){\n     function execute(){\n       executeStepA();\n     }\n}\n</code></pre>\n\n<p>this way your if's dissapear</p>\n\n<pre><code>item.execute();\nitem.executeThisFunctionInAnyCase();\n</code></pre>\n\n<p>Usually, ifs can be avoided using OOP.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24732478#24732478", "question_id": 24430504, "answer_id": 24732478}, {"body": "<p>Very simple.</p>\n\n<pre><code>if ((bool conditionA = executeStepA()) &amp;&amp; \n    (bool conditionB = executeStepB()) &amp;&amp;\n    (bool conditionC = executeStepC())) {\n   ...\n}\nexecuteThisFunctionInAnyCase();\n</code></pre>\n\n<p>This will preserve the boolean variables conditionA, conditionB and conditionC as well.</p>\n", "title": "How to avoid &quot;if&quot; chains?", "tags": ["c++", "c", "if-statement", "control-flow"], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains/24732558#24732558", "question_id": 24430504, "answer_id": 24732558}], "link": "http://stackoverflow.com/questions/24430504/how-to-avoid-if-chains", "question_id": 24430504}, {"body": "<p>I need to run web.exe file from my developer command prompt for vs2013 .\nbut it wasn't installed by default in visual studio 2013 . why ?\nbefore I used visual studio 2012 and developer command prompt for vs2012 was installed by default with it .</p>\n\n<p>but why this command is not installed with visual studio 2013 by default ?\nand how can I reach to this command line ?</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "answers": [{"body": "<p>For some reason, it doesn't properly add an icon when running Windows 8+. Here's how I solved it:</p>\n\n<p>Using Windows Explorer, navigate to:</p>\n\n<pre><code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Visual Studio 2013\n</code></pre>\n\n<p>In that folder, you'll see a shortcut named <code>Visual Studio Tools</code> that maps to (assuming default installation):</p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\Shortcuts\n</code></pre>\n\n<p>Double-click the shortcut (or go to the folder above).</p>\n\n<p>From that folder, copy the shortcut named <code>Developer Command Prompt for VS2013</code> (and any others you find useful) to the first directory (for the <code>Start Menu</code>). You'll likely be prompted for administrative access (do so). </p>\n\n<p>Once you've done that, you'll now have an icon available for the 2013 command prompt.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013/22702405#22702405", "question_id": 21476588, "answer_id": 22702405}, {"body": "<p>From VS2013 Menu Select \"Tools\", then Select \"External Tools\". Enter as below:</p>\n\n<ul>\n<li><strong>Title</strong>: \"VS2013 Native Tools-Command Prompt\" would be good<br/></li>\n<li><strong>Command</strong>: <code>C:\\Windows\\System32\\cmd.exe</code><br/></li>\n<li><strong>Arguments</strong>: <code>/k \"C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\VsDevCmd.bat\"</code><br/></li>\n<li><strong>Initial Directory</strong>:  Select as suits your needs. <br/></li>\n</ul>\n\n<p>Click OK.\nNow you have command prompt access under the Tools Menu.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013/22871532#22871532", "question_id": 21476588, "answer_id": 22871532}, {"body": "<p>I used a modified version of <a href=\"http://stackoverflow.com/a/22871532/41153\">this answer</a> - based on my experiences adding it to VS 2010:</p>\n\n<ol>\n<li>Select <code>Tools</code> >> <code>External Tools</code> in Visual Studio</li>\n<li>Click <code>Add</code></li>\n<li>Title: I use <code>Visual Studio Command &amp;Prompt</code>\n<ul>\n<li><code>&amp;P</code> Makes P a alt-shortcut key (when menu active)</li>\n<li>I originally used C, but that conflicts with the existing shortcut for Customize</li>\n</ul></li>\n<li>Command: <code>C:\\Windows\\System32\\cmd.exe</code></li>\n<li>Arguments: <code>\\k \"C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\vsvars32.bat</code>\n<ul>\n<li><code>\\k</code> keeps a secondary session active so the window doesn\u2019t close on the .bat file</li>\n</ul></li>\n<li>Initial Directory:  I use <code>$(ProjectDir)</code> (from the dropdown)</li>\n<li>Click OK.</li>\n</ol>\n\n<p>Now you have command prompt access under the Tools Menu.</p>\n\n<p>See also: <a href=\"http://stackoverflow.com/a/4245337/41153\">Add command prompt to Visual C# Express 2010</a></p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013/23111099#23111099", "question_id": 21476588, "answer_id": 23111099}, {"body": "<p>Since any solution given so far will open the command prompt on the project folder, you would still have to navigate to the project's folder. If you are interested in getting the command prompt directly into the project's folder, here is my 2 steps:</p>\n\n<ol>\n<li>right-click in solution explorer on the project name (just under\nthe solution name) and choose the command \"Open Folder in File\nExplorer\"</li>\n<li>Once the Windows Explorer is open, just type in the\n    address bar \"cmd\" and then hit enter!</li>\n</ol>\n\n<p>Et voila! Hope that help,</p>\n\n<p>Marc </p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013/26692494#26692494", "question_id": 21476588, "answer_id": 26692494}, {"body": "<p>I don't know if this changed recently -- the answer given by Samuel did not apply to me even though that link seemed authoritative.</p>\n\n<p>A couple of things</p>\n\n<p>1) For some reason, the folder in the start menu is called <code>Visual Studio 2013</code>, and not <code>Microsoft Visual Studio 2013</code>.  Using the win8 apps interface you might see the 2010 entry <code>Microsoft Visual Studio 2010</code>, and since you don't see the new 2013 folder <code>Microsoft Visual Studio 2013</code> next to it, you assume it isn't there.   But it is..  Just a few page scrolls away..</p>\n\n<p>2) It seems the Windows 8 (or 8.1 at least) cannot display sub-folders.   I tried creating a folder underneath the <code>Visual Studio 2013</code> folder with shortcuts, and the entire folder just didn't show.</p>\n\n<p>3) Which is why what <em>is</em> installed is a shortcut.  Not sure what the windows 7 behavior is with a shortcut in the start menu, but the apps menu just displays it like a folder.  When you click on it, it brings you to the so-called missing shortcuts in explorer.</p>\n\n<p>Final solution:  under <code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs</code>, create a new folder called <code>Microsoft Visual Studio 2013</code>.  Copy the shortcuts from <code>C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\Tools\\Shortcuts</code> to that new folder.  Then you'll have your icons using the windows 8 app interface under the heading which is the new folder name.</p>\n\n<p>You'll also be able to just start typing from the start screen <code>VS2013</code>, and the icons will now show up.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013/28780053#28780053", "question_id": 21476588, "answer_id": 28780053}, {"body": "<p><a href=\"http://i.stack.imgur.com/LngaK.png\"><img src=\"http://i.stack.imgur.com/LngaK.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can simply go to Menu > All Programs > Visual Studio 2013. Select the folder link \"Visual Studio Tools\". This will open the folder. There is bunch of shortcuts for command prompt which you can use. They worked perfectly for me.</p>\n\n<p>I think the trick here might be there are different versions for different processors, hence they put them all together.</p>\n", "title": "Where is Developer Command Prompt for VS2013?", "tags": ["visual-studio", "visual-studio-2013"], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013/33777931#33777931", "question_id": 21476588, "answer_id": 33777931}], "link": "http://stackoverflow.com/questions/21476588/where-is-developer-command-prompt-for-vs2013", "question_id": 21476588}, {"body": "<p>I am using express 4.0 and I'm aware that body parser has been taken out of the express core, I am using the recommended replacement, however I am getting </p>\n\n<p><code>body-parser deprecated bodyParser: use individual json/urlencoded middlewares server.js:15:12\nbody-parser deprecated urlencoded: explicitly specify \"extended: true\" for extended parsing node_modules/body-parser/index.js:74:29</code></p>\n\n<p>Where do I find this supposed middlewares? or should I not be getting this error?</p>\n\n<pre><code>var express     = require('express');\nvar server      = express();\nvar bodyParser  = require('body-parser');\nvar mongoose    = require('mongoose');\nvar passport    = require('./config/passport');\nvar routes      = require('./routes');\n\nmongoose.connect('mongodb://localhost/myapp', function(err) {\n    if(err) throw err;\n});\n\nserver.set('view engine', 'jade');\nserver.set('views', __dirname + '/views');\n\nserver.use(bodyParser()); \nserver.use(passport.initialize());\n\n// Application Level Routes\nroutes(server, passport);\n\nserver.use(express.static(__dirname + '/public'));\n\nserver.listen(3000);\n</code></pre>\n", "title": "bodyParser is deprecated express 4", "tags": ["node.js", "express", "middleware"], "answers": [{"body": "<p>It means that using the <code>bodyParser()</code> <strong>constructor</strong> has been <a href=\"https://github.com/expressjs/body-parser/commit/b7420f8dc5c8b17a277c9e50d72bbaf3086a3900\">deprecated</a>,  as of 2014-06-19.</p>\n\n<pre><code>app.use(bodyParser()); //Now deprecated\n</code></pre>\n\n<p>You now need to call the methods separately</p>\n\n<pre><code>app.use(bodyParser.urlencoded());\n\napp.use(bodyParser.json());\n</code></pre>\n\n<p>And so on.</p>\n\n<p>If you're still getting a warning with <code>urlencoded</code> you need to use</p>\n\n<pre><code>app.use(bodyParser.urlencoded({\n  extended: true\n}));\n</code></pre>\n\n<p>The <code>extended</code> config object key now needs to be explicitly passed, since it now has no default value.</p>\n", "title": "bodyParser is deprecated express 4", "tags": ["node.js", "express", "middleware"], "link": "http://stackoverflow.com/questions/24330014/bodyparser-is-deprecated-express-4/24330353#24330353", "question_id": 24330014, "answer_id": 24330353}, {"body": "<p>Want <strong>zero warnings</strong>? Use it like this:</p>\n\n<pre><code>app.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\n</code></pre>\n\n<p><strong>Explanation</strong>: The default value of the <code>extended</code> option has been deprecated, meaning you need to explicitly pass true or false value.</p>\n", "title": "bodyParser is deprecated express 4", "tags": ["node.js", "express", "middleware"], "link": "http://stackoverflow.com/questions/24330014/bodyparser-is-deprecated-express-4/24344756#24344756", "question_id": 24330014, "answer_id": 24344756}, {"body": "<p>In older versions of express, we had to use:</p>\n\n<pre><code>app.use(express.bodyparser()); \n</code></pre>\n\n<p>because express was a middleware between node and \nbody-parser. Now we have to use it like:</p>\n\n<pre><code>app.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\n</code></pre>\n", "title": "bodyParser is deprecated express 4", "tags": ["node.js", "express", "middleware"], "link": "http://stackoverflow.com/questions/24330014/bodyparser-is-deprecated-express-4/26967113#26967113", "question_id": 24330014, "answer_id": 26967113}, {"body": "<p>I found that while adding</p>\n\n<pre><code>app.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\n</code></pre>\n\n<p>helps, sometimes it's a matter of your querying that determines how express handles it. </p>\n\n<p>For instance, it could be that your parameters are passed in the <strong>URL</strong> rather than in the body</p>\n\n<p>In such a case, you need to capture both the <strong>body</strong> and <strong>url</strong> parameters and use whichever is available (with preference for the body parameters in the case below)</p>\n\n<pre><code>app.route('/echo')\n    .all((req,res)=&gt;{\n        let pars = (Object.keys(req.body).length &gt; 0)?req.body:req.query;\n        res.send(pars);\n    });\n</code></pre>\n", "title": "bodyParser is deprecated express 4", "tags": ["node.js", "express", "middleware"], "link": "http://stackoverflow.com/questions/24330014/bodyparser-is-deprecated-express-4/37286008#37286008", "question_id": 24330014, "answer_id": 37286008}], "link": "http://stackoverflow.com/questions/24330014/bodyparser-is-deprecated-express-4", "question_id": 24330014}, {"body": "<p>I'm running Windows 7 French and I'm trying to compile this really basic program, but Visual Studio is being stubborn and refuses to comply. I also tried compiling it with both GCC 4.7 and Clang trunk on <a href=\"http://coliru.stacked-crooked.net\">Coliru</a> and I get more or less the same errors (output is below the code), though I think Coliru runs on an English OS so I wouldn't expect it to work anyway.</p>\n\n<p>What am I doing wrong? And how can I fix it?</p>\n\n<h3>Code</h3>\n\n<pre><code>#inclure &lt;iostream&gt;\n\nent principal(ent argn, ent** argm)  // entier, nombre d'arguments, valeur des arguments\n{\n   std::cendehors &lt;&lt; \"Bonjour le monde!\\n\";\n   renvoi SORTIE_SUCC\u00c8S;\n}\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>principal.cpp:1:6: erreur: pr\u00e9traitement de la directive invalide #inclure\n     #inclure &lt;iostream&gt;\n      ^\nprincipal.cpp:6:8: erreur: '\\303' \u00e9gar\u00e9 dans le programme\n        renvoi SORTIE_SUCC\u00c8S;\n        ^\nprincipal.cpp:6:8: erreur: '\\210' \u00e9gar\u00e9 dans le programme\nprincipal.cpp:3:5: erreur: \u00abent\u00bb ne d\u00e9signe pas un type\n     ent principal(ent argn, ent** argm)  // entier, nombre d'arguments, value des arguments\n     ^\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "answers": [{"body": "<p>You cannot use French keywords in a C++ (or C) program. You should code</p>\n\n<pre><code> #include &lt;iostream&gt;\n //  ^^^  the english word \"include\" \n</code></pre>\n\n<p>and likewise</p>\n\n<pre><code> return EXIT_SUCCESS;\n</code></pre>\n\n<p>and of course code <code>int main(int argc, char**argv)</code>  etc...</p>\n\n<p><sup>(thanks for your April fool's joke!)</sup></p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22780518#22780518", "question_id": 22780466, "answer_id": 22780518}, {"body": "<p>first of all:</p>\n\n<pre><code>#inclure &lt;iostream&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>#include &lt;iostream&gt;//typo error you have\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22780519#22780519", "question_id": 22780466, "answer_id": 22780519}, {"body": "<p>The problem is obviously that you are including the wrong standard header:</p>\n\n<pre><code>#inclure &lt;iostream&gt;\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>#inclure &lt;fluxes&gt;\n</code></pre>\n\n<p>Also, you'll find that this works much better is you use Studio Visuel Micromou  or the CCG (stands for \"Collection de Compilateurs GPU\", btw) tools, rather than their more common MVS or GCC relatives.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22780662#22780662", "question_id": 22780466, "answer_id": 22780662}, {"body": "<p>You probably need to install the French language pack for C++11. If you can't find it, try <a href=\"http://www.bing.com/translator\">http://www.bing.com/translator</a>.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22780872#22780872", "question_id": 22780466, "answer_id": 22780872}, {"body": "<p>Seems you forgot to install the <code>FrenChPP++</code> package. After a successful installation (you will need to compile <code>FrenChPP++</code> on a standard c++ compiler if there are no binary packages for your system (we at the Unauthorized Frog recommend using g++ for this, but feel free to use clang too, but ignore the warnings)) you will need to create a new project, and just copy paste this into the newly created <code>principal.fcpp</code> file. Then upon execution the <code>FrenChPP++</code> precompiler (which works very similarly to the way Qt handles its signals/slot mechanism) will parse all <code>.fcpp</code> files and will \"translate\" the <code>.fcpp</code> into valid <code>.cpp</code> and then compile them using your system default compiler.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22781183#22781183", "question_id": 22780466, "answer_id": 22781183}, {"body": "<p>Hello <em>L\u00e9g\u00e8ret\u00e9 fait la course en orbite</em>,</p>\n\n<p>I'd like to emphasize that even though you follow all the answers given here, your program still won't compile because of your punctuation. Semicolons are preceded by a non-breaking space in French.</p>\n\n<p>I would recommend the following:</p>\n\n<pre><code>#inclure &lt;esflux&gt;\n\nent principal(ent narg, cara** marg)  // entier, nombre d'arguments, valeur des arguments\n{\n   std::cendehors &lt;&lt; \"Bonjour le monde\u00a0!\\n\"\u00a0;\n   renvoyer SORTIE_SUCC\u00c8S\u00a0;\n}\n</code></pre>\n\n<p>Please notice I changed <code>argn</code> to <code>narg</code>, as it is more natural in French (nothing to do with hungarian notations though)!</p>\n\n<p>Edit: followed angew's recommendation</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22781414#22781414", "question_id": 22780466, "answer_id": 22781414}, {"body": "<ol>\n<li><p>You have a semantic error - the second argument of the entry function should be of type <code>cara**</code>, not <code>ent**</code>:</p>\n\n<pre><code>ent principal(ent argn, cara** argm)\n</code></pre></li>\n<li><p>For the <code>&lt;iostream&gt;</code> error, @MartinJ. already correctly pointed out you should be using <code>&lt;esflux&gt;</code> instead.</p></li>\n<li><p>Regarding the other errors, it seems your compiler is simply on strike. This can happen occasionally when compiling french code, and should fix itself in a few days.</p></li>\n</ol>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22781423#22781423", "question_id": 22780466, "answer_id": 22781423}, {"body": "<blockquote>\n  <p>I'm trying to compile this really <strong>basic program</strong>.</p>\n</blockquote>\n\n<p>This is not a BASIC program, so Visual Studio does not know what to do with it.</p>\n\n<p>In addition, on a French system, you need to pass a programme to the compiler.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22784280#22784280", "question_id": 22780466, "answer_id": 22784280}, {"body": "<p>Pretty much everything's been covered in the previous answers, but if I may add:</p>\n\n<pre><code>renvoyer SORTIE_SUCC\u00c8S ; // correct, but bad pratice\n</code></pre>\n\n<p>this is <em>certes</em> allowed, but the following is usually preferred:</p>\n\n<pre><code>capitulation ; // a better, frenchier approach\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22786932#22786932", "question_id": 22780466, "answer_id": 22786932}, {"body": "<p>You need to reference the french pre-processor :</p>\n\n<pre><code>#inclure &lt;Montebourg&gt;\n</code></pre>\n\n<p>hummm... too late, it is deprecated. The new release will be available this week.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22787442#22787442", "question_id": 22780466, "answer_id": 22787442}, {"body": "<p>I realize this doesn't apply to this particular situation, but it's important to keep in mind the gender of your objects when programming in French.  There are 2 types of classes (<code>genre</code>) <code>genre::masculins</code> and <code>genre::f\u00e9minin</code></p>\n\n<p>For instance:</p>\n\n<pre><code>genre::masculins Hommes {}\ngenre::f\u00e9minin Femme {}\n</code></pre>\n\n<p>Furthermore, when passing <code>this</code> to another function the function call is prefixed with the parameter list rather than suffixed:</p>\n\n<pre><code>genre::masculins Croissant {\n    nul nourrir(Hommes hommes) {\n        hommes.(ce)manger ;\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>genre::f\u00e9minin Grenouille {\n    nul nourrir(Hommes hommes) {\n        hommes.(cette)manger;\n    }\n}\n</code></pre>\n\n<p>For further reference: <a href=\"http://en.wikipedia.org/wiki/Word_order#Finding_the_basic_constituent_of_word_order_and_mode_of_transmission\" rel=\"nofollow\">Wikipedia Word Order</a></p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22788449#22788449", "question_id": 22780466, "answer_id": 22788449}, {"body": "<p>What if you retry after lunch hours (12-2 pm) ? Also, if you get more then one processors, they may be on strike. You can get your proc back however with this (French) Windows 7 command:</p>\n\n<pre><code>set max-working-hours-a-week = 35\n</code></pre>\n\n<p>Repeat when you're stuck (but don't forget to lower the number each time!).</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22789656#22789656", "question_id": 22780466, "answer_id": 22789656}, {"body": "<p>Firstly, you need to</p>\n\n<pre><code>#inclure &lt;clibstd&gt;\n</code></pre>\n\n<p>before you're able to use SORTIE_SUCC\u00c8S constant.</p>\n\n<p>Another problem with your C++ code is that you've forgotten to use std::lend and instead used '\\n' in your output string - it won't work in French code, obviously, only code written in English and Russian is allowed to do that.</p>\n\n<p>Even more, you used wrong indentation (GCC on French requires tabs instead of spaces) and brace placement (you need to place braces on the same line whenever possible, no spaces between them allowed); keeping them unchanged will generate \"vous ne connaissez pas votre tabulation, Jacques\" and \"pas assez d'amour entre accolades\" runtime errors in your code.</p>\n\n<p>After I changed those lines, the code successfully compiled. It still hasn't run, probably for the reasons specified <a href=\"http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22789656#22789656\">here</a>.</p>\n\n<p>Snippet: <a href=\"http://ideone.fr/sQbL6E\" rel=\"nofollow\">http://ideone.fr/sQbL6E</a></p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22791620#22791620", "question_id": 22780466, "answer_id": 22791620}, {"body": "<p>There are so many errors in your code, most of them have already been adressed in the other answers. But don't you know that the creators of <code>C++</code> designed it so that program source code doesn't get obverly long when translated?</p>\n\n<p>It's not <code>std::cendehors</code>, but <code>std::deh</code> (short for <em>dehors</em>) as <code>std::cin</code> translates to <code>std::ded</code> (for <em>dedans</em>). </p>\n\n<p>Also note there used to be compilers that didn't automatically flush on <code>\\n</code>, so it's better to use <code>std::findl</code> (<em>fin de ligne</em>). So it should be like this:</p>\n\n<pre><code>   std::deh &lt;&lt; \"Bonjour le monde!\" &lt;&lt; std::findl; \n</code></pre>\n\n<p>EDIT: Sorry, I didn't spot another mistake. The correct form of course is using guillemets like this:</p>\n\n<pre><code>   std::deh &lt;&lt; \u00abBonjour le monde!\u00bb &lt;&lt; std::findl; \n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22792571#22792571", "question_id": 22780466, "answer_id": 22792571}, {"body": "<p><a href=\"http://meta.stackexchange.com/questions/19478/the-many-memes-of-meta/221414#221414\">Many problems are due to caching</a>, but yours is one of <a href=\"http://skeptics.stackexchange.com/questions/19836/has-phil-karlton-ever-said-there-are-only-two-hard-things-in-computer-science\">the other kind of hard problems</a>: naming things. Yes, localization is hard.</p>\n\n<p>You didn't mention which variant of French you're using, but from the error message, I think you're using \u201cFrench (France)\u201d (what we users of civilized OSes call <code>fr_FR</code>). MS's <code>fr_FR</code> locale behaves in a very weird way: uppercase accented letters are mapped to their unaccented counterpart (for backward compatibility with some typewriter models). So you need to write <code>SORTIE_SUCCES</code> instead of <code>SORTIE_SUCC\u00c8S</code>.</p>\n\n<p><a href=\"http://superuser.com/questions/589760/preserving-accented-letters-in-small-caps-in-french-in-word/589761#589761\">A workaround is to use the \u201cFrench (Monaco)\u201d (<code>fr_MC</code>) language</a>, where uppercase accented letters work as expected. Unfortunately, the Monaco version of the compiler is very very expensive. You could also use the Canadian French, Belgian French or Swiss French version, but these all require that you submit a bilingual (<code>fr_CA</code> + <code>en_CA</code>), trilingual (<code>fr_BE</code> +  <code>nl_BE</code> + <code>de_BE</code>) or quadrilingual (<code>fr_CH</code> + <code>it_CH</code> + <code>de_CH</code> + <code>rm_CH</code>) source file. African variants of French are out because they are too poor to afford a C++ compiler, however you could use C instead.</p>\n\n<p>Then there are other syntax errors in your program:</p>\n\n<ul>\n<li>You forgot to translate some keywords.</li>\n<li>Beware that the compiler and the documentation don't always use the same translation for the same word.</li>\n<li>You didn't account for the fact that adjectives come after the noun in French.</li>\n<li>You're using the wrong type of quotes.</li>\n</ul>\n\n<p>I wollun tried the following code in the C++ compiler included in \u00c9maxe 51,70, and it wollun worked:</p>\n\n<pre><code>#inclure &lt;fluxes&gt;\n\nprincipal ent(argn ent, argm **ent)  // entier, nombre d'arguments, valeur des arguments\n{\n   norme::sortiec &lt;&lt; \u00ab\u00a0Bonjour \u00e0 tout le monde\u00a0!\\n\u00a0\u00bb\u00a0;\n   retourner SORTIE_SUCC\u00c8S\u00a0;\n}\n</code></pre>\n\n<p>Some languages have better internationalization support than C++. For example, here's a program in <a href=\"http://fr.wikipedia.org/wiki/Logo_%28langage%29\" rel=\"nofollow\">LOGO</a> (not to be confused with <a href=\"http://en.wikipedia.org/wiki/Logo_%28programming_language%29\" rel=\"nofollow\">LOGO</a> of course).</p>\n\n<pre><code>pour exemple\n  r\u00e9p\u00e8te 18 [av 5 td 10]\n  td 60\n  r\u00e9p\u00e8te 18 [av 5 td 10]\nfin\n</code></pre>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22793957#22793957", "question_id": 22780466, "answer_id": 22793957}, {"body": "<p>Since Mr. George Bush banned French Fries in favour of the tastier Liberty Fries (and the less-tasty but equally patriotic Freedom Fries), other American corporations are also removing support for French in their products.</p>\n\n<p>You need to use a pre-2003 compiler, or send a mail to <a href=\"http://www.whitehouse.gov/contact/submit-questions-and-comments\" rel=\"nofollow\">http://www.whitehouse.gov/contact/submit-questions-and-comments</a> to ask if they plan to revert the situation soon.</p>\n", "title": "Why can&#39;t my program compile under Windows 7 in French?", "tags": ["c++", "visual-studio-2013", "french"], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french/22797763#22797763", "question_id": 22780466, "answer_id": 22797763}], "link": "http://stackoverflow.com/questions/22780466/why-cant-my-program-compile-under-windows-7-in-french", "question_id": 22780466}, {"body": "<p>Have project created by maven integration in eclipse. All work fine, but in work space in all jsp files have this:</p>\n\n<pre><code>The superclass \"javax.servlet.http.HttpServlet\" was not found on the Java Build Path\n</code></pre>\n\n<p>to first string where place:</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%&gt;\n</code></pre>\n\n<p>When create basic dynamic web project and JSP in - all fine, no errors.</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "answers": [{"body": "<p>Include <code>servlet-api-3.1.jar</code> in your dependencies.</p>\n\n<ul>\n<li><p><strong>Maven</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n<li><p><strong>Gradle</strong></p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>configurations {\n    provided\n}\nsourceSets {\n    main { compileClasspath += configurations.provided }\n}\ndependencies {\n    provided 'javax.servlet:javax.servlet-api:3.1.0'\n}\n</code></pre></li>\n</ul>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/22756202#22756202", "question_id": 22756153, "answer_id": 22756202}, {"body": "<p>Select Project->Properties->Project Facets->Target Runtimes->VmWare Server\nWrked for me.</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/24102549#24102549", "question_id": 22756153, "answer_id": 24102549}, {"body": "<p>Project->Properties->Target Runtimes->Apache Tomcat</p>\n\n<p>worked for me.   There is no Target Runtimes under Facets.  (I'm on Juno.)</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/25064342#25064342", "question_id": 22756153, "answer_id": 25064342}, {"body": "<p>As this is unanswered, I am guessing something other than Maven dependencies are wrong with the ops build.</p>\n\n<p>While not using Maven, I have the same problem from time to time when re-creating my development environment from svn, and I always forget why and have to figure it out. Unfortunately it seems this is a problem with Eclipse. </p>\n\n<p>I am able to remove all such errors from once working projects by picking just one of the dynamic web projects, or just tomcat dependent projects, and move a dependency in the build order. This seems to force all projects to rebuild properly and all of the errors are then resolved.</p>\n\n<p>Right click on a web project, select \"build Path\" -> \"Configure Build Path\".\nGo to the tab \"Order and Export\", then pick a library or jar entry and move it up or down. I used the JRE System Library and moved it to the top.</p>\n\n<p>Click OK, and all that red goes away!</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/25065054#25065054", "question_id": 22756153, "answer_id": 25065054}, {"body": "<p>If you are not using Maven, just drop the javax.servlet-api.jar in your project lib folder.</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/25108272#25108272", "question_id": 22756153, "answer_id": 25108272}, {"body": "<p>Add a runtime first and select project properties then check server name from 'Runtimes' tab as shown in image.</p>\n\n<p><img src=\"http://i.stack.imgur.com/U46s9.png\" alt=\"Select runtime from Project Facets as shown in image\"></p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/25266076#25266076", "question_id": 22756153, "answer_id": 25266076}, {"body": "<p><strong>Include servlet-api.jar from your server lib folder.</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/3KBnz.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Do this step</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/TA1v4.png\" alt=\"enter image description here\"></p>\n\n<p><strong>What is it?</strong></p>\n\n<p>The servlet-api jar is a library which contains the interfaces and classes of the Servlet API specification. The servlet-api jar contains only the interface (the API) of the Servlet Specification, so you can use it to develop your web application.</p>\n\n<p><strong>Where can you get it?</strong></p>\n\n<p>It is provided at the link below:</p>\n\n<p><a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/\" rel=\"nofollow\">http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/</a></p>\n\n<p><strong>Where it is contained/bundled</strong></p>\n\n<p>Servlet-api.jar is part of the Java EE download so you can develop your web applications (you could not compile your <code>FirstServlet</code> class if the Java EE would not contain it).</p>\n\n<p>Servlet containers (like Tomcat, JBoss, GlassFish etc.) also contain the servlet-api.jar else they would not be able to run your web application, and moreover they also contain the implementation of the interfaces that are part of the Servlet API.</p>\n\n<p>The name is not always the same though, and it might not even exist as a separate jar, the Servlet API classes might be bundled in another jar.</p>\n\n<p>You can however download a separate jar file containing only the Servlet API if you just want to develop a web application for a Servlet container, or if you want to create/write your own Servlet API implementation. Look at here:</p>\n\n<p><a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/\" rel=\"nofollow\">http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/</a></p>\n\n<p><strong>Portability</strong></p>\n\n<p>You can compile your web application if you have the Servlet API, no matter where it comes from. After you compiled your web app, you can optionally pack it into a WAR file (WAR=Web ARchive) which is simply a zip file containing your static files, your compiled java classes and configuration files like <code>web.xml</code> etc. And you will be able to run your compiled web application in any Servlet containers.</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/25904823#25904823", "question_id": 22756153, "answer_id": 25904823}, {"body": "<p>Project->Properties->Target Runtimes->Apache Tomcat</p>\n\n<p>worked for me. There is no Target Runtimes under Facets. (I'm on Luna.)</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/26122621#26122621", "question_id": 22756153, "answer_id": 26122621}, {"body": "<p>Just add this dependencies to your pom.xml:</p>\n\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n   &lt;version&gt;2.2.1&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/28683062#28683062", "question_id": 22756153, "answer_id": 28683062}, {"body": "<p>Adding the tomcat server in the server runtime will do the job :</p>\n\n<p>Project Properties-> Java Build Path-> Add Library -> Select \"Server Runtime\" from the list-> Next->Select \"Apache Tomcat\"-> Finish</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/28735245#28735245", "question_id": 22756153, "answer_id": 28735245}, {"body": "<p><strong>in case of jboss......</strong>\nright click on project-->build java path-->add external jars . then browse to...\njboss-folder-->common-->lib-->servlet-api.jar </p>\n\n<p>.\n.\nclick ok , refresh project &amp; run it .....</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/29053564#29053564", "question_id": 22756153, "answer_id": 29053564}, {"body": "<p><strong>Adding the tomcat server in the server runtime will do the job :</strong></p>\n\n<pre><code>Project Properties-&gt; Target Runtimes-&gt;  Select your Server from the list  \"JBoss Runtime \"-&gt; Finish\n</code></pre>\n\n<blockquote>\n  <p>in case of Apache you can select Apache Runtime.</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/9yBnq.png\" alt=\"enter image description here\"></p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/30161602#30161602", "question_id": 22756153, "answer_id": 30161602}, {"body": "<p>and if nothing works by whatever reason build it from command line - </p>\n\n<p>ant -Dj2ee.server.home=D:\\apache-tomcat-8.0.23 clean</p>\n\n<p>ant -Dj2ee.server.home=D:\\apache-tomcat-8.0.23 compile</p>\n\n<p>ant -Dj2ee.server.home=D:\\apache-tomcat-8.0.23 dist</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/30592708#30592708", "question_id": 22756153, "answer_id": 30592708}, {"body": "<p>These steps can really help you:</p>\n\n<p>1- If you didn't install any server you have to do these step:</p>\n\n<pre><code>Window &gt; Preferences &gt; Expend Server &gt; Runtime environment &gt; \nAdd &gt; choose a name than choose apache server path that you already installed on your pc. \n(you can press download and install too )  &gt; Finish &gt; OK\n</code></pre>\n\n<p>Ref#   <a href=\"http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jst.server.ui.doc.user%2Ftopics%2Ftwtomprf.html\" rel=\"nofollow\">for more info click here</a></p>\n\n<p>2- Add the tomcat server:</p>\n\n<pre><code>Project Properties-&gt; Java Build Path-&gt; Add Library -&gt; Select \"Server Runtime\" from the list-&gt; Next-&gt;Select \"Apache Tomcat\"-&gt; Finish\n</code></pre>\n\n<p>Ref#  <a href=\"http://stackoverflow.com/questions/26936848/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build?answertab=active#tab-top\">This answer</a></p>\n\n<p>I hope I could help you :))</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/31876250#31876250", "question_id": 22756153, "answer_id": 31876250}, {"body": "<p><strong>For Ant Project</strong> :</p>\n\n<p>Make sure, you have servlet-api.jar in lib folder.</p>\n\n<p><strong>For Maven Project :</strong></p>\n\n<p>Make sure, you have dependency added in POM.xml</p>\n\n<p>\n  javax.servlet\n  javax.servlet-api\n  3.1.0\n  provided\n</p>\n\n<p><strong>Other way to do is</strong>: Update the project facets to pick up the right server.</p>\n\n<p>Check this box in this location:-\nProject->Properties->Target Runtimes->Apache Tomcat (Any server)</p>\n", "title": "The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path", "tags": ["java", "eclipse", "jsp", "maven", "web"], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build/33632479#33632479", "question_id": 22756153, "answer_id": 33632479}], "link": "http://stackoverflow.com/questions/22756153/the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build", "question_id": 22756153}, {"body": "<p>I want to work with promises but I have a callback API in a format like:</p>\n\n<h3>1. DOM load or other one time event:</h3>\n\n<pre><code>window.onload; // set to callback\n...\nwindow.onload = function(){\n\n};\n</code></pre>\n\n<h3>2. Plain callback:</h3>\n\n<pre><code>function request(onChangeHandler){\n...\nrequest(function(){\n    // change happened\n});\n</code></pre>\n\n<h3>3. Node style callback (\"nodeback\"):</h3>\n\n<pre><code>function getStuff(dat,callback){\n...\ngetStuff(\"dataParam\",function(err,data){\n\n}\n</code></pre>\n\n<h3>4. A whole library with node style callbacks:</h3>\n\n<pre><code>API;\nAPI.one(function(err,data){\n    API.two(function(err,data2){\n        API.three(function(err,data3){\n\n        })\n    });\n});\n</code></pre>\n\n<h3>How do I work with the API in promises, how do I \"promisify\" it?</h3>\n", "title": "How do I convert an existing callback API to promises?", "tags": ["javascript", "node.js", "callback", "promise", "bluebird"], "answers": [{"body": "<p>Promises have state, they start as pending and can settle to:</p>\n\n<ul>\n<li><strong>fulfilled</strong> meaning that the computation completed successfully.</li>\n<li><strong>rejected</strong> meaning that the computation failed.</li>\n</ul>\n\n<p>Promise returning functions <em>should never throw</em>, they should return rejections instead. Throwing from a promise returning function will force you to use both a <code>} catch {</code> <em>and</em> a <code>.catch</code>. People using promisified APIs do not expect promises to throw. If you're not sure how async APIs work in JS - please <a href=\"http://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-asynchronous-call/16825593#16825593\">see this answer</a> first.</p>\n\n<h3>1. DOM load or other one time event:</h3>\n\n<p>So, creating promises generally means specifying when they settle - that means when they move to the fulfilled or rejected phase to indicate the data is available (and can be accessed with <code>.then</code>).</p>\n\n<p>With modern promise implementations that support the <code>Promise</code> constructor like native ES6 promises:</p>\n\n<pre><code>function load(){\n    return new Promise(function(resolve,reject){\n         window.onload = resolve;\n    });\n}\n</code></pre>\n\n<p>With libraries that support deferred (Let's use $q for this example here, but we'll also use jQuery later):</p>\n\n<pre><code>function load(){\n    var d = $q.defer();\n    window.onload = function(){ d.resolve(); };\n    return d.promise;\n}\n</code></pre>\n\n<p>Or with a jQuery like API, hooking on an event happening once:</p>\n\n<pre><code>function done(){\n    var d = $.Deferred();\n    $(\"#myObject\").once(\"click\",function(){\n         d.resolve();\n    });\n    return d.promise();\n}\n</code></pre>\n\n<h3>2. Plain callback:</h3>\n\n<p>These APIs are rather common since well... callbacks are common in JS. Let's look at the common case of having <code>onSuccess</code> and <code>onFail</code>:</p>\n\n<pre><code> function getUserData(userId, onLoad, onFail){ ...\n</code></pre>\n\n<p>With modern promise implementations that support the <code>Promise</code> constructor like native ES6 promises:</p>\n\n<pre><code>function getUserDataAsync(userId){\n    return new Promise(function(resolve,reject){\n         getUserData(userId,resolve,reject);\n    });\n}\n</code></pre>\n\n<p>With libraries that support deferred (Let's use jQuery for this example here, but we've also used $q above):</p>\n\n<pre><code>function getUserDataAsync(userId){\n    var d = $.Deferred();\n    getUserData(userId,function(res){ d.resolve(res); } ,function(err){ d.reject(err); });\n    return d.promise();\n}\n</code></pre>\n\n<p>jQuery also offers a <code>$.Deferred(fn)</code> form, which has the advantage of allowing us to write an expression that emulates very closely the <code>new Promise(fn)</code> form, as follows:</p>\n\n<pre><code>function getUserDataAsync(userId) {\n    return $.Deferred(function(dfrd) {\n        getUserData(userId, dfrd.resolve, dfrd.reject);\n    }).promise();\n}\n</code></pre>\n\n<p>Note: Here we exploit the fact that a jQuery deferred's <code>resolve</code> and <code>reject</code> methods are \"detachable\"; ie. they are bound to the <em>instance</em> of a jQuery.Deferred(). Not all libs offer this feature.</p>\n\n<h3>3. Node style callback (\"nodeback\"):</h3>\n\n<p>Node style callbacks (nodebacks) have a particular format where the callbacks is always the last argument and its first parameter is an error. Let's first promisify one manually:</p>\n\n<pre><code>getStuff(\"dataParam\",function(err,data){\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>function getStuffAsync(param){\n    return new Promise(function(resolve,reject){\n         getStuff(param,function(err,data){\n             if(err !== null) return reject(err);\n             resolve(data);\n         });\n    });\n}\n</code></pre>\n\n<p>With deferreds you can do the following (let's use Q for this example, although Q now supports the new syntax which you should prefer): </p>\n\n<pre><code>function getStuffAsync(param){\n    var d = Q.defer();\n    getStuff(param,function(err,data){\n         if(err !== null) return d.reject(err); // `throw err` also works here.\n             d.resolve(data);\n    });\n    return d.promise;   \n}\n</code></pre>\n\n<p>In general, you should not promisify things manually too much, most promise libraries that were designed with Node in mind have a built in method for promisifying nodebacks. For example</p>\n\n<pre><code>var getStuffAsync = Promise.promisify(getStuff); // Bluebird\nvar getStuffAsync = Q.denodeify(getStuff); // Q\n</code></pre>\n\n<h3>4. A whole library with node style callbacks:</h3>\n\n<p>There is no golden rule here, you promisify them one by one. However, some promise implementations allow you to do this in bulk, for example in Bluebird, converting a nodeback API to a promise API is as simple as:</p>\n\n<pre><code>Promise.promisifyAll(API);\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>Of course, when you are in a <code>.then</code> handler you do not need to promisify things. Returning a promise from a <code>.then</code> handler will resolve or reject with that promise's value. Throwing from a <code>.then</code> handler is also good practice and will reject the promise - this is the famous promise throw safety. </li>\n<li>In an actual <code>onload</code> case, you should use <code>addEventListener</code> rather than <code>onX</code>.</li>\n</ul>\n", "title": "How do I convert an existing callback API to promises?", "tags": ["javascript", "node.js", "callback", "promise", "bluebird"], "link": "http://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises/22519785#22519785", "question_id": 22519784, "answer_id": 22519785}, {"body": "<p>I don't think the <code>window.onload</code> suggestion by @Benjamin will work all the time, as it doesn't detect whether it is called after the load. I have been bitten by that many times. Here is a version which should always work:</p>\n\n<pre><code>function promiseDOMready() {\n    return new Promise(function(resolve) {\n        if (document.readyState === \"complete\") return resolve();\n        document.addEventListener(\"DOMContentLoaded\", resolve);\n    });\n}\npromiseDOMready().then(initOnLoad);\n</code></pre>\n", "title": "How do I convert an existing callback API to promises?", "tags": ["javascript", "node.js", "callback", "promise", "bluebird"], "link": "http://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises/27935772#27935772", "question_id": 22519784, "answer_id": 27935772}, {"body": "<p>The Q library by kriskowal includes callback-to-promise functions.\nA method like this:</p>\n\n<pre><code>obj.prototype.dosomething(params, cb) {\n  ...blah blah...\n  cb(error, results);\n}\n</code></pre>\n\n<p>can be converted with Q.ninvoke</p>\n\n<pre><code>Q.ninvoke(obj,\"dosomething\",params).\nthen(function(results) {\n});\n</code></pre>\n", "title": "How do I convert an existing callback API to promises?", "tags": ["javascript", "node.js", "callback", "promise", "bluebird"], "link": "http://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises/29498640#29498640", "question_id": 22519784, "answer_id": 29498640}, {"body": "<p>You can use JavaScript native promises with Node JS.</p>\n\n<p>My Cloud 9 code link: <a href=\"https://ide.c9.io/adx2803/native-promises-in-node\" rel=\"nofollow\">https://ide.c9.io/adx2803/native-promises-in-node</a></p>\n\n<pre><code>/**\n* Created by dixit-lab on 20/6/16.\n*/\n\nvar express = require('express');\nvar request = require('request');   //Simplified HTTP request client.\n\n\nvar app = express();\n\nfunction promisify(url) {\n    return new Promise(function (resolve, reject) {\n        request.get(url, function (error, response, body) {\n            if (!error &amp;&amp; response.statusCode == 200) {\n                resolve(body);\n            }\n            else {\n                reject(error);\n            }\n        })\n    });\n}\n\n//get all the albums of a user who have posted post 100\napp.get('/listAlbums', function (req, res) {\n    //get the post with post id 100\n    promisify('http://jsonplaceholder.typicode.com/posts/100').then(function (result) {\n        var obj = JSON.parse(result);\n        return promisify('http://jsonplaceholder.typicode.com/users/' + obj.userId + '/albums')\n    })\n    .catch(function (e) {\n        console.log(e);\n    })\n    .then(function (result) {\n        res.end(result);\n    })\n})\n\nvar server = app.listen(8081, function () {\n    var host = server.address().address\n    var port = server.address().port\n\n    console.log(\"Example app listening at http://%s:%s\", host, port)\n})\n\n//run webservice on browser : http://localhost:8081/listAlbums\n</code></pre>\n", "title": "How do I convert an existing callback API to promises?", "tags": ["javascript", "node.js", "callback", "promise", "bluebird"], "link": "http://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises/37924049#37924049", "question_id": 22519784, "answer_id": 37924049}, {"body": "<p>When you have a few functions that take a callback and you want them to return a promise instead you can use this function to do the conversion.</p>\n\n<pre><code>function callbackToPromise(func){\n\n    return function(){\n\n        // change this to use what ever promise lib you are using\n        // In this case i'm using angular $q that I exposed on a util module\n\n        var defered = util.$q.defer();\n\n        var cb = (val) =&gt; {\n            defered.resolve(val);\n        }\n\n        var args = Array.prototype.slice.call(arguments);\n        args.push(cb);    \n        func.apply(this, args);\n\n        return defered.promise;\n    }\n}\n</code></pre>\n", "title": "How do I convert an existing callback API to promises?", "tags": ["javascript", "node.js", "callback", "promise", "bluebird"], "link": "http://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises/38755811#38755811", "question_id": 22519784, "answer_id": 38755811}], "link": "http://stackoverflow.com/questions/22519784/how-do-i-convert-an-existing-callback-api-to-promises", "question_id": 22519784}, {"body": "<p>Why isn't <code>ProjectName-Prefix.pch</code> created automatically in <code>Xcode 6</code> ?</p>\n\n<p>Is the precompile header no longer needed ?</p>\n\n<p>Where should I write the code that was in <code>ProjectName-Prefix.pch</code> before ?</p>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "answers": [{"body": "<p>I suspect because of modules, which remove the need for the <code>#import &lt;Cocoa/Cocoa.h&gt;</code>.</p>\n\n<p>As to where to put code that you would put in a prefix header, there is no code you should put in a prefix header. Put your imports into the files that need them. Put your definitions into their own files. Put your macros...nowhere. Stop writing macros unless there is no other way (such as when you need <code>__FILE__</code>). If you do need macros, put them in a header and include it.</p>\n\n<p>The prefix header was necessary for things that are huge and used by nearly everything in the whole system (like <code>Foundation.h</code>). If you have something that huge and ubiquitous, you should rethink your architecture. Prefix headers make code reuse hard, and introduce subtle build problems if any of the files listed can change. Avoid them until you have a serious build time problem that you can demonstrate is dramatically improved with a prefix header.</p>\n\n<p>In that case you can create one and pass it into clang, but it's incredibly rare that it's a good idea.</p>\n\n<hr>\n\n<p>EDIT: To your specific question about a HUD you use in all your view controllers, yes, you should absolutely import it into every view controller that actually uses it. This makes the dependencies clear. When you reuse your view controller in a new project (which is common if you build your controllers well), you will immediately know what it requires. This is <em>especially</em> important for categories, which can make code very hard to reuse if they're implicit.</p>\n\n<p>The PCH file isn't there to get rid of listing dependencies. You should still import <code>UIKit.h</code> or <code>Foundation.h</code> as needed, as the Xcode templates do. The reason for the PCH is to improve build times when dealing with really massive headers (like in UIKit).</p>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/24194968#24194968", "question_id": 24158648, "answer_id": 24194968}, {"body": "<p>Without the question if it is proper or not, you can add PCH file manually:</p>\n\n<ol>\n<li><p>Add new PCH file to the project: <em>New file > Other > PCH file</em>.</p></li>\n<li><p>At the Target's <em>Build Settings</em> option, set the value of <em>Prefix Header</em> to your PCH file name, with the project name as prefix (i.e. for project named <code>TestProject</code> and PCH file named <code>MyPrefixHeaderFile</code>, add the value <code>TestProject/MyPrefixHeaderFile.pch</code> to the plist).</p>\n\n<p><em>TIP:</em> You can use things like <code>$(SRCROOT)</code> or <code>$(PROJECT_DIR)</code> to get to the path of where you put the <code>.pch</code> in the project.</p></li>\n<li><p>At the Target's <em>Build Settings</em> option, set the value of <em>Precompile Prefix Header</em> to <code>YES</code>.</p></li>\n</ol>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/24258165#24258165", "question_id": 24158648, "answer_id": 24258165}, {"body": "<p>You need to create own PCH file<br>\nAdd <code>New file -&gt; Other-&gt; PCH file</code></p>\n\n<p>Then add the path of this PCH file to your build <code>setting-&gt;prefix header-&gt;path</code> </p>\n\n<blockquote>\n  <p>($(SRCROOT)/filename.pch)</p>\n</blockquote>\n\n<p><img src=\"http://i.stack.imgur.com/BCpEf.png\" alt=\"enter image description here\"></p>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/24524692#24524692", "question_id": 24158648, "answer_id": 24524692}, {"body": "<p>For add new PCH file follow bellow steps :                                                   </p>\n\n<p>(1) Add New fiew - Select iOS - Other and PCH File</p>\n\n<p>(2) add path of this PCH file to your Project - BuildSetting - Apple LLVM 6.0 Language  </p>\n\n<p>Add Set Prefix Header Path YourApplicationName(root-path)/filename.pch</p>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/26095060#26095060", "question_id": 24158648, "answer_id": 26095060}, {"body": "<p>To add .pch file-</p>\n\n<p>1) Add new .pch file to your project->New file->other->PCH file</p>\n\n<p>2) Goto your project's build setting.</p>\n\n<p>3) Search \"prefix header\". You can find that under Apple LLVM.</p>\n\n<p>4) Paste this in the field <code>$(SRCROOT)/yourPrefixHeaderFileName.pch</code></p>\n\n<p>5) Clean and build the project.\nThat's it!!!</p>\n\n<p><img src=\"http://i.stack.imgur.com/IvGLV.png\" alt=\"enter image description here\"></p>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/26913473#26913473", "question_id": 24158648, "answer_id": 26913473}, {"body": "<p>If you decide to add a .pch file manually and you want to use Objective-C just like before xCode 6 you will also have to import UIKit and Foundation frameworks in the .pch file. Otherwise you will have to import these frameworks manually in each header file. You can add the following code anyway as it tests for the language used:</p>\n\n<pre><code>#ifdef __OBJC__\n    #import &lt;UIKit/UIKit.h&gt;\n    #import &lt;Foundation/Foundation.h&gt;\n#endif\n</code></pre>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/27400569#27400569", "question_id": 24158648, "answer_id": 27400569}, {"body": "<p>I'll show you with a pic!</p>\n\n<ol>\n<li><p>Add a new File\n<img src=\"http://i.stack.imgur.com/3M5yG.png\" alt=\"Add a new File\"></p></li>\n<li><p>Go to <strong>Project/Build Setting/APPl LLVM 6.0-Language</strong>\n<img src=\"http://i.stack.imgur.com/9H4wM.png\" alt=\"Add a new File\"></p></li>\n</ol>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/27775282#27775282", "question_id": 24158648, "answer_id": 27775282}, {"body": "<p>Use : </p>\n\n<blockquote>\n  <p>$(PROJECT_DIR)/Project name/PrefixHeader.pch</p>\n</blockquote>\n", "title": "Why isn&#39;t ProjectName-Prefix.pch created automatically in Xcode 6?", "tags": ["ios", "xcode", "xcode6"], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6/28310018#28310018", "question_id": 24158648, "answer_id": 28310018}], "link": "http://stackoverflow.com/questions/24158648/why-isnt-projectname-prefix-pch-created-automatically-in-xcode-6", "question_id": 24158648}, {"body": "<p>I have an acute problem on my website.\nIn Google Chrome some customers are not able to proceed to my payment page.\nWhen trying to submit a form I get this error:</p>\n\n<pre><code>An invalid form control with name='' is not focusable.\n</code></pre>\n\n<p>This is from the JavaScript console.</p>\n\n<p>I read that the problem could be due to hidden fields having the required attribute.\nNow the problem is that we are using .net webforms required field validators, and not the html5 required attribute.</p>\n\n<p>It seems random who gets this error.\nIs there anyone who knows a solution for this?</p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "answers": [{"body": "<p>Adding a <code>novalidate</code> attribute to the form will help:</p>\n\n<pre><code>&lt;form name=\"myform\" novalidate&gt;\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/22148483#22148483", "question_id": 22148080, "answer_id": 22148483}, {"body": "<p>In case anyone else has this issue, I experienced the same thing. As discussed in the comments, it was due to the browser attempting to validate hidden fields. It was finding empty fields in the form and trying to focus on them, but because they were set to <code>display:none;</code>, it couldn't. Hence the error.</p>\n\n<p>I was able to solve it by using something similar to this:</p>\n\n<pre><code>$(\"body\").on(\"submit\", \".myForm\", function(evt) {\n\n    // Disable things that we don't want to validate.\n    $([\"input:hidden, textarea:hidden, select:hidden\"]).attr(\"disabled\", true);\n\n    // If HTML5 Validation is available let it run. Otherwise prevent default.\n    if (this.el.checkValidity &amp;&amp; !this.el.checkValidity()) {\n        // Re-enable things that we previously disabled.\n        $([\"input:hidden, textarea:hidden, select:hidden\"]).attr(\"disabled\", false);\n        return true;\n    }\n    evt.preventDefault();\n\n    // Re-enable things that we previously disabled.\n    $([\"input:hidden, textarea:hidden, select:hidden\"]).attr(\"disabled\", false);\n\n    // Whatever other form processing stuff goes here.\n});\n</code></pre>\n\n<p>Also, this is possibly a duplicate of <a href=\"http://stackoverflow.com/questions/7168645/invalid-form-control-only-in-google-chrome\">&quot;Invalid form control&quot; only in Google Chrome</a></p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/22753533#22753533", "question_id": 22148080, "answer_id": 22753533}, {"body": "<p>In your form, You might have hidden input having required attribute.</p>\n\n<pre><code>&lt;input type=\"hidden\" required /&gt;\n</code></pre>\n\n<p>Hence form can't focus on that element, you have to remove <code>required</code> from all hidden inputs. </p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/23215333#23215333", "question_id": 22148080, "answer_id": 23215333}, {"body": "<p>It will show that message if you have code like this:</p>\n\n<pre><code>&lt;form&gt;\n  &lt;div style=\"display: none;\"&gt;\n    &lt;input name=\"test\" type=\"text\" required/&gt;\n  &lt;/div&gt;\n\n  &lt;input type=\"submit\"/&gt;\n&lt;/form&gt;\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/26080436#26080436", "question_id": 22148080, "answer_id": 26080436}, {"body": "<p>You may try <code>.removeAttribute(\"required\")</code> for those elements which are hidden at the time of window load. as it is quite probable that the element in question is marked hidden due to javascript (tabbed forms)</p>\n\n<p>e.g.</p>\n\n<pre><code>if(document.getElementById('hidden_field_choice_selector_parent_element'.value==true){\n    document.getElementById('hidden_field').removeAttribute(\"required\");        \n}\n</code></pre>\n\n<p>This should do the task. </p>\n\n<p>It worked for me... cheers </p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/27044791#27044791", "question_id": 22148080, "answer_id": 27044791}, {"body": "<p>Alternatively another and foolproof answer is to use HTML5 Placeholder attribute then there will be no need to use any js validations. </p>\n\n<pre><code>&lt;input id=\"elemID\" name=\"elemName\" placeholder=\"Some Placeholder Text\" type=\"hidden\" required=\"required\"&gt;\n</code></pre>\n\n<p>Chrome will not be able to find any empty, hidden and required elements to focus on. Simple Solution. </p>\n\n<p>Hope that helps. I am totally sorted with this solution. </p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/27151124#27151124", "question_id": 22148080, "answer_id": 27151124}, {"body": "<p>It's not enough to state</p>\n\n<blockquote>\n  <p>Adding a novalidate attribute to the form will help</p>\n</blockquote>\n\n<p>It does not explain the problem, and the OP may not have understood why it would help, or if it really is helpful.</p>\n\n<p><a href=\"http://stackoverflow.com/a/7264966/1356062\">Here</a>'s an answer that truly explains the case, understanding the problem should enable you to arrive at a solution that is suitable for your development:</p>\n\n<blockquote>\n  <p>Chrome wants to focus on a control that is required but still empty so that it can pop up the message 'Please fill out this field'. However, if the control is hidden at the point that Chrome wants to pop up the message, that is at the time of form submission, Chrome can't focus on the control because it is hidden, therefore the form won't submit.</p>\n  \n  <p>So, to get around the problem, when a control is hidden by javascript, we also must remove the 'required' attribute from that control.</p>\n</blockquote>\n\n<p>To put the warning into good use, consider this - <strong>don't hide a field when it fails validation</strong>. But that is not a strict rule, nor is it a rule at all. As I mentioned in my comment below, I paraphrase</p>\n\n<blockquote>\n  <p>In some cases, the issue is not a problem at all and does not cause loss of functionality in an application. Then the error maybe ignored.</p>\n</blockquote>\n\n<h2>UPDATE: August 21, 2015</h2>\n\n<p>The error in question may also arise due to a premature validation. Premature validation can occur when you have a <code>&lt;button&gt;</code> input without a set <strong><em>type</em></strong> attribute. Without the type attribute of a button being set to button, Chrome (or any other browser for that matter) performs a validation each time the button is clicked because <strong><em>submit</em></strong> is the default type of buttons. To solve the problem, if you have a button on your page that does something else other than <strong><em>submit</em></strong> or <strong><em>reset</em></strong>, always remember to do this: <code>&lt;button type=\"button\"&gt;</code></p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/28340579#28340579", "question_id": 22148080, "answer_id": 28340579}, {"body": "<p>I came here with the same problem. For me (injecting hidden elements as needed - i.e. education in a job app) had the required flags.</p>\n\n<p>What I realized was that the validator was firing on the injected faster than the document was ready, thus it complained. </p>\n\n<p>My original ng-required tag was using the visibility tag (vm.flags.hasHighSchool). </p>\n\n<p>I resolved by creating a dedicated flag to set required\nng-required=\"vm.flags.highSchoolRequired == true\"</p>\n\n<p>I added a 10ms callback on setting that flag and the problem was solved.</p>\n\n<pre><code> vm.hasHighSchool = function (attended) {\n\n        vm.flags.hasHighSchool = attended;\n        applicationSvc.hasHighSchool(attended, vm.application);\n        setTimeout(function () {\n            vm.flags.highSchoolRequired = true;;\n        }, 10);\n    }\n</code></pre>\n\n<p>Html:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"vm.application.highSchool.name\" data-ng-model=\"vm.application.highSchool.name\" class=\"form-control\" placeholder=\"Name *\" ng-required=\"vm.flags.highSchoolRequired == true\" /&gt;&lt;/div&gt;\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/28930456#28930456", "question_id": 22148080, "answer_id": 28930456}, {"body": "<p>Make sure that all of the controls in your form with the required attribute also have the name attribute set</p>\n\n<p></p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/30055263#30055263", "question_id": 22148080, "answer_id": 30055263}, {"body": "<p>For me this happens, when there's a <code>&lt;select&gt;</code> field with pre-selected option with value of '':</p>\n\n<pre><code>&lt;select name=\"foo\" required=\"required\"&gt;\n    &lt;option value=\"\" selected=\"selected\"&gt;Select something&lt;/option&gt;\n    &lt;option value=\"bar\"&gt;Bar&lt;/option&gt;\n    &lt;option value=\"baz\"&gt;Baz&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Unfortunately it's the only cross-browser solution for a placeholder (<a href=\"http://stackoverflow.com/questions/5805059/how-do-i-make-a-placeholder-for-a-select-box/5859221#5859221\">How do I make a placeholder for a &#39;select&#39; box?</a>).</p>\n\n<p>The issue comes up on Chrome 43.0.2357.124. </p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/30867570#30867570", "question_id": 22148080, "answer_id": 30867570}, {"body": "<p>None of the previous answers worked for me, and I don't have any hidden fields with the <code>required</code> attribute.</p>\n\n<p>In my case, the problem was caused by having a <code>&lt;form&gt;</code> and then a <code>&lt;fieldset&gt;</code> as its first child, which holds the <code>&lt;input&gt;</code> with the <code>required</code> attribute. Removing the <code>&lt;fieldset&gt;</code> solved the problem. Or you can wrap your form with it; it is allowed by HTML5.</p>\n\n<p>I'm on Windows 7 x64, Chrome version 43.0.2357.130 m.</p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/31195820#31195820", "question_id": 22148080, "answer_id": 31195820}, {"body": "<p>This error happened to me because I was submitting a form with required fields that were not filled.</p>\n\n<p>The error was produced because the browser was trying to focus on the required fields to warn the user the fields were required but those required fields were hidden in a display none div so the browser could not focus on them. I was submitting from a visible tab and the required fields were in an hidden tab, hence the error.</p>\n\n<p>To fix, make sure you control the required fields are filled.</p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/32011302#32011302", "question_id": 22148080, "answer_id": 32011302}, {"body": "<p>I just wanted to chime in here and make note from a previous comment from <a href=\"http://stackoverflow.com/users/964423/oscargilfc\">oscargilfc</a></p>\n\n<blockquote>\n  <p>I discovered that \"An invalid form control with name='' is not focusable.\" also shows if the inputs are in a <code>&lt;fieldset&gt;</code>.</p>\n</blockquote>\n\n<p>I removed the <code>&lt;fieldset&gt;</code> tags surrounding the form and the error is no longer. so thanks <strong>oscargilfc</strong></p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/32064246#32064246", "question_id": 22148080, "answer_id": 32064246}, {"body": "<p>If you have any field with required attribute which is not visible during the form submission, this error will be thrown. You just remove the required attribute when your try to hide that field. You can add the required attribute in case if you want to show the field again. By this way, your validation will not be compromised and at the same time, the error will not be thrown. </p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/32255740#32255740", "question_id": 22148080, "answer_id": 32255740}, {"body": "<p>For Angular use: </p>\n\n<p>ng-required=\"boolean\" </p>\n\n<p>This will only apply the html5 'required' attribute if the value is true. </p>\n\n<pre><code>&lt;input ng-model=\"myCtrl.item\" ng-required=\"myCtrl.items &gt; 0\" /&gt;\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/32430457#32430457", "question_id": 22148080, "answer_id": 32430457}, {"body": "<p>Yet another possibility if you're getting the error on a checkbox input. If your checkboxes use custom CSS which hides the default and replaces it with some other styling, this will also trigger the not focusable error in Chrome on validation error.</p>\n\n<p>I found this in my stylesheet:</p>\n\n<pre><code>input[type=\"checkbox\"] {\n    visibility: hidden;\n}\n</code></pre>\n\n<p>Simple fix was to replace it with this:</p>\n\n<pre><code>input[type=\"checkbox\"] {\n    opacity: 0;\n}\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/34293601#34293601", "question_id": 22148080, "answer_id": 34293601}, {"body": "<p><strong>For Select2 Jquery problem</strong> </p>\n\n<p>The problem is due to the HTML5 validation cannot focus a hidden invalid element. \nI came across this issue when I was dealing with jQuery Select2 plugin. </p>\n\n<p><strong>Solution</strong>\nYou could inject an event listener on and 'invalid' event of every element of a form so that you can manipulate just before the HTML5 validate event.</p>\n\n<pre><code>$('form select').each(function(i){\nthis.addEventListener('invalid', function(e){            \n        var _s2Id = 's2id_'+e.target.id; //s2 autosuggest html ul li element id\n        var _posS2 = $('#'+_s2Id).position();\n        //get the current position of respective select2\n        $('#'+_s2Id+' ul').addClass('_invalid'); //add this class with border:1px solid red;\n        //this will reposition the hidden select2 just behind the actual select2 autosuggest field with z-index = -1\n        $('#'+e.target.id).attr('style','display:block !important;position:absolute;z-index:-1;top:'+(_posS2.top-$('#'+_s2Id).outerHeight()-24)+'px;left:'+(_posS2.left-($('#'+_s2Id).width()/2))+'px;');\n        /*\n        //Adjust the left and top position accordingly \n        */\n        //remove invalid class after 3 seconds\n        setTimeout(function(){\n            $('#'+_s2Id+' ul').removeClass('_invalid');\n        },3000);            \n        return true;\n}, false);          \n});\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/35470951#35470951", "question_id": 22148080, "answer_id": 35470951}, {"body": "<p>Yea.. If a hidden form control has required field then it shows this error. One solution would be to <strong>disable this form control</strong>. This is because usually if you are hiding a form control it is because you are not concerned with its value. So this form control name value pair wont be sent  while submitting the form.</p>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/37762281#37762281", "question_id": 22148080, "answer_id": 37762281}, {"body": "<p>Its because there is a hidden input with required attribute in the form.</p>\n\n<p>In my case, I had a select box and it is hidden by jquery tokenizer using inline style. If I dont select any token, browser throws the above error on form submission.</p>\n\n<p>So, I fixed it using the below css technique :</p>\n\n<pre><code>  select.download_tag{\n     display: block !important;//because otherwise, its throwing error An invalid form control with name='download_tag[0][]' is not focusable.\n    //So, instead set opacity\n    opacity: 0;\n    height: 0px;\n\n }\n</code></pre>\n", "title": "An invalid form control with name=&#39;&#39; is not focusable", "tags": ["html", "html5", "validation"], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable/38884186#38884186", "question_id": 22148080, "answer_id": 38884186}], "link": "http://stackoverflow.com/questions/22148080/an-invalid-form-control-with-name-is-not-focusable", "question_id": 22148080}, {"body": "<p>I am creating an App with AngularJS and Bootstrap 3. I want to show a table/grid with thousands of rows. What is the best available control for AngularJS &amp; Bootstrap with features like Sorting, Searching, Pagination etc.</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "answers": [{"body": "<p>You can use bootstrap 3 classes and build a table using the ng-repeat directive</p>\n\n<p><strong>Example:</strong> </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular.module('App', []);\r\n\r\nfunction ctrl($scope) {\r\n    $scope.items = [\r\n        ['A', 'B', 'C'],\r\n        ['item1', 'item2', 'item3'],\r\n        ['item4', 'item5', 'item6']\r\n    ];\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div ng-app=\"App\"&gt;\r\n  &lt;div ng-controller=\"ctrl\"&gt;\r\n    \r\n    \r\n    &lt;table class=\"table table-bordered\"&gt;\r\n      &lt;thead&gt;\r\n        &lt;tr&gt;\r\n          &lt;th ng-repeat=\"itemA in items[0]\"&gt;{{itemA}}&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/thead&gt;\r\n      &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n          &lt;td ng-repeat=\"itemB in items[1]\"&gt;{{itemB}}&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n          &lt;td ng-repeat=\"itemC in items[2]\"&gt;{{itemC}}&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n    \r\n    \r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>live example:</strong>\n<a href=\"http://jsfiddle.net/choroshin/5YDJW/5/\" rel=\"nofollow\">http://jsfiddle.net/choroshin/5YDJW/5/</a></p>\n\n<p><strong>Update:</strong></p>\n\n<p>or you can always try the popular <a href=\"http://angular-ui.github.io/ng-grid/\" rel=\"nofollow\">ng-grid</a> , ng-grid is good for sorting, searching, grouping etc, but I haven't tested it yet on a large scale data. </p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/21377652#21377652", "question_id": 21375073, "answer_id": 21377652}, {"body": "<p>With \"thousands of rows\" your best bet would obviously be to do server side paging. When I looked into the different AngularJs table/grid options a while back there were three clear favourites:</p>\n\n<ul>\n<li><a href=\"https://github.com/angular-ui/ng-grid\">ng-grid</a></li>\n<li><a href=\"https://github.com/esvit/ng-table\">ng-table</a></li>\n<li><a href=\"https://github.com/lorenzofox3/Smart-Table\">Smart-Table</a></li>\n</ul>\n\n<p>All three are good, but implemented differently. Which one you pick will probably be more based on personal preference than anything else.</p>\n\n<p><a href=\"https://github.com/angular-ui/ng-grid\">ng-grid</a> is probably the most known due to its association with angular-ui, but I personally prefer <a href=\"https://github.com/esvit/ng-table\">ng-table</a>, I really like their implementation and how you use it, and they have great documentation and examples available and actively being improved.</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/21441692#21441692", "question_id": 21375073, "answer_id": 21441692}, {"body": "<p>I had the same requirement and solved it using these components:</p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular.js/tree/v1.0.x\">AngularJS 1.0.8</a></li>\n<li><a href=\"http://angular-ui.github.io/bootstrap/\">AngularUI Boostrap 0.10.0</a>: Compatible with AngularJS 1.0.8 and Boostrap CSS 3.x.</li>\n<li><a href=\"http://angular-ui.github.io/ui-grid/\">ng-grid 2.0.7</a>: Compatible with AngularJS 1.0.8</li>\n<li><a href=\"http://getbootstrap.com/css/\">Bootstrap CSS 3.0</a></li>\n</ul>\n\n<p>The table component ng-grid is capable of displaying hundreds of rows in a scrollable grid.\nIf you have to deal with thousands of entries you are better off using ng-grid's paginator.\nThe documentation of ng-grid is excellent and contains many examples.\nSorting and searching are supported even in combination with pagination.</p>\n\n<p>Here is a screenshot from a current project to give you an impression how it looks like:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rd2Be.png\" alt=\"enter image description here\"> </p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/21456372#21456372", "question_id": 21375073, "answer_id": 21456372}, {"body": "<p>As mentioned in other answers: For a table with search, select and pagination \"<strong>ng-grid</strong>\" is the best options. A couple of things I have come across I will mention which might be useful while implementing:</p>\n\n<p>To set env:</p>\n\n<ol>\n<li><p><a href=\"http://www.json-generator.com/\" rel=\"nofollow\">http://www.json-generator.com/</a> to generate JSON data. Its a pretty cool tool to get your   sample data set to make development faster.</p></li>\n<li><p>You can check this plunker for your implementation. I have modified to include: search, select and pagination\n<a href=\"http://plnkr.co/edit/gJPBz0pVxGzKlI8MGOit?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/gJPBz0pVxGzKlI8MGOit?p=preview</a></p></li>\n</ol>\n\n<p>You can check this tutorial about Smart table, Gives all the info you need:\n<a href=\"http://lorenzofox3.github.io/smart-table-website/\" rel=\"nofollow\">http://lorenzofox3.github.io/smart-table-website/</a></p>\n\n<p>Then the next question is <strong><code>bootstrap 3</code></strong> :\nIts not exactly but this templates looks good.\n - You can just use <a href=\"https://github.com/angular-ui/bootstrap/tree/master/template\" rel=\"nofollow\">https://github.com/angular-ui/bootstrap/tree/master/template</a> all the templates are well written.</p>\n\n<p>I can go on about how to convert bootstrap 3 to angularjs but its already mentioned in following links:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/16327846/bootstrap-3-with-angularjs\">Bootstrap 3 compatible with current AngularJS bootstrap directives?</a></li>\n<li><a href=\"https://github.com/angular-ui/bootstrap/issues/331\" rel=\"nofollow\">https://github.com/angular-ui/bootstrap/issues/331</a></li>\n</ul>\n\n<p>please note that regarding smart-table you have to check if it ready for your angular version</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/21574137#21574137", "question_id": 21375073, "answer_id": 21574137}, {"body": "<p>Kendo grid is good as well as Wijmo.  I know Kendo comes with Angular bindings for their datasource and I think Wijmo has an Angular plugin.  Neither are free though.</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/23124794#23124794", "question_id": 21375073, "answer_id": 23124794}, {"body": "<p>A feature rich Angular grid is this one:</p>\n\n<p><a href=\"http://moonstorm.github.io/trNgGrid/release/\">trNgGrid</a></p>\n\n<p>Some of its features:</p>\n\n<ul>\n<li>Was built with simplicity in mind.</li>\n<li>Is using plain HTML tables, allowing the browsers to optimize the rendering.</li>\n<li>Fully declarative, preserving the separation of concerns, thus allowing you to fully describe it in HTML, without messing up your controllers.</li>\n<li>Is fully customizable via templates and two-way data bound attributes.</li>\n<li>Easy to maintain, having the code written in TypeScript.</li>\n<li>Has a very short list of dependencies: AngularJs and Bootstrap CSS, with optional Bootswatch themes.</li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/HdTQd.png\" alt=\"trNgGrid\"></p>\n\n<p>Enjoy. Yes, I'm the author. I got fed up with all the Angular grids out there.</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/23274018#23274018", "question_id": 21375073, "answer_id": 23274018}, {"body": "<p>TrNgGrid is working great so far. Here are the reasons I prefer it to ng-grid and moved to this component</p>\n\n<ul>\n<li><p>It makes table elements so it can be bootswatched and use all the power of bootstrap .css (ng-grid uses jQuery UI themes).</p></li>\n<li><p>Simple, well documented grid options. </p></li>\n<li><p>Server size paging works</p></li>\n</ul>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/23597982#23597982", "question_id": 21375073, "answer_id": 23597982}, {"body": "<p>At the end of the this answer to the question of how to think in Angular if you have a jQuery background, <a href=\"http://stackoverflow.com/a/15012542/538962\">the top post from Josh David Miller</a> summarizes: </p>\n\n<blockquote>\n  <p>Don't even use jQuery. Don't even include it. It will hold you back.\n  And when you come to a problem that you think you know how to solve in\n  jQuery already, before you reach for the <code>$</code>, try to think about how to\n  do it within the confines the AngularJS. If you don't know, ask! 19\n  times out of 20, the best way to do it doesn't need jQuery and to try\n  to solve it with jQuery results in more work for you.</p>\n</blockquote>\n\n<p>Now if you want a grid with tons of features and options for customization, \n<a href=\"http://www.datatables.net/examples/styling/bootstrap.html\">jQuery DataTables</a> is one of the best. The Angular-only grids I have seen\ndon't come close to what jQuery DataTables can do. </p>\n\n<p><strong>However</strong>, jQuery DataTables does not integrate well with AngularJS. \n(There have been various efforts, but none offer seamless integration.)</p>\n\n<p>Perhaps that leaves a person with two options. </p>\n\n<p>The first is to go with a pure Angular grid that is not as feature rich as DataTables. I agree with @Moonstom about getting fed up with the other Angular grids out \nthere, and trNgGrid does look nice.</p>\n\n<p>The second option is to say: this is one of those <strong>rare</strong> 1 out of 20 cases\nwhere you <strong>should</strong> use jQuery and go with the jQuery DataTables plug-in, \nbecause the efforts to re-invent the wheel with the pure Angular grids have \nyielded a less robust wheel than DataTables.</p>\n\n<p>It would be nice if it were otherwise, but I just have not seen \nthe Angular ecosystem come up with as strong a grid as jQuery DataTables, \nand it is not as if a good data grid is a nice-to-have in a web app: \na good grid is an essential.</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/25026991#25026991", "question_id": 21375073, "answer_id": 25026991}, {"body": "<p>For anyone reading this post: Do yourself a favor and stay away of ng-grid. Is full of bugs (really..almost every part of the lib is broken somehow), the devs has abandoned the support of 2.0.x branch in order to work in 3.0 which is very far of being ready. Fixing the problems by yourself is not an easy task, ng-grid code is not small and is not simple, unless you have a lot of time and a deep knowledge of angular and js in general, its going to be a hard task.</p>\n\n<p><strong><em>Bottom Line:</em></strong> is full of bugs, and the last stable version has been abandoned. </p>\n\n<p>The github is full of PRs, but they are being ignored. And if you report a bug in the 2.x branch, it's get closed.</p>\n\n<p>I know is an open source proyect and the complains may sound a little bit out of place, but from the perspective of a developer looking for a library, that's my opinion. I spent many hours working with ng-grid in a large proyect and the headcaches are never ending</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/25044089#25044089", "question_id": 21375073, "answer_id": 25044089}, {"body": "<p><a href=\"http://adaptv.github.io/adapt-strap/\">Adapt-Strap</a>. Here is the <a href=\"http://jsfiddle.net/kashjs/gt8Ljspf/\">fiddle</a>.</p>\n\n<p>It is extremely lightweight and has dynamic row heights.</p>\n\n<pre><code>&lt;ad-table-lite table-name=\"carsForSale\"\n               column-definition=\"carsTableColumnDefinition\"\n               local-data-source=\"models.carsForSale\"\n               page-sizes=\"[7, 20]\"&gt;\n&lt;/ad-table-lite&gt;\n</code></pre>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/25186116#25186116", "question_id": 21375073, "answer_id": 25186116}, {"body": "<p>After trying out ngGrid, ngTable, trNgGrid and <a href=\"http://lorenzofox3.github.io/smart-table-website/\">Smart Table</a>, I have come to the conclusion that <a href=\"http://lorenzofox3.github.io/smart-table-website/\">Smart Table</a> is by far the best implementation AngularJS-wise and Bootstrap-wise. It is built exactly the same way as you would build your own, naive table using standard angular. On top of that, they have added a few directives that help you do sorting, filtering etc. Their approach also makes it quite simple to extend yourself. The fact that they use the regular html tags for tables and the standard ng-repeat for the rows and standard bootstrap for formatting makes this my clear winner.</p>\n\n<p>Their JS code depends on angular and your html can depend on bootstrap if you want to. The JS code is 4 kb in total and you can even easily pick stuff out of there if you want to reach an even smaller footprint.</p>\n\n<p>Where the other grids will give you claustrophobia in different areas, Smart Table just feels open and to the point.</p>\n\n<p>If you rely heavily on inline editing and other advanced features, you might get up and running quicker with ngTable for instance. However, you are free to add such features quite easily in Smart Table.</p>\n\n<p>Don't miss <a href=\"http://lorenzofox3.github.io/smart-table-website/\">Smart Table</a>!!!</p>\n\n<p>I have no relation to Smart Table, except from using it myself.</p>\n", "title": "Best way to represent a Grid or Table in AngularJS with Bootstrap 3?", "tags": ["angularjs", "twitter-bootstrap-3", "ng-grid", "angular-ui-grid", "smart-table"], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3/25734089#25734089", "question_id": 21375073, "answer_id": 25734089}], "link": "http://stackoverflow.com/questions/21375073/best-way-to-represent-a-grid-or-table-in-angularjs-with-bootstrap-3", "question_id": 21375073}, {"body": "<p>I'm trying to work out how to cast an <code>Int</code> into a <code>String</code> in Swift.</p>\n\n<p>I figure out a workaround, using <code>NSNumber</code> but I'd love to figure out how to do it all in Swift.</p>\n\n<pre><code>let x : Int = 45\nlet xNSNumber = x as NSNumber\nlet xString : String = xNSNumber.stringValue\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "answers": [{"body": "<p>Converting <code>Int</code> to <code>String</code>:</p>\n\n<pre><code>let x : Int = 42\nvar myString = String(x)\n</code></pre>\n\n<p>And the other way around - converting <code>String</code> to <code>Int</code>:</p>\n\n<pre><code>let myString : String = \"42\"\nlet x: Int? = myString.toInt()\n\nif (x != nil) {\n    // Successfully converted String to Int\n}\n</code></pre>\n\n<p>Or if you're using Swift 2:</p>\n\n<pre><code>let x: Int? = Int(myString)\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/24161392#24161392", "question_id": 24161336, "answer_id": 24161392}, {"body": "<p>Check the Below Answer:</p>\n\n<pre><code>    let x : Int = 45\n\n    var stringValue = \"\\(x)\"\n\n    print(stringValue)\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/24161458#24161458", "question_id": 24161336, "answer_id": 24161458}, {"body": "<p>for whatever reason the accepted answer did not work for me. I went with this approach:</p>\n\n<pre><code>var myInt:Int = 10\nvar myString:String = toString(myInt)\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/27467860#27467860", "question_id": 24161336, "answer_id": 27467860}, {"body": "<p>Just for completeness, you can also use:</p>\n\n<pre><code>let x = 10.description\n</code></pre>\n\n<p>or any other value that supports a description.</p>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/27708369#27708369", "question_id": 24161336, "answer_id": 27708369}, {"body": "<p>Here are 4 methods:</p>\n\n<pre><code>var x = 34\nvar s = String(x)\nvar ss = \"\\(x)\"\nvar sss = toString(x)\nvar ssss = x.description\n</code></pre>\n\n<p>I can imagine that some people will have an issue with ss.  But if you were looking to build a string containing other content then why not.</p>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/28203312#28203312", "question_id": 24161336, "answer_id": 28203312}, {"body": "<p>Multiple ways to do this :</p>\n\n<pre><code>var str1:String=\"\\(23)\"\nvar str2:String=String(format:\"%d\",234)\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/28355404#28355404", "question_id": 24161336, "answer_id": 28355404}, {"body": "<p>To save yourself time and hassle in the future you can make an Int extension.  Typically I create a shared code file where I put extensions, enums, and other fun stuff.  Here is what the extension code looks like:</p>\n\n<pre><code>extension Int\n{\n    func toString() -&gt; String\n    {\n        var myString = String(self)\n        return myString\n    }\n}\n</code></pre>\n\n<p>Then later when you want to convert an int to a string you can just do something like:</p>\n\n<pre><code>var myNumber = 0\nvar myNumberAsString = myNumber.toString()\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/29103261#29103261", "question_id": 24161336, "answer_id": 29103261}, {"body": "<p>iam using this simple approach</p>\n\n<p>String to Int:</p>\n\n<pre><code> var a = Int()\nvar string1 = String(\"1\")\na = string1.toInt()\n</code></pre>\n\n<p>and from Int to String:</p>\n\n<pre><code>var a = Int()\na = 1\nvar string1 = String()\n string1= \"\\(a)\"\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/29599049#29599049", "question_id": 24161336, "answer_id": 29599049}, {"body": "<p><code>exampleLabel.text = String(yourInt)</code></p>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/30147967#30147967", "question_id": 24161336, "answer_id": 30147967}, {"body": "<p>Swift 2:</p>\n\n<pre><code>var num1 = 4\nvar numString = \"56\"\nvar sum2 = String(num1) + numString\nvar sum3 = Int(numString)\n</code></pre>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/32593484#32593484", "question_id": 24161336, "answer_id": 32593484}, {"body": "<p><code>let Str = \"12\"\nlet num: Int = 0\nnum = Int (str)</code></p>\n", "title": "Convert Int to String in Swift", "tags": ["string", "casting", "int", "converter", "swift"], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift/34847037#34847037", "question_id": 24161336, "answer_id": 34847037}], "link": "http://stackoverflow.com/questions/24161336/convert-int-to-string-in-swift", "question_id": 24161336}, {"body": "<p>I was reading about <a href=\"http://en.cppreference.com/w/cpp/language/eval_order\">order of evaluation violations</a>, and they give an example that puzzles me.</p>\n\n<blockquote>\n  <p>1) If a side effect on a scalar object is un-sequenced relative to another side effect on the same scalar object, the behavior is undefined. </p>\n\n<pre><code>// snip\nf(i = -1, i = -1); // undefined behavior\n</code></pre>\n</blockquote>\n\n<p>In this context, <code>i</code> is a <em>scalar object</em>, which apparently means</p>\n\n<blockquote>\n  <p>Arithmetic types (3.9.1), enumeration types, pointer types, pointer to member types (3.9.2), std::nullptr_t, and cv-qualified versions of these types (3.9.3) are collectively called scalar types.</p>\n</blockquote>\n\n<p>I don\u2019t see how the statement is ambiguous in that case. It seems to me that regardless of if the first or second argument is evaluated first, <code>i</code> ends up as <code>-1</code>, and both arguments are also <code>-1</code>.</p>\n\n<p>Can someone please clarify?</p>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<p>I really appreciate all the discussion. So far, I like <a href=\"http://stackoverflow.com/a/21671069\">@harmic\u2019s answer</a> a lot since it exposes the pitfalls and intricacies of defining this statement in spite of how straight forward it looks at first glance. <a href=\"http://stackoverflow.com/a/21677128\">@acheong87</a> points out some issues that come up when using references, but I think that's orthogonal to the unsequenced side effects aspect of this question.</p>\n\n<hr>\n\n<h2>SUMMARY</h2>\n\n<p>Since this question got a ton of attention, I will summarize the main points/answers. First, allow me a small digression to point out that \"why\" can have closely related yet subtly different meanings, namely \"for what <em>cause</em>\", \"for what <em>reason</em>\", and \"for what <em>purpose</em>\". I will group the answers by which of those meanings of \"why\" they addressed.</p>\n\n<h3>for what cause</h3>\n\n<p>The main answer here comes from <a href=\"https://stackoverflow.com/a/21670570/1072468\">Paul Draper</a>, with <a href=\"https://stackoverflow.com/a/21670751/1072468\">Martin J</a> contributing a similar but not as extensive answer. Paul Draper's answer boils down to</p>\n\n<blockquote>\n  <p>It is undefined behavior because it is not defined what the behavior is.</p>\n</blockquote>\n\n<p>The answer is overall very good in terms of explaining what the C++ standard says. It also addresses some related cases of UB such as <code>f(++i, ++i);</code> and <code>f(i=1, i=-1);</code>. In the first of the related cases, it's not clear if the first argument should be <code>i+1</code> and the second <code>i+2</code> or vice versa; in the second, it's not clear if <code>i</code> should be 1 or -1 after the function call. Both of these cases are UB because they fall under the following rule:</p>\n\n<blockquote>\n  <p>If a side effect on a scalar object is unsequenced relative to another side effect on the same scalar object, the behavior is undefined.</p>\n</blockquote>\n\n<p>Therefore, <code>f(i=-1, i=-1)</code> is also UB since it falls under the same rule, despite that the intention of the programmer is (IMHO) obvious and unambiguous.</p>\n\n<p>Paul Draper also makes it explicit in his conclusion that</p>\n\n<blockquote>\n  <p>Could it have been defined behavior? Yes. Was it defined? No.</p>\n</blockquote>\n\n<p>which brings us to the question of \"for what reason/purpose was <code>f(i=-1, i=-1)</code> left as undefined behavior?\"</p>\n\n<h3>for what reason / purpose</h3>\n\n<p>Although there are some oversights (maybe careless) in the C++ standard, many omissions are well-reasoned and serve a specific purpose. Although I am aware that the purpose is often either \"make the compiler-writer's job easier\", or \"faster code\", <strong>I was mainly interested to know if there is a good reason leave</strong> <code>f(i=-1, i=-1)</code> <strong>as UB.</strong></p>\n\n<p><a href=\"https://stackoverflow.com/a/21671069/1072468\">harmic</a> and <a href=\"https://stackoverflow.com/a/21683253/1072468\">supercat</a> provide the main answers that provide a <em>reason</em> for the UB. Harmic points out that an optimizing compiler that might break up the ostensibly atomic assignment operations into multiple machine instructions, and that it might further interleave those instructions for optimal speed. This could lead to some very surprising results: <code>i</code> ends up as -2 in his scenario! Thus, harmic demonstrates how assigning the <em>same value</em> to a variable more than once can have ill effects if the operations are unsequenced.</p>\n\n<p>supercat provides a related exposition of the pitfalls of trying to get <code>f(i=-1, i=-1)</code> to do what it looks like it ought to do. He points out that on some architectures, there are hard restrictions against multiple simultaneous writes to the same memory address. A compiler could have a hard time catching this if we were dealing with something less trivial than <code>f(i=-1, i=-1)</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/21708746/1072468\">davidf</a> also provides an example of interleaving instructions very similar to harmic's.</p>\n\n<p>Although each of harmic's, supercat's and davidf' examples are somewhat contrived, taken together they still serve to provide a tangible reason why <code>f(i=-1, i=-1)</code> should be undefined behavior.</p>\n\n<p>I accepted harmic's answer because it did the best job of addressing all meanings of why, even though Paul Draper's answer addressed the \"for what cause\" portion better.</p>\n\n<h3>other answers</h3>\n\n<p><a href=\"https://stackoverflow.com/a/21679403/1072468\">JohnB</a> points out that if we consider overloaded assignment operators (instead of just plain scalars), then we can run into trouble as well.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "answers": [{"body": "<p>First, \"scalar object\" means a type like a <code>int</code>, <code>float</code>, or a pointer (see <a href=\"http://stackoverflow.com/questions/14821936/what-is-a-scalar-object-in-c\">What is a scalar Object in C++?</a>).</p>\n\n<hr>\n\n<p>Second, it may seem more obvious that </p>\n\n<pre><code>f(++i, ++i);\n</code></pre>\n\n<p>would have undefined behavior. But</p>\n\n<pre><code>f(i = -1, i = -1);\n</code></pre>\n\n<p>is less obvious.</p>\n\n<p>A slightly different example:</p>\n\n<pre><code>int i;\nf(i = 1, i = -1);\nstd::cout &lt;&lt; i &lt;&lt; \"\\n\";\n</code></pre>\n\n<p>What assignment happened \"last\", <code>i = 1</code>, or <code>i = -1</code>? It's not defined in the standard. Really, that means <code>i</code> could be <code>5</code> (see harmic's answer for a completely plausible explanation for how this chould be the case). Or you program could segfault. Or reformat your hard drive.</p>\n\n<p>But now you ask: \"What about my example? I used the same value (<code>-1</code>) for both assignments. What could possibly be unclear about that?\"</p>\n\n<p>You are correct...except in the way the C++ standards committee described this.</p>\n\n<blockquote>\n  <p>If a side effect on a scalar object is unsequenced relative to another side effect on the same scalar object, the behavior is undefined.</p>\n</blockquote>\n\n<p>They <em>could</em> have made a special exception for your special case, but they didn't. (And why should they? What use would that ever possibly have?) So, <code>i</code> could still be <code>5</code>. Or your hard drive could be empty. Thus the answer to your question is:</p>\n\n<p><strong>It is undefined behavior because it is not defined what the behavior is.</strong></p>\n\n<p><em>(This deserves emphasis because many programmers think \"undefined\" means \"random\", or \"unpredictable\". It doesn't; it means not defined by the standard. The behavior could be 100% consistent, and still be undefined.)</em></p>\n\n<p>Could it have been defined behavior? Yes. Was it defined? No. Hence, it is \"undefined\".</p>\n\n<p>That said, \"undefined\" doesn't mean that a compiler will format your hard drive...it means that it <em>could</em> and it would still be a standards-compliant compiler. Realistically, I'm sure g++, Clang, and MSVC will all do what you expected. They just wouldn't \"have to\".</p>\n\n<hr>\n\n<p>A different question might be <em>Why did the C++ standards committee choose to make this side-effect unsequenced?</em>. That answer will involve history and opinions of the committee. Or <em>What is good about having this side-effect unsequenced in C++?</em>, which permits any justification, whether or not it was the actual reasoning of the standards committee. You could ask those questions here, or at programmers.stackexchange.com.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21670570#21670570", "question_id": 21670459, "answer_id": 21670570}, {"body": "<p>The fact that the result would be the same in most implementations in <em>this</em> case is incidental; the order of evaluation is still undefined. Consider <code>f(i = -1, i = -2)</code>: here, order matters. The only reason it doesn't matter in your example is the accident that both values are <code>-1</code>.</p>\n\n<p>Given that the expression is specified as one with an undefined behaviour, a maliciously compliant compiler might display an inappropriate image when you evaluate <code>f(i = -1, i = -1)</code> and abort the execution - and still be considered completely correct. Luckily, no compilers I am aware of do so.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21670616#21670616", "question_id": 21670459, "answer_id": 21670616}, {"body": "<p>It looks to me like the only rule pertaining to sequencing of function argument expression is here:</p>\n\n<blockquote>\n  <p>3) When calling a function (whether or not the function is inline, and whether or not explicit function call syntax is used), every value computation and side effect associated with any argument expression, or with the postfix expression designating the called function, is sequenced before execution of every expression or statement in the body of the called function.</p>\n</blockquote>\n\n<p>This does not define sequencing between argument expressions, so we end up in this case:</p>\n\n<blockquote>\n  <p>1) If a side effect on a scalar object is unsequenced relative to another side effect on the same scalar object, the behavior is undefined.</p>\n</blockquote>\n\n<p>In practice, on most compilers, the example you quoted will run fine (as opposed to \"erasing your hard disk\" and other theoretical undefined behavior consequences).<br>\nIt is, however, a liability, as it depends on specific compiler behaviour, even if the two assigned values are the same. Also, obviously, if you tried to assign different values, the results would be \"truly\" undefined:</p>\n\n<pre><code>void f(int l, int r) {\n    return l &lt; -1;\n}\nauto b = f(i = -1, i = -2);\nif (b) {\n    formatDisk();\n}\n</code></pre>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21670751#21670751", "question_id": 21670459, "answer_id": 21670751}, {"body": "<p>This is just answering the \"I'm not sure what \"scalar object\" could mean besides something like an int or a float\".</p>\n\n<p>I would interpret the \"scalar object\" as a abbreviation of \"scalar type object\", or just \"scalar type variable\". Then, <code>pointer</code>, <code>enum</code> (constant) are of scalar type.</p>\n\n<p>This is a MSDN article of <a href=\"http://msdn.microsoft.com/en-us/library/94z15h2c.aspx\" rel=\"nofollow\">Scalar Types</a>.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21670811#21670811", "question_id": 21670459, "answer_id": 21670811}, {"body": "<p>Since the operations are unsequenced, there is nothing to say that the instructions performing the assignment cannot be interleaved. It might be optimal to do so, depending on CPU architecture. The referenced page states this:</p>\n\n<blockquote>\n  <p>If A is not sequenced before B and B is not sequenced before A, then\n  two possibilities exist: </p>\n  \n  <ul>\n  <li><p>evaluations of A and B are unsequenced: they may be performed in any order and may overlap (within a single thread of execution, the\n  compiler may interleave the CPU instructions that comprise A and B) </p></li>\n  <li><p>evaluations of A and B are indeterminately-sequenced: they may be performed in any order but may not overlap: either A will be complete\n  before B, or B will be complete before A. The order may be the\n  opposite the next time the same expression is evaluated.</p></li>\n  </ul>\n</blockquote>\n\n<p>That by itself doesn't seem like it would cause a problem - assuming that the operation being performed is storing the value -1 into a memory location. But there is also nothing to say that the compiler cannot optimize that into a separate set of instructions that has the same effect, but which could fail if the operation was interleaved with another operation on the same memory location.</p>\n\n<p>For example, imagine that it was more efficient to zero the memory, then decrement it, compared with loading the value -1 in. Then this:</p>\n\n<pre><code>f(i=-1, i=-1)\n</code></pre>\n\n<p>might become:</p>\n\n<pre><code>clear i\nclear i\ndecr i\ndecr i\n</code></pre>\n\n<p>Now i is -2.</p>\n\n<p>It is probably a bogus example, but it is possible.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21671069#21671069", "question_id": 21670459, "answer_id": 21671069}, {"body": "<p>A practical reason to not make an exception from the rules just because the two values are the same:</p>\n\n<pre><code>// config.h\n#define VALUEA  1\n\n// defaults.h\n#define VALUEB  1\n\n// prog.cpp\nf(i = VALUEA, i = VALUEB);\n</code></pre>\n\n<p>Consider the case this was allowed.</p>\n\n<p>Now, some months later, the need arises to change</p>\n\n<pre><code> #define VALUEB 2\n</code></pre>\n\n<p>Seemingly harmless, isn't it? And yet suddenly prog.cpp wouldn't compile anymore.\nYet, we feel that compilation should not depend on the value of a literal.</p>\n\n<p>Bottom line: there is no exception to the rule because it would make successful compilation depend on the value (rather the type) of a constant.</p>\n\n<h1>EDIT</h1>\n\n<p><a href=\"http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior#comment32768890_21674490\">@HeartWare pointed out</a> that constant expressions of the form <code>A DIV B</code> are not allowed in some languages, when <code>B</code> is 0, and cause compilation to fail. Hence changing of a constant could cause compilation errors in some other place. Which is, IMHO, unfortunate. But it is certainly good to restrict such things to the unavoidable.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21674490#21674490", "question_id": 21670459, "answer_id": 21674490}, {"body": "<p>The assignment operator could be overloaded, in which case the order could matter:</p>\n\n<pre><code>struct A {\n    bool first;\n    A () : first (false) {\n    }\n    const A &amp; operator = (int i) {\n        first = !first;\n        return * this;\n    }\n};\n\nvoid f (A a1, A a2) {\n    // ...\n}\n\n\n// ...\nA i;\nf (i = -1, i = -1);   // the argument evaluated first has ax.first == true\n</code></pre>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21679403#21679403", "question_id": 21670459, "answer_id": 21679403}, {"body": "<p>Behavior is commonly specified as undefined if there is some conceivable reason why a compiler which was trying to be \"helpful\" might do something which would cause totally unexpected behavior.</p>\n\n<p>In the case where a variable is written multiple times with nothing to ensure that the writes happen at distinct times, some kinds of hardware might allow multiple \"store\" operations to be performed simultaneously to different addresses using a dual-port memory. However, some dual-port memories expressly forbid the scenario where two stores hit the same address simultaneously, <em>regardless of whether or not the values written match</em>.  If a compiler for such a machine notices two unsequenced attempts to write the same variable, it might either refuse to compile or ensure that the two writes cannot get scheduled simultaneously. But if one or both of the accesses is via a pointer or reference, the compiler might not always be able to tell whether both writes might hit the same storage location.  In that case, it might schedule the writes simultaneously, causing a hardware trap on the access attempt.</p>\n\n<p>Of course, the fact that someone might implement a C compiler on such a platform does not suggest that such behavior shouldn't be defined on hardware platforms when using stores of types small enough to be processed atomically.  Trying to store two different values in unsequenced fashion could cause weirdness if a compiler isn't aware of it; for example, given:</p>\n\n<pre><code>uint8_t v;  // Global\n\nvoid hey(uint8_t *p)\n{\n  moo(v=5, (*p)=6);\n  zoo(v);\n  zoo(v);\n}\n</code></pre>\n\n<p>if the compiler in-lines the call to \"moo\" and can tell it doesn't modify\n\"v\", it might store a 5 to v, then store a 6 to *p, then pass 5 to \"zoo\",\nand then pass the contents of v to \"zoo\".  If \"zoo\" doesn't modify \"v\",\nthere should be no way the two calls should be passed different values,\nbut that could easily happen anyway.  On the other hand, in cases where\nboth stores would write the same value, such weirdness could not occur and\nthere would on most platforms be no sensible reason for an implementation\nto do anything weird.  Unfortunately, some compiler writers don't need any\nexcuse for silly behaviors beyond \"because the Standard allows it\", so even\nthose cases aren't safe.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21683253#21683253", "question_id": 21670459, "answer_id": 21683253}, {"body": "<p>The confusion is that storing a constant value into a local variable is not one atomic instruction on every architecture the C is designed to be run on. The processor the code runs on matters more than the compiler in this case. For example, on ARM where each instruction can not carry a complete 32 bits constant, storing an int in a variable needs more that one instruction. Example with this pseudo code where you can only store 8 bits at a time and must work in a 32 bits register, i is a int32:</p>\n\n<pre><code>reg = 0xFF; // first instruction\nreg |= 0xFF00; // second\nreg |= 0xFF0000; // third\nreg |= 0xFF000000; // fourth\ni = reg; // last\n</code></pre>\n\n<p>You can imagine that if the compiler wants to optimize it may interleave the same sequence twice, and you don't know what value will get written to i; and let's say that he is not very smart:</p>\n\n<pre><code>reg = 0xFF;\nreg |= 0xFF00;\nreg |= 0xFF0000;\nreg = 0xFF;\nreg |= 0xFF000000;\ni = reg; // writes 0xFF0000FF == -16776961\nreg |= 0xFF00;\nreg |= 0xFF0000;\nreg |= 0xFF000000;\ni = reg; // writes 0xFFFFFFFF == -1\n</code></pre>\n\n<p>However in my tests gcc is kind enough to recognize that the same value is used twice and generates it once and does nothing weird. I get -1, -1\nBut my example is still valid as it is important to consider that even a constant may not be as obvious as it seems to be.</p>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/21708746#21708746", "question_id": 21670459, "answer_id": 21708746}, {"body": "<p>Actually, there's a reason not to depend on the fact that compiler will check that <code>i</code> is assigned with the same value twice, so that it's possible to replace it with single assignment. What if we have some expressions?</p>\n\n<pre><code>void g(int a, int b, int c, int n) {\n    int i;\n    // hey, compiler has to prove Fermat's theorem now!\n    f(i = 1, i = (ipow(a, n) + ipow(b, n) == ipow(c, n)));\n}\n</code></pre>\n", "title": "Why is f(i = -1, i = -1) undefined behavior?", "tags": ["c++", "language-lawyer", "undefined-behavior"], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior/29389110#29389110", "question_id": 21670459, "answer_id": 29389110}], "link": "http://stackoverflow.com/questions/21670459/why-is-fi-1-i-1-undefined-behavior", "question_id": 21670459}, {"body": "<p>Pictures:</p>\n\n<p><img src=\"http://i.imgur.com/J6SWWBb.png\" alt=\"Command Prompt showing versions\">\n<em>Command Prompt showing versions</em></p>\n\n<p><img src=\"http://i.imgur.com/Xj8mCUp.png\" alt=\"Picture of error\">\n<em>Picture of error</em></p>\n\n<h2>Hello.java</h2>\n\n<pre><code>import java.applet.Applet;\nimport java.awt.*;\npublic class Hello extends Applet {\n   // Java applet to draw \"Hello World\"\n   public void paint (Graphics page) {\n      page.drawString (\"Hello World!\", 50, 50);\n   }\n}\n</code></pre>\n\n<h2>Hello.html</h2>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;HelloWorld Applet&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;APPLET CODE=\"Hello.class\" WIDTH=300 HEIGHT=150&gt;\n&lt;/APPLET&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<h2>Error</h2>\n\n<pre><code>Hello : Unsupported major.minor version 52.0\n</code></pre>\n\n<p>Does anyone know what the problem may be?</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "answers": [{"body": "<p>The <em>smart</em> way to fix that problem is to compile using the latest SDK and use the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html#BHCJDCID\">cross compilation options</a> when compiling.  To use the options <em>completely correctly</em> requires the <code>rt.jar</code> of a JRE (<strong>not JDK</strong>) of the target version.</p>\n\n<p>Given the nature of that applet, it looks like it could be compiled for use with Java 1.1.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/22496754#22496754", "question_id": 22489398, "answer_id": 22496754}, {"body": "<p>I had the same problem... an JDK and Plug -In version conflict.</p>\n\n<p>I compiled using 1.8 ... the latest one, and that message started to appear.\nSo i've searched for the JRE 7 (<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/server-jre7-downloads-1931105.html\">http://www.oracle.com/technetwork/java/javase/downloads/server-jre7-downloads-1931105.html</a>).. and installed it... again...\nNow 1.8 and 1.7 in the same computer.</p>\n\n<p>Using Netbeans , and compiling, targeting to version 1.7, fixed my problem.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/23958989#23958989", "question_id": 22489398, "answer_id": 23958989}, {"body": "<p>If you're using NetBeans IDE right click on the project and  choose <em>Properties</em> go to <em>sources</em>, and you can change the Source/Binary Format to a lower jdk. </p>\n\n<p><img src=\"http://i.stack.imgur.com/6O2jL.png\" alt=\"enter image description here\"></p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/25870667#25870667", "question_id": 22489398, "answer_id": 25870667}, {"body": "<p>You will need to change your compiler compliance level back to 1.7 in your IDE. This can be done in the prefences settings of your IDE for example in Eclipse go to Windows ---> Prefences then select Java and expand it then select Compiler and change the compliance level to 1.7. Am sure this will work from there</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/26890767#26890767", "question_id": 22489398, "answer_id": 26890767}, {"body": "<p>This occurred to me when I installed fresh Java 1.8 but left old command line interpreter open. It had old path and kept on executing the app with Java 1.7 whereas project was already built with Java 1.8.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/28465838#28465838", "question_id": 22489398, "answer_id": 28465838}, {"body": "<p><strong>You must run and compile your application with the same version of Java.</strong></p>\n\n<p>If you're using Eclipse you should do 2 things:</p>\n\n<ol>\n<li><p>In Eclipse, click on <em>\"Window > Preferences\"</em>, and in the window that appears, on the left side, under <em>\"Java\"</em>, click on <em>\"Installed JREs\"</em>, click on <em>\"Add...\"</em> and navigate to the folder that contains the JDK. </p></li>\n<li><p>Right-click on your project and click on <em>\"Properties\"</em>, in the window that appears, on the left side, click on <em>\"Java Compiler\"</em> and uncheck <em>\"Use compliance from execution environment  on the Java Build Path\"</em>, this allows you to choose in the the list <em>\"Compiler compilance level\"</em> the same version that you set in the previous step.</p></li>\n</ol>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/29176500#29176500", "question_id": 22489398, "answer_id": 29176500}, {"body": "<p>You may want to check your Run Configurations setting if you're using Eclipse Luna and already completed all steps mentioned above.</p>\n\n<p>There could be several possibilities that cause this error. The root cause is mismatch of the project require compilation in JDK1.8/JRE8 while the environment compiler is JDK1.7/JRE7.</p>\n\n<p>You can check <a href=\"http://chinteongtan.blogspot.com/2015/04/java-runtime-exception-unsupported.html\" rel=\"nofollow\">my blog post</a> to go through all your settings are correct.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/29641359#29641359", "question_id": 22489398, "answer_id": 29641359}, {"body": "<p>You need to use jdk1.7.0 rather than jdk1.8.0. </p>\n\n<p>To make sure it, you need to delete jdk1.8.0 on your computer. </p>\n\n<p>If you use mac, you need to delete: </p>\n\n<p>/Library/Java/JavaVirtualMachines/jdk.jdk </p>\n\n<p>/Library/PreferencePanes/JavaControlPanel.prefPane </p>\n\n<p>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin </p>\n\n<p>Then, you need to reinstall jdk1.7.0, and you will succeed to generate the .jar file.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/30638542#30638542", "question_id": 22489398, "answer_id": 30638542}, {"body": "<p>I had Java 1.7 &amp; 1.8 installed (with SBT 2.4 that requires Java 1.8).\nEven though my project was linked to Java 1.8, I had to change the JAVA_HOME environment variable to point 1.8.\nFinally, problem solved.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/30897713#30897713", "question_id": 22489398, "answer_id": 30897713}, {"body": "<p>None of these answers helped me, but I found a solution.<br>\nI had a webproject used in Wildfly 8.2, built with Maven, source and target was set to 1.8 on maven-compiler-plugin, as well as all Eclipse and Maven settings were set to Java 1.8.\nThe problem was that Wildfly 8.2 cannot handle Java 1.8, so I had to set everything to 1.7 and it worked.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/30955042#30955042", "question_id": 22489398, "answer_id": 30955042}, {"body": "<p>You need to upgrade your java version to java 8.</p>\n\n<p>Downloading Latest Java Archive</p>\n\n<p>Download latest Java SE Development Kit 8 release from its official download page or use following commands to download from shell.</p>\n\n<p>For 64Bit</p>\n\n<pre><code> # cd /opt/\n\n # wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u51-b16/jdk-8u51-linux-x64.tar.gz\"\n\n # tar xzf jdk-8u51-linux-x64.tar.gz\n</code></pre>\n\n<p>For 32Bit</p>\n\n<pre><code> # cd /opt/\n\n # wget --no-cookies --no-check-certificate --header \"Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie\" \"http://download.oracle.com/otn-pub/java/jdk/8u51-b16/jdk-8u51-linux-i586.tar.gz\"\n\n  # tar xzf jdk-8u51-linux-i586.tar.gz\n</code></pre>\n\n<p>Note: If Above wget command doesn\u2019t not work for you watch this example video to download java source archive using terminal.</p>\n\n<p>Install Java with Alternatives</p>\n\n<p>After extracting archive file use alternatives command to install it. alternatives command is available in chkconfig package.</p>\n\n<pre><code> # cd /opt/jdk1.8.0_51/\n\n # alternatives --install /usr/bin/java java /opt/jdk1.8.0_51/bin/java 2\n\n # alternatives --config java\n</code></pre>\n\n<p>At this point JAVA 8 has been successfully installed on your system. We also recommend to setup javac and jar commands path using alternatives</p>\n\n<pre><code> # alternatives --install /usr/bin/jar jar /opt/jdk1.8.0_51/bin/jar 2\n\n # alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_51/bin/javac 2\n\n # alternatives --set jar /opt/jdk1.8.0_51/bin/jar\n\n # alternatives --set javac /opt/jdk1.8.0_51/bin/javac \n</code></pre>\n\n<p>Check Installed Java Version</p>\n\n<p>Check the installed version of java using following command.</p>\n\n<pre><code>root@tecadmin ~# java -version\n\njava version \"1.8.0_51\"\nJava(TM) SE Runtime Environment (build 1.8.0_51-b16)\nJava HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)\n</code></pre>\n\n<p>Configuring Environment Variables</p>\n\n<p>Most of java based application\u2019s uses environment variables to work. Set the Java environment variables using following commands</p>\n\n<p>Setup JAVA_HOME Variable</p>\n\n<pre><code> # export JAVA_HOME=/opt/jdk1.8.0_51\nSetup JRE_HOME Variable\n\n # export JRE_HOME=$JAVA_HOME/jre\nSetup PATH Variable\n\n # export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH\n</code></pre>\n\n<p>Note that the change to the PATH variable put the new Java bin folders first so that they override any existing java/bins in the path.  It is a bit sloppy to leave two java/bin folders in your path so you should be advised to clean those up as a separate task.</p>\n\n<p>Also put all above environment variables in /etc/environment file for auto loading on system boot.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/32178062#32178062", "question_id": 22489398, "answer_id": 32178062}, {"body": "<p>Thanks everyone for solution.</p>\n\n<p>I could solve my same problem using below solution.</p>\n\n<p>In my project, I added jar which were created in Java8. And my project was referring to JRE 7. When i changed project JRE to 8. My problem solved.</p>\n\n<p>Steps:\nIn eclipse, right click on project name in project explorer > build path > Libraries > click on jre version > click edit > installed JRE > add > standerd VM > select JRE home click-path (path should be localePath\\java\\jdk1.8.0_25\\jre) > provide name > save > select same JRE for project > finish > ok\nRefresh/build project once > try to run your java file. it should work.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/32268949#32268949", "question_id": 22489398, "answer_id": 32268949}, {"body": "<p>If you are using eclipse, make sure your Project->properties->java build path->libraries->JRE system library matches to your project requirements. (As shown in the image)\n<a href=\"http://i.stack.imgur.com/VrV5R.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/VrV5R.png\" alt=\"enter image description here\"></a></p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/32677660#32677660", "question_id": 22489398, "answer_id": 32677660}, {"body": "<p>If you are using Intellij go to Project Structure (Ctrl+Alt+Shift+S), and you can change the your projects JDK.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/33214427#33214427", "question_id": 22489398, "answer_id": 33214427}, {"body": "<p>Just want to add this. I had this problem today. Adjusted the settings in my project, rebuilt, and same problem. I had (incorrectly) assumed that changing the settings in my project (Eclipse) would cause the projects on which my project depends to be recompiled also. \nAdjusting the settings to all of the projects up the dependency tree solved the problem.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/34199900#34199900", "question_id": 22489398, "answer_id": 34199900}, {"body": "<p>The issue is because of Java version mismatch. Referring to the <a href=\"https://en.wikipedia.org/wiki/Java_class_file\">Wikipedia Java Class Reference</a> :</p>\n\n<ul>\n<li>J2SE 8 = 52</li>\n<li>J2SE 7 = 51 </li>\n<li>J2SE 6.0 = 50  </li>\n<li>J2SE 5.0 = 49</li>\n<li>JDK 1.4 = 48</li>\n<li>JDK 1.3 = 47</li>\n<li>JDK 1.2 = 46</li>\n<li>JDK 1.1 = 45</li>\n</ul>\n\n<p>These are the reported major numbers. The error regarding the unsupported major.minor version is because <strong>during compile time you are using a higher JDK and a lower JDK during runtime</strong>.</p>\n\n<p>Thus, the 'major.minor version 52.0' error is possibly because the jar is compiled in jdk 1.8, but you are trying to run it in jdk 1.7 environment. To solve this, it's always better to have the jdk and jre pointed to the same version.</p>\n\n<p>In Intellij, </p>\n\n<ol start=\"2\">\n<li>Go to Maven Settings -> Maven -> Importing. Set the JDK for importer to 1.8</li>\n<li>Go to Maven Settings -> Maven -> Runner. Set the JRE to 1.8</li>\n<li>Go to File -> Project Structure -> SDKs. Make sure the JDK home path is set to 1.8</li>\n</ol>\n\n<p>Restart Intellij</p>\n\n<p>Another approach which might help is by instructing IDEA which JDK version to start up with.</p>\n\n<p>Go to : <strong>/Applications/IntelliJ\\ IDEA\\ 15\\ CE.app/Contents/Info.plist</strong>\nand replace the JVM version with :</p>\n\n<pre><code>&lt;key&gt;JVMVersion&lt;/key&gt;\n&lt;string&gt;1.8*&lt;/string&gt;\n</code></pre>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/35866015#35866015", "question_id": 22489398, "answer_id": 35866015}, {"body": "<p>If you have problem in Android Studio and you have installed Android N, change Android rendering version with older one and the problem will disappear.</p>\n\n<p><a href=\"http://i.stack.imgur.com/mn0Nk.png\"><img src=\"http://i.stack.imgur.com/mn0Nk.png\" alt=\"enter image description here\"></a></p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/35917239#35917239", "question_id": 22489398, "answer_id": 35917239}, {"body": "<p>I ran into this issue in Eclipse on Mac OS X Mavericks. I tried many answers on SO .. finally, after a full day I <strong><em>installed a fresh version of the Android SDK (and updated Eclipse Project->Properties->Android to use the new path)</em></strong>.  I had to get SDK updates, but only pulling down only those updates I thought were necessary, avoiding API I was not working with those APIs (like like Wear and TV) .. <strong><em>and that did the trick</em></strong>.  Apparently, it seems I had corrupted my SDK somewhere along the way.  </p>\n\n<p>btw .. I did see the error re-surface with one project in my workspace, but it seemed related to an import of appcompat-7, which I was not using.  After rm-ing that project, so far haven't seen the issue resurface.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/36076755#36076755", "question_id": 22489398, "answer_id": 36076755}, {"body": "<p>If you are using Linux and you have different versions of Java installed, use the following command:</p>\n\n<p>sudo update-alternatives --config java</p>\n\n<p>This will give a quick way of switching between the Java versions installed on the system. By choosing Java 8 i will solve your problem</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/36411559#36411559", "question_id": 22489398, "answer_id": 36411559}, {"body": "<p>It happens when you compile your projects on <code>higher version</code> of java(say jdk 1.8) and then run it on a <code>lower version</code> (say jdk 1.7).</p>\n\n<p>If you have JRE-1.7 library in your project path then ,</p>\n\n<p>1.Right click on <em>project</em></p>\n\n<p>2.Go to <em>Properties</em> </p>\n\n<p>3.Select <em>Project Facets</em></p>\n\n<p>4.Find Java in rows and then choose <em>version</em> (say 1.7) if using JRE-1.7</p>\n\n<p>5.Click <em>Apply</em> and run your project.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/36950742#36950742", "question_id": 22489398, "answer_id": 36950742}, {"body": "<p>Just go to <a href=\"http://java.com/en/download/\" rel=\"nofollow\">http://java.com/en/download/</a> and update your version of JRE</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/37058272#37058272", "question_id": 22489398, "answer_id": 37058272}, {"body": "<p>all you need to do to solve the problem is... to make sure your version of java is same for both compile and running. no matter what tools or ide you are using.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/37078605#37078605", "question_id": 22489398, "answer_id": 37078605}, {"body": "<p>Unsupported major.minor version 52.0 comes when you are trying to run a class compiled using Java 1.8 compiler into a lower JRE version e.g. JRE 1.7 or JRE 1.6. Simplest way to fix this error is install the latest Java release i.e. Java 8 and run your program.</p>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2015/05/fixing-unsupported-majorminor-version.html#ixzz4AVD4Evgv\" rel=\"nofollow\">http://javarevisited.blogspot.com/2015/05/fixing-unsupported-majorminor-version.html#ixzz4AVD4Evgv</a></p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/37609396#37609396", "question_id": 22489398, "answer_id": 37609396}, {"body": "<p>If your JDK version are right. Another reason may cause this error is that your Android Studio is in a low version but your gradle version are too high. <code>Upgrade your IDE to a newer version</code> may help this.</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/37894047#37894047", "question_id": 22489398, "answer_id": 37894047}, {"body": "<p>Upgrade your Andorra version to JDK 1.8\nThis is a version miss match that your compiler is looking for java version 8 and you have java version 7.\nYou can run an app build in version 7 in version 8, but you can't do vice versa because when it comes to higher levels ,versions are embedded with more features, enhancements rather than previous versions\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">Download JDK version from this link</a></p>\n\n<p>And set your JDK path for this</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/38144697#38144697", "question_id": 22489398, "answer_id": 38144697}, {"body": "<p>I solved mine by removing old versions of JRE and installed JRE 8</p>\n", "title": "Unsupported major.minor version 52.0", "tags": ["java", "applet", "version", "unsupported-class-version"], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0/38291448#38291448", "question_id": 22489398, "answer_id": 38291448}], "link": "http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0", "question_id": 22489398}, {"body": "<p>How can I use regular expressions in Excel and take advantage of Excel's powerful grid like setup for data manipulation?</p>\n\n<ul>\n<li>In-cell function to return matched pattern or replaced value in string.</li>\n<li>Sub to loop through a column of data and extract matches to adjacent cells.</li>\n<li>What setup is necessary?</li>\n<li>What are Excel's special characters for Regex expressions?</li>\n</ul>\n\n<hr>\n\n<p>I understand Regex is not ideal for many situations (<a href=\"http://stackoverflow.com/a/4098123/2521004\">To use or not to use regular expressions?</a>) since excel can use <code>Left</code>, <code>Mid</code>, <code>Right</code>, <code>Instr</code> type commands for similar manipulations.  </p>\n", "title": "How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops", "tags": ["regex", "vba", "excel-vba"], "answers": [{"body": "<p><a href=\"http://en.wikipedia.org/wiki/Regular_expressions\">Regular expressions</a> are used for Pattern Matching.  </p>\n\n<p>To use in Excel follow these steps :</p>\n\n<p><strong>Step 1</strong>: Add VBA reference to \"Microsoft VBScript Regular Expressions 5.5\"</p>\n\n<ul>\n<li>Select \"Developer\" tab (<a href=\"http://msdn.microsoft.com/en-us/library/bb608625.aspx\">I don't have this tab what do I do?</a>)</li>\n<li>Select \"Visual Basic\" icon from 'Code' ribbon section</li>\n<li>In \"Microsoft Visual Basic for Applications\" window select \"Tools\" from the top menu.</li>\n<li>Select \"References\"</li>\n<li>Check the box next to \"Microsoft VBScript Regular Expressions 5.5\" to include in your workbook.</li>\n<li>Click \"OK\"</li>\n</ul>\n\n<p><strong>Step 2</strong>: Define your pattern</p>\n\n<p><em>Basic definitions:</em></p>\n\n<p><code>-</code>  Range.  </p>\n\n<ul>\n<li>E.g. <code>a-z</code> matches an lower case letters from a to z</li>\n<li>E.g. <code>0-5</code> matches any number from 0 to 5</li>\n</ul>\n\n<p><code>[]</code> Match exactly one of the objects inside these brackets.</p>\n\n<ul>\n<li>E.g. <code>[a]</code> matches the letter a</li>\n<li>E.g. <code>[abc]</code> matches a single letter which can be a, b or c</li>\n<li>E.g. <code>[a-z]</code> matches any single lower case letter of the alphabet.</li>\n</ul>\n\n<p><code>()</code> Groups different matches for return purposes.  See examples below.</p>\n\n<p><code>{}</code> Multiplier for repeated copies of pattern defined before it.</p>\n\n<ul>\n<li>E.g. <code>[a]{2}</code> matches two consecutive lower case letter a: <code>aa</code></li>\n<li>E.g. <code>[a]{1,3}</code> matches at least one and up to three lower case letter <code>a</code>, <code>aa</code>, <code>aaa</code>           </li>\n</ul>\n\n<p><code>+</code>  Match at least one, or more, of the pattern defined before it.</p>\n\n<ul>\n<li>E.g. <code>a+</code> will match consecutive a's <code>a</code>, <code>aa</code>, <code>aaa</code>, and so on</li>\n</ul>\n\n<p><code>?</code>  Match zero or one of the pattern defined before it.</p>\n\n<ul>\n<li>E.g. Pattern may or may not be present but can only be matched one time.</li>\n<li>E.g. <code>[a-z]?</code> matches empty string or any single lower case letter.</li>\n</ul>\n\n<p><code>*</code>  Match zero or more of the pattern defined before it.\n - E.g. Wildcard for pattern that may or may not be present.\n - E.g. <code>[a-z]*</code> matches empty string or string of lower case letters.</p>\n\n<p><code>.</code>  Matches any character except newline <code>\\n</code></p>\n\n<ul>\n<li>E.g. <code>a.</code> Matches a two character string starting with a and ending with anything except <code>\\n</code></li>\n</ul>\n\n<p><code>|</code>  OR operator </p>\n\n<ul>\n<li>E.g. <code>a|b</code> means either <code>a</code> or <code>b</code> can be matched.</li>\n<li>E.g. <code>red|white|orange</code> matches exactly one of the colors.</li>\n</ul>\n\n<p><code>^</code>  NOT operator</p>\n\n<ul>\n<li>E.g. <code>[^0-9]</code> character can not contain a number</li>\n<li>E.g. <code>[^aA]</code> character can not be lower case <code>a</code> or upper case <code>A</code></li>\n</ul>\n\n<p><code>\\</code>  Escapes special character that follows (overrides above behavior)</p>\n\n<ul>\n<li>E.g. <code>\\.</code>, <code>\\\\</code>, <code>\\(</code>, <code>\\?</code>, <code>\\$</code>, <code>\\^</code></li>\n</ul>\n\n<hr>\n\n<p><em>Anchoring Patterns:</em></p>\n\n<p><code>^</code>  Match must occur at start of string</p>\n\n<ul>\n<li>E.g. <code>^a</code> First character must be lower case letter <code>a</code></li>\n<li>E.g. <code>^[0-9]</code> First character must be a number.</li>\n</ul>\n\n<p><code>$</code>  Match must occur at end of string</p>\n\n<ul>\n<li>E.g. <code>a$</code> Last character must be lower case letter <code>a</code>   </li>\n</ul>\n\n<hr>\n\n<p><em>Precedence table:</em></p>\n\n<pre><code>Order  Name                Representation\n1      Parentheses         ( )\n2      Multipliers         ? + * {m,n} {m, n}?\n3      Sequence &amp; Anchors  abc ^ $\n4      Alternation         |\n</code></pre>\n\n<hr>\n\n<p><em>Predefined Character Abbreviations:</em></p>\n\n<pre><code>abr    same as       meaning\n\\d     [0-9]         Any single digit\n\\D     [^0-9]        Any single character that's not a digit\n\\w     [a-zA-Z0-9_]  Any word character\n\\W     [^a-zA-Z0-9_] Any non-word character\n\\s     [ \\r\\t\\n\\f]   Any space character\n\\S     [^ \\r\\t\\n\\f]  Any non-space character\n\\n     [\\n]          New line\n</code></pre>\n\n<hr>\n\n<p><strong>Example 1</strong>: <em>Run as macro</em></p>\n\n<p>The following example macro looks at the value in cell <code>A1</code> to see if the first 1 or 2 characters are digits.  If so, they are removed and the rest of the string is displayed.  If not, then a box appears telling you that no match is found.  Cell <code>A1</code> values of <code>12abc</code> will return <code>abc</code>, value of <code>1abc</code> will return <code>abc</code>, value of <code>abc123</code> will return \"Not Matched\" because the digits were not at the start of the string.</p>\n\n<pre><code>Private Sub simpleRegex()\n    Dim strPattern As String: strPattern = \"^[0-9]{1,2}\"\n    Dim strReplace As String: strReplace = \"\"\n    Dim regEx As New RegExp\n    Dim strInput As String\n    Dim Myrange As Range\n\n    Set Myrange = ActiveSheet.Range(\"A1\")\n\n    If strPattern &lt;&gt; \"\" Then\n        strInput = Myrange.Value\n        strReplace = \"\"\n\n        With regEx\n            .Global = True\n            .MultiLine = True\n            .IgnoreCase = False\n            .Pattern = strPattern\n        End With\n\n        If regEx.Test(strInput) Then\n            MsgBox (regEx.Replace(strInput, strReplace))\n        Else\n            MsgBox (\"Not matched\")\n        End If\n    End If\nEnd Sub\n</code></pre>\n\n<hr>\n\n<p><strong>Example 2</strong>: <em>Run as an in-cell function</em></p>\n\n<p>This example is the same as example 1 but is setup to run as an in-cell function. To use, change the code to this:</p>\n\n<pre><code>Function simpleCellRegex(Myrange As Range) As String\n    Dim regEx As New RegExp\n    Dim strPattern As String\n    Dim strInput As String\n    Dim strReplace As String\n    Dim strOutput As String\n\n\n    strPattern = \"^[0-9]{1,3}\"\n\n    If strPattern &lt;&gt; \"\" Then\n        strInput = Myrange.Value\n        strReplace = \"\"\n\n        With regEx\n            .Global = True\n            .MultiLine = True\n            .IgnoreCase = False\n            .Pattern = strPattern\n        End With\n\n        If regEx.test(strInput) Then\n            simpleCellRegex = regEx.Replace(strInput, strReplace)\n        Else\n            simpleCellRegex = \"Not matched\"\n        End If\n    End If\nEnd Function\n</code></pre>\n\n<p>Place your strings (\"12abc\") in cell <code>A1</code>.  Enter this formula <code>=simpleCellRegex(A1)</code> in cell <code>B1</code> and the result will be \"abc\".</p>\n\n<p><img src=\"http://i.stack.imgur.com/q3RRC.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p><strong>Example 3</strong>: <em>Loop Through Range</em></p>\n\n<p>This example is the same as example 1 but loops through a range of cells.</p>\n\n<pre><code>Private Sub simpleRegex()\n    Dim strPattern As String: strPattern = \"^[0-9]{1,2}\"\n    Dim strReplace As String: strReplace = \"\"\n    Dim regEx As New RegExp\n    Dim strInput As String\n    Dim Myrange As Range\n\n    Set Myrange = ActiveSheet.Range(\"A1:A5\")\n\n    For Each cell In Myrange\n        If strPattern &lt;&gt; \"\" Then\n            strInput = cell.Value\n            strReplace = \"\"\n\n            With regEx\n                .Global = True\n                .MultiLine = True\n                .IgnoreCase = False\n                .Pattern = strPattern\n            End With\n\n            If regEx.Test(strInput) Then\n                MsgBox (regEx.Replace(strInput, strReplace))\n            Else\n                MsgBox (\"Not matched\")\n            End If\n        End If\n    Next\nEnd Sub\n</code></pre>\n\n<hr>\n\n<p><strong>Example 4</strong>: Splitting apart different patterns</p>\n\n<p>This example loops through a range (<code>A1</code>, <code>A2</code> &amp; <code>A3</code>) and looks for a string starting with three digits followed by a single alpha character and then 4 numeric digits.  The output splits apart the pattern matches into adjacent cells by using the <code>()</code>.  <code>$1</code> represents the first pattern matched within the first set of <code>()</code>.</p>\n\n<pre><code>Private Sub splitUpRegexPattern()\n    Dim regEx As New RegExp\n    Dim strPattern As String\n    Dim strInput As String\n    Dim strReplace As String\n    Dim Myrange As Range\n\n    Set Myrange = ActiveSheet.Range(\"A1:A3\")\n\n    For Each C In Myrange\n        strPattern = \"(^[0-9]{3})([a-zA-Z])([0-9]{4})\"\n\n        If strPattern &lt;&gt; \"\" Then\n            strInput = C.Value\n            strReplace = \"$1\"\n\n            With regEx\n                .Global = True\n                .MultiLine = True\n                .IgnoreCase = False\n                .Pattern = strPattern\n            End With\n\n            If regEx.test(strInput) Then\n                C.Offset(0, 1) = regEx.Replace(strInput, \"$1\")\n                C.Offset(0, 2) = regEx.Replace(strInput, \"$2\")\n                C.Offset(0, 3) = regEx.Replace(strInput, \"$3\")\n            Else\n                C.Offset(0, 1) = \"(Not matched)\"\n            End If\n        End If\n    Next\nEnd Sub\n</code></pre>\n\n<p>Results:</p>\n\n<p><img src=\"http://i.stack.imgur.com/9eCZ5.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p><strong>Additional Pattern Examples</strong></p>\n\n<pre><code>String   Regex Pattern                  Explanation\na1aaa    [a-zA-Z][0-9][a-zA-Z]{3}       Single alpha, single digit, three alpha characters\na1aaa    [a-zA-Z]?[0-9][a-zA-Z]{3}      May or may not have preceeding alpha character\na1aaa    [a-zA-Z][0-9][a-zA-Z]{0,3}     Single alpha, single digit, 0 to 3 alpha characters\na1aaa    [a-zA-Z][0-9][a-zA-Z]*         Single alpha, single digit, followed by any number of alpha characters\n\n&lt;/i8&gt;    \\&lt;\\/[a-zA-Z][0-9]\\&gt;            Exact non-word character except any single alpha followed by any single digit\n</code></pre>\n", "title": "How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops", "tags": ["regex", "vba", "excel-vba"], "link": "http://stackoverflow.com/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops/22542835#22542835", "question_id": 22542834, "answer_id": 22542835}, {"body": "<p>To make use of regular expressions directly in Excel formulas the following UDF (user defined function) can be of help. It more or less directly exposes regular expression functionality as an excel function.</p>\n\n<h2>How it works</h2>\n\n<p>It takes 2-3 parameters.</p>\n\n<ol>\n<li>A text to use the regular expression on.</li>\n<li>A regular expression.</li>\n<li>A format string specifying how the result should look. It can contain <code>$0</code>, <code>$1</code>, <code>$2</code>, and so on. <code>$0</code> is the entire match, <code>$1</code> and up correspond to the respective match groups in the regular expression. Defaults to <code>$0</code>.</li>\n</ol>\n\n<h2>Some examples</h2>\n\n<p>Extracting an email address:</p>\n\n<pre><code>=regex(\"Peter Gordon: some@email.com, 47\", \"\\w+@\\w+\\.\\w+\")\n=regex(\"Peter Gordon: some@email.com, 47\", \"\\w+@\\w+\\.\\w+\", \"$0\")\n</code></pre>\n\n<p>Results in: <code>some@email.com</code></p>\n\n<p>Extracting several substrings:</p>\n\n<pre><code>=regex(\"Peter Gordon: some@email.com, 47\", \"^(.+): (.+), (\\d+)$\", \"E-Mail: $2, Name: $1\")\n</code></pre>\n\n<p>Results in: <code>E-Mail: some@email.com, Name: Peter Gordon</code></p>\n\n<p>To take apart a combined string in a single cell into its components in multiple cells:</p>\n\n<pre><code>=regex(\"Peter Gordon: some@email.com, 47\", \"^(.+): (.+), (\\d+)$\", \"$\" &amp; 1)\n=regex(\"Peter Gordon: some@email.com, 47\", \"^(.+): (.+), (\\d+)$\", \"$\" &amp; 2)\n</code></pre>\n\n<p>Results in: <code>Peter Gordon</code> <code>some@email.com</code> ...</p>\n\n<h2>How to use</h2>\n\n<p>To use this UDF do the following (roughly based on <a href=\"https://support.office.com/en-in/article/Create-Custom-Functions-in-Excel-2007-2f06c10b-3622-40d6-a1b2-b6748ae8231f\">this Microsoft page</a>. They have some good additional info there!):</p>\n\n<ol>\n<li>In Excel in a Macro enabled file ('.xlsm') push <code>ALT+F11</code> to open the <em>Microsoft Visual Basic for Applications</em> Editor.</li>\n<li>Add VBA reference to the Regular Expressions library (shamelessly copied from <a href=\"/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops#answer-22542835\">Portland Runners++ answer</a>):\n\n<ol>\n<li>Click on <em>Tools</em> -> <em>References</em> (please excuse the german screenshot)\n<img src=\"http://i.stack.imgur.com/etyH4.png\" alt=\"Tools -&gt; References\"></li>\n<li>Find <em>Microsoft VBScript Regular Expressions 5.5</em> in the list and tick the checkbox next to it.</li>\n<li>Click <em>OK</em>.</li>\n</ol></li>\n<li><p>Click on <em>Insert Module</em>. If you give your module a different name make sure the Module does <em>not</em> have the same name as the UDF below (e.g. naming the Module <code>Regex</code> and the function <code>regex</code> causes <em>#NAME!</em> errors).</p>\n\n<p><img src=\"http://i.stack.imgur.com/nlTpn.png\" alt=\"Second icon in the icon row -&gt; Module\"></p></li>\n<li><p>In the big text window in the middle insert the following:</p>\n\n<pre><code>Function regex(strInput As String, matchPattern As String, Optional ByVal outputPattern As String = \"$0\") As Variant\n    Dim inputRegexObj As New VBScript_RegExp_55.RegExp, outputRegexObj As New VBScript_RegExp_55.RegExp, outReplaceRegexObj As New VBScript_RegExp_55.RegExp\n    Dim inputMatches As Object, replaceMatches As Object, replaceMatch As Object\n    Dim replaceNumber As Integer\n\n    With inputRegexObj\n        .Global = True\n        .MultiLine = True\n        .IgnoreCase = False\n        .Pattern = matchPattern\n    End With\n    With outputRegexObj\n        .Global = True\n        .MultiLine = True\n        .IgnoreCase = False\n        .Pattern = \"\\$(\\d+)\"\n    End With\n    With outReplaceRegexObj\n        .Global = True\n        .MultiLine = True\n        .IgnoreCase = False\n    End With\n\n    Set inputMatches = inputRegexObj.Execute(strInput)\n    If inputMatches.Count = 0 Then\n        regex = False\n    Else\n        Set replaceMatches = outputRegexObj.Execute(outputPattern)\n        For Each replaceMatch In replaceMatches\n            replaceNumber = replaceMatch.SubMatches(0)\n            outReplaceRegexObj.Pattern = \"\\$\" &amp; replaceNumber\n\n            If replaceNumber = 0 Then\n                outputPattern = outReplaceRegexObj.Replace(outputPattern, inputMatches(0).Value)\n            Else\n                If replaceNumber &gt; inputMatches(0).SubMatches.Count Then\n                    'regex = \"A to high $ tag found. Largest allowed is $\" &amp; inputMatches(0).SubMatches.Count &amp; \".\"\n                    regex = CVErr(xlErrValue)\n                    Exit Function\n                Else\n                    outputPattern = outReplaceRegexObj.Replace(outputPattern, inputMatches(0).SubMatches(replaceNumber - 1))\n                End If\n            End If\n        Next\n        regex = outputPattern\n    End If\nEnd Function\n</code></pre></li>\n<li><p>Save and close the <em>Microsoft Visual Basic for Applications</em> Editor window.</p></li>\n</ol>\n", "title": "How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops", "tags": ["regex", "vba", "excel-vba"], "link": "http://stackoverflow.com/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops/28176749#28176749", "question_id": 22542834, "answer_id": 28176749}, {"body": "<p>I am not an expert as you people are, even then here is my way.</p>\n\n<pre><code>Function RegParse(ByVal pattern As String, ByVal html As String)\n    Dim regex   As RegExp\n    Set regex = New RegExp\n\n    With regex\n        .IgnoreCase = True  'ignoring cases while regex engine performs the search.\n        .pattern = pattern  'declaring regex pattern.\n        .Global = False     'restricting regex to find only first match.\n\n        If .Test(html) Then         'Testing if the pattern matches or not\n            mStr = .Execute(html)(0)        '.Execute(html)(0) will provide the String which matches with Regex\n            RegParse = .Replace(mStr, \"$1\") '.Replace function will replace the String with whatever is in the first set of braces - $1.\n        Else\n            RegParse = \"#N/A\"\n        End If\n\n    End With\nEnd Function\n</code></pre>\n", "title": "How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops", "tags": ["regex", "vba", "excel-vba"], "link": "http://stackoverflow.com/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops/32061090#32061090", "question_id": 22542834, "answer_id": 32061090}], "link": "http://stackoverflow.com/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops", "question_id": 22542834}, {"body": "<p>in the snippet like this: </p>\n\n<pre><code>gulp.task \"coffee\", -&gt;\n    gulp.src(\"src/server/**/*.coffee\")\n        .pipe(coffee {bare: true}).on(\"error\",gutil.log)\n        .pipe(gulp.dest \"bin\")\n\ngulp.task \"clean\",-&gt;\n    gulp.src(\"bin\", {read:false})\n        .pipe clean\n            force:true\n\ngulp.task 'develop',['clean','coffee'], -&gt;\n    console.log \"run something else\"\n</code></pre>\n\n<p>In <code>develop</code> task I want to run <code>clean</code> and after it's done, run <code>coffee</code> and when that's done, run something else. But I can't figure that out. This piece doesn't work. Please advise. </p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "answers": [{"body": "<p>By default, gulp runs tasks simultaneously, unless they have explicit dependencies.  This isn't very useful for tasks like <code>clean</code>, where you don't want to depend, but you need them to run before everything else.</p>\n\n<p>I wrote <a href=\"https://www.npmjs.org/package/run-sequence\">the <code>run-sequence</code> plugin</a> specifically to fix this issue with gulp.  After you install it, use it like this:</p>\n\n<pre><code>var runSequence = require('run-sequence');\n\ngulp.task('develop', function(done) {\n    runSequence('clean', 'coffee', function() {\n        console.log('Run something else');\n        done();\n    });\n});\n</code></pre>\n\n<p>You can read the full instructions on the package README \u2014 it also supports running some sets of tasks simultaneously.</p>\n\n<p>Please note, this will be <a href=\"https://github.com/gulpjs/gulp/issues/355\">(effectively) fixed in the next major release of gulp</a>, as they are completely eliminating the automatic dependency ordering, and providing tools similar to <code>run-sequence</code> to allow you to manually specify run order how you want.</p>\n\n<p>However, that is a major breaking change, so there's no reason to wait when you can use <code>run-sequence</code> today.</p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/22826429#22826429", "question_id": 22824546, "answer_id": 22826429}, {"body": "<p>The only good solution to this problem can be found in the gulp documentation which can be found <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/API.md#async-task-support\">here</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var gulp = require('gulp');\n\n// takes in a callback so the engine knows when it'll be done\ngulp.task('one', function(cb) {\n  // do stuff -- async or otherwise\n  cb(err); // if err is not null and not undefined, the orchestration will stop, and 'two' will not run\n});\n\n// identifies a dependent task must be complete before this one begins\ngulp.task('two', ['one'], function() {\n  // task 'one' is done now\n});\n\ngulp.task('default', ['one', 'two']);\n// alternatively: gulp.task('default', ['two']);\n</code></pre>\n\n\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/26390567#26390567", "question_id": 22824546, "answer_id": 26390567}, {"body": "<p>Try this hack :-) \n<a href=\"https://medium.com/@willbittner/gulp-v3-x-hack-to-fix-error-gulp-resolve-dependencies-file-not-found-and-tasks-being-executed-d6b8f9df7df3\" rel=\"nofollow\">Gulp v3.x Hack for Async bug</a></p>\n\n<p>I tried all of the \"official\" ways in the Readme, they didn't work for me but this did. You can also upgrade to gulp 4.x but I highly recommend you don't, it breaks so much stuff. You could use a real js promise, but hey, this is quick, dirty, simple :-)\nEssentially you use:</p>\n\n<pre><code>var wait = 0; // flag to signal thread that task is done\nif(wait == 0) setTimeout(... // sleep and let nodejs schedule other threads\n</code></pre>\n\n<p>Check out the post!</p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/29689755#29689755", "question_id": 22824546, "answer_id": 29689755}, {"body": "<p>I generated a node/gulp app using the <a href=\"https://github.com/yeoman/generator-gulp-webapp\">generator-gulp-webapp</a> Yoeman generator.  It handled the \"clean conundrum\" this way (translating to the original tasks mentioned in the question):</p>\n\n<pre><code>gulp.task('develop', ['clean'], function () {\n  gulp.start('coffee');\n});\n</code></pre>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/29755873#29755873", "question_id": 22824546, "answer_id": 29755873}, {"body": "<p>I was having this exact same problem and the solution turned out to be pretty easy for me.  Basically change your code to the following and it should work. NOTE: the return before gulp.src made all the difference for me.</p>\n\n<pre><code>gulp.task \"coffee\", -&gt;\n    return gulp.src(\"src/server/**/*.coffee\")\n        .pipe(coffee {bare: true}).on(\"error\",gutil.log)\n        .pipe(gulp.dest \"bin\")\n\ngulp.task \"clean\",-&gt;\n    return gulp.src(\"bin\", {read:false})\n        .pipe clean\n            force:true\n\ngulp.task 'develop',['clean','coffee'], -&gt;\n    console.log \"run something else\"\n</code></pre>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/29846174#29846174", "question_id": 22824546, "answer_id": 29846174}, {"body": "<p>Simply make <code>coffee</code> depend on <code>clean</code>, and <code>develop</code> depend on <code>coffee</code>:</p>\n\n<pre><code>gulp.task('coffee', ['clean'], function(){...});\ngulp.task('develop', ['coffee'], function(){...});\n</code></pre>\n\n<p>Dispatch is now serial: <code>clean</code> &#8594; <code>coffee</code> &#8594; <code>develop</code>. Note that <code>clean</code>'s implementation and <code>coffee</code>'s implementation <strong>must</strong> accept a callback, <a href=\"https://github.com/gulpjs/gulp/blob/master/docs/API.md\" rel=\"nofollow\">\"so the engine knows when it'll be done\"</a>:</p>\n\n<pre><code>gulp.task('clean', function(callback){\n  del(['dist/*'], callback);\n});\n</code></pre>\n\n<p>In conclusion, below is a <strong>simple gulp pattern for a synchronous <code>clean</code> followed by asynchronous build dependencies</strong>:</p>\n\n<pre><code>//build sub-tasks\ngulp.task('bar', ['clean'], function(){...});\ngulp.task('foo', ['clean'], function(){...});\ngulp.task('baz', ['clean'], function(){...});\n...\n\n//main build task\ngulp.task('build', ['foo', 'baz', 'bar', ...], function(){...})\n</code></pre>\n\n<p>Gulp is smart enough to run <code>clean</code> exactly once per <code>build</code>, no matter how many of <code>build</code>'s dependencies depend on <code>clean</code>. As written above, <code>clean</code> is a synchronization barrier, then all of <code>build</code>'s dependencies run in parallel, then <code>build</code> runs.</p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/31225490#31225490", "question_id": 22824546, "answer_id": 31225490}, {"body": "<p>It's not official release yet, the coming up Gulp 4.0 lets you easily do synchronous tasks with gulp.series. You can simply do it like this:</p>\n\n<pre><code>gulp.task('develop', gulp.series('clean', 'coffee'))\n</code></pre>\n\n<p>I found a good blog post introducing how to upgrade and make a use of those neat features:\n <a href=\"https://blog.wearewizards.io/migrating-to-gulp-4-by-example\">migrating to gulp 4 by example</a></p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/31329150#31329150", "question_id": 22824546, "answer_id": 31329150}, {"body": "<p>According to the Gulp docs: </p>\n\n<blockquote>\n  <p>Are your tasks running before the dependencies are complete? Make sure your dependency tasks are correctly using the async run hints: take in a callback or return a promise or event stream.</p>\n</blockquote>\n\n<p>To run your sequence of tasks synchronously:</p>\n\n<ol>\n<li>Return the event stream (e.g. <code>gulp.src</code>) to <code>gulp.task</code> to inform\nthe task of when the stream ends.</li>\n<li>Declare task dependencies in the second argument of <code>gulp.task</code>.</li>\n</ol>\n\n<p>See the revised code:</p>\n\n<pre><code>gulp.task \"coffee\", -&gt;\n    return gulp.src(\"src/server/**/*.coffee\")\n        .pipe(coffee {bare: true}).on(\"error\",gutil.log)\n        .pipe(gulp.dest \"bin\")\n\ngulp.task \"clean\", ['coffee'], -&gt;\n      return gulp.src(\"bin\", {read:false})\n        .pipe clean\n            force:true\n\ngulp.task 'develop',['clean','coffee'], -&gt;\n    console.log \"run something else\"\n</code></pre>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/32188928#32188928", "question_id": 22824546, "answer_id": 32188928}, {"body": "<p>I was searching for this answer for a while. Now I got it in the official gulp documentation. </p>\n\n<p>If you want to perform a gulp task when the last one is complete, you have to return a stream:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>gulp.task('wiredep', ['dev-jade'], function () {\r\n    var stream = gulp.src(paths.output + '*.html')\r\n        .pipe($.wiredep())\r\n        .pipe(gulp.dest(paths.output));\r\n\r\n    return stream; // execute next task when this is completed\r\n});\r\n\r\n// First will execute and complete wiredep task\r\ngulp.task('prod-jade', ['wiredep'], function() {\r\n    gulp.src(paths.output + '**/*.html')\r\n        .pipe($.minifyHtml())\r\n        .pipe(gulp.dest(paths.output));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/34808309#34808309", "question_id": 22824546, "answer_id": 34808309}, {"body": "<p>Gulp and Node use <strong>promises</strong>.</p>\n\n<p>So you can do this:</p>\n\n<pre><code>// ... require gulp, del, etc\n\nfunction cleanTask() {\n  return del('./dist/');\n}\n\nfunction bundleVendorsTask() {\n  return gulp.src([...])\n    .pipe(...)\n    .pipe(gulp.dest('...'));\n}\n\nfunction bundleAppTask() {\n  return gulp.src([...])\n    .pipe(...)\n    .pipe(gulp.dest('...'));\n}\n\nfunction tarTask() {\n  return gulp.src([...])\n    .pipe(...)\n    .pipe(gulp.dest('...'));\n}\n\ngulp.task('deploy', function deployTask() {\n  // 1. Run the clean task\n  cleanTask().then(function () {\n    // 2. Clean is complete. Now run two tasks in parallel\n    Promise.all([\n      bundleVendorsTask(),\n      bundleAppTask()\n    ]).then(function () {\n      // 3. Two tasks are complete, now run the final task.\n      tarTask();\n    });\n  });\n});\n</code></pre>\n\n<p>If you return the gulp stream, you can use the <code>then()</code> method to add a callback. Alternately, you can use Node's native <code>Promise</code> to create your own promises. Here I use <code>Promise.all()</code> to have one callback that fires when all the promises resolve.</p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/35183849#35183849", "question_id": 22824546, "answer_id": 35183849}, {"body": "<p>For me it was not running the minify task after concatenation as it expects concatenated input and it was not generated some times. </p>\n\n<p>I tried adding to a default task in execution order and it didn't worked. It worked after adding just a <code>return</code> for each tasks and getting the minification inside <code>gulp.start()</code> like below.</p>\n\n<pre><code>/**\n* Concatenate JavaScripts\n*/\ngulp.task('concat-js', function(){\n    return gulp.src([\n        'js/jquery.js',\n        'js/jquery-ui.js',\n        'js/bootstrap.js',\n        'js/jquery.onepage-scroll.js',\n        'js/script.js'])\n    .pipe(maps.init())\n    .pipe(concat('ux.js'))\n    .pipe(maps.write('./'))\n    .pipe(gulp.dest('dist/js'));\n});\n\n/**\n* Minify JavaScript\n*/\ngulp.task('minify-js', function(){\n    return gulp.src('dist/js/ux.js')\n    .pipe(uglify())\n    .pipe(rename('ux.min.js'))\n    .pipe(gulp.dest('dist/js'));\n});\n\ngulp.task('concat', ['concat-js'], function(){\n   gulp.start('minify-js');\n});\n\ngulp.task('default',['concat']); \n</code></pre>\n\n<p>Source <a href=\"http://schickling.me/synchronous-tasks-gulp/\" rel=\"nofollow\">http://schickling.me/synchronous-tasks-gulp/</a></p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/35533842#35533842", "question_id": 22824546, "answer_id": 35533842}, {"body": "<p><a href=\"https://www.npmjs.org/package/run-sequence\" rel=\"nofollow\">run-sequence</a> is the most clear way (at least until Gulp 4.0 is released)</p>\n\n<p><strong>With run-sequence</strong>, your task will look like this:</p>\n\n<pre><code>var sequence = require('run-sequence');\n/* ... */\ngulp.task('develop', function (done) {\n    sequence('clean', 'coffee', done);\n});\n</code></pre>\n\n<p>But if you (for some reason) prefer not using it, <strong><code>gulp.start</code> method will help</strong>:</p>\n\n<pre><code>gulp.task('develop', ['clean'], function (done) {\n    gulp.on('task_stop', function (event) {\n        if (event.task === 'coffee') {\n            done();\n        }\n    });\n    gulp.start('coffee');\n});\n</code></pre>\n\n<p><strong>Note:</strong> <em>If you only start task without listening to result, <code>develop</code> task will finish earlier than <code>coffee</code>, and that may be confusing.</em></p>\n\n<p>You may also <strong>remove event listener</strong> when not needed</p>\n\n<pre><code>gulp.task('develop', ['clean'], function (done) {\n    function onFinish(event) {\n        if (event.task === 'coffee') {\n            gulp.removeListener('task_stop', onFinish);\n            done();\n        }\n    }\n    gulp.on('task_stop', onFinish);\n    gulp.start('coffee');\n});\n</code></pre>\n\n<p>Consider <strong>there is also <code>task_err</code> event</strong> you may want to listen to.\n<code>task_stop</code> is triggered on successful finish, while <code>task_err</code> appears when there is some error.</p>\n\n<p>You may also wonder why there is no official documentation for <code>gulp.start()</code>. This answer from gulp member explains the things: </p>\n\n<blockquote>\n  <p><code>gulp.start</code> is undocumented on purpose because it can lead to complicated build files and we don't want people using it</p>\n</blockquote>\n\n<p>(source: <a href=\"https://github.com/gulpjs/gulp/issues/426#issuecomment-41208007\" rel=\"nofollow\">https://github.com/gulpjs/gulp/issues/426#issuecomment-41208007</a>) </p>\n", "title": "How to run Gulp tasks sequentially one after the other", "tags": ["javascript", "node.js", "coffeescript", "gulp"], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other/38818657#38818657", "question_id": 22824546, "answer_id": 38818657}], "link": "http://stackoverflow.com/questions/22824546/how-to-run-gulp-tasks-sequentially-one-after-the-other", "question_id": 22824546}, {"body": "<p>Has anyone using <code>RecyclerView</code> found a way to set an <code>onClickListener</code> to items in the <code>RecyclerView</code>?\nI thought of setting a listener to each of the layouts for each item but that seems a little too much hassle\nI'm sure there is a way for the <code>RecyclerView</code> to listen for the <code>onClick</code> event but I can't quite figure it out.</p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "answers": [{"body": "<p>As the API's have radically changed, It wouldn't surprise me if you were to create an <code>OnClickListener</code> for each item. It isn't that much of a hassle though. In your implementation of <code>RecyclerView.Adapter&lt;MyViewHolder&gt;</code>, you should have: </p>\n\n<pre><code>private final OnClickListener mOnClickListener = new MyOnClickListener();\n\n@Override\npublic MyViewHolder onCreateViewHolder(final ViewGroup parent, final int position) {\n    View view = LayoutInflater.from(mContext).inflate(R.layout.myview, parent, false);\n    view.setOnClickListener(mOnClickListener);\n    return new MyViewHolder(view);\n}\n</code></pre>\n\n<p>The <code>onClick</code> method:</p>\n\n<pre><code>@Override\npublic void onClick(final View view) {\n    int itemPosition = mRecyclerView.getChildLayoutPosition(view);\n    String item = mList.get(itemPosition);\n    Toast.makeText(mContext, item, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/24471410#24471410", "question_id": 24471109, "answer_id": 24471410}, {"body": "<p>Check out a similar <a href=\"http://stackoverflow.com/questions/24562744/challenges-in-recyclerview-of-android-l\">question</a> <strong>@CommonsWare's</strong> comment links to <a href=\"https://gist.github.com/grantland/cd70814fe4ac369e3e92\">this</a>, which implements the <code>OnClickListener</code> interface in the <code>viewHolder</code>.</p>\n\n<p>Here's a simple example of the <code>ViewHolder</code>:</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n      public TextView mTextView;\n\n      private ViewHolder(View itemView, TextView textView) {\n            super(itemView);\n            itemView.setOnClickListener(this);\n            mTextView = textView;\n      }\n\n      @Override\n      public void onClick(View view) {\n            Toast.makeText(view.getContext(), \"position = \" + getPosition(), Toast.LENGTH_SHORT).show();\n      }\n  }\n</code></pre>\n\n<p>The <code>Adapter</code> then looks like this:</p>\n\n<pre><code>    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(android.R.layout.simple_list_item_1, parent, false);\n        TextView textView = (TextView) view.findViewById(android.R.id.text1);\n        return new ViewHolder(view, textView);\n    }\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/24746411#24746411", "question_id": 24471109, "answer_id": 24746411}, {"body": "<p>This is what I ended up needing, in case someone finds it useful:    </p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder {\n\n    public ViewHolder(View item) {\n\n        super(item);\n        item.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.d(\"RecyclerView\", \"onClick\uff1a\" + getPosition());\n            }\n        });\n\n    }\n}\n</code></pre>\n\n<p>Source: <a href=\"http://blog.csdn.net/jwzhangjie/article/details/36868515\">http://blog.csdn.net/jwzhangjie/article/details/36868515</a></p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/24931398#24931398", "question_id": 24471109, "answer_id": 24931398}, {"body": "<p>Here is a better and less tightly coupled way to implement an <code>OnClickListener</code> for a <code>RecyclerView</code>.  </p>\n\n<p>Snippet of usage:</p>\n\n<pre><code>RecyclerView recyclerView = findViewById(R.id.recycler);\nrecyclerView.addOnItemTouchListener(\n    new RecyclerItemClickListener(context, recyclerView ,new RecyclerItemClickListener.OnItemClickListener() {\n      @Override public void onItemClick(View view, int position) {\n        // do whatever\n      }\n\n      @Override public void onLongItemClick(View view, int position) {\n        // do whatever\n      }\n    })\n);\n</code></pre>\n\n<p><code>RecyclerItemClickListener</code> implementation:</p>\n\n<pre><code>import android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\n\n\npublic class RecyclerItemClickListener implements RecyclerView.OnItemTouchListener {\n  private OnItemClickListener mListener;\n\n  public interface OnItemClickListener {\n    public void onItemClick(View view, int position);\n\n    public void onLongItemClick(View view, int position);\n  }\n\n  GestureDetector mGestureDetector;\n\n  public RecyclerItemClickListener(Context context, final RecyclerView recyclerView, OnItemClickListener listener) {\n    mListener = listener;\n    mGestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener() {\n        @Override\n        public boolean onSingleTapUp(MotionEvent e) {\n            return true;\n        }\n\n        @Override\n        public void onLongPress(MotionEvent e) {\n            View child = recyclerView.findChildViewUnder(e.getX(), e.getY());\n            if (child != null &amp;&amp; mListener != null) {\n                mListener.onLongItemClick(child, recyclerView.getChildAdapterPosition(child));\n            }\n        }\n    });\n}\n\n  @Override public boolean onInterceptTouchEvent(RecyclerView view, MotionEvent e) {\n    View childView = view.findChildViewUnder(e.getX(), e.getY());\n    if (childView != null &amp;&amp; mListener != null &amp;&amp; mGestureDetector.onTouchEvent(e)) {\n      mListener.onItemClick(childView, view.getChildAdapterPosition(childView));\n      return true;\n    }\n    return false;\n  }\n\n  @Override public void onTouchEvent(RecyclerView view, MotionEvent motionEvent) { }\n\n  @Override\n  public void onRequestDisallowInterceptTouchEvent (boolean disallowIntercept){}\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/26196831#26196831", "question_id": 24471109, "answer_id": 26196831}, {"body": "<p>For me, this is the best way:</p>\n\n<pre><code>class YourRecyclerAdapter extends RecyclerView.Adapter&lt;ContactViewHolder&gt; implements View.OnClickListener { \n  ...\n  @Override\n  public void onClick(View view) {\n        int itemPosition = vRecycle.getChildPosition(view);\n        //And use itemPosition to get the item from your collection. This way you dont restrain the ViewHolder with a OnClick callback\n    }\n  ...\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/26553536#26553536", "question_id": 24471109, "answer_id": 26553536}, {"body": "<p>All the answers posted so far are great solutions, however if you do not want to deal with too many implementation details, and just want it to work similarly to how ListView does, I would recommend using TwoWay-View, as seen here:</p>\n\n<p><a href=\"https://github.com/lucasr/twoway-view\" rel=\"nofollow\">https://github.com/lucasr/twoway-view</a></p>\n\n<p>Note that this implementation also supports long press on items, as well as support for pressed states (which is something important that other solutions to this question lack).</p>\n\n<p>If you don't want to use the entire library, take a look at the <a href=\"https://github.com/lucasr/twoway-view/blob/master/core/src/main/java/org/lucasr/twowayview/ClickItemTouchListener.java\" rel=\"nofollow\">ClickItemTouchListener</a> class, which can be used as a standalone if needed. The only issue I found with it at the moment is with long press + scrolling, it seems to have incorrect behaviour. </p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/26597650#26597650", "question_id": 24471109, "answer_id": 26597650}, {"body": "<p>This is what worked for me. Attach the <code>OnClickListener</code> to the <code>onBindView</code>. I don't really know if this will impact the performance, but it seems to work fine with little code.</p>\n\n<pre><code>public void onBindViewHolder(ViewHolder holder, final int position) {\n    holder.view.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, \"Recycle Click\" + position, Toast.LENGTH_SHORT).show();\n            }\n    });\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/26701352#26701352", "question_id": 24471109, "answer_id": 26701352}, {"body": "<p>Based on Jacob Tabak's answer (+1 for him), I was able to add onLongClick listener:</p>\n\n<pre><code>import android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\n\npublic class RecyclerItemClickListener implements RecyclerView.OnItemTouchListener {\n    public interface OnItemClickListener {\n        void onItemClick(View view, int position);\n\n        void onItemLongClick(View view, int position);\n    }\n\n    private OnItemClickListener mListener;\n\n    private GestureDetector mGestureDetector;\n\n    public RecyclerItemClickListener(Context context, final RecyclerView recyclerView, OnItemClickListener listener) {\n        mListener = listener;\n\n        mGestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener() {\n            @Override\n            public boolean onSingleTapUp(MotionEvent e) {\n                return true;\n            }\n\n            @Override\n            public void onLongPress(MotionEvent e) {\n                View childView = recyclerView.findChildViewUnder(e.getX(), e.getY());\n\n                if (childView != null &amp;&amp; mListener != null) {\n                    mListener.onItemLongClick(childView, recyclerView.getChildAdapterPosition(childView));\n                }\n            }\n        });\n    }\n\n    @Override\n    public boolean onInterceptTouchEvent(RecyclerView view, MotionEvent e) {\n        View childView = view.findChildViewUnder(e.getX(), e.getY());\n\n        if (childView != null &amp;&amp; mListener != null &amp;&amp; mGestureDetector.onTouchEvent(e)) {\n            mListener.onItemClick(childView, view.getChildAdapterPosition(childView));\n        }\n\n        return false;\n    }\n\n    @Override\n    public void onTouchEvent(RecyclerView view, MotionEvent motionEvent) {\n    }\n\n    @Override\n    public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>recyclerView.addOnItemTouchListener(new RecyclerItemClickListener(getActivity(), recyclerView, new RecyclerItemClickListener.OnItemClickListener() {\n    @Override\n    public void onItemClick(View view, int position) {\n        // ...\n    }\n\n    @Override\n    public void onItemLongClick(View view, int position) {\n        // ...\n    }\n}));\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/26826692#26826692", "question_id": 24471109, "answer_id": 26826692}, {"body": "<p>Here is what I did. This solution supports both onClick and onLongClick on both RecyclerView Items and Views insides RecyclerView Items (internal views).</p>\n\n<p>I tag viewHolder on the views of my choice :</p>\n\n<pre><code>public RecyclerViewAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_item, null);\n    ViewHolder viewHolder = new ViewHolder(itemView);\n\n    itemView.setOnClickListener( this);\n    itemView.setOnLongClickListener(this);\n    viewHolder.imageIV.setOnClickListener(this);\n    viewHolder.imageIV.setOnLongClickListener(this);\n\n    viewHolder.imageIV.setTag(viewHolder);\n    itemView.setTag(viewHolder);\n\n    return viewHolder;\n}\n</code></pre>\n\n<p>And I use holder.getPosition() to retrieve the position in onClick() method  (onLongClick is similar) :</p>\n\n<pre><code>public void onClick(View view) {\n    ViewHolder holder = (ViewHolder) view.getTag();\n    int position = holder.getPosition();\n\n    if (view.getId() == holder.imageIV.getId()){\n        Toast.makeText(context, \"imageIV onClick at\" + position, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(context, \"RecyclerView Item onClick at \" + position, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>A variant with getChildPosition also works. Please note that for the internal views, in onClick() use  :</p>\n\n<pre><code>int position = recyclerView.getChildPosition((View)view.getParent());\n</code></pre>\n\n<p>To my mind, the avantage of this solution is that when one clicks on the image, only the onclick() image listener is called whereas when I combined Jacob's  solution for a RecyclerView Item view and  my solution for internal views the  RecyclerView Item view onclick() is also called (when click on image). </p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/26940812#26940812", "question_id": 24471109, "answer_id": 26940812}, {"body": "<blockquote>\n  <p>here is complete code for my custom adapter  this code will inflate the rows with list items defined in the xml file named \"list_item\" it will also perform click event on all list items rows with respective positions.</p>\n</blockquote>\n\n<p>public class MyCustomAdapter extends RecyclerView.Adapter<code>&lt;</code>AdapterMyCustomAdapter.ViewHolder> {</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements OnClickListener{\n\n    public onItemClickListener mListener;\n\n    public ViewHolder(View v, onItemClickListener listener) {\n        super(v);\n        mListener =listener;\n        v.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View v) {\n        mListener.onRecyclerItemClick(v, getPosition());\n    }\n\n    public static interface onItemClickListener {\n        public void onRecyclerItemClick(View view , int position);\n\n    }\n\n}\n\n@Override\npublic int getItemCount() {\n\n    return 5;\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder holder, int pos) {      \n\n}\n\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int position) {\n    View v = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.list_item, parent, false);\n\n/* here list_item is an xml file we want to inflate ...it is same as we do in case of listview for customization.*/\n\n    MyCustomAdapter.ViewHolder vh = new ViewHolder(v, new MyCustomAdapter.ViewHolder.onItemClickListener() {\n\n        @Override\n        public void onRecyclerItemClick(View view, int position) {\n\n\n            System.out.println(\"clicked on list item at position \" +position);\n\n        } \n\n    });\n    return vh;\n}\n</code></pre>\n\n<p>}</p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/27270887#27270887", "question_id": 24471109, "answer_id": 27270887}, {"body": "<p>You can implement OnClickListener to your ViewHolder class</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        public Item item\n        @InjectView(R.id.tv_title)\n        public TextView tvTitle;\n        @InjectView(R.id.rl_row)\n        public RelativeLayout rlRow;\n\n        public ViewHolder(View v) {\n            super(v);\n            ButterKnife.inject(this, v);\n            v.setOnClickListener(this);\n        }\n\n        @Override\n        public void onClick(View view) {\n            Log.e(\"item title\",item.getTitle());\n        }\n    }\n</code></pre>\n\n<p>And onBindViewHolder set your view holder's item</p>\n\n<pre><code>public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.tvTitle.setText(objects.get(position).getTitle());\n        holder.item = objects.get(position);\n        }\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/27712009#27712009", "question_id": 24471109, "answer_id": 27712009}, {"body": "<p>If you want to catch click event On Individual items then just implement OnClickListener in ViewHolder class and then set click listeners on Individual views or whole itemView</p>\n\n<p>Following example shows the same</p>\n\n<pre><code>public  class ContactViewHolder extends RecyclerView.ViewHolder implements OnClickListener\n    {\n        TextView txt_title,txt_name,txt_email;\n\n        public ContactViewHolder(View itemView) \n        {\n            super(itemView);\n            txt_title = (TextView)itemView.findViewById(R.id.txt_title);\n            txt_name  = (TextView)itemView.findViewById(R.id.txt_name);\n            txt_email = (TextView)itemView.findViewById(R.id.txt_email);\n\n            txt_name.setOnClickListener(this);\n            txt_email.setOnClickListener(this);\n            itemView.setOnClickListener(this);\n        }\n\n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n\n            if(v == itemView)\n            {\n                Toast.makeText(RecyclerDemoActivity.this, \"Visiting Card Clicked is ==&gt;\"+txt_name.getText(), Toast.LENGTH_SHORT).show();\n            }\n\n            if(v == txt_name)\n            {\n                Toast.makeText(RecyclerDemoActivity.this, \"Name ==&gt;\"+txt_name.getText(), Toast.LENGTH_SHORT).show();\n            }\n\n            if(v == txt_email)\n            {\n                Toast.makeText(RecyclerDemoActivity.this, \"Email ==&gt;\"+txt_email.getText(), Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }\n} \n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/27717705#27717705", "question_id": 24471109, "answer_id": 27717705}, {"body": "<p>This was so hard for me to have on item click listener in the activity and also to have click listener for single view of the item that will not trigger on item click listener. After playing around with Jacob Tabak's answer I respect his answer for on item click if no other touch actions inside item are presented.</p>\n\n<p>I have a custom <code>OnClickListener</code> interface that have on item click event which holds the clicked item's view and the item position from the adapter. I present an instance of it in the constructor(or it can be with setter) and attach it to the view holder container click listener.</p>\n\n<p>I also have other click listener in the Adapter(Can be in the view holder) which will handle current View click from the container.</p>\n\n<pre><code> public class MyRecyclerAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\nprivate ArrayList&lt;String&gt; mData;\nprivate OnItemClickListener mOnItemClickListener;\n\npublic interface OnItemClickListener {\n    public void onItemClick(View view, int position);\n}\n\npublic MyRecyclerAdapter(ArrayList&lt;String&gt; itemsData,\n        OnItemClickListener onItemClickListener) {\n    mOnItemClickListener = onItemClickListener;\n    this.mData = itemsData;\n}\n\n@Override\npublic MyViewHolder onCreateViewHolder(ViewGroup parent,\n        int viewType) {\n\n    View layoutView = LayoutInflater.from(mContext).inflate(\n            R.layout.list_item, parent, false);\n\n    MyViewHolder viewHolder = new MyViewHolder(layoutView);\n\n    return viewHolder;\n}\n\n@Override\npublic void onBindViewHolder(MyViewHolder viewHolder,\n        final int position) {\n\n        viewHolder.container.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                mOnItemClickListener.onItemClick(v, position);\n            }\n        });\n\n        viewHilder.button.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                //do button click work here\n            }\n        });\n\n}\n\n@Override\npublic int getItemCount() {\n    return mData.size();\n}}\n</code></pre>\n\n<p>In the activity you need to initialize the adapter by passing instance of the <code>OnItemClickListener</code></p>\n\n<pre><code>public class FeedActivity extends ActionBarActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    ...\n\n    RecyclerView recyclerView = (RecyclerView) findViewById(R.id.my_recycler_view);\n\n    .....\n\n    MyRecyclerAdapter adapter = new MyRecyclerAdapter(new ArrayList&lt;String&gt;(), new OnItemClickListener() {\n\n        @Override\n        public void onItemClick(View view, int position) {\n\n            ///list item was clicked\n        }\n    });\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(mFeedsAdapter);\n}\n</code></pre>\n\n<p>And my ViewHolder</p>\n\n<pre><code>public class MyViewHolder extends RecyclerView.ViewHolder {\n\npublic Button button;\npublic View container;\n\npublic PostViewHolder(View itemLayoutView) {\n    super(itemLayoutView);\n\n    container = itemLayoutView;\n    button = (Button) itemLayoutView.findViewById(R.id.button);\n}}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/28304164#28304164", "question_id": 24471109, "answer_id": 28304164}, {"body": "<p>The RecyclerView does not have a OnClickListener and will have to implement it ourselves.</p>\n\n<p>I like to add a OnItemClickListener interface in Adapter with a onClick method invoked when you click on the item view from the ViewHolder . Thus the responsibility of managing the click on an item is outside the ViewHolder and Adapter. Will the activity or fragment which will decide what to do</p>\n\n<p>Add an interface to the listener and the listener object. </p>\n\n<pre><code>public class ItemsAdapter extends RecyclerView.Adapter&lt;ItemsAdapter.ViewHolder&gt; {\n\n  .\n  .\n  .\n\n  private static OnItemClickListener onItemClickListener;\n\n  .\n  .\n  .\n\n  public static interface OnItemClickListener {\n      public void onItemClick(View view, int position);\n  }\n\n  .\n  .\n  .\n}\n</code></pre>\n\n<p>We capture the click of the root view of the item and when the callback is triggered onClick listener call on the adapter .</p>\n\n<pre><code>public class ItemsAdapter extends RecyclerView.Adapter&lt;ItemsAdapter.ViewHolder&gt; {\n\n  .\n  .\n  .\n\n  private static OnItemClickListener onItemClickListener;\n\n  .\n  .\n  .\n\n  public static interface OnItemClickListener {\n      public void onItemClick(View view, int position);\n  }\n\n  .\n  .\n  .\n\n  public static class ViewHolder extends RecyclerView.ViewHolder {\n      public ImageView imageView;\n\n      public ViewHolder(View itemRootView) {\n          super(itemRootView);\n          imageView = (ImageView) itemRootView.findViewById(R.id.itemImage);\n\n          itemRootView.setOnClickListener(new View.OnClickListener() {\n              @Override\n              public void onClick(View view) {\n                  int position  = ViewHolder.super.getAdapterPosition();\n                  onItemClickListener.onItemClick(view,position);\n              }\n          });\n      }\n  }\n}\n</code></pre>\n\n<p>Since the activity or fragment , fragment in our case , we assign a listener to the adapter and the onClick callback we will get the selected item by position and opened a detailed activity of item.</p>\n\n<pre><code>public class ItemsFragment extends Fragment {\n    .\n    .\n    .\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n       .\n       .\n       .\n\n        ((ItemsAdapter) adapter).setOnItemClickListener(new ItemsAdapter.OnItemClickListener() {\n            @Override\n            public void onItemClick(View view, int position) {\n                //Do something when an item has been clicked\n            }\n        });\n\n        .\n        .\n        .\n    }\n\n    .\n    .\n    .\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/30382415#30382415", "question_id": 24471109, "answer_id": 30382415}, {"body": "<p>You can pass a clickListener to Adapter</p>\n\n<p>In your Activity:</p>\n\n<pre><code>private View.OnClickListener mItemClick = new View.OnClickListener() {\n\n    @Override\n    public void onClick(View v) {\n        Intent intent = null;\n        int position = list.getChildPosition(v);\n        switch (position) {\n            case 0:\n                intent = new Intent(MainActivity.this, LeakCanaryActivity.class);\n                break;\n            case 1:\n                intent = new Intent(MainActivity.this, ButterKnifeFragmentActivity.class);\n                break;\n        }\n        if (intent != null) {\n            MainActivity.this.startActivity(intent);\n        }\n    }\n};\n</code></pre>\n\n<p>then pass it to Adapter:</p>\n\n<pre><code>MainAdapter mainAdapter = new MainAdapter(this, mItemClick);\n</code></pre>\n\n<p>In Adapter's onCreateViewHolder:</p>\n\n<pre><code> @Override\npublic MainAdapter.ViewHolder onCreateViewHolder(ViewGroup viewGroup, int position) {\n    View itemView = activity.getLayoutInflater().inflate(R.layout.main_adapter_item, viewGroup, false);\n    ViewHolder holder = new ViewHolder(itemView);\n    itemView.setOnClickListener(mItemClick);\n    return holder;\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/30612284#30612284", "question_id": 24471109, "answer_id": 30612284}, {"body": "<blockquote>\n  <p><strong>Mark the class as abstract and implement an OnClick method</strong></p>\n</blockquote>\n\n<pre><code>public abstract class MainGridAdapter extends\n    RecyclerView.Adapter&lt;MainGridAdapter.ViewHolder&gt; {\nprivate List&lt;MainListItem&gt; mDataset;\n\n// Provide a reference to the views for each data item\n// Complex data items may need more than one view per item, and\n// you provide access to all the views for a data item in a view holder\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    // each data item is just a string in this case\n    public TextView txtHeader;\n    public TextView txtFooter;\n\n    public ViewHolder(View v) {\n        super(v);\n        txtHeader = (TextView) v.findViewById(R.id.firstLine);\n        txtFooter = (TextView) v.findViewById(R.id.secondLine);\n    }\n}\n\npublic void add(int position, MainListItem item) {\n    mDataset.add(position, item);\n    notifyItemInserted(position);\n}\n\npublic void remove(MainListItem item) {\n    int position = mDataset.indexOf(item);\n    mDataset.remove(position);\n    notifyItemRemoved(position);\n}\n\n// Provide a suitable constructor (depends on the kind of dataset)\npublic MainGridAdapter(List&lt;MainListItem&gt; myDataset) {\n    mDataset = myDataset;\n}\n\n// Create new views (invoked by the layout manager)\n@Override\npublic MainGridAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,\n        int viewType) {\n    // create a new view\n    View v = LayoutInflater.from(parent.getContext()).inflate(\n            R.layout.list_item_grid_line, parent, false);\n    // set the view's size, margins, paddings and layout parameters\n    ViewHolder vh = new ViewHolder(v);\n    return vh;\n}\n\n// Replace the contents of a view (invoked by the layout manager)\n@Override\npublic void onBindViewHolder(final ViewHolder holder, final int position) {\n    // - get element from your dataset at this position\n    // - replace the contents of the view with that element     \n    OnClickListener clickListener = new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            onItemClicked(position);\n        }\n    };\n    holder.itemView.setOnClickListener(clickListener);\n    holder.txtHeader.setOnClickListener(clickListener);\n    holder.txtFooter.setOnClickListener(clickListener);\n    final MainListItem item = mDataset.get(position);\n    holder.txtHeader.setText(item.getTitle());\n    if (TextUtils.isEmpty(item.getDescription())) {\n        holder.txtFooter.setVisibility(View.GONE);\n    } else {\n        holder.txtFooter.setVisibility(View.VISIBLE);\n        holder.txtFooter.setText(item.getDescription());\n    }\n}\n\n// Return the size of your dataset (invoked by the layout manager)\n@Override\npublic int getItemCount() {\n    return mDataset.size();\n}\n\npublic abstract void onItemClicked(int position);\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p><strong>Implement click handler in binding event to only have one event implementation</strong></p>\n</blockquote>\n\n<p>Implementation of this:</p>\n\n<pre><code>mAdapter = new MainGridAdapter(listItems) {         \n    @Override\n    public void onItemClicked(int position) {\n        showToast(\"Item Clicked: \" + position, ToastPlus.STYLE_INFO);\n    }\n};\n</code></pre>\n\n<p>Same can be done for long click</p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31158321#31158321", "question_id": 24471109, "answer_id": 31158321}, {"body": "<p>Here is my Code Snippet</p>\n\n<pre><code>v.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) \n        {\n            int newposition = MainActivity.mRecyclerView.getChildAdapterPosition(v);\n            Intent cardViewIntent = new Intent(c, in.itechvalley.cardviewexample.MainActivityCards.class);\n            cardViewIntent.putExtra(\"Position\", newposition);\n            c.startActivity(cardViewIntent);\n        }\n    });\n</code></pre>\n\n<p><code>v</code> is <strong>View</strong> from <code>onCreateViewHolder</code></p>\n\n<p><code>c</code> is <strong>Context</strong></p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31490598#31490598", "question_id": 24471109, "answer_id": 31490598}, {"body": "<p>Here is what I did <a href=\"https://gist.github.com/riyazMuhammad/1c7b1f9fa3065aa5a46f\" rel=\"nofollow\">Read more &amp; download the gist here</a></p>\n\n<p><strong>Adding the same here</strong></p>\n\n<p><strong>CustomItemClickListener.java</strong></p>\n\n<pre><code>public interface CustomItemClickListener {\n public void onItemClick(View v, int position);\n}\n</code></pre>\n\n<p><strong>ItemsListAdapter.java</strong></p>\n\n<pre><code>public class ItemsListAdapter extends RecyclerView.Adapter&lt;ItemsListAdapter.ViewHolder&gt; {\nArrayList&lt;ItemListSingleItem&gt; data;\n\nContext mContext;\nCustomItemClickListener listener;\n\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View mView = LayoutInflater.from(parent.getContext()).inflate(R.layout.items_list_single_item, parent, false);\n    final ViewHolder mViewHolder = new ViewHolder(mView);\n    mView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onItemClick(v, mViewHolder.getPosition());\n        }\n    });\n    return mViewHolder;\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    holder.itemTitle.setText(Html.fromHtml(data.get(position).getTitle()));\n    if (!TextUtils.isEmpty(data.get(position).getThumbnailURL())) {\n      // I Love picasso library :) http://square.github.io/picasso/\n        Picasso.with(mContext).load(data.get(position).getThumbnailURL()).error(R.drawable.ic_no_image).\n                placeholder(R.drawable.ic_no_image).\n                transform(new RoundedCornersTransformation(5, 0)).\n                into(holder.thumbnailImage);\n    } else {\n        holder.thumbnailImage.setImageResource(R.drawable.ic_no_image);\n    }\n}\n\n\n@Override\npublic int getItemCount() {\n    return data.size();\n}\n\npublic ItemsListAdapter(Context mContext, ArrayList&lt;ItemsListSingleItem&gt; data, CustomItemClickListener listener) {\n    this.data = data;\n    this.mContext = mContext;\n    this.listener = listener;\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n    public TextView itemTitle;\n    public ImageView thumbnailImage;\n\n    ViewHolder(View v) {\n        super(v);\n        itemTitle = (TextView) v\n                .findViewById(R.id.post_title);\n        thumbnailImage = (ImageView) v.findViewById(R.id.post_thumb_image);\n    }\n }\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31562573#31562573", "question_id": 24471109, "answer_id": 31562573}, {"body": "<p>I do it in this way, without undue classes, detectors etc. Simple code inside our adapter. Especially better solution for longClick than presented before.</p>\n\n<pre><code>public class PasswordAdapter extends RecyclerView.Adapter&lt;PasswordAdapter.ViewHolder&gt; {\n    private static ClickListener clickListener;\n\n    public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, View.OnLongClickListener {\n        TextView name;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            itemView.setOnClickListener(this);\n            itemView.setOnLongClickListener(this);\n            name = (TextView) itemView.findViewById(R.id.card_name);\n        }\n\n        @Override\n        public void onClick(View v) {\n            clickListener.onItemClick(getAdapterPosition(), v);\n        }\n\n        @Override\n        public boolean onLongClick(View v) {\n            clickListener.onItemLongClick(getAdapterPosition(), v);\n            return false;\n        }\n    }\n\n    public void setOnItemClickListener(ClickListener clickListener) {\n        PasswordAdapter.clickListener = clickListener;\n    }\n\n    public interface ClickListener {\n        void onItemClick(int position, View v);\n        void onItemLongClick(int position, View v);\n    }\n}\n</code></pre>\n\n<p>Then inside fragment or activity, just hit:</p>\n\n<pre><code>PasswordAdapter mAdapter = ...;\n\nmAdapter.setOnItemClickListener(new PasswordAdapter.ClickListener() {\n    @Override\n    public void onItemClick(int position, View v) {\n        Log.d(TAG, \"onItemClick position: \" + position);\n    }\n\n    @Override\n    public void onItemLongClick(int position, View v) {\n        Log.d(TAG, \"onItemLongClick pos = \" + \n    }\n});\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31671289#31671289", "question_id": 24471109, "answer_id": 31671289}, {"body": "<p>From most of the answers above, they seem to be setting their onclicklisteners to individual items. However, the solution am about to offer is very simple but yet not intuitive to many. Many are forgetting that the other components are always in a parent component which is used to display items in the List or Recycler views. This solution is just about setting a single onclick listener to this parent view and the turn is played. The solution also includes a way to pass the position of the item being clicked on from the list or recycler view. Here, our main rootview is a CardView from the android support library. Here is sample code</p>\n\n<pre><code>public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\n\npublic static final String LOG_TAG = ListAdapter.class.getSimpleName();\nprivate Cursor mDataset;\nprivate Context mContext;\nprivate ViewHolder mViewHolder;\n\n// Provide a suitable constructor (depends on the kind of dataset)\npublic ListAdapter(Context context, Cursor Dataset) {\n    mDataset = Dataset;\n    mContext = context;\n}\n\n// Create new views (invoked by the layout manager)\n@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n    // create a new view\n    View v = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.list_business_view, parent, false);\n\n    mViewHolder = new ViewHolder(v);\n    return mViewHolder;\n}\n\npublic void setData(Cursor newdata) {\n    this.mDataset = newdata;\n}\n\n// Replace the contents of a view (invoked by the layout manager)\n@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n//Bind data to other items here. To save time, i have ommited that.\n           //here is where we attach a click listerner for an item in the recycler list rather than for each element of a given item.\n            holder.card.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Toast.makeText(mContext, \" Just cliked item at position \" + itemPosition, Toast.LENGTH_LONG).show();\n\n            }\n        });\n\n    }\n}\n\n// Return the size of your dataset (invoked by the layout manager)\n@Override\npublic int getItemCount() {\n    if (null != mDataset) {\n        return mDataset.getCount();\n    }\n    return 0;\n\n}\n\n\n// Provide a reference to the views for each data item\n// Complex data items may need more than one view per item, and\n// you provide access to all the views for a data item in a view holder\npublic static class ViewHolder extends RecyclerView.ViewHolder{\n    // each data item is just a string in this case\n    public final TextView mBusinesssName; // View for the business name\n    public final TextView mBusinessCategory; //View for the category name\n    public final ImageView businessImage; // View for the business category image Image\n    public final TextView mBusinessDistance; // View for the distance\n    public final CardView card;\n\n    public ViewHolder(View view) {\n        super(view);\n        mBusinesssName = (TextView) view.findViewById(R.id.list_item_name_textview);\n        mBusinessCategory = (TextView) view.findViewById(R.id.list_item_category_textview);\n        mBusinessDistance = (TextView) view.findViewById(R.id.list_item_dist_textview);\n        businessImage = (ImageView) view.findViewById(R.id.list_item_icon);\n        card = (CardView) view.findViewById(R.id.card_view);\n\n    }\n}\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31899338#31899338", "question_id": 24471109, "answer_id": 31899338}, {"body": "<p>Here is a strategy that gives a result similar to the <code>ListView</code> implementation in that you can define the listener in the <code>Activity</code> or <code>Fragment</code> level instead of the <code>Adapter</code> or <code>ViewHolder</code> level. It also defines some abstract classes that take care of a lot of the boilerplate work of adapters and holders.</p>\n\n<h2>Abstract Classes</h2>\n\n<p>First, define an abstract <code>Holder</code> that extends <code>RecyclerView.ViewHolder</code> and defines a generic data type, <code>T</code>, used to bind data to the views. The <code>bindViews</code> method will be implemented by a subclass to map data to the views.</p>\n\n<pre><code>public abstract class Holder&lt;T&gt; extends RecyclerView.ViewHolder {\n    T data;\n\n    public Holder(View itemView) {\n        super(itemView);\n    }\n\n    public void bindData(T data){\n        this.data = data;\n        bindViews(data);\n    }\n\n    abstract protected void bindViews(T data);\n}\n</code></pre>\n\n<p>Also, create an abstract <code>Adapter</code> that extends <code>RecyclerView.Adapter&lt;Holder&lt;T&gt;&gt;</code>.  This defines 2 of the 3 interface methods, and a subclass will need to implement the last, <code>onViewHolderCreated</code> method.</p>\n\n<pre><code>public abstract class Adapter&lt;T&gt; extends RecyclerView.Adapter&lt;Holder&lt;T&gt;&gt; {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n\n    @Override\n    public void onBindViewHolder(Holder&lt;T&gt; holder, int position) {\n        holder.bindData(list.get(position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public T getItem(int adapterPosition){\n        return list.get(adapterPosition);\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>Concrete Classes</h2>\n\n<p>Now create a new concrete class that extends <code>Holder</code>. This method only has to define the Views and handle the binding. Here I'm using the <a href=\"http://jakewharton.github.io/butterknife/\" rel=\"nofollow\">ButterKnife library</a>, but feel free to use <code>itemView.findViewById(...)</code> methods instead.</p>\n\n<pre><code>public class PersonHolder extends Holder&lt;Person&gt;{\n    @Bind(R.id.firstname) TextView firstname;\n    @Bind(R.id.lastname) TextView lastname;\n\n    public PersonHolder(View view){\n        super(view);\n        ButterKnife.bind(this, view);\n    }\n\n    @Override\n    protected void bindViews(Person person) {\n        firstname.setText(person.firstname);\n        lastname.setText(person.lastname);\n    }\n}\n</code></pre>\n\n<p>Finally, in your <code>Activity</code> or <code>Fragment</code> class that holds the <code>RecyclerView</code> you would have this code:</p>\n\n<pre><code>// Create adapter, this happens in parent Activity or Fragment of RecyclerView\nadapter = new Adapter&lt;Person&gt;(){\n    @Override\n    public PersonHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.layout_person_view, parent, false);\n\n        PersonHolder holder = new PersonHolder(v);\n        v.setOnClickListener(new OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                int itemPos = holder.getAdapterPosition();\n                Person person = getItem(itemPos);\n\n                // do something with person\n                EventBus.getDefault().postSticky(new PersonClickedEvent(itemPos, person));\n            }\n        });\n\n        return holder;\n    }\n};\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31908459#31908459", "question_id": 24471109, "answer_id": 31908459}, {"body": "<p>Unfortunately RecyclerView is missing a couple of features that ListView had built-in.\n    For example the ability to add an OnItemClickListener that triggers when an item is clicked. \n    RecyclerView allows you to set an OnClickListener in your adapter, but passing on that click\n    listener from your calling code, to the adapter and to the ViewHolder, is complicated\n    for catching a simple item click.</p>\n\n<pre><code>public class ItemClickSupport {\nprivate final RecyclerView mRecyclerView;\nprivate OnItemClickListener mOnItemClickListener;\nprivate OnItemLongClickListener mOnItemLongClickListener;\nprivate View.OnClickListener mOnClickListener = new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        if (mOnItemClickListener != null) {\n            RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(v);\n            mOnItemClickListener.onItemClicked(mRecyclerView, holder.getAdapterPosition(), v);\n        }\n    }\n};\nprivate View.OnLongClickListener mOnLongClickListener = new View.OnLongClickListener() {\n    @Override\n    public boolean onLongClick(View v) {\n        if (mOnItemLongClickListener != null) {\n            RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(v);\n            return mOnItemLongClickListener.onItemLongClicked(mRecyclerView, holder.getAdapterPosition(), v);\n        }\n        return false;\n    }\n};\nprivate RecyclerView.OnChildAttachStateChangeListener mAttachListener\n        = new RecyclerView.OnChildAttachStateChangeListener() {\n    @Override\n    public void onChildViewAttachedToWindow(View view) {\n        if (mOnItemClickListener != null) {\n            view.setOnClickListener(mOnClickListener);\n        }\n        if (mOnItemLongClickListener != null) {\n            view.setOnLongClickListener(mOnLongClickListener);\n        }\n    }\n\n    @Override\n    public void onChildViewDetachedFromWindow(View view) {\n\n    }\n};\n\nprivate ItemClickSupport(RecyclerView recyclerView) {\n    mRecyclerView = recyclerView;\n    mRecyclerView.setTag(R.id.item_click_support, this);\n    mRecyclerView.addOnChildAttachStateChangeListener(mAttachListener);\n}\n\npublic static ItemClickSupport addTo(RecyclerView view) {\n    ItemClickSupport support = (ItemClickSupport) view.getTag(R.id.item_click_support);\n    if (support == null) {\n        support = new ItemClickSupport(view);\n    }\n    return support;\n}\n\npublic static ItemClickSupport removeFrom(RecyclerView view) {\n    ItemClickSupport support = (ItemClickSupport) view.getTag(R.id.item_click_support);\n    if (support != null) {\n        support.detach(view);\n    }\n    return support;\n}\n\npublic ItemClickSupport setOnItemClickListener(OnItemClickListener listener) {\n    mOnItemClickListener = listener;\n    return this;\n}\n\npublic ItemClickSupport setOnItemLongClickListener(OnItemLongClickListener listener) {\n    mOnItemLongClickListener = listener;\n    return this;\n}\n\nprivate void detach(RecyclerView view) {\n    view.removeOnChildAttachStateChangeListener(mAttachListener);\n    view.setTag(R.id.item_click_support, null);\n}\n\npublic interface OnItemClickListener {\n\n    void onItemClicked(RecyclerView recyclerView, int position, View v);\n}\n\npublic interface OnItemLongClickListener {\n\n    boolean onItemLongClicked(RecyclerView recyclerView, int position, View v);\n}\n}\n</code></pre>\n\n<p>You also need to define R.id.item_click_support using ids.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;resources&gt;\n  &lt;item name=\"item_click_support\" type=\"id\" /&gt;\n &lt;/resources&gt;\n</code></pre>\n\n<p>The resulting code click listener now looks like this:</p>\n\n<pre><code>ItemClickSupport.addTo(mRecyclerView).setOnItemClickListener(new ItemClickSupport.OnItemClickListener() {\n@Override\npublic void onItemClicked(RecyclerView recyclerView, int position, View v) {\n    // do it\n}\n});\n</code></pre>\n\n<p>For Brief Explanation about recyclerview clicks please have a look at this <a href=\"http://www.littlerobots.nl/blog/Handle-Android-RecyclerView-Clicks/\" rel=\"nofollow\">littlerobots_blog</a></p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/31941289#31941289", "question_id": 24471109, "answer_id": 31941289}, {"body": "<p>Very simple, add this class:</p>\n\n<pre><code>public class OnItemClickListener implements View.OnClickListener {\n    private int position;\n    private OnItemClickCallback onItemClickCallback;\n\n    public OnItemClickListener(int position, OnItemClickCallback onItemClickCallback) {\n        this.position = position;\n        this.onItemClickCallback = onItemClickCallback;\n    }\n\n    @Override\n    public void onClick(View view) {\n        onItemClickCallback.onItemClicked(view, position);\n    }\n\n    public interface OnItemClickCallback {\n        void onItemClicked(View view, int position);\n    }\n}\n</code></pre>\n\n<p>Get an instance of 'OnItemClickCallback' interface and put it in your activity or fragment:</p>\n\n<pre><code>private OnItemClickListener.OnItemClickCallback onItemClickCallback = new OnItemClickListener.OnItemClickCallback() {\n    @Override\n    public void onItemClicked(View view, int position) {\n    }\n};\n</code></pre>\n\n<p>Then, pass that callback to your recyclerView:</p>\n\n<pre><code>recyclerView.setAdapter(new SimpleStringRecyclerViewAdapter(Arrays.asList(\"1\", \"2\", \"3\"), onItemClickCallback));\n</code></pre>\n\n<p>Finally, this would be your adapter:</p>\n\n<pre><code>public class SimpleStringRecyclerViewAdapter extends RecyclerView.Adapter&lt;SimpleStringRecyclerViewAdapter.ViewHolder&gt; {\n    private List&lt;String&gt; mValues;\n    private OnItemClickListener.OnItemClickCallback onItemClickCallback;\n\n    public SimpleStringRecyclerViewAdapter(List&lt;String&gt; items, OnItemClickListener.OnItemClickCallback onItemClickCallback) {\n        mValues = items;\n        this.onItemClickCallback = onItemClickCallback;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public final TextView mTextView;\n\n        public ViewHolder(View view) {\n            super(view);\n            mTextView = (TextView) view.findViewById(R.id.txt_title);\n        }\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(final ViewHolder holder, final int position) {\n        holder.mTextView.setText(mValues.get(position));\n        holder.mTextView.setOnClickListener(new OnItemClickListener(position, onItemClickCallback));\n    }\n\n    @Override\n    public int getItemCount() {\n        return mValues.size();\n    }\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/32051054#32051054", "question_id": 24471109, "answer_id": 32051054}, {"body": "<p>We can do this using Java weak references.\nSemantically, the view holder is the one that should respond to the click event or delegate it to the correct responder.</p>\n\n<p>Our goals:</p>\n\n<ol>\n<li>The Viewholder should know nothing about the the class thats responding to the events except that it implements a certain interface.</li>\n<li>The click handler should get the position in the RecyclerView of the view thats clicked.</li>\n<li>We should be able to discern <em>which</em> view was clicked in the view holder.</li>\n<li>Maintain loose coupling between all components and don't cause any retain cycles.</li>\n</ol>\n\n<p>Steps: </p>\n\n<ol>\n<li><p>Create an interface to handle click responses.</p></li>\n<li><p>Implement this interface in the Activity that will handle the click.</p></li>\n<li><p>Add a member variable in the RecyclerView Adapter to hold the Weak Reference and a constructor that sets it.</p></li>\n<li><p>Do the same in the RecyclerView ViewHolder and add a member variable to keep track of position.</p></li>\n<li><p>Set your on click listeners on any view you'd like in the ViewHolder, then callback to the responder to handle them.</p></li>\n<li><p>Change your onBindViewHolder method to set the position when binding.</p></li>\n<li><p>Pass the responder down to the ViewHolder.</p></li>\n<li><p>In the responder, you can now use getId() on the view to figure out which view was clicked.</p></li>\n</ol>\n\n<p>And here's a Gist so you can see how it all fits together:\n<a href=\"https://gist.github.com/RTimal/ddf4040cfba28b461ec7\" rel=\"nofollow\">RecyclerView click handling</a></p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/32410966#32410966", "question_id": 24471109, "answer_id": 32410966}, {"body": "<p>Way too simple and effective.</p>\n\n<p>Instead of implementing interface View.OnClickListener inside view holder or creating and interface and implementing interface in your activity..\nI used this code for simple on OnClickListener implementation.</p>\n\n<pre><code>public static class SimpleStringRecyclerViewAdapter\n            extends RecyclerView.Adapter&lt;SimpleStringRecyclerViewAdapter.ViewHolder&gt; {\n\n        // Your initializations goes here...\n        private List&lt;String&gt; mValues;\n\n        public static class ViewHolder extends RecyclerView.ViewHolder {\n\n            //create a variable mView\n            public final View mView;\n\n            /*All your row widgets goes here\n            public final ImageView mImageView;\n            public final TextView mTextView;*/\n\n            public ViewHolder(View view) {\n                super(view);\n                //Initialize it here\n                mView = view;\n\n                /* your row widgets initializations goes here\n                mImageView = (ImageView) view.findViewById(R.id.avatar);\n                mTextView = (TextView) view.findViewById(android.R.id.text1);*/\n            }\n        }\n\n        public String getValueAt(int position) {\n            return mValues.get(position);\n        }\n\n        public SimpleStringRecyclerViewAdapter(Context context, List&lt;String&gt; items) {\n\n            mBackground = mTypedValue.resourceId;\n            mValues = items;\n        }\n\n        @Override\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.list_item, parent, false);\n            view.setBackgroundResource(mBackground);\n            return new ViewHolder(view);\n        }\n\n        @Override\n        public void onBindViewHolder(final ViewHolder holder, int position) {\n            holder.mBoundString = mValues.get(position);\n            holder.mTextView.setText(mValues.get(position));\n\n            //Here it is simply write onItemClick listener here\n            holder.mView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Context context = v.getContext();\n                    Intent intent = new Intent(context, ExampleActivity.class);\n\n                    context.startActivity(intent);\n                }\n            });\n        }\n\n        @Override\n        public int getItemCount() {\n            return mValues.size();\n        }\n    }\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/32985479#32985479", "question_id": 24471109, "answer_id": 32985479}, {"body": "<p>I have nice solution for <code>RecyclerView</code>'s <code>onItemClickListener</code> for the items and subitems</p>\n\n<p><strong>Step 1-</strong> Create an interface </p>\n\n<pre><code>public interface OnRecyclerViewItemClickListener\n{\n    /**\n     * Called when any item with in recyclerview or any item with in item\n     * clicked\n     * \n     * @param position\n     *            The position of the item\n     * @param id\n     *            The id of the view which is clicked with in the item or\n     *            -1 if the item itself clicked\n     */\n    public void onRecyclerViewItemClicked(int position, int id);\n}\n</code></pre>\n\n<p><strong>Step 2-</strong> Then use it in adapter's <code>onBindViewHolder</code> method in the following way</p>\n\n<pre><code>/**\n     * Custom created method for Setting the item click listener for the items and items with in items\n     * @param listener OnRecyclerViewItemClickListener \n     */\n    public void setOnItemClickListener(OnRecyclerViewItemClickListener listener)\n    {\n        this.listener = listener;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, final int position)\n    {\n\n        // viewHolder.albumBg.setBackgroundResource(_itemData[position]\n        // .getImageUrl());\n\n        viewHolder.albumName.setText(arrayList.get(position).getName());\n        viewHolder.artistName.setText(arrayList.get(position).getArtistName());\n        String imgUrl = arrayList.get(position).getThumbImageUrl();\n\n        makeImageRequest(imgUrl, viewHolder);\n        viewHolder.parentView.setOnClickListener(new View.OnClickListener()\n        {\n\n            @Override\n            public void onClick(View v)\n            {\n                listener.onRecyclerViewItemClicked(position, -1);\n            }\n        });\n        viewHolder.settingButton.setOnClickListener(new View.OnClickListener()\n        {\n\n            @Override\n            public void onClick(View v)\n            {\n                listener.onRecyclerViewItemClicked(position, v.getId());\n            }\n        });\n\n    }\n\n    // class to hold a reference to each item of RecyclerView\n    public static class ViewHolder extends RecyclerView.ViewHolder\n    {\n\n        public TextView albumName, artistName;\n        public ImageView albumIcon, settingButton;\n        public LinearLayout parentView;\n\n        public ViewHolder(View itemLayoutView)\n        {\n            super(itemLayoutView);\n            // albumBg = (LinearLayout) itemLayoutView\n            // .findViewById(R.id.albumDlbg);\n            albumName = (TextView) itemLayoutView.findViewById(R.id.albumName);\n            artistName = (TextView) itemLayoutView\n                    .findViewById(R.id.artistName);\n            albumIcon = (ImageView) itemLayoutView.findViewById(R.id.albumIcon);\n            parentView = (LinearLayout) itemLayoutView\n                    .findViewById(R.id.albumDlbg);\n            settingButton = (ImageView) itemLayoutView\n                    .findViewById(R.id.settingBtn);\n        }\n\n    }\n</code></pre>\n\n<p><strong>Step 3-</strong> find and setup recycler view in activity or fragment where you are using this</p>\n\n<pre><code>recyclerView = (RecyclerView) rootview.findViewById(R.id.vmtopsongs);\n\n        lm = new LinearLayoutManager(mActivity);\n        lm.setOrientation(LinearLayoutManager.VERTICAL);\n        recyclerView.setLayoutManager(lm);\n        recyclerView.addItemDecoration(\n                new HorizontalDividerItemDecoration.Builder(getActivity())\n                        .paint(Utils.getPaint()).build());\n        PopularSongsadapter mAdapter = new PopularSongsadapter(gallery,\n                mActivity, true);\n        // set adapter\n        recyclerView.setAdapter(mAdapter);\n        mAdapter.setOnItemClickListener(this);\n        // set item animator to DefaultAnimator\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n</code></pre>\n\n<p><strong>Step 4-</strong> Finally implement interface in activity or fragment where you are using the recyclerview</p>\n\n<pre><code>@Override\n    public void onRecyclerViewItemClicked(int position, int id)\n    {\n        if(id==-1){\n            Toast.makeText(mActivity, \"complete item clicked\", Toast.LENGTH_LONG).show();\n        }else{\n            Toast.makeText(mActivity, \"setting button clicked\", Toast.LENGTH_LONG).show();\n        }\n    }\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/33031936#33031936", "question_id": 24471109, "answer_id": 33031936}, {"body": "<p>For each cell item:</p>\n\n<pre><code>viewHolder.itemView.setOnClickListener(new OnClickListener() {\n\n\n\n    @Override\n\n    public void onClick(View v) {\n\n\n\n        //code on item click listner\n\n    }\n\n});\n</code></pre>\n\n<p>For each Row item: call from viewholder onclick</p>\n\n<pre><code>class VHItem extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    @InjectView(R.id.imgddd)\n\n    ImageView mhff;\n\n\n\n    public VHItem(View itemView) {\n\n        super(itemView);\n\n        ButterKnife.inject(this, itemView);\n\n        itemView.setOnClickListener(this);\n\n    }\n</code></pre>\n\n<p>call from your activity or fragment:</p>\n\n<pre><code>regAdapter.setOnItemClickListener(new ListAdapter.OnItemClickListener() {\n\n        @Override\n\n        public void onItemClick(View v, int position, Useritems) {\n\n\n\n        }\n\n    });\n\npublic ListAdapter(Context context) {\n\n    this.context = context;\n\n}\n\npublic interface OnItemClickListener {\n\n    void onItemClick(View v, int position, EventRegistryStore items);\n\n}\n\npublic void setOnItemClickListener(final OnItemClickListener mItemRegClickListener) {\n\n    this.mItemClickListener = mItemClickListener;\n\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/34244338#34244338", "question_id": 24471109, "answer_id": 34244338}, {"body": "<p>For me the clean way to do that is this one.</p>\n\n<ul>\n<li><p>Adapter constructor</p>\n\n<p>`private class EnvironmentTypeRecyclerViewAdapter extends RecyclerView.Adapter\n{</p>\n\n<pre><code>private final EnvironmentTypeRecyclerViewAdapterListener mEnvironmentTypeRecyclerViewAdapterListener;\nprivate List&lt;Environment&gt; mEnvironmentsData;\n\n\npublic class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener\n{\n\n    public ViewHolder(View v)\n    {\n        super(v);\n        v.setOnClickListener(this);\n\n    }\n\n    @Override\n    public void onClick(View v)\n    {\n\n        Environment environment = mEnvironmentsData.get(getAdapterPosition());\n        if (mEnvironmentTypeRecyclerViewAdapterListener != null &amp;&amp; environment != null)\n        {\n            mEnvironmentTypeRecyclerViewAdapterListener.onListItemSelected(environment);\n        }\n    }\n}\n\npublic EnvironmentTypeRecyclerViewAdapter(List&lt;SmallCellEnvironment&gt; environments, EnvironmentTypeRecyclerViewAdapterListener environmentTypeRecyclerViewAdapterListener)\n{\n    mEnvironmentTypeRecyclerViewAdapterListener = environmentTypeRecyclerViewAdapterListener;\n    mEnvironmentsData = environments;\n}`\n</code></pre></li>\n</ul>\n\n<p>The Linked Interface </p>\n\n<pre><code>private interface EnvironmentTypeRecyclerViewAdapterListener\n{\n    void onListItemSelected(Environment environment);\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/35937137#35937137", "question_id": 24471109, "answer_id": 35937137}, {"body": "<p>Usually you have more than one element in your <code>CardView</code>, so that you need an layout view to wrap and organize them. <br>You can add an <code>OnClickListener</code> to that layout view. <br> 1. Add an id to your layout. In this case a <code>LinearLayout</code></p>\n\n<pre><code>&lt;android.support.v7.widget.CardView\n .....&gt;\n\n    &lt;LinearLayout\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/card_view_linearLayout\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"name\"\n            android:id=\"@+id/card_view_name\" /&gt;\n\n        ...\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p><code>$</code> 2. Get the layout view in your inner <code>ViewHolder</code> class.</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder{\n    private TextView nameView;\n    ...\n    private LinearLayout linearLayout;\n    public ViewHolder(View itemView) {\n        super(itemView);\n        nameView = (TextView)itemView.findViewById(R.id.card_view_name);\n        ...\n        linearLayout = (LinearLayout)itemView.findViewById(R.id.card_view_linearLayout);\n    }\n}\n</code></pre>\n\n<p><code>$</code> 3. Add the listener to your layout in <code>onBindViewHolder</code> and use a callback to send data to the <code>Activity</code> or <code>Fragment</code>(not tested).</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(TrackAdapter.ViewHolder holder, final int position) {\n    String str = mStringList.get(position);\n\n    holder.nameView.setText(str);\n    ...\n    holder.linearLayout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            callback.itemCallback(mStringList.get(position));\n        }\n    });\n}\n</code></pre>\n\n<p>how to use callbacks is another story</p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/37243390#37243390", "question_id": 24471109, "answer_id": 37243390}, {"body": "<p>I'm aware there are a lot of answers, but I thought I might just provide my implementation of it as well. (Full details can be found on <a href=\"http://stackoverflow.com/a/37787525/4230345\">another question I answered</a>).</p>\n\n<p>So, to add a click listener, your inner <code>ViewHolder</code> class needs to implement <code>View.OnClickListener</code>. This is because you will set an <code>OnClickListener</code> to the <code>itemView</code> parameter of the <code>ViewHolder</code>'s constructor. Let me show you what I mean:</p>\n\n<pre><code>public class ExampleClickViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    TextView text1, text2;\n\n    ExampleClickViewHolder(View itemView) {\n        super(itemView);\n\n        // we do this because we want to check when an item has been clicked:\n        itemView.setOnClickListener(this);\n\n        // now, like before, we assign our View variables\n        title = (TextView) itemView.findViewById(R.id.text1);\n        subtitle = (TextView) itemView.findViewById(R.id.text2);\n    }\n\n    @Override\n    public void onClick(View v) {\n        // The user may not set a click listener for list items, in which case our listener\n        // will be null, so we need to check for this\n        if (mOnEntryClickListener != null) {\n            mOnEntryClickListener.onEntryClick(v, getLayoutPosition());\n        }\n    }\n}\n</code></pre>\n\n<p>The only other things you need to add are a custom interface for your <code>Adapter</code> and a setter method:</p>\n\n<pre><code>private OnEntryClickListener mOnEntryClickListener;\n\npublic interface OnEntryClickListener {\n    void onEntryClick(View view, int position);\n}\n\npublic void setOnEntryClickListener(OnEntryClickListener onEntryClickListener) {\n    mOnEntryClickListener = onEntryClickListener;\n}\n</code></pre>\n\n<p>So your new, click-supporting <code>Adapter</code> is complete.</p>\n\n<p>Now, let's use it...</p>\n\n<pre><code>    ExampleClickAdapter clickAdapter = new ExampleClickAdapter(yourObjects);\n    clickAdapter.setOnEntryClickListener(new ExampleClickAdapter.OnEntryClickListener() {\n        @Override\n        public void onEntryClick(View view, int position) {\n            // stuff that will happen when a list item is clicked\n        }\n    });\n</code></pre>\n\n<p>It's basically how you would set up a normal <code>Adapter</code>, except that you use your setter method that you created to control what you will do when your user clicks a particular list item.</p>\n\n<p>You can also look through a set of examples I made on this Gist on GitHub:</p>\n\n<p><a href=\"https://gist.github.com/FarbodSalamat-Zadeh/7646564f48ee708c1582c013e1de4f07\" rel=\"nofollow\">https://gist.github.com/FarbodSalamat-Zadeh/7646564f48ee708c1582c013e1de4f07</a> </p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/37846392#37846392", "question_id": 24471109, "answer_id": 37846392}, {"body": "<p>There is far easier way to do this. Just apply on click in <code>onBindViewHolder</code> on root view.</p>\n\n<p>Consider this is your view for adapter,</p>\n\n<pre><code>&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/linearlayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textview\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"1dp\"\n            android:textSize=\"15sp\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Then do following in your adapter</p>\n\n<pre><code>//get the layout and make view holder\n@Override\npublic RVAdapter.ViewHolder1 onCreateViewHolder(ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.adapter_layout, null);\n    ViewHolder1 viewHolder = new ViewHolder1(view);\n    return viewHolder;\n}\n\n@Override\npublic void onBindViewHolder(RVAdapter.ViewHolder1 holder, int position) {\n\n    //apply on click on your root view\n    holder.linearlayout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            //Do on click stuff\n        }\n    });\n}\n\n//make references to views in layout including root view\npublic class ViewHolder1 extends RecyclerView.ViewHolder {\n\n    protected LinearLayout linearlayout = null\n    protected TextView textview = null;\n\n    public CareerLinksViewHolder(View itemView) {\n        super(itemView);\n\n        this.linearlayout = (LinearLayout) itemView.findViewById(R.id.linearlayout);\n        this.tvCompName = (TextView) itemView.findViewById(R.id.textview);\n    }\n}\n</code></pre>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/38090900#38090900", "question_id": 24471109, "answer_id": 38090900}, {"body": "<p>This question has several answers already but none of them attempts to solve this problem using <strong>RxJava</strong>.</p>\n\n<p>I myself is a big fan of RxJava and I never miss a chance to use it whenever possible.</p>\n\n<p>Here is what I use,</p>\n\n<pre><code>public class ReactiveAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\n    String[] mDataset = { \"Data\", \"In\", \"Adapter\" };\n\n    private final PublishSubject&lt;String&gt; onClickSubject = PublishSubject.create();\n\n    @Override \n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        final String element = mDataset[position];\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               onClickSubject.onNext(element);\n            }\n        });\n    }\n\n    public Observable&lt;String&gt; getPositionClicks(){\n        return onClickSubject.asObservable();\n    }\n}\n</code></pre>\n\n<p>It exposes an <code>Observable</code> to intercept the click events. You now have full control of what ever you want to do with your click events (<strong>remember RxJava Operators?</strong>).</p>\n", "title": "RecyclerView onClick", "tags": ["android", "recyclerview"], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick/38970272#38970272", "question_id": 24471109, "answer_id": 38970272}], "link": "http://stackoverflow.com/questions/24471109/recyclerview-onclick", "question_id": 24471109}, {"body": "<p>I saw a <a href=\"http://facebook.github.io/react/index.html\">React</a> dev talk at <a href=\"http://www.youtube.com/watch?v=x7cQ3mrcKaY\">http://www.youtube.com/watch?v=x7cQ3mrcKaY</a> and the speaker mentioned that dirty-checking of the model can be slow. But isn't calculating the diff between virtual DOMs actually even less performant since the virtual DOM, in most of the cases, should be bigger than model?</p>\n\n<p>I really like the potential power of the Virtual DOM (especially server-side rendering) but I would like to know all the pros and cons.</p>\n", "title": "Why is React&#39;s concept of Virtual DOM said to be more performant than dirty model checking?", "tags": ["javascript", "dom", "reactjs", "virtual-dom"], "answers": [{"body": "<p>I recently read a detailed article about React's diff algorithm here: <a href=\"http://calendar.perfplanet.com/2013/diff/\">http://calendar.perfplanet.com/2013/diff/</a>. From what I understand, what makes React fast is:</p>\n\n<ul>\n<li>Batched DOM read/write operations.</li>\n<li>Efficient update of sub-tree only.</li>\n</ul>\n\n<p>Compared to dirty-check, the key differences IMO are:</p>\n\n<ol>\n<li><p><strong>Model dirty-checking</strong>: React component is explicitly set as dirty whenever <code>setState</code> is called, so there's no comparison (of the data) needed here. For dirty-checking, the comparison (of the models) always happen each digest loop.</p></li>\n<li><p><strong>DOM updating</strong>: DOM operations are very expensive because modifying the DOM will also apply and calculate CSS styles, layouts. The saved time from unnecessary DOM modification can be longer than the time spent diffing the virtual DOM. </p></li>\n</ol>\n\n<p>The second point is even more important for non-trivial models such as one with huge amount of fields or large list. One field change of complex model will result in only the operations needed for DOM elements involving that field, instead of the whole view/template.</p>\n", "title": "Why is React&#39;s concept of Virtual DOM said to be more performant than dirty model checking?", "tags": ["javascript", "dom", "reactjs", "virtual-dom"], "link": "http://stackoverflow.com/questions/21109361/why-is-reacts-concept-of-virtual-dom-said-to-be-more-performant-than-dirty-mode/21117404#21117404", "question_id": 21109361, "answer_id": 21117404}, {"body": "<p>Here's a comment by React team member Sebastian Markb\u00e5ge which sheds some light:</p>\n\n<blockquote>\n  <p>React does the diffing on the output (which is a known serializable format, DOM attributes). This means that the source data can be of any format. It can be immutable data structures and state inside of closures.</p>\n  \n  <p>The Angular model doesn't preserve referential transparency and therefore is inherently mutable. You mutate the existing model to track changes. What if your data source is immutable data or a new data structure every time (such as a JSON response)?</p>\n  \n  <p>Dirty checking and Object.observe does not work on closure scope state.</p>\n  \n  <p>These two things are very limiting to functional patterns obviously.</p>\n  \n  <p>Additionally, when your model complexity grows, it becomes increasingly expensive to do dirty tracking. However, if you only do diffing on the visual tree, like React, then it doesn't grow as much since the amount of data you're able to show on the screen at any given point is limited by UIs. Pete's link above covers more of the pref benefits.</p>\n</blockquote>\n\n<p><a href=\"https://news.ycombinator.com/item?id=6937668\">https://news.ycombinator.com/item?id=6937668</a></p>\n", "title": "Why is React&#39;s concept of Virtual DOM said to be more performant than dirty model checking?", "tags": ["javascript", "dom", "reactjs", "virtual-dom"], "link": "http://stackoverflow.com/questions/21109361/why-is-reacts-concept-of-virtual-dom-said-to-be-more-performant-than-dirty-mode/21119645#21119645", "question_id": 21109361, "answer_id": 21119645}, {"body": "<p>I'm the primary author of a <a href=\"http://github.com/Matt-Esch/virtual-dom\">virtual-dom</a> module, so I might be able to answer your questions. There are in fact 2 problems that need to be solved here</p>\n\n<ol>\n<li><strong>When do I re-render?</strong>  Answer: When I observe that the data is dirty.  </li>\n<li><strong>How do I re-render efficiently?</strong> Answer:  Using a virtual DOM to generate a real DOM patch</li>\n</ol>\n\n<p>In React, each of your components have a state. This state is like an observable you might find in knockout or other MVVM style libraries. Essentially, React knows <strong>when</strong> to re-render the scene because it is able to observe when this data changes. Dirty checking is slower than observables because you must poll the data at a regular interval and check all of the values in the data structure recursively. By comparison, setting a value on the state will signal to a listener that some state has changed, so React can simply listen for change events on the state and queue up re-rendering.</p>\n\n<p>The virtual DOM is used for efficient re-rendering of the DOM. This isn't really related to dirty checking your data. You could re-render using a virtual DOM with or without dirty checking. You're right in that there is some overhead in computing the diff between two virtual trees, but the virtual DOM diff is about understanding what needs updating in the DOM and not whether or not your data has changed. In fact, <strong>the diff algorithm is a dirty checker itself</strong> but it is used to see if the DOM is dirty instead.</p>\n\n<p>We aim to re-render the virtual tree only when the state changes. So using an observable to check if the state has changed is an efficient way to prevent unnecessary re-renders, which would cause lots of unnecessary tree diffs. If nothing has changed, we do nothing.</p>\n\n<p>A virtual DOM is nice because it lets us write our code as if we were re-rendering the entire scene. Behind the scenes we want to compute a patch operation that updates the DOM to look how we expect. So while the virtual DOM diff/patch algorithm <strong>is probably not the optimal solution</strong>, it gives us a very nice way to express our applications. We just declare exactly what we want and React/virtual-dom will work out how to make your scene look like this. We don't have to do manual DOM manipulation or get confused about previous DOM state. We don't have to re-render the entire scene either, which could be much less efficient than patching it.</p>\n", "title": "Why is React&#39;s concept of Virtual DOM said to be more performant than dirty model checking?", "tags": ["javascript", "dom", "reactjs", "virtual-dom"], "link": "http://stackoverflow.com/questions/21109361/why-is-reacts-concept-of-virtual-dom-said-to-be-more-performant-than-dirty-mode/23995928#23995928", "question_id": 21109361, "answer_id": 23995928}, {"body": "<blockquote>\n  <p>I really like the potential power of the Virtual DOM (especially\n  server-side rendering) but I would like to know all the pros and cons.</p>\n  \n  <p><em>-- OP</em></p>\n</blockquote>\n\n<p>React is not the only DOM manipulation library. I encourage you to understand the alternatives by reading this <a href=\"https://auth0.com/blog/2015/11/20/face-off-virtual-dom-vs-incremental-dom-vs-glimmer/\">article from Auth0</a> that includes detailed explanation and benchmarks. I'll highlight here their pros and cons, as you asked:</p>\n\n<blockquote>\n  <h1>React.js' Virtual DOM</h1>\n  \n  <p><a href=\"http://i.stack.imgur.com/S1vng.png\"><img src=\"http://i.stack.imgur.com/S1vng.png\" alt=\"enter image description here\"></a></p>\n  \n  <h3>PROS</h3>\n  \n  <ul>\n  <li>Fast and efficient \"diffing\" algorithm</li>\n  <li>Multiple frontends (JSX, hyperscript)</li>\n  <li>Lightweight enough to run on mobile devices</li>\n  <li>Lots of traction and mindshare</li>\n  <li>Can be used without React (i.e. as an independent engine)</li>\n  </ul>\n  \n  <h3>CONS</h3>\n  \n  <ul>\n  <li>Full in-memory copy of the DOM (higher memory use)</li>\n  <li>No differentiation between static and dynamic elements</li>\n  </ul>\n  \n  <hr>\n  \n  <h1>Ember.js' Glimmer</h1>\n  \n  <p><a href=\"http://i.stack.imgur.com/AgSYC.png\"><img src=\"http://i.stack.imgur.com/AgSYC.png\" alt=\"enter image description here\"></a></p>\n  \n  <h3>PROS</h3>\n  \n  <ul>\n  <li>Fast and efficient diffing algorithm</li>\n  <li>Differentiation between static and dynamic elements</li>\n  <li>100% compatible with Ember's API (you get the benefits without major updates to your existing code)</li>\n  <li>Lightweight in-memory representation of the DOM</li>\n  </ul>\n  \n  <h3>CONS</h3>\n  \n  <ul>\n  <li>Meant to be used only in Ember</li>\n  <li>Only one frontend available</li>\n  </ul>\n  \n  <hr>\n  \n  <h1>Incremental DOM</h1>\n  \n  <p><a href=\"http://i.stack.imgur.com/M8f40.png\"><img src=\"http://i.stack.imgur.com/M8f40.png\" alt=\"enter image description here\"></a></p>\n  \n  <h3>PROS</h3>\n  \n  <ul>\n  <li>Reduced memory usage</li>\n  <li>Simple API</li>\n  <li>Easily integrates with many frontends and frameworks (meant as a template engine backend from the beginning)</li>\n  </ul>\n  \n  <h3>CONS</h3>\n  \n  <ul>\n  <li>Not as fast as other libraries (this is arguable, see the benchmarks below)</li>\n  <li>Less mindshare and community use</li>\n  </ul>\n</blockquote>\n", "title": "Why is React&#39;s concept of Virtual DOM said to be more performant than dirty model checking?", "tags": ["javascript", "dom", "reactjs", "virtual-dom"], "link": "http://stackoverflow.com/questions/21109361/why-is-reacts-concept-of-virtual-dom-said-to-be-more-performant-than-dirty-mode/37012883#37012883", "question_id": 21109361, "answer_id": 37012883}], "link": "http://stackoverflow.com/questions/21109361/why-is-reacts-concept-of-virtual-dom-said-to-be-more-performant-than-dirty-mode", "question_id": 21109361}, {"body": "<pre><code>enum Suit {\n    case Spades, Hearts, Diamonds, Clubs\n    func simpleDescription() -&gt; String {\n        switch self {\n        case .Spades:\n            return \"spades\"\n        case .Hearts:\n            return \"hearts\"\n        case .Diamonds:\n            return \"diamonds\"\n        case .Clubs:\n            return \"clubs\"\n        }\n    }\n}\n</code></pre>\n\n<p>For example, how can I do something like:</p>\n\n<pre><code>for suit in Suit {\n  // do something with suit\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "answers": [{"body": "<p>On Swift, <code>enum</code> types can be accessed like <code>EnumType.Case</code>:</p>\n\n<p><code>let tableView = UITableView(frame: self.view.bounds, style: UITableViewStyle.Plain)</code></p>\n\n<p>Most of the time you're only going to use <code>enum</code> types when you have a few options to work with, and know exactly what you're going to do on each one.</p>\n\n<p>It wouldn't make much sense to use the <code>for-in</code> structure when working with <code>enum</code> types.</p>\n\n<p>You can do this, for instance:</p>\n\n<pre><code>func sumNumbers(numbers : Int...) -&gt; Int {\n    var sum = 0\n\n    for number in numbers{\n        sum += number\n    }\n\n    return sum\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24008015#24008015", "question_id": 24007461, "answer_id": 24008015}, {"body": "<p>Enums have toRaw() and fromRaw() methods so if your raw value is an Int, you can iterate from the first to last enum:</p>\n\n<pre><code>enum Suit: Int {\n    case Spades = 1\n    case Hearts, Diamonds, Clubs\n    func simpleDescription() -&gt; String {\n        switch self {\n        case .Spades:\n            return \"spades\"\n        case .Hearts:\n            return \"hearts\"\n        case .Diamonds:\n            return \"diamonds\"\n        case .Clubs:\n            return \"clubs\"\n        }\n    }\n}\n\nfor i in Suit.Spades.toRaw()...Suit.Clubs.toRaw() {\n    if let covertedSuit = Suit.fromRaw(i) {\n        let description = covertedSuit.simpleDescription()\n    }\n}\n</code></pre>\n\n<p>One gotcha is that you need to test for optional values before running the simpleDescription method, so we set convertedSuit to our value first and then set a constant to convertedSuit.simpleDescription()</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24011062#24011062", "question_id": 24007461, "answer_id": 24011062}, {"body": "<p>In principle it is possible to do it this way assuming that you don't use raw values assignment for enum's cases:</p>\n\n<pre><code>enum RankEnum: Int {\n  case Ace\n  case One\n  case Two\n}\n\nclass RankEnumGenerator : Generator {\n  var i = 0\n  typealias Element = RankEnum\n  func next() -&gt; Element? {\n    let r = RankEnum.fromRaw(i)\n    i += 1\n    return r\n  }\n}\n\nextension RankEnum {\n  static func enumerate() -&gt; SequenceOf&lt;RankEnum&gt; {\n    return SequenceOf&lt;RankEnum&gt;({ RankEnumGenerator() })\n  }\n}\n\nfor r in RankEnum.enumerate() {\n  println(\"\\(r.toRaw())\")\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24025729#24025729", "question_id": 24007461, "answer_id": 24025729}, {"body": "<p>This seems like a hack but if you use raw values you can do something like this</p>\n\n<pre><code>enum Suit: Int {  \n    case Spades = 0, Hearts, Diamonds, Clubs  \n ...  \n}  \n\nvar suitIndex = 0  \nwhile var suit = Suit.fromRaw(suitIndex++) {  \n   ...  \n}  \n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24027254#24027254", "question_id": 24007461, "answer_id": 24027254}, {"body": "<p>It took me a little more then just one method in the struct like the swift book called for but i set up next functions in the enum. I would have used a protocol I'm not sure why but having rank set as int messes it up</p>\n\n<pre><code>enum Rank: Int {\n    case Ace = 1\n    case Two, Three, Four, Five, Six, Seve, Eight, Nine, Ten\n    case Jack, Queen, King\n    func simpleDescription() -&gt; String {\n        switch self{\n        case .Ace:\n            return \"ace\"\n        case .Jack:\n            return \"jack\"\n        case .Queen:\n            return \"Queen\"\n        case .King:\n            return \"King\"\n        default:\n            return String(self.toRaw())\n        }\n    }\n    mutating func next() -&gt; Rank {\n        var rank = self\n        var rawrank = rank.toRaw()\n        var nrank:Rank = self\n        rawrank = rawrank + 1\n        if let newRank = Rank.fromRaw(rawrank) {\n            println(\"\\(newRank.simpleDescription())\")\n            nrank = newRank\n        } else {\n            return self\n        }\n        return nrank\n    }\n}\n\nenum Suit {\n    case Spades, Hearts, Diamonds, Clubs\n    func color() -&gt; String {\n        switch self{\n        case .Spades, .Clubs:\n            return \"black\"\n        default:\n            return \"red\"\n        }\n    }\n    func simpleDescription() -&gt; String {\n        switch self{\n        case .Spades:\n            return \"spades\"\n        case .Hearts:\n            return \"hearts\"\n        case .Diamonds:\n            return \"diamonds\"\n        case .Clubs:\n            return \"clubs\"\n        }\n    }\n    mutating func next() -&gt; Suit {\n        switch self{\n        case .Spades:\n            return Hearts\n        case .Hearts:\n            return Diamonds\n        case .Diamonds:\n            return Clubs\n        case .Clubs:\n            return Spades\n        }\n    }\n}\n\nstruct Card {\n    var rank:Rank\n    var suit:Suit\n    func deck() -&gt; Card[] {\n        var tRank = self.rank\n        var tSuit = self.suit\n        let tcards = 52 // we start from 0\n        var cards: Card[] = []\n        for i in 0..tcards{\n            var card = Card(rank: tRank, suit: tSuit)\n            cards.append(card)\n            tRank = tRank.next()\n            tSuit = tSuit.next()\n        }\n        return cards\n    }\n    func simpleDescription() -&gt; String {\n        return \"The \\(rank.simpleDescription()) of \\(suit.simpleDescription())\"\n    }\n}\n\nvar card = Card(rank: .Ace, suit: .Spades)\nvar deck = card.deck()\n</code></pre>\n\n<p>hope this helps basically I used a little general knowledge but that can be easily rectified by multiplying suits by rank (if you aren't using a standard deck of cards and you'd have to change the enums accordingly  and if basically just steps through the different enums note to save time I used ranks raw values you could do the same for suits if you wanted however the example did not have it so I decided to figure it out without changing suits raw value</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24065601#24065601", "question_id": 24007461, "answer_id": 24065601}, {"body": "<p>Try this:</p>\n\n<pre><code>func createDeck() -&gt; Card[] {\n    var deck = Card[]()\n\n    for rank in 1...13 {\n        deck.append(Card(rank: Rank.fromRaw(rank)!, suit: Suit.Clubs))\n        deck.append(Card(rank: Rank.fromRaw(rank)!, suit: Suit.Diamonds))\n        deck.append(Card(rank: Rank.fromRaw(rank)!, suit: Suit.Hearts))\n        deck.append(Card(rank: Rank.fromRaw(rank)!, suit: Suit.Spades))\n    }\n\n    return deck\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24072975#24072975", "question_id": 24007461, "answer_id": 24072975}, {"body": "<p>I have used the below method, the assumption is that I know which is the last value in the Rank enum and all the ranks have incremental values after Ace</p>\n\n<p>I prefer this way as it is clean and small, easy to understand</p>\n\n<pre><code> func cardDeck() -&gt; Card[] {\n    var cards: Card[] = []\n    let minRank = Rank.Ace.toRaw()\n    let maxRank = Rank.King.toRaw()\n\n    for rank in minRank...maxRank {\n        if var convertedRank: Rank = Rank.fromRaw(rank) {\n            cards.append(Card(rank: convertedRank, suite: Suite.Clubs))\n            cards.append(Card(rank: convertedRank, suite: Suite.Diamonds))\n            cards.append(Card(rank: convertedRank, suite: Suite.Hearts))\n            cards.append(Card(rank: convertedRank, suite: Suite.Spades))\n        }\n    }\n\n    return cards\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24077261#24077261", "question_id": 24007461, "answer_id": 24077261}, {"body": "<p>There is a clever way, and frustrating as it is it illustrates the difference between the two different kinds of enums.</p>\n\n<p>Try this:</p>\n\n<pre><code>    func makeDeck() -&gt; Card[] {\n      var deck: Card[] = []\n      var suits: Suit[] = [.Hearts, .Diamonds, .Clubs, .Spades]\n      for i in 1...13 {\n        for suit in suits {\n          deck += Card(rank: Rank.fromRaw(i)!, suit: suit)\n        }\n      }\n      return deck\n    }\n</code></pre>\n\n<p>The deal is that an enum backed by numbers (raw values) is implicitly explicitly ordered, whereas an enum that isn't backed by numbers is explicitly implicitly unordered.</p>\n\n<p>E.g. when we give the enum values numbers, the language is cunning enough to figure out what order the numbers are in.\nIf on the other hand we don't give it any ordering, when we try to iterate over the values the language throws its hands up in the air and goes <em>\"yes, but which one do you want to go first???\"</em></p>\n\n<p>Other languages which can do this (iterating over unordered enums) might be the same languages where everything is 'under the hood' actually a map or dictionary, and you can iterate over the keys of a map, whether there's any logical ordering or not.</p>\n\n<p>So the trick is to provide it with something that is explicitly ordered, in this case instances of the suits in an array in the order we want.  As soon as you give it that, Swift is like <em>\"well why didn't you say so in the first place?\"</em></p>\n\n<p>The other shorthand trick is to use the forcing operator on the fromRaw function.  This illustrates another 'gotcha' about enums, that the range of possible values to pass in is often larger than the range of enums.  For instance if we said Rank.fromRaw(60) there wouldn't be a value returned, so we're using the <strong>optional</strong> feature of the language, and where we start using optionals, forcing will soon follow.  (Or alternately the <em>if let</em> construction which still seems a bit weird to me)</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24097611#24097611", "question_id": 24007461, "answer_id": 24097611}, {"body": "<pre><code>enum Rank: Int\n{\n    case Ace = 0\n    case Two, Three, Four, Five, Six, Seve, Eight, Nine, Ten\n    case Jack, Queen, King\n    case Count\n}\n\nenum Suit : Int\n{\n    case Spades = 0\n    case Hearts, Diamonds, Clubs\n    case Count\n}\n\nstruct Card\n{\n    var rank:Rank\n    var suit:Suit\n}\n\nclass Test\n{\n    func makeDeck() -&gt; Card[]\n    {\n        let suitsCount:Int = Suit.Count.toRaw()\n        let rankCount:Int = Rank.Count.toRaw()\n        let repeatedCard:Card = Card(rank:Rank.Ace, suit:Suit.Spades)\n        let deck:Card[] = Card[](count:suitsCount*rankCount, repeatedValue:repeatedCard)\n\n        for i:Int in 0..rankCount\n        {\n            for j:Int in 0..suitsCount\n            {\n                deck[i*suitsCount+j] = Card(rank: Rank.fromRaw(i)!, suit: Suit.fromRaw(j)!)\n            }\n        }\n        return deck\n    }\n}\n</code></pre>\n\n<p>Based on Rick answer: this is 5 times faster</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24110129#24110129", "question_id": 24007461, "answer_id": 24110129}, {"body": "<p>This is what I ended up going with; I think it strikes the right balance of readability and maintainability.</p>\n\n<pre><code>struct Card {\n\n// ...\n\nstatic func deck() -&gt; Card[] {\n    var deck = Card[]()\n    for i in Rank.Ace.toRaw()...Rank.King.toRaw() {\n        for suit in [Suit.Spades, .Hearts, .Clubs, .Diamonds] {\n            let card = Card(rank: Rank.fromRaw(i)!, suit: suit)\n            deck.append(card)\n        }\n    }\n    return deck\n}\n\nlet deck = Card.deck()\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24111993#24111993", "question_id": 24007461, "answer_id": 24111993}, {"body": "<p>Here's a less cryptic example if you still wanted to use enums for <code>Rank</code> And <code>Suit</code>.  Just collect them into an Array if you want to use a <code>for-in loop</code> to iterate over each one.</p>\n\n<h3>Example of a standard 52-card deck:</h3>\n\n<pre><code>enum Rank: Int {\n    case Ace = 1, Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten, Jack, Queen, King\n    func name() -&gt; String {\n        switch self {\n        case .Ace:\n            return \"ace\"\n        case .Jack:\n            return \"jack\"\n        case .Queen:\n            return \"queen\"\n        case .King:\n            return \"king\"\n        default:\n            return String(self.toRaw())\n        }\n    }\n}\n\nenum Suit: Int {\n    case Diamonds = 1, Clubs, Hearts, Spades\n    func name() -&gt; String {\n        switch self {\n        case .Diamonds:\n            return \"diamonds\"\n        case .Clubs:\n            return \"clubs\"\n        case .Hearts:\n            return \"hearts\"\n        case .Spades:\n            return \"spades\"\n        default:\n            return \"NOT A VALID SUIT\"\n        }\n    }\n}\n\nlet Ranks = [\n    Rank.Ace,\n    Rank.Two,\n    Rank.Three,\n    Rank.Four,\n    Rank.Five,\n    Rank.Six,\n    Rank.Seven,\n    Rank.Eight,\n    Rank.Nine,\n    Rank.Ten,\n    Rank.Jack,\n    Rank.Queen,\n    Rank.King\n]\n\nlet Suits = [\n    Suit.Diamonds,\n    Suit.Clubs,\n    Suit.Hearts,\n    Suit.Spades\n]\n\n\nclass Card {\n    var rank: Rank\n    var suit: Suit\n\n    init(rank: Rank, suit: Suit) {\n        self.rank = rank\n        self.suit = suit\n    }\n}\n\nclass Deck {\n    var cards = Card[]()\n\n    init() {\n        for rank in Ranks {\n            for suit in Suits {\n                cards.append(Card(rank: rank, suit: suit))\n            }\n        }\n    }\n}\n\nvar myDeck = Deck()\nmyDeck.cards.count  // =&gt; 52\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24114538#24114538", "question_id": 24007461, "answer_id": 24114538}, {"body": "<p>My humble contribution...  I played around and came to this.  The upside is that it is very readable to me.  A little downside is that it required some additional typing to create the enumerate'able array.</p>\n\n<pre><code>enum Rank: Int {\n\ncase Ace\ncase Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten\ncase Jack, Queen, King\n\ncase All\n\nfunc simpleDescription() -&gt; String {\n\n    switch self {\n\n    case .Ace:\n        return \"ace\"\n    case .Jack:\n        return \"jack\"\n    case .Queen:\n        return \"queen\"\n    case .King:\n        return \"king\"\n    case .All:\n        return \"all\"\n    default:\n        return String(self.toRaw())\n\n    }\n\n}\n\nfunc values() -&gt; Array&lt;Rank&gt; {\n\n    let allRanks = [Rank.Ace, Rank.Two, Rank.Three, Rank.Four, Rank.Five, Rank.Six, Rank.Seven, Rank.Eight, Rank.Nine, Rank.Ten, Rank.Jack, Rank.Queen, Rank.King]\n\nreturn allRanks\n\n}}\n\nenum Suit {\n\ncase Spades, Hearts, Diamonds, Clubs\ncase All\n\nfunc simpleDescription() -&gt; String {\n\n    switch self {\n    case .Spades:\n        return \"spades\"\n    case .Hearts:\n        return \"hearts\"\n    case .Diamonds:\n        return \"diamonds\"\n    case .Clubs:\n        return \"clubs\"\n    case .All:\n        return \"all\"\n\n    }\n}\n\nfunc values() -&gt; Array&lt;Suit&gt; {\n\n    let allSuits = [Suit.Spades, Suit.Hearts, Suit.Diamonds, Suit.Clubs]\n\nreturn allSuits\n\n}}\n\nstruct Card {\n\nvar rank: Rank\nvar suit: Suit\n\nfunc simpleDescription() -&gt; String {\n\n    return \"The \\(rank.simpleDescription()) of \\(suit.simpleDescription())\"\n\n}}\n\nvar deck = Card[]()\n\nfor aSuit: Suit in Suit.All.values() {\n\n    for aRank: Rank in Rank.All.values() {\n\n       let card = Card(rank: aRank, suit: aSuit)\n\n       deck += card\n\n       println(\"\\(card.simpleDescription())\")\n\n}}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24124429#24124429", "question_id": 24007461, "answer_id": 24124429}, {"body": "<p>This post is relevant here <a href=\"http://www.swift-studies.com/blog/2014/6/10/enumerating-enums-in-swift\">http://www.swift-studies.com/blog/2014/6/10/enumerating-enums-in-swift</a></p>\n\n<p>Essentially the proposed solution is</p>\n\n<pre><code>enum ProductCategory : String {\n     case Washers = \"washers\", Dryers = \"dryers\", Toasters = \"toasters\"\n\n     static let allValues = [Washers, Dryers, Toasters]\n}\n\nfor category in ProductCategory.allValues{\n     //Do something\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24137319#24137319", "question_id": 24007461, "answer_id": 24137319}, {"body": "<p>The other solutions <em>work</em> but they all make assumptions of for example the number of possible ranks and suits, or what the first and last rank may be. True, the layout of a deck of cards probably isn't going to change much in the foreseeable future. In general, however, it's neater to write code which makes as little assumptions as possible. My solution:</p>\n\n<p>I've added a raw type to the suit enum, so I can use Suit(rawValue:) to access the Suit cases:</p>\n\n<pre><code>enum Suit: Int {\n    case Spades = 1\n    case Hearts, Diamonds, Clubs\n    func simpleDescription() -&gt; String {\n        switch self {\n            case .Spades:\n                return \"spades\"\n            case .Hearts:\n                return \"hearts\"\n            case .Diamonds:\n                return \"diamonds\"\n            case .Clubs:\n                return \"clubs\"\n        }\n    }\n    func color() -&gt; String {\n        switch self {\n        case .Spades:\n            return \"black\"\n        case .Clubs:\n            return \"black\"\n        case .Diamonds:\n            return \"red\"\n        case .Hearts:\n            return \"red\"\n        }\n    }\n}\n\nenum Rank: Int {\n    case Ace = 1\n    case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten\n    case Jack, Queen, King\n    func simpleDescription() -&gt; String {\n        switch self {\n            case .Ace:\n                return \"ace\"\n            case .Jack:\n                return \"jack\"\n            case .Queen:\n                return \"queen\"\n            case .King:\n                return \"king\"\n            default:\n                return String(self.rawValue)\n        }\n    }\n}\n</code></pre>\n\n<p>Below the implementation of Card's createDeck() method. init(rawValue:) is a failable initializer and returns an optional. By unwrapping and checking it's value in both while statements, there's no need to assume the number of Rank or Suit cases:</p>\n\n<pre><code>struct Card {\n    var rank: Rank\n    var suit: Suit\n    func simpleDescription() -&gt; String {\n        return \"The \\(rank.simpleDescription()) of \\(suit.simpleDescription())\"\n    }\n    func createDeck() -&gt; [Card] {\n        var n = 1\n        var deck = [Card]()\n        while let rank = Rank(rawValue: n) {\n            var m = 1\n            while let suit = Suit(rawValue: m) {\n                deck.append(Card(rank: rank, suit: suit))\n                m += 1\n            }\n            n += 1\n        }\n        return deck\n    }\n}\n</code></pre>\n\n<p>Here is how to call the createDeck method:</p>\n\n<pre><code>let card = Card(rank: Rank.Ace, suit: Suit.Clubs)\nlet deck = card.createDeck()\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24222118#24222118", "question_id": 24007461, "answer_id": 24222118}, {"body": "<p>You could iterate through an enum by implementing the <code>ForwardIndexType</code> protocol.</p>\n\n<p>The <code>ForwardIndexType</code> protocol requires you to define a <code>successor()</code> function to step through the elements.</p>\n\n<pre><code>enum Rank: Int, ForwardIndexType {\n    case Ace = 1\n    case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten\n    case Jack, Queen, King\n\n    // ... other functions\n\n    // Option 1 - Figure it out by hand\n    func successor() -&gt; Rank {\n        switch self {\n            case .Ace:\n              return .Two\n            case .Two:\n              return .Three\n\n            // ... etc.\n\n            default:\n              return .King\n        }\n    }\n\n    // Option 2 - Define an operator!\n    func successor() -&gt; Rank {\n        return self + 1\n    }\n}\n\n// NOTE: The operator is defined OUTSIDE the class\nfunc + (left: Rank, right: Int) -&gt; Rank {\n    // I'm using to/from raw here, but again, you can use a case statement\n    // or whatever else you can think of\n\n    return left == .King ? .King : Rank(rawValue: left.rawValue + right)!\n}\n</code></pre>\n\n<p>Iterating over an open or closed range (<code>..&lt;</code> or <code>...</code>) will internally call the <code>successor()</code> function which allows you to write this:</p>\n\n<pre><code>// Under the covers, successor(Rank.King) and successor(Rank.Ace) are called to establish limits\nfor r in Rank.Ace...Rank.King {\n    // Do something useful\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/24791881#24791881", "question_id": 24007461, "answer_id": 24791881}, {"body": "<pre><code>enum Rank: Int {\n    case Ace = 1\n    case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten\n    case Jack, Queen, King\n\n    func simpleDescription() -&gt; String {\n        switch self {\n        case .Ace: return \"ace\"\n        case .Jack: return \"jack\"\n        case .Queen: return \"queen\"\n        case .King: return \"king\"\n        default: return String(self.toRaw())\n        }\n    }\n}\n\nenum Suit: Int {\n    case Spades = 1\n    case Hearts, Diamonds, Clubs\n\n    func simpleDescription() -&gt; String {\n        switch self {\n        case .Spades: return \"spades\"\n        case .Hearts: return \"hearts\"\n        case .Diamonds: return \"diamonds\"\n        case .Clubs: return \"clubs\"\n        }\n    }\n\n    func color() -&gt; String {\n        switch self {\n        case .Spades, .Clubs: return \"black\"\n        case .Hearts, .Diamonds: return \"red\"\n        }\n    }\n}\n\nstruct Card {\n    var rank: Rank\n    var suit: Suit\n    func simpleDescription() -&gt; String {\n        return \"The \\(rank.simpleDescription()) of \\(suit.simpleDescription())\"\n    }\n\n    static func createPokers() -&gt; Card[] {\n        let ranks = Array(Rank.Ace.toRaw()...Rank.King.toRaw())\n        let suits = Array(Suit.Spades.toRaw()...Suit.Clubs.toRaw())\n        let cards = suits.reduce(Card[]()) { (tempCards, suit) in\n            tempCards + ranks.map { rank in\n                Card(rank: Rank.fromRaw(rank)!, suit: Suit.fromRaw(suit)!)\n            }\n        }\n        return cards\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/25188378#25188378", "question_id": 24007461, "answer_id": 25188378}, {"body": "<p>Here's my suggested approach. It's not completely satisfactory (I'm very new to Swift and OOP!) but maybe someone can refine it. The idea is to have each enum provide its own range information as .first and .last properties. It adds just two lines of code to each enum: still a bit hard-coded, but at least it's not duplicating the whole set. It does require modifying the Suit enum to be an Int like the Rank enum is, instead of untyped. </p>\n\n<p>Rather than echo the whole solution, here's the code I added to the Rank enum, somewhere after the case statements (Suit enum is similar):</p>\n\n<pre><code>var first: Int { return Ace.toRaw() }\nvar last: Int { return King.toRaw() }\n</code></pre>\n\n<p>and the loop I used to build the deck as an array of String. (The problem definition did not state how the deck was to be structured.)</p>\n\n<pre><code>func createDeck() -&gt; [String] {\nvar deck: [String] = []\nvar card: String\nfor r in Rank.Ace.first...Rank.Ace.last {\n    for s in Suit.Hearts.first...Suit.Hearts.last {\n       card = Rank.simpleDescription( Rank.fromRaw(r)!)() + \" of \" + Suit.simpleDescription( Suit.fromRaw(s)!)()\n       deck.append( card)\n       }\n   }\nreturn deck\n}\n</code></pre>\n\n<p>It's unsatisfactory because the properties are associated to an element rather than to the enum. But it does add clarity to the 'for' loops. I'd like it to say Rank.first instead of Rank.Ace.first. It works (with any element), but it's ugly. Can someone show how to elevate that to the enum level?</p>\n\n<p>And to make it work, I lifted the createDeck method out of the Card struct... could not figure out how to get a [String] array returned from that struct, and that seems a bad place to put such a method anyway.</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/25335422#25335422", "question_id": 24007461, "answer_id": 25335422}, {"body": "<p>Sometimes, you may deal with an enumerated type with an underlying raw integer type that changes throughout the software development lifecycle.  Here is an example that works well for that case:</p>\n\n<pre><code>public class MyClassThatLoadsTexturesEtc\n{\n    //...\n\n    // Colors used for gems and sectors.\n    public enum Color: Int\n    {\n        // Colors arranged in order of the spectrum.\n        case First = 0\n        case Red, Orange, Yellow, Green, Blue, Purple, Pink\n        // --&gt; Add more colors here, between the first and last markers.\n        case Last\n    }\n\n    //...\n\n    public func preloadGems()\n    {\n        // Preload all gems.\n        for i in (Color.First.toRaw() + 1) ..&lt; (Color.Last.toRaw())\n        {\n            let color = Color.fromRaw(i)!\n            loadColoredTextures(forKey: color)\n        }\n    }\n\n    //...\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/25879316#25879316", "question_id": 24007461, "answer_id": 25879316}, {"body": "<p>I did it using computed property, which returns the array of all values (thanks to this post <a href=\"http://natecook.com/blog/2014/10/loopy-random-enum-ideas/\" rel=\"nofollow\">http://natecook.com/blog/2014/10/loopy-random-enum-ideas/</a>). However it also uses int raw-values, but I don't need to repeat all members of enumeration in separate property. </p>\n\n<p><strong>UPDATE</strong> Xcode 6.1 changed a bit a way how to get enum member using raw value, so I fixed listing. Also fixed small error with wrong first raw value</p>\n\n<pre><code>enum ValidSuits:Int{\n    case Clubs=0, Spades, Hearts, Diamonds\n    func description()-&gt;String{\n        switch self{\n        case .Clubs:\n            return \"\u2663\ufe0e\"\n        case .Spades:\n            return \"\u2660\ufe0e\"\n        case .Diamonds:\n            return \"\u2666\ufe0e\"\n        case .Hearts:\n            return \"\u2665\ufe0e\"\n        }\n    }\n\n    static var allSuits:[ValidSuits]{\n        return Array(\n            SequenceOf {\n                () -&gt; GeneratorOf&lt;ValidSuits&gt; in\n                var i=0\n                return GeneratorOf&lt;ValidSuits&gt;{\n                    return ValidSuits(rawValue: i++)\n                }\n            }\n        )\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/26479158#26479158", "question_id": 24007461, "answer_id": 26479158}, {"body": "<p>The experiment was: \nEXPERIMENT</p>\n\n<p>Add a method to Card that creates a full deck of cards, with one card of each combination of rank and suit.</p>\n\n<p>So without modifying or enhancing the given code other than adding the method (and without using stuff that hasn't been taught yet), I came up with this solution:</p>\n\n<pre><code>struct Card {\n    var rank: Rank\n    var suit: Suit\n\n    func simpleDescription() -&gt; String {\n        return \"The \\(rank.simpleDescription()) of \\(suit.simpleDescription())\"\n    }\n\n    func createDeck() -&gt; [Card] {\n        var deck: [Card] = []\n        for rank in Rank.Ace.rawValue...Rank.King.rawValue {\n            for suit in Suit.Spades.rawValue...Suit.Clubs.rawValue {\n                let card = Card(rank: Rank(rawValue: rank)!, suit: Suit(rawValue: suit)!)\n                //println(card.simpleDescription())\n                deck += [card]\n            }\n        }\n        return deck\n    }\n}\nlet threeOfSpades = Card(rank: .Three, suit: .Spades)\nlet threeOfSpadesDescription = threeOfSpades.simpleDescription()\nlet deck = threeOfSpades.createDeck()\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/27207925#27207925", "question_id": 24007461, "answer_id": 27207925}, {"body": "<p>I made a utility function <code>iterateEnum()</code> for iterating cases for arbitrary <code>enum</code> types.</p>\n\n<p>Here is the example usage:</p>\n\n<pre><code>enum Suit:String {\n    case Spades = \"\u2660\"\n    case Hearts = \"\u2665\"\n    case Diamonds = \"\u2666\"\n    case Clubs = \"\u2663\"\n}\n\nfor f in iterateEnum(Suit) {\n    println(f.rawValue)\n}\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>\u2660\n\u2665\n\u2666\n\u2663\n</code></pre>\n\n<p>But, this is <strong>only for debug or test</strong> purpose: This relies on several undocumented current(Swift1.1) compiler behaviors. So, use it at your own risk :)</p>\n\n<p>Here is the code:</p>\n\n<pre><code>func iterateEnum&lt;T: Hashable&gt;(_: T.Type) -&gt; GeneratorOf&lt;T&gt; {\n    var cast: (Int -&gt; T)!\n    switch sizeof(T) {\n    case 0: return GeneratorOf(GeneratorOfOne(unsafeBitCast((), T.self)))\n    case 1: cast = { unsafeBitCast(UInt8(truncatingBitPattern: $0), T.self) }\n    case 2: cast = { unsafeBitCast(UInt16(truncatingBitPattern: $0), T.self) }\n    case 4: cast = { unsafeBitCast(UInt32(truncatingBitPattern: $0), T.self) }\n    case 8: cast = { unsafeBitCast(UInt64($0), T.self) }\n    default: fatalError(\"cannot be here\")\n    }\n\n    var i = 0\n    return GeneratorOf {\n        let next = cast(i)\n        return next.hashValue == i++ ? next : nil\n    }\n}\n</code></pre>\n\n<p>The underlying idea is:</p>\n\n<ul>\n<li>Memory representation of <code>enum</code> - excluding <code>enum</code>s with associated types - is just a index of cases, when the count of the cases is <code>2...256</code>, it's identical to <code>UInt8</code>, when <code>257...65536</code>, it's <code>UInt16</code> and so on. So, it can be <code>unsafeBitcast</code> from corresponding unsigned integer types.</li>\n<li><code>.hashValue</code> of enum values is the same as the index of the case.</li>\n<li><code>.hashValue</code> of enum values bitcasted from <em>invalid</em> index is <code>0</code></li>\n</ul>\n\n<hr>\n\n<p><strong>ADDED:</strong></p>\n\n<p>Revised for Swift2 and implemented casting ideas from <a href=\"http://stackoverflow.com/a/32429125/3804019\">@Kametrixom's answer</a></p>\n\n<pre><code>func iterateEnum&lt;T: Hashable&gt;(_: T.Type) -&gt; AnyGenerator&lt;T&gt; {\n    var i = 0\n    return anyGenerator {\n        let next = withUnsafePointer(&amp;i) { UnsafePointer&lt;T&gt;($0).memory }\n        return next.hashValue == i++ ? next : nil\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>ADDED:</strong>\nRevised for Swift3</p>\n\n<pre><code>func iterateEnum&lt;T: Hashable&gt;(_: T.Type) -&gt; AnyIterator&lt;T&gt; {\n    var i = 0\n    return AnyIterator {\n        let next = withUnsafePointer(to: &amp;i) {\n            $0.withMemoryRebound(to: T.self, capacity: 1) { $0.pointee }\n        }\n        if next.hashValue != i { return nil }\n        i += 1\n        return next\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/28341290#28341290", "question_id": 24007461, "answer_id": 28341290}, {"body": "<p>My solution, is to declare an array with all the enum possibilities, so for can traverse through all of them.</p>\n\n<pre><code>//Function inside struct Card\nstatic func generateFullDeck() -&gt; [Card] {\n    let allRanks = [Rank.Ace, Rank.Two, Rank.Three, Rank.Four, Rank.Five, Rank.Six, Rank.Seven, Rank.Eight, Rank.Nine, Rank.Ten, Rank.Jack, Rank.Queen, Rank.King]\n    let allSuits = [Suit.Hearts, Suit.Diamonds, Suit.Clubs, Suit.Spades]\n    var myFullDeck: [Card] = []\n\n    for myRank in allRanks {\n        for mySuit in allSuits {\n            myFullDeck.append(Card(rank: myRank, suit: mySuit))\n        }\n    }\n    return myFullDeck\n}\n\n//actual use:\nlet aFullDeck = Card.generateFullDeck()    //Generate the desired full deck\n\nvar allDesc: [String] = []\nfor aCard in aFullDeck {\n    println(aCard.simpleDescription())    //You'll see all the results in playground\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/30284151#30284151", "question_id": 24007461, "answer_id": 30284151}, {"body": "<pre><code>enum Rank: Int {\n    ...\n    static let ranks = (Rank.Ace.rawValue ... Rank.King.rawValue).map{Rank(rawValue: $0)! }\n\n}\nenum Suit {\n    ...\n    static let suits = [Spades, Hearts, Diamonds, Clubs]\n}\n\nstruct Card {\n    ...\n    static func fullDesk() -&gt; [Card] {\n        var desk: [Card] = []\n        for suit in Suit.suits {\n            for rank in Rank.ranks {\n                desk.append(Card(rank: rank,suit: suit))\n            }\n        }\n        return desk\n    }\n}\n</code></pre>\n\n<p>How about this?</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/31069918#31069918", "question_id": 24007461, "answer_id": 31069918}, {"body": "<p>While dealing with <code>Swift 2.0</code> here is my suggestion:</p>\n\n<p>I have added the raw type to <code>Suit</code> <code>enum</code> </p>\n\n<pre><code>enum Suit: Int {\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>struct Card {\n    var rank: Rank\n    var suit: Suit\n\n\n    func fullDeck()-&gt; [Card] {\n\n        var deck = [Card]()\n\n        for i in Rank.Ace.rawValue...Rank.King.rawValue {\n\n            for j in Suit.Spades.rawValue...Suit.Clubs.rawValue {\n\n                deck.append(Card(rank:Rank(rawValue: i)! , suit: Suit(rawValue: j)!))\n            }\n        }\n\n        return deck\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/31464704#31464704", "question_id": 24007461, "answer_id": 31464704}, {"body": "<p>Sorry, my answer was specific to how I used this post in what I needed to do.  For those who stumble upon this question, looking for a way to <em>find</em> a case within an enum, this is the way to do it (new in Swift 2):</p>\n\n<p>Edit: lowercase camelCase is now the standard for Swift 3 enum values</p>\n\n<pre><code>// From apple docs: If the raw-value type is specified as String and you don\u2019t assign values to the cases explicitly, each unassigned case is implicitly assigned a string with the same text as the name of that case.\n\nenum Theme: String\n    {\n    case white, blue, green, lavender, grey\n    }\n\nfunc loadTheme(theme: String)\n    {\n    // this checks the string against the raw value of each enum case (note that the check could result in a nil value, since it's an optional, which is why we introduce the if/let block\n    if let testTheme = Theme(rawValue: theme)\n        {\n        // testTheme is guaranteed to have an enum value at this point\n        self.someOtherFunction(testTheme)\n        }\n    }\n</code></pre>\n\n<p>For those wondering about the enumerating on an enum, the answers given on this page that include a static var/let containing an array of all enum values are correct.  The latest Apple example code for tvOS contains this exact same technique.</p>\n\n<p>That being said, they should build a more convenient mechanism into the language (Apple, are you listening?)!</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/31708686#31708686", "question_id": 24007461, "answer_id": 31708686}, {"body": "<p>If you give the enum <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Enumerations.html\">a raw Int value</a> it will make looping much easier.</p>\n\n<p>For example, you can use <code>anyGenerator</code> to get a generator that can enumerate across your values:</p>\n\n<pre><code>enum Suit: Int, CustomStringConvertible {\n    case Spades, Hearts, Diamonds, Clubs\n    var description: String {\n        switch self {\n        case .Spades:   return \"Spades\"\n        case .Hearts:   return \"Hearts\"\n        case .Diamonds: return \"Diamonds\"\n        case .Clubs:    return \"Clubs\"\n        }\n    }\n    static func enumerate() -&gt; AnyGenerator&lt;Suit&gt; {\n        var nextIndex = Spades.rawValue\n        return anyGenerator { Suit(rawValue: nextIndex++) }\n    }\n}\n// You can now use it like this:\nfor suit in Suit.enumerate() {\n    suit.description\n}\n// or like this:\nlet allSuits: [Suit] = Array(Suit.enumerate())\n</code></pre>\n\n<hr>\n\n<p>However, this looks like a fairly common pattern, wouldn't it be nice if we could make any enum type enumerable by simply conforming to a protocol? Well with Swift 2.0 and protocol extensions, now we can!</p>\n\n<p>Simply add this to your project:</p>\n\n<pre><code>protocol EnumerableEnum {\n    init?(rawValue: Int)\n    static func firstValue() -&gt; Int\n}\nextension EnumerableEnum {\n    static func enumerate() -&gt; AnyGenerator&lt;Self&gt; {\n        var nextIndex = firstRawValue()\n        return anyGenerator { Self(rawValue: nextIndex++) }\n    }\n    static func firstRawValue() -&gt; Int { return 0 }\n}\n</code></pre>\n\n<p>Now any time you create an enum (so long as it has an Int raw value), you can make it enumerable by conforming to the protocol:</p>\n\n<pre><code>enum Rank: Int, EnumerableEnum {\n    case Ace, Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten, Jack, Queen, King\n}\n// ...\nfor rank in Rank.enumerate() { ... }\n</code></pre>\n\n<p>If your enum values don't start with <code>0</code> (the default), override the <code>firstRawValue</code> method:</p>\n\n<pre><code>enum DeckColor: Int, EnumerableEnum {\n    case Red = 10, Blue, Black\n    static func firstRawValue() -&gt; Int { return Red.rawValue }\n}\n// ...\nlet colors = Array(DeckColor.enumerate())\n</code></pre>\n\n<hr>\n\n<p>The final Suit class, including replacing <code>simpleDescription</code> with the <a href=\"http://stackoverflow.com/questions/24108634/what-is-the-swift-equivalent-of-nsobject-description\">more standard CustomStringConvertible protocol</a>, will look like this:</p>\n\n<pre><code>enum Suit: Int, CustomStringConvertible, EnumerableEnum {\n    case Spades, Hearts, Diamonds, Clubs\n    var description: String {\n        switch self {\n        case .Spades:   return \"Spades\"\n        case .Hearts:   return \"Hearts\"\n        case .Diamonds: return \"Diamonds\"\n        case .Clubs:    return \"Clubs\"\n        }\n    }\n}\n// ...\nfor suit in Suit.enumerate() {\n    print(suit.description)\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/32418497#32418497", "question_id": 24007461, "answer_id": 32418497}, {"body": "<h2>The second answer that really works</h2>\n\n<p>So I stumbled around in the bits and bytes and created an extension (that I later found out works very similar to <a href=\"http://stackoverflow.com/users/3804019/rintaro\">@rintaro</a>'s answer). It's usable like this:</p>\n\n<pre><code>enum E : EnumCollection {\n    case A, B, C\n}\n\nArray(E.cases())    // [A, B, C]\n</code></pre>\n\n<p>Remarkable is that it's usable on any enum (without associated values). Note that this doesn't work for enums that have no cases.</p>\n\n<h3>Disclaimer</h3>\n\n<p>As with <a href=\"http://stackoverflow.com/users/3804019/rintaro\">@rintaro</a>'s answer, this code uses the underlying representation of an enum. This representation isn't documented and might change in the future, which would break it -> I don't recommend the usage of this in production. </p>\n\n<p>EDIT: It's been about a year and this still works.</p>\n\n<h3>Code (Swift 2.2, Xcode 7.3.1)</h3>\n\n<pre><code>protocol EnumCollection : Hashable {}\nextension EnumCollection {\n    static func cases() -&gt; AnySequence&lt;Self&gt; {\n        typealias S = Self\n        return AnySequence { () -&gt; AnyGenerator&lt;S&gt; in\n            var raw = 0\n            return AnyGenerator {\n                let current : Self = withUnsafePointer(&amp;raw) { UnsafePointer($0).memory }\n                guard current.hashValue == raw else { return nil }\n                raw += 1\n                return current\n            }\n        }\n    }\n}\n</code></pre>\n\n<h3>Code (Swift 3, Xcode 8)</h3>\n\n<pre><code>protocol EnumCollection : Hashable {}\nextension EnumCollection {\n    static func cases() -&gt; AnySequence&lt;Self&gt; {\n        typealias S = Self\n        return AnySequence { () -&gt; AnyIterator&lt;S&gt; in\n            var raw = 0\n            return AnyIterator {\n                let current : Self = withUnsafePointer(&amp;raw) { UnsafePointer($0).pointee }\n                guard current.hashValue == raw else { return nil }\n                raw += 1\n                return current\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>(I have no idea why I need the <code>typealias</code>, but the compiler complains without it)</p>\n\n<p>(I made big modification to this answer, look at edits for past versions)</p>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/32429125#32429125", "question_id": 24007461, "answer_id": 32429125}, {"body": "<p>I like this solution which I put together after finding this page:\n<a href=\"http://stackoverflow.com/questions/24003584/list-comprehension-in-swift/24003930#24003930\">List comprehension in Swift</a> </p>\n\n<p>It uses Int raws instead of Strings but it avoids typing twice, it allows customizing the ranges, and doesn't hard code raw values.</p>\n\n<pre><code>enum Suit: Int {\n    case None\n    case Spade, Heart, Diamond, Club\n\n    static let allRawValues = Suit.Spade.rawValue...Suit.Club.rawValue\n    static let allCases = Array(allRawValues.map{ Suit(rawValue: $0)! })\n}\n\nenum Rank: Int {\n    case Joker\n    case Two, Three, Four, Five, Six\n    case Seven, Eight, Nine, Ten\n    case Jack, Queen, King, Ace\n\n    static let allRawValues = Rank.Two.rawValue...Rank.Ace.rawValue\n    static let allCases = Array(allRawValues.map{ Rank(rawValue: $0)! })\n}\n\nfunc makeDeck(withJoker withJoker: Bool) -&gt; [Card] {\n    var deck = [Card]()\n    for suit in Suit.allCases {\n        for rank in Rank.allCases {\n            deck.append(Card(suit: suit, rank: rank))\n        }\n    }\n    if withJoker {\n        deck.append(Card(suit: .None, rank: .Joker))\n    }\n    return deck\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/34117187#34117187", "question_id": 24007461, "answer_id": 34117187}, {"body": "<p>Updated to <strong>Swift 2.2</strong>+</p>\n\n<pre><code>func iterateEnum&lt;T: Hashable&gt;(_: T.Type) -&gt; AnyGenerator&lt;T&gt; {\n    var i = 0\n    return AnyGenerator {\n        let next = withUnsafePointer(&amp;i) {\n            UnsafePointer&lt;T&gt;($0).memory\n        }\n        if next.hashValue == i {\n            i += 1\n            return next\n        } else {\n            return nil\n        }\n    }\n}\n</code></pre>\n\n<p>it's updated code to Swift 2.2 form <a href=\"http://stackoverflow.com/a/32429125/3804019\">@Kametrixom's an</a>swer</p>\n\n<p>For <strong>Swift 3.0+</strong> (many thanks to <a href=\"http://stackoverflow.com/users/4778598/philip\">@Philip</a>)</p>\n\n<pre><code>func iterateEnum&lt;T: Hashable&gt;(_: T.Type) -&gt; AnyIterator&lt;T&gt; {\n    var i = 0\n    return AnyIterator {\n        let next = withUnsafePointer(&amp;i) {\n            UnsafePointer&lt;T&gt;($0).pointee\n        }\n        if next.hashValue == i {\n            i += 1\n            return next\n        } else {\n            return nil\n        }\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/36177807#36177807", "question_id": 24007461, "answer_id": 36177807}, {"body": "<p>There are lots of good solutions in this thread and others however some of them are very complicated. I like to simplify as much as possible. Here is a solution which may or may not work for different needs but I think it works well in most cases: </p>\n\n<pre><code>enum Number: String {\n    case One\n    case Two\n    case Three\n    case Four\n    case EndIndex\n\n    func nextCase () -&gt; Number\n    {\n        switch self {\n        case .One:\n            return .Two\n        case .Two:\n            return .Three\n        case .Three:\n            return .Four\n        case .Four:\n            return .EndIndex\n\n        /* \n        Add all additional cases above\n        */\n        case .EndIndex:\n            return .EndIndex\n        }\n    }\n\n    static var allValues: [String] {\n        var array: [String] = Array()\n        var number = Number.One\n\n        while number != Number.EndIndex {\n            array.append(number.rawValue)\n            number = number.nextCase()\n        }\n        return array\n    }\n}\n</code></pre>\n\n<p>To iterate:</p>\n\n<pre><code>for item in Number.allValues {\n    print(\"number is: \\(item)\")\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/37060923#37060923", "question_id": 24007461, "answer_id": 37060923}, {"body": "<p>Adapting <a href=\"http://stackoverflow.com/a/28341290/96153\">@rintaro's answer</a> to Swift 3 in which rintaro:</p>\n\n<ul>\n<li>wrote a utility function <code>iterateEnum()</code> for iterating cases for arbitrary enum types</li>\n<li>implemented casting ideas from <a href=\"http://stackoverflow.com/a/32429125/3804019\">@Kametrixom's answer</a></li>\n</ul>\n\n<hr>\n\n<p>Swift3</p>\n\n<pre><code>func iterateEnum&lt;T: Hashable&gt;(_: T.Type) -&gt; AnyGenerator&lt;T&gt; {\n    var i = 0\n    return AnyGenerator {\n        let next = withUnsafePointer(&amp;i) { UnsafePointer&lt;T&gt;($0).memory }\n\n        let value : T?\n        if next.hashValue == i {\n            value = next\n        } else {\n            value = nil\n        }\n        i = i + 1\n        return value\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/37365489#37365489", "question_id": 24007461, "answer_id": 37365489}, {"body": "<p>As with @Kametrixom answer <a href=\"http://stackoverflow.com/a/32429125/81388\">here</a> I believe returning an array would be better than returning AnySequence, since you can have access to all of Array's goodies such as count, etc.</p>\n\n<p>Here's the re-write:</p>\n\n<pre><code>public protocol EnumCollection : Hashable {}\nextension EnumCollection {\n    public static func allValues() -&gt; [Self] {\n        typealias S = Self\n        let retVal = AnySequence { () -&gt; AnyGenerator&lt;S&gt; in\n            var raw = 0\n            return AnyGenerator {\n                let current : Self = withUnsafePointer(&amp;raw) { UnsafePointer($0).memory }\n                guard current.hashValue == raw else { return nil }\n                raw += 1\n                return current\n            }\n        }\n\n        return [S](retVal)\n    }\n}\n</code></pre>\n", "title": "How to enumerate an enum with String type?", "tags": ["swift", "enums"], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type/38294053#38294053", "question_id": 24007461, "answer_id": 38294053}], "link": "http://stackoverflow.com/questions/24007461/how-to-enumerate-an-enum-with-string-type", "question_id": 24007461}, {"body": "<p>In <code>Objective-C</code> the code to check for a substring in an <code>NSString</code> is: </p>\n\n<pre><code>NSString *string = @\"hello Swift\";\nNSRange textRange =[string rangeOfString:@\"Swift\"];\nif(textRange.location != NSNotFound)\n{\n    NSLog(@\"exists\");\n}\n</code></pre>\n\n<p>But how do I do this in Swift?</p>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "answers": [{"body": "<p>You can just do what you have mentioned:</p>\n\n<pre><code>import Foundation\n...\nstring.containsString(\"Swift\");\n</code></pre>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>Swift\u2019s <code>String</code> type is bridged seamlessly to Foundation\u2019s <code>NSString</code>\n  class. If you are working with the Foundation framework in Cocoa or\n  Cocoa Touch, the entire <code>NSString</code> API is available to call on any\n  <code>String</code> value you create, in addition to the String features described\n  in this chapter. You can also use a String value with any API that\n  requires an NSString instance.</p>\n</blockquote>\n\n<p>You need to <code>import Foundation</code> to bridge the <code>NSString</code> methods and make them available to Swift's String class.</p>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/24034239#24034239", "question_id": 24034043, "answer_id": 24034239}, {"body": "<p>From the docs, it seems that calling <code>containsString()</code> on a String should work:</p>\n\n<blockquote>\n  <p>Swift\u2019s String type is bridged seamlessly to Foundation\u2019s NSString\n  class. If you are working with the Foundation framework in Cocoa or\n  Cocoa Touch, the entire NSString API is available to call on any\n  String value you create, in addition to the String features described\n  in this chapter. You can also use a String value with any API that\n  requires an NSString instance.</p>\n</blockquote>\n\n<p>However, it doesn't seem to work that way.</p>\n\n<p>If you try to use <code>someString.containsString(anotherString)</code>, you will get a compile time error that states <code>'String' does not contain a member named 'containsString'</code>.</p>\n\n<p>So, you're left with a few options, one of which is to explicitly bridge your <code>String</code> to Objective-C by using <code>bridgeToObjectiveC()</code> other two involve explicitly using an <code>NSString</code> and the final one involves casting the <code>String</code> to an <code>NSString</code></p>\n\n<p>By bridging, you'd get:</p>\n\n<pre><code>var string = \"hello Swift\"\nif string.bridgeToObjectiveC().containsString(\"Swift\") {\n    println(\"YES\")\n}\n</code></pre>\n\n<p>By explicitly typing the string as an <code>NSString</code>, you'd get:</p>\n\n<pre><code>var string: NSString = \"hello Swift\"\nif string.containsString(\"Swift\") {\n    println(\"YES\")\n}\n</code></pre>\n\n<p>If you have an existing <code>String</code>, you can initialize an NSString from it by using NSString(string:):</p>\n\n<pre><code>var string = \"hello Swift\"\nif NSString(string: string).containsString(\"Swift\") {\n    println(\"YES\")\n}\n</code></pre>\n\n<p>And finally, you can cast an existing <code>String</code> to an <code>NSString</code> as below</p>\n\n<pre><code>var string = \"hello Swift\"\nif (string as NSString).containsString(\"Swift\") {\n    println(\"YES\")\n}\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/24037522#24037522", "question_id": 24034043, "answer_id": 24037522}, {"body": "<p>Here is my first stab at this in the swift playground.\nI extend String by providing two new functions (contains and containsIgnoreCase)</p>\n\n<pre><code>extension String {\n    func contains(other: String) -&gt; Bool{\n        var start = startIndex\n\n        do{\n            var subString = self[Range(start: start++, end: endIndex)]\n            if subString.hasPrefix(other){\n                return true\n            }\n\n        }while start != endIndex\n\n        return false\n    }\n\n    func containsIgnoreCase(other: String) -&gt; Bool{\n        var start = startIndex\n\n        do{\n            var subString = self[Range(start: start++, end: endIndex)].lowercaseString\n            if subString.hasPrefix(other.lowercaseString){\n                return true\n            }\n\n        }while start != endIndex\n\n        return false\n    }\n}\n</code></pre>\n\n<p>Use it like this</p>\n\n<pre><code>var sentence = \"This is a test sentence\"\nsentence.contains(\"this\")  //returns false\nsentence.contains(\"This\")  //returns true\nsentence.containsIgnoreCase(\"this\")  //returns true\n\n\"This is another test sentence\".contains(\" test \")    //returns true\n</code></pre>\n\n<p>I'd welcome any feedback :)</p>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/24045182#24045182", "question_id": 24034043, "answer_id": 24045182}, {"body": "<p>You can do exactly the same call with Swift:</p>\n\n<pre><code>var string = \"hello Swift\"\n\n// renamed to range(of:\"\") in Swift 3.0\nif string.rangeOfString(\"Swift\") != nil{ \n    println(\"exists\")\n}\n\n// alternative: not case sensitive\nif string.lowercaseString.rangeOfString(\"swift\") != nil {\n    println(\"exists\")\n}\n</code></pre>\n\n<p>I hope this is a helpful solution since some people, including me, encountered some strange problems by calling <code>containsString()</code>.</p>\n\n<p>PS. Don't forget to <code>import Foundation</code></p>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/24161872#24161872", "question_id": 24034043, "answer_id": 24161872}, {"body": "<p>string.containsString is only available in 10.10 Yosemite (and probably iOS8).\nAlso bridging it to ObjectiveC crashes in 10.9. You're trying to pass a NSString to NSCFString. I don't know the difference, but I can say 10.9 barfs when it executes this code in a OS X 10.9 app.  </p>\n\n<p>Here are the differences in Swift with 10.9 and 10.10:\n<a href=\"https://developer.apple.com/library/prerelease/mac/documentation/General/Reference/APIDiffsMacOSX10_10SeedDiff/index.html\" rel=\"nofollow\">https://developer.apple.com/library/prerelease/mac/documentation/General/Reference/APIDiffsMacOSX10_10SeedDiff/index.html</a> containsString is only available in 10.10</p>\n\n<p>Range of String above works great on 10.9.  I am finding developing on 10.9 is super stable with Xcode beta2.  I don't use playgrounds through or the command line version of playgrounds. I'm finding if the proper frameworks are imported the autocomplete is very helpful.</p>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/24597465#24597465", "question_id": 24034043, "answer_id": 24597465}, {"body": "<p>Just an addendum to the answers here.</p>\n\n<p>You can also do a local case insensitive test using: </p>\n\n<pre><code> - (BOOL)localizedCaseInsensitiveContainsString:(NSString *)aString\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>    import Foundation\n\n    var string: NSString  =  \"hello Swift\"\n   if string.localizedCaseInsensitiveContainsString(\"Hello\") {\n    println(\"TRUE\")\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is part of the Foundation Framework for iOS &amp; <strong>Mac OS X 10.10.x</strong>\n and was part of 10.10 at Time of my original Posting.</p>\n\n<blockquote>\n  <p>Document Generated: 2014-06-05 12:26:27 -0700 OS X Release Notes\n  Copyright \u00a9 2014 Apple Inc. All Rights Reserved.</p>\n  \n  <p><a href=\"https://developer.apple.com/library/mac/releasenotes/Foundation/RN-Foundation/#10_10StringEncodingDetection\" rel=\"nofollow\">OS X 10.10 Release Notes</a> Cocoa Foundation Framework</p>\n  \n  <p>NSString now has the following two convenience methods:</p>\n  \n  <p><code>- (BOOL)containsString:(NSString *)str;</code></p>\n  \n  <p><code>- (BOOL)localizedCaseInsensitiveContainsString:(NSString *)str;</code>  </p>\n</blockquote>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/24607476#24607476", "question_id": 24034043, "answer_id": 24607476}, {"body": "<p>Of all of the answers here, I think they either don't work, or they're a bit of a hack (casting back to NSString).  It's very likely that the correct answer to this has changed with the different beta releases.</p>\n\n<p>Here is what I use:</p>\n\n<pre><code>let string: String = \"hello Swift\"\nif string.rangeOfString(\"Swift\") != nil\n{\n    println(\"exists\")\n}\n</code></pre>\n\n<p>The \"!= nil\" became required with Beta 5.</p>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/25194420#25194420", "question_id": 24034043, "answer_id": 25194420}, {"body": "<h2>Extension way</h2>\n\n<p>You can write extension <code>contains:</code> and <code>containsIgnoringCase</code> for <code>String</code></p>\n\n<pre><code>extension String {\n\n    func contains(find: String) -&gt; Bool{\n       return self.rangeOfString(find) != nil\n     }\n\n    func containsIgnoringCase(find: String) -&gt; Bool{\n       return self.rangeOfString(find, options: NSStringCompareOptions.CaseInsensitiveSearch) != nil\n     }\n}\n</code></pre>\n\n<hr>\n\n<p><em>Example:</em></p>\n\n<pre><code>var value = \"Hello world\"\n\nprint(value.contains(\"Hello\")) // true\nprint(value.contains(\"bo\"))    // false\n\nprint(value.containsIgnoringCase(\"hello\"))    // true\nprint(value.containsIgnoringCase(\"Hello\"))    // true\nprint(value.containsIgnoringCase(\"bo\"))       // false\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/25523578#25523578", "question_id": 24034043, "answer_id": 25523578}, {"body": "<pre><code>// Search string exist in employee name finding.\nvar empName:NSString! = employeeDetails[filterKeyString] as NSString\n\nCase sensitve search.\nlet rangeOfSearchString:NSRange! = empName.rangeOfString(searchString, options: NSStringCompareOptions.CaseInsensitiveSearch)\n\n// Not found.\nif rangeOfSearchString.location != Foundation.NSNotFound\n{\n    // search string not found in employee name.\n}\n// Found\nelse\n{\n    // search string found in employee name.\n}\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/25641173#25641173", "question_id": 24034043, "answer_id": 25641173}, {"body": "<p>In iOS 8 and newer, you can use these two <code>NSString</code> methods:</p>\n\n<pre><code>@availability(iOS, introduced=8.0)\nfunc containsString(aString: String) -&gt; Bool\n\n@availability(iOS, introduced=8.0)\nfunc localizedCaseInsensitiveContainsString(aString: String) -&gt; Bool\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/26174205#26174205", "question_id": 24034043, "answer_id": 26174205}, {"body": "<p>You can do this very easily in Swift using the code:</p>\n\n<pre><code>let string = \"hello Swift\";\nlet subString = (string as NSString).containsString(\"Swift\")\nif(subString){println(\"Exist\")}\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/28581534#28581534", "question_id": 24034043, "answer_id": 28581534}, {"body": "<p>Another one. Supports case and diacritic options.</p>\n\n<p>Swift 3.0</p>\n\n<pre><code>struct MyString {\n  static func contains(_ text: String, substring: String,\n    ignoreCase: Bool = true,\n    ignoreDiacritic: Bool = true) -&gt; Bool {\n\n    var options = NSString.CompareOptions()\n\n    if ignoreCase { _ = options.insert(NSString.CompareOptions.caseInsensitiveSearch) }\n    if ignoreDiacritic { _ = options.insert(NSString.CompareOptions.diacriticInsensitiveSearch) }\n\n    return text.range(of: substring, options: options) != nil\n  }\n}\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>MyString.contains(\"Niels Bohr\", substring: \"Bohr\") // true\n</code></pre>\n\n<h2>iOS 9+</h2>\n\n<p>Case and diacritic insensitive function available since iOS 9.</p>\n\n<pre><code>if #available(iOS 9.0, *) {\n  \"F\u00fcr Elise\".localizedStandardContains(\"fur\") // true\n}\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/29224218#29224218", "question_id": 24034043, "answer_id": 29224218}, {"body": "<p>You don't need to write any custom code for this. Starting from the 1.2 version Swift has already had all the methods you need:</p>\n\n<ul>\n<li>getting string length: <code>count(string)</code>;</li>\n<li>checking if string contains substring: <code>contains(string, substring)</code>;</li>\n<li>checking if string starts with substring: <code>startsWith(string, substring)</code></li>\n<li>and etc.</li>\n</ul>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/31466558#31466558", "question_id": 24034043, "answer_id": 31466558}, {"body": "<p>Here you are:</p>\n\n<pre><code>let s = \"hello Swift\"\nif let textRange = s.rangeOfString(\"Swift\") {\n    NSLog(\"exists\")\n}\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/31493319#31493319", "question_id": 24034043, "answer_id": 31493319}, {"body": "<p>I've found a couple of interesting use cases. These variants make use of the rangeOfString method and I include the equality example to show how one might best use the search and comparison features of Strings in Swift 2.0</p>\n\n<pre><code>//In viewDidLoad() I assign the current object description (A Swift String) to self.loadedObjectDescription\nself.loadedObjectDescription = self.myObject!.description\n</code></pre>\n\n<blockquote>\n  <p>Later after I've made changes to self.myObject, I can refer to the\n  following string comparison routines (setup as lazy variables that\n  return a Bool). This allows one to check the state at any time.</p>\n</blockquote>\n\n<pre><code>lazy var objectHasChanges : Bool = {\n        guard self.myObject != nil else { return false }\n        return !(self.loadedObjectDescription == self.myObject!.description)\n    }()\n</code></pre>\n\n<blockquote>\n  <p>A variant of this happens when sometimes I need to analyze a missing\n  property on that object. A string search allows me to find a\n  particular substring being set to nil (the default when an object is created).</p>\n</blockquote>\n\n<pre><code>    lazy var isMissingProperty : Bool = {\n        guard self.myObject != nil else { return true }\n        let emptyPropertyValue = \"myProperty = nil\"\n        return (self.myObject!.description.rangeOfString(emptyPropertyValue) != nil) ? true : false\n    }()\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/33486280#33486280", "question_id": 24034043, "answer_id": 33486280}, {"body": "<p>As of Xcode 7.1 and Swift 2.1 <code>containsString()</code> is working fine for me.</p>\n\n<pre><code>let string = \"hello swift\"\nif string.containsString(\"swift\") {\n    print(\"found swift\")\n}\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/33583889#33583889", "question_id": 24034043, "answer_id": 33583889}, {"body": "<p>Xcode 8/Swift 3 version:</p>\n\n<pre><code>let string = \"hello Swift\"\n\nif let range = string.range(of: \"Swift\") {\n    print(\"exists at range \\(range)\")\n} else {\n    print(\"does not exist\")\n}\n\nif let lowercaseRange = string.lowercased().range(of: \"swift\") {\n    print(\"exists at range \\(lowercaseRange)\")\n} else {\n    print(\"does not exist\")\n}\n</code></pre>\n\n<p>You can also use <code>contains</code>:</p>\n\n<pre><code>string.contains(\"swift\") // false\nstring.contains(\"Swift\") // true\n</code></pre>\n", "title": "How do I check if a string contains another string in Swift?", "tags": ["swift"], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift/37844891#37844891", "question_id": 24034043, "answer_id": 37844891}], "link": "http://stackoverflow.com/questions/24034043/how-do-i-check-if-a-string-contains-another-string-in-swift", "question_id": 24034043}, {"body": "<p>I am having a issue with Xcode where the error \"Source Kit Service Terminated\" is popping up and all syntax highlighting and code completion is gone in Swift. How can I fix this? </p>\n\n<p>Here is an example image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/VGwbS.png\" alt=\"enter image description here\"></p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "answers": [{"body": "<p>In order to fix this you may have some weird issue with your Swift code. For instance having multiple defintions of IBOutlets because you were in the middle of copying and pasting. usually it is just a syntax error that couldnt be handled.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24006207#24006207", "question_id": 24006206, "answer_id": 24006207}, {"body": "<p>Is your project named <code>Swift</code>? With seeing that message, build would be failed too(<code>&lt;unknown&gt;:0: error: module name \"Swift\" is reserved for the standard library</code>). Try using another project name such as <code>SwiftTest</code>. It would work.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24009979#24009979", "question_id": 24006206, "answer_id": 24009979}, {"body": "<p>Use other name than Swift for the project. \"Swift\" is reserved.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24010496#24010496", "question_id": 24006206, "answer_id": 24010496}, {"body": "<p>I found that by explicitly (statically) typing the variable types, rather than inferring them, solved the issue for me.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24050976#24050976", "question_id": 24006206, "answer_id": 24050976}, {"body": "<p>When this error starts popping up, just comment out the last/recent piece of code you wrote and wait for a while. The syntax highlighting should reappear. This is how I work around the problem.</p>\n\n<pre><code>    func someFunc() -&gt; (Int?, Int?, Int?) {\n     var retVal1:Int? = nil\n     var retVal2:Int? = nil\n     var retVal3:Int? = nil\n\n     //some other code\n\n     //commenting out the line below helped me\n     //(retVal1, retVal2, retVal3)\n     return (retVal1, retVal2, retVal3)\n    }\n</code></pre>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24093843#24093843", "question_id": 24006206, "answer_id": 24093843}, {"body": "<p>It started happening on my spritekit project after inserting the touchesMoved-function. This function uses forced unwrapping, which seems to cause the problem:</p>\n\n<pre><code>override func touchesMoved(touches: NSSet!, withEvent event: UIEvent!)\n</code></pre>\n\n<p>After removing the exclamation marks and thus stopping forced unwrapping, the SourceKitService stopped crashing.</p>\n\n<p>Hope this helps!</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24097934#24097934", "question_id": 24006206, "answer_id": 24097934}, {"body": "<p>I believe I may have found a more general purpose solution.  Below are the steps I used to encourage Xcode not to produce the <code>SourceKitService Terminated</code> error.</p>\n\n<hr>\n\n<h2>The symptoms I was having:</h2>\n\n<ul>\n<li>When I would start up a new playground, I would receive an error about not being able to communicate with the playground (<code>Error running playground: Failed prepare for communication with playground.</code> See <a href=\"https://twitter.com/rknLA/status/473904257154813953\">this image on twitter</a>.</li>\n<li>When I would switch the playground from <code>OS X</code> to <code>iOS</code>, I would receive another error (unfortunately I did not write that one down).</li>\n<li>When I would start to type in an iOS based Swift project, attempting to use code completion/intellisense on any UIKit specific class, I would receive the <code>SourceKitService Terminated</code> issue in this thread.</li>\n</ul>\n\n<hr>\n\n<h2>Debugging process:</h2>\n\n<ul>\n<li>I started by looking through google for SourceKitService, this got very little.</li>\n<li>I then started monitoring Console.app while using Xcode. This showed a couple errors:\n<ul>\n<li><code>IDEPlaygroundDocument: Error encountered running playground</code></li>\n<li><code>com.apple.CoreSimulator.CoreSimulatorService[3952]: The runtime for the selected device is not installed.</code></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<h2>What I did to correct this issue.</h2>\n\n<p>If you are only having an issue within the context of a Swift project, try this alone first. If that doesn't work, then try all of the steps further below.</p>\n\n<ol>\n<li>Open your project and change the target's deployment target to something &lt;= 7.1.</li>\n</ol>\n\n<p>The more lengthy and involved process.\n(The first 3 steps are not for sure helpful, but I did them, and so record them here)</p>\n\n<ol>\n<li>Completely delete all copies of Xcode on your system.</li>\n<li>Restart your computer.</li>\n<li>Reinstall Xcode6-beta only.</li>\n<li>Verify that you still have the issue in playground and/or projects.</li>\n<li>Open iOS Simulator.</li>\n<li>Hardware -> Device -> Manage Devices</li>\n<li>Remove all devices.</li>\n<li>Recreate all devices you want. I appended the iOS version to the end of the name, just because.</li>\n<li>Restart Xcode and the simulator.</li>\n<li>Verify that at least playgrounds no longer throw issues when switched from <code>OS X</code> to <code>iOS</code>.</li>\n<li>Open your project and change the target's deployment target to something &lt;= 7.1.</li>\n</ol>\n\n<hr>\n\n<h2>Analysis</h2>\n\n<p>It appears the issue is with Xcode6 not being able to properly find, and connect, to the simulator.  I have not been able to determine why this is the case, but this has allowed me to continue developing with Swift. This may have to do with the fact the simulator binaries <a href=\"https://twitter.com/EricShapiro/status/474306615718318080\">seem to have moved</a>.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24112587#24112587", "question_id": 24006206, "answer_id": 24112587}, {"body": "<p>Reported to Apple (#17266321) :</p>\n\n<p>Details:</p>\n\n<p>Summary:\nIf we try to print a dictionary with value as an array a pop-up keeps on popping saying -\"SourceKit terminated. Editor functionality temporaly limited\". Xcode Freezes and looses context recognition causing text to be blackened.</p>\n\n<p>Steps to Reproduce:\n1. Create an array as - \"var iOSHistoryArray = [\"iOS6\",\"iOS7\",\"iOS8\",]\"</p>\n\n<ol>\n<li><p>Create an dictionary as -\"var MacOSYosemiteFeatures:Dictionary  = [\"Device\":iOSHistoryArray]\".</p></li>\n<li><p>Print the dictionary as - \"println(\"Dictionary containing Array value : %@ \\n\",MacOSYosemiteFeatures)\" <strong>(&lt;&lt;- Culprit-->>)</strong></p></li>\n<li><p>The step 3 causes the issue commenting which makes the Xcode functional again.</p></li>\n</ol>\n\n<p>Expected Results:\nXcode should function normally.</p>\n\n<p>Actual Results:\nXcode becomes nonfunctional, looses context recognition (All font is lost and all text becomes plain black), whole Xcode becomes Inactive.</p>\n\n<p>Version:\nVersion 6.0 (6A215l)</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24159817#24159817", "question_id": 24006206, "answer_id": 24159817}, {"body": "<p>A program consisting only of these two lines (possibly wrong in terms of Swift syntax) is enough to cause the \"SourceKitService Terminated\" error here:</p>\n\n<pre><code>var x = 42\nprintln(\"Hello\", x)\n</code></pre>\n\n<p>Using <code>let</code> instead of <code>var</code> makes the editor behave normally again. Xcode version 6.0 (6A215l)</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24214751#24214751", "question_id": 24006206, "answer_id": 24214751}, {"body": "<p>Got same issue today, the thing was with <code>println</code>, I just tried the old NSLog style to print a value:</p>\n\n<pre><code>// something like this\nprintln(\"value = %@\", valueObj)\n</code></pre>\n\n<p>The way how we should compose strings in swift has evolved from printf style to inline style, so now you embed your values right into the format string like this:</p>\n\n<pre><code>\"Here goes \\(YOUR_VARIABLE)\"\n</code></pre>\n\n<p>So, for the example above the solution is:</p>\n\n<pre><code>println(\"value =\\(valueObj)\")\n</code></pre>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24327623#24327623", "question_id": 24006206, "answer_id": 24327623}, {"body": "<p>Try It:</p>\n\n<blockquote>\n  <p>There is a bug in the Swift compiler / indexer. Some line or lines in\n  your code is giving it difficulty. You will have to edit your code\n  with some other text editor to comment out the offending line(s)\n  before you will be able to open that project with Xcode. If you have\n  no clue what the problem is, comment out all your code. Once you have\n  the project open, you can start bringing back code little by little\n  until the rise in CPU activity tells you that you've found the\n  problem.</p>\n</blockquote>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24446926#24446926", "question_id": 24006206, "answer_id": 24446926}, {"body": "<p>I had same issue with Xcode6 beta 3 for a project created in beta 2.</p>\n\n<p>It was because of new breaking changes in swift language i.e. array declaration syntax.</p>\n\n<p>Check for the effected code due to breaking changes in beta 3.</p>\n\n<p><a href=\"http://adcdownload.apple.com//Developer_Tools/xcode_6_beta_3_lpw27r/xcode_6_beta_3_release_notes__.pdf\" rel=\"nofollow\">http://adcdownload.apple.com//Developer_Tools/xcode_6_beta_3_lpw27r/xcode_6_beta_3_release_notes__.pdf</a></p>\n\n<p>One of the example in my case was:</p>\n\n<p>I had to change:</p>\n\n<pre><code>var tabBarController : UITabBarController = self.window?.rootViewController as UITabBarController;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>var tabBarController : UITabBarController = self.window!.rootViewController as UITabBarController\n</code></pre>\n\n<p><strong>Conclusion: Looks like if there is an error in source code, in some conditions this error is produced by Xcode.</strong></p>\n\n<p><strong>Solution till the bug is fixed: Check for the error manually :)</strong></p>\n\n<p>Goodluck!</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24670220#24670220", "question_id": 24006206, "answer_id": 24670220}, {"body": "<p>I found <a href=\"https://devforums.apple.com/message/1002106#1002106\"><strong>a solution</strong></a> on Apple's Developer Forums (which requires login, so I'll explain it here too).</p>\n\n<p><strong>TLDR</strong>: Don't import a <code>@protocol</code> in your Objective-C to Swift bridging header that is named the same as an <code>@interface</code>. For example, the Facebook SDK has both a protocol and an interface named \"FBGraphObject\".</p>\n\n<p>Here's the forum post:</p>\n\n<blockquote>\n  <p>Adding Facebook SDK causes SourceKitService to crash. If you want to use beta 3 and you need Facebook SDK, one work around that I found and is working for me is refactoring Facebook SDK's @protocol FBGraphObject and renaming it to something like @protocol FBGraphObjectProtocol as an @interface FBGraphObject also exists and apparently SourceKit doesn't like it.</p>\n  \n  <p>It sure is a temporary solution just to keep you functional and you'll have to use Cocoapods or otherwise build Facebook SDK yourself rather than using the framework library.</p>\n  \n  <p>For the time being, you'll need to make sure you don't have conflicting @protocol and @interface declarations and that includes 3rd party libraries you may be using.</p>\n  \n  <p>This cost me today, hope it helps!</p>\n  \n  <hr>\n  \n  <p>Posted by <strong>e.parto</strong> on <strong>July 10, 2014</strong></p>\n</blockquote>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24688688#24688688", "question_id": 24006206, "answer_id": 24688688}, {"body": "<p>Problem: </p>\n\n<ul>\n<li>If there is an error in source code, the \"SourceKitService Terminated\" pop up may appear and code highlighting stops working. It may or may not happen, when it does its under multiple different conditions. </li>\n</ul>\n\n<p>My case: Installed beta 3, OSX only project, one file detected the \"half-closed range operator has been changed from .. to ..&lt;\" error. The pop up starts appearing and code highlighting starts failing. </p>\n\n<p>Solution: </p>\n\n<ul>\n<li>Fix error detected by Xcode</li>\n<li>Change to a different .swift in Navigator, come back to the original</li>\n<li>Syntax highlighting reappears and \"SourceKitService Terminated\" pop up is gone</li>\n</ul>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24715011#24715011", "question_id": 24006206, "answer_id": 24715011}, {"body": "<p>I had this problem every few seconds in Xcode 6 Beta 3, and it continued even in completely new projects. I changed the Deployment Target from 8.0 to 7.1 and it has stopped.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/24848833#24848833", "question_id": 24006206, "answer_id": 24848833}, {"body": "<p>In xcode, go to your menu bar >> window >> devices (shift+cmd+2) a new window will pop up, and on the bottom left, add a new simulator, specifically one running on iOS 8.0 to the existing list\nedit: you might need to restart xcode</p>\n\n<p>refrence:<a href=\"http://www.reddit.com/r/swift/comments/2bznfo/error_running_playground_unable_to_find_suitable/\" rel=\"nofollow\">http://www.reddit.com/r/swift/comments/2bznfo/error_running_playground_unable_to_find_suitable/</a></p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25255428#25255428", "question_id": 24006206, "answer_id": 25255428}, {"body": "<p>The solution for me happened to be changing the simulator. I was using iPhone 5S for my simulator and when I switched it to iPhone 5, everything worked perfectly. Hopefully a future version will fix it altogether.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25374193#25374193", "question_id": 24006206, "answer_id": 25374193}, {"body": "<p>SourceKitService crashes on my system as soon as I type</p>\n\n<pre><code>extension foo {\n</code></pre>\n\n<p>I'm using Xcode 6 beta 6 and it does not matter if I type it into an empty file or add it to an existing one. As soon as the source contains one <code>extension</code> block, it will crash. <strong>This happens even on newly created projects.</strong></p>\n\n<p>My \"solution\" is to avoid extension in the sources I'm currently working on. I comment out the end of a class block and the beginning of the extension block. As soon as I have finished my work on the class, I comment them in again:</p>\n\n<pre><code>class MyClass {\n\n    [... my stuff ...]\n\n//}\n//\n//extension MyClass {\n\n}\n</code></pre>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25394924#25394924", "question_id": 24006206, "answer_id": 25394924}, {"body": "<p>In my case I had imported missing files in bridged header. After I deleted wrong imports the error notification gone.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25424846#25424846", "question_id": 24006206, "answer_id": 25424846}, {"body": "<p>I had the same error with the nested Objective-C++ project that now includes Framework with Swift code. In order to fix this issue I had to explicitly build the framework. Once I did that issue is gone, and doesn't come back ;)</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25595774#25595774", "question_id": 24006206, "answer_id": 25595774}, {"body": "<p>The answer to mine (Xcode6-Beta7) was simply to delete the Derived Data folder.</p>\n\n<p><code>Preferences &gt; Locations &gt; Derived Data &gt; click the arrow to open in Finder &gt; trash it.</code></p>\n\n<p>Hope this helps someone. There's obviously many reasons why this crash can occur.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25839664#25839664", "question_id": 24006206, "answer_id": 25839664}, {"body": "<p>Still happening with xcode 6 Version 6.0 (6A313)</p>\n\n<ul>\n<li>Create a new project</li>\n<li>Add a Framework &amp; Library </li>\n<li>Select cocoa touch framework</li>\n<li>Add a Swift file</li>\n<li>Add a class to the swift file</li>\n</ul>\n\n<p>Crashes</p>\n\n<p>ps: brand new mac mini, no previous xcode installs, nothing exotic. Just a beta product I suppose.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/25899120#25899120", "question_id": 24006206, "answer_id": 25899120}, {"body": "<p><strong>Xcode 6.1 Beta 3:</strong></p>\n\n<p>As soon as you define a non-private type alias (e.g. <code>typealias Foo = Int</code>) in one Swift file an type the letter <code>c</code> in another file the SourceKitService crashes. </p>\n\n<p>Solution is either resign from using type aliases, wait for the next beta release or wrap your type aliases in class definitions:</p>\n\n<pre><code>public class DummyClass {\n    public typealias Foo = String\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>var myVar:DummyClass.Foo?\n</code></pre>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26160914#26160914", "question_id": 24006206, "answer_id": 26160914}, {"body": "<p>Changing the deployment target to iOS 8.0 worked for me. I know someone said moving it to &lt;=7.1 worked, but this problem seems to come in from multiple sources, so this alternative may work.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26165890#26165890", "question_id": 24006206, "answer_id": 26165890}, {"body": "<p>Quit Xcode if it's open. Then from Terminal run:</p>\n\n<pre><code>defaults delete com.apple.dt.Xcode\n</code></pre>\n\n<p>This will restore Xcode to the default settings. Open Xcode and everything should work again.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26385318#26385318", "question_id": 24006206, "answer_id": 26385318}, {"body": "<p>I found that removing derived data from terminal resolves the issue until next crash. :S</p>\n\n<p>It is located at: /Users/{User name}/Library/Developer/Xcode/DerivedData/{Project Name}-{Random char sequence}</p>\n\n<p>I hope this helps.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26448156#26448156", "question_id": 24006206, "answer_id": 26448156}, {"body": "<p>So far the 2 most common causes for me have been: </p>\n\n<ul>\n<li>semicolons at the end of lines</li>\n<li>importing frameworks that are not referenced in the file</li>\n</ul>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26498480#26498480", "question_id": 24006206, "answer_id": 26498480}, {"body": "<p>I think I figured out one (as there are probably many) of the reasons this occurs.</p>\n\n<p><strong>In my case, I was importing Objective-C files through the Bridging Header that had one of the following true:</strong></p>\n\n<ol>\n<li>The implementation file (.m) for the Objective-C import, did not have the\napp target properly set.</li>\n<li>The Objective-C file only had a header (.h) file and NOT an\nimplementation (.m) file. <em>(Again, I think this is part of the \"no\nproper app target\" set, as you can only set targets in the .m files\nand not the .h files)</em></li>\n</ol>\n\n<p>Fixing the app targets on the Objective-C files OR removing the import of those file(s) in the Bridging Header all together seems to fix the issue.</p>\n\n<p>FYI - If you need to set the target of Header (.h) files that have no Implementation (.m) file, you can follow these simple steps: <a href=\"http://stackoverflow.com/questions/13571080/cant-change-target-membership-visibility-in-xcode-4-5\">Can&#39;t change target membership visibility in Xcode 4.5</a></p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26517769#26517769", "question_id": 24006206, "answer_id": 26517769}, {"body": "<p>For me (xcode 6.1) reason was that I forgot to adopt my subclass to protocol.</p>\n\n<p>For example this is wrong:</p>\n\n<pre><code>protocol SomeProtocol { ... }\nclass A :NSObject, SomeProtocol {\n...\n}\nclass B : A {\n...\n}\n</code></pre>\n\n<p>and this is ok:</p>\n\n<pre><code>protocol SomeProtocol { ... }\nclass A : NSObject, SomeProtocol {\n...\n}\nclass B : A, SomeProtocol {\n...\n}\n</code></pre>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26547797#26547797", "question_id": 24006206, "answer_id": 26547797}, {"body": "<p>You just need to delete the \"ModuleCache\", this is some kind of cache used by Xcode for Autocompletion.</p>\n\n<p>Copy and paste the following line in the Terminal:</p>\n\n<p>rm -rf ~/Library/Developer/Xcode/DerivedData/ModuleCache</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/26648589#26648589", "question_id": 24006206, "answer_id": 26648589}, {"body": "<p>Just to add one more potential solution here, I had accidentally named a class var the same name as it's type:</p>\n\n<pre><code>class var Settings:Settings {\n        get { return classVarWorkAround.settings }\n    }\n</code></pre>\n\n<p>This will crash SourceKit FOR SURE. Stupid syntax error, but in case anyone else makes the same mistake. </p>\n\n<p>Edit: also according to @Portland Runner:</p>\n\n<p>Similarly, If you set the return type to the func name you'll get the error.</p>\n\n<pre><code>func foo() -&gt;foo{}\n</code></pre>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/28151777#28151777", "question_id": 24006206, "answer_id": 28151777}, {"body": "<p>Move the extension before the principal class.</p>\n\n<pre><code>extension SomeType {\n// new functionality to add \n</code></pre>\n\n<p>}</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/29858493#29858493", "question_id": 24006206, "answer_id": 29858493}, {"body": "<p>I've had this coming up almost every day for the past few months. Tried all the above and it only fixes it temporarily.</p>\n\n<p>Finally, two weeks ago I changed the location of the DerivedData location to a fresh location and I haven't had the issue once.</p>\n\n<p>I note that when I delete my Derived Data folder it regenerates and is about 3GB for some reason. When I created a new folder it didn't regenerate all this data.</p>\n\n<p>Hope this helps someone.</p>\n", "title": "SourceKitService Terminated", "tags": ["ios", "xcode", "swift"], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated/30315345#30315345", "question_id": 24006206, "answer_id": 30315345}], "link": "http://stackoverflow.com/questions/24006206/sourcekitservice-terminated", "question_id": 24006206}, {"body": "<p>In Swift, how can I check if an element exists in an array? Xcode does not have any suggestions for <code>contain</code>, <code>include</code>, or <code>has</code>, and a quick search through the book turned up nothing. Any idea how to check for this? I know that there is a method <code>find</code> that returns the index number, but is there a method that returns a boolean like ruby's <code>#include?</code>?</p>\n\n<p>Example of what I need:</p>\n\n<pre><code>var elements = [1,2,3,4,5]\nif elements.contains(5) {\n  //do something\n}\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "answers": [{"body": "<p>I used filter.</p>\n\n<pre><code>let results = elements.filter { el in el == 5 }\nif results.count &gt; 0 {\n    // any matching items are in results\n} else {\n    // not found\n}\n</code></pre>\n\n<p>If you want, you can compress that to</p>\n\n<pre><code>if elements.filter({ el in el == 5 }).count &gt; 0 {\n}\n</code></pre>\n\n<p>Hope that helps.</p>\n\n<hr>\n\n<p><strong>Update for Swift 2</strong></p>\n\n<p>Hurray for default implementations!</p>\n\n<pre><code>if elements.contains(5) {\n    // any matching items are in results\n} else {\n    // not found\n}\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/24102102#24102102", "question_id": 24102024, "answer_id": 24102102}, {"body": "<p>Use this extension:</p>\n\n<pre><code>extension Array {\n    func contains&lt;T where T : Equatable&gt;(obj: T) -&gt; Bool {\n        return self.filter({$0 as? T == obj}).count &gt; 0\n    }\n}\n</code></pre>\n\n<p>Use as:</p>\n\n<pre><code>array.contains(1)\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/24102152#24102152", "question_id": 24102024, "answer_id": 24102152}, {"body": "<p><strong>Swift 2, 3:</strong></p>\n\n<pre><code>let elements = [1,2,3,4,5]\nif elements.contains(5) {\n    print(\"yes\")\n}\n</code></pre>\n\n<p><code>contains()</code> is a <em>protocol extension method</em> of <code>SequenceType</code> (for sequences of <code>Equatable</code> elements) and not a global method as in\nearlier releases.</p>\n\n<p><em>Remarks:</em> </p>\n\n<ul>\n<li>This <code>contains()</code> method requires that the sequence elements\nadopt the <code>Equatable</code> protocol, compare e.g. <a href=\"http://stackoverflow.com/a/33532399/1187415\">Andrews's answer</a>.</li>\n<li>If the sequence elements are instances of a <code>NSObject</code> subclass\nthen you have to override <code>isEqual:</code>, see <a href=\"http://stackoverflow.com/questions/33319959/nsobject-subclass-in-swift-hash-vs-hashvalue-isequal-vs\">NSObject subclass in Swift: hash vs hashValue, isEqual vs ==</a>.</li>\n<li>There is another \u2013 more general \u2013 <code>contains()</code> method which does not require the elements to be equatable and takes a predicate as an \nargument, see e.g. <a href=\"http://stackoverflow.com/questions/29679486/shorthand-to-test-if-an-object-exists-in-an-array-for-swift\">Shorthand to test if an object exists in an array for Swift?</a>.</li>\n</ul>\n\n<p><strong>Swift older versions:</strong> </p>\n\n<pre><code>let elements = [1,2,3,4,5]\nif contains(elements, 5) {\n    println(\"yes\")\n}\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/25391725#25391725", "question_id": 24102024, "answer_id": 25391725}, {"body": "<p>Just in case anybody is trying to find if an <code>indexPath</code> is among the selected ones (like in a <code>UICollectionView</code> or <code>UITableView</code> <code>cellForItemAtIndexPath</code> functions):    </p>\n\n<pre><code>    var isSelectedItem = false\n    if let selectedIndexPaths = collectionView.indexPathsForSelectedItems() as? [NSIndexPath]{\n        if contains(selectedIndexPaths, indexPath) {\n            isSelectedItem = true\n        }\n    }\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/27361515#27361515", "question_id": 24102024, "answer_id": 27361515}, {"body": "<p>For those who came here looking for a find and delete</p>\n\n<p><strong>Swift 1</strong></p>\n\n<pre><code>if let index = find(itemList, item) {\n    itemList.removeAtIndex(index)\n}\n</code></pre>\n\n<p><strong>Swift 2</strong></p>\n\n<pre><code>if let index = itemList.indexOf(item) {\n    itemList.removeAtIndex(index)\n}\n</code></pre>\n\n<p><strong>Swift 3</strong></p>\n\n<pre><code>if let index = itemList.index(of: item) {\n    itemList.remove(at: index)\n}\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/29876138#29876138", "question_id": 24102024, "answer_id": 29876138}, {"body": "<p>Here is my little extension I just wrote to check if my delegate array contains a delegate object or not. :) It Also works with value types like a charm.</p>\n\n<pre><code>extension Array\n{\n    func containsObject(object: Any) -&gt; Bool\n    {\n        if let anObject: AnyObject = object as? AnyObject\n        {\n            for obj in self\n            {\n                if let anObj: AnyObject = obj as? AnyObject\n                {\n                    if anObj === anObject { return true }\n                }\n            }\n        }\n        return false\n    }\n}\n</code></pre>\n\n<p>If you have an idea how to optimize this code, than just let me know.</p>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/30191119#30191119", "question_id": 24102024, "answer_id": 30191119}, {"body": "<p>The simplest way to accomplish this is to use filter on the array.</p>\n\n<pre><code>let result = elements.filter { $0==5 }\n</code></pre>\n\n<p><code>result</code> will have the found element if it exists and will be empty if the element does not exist. So simply checking if <code>result</code> is empty will tell you whether the element exists in the array. I would use the following:</p>\n\n<pre><code>if result.isEmpty {\n    // element does not exist in array\n} else {\n    // element exists\n}\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/32335636#32335636", "question_id": 24102024, "answer_id": 32335636}, {"body": "<p>If you are checking if an instance of a <strong>custom class or struct</strong> is contained in an array, you'll need to implement the <strong>Equatable</strong> protocol before you can use .contains(myObject).</p>\n\n<p>For example:</p>\n\n<pre><code>struct Cup: Equatable {\n    let filled:Bool\n}\n\nfunc ==(lhs:Cup, rhs:Cup) -&gt; Bool { // Implement Equatable\n    return lhs.filled == rhs.filled\n}\n</code></pre>\n\n<p>then you can do:</p>\n\n<pre><code>cupArray.contains(myCup)\n</code></pre>\n\n<p><strong>Tip</strong>: The == override should be at the global level, not within your class/struct</p>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/33532399#33532399", "question_id": 24102024, "answer_id": 33532399}, {"body": "<p>As of Swift 2.1 NSArrays have <code>containsObject</code>that can be used like so:</p>\n\n<pre><code>if myArray.containsObject(objectImCheckingFor){\n    //myArray has the objectImCheckingFor\n}\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/34885650#34885650", "question_id": 24102024, "answer_id": 34885650}, {"body": "<p>if user find particular array elements  then use below  code same as integer value.</p>\n\n<pre><code>var arrelemnts = [\"sachin\", \"test\", \"test1\", \"test3\"]\n\n if arrelemnts.contains(\"test\"){\n    print(\"found\")   }else{\n    print(\"not found\")   }\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/35765079#35765079", "question_id": 24102024, "answer_id": 35765079}, {"body": "<p>Swift  </p>\n\n<p>If you are not using object then you can user this code for contains.</p>\n\n<pre><code>let elements = [ 10, 20, 30, 40, 50]\n\nif elements.contains(50) {\n\n   print(\"true\")\n\n}\n</code></pre>\n\n<p>If you are using NSObject Class in swift. This variables is according to my requirement. you can modify for your requirement. </p>\n\n<pre><code>var cliectScreenList = [ATModelLeadInfo]()\nvar cliectScreenSelectedObject: ATModelLeadInfo!\n</code></pre>\n\n<p>This is for a same data type.</p>\n\n<pre><code>{ $0.user_id == cliectScreenSelectedObject.user_id }\n</code></pre>\n\n<p>If you want to AnyObject type.</p>\n\n<pre><code>{ \"\\($0.user_id)\" == \"\\(cliectScreenSelectedObject.user_id)\" }\n</code></pre>\n\n<p>Full condition </p>\n\n<pre><code>if cliectScreenSelected.contains( { $0.user_id == cliectScreenSelectedObject.user_id } ) == false {\n\n    cliectScreenSelected.append(cliectScreenSelectedObject)\n\n    print(\"Object Added\")\n\n} else {\n\n    print(\"Object already exists\")\n\n }\n</code></pre>\n", "title": "How to check if an element is in an array", "tags": ["ios", "arrays", "swift"], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array/38720906#38720906", "question_id": 24102024, "answer_id": 38720906}], "link": "http://stackoverflow.com/questions/24102024/how-to-check-if-an-element-is-in-an-array", "question_id": 24102024}, {"body": "<p>I'm currently working on a very performance critical program and one path I decided to explore that may help reduce resource consumption was increasing my worker threads' stack size so I can move most of the data (<code>float[]</code>s)  that I'll be accesing onto the stack (using <a href=\"http://msdn.microsoft.com/en-us/library/cx9s2sy4(v=vs.80).aspx\"><code>stackalloc</code></a>).</p>\n\n<p>I've <a href=\"http://stackoverflow.com/a/823729/2246344\">read</a> that the default stack size for a thread is 1 MB, so in order to move all my <code>float[]</code>s I would have to expand the stack by approximately 50 times (to 50 MB~).</p>\n\n<p>I understand this is generally considered \"unsafe\" and isn't recommended, but after benchmarking my current code against this method, I've discovered a <em>530%</em> increase in processing speed! So I can not simply pass by this option without further investigation, which leads me to my question; what are the dangers associated with increasing the stack to such a large size (what could go wrong), and what precautions should I take to minimise such dangers?</p>\n\n<p>My test code,</p>\n\n<pre><code>public static unsafe void TestMethod1()\n{\n    float* samples = stackalloc float[12500000];\n\n    for (var ii = 0; ii &lt; 12500000; ii++)\n    {\n        samples[ii] = 32768;\n    }\n}\n\npublic static void TestMethod2()\n{\n    var samples = new float[12500000];\n\n    for (var i = 0; i &lt; 12500000; i++)\n    {\n        samples[i] = 32768;\n    }\n}\n</code></pre>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "answers": [{"body": "<p>One thing that can go wrong is that you might not get the permission to do so. Unless running in full-trust mode, the Framework will just ignore the request for a larger stack size (see MSDN on <code>Thread Constructor (ParameterizedThreadStart, Int32)</code>)</p>\n\n<p>Instead of increasing the system stack size to such huge numbers, I would suggest to rewrite your code so that it uses Iteration and a manual stack implementation on the heap. </p>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24201079#24201079", "question_id": 24200904, "answer_id": 24201079}, {"body": "<p>The high performant arrays might be accessible in the same way as a normal C# one but that could be the beginning of trouble: Consider the following code:</p>\n\n<pre><code>float[] someArray = new float[100]\nsomeArray[200] = 10.0;\n</code></pre>\n\n<p>You expect an out of bound exception and this completely makes sense because you are trying to access element 200 but the maximum allowed value is 99. If you go to the stackalloc route then there will be no object wrapped around your array to bound check and the following will not show any exception:</p>\n\n<pre><code>Float* pFloat =  stackalloc float[100];\nfFloat[200]= 10.0;\n</code></pre>\n\n<p>Above you are allocating enough memory to hold 100 floats and you are setting the sizeof(float) memory location which starts at the location started of this memory + 200*sizeof(float) for holding your float value 10. Unsurprisingly this memory is outside the allocated memory for the floats and nobody would know what could be stored in that address. If you are lucky you might have used some currently unused memory but at the same time it is likely you might overwrite some location that was used for storing other variables. To Summarize: Unpredictable runtime behaviour.</p>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24201379#24201379", "question_id": 24200904, "answer_id": 24201379}, {"body": "<p>I would have a reservation there that I simply wouldn't know how to predict it - permissions, GC (which needs to scan the stack), etc - all could be impacted. I would be very tempted to use unmanaged memory instead:</p>\n\n<pre><code>var ptr = Marshal.AllocHGlobal(sizeBytes);\ntry\n{\n    float* x = (float*)ptr;\n    DoWork(x);\n}\nfinally\n{\n    Marshal.FreeHGlobal(ptr);\n}\n</code></pre>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24201411#24201411", "question_id": 24200904, "answer_id": 24201411}, {"body": "<blockquote>\n  <p>I've discovered a 530% increase in processing speed! </p>\n</blockquote>\n\n<p>That's by far the biggest danger I'd say.  There's something seriously wrong with your benchmark, code that behaves this unpredictably usually has a nasty bug hidden somewhere.</p>\n\n<p>It is very, very difficult to consume a lot of stack space in a .NET program, other than by excessive recursion.  The size of the stack frame of managed methods are set in stone.  Simply the sum of the arguments of the method and the local variables in a method.  Minus the ones that can be stored in a CPU register, you can ignore that since there are so few of them.</p>\n\n<p>Increasing the stack size doesn't accomplish anything, you'll just reserve a bunch of address space that will never be used.  There is no mechanism that can explain a perf increase from not using memory of course.</p>\n\n<p>This is unlike a native program, particularly one written in C, it can also reserve space for arrays on the stack frame.  The basic malware attack vector behind stack buffer overflows.  Possible in C# as well, you'd have to use the <code>stackalloc</code> keyword.  If you are doing that then the obvious danger is having to write unsafe code that is subject to such attacks, as well as random stack frame corruption.  Very hard to diagnose bugs.  There is a counter-measure against this in later jitters, I think starting at .NET 4.0, where the jitter generates code to put a \"cookie\" on the stack frame and checks if it is still intact when the method returns.  Instant crash to the desktop without any way to intercept or report the mishap if that happens.  That's ... dangerous to the user's mental state.</p>\n\n<p>The main thread of your program, the one started by the operating system, will have a 1 MB stack by default, 4 MB when you compile your program targeting x64.  Increasing that requires running Editbin.exe with the /STACK option in a post build event.  You can typically ask for up to 500 MB before your program will have trouble getting started when running in 32-bit mode.  Threads can too, much easier of course, the danger zone typically hovers around 90 MB for a 32-bit program.  Triggered when your program has been running for a long time and address space got fragmented from previous allocations.  Total address space usage must already be high, over a gig, to get this failure mode.</p>\n\n<p>Triple-check your code, there's something very wrong.  You can't get a x5 speedup with a bigger stack unless you explicitly write your code to take advantage of it.  Which always requires unsafe code.  Using pointers in C# always has a knack for creating faster code, it isn't subjected to the array bounds checks.</p>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24201942#24201942", "question_id": 24200904, "answer_id": 24201942}, {"body": "<p>EDIT: (small change in code and in measuring produces big change in the outcome)</p>\n\n<p>Firstly I ran the optimized code in debugger (F5) but that was wrong. It should be run without the debugger (Ctrl+F5). Second, the code may be thoroughly optimized, so we must complicate it so that the optimizer does not messes with our measuring. I made all methods return a last item in the array, and the array is populated differently. Also there is an extra zero in OP's <code>TestMethod2</code> that always makes it ten times slower.</p>\n\n<p>I tried some other methods, in addition to the two that you provided. Method 3 has the same code as your method 2, but the function is declared <code>unsafe</code>. Method 4 is using pointer access to regularly created array. Method 5 is using pointer access to unmanaged memory, as described by Marc Gravell. <strong>All five methods run in very similar times.</strong> M5 is the fastest (and M1 is close second). The difference between the fastest and the slowest is some 5%, which is not something I would care about.</p>\n\n<pre><code>    public static unsafe float TestMethod3()\n    {\n        float[] samples = new float[5000000];\n\n        for (var ii = 0; ii &lt; 5000000; ii++)\n        {\n            samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n        }\n\n        return samples[5000000 - 1];\n    }\n\n    public static unsafe float TestMethod4()\n    {\n        float[] prev = new float[5000000];\n        fixed (float* samples = &amp;prev[0])\n        {\n            for (var ii = 0; ii &lt; 5000000; ii++)\n            {\n                samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n            }\n\n            return samples[5000000 - 1];\n        }\n    }\n\n    public static unsafe float TestMethod5()\n    {\n        var ptr = Marshal.AllocHGlobal(5000000 * sizeof(float));\n        try\n        {\n            float* samples = (float*)ptr;\n\n            for (var ii = 0; ii &lt; 5000000; ii++)\n            {\n                samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n            }\n\n            return samples[5000000 - 1];\n        }\n        finally\n        {\n            Marshal.FreeHGlobal(ptr);\n        }\n    }\n</code></pre>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24203229#24203229", "question_id": 24200904, "answer_id": 24203229}, {"body": "<p>Upon comparing test code with Sam, I determined that we are both right!<br>\nHowever, about different things:  </p>\n\n<ul>\n<li>Accessing memory (reading and writing) is <em>just as fast</em> wherever it is - stack, global or heap.  </li>\n<li><strong>Allocating</strong> it, however, is fastest on stack and slowest on heap.  </li>\n</ul>\n\n<p>It goes like this: <code>stack</code> &lt; <code>global</code> &lt; <code>heap</code>. (allocation time)<br>\nTechnically, stack allocation isn't really an allocation, the runtime just makes sure a part of the stack (frame?) is reserved for the array.</p>\n\n<p>I strongly advise being careful with this, though.<br>\nI recommend the following:  </p>\n\n<ol>\n<li>When you need to create arrays frequently which never <em>leave</em> the function (e.g. by passing its reference), using the stack will be an enormous improvement.  </li>\n<li>If you can recycle an array, do so whenever you can! The heap is the best place for long-term object storage. (polluting global memory isn't nice; stack frames can disappear)</li>\n</ol>\n\n<p>(<em>Note</em>: 1. only applies to value types; reference types will be allocated on the heap and the benefit will be reduced to 0)  </p>\n\n<p>To answer the question itself: I have not encountered any problem at all with any large-stack test.<br>\nI believe the only possible problems are a stack overflow, if you are not careful with your function calls and running out of memory when creating your thread(s) if the system is running low.  </p>\n\n<p><strong>The section below is my initial answer. It is wrong-ish and the tests aren't correct. It is kept only for reference.</strong></p>\n\n<hr>\n\n<p>My test indicates the stack-allocated memory and global memory is at least 15% slower than (takes 120% the time of) heap-allocated memory for usage in arrays!  </p>\n\n<p><a href=\"https://gist.github.com/vercas/787ae822548c40b81ad6\" rel=\"nofollow\">This is my test code</a>, and this is a sample output:  </p>\n\n<pre><code>Stack-allocated array time: 00:00:00.2224429\nGlobally-allocated array time: 00:00:00.2206767\nHeap-allocated array time: 00:00:00.1842670\n------------------------------------------\nFastest: Heap.\n\n  |    S    |    G    |    H    |\n--+---------+---------+---------+\nS |    -    | 100.80 %| 120.72 %|\n--+---------+---------+---------+\nG |  99.21 %|    -    | 119.76 %|\n--+---------+---------+---------+\nH |  82.84 %|  83.50 %|    -    |\n--+---------+---------+---------+\nRates are calculated by dividing the row's value to the column's.\n</code></pre>\n\n<p>I tested on Windows 8.1 Pro (with Update 1), using an i7 4700 MQ, under .NET 4.5.1<br>\nI tested both with x86 and x64 and the results are identical.  </p>\n\n<p><strong>Edit</strong>: I increased the stack size of all threads 201 MB, the sample size to 50 million and decreased iterations to 5.<br>\nThe results are <strong>the same as above</strong>:  </p>\n\n<pre><code>Stack-allocated array time: 00:00:00.4504903\nGlobally-allocated array time: 00:00:00.4020328\nHeap-allocated array time: 00:00:00.3439016\n------------------------------------------\nFastest: Heap.\n\n  |    S    |    G    |    H    |\n--+---------+---------+---------+\nS |    -    | 112.05 %| 130.99 %|\n--+---------+---------+---------+\nG |  89.24 %|    -    | 116.90 %|\n--+---------+---------+---------+\nH |  76.34 %|  85.54 %|    -    |\n--+---------+---------+---------+\nRates are calculated by dividing the row's value to the column's.\n</code></pre>\n\n<p>Though, it seems the stack is actually <em>getting slower</em>.</p>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24208205#24208205", "question_id": 24200904, "answer_id": 24208205}, {"body": "<p>Microbenchmarking languages with JIT and GC such as Java or C# can be a bit complicated, so it's generally a good idea to use an existing framework - Java offers mhf or Caliper which are excellent, sadly to the best of my knowledge C# doesn't offer anything approaching those. Jon Skeet wrote <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/01/26/benchmarking-made-easy.aspx\">this</a> here which I'll blindly assume takes care of the most important things (Jon knows what he's doing in that area; also yes no worries I did actually check). I tweaked the timing a bit because 30 seconds per test after warmup was too much for my patience (5 seconds ought to do).</p>\n\n<p>So first the results, .NET 4.5.1 under Windows 7 x64 -- the numbers denote the iterations it could run in 5 seconds so higher is better. </p>\n\n<p>x64 JIT:</p>\n\n<pre><code>Standard       10,589.00  (1.00)\nUnsafeStandard 10,612.00  (1.00)\nStackalloc     12,088.00  (1.14)\nFixedStandard  10,715.00  (1.01)\nGlobalAlloc    12,547.00  (1.18)\n</code></pre>\n\n<p>x86 JIT (yeah that's still kind of sad):</p>\n\n<pre><code>Standard       14,787.00   (1.02)\nUnsafeStandard 14,549.00   (1.00)\nStackalloc     15,830.00   (1.09)\nFixedStandard  14,824.00   (1.02)\nGlobalAlloc    18,744.00   (1.29)\n</code></pre>\n\n<p>This gives a much more reasonable speedup of at most 14% (and most of the overhead is due to the GC having to run, consider it a worst case scenario realistically). The x86 results are interesting though - not entirely clear what's going on there.</p>\n\n<p>and here's the code:</p>\n\n<pre><code>public static float Standard(int size) {\n    float[] samples = new float[size];\n    for (var ii = 0; ii &lt; size; ii++) {\n        samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n    }\n    return samples[size - 1];\n}\n\npublic static unsafe float UnsafeStandard(int size) {\n    float[] samples = new float[size];\n    for (var ii = 0; ii &lt; size; ii++) {\n        samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n    }\n    return samples[size - 1];\n}\n\npublic static unsafe float Stackalloc(int size) {\n    float* samples = stackalloc float[size];\n    for (var ii = 0; ii &lt; size; ii++) {\n        samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n    }\n    return samples[size - 1];\n}\n\npublic static unsafe float FixedStandard(int size) {\n    float[] prev = new float[size];\n    fixed (float* samples = &amp;prev[0]) {\n        for (var ii = 0; ii &lt; size; ii++) {\n            samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n        }\n        return samples[size - 1];\n    }\n}\n\npublic static unsafe float GlobalAlloc(int size) {\n    var ptr = Marshal.AllocHGlobal(size * sizeof(float));\n    try {\n        float* samples = (float*)ptr;\n        for (var ii = 0; ii &lt; size; ii++) {\n            samples[ii] = 32768 + (ii != 0 ? samples[ii - 1] : 0);\n        }\n        return samples[size - 1];\n    } finally {\n        Marshal.FreeHGlobal(ptr);\n    }\n}\n\nstatic void Main(string[] args) {\n    int inputSize = 100000;\n    var results = TestSuite.Create(\"Tests\", inputSize, Standard(inputSize)).\n        Add(Standard).\n        Add(UnsafeStandard).\n        Add(Stackalloc).\n        Add(FixedStandard).\n        Add(GlobalAlloc).\n        RunTests();\n    results.Display(ResultColumns.NameAndIterations);\n}\n</code></pre>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24224310#24224310", "question_id": 24200904, "answer_id": 24224310}, {"body": "<p>Since the performance difference is too huge, the problem is barely related to allocation. It is likely caused by the array access.</p>\n\n<p>I disassembled the loop body of the functions:</p>\n\n<p>TestMethod1:</p>\n\n<pre><code>IL_0011:  ldloc.0 \nIL_0012:  ldloc.1 \nIL_0013:  ldc.i4.4 \nIL_0014:  mul \nIL_0015:  add \nIL_0016:  ldc.r4 32768.\nIL_001b:  stind.r4 // &lt;----------- This one\nIL_001c:  ldloc.1 \nIL_001d:  ldc.i4.1 \nIL_001e:  add \nIL_001f:  stloc.1 \nIL_0020:  ldloc.1 \nIL_0021:  ldc.i4 12500000\nIL_0026:  blt IL_0011\n</code></pre>\n\n<p>TestMethod2:</p>\n\n<pre><code>IL_0012:  ldloc.0 \nIL_0013:  ldloc.1 \nIL_0014:  ldc.r4 32768.\nIL_0019:  stelem.r4 // &lt;----------- This one\nIL_001a:  ldloc.1 \nIL_001b:  ldc.i4.1 \nIL_001c:  add \nIL_001d:  stloc.1 \nIL_001e:  ldloc.1 \nIL_001f:  ldc.i4 12500000\nIL_0024:  blt IL_0012\n</code></pre>\n\n<p>We can check the usage of the instruction and more importantly, the exception they throw in <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-335.pdf\" rel=\"nofollow\">ECMA spec</a>:</p>\n\n<pre><code>stind.r4: Store value of type float32 into memory at address\n</code></pre>\n\n<p>Exceptions it throws:</p>\n\n<pre><code>System.NullReferenceException\n</code></pre>\n\n<p>And</p>\n\n<pre><code>stelem.r4: Replace array element at index with the float32 value on the stack.\n</code></pre>\n\n<p>Exception it throws:</p>\n\n<pre><code>System.NullReferenceException\nSystem.IndexOutOfRangeException\nSystem.ArrayTypeMismatchException\n</code></pre>\n\n<p>As you can see, <code>stelem</code> does more work in array range checking and type checking. Since the loop body does little thing (only assign value), the overhead of the checking dominates the computation time. So that\u2019s why the performance differs by 530%.</p>\n\n<p>And this also answers your questions: the danger is the absent of array range &amp; type checking. This is unsafe (as mentioned in the function declaration ;D).</p>\n", "title": "What are the dangers when creating a thread with a stack size of 50x the default?", "tags": ["c#", ".net", "memory", "stack-memory"], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default/24357829#24357829", "question_id": 24200904, "answer_id": 24357829}], "link": "http://stackoverflow.com/questions/24200904/what-are-the-dangers-when-creating-a-thread-with-a-stack-size-of-50x-the-default", "question_id": 24200904}, {"body": "<p>I have found an interesting performance regression in a small C++ snippet, when I enable C++11:</p>\n\n<pre><code>#include &lt;vector&gt;\n\nstruct Item\n{\n  int a;\n  int b;\n};\n\nint main()\n{\n  const std::size_t num_items = 10000000;\n  std::vector&lt;Item&gt; container;\n  container.reserve(num_items);\n  for (std::size_t i = 0; i &lt; num_items; ++i) {\n    container.push_back(Item());\n  }\n  return 0;\n}\n</code></pre>\n\n<p>With g++ (GCC) 4.8.2 20131219 (prerelease) and C++03 I get:</p>\n\n<pre><code>milian:/tmp$ g++ -O3 main.cpp &amp;&amp; perf stat -r 10 ./a.out\n\nPerformance counter stats for './a.out' (10 runs):\n\n        35.206824 task-clock                #    0.988 CPUs utilized            ( +-  1.23% )\n                4 context-switches          #    0.116 K/sec                    ( +-  4.38% )\n                0 cpu-migrations            #    0.006 K/sec                    ( +- 66.67% )\n              849 page-faults               #    0.024 M/sec                    ( +-  6.02% )\n       95,693,808 cycles                    #    2.718 GHz                      ( +-  1.14% ) [49.72%]\n  &lt;not supported&gt; stalled-cycles-frontend \n  &lt;not supported&gt; stalled-cycles-backend  \n       95,282,359 instructions              #    1.00  insns per cycle          ( +-  0.65% ) [75.27%]\n       30,104,021 branches                  #  855.062 M/sec                    ( +-  0.87% ) [77.46%]\n            6,038 branch-misses             #    0.02% of all branches          ( +- 25.73% ) [75.53%]\n\n      0.035648729 seconds time elapsed                                          ( +-  1.22% )\n</code></pre>\n\n<p>With C++11 enabled on the other hand, the performance degrades significantly:</p>\n\n<pre><code>milian:/tmp$ g++ -std=c++11 -O3 main.cpp &amp;&amp; perf stat -r 10 ./a.out\n\nPerformance counter stats for './a.out' (10 runs):\n\n        86.485313 task-clock                #    0.994 CPUs utilized            ( +-  0.50% )\n                9 context-switches          #    0.104 K/sec                    ( +-  1.66% )\n                2 cpu-migrations            #    0.017 K/sec                    ( +- 26.76% )\n              798 page-faults               #    0.009 M/sec                    ( +-  8.54% )\n      237,982,690 cycles                    #    2.752 GHz                      ( +-  0.41% ) [51.32%]\n  &lt;not supported&gt; stalled-cycles-frontend \n  &lt;not supported&gt; stalled-cycles-backend  \n      135,730,319 instructions              #    0.57  insns per cycle          ( +-  0.32% ) [75.77%]\n       30,880,156 branches                  #  357.057 M/sec                    ( +-  0.25% ) [75.76%]\n            4,188 branch-misses             #    0.01% of all branches          ( +-  7.59% ) [74.08%]\n\n    0.087016724 seconds time elapsed                                          ( +-  0.50% )\n</code></pre>\n\n<p>Can someone explain this? So far my experience was that the STL gets faster by enabling C++11, esp. thanks to move semantics.</p>\n\n<p><strong>EDIT:</strong> As suggested, using <code>container.emplace_back();</code> instead the performance gets on par with the C++03 version. How can the C++03 version achieve the same for <code>push_back</code>?</p>\n\n<pre><code>milian:/tmp$ g++ -std=c++11 -O3 main.cpp &amp;&amp; perf stat -r 10 ./a.out\n\nPerformance counter stats for './a.out' (10 runs):\n\n        36.229348 task-clock                #    0.988 CPUs utilized            ( +-  0.81% )\n                4 context-switches          #    0.116 K/sec                    ( +-  3.17% )\n                1 cpu-migrations            #    0.017 K/sec                    ( +- 36.85% )\n              798 page-faults               #    0.022 M/sec                    ( +-  8.54% )\n       94,488,818 cycles                    #    2.608 GHz                      ( +-  1.11% ) [50.44%]\n  &lt;not supported&gt; stalled-cycles-frontend \n  &lt;not supported&gt; stalled-cycles-backend  \n       94,851,411 instructions              #    1.00  insns per cycle          ( +-  0.98% ) [75.22%]\n       30,468,562 branches                  #  840.991 M/sec                    ( +-  1.07% ) [76.71%]\n            2,723 branch-misses             #    0.01% of all branches          ( +-  9.84% ) [74.81%]\n\n   0.036678068 seconds time elapsed                                          ( +-  0.80% )\n</code></pre>\n", "title": "std::vector performance regression when enabling C++11", "tags": ["c++", "performance", "gcc", "c++11", "vector"], "answers": [{"body": "<p>I can reproduce your results on my machine with those options you write in your post. </p>\n\n<p><strong>However, if I also enable <a href=\"http://gcc.gnu.org/wiki/LinkTimeOptimization\">link time optimization</a> (I also pass the <code>-flto</code> flag to gcc 4.7.2), the results are identical:</strong></p>\n\n<p>(I am compiling your original code, with <code>container.push_back(Item());</code>)</p>\n\n<pre><code>$ g++ -std=c++11 -O3 -flto regr.cpp &amp;&amp; perf stat -r 10 ./a.out \n\n Performance counter stats for './a.out' (10 runs):\n\n         35.426793 task-clock                #    0.986 CPUs utilized            ( +-  1.75% )\n                 4 context-switches          #    0.116 K/sec                    ( +-  5.69% )\n                 0 CPU-migrations            #    0.006 K/sec                    ( +- 66.67% )\n            19,801 page-faults               #    0.559 M/sec                  \n        99,028,466 cycles                    #    2.795 GHz                      ( +-  1.89% ) [77.53%]\n        50,721,061 stalled-cycles-frontend   #   51.22% frontend cycles idle     ( +-  3.74% ) [79.47%]\n        25,585,331 stalled-cycles-backend    #   25.84% backend  cycles idle     ( +-  4.90% ) [73.07%]\n       141,947,224 instructions              #    1.43  insns per cycle        \n                                             #    0.36  stalled cycles per insn  ( +-  0.52% ) [88.72%]\n        37,697,368 branches                  # 1064.092 M/sec                    ( +-  0.52% ) [88.75%]\n            26,700 branch-misses             #    0.07% of all branches          ( +-  3.91% ) [83.64%]\n\n       0.035943226 seconds time elapsed                                          ( +-  1.79% )\n\n\n\n$ g++ -std=c++98 -O3 -flto regr.cpp &amp;&amp; perf stat -r 10 ./a.out \n\n Performance counter stats for './a.out' (10 runs):\n\n         35.510495 task-clock                #    0.988 CPUs utilized            ( +-  2.54% )\n                 4 context-switches          #    0.101 K/sec                    ( +-  7.41% )\n                 0 CPU-migrations            #    0.003 K/sec                    ( +-100.00% )\n            19,801 page-faults               #    0.558 M/sec                    ( +-  0.00% )\n        98,463,570 cycles                    #    2.773 GHz                      ( +-  1.09% ) [77.71%]\n        50,079,978 stalled-cycles-frontend   #   50.86% frontend cycles idle     ( +-  2.20% ) [79.41%]\n        26,270,699 stalled-cycles-backend    #   26.68% backend  cycles idle     ( +-  8.91% ) [74.43%]\n       141,427,211 instructions              #    1.44  insns per cycle        \n                                             #    0.35  stalled cycles per insn  ( +-  0.23% ) [87.66%]\n        37,366,375 branches                  # 1052.263 M/sec                    ( +-  0.48% ) [88.61%]\n            26,621 branch-misses             #    0.07% of all branches          ( +-  5.28% ) [83.26%]\n\n       0.035953916 seconds time elapsed  \n</code></pre>\n\n<p>As for the reasons, one needs to look at the generated assembly code (<code>g++ -std=c++11 -O3 -S regr.cpp</code>). <strong>In C++11 mode the generated code is significantly more cluttered</strong> than for C++98 mode and <strong>inlining the function</strong><br>\n<code>void std::vector&lt;Item,std::allocator&lt;Item&gt;&gt;::_M_emplace_back_aux&lt;Item&gt;(Item&amp;&amp;)</code><br>\n<strong>fails</strong> in C++11 mode with the default <code>inline-limit</code>. </p>\n\n<p><strong>This failed inline has a domino effect.</strong> Not because this function is being called \n(it is not even called!) but because we have to be prepared: <em>If</em> it is called,\nthe function argments (<code>Item.a</code> and <code>Item.b</code>) must already be at the right place. This leads to \na pretty messy code.</p>\n\n<p>Here is the relevant part of the generated code for the case where <strong>inlining succeeds</strong>:</p>\n\n<pre><code>.L42:\n    testq   %rbx, %rbx  # container$D13376$_M_impl$_M_finish\n    je  .L3 #,\n    movl    $0, (%rbx)  #, container$D13376$_M_impl$_M_finish_136-&gt;a\n    movl    $0, 4(%rbx) #, container$D13376$_M_impl$_M_finish_136-&gt;b\n.L3:\n    addq    $8, %rbx    #, container$D13376$_M_impl$_M_finish\n    subq    $1, %rbp    #, ivtmp.106\n    je  .L41    #,\n.L14:\n    cmpq    %rbx, %rdx  # container$D13376$_M_impl$_M_finish, container$D13376$_M_impl$_M_end_of_storage\n    jne .L42    #,\n</code></pre>\n\n<p>This is a nice and compact for loop. Now, let's compare this to that of the <strong>failed inline</strong> case:</p>\n\n<pre><code>.L49:\n    testq   %rax, %rax  # D.15772\n    je  .L26    #,\n    movq    16(%rsp), %rdx  # D.13379, D.13379\n    movq    %rdx, (%rax)    # D.13379, *D.15772_60\n.L26:\n    addq    $8, %rax    #, tmp75\n    subq    $1, %rbx    #, ivtmp.117\n    movq    %rax, 40(%rsp)  # tmp75, container.D.13376._M_impl._M_finish\n    je  .L48    #,\n.L28:\n    movq    40(%rsp), %rax  # container.D.13376._M_impl._M_finish, D.15772\n    cmpq    48(%rsp), %rax  # container.D.13376._M_impl._M_end_of_storage, D.15772\n    movl    $0, 16(%rsp)    #, D.13379.a\n    movl    $0, 20(%rsp)    #, D.13379.b\n    jne .L49    #,\n    leaq    16(%rsp), %rsi  #,\n    leaq    32(%rsp), %rdi  #,\n    call    _ZNSt6vectorI4ItemSaIS0_EE19_M_emplace_back_auxIIS0_EEEvDpOT_   #\n</code></pre>\n\n<p>This code is cluttered and there is a lot more going on in the loop than in the previous case. \nBefore the function <code>call</code> (last line shown), the arguments must be placed appropriately:</p>\n\n<pre><code>leaq    16(%rsp), %rsi  #,\nleaq    32(%rsp), %rdi  #,\ncall    _ZNSt6vectorI4ItemSaIS0_EE19_M_emplace_back_auxIIS0_EEEvDpOT_   #\n</code></pre>\n\n<p>Even though this is never actually executed, the loop arranges the things before:</p>\n\n<pre><code>movl    $0, 16(%rsp)    #, D.13379.a\nmovl    $0, 20(%rsp)    #, D.13379.b\n</code></pre>\n\n<p><strong>This leads to the messy code.</strong> If there is no function <code>call</code> because inlining succeeds, \nwe have only 2 move instructions in the loop and there is no messing going with the <code>%rsp</code> (stack pointer). However, if the inlining fails, we get 6 moves and we mess a lot with the <code>%rsp</code>.</p>\n\n<p>Just to substantiate my theory (note the <code>-finline-limit</code>), both in C++11 mode:</p>\n\n<pre><code> $ g++ -std=c++11 -O3 -finline-limit=105 regr.cpp &amp;&amp; perf stat -r 10 ./a.out\n\n Performance counter stats for './a.out' (10 runs):\n\n         84.739057 task-clock                #    0.993 CPUs utilized            ( +-  1.34% )\n                 8 context-switches          #    0.096 K/sec                    ( +-  2.22% )\n                 1 CPU-migrations            #    0.009 K/sec                    ( +- 64.01% )\n            19,801 page-faults               #    0.234 M/sec                  \n       266,809,312 cycles                    #    3.149 GHz                      ( +-  0.58% ) [81.20%]\n       206,804,948 stalled-cycles-frontend   #   77.51% frontend cycles idle     ( +-  0.91% ) [81.25%]\n       129,078,683 stalled-cycles-backend    #   48.38% backend  cycles idle     ( +-  1.37% ) [69.49%]\n       183,130,306 instructions              #    0.69  insns per cycle        \n                                             #    1.13  stalled cycles per insn  ( +-  0.85% ) [85.35%]\n        38,759,720 branches                  #  457.401 M/sec                    ( +-  0.29% ) [85.43%]\n            24,527 branch-misses             #    0.06% of all branches          ( +-  2.66% ) [83.52%]\n\n       0.085359326 seconds time elapsed                                          ( +-  1.31% )\n\n $ g++ -std=c++11 -O3 -finline-limit=106 regr.cpp &amp;&amp; perf stat -r 10 ./a.out\n\n Performance counter stats for './a.out' (10 runs):\n\n         37.790325 task-clock                #    0.990 CPUs utilized            ( +-  2.06% )\n                 4 context-switches          #    0.098 K/sec                    ( +-  5.77% )\n                 0 CPU-migrations            #    0.011 K/sec                    ( +- 55.28% )\n            19,801 page-faults               #    0.524 M/sec                  \n       104,699,973 cycles                    #    2.771 GHz                      ( +-  2.04% ) [78.91%]\n        58,023,151 stalled-cycles-frontend   #   55.42% frontend cycles idle     ( +-  4.03% ) [78.88%]\n        30,572,036 stalled-cycles-backend    #   29.20% backend  cycles idle     ( +-  5.31% ) [71.40%]\n       140,669,773 instructions              #    1.34  insns per cycle        \n                                             #    0.41  stalled cycles per insn  ( +-  1.40% ) [88.14%]\n        38,117,067 branches                  # 1008.646 M/sec                    ( +-  0.65% ) [89.38%]\n            27,519 branch-misses             #    0.07% of all branches          ( +-  4.01% ) [86.16%]\n\n       0.038187580 seconds time elapsed                                          ( +-  2.05% )\n</code></pre>\n\n<p><strong>Indeed, if we ask the compiler to try just a little bit harder to inline that function, the difference in performance goes away.</strong></p>\n\n<hr>\n\n<p>So what is the take away from this story? That failed inlines can cost you a lot and you should make full use of the compiler capabilities: <strong>I can only recommend link time optimization.</strong> It gave a significant performance boost to my programs (up to 2.5x) and all I needed to do is to pass the <code>-flto</code> flag. That's a pretty good deal! ;)</p>\n\n<p>However, I do not recommend trashing your code with the inline keyword; let the compiler decide what to do. (The optimizer is allowed to treat the inline keyword as white space anyway.)</p>\n\n<hr>\n\n<p>Great question, +1!</p>\n", "title": "std::vector performance regression when enabling C++11", "tags": ["c++", "performance", "gcc", "c++11", "vector"], "link": "http://stackoverflow.com/questions/20977741/stdvector-performance-regression-when-enabling-c11/20983175#20983175", "question_id": 20977741, "answer_id": 20983175}], "link": "http://stackoverflow.com/questions/20977741/stdvector-performance-regression-when-enabling-c11", "question_id": 20977741}, {"body": "<p>I'm trying to share data across controllers. Use-case is a multi-step form, data entered in one input is later used in multiple display locations outside the original controller. Code below and in <a href=\"http://jsfiddle.net/AVhRf/\">jsfiddle here</a>.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n    &lt;input type=\"text\" ng-model=\"FirstName\"&gt;&lt;!-- Input entered here --&gt;\n    &lt;br&gt;Input is : &lt;strong&gt;{{FirstName}}&lt;/strong&gt;&lt;!-- Successfully updates here --&gt;\n&lt;/div&gt;\n\n&lt;hr&gt;\n\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n    Input should also be here: {{FirstName}}&lt;!-- How do I automatically updated it here? --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>// declare the app with no dependencies\nvar myApp = angular.module('myApp', []);\n\n// make a factory to share data between controllers\nmyApp.factory('Data', function(){\n    // I know this doesn't work, but what will?\n    var FirstName = '';\n    return FirstName;\n});\n\n// Step 1 Controller\nmyApp.controller('FirstCtrl', function( $scope, Data ){\n\n});\n\n// Step 2 Controller\nmyApp.controller('SecondCtrl', function( $scope, Data ){\n    $scope.FirstName = Data.FirstName;\n});\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "answers": [{"body": "<p>A simple solution is to have your factory return an object and let your controllers work with a reference to the same object:</p>\n\n<p>JS:</p>\n\n<pre><code>// declare the app with no dependencies\nvar myApp = angular.module('myApp', []);\n\n// Create the factory that share the Fact\nmyApp.factory('Fact', function(){\n  return { Field: '' };\n});\n\n// Two controllers sharing an object that has a string in it\nmyApp.controller('FirstCtrl', function( $scope, Fact ){\n  $scope.Alpha = Fact;\n});\n\nmyApp.controller('SecondCtrl', function( $scope, Fact ){\n  $scope.Beta = Fact;\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n    &lt;input type=\"text\" ng-model=\"Alpha.Field\"&gt;\n    First {{Alpha.Field}}\n&lt;/div&gt;\n\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n&lt;input type=\"text\" ng-model=\"Beta.Field\"&gt;\n    Second {{Beta.Field}}\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/HEdJF/\">http://jsfiddle.net/HEdJF/</a></p>\n\n<p>When applications get larger, more complex and harder to test you might not want to expose the entire object from the factory this way, but instead give limited access for example via getters and setters:</p>\n\n<pre><code>myApp.factory('Data', function () {\n\n    var data = {\n        FirstName: ''\n    };\n\n    return {\n        getFirstName: function () {\n            return data.FirstName;\n        },\n        setFirstName: function (firstName) {\n            data.FirstName = firstName;\n        }\n    };\n});\n</code></pre>\n\n<p>With this approach it is up to the consuming controllers to update the factory with new values, and to watch for changes to get them:</p>\n\n<pre><code>myApp.controller('FirstCtrl', function ($scope, Data) {\n\n    $scope.firstName = '';\n\n    $scope.$watch('firstName', function (newValue, oldValue) {\n        if (newValue !== oldValue) Data.setFirstName(newValue);\n    });\n});\n\nmyApp.controller('SecondCtrl', function ($scope, Data) {\n\n    $scope.$watch(function () { return Data.getFirstName(); }, function (newValue, oldValue) {\n        if (newValue !== oldValue) $scope.firstName = newValue;\n    });\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n  &lt;input type=\"text\" ng-model=\"FirstName\"&gt;\n  &lt;br&gt;Input is : &lt;strong&gt;{{FirstName}}&lt;/strong&gt;\n&lt;/div&gt;\n&lt;hr&gt;\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n  Input should also be here: {{FirstName}}\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/27mk1n1o/\">http://jsfiddle.net/27mk1n1o/</a></p>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/21920241#21920241", "question_id": 21919962, "answer_id": 21920241}, {"body": "<p>I prefer not to use <code>$watch</code> for this. Instead of assigning the entire service to a controller's scope you can assign just the data.</p>\n\n<p>JS:</p>\n\n<pre><code>var myApp = angular.module('myApp', []);\n\nmyApp.factory('MyService', function(){\n  return {\n    data: {\n      firstName: '',\n      lastName: ''\n    }\n    // Other methods or objects can go here\n  };\n});\n\nmyApp.controller('FirstCtrl', function($scope, MyService){\n  $scope.data = MyService.data;\n});\n\nmyApp.controller('SecondCtrl', function($scope, MyService){\n   $scope.data = MyService.data;\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n  &lt;input type=\"text\" ng-model=\"data.firstName\"&gt;\n  &lt;br&gt;Input is : &lt;strong&gt;{{data.firstName}}&lt;/strong&gt;\n&lt;/div&gt;\n&lt;hr&gt;\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n  Input should also be here: {{data.firstName}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Alternatively you can update the service data with a direct method.</p>\n\n<p>JS: </p>\n\n<pre><code>// A new factory with an update method\nmyApp.factory('MyService', function(){\n  return {\n    data: {\n      firstName: '',\n      lastName: ''\n    },\n    update: function(first, last) {\n      // Improve this method as needed\n      this.data.firstNAme = first;\n      this.data.lastName = last;\n    }\n  };\n});\n\n// Your controller can use the service's update method\nmyApp.controller('SecondCtrl', function($scope, MyService){\n   $scope.data = MyService.data;\n\n   $scope.updateData = function(first, last) {\n     MyService.update(first, last);\n   }\n});\n</code></pre>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/25145593#25145593", "question_id": 21919962, "answer_id": 25145593}, {"body": "<p>I've created a factory that controls shared scope between route path's pattern, so you can maintain the shared data just when users are navigating in the same route parent path.</p>\n\n<pre><code>.controller('CadastroController', ['$scope', 'RouteSharedScope',\n    function($scope, routeSharedScope) {\n      var customerScope = routeSharedScope.scopeFor('/Customer');\n      //var indexScope = routeSharedScope.scopeFor('/');\n    }\n ])\n</code></pre>\n\n<p>So, if the user goes to another route path, for example '/Support', the shared data for path '/Customer' will be automatically destroyed. But, if instead of this the user goes to 'child' paths, like '/Customer/1' or '/Customer/list' the the scope won't be destroyed.</p>\n\n<p>You can see an sample here: <a href=\"http://plnkr.co/edit/OL8of9\">http://plnkr.co/edit/OL8of9</a></p>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/25925213#25925213", "question_id": 21919962, "answer_id": 25925213}, {"body": "<p>Just do it simple (tested with v1.3.15): </p>\n\n<p></p>\n\n<pre><code>&lt;article ng-controller=\"ctrl1 as c1\"&gt;\n    &lt;label&gt;Change name here:&lt;/label&gt;\n    &lt;input ng-model=\"c1.sData.name\" /&gt;\n    &lt;h1&gt;Control 1: {{c1.sData.name}}, {{c1.sData.age}}&lt;/h1&gt;\n&lt;/article&gt;\n&lt;article ng-controller=\"ctrl2 as c2\"&gt;\n    &lt;label&gt;Change age here:&lt;/label&gt;\n    &lt;input ng-model=\"c2.sData.age\" /&gt;\n    &lt;h1&gt;Control 2: {{c2.sData.name}}, {{c2.sData.age}}&lt;/h1&gt;\n&lt;/article&gt;\n\n&lt;script&gt;\n    var app = angular.module(\"MyApp\", []);\n\n    var dummy = {name: \"Joe\", age: 25};\n\n    app.controller(\"ctrl1\", function () {\n        this.sData = dummy;\n    });\n\n    app.controller(\"ctrl2\", function () {\n        this.sData = dummy;\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p></p>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/30581547#30581547", "question_id": 21919962, "answer_id": 30581547}, {"body": "<p>Not sure where I picked up this pattern but for sharing data across controllers and reducing the $rootScope and $scope this works great. It is reminiscent of a data replication where you have publishers and subscribers.  Hope it helps.</p>\n\n<p>The Service:</p>\n\n<pre><code>(function(app) {\n    \"use strict\";\n    app.factory(\"sharedDataEventHub\", sharedDataEventHub);\n\n    sharedDataEventHub.$inject = [\"$rootScope\"];\n\n    function sharedDataEventHub($rootScope) {\n        var DATA_CHANGE = \"DATA_CHANGE_EVENT\";\n        var service = {\n            changeData: changeData,\n            onChangeData: onChangeData\n        };\n        return service;\n\n        function changeData(obj) {\n            $rootScope.$broadcast(DATA_CHANGE, obj);\n        }\n\n        function onChangeData($scope, handler) {\n            $scope.$on(DATA_CHANGE, function(event, obj) {\n                handler(obj);\n            });\n        }\n    }\n}(app));\n</code></pre>\n\n<p>The Controller that is getting the new data, which is the Publisher would do something like this..</p>\n\n<pre><code>var someData = yourDataService.getSomeData();\n\nsharedDataEventHub.changeData(someData);\n</code></pre>\n\n<p>The Controller that is also using this new data, which is called the Subscriber would do something like this...</p>\n\n<pre><code>sharedDataEventHub.onChangeData($scope, function(data) {\n    vm.localData.Property1 = data.Property1;\n    vm.localData.Property2 = data.Property2;\n});\n</code></pre>\n\n<p>This will work for any scenario.  So when the primary controller is initialized and it gets data it would call the changeData method which would then broadcast that out to all the subscribers of that data.  This reduces the coupling of our controllers to each other.</p>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/32362388#32362388", "question_id": 21919962, "answer_id": 32362388}, {"body": "<p>There is another way without using $watch, using angular.copy:</p>\n\n<pre><code>var myApp = angular.module('myApp', []);\n\nmyApp.factory('Data', function(){\n\n    var service = {\n        FirstName: '',\n        setFirstName: function(name) {\n            // this is the trick to sync the data\n            // so no need for a $watch function\n            // call this from anywhere when you need to update FirstName\n            angular.copy(name, service.FirstName); \n        }\n    };\n    return service;\n});\n\n\n// Step 1 Controller\nmyApp.controller('FirstCtrl', function( $scope, Data ){\n\n});\n\n// Step 2 Controller\nmyApp.controller('SecondCtrl', function( $scope, Data ){\n    $scope.FirstName = Data.FirstName;\n});\n</code></pre>\n\n<p>Hope this helps someone.</p>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/33505342#33505342", "question_id": 21919962, "answer_id": 33505342}, {"body": "<pre><code>there are many ways you can share the data between controllers \n\n1 using services\n\n2 using $state.go services\n\n3 using stateparams\n4 using rootscope\n\n1 method i am not going to explain as its already explained by someone\n\n2 using $state.go \n$state.go('book.name', {Name: 'XYZ'}); \nthen get parameter out of URL\n$state.params.Name;\n\n3 $statepram is same like $state.go you pass it as object from sender controller and collect in receiver controller using statpram\n\n4 using $rootscope\n(a) sending data from child to parent controller\n$scope.Save(Obj,function(data){\n  $scope.$emit('savedata',data); //pass the data as the second parameter\n});\n\n$scope.$on('savedata',function(event,data){//receive the data as second parameter\n\n}); \n\n(b) sending data from parent to childcontroller\n\n\n$scope.SaveDB(Obj,function(data){\n\n   $scope.$broadcast('savedata',data);\n});\n\n$scope.SaveDB(Obj,function(data){`enter code here`\n   $rootScope.$broadcast('saveCallback',data);\n});\n</code></pre>\n", "title": "Share data between AngularJS controllers", "tags": ["javascript", "angularjs", "angularjs-1.x"], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers/39126443#39126443", "question_id": 21919962, "answer_id": 39126443}], "link": "http://stackoverflow.com/questions/21919962/share-data-between-angularjs-controllers", "question_id": 21919962}, {"body": "<p>Why does eclipse automatically add <code>appcompat v7</code> library support whenever I create a new project. I am creating a simple project whose <code>MainActivity</code> should extend <code>Activity</code> but it does not. Eclipse automatically adds action bar support. </p>\n\n<p>Can somebody help me create a simple project without the <code>appcompat</code> library? FYI I have downloaded the latest version of ADT with everything updated recently. I am using Window 7 x64. </p>\n\n<p><img src=\"http://i.stack.imgur.com/KA9XQ.png\" alt=\"enter image description here\"></p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "answers": [{"body": "<blockquote>\n  <p>Why my eclipse automatically adds appcompat v7 library support\n  whenever i create a new project</p>\n</blockquote>\n\n<p>Because your target SDK is set to 15, in which the Action Bar is on by default and your minimum supported SDK is set to 10. Action Bar come out in 11, so you need a support library, Eclipse adds it for you. <a href=\"http://developer.android.com/guide/topics/ui/actionbar.html#Adding\">Reference.</a></p>\n\n<p>You can configure project libraries in the build path of project properties.</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/22261461#22261461", "question_id": 22261288, "answer_id": 22261461}, {"body": "<p>It's included because your minimum SDK version is set to 10. The <code>ActionBar</code> was introduced in API 11. Eclipse adds it automatically so your app can look more consistent throughout the spectrum of all android versions you are supporting. </p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/22261548#22261548", "question_id": 22261288, "answer_id": 22261548}, {"body": "<p>As stated in Android's <a href=\"http://developer.android.com/tools/support-library/index.html\">Support Library Overview</a>, it is considered good practice to include the support library by default because of the large diversity of devices and the fragmentation that exists between the different versions of Android (and thus, of the provided APIs).</p>\n\n<p>This is the reason why Android <a href=\"http://developer.android.com/tools/projects/templates.html\">code templates tools</a> included in Eclipse through the <code>Android Development Tools (ADT)</code> integrate them by default.</p>\n\n<p>I noted that you target <code>API 15</code> in your sample, but the miminum required SDK for your package is <code>API 10</code>, for which the compatibility libraries can provide a tremendous amount of backward compatible APIs. An example would be the ability of using the <a href=\"http://developer.android.com/guide/components/fragments.html\"><code>Fragment API</code></a> which appeard on <code>API 11</code> <em>(Android 3.0 Honeycomb)</em> on a device that runs an older version of this system.</p>\n\n<p>It is also to be noted that you can deactivate automatic inclusion of the <em>Support Library</em> by default.</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/22261555#22261555", "question_id": 22261288, "answer_id": 22261555}, {"body": "<p>Create a new <code>Android Application Project</code> and <strong>uncheck</strong> <code>Create activity</code> in step two (Configure project).</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/22478872#22478872", "question_id": 22261288, "answer_id": 22478872}, {"body": "<p>If you are not targeting 2.x versions you can set your minimum sdk version of 4.x and then create project. Appcompat V7 lib wont be created.</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/23149611#23149611", "question_id": 22261288, "answer_id": 23149611}, {"body": "<p>I'm new with Android and the project appcompat_v7 always be created when I create new Android application project makes me so uncomfortable. \n<br/><br>This is just a walk around. Choose Project Properties -> Android then at Library box just remove appcompat_v7_x and add appcompat_v7. Now you can delete appcompat_v7_x.\n<br/><br/>Uncheck Create Activity in create project wizard doesn't work, because when creating activity by wizard the <strong>appcompat_v7_x</strong> appear again. My ADT's version is <strong><em>v22.6.2-1085508</em></strong>.\n<br>I'm sorry if my English is bad. </p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/23319194#23319194", "question_id": 22261288, "answer_id": 23319194}, {"body": "<p>I noticed creation of 'appcompat' library while creating new android project with ADT 22.6.2 version, even when the minSDK was set to 11 and targetSDK was set 19</p>\n\n<p>This was happening because, in the new project template android is using some attributes that are from the support library. For instance if a new project was created with actionbar then in the menu's main.xml one could find <code>app:showAsAction=\"never\"</code> which is from support library. </p>\n\n<ul>\n<li>If the app is targeted at android version 11 and above then one can\nchange this attribute to <code>android:showAsAction</code> in menu's main.xml</li>\n<li><p>Also the default theme set could be\n\"Theme.AppCompat.Light.DarkActionBar\" as shown below (styles.xml)</p>\n\n<pre><code>&lt;style name=\"AppBaseTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n       &lt;!-- API 14 theme customizations can go here. --&gt;\n   &lt;/style&gt; \n</code></pre>\n\n<p>In this case the parent theme in style.xml has to be changed to \"android:style/Theme.Holo.Light.DarkActionBar\"  </p></li>\n<li>In addition to this if reference to Fragment,Fragments Manager from\nsupport library was made in the code of MainActivity.java, these have\nto appropriately changed to Fragment, FragmentManager of the SDK.</li>\n</ul>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/23469030#23469030", "question_id": 22261288, "answer_id": 23469030}, {"body": "<p>Eclipse automatically created the appcompat_v7.Because of Kitkat Api launched itself it adds automatically <code>appcompat_v7</code> and <code>fragment_main.xml</code>.</p>\n\n<p><strong><em>Best ways to solve these:</em></strong></p>\n\n<ol>\n<li><p>Firstly in project,<code>Right click-&gt;properties-&gt;Android</code>.There you can\nsee the <code>red marked appcompat</code> placed in <code>Reference</code>. Click that and\nRemove it.Then Tick the right target name in <code>Project Build Target</code>.</p></li>\n<li><p>Delete <strong>fragment_main.xml</strong> and <strong>Appcompat</strong> file created in your <em>Eclipse</em>.</p></li>\n<li><p>Edit and change your <strong>activity_main.xml</strong> like these:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/hello_world\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre></li>\n<li><p>In <strong>res/values/styles.xml:</strong></p>\n\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=\"AppBaseTheme\" parent=\"android:Theme.Light\"&gt;\n\n    &lt;/style&gt;\n\n    &lt;!-- Application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"AppBaseTheme\"&gt;\n\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre></li>\n<li><p>In <strong>res/values-v11/styles.xml</strong> you have to change like these:</p>\n\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=\"AppBaseTheme\" parent=\"android:Theme.Holo.Light\"&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre></li>\n<li><p>In <strong>res/values-v14/styles.xml</strong> you have to change like these:</p>\n\n<pre><code>  &lt;resources&gt;\n\n    &lt;style name=\"AppBaseTheme\" parent=\"android:Theme.Light\"&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"AppTheme\" parent=\"AppBaseTheme\"&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre></li>\n<li><p>Change your <strong>menu/main.xml</strong> like these:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n    &lt;item\n        android:id=\"@+id/action_settings\"\n        android:orderInCategory=\"100\"\n        android:showAsAction=\"never\"\n        android:title=\"@string/action_settings\"/&gt;\n\n&lt;/menu&gt;\n</code></pre></li>\n<li><p>Finally change your <strong>MainActivity.java</strong> like these:</p>\n\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\n\n\npublic class MainActivity extends Activity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n}\n\n}\n</code></pre></li>\n</ol>\n\n<p>LikeWise you have to do it for creating a new project</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/24777452#24777452", "question_id": 22261288, "answer_id": 24777452}, {"body": "<p>According to <a href=\"http://developer.android.com/guide/topics/ui/actionbar.html\" rel=\"nofollow\">http://developer.android.com/guide/topics/ui/actionbar.html</a></p>\n\n<blockquote>\n  <p>The ActionBar APIs were first added in Android 3.0 (API level 11) <em>but they are also available in the Support Library for compatibility with Android 2.1 (API level 7) and above.</em></p>\n</blockquote>\n\n<p>In short, that auto-generated project you're seeing <strong><em>modularizes</em></strong> the process of adding the ActionBar to APIs 7-10.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Vq8zr.png\" alt=\"Example of ActionBar on Froyo\"></p>\n\n<p>See <a href=\"http://hmkcode.com/add-actionbar-to-android-2-3-x/\" rel=\"nofollow\">http://hmkcode.com/add-actionbar-to-android-2-3-x/</a> for a simplified explanation and tutorial on the topic.</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/25208863#25208863", "question_id": 22261288, "answer_id": 25208863}, {"body": "<p>Sorry with my English, When you create a new android project, you should choose api of high level, for example: from api 17 to api 21, It will not have appcompat and very easy to share project.\nIf you did it with lower API, you just edit in Android Manifest to have upper API :), after that, you can delete Appcompat V7.</p>\n", "title": "Why does eclipse automatically add appcompat v7 library support whenever I create a new project?", "tags": ["android", "eclipse", "appcompat"], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat/26092298#26092298", "question_id": 22261288, "answer_id": 26092298}], "link": "http://stackoverflow.com/questions/22261288/why-does-eclipse-automatically-add-appcompat-v7-library-support-whenever-i-creat", "question_id": 22261288}, {"body": "<p>I have some issues with Vagrant shared folders, my base system is Ubuntu 13.10 desktop.</p>\n\n<p>I do not understand why I have this error is something that is not right configured ? Is a NFS issue or Virtualbox Guest Additions ? I have tried with different many boxes but the same issue.</p>\n\n<pre><code>Failed to mount folders in Linux guest. This is usually because\n    the \"vboxsf\" file system is not available. Please verify that\n    the guest additions are properly installed in the guest and\n    can work properly. The command attempted was:\n\n    mount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` /vagrant /vagrant\n    mount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` /vagrant /vagrant\n</code></pre>\n\n<p>Here is the complete process after <code>vagrant up</code> :</p>\n\n<pre><code>$ vagrant up\nBringing machine 'default' up with 'virtualbox' provider...\n==&gt; default: Importing base box 'u131032'...\n==&gt; default: Matching MAC address for NAT networking...\n==&gt; default: Setting the name of the VM: vagrant_default_1396020504136_46442\n==&gt; default: Clearing any previously set forwarded ports...\n==&gt; default: Clearing any previously set network interfaces...\n==&gt; default: Preparing network interfaces based on configuration...\n    default: Adapter 1: nat\n    default: Adapter 2: hostonly\n==&gt; default: Forwarding ports...\n    default: 22 =&gt; 2222 (adapter 1)\n==&gt; default: Running 'pre-boot' VM customizations...\n==&gt; default: Booting VM...\n==&gt; default: Waiting for machine to boot. This may take a few minutes...\n    default: SSH address: 127.0.0.1:2222\n    default: SSH username: vagrant\n    default: SSH auth method: private key\n    default: Error: Connection timeout. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n    default: Error: Remote connection disconnect. Retrying...\n==&gt; default: Machine booted and ready!\nGuestAdditions versions on your host (4.3.10) and guest (4.2.16) do not match.\n * Stopping VirtualBox Additions\n   ...done.\nReading package lists...\nBuilding dependency tree...\nReading state information...\nThe following packages were automatically installed and are no longer required:\n  dkms libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libfontenc1\n  libgl1-mesa-dri libglapi-mesa libice6 libllvm3.3 libpciaccess0 libpixman-1-0\n  libsm6 libtxc-dxtn-s2tc0 libxaw7 libxcomposite1 libxdamage1 libxfixes3\n  libxfont1 libxkbfile1 libxmu6 libxpm4 libxrandr2 libxrender1 libxt6\n  x11-common x11-xkb-utils xfonts-base xfonts-encodings xfonts-utils\n  xserver-common xserver-xorg-core\nUse 'apt-get autoremove' to remove them.\nThe following packages will be REMOVED:\n  virtualbox-guest-dkms* virtualbox-guest-utils* virtualbox-guest-x11*\n0 upgraded, 0 newly installed, 3 to remove and 0 not upgraded.\nAfter this operation, 11.1 MB disk space will be freed.\n(Reading database ... 65615 files and directories currently installed.)\nRemoving virtualbox-guest-dkms ...\n\n-------- Uninstall Beginning --------\nModule:  virtualbox-guest\nVersion: 4.2.16\nKernel:  3.11.0-18-generic (i686)\n-------------------------------------\n\nStatus: Before uninstall, this module version was ACTIVE on this kernel.\n\nvboxguest.ko:\n - Uninstallation\n   - Deleting from: /lib/modules/3.11.0-18-generic/updates/dkms/\n - Original module\n   - No original module was found for this module on this kernel.\n   - Use the dkms install command to reinstall any previous module version.\n\n\nvboxsf.ko:\n - Uninstallation\n   - Deleting from: /lib/modules/3.11.0-18-generic/updates/dkms/\n - Original module\n   - No original module was found for this module on this kernel.\n   - Use the dkms install command to reinstall any previous module version.\n\n\nvboxvideo.ko:\n - Uninstallation\n   - Deleting from: /lib/modules/3.11.0-18-generic/updates/dkms/\n - Original module\n   - No original module was found for this module on this kernel.\n   - Use the dkms install command to reinstall any previous module version.\n\ndepmod....\n\nDKMS: uninstall completed.\n\n------------------------------\nDeleting module version: 4.2.16\ncompletely from the DKMS tree.\n------------------------------\nDone.\nRemoving virtualbox-guest-x11 ...\nPurging configuration files for virtualbox-guest-x11 ...\nRemoving virtualbox-guest-utils ...\nPurging configuration files for virtualbox-guest-utils ...\nProcessing triggers for ureadahead ...\nProcessing triggers for man-db ...\nReading package lists...\nBuilding dependency tree...\nReading state information...\ndkms is already the newest version.\ndkms set to manually installed.\nlinux-headers-3.11.0-18-generic is already the newest version.\nlinux-headers-3.11.0-18-generic set to manually installed.\nThe following packages were automatically installed and are no longer required:\n  libdrm-intel1 libdrm-nouveau2 libdrm-radeon1 libfontenc1 libgl1-mesa-dri\n  libglapi-mesa libice6 libllvm3.3 libpciaccess0 libpixman-1-0 libsm6\n  libtxc-dxtn-s2tc0 libxaw7 libxcomposite1 libxdamage1 libxfixes3 libxfont1\n  libxkbfile1 libxmu6 libxpm4 libxrandr2 libxrender1 libxt6 x11-common\n  x11-xkb-utils xfonts-base xfonts-encodings xfonts-utils xserver-common\n  xserver-xorg-core\nUse 'apt-get autoremove' to remove them.\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nCopy iso file /usr/share/virtualbox/VBoxGuestAdditions.iso into the box /tmp/VBoxGuestAdditions.iso\nmount: block device /tmp/VBoxGuestAdditions.iso is write-protected, mounting read-only\nInstalling Virtualbox Guest Additions 4.3.10 - guest version is 4.2.16\nVerifying archive integrity... All good.\nUncompressing VirtualBox 4.3.10 Guest Additions for Linux............\nVirtualBox Guest Additions installer\nCopying additional installer modules ...\nInstalling additional modules ...\nRemoving existing VirtualBox DKMS kernel modules ...done.\nRemoving existing VirtualBox non-DKMS kernel modules ...done.\nBuilding the VirtualBox Guest Additions kernel modules ...done.\nDoing non-kernel setup of the Guest Additions ...done.\nStarting the VirtualBox Guest Additions ...done.\nInstalling the Window System drivers\nCould not find the X.Org or XFree86 Window System, skipping.\nAn error occurred during installation of VirtualBox Guest Additions 4.3.10. Some functionality may not work as intended.\nIn most cases it is OK that the \"Window System drivers\" installation failed.\n==&gt; default: Checking for guest additions in VM...\n==&gt; default: Setting hostname...\n==&gt; default: Configuring and enabling network interfaces...\n==&gt; default: Exporting NFS shared folders...\n==&gt; default: Preparing to edit /etc/exports. Administrator privileges will be required...\nnfsd running\nsudo: /usr/bin/exportfs: command not found\n==&gt; default: Mounting NFS shared folders...\n==&gt; default: Mounting shared folders...\n    default: /vagrant =&gt; /home/me/Documents/Work/project/vagrant\nFailed to mount folders in Linux guest. This is usually because\nthe \"vboxsf\" file system is not available. Please verify that\nthe guest additions are properly installed in the guest and\ncan work properly. The command attempted was:\n\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`getent group vagrant | cut -d: -f3` /vagrant /vagrant\nmount -t vboxsf -o uid=`id -u vagrant`,gid=`id -g vagrant` /vagrant /vagrant\n</code></pre>\n\n<p>My Vagrantfile configuration is :</p>\n\n<pre><code># -*- mode: ruby -*-\n# vi: set ft=ruby :\n\n# Vagrantfile API/syntax version. Don't touch unless you know what you're doing!\nVAGRANTFILE_API_VERSION = \"2\"\n\npersonalization = File.expand_path(\"../Personalization\", __FILE__)\nload personalization\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n  config.vm.box = $base_box\n  config.vm.box_url = $base_box_url\n\n  config.vm.hostname = $vhost + \".dev\"\n\n  config.hostsupdater.aliases = [\"api.\" + $vhost + \".dev\", \"mysql.\" + $vhost + \".dev\"]\n  config.hostsupdater.remove_on_suspend = true\n\n  # set auto_update to ture to check the correct \n  # additions version when booting the machine\n  config.vbguest.auto_update = true\n  config.vbguest.auto_reboot = true\n\n  config.vm.network :private_network, ip: $ip\n\n  config.vm.synced_folder \"../\", \"/srv/www/vhosts/\" + $vhost + \".dev\", type: \"nfs\"\n\n  config.vm.provider :virtualbox do |v|\n    v.customize [\"modifyvm\", :id, \"--memory\", 2048]\n    v.customize [\"modifyvm\", :id, \"--cpus\", \"1\"]\n    v.customize [\"modifyvm\", :id, \"--cpuexecutioncap\", \"100\"]\n    v.customize [\"modifyvm\", :id, \"--ioapic\", \"off\"]\n    v.customize [\"modifyvm\", :id, \"--natdnshostresolver1\", \"on\"]\n  end\n\n  config.vm.provision \"shell\" do |s|\n    s.path = \"vagrant-bootstrap.sh\"\n    s.args = $vhost + \" \" + $mysql_password + \" \" + $application_database\n  end\nend\n</code></pre>\n\n<p>The Personalization file is :</p>\n\n<pre><code># Name of the vhost to create\n$vhost = \"project\"\n\n# Use the Ubunut 32bit or 64bit\n$base_box_url = \"http://cloud-images.ubuntu.com/vagrant/saucy/current/saucy-server-cloudimg-i386-vagrant-disk1.box\"\n\n# VM IP\n$ip = \"192.168.7.7\"\n\n# Base box name\n$base_box = \"u131032\"\n\n# MySQL\n$mysql_password = \"admin\"\n$application_database = \"project\"\n</code></pre>\n\n<p>The following plugins are enabled in Vagrant:</p>\n\n<pre><code>$ vagrant plugin list\nvagrant-hostsupdater (0.0.11)\nvagrant-login (1.0.1, system)\nvagrant-share (1.0.1, system)\nvagrant-vbguest (0.10.0)\n</code></pre>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "answers": [{"body": "<p>Your log complains about not finding exportfs:\n     <code>sudo: /usr/bin/exportfs: command not found</code></p>\n\n<p>The exportfs makes local directories available for NFS clients to mount.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/22717617#22717617", "question_id": 22717428, "answer_id": 22717617}, {"body": "<p>I found this issue addressed here <a href=\"https://github.com/mitchellh/vagrant/issues/3341\">vagrant issues.</a> Two ways to do it:</p>\n\n<ol>\n<li><p>Run this on guest (i.e. after you ssh into vbox via <code>vagrant ssh</code> )</p>\n\n<pre><code>sudo ln -s /opt/VBoxGuestAdditions-4.3.10/lib/VBoxGuestAdditions /usr/lib/VBoxGuestAdditions\n</code></pre>\n\n<p>Then run <code>vagrant reload</code> to correctly mount the folders. </p></li>\n<li><p>As @klang pointed out, update the VBoxGuestAdditions.iso file on your mac:</p>\n\n<pre><code>wget https://www.virtualbox.org/download/testcase/VBoxGuestAdditions_4.3.11-93070.iso\u200c\u200b\nsudo cp VBoxGuestAdditions_4.3.11-93070.iso /Applications/VirtualBox.app/Contents/MacOS/VBoxGuestAdditions.iso\n</code></pre></li>\n</ol>\n\n<h1>UPDATE (16may2014)</h1>\n\n<p>Since the iso is no longer available, you can use the 4.3.12 one (<a href=\"http://dlc.sun.com.edgesuite.net/virtualbox/4.3.12/VBoxGuestAdditions_4.3.12.iso\">http://dlc.sun.com.edgesuite.net/virtualbox/4.3.12/VBoxGuestAdditions_4.3.12.iso</a>)</p>\n\n<p>note : the binary vbox4.3.12 for os X is not available at this time</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/22723807#22723807", "question_id": 22717428, "answer_id": 22723807}, {"body": "<p>(from my comment above)</p>\n\n<p>Following the problem to it's roots: , specifically the part in the comments saying this:</p>\n\n<pre><code>wget https://www.virtualbox.org/download/testcase/VBoxGuestAdditions_4.3.11-93070.iso\u200c\u200b \nsudo cp VBoxGuestAdditions_4.3.11-93070.iso /Applications/VirtualBox.app/Contents/MacOS/VBoxGuestAdditions.iso\n</code></pre>\n\n<p>After doing that, I have business as usual with all my virtual machines (and their current Vagrantfiles, of course)</p>\n\n<p>When you have to do something in a freshly created virtual machine, to make it work, something is wrong.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/22979813#22979813", "question_id": 22717428, "answer_id": 22979813}, {"body": "<p>This seems to be due to an incompatibility with the vbguest vagrant plugin and the latest version(s) of vagrant. It is trying to update the guest additions and failing to do it completely/properly.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/22998661#22998661", "question_id": 22717428, "answer_id": 22998661}, {"body": "<p>As mentioned in <a href=\"https://github.com/mitchellh/vagrant/issues/3341\" rel=\"nofollow\">Vagrant issue #3341</a> this was a <a href=\"https://www.virtualbox.org/ticket/12879\" rel=\"nofollow\">Virtualbox bug #12879</a>.</p>\n\n<p>It affects only VirtualBox 4.3.10 and was completely fixed in 4.3.12.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/23042568#23042568", "question_id": 22717428, "answer_id": 23042568}, {"body": "<p>One more step I had to complete after following the first suggestion that <a href=\"https://stackoverflow.com/users/3470565/kenzie\">kenzie</a> made was to run the <code>mount</code> commands listed in the error message with <code>sudo</code> from the Ubuntu command line [14.04 Server]. After that, everything was good to go!</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/23661850#23661850", "question_id": 22717428, "answer_id": 23661850}, {"body": "<p>The plugin vagrant-vbguest <a href=\"https://github.com/dotless-de/vagrant-vbguest\"><img src=\"http://i.stack.imgur.com/hD37w.png\" width=\"16\" height=\"16\" alt=\"GitHub\"></a> <a href=\"https://rubygems.org/gems/vagrant-vbguest\"><img src=\"http://i.stack.imgur.com/MEQSm.png\" alt=\"RubyGems\"></a> solved my problem: </p>\n\n<pre><code>$ vagrant plugin install vagrant-vbguest\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ vagrant reload\n==&gt; default: Attempting graceful shutdown of VM...\n...\n==&gt; default: Machine booted and ready!\nGuestAdditions 4.3.12 running --- OK.\n==&gt; default: Checking for guest additions in VM...\n==&gt; default: Configuring and enabling network interfaces...\n==&gt; default: Exporting NFS shared folders...\n==&gt; default: Preparing to edit /etc/exports. Administrator privileges will be required...\n==&gt; default: Mounting NFS shared folders...\n==&gt; default: VM already provisioned. Run `vagrant provision` or use `--provision` to force it\n</code></pre>\n\n<p>Just make sure you are running the latest version of VirtualBox</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/23752848#23752848", "question_id": 22717428, "answer_id": 23752848}, {"body": "<p>I arrived at this page whilst looking for the same error message. \nFor me the cause was different: I had ran a <code>yum update</code> on the system that installed a new kernel. The guest additions where out of date so it couldn't load them. </p>\n\n<p>I rebuilt them with</p>\n\n<pre><code>sudo /etc/init.d/vboxadd setup \n</code></pre>\n\n<p>And a <code>vagrant reload</code> later my guest was up and running again.</p>\n\n<p>I'm just adding it here in case someone else gets here the same way I did.</p>\n\n<p><em>Edit (Per KCD's comment):</em><br>\nIt is possible that you get an error saying:</p>\n\n<blockquote>\n  <p>The headers for the current running kernel were not found</p>\n</blockquote>\n\n<p>This can be resolved by installing <code>kernel-devel</code> (<code>yum install kernel-devel</code>)</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/26902612#26902612", "question_id": 22717428, "answer_id": 26902612}, {"body": "<p><strong>Fix Step by step:</strong></p>\n\n<p>If you not have vbguest plugin, install it:</p>\n\n<pre><code>$ vagrant plugin install vagrant-vbguest\n</code></pre>\n\n<p>Run Vagrant</p>\n\n<p>It is show a error.</p>\n\n<pre><code>$ vagrant up\n</code></pre>\n\n<p>Login on VM</p>\n\n<pre><code>$ vagrant ssh\n</code></pre>\n\n<p><strong>Fix!</strong></p>\n\n<p>In the guest (VM logged).</p>\n\n<pre><code>$ sudo ln -s /opt/VBoxGuestAdditions-4.3.10/lib/VBoxGuestAdditions /usr/lib/VBoxGuestAdditions\n</code></pre>\n\n<p>Back on the host, reload Vagrant</p>\n\n<pre><code>$ vagrant reload\n</code></pre>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/28676397#28676397", "question_id": 22717428, "answer_id": 28676397}, {"body": "<p>In configuration where windows is a host, and linux is a guest I found solution of the same problem in other place.</p>\n\n<p>So again, the error message was <em>\"Failed to mount folders in Linux guest. This is usually because the \"vboxsf\" file system is not available.\" (...)</em></p>\n\n<p>This was caused because I have made mistake by doing symlink inside the guest system from /vagrant into /home/vagrant/vagrant. The point is, that the directory /vagrant is a normal linux directory that has a symlink (so all ok), but when booting up by \"vagrant up\", it tries to mount windows directory on that place, and windows directory cannot work as a symlink. Windows host does not support linux symlinks.</p>\n\n<p>So what You can do then, is to ssh into guest, remove the symlink wherever You have it, and reload machine.</p>\n\n<p>In my configuration it was: Vagrant 1.7.2, VBoxGuestAdditions 4.3.28 and VBox 4.3.28.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/31108371#31108371", "question_id": 22717428, "answer_id": 31108371}, {"body": "<p>I believe this is the most updated answer now and it worked for me ( <code>Guest Additions Version: 5.0.6</code>, <code>VirtualBox Version: 4.3.16</code>, <code>Ubuntu 14.04 LTS</code>)</p>\n\n<p><a href=\"https://github.com/mitchellh/vagrant/issues/3341#issuecomment-144271026\" rel=\"nofollow\">https://github.com/mitchellh/vagrant/issues/3341#issuecomment-144271026</a></p>\n\n<p>Basically i says:</p>\n\n<pre><code>Simple and Quick Solution for Failed to mount folders in Linux guest issue.\n\nAdd the following line to your Homestead/Vagrantfile:\n\nconfig.vbguest.auto_update = false\nYour Homestead/Vagrantfile should looks like this:\n\n/...\n\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\n\n   # To avoid install and uninstall VBoxGuessAdditions during vagrant provisioning.\n    config.vbguest.auto_update = false\n\n.../\nSave it and execute\n\n$ vagrant destroy --force\n$ vagrant up\n</code></pre>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/33421795#33421795", "question_id": 22717428, "answer_id": 33421795}, {"body": "<p>Just for future reference, this problem happened with me, using Vagrant 1.7.4 and VirtualBox 5.0.10 r104061, when I provisioned a shared folder in <code>/</code> and created a symbolic link to my home folder. Something like this:</p>\n\n<pre><code>/folder\n~/folder -&gt; /folder\n</code></pre>\n\n<p>Apparently, this operation is not allowed by Vagrant due to security purposes and throws the described error.</p>\n\n<p>I solved it by provisioning the desired folder directly to my home directory, such as <code>/home/vagrant/folder</code>.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/34094560#34094560", "question_id": 22717428, "answer_id": 34094560}, {"body": "<p><strong>Update February 2016</strong></p>\n\n<p>This took me hours to solve independently. Yes, this problem does still exist with latest Vagrant and Virtual Box installs:</p>\n\n<pre><code>\u25b3  vagrant -v\nVagrant 1.8.1\n\u25b3  vboxmanage -v\n5.0.14r105127\n</code></pre>\n\n<p>The symptoms for me were messages something like: </p>\n\n<p><code>Checking for guest additions in VM... The guest additions on this VM do not match the installed version of VirtualBox!</code></p>\n\n<p>followed by a failure to mount NFS drives.</p>\n\n<p>1). Install the <code>vagrant-vbguest</code> plugin.</p>\n\n<p>Depending on version of Vagrant you are using, issue one of the following commands:</p>\n\n<pre><code># For vagrant &lt; 1.1.5\n$ vagrant gem install vagrant-vbguest\n\n# For vagrant 1.1.5+\n$ vagrant plugin install vagrant-vbguest\n</code></pre>\n\n<p>Next, do <code>vagrant halt</code>, followed by <code>vagrant up</code> - chances are you still have issues.</p>\n\n<p>2). ssh into your guest and setup a soft link to the correct version of Guest Additions (here, 5.0.14).</p>\n\n<pre><code>$ vagrant ssh\n\n$ sudo ln -s /opt/VBoxGuestAdditions-5.0.14/lib/VBoxGuestAdditions /usr/lib/VBoxGuestAdditions\n$ exit\n\n$ vagrant reload\n</code></pre>\n\n<p>You should be all good. By default, the mounted drive on guest is at <code>/vagrant</code></p>\n\n<p><strong>Final comment:</strong></p>\n\n<p>IF you still have problems related to mounting NFS drives, then here is a workaround that worked for me. I had a <code>vagrantfile</code> with config something like:</p>\n\n<p>Simply remove the mount <a href=\"https://www.vagrantup.com/docs/synced-folders/basic_usage.html#type\">type</a> information, and slim down the <a href=\"https://www.vagrantup.com/docs/synced-folders/basic_usage.html#mount_options\">mount_options</a> settings so they work universally. Vagrant will now automatically choose the best synced folder option for your environment.</p>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/35636618#35636618", "question_id": 22717428, "answer_id": 35636618}, {"body": "<p>I experienced the same issue with Centos 7, I assume due to an outdated kernel in combination with an updated version of VirtualBox. Based on Blizz's update, this is what worked for me (vagrant-vbguest plugin already installed):</p>\n\n<pre><code>vagrant ssh\nsudo yum -y install kernel-devel\nsudo yum -y update\nexit\nvagrant reload --provision\n</code></pre>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/35737634#35737634", "question_id": 22717428, "answer_id": 35737634}, {"body": "<p>Install the vagrant-vbguest plugin by running this command:</p>\n\n<pre><code>vagrant plugin install vagrant-vbguest\n</code></pre>\n", "title": "Vagrant error : Failed to mount folders in Linux guest", "tags": ["ubuntu", "virtualbox", "vagrant", "nfs"], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest/36931856#36931856", "question_id": 22717428, "answer_id": 36931856}], "link": "http://stackoverflow.com/questions/22717428/vagrant-error-failed-to-mount-folders-in-linux-guest", "question_id": 22717428}, {"body": "<p>I realize the Swift book provided an implementation of a random number generator.  Is the best practice to copy and paste this implementation in one's own program?  Or is there a library that does this that we can use now?</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "answers": [{"body": "<p>I've been able to just use <code>rand()</code> to get a random CInt. You can make it an Int by using something like this: </p>\n\n<pre><code>let myVar: Int = Int(rand())\n</code></pre>\n\n<p>You can use your favourite C random function, and just convert to value to Int if needed.</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/24007154#24007154", "question_id": 24007129, "answer_id": 24007154}, {"body": "<p>You can do it the same way that you would in C:</p>\n\n<pre><code>let randomNumber = arc4random()\n</code></pre>\n\n<p><code>randomNumber</code> is inferred to be of type <code>UInt32</code> (a 32-bit unsigned integer)</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/24007159#24007159", "question_id": 24007129, "answer_id": 24007159}, {"body": "<p>Use the standard library functions for high quality random numbers: <code>arc4random()</code> or <code>arc4random_uniform()</code>, just as in Objective-C.</p>\n\n<p>They are in the <code>Darwin</code> module, so if you haven't imported <code>AppKit</code>, <code>UIKit</code>, or <code>Foundation</code> (which import it for you), you will need to <code>import Darwin</code>.</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/24007169#24007169", "question_id": 24007129, "answer_id": 24007169}, {"body": "<p>Use arc4random_uniform(n) for a random integer between 0 and n-1 </p>\n\n<pre><code>  let diceRoll = Int(arc4random_uniform(6) + 1)\n</code></pre>\n\n<p>Cast the result to Int so you don't have to explicitly type your vars as UInt32 (which seems un-Swifty)</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/24098445#24098445", "question_id": 24007129, "answer_id": 24098445}, {"body": "<p>This method will generate a random <code>Int</code> value between the given minimum and maximum</p>\n\n<pre><code>func randomInt(min: Int, max:Int) -&gt; Int {\n    return min + Int(arc4random_uniform(UInt32(max - min + 1)))\n}\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/25023371#25023371", "question_id": 24007129, "answer_id": 25023371}, {"body": "<p><strong>Edit:</strong> <a href=\"https://gist.github.com/jstn/f9d5437316879c9c448a\" rel=\"nofollow\">Updated for Swift 3.0</a></p>\n\n<p><code>arc4random</code> works well in Swift, but the base functions are limited to 32-bit integer types (<code>Int</code> is 64-bit on iPhone 5S and modern Macs). Here's a generic function for a random number of a type expressible by an integer literal:</p>\n\n<pre><code>public func arc4random&lt;T: ExpressibleByIntegerLiteral&gt;(_ type: T.Type) -&gt; T {\n    var r: T = 0\n    arc4random_buf(&amp;r, MemoryLayout&lt;T&gt;.size)\n    return r\n}\n</code></pre>\n\n<p>We can use this new generic function to extend <code>UInt64</code>, adding boundary arguments and mitigating modulo bias. (This is lifted straight from <a href=\"http://www.opensource.apple.com/source/Libc/Libc-997.90.3/gen/FreeBSD/arc4random.c\" rel=\"nofollow\">arc4random.c</a>)</p>\n\n<pre><code>public extension UInt64 {\n    public static func random(lower: UInt64 = min, upper: UInt64 = max) -&gt; UInt64 {\n        var m: UInt64\n        let u = upper - lower\n        var r = arc4random(UInt64.self)\n\n        if u &gt; UInt64(Int64.max) {\n            m = 1 + ~u\n        } else {\n            m = ((max - (u * 2)) + 1) % u\n        }\n\n        while r &lt; m {\n            r = arc4random(UInt64.self)\n        }\n\n        return (r % u) + lower\n    }\n}\n</code></pre>\n\n<p>With that we can extend <code>Int64</code> for the same arguments, dealing with overflow:</p>\n\n<pre><code>public extension Int64 {\n    public static func random(lower: Int64 = min, upper: Int64 = max) -&gt; Int64 {\n        let (s, overflow) = Int64.subtractWithOverflow(upper, lower)\n        let u = overflow ? UInt64.max - UInt64(~s) : UInt64(s)\n        let r = UInt64.random(upper: u)\n\n        if r &gt; UInt64(Int64.max)  {\n            return Int64(r - (UInt64(~lower) + 1))\n        } else {\n            return Int64(r) + lower\n        }\n    }\n}\n</code></pre>\n\n<p>To complete the family...</p>\n\n<pre><code>private let _wordSize = __WORDSIZE\n\npublic extension UInt32 {\n    public static func random(lower: UInt32 = min, upper: UInt32 = max) -&gt; UInt32 {\n        return arc4random_uniform(upper - lower) + lower\n    }\n}\n\npublic extension Int32 {\n    public static func random(lower: Int32 = min, upper: Int32 = max) -&gt; Int32 {\n        let r = arc4random_uniform(UInt32(Int64(upper) - Int64(lower)))\n        return Int32(Int64(r) + Int64(lower))\n    }\n}\n\npublic extension UInt {\n    public static func random(lower: UInt = min, upper: UInt = max) -&gt; UInt {\n        switch (_wordSize) {\n            case 32: return UInt(UInt32.random(UInt32(lower), upper: UInt32(upper)))\n            case 64: return UInt(UInt64.random(UInt64(lower), upper: UInt64(upper)))\n            default: return lower\n        }\n    }\n}\n\npublic extension Int {\n    public static func random(lower: Int = min, upper: Int = max) -&gt; Int {\n        switch (_wordSize) {\n            case 32: return Int(Int32.random(Int32(lower), upper: Int32(upper)))\n            case 64: return Int(Int64.random(Int64(lower), upper: Int64(upper)))\n            default: return lower\n        }\n    }\n}\n</code></pre>\n\n<p>After all that, we can finally do something like this:</p>\n\n<pre><code>let diceRoll = UInt64.random(lower: 1, upper: 7)\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/25129039#25129039", "question_id": 24007129, "answer_id": 25129039}, {"body": "<p>I used this code:</p>\n\n<pre><code>var k: Int = random() % 10;\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/26766904#26766904", "question_id": 24007129, "answer_id": 26766904}, {"body": "<pre><code>var randomNumber = Int(arc4random_uniform(UInt32(**5**)))\n</code></pre>\n\n<p>Here 5 will make sure that the random number is generated though zero to five. You can set the value accordingly. </p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/30456304#30456304", "question_id": 24007129, "answer_id": 30456304}, {"body": "<p>You can use <code>GeneratorOf</code> like this:</p>\n\n<pre><code>var fibs = ArraySlice([1, 1])\nvar fibGenerator = GeneratorOf{\n    _ -&gt; Int? in\n    fibs.append(fibs.reduce(0, combine:+))\n    return fibs.removeAtIndex(0)\n}\n\nprintln(fibGenerator.next())\nprintln(fibGenerator.next())\nprintln(fibGenerator.next())\nprintln(fibGenerator.next())\nprintln(fibGenerator.next())\nprintln(fibGenerator.next())\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/30554218#30554218", "question_id": 24007129, "answer_id": 30554218}, {"body": "<p>I would like to add to existing answers that the random number generator example in the Swift book is a Linear Congruence Generator (LCG), it is a severely limited one and shouldn't be except for the must trivial examples, where quality of randomness doesn't matter at all. And <strong>a LCG should never be used for cryptographic purposes</strong>. </p>\n\n<p><code>arc4random()</code> is much better and can be used for most purposes, but again <strong>should not be used for cryptographic purposes.</strong></p>\n\n<p>If you want something that is guaranteed to be cryptographically secure, use <code>SecCopyRandomBytes()</code>.  Note that if you build a random number generator into something, someone else might end up (mis)-using it for cryptographic purposes (such as password, key or salt generation), then you should consider using <code>SecCopyRandomBytes()</code> anyway, even if your need doesn't quite require that.</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/30832557#30832557", "question_id": 24007129, "answer_id": 30832557}, {"body": "<p>As of iOS 9, you can use the new GameplayKit classes to generate random numbers in a variety of ways.</p>\n\n<p>You have four source types to choose from: a general random source (unnamed, down to the system to choose what it does), linear congruential, ARC4 and Mersenne Twister. These can generate random ints, floats and bools.</p>\n\n<p>At the simplest level, you can generate a random number from the system's built-in random source like this:</p>\n\n<pre><code>GKRandomSource.sharedRandom().nextInt()\n</code></pre>\n\n<p>That generates a number between -2,147,483,648 and 2,147,483,647. If you want a number between 0 and an upper bound (exclusive) you'd use this:</p>\n\n<pre><code>GKRandomSource.sharedRandom().nextIntWithUpperBound(6)\n</code></pre>\n\n<p>GameplayKit has some convenience constructors built in to work with dice. For example, you can roll a six-sided die like this:</p>\n\n<pre><code>let d6 = GKRandomDistribution.d6()\nd6.nextInt()\n</code></pre>\n\n<p>Plus you can shape the random distribution by using things like GKShuffledDistribution. That takes a little more explaining, but if you're interested you can <a href=\"http://www.hackingwithswift.com/read/35/overview\">read my tutorial on GameplayKit random numbers</a>.</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/31215189#31215189", "question_id": 24007129, "answer_id": 31215189}, {"body": "<pre><code>func randomNumForSwift2() throws -&gt; Int{\n    enum RandomError:ErrorType{\n        case Error\n    }\n    let bytes :UnsafeMutablePointer&lt;UInt8&gt; = UnsafeMutablePointer&lt;UInt8&gt;.alloc(1024)\n    guard SecRandomCopyBytes(kSecRandomDefault, 1024, bytes) == 0 else{\n        throw RandomError.Error\n    }\n    return bytes.hashValue\n}\ntry randomNumForSwift2()\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/32545827#32545827", "question_id": 24007129, "answer_id": 32545827}, {"body": "<h1>Use <code>arc4random_uniform()</code></h1>\n\n<p><strong>Usage:</strong></p>\n\n<p><code>arc4random_uniform(someNumber: UInt32) -&gt; UInt32</code></p>\n\n<p>This gives you random integers in the range <code>0</code> to <code>someNumber - 1</code>. </p>\n\n<p>The maximum value for <code>UInt32</code> is 4,294,967,295 (that is, <code>2^32 - 1</code>).</p>\n\n<p><strong>Examples:</strong></p>\n\n<ul>\n<li><p>Coin flip</p>\n\n<pre><code>let flip = arc4random_uniform(2) // 0 or 1\n</code></pre></li>\n<li><p>Dice roll</p>\n\n<pre><code>let roll = arc4random_uniform(6) + 1 // 1...6\n</code></pre></li>\n<li><p>Random day in October</p>\n\n<pre><code>let day = arc4random_uniform(31) + 1 // 1...31\n</code></pre></li>\n<li><p>Random year in the 1990s</p>\n\n<pre><code>let year = 1990 + arc4random_uniform(10)\n</code></pre></li>\n</ul>\n\n<p><strong>General form:</strong></p>\n\n<pre><code>let number = min + arc4random_uniform(max - min + 1)\n</code></pre>\n\n<p>where <code>number</code>, <code>max</code>, and <code>min</code> are <code>UInt32</code>.</p>\n\n<h1>What about...</h1>\n\n<p><strong>arc4random()</strong></p>\n\n<p>You can also get a random number by using <code>arc4random()</code>, which produces a <code>UInt32</code> between 0 and 2^32-1. Thus to get a random number between <code>0</code> and <code>x-1</code>, you can divide it by <code>x</code> and take the remainder. Or in other words, use the <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/BasicOperators.html\">Remainder Operator (%)</a>:</p>\n\n<pre><code>let number = arc4random() % 5 // 0...4\n</code></pre>\n\n<p>However, this produces the slight <a href=\"http://stackoverflow.com/questions/10984974/why-do-people-say-there-is-modulo-bias-when-using-a-random-number-generator\">modulo bias</a> (see also <a href=\"http://stackoverflow.com/a/29956021/3681880\">here</a> and <a href=\"http://stackoverflow.com/a/17640956/3681880\">here</a>), so that is why <code>arc4random_uniform()</code> is recommended.</p>\n\n<p><strong>Converting to and from <code>Int</code></strong></p>\n\n<p>Normally it would be fine to do something like this in order to convert back and forth between <code>Int</code> and <code>UInt32</code>:</p>\n\n<pre><code>let number: Int = 10\nlet random = Int(arc4random_uniform(UInt32(number)))\n</code></pre>\n\n<p>The problem, though, is that <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html\"><code>Int</code></a> has a range of <code>-2,147,483,648...2,147,483,647</code> on 32 bit systems and a range of <code>-9,223,372,036,854,775,808...9,223,372,036,854,775,807</code> on 64 bit systems. Compare this to the <code>UInt32</code> range of <code>0...4,294,967,295</code>. The <code>U</code> of <code>UInt32</code> means <em>unsigned</em>.</p>\n\n<p>Consider the following errors:</p>\n\n<pre><code>UInt32(-1) // negative numbers cause integer overflow error\nUInt32(4294967296) // numbers greater than 4,294,967,295 cause integer overflow error\n</code></pre>\n\n<p>So you just need to be sure that your input parameters are within the <code>UInt32</code> range and that you don't need an output that is outside of that range either.</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/32961321#32961321", "question_id": 24007129, "answer_id": 32961321}, {"body": "<p>Here is a library that does the job well\n<a href=\"https://github.com/thellimist/SwiftRandom\">https://github.com/thellimist/SwiftRandom</a></p>\n\n<pre><code>public extension Int {\n    /// SwiftRandom extension\n    public static func random(lower: Int = 0, _ upper: Int = 100) -&gt; Int {\n        return lower + Int(arc4random_uniform(UInt32(upper - lower + 1)))\n    }\n}\n\npublic extension Double {\n    /// SwiftRandom extension\n    public static func random(lower: Double = 0, _ upper: Double = 100) -&gt; Double {\n        return (Double(arc4random()) / 0xFFFFFFFF) * (upper - lower) + lower\n    }\n}\n\npublic extension Float {\n    /// SwiftRandom extension\n    public static func random(lower: Float = 0, _ upper: Float = 100) -&gt; Float {\n        return (Float(arc4random()) / 0xFFFFFFFF) * (upper - lower) + lower\n    }\n}\n\npublic extension CGFloat {\n    /// SwiftRandom extension\n    public static func random(lower: CGFloat = 0, _ upper: CGFloat = 1) -&gt; CGFloat {\n        return CGFloat(Float(arc4random()) / Float(UINT32_MAX)) * (upper - lower) + lower\n    }\n}\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/33122124#33122124", "question_id": 24007129, "answer_id": 33122124}, {"body": "<p>Without arc4Random_uniform() in some versions of Xcode(in 7.1 it runs but doesn't autocomplete for me). You can do this instead. </p>\n\n<p>To generate a random number from 0-5.\nFirst</p>\n\n<pre><code>import GameplayKit\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>let diceRoll = GKRandomSource.sharedRandom().nextIntWithUpperBound(6)\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/33427816#33427816", "question_id": 24007129, "answer_id": 33427816}, {"body": "<p>Example for random number in between 10 (0-9);</p>\n\n<pre><code>import UIKit\n\nlet randomNumber = Int(arc4random_uniform(10))\n</code></pre>\n\n<p>Very easy code - simple and short.</p>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/34568244#34568244", "question_id": 24007129, "answer_id": 34568244}, {"body": "<pre><code> let MAX : UInt32 = 9\n let MIN : UInt32 = 1\n\n    func randomNumber()\n{\n    var random_number = Int(arc4random_uniform(MAX) + MIN)\n    print (\"random = \", random_number);\n}\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/34899849#34899849", "question_id": 24007129, "answer_id": 34899849}, {"body": "<p>I use this code to generate a random number:    </p>\n\n<pre><code>//\n//  FactModel.swift\n//  Collection\n//\n//  Created by Ahmadreza Shamimi on 6/11/16.\n//  Copyright \u00a9 2016 Ahmadreza Shamimi. All rights reserved.\n//\n\nimport GameKit\n\nstruct FactModel {\n\n    let fun  = [\"I love swift\",\"My name is Ahmadreza\",\"I love coding\" ,\"I love PHP\",\"My name is ALireza\",\"I love Coding too\"]\n\n\n    func getRandomNumber() -&gt; String {\n\n        let randomNumber  = GKRandomSource.sharedRandom().nextIntWithUpperBound(fun.count)\n\n        return fun[randomNumber]\n    }\n}\n</code></pre>\n", "title": "How does one generate a random number in Apple&#39;s Swift language?", "tags": ["swift", "random"], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language/37770275#37770275", "question_id": 24007129, "answer_id": 37770275}], "link": "http://stackoverflow.com/questions/24007129/how-does-one-generate-a-random-number-in-apples-swift-language", "question_id": 24007129}, {"body": "<p>I am new to OWIN and Katana. I really don't get why I should use OWIN, while I can use <code>IIS</code>. To simplify, my question is: What do I lose if I skip learning OWIN and use IIS for my websites?</p>\n\n<p>I googled but there is not a simple explanation. There is some information <a href=\"http://stackoverflow.com/questions/18058799/owin-and-katana-why-decouple-the-application-from-the-server\">here</a>, but they use some jargon phrases so I cannot understand it.</p>\n", "title": "When should I use OWIN Katana?", "tags": ["asp.net", "asp.net-mvc", "owin", "katana"], "answers": [{"body": "<p>In asp.net WebApi v2, the OWIN pipeline becomes the default. It is eventually going to be the standard pipeline under any asp.net project.</p>\n\n<p>I cannot put it better than what is written here : <a href=\"http://www.asp.net/aspnet/overview/owin-and-katana/an-overview-of-project-katana\">http://www.asp.net/aspnet/overview/owin-and-katana/an-overview-of-project-katana</a></p>\n\n<p>The section <em>\"The Open Web Interface for .NET (OWIN)\"</em> explains perfectly the goals of OWIN.  </p>\n\n<p>Without OWIN, the asp.net bits are coupled to the way IIS communicates with the application. OWIN abstracts web servers and framework components. That means that your application code will now be aware of the OWIN interface, but not of the webserver that is serving the request.</p>\n\n<p>In return, applications can be more easily ported between hosts and potentially entire platforms/operating systems. For example, the ability to host an application in a console or any process allows Mono to host it without efforts... (Raspberry Pi anyone)</p>\n\n<p>The second aspect is that it works as a pipeline. </p>\n\n<hr>\n\n<p><img src=\"http://i.stack.imgur.com/ttUnO.png\" alt=\"Owin Pipeline\"></p>\n\n<hr>\n\n<p>You can plug any middlewares (and as many as you want) between the webserver and your application.<br>\nThis allows for more modular solutions. You can develop redistributable middlewares that can impact the request/response coming to/from your application, but keep these modules separated from the application code.</p>\n\n<p>To persuade yourself of the benefits of this modular approach, take a look at the nuget packages available for OWIN :  <a href=\"http://www.nuget.org/packages?q=owin\">http://www.nuget.org/packages?q=owin</a></p>\n\n<p>A lot of these packages were previously core asp.net functionality, and have been extracted as middleware.<br>\nFor example, adding support to login using various OAuth providers becomes an infrastructure concern (a middleware) and does not need to be part of your application code anymore : </p>\n\n<ul>\n<li><a href=\"http://www.nuget.org/packages/Microsoft.Owin.Security.Google/\">http://www.nuget.org/packages/Microsoft.Owin.Security.Google/</a></li>\n<li><a href=\"http://www.nuget.org/packages/Microsoft.Owin.Security.Facebook/\">http://www.nuget.org/packages/Microsoft.Owin.Security.Facebook/</a></li>\n<li><a href=\"http://www.nuget.org/packages/Microsoft.Owin.Security.ActiveDirectory/\">http://www.nuget.org/packages/Microsoft.Owin.Security.ActiveDirectory/</a><br>\n...</li>\n</ul>\n\n<p>Or if you want to automatically replace all the images from your website by cute cat images, you can do that transparently as well :</p>\n\n<p><a href=\"https://github.com/serbrech/Owin.Catify\">https://github.com/serbrech/Owin.Catify</a></p>\n\n<p>EDIT : It is now available as a nuget package : <a href=\"http://www.nuget.org/packages/Owin.Catify\">Owin.Catify</a>!  </p>\n", "title": "When should I use OWIN Katana?", "tags": ["asp.net", "asp.net-mvc", "owin", "katana"], "link": "http://stackoverflow.com/questions/21308585/when-should-i-use-owin-katana/21308836#21308836", "question_id": 21308585, "answer_id": 21308836}, {"body": "<p>A simpler version of that answer is that Katana is gong to fully replace System.Web assembly and the old ASP.NET pipeline, which gives you both better flexibility (use it in more scenarios and use only the parts you like) and performance.</p>\n\n<p>So everyone should watch its evolution now and be ready to switch when it is finally completed.</p>\n\n<p>Below is a diagram I drew to fill in the details Microsoft fails to include in <a href=\"http://www.asp.net/aspnet/overview/owin-and-katana/an-overview-of-project-katana\">this article</a>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/rqf4D.png\" alt=\"enter image description here\"></p>\n\n<p>OWIN is such a standard that it let application frameworks run upon it and forget about everything beneath it. On the other hand, OWIN itself utilizes various host adapters to make sure it can talk to the underlying web servers (IIS and many others).</p>\n\n<p>I am now working with the Jexus web server author to investigate how we can write a host adapter to bridge OWIN/Katana and Jexus. We are really happy to learn that OWIN is flexible and highly customizable.</p>\n\n<p>Reference:\n<a href=\"http://blog.lextudio.com/2014/06/why-owin-matters-a-lot-for-asp-net-developers/\">http://blog.lextudio.com/2014/06/why-owin-matters-a-lot-for-asp-net-developers/</a></p>\n", "title": "When should I use OWIN Katana?", "tags": ["asp.net", "asp.net-mvc", "owin", "katana"], "link": "http://stackoverflow.com/questions/21308585/when-should-i-use-owin-katana/21311071#21311071", "question_id": 21308585, "answer_id": 21311071}, {"body": "<pre><code>public interface OWIN\n{\n   void ListenHttpCallAndServeWebPage();    \n}\n\nnamespace Microsoft.OWIN\n{\n   public class Katana : OWIN\n   {\n      public void ListenHttpCallAndServeWebPage()\n      {\n         // listen to a port for HTTP call and serve web page\n      } \n   }\n}\n</code></pre>\n\n<p>Yes, thats right. OWIN is an <strong>interface</strong> and Katana is an <strong>implementation</strong> of OWIN interface by <strong>Microsoft</strong>. Therefore we hear these 2 words (OWIN / KATANA) together and manytimes we get confused between the difference between these 2 terms. So, Katana is Microsoft's implementation of OWIN interface. Say there is another company named BIG-BOSS who wanted to create their own implementation of OWIN, they can do that and name their implementation as 'BATANA' and advertise phrases like OWIN / BATANA.</p>\n\n<p><strong>So, why OWIN !!!</strong></p>\n\n<p>Think about a country where the only vehicle available for movement is a truck. Nothing else. If you want to buy a vehicle, you would buy truck. Well, that used to serve good but people started to realize that, they don't need truck all the time, specially when they want to go to watch a movie or buy milk, driving a heavy truck not only costs high fuel, but also add stress on driving. But yes, if they want to carry lots of heavy stuffs, truck serves the purpose very well.</p>\n\n<p>Then, the Government of that country came up with a specification for vehicle makers. The specification is as follows:</p>\n\n<ol>\n<li>A vehicle needs to have 4 wheels</li>\n<li>A vehicle must have a steering.</li>\n<li>A vehicle must have headlight and signal lights.</li>\n</ol>\n\n<p>So, based on these specifications, anyone can make vehicle according to different needs and they can name their vehicle accordingly. Therefore, Sedan, Pickup Truck, SUV, VAN, ..etc.. all kind of vehicle showed up in the market. If someone does not need to carry heavy stuffs all the time, rather needs a vehicle just for going to workplace, he/she can buy a little Sedan. Someone can buy SUV if he needs little more power.</p>\n\n<p>Based on the above example, we can say that our ASP.NET Web application uses System.Web Assembly which is heavily loaded (like a truck) and if we want to make a little Web Application where our purpose is just to serve some files based on a little set of requests, we are bound to use that heavy System.Web assembly (truck). Now, OWIN shows up. OWIN is a set of specification (we can call it interface) that defines a Server. Based on that specification, someone (like a vehicle maker) can make various kind of servers based on specific problem domains / application needs. Microsoft created their own Implementation for OWIN named Katana in the same way which can serve Web API. As WebAPI is a light weight technology, which does not need full blown System.Web things, a light weight Server implementation (like Katana) can boost the performance heavily when you use Web Api hosted on Katana.</p>\n\n<p>Now, if you ask, '<strong>Do I need it</strong>' ? Answer is, 'It depends on your need of performance'. If you dont mind driving your truck even for going to watch a movie, then, perhaps you do not need OWIN. But if you feel that, a light weight Sedan car is all you need to drive within a city, small distance, watch movie..etc.. yes, You may check what implementations of OWIN available in the market. Katana is one of the implementation of OWIN, therefore you can check what Katana offers. Not only Katana, if any other company implements OWIN according to specific Domain (for example, a server for Medical Devices which will download latest medicine information) and if you are a doctor, perhaps, you can check that implementation of OWIN. Moreover, you yourself can create your own implementation of OWIN targeting any specific niche. </p>\n\n<p>In terms of web applications, if you are a simple Web developer, developing custom Websites for your clients, perhaps, you do not need to worry about custom implementation of OWINs, because IIS will serve you in a balanced way. If you build a Web API project, you will get Katana based template ready made from Visual Studio -> New Project, so you wont have to worry about anything other than learning Katana specific techniques. At this moment, Katana is not mature enough to completely replace the need for IIS for ASP.NET MVC, but perhaps, in the future it will.</p>\n\n<p><strong>Then When I may need to write my own OWIN Implementation ?</strong></p>\n\n<p>Answer: Well, say for example, you have developed an Windows application which should run as a server in the background and listen to a port number XXXX. Your server will respond to only some set of Requests like this:</p>\n\n<ol>\n<li>GET Inventory</li>\n<li>DELETE Inventory ID=4</li>\n<li>PUT Inventory ID=5</li>\n</ol>\n\n<p>Thats all. And nothing else. So, why would you need a full IIS web server for this little task ? You can create your own OWIN implementation in that case. (Perhaps, you will use Katana for that)</p>\n\n<p><strong>Ok, so I understood that, if I want to make a ASP.NET MVC website, I dont have option to replace IIS, then why should I need to know about Katana at this moment ?</strong></p>\n\n<p>Answer: Even though Katana is not mature enough to replace the need of IIS so that you can host your ASP.NET MVC website directly on Katana, but Katana implemented many cool interfaces of OWIN so that you can take the advantage of using those features side by side. For example, allowing your users to login using Facebook, Google, Twitter etc was not very easy before. Katana gives you many hooks (as a middle-ware) so that you can let Katana take care of external Social Media based Authentication easily without writing plumbing code. There are many other benefits using Katana that you may find out when you start using this technology.</p>\n", "title": "When should I use OWIN Katana?", "tags": ["asp.net", "asp.net-mvc", "owin", "katana"], "link": "http://stackoverflow.com/questions/21308585/when-should-i-use-owin-katana/22951264#22951264", "question_id": 21308585, "answer_id": 22951264}, {"body": "<blockquote>\n  <p>Why I should use OWIN, while I can use IIS?</p>\n</blockquote>\n\n<p>OWIN is designed to decouple web servers from the frameworks you work under. It can make the applications lightweight and portable for the mixing frameworks and servers.</p>\n\n<p>And Katana is Microsoft\u2019s implementation of OWIN components. </p>\n\n<p>Since last few years Microsoft is making web tools more agile and responsive as the their plan is progressing. For an example, the development of ASP.Net MVC and ASP.Net Web API. They do not depend on System.Web dll which is a huge burden they feel now I think. Advantage is both developments fixes can be provided on a timely manner and the cycle is faster than ever. Also now developers can deploy these applications on custom OWIN hosts or Katana, which is a reference of OWIN implementation.</p>\n\n<p><strong><em>What's the point after all?</em></strong></p>\n\n<p>Microsoft has released a project which is a lightweight OWIN based web host on top of IIS, called `Helios. The goal is to avoid ASP.NET/IIS relationship by providing some independent small components that can be used, installed and manage independently running on a web-host that implements the OWIN specifications.</p>\n\n<p>One of the core reasons is the performance-factor. Helios will be able to achieve 2x-3x more throughput than standard ASP.Net application. In terms of memory consumption, Helios is much better than System.Web dll. In a taken benchmark Helios architecture allowed a sample application to achieve 50000 concurrent requests with approximately 1GB less overhead compare to a standard ASP.Net application. </p>\n", "title": "When should I use OWIN Katana?", "tags": ["asp.net", "asp.net-mvc", "owin", "katana"], "link": "http://stackoverflow.com/questions/21308585/when-should-i-use-owin-katana/24092038#24092038", "question_id": 21308585, "answer_id": 24092038}], "link": "http://stackoverflow.com/questions/21308585/when-should-i-use-owin-katana", "question_id": 21308585}, {"body": "<p>I've recently posted a <a href=\"http://stackoverflow.com/questions/23448150/techniques-for-tracing-constraints\">question</a> about <a href=\"https://github.com/emilaxelsson/syntactic\">syntactic-2.0</a> regarding the definition of <code>share</code>. I've had this working in <strong>GHC 7.6</strong>:</p>\n\n<pre><code>{-# LANGUAGE GADTs, TypeOperators, FlexibleContexts #-}\n\nimport Data.Syntactic\nimport Data.Syntactic.Sugar.BindingT\n\ndata Let a where\n    Let :: Let (a :-&gt; (a -&gt; b) :-&gt; Full b)\n\nshare :: (Let :&lt;: sup,\n          sup ~ Domain b, sup ~ Domain a,\n          Syntactic a, Syntactic b,\n          Syntactic (a -&gt; b),\n          SyntacticN (a -&gt; (a -&gt; b) -&gt; b) \n                     fi)\n           =&gt; a -&gt; (a -&gt; b) -&gt; b\nshare = sugarSym Let\n</code></pre>\n\n<p>However, GHC 7.8 wants <code>-XAllowAmbiguousTypes</code> to compile with that signature. Alternatively, I can replace the <code>fi</code> with </p>\n\n<pre><code>(ASTF sup (Internal a) -&gt; AST sup ((Internal a) :-&gt; Full (Internal b)) -&gt; ASTF sup (Internal b))\n</code></pre>\n\n<p>which is the type implied by the fundep on <code>SyntacticN</code>. This allows me to avoid the extension. Of course this is </p>\n\n<ul>\n<li>a very long type to add to an already-large signature</li>\n<li>tiresome to manually derive</li>\n<li>unnecessary due to the fundep</li>\n</ul>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Is this an acceptable use of <code>-XAllowAmbiguousTypes</code>?</li>\n<li>In general, when should this extension be used? An answer <a href=\"http://stackoverflow.com/questions/23461560/how-can-i-extract-this-polymorphic-recursion-function/23462397#23462397\">here</a> suggests \"it is almost never a good idea\".</li>\n<li><p>Though I've read <a href=\"http://www.haskell.org/ghc/docs/7.8.2/html/users_guide/other-type-extensions.html#ambiguity\">the docs</a>, I'm still having trouble deciding if a constraint is ambiguous or not. Specifically, consider this function from Data.Syntactic.Sugar:</p>\n\n<pre><code>sugarSym :: (sub :&lt;: AST sup, ApplySym sig fi sup, SyntacticN f fi) \n         =&gt; sub sig -&gt; f\nsugarSym = sugarN . appSym\n</code></pre>\n\n<p>It appears to me that <code>fi</code> (and possibly <code>sup</code>) should be ambiguous here, but it compiles without the extension. Why is <code>sugarSym</code> unambiguous while <code>share</code> is? Since <code>share</code> is an application of <code>sugarSym</code>, the <code>share</code> constraints all come straight from <code>sugarSym</code>.</p></li>\n</ol>\n", "title": "When is -XAllowAmbiguousTypes appropriate?", "tags": ["haskell", "ghc"], "answers": [{"body": "<p>I don't see any published version of syntactic whose signature for <code>sugarSym</code> uses those exact type names, so I'll be using <a href=\"https://github.com/emilaxelsson/syntactic/tree/8cfd021b8560a951b169cdaf0ac69a838e77de%5E\">the development branch at commit 8cfd02^</a>, the last version which still used those names.</p>\n\n<p>So, why does GHC complain about the <code>fi</code> in your type signature but not the one for <code>sugarSym</code>? The documentation you have linked to explains that a type is ambiguous if it doesn't appear to the right of the constraint, unless the constraint is using functional dependencies to infer the otherwise-ambiguous type from other non-ambiguous types. So let's compare the contexts of the two functions and look for functional dependencies.</p>\n\n<pre><code>class ApplySym sig f sym | sig sym -&gt; f, f -&gt; sig sym\nclass SyntacticN f internal | f -&gt; internal\n\nsugarSym :: ( sub :&lt;: AST sup\n            , ApplySym sig fi sup\n            , SyntacticN f fi\n            ) \n         =&gt; sub sig -&gt; f\n\nshare :: ( Let :&lt;: sup\n         , sup ~ Domain b\n         , sup ~ Domain a\n         , Syntactic a\n         , Syntactic b\n         , Syntactic (a -&gt; b)\n         , SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi\n         )\n      =&gt; a -&gt; (a -&gt; b) -&gt; b\n</code></pre>\n\n<p>So for <code>sugarSym</code>, the non-ambiguous types are <code>sub</code>, <code>sig</code> and <code>f</code>, and from those we should be able to follow functional dependencies in order to disambiguate all the other types used in the context, namely <code>sup</code> and <code>fi</code>. And indeed, the <code>f -&gt; internal</code> functional dependency in <code>SyntacticN</code> uses our <code>f</code> to disambiguate our <code>fi</code>, and thereafter the <code>f -&gt; sig sym</code> functional dependency in <code>ApplySym</code> uses our newly-disambiguated <code>fi</code> to disambiguate <code>sup</code> (and <code>sig</code>, which was already non-ambiguous). So that explains why <code>sugarSym</code> doesn't require the <code>AllowAmbiguousTypes</code> extension.</p>\n\n<p>Let's now look at <code>sugar</code>. The first thing I notice is that the compiler is <em>not</em> complaining about an ambiguous type, but rather, about overlapping instances:</p>\n\n<pre><code>Overlapping instances for SyntacticN b fi\n  arising from the ambiguity check for \u2018share\u2019\nMatching givens (or their superclasses):\n  (SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi1)\nMatching instances:\n  instance [overlap ok] (Syntactic f, Domain f ~ sym,\n                         fi ~ AST sym (Full (Internal f))) =&gt;\n                        SyntacticN f fi\n    -- Defined in \u2018Data.Syntactic.Sugar\u2019\n  instance [overlap ok] (Syntactic a, Domain a ~ sym,\n                         ia ~ Internal a, SyntacticN f fi) =&gt;\n                        SyntacticN (a -&gt; f) (AST sym (Full ia) -&gt; fi)\n    -- Defined in \u2018Data.Syntactic.Sugar\u2019\n(The choice depends on the instantiation of \u2018b, fi\u2019)\nTo defer the ambiguity check to use sites, enable AllowAmbiguousTypes\n</code></pre>\n\n<p>So if I'm reading this right, it's not that GHC thinks that your types are ambiguous, but rather, that while checking whether your types are ambiguous, GHC encountered a different, separate problem. It's then telling you that if you told GHC not to perform the ambiguity check, it would not have encountered that separate problem. This explains why enabling AllowAmbiguousTypes allows your code to compile.</p>\n\n<p>However, the problem with the overlapping instances remain. The two instances listed by GHC (<code>SyntacticN f fi</code> and <code>SyntacticN (a -&gt; f) ...</code>) do overlap with each other. Strangely enough, it seems like the first of these should overlap with any other instance, which is suspicious. And what does <code>[overlap ok]</code> mean?</p>\n\n<p>I suspect that Syntactic is compiled with OverlappingInstances. And looking at <a href=\"https://github.com/emilaxelsson/syntactic/blob/f29d78e51b43699cbb6d9a911b9b286081c763cd/src/Data/Syntactic/Sugar.hs#L1\">the code</a>, indeed it does.</p>\n\n<p>Experimenting a bit, it seems that GHC is okay with overlapping instances when it is clear that one is strictly more general than the other:</p>\n\n<pre><code>{-# LANGUAGE FlexibleInstances, OverlappingInstances #-}\n\nclass Foo a where\n  whichOne :: a -&gt; String\n\ninstance Foo a where\n  whichOne _ = \"a\"\n\ninstance Foo [a] where\n  whichOne _ = \"[a]\"\n\n-- |\n-- &gt;&gt;&gt; main\n-- [a]\nmain :: IO ()\nmain = putStrLn $ whichOne (undefined :: [Int])\n</code></pre>\n\n<p>But GHC is not okay with overlapping instances when neither is clearly a better fit than the other:</p>\n\n<pre><code>{-# LANGUAGE FlexibleInstances, OverlappingInstances #-}\n\nclass Foo a where\n  whichOne :: a -&gt; String\n\ninstance Foo (f Int) where  -- this is the line which changed\n  whichOne _ = \"f Int\"\n\ninstance Foo [a] where\n  whichOne _ = \"[a]\"\n\n-- |\n-- &gt;&gt;&gt; main\n-- Error: Overlapping instances for Foo [Int]\nmain :: IO ()\nmain = putStrLn $ whichOne (undefined :: [Int])\n</code></pre>\n\n<p>Your type signature uses <code>SyntacticN (a -&gt; (a -&gt; b) -&gt; b) fi</code>, and neither <code>SyntacticN f fi</code> nor <code>SyntacticN (a -&gt; f) (AST sym (Full ia) -&gt; fi)</code> is a better fit than the other. If I change that part of your type signature to <code>SyntacticN a fi</code> or <code>SyntacticN (a -&gt; (a -&gt; b) -&gt; b) (AST sym (Full ia) -&gt; fi)</code>, GHC no longer complains about the overlap.</p>\n\n<p>If I were you, I would look at <a href=\"https://github.com/emilaxelsson/syntactic/blob/f29d78e51b43699cbb6d9a911b9b286081c763cd/src/Data/Syntactic/Sugar.hs#L63\">the definition of those two possible instances</a> and determine whether one of those two implementations is the one you want.</p>\n", "title": "When is -XAllowAmbiguousTypes appropriate?", "tags": ["haskell", "ghc"], "link": "http://stackoverflow.com/questions/23684947/when-is-xallowambiguoustypes-appropriate/29825084#29825084", "question_id": 23684947, "answer_id": 29825084}], "link": "http://stackoverflow.com/questions/23684947/when-is-xallowambiguoustypes-appropriate", "question_id": 23684947}, {"body": "<p>I've looked everywhere and can't find a solid answer. According to the documentation, Java throws a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StackOverflowError.html\">java.lang.StackOverflowError</a> error under the following circumstance:</p>\n\n<blockquote>\n  <p>Thrown when a stack overflow occurs because an application recurses too deeply.</p>\n</blockquote>\n\n<p>But this raises two questions:</p>\n\n<ul>\n<li>Aren't there other ways for a stack overflow to occur, not only through recursion?</li>\n<li>Does the StackOverflowError happen before the JVM actually overflows the stack or after?</li>\n</ul>\n\n<p>To elaborate on the second question:</p>\n\n<p>When Java throws the StackOverflowError, can you safely assume that the stack did not write into the heap? If you shrink the size of the stack or heap in a try/catch on a function that throws a stack overflow, can you continue working? Is this documented anywhere?</p>\n\n<p>Answers I am not looking for:</p>\n\n<ul>\n<li>A StackOverflow happens because of bad recursion.</li>\n<li>A StackOverflow happens when the heap meets the stack.</li>\n</ul>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "answers": [{"body": "<p>It seems you're thinking that a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StackOverflowError.html\">stackoverflow error</a> is like a buffer overflow exception in native programs, when there is a risk of writing into memory that had not been allocated for the buffer, and thus to corrupt some other memory locations. It's not the case at all.</p>\n\n<p>JVM has a given memory allocated for each stack of each thread, and if an attempt to call a method happens to fill this memory, JVM throws an error. Just like it would do if you were trying to write at index N of an array of length N. No memory corruption can happen. The stack can not write into the heap.</p>\n\n<p>A StackOverflowError is to the stack what an OutOfMemoryError is to the heap: it simply signals that there is no more memory available.</p>\n\n<h2><a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.3\">Description from Virtual Machine Errors (\u00a76.3)</a></h2>\n\n<blockquote>\n  <p><strong>StackOverflowError</strong>: The Java Virtual Machine implementation has run out of stack space for a thread, typically because the thread is doing an unbounded number of recursive invocations as a result of a fault in the executing program.</p>\n</blockquote>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22182774#22182774", "question_id": 22182669, "answer_id": 22182774}, {"body": "<p>A StackOverflow happens when a function call is made and the stack is full.</p>\n\n<p>Just like an ArrayOutOfBoundException. It cannot corrupt anything, in fact it is very possible to catch it and recover from it.</p>\n\n<p>It usually happens as the result of an uncontrolled recursion, but it can also be caused by simply have a very deep stack of functions call.</p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22182830#22182830", "question_id": 22182669, "answer_id": 22182830}, {"body": "<blockquote>\n  <p>Aren't there other ways for a stack overflow to occur, not only through recursion?</p>\n</blockquote>\n\n<p>Sure. Just keep calling methods, without ever returning. You'll need a lot of methods, though, unless you allow recursion. Actually, it doesn't make a difference: a stack frame is a stack frame, whether it is one of a recursive method or not is the same.</p>\n\n<p>The answer to your second question is: The stackoverflow is detected when the JVM tries to allocate the stack frame for the next call, and finds it is not possible. So, nothing will be overwritten.</p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22182840#22182840", "question_id": 22182669, "answer_id": 22182840}, {"body": "<p>There is no \"StackOverFlowException\". What you mean is \"StackOverFlowError\".</p>\n\n<p>Yes you can continue working if you catch it because the stack is cleared when you do that but that would be a bad and ugly option.</p>\n\n<p>When exactly the error is thrown ? - When you call a method and the JVM verifies if there is enough memory to do it. Of course, the error is thrown if it's not possible.</p>\n\n<ul>\n<li>No, that is the only way you can get that error: getting your stack full. But not only through recursion, also calling methods that infinitely call other methods. It's a very specific error so no.</li>\n<li>It is thrown before the stack is full, exactly when you verify it. Where would you put the data if there is no space available ? Overriding others ? Naah.</li>\n</ul>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22183172#22183172", "question_id": 22182669, "answer_id": 22183172}, {"body": "<blockquote>\n  <p>Aren't there other ways for a stack overflow to occur, not only\n  through recursion?</p>\n</blockquote>\n\n<p>Challenge accepted :) <code>StackOverflowError</code> <s>without recursion</s> (challenge failed, see comments):</p>\n\n<pre><code>public class Test\n{\n    final static int CALLS = 710;\n\n    public static void main(String[] args)\n    {\n        final Functor[] functors = new Functor[CALLS];\n        for (int i = 0; i &lt; CALLS; i++)\n        {\n            final int finalInt = i;\n            functors[i] = new Functor()\n            {\n                @Override\n                public void fun()\n                {\n                    System.out.print(finalInt + \" \");\n                    if (finalInt != CALLS - 1)\n                    {\n                        functors[finalInt + 1].fun();\n                    }\n                }\n            };\n        }\n        // Let's get ready to ruuuuuuumble!\n        functors[0].fun(); // Sorry, couldn't resist to not comment in such moment. \n    }\n\n    interface Functor\n    {\n        void fun();\n    }\n}\n</code></pre>\n\n<p>Compile with standard <code>javac Test.java</code> and run with <code>java -Xss104k Test 2&gt; out</code>. After that, <code>more out</code> will tell you:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n</code></pre>\n\n<hr>\n\n<h2>Second try.</h2>\n\n<p>Now the idea is even simpler. Primitives in Java can be stored on the stack. So, let's declare a lot of doubles, like <code>double a1,a2,a3...</code>. This script can write, compile and run <a href=\"http://pastebin.com/TAV0rMC2\" rel=\"nofollow\">the code</a> for us:</p>\n\n<pre><code>#!/bin/sh\n\nVARIABLES=4000\nNAME=Test\nFILE=$NAME.java\nSOURCE=\"public class $NAME{public static void main(String[] args){double \"\nfor i in $(seq 1 $VARIABLES);\ndo\n    SOURCE=$SOURCE\"a$i,\"\ndone\nSOURCE=$SOURCE\"b=0;System.out.println(b);}}\"\necho $SOURCE &gt; $FILE\njavac $FILE\njava -Xss104k $NAME\n</code></pre>\n\n<p>And... I got something unexpected:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f4822f9d501, pid=4988, tid=139947823249152\n#\n# JRE version: 6.0_27-b27\n# Java VM: OpenJDK 64-Bit Server VM (20.0-b12 mixed mode linux-amd64 compressed oops)\n# Derivative: IcedTea6 1.12.6\n# Distribution: Ubuntu 10.04.1 LTS, package 6b27-1.12.6-1ubuntu0.10.04.2\n# Problematic frame:\n# V  [libjvm.so+0x4ce501]  JavaThread::last_frame()+0xa1\n#\n# An error report file with more information is saved as:\n# /home/adam/Desktop/test/hs_err_pid4988.log\n#\n# If you would like to submit a bug report, please include\n# instructions how to reproduce the bug and visit:\n#   https://bugs.launchpad.net/ubuntu/+source/openjdk-6/\n#\nAborted\n</code></pre>\n\n<p>It's 100% repetitive. This is related to your second question:</p>\n\n<blockquote>\n  <p>Does the StackOverflowError happen before the JVM actually overflows\n  the stack or after?</p>\n</blockquote>\n\n<p>So, in case of OpenJDK 20.0-b12 we can see that JVM firstly exploded. But it seems like a bug, maybe someone can confirm that in comments please, because I'm not sure. Should I report this? Maybe it's already fixed in some newer version... According to <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow\">JVM specification link</a> (given by <a href=\"http://stackoverflow.com/users/571407/jb-nizet\">JB Nizet</a> in a comment) JVM should throw a <code>StackOverflowError</code>, not die:</p>\n\n<blockquote>\n  <p>If the computation in a thread requires a larger Java Virtual Machine\n  stack than is permitted, the Java Virtual Machine throws a\n  StackOverflowError.</p>\n</blockquote>\n\n<hr>\n\n<h2>Third try.</h2>\n\n<pre><code>public class Test {\n    Test test = new Test();\n\n    public static void main(String[] args) {\n        new Test();\n    }\n}\n</code></pre>\n\n<p>We want to create new <code>Test</code> object. So, its (implicit) constructor will be called. But, just before that, all the members of <code>Test</code> are initialized. So, <code>Test test = new Test()</code> is executed first...</p>\n\n<p>We want to create new <code>Test</code> object...</p>\n\n<p>Update: Bad luck, this is recursion, I asked question about that <a href=\"http://stackoverflow.com/questions/27551338/is-instantiating-a-member-of-class-test-within-class-test-a-recursion/27554794#27554794\">here</a>.</p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22183286#22183286", "question_id": 22182669, "answer_id": 22183286}, {"body": "<p>There are two main places that things can be stored in Java. The first is the Heap, that's used for dynamically allocated objects. <code>new</code>.</p>\n\n<p>In addition each running thread gets its own stack, and it gets an amount of memory allocated to that stack.</p>\n\n<p>When you call a method then data is pushed into the stack to record the method call, the parameters being passed in, and any local variables being allocated. A method with five local variables and three parameters will use more stack space than a <code>void doStuff()</code> method with no local variables will.</p>\n\n<p>The main advantages of the stack are that there is no memory fragmentation, everything for one method call is allocated on the top of the stack, and that returning from methods is easy. To return from a method you just unwind the stack back to the previous method, set any value needed for the return value and you are done.</p>\n\n<p>Because the stack is a fixed size per thread, (note that the Java Spec does not require a fixed size, but most JVM implementations at the time of writing use a fixed size) and because space on the stack is needed whenever you make a method call hopefully it should now be clear why it can run out and what can cause it to run out. There isn't a fixed number of method calls, there isn't anything specific about recursion, you get the exception which you try to call a method and there isn't enough memory.</p>\n\n<p>Of course the size of stacks is set high enough that it is highly unlikely to happen in regular code. In recursive code though it can be quite easy to recurse to huge depths, and at that point you start running into this error.</p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22193393#22193393", "question_id": 22182669, "answer_id": 22193393}, {"body": "<blockquote>\n  <p>But this raises two questions:</p>\n  \n  <ol>\n  <li>Aren't there other ways for a stack overflow to occur, not only through recursion? </li>\n  <li>Does the StackOverflowError happen before the JVM actually overflows the stack or after?</li>\n  </ol>\n</blockquote>\n\n<ol>\n<li><p>It can also occur when we are Allocating size greater than stack's limit (for eg. <code>int x[10000000];</code>).</p></li>\n<li><p>Answer to second is </p></li>\n</ol>\n\n<p>Each thread has its own stack that holds a frame for each method executing on that thread. So the currently executing method is at the top of the stack. A new frame is created and added (pushed) to the top of stack for every method invocation. The frame is removed (popped) when the method returns normally or if an uncaught exception is thrown during the method invocation. The stack is not directly manipulated, except to push and pop frame objects, and therefore the frame objects may be allocated in the Heap and the memory does not need to be contiguous.</p>\n\n<p>So by considering stack in a Thread we can conclude.</p>\n\n<p>A stack can be a dynamic or fixed size. If a thread requires a larger stack than allowed a <code>StackOverflowError</code> is thrown. If a thread requires a new frame and there isn\u2019t enough memory to allocate it then an <code>OutOfMemoryError</code> is thrown.</p>\n\n<p>you can get description for JVM <a href=\"http://blog.jamesdbloom.com/JVMInternals.html\" rel=\"nofollow\">here</a></p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22196578#22196578", "question_id": 22182669, "answer_id": 22196578}, {"body": "<p><code>StackOverflowError</code> occurs due to an application recurses too deeply (This is not an answer you are expecting).  </p>\n\n<p>Now other things to happen to <code>StackOverflowError</code> is keep calling methods from methods till you get <code>StackOverflowError</code>, but nobody can program to get <code>StackOverflowError</code> and even if those programmer are doing so then they are not following coding standards for <a href=\"http://programmers.stackexchange.com/a/182170\">cyclomatic complixity</a> that every programmer has to understand while programming. Such reason for 'StackOverflowError' will require much time to rectify it.</p>\n\n<p>But unknowingly coding one line or two line which causes <code>StackOverflowError</code> is understandable and JVM throws that and we can rectify it instantly. <a href=\"http://stackoverflow.com/a/21303499/1115584\">Here</a> is my answer with picture for some other question.</p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22222274#22222274", "question_id": 22182669, "answer_id": 22222274}, {"body": "<p>The most common cause of StackOverFlowError is excessively deep or infinite recursion.</p>\n\n<p>For instance:</p>\n\n<pre><code>public int yourMethod(){\n       yourMethod();//infinite recursion\n}\n</code></pre>\n\n<p>In Java:</p>\n\n<p>There are <code>two</code> areas in memory the  heap and stack. The <code>stack memory</code> is used to store local variables and function call, while <code>heap memory</code> is used to store objects in Java.</p>\n\n<p>If there is no memory left in stack for storing function call or local variable, JVM will throw <code>java.lang.StackOverFlowError</code></p>\n\n<p>while if there is no more heap space for creating object, JVM will throw <code>java.lang.OutOfMemoryError</code></p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22223113#22223113", "question_id": 22182669, "answer_id": 22223113}, {"body": "<p>In c# you can achieve stack overflow in a different manner, by wrongly defining object properties.\nFor example :</p>\n\n<pre><code>private double hours;\n\npublic double Hours\n        {\n            get { return Hours; }\n            set { Hours = value; }\n        }\n</code></pre>\n\n<p>As you can see this will forever keep on returning Hours with an uppercase H , which in itself will return Hours and so and so on.</p>\n\n<p>A stack overflow will often occur also because of running out of memory or when using managed languages because your language manager (CLR, JRE) will detect that your code got stuck in an infinite loop.</p>\n", "title": "What actually causes a Stack Overflow error?", "tags": ["java", "jvm", "stack-overflow"], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error/22336360#22336360", "question_id": 22182669, "answer_id": 22336360}], "link": "http://stackoverflow.com/questions/22182669/what-actually-causes-a-stack-overflow-error", "question_id": 22182669}, {"body": "<p>I guess you have seen the new Android design guidelines, with the new \"Floating Action Button\" a.k.a \"FAB\"</p>\n\n<p>For instance this pink button:</p>\n\n<p><img src=\"http://i.stack.imgur.com/xCxE0.png\" alt=\"enter image description here\"></p>\n\n<p>My question sounds stupid, and I have already tried a lot of things, but what is the best way to put this button at the intersection of two layouts?</p>\n\n<p>In the above exemple, this button is perfectly placed between what we can imagine to be an ImageView and a relativeLayout.</p>\n\n<p>I have already tried a lot of tweaks, but I am convinced there is a proper way to do it.</p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "answers": [{"body": "<p>Try <a href=\"https://github.com/shamanland/floating-action-button\">this library</a> (<a href=\"http://shamanland.github.io/floating-action-button/com/shamanland/fab/FloatingActionButton.html\">javadoc is here</a>), min API level is 7:</p>\n\n<pre><code>dependencies {\n    compile 'com.shamanland:fab:0.0.8'\n}\n</code></pre>\n\n<p>It provides single widget with ability to customize it via Theme, xml or java-code.</p>\n\n<p><img src=\"http://i.stack.imgur.com/XGNsK.png\" alt=\"light\">\n<img src=\"https://drive.google.com/uc?id=0Bwh0SNLPmjQBQTd0S3lZNlJFdzQ\" alt=\"between\"></p>\n\n<p>It's very simple to use. There are available <code>normal</code> and <code>mini</code> implementation according to <a href=\"http://www.google.com/design/spec/patterns/promoted-actions.html\">Promoted Actions</a> pattern.</p>\n\n<pre><code>&lt;com.shamanland.fab.FloatingActionButton\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:src=\"@drawable/ic_action_my\"\n    app:floatingActionButtonColor=\"@color/my_fab_color\"\n    app:floatingActionButtonSize=\"mini\"\n    /&gt;\n</code></pre>\n\n<p>Try to compile the <a href=\"https://github.com/shamanland/floating-action-button\">demo app</a>. There is exhaustive example: light and dark themes, using with <code>ListView</code>, <strong>align between two Views</strong>.</p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/25098626#25098626", "question_id": 24459352, "answer_id": 25098626}, {"body": "<p>Seems like the cleanest way in this example is to:</p>\n\n<ul>\n<li>Use a RelativeLayout</li>\n<li>Position the 2 adjacent views one below the other</li>\n<li>Align the FAB to the parent right/end and add a right/end margin</li>\n<li>Align the FAB to the bottom of the header view and add a <em>negative</em> margin, half the size of the FAB including shadow</li>\n</ul>\n\n<p>Example adapted from shamanland implementation, use whatever FAB you wish.  Assume FAB is 64dp high including shadow:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;View\n        android:id=\"@+id/header\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"120dp\"\n    /&gt;\n\n    &lt;View\n        android:id=\"@+id/body\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_below=\"@id/header\"\n    /&gt;\n\n    &lt;fully.qualified.name.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignBottom=\"@id/header\"\n        android:layout_marginBottom=\"-32dp\"\n        android:layout_marginRight=\"20dp\"\n    /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/orN4Z.png\" alt=\"FAB Layout example\"></p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/27043074#27043074", "question_id": 24459352, "answer_id": 27043074}, {"body": "<p>You can import the sample project of Google in Android Studio by clicking File > Import Sample...</p>\n\n<p><img src=\"http://i.stack.imgur.com/2CeHn.png\" alt=\"Import sample\"></p>\n\n<p>This Sample contains a FloatingActionButton View which inherits from FrameLayout.</p>\n\n<p><strong>Edit</strong>\nWith the new Support Design Library you can implement it like in this example: \n<a href=\"https://github.com/chrisbanes/cheesesquare\">https://github.com/chrisbanes/cheesesquare</a></p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/28239589#28239589", "question_id": 24459352, "answer_id": 28239589}, {"body": "<p>Here is one aditional free <a href=\"https://github.com/shell-software/fab\">Floating Action Button library for Android</a>.\nIt has many customizations and requires SDK version 9 and higher</p>\n\n<p><img src=\"http://i.stack.imgur.com/PCjrw.png\" alt=\"enter image description here\"></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=skSApXvi4xM\">Full Demo Video</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    compile 'com.github.shell-software:fab:1.0.1'\n}\n</code></pre>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/28365322#28365322", "question_id": 24459352, "answer_id": 28365322}, {"body": "<p>Now it is part of official Design Support Library.</p>\n\n<p>In your gradle:</p>\n\n<pre><code>compile 'com.android.support:design:22.2.0'\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/support/design/widget/FloatingActionButton.html\">http://developer.android.com/reference/android/support/design/widget/FloatingActionButton.html</a></p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/30527304#30527304", "question_id": 24459352, "answer_id": 30527304}, {"body": "<p>With AppCompat 22, the FAB is supported for older devices.</p>\n\n<p>Add the new support library in your build.gradle(app):</p>\n\n<pre><code>compile 'com.android.support:design:22.2.0'\n</code></pre>\n\n<p>Then you can use it in your xml:</p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom|end\"\n    android:src=\"@android:drawable/ic_menu_more\"\n    app:elevation=\"6dp\"\n    app:pressedTranslationZ=\"12dp\" /&gt;\n</code></pre>\n\n<p>To use <code>elevation</code> and <code>pressedTranslationZ</code> properties, namespace <code>app</code> is needed, so add this namespace to your layout:\n<code>xmlns:app=\"http://schemas.android.com/apk/res-auto\"</code></p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/30903356#30903356", "question_id": 24459352, "answer_id": 30903356}, {"body": "<p>Best practice: </p>\n\n<ul>\n<li>Add <code>compile 'com.android.support:design:23.1.1'</code> to gradle file</li>\n<li>Use <code>CoordinatorLayout</code> as root view.</li>\n<li>Add <code>layout_anchor</code>to the FAB and set it to the top view</li>\n<li>Add <code>layout_anchorGravity</code> to the FAB and set it to: <code>bottom|right|end</code></li>\n</ul>\n\n<p><img src=\"http://i.stack.imgur.com/6RjOq.jpg\" alt=\"enter image description here\"></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"\n              android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/viewA\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"0.6\"\n            android:background=\"@android:color/holo_purple\"\n            android:orientation=\"horizontal\"/&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/viewB\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_weight=\"0.4\"\n            android:background=\"@android:color/holo_orange_light\"\n            android:orientation=\"horizontal\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;android.support.design.widget.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"16dp\"\n        android:clickable=\"true\"\n        android:src=\"@drawable/ic_done\"\n        app:layout_anchor=\"@id/viewA\"\n        app:layout_anchorGravity=\"bottom|right|end\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/30990661#30990661", "question_id": 24459352, "answer_id": 30990661}, {"body": "<p>Add this to your gradle file</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:23.0.0'\n    compile 'com.android.support:design:23.0.1'\n}\n</code></pre>\n\n<p>This to your activity_main.xml</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;LinearLayout android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;LinearLayout\n                android:id=\"@+id/viewOne\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"0.6\"\n                android:background=\"@android:color/holo_blue_light\"\n                android:orientation=\"horizontal\"/&gt;\n\n            &lt;LinearLayout\n                android:id=\"@+id/viewTwo\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_weight=\"0.4\"\n                android:background=\"@android:color/holo_orange_light\"\n                android:orientation=\"horizontal\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/floatingButton\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"16dp\"\n            android:clickable=\"true\"\n            android:src=\"@drawable/ic_done\"\n            app:layout_anchor=\"@id/viewOne\"\n            app:layout_anchorGravity=\"bottom|right|end\"\n            app:backgroundTint=\"#FF0000\"\n            app:rippleColor=\"#FFF\" /&gt;\n\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>You can find the full example with android studio project to download at <a href=\"http://www.ahotbrew.com/android-floating-action-button/\" rel=\"nofollow\">http://www.ahotbrew.com/android-floating-action-button/</a></p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/32593018#32593018", "question_id": 24459352, "answer_id": 32593018}, {"body": "<p>Keep it Simple\nAdding Floating Action Button using TextView by giving rounded xml background.\n - Add compile <code>com.android.support:design:23.1.1</code> to gradle file</p>\n\n<ul>\n<li>Use CoordinatorLayout as root view.</li>\n<li>Before Ending the CoordinatorLayout introduce a textView.</li>\n<li>Inside Drawable draw a circle.</li>\n</ul>\n\n<p>Circle Xml is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"oval\"&gt;\n\n    &lt;solid\n        android:color=\"@color/colorPrimary\"/&gt;\n    &lt;size\n        android:width=\"30dp\"\n        android:height=\"30dp\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>Layout xml is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:weightSum=\"5\"\n    &gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/viewA\"\n        android:layout_height=\"0dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_weight=\"1.6\"\n        android:background=\"@drawable/contact_bg\"\n        android:gravity=\"center_horizontal|center_vertical\"\n        &gt;\n        &lt;/RelativeLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_height=\"0dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_weight=\"3.4\"\n        android:orientation=\"vertical\"\n        android:padding=\"16dp\"\n        android:weightSum=\"10\"\n        &gt;\n\n        &lt;LinearLayout\n            android:layout_height=\"0dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_weight=\"1\"\n            &gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_height=\"0dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:weightSum=\"4\"\n            android:orientation=\"horizontal\"\n            &gt;\n            &lt;TextView\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"1\"\n                android:text=\"Name\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:padding=\"3dp\"\n                /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/name\"\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"3\"\n                android:text=\"Ritesh Kumar Singh\"\n                android:singleLine=\"true\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:padding=\"3dp\"\n                /&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n\n        &lt;LinearLayout\n            android:layout_height=\"0dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:weightSum=\"4\"\n            android:orientation=\"horizontal\"\n            &gt;\n            &lt;TextView\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"1\"\n                android:text=\"Phone\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:padding=\"3dp\"\n                /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/number\"\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"3\"\n                android:text=\"8283001122\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:singleLine=\"true\"\n                android:padding=\"3dp\"\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n\n        &lt;LinearLayout\n            android:layout_height=\"0dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:weightSum=\"4\"\n            android:orientation=\"horizontal\"\n            &gt;\n            &lt;TextView\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"1\"\n                android:text=\"Email\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:padding=\"3dp\"\n                /&gt;\n\n            &lt;TextView\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"3\"\n                android:text=\"ritesh.singh@betasoftsystems.com\"\n                android:textSize=\"22dp\"\n                android:singleLine=\"true\"\n                android:textColor=\"@android:color/black\"\n                android:padding=\"3dp\"\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n        &lt;LinearLayout\n            android:layout_height=\"0dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_weight=\"1\"\n            android:weightSum=\"4\"\n            android:orientation=\"horizontal\"\n            &gt;\n            &lt;TextView\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"1\"\n                android:text=\"City\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:padding=\"3dp\"\n                /&gt;\n\n            &lt;TextView\n                android:layout_height=\"match_parent\"\n                android:layout_width=\"0dp\"\n                android:layout_weight=\"3\"\n                android:text=\"Panchkula\"\n                android:textSize=\"22dp\"\n                android:textColor=\"@android:color/black\"\n                android:singleLine=\"true\"\n                android:padding=\"3dp\"\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n\n    &lt;TextView\n        android:id=\"@+id/floating\"\n        android:transitionName=\"@string/transition_name_circle\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"100dp\"\n        android:layout_margin=\"16dp\"\n        android:clickable=\"false\"\n        android:background=\"@drawable/circle\"\n        android:elevation=\"10dp\"\n        android:text=\"R\"\n        android:textSize=\"40dp\"\n        android:gravity=\"center\"\n        android:textColor=\"@android:color/black\"\n        app:layout_anchor=\"@id/viewA\"\n        app:layout_anchorGravity=\"bottom\"/&gt;\n\n        &lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/1vBi8.jpg\" rel=\"nofollow\">Click here to se how it Will look like</a></p>\n", "title": "How can I add the new &quot;Floating Action Button&quot; between two widgets/layouts", "tags": ["android", "android-coordinatorlayout", "floating-action-button"], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts/34934389#34934389", "question_id": 24459352, "answer_id": 34934389}], "link": "http://stackoverflow.com/questions/24459352/how-can-i-add-the-new-floating-action-button-between-two-widgets-layouts", "question_id": 24459352}, {"body": "<p>I'm reading the documentation and I am constantly shaking my head at some of the design decisions of the language.  But the thing that really got me puzzled is how arrays are handled.</p>\n\n<p>I rushed to the playground and tried these out.  You can try them too.  So the first example:</p>\n\n<pre><code>var a = [1, 2, 3]\nvar b = a\na[1] = 42\na\nb\n</code></pre>\n\n<p>Here <code>a</code> and <code>b</code> are both <code>[1, 42, 3]</code>, which I can accept.  Arrays are referenced - OK!</p>\n\n<p>Now see this example:</p>\n\n<pre><code>var c = [1, 2, 3]\nvar d = c\nc.append(42)\nc\nd\n</code></pre>\n\n<p><code>c</code> is <code>[1, 2, 3, 42]</code> BUT <code>d</code> is <code>[1, 2, 3]</code>.  That is, <code>d</code> saw the change in the last example but doesn't see it in this one.  The documentation says that's because the length changed.</p>\n\n<p>Now, how about this one:</p>\n\n<pre><code>var e = [1, 2, 3]\nvar f = e\ne[0..2] = [4, 5]\ne\nf\n</code></pre>\n\n<p><code>e</code> is <code>[4, 5, 3]</code>, which is cool.  It's nice to have a multi-index replacement, but <code>f</code> STILL doesn't see the change even though the length has not changed.</p>\n\n<p>So to sum it up, common references to an array see changes if you change 1 element, but if you change multiple elements or append items, a copy is made.</p>\n\n<p>This seems like a very poor design to me.  Am I right in thinking this?  Is there a reason I don't see why arrays should act like this?</p>\n\n<p><em>EDIT</em>: Arrays have changed and now have value semantics.  Much more sane!</p>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "answers": [{"body": "<p>Note that <strong>array semantics and syntax was changed in Xcode beta 3 version</strong> (<a href=\"https://medium.com/swift-programming/swift-arrays-are-fixed-c8310d916dea\">blog post</a>), so the question no longer applies. The following answer applied to beta 2:</p>\n\n<hr>\n\n<p>It's for performance reasons. Basically, they try to avoid copying arrays as long as they can (and claim \"C-like performance\"). To quote the language <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/ClassesAndStructures.html#//apple_ref/doc/uid/TP40014097-CH13-XID_112\">book</a>:</p>\n\n<blockquote>\n  <p>For arrays, copying only takes place when you perform an action that has the potential to modify the length of the array. This includes appending, inserting, or removing items, or using a ranged subscript to replace a range of items in the array.</p>\n</blockquote>\n\n<p>I agree that this is a bit confusing, but at least there is a clear and simple description of how it works.</p>\n\n<p>That section also includes information on how to make sure an array is uniquely referenced, how to force-copy arrays, and how to check whether two arrays share storage.</p>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24081412#24081412", "question_id": 24081009, "answer_id": 24081412}, {"body": "<p>What I've found is: The array will be a mutable copy of the referenced one <strong><em>if and only if the operation has the potential to change the array's length</em></strong>. In your last example, <code>f[0..2]</code> indexing with many, the operation has the potential to change its length (it might be that duplicates are not allowed), so it's getting copied.</p>\n\n<pre><code>var e = [1, 2, 3]\nvar f = e\ne[0..2] = [4, 5]\ne // 4,5,3\nf // 1,2,3\n\n\nvar e1 = [1, 2, 3]\nvar f1 = e1\n\ne1[0] = 4\ne1[1] = 5\n\ne1 //  - 4,5,3\nf1 // - 4,5,3\n</code></pre>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24081552#24081552", "question_id": 24081009, "answer_id": 24081552}, {"body": "<p><a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/ClassesAndStructures.html\" rel=\"nofollow\">From the official documentation of the Swift language</a>:</p>\n\n<blockquote>\n  <p>Note that the array is not copied when you set a new value with subscript syntax, because setting a single value with subscript syntax does not have the potential to change the array\u2019s length. However, if you append a new item to array, you do <strong>modify the array\u2019s length</strong>. This prompts Swift to create a <strong>new copy of the array</strong> at the point that you append the new value. Henceforth, a is a separate, independent copy of the array.....</p>\n</blockquote>\n\n<p>Read the whole section <strong>Assignment and Copy Behavior for Arrays</strong> in this documentation. You will find that <em>when you do <strong>replace a range of items in the array then the array takes a copy of itself for all items.</em></strong>  </p>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24081653#24081653", "question_id": 24081009, "answer_id": 24081653}, {"body": "<p>The behavior has changed with Xcode 6 beta 3. Arrays are no longer reference types and have a <strong>copy-on-write</strong> mechanism, meaning as soon as you change an array's content from one or the other variable, the array will be copied and only the one copy will be changed.</p>\n\n<hr>\n\n<p><em>Old answer:</em></p>\n\n<p>As others have pointed out, Swift tries to <strong>avoid copying</strong> arrays if possible, including when <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/ClassesAndStructures.html\" rel=\"nofollow\">changing values for single indexes</a> at a time.</p>\n\n<p>If you want to be sure that an array variable (!) is unique, i.e. not shared with another variable, you can call the <code>unshare</code> method. This copies the array unless it already only has one reference. Of course you can also call the <code>copy</code> method, which will always make a copy, but <em>unshare</em> is preferred to make sure no other variable holds on to the same array.</p>\n\n<pre><code>var a = [1, 2, 3]\nvar b = a\nb.unshare()\na[1] = 42\na               // [1, 42, 3]\nb               // [1, 2, 3]\n</code></pre>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24083603#24083603", "question_id": 24081009, "answer_id": 24083603}, {"body": "<p>To me this makes more sense if you first replace your constants with variables:</p>\n\n<pre><code>a[i] = 42            // (1)\ne[i..j] = [4, 5]     // (2)\n</code></pre>\n\n<p>The first line never needs to change the size of <code>a</code>. In particular, it never needs to do any memory allocation. Regardless of the value of <code>i</code>, this is a lightweight operation. If you imagine that under the hood <code>a</code> is a pointer, it can be a constant pointer.</p>\n\n<p>The second line may be much more complicated. Depending on the values of <code>i</code> and <code>j</code>, you may need to do memory management. If you imagine that <code>e</code> is a pointer that points to the contents of the array, you can no longer assume that it is a constant pointer; you may need to allocate a new block of memory, copy data from the old memory block to the new memory block, and change the pointer.</p>\n\n<p>It seems that the language designers have tried to keep (1) as lightweight as possible. As (2) may involve copying anyway, they have resorted to the solution that it always acts as if you did a copy.</p>\n\n<p>This is complicated, but I am happy that they did not make it even more complicated with e.g. special cases such as <em>\"if in (2) i and j are compile-time constants and the compiler can infer that the size of e is not going to change, then we do not copy\"</em>.</p>\n\n<hr>\n\n<p>Finally, based on my understanding of the design principles of the Swift language, I think the general rules are these:</p>\n\n<ul>\n<li>Use constants (<code>let</code>) always everywhere by default, and there won't be any major surprises.</li>\n<li>Use variables (<code>var</code>) only if it is absolutely necessary, and be vary careful in those cases, as there will be surprises [here: strange implicit copies of arrays in some but not all situations].</li>\n</ul>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24096022#24096022", "question_id": 24081009, "answer_id": 24096022}, {"body": "<p>The behavior is extremely similar to the <code>Array.Resize</code> method in .NET.  To understand what's going on, it may be helpful to look at the history of the <code>.</code> token in C, C++, Java, C#, and Swift.</p>\n\n<p>In C, a structure is nothing more than an aggregation of variables.  Applying the <code>.</code> to a variable of structure type will access a variable stored within the structure.  Pointers to objects do not <em>hold</em> aggregations of variables, but <em>identify</em> them.  If one has a pointer which identifies a structure, the <code>-&gt;</code> operator may be used to access a variable stored within the structure identified by the pointer.</p>\n\n<p>In C++, structures and classes not only aggregate variables, but can also attach code to them.  Using <code>.</code> to invoke a method will on a variable ask that method to act <em>upon the contents of the variable itself</em>; using <code>-&gt;</code> on a variable which identifies an object will ask that method to act upon the object <em>identified</em> by the variable.</p>\n\n<p>In Java, all custom variable types simply identify objects, and invoking a method upon a variable will tell the method what object is identified by the variable.  Variables cannot hold any kind of composite data type directly, nor is there any means by which a method can access a variable upon which it is invoked.  These restrictions, although semantically limiting, greatly simplify the runtime, and facilitate bytecode validation; such simplifications reduced the resource overhead of Java at a time when the market was sensitive to such issues, and thus helped it gain traction in the marketplace.  They also meant that there was no need for a token equivalent to the <code>.</code> used in C or C++.  Although Java could have used <code>-&gt;</code> in the same way as C and C++, the creators opted to use single-character <code>.</code> since it was not needed for any other purpose.</p>\n\n<p>In C# and other .NET languages, variables can either identify objects or hold composite data types directly.  When used on a variable of a composite data type, <code>.</code> acts upon the <em>contents</em> of the variable; when used on a variable of reference type, <code>.</code> acts upon the object <em>identified</em> by it.  For some kinds of operations, the semantic distinction isn't particularly important, but for others it is.  The most problematical situations are those in which a composite data type's method which would modify the variable upon which it is invoked, is invoked on a read-only variable.  If an attempt is made to invoke a method on a read-only value or variable, compilers will generally copy the variable, let the method act upon that, and discard the variable.  This is generally safe with methods that only read the variable, but not safe with methods that write to it.  Unfortunately, .does has not as yet have any means of indicating which methods can safely be used with such substitution and which can't.</p>\n\n<p>In Swift, methods on aggregates can expressly indicate whether they will modify the variable upon which they are invoked, and the compiler will forbid the use of mutating methods upon read-only variables (rather than having them mutate temporary copies of the variable which will then get discarded).  Because of this distinction, using the <code>.</code> token to call methods that modify the variables upon which they are invoked is much safer in Swift than in .NET.  Unfortunately, the fact that the same <code>.</code> token is used for that purpose as to act upon an external object identified by a variable means the possibility for confusion remains.</p>\n\n<p>If had a time machine and went back to the creation of C# and/or Swift, one could retroactively avoid much of the confusion surrounding such issues by having languages use the <code>.</code> and <code>-&gt;</code> tokens in a fashion much closer to the C++ usage.  Methods of both aggregates and reference types could use <code>.</code> to act upon the <em>variable</em> upon which they were invoked, and <code>-&gt;</code> to act upon a <em>value</em> (for composites) or the thing identified thereby (for reference types).  Neither language is designed that way, however.</p>\n\n<p>In C#, the normal practice for a method to modify a variable upon which it is invoked is to pass the variable as a <code>ref</code> parameter to a method.  Thus calling <code>Array.Resize(ref someArray, 23);</code> when <code>someArray</code> identifies an array of 20 elements will cause <code>someArray</code> to identify a new array of 23 elements, without affecting the original array.  The use of <code>ref</code> makes clear that the method should be expected to modify the variable upon which it is invoked.  In many cases, it's advantageous to be able to modify variables without having to use static methods; Swift addresses that means by using <code>.</code> syntax.  The disadvantage is that it loses clarify as to what methods act upon variables and what methods act upon values.</p>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24099189#24099189", "question_id": 24081009, "answer_id": 24099189}, {"body": "<p>Delphi's strings and arrays had the exact same \"feature\".  When you looked at the implementation, it made sense.</p>\n\n<p>Each variable is a pointer to dynamic memory.  That memory contains a reference count followed by the data in the array.  So you can easily change a value in the array without copying the whole array or changing any pointers.  If you want to resize the array, you have to allocate more memory.  In that case the current variable will point to the newly allocated memory.  But you can't easily track down all of the other variables that pointed to the original array, so you leave them alone.</p>\n\n<p>Of course, it wouldn't be hard to make a more consistent implementation.  If you wanted all variables to see a resize, do this:\nEach variable is a pointer to a container stored in dynamic memory.  The container holds exactly two things, a reference count and pointer to the actual array data.  The array data is stored in a separate block of dynamic memory.  Now there is only one pointer to the array data, so you can easily resize that, and all variables will see the change.</p>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24105104#24105104", "question_id": 24081009, "answer_id": 24105104}, {"body": "<p>I use .copy() for this. </p>\n\n<pre><code>    var a = [1, 2, 3]\n    var b = a.copy()\n     a[1] = 42 \n</code></pre>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24405377#24405377", "question_id": 24081009, "answer_id": 24405377}, {"body": "<p>A lot of Swift early adopters have complained about this error-prone array semantics and Chris Lattner has written that the array semantics had been revised to provide full value semantics ( <a href=\"https://devforums.apple.com/thread/228695?start=75&amp;tstart=0\" rel=\"nofollow\">Apple Developer link for those who have an account</a>). We will have to wait at least for the next beta to see what this exactly means.</p>\n", "title": "Is there a reason that Swift array assignment is inconsistent (neither a reference nor a deep copy)?", "tags": ["arrays", "swift"], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen/24474350#24474350", "question_id": 24081009, "answer_id": 24474350}], "link": "http://stackoverflow.com/questions/24081009/is-there-a-reason-that-swift-array-assignment-is-inconsistent-neither-a-referen", "question_id": 24081009}, {"body": "<p>When trying to register for push notifications under iOS 8.x:</p>\n\n<pre><code>application.registerForRemoteNotificationTypes(UIRemoteNotificationType.Alert | UIRemoteNotificationType.Badge | UIRemoteNotificationType.Sound)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later.\n</code></pre>\n\n<p>Any ideas what is the new way of doing it? It does work when I run this Swift app on iOS 7.x.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>On iOS 7.x when I include the conditional code I get (either SystemVersion conditional or #if __IPHONE_OS_VERSION_MAX_ALLOWED >= 80000)</p>\n\n<pre><code>dyld: Symbol not found: _OBJC_CLASS_$_UIUserNotificationSettings\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "answers": [{"body": "<p>I couldn't figure out what the \"categories\" NSSet variable should be set to, so if someone could fill me in I will gladly edit this post. The following does, however, bring up the push notification dialog.</p>\n\n<pre><code>[[UIApplication sharedApplication] registerForRemoteNotifications];\nUIUserNotificationSettings *settings = [UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeBadge | UIUserNotificationTypeSound | UIUserNotificationTypeAlert) categories:nil];\n[[UIApplication sharedApplication] registerUserNotificationSettings:settings];\n</code></pre>\n\n<p>Edit: I got a push notification to send to my phone with this code, so I'm not sure the categories parameter is necessary.</p>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/24564757#24564757", "question_id": 24454033, "answer_id": 24564757}, {"body": "<p>As you described, you will need to use a different method based on different versions of iOS. If your team is using both Xcode 5 (which doesn't know about any iOS 8 selectors) and Xcode 6 (currently in beta), then you will need to use conditional compiling as follows:</p>\n\n<pre><code>#if __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 80000\nif ([application respondsToSelector:@selector(registerUserNotificationSettings:)]) {\n    // use registerUserNotificationSettings\n} else {\n    // use registerForRemoteNotificationTypes:\n}\n#else\n// use registerForRemoteNotificationTypes:\n#endif\n</code></pre>\n\n<p>If you are only using Xcode 6 (beta), you can stick with just this:</p>\n\n<pre><code>if ([application respondsToSelector:@selector(registerUserNotificationSettings:)]) {\n    // use registerUserNotificationSettings\n} else {\n    // use registerForRemoteNotificationTypes:\n}\n</code></pre>\n\n<p>The reason is here is that the way you get notification permissions has changed in iOS 8. A <code>UserNotification</code> is a message shown to the user, whether from remote or from local. You need to get permission to show one. This is described in the WWDC 2014 video <a href=\"https://developer.apple.com/videos/wwdc/2014/?include=713#713\">\"What's New in iOS Notifications\"</a></p>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/24688545#24688545", "question_id": 24454033, "answer_id": 24688545}, {"body": "<p>It's simple in Xcode 6 (works only in this version)</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary*)launchOptions\n{\n    //-- Set Notification\n    if ([application respondsToSelector:@selector(isRegisteredForRemoteNotifications)]) \n    {\n           // iOS 8 Notifications\n           [application registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]];\n\n           [application registerForRemoteNotifications];\n    }\n    else\n    {\n          // iOS &lt; 8 Notifications\n          [application registerForRemoteNotificationTypes:\n                     (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeSound)];\n    }\n\n     //--- your custom code\n     return YES;\n}\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/24773465#24773465", "question_id": 24454033, "answer_id": 24773465}, {"body": "<p>iOS 8 has changed notification registration in a non-backwards compatible way. While you need to support iOS 7 and 8 (and while apps built with the 8 SDK aren't accepted), you can check for the selectors you need and conditionally call them correctly for the running version.</p>\n\n<p>Here's a category on UIApplication that will hide this logic behind a clean interface for you that will work in both Xcode 5 and Xcode 6.</p>\n\n<p>Header:</p>\n\n<pre><code>//Call these from your application code for both iOS 7 and 8\n//put this in the public header\n@interface UIApplication (RemoteNotifications)\n\n- (BOOL)pushNotificationsEnabled;\n- (void)registerForPushNotifications;\n\n@end\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>//these declarations are to quiet the compiler when using 7.x SDK\n//put this interface in the implementation file of this category, so they are\n//not visible to any other code.\n@interface NSObject (IOS8)\n\n- (BOOL)isRegisteredForRemoteNotifications;\n- (void)registerForRemoteNotifications;\n\n+ (id)settingsForTypes:(NSUInteger)types categories:(NSSet*)categories;\n- (void)registerUserNotificationSettings:(id)settings;\n\n@end\n\n@implementation UIApplication (RemoteNotifications)\n\n- (BOOL)pushNotificationsEnabled\n{\n    if ([self respondsToSelector:@selector(isRegisteredForRemoteNotifications)])\n    {\n        return [self isRegisteredForRemoteNotifications];\n    }\n    else\n    {\n        return ([self enabledRemoteNotificationTypes] &amp; UIRemoteNotificationTypeAlert);\n    }\n}\n\n- (void)registerForPushNotifications\n{\n    if ([self respondsToSelector:@selector(registerForRemoteNotifications)])\n    {\n        [self registerForRemoteNotifications];\n\n        Class uiUserNotificationSettings = NSClassFromString(@\"UIUserNotificationSettings\");\n\n        //If you want to add other capabilities than just banner alerts, you'll need to grab their declarations from the iOS 8 SDK and define them in the same way.\n        NSUInteger UIUserNotificationTypeAlert   = 1 &lt;&lt; 2;\n\n        id settings = [uiUserNotificationSettings settingsForTypes:UIUserNotificationTypeAlert categories:[NSSet set]];            \n        [self registerUserNotificationSettings:settings];\n\n    }\n    else\n    {\n        [self registerForRemoteNotificationTypes:UIRemoteNotificationTypeAlert];\n    }\n}\n\n@end\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/24920131#24920131", "question_id": 24454033, "answer_id": 24920131}, {"body": "<p>So it turns out that because AnyObject is the spiritual successor to id, you can call any message you want on AnyObject. That's the equivalent of sending a message to id. Ok, fair enough. But now we add in the concept that <strong>all methods are optional on AnyObject</strong>, and we have something we can work with.</p>\n\n<p>Given the above, I was hopeful I could just cast UIApplication.sharedApplication() to AnyObject, then create a variable equal to the method signature, set that variable to the optional method, then test the variable. This didn't seem to work. My guess is that when compiled against the iOS 8.0 SDK, the compiler knows where it thinks that method <em>should</em> be, so it optimizes this all down to a memory lookup. Everything works fine until I try to test the variable, at which point I get a EXC_BAD_ACCESS.</p>\n\n<p>However, in the same WWDC talk where I found the gem about all methods being optional, they use Optional Chaining to call an optional method - and this seems to work. The lame part is that you have to actually attempt to call the method in order to know if it exists, which in the case of registering for notifications is a problem because you're trying to figure out if this method exists before you go creating a UIUserNotificationSettings object. It seems like calling that method with nil though is okay, so the solution that seems to be working for me is:</p>\n\n<pre><code>var ao: AnyObject = UIApplication.sharedApplication()\nif let x:Void = ao.registerUserNotificationSettings?(nil) {\n    // It's iOS 8\n    var types = UIUserNotificationType.Badge | UIUserNotificationType.Sound | UIUserNotificationType.Alert\n    var settings = UIUserNotificationSettings(forTypes: types, categories: nil)\n    UIApplication.sharedApplication().registerUserNotificationSettings(settings)\n} else {\n    // It's older\n    var types = UIRemoteNotificationType.Badge | UIRemoteNotificationType.Sound | UIRemoteNotificationType.Alert\n    UIApplication.sharedApplication().registerForRemoteNotificationTypes(types)\n}\n</code></pre>\n\n<p>After much searching related to this, the key info came from this WWDC talk <a href=\"https://developer.apple.com/videos/wwdc/2014/#407\" rel=\"nofollow\">https://developer.apple.com/videos/wwdc/2014/#407</a> right in the middle at the section about \"Optional Methods in Protocols\"</p>\n\n<p>In Xcode 6.1 beta the above code does not work anymore, the code below works:</p>\n\n<pre><code>   if UIApplication.sharedApplication().respondsToSelector(\"registerUserNotificationSettings:\") {\n        // It's iOS 8\n        var types = UIUserNotificationType.Badge | UIUserNotificationType.Sound | UIUserNotificationType.Alert\n       var settings = UIUserNotificationSettings(forTypes: types, categories: nil)\n       UIApplication.sharedApplication().registerUserNotificationSettings(settings)\n    } else {\n        // It's older\n        var types = UIRemoteNotificationType.Badge | UIRemoteNotificationType.Sound | UIRemoteNotificationType.Alert\n        UIApplication.sharedApplication().registerForRemoteNotificationTypes(types)\n    }\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/25595982#25595982", "question_id": 24454033, "answer_id": 25595982}, {"body": "<p>After Xcode 6.1 Beta the code below works, slight edit on Tom S code that stopped working with the 6.1 beta (worked with previous beta):</p>\n\n<pre><code>   if UIApplication.sharedApplication().respondsToSelector(\"registerUserNotificationSettings:\") {\n        // It's iOS 8\n        var types = UIUserNotificationType.Badge | UIUserNotificationType.Sound | UIUserNotificationType.Alert\n       var settings = UIUserNotificationSettings(forTypes: types, categories: nil)\n       UIApplication.sharedApplication().registerUserNotificationSettings(settings)\n    } else {\n        // It's older\n        var types = UIRemoteNotificationType.Badge | UIRemoteNotificationType.Sound | UIRemoteNotificationType.Alert\n        UIApplication.sharedApplication().registerForRemoteNotificationTypes(types)\n    }\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/26031076#26031076", "question_id": 24454033, "answer_id": 26031076}, {"body": "<p>Building on @Prasath's answer. This is how you do it in <strong>Swift</strong>:</p>\n\n<pre><code>if application.respondsToSelector(\"isRegisteredForRemoteNotifications\")\n{\n    // iOS 8 Notifications\n    application.registerUserNotificationSettings(UIUserNotificationSettings(forTypes: (.Badge | .Sound | .Alert), categories: nil));\n    application.registerForRemoteNotifications()\n}\nelse\n{\n    // iOS &lt; 8 Notifications\n    application.registerForRemoteNotificationTypes(.Badge | .Sound | .Alert)\n}\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/26350714#26350714", "question_id": 24454033, "answer_id": 26350714}, {"body": "<p>If you like to add support to IOS7 IOS8 you can apply this code into your project .</p>\n\n<pre><code>-(void) Subscribe {\n    NSLog(@\"Registering for push notifications...\");\n\n    if ([[UIApplication sharedApplication] respondsToSelector:@selector(registerUserNotificationSettings:)]) {\n        UIUserNotificationSettings* notificationSettings = [UIUserNotificationSettings settingsForTypes:UIUserNotificationTypeAlert | UIUserNotificationTypeBadge | UIUserNotificationTypeSound categories:nil];\n        [[UIApplication sharedApplication] registerUserNotificationSettings:notificationSettings];\n        [[UIApplication sharedApplication] registerForRemoteNotifications];\n    } else {\n        [[UIApplication sharedApplication] registerForRemoteNotificationTypes: (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];\n    }\n}\n\n-(void)application:(UIApplication *)application \n    didRegisterUserNotificationSettings:(UIUserNotificationSettings *)notificationSettings {\n\n    if (notificationSettings.types) {\n        NSLog(@\"user allowed notifications\");\n        [[UIApplication sharedApplication] registerForRemoteNotifications];\n    } else {\n        NSLog(@\"user did not allow notifications\");\n        UIAlertView *alert =[[UIAlertView alloc] \n            initWithTitle:@\"Please turn on Notification\"\n            message:@\"Go to Settings &gt; Notifications &gt; App.\\n Switch on Sound, Badge &amp; Alert\"\n            delegate:self\n            cancelButtonTitle:@\"Ok\"\n            otherButtonTitles: nil];\n        [alert show];\n        // show alert here\n    }\n}\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/26531251#26531251", "question_id": 24454033, "answer_id": 26531251}, {"body": "<p>I think this is the better way to keep backwards compatibility if we go with this approach, it is working for my case and hope will work for you. Also pretty easy to understand.</p>\n\n<pre><code>if ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= 8.0)\n{\n    [[UIApplication sharedApplication] registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]];\n    [[UIApplication sharedApplication] registerForRemoteNotifications];\n}\nelse\n{\n    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:\n         (UIUserNotificationTypeBadge | UIUserNotificationTypeSound | UIUserNotificationTypeAlert)];\n}\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/27763602#27763602", "question_id": 24454033, "answer_id": 27763602}, {"body": "<p>For the Swift-inclined:</p>\n\n<pre><code>if let registration: AnyObject = NSClassFromString(\"UIUserNotificationSettings\") { // iOS 8+\n    let notificationTypes: UIUserNotificationType = (.Alert | .Badge | .Sound)\n    let notificationSettings: UIUserNotificationSettings = UIUserNotificationSettings(forTypes: notificationTypes, categories: nil)\n\n    application.registerUserNotificationSettings(notificationSettings)\n} else { // iOS 7\n    application.registerForRemoteNotificationTypes(.Alert | .Badge | .Sound)\n}\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/27945854#27945854", "question_id": 24454033, "answer_id": 27945854}, {"body": "<p>You can use this</p>\n\n<pre><code>if ([application respondsToSelector:@selector(isRegisteredForRemoteNotifications)]) \n    {\n        // for iOS 8\n        [application registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]];\n\n        [application registerForRemoteNotifications];\n    }\n    else\n    {\n        // for iOS &lt; 8\n        [application registerForRemoteNotificationTypes:\n         (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeSound)];\n    }\n\n    // RESET THE BADGE COUNT \n    application.applicationIconBadgeNumber = 0;\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/29386739#29386739", "question_id": 24454033, "answer_id": 29386739}, {"body": "<p>If all you need is the ios 8 code, this should do it. </p>\n\n<pre><code> - (BOOL)application:(UIApplication *)application       didFinishLaunchingWithOptions:(NSDictionary*)launchOptions\n{\n       [application registerUserNotificationSettings: [UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound  | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge)  categories:nil]];\n\n       [application registerForRemoteNotifications];\n}\n\n return YES;\n}\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/30281846#30281846", "question_id": 24454033, "answer_id": 30281846}, {"body": "<p>Swift 2.0</p>\n\n<pre><code>// Checking if app is running iOS 8\n    if application.respondsToSelector(\"isRegisteredForRemoteNotifications\") {\n\n        print(\"registerApplicationForPushNotifications - iOS 8\")\n\n        application.registerUserNotificationSettings(UIUserNotificationSettings(forTypes: [.Alert, .Badge, .Sound], categories: nil));\n        application.registerForRemoteNotifications()\n\n    } else {\n        // Register for Push Notifications before iOS 8\n        print(\"registerApplicationForPushNotifications - &lt;iOS 8\")\n        application.registerForRemoteNotificationTypes([UIRemoteNotificationType.Alert, UIRemoteNotificationType.Badge, UIRemoteNotificationType.Sound])\n\n    }\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/35765655#35765655", "question_id": 24454033, "answer_id": 35765655}, {"body": "<p>This is cleaner way I am doing and it just works great</p>\n\n<pre><code>if (floor(NSFoundationVersionNumber) &lt; NSFoundationVersionNumber_iOS_8_0)\n    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:UIRemoteNotificationTypeBadge|\n     UIRemoteNotificationTypeAlert| UIRemoteNotificationTypeSound];\n     else {\n         [application registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]]; \n         [application registerForRemoteNotifications];\n     }\n</code></pre>\n", "title": "registerForRemoteNotificationTypes: is not supported in iOS 8.0 and later", "tags": ["objective-c", "ios8", "apple-push-notifications"], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later/35934207#35934207", "question_id": 24454033, "answer_id": 35934207}], "link": "http://stackoverflow.com/questions/24454033/registerforremotenotificationtypes-is-not-supported-in-ios-8-0-and-later", "question_id": 24454033}, {"body": "<p>One of the most useful features of Java 8 are the new <code>default</code> methods on interfaces. There are essentially two reasons (there may be others) why they have been introduced:</p>\n\n<ul>\n<li>Providing actual default implementations. Example: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--\"><code>Iterator.remove()</code></a></li>\n<li>Allowing for JDK API evolution. Example: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\"><code>Iterable.forEach()</code></a></li>\n</ul>\n\n<p>From an API designer's perspective, I would have liked to be able to use other modifiers on interface methods, e.g. <code>final</code>. This would be useful when adding convenience methods, preventing \"accidental\" overrides in implementing classes:</p>\n\n<pre><code>interface Sender {\n\n    // Convenience method to send an empty message\n    default final void send() {\n        send(null);\n    }\n\n    // Implementations should only implement this method\n    void send(String message);\n}\n</code></pre>\n\n<p>The above is already common practice if <code>Sender</code> were a class:</p>\n\n<pre><code>abstract class Sender {\n\n    // Convenience method to send an empty message\n    final void send() {\n        send(null);\n    }\n\n    // Implementations should only implement this method\n    abstract void send(String message);\n}\n</code></pre>\n\n<p>Now, <code>default</code> and <code>final</code> are obviously contradicting keywords, but the default keyword itself <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-August/005393.html\">would not have been strictly required</a>, so I'm assuming that this contradiction is deliberate, to reflect the subtle differences between <em>\"class methods with body\"</em> (just methods) and <em>\"interface methods with body\"</em> (default methods), i.e. differences which I have not yet understood.</p>\n\n<p>At some point of time, support for modifiers like <code>static</code> and <code>final</code> on interface methods was not yet fully explored, <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2011-December/004430.html\">citing Brian Goetz</a>:</p>\n\n<blockquote>\n  <p>The other part is how far we're going to go to support class-building \n  tools in interfaces, such as final methods, private methods, protected \n  methods, static methods, etc.  The answer is: we don't know yet</p>\n</blockquote>\n\n<p>Since that time in late 2011, obviously, support for <code>static</code> methods in interfaces was added. Clearly, this added a lot of value to the JDK libraries themselves, such as with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\"><code>Comparator.comparing()</code></a>.</p>\n\n<h3>Question:</h3>\n\n<p>What is the reason <code>final</code> (and also <code>static final</code>) never made it to Java 8 interfaces?</p>\n", "title": "Why is &quot;final&quot; not allowed in Java 8 interface methods?", "tags": ["java", "language-design", "java-8", "default-method", "jsr335"], "answers": [{"body": "<p>It will be hard to find and identify \"THE\" answer, for the resons mentioned in the comments from @EJP : There are roughly 2 (+/- 2) people in the world who can give the definite answer <em>at all</em>. And in doubt, the answer might just be something like \"Supporting final default methods did not seem to be worth the effort of restructuring the internal call resolution mechanisms\". This is speculation, of course, but it is at least backed by subtle evidences, like this <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2013-February/014467.html\">Statement (by one of the two persons) in the OpenJDK mailing list</a>:</p>\n\n<blockquote>\n  <p>\"I suppose if \"final default\" methods were allowed, they might need rewriting from internal invokespecial to user-visible invokeinterface.\"</p>\n</blockquote>\n\n<p>and trivial facts like that a method is simply not <em>considered</em> to be a (really) final method when it is a <code>default</code> method, as currently implemented in the <a href=\"http://hg.openjdk.java.net/jdk8/build/hotspot/file/87ee5ee27509/src/share/vm/oops/method.cpp#l512\">Method::is_final_method</a> method in the OpenJDK. </p>\n\n<p>Further really \"authorative\" information is indeed hard to find, even with excessive websearches and by reading commit logs. I thought that it might be related to potential ambiguities during the resolution of interface method calls with the <code>invokeinterface</code> instruction and and class method calls, corresponding to the <code>invokevirtual</code> instruction: For the <code>invokevirtual</code> instruction, there may be a simple <strong>vtable</strong> lookup, because the method must either be inherited from a superclass, or implemented by the class directly. In contrast to that, an <code>invokeinterface</code> call must examine the respective call site to find out <em>which</em> interface this call actually refers to (this is explained in more detail in the <a href=\"https://wikis.oracle.com/display/HotSpotInternals/InterfaceCalls\">InterfaceCalls</a> page of the HotSpot Wiki). However, <code>final</code> methods do either not get inserted into the <strong>vtable</strong> at all, or replace existing entries in the <strong>vtable</strong> (see <a href=\"http://hg.openjdk.java.net/jdk8/build/hotspot/file/87ee5ee27509/src/share/vm/oops/klassVtable.cpp#l333\">klassVtable.cpp. Line 333</a>), and similarly, default methods are replacing existing entries in the <strong>vtable</strong> (see <a href=\"http://hg.openjdk.java.net/jdk8/build/hotspot/file/87ee5ee27509/src/share/vm/oops/klassVtable.cpp#l202\">klassVtable.cpp, Line 202</a>). So the <em>actual</em> reason (and thus, the answer) must be hidden deeper inside the (rather complex) method call resolution mechanisms, but maybe these references will nevertheless be considered as being helpful, be it only for others that manage to derive the actual answer from that.</p>\n", "title": "Why is &quot;final&quot; not allowed in Java 8 interface methods?", "tags": ["java", "language-design", "java-8", "default-method", "jsr335"], "link": "http://stackoverflow.com/questions/23453287/why-is-final-not-allowed-in-java-8-interface-methods/23456085#23456085", "question_id": 23453287, "answer_id": 23456085}, {"body": "<p>I wouldn't think it is neccessary to specify <code>final</code> on a convienience interface method, I can agree though that it <em>may</em> be helpful, but seemingly the costs have outweight the benefits.</p>\n\n<p>What you are supposed to do, either way, is to write proper javadoc for the default method, showing exactly what the method is and is not allowed to do. In that way the classes implementing the interface \"are not allowed\" to change the implementation, though there are no guarantees.</p>\n\n<p>Anyone could write a <code>Collection</code> that adheres to the interface and then does things in the methods that are absolutely counter intuitive, there is no way to shield yourself from that, other than writing extensive unit tests.</p>\n", "title": "Why is &quot;final&quot; not allowed in Java 8 interface methods?", "tags": ["java", "language-design", "java-8", "default-method", "jsr335"], "link": "http://stackoverflow.com/questions/23453287/why-is-final-not-allowed-in-java-8-interface-methods/23456294#23456294", "question_id": 23453287, "answer_id": 23456294}, {"body": "<p>In the lambda mailing list <a href=\"https://www.google.com/#q=default+methods+modifiers+site:http:%2F%2Fmail.openjdk.java.net%2Fpipermail%2Flambda-dev%2F\">there are plenty of discussions about it</a>. One of those that seems to contain a lot of discussion about all that stuff is the following: On <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-August/005444.html\">Varied interface method visibility (was Final defenders)</a>.</p>\n\n<p>In this discussion, Talden, the author of the <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-August/005437.html\">original question</a> asks something very similar to your question:</p>\n\n<blockquote>\n  <p>The decision to make all interface members public was indeed an\n  unfortunate decision.  That any use of interface in internal design\n  exposes implementation private details is a big one.</p>\n  \n  <p>It's a tough one to fix without adding some obscure or compatibility\n  breaking nuances to the language. A compatibility break of that\n  magnitude and potential subtlety would seen unconscionable so a\n  solution has to exist that doesn't break existing code.</p>\n  \n  <p>Could reintroducing the 'package' keyword as an access-specifier be\n  viable.  It's absence of a specifier in an interface would imply\n  public-access and the absence of a specifier in a class implies\n  package-access. Which specifiers make sense in an interface is unclear\n  - especially if, to minimise the knowledge burden on developers, we have to ensure that access-specifiers mean the same thing in both\n  class and interface if they're present.</p>\n  \n  <p>In the absence of default methods I'd have speculated that the\n  specifier of a member in an interface has to be at least as visible as\n  the interface itself (so the interface can actually be implemented in\n  all visible contexts) - with default methods that's not so certain.</p>\n  \n  <p>Has there been any clear communication as to whether this is even a\n  possible in-scope discussion? If not, should it be held elsewhere.</p>\n</blockquote>\n\n<p>Eventually <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-August/005444.html\">Brian Goetz's answer</a> was:</p>\n\n<blockquote>\n  <p>Yes, this is already being explored.  </p>\n  \n  <p>However, let me set some realistic expectations -- language / VM\n  features have a long lead time, even trivial-seeming ones like this. \n  The time for proposing new language feature ideas for Java SE 8 has\n  pretty much passed.</p>\n</blockquote>\n\n<p>So, most likely it was never implemented because it was never part of the scope. It was never proposed in time to be considered.</p>\n\n<p>In another heated discussion <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-August/005390.html\">about final defender methods</a> on the subject, <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-August/005443.html\">Brian said again</a>:</p>\n\n<blockquote>\n  <p>And you have gotten exactly what you wished for.  That's exactly what\n  this feature adds -- multiple inheritance of behavior.  Of course we\n  understand that people will use them as traits.  And we've worked hard\n  to ensure that the the model of inheritance they offer is simple and\n  clean enough that people can get good results doing so in a broad\n  variety of situations.  We have, at the same time, chosen not to push\n  them beyond the boundary of what works simply and cleanly, and that\n  leads to \"aw, you didn't go far enough\" reactions in some case.  But\n  really, most of this thread seems to be grumbling that the glass is\n  merely 98% full.  I'll take that 98% and get on with it!</p>\n</blockquote>\n\n<p>So this reinforces my theory that it simply was not part of the scope or part of their design. What they did was to provide enough functionality to deal with the issues of API evolution.</p>\n", "title": "Why is &quot;final&quot; not allowed in Java 8 interface methods?", "tags": ["java", "language-design", "java-8", "default-method", "jsr335"], "link": "http://stackoverflow.com/questions/23453287/why-is-final-not-allowed-in-java-8-interface-methods/23458190#23458190", "question_id": 23453287, "answer_id": 23458190}, {"body": "<p>This question is, to some degree, related to <a href=\"http://stackoverflow.com/questions/23453568/what-is-the-reason-why-synchronized-is-not-allowed-in-java-8-interface-methods/23463334#23463334\">What is the reason why \u201csynchronized\u201d is not allowed in Java 8 interface methods?</a></p>\n\n<p>The key thing to understand about default methods is that the primary design goal is <em>interface evolution</em>, not \"turn interfaces into (mediocre) traits\".  While there's some overlap between the two, and we tried to be accomodating to the latter where it didn't get in the way of the former, these questions are best understood when viewed in this light.  (Note too that class methods <em>are</em> going to be different from interface methods, no matter what the intent, by virtue of the fact that interface methods can be multiply inherited.)</p>\n\n<p>The basic idea of a default method is: it is an interface method with a default implementation, and a derived class can provide a more specific implementation.  And because the design center was interface evolution, it was a critical design goal that default methods be able to be added to interfaces <em>after the fact</em> in a source-compatible and binary-compatible manner.  </p>\n\n<p>The too-simple answer to \"why not final default methods\" is that then the body would then not simply be the default implementation, it would be the only implementation.  While that's a little too simple an answer, it gives us a clue that the question is already heading in a questionable direction.</p>\n\n<p>Another reason why final interface methods are questionable is that they create impossible problems for implementors.  For example, supposing you have:</p>\n\n<pre><code>interface A { \n    default void foo() { ... }\n}\n\ninterface B { \n}\n\nclass C implements A, B { \n}\n</code></pre>\n\n<p>Here, everything is good; C inherits foo() from A.  Now supposing B is changed to have a foo method, with a default:</p>\n\n<pre><code>interface B { \n    default void foo() { ... }\n}\n</code></pre>\n\n<p>Now, when we go to recompile C, the compiler will tell us that it doesn't know what behavior to inherit for <code>foo()</code>, so C has to override it (and could choose to delegate to <code>A.super.foo()</code> if it wanted to retain the same behavior.)  But what if B had made its default final, and A is not under the control of the author of C?  Now C is irretrievably broken; it can't compile without overriding <code>foo()</code>, but it can't override <code>foo()</code> if it was final in <code>B</code>.  </p>\n\n<p>This is just one example, but the point is that final methods are really a tool that makes more sense in the world of single-inheritance classes (generally which couple state to behavior), than to interfaces which merely contribute behavior and can be multiply inherited.  It's too hard to reason about \"what other interfaces might be mixed into the eventual implementor\", and allowing an interface method to be final would likely cause these problems (and they would blow up not on the person who wrote the interface, but on the poor user who tries to implement it.)  </p>\n\n<p>Another reason to disallow them is that they wouldn't mean what you think they mean.  A default implementation is only considered if the class (or its superclasses) don't provide a declaration (concrete or abstract) of the method.  If a default method were final, but a superclass already implemented the method, the default would be ignored, which is probably not what the default author was expecting when declaring it final.  (This inheritance behavior is a reflection of the design center for default methods -- interface evolution.  It should be possible to add a default method (or a default implementation to an existing interface method) to existing interfaces that already have implementations, without changing the behavior of existing classes that implement the interface, guaranteeing that classes that already worked before default methods were added will work the same way in the presence of default methods.)</p>\n", "title": "Why is &quot;final&quot; not allowed in Java 8 interface methods?", "tags": ["java", "language-design", "java-8", "default-method", "jsr335"], "link": "http://stackoverflow.com/questions/23453287/why-is-final-not-allowed-in-java-8-interface-methods/23476994#23476994", "question_id": 23453287, "answer_id": 23476994}], "link": "http://stackoverflow.com/questions/23453287/why-is-final-not-allowed-in-java-8-interface-methods", "question_id": 23453287}, {"body": "<p>I'm starting a new project, and would like to give a try to MVC 5 (I have built a web app using MVC 4 before).</p>\n\n<p>In Visual Studio 2013, I click the New Project and navigate to Visual C# > Web > Visual Studio 2012 (even though I have installed VS 2013 it says 2012 in the menu) and on that list I only have MVC 4 application - not 5.</p>\n\n<p>The framework in the drop down menu is set to .NET Framework 4.5.1 - and still nothing.</p>\n\n<p>I've checked Tools > Extensions and Update and searched for MVC 5 - but it doesn't find anything official from Microsoft.</p>\n\n<p>How can I add MVC 5 to my Visual Studio 2013?</p>\n\n<p>Thank you</p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "answers": [{"body": "<p>Visual Studio 2013 no longer has separate project types for different ASP.Net features.</p>\n\n<p>You must select .NET Framework 4.5 (or higher) in order to see the ASP.NET Web Application template (For ASP.NET One).<br>\nSo just select Visual C# > Web > ASP.NET Web Application, then select the MVC checkbox in the next step.</p>\n\n<p><em>Note: Make sure not to select the C# > Web > <strong>Visual Studio 2012</strong> sub folder.</em> </p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/21096806#21096806", "question_id": 21096746, "answer_id": 21096806}, {"body": "<p>MVC 5 is already built into Visual Studios 2013.</p>\n\n<ol>\n<li><p>Open a new project, on the left make sure you are under Templates > Visual C# > <strong>Web</strong> not Templates > Visual C# > Web > Visual Studios 2012.</p></li>\n<li><p><strong>Important:</strong> Now look near the top of the new project dialog box and select .NET 4.5 or higher. Once under web and the proper framework is selected click <strong>ASP.NET Web Application</strong> in the middle pane. Click <strong>OK</strong> </p></li>\n<li><p>This will bring you to a page where you can select <strong>MVC</strong> as the project and start the wizard.  </p></li>\n</ol>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/23060181#23060181", "question_id": 21096746, "answer_id": 23060181}, {"body": "<p>Go <strong>File</strong> -> <strong>New Project</strong>.</p>\n\n<p>Select <strong>Web</strong> under <strong>Visual C#</strong>.</p>\n\n<p>Select <strong>ASP.NET Web Application</strong></p>\n\n<p>Click <strong>OK</strong>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/cJnZe.gif\" alt=\"New Project Dialog\"></p>\n\n<p>Select <strong>MVC</strong>.</p>\n\n<p>Click <strong>OK</strong>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/IsLeD.gif\" alt=\"ASP.Net Dialog\"></p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/28958817#28958817", "question_id": 21096746, "answer_id": 28958817}, {"body": "<p>Also, while installing Visual Studio 2013, ensure that you have checked \"Web Developer Tools\"</p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/31075519#31075519", "question_id": 21096746, "answer_id": 31075519}, {"body": "<p>With respect to other answers, it's not always there. Sometimes on setup process people forget to select the <code>Web Developer Tools</code>. </p>\n\n<p>In order to fix that, one should:</p>\n\n<ol>\n<li>Open <code>Programs and Features</code> find Visual Studios related version\nthere, click on it,</li>\n<li>Click to <code>Change</code>. \nThen the setup window will appear, </li>\n<li>Select <code>Web Developer Tools</code> there and continue to setup.</li>\n</ol>\n\n<p>It will download or use the setup media if exist. After the setup windows may restart, and you are ready to have fun with your <code>Web Developer Tools</code> now.</p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/33871057#33871057", "question_id": 21096746, "answer_id": 33871057}, {"body": "<p>Go File -> New Project. </p>\n\n<p>Select Web under Visual C#.</p>\n\n<p>Select ASP.NET Web Application</p>\n\n<p>select mvc </p>\n\n<p>when solution is created, you will find resources getting added in solution in status bar of vs 2013. </p>\n\n<p>Check property of Dll file --> system.web.mvc, it shows latest version (5.2.2.0)</p>\n\n<p>but depending on your OS runtime version will be decided.</p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/37775991#37775991", "question_id": 21096746, "answer_id": 37775991}, {"body": "<p>You can look into <strong>Windows installed folder</strong> from here of your pc path:</p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft ASP.NET\n</code></pre>\n\n<p><strong>View of Opened file where showing installed MVC 3, MVC 4</strong></p>\n\n<p><a href=\"http://i.stack.imgur.com/Pc92L.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/Pc92L.png\" alt=\"enter image description here\"></a></p>\n", "title": "How to add MVC5 to Visual Studio 2013?", "tags": ["asp.net-mvc", "visual-studio", "visual-studio-2013", "asp.net-mvc-5"], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013/38767542#38767542", "question_id": 21096746, "answer_id": 38767542}], "link": "http://stackoverflow.com/questions/21096746/how-to-add-mvc5-to-visual-studio-2013", "question_id": 21096746}, {"body": "<p>I update nginx to <strong>1.4.7</strong> and php to <strong>5.5.12</strong>, After that I got the <strong>502 error</strong>. Before I update everything works fine.</p>\n\n<p>nginx-error.log</p>\n\n<pre><code>2014/05/03 13:27:41 [crit] 4202#0: *1 connect() to unix:/var/run/php5-fpm.sock failed (13: Permission denied) while connecting to upstream, client: xx.xxx.xx.xx, server: localhost, request: \"GET / HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"xx.xx.xx.xx\"\n</code></pre>\n\n<p>nginx.conf</p>\n\n<pre><code>user  www www;\nworker_processes  1;\n\n        location / {\n            root   /usr/home/user/public_html;\n            index  index.php index.html index.htm;\n        }\n        location ~ [^/]\\.php(/|$) {\n            fastcgi_split_path_info ^(.+?\\.php)(/.*)$;\n            fastcgi_pass unix:/var/run/php5-fpm.sock;\n            fastcgi_index index.php;\n            fastcgi_param  SCRIPT_FILENAME    /usr/home/user/public_html$fastcgi_script_name;\n            include fastcgi_params;\n        }\n</code></pre>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "answers": [{"body": "<p>I had a similar error after php update. PHP fixed a <a href=\"https://bugs.php.net/bug.php?id=67060\">security bug</a> where <code>o</code> had <code>rw</code> permission to the socket file.</p>\n\n<ol>\n<li>Open <code>/etc/php5/fpm/pool.d/www.conf</code></li>\n<li><p>Uncomment all permission lines, like:</p>\n\n<pre><code>listen.owner = www-data\nlisten.group = www-data\nlisten.mode = 0660\n</code></pre></li>\n<li><p>Restart fpm - <code>sudo service php5-fpm restart</code></p></li>\n</ol>\n\n<p><strong>Note</strong>: if your webserver runs as user other than www-data, you will need to update the <code>www.conf</code> file accordingly</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/23487409#23487409", "question_id": 23443398, "answer_id": 23487409}, {"body": "<p>@Xander's solution works, but does not persist after a reboot. </p>\n\n<p>I found that I had to change <code>listen.mode</code> to <code>0660</code> in  <code>/etc/php5/fpm/pool.d/www.conf</code>. </p>\n\n<p>Sample from www.conf:</p>\n\n<pre><code>; Set permissions for unix socket, if one is used. In Linux, read/write\n; permissions must be set in order to allow connections from a web server. Many\n; BSD-derived systems allow connections regardless of permissions. \n; Default Values: user and group are set as the running user\n;                 mode is set to 0660\n;listen.owner = www-data\n;listen.group = www-data\n;listen.mode = 0660\n</code></pre>\n\n<p><strong>Edit:</strong> Per @Chris Burgess, I've changed this to the more secure method.</p>\n\n<p>I removed the comment for listen.mode, .group and .owner:</p>\n\n<pre><code>listen.owner = www-data\nlisten.group = www-data\nlisten.mode = 0660\n</code></pre>\n\n<p>/var/run Only holds information about the running system since last boot, e.g., currently logged-in users and running daemons. (<a href=\"http://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard#Directory_structure\">http://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard#Directory_structure</a>).</p>\n\n<p><strong>Side note:</strong></p>\n\n<p>My <code>php5-fpm -v</code> Reports: <code>PHP 5.4.28-1+deb.sury.org~precise+1</code>. The issue did happen after a recent update as well.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/23498061#23498061", "question_id": 23443398, "answer_id": 23498061}, {"body": "<p>All the fixes currently mentioned here basically enable the security hole all over again.</p>\n\n<p>What I ended up doing is adding the following lines to my PHP-FPM configuration file.</p>\n\n<pre><code>listen.owner = www-data\nlisten.group = www-data\n</code></pre>\n\n<p>Make sure that www-data is actually the user the nginx worker is running as. For debian it's www-data by default.</p>\n\n<p>Doing it this way does not enable the <a href=\"https://bugs.php.net/bug.php?id=67060\">security problem that this change was supposed to fix</a>.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/23596317#23596317", "question_id": 23443398, "answer_id": 23596317}, {"body": "<p>In fact, \"listen.mode\" should be: \"0660\" and not \"0666\" as Other Writable or Other Readable  is never a good choice here.</p>\n\n<p>So try to find out as which user/group your webserver runs. I use CentOs and it runs as user \"nginx\"\nSo add to your php-fpm.conf:</p>\n\n<pre><code>listen.owner = nginx\nlisten.group = nginx\nlisten.mode = 0660\n</code></pre>\n\n<p>finally restart php-fpm</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/24200119#24200119", "question_id": 23443398, "answer_id": 24200119}, {"body": "<p>Alternative to broadening permissions in your php config, you could change the user specified in your nginx config.</p>\n\n<p>On the first line of your nginx.conf excerpt above, the user and group are specified as www and www, respectively.</p>\n\n<pre><code>user  www www;\n</code></pre>\n\n<p>Meanwhile, your php config probably specifies a user and group of www-data:</p>\n\n<pre><code>listen.owner = www-data\nlisten.group = www-data\n</code></pre>\n\n<p>You might change the line in your nginx.conf, to any of the following, then:</p>\n\n<pre><code>user www-data www;\nuser www-data www-data; # or any group, really, since you have the user matching\nuser www www-data; # requires that your php listen.mode gives rw access to the group\n</code></pre>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/24438095#24438095", "question_id": 23443398, "answer_id": 24438095}, {"body": "<p>Consideration must also be given to your individual FPM pools, if any.</p>\n\n<p>I couldn't figure out why none of these answers was working for me today. This had been a set-and-forget scenario for me, where I had forgotten that listen.user and listen.group were duplicated on a per-pool basis.</p>\n\n<p>If you used pools for different user accounts like I did, where each user account owns their FPM processes and sockets, setting only the default listen.owner and listen.group configuration options to 'nginx' will simply not work. And obviously, letting 'nginx' own them all is not acceptable either.</p>\n\n<p>For <em>each pool</em>, make sure that</p>\n\n<pre><code>listen.group = nginx\n</code></pre>\n\n<p>Otherwise, you can leave the pool's ownership and such alone.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/25164501#25164501", "question_id": 23443398, "answer_id": 25164501}, {"body": "<p>I just got this error again today as I updated my machine (with updates for PHP) running <strong>Ubuntu 14.04</strong>. The distribution config file <code>/etc/php5/fpm/pool.d/www.conf</code> is fine and doesn't require any changes currently. </p>\n\n<p>I found the following errors:</p>\n\n<pre><code>dmesg | grep php\n[...]\n[ 4996.801789] traps: php5-fpm[23231] general protection ip:6c60d1 sp:7fff3f8c68f0 error:0 in php5-fpm[400000+800000]\n[ 6788.335355] traps: php5-fpm[9069] general protection ip:6c5d81 sp:7fff98dd9a00 error:0 in php5-fpm[400000+7ff000]\n</code></pre>\n\n<p>The strange thing was that I have 2 sites running that utilize PHP-FPM on this machine one was running fine and the other (a Tiny Tiny RSS installation) gave me a 502, where <em>both</em> have been running fine <em>before</em>.</p>\n\n<p>I compared both configuration files and found that <code>fastcgi_param SCRIPT_FILENAME  $document_root$fastcgi_script_name;</code> was missing for the affected site.</p>\n\n<p>Both configuration files now contain the following block and are running fine again:</p>\n\n<pre><code>location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php5-fpm.sock;\n        include /etc/nginx/snippets/fastcgi-php.conf;\n}\n</code></pre>\n\n<h1>Update</h1>\n\n<p>It should be noted that Ubuntu ships two fastcgi related parameter files and also a configuration snippet which is available since Vivid and also in the <a href=\"https://launchpad.net/~nginx/+archive/ubuntu/development\" rel=\"nofollow\">PPA</a> version. The solution was updated accordingly.</p>\n\n<p>Diff of the fastcgi parameter files:</p>\n\n<pre><code>$ diff -up fastcgi_params fastcgi.conf\n--- fastcgi_params      2015-07-22 01:42:39.000000000 +0200\n+++ fastcgi.conf        2015-07-22 01:42:39.000000000 +0200\n@@ -1,4 +1,5 @@\n\n+fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;\n fastcgi_param  QUERY_STRING       $query_string;\n fastcgi_param  REQUEST_METHOD     $request_method;\n fastcgi_param  CONTENT_TYPE       $content_type;\n</code></pre>\n\n<p>Configuration snippet in <code>/etc/nginx/snippets/fastcgi-php.conf</code></p>\n\n<pre><code># regex to split $uri to $fastcgi_script_name and $fastcgi_path\nfastcgi_split_path_info ^(.+\\.php)(/.+)$;\n\n# Check that the PHP script exists before passing it\ntry_files $fastcgi_script_name =404;\n\n# Bypass the fact that try_files resets $fastcgi_path_info\n# see: http://trac.nginx.org/nginx/ticket/321\nset $path_info $fastcgi_path_info;\nfastcgi_param PATH_INFO $path_info;\n\nfastcgi_index index.php;\ninclude fastcgi.conf;\n</code></pre>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/25769265#25769265", "question_id": 23443398, "answer_id": 25769265}, {"body": "<p>If you have tried everything in this post but are not having success getting PHP to work, this is what fixed it for my case:</p>\n\n<p>Make sure you have these lines uncommented in /etc/php5/fpm/pool.d/www.conf:</p>\n\n<pre><code>listen.owner = www-data\nlisten.group = www-data\nlisten.mode = 0660\n</code></pre>\n\n<p>Make sure /etc/nginx/fastcgi_params looks like this:</p>\n\n<pre><code>fastcgi_param  QUERY_STRING       $query_string;\nfastcgi_param  REQUEST_METHOD     $request_method;\nfastcgi_param  CONTENT_TYPE       $content_type;\nfastcgi_param  CONTENT_LENGTH     $content_length;\n\nfastcgi_param  SCRIPT_NAME        $fastcgi_script_name;\nfastcgi_param  REQUEST_URI        $request_uri;\nfastcgi_param  DOCUMENT_URI       $document_uri;\nfastcgi_param  DOCUMENT_ROOT      $document_root;\nfastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;\nfastcgi_param  SERVER_PROTOCOL    $server_protocol;\nfastcgi_param  PATH_INFO          $fastcgi_script_name;\nfastcgi_param  HTTPS              $https if_not_empty;\n\nfastcgi_param  GATEWAY_INTERFACE  CGI/1.1;\nfastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;\n\nfastcgi_param  REMOTE_ADDR        $remote_addr;\nfastcgi_param  REMOTE_PORT        $remote_port;\nfastcgi_param  SERVER_ADDR        $server_addr;\nfastcgi_param  SERVER_PORT        $server_port;\nfastcgi_param  SERVER_NAME        $server_name;\n\n# PHP only, required if PHP was built with --enable-force-cgi-redirect\nfastcgi_param  REDIRECT_STATUS    200;\n</code></pre>\n\n<p>These two lines were missing from my /etc/nginx/fastcgi_params, make sure they are there!</p>\n\n<pre><code>fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;\nfastcgi_param  PATH_INFO          $fastcgi_script_name;\n</code></pre>\n\n<p>Then, restart php5-fpm and nginx. Should do the trick.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/26129470#26129470", "question_id": 23443398, "answer_id": 26129470}, {"body": "<p>Check which user runs nginx. As of Ubuntu 12.04 nginx runs by nginx user which is not a member of www-data group.</p>\n\n<blockquote>\n  <p>usermod -a -G www-data nginx</p>\n</blockquote>\n\n<p>and restarting nginx and php5-fpm daemons solves the problem.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/27879922#27879922", "question_id": 23443398, "answer_id": 27879922}, {"body": "<p>Just to add, on CentOS (and probably Red Hat and Fedora) the file to change the permissions to is at:</p>\n\n<blockquote>\n  <p>/etc/php-fpm.d/www.conf</p>\n</blockquote>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/28353855#28353855", "question_id": 23443398, "answer_id": 28353855}, {"body": "<p>I did change OS on my server quite a few times trying to get the most comfortable system.</p>\n\n<p>It used to work very well most of the time but lastly I got this 502 Gateway error.</p>\n\n<p>I use a php fpm socket for each account instead of keeping the same one for all. So if one crashes, at least the other applications keep running.</p>\n\n<p>I used to have user and group www-data. But this changed on my Debian 8 with latest Nginx 1.8 and php5-fpm.</p>\n\n<p>The default user is nginx and so is the group. To be sure of this, the best way is to check the /etc/group and /etc/passwd files. These can't lie.</p>\n\n<p>It is there I found that now I have nginx in both and no longer www-data. </p>\n\n<p>Maybe this can help some people still trying to find out why the error message keeps coming up.</p>\n\n<p>It worked for me.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/34127191#34127191", "question_id": 23443398, "answer_id": 34127191}, {"body": "<p>The following simple fix worked for me, bypassing possible permissions issues with the socket.</p>\n\n<p>In your nginx config, set fastcgi_pass to:</p>\n\n<pre><code>fastcgi_pass   127.0.0.1:9000;\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>fastcgi_pass   /var/run/php5-fpm.sock;\n</code></pre>\n\n<p>This must match the listen = parameter in /etc/php5/fpm/pool.d/www.conf, so also set this to:</p>\n\n<pre><code>listen = 127.0.0.1:9000\n</code></pre>\n\n<p>Restart php5-fpm and nginx</p>\n\n<p>For more info, see: <a href=\"https://wildlyinaccurate.com/solving-502-bad-gateway-with-nginx-php-fpm/\" rel=\"nofollow\">https://wildlyinaccurate.com/solving-502-bad-gateway-with-nginx-php-fpm/</a></p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/38253332#38253332", "question_id": 23443398, "answer_id": 38253332}, {"body": "<p>After upgrading from Ubuntu 14.04 lts to Ubuntu 16.04 lts I found a yet another reason for this error that I haven't seen before.</p>\n\n<p>During the upgrading process I had somehow lost my php5-fpm executable altogether. All the config files were intact and it took me a while to realize that <code>service php5-fpm start</code> didn't really start a process, as it did not show any errors.</p>\n\n<p>My moment of awakening was when I noticed that there were no socket file in <code>/var/run/php5-fpm.sock</code>, as there should be, nor did <code>netstat -an</code> show processes listening on the port that I tried as an alternative while trying to solve this problem. Since the file /usr/sbin/php5-fpm was also non-existing, I was finally on the right track.</p>\n\n<p><strong>In order to solve this problem I upgraded php from version 5.5 to 7.0.</strong> <code>apt-get install php-fpm</code> did the trick as a side effect. After that and installing other necessary packages everything was back to normal.</p>\n\n<hr>\n\n<p><em>This upgrading solution may have problems of its own</em>, however. Since php has evolved quite a bit, it's possible that the software will break in unimaginable ways. So, even though I did go down that path, you may want to keep the version you're fond of just for a while longer.</p>\n\n<p>Luckily, <a href=\"https://thecustomizewindows.com/2016/05/paths-in-nginx-php-7-fpm-ubuntu-16-04-vs-14-04-php-5/\" rel=\"nofollow\">there seems to be a neat way for that</a>, as described on The Customize Windows site:</p>\n\n<pre><code>add-apt-repository ppa:ondrej/php\napt-get purge php5-common\napt-get update\napt-get install php5.6\n</code></pre>\n\n<p>Neater solution as it might be, I didn't try that. I expect the next couple of days will tell me whether I should have.</p>\n", "title": "nginx error connect to php5-fpm.sock failed (13: Permission denied)", "tags": ["unix", "nginx", "php"], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied/39499829#39499829", "question_id": 23443398, "answer_id": 39499829}], "link": "http://stackoverflow.com/questions/23443398/nginx-error-connect-to-php5-fpm-sock-failed-13-permission-denied", "question_id": 23443398}, {"body": "<p>In Objective-C instance data can be <code>public</code>, <code>protected</code> or <code>private</code>. For example:</p>\n\n<pre><code>@interface Foo : NSObject\n{\n  @public\n    int x;\n  @protected:\n    int y;\n  @private:\n    int z;\n  }\n-(int) apple;\n-(int) pear;\n-(int) banana;\n@end\n</code></pre>\n\n<p>I haven't found any mention of access modifiers in the Swift reference. Is it possible to limit the visibility of data in Swift?</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "answers": [{"body": "<p>No, it's not possible. There aren't any private/protected methods and variables at all.</p>\n\n<p>Everything is public.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24004224#24004224", "question_id": 24003918, "answer_id": 24004224}, {"body": "<p>The <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/zzSummaryOfTheGrammar.html\" rel=\"nofollow\">language grammar</a> does not have the keywords 'public', 'private' or 'protected'.  This would suggest everything is public.  Of course, there could be some alternative method of specifying access modifiers without those keywords but I couldn't find it in the language reference.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24011724#24011724", "question_id": 24003918, "answer_id": 24011724}, {"body": "<p>As far as I can tell, there are no keywords 'public', 'private' or 'protected'. This would suggest everything is public.</p>\n\n<p>However Apple may be expecting people to use \u201c<a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/Protocols.html#//apple_ref/doc/uid/TP40014097-CH25-XID_345\">protocols</a>\u201d (called interfaces by the rest of the world) and the <a href=\"http://en.wikipedia.org/wiki/Factory_%28object-oriented_programming%29\">factory design pattern</a> to hide details of the implementation type.   </p>\n\n<p>This is often a good design pattern to use anyway; as it lets you change your <strong>implementation</strong> class hierarchy,  while keeping the <strong>logical</strong> type system the same.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24012364#24012364", "question_id": 24003918, "answer_id": 24012364}, {"body": "<p>Edit: <strong>Access control mechanisms <a href=\"https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html\">have been introduced in Xcode 6 beta 4 (6A267n)</a>:</strong></p>\n\n<blockquote>\n  <p>Swift access control has three access levels:</p>\n  \n  <ul>\n  <li><strong><code>private</code></strong> entities can only be accessed from within the source file where they are defined.</li>\n  <li><strong><code>internal</code></strong> entities can be accessed anywhere within the target where they are defined.</li>\n  <li><strong><code>public</code></strong> entities can be accessed from anywhere within the target and from any other context that imports the current target\u2019s module.</li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>I have been browsing Apple Developer Forums and found <a href=\"https://devforums.apple.com/thread/227288\">this thread</a>, where <a href=\"https://twitter.com/gparker\">@gparker</a> (an Apple engineer) says that:</p>\n\n<blockquote>\n  <p>Swift currently has no access control mechanisms.</p>\n</blockquote>\n\n<p>However, after a couple of complaints, he states:</p>\n\n<blockquote>\n  <p>We don't usually promise anything for the future, but in this case we are making an exception. <strong>Swift will have access control mechanisms.</strong></p>\n</blockquote>\n\n<p>That's certainly good news. :)</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24012515#24012515", "question_id": 24003918, "answer_id": 24012515}, {"body": "<p>Using a combination of protocols, closures, and nested/inner classes, it's possible to use something along the lines of the module pattern to hide information in Swift right now. It's not super clean or nice to read but it does work.</p>\n\n<p>Example:</p>\n\n<pre><code>protocol HuhThing {\n  var huh: Int { get set }\n}\n\nfunc HuhMaker() -&gt; HuhThing {\n   class InnerHuh: HuhThing {\n    var innerVal: Int = 0\n    var huh: Int {\n      get {\n        return mysteriousMath(innerVal)\n      }\n\n      set {\n       innerVal = newValue / 2\n      }\n    }\n\n    func mysteriousMath(number: Int) -&gt; Int {\n      return number * 3 + 2\n    }\n  }\n\n  return InnerHuh()\n}\n\nHuhMaker()\nvar h = HuhMaker()\n\nh.huh      // 2\nh.huh = 32 \nh.huh      // 50\nh.huh = 39\nh.huh      // 59\n</code></pre>\n\n<p>innerVal and mysteriousMath are hidden here from outside use and attempting to dig your way into the object should result in an error.</p>\n\n<p>I'm only part of the way through my reading of the Swift docs so if there's a flaw here please point it out, would love to know.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24046155#24046155", "question_id": 24003918, "answer_id": 24046155}, {"body": "<p>One of the options you could use is to wrap the instance creation into a function and supply the appropriate getters and setters in a constructor:</p>\n\n<pre><code>class Counter {\n    let inc: () -&gt; Int\n    let dec: () -&gt; Int\n\n    init(start: Int) {\n        var n = start\n\n        inc = { ++n }\n        dec = { --n }\n    }\n}\n\n\nlet c = Counter(start: 10)\n\nc.inc()  // 11\nc.inc()  // 12\nc.dec()  // 11\n</code></pre>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24162931#24162931", "question_id": 24003918, "answer_id": 24162931}, {"body": "<p>When one talks about making a \"private method\" in Swift or ObjC (or ruby or java or\u2026) those methods aren't <em>really</em> private. There's no actual access control around them. Any language that offers even a little introspection lets developers get to those values from outside the class if they really want to.</p>\n\n<p>So what we're really talking about here is a way to define a public-facing interface that merely <em>presents</em> the functionality we want it to, and \"hides\" the rest that we consider \"private\".</p>\n\n<p>The Swift mechanism for declaring interfaces is the <code>protocol</code>, and it can be used for this purpose.</p>\n\n<pre><code>protocol MyClass {\n  var publicProperty:Int {get set}\n  func publicMethod(foo:String)-&gt;String\n}\n\nclass MyClassImplementation : MyClass {\n  var publicProperty:Int = 5\n  var privateProperty:Int = 8\n\n  func publicMethod(foo:String)-&gt;String{\n    return privateMethod(foo)\n  }\n\n  func privateMethod(foo:String)-&gt;String{\n    return \"Hello \\(foo)\"\n  }\n}\n</code></pre>\n\n<p>Remember, protocols are first-class types and can be used anyplace a type can. <em>And</em>, when used this way, they only expose their own interfaces, not those of the implementing type.</p>\n\n<p>Thus, as long as you use <code>MyClass</code> instead of <code>MyClassImplementation</code> in your parameter types, etc. it should all just work:</p>\n\n<pre><code>func breakingAndEntering(foo:MyClass)-&gt;String{\n  return foo.privateMethod()\n  //ERROR: 'MyClass' does not have a member named 'privateMethod'\n}\n</code></pre>\n\n<p>There are some cases of direct assignment where you have to be explicit with type instead of relying on Swift to infer it, but that hardly seems a deal breaker:</p>\n\n<pre><code>var myClass:MyClass = MyClassImplementation()\n</code></pre>\n\n<p>Using protocols this way is semantic, reasonably concise, and to my eyes looks a lot like the Class Extentions we've been using for this purpose in ObjC.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24205782#24205782", "question_id": 24003918, "answer_id": 24205782}, {"body": "<p>As of Xcode 6 beta 4, Swift has access modifiers. From the release notes:</p>\n\n<blockquote>\n  <p>Swift access control has three access levels:</p>\n  \n  <ul>\n  <li><strong>private</strong> entities can only be accessed from within the source file where they are defined.</li>\n  <li><strong>internal</strong> entities can be accessed anywhere within the target where they are defined.</li>\n  <li><strong>public</strong> entities can be accessed from anywhere within the target and from any other context that imports the current target\u2019s module.</li>\n  </ul>\n</blockquote>\n\n<p>The implicit default is <code>internal</code>, so within an application target you can leave access modifiers off except where you want to be more restrictive. In a framework target (e.g. if you're embedding a framework to share code between an app and an sharing or Today view extension), use <code>public</code> to designate API you want to expose to clients of your framework.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24870888#24870888", "question_id": 24003918, "answer_id": 24870888}, {"body": "<p>Now in beta 4, they've added access modifiers to Swift.</p>\n\n<p>from <a href=\"http://adcdownload.apple.com//Developer_Tools/xcode_6_beta_4_o2p8fz/xcode_6_beta_4_release_notes.pdf\" rel=\"nofollow\">Xcode 6 beta 4 realese notes</a>:</p>\n\n<blockquote>\n  <p>Swift access control has three access levels:</p>\n  \n  <ul>\n  <li><code>private</code>\u00a0entities can only be accessed from within the source \ufb01le where they are de\ufb01ned.</li>\n  <li><code>internal</code>\u00a0entities can be accessed anywhere within the target where they are de\ufb01ned.</li>\n  <li><code>public</code>\u00a0entities can be accessed from anywhere within the target and from any other context \n  that imports the current target\u2019s module.</li>\n  </ul>\n  \n  <p>By default, most entities in a source \ufb01le have internal access. This allows application developers \n  to largely ignore access control while allowing framework developers full control over a \n  framework's API.</p>\n</blockquote>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/24872208#24872208", "question_id": 24003918, "answer_id": 24872208}, {"body": "<p>Hopefully to save some time for those who want something akin to protected methods:</p>\n\n<p>As per other answers, swift now provides the 'private' modifier - which is defined file-wise rather than class-wise such as those in Java or C# for instance.  This means that if you want protected methods, you can do it with swift private methods <em>if they are in the same file</em></p>\n\n<ol>\n<li>Create a base class to hold 'protected' methods (actually private)</li>\n<li>Subclass this class to use the same methods</li>\n<li>In other files you cannot access the base class methods, even when you subclass either</li>\n</ol>\n\n<p>e.g. File 1:</p>\n\n<pre><code>class BaseClass {\n    private func protectedMethod() {\n\n    }\n}\n\nclass SubClass : BaseClass {\n    func publicMethod() {\n        self.protectedMethod()  //this is ok as they are in same file\n    }\n}\n</code></pre>\n\n<p>File 2:</p>\n\n<pre><code>func test() {\n    var a = BaseClass()\n    a.protectedMethod() //ERROR\n\n\n    var b = SubClass()\n    b.protectedMethod() //ERROR\n}\n\nclass SubClass2 : BaseClass {\n    func publicMethod() {\n        self.protectedMethod() //ERROR\n    }\n</code></pre>\n\n<p>}</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/25545752#25545752", "question_id": 24003918, "answer_id": 25545752}, {"body": "<p>In Beta 6, the documentation states that there are three different access modifiers:</p>\n\n<ul>\n<li>Public</li>\n<li>Internal</li>\n<li>Private</li>\n</ul>\n\n<p>And these three apply to Classes, Protocols, functions and properties.</p>\n\n<pre><code>public var somePublicVariable = 0\ninternal let someInternalConstant = 0\nprivate func somePrivateFunction() {}\n</code></pre>\n\n<p>For more, check <em><a href=\"https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html\" rel=\"nofollow\">Access Control</a></em>.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/25642466#25642466", "question_id": 24003918, "answer_id": 25642466}, {"body": "<h1>Access control mechanisms as <a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID5\" rel=\"nofollow\">introduced in Xcode 6</a>:</h1>\n\n<blockquote>\n  <p>Swift provides three different access levels for entities within your code. These access levels are relative to the source file in which an entity is defined, and also relative to the module that source file belongs to.</p>\n  \n  <ul>\n  <li><em>Public access</em> enables entities to be used within any source file from their defining module, and also in a source file from another module that imports the defining module. You typically use public access when specifying the public interface to a framework.</li>\n  <li><em>Internal access</em> enables entities to be used within any source file from their defining module, but not in any source file outside of that module. You typically use internal access when defining an app\u2019s or a framework\u2019s internal structure.</li>\n  <li><em>Private access</em> restricts the use of an entity to its own defining source file. Use private access to hide the implementation details of a specific piece of functionality.</li>\n  </ul>\n  \n  <p>Public access is the highest (least restrictive) access level and private access is the lowest (or most restrictive) access level.</p>\n</blockquote>\n\n<p>Default accecss it <em>internal</em>, and does as such not need to be specified. Also note that the <em>private</em> specifier does <strong>not</strong> work on the class level, but on the source file level. This means that to get parts of a class really private you need to separate into a file of its own. This also introduces some interesting cases with regards to unit testing...</p>\n\n<p>Another point to me made, which is commented upon in the link above, is that you can't 'upgrade' the access level. If you subclass something, you can restrict it more, but not the other way around. </p>\n\n<p>This last bit also affects functions, tuples and surely other stuff in the way that if i.e. a function uses a <em>private</em> class, then it's not valid to have the function <em>internal</em> or <em>public</em>, as they might not have access to the <em>private</em> class. This results in a compiler warning, and you need to redeclare the function as a <em>private</em> function.</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/28932875#28932875", "question_id": 24003918, "answer_id": 28932875}, {"body": "<p><a href=\"https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID3\" rel=\"nofollow\">https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID3</a></p>\n\n<p>STARTING SWIFT 2.2 ;) </p>\n\n<ul>\n<li>Public  </li>\n<li>Internal</li>\n<li>Private </li>\n</ul>\n\n<p>By default Internal</p>\n", "title": "Does Swift have access modifiers?", "tags": ["access-modifiers", "swift"], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers/37111201#37111201", "question_id": 24003918, "answer_id": 37111201}], "link": "http://stackoverflow.com/questions/24003918/does-swift-have-access-modifiers", "question_id": 24003918}], "quota_max": 300, "page_size": 100, "quota_remaining": 289, "page": 1}